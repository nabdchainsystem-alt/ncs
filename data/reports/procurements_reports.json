[
    {
        "id": "basic-req-total",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Total Requisitions (Count)",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Immediate visibility into demand volume.",
        "kpi_definition": "Total count of purchase requisitions raised in the period.",
        "formula": "COUNT(Requisitions)",
        "data_needed": "REQUISITIONS table",
        "detailed_explanation": "The absolute number of requests entering the system.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "REQUISITIONS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "basic-req-status",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Requisitions by Status",
        "Chart Type (ECharts)": "Donut Chart",
        "benefit": "Identify bottlenecks in approval flow.",
        "kpi_definition": "Breakdown of requisitions by current status (Pending",
        "formula": " Approved",
        "data_needed": " Rejected",
        "detailed_explanation": "REQUISITIONS table",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "Rejected"
                ]
            },
            "requirements": [
                {
                    "key": "group_col",
                    "types": [
                        "text"
                    ],
                    "keywords": [
                        "status",
                        "type"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "group_by",
                    "group_column_ref": "group_col",
                    "aggregation": "count"
                }
            ]
        }
    },
    {
        "id": "basic-req-pending-aging",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Pending Requests Aging",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Target old requests for immediate action.",
        "kpi_definition": "Count of pending requests grouped by days open (0-3, 3-7, 7+).",
        "formula": "DATEDIFF(Today, CreatedDate) grouped by buckets",
        "data_needed": "REQUISITIONS table",
        "detailed_explanation": "Stacked bar showing how many requests are rotting in the queue.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "REQUISITIONS"
                ]
            },
            "requirements": [
                {
                    "key": "date_col",
                    "types": [
                        "date"
                    ],
                    "keywords": [
                        "date",
                        "created",
                        "due"
                    ]
                },
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "total",
                        "value"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "calculate_column",
                    "name": "Aging Bucket",
                    "operation": "date_diff_buckets",
                    "params": {
                        "date_column_ref": "date_col",
                        "buckets": [
                            {
                                "label": "Current",
                                "max_days": 0
                            },
                            {
                                "label": "1-30 Days",
                                "min_days": 1,
                                "max_days": 30
                            },
                            {
                                "label": "31-60 Days",
                                "min_days": 31,
                                "max_days": 60
                            },
                            {
                                "label": ">60 Days",
                                "min_days": 61
                            }
                        ]
                    }
                },
                {
                    "step": "group_by",
                    "group_column": "Aging Bucket",
                    "value_column_ref": "amount_col",
                    "aggregation": "sum"
                }
            ]
        }
    },
    {
        "id": "basic-po-total",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Total Purchase Orders Issued",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Measure workload and purchasing volume.",
        "kpi_definition": "Total count of POs finalized in the period.",
        "formula": "COUNT(PurchaseOrders)",
        "data_needed": "PURCHASE_ORDERS table",
        "detailed_explanation": "Headline metric for purchasing activity.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PURCHASE_ORDERS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "basic-po-open-vs-closed",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Open vs Closed POs",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Track completion rate of purchasing cycle.",
        "kpi_definition": "Ratio of Open orders vs Closed orders.",
        "formula": "COUNT(ID) Group By Status (Open/Closed)",
        "data_needed": "PURCHASE_ORDERS table",
        "detailed_explanation": "Simple snapshot of current workload.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PURCHASE_ORDERS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "basic-po-value",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Total PO Value (Committed Spend)",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Financial control and budget tracking.",
        "kpi_definition": "Sum of Total Amount for all issued POs.",
        "formula": "SUM(PO_Total_Amount)",
        "data_needed": "PURCHASE_ORDERS table",
        "detailed_explanation": "Total money committed.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PURCHASE_ORDERS"
                ]
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "basic-vendor-count",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Total Vendor Count",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Database size monitoring.",
        "kpi_definition": "Total number of vendor records in system.",
        "formula": "COUNT(Vendors)",
        "data_needed": "VENDORS table",
        "detailed_explanation": "Size of supply base.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VENDORS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "basic-vendor-status",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Active vs Inactive Vendors",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Cleanse master data.",
        "kpi_definition": "Breakdown of vendors by status.",
        "formula": "COUNT(ID) Group By Status",
        "data_needed": "VENDORS table",
        "detailed_explanation": "Active vs dead weight.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VENDORS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "te-spend-dept",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Travel Spend by Department",
        "Chart Type (ECharts)": "Treemap",
        "benefit": "Control overhead costs.",
        "kpi_definition": "Total T&E expenses grouped by internal department.",
        "formula": "SUM(Expense_Amount) Group By Department",
        "data_needed": "EXPENSES table",
        "detailed_explanation": "Departmental spend view.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "EXPENSES"
                ]
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "esg-carbon",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Scope 3 Carbon Emissions",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Sustainability compliance.",
        "kpi_definition": "Estimated carbon footprint from purchased goods.",
        "formula": "SUM(Spend * Emission_Factor)",
        "data_needed": "PO_LINES, EMISSION_FACTORS",
        "detailed_explanation": "Environmental impact.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PO_LINES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "EMISSION_FACTORS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "nps-internal",
        "Category 1 (Detailed)": "Internal Improvement",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Internal Customer Satisfaction (NPS)",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Measure procurement service quality.",
        "kpi_definition": "Net Promoter Score from stakeholders.",
        "formula": "(% Promoters - % Detractors)",
        "data_needed": "SURVEY_RESULTS",
        "detailed_explanation": "Are stakeholders happy?",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SURVEY_RESULTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "(% Promoters - % Detractors)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "average-payment-period-dpo",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Average Payment Period / Days Payable Outstanding (DPO)",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Improve cash flow management and negotiate better payment terms.",
        "kpi_definition": "Average number of days between invoice date and payment date for supplier payables.",
        "formula": "DPO = (Average Accounts Payable / COGS) * Days or AVG(DATEDIFF(day, Invoice_Date, Payment_Date))",
        "data_needed": "Tables: AP_INVOICES (Supplier_ID, Invoice_Date, Payment_Date, Amount), SUPPLIERS; optional COGS from GL.",
        "detailed_explanation": "Track by supplier and category. Use a calendar table for continuous periods. Consider excluding disputed invoices; show p50/p90 alongside average.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES (Supplier_ID"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "Invoice_Date"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "Payment_Date"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Amount)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SUPPLIERS; optional COGS from GL"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "DPO = (Average Accounts Payable / COGS) * Days or AVG(DATEDIFF(day, Invoice_Date, Payment_Date))",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "days-receivable-outstanding-dso",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Days Receivable Outstanding (DSO)",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Improve liquidity forecasting by monitoring collection speed.",
        "kpi_definition": "Average number of days between AR invoice date and customer receipt date.",
        "formula": "DSO = (Average Accounts Receivable / Revenue) * Days or AVG(DATEDIFF(day, AR_Invoice_Date, Receipt_Date))",
        "data_needed": "Tables: AR_INVOICES (Invoice_ID, Invoice_Date, Receipt_Date, Amount), CUSTOMERS.",
        "detailed_explanation": "Though AR is outside procurement, include to complete cash-to-cash. Segment by customer group and payment terms; exclude credit memos if needed.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AR_INVOICES (Invoice_ID"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "Invoice_Date"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Receipt_Date"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Amount)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "CUSTOMERS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "DSO = (Average Accounts Receivable / Revenue) * Days or AVG(DATEDIFF(day, AR_Invoice_Date, Receipt_Date))",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "cash-to-cash-cycle-time-ccc",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Cash-to-Cash Cycle Time (CCC)",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Assess working capital efficiency across procure-to-pay and order-to-cash.",
        "kpi_definition": "The time between paying for inventory and receiving cash from sales.",
        "formula": "CCC = Inventory_Days + DSO \u201a\u00e0\u00ed DPO",
        "data_needed": "Tables: Inventory_Snapshot (Avg_Inventory, COGS), AR_INVOICES, AP_INVOICES, DATE_DIM.",
        "detailed_explanation": "Lower CCC indicates better cash efficiency. Provide sensitivity by adjusting terms and inventory policies; show component trends (ID, DSO, DPO).",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/warehouse",
                    "table_keywords": [
                        "Inventory_Snapshot (Avg_Inventory"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "COGS)"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AR_INVOICES"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "DATE_DIM"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "CCC = Inventory_Days + DSO \u201a\u00e0\u00ed DPO",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "payment-delinquency-rate",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Payment Delinquency Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Reveal cash coordination gaps between procurement",
        "kpi_definition": " AP",
        "formula": " and treasury.",
        "data_needed": "Share of invoices paid after due date within period.",
        "detailed_explanation": "Monthly",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "Share of invoices paid after due date within period"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " and treasury.",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "late-fee-interest-cost",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Interest / Late Fee Cost",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Quantify loss from payment delays and prioritize remediation.",
        "kpi_definition": "Total interest and penalty fees charged for late supplier payments.",
        "formula": "SUM(Late_Fees + Interest_Charges) in period",
        "data_needed": "Tables: AP_CHARGES (Charge_Type, Amount, Supplier_ID, Date), AP_INVOICES.",
        "detailed_explanation": "Drill by supplier and category; benchmark before/after process improvements; show % of AP spend impacted.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_CHARGES (Charge_Type"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Amount"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Supplier_ID"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Date)"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "invoice-accuracy-match-rate",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Invoice vs PO Variance / Match Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Reduce manual intervention in AP and prevent overpayment.",
        "kpi_definition": "Percentage of invoices matching PO price/quantity within tolerance.",
        "formula": "MATCH_RATE = COUNT(Matched_Invoices) / COUNT(Total_Invoices)",
        "data_needed": "Tables: AP_INVOICES, PURCHASE_ORDERS (Price, Qty), RECEIPTS.",
        "detailed_explanation": "High match rates enable touchless processing. Track variances by supplier to identify chronic billing errors.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PURCHASE_ORDERS (Price"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Qty)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RECEIPTS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "early-payment-discount-capture",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Early Payment Discount Capture Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Directly increase bottom-line savings through efficient AP processing.",
        "kpi_definition": "Percentage of available early payment discounts that were actually taken.",
        "formula": "CAPTURE_RATE = SUM(Discounts_Taken) / SUM(Discounts_Available)",
        "data_needed": "Tables: AP_INVOICES (Terms, Payment_Date, Amount), DISCOUNTS_OFFERED.",
        "detailed_explanation": "Missed discounts are often due to slow approval workflows. Correlate with \"Invoice Approval Cycle Time\".",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES (Terms"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "Payment_Date"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Amount)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "DISCOUNTS_OFFERED"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "ap-aging-buckets",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Accounts Payable Aging Buckets",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Forecast short-term cash outflows and manage supplier relationships.",
        "kpi_definition": "Distribution of unpaid invoice amounts by days overdue or days until due.",
        "formula": "SUM(Amount) grouped by buckets: Current, 1-30, 31-60, 61-90, >90",
        "data_needed": "Tables: AP_AGING_SNAPSHOT or AP_INVOICES (Due_Date, Amount, Status='Open').",
        "detailed_explanation": "Use stacked bar chart by supplier category. Critical for cash flow planning.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_AGING_SNAPSHOT or AP_INVOICES (Due_Date"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Amount"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Status='Open')"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "date_col",
                    "types": [
                        "date"
                    ],
                    "keywords": [
                        "date",
                        "created",
                        "due"
                    ]
                },
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "total",
                        "value"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "calculate_column",
                    "name": "Aging Bucket",
                    "operation": "date_diff_buckets",
                    "params": {
                        "date_column_ref": "date_col",
                        "buckets": [
                            {
                                "label": "Current",
                                "max_days": 0
                            },
                            {
                                "label": "1-30 Days",
                                "min_days": 1,
                                "max_days": 30
                            },
                            {
                                "label": "31-60 Days",
                                "min_days": 31,
                                "max_days": 60
                            },
                            {
                                "label": ">60 Days",
                                "min_days": 61
                            }
                        ]
                    }
                },
                {
                    "step": "group_by",
                    "group_column": "Aging Bucket",
                    "value_column_ref": "amount_col",
                    "aggregation": "sum"
                }
            ]
        }
    },
    {
        "id": "duplicate-payment-ratio",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Duplicate Payment Ratio",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Detect fraud or system errors; recover lost cash.",
        "kpi_definition": "Percentage or value of payments identified as duplicates.",
        "formula": "DUP_RATIO = COUNT(Duplicate_Payments) / COUNT(Total_Payments)",
        "data_needed": "Tables: AP_PAYMENTS (Vendor, Amount, Invoice_Ref, Date).",
        "detailed_explanation": "Implementation of controls is better than detection. Often caused by master data duplication (same vendor twice).",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_PAYMENTS (Vendor"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Amount"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "Invoice_Ref"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Date)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "working-capital-turnover",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Working Capital Turnover",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Measure how effectively capital is used to generate revenue.",
        "kpi_definition": "Relationship between net sales and working capital used.",
        "formula": "WC_TURNOVER = Net_Sales / Average_Working_Capital",
        "data_needed": "Tables: GL_INCOME_STATEMENT (Sales), GL_BALANCE_SHEET (Current_Assets, Current_Liabilities).",
        "detailed_explanation": "Higher ratio implies efficient usage. Procurement impacts this via Inventory and AP terms.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "GL_INCOME_STATEMENT (Sales)"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "GL_BALANCE_SHEET (Current_Assets"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Current_Liabilities)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "WC_TURNOVER = Net_Sales / Average_Working_Capital",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "ap-automation-rate",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "AP Automation / Touchless Processing Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Reduce AP processing costs and error rates.",
        "kpi_definition": "Percentage of invoices processed without manual intervention.",
        "formula": "TOUCHLESS_RATE = COUNT(Auto_Processed_Invoices) / COUNT(Total_Invoices)",
        "data_needed": "Tables: AP_PROCESS_LOG (Invoice_ID, Touch_Count, Method).",
        "detailed_explanation": "Investigate manual touch points (coding",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_PROCESS_LOG (Invoice_ID"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Touch_Count"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Method)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "supplier-payment-term-compliance",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Supplier Payment Term Compliance",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Ensure negotiated terms are actually applied in the ERP.",
        "kpi_definition": "Percentage of POs/Invoices where system terms match contract terms.",
        "formula": "COMPLIANCE = COUNT(Matching_Terms) / COUNT(Total_Invoices)",
        "data_needed": "Tables: CONTRACTS (Terms), VENDOR_MASTER (Terms), AP_INVOICES (Applied_Terms).",
        "detailed_explanation": "Discrepancies lead to early payments (cash drag) or late payments (relationship damage).",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "CONTRACTS (Terms)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "VENDOR_MASTER (Terms)"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES (Applied_Terms)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "invoice-processing-cost",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Cost per Invoice Processed",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Benchmark AP efficiency and justify automation investments.",
        "kpi_definition": "Total AP department cost divided by number of invoices processed.",
        "formula": "COST_PER_INV = (AP_Salaries + System_Costs + Overhead) / Total_Invoices",
        "data_needed": "Tables: GL_EXPENSES (Cost_Center_AP), AP_INVOICES (Count).",
        "detailed_explanation": "Compare vs industry benchmarks. High cost suggests need for EDI/OCR or process simplification.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "GL_EXPENSES (Cost_Center_AP)"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES (Count)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "COST_PER_INV = (AP_Salaries + System_Costs + Overhead) / Total_Invoices",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "unmatched-invoices-aging",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Unmatched Invoices Aging",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Clear bottlenecks preventing payment and accruals.",
        "kpi_definition": "Count/Value of invoices on hold due to matching errors",
        "formula": " by age.",
        "data_needed": "SUM(Amount) of blocked invoices grouped by days since receipt.",
        "detailed_explanation": "Accounts Payable",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "SUM(Amount) of blocked invoices grouped by days since receipt"
                ]
            },
            "requirements": [
                {
                    "key": "date_col",
                    "types": [
                        "date"
                    ],
                    "keywords": [
                        "date",
                        "created",
                        "due"
                    ]
                },
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "total",
                        "value"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "calculate_column",
                    "name": "Aging Bucket",
                    "operation": "date_diff_buckets",
                    "params": {
                        "date_column_ref": "date_col",
                        "buckets": [
                            {
                                "label": "Current",
                                "max_days": 0
                            },
                            {
                                "label": "1-30 Days",
                                "min_days": 1,
                                "max_days": 30
                            },
                            {
                                "label": "31-60 Days",
                                "min_days": 31,
                                "max_days": 60
                            },
                            {
                                "label": ">60 Days",
                                "min_days": 61
                            }
                        ]
                    }
                },
                {
                    "step": "group_by",
                    "group_column": "Aging Bucket",
                    "value_column_ref": "amount_col",
                    "aggregation": "sum"
                }
            ]
        }
    },
    {
        "id": "payment-method-mix",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Payment Method Mix (Check vs ACH vs Card)",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Shift to cheaper/safer payment methods (e.g.",
        "kpi_definition": " Virtual Card rebates).",
        "formula": "Distribution of spend or transaction count by payment type.",
        "data_needed": "COUNT(Payments) by Method (Check",
        "detailed_explanation": " Card",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "COUNT(Payments) by Method (Check"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Distribution of spend or transaction count by payment type.",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "late-payment-penalty-cost-per-po",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Late Payment Penalty Cost per PO / Supplier",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Pinpoint specific suppliers or buyers causing late fees.",
        "kpi_definition": "Average or total penalty cost attributed to specific POs or Suppliers.",
        "formula": "SUM(Penalty_Amount) Group By Supplier or Buyer",
        "data_needed": "Tables: AP_CHARGES, PURCHASE_ORDERS.",
        "detailed_explanation": "Use pareto chart to find the \"\"vital few\"\" suppliers causing most penalties.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_CHARGES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PURCHASE_ORDERS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "days-sales-of-inventory-dsi",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Days Sales of Inventory (DSI)",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Optimize stock levels to free up cash.",
        "kpi_definition": "Average days it takes to sell the inventory on hand.",
        "formula": "DSI = (Average_Inventory / COGS) * 365",
        "data_needed": "Tables: INVENTORY_VALUATION, GL_COGS.",
        "detailed_explanation": "High DSI indicates overstock/obsolescence risk; Low DSI risks stockouts. Balance with Service Level.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/warehouse",
                    "table_keywords": [
                        "INVENTORY_VALUATION"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "GL_COGS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "DSI = (Average_Inventory / COGS) * 365",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "budget-vs-actual-requests",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Budget vs Actual Requests",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Prevent overspending before it is committed.",
        "kpi_definition": "Comparison of requested spend vs available budget for period/category.",
        "formula": "VARIANCE = Budget_Limit - SUM(Requested_Amount)",
        "data_needed": "Tables: BUDGETS (Department, Category, Amount), REQUISITIONS.",
        "detailed_explanation": "Implement \"\"Pre-encumbrance\"\" tracking. Visualize as bullet chart or gauge per department.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "BUDGETS (Department"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Category"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Amount)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "REQUISITIONS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "spend-under-management-sum",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend Under Management (SUM)",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Increase procurement's influence and savings potential.",
        "kpi_definition": "Percentage of total external spend controlled by procurement policies/contracts.",
        "formula": "SUM% = Spend_via_Procurement / Total_External_Spend",
        "data_needed": "Tables: AP_SPEND_ANALYSIS (Vendor, Amount, Channel), GL_EXPENSES.",
        "detailed_explanation": "Goal is >80%. Unmanaged spend (maverick) usually leaves 10-20% savings on the table.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_SPEND_ANALYSIS (Vendor"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Amount"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Channel)"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "GL_EXPENSES"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "total-spend-by-category",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Total Spend by Category",
        "Chart Type (ECharts)": "Treemap",
        "benefit": "Identify high-impact categories for sourcing strategies.",
        "kpi_definition": "Total expenditure grouped by purchasing category (L1/L2/L3).",
        "formula": "SUM(Invoice_Amount) Group By Category",
        "data_needed": "Tables: AP_INVOICES, COMMODITY_CODES (UNSPSC or Custom).",
        "detailed_explanation": "Use Treemap or Sunburst. Essential for \"\"Pareto Analysis\"\" (top 20% categories = 80% spend).",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "COMMODITY_CODES (UNSPSC or Custom)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "total-spend-by-supplier",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Total Spend by Supplier",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Negotiate volume discounts and consolidate tail spend.",
        "kpi_definition": "Total expenditure grouped by supplier parent/group.",
        "formula": "SUM(Invoice_Amount) Group By Supplier_Parent",
        "data_needed": "Tables: AP_INVOICES, VENDOR_HIERARCHY.",
        "detailed_explanation": "Identify top strategic partners. Watch for \"\"Tail Spend\"\" (too many small suppliers).",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "VENDOR_HIERARCHY"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "spend-by-business-unit-dept",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend by Business Unit / Department",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Allocate costs accurately and manage internal demand.",
        "kpi_definition": "Total spend attributed to each internal cost center.",
        "formula": "SUM(Amount) Group By Cost_Center",
        "data_needed": "Tables: AP_INVOICES, ORG_STRUCTURE.",
        "detailed_explanation": "Enables internal benchmarking (e.g.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "ORG_STRUCTURE"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "maverick-spend-ratio",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Maverick Spend / Non-Contract Spend",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Reduce leakage and enforce compliance.",
        "kpi_definition": "Percentage of spend with non-preferred suppliers or outside contracts.",
        "formula": "MAVERICK% = Non_Contract_Spend / Total_Spend",
        "data_needed": "Tables: AP_INVOICES, CONTRACT_COVERAGE_MAP.",
        "detailed_explanation": "High maverick spend erodes negotiated savings. Drill down to offender departments.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "CONTRACT_COVERAGE_MAP"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "MAVERICK% = Non_Contract_Spend / Total_Spend",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "cost-avoidance",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Cost Avoidance",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Capture value of procurement beyond price reduction (e.g.",
        "kpi_definition": " delaying increases).",
        "formula": "Estimated difference between new price and potential market price/inflation.",
        "data_needed": "AVOIDANCE = (Market_Price - Contract_Price) * Qty",
        "detailed_explanation": "CPO / Finance",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "AVOIDANCE = (Market_Price - Contract_Price) * Qty"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Estimated difference between new price and potential market price/inflation.",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "cost-savings-hard",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Cost Savings (Hard Savings)",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Direct bottom-line impact measurement.",
        "kpi_definition": "Actual price reduction realized vs baseline (last price or budget).",
        "formula": "SAVINGS = (Baseline_Price - New_Price) * Qty",
        "data_needed": "Tables: PO_HISTORY (Unit_Price_Old, Unit_Price_New), CONTRACTS.",
        "detailed_explanation": "Must be validated by Finance to count towards EBITDA. Split by \"Year-over-Year\" vs \"Negotiated\".",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PO_HISTORY (Unit_Price_Old"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Unit_Price_New)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "CONTRACTS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "SAVINGS = (Baseline_Price - New_Price) * Qty",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-roi",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Procurement ROI",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Justify existence and budget of procurement function.",
        "kpi_definition": "Ratio of total savings generated to cost of procurement organization.",
        "formula": "ROI = Total_Savings / Procurement_OpEx",
        "data_needed": "Tables: SAVINGS_TRACKER, GL_EXPENSES (Procurement_Dept).",
        "detailed_explanation": "World-class is often > 5x or 10x. Includes both Hard Savings and Cost Avoidance (sometimes).",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SAVINGS_TRACKER"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "GL_EXPENSES (Procurement_Dept)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "ROI = Total_Savings / Procurement_OpEx",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "savings-run-rate",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Annualized Savings Run-Rate",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Forecast future value delivery.",
        "kpi_definition": "Projected full-year savings based on current executed contracts.",
        "formula": "RUN_RATE = Monthly_Savings * 12 (or remaining months)",
        "data_needed": "Tables: SAVINGS_TRACKER, CONTRACT_START_DATES.",
        "detailed_explanation": "Helps track progress against annual savings targets.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SAVINGS_TRACKER"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "CONTRACT_START_DATES"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RUN_RATE = Monthly_Savings * 12 (or remaining months)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "spend-fragmentation",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend Fragmentation (Tail Spend)",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Identify consolidation opportunities.",
        "kpi_definition": "Count of suppliers making up the bottom 20% of spend.",
        "formula": "COUNT(Suppliers) accounting for bottom X% spend",
        "data_needed": "Tables: AP_INVOICES, SUPPLIERS.",
        "detailed_explanation": "High fragmentation = high admin cost. Strategy: Consolidate to preferred vendors or marketplaces.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SUPPLIERS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "price-variance-ppv",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Price Variance (Purchase Price Variance - PPV)",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Detect cost creep and inflation impact.",
        "kpi_definition": "Difference between standard/planned cost and actual paid cost.",
        "formula": "PPV = (Standard_Cost - Actual_Unit_Cost) * Qty",
        "data_needed": "Tables: PO_LINES (Price), ITEM_MASTER (Std_Cost), RECEIPTS.",
        "detailed_explanation": "Negative PPV is bad (paid more). Critical for manufacturing/direct materials.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PO_LINES (Price)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "ITEM_MASTER (Std_Cost)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RECEIPTS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "PPV = (Standard_Cost - Actual_Unit_Cost) * Qty",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "spend-velocity",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend Velocity / Burn Rate",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Monitor budget consumption speed.",
        "kpi_definition": "Rate at which budget is being consumed over time.",
        "formula": "VELOCITY = Cumulative_Spend / Time_Elapsed",
        "data_needed": "Tables: BUDGETS, AP_INVOICES.",
        "detailed_explanation": "Alert if burn rate projects budget overrun before year-end.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "BUDGETS"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "VELOCITY = Cumulative_Spend / Time_Elapsed",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "average-po-value",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Average PO Value",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Optimize transaction efficiency (reduce small POs).",
        "kpi_definition": "Total spend divided by number of POs.",
        "formula": "AVG_PO = Total_Spend / Count_POs",
        "data_needed": "Tables: PURCHASE_ORDERS.",
        "detailed_explanation": "Low average value suggests need for P-Cards or Catalogs to reduce process cost.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PURCHASE_ORDERS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG_PO = Total_Spend / Count_POs",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "spend-in-high-risk-countries",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Spend in High-Risk Countries / Geographies",
        "Chart Type (ECharts)": "Map Chart",
        "benefit": "Mitigate geopolitical and supply continuity risks.",
        "kpi_definition": "Total spend allocated to suppliers in high-risk regions.",
        "formula": "SUM(Spend) Group By Supplier_Country",
        "data_needed": "Tables: AP_INVOICES, VENDOR_ADDRESS, RISK_MAP.",
        "detailed_explanation": "Map visualization is best. Define risk by political stability, natural disaster, etc.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "VENDOR_ADDRESS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RISK_MAP"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "contract-utilization",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Utilization Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Ensure negotiated contracts are actually used.",
        "kpi_definition": "Percentage of spend against a contract vs total potential spend.",
        "formula": "UTILIZATION = Spend_on_Contract / (Spend_on_Contract + Leakage)",
        "data_needed": "Tables: CONTRACT_SPEND, OFF_CONTRACT_SPEND.",
        "detailed_explanation": "Low utilization implies poor communication of contracts or poor vendor compliance.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "CONTRACT_SPEND"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "OFF_CONTRACT_SPEND"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "UTILIZATION = Spend_on_Contract / (Spend_on_Contract + Leakage)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "spend-per-employee",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend per Employee (Indirect)",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Benchmark consumption patterns.",
        "kpi_definition": "Total indirect spend divided by headcount.",
        "formula": "RATIO = Indirect_Spend / FTE_Count",
        "data_needed": "Tables: AP_INVOICES (Indirect), HR_HEADCOUNT.",
        "detailed_explanation": "Useful for benchmarking categories like Office Supplies, IT, Travel.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES (Indirect)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "HR_HEADCOUNT"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RATIO = Indirect_Spend / FTE_Count",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "savings-pipeline-coverage",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Savings Pipeline Coverage",
        "Chart Type (ECharts)": "Funnel Chart",
        "benefit": "Ensure future savings targets will be met.",
        "kpi_definition": "Ratio of identified potential savings opportunities to savings target.",
        "formula": "COVERAGE = Potential_Savings_Pipeline / Savings_Target",
        "data_needed": "Tables: OPPORTUNITY_TRACKER (Stage, Est_Value), TARGETS.",
        "detailed_explanation": "Rule of thumb: Need 2x or 3x pipeline to hit 1x target.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "OPPORTUNITY_TRACKER (Stage"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Est_Value)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "TARGETS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "COVERAGE = Potential_Savings_Pipeline / Savings_Target",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "tail-spend-percentage",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Tail Spend Percentage",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Focus resources on strategic vs transactional spend.",
        "kpi_definition": "Percentage of spend falling into the \"\"tail\"\" (low value",
        "formula": " high volume).",
        "data_needed": "TAIL% = Sum(Bottom_80%_Suppliers_Spend) / Total_Spend",
        "detailed_explanation": "Procurement Strategy",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "TAIL% = Sum(Bottom_80%_Suppliers_Spend) / Total_Spend"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " high volume).",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "contract-pricing-compliance",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Pricing Compliance",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Recover overpayments.",
        "kpi_definition": "Percentage of line items where PO price matches Contract price.",
        "formula": "COMPLIANCE = Count(Matches) / Count(Contract_Purchases)",
        "data_needed": "Tables: PO_LINES, CONTRACT_ITEMS (Price_List).",
        "detailed_explanation": "Discrepancies indicate system data errors or vendor billing errors.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PO_LINES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "CONTRACT_ITEMS (Price_List)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "COMPLIANCE = Count(Matches) / Count(Contract_Purchases)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "spend-visibility",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend Visibility",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Improve decision making data quality.",
        "kpi_definition": "Percentage of total spend that is categorized and analyzed.",
        "formula": "VISIBILITY = Classified_Spend / Total_AP_Spend",
        "data_needed": "Tables: SPEND_CUBE, AP_GL_DUMP.",
        "detailed_explanation": "Unclassified spend (General Ledger bucket \"Misc\") hides risks and opportunities.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SPEND_CUBE"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_GL_DUMP"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "VISIBILITY = Classified_Spend / Total_AP_Spend",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "category-budget-utilization",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Category Budget Utilization",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Track category-level performance against limits.",
        "kpi_definition": "Percent of category budget consumed to date.",
        "formula": "UTILIZATION = Actual_Spend_Category / Budget_Category",
        "data_needed": "Tables: BUDGETS, AP_INVOICES.",
        "detailed_explanation": "Heatmap or bar chart showing which categories are over/under budget.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "BUDGETS"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "UTILIZATION = Actual_Spend_Category / Budget_Category",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "cost-reduction-ratio",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Cost Reduction Ratio",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Measure impact on unit costs.",
        "kpi_definition": "Percentage decrease in unit cost for key items.",
        "formula": "RATIO = (Old_Price - New_Price) / Old_Price",
        "data_needed": "Tables: ITEM_PRICE_HISTORY.",
        "detailed_explanation": "Focus on top 50 SKUs. Aggregated view of deflationary efforts.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "ITEM_PRICE_HISTORY"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RATIO = (Old_Price - New_Price) / Old_Price",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-otd",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier On-Time Delivery (OTD)",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Avoid production stoppages and maintain service levels.",
        "kpi_definition": "Percentage of orders delivered on or before the promised date.",
        "formula": "OTD = Count(On_Time_Items) / Count(Total_Items_Received)",
        "data_needed": "Tables: RECEIPTS (Date), PURCHASE_ORDERS (Promised_Date).",
        "detailed_explanation": "Critical KPI. Drill down by supplier. Define \"On Time\" window (e.g., +/- 1 day).",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RECEIPTS (Date)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PURCHASE_ORDERS (Promised_Date)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "OTD = Count(On_Time_Items) / Count(Total_Items_Received)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-defect-rate",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Defect Rate / Quality Yield",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Reduce rework and scrap costs.",
        "kpi_definition": "Percentage of items rejected due to quality issues.",
        "formula": "DEFECT_RATE = Rejected_Qty / Total_Received_Qty",
        "data_needed": "Tables: QUALITY_LOGS (Pass/Fail), RECEIPTS.",
        "detailed_explanation": "Track PPM (Parts Per Million) for high volume. Correlate with Supplier Scorecard.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "QUALITY_LOGS (Pass/Fail)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RECEIPTS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "DEFECT_RATE = Rejected_Qty / Total_Received_Qty",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "perfect-order-rate",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Perfect Order Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Composite metric for overall supply chain reliability.",
        "kpi_definition": "% of orders that are On-Time",
        "formula": " In-Full",
        "data_needed": " Damage-Free",
        "detailed_explanation": "Tables: RECEIPTS, QUALITY, AP_INVOICES (Doc_Errors).",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "Damage-Free"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " In-Full",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-lead-time-variance",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Lead Time Variance",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Improve inventory planning and safety stock calculation.",
        "kpi_definition": "Difference between quoted lead time and actual lead time.",
        "formula": "VARIANCE = Actual_Lead_Time - Quoted_Lead_Time",
        "data_needed": "Tables: RECEIPTS (Date), PO (Created_Date), ITEM_MASTER (Lead_Time).",
        "detailed_explanation": "High variance forces higher safety stock. Identify reliable vs erratic suppliers.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RECEIPTS (Date)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PO (Created_Date)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "ITEM_MASTER (Lead_Time)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "VARIANCE = Actual_Lead_Time - Quoted_Lead_Time",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "return-to-vendor-rtv",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Return to Vendor (RTV) Rate",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Measure severity of quality failures.",
        "kpi_definition": "Percentage or value of goods returned to supplier.",
        "formula": "RTV% = Value_Returned / Value_Received",
        "data_needed": "Tables: RTV_LOGS, RECEIPTS.",
        "detailed_explanation": "High RTV indicates serious quality control failures at supplier site.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RTV_LOGS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RECEIPTS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RTV% = Value_Returned / Value_Received",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-incident-rate",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Incident Rate",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Track operational disruptions caused by suppliers.",
        "kpi_definition": "Number of corrective action requests (SCARs) or incidents per supplier.",
        "formula": "COUNT(Incidents) Group By Supplier",
        "data_needed": "Tables: INCIDENT_LOG, SCAR_SYSTEM.",
        "detailed_explanation": "Incidents include packaging errors, documentation missing, labeling issues.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "INCIDENT_LOG"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "SCAR_SYSTEM"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "supplier-audit-compliance",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Audit Compliance",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Ensure suppliers meet regulatory and internal standards.",
        "kpi_definition": "Percentage of suppliers passing annual audits.",
        "formula": "PASS_RATE = Count(Passed_Audits) / Count(Scheduled_Audits)",
        "data_needed": "Tables: AUDIT_RECORDS (Date, Result, Supplier).",
        "detailed_explanation": "Critical for pharma",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "AUDIT_RECORDS (Date"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Result"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Supplier)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "PASS_RATE = Count(Passed_Audits) / Count(Scheduled_Audits)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "item-fill-rate",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Item Fill Rate (Line Fill Rate)",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Measure order completeness.",
        "kpi_definition": "Percentage of ordered line items received in full on first shipment.",
        "formula": "FILL_RATE = Lines_Received_Full / Total_Lines_Ordered",
        "data_needed": "Tables: RECEIPTS, PO_LINES.",
        "detailed_explanation": "Distinguish between \"Line Fill\" and \"Order Fill\".",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RECEIPTS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PO_LINES"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "FILL_RATE = Lines_Received_Full / Total_Lines_Ordered",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-availability",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Availability / Uptime",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "For service/IT contracts: monitor service consistency.",
        "kpi_definition": "Percentage of time supplier service was available/functional.",
        "formula": "UPTIME = (Total_Hours - Downtime_Hours) / Total_Hours",
        "data_needed": "Tables: SERVICE_LOGS, SLA_MONITORING.",
        "detailed_explanation": "Crucial for SaaS, Logistics, and Maintenance contracts.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SERVICE_LOGS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SLA_MONITORING"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "UPTIME = (Total_Hours - Downtime_Hours) / Total_Hours",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-innovation-contribution",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Innovation Contribution",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Track value beyond cost savings from partners.",
        "kpi_definition": "Number of innovation ideas submitted or implemented by suppliers.",
        "formula": "COUNT(Ideas) or Value(Revenue_from_Ideas)",
        "data_needed": "Tables: INNOVATION_PORTAL, SRM_MEETINGS.",
        "detailed_explanation": "Shift from transactional to strategic relationship. Hard to measure but valuable.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "INNOVATION_PORTAL"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SRM_MEETINGS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "supplier-responsiveness",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Responsiveness / Response Time",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Measure ease of doing business.",
        "kpi_definition": "Average time taken by supplier to acknowledge PO or answer query.",
        "formula": "AVG(Response_Date - Request_Date)",
        "data_needed": "Tables: EMAIL_LOGS or PORTAL_TIMESTAMPS.",
        "detailed_explanation": "Slow response is a leading indicator of future delivery issues.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "EMAIL_LOGS or PORTAL_TIMESTAMPS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Response_Date - Request_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "under-delivery-rate",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Under-Delivery Rate",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Identify quantity compliance issues.",
        "kpi_definition": "Percentage of shipments received with less quantity than ordered.",
        "formula": "RATE = Count(Short_Shipments) / Total_Shipments",
        "data_needed": "Tables: RECEIPTS, PO_LINES.",
        "detailed_explanation": "Causes production shortages. Check if backordered or cancelled.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RECEIPTS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PO_LINES"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RATE = Count(Short_Shipments) / Total_Shipments",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "over-delivery-rate",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Over-Delivery Rate",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Identify quantity compliance issues.",
        "kpi_definition": "Percentage of shipments received with more quantity than ordered.",
        "formula": "RATE = Count(Over_Shipments) / Total_Shipments",
        "data_needed": "Tables: RECEIPTS, PO_LINES.",
        "detailed_explanation": "Causes inventory bloat and payment disputes.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RECEIPTS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PO_LINES"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RATE = Count(Over_Shipments) / Total_Shipments",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "invoice-error-rate-supplier",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Invoice Error Rate",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Measure administrative quality of supplier.",
        "kpi_definition": "Percentage of invoices rejected due to supplier error (price",
        "formula": " tax",
        "data_needed": " info).",
        "detailed_explanation": "Monthly",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "info)"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " tax",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-scorecard-distribution",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Scorecard Distribution",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Macro view of supply base performance.",
        "kpi_definition": "Number of suppliers in each performance tier (Gold",
        "formula": " Silver",
        "data_needed": " Bronze",
        "detailed_explanation": "Tables: SCORECARD_RESULTS.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "Bronze"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " Silver",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "sub-tier-supplier-visibility",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Sub-tier Supplier Visibility",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Risk management for deep supply chain.",
        "kpi_definition": "Percentage of Tier 1 suppliers where Tier 2/3 are mapped.",
        "formula": "VISIBILITY% = Mapped_Suppliers / Critical_Suppliers",
        "data_needed": "Tables: SUPPLY_CHAIN_MAP.",
        "detailed_explanation": "Identify choke points (e.g., all suppliers use same raw material source).",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SUPPLY_CHAIN_MAP"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "VISIBILITY% = Mapped_Suppliers / Critical_Suppliers",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-concentration-risk",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Concentration Risk (Revenue Dependence)",
        "Chart Type (ECharts)": "Scatter Plot",
        "benefit": "Avoid suppliers who are too dependent on us (financial risk).",
        "kpi_definition": "Percentage of supplier's total revenue that comes from our spend.",
        "formula": "DEPENDENCE = Our_Spend / Supplier_Total_Revenue",
        "data_needed": "Tables: VENDOR_FINANCIALS, AP_SPEND.",
        "detailed_explanation": "If we are >30% of their revenue, they are high risk if we leave. If >50%, we own them.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "VENDOR_FINANCIALS"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_SPEND"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "DEPENDENCE = Our_Spend / Supplier_Total_Revenue",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-capacity-utilization",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Capacity Utilization",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Predict supply shortages.",
        "kpi_definition": "Estimated utilization of supplier's factory capacity.",
        "formula": "UTILIZATION = Demand / Supplier_Total_Capacity",
        "data_needed": "Tables: CAPACITY_SURVEYS, FORECAST.",
        "detailed_explanation": "If >90%, risk of delay increases. If <50%, financial risk for supplier.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "CAPACITY_SURVEYS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "FORECAST"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "UTILIZATION = Demand / Supplier_Total_Capacity",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "contract-coverage-spend",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Coverage (Spend)",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Core compliance metric.",
        "kpi_definition": "Percentage of addressable spend covered by active contracts.",
        "formula": "COVERAGE = Contracted_Spend / Addressable_Spend",
        "data_needed": "Tables: SPEND_ANALYSIS, CONTRACTS.",
        "detailed_explanation": "Goal is typically >80%. Uncovered spend is market-price exposed.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SPEND_ANALYSIS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "CONTRACTS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "COVERAGE = Contracted_Spend / Addressable_Spend",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "po-cycle-time",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "PO Cycle Time / Lead Time",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Speed of execution measurement.",
        "kpi_definition": "Time from PO Creation to Supplier Receipt (or Confirmation).",
        "formula": "AVG(PO_Sent_Date - PO_Created_Date)",
        "data_needed": "Tables: PO_HISTORY_LOG.",
        "detailed_explanation": "Internal processing speed. Automation reduces this drastically.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PO_HISTORY_LOG"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(PO_Sent_Date - PO_Created_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "requisition-to-po-time",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Requisition to PO Cycle Time",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Measure internal approval and sourcing speed.",
        "kpi_definition": "Average days from PR approval to PO issuance.",
        "formula": "AVG(PO_Date - PR_Approved_Date)",
        "data_needed": "Tables: REQUISITIONS, PURCHASE_ORDERS.",
        "detailed_explanation": "Long cycle times frustrate stakeholders. Break down by Buyer.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "REQUISITIONS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PURCHASE_ORDERS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(PO_Date - PR_Approved_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "po-approval-time",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "PO Approval Cycle Time",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Identify bottlenecks in management approvals.",
        "kpi_definition": "Average time taken to approve a PO after submission.",
        "formula": "AVG(Approval_Date - Submission_Date)",
        "data_needed": "Tables: APPROVAL_LOGS.",
        "detailed_explanation": "Identify slow approvers. Segment by PO value thresholds.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "APPROVAL_LOGS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Approval_Date - Submission_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "pr-approval-time",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "PR Approval Cycle Time",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Identify bottlenecks in budget/management approvals.",
        "kpi_definition": "Average time taken to approve a Requisition.",
        "formula": "AVG(PR_Approval_Date - PR_Creation_Date)",
        "data_needed": "Tables: APPROVAL_LOGS, REQUISITIONS.",
        "detailed_explanation": "Often the biggest source of delay. Correlate with \"Count of Approvers\".",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "APPROVAL_LOGS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "REQUISITIONS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(PR_Approval_Date - PR_Creation_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "po-change-order-rate",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "PO Change Order Rate",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Measure process stability and requirement clarity.",
        "kpi_definition": "Percentage of POs requiring modification after issuance.",
        "formula": "CHANGE_RATE = Count(Amended_POs) / Total_POs",
        "data_needed": "Tables: PO_VERSION_HISTORY.",
        "detailed_explanation": "High change rate = poor definition of requirements or volatile demand.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PO_VERSION_HISTORY"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "CHANGE_RATE = Count(Amended_POs) / Total_POs",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "emergency-order-rate",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Emergency / Rush Order Rate",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Measure planning efficiency vs reactivity.",
        "kpi_definition": "Percentage of orders flagged as \"\"Rush\"\" or \"\"Emergency\"\".",
        "formula": "RUSH_RATE = Count(Rush_POs) / Total_POs",
        "data_needed": "Tables: PURCHASE_ORDERS (Priority_Flag).",
        "detailed_explanation": "Rush orders cost more (shipping + premium). High rate = poor planning.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PURCHASE_ORDERS (Priority_Flag)"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RUSH_RATE = Count(Rush_POs) / Total_POs",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "orders-per-buyer",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Orders / POs per Buyer / Employee",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Workload balancing.",
        "kpi_definition": "Average number of POs processed per buyer.",
        "formula": "COUNT(POs) Group By Buyer_ID",
        "data_needed": "Tables: PURCHASE_ORDERS, BUYER_LIST.",
        "detailed_explanation": "Balance workload. Too high = errors; Too low = inefficiency.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PURCHASE_ORDERS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "BUYER_LIST"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "cost-per-po",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Administrative Cost per PO",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Efficiency benchmark.",
        "kpi_definition": "Total purchasing dept cost divided by number of POs.",
        "formula": "COST = Dept_OpEx / Total_POs",
        "data_needed": "Tables: GL_EXPENSES, PO_COUNTS.",
        "detailed_explanation": "Industry benchmark varies ($50 - $500). High cost justifies automation.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "GL_EXPENSES"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PO_COUNTS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "COST = Dept_OpEx / Total_POs",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "electronic-po-rate",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Electronic PO Rate / Digital Adoption",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Measure digitization maturity.",
        "kpi_definition": "Percentage of POs sent via EDI/Portal/Email vs Fax/Paper.",
        "formula": "E_RATE = Count(Digital_POs) / Total_POs",
        "data_needed": "Tables: PO_TRANSMISSION_LOG.",
        "detailed_explanation": "Goal is 100%. Paper POs are slow and error-prone.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PO_TRANSMISSION_LOG"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "E_RATE = Count(Digital_POs) / Total_POs",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "catalog-compliance-rate",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Catalog Compliance / Usage Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Drive users to pre-negotiated items.",
        "kpi_definition": "Percentage of line items ordered from hosted catalogs vs free-text.",
        "formula": "CATALOG% = Catalog_Lines / Total_Lines",
        "data_needed": "Tables: PO_LINES (Source_Type).",
        "detailed_explanation": "Catalog orders are touchless. Free-text requires manual buyer intervention.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PO_LINES (Source_Type)"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "CATALOG% = Catalog_Lines / Total_Lines",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "contract-renewal-rate",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Renewal Rate",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Measure supplier retention and satisfaction.",
        "kpi_definition": "Percentage of contracts renewed vs expired/terminated.",
        "formula": "RENEWAL% = Renewed_Contracts / (Renewed + Terminated)",
        "data_needed": "Tables: CONTRACT_HISTORY.",
        "detailed_explanation": "Low renewal might mean churning suppliers (good or bad?).",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "CONTRACT_HISTORY"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RENEWAL% = Renewed_Contracts / (Renewed + Terminated)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "po-cancellation-rate",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "PO Cancellation Rate",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Measure waste and rework.",
        "kpi_definition": "Percentage of POs cancelled before receipt.",
        "formula": "CANCEL_RATE = Count(Cancelled_POs) / Total_POs",
        "data_needed": "Tables: PURCHASE_ORDERS (Status).",
        "detailed_explanation": "Indicates changing business needs or errors in ordering.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PURCHASE_ORDERS (Status)"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "CANCEL_RATE = Count(Cancelled_POs) / Total_POs",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "first-pass-match-rate",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "First Pass Match Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "AP Efficiency metric.",
        "kpi_definition": "Percentage of invoices matched successfully on the first attempt.",
        "formula": "RATE = Count(First_Pass_OK) / Total_Invoices",
        "data_needed": "Tables: AP_MATCHING_LOG.",
        "detailed_explanation": "Key driver for touchless AP. dependent on PO and Data quality.",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "AP_MATCHING_LOG"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RATE = Count(First_Pass_OK) / Total_Invoices",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "sourcing-cycle-time",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Sourcing Cycle Time",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Measure RFx process speed.",
        "kpi_definition": "Days from project start (RFx launch) to contract signature.",
        "formula": "AVG(Contract_Sign_Date - Project_Start_Date)",
        "data_needed": "Tables: SOURCING_PROJECTS.",
        "detailed_explanation": "Long cycles delay savings realization.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SOURCING_PROJECTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Contract_Sign_Date - Project_Start_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "receipt-to-invoice-time",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Receipt to Invoice Time",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Measure supplier billing speed.",
        "kpi_definition": "Average days from Goods Receipt to Invoice Receipt.",
        "formula": "AVG(Invoice_Date - GR_Date)",
        "data_needed": "Tables: RECEIPTS, AP_INVOICES.",
        "detailed_explanation": "Lagging invoices complicate accruals and budget tracking.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "RECEIPTS"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_INVOICES"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Invoice_Date - GR_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "invoice-approval-time",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Invoice Approval Cycle Time",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Measure AP internal speed.",
        "kpi_definition": "Average days from Invoice Receipt to Approval for Payment.",
        "formula": "AVG(Approval_Date - Receipt_Date)",
        "data_needed": "Tables: AP_WORKFLOW_LOG.",
        "detailed_explanation": "Delays here cause late payments and missed discounts.",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "AP_WORKFLOW_LOG"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Approval_Date - Receipt_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "spend-forecast-accuracy",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend Forecast Accuracy",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Improve financial predictability.",
        "kpi_definition": "Variance between forecasted spend and actual spend.",
        "formula": "ACCURACY = 1 - (|Actual - Forecast| / Actual)",
        "data_needed": "Tables: FORECASTS, AP_SPEND.",
        "detailed_explanation": "Critical for cash flow management.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "FORECASTS"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "AP_SPEND"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "ACCURACY = 1 - (|Actual - Forecast| / Actual)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "demand-forecast-accuracy",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Demand Forecast Accuracy (MAPE)",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Optimize inventory and purchasing plans.",
        "kpi_definition": "Mean Absolute Percentage Error of item demand.",
        "formula": "MAPE = AVG(|Actual_Qty - Forecast_Qty| / Actual_Qty)",
        "data_needed": "Tables: DEMAND_PLAN, SALES_HISTORY.",
        "detailed_explanation": "High error leads to stockouts or overstock. Segment by ABC.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "DEMAND_PLAN"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SALES_HISTORY"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "MAPE = AVG(|Actual_Qty - Forecast_Qty| / Actual_Qty)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "inventory-turnover",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Inventory Turnover Ratio",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Efficiency of inventory management.",
        "kpi_definition": "How many times inventory is sold/used in a period.",
        "formula": "TURNS = COGS / Average_Inventory_Value",
        "data_needed": "Tables: GL_COGS, INVENTORY_SNAPSHOT.",
        "detailed_explanation": "Higher is generally better. Low turns = trapped cash.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "GL_COGS"
                    ]
                },
                {
                    "department": "supply-chain/warehouse",
                    "table_keywords": [
                        "INVENTORY_SNAPSHOT"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "TURNS = COGS / Average_Inventory_Value",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "stockout-rate",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Stockout Rate",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Service level failure measurement.",
        "kpi_definition": "Percentage of requests/orders unable to be filled from stock.",
        "formula": "STOCKOUT% = Stockout_Events / Total_Requests",
        "data_needed": "Tables: INVENTORY_TRANSACTIONS, ORDERS.",
        "detailed_explanation": "Critical for MRO and Direct materials.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/warehouse",
                    "table_keywords": [
                        "INVENTORY_TRANSACTIONS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "ORDERS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "STOCKOUT% = Stockout_Events / Total_Requests",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "slow-moving-inventory",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Slow-Moving Inventory Ratio",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Identify obsolescence risk.",
        "kpi_definition": "Percentage of inventory with no movement in X days.",
        "formula": "RATIO = Value_No_Move_180d / Total_Inventory_Value",
        "data_needed": "Tables: INVENTORY_AGING.",
        "detailed_explanation": "Action: Scrap, discount, or return to vendor.",
        "logic": {
            "source": {
                "department": "supply-chain/warehouse",
                "table_keywords": [
                    "INVENTORY_AGING"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RATIO = Value_No_Move_180d / Total_Inventory_Value",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "safety-stock-adherence",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Safety Stock Adherence",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Risk management for inventory.",
        "kpi_definition": "Percentage of SKUs where current level >= Safety Stock level.",
        "formula": "ADHERENCE = Count(SKUs_Above_SS) / Total_SKUs",
        "data_needed": "Tables: INVENTORY_LEVELS, ITEM_MASTER (SS_Limit).",
        "detailed_explanation": "Falling below SS increases risk of stockout.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/warehouse",
                    "table_keywords": [
                        "INVENTORY_LEVELS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "ITEM_MASTER (SS_Limit)"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "ADHERENCE = Count(SKUs_Above_SS) / Total_SKUs",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "obsolete-inventory-provision",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Obsolete Inventory Provision",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Financial impact of bad inventory.",
        "kpi_definition": "Value of inventory written off or provisioned as obsolete.",
        "formula": "SUM(Value) where Age > Threshold",
        "data_needed": "Tables: INVENTORY_VALUATION.",
        "detailed_explanation": "Direct hit to P&L. Root cause: poor forecasting or engineering changes.",
        "logic": {
            "source": {
                "department": "supply-chain/warehouse",
                "table_keywords": [
                    "INVENTORY_VALUATION"
                ]
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "procurement-maturity-score",
        "Category 1 (Detailed)": "Internal Improvement & Innovation",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Maturity Index / Scorecard",
        "Chart Type (ECharts)": "Radar Chart",
        "benefit": "Strategic development tracking.",
        "kpi_definition": "Composite score of assessment across people",
        "formula": " process",
        "data_needed": " tech.",
        "detailed_explanation": "Annually",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "tech"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " process",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "employee-training-hours",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Training Hours per FTE",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Team development.",
        "kpi_definition": "Average training hours completed by procurement staff.",
        "formula": "AVG(Hours) Group By Employee",
        "data_needed": "Tables: HR_LMS.",
        "detailed_explanation": "Correlate with \"\"Certification Count\"\".",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "HR_LMS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Hours) Group By Employee",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "savings-per-fte",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Savings per FTE",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Productivity metric.",
        "kpi_definition": "Total savings generated divided by number of procurement staff.",
        "formula": "SAVINGS / FTE_Count",
        "data_needed": "Tables: SAVINGS_TRACKER, HR_HEADCOUNT.",
        "detailed_explanation": "High savings/FTE indicates a highly effective team.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SAVINGS_TRACKER"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "HR_HEADCOUNT"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "SAVINGS / FTE_Count",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-operating-expense-ratio",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Procurement Operating Expense Ratio",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Cost efficiency of the function.",
        "kpi_definition": "Procurement Dept Cost as % of Total Company Revenue (or Spend).",
        "formula": "RATIO = Procurement_Cost / Company_Revenue",
        "data_needed": "Tables: GL_EXPENSES, GL_REVENUE.",
        "detailed_explanation": "Benchmark against industry peers (e.g.",
        "logic": {
            "sources": [
                {
                    "department": "finance",
                    "table_keywords": [
                        "GL_EXPENSES"
                    ]
                },
                {
                    "department": "finance",
                    "table_keywords": [
                        "GL_REVENUE"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RATIO = Procurement_Cost / Company_Revenue",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "rfq-to-order-conversion",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "RFQ to Order Conversion Rate",
        "Chart Type (ECharts)": "Funnel Chart",
        "benefit": "Sourcing effectiveness.",
        "kpi_definition": "Percentage of RFQs that result in an awarded contract/PO.",
        "formula": "CONVERSION = Awarded_RFQs / Total_RFQs",
        "data_needed": "Tables: SOURCING_EVENTS.",
        "detailed_explanation": "Low conversion means wasted effort on RFQs that go nowhere.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SOURCING_EVENTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "CONVERSION = Awarded_RFQs / Total_RFQs",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "contract-cycle-time",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Cycle Time (Creation to Sign)",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Legal/Sourcing speed.",
        "kpi_definition": "Average days to negotiate and sign a contract.",
        "formula": "AVG(Sign_Date - Draft_Date)",
        "data_needed": "Tables: CLM_SYSTEM (Timestamps).",
        "detailed_explanation": "Bottleneck analysis (Legal vs Vendor vs Procurement).",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "CLM_SYSTEM (Timestamps)"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Sign_Date - Draft_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-onboarding-time",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Onboarding Cycle Time",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Speed to market.",
        "kpi_definition": "Average days from selection to \"\"Ready-to-Transact\"\".",
        "formula": "AVG(Active_Date - Selection_Date)",
        "data_needed": "Tables: VENDOR_MASTER_LOG.",
        "detailed_explanation": "Slow onboarding delays projects and savings realization.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VENDOR_MASTER_LOG"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Active_Date - Selection_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "category-manager-workload",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Category Manager Workload (Spend/Count)",
        "Chart Type (ECharts)": "Scatter Plot",
        "benefit": "Resource allocation.",
        "kpi_definition": "Spend volume or category count per manager.",
        "formula": "Spend vs Category_Count per Manager",
        "data_needed": "Tables: SPEND_ANALYSIS, ORG_CHART.",
        "detailed_explanation": "Identify overloaded managers.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SPEND_ANALYSIS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "ORG_CHART"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Spend vs Category_Count per Manager",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "sustainable-spend-ratio",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Spend with Sustainable Suppliers Ratio",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "ESG Goal tracking.",
        "kpi_definition": "Percentage of spend with suppliers meeting sustainability criteria.",
        "formula": "SUSTAINABLE% = Green_Spend / Total_Spend",
        "data_needed": "Tables: SPEND_ANALYSIS, VENDOR_CERTIFICATIONS.",
        "detailed_explanation": "Key metric for Annual Report.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SPEND_ANALYSIS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "VENDOR_CERTIFICATIONS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "SUSTAINABLE% = Green_Spend / Total_Spend",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "diversity-spend-ratio",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Diversity Spend Ratio",
        "Chart Type (ECharts)": "Donut Chart",
        "benefit": "CSR / DEI Goal tracking.",
        "kpi_definition": "Percentage of spend with Minority/Women/Veteran owned business.",
        "formula": "DIVERSITY% = Diverse_Spend / Total_Spend",
        "data_needed": "Tables: SPEND_ANALYSIS, VENDOR_CERTIFICATIONS.",
        "detailed_explanation": "Often a regulatory or client requirement (e.g.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SPEND_ANALYSIS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "VENDOR_CERTIFICATIONS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "DIVERSITY% = Diverse_Spend / Total_Spend",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-risk-score",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Risk Score / Risk Index",
        "Chart Type (ECharts)": "Heatmap",
        "benefit": "Holistic risk view.",
        "kpi_definition": "Composite score of Financial",
        "formula": " Geopolitical",
        "data_needed": " and Operational risk.",
        "detailed_explanation": "Monthly",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "and Operational risk"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " Geopolitical",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "sole-source-spend-ratio",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Sole Source Spend Ratio",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Supply continuity risk.",
        "kpi_definition": "Percentage of spend locked with single suppliers (no alternative).",
        "formula": "SOLE% = Sole_Source_Spend / Total_Spend",
        "data_needed": "Tables: SOURCING_STRATEGY_MAP.",
        "detailed_explanation": "High ratio = low leverage and high risk. Strategy: Qualify alternates.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SOURCING_STRATEGY_MAP"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "SOLE% = Sole_Source_Spend / Total_Spend",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "contract-leakage",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Leakage",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Lost value measurement.",
        "kpi_definition": "Spend that SHOULD be on contract but isn't.",
        "formula": "LEAKAGE = Potential_Contract_Spend - Actual_Contract_Spend",
        "data_needed": "Tables: SPEND_ANALYSIS, CONTRACT_TERMS.",
        "detailed_explanation": "Similar to Maverick spend but specific to existing contracts not being used.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SPEND_ANALYSIS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "CONTRACT_TERMS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "LEAKAGE = Potential_Contract_Spend - Actual_Contract_Spend",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-audit-findings",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Number of Procurement Audit Findings",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Process control quality.",
        "kpi_definition": "Count of major/minor non-conformances in internal audits.",
        "formula": "COUNT(Findings) Group By Severity",
        "data_needed": "Tables: AUDIT_REPORTS.",
        "detailed_explanation": "Zero major findings is the goal.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "AUDIT_REPORTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "freight-cost-per-unit",
        "Category 1 (Detailed)": "Inventory & Logistics",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Freight Cost per Unit / Shipment",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Logistics efficiency.",
        "kpi_definition": "Total freight spend divided by units or weight moved.",
        "formula": "COST = Total_Freight / Total_Units",
        "data_needed": "Tables: FREIGHT_BILLS, SHIPMENT_LOGS.",
        "detailed_explanation": "Normalize by weight (Cost per kg/mile).",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "FREIGHT_BILLS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SHIPMENT_LOGS"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "COST = Total_Freight / Total_Units",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "premium-freight-ratio",
        "Category 1 (Detailed)": "Inventory & Logistics",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Premium Freight Ratio",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Expediting waste measurement.",
        "kpi_definition": "Percentage of shipments sent via air/expedited vs standard.",
        "formula": "PREMIUM% = Expedited_Cost / Total_Freight_Cost",
        "data_needed": "Tables: FREIGHT_SPEND (Service_Level).",
        "detailed_explanation": "High ratio indicates poor planning or production emergencies.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "FREIGHT_SPEND (Service_Level)"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "PREMIUM% = Expedited_Cost / Total_Freight_Cost",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "shipping-accuracy",
        "Category 1 (Detailed)": "Inventory & Logistics",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Outbound Shipping Accuracy",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Customer service level (if applicable).",
        "kpi_definition": "Percentage of shipments with correct item",
        "formula": " qty",
        "data_needed": " and docs.",
        "detailed_explanation": "Monthly",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "and docs"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " qty",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "customs-clearance-time",
        "Category 1 (Detailed)": "Inventory & Logistics",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Average Customs Clearance Time",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Import efficiency.",
        "kpi_definition": "Average days goods spend in customs hold.",
        "formula": "AVG(Cleared_Date - Arrival_Date)",
        "data_needed": "Tables: IMPORT_LOGS.",
        "detailed_explanation": "Delays here increase lead time and demurrage costs.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "IMPORT_LOGS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Cleared_Date - Arrival_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "sourcing-project-savings-est",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Sourcing Project Savings (Estimated)",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Pipeline value.",
        "kpi_definition": "Projected savings from active sourcing events not yet signed.",
        "formula": "SUM(Est_Savings) of Active Projects",
        "data_needed": "Tables: SOURCING_PROJECTS.",
        "detailed_explanation": "Future value indicator.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SOURCING_PROJECTS"
                ]
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "data-quality-score",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Data Quality Score (Master Data)",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Trustworthiness of reports.",
        "kpi_definition": "Percentage of records with complete/valid fields (Tax ID",
        "formula": " Address",
        "data_needed": " UNSPSC).",
        "detailed_explanation": "Monthly",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "UNSPSC)"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " Address",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "automation-potential-analysis",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Automation Potential Analysis",
        "Chart Type (ECharts)": "Scatter Plot",
        "benefit": "Digital roadmap planning.",
        "kpi_definition": "Process steps mapped by Volume vs Manual Effort.",
        "formula": "Volume vs Effort per Process",
        "data_needed": "Tables: PROCESS_MINING_DATA.",
        "detailed_explanation": "Identify candidates for RPA (Robotic Process Automation).",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PROCESS_MINING_DATA"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Volume vs Effort per Process",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "price-elasticity-modeling",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Price Elasticity Modeling",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Strategic pricing negotiation.",
        "kpi_definition": "Correlation between price changes and demand volume.",
        "formula": "Regression Analysis",
        "data_needed": "Tables: PO_HISTORY, SALES_DATA.",
        "detailed_explanation": "Advanced: helps predict impact of supplier price hikes.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "PO_HISTORY"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SALES_DATA"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Regression Analysis",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-clustering",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Clustering / Segmentation",
        "Chart Type (ECharts)": "Scatter Plot",
        "benefit": "Strategy differentiation.",
        "kpi_definition": "Grouping suppliers by Strategic Importance vs Complexity (Kraljic).",
        "formula": "Matrix placement",
        "data_needed": "Tables: SRM_ASSESSMENT.",
        "detailed_explanation": "Visual: Kraljic Matrix (Strategic, Leverage, Bottleneck, Routine).",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SRM_ASSESSMENT"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Matrix placement",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "anomaly-detection-spend",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend Anomaly Detection",
        "Chart Type (ECharts)": "Scatter Plot",
        "benefit": "Fraud and error prevention.",
        "kpi_definition": "Flagging transactions that deviate statistically from the norm.",
        "formula": "Z-Score > 3",
        "data_needed": "Tables: AP_INVOICES.",
        "detailed_explanation": "AI/ML model output. Detects split POs or weird weekend postings.",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "AP_INVOICES"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Z-Score > 3",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "delay-reasons-breakdown",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Delay Reasons Breakdown by Percent",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Find root causes of delays and target corrective actions.",
        "kpi_definition": "Distribution of late order counts or percentages by reason code.",
        "formula": "% per reason = COUNT(Late_Orders with Reason)/COUNT(All_Late_Orders)",
        "data_needed": "Tables: LATE_LOG (PO_ID, Reason_Code, Date), REASONS_DICTIONARY.",
        "detailed_explanation": "Reason taxonomy examples: stockout, shipping delay, data entry error, approvals. Provide drill to offending POs.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "LATE_LOG (PO_ID"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Reason_Code"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Date)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "REASONS_DICTIONARY"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "delay-reasons-breakdown-2",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Delay Reasons Breakdown by Percent",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Identify root causes of delivery delays and drive targeted corrective actions.",
        "kpi_definition": "Distribution of delayed orders categorized by cause.",
        "formula": "% by reason = COUNT(Late_Orders with Reason)/COUNT(All_Late_Orders)",
        "data_needed": "Tables: LATE_ORDERS (PO_ID, Reason_Code, Date), REASONS_DICTIONARY.",
        "detailed_explanation": "Reasons may include stockout, shipping delay, data entry error, or pending approvals. Visualize contribution share and trend over time.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "LATE_ORDERS (PO_ID"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Reason_Code"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "Date)"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "REASONS_DICTIONARY"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "requisition-volume-trend",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Requisition Volume Trend",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Resource planning.",
        "kpi_definition": "Number of requisitions created over time.",
        "formula": "COUNT(Req_ID) Group By Month",
        "data_needed": "Tables: REQUISITIONS.",
        "detailed_explanation": "Seasonality analysis.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "REQUISITIONS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "po-volume-trend",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "PO Volume Trend",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Workload analysis.",
        "kpi_definition": "Number of POs issued over time.",
        "formula": "COUNT(PO_ID) Group By Month",
        "data_needed": "Tables: PURCHASE_ORDERS.",
        "detailed_explanation": "Correlate with headcount.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PURCHASE_ORDERS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "invoice-volume-trend",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Invoice Volume Trend",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "AP workload analysis.",
        "kpi_definition": "Number of invoices received over time.",
        "formula": "COUNT(Inv_ID) Group By Month",
        "data_needed": "Tables: AP_INVOICES.",
        "detailed_explanation": "Predict end-of-month spikes.",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "AP_INVOICES"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "items-per-po-avg",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Average Lines per PO",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Process efficiency.",
        "kpi_definition": "Average number of line items per purchase order.",
        "formula": "AVG(Count_Lines)",
        "data_needed": "Tables: PO_LINES.",
        "detailed_explanation": "Consolidation metric. Higher is usually better (fewer POs).",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PO_LINES"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Count_Lines)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "rejected-invoice-rate",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Rejected Invoice Rate",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Process quality.",
        "kpi_definition": "Percentage of invoices rejected back to supplier.",
        "formula": "RATE = Rejected / Total",
        "data_needed": "Tables: AP_INVOICES.",
        "detailed_explanation": "Indicates poor supplier instruction or strict controls.",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "AP_INVOICES"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "RATE = Rejected / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "sourcing-savings-realized",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Realized Sourcing Savings",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Strategy effectiveness.",
        "kpi_definition": "Actual savings booked from sourcing events.",
        "formula": "SUM(Savings_Amount)",
        "data_needed": "Tables: SAVINGS_TRACKER.",
        "detailed_explanation": "The \"banked\" money.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SAVINGS_TRACKER"
                ]
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "contract-value-distribution",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Value Distribution",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Portfolio risk analysis.",
        "kpi_definition": "Distribution of contracts by value range.",
        "formula": "Histogram buckets",
        "data_needed": "Tables: CONTRACTS.",
        "detailed_explanation": "Are we managing too many tiny contracts?",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "CONTRACTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Histogram buckets",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "payment-terms-distribution",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Payment Terms Distribution",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Cash flow leverage.",
        "kpi_definition": "Breakdown of suppliers by payment term (Net30",
        "formula": " Net60",
        "data_needed": " etc).",
        "detailed_explanation": "Quarterly",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "etc)"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " Net60",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-geo-map",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Geographical Map",
        "Chart Type (ECharts)": "Map Chart",
        "benefit": "Supply base visualization.",
        "kpi_definition": "Location of suppliers on a map.",
        "formula": "Lat/Long or Country Code",
        "data_needed": "Tables: VENDOR_ADDRESS.",
        "detailed_explanation": "Visual aid for risk and logistics.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VENDOR_ADDRESS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Lat/Long or Country Code",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "category-spend-trend",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Category Spend Trend",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Pattern recognition.",
        "kpi_definition": "Spend per category over time (Stack).",
        "formula": "SUM(Spend) By Cat By Month",
        "data_needed": "Tables: SPEND_ANALYSIS.",
        "detailed_explanation": "Identify growing/shrinking categories.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SPEND_ANALYSIS"
                ]
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "top-10-suppliers-spend",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Top 10 Suppliers by Spend",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Focus list.",
        "kpi_definition": "Spend with top 10 vendors.",
        "formula": "SUM(Spend) Top 10",
        "data_needed": "Tables: SPEND_ANALYSIS.",
        "detailed_explanation": "These 10 usually equal 50% of spend.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SPEND_ANALYSIS"
                ]
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "top-10-items-spend",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Top 10 Items by Spend",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "SKU rationalization.",
        "kpi_definition": "Spend with top 10 materials/services.",
        "formula": "SUM(Spend) Top 10 Items",
        "data_needed": "Tables: PO_LINES.",
        "detailed_explanation": "Candidates for auctions/negotiation.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PO_LINES"
                ]
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "contract-expiration-timeline",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Expiration Timeline",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Renewal planning.",
        "kpi_definition": "Count of contracts expiring by month.",
        "formula": "COUNT(ID) By Exp_Month",
        "data_needed": "Tables: CONTRACTS.",
        "detailed_explanation": "Visual renewal calendar.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "CONTRACTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "budget-burn-rate",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Budget Burn Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Fiscal control.",
        "kpi_definition": "% of annual budget consumed.",
        "formula": "Consumed / Total_Budget",
        "data_needed": "Tables: BUDGETS.",
        "detailed_explanation": "Are we spending too fast?",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "BUDGETS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Consumed / Total_Budget",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "sourcing-projects-status",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Sourcing Projects by Status",
        "Chart Type (ECharts)": "Donut Chart",
        "benefit": "Workload tracking.",
        "kpi_definition": "Count of projects by stage (Draft",
        "formula": " RFx",
        "data_needed": " Neg",
        "detailed_explanation": "Tables: SOURCING_PROJECTS.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "Neg"
                ]
            },
            "requirements": [
                {
                    "key": "group_col",
                    "types": [
                        "text"
                    ],
                    "keywords": [
                        "status",
                        "type"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "group_by",
                    "group_column_ref": "group_col",
                    "aggregation": "count"
                }
            ]
        }
    },
    {
        "id": "supplier-diversity-count",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Diverse Supplier Count",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Program reach.",
        "kpi_definition": "Number of diverse suppliers in master.",
        "formula": "COUNT(Diverse_Suppliers)",
        "data_needed": "Tables: VENDOR_CERTIFICATIONS.",
        "detailed_explanation": "Expansion of the program.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VENDOR_CERTIFICATIONS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "green-supplier-count",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Green / Sustainable Supplier Count",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Program reach.",
        "kpi_definition": "Number of eco-certified suppliers.",
        "formula": "COUNT(Green_Suppliers)",
        "data_needed": "Tables: VENDOR_CERTIFICATIONS.",
        "detailed_explanation": "Expansion of the program.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VENDOR_CERTIFICATIONS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "po-processing-time-manual",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Manual PO Processing Time",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Efficiency loss.",
        "kpi_definition": "Time spent on non-digital POs.",
        "formula": "AVG(Time)",
        "data_needed": "Tables: ACTIVITY_LOGS.",
        "detailed_explanation": "Justification for automation.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "ACTIVITY_LOGS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Time)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "vendor-portal-adoption",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Vendor Portal Adoption Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Digitization.",
        "kpi_definition": "% of vendors using the portal.",
        "formula": "Users / Total_Vendors",
        "data_needed": "Tables: PORTAL_USERS.",
        "detailed_explanation": "Drive self-service.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PORTAL_USERS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Users / Total_Vendors",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "catalog-item-count",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Catalog Item Count",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Content richness.",
        "kpi_definition": "Number of items available in catalogs.",
        "formula": "COUNT(Items)",
        "data_needed": "Tables: CATALOG_MASTER.",
        "detailed_explanation": "More items = more compliance.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "CATALOG_MASTER"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "free-text-req-rate",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Free-Text Requisition Rate",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Compliance gap.",
        "kpi_definition": "% of requests not from catalog.",
        "formula": "Free_Text / Total_Reqs",
        "data_needed": "Tables: REQ_LINES.",
        "detailed_explanation": "Target for reduction.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "REQ_LINES"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Free_Text / Total_Reqs",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "auto-approval-rate",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Auto-Approval Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Speed.",
        "kpi_definition": "% of requests approved by rules (no human).",
        "formula": "Auto / Total",
        "data_needed": "Tables: APPROVAL_LOGS.",
        "detailed_explanation": "Goal: Maximize for low value items.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "APPROVAL_LOGS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Auto / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "urgency-distribution",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Requisition Urgency Distribution",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Behavior analysis.",
        "kpi_definition": "% of requests marked Urgent vs Normal.",
        "formula": "Count By Priority",
        "data_needed": "Tables: REQUISITIONS.",
        "detailed_explanation": "Too many \"Urgent\" = broken process.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "REQUISITIONS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count By Priority",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "cost-center-spend-pareto",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Cost Center Spend Pareto",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Internal benchmarking.",
        "kpi_definition": "80/20 rule for internal depts.",
        "formula": "Spend by Cost Center",
        "data_needed": "Tables: AP_INVOICES.",
        "detailed_explanation": "Who are the big spenders?",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "AP_INVOICES"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Spend by Cost Center",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "gr-ir-imbalance",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "GR/IR Imbalance Account",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Accounting hygiene.",
        "kpi_definition": "Value of Goods Received not Invoiced (and vice versa).",
        "formula": "Sum(GR) - Sum(IR)",
        "data_needed": "Tables: GR_IR_ACCOUNT.",
        "detailed_explanation": "Clearing account health.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "GR_IR_ACCOUNT"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Sum(GR) - Sum(IR)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "avg-number-bids",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Average Number of Bids per RFx",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Competition intensity.",
        "kpi_definition": "Avg suppliers participating in events.",
        "formula": "AVG(Bidder_Count)",
        "data_needed": "Tables: SOURCING_EVENTS.",
        "detailed_explanation": "More bids = better price discovery.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SOURCING_EVENTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Bidder_Count)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "single-bid-rate",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Single Bid Rate",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Sourcing failure.",
        "kpi_definition": "% of events with only 1 bidder.",
        "formula": "Count(Single) / Total",
        "data_needed": "Tables: SOURCING_EVENTS.",
        "detailed_explanation": "Avoid this. It's not a market price.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SOURCING_EVENTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count(Single) / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "realized-savings-vs-budget",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Realized Savings vs Budget",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Performance to plan.",
        "kpi_definition": "Actual Savings vs Target.",
        "formula": "Comparison",
        "data_needed": "Tables: SAVINGS_TRACKER.",
        "detailed_explanation": "Are we hitting the number?",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SAVINGS_TRACKER"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Comparison",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-retention-rate",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Retention Rate",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Relationship stability.",
        "kpi_definition": "% of suppliers used in Year X and Year X+1.",
        "formula": "Retained / Total",
        "data_needed": "Tables: SPEND_ANALYSIS.",
        "detailed_explanation": "High churn is costly.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SPEND_ANALYSIS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Retained / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "new-supplier-additions",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "New Supplier Additions",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Gatekeeping.",
        "kpi_definition": "Count of new vendors created.",
        "formula": "COUNT(Created)",
        "data_needed": "Tables: VENDOR_LOG.",
        "detailed_explanation": "Are we proliferating suppliers?",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VENDOR_LOG"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "inactive-supplier-count",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Inactive Supplier Count",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Data hygiene.",
        "kpi_definition": "Vendors with no spend in X months.",
        "formula": "COUNT(Inactive)",
        "data_needed": "Tables: VENDOR_MASTER.",
        "detailed_explanation": "Candidates for deactivation.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VENDOR_MASTER"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "spend-per-po-bucket",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "PO Value Distribution (Buckets)",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Process fit.",
        "kpi_definition": "Count of POs in value ranges ($0-1k",
        "formula": " $1k-10k...).",
        "data_needed": "Histogram",
        "detailed_explanation": "Ops",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "Histogram"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " $1k-10k...).",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "cycle-time-per-buyer",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Cycle Time per Buyer",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Performance mgmt.",
        "kpi_definition": "Avg PO cycle time by buyer.",
        "formula": "AVG(Time) Group By Buyer",
        "data_needed": "Tables: PO_LOGS.",
        "detailed_explanation": "Training needs identification.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PO_LOGS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Time) Group By Buyer",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "req-to-pay-cycle-time",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Req-to-Pay (R2P) Cycle Time",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "End-to-end speed.",
        "kpi_definition": "Total time from Req creation to Payment.",
        "formula": "AVG(Pay_Date - Req_Date)",
        "data_needed": "Tables: ALL_STAGES.",
        "detailed_explanation": "The grand total process time.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "ALL_STAGES"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Pay_Date - Req_Date)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "spend-by-gl-account",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend by GL Account",
        "Chart Type (ECharts)": "Treemap",
        "benefit": "Accounting view.",
        "kpi_definition": "Spend grouped by General Ledger code.",
        "formula": "SUM(Spend) By GL",
        "data_needed": "Tables: AP_DISTRIBUTION.",
        "detailed_explanation": "Accounting reconciliation.",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "AP_DISTRIBUTION"
                ]
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "discount-lost-value",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Lost Early Payment Discounts",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "Opportunity cost.",
        "kpi_definition": "Value of discounts missed.",
        "formula": "SUM(Available - Taken)",
        "data_needed": "Tables: DISCOUNTS.",
        "detailed_explanation": "Money left on the table.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "DISCOUNTS"
                ]
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "ap-staff-productivity",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "AP Staff Productivity (Invoices/FTE)",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Efficiency.",
        "kpi_definition": "Invoices processed per AP clerk.",
        "formula": "Count / FTE",
        "data_needed": "Tables: AP_LOGS.",
        "detailed_explanation": "Workload balancing.",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "AP_LOGS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count / FTE",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "emergency-purchase-ratio",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "Emergency Purchase Ratio",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Planning failure.",
        "kpi_definition": "% of spend on emergency basis.",
        "formula": "Emergency_Spend / Total",
        "data_needed": "Tables: PO_TYPES.",
        "detailed_explanation": "High cost channel.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PO_TYPES"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Emergency_Spend / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "contracts-per-category",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contracts per Category",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Coverage analysis.",
        "kpi_definition": "Count of active contracts by category.",
        "formula": "COUNT(ID) By Cat",
        "data_needed": "Tables: CONTRACTS.",
        "detailed_explanation": "Where are we exposed?",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "CONTRACTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "count",
                    "label": "Total Count"
                }
            ]
        }
    },
    {
        "id": "supplier-bankruptcy-risk",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Bankruptcy Risk (Z-Score)",
        "Chart Type (ECharts)": "Data Table",
        "benefit": "Financial health.",
        "kpi_definition": "Altman Z-Score of key suppliers.",
        "formula": "Calc Z-Score",
        "data_needed": "Tables: FINANCIAL_FEED.",
        "detailed_explanation": "Early warning system.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "FINANCIAL_FEED"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Calc Z-Score",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "material-price-index",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Material Price Index (Internal)",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Inflation tracking.",
        "kpi_definition": "Weighted average price of basket of goods.",
        "formula": "Index Calc",
        "data_needed": "Tables: PO_HISTORY.",
        "detailed_explanation": "Internal inflation rate.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PO_HISTORY"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Index Calc",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "logistics-spend-mode",
        "Category 1 (Detailed)": "Inventory & Logistics",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Logistics Spend by Mode",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Transport strategy.",
        "kpi_definition": "Spend by Air",
        "formula": " Ocean",
        "data_needed": " Road",
        "detailed_explanation": "Tables: FREIGHT_BILLS.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "Road"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " Ocean",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "warehouse-utilization",
        "Category 1 (Detailed)": "Inventory & Logistics",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Warehouse Utilization",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Capacity planning.",
        "kpi_definition": "% of warehouse space/bins used.",
        "formula": "Used / Total_Capacity",
        "data_needed": "Tables: WMS.",
        "detailed_explanation": "Need more space?",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "WMS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Used / Total_Capacity",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "inventory-accuracy",
        "Category 1 (Detailed)": "Inventory & Logistics",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Inventory Record Accuracy (IRA)",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Data trust.",
        "kpi_definition": "% of cycle counts matching system.",
        "formula": "Matches / Counts",
        "data_needed": "Tables: CYCLE_COUNTS.",
        "detailed_explanation": "System trust.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "CYCLE_COUNTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Matches / Counts",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "return-logistics-cost",
        "Category 1 (Detailed)": "Inventory & Logistics",
        "Module (Category 2)": "Inventory & Logistics",
        "Report Title": "Reverse Logistics Cost",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Quality cost.",
        "kpi_definition": "Cost to process returns.",
        "formula": "SUM(Return_Costs)",
        "data_needed": "Tables: FREIGHT, HANDLING.",
        "detailed_explanation": "Cost of poor quality.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "FREIGHT"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "HANDLING"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [
                {
                    "key": "amount_col",
                    "types": [
                        "number"
                    ],
                    "keywords": [
                        "amount",
                        "spend",
                        "cost"
                    ]
                }
            ],
            "processing": [
                {
                    "step": "aggregation",
                    "operation": "sum",
                    "column_ref": "amount_col",
                    "label": "Total Value"
                }
            ]
        }
    },
    {
        "id": "procurement-satisfaction-score",
        "Category 1 (Detailed)": "Internal Improvement",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Stakeholder Satisfaction Score",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Service quality.",
        "kpi_definition": "Survey results from business units.",
        "formula": "Avg Score",
        "data_needed": "Tables: SURVEYS.",
        "detailed_explanation": "Voice of the customer.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SURVEYS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Avg Score",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-collaboration-index",
        "Category 1 (Detailed)": "Internal Improvement",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Collaboration Index",
        "Chart Type (ECharts)": "Radar Chart",
        "benefit": "Relationship depth.",
        "kpi_definition": "Score based on meetings",
        "formula": " projects",
        "data_needed": " innovation.",
        "detailed_explanation": "Annually",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "innovation"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " projects",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-employee-turnover",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Staff Turnover",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Team health.",
        "kpi_definition": "% of staff leaving.",
        "formula": "Leavers / Total_Staff",
        "data_needed": "Tables: HR_DATA.",
        "detailed_explanation": "Retention issues?",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "HR_DATA"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Leavers / Total_Staff",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "certified-staff-ratio",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Certified Staff Ratio (CIPS/CPSM)",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Competency.",
        "kpi_definition": "% of team with prof certifications.",
        "formula": "Count(Cert) / Total",
        "data_needed": "Tables: HR_DATA.",
        "detailed_explanation": "Skill level.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "HR_DATA"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count(Cert) / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-cost-savings-ratio",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Savings to Cost Ratio",
        "Chart Type (ECharts)": "KPI Card",
        "benefit": "ROI.",
        "kpi_definition": "Savings generated / Dept Cost.",
        "formula": "Ratio",
        "data_needed": "Tables: SAVINGS, GL.",
        "detailed_explanation": "Investment return.",
        "logic": {
            "sources": [
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "SAVINGS"
                    ]
                },
                {
                    "department": "supply-chain/procurement",
                    "table_keywords": [
                        "GL"
                    ]
                }
            ],
            "join": {
                "type": "inner",
                "on": "common_id_placeholder"
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Ratio",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "spend-forecast-bias",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend Forecast Bias",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Predictability.",
        "kpi_definition": "Tendency to over/under forecast.",
        "formula": "AVG(Error)",
        "data_needed": "Tables: FORECASTS.",
        "detailed_explanation": "Calibration.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "FORECASTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Error)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "demand-variability-index",
        "Category 1 (Detailed)": "Forecasting & Planning",
        "Module (Category 2)": "Requests & Demand",
        "Report Title": "Demand Variability Index",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Stability.",
        "kpi_definition": "Coefficient of variation of demand.",
        "formula": "StdDev / Mean",
        "data_needed": "Tables: SALES_HISTORY.",
        "detailed_explanation": "Buffer stock sizing.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SALES_HISTORY"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "StdDev / Mean",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-lead-time-variability",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Lead Time Variability",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Reliability.",
        "kpi_definition": "Standard deviation of lead time.",
        "formula": "StdDev(Lead_Time)",
        "data_needed": "Tables: RECEIPTS.",
        "detailed_explanation": "Safety stock driver.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "RECEIPTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "StdDev(Lead_Time)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-cycle-time-variability",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Cycle Time Variability",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Process stability.",
        "kpi_definition": "StdDev of cycle time.",
        "formula": "StdDev(Time)",
        "data_needed": "Tables: LOGS.",
        "detailed_explanation": "Process improvement target.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "LOGS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "StdDev(Time)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "contract-approval-cycle-time",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Approval Cycle Time",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Speed.",
        "kpi_definition": "Time for legal/mgmt approval.",
        "formula": "AVG(Time)",
        "data_needed": "Tables: CLM.",
        "detailed_explanation": "Bottleneck ID.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "CLM"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Time)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "invoice-exception-rate",
        "Category 1 (Detailed)": "Working Capital & Payments",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Invoice Exception Rate",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Process quality.",
        "kpi_definition": "% of invoices requiring manual handling.",
        "formula": "Count(Exceptions) / Total",
        "data_needed": "Tables: AP_WORKFLOW.",
        "detailed_explanation": "Automation blocker.",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "AP_WORKFLOW"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count(Exceptions) / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "first-time-right-po",
        "Category 1 (Detailed)": "Order / PO Performance",
        "Module (Category 2)": "Orders (Purchasing)",
        "Report Title": "First Time Right PO",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Quality.",
        "kpi_definition": "% of POs requiring no changes.",
        "formula": "Count(No_Change) / Total",
        "data_needed": "Tables: PO_HISTORY.",
        "detailed_explanation": "Rework reduction.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PO_HISTORY"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count(No_Change) / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-data-completeness",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Data Completeness",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Master data.",
        "kpi_definition": "% of fields filled in vendor master.",
        "formula": "Filled / Total_Fields",
        "data_needed": "Tables: VENDOR_MASTER.",
        "detailed_explanation": "Data quality.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VENDOR_MASTER"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Filled / Total_Fields",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "spend-data-completeness",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Spend Data Completeness",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Master data.",
        "kpi_definition": "% of spend records with category/supplier.",
        "formula": "Filled / Total",
        "data_needed": "Tables: SPEND_CUBE.",
        "detailed_explanation": "Analytics foundation.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SPEND_CUBE"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Filled / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "contract-data-completeness",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Data Completeness",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Master data.",
        "kpi_definition": "% of contracts with metadata (dates",
        "formula": " values).",
        "data_needed": "Filled / Total",
        "detailed_explanation": "Legal",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "Filled / Total"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " values).",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-policy-compliance",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Policy Compliance",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Governance.",
        "kpi_definition": "% of transactions following policy.",
        "formula": "Compliant / Total",
        "data_needed": "Tables: AUDIT_LOGS.",
        "detailed_explanation": "Risk control.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "AUDIT_LOGS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Compliant / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "maverick-buying-rate",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Maverick Buying Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Compliance.",
        "kpi_definition": "% of POs created after invoice date.",
        "formula": "Count(Retro_PO) / Total",
        "data_needed": "Tables: PO_INVOICE_DATES.",
        "detailed_explanation": "Control failure.",
        "logic": {
            "source": {
                "department": "finance",
                "table_keywords": [
                    "PO_INVOICE_DATES"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count(Retro_PO) / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "contract-compliance-rate",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Contract Compliance Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Value realization.",
        "kpi_definition": "% of spend on contract terms.",
        "formula": "Compliant_Spend / Total",
        "data_needed": "Tables: SPEND_ANALYSIS.",
        "detailed_explanation": "Leakage prevention.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SPEND_ANALYSIS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Compliant_Spend / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "sustainable-sourcing-rate",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Sustainable Sourcing Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "ESG.",
        "kpi_definition": "% of RFxs with sustainability criteria.",
        "formula": "Count(Sust_Criteria) / Total",
        "data_needed": "Tables: SOURCING_EVENTS.",
        "detailed_explanation": "Impact.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SOURCING_EVENTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count(Sust_Criteria) / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "diversity-sourcing-rate",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Diversity Sourcing Rate",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "DEI.",
        "kpi_definition": "% of RFxs with diversity criteria.",
        "formula": "Count(Div_Criteria) / Total",
        "data_needed": "Tables: SOURCING_EVENTS.",
        "detailed_explanation": "Inclusion.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SOURCING_EVENTS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count(Div_Criteria) / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "local-sourcing-rate",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Contracts & Sourcing",
        "Report Title": "Local Sourcing Rate",
        "Chart Type (ECharts)": "Pie Chart",
        "benefit": "Local impact.",
        "kpi_definition": "% of spend with local suppliers.",
        "formula": "Local_Spend / Total",
        "data_needed": "Tables: SPEND_ANALYSIS.",
        "detailed_explanation": "Community support.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SPEND_ANALYSIS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Local_Spend / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-code-of-conduct-acceptance",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Code of Conduct Acceptance",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Governance.",
        "kpi_definition": "% of suppliers signed CoC.",
        "formula": "Signed / Total_Active",
        "data_needed": "Tables: VENDOR_PORTAL.",
        "detailed_explanation": "Risk mitigation.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VENDOR_PORTAL"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Signed / Total_Active",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-financial-risk-assessment",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Financial Risk Assessment Coverage",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Risk.",
        "kpi_definition": "% of critical suppliers assessed financially.",
        "formula": "Assessed / Critical",
        "data_needed": "Tables: RISK_TOOL.",
        "detailed_explanation": "Continuity.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "RISK_TOOL"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Assessed / Critical",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-cyber-risk-assessment",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Cyber Risk Assessment Coverage",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Risk.",
        "kpi_definition": "% of IT suppliers assessed for cyber.",
        "formula": "Assessed / IT_Suppliers",
        "data_needed": "Tables: IT_SECURITY.",
        "detailed_explanation": "Data protection.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "IT_SECURITY"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Assessed / IT_Suppliers",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-performance-review-coverage",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Performance Review Coverage",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "SRM.",
        "kpi_definition": "% of strategic suppliers reviewed.",
        "formula": "Reviewed / Strategic",
        "data_needed": "Tables: SRM_TOOL.",
        "detailed_explanation": "Relationship mgmt.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SRM_TOOL"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Reviewed / Strategic",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "supplier-development-projects",
        "Category 1 (Detailed)": "Supplier / Quality",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Supplier Development Projects",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Innovation.",
        "kpi_definition": "Count of improvement projects with suppliers.",
        "formula": "Count",
        "data_needed": "Tables: PROJECT_TRACKER.",
        "detailed_explanation": "Value add.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PROJECT_TRACKER"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-innovation-projects",
        "Category 1 (Detailed)": "Internal Improvement",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Innovation Projects",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Innovation.",
        "kpi_definition": "Count of internal innovation initiatives.",
        "formula": "Count",
        "data_needed": "Tables: PROJECT_TRACKER.",
        "detailed_explanation": "Transformation.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PROJECT_TRACKER"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-savings-pipeline",
        "Category 1 (Detailed)": "Spend & Cost",
        "Module (Category 2)": "Finance & Spend",
        "Report Title": "Procurement Savings Pipeline",
        "Chart Type (ECharts)": "Funnel Chart",
        "benefit": "Planning.",
        "kpi_definition": "Value of opportunities by stage.",
        "formula": "Sum(Value) By Stage",
        "data_needed": "Tables: PIPELINE.",
        "detailed_explanation": "Future savings.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PIPELINE"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Sum(Value) By Stage",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-resource-utilization",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Resource Utilization",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Efficiency.",
        "kpi_definition": "% of time charged to projects.",
        "formula": "Billable / Total",
        "data_needed": "Tables: TIMESHEETS.",
        "detailed_explanation": "Capacity planning.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "TIMESHEETS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Billable / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-customer-satisfaction",
        "Category 1 (Detailed)": "Internal Improvement",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Customer Satisfaction",
        "Chart Type (ECharts)": "Line Chart",
        "benefit": "Service.",
        "kpi_definition": "Trend of NPS scores.",
        "formula": "AVG(Score)",
        "data_needed": "Tables: SURVEYS.",
        "detailed_explanation": "Trend.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SURVEYS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "AVG(Score)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-employee-satisfaction",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Employee Satisfaction",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Culture.",
        "kpi_definition": "eNPS score.",
        "formula": "Score",
        "data_needed": "Tables: HR_SURVEY.",
        "detailed_explanation": "Retention.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "HR_SURVEY"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Score",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-training-spend",
        "Category 1 (Detailed)": "People / Competencies / Training",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Training Spend per Employee",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Development.",
        "kpi_definition": "Spend / Headcount.",
        "formula": "Tables: GL_TRAINING.",
        "data_needed": "Annually",
        "detailed_explanation": "categories[value]",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "Annually"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Tables: GL_TRAINING.",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-technology-adoption",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Technology Adoption",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Digital.",
        "kpi_definition": "% of users active in eProcurement.",
        "formula": "Active / Total_Users",
        "data_needed": "Tables: SYSTEM_LOGS.",
        "detailed_explanation": "ROI on tech.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SYSTEM_LOGS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Active / Total_Users",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-process-automation",
        "Category 1 (Detailed)": "Internal Process Efficiency",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Process Automation",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Digital.",
        "kpi_definition": "% of processes automated.",
        "formula": "Automated / Total_Processes",
        "data_needed": "Tables: PROCESS_MAP.",
        "detailed_explanation": "Efficiency.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "PROCESS_MAP"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Automated / Total_Processes",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-data-accuracy",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Data Accuracy",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Data.",
        "kpi_definition": "Composite data quality score.",
        "formula": "Score",
        "data_needed": "Tables: DQ_TOOL.",
        "detailed_explanation": "Trust.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "DQ_TOOL"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Score",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-reporting-usage",
        "Category 1 (Detailed)": "Advanced Analytics",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Reporting Usage",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Value.",
        "kpi_definition": "Views of dashboards.",
        "formula": "Count(Views)",
        "data_needed": "Tables: BI_TOOL.",
        "detailed_explanation": "Adoption.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "BI_TOOL"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Count(Views)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-benchmarking",
        "Category 1 (Detailed)": "Internal Improvement",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Benchmarking",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Strategy.",
        "kpi_definition": "Comparison to peers.",
        "formula": "Score vs Peer",
        "data_needed": "Tables: BENCHMARK_REPORT.",
        "detailed_explanation": "Gap analysis.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "BENCHMARK_REPORT"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Score vs Peer",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-audit-compliance",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Audit Compliance",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Governance.",
        "kpi_definition": "% of audits passed.",
        "formula": "Passed / Total",
        "data_needed": "Tables: AUDIT_LOGS.",
        "detailed_explanation": "Control.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "AUDIT_LOGS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Passed / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-risk-mitigation",
        "Category 1 (Detailed)": "Compliance / Risk",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Risk Mitigation",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Risk.",
        "kpi_definition": "% of risks with mitigation plans.",
        "formula": "Mitigated / Total_Risks",
        "data_needed": "Tables: RISK_REGISTER.",
        "detailed_explanation": "Readiness.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "RISK_REGISTER"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Mitigated / Total_Risks",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-sustainability-impact",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Procurement Sustainability Impact",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "ESG.",
        "kpi_definition": "Quantified impact (e.g.",
        "formula": " CO2 saved).",
        "data_needed": "Sum(Impact)",
        "detailed_explanation": "Sustainability",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "Sum(Impact)"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": " CO2 saved).",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-diversity-impact",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Procurement Diversity Impact",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "DEI.",
        "kpi_definition": "Jobs supported at diverse suppliers.",
        "formula": "Est_Jobs",
        "data_needed": "Tables: DEI_REPORT.",
        "detailed_explanation": "Social value.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "DEI_REPORT"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Est_Jobs",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-local-impact",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Procurement Local Impact",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Local.",
        "kpi_definition": "Spend in local economy.",
        "formula": "Sum(Local_Spend)",
        "data_needed": "Tables: SPEND_ANALYSIS.",
        "detailed_explanation": "Community.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SPEND_ANALYSIS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Sum(Local_Spend)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-ethical-sourcing",
        "Category 1 (Detailed)": "Sustainability & CSR",
        "Module (Category 2)": "Vendors (SRM)",
        "Report Title": "Procurement Ethical Sourcing",
        "Chart Type (ECharts)": "Gauge Chart",
        "benefit": "Ethics.",
        "kpi_definition": "% of spend with ethical suppliers.",
        "formula": "Ethical_Spend / Total",
        "data_needed": "Tables: CERTIFICATIONS.",
        "detailed_explanation": "Reputation.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "CERTIFICATIONS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Ethical_Spend / Total",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-brand-equity",
        "Category 1 (Detailed)": "Internal Improvement",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Brand Equity",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Strategy.",
        "kpi_definition": "Perception of procurement brand.",
        "formula": "Score",
        "data_needed": "Tables: SURVEYS.",
        "detailed_explanation": "Influence.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "SURVEYS"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Score",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-strategic-alignment",
        "Category 1 (Detailed)": "Internal Improvement",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Strategic Alignment",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Strategy.",
        "kpi_definition": "Alignment with corp strategy.",
        "formula": "Score",
        "data_needed": "Tables: STRATEGY_MAP.",
        "detailed_explanation": "Relevance.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "STRATEGY_MAP"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Score",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    },
    {
        "id": "procurement-value-contribution",
        "Category 1 (Detailed)": "Internal Improvement",
        "Module (Category 2)": "General Procurement",
        "Report Title": "Procurement Value Contribution",
        "Chart Type (ECharts)": "Bar Chart",
        "benefit": "Strategy.",
        "kpi_definition": "Total value add (savings + other).",
        "formula": "Sum(Value)",
        "data_needed": "Tables: VALUE_LOG.",
        "detailed_explanation": "ROI.",
        "logic": {
            "source": {
                "department": "supply-chain/procurement",
                "table_keywords": [
                    "VALUE_LOG"
                ]
            },
            "requirements": [],
            "processing": [
                {
                    "step": "custom_formula",
                    "formula_raw": "Sum(Value)",
                    "note": "Requires manual configuration or advanced parsing"
                }
            ]
        }
    }
]