  @tailwind base;
@tailwind components;
@tailwind utilities;

/* Global responsive tokens and utilities */
:root {
  /* Spacing and radius scale */
  --space-0: 0;
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --radius: 12px;

  /* Fluid typography */
  --fs-xs: clamp(11px, 0.75vw, 12px);
  --fs-sm: clamp(12px, 0.85vw, 14px);
  --fs-md: clamp(14px, 1vw, 16px);
  --fs-lg: clamp(16px, 1.2vw, 18px);
  --fs-xl: clamp(18px, 1.6vw, 22px);
  --fs-2xl: clamp(22px, 2.4vw, 28px);
}

body { font-size: var(--fs-md); }
h1 { font-size: var(--fs-2xl); line-height: 1.2; }
h2 { font-size: var(--fs-xl); line-height: 1.25; }
h3 { font-size: var(--fs-lg); line-height: 1.3; }
p, li, input, select, textarea, button { font-size: var(--fs-md); }

.container { width:100%; margin-left:auto; margin-right:auto; padding-left:var(--space-4); padding-right:var(--space-4); }
@media (min-width:640px){ .container{ padding-left:var(--space-6); padding-right:var(--space-6);} }
@media (min-width:1024px){ .container{ padding-left:var(--space-8); padding-right:var(--space-8);} }

.grid-auto { display:grid; grid-template-columns: repeat(auto-fit, minmax(min(240px, 100%), 1fr)); gap: var(--space-3); }
.table-wrap { width:100%; overflow-x:auto; -webkit-overflow-scrolling:touch; }
.scroll-x { overflow-x:auto; -webkit-overflow-scrolling:touch; }

:focus-visible { outline: 3px solid #3B82F6; outline-offset: 2px; }
@media (prefers-reduced-motion: reduce) { *,*::before,*::after { animation: none !important; transition: none !important; } }
html, body { overflow-x: hidden; }

:root { color-scheme: light dark; }
body { @apply bg-gray-50 text-gray-900; }

/* --- simple grow animation for charts --- */
@keyframes growY { from { transform: scaleY(0); } to { transform: scaleY(1); } }
.animate-grow { transform-origin: bottom; animation: growY 700ms ease-out both; }
@keyframes donutIn {
  from { stroke-dashoffset: var(--circ); }
  to   { stroke-dashoffset: 0; }
}
.animate-donut {
  animation: donutIn 900ms ease-out forwards;
}
/* --- sparkline helpers & numeric alignment --- */
@keyframes spark-stroke { to { stroke-dashoffset: 0; } }
.spark-shadow { filter: drop-shadow(0 1px 0 rgba(0,0,0,.04)); }
.tabular-nums { font-variant-numeric: tabular-nums; }

/* --- interactive badges --- */
.status-badge {
  cursor: pointer;
  transition: transform 120ms ease, background-color 120ms ease;
}
.status-badge:hover {
  transform: translateY(-1px);
  filter: brightness(1.05);
}

/* --- normalized select styles --- */
select {
  -webkit-appearance: menulist !important;
  -moz-appearance: menulist !important;
  appearance: menulist !important;
  pointer-events: auto !important;
  background-color: white;
  color: black;
  padding: 2px 4px;
  border: 1px solid #ccc;
  position: relative;
  z-index: 1000;
}
select option {
  background-color: white;
  color: black;
}

/* --- modal fix --- */
.modal {
  overflow: visible !important;
  position: relative;
  z-index: 9999 !important; /* تأكد أن المودال فوق كل شيء */
}

select {
  position: relative;
  z-index: 1; /* القوائم العادية */
}

.modal select {
  position: relative;
  z-index: 10000 !important; /* القوائم داخل المودال فوق باقي العناصر */
}

/* === Card & Shadow & Helpers (TailAdmin-like) === */
.shadow-card { box-shadow: 0 1px 2px rgba(17,24,39,.06), 0 8px 24px rgba(17,24,39,.04); }
.card      { @apply rounded-2xl border bg-white shadow-card; }
.card-h    { @apply px-4 py-3; } /* header spacing */
.card-p    { @apply p-4; }       /* body spacing */

/* Unified input focus */
.input-focus { @apply hover:border-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-400 outline-none; }

/* Smooth scrollbars for containers/tables */
.scroll-smooth::-webkit-scrollbar{ height:8px; width:8px; }
.scroll-smooth::-webkit-scrollbar-thumb{ background:#e5e7eb; border-radius:8px; }
.scroll-smooth:hover::-webkit-scrollbar-thumb{ background:#d1d5db; }

/* === Unified Table (u-table) === */
.u-table{ width:100%; border-collapse:separate; border-spacing:0; }
.u-table thead th{
  position:sticky; top:0; z-index:1;
  text-align:left; font-size:12px; font-weight:800; color:#6B7280;
  text-transform:uppercase; letter-spacing:.3px;
  padding:12px 14px; background:#F9FAFB; border-bottom:1px solid #E5E7EB;
}
.u-table tbody td{ padding:12px 14px; border-bottom:1px solid #F3F4F6; }
.u-table tbody tr{ background:#fff; transition:background .15s ease, box-shadow .15s ease; }
.u-table tbody tr:hover{ background:#F9FAFB; box-shadow:inset 0 0 0 1px #E5E7EB; }

/* Unified card helper */
.u-card{ background:#fff; border:1px solid #E5E7EB; border-radius:16px; box-shadow:0 1px 2px rgba(16,24,40,.06); }

/* === Dashboard Tiles (Uiverse-inspired new-donkey-55) === */
.dash-tile {
  position: relative;
  background: radial-gradient(120% 120% at -10% -10%, #EEF2FF 0%, rgba(238,242,255,0.4) 35%, rgba(255,255,255,0.9) 60%), #ffffff;
  backdrop-filter: saturate(1.2);
  transition: transform .16s ease, box-shadow .16s ease;
}
.dash-tile::before {
  content: "";
  position: absolute; inset: -1px; border-radius: 16px;
  background: linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,0));
  pointer-events: none;
}
.dash-tile:hover { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(17,24,39,.08); }
