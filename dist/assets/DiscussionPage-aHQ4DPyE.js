import{c as pe,f as Ie,a0 as Le,r as n,a8 as me,j as e,h as Re,P as U,ag as Be,V as W,W as g,a1 as ue,$ as fe,K as Pe,H as ge,C as he,z as We,k as Fe,X as be,Q as Ue}from"./index-sqQsKImc.js";import{d as b}from"./discussionService-BW2ODrb-.js";import{L as Oe}from"./link-DEEz8jQW.js";import{S as _e}from"./smile-CQ81lmMB.js";import{S as Ke}from"./send-horizontal-CgsdJqNV.js";import{C as Ve}from"./clipboard-list-QUTZ5piE.js";import{S as Xe}from"./sticky-note-Y6haFP1a.js";import{F as M}from"./flag-DM0neTDo.js";import{T as Ge}from"./tag-Dqtpp501.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Ye=pe("bold",Qe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Je=pe("italic",qe),Ze=[{id:"design",label:"Design",color:"bg-pink-500"},{id:"dev",label:"Development",color:"bg-blue-500"},{id:"bug",label:"Bug",color:"bg-red-500"},{id:"feature",label:"Feature",color:"bg-purple-500"},{id:"marketing",label:"Marketing",color:"bg-yellow-500"}],ct=()=>{const{theme:S}=Ie(),{direction:z}=Le(),[u,j]=n.useState([]),[r,p]=n.useState(""),[o,O]=n.useState([]),[_,je]=n.useState([]),[c,ve]=n.useState(null),[Ne,ye]=n.useState(260),[we,et]=n.useState(320),[T,K]=n.useState(!1),[v,V]=n.useState(""),[m,X]=n.useState("tasks"),[G,Q]=n.useState([]),[Y,q]=n.useState([]),[D,$e]=n.useState(!0),[A,J]=n.useState(""),[N,H]=n.useState("medium"),[y,w]=n.useState(new Date),[f,E]=n.useState([]),[Z,$]=n.useState(!1),[ee,ke]=n.useState(!1),[te,se]=n.useState(!1),[I,ae]=n.useState(""),[k,L]=n.useState(!1),[R,le]=n.useState(""),[ne,re]=n.useState([]),B=n.useRef(null),h=u.find(t=>t.id===r)||{name:"Select Channel",type:"public"},l=z==="rtl",d=S==="nexus";n.useEffect(()=>{Ce(),Me(),Se(),ze()},[]),n.useEffect(()=>{r&&ie(r)},[r]);const Ce=async()=>{const t=await me.getUsers();je(t);const a=me.getCurrentUser();ve(a)},Me=async()=>{const t=await b.getChannels();j(t),t.length>0&&!t.find(a=>a.id===r)&&p(t[0].id)},ie=async t=>{const x=(await b.getMessages(t)).filter(i=>!i.channelId||i.channelId===t);O(x)},Se=async()=>{const t=await b.getTasks();Q(t)},ze=async()=>{const t=await b.getNotes();q(t)},s={bg:d?"bg-[#121212]/95":"bg-white/90",sidebar:d?"bg-[#0f0f0f]/95":"bg-[#f7f7f5]/95",text:d?"text-[#e6e6e6]":"text-[#37352f]",textMuted:d?"text-[#8a8a8a]":"text-[#9b9a97]",border:d?"border-[#2f2f2f]":"border-[#e0e0e0]",itemHover:d?"hover:bg-[#252525]":"hover:bg-[#efefef]",itemActive:d?"bg-[#1f2d3d] text-blue-400":"bg-[#e3f2fd] text-blue-600",inputBg:d?"bg-[#1a1a1a]":"bg-white",bubbleOther:d?"bg-[#252525]":"bg-white border border-gray-200",bubbleMe:"bg-blue-600 text-white"},Te=l?"font-cairo":"font-sans",C=t=>{switch(t){case"high":return"text-red-500";case"medium":return"text-orange-500";case"low":return"text-blue-500";default:return s.textMuted}},P=t=>new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}),oe=async()=>{if(R.trim()){const t={name:R.trim(),type:"public",category:"Channels",members:ne},a=await b.createChannel(t);a&&(j([...u,a]),p(a.id),le(""),re([]),L(!1))}},de=async()=>{if(v.trim()){const t={sender:(c==null?void 0:c.name)||"You",senderAvatar:c!=null&&c.avatarUrl?`url(${c.avatarUrl})`:c!=null&&c.color?`bg-[${c.color}]`:"bg-blue-600",content:v.trim(),time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isMe:!0,type:"text",channelId:r},a=Date.now();O([...o,{...t,id:a}]),V(""),await b.sendMessage(t),ie(r)}},De=async()=>{if(A.trim()){const t={channelId:r,title:A.trim(),status:"todo",priority:N,date:P(y),tags:f},a=await b.createTask(t);a&&(Q([...G,a]),J(""),H("medium"),E([]),w(new Date))}},Ae=async()=>{if(I.trim()){const t={channelId:r,content:I.trim(),priority:N,date:"Today",dueDate:P(y)},a=await b.createNote(t);a&&(q([...Y,a]),ae(""),H("medium"),w(new Date))}},He=t=>{f.includes(t)?E(f.filter(a=>a!==t)):E([...f,t])},Ee=t=>{t.preventDefault(),K(!0)};n.useEffect(()=>{const t=x=>{if(T){const i=l?window.innerWidth-x.clientX:x.clientX;i>200&&i<400&&ye(i)}},a=()=>K(!1);return T&&(window.addEventListener("mousemove",t),window.addEventListener("mouseup",a),document.body.style.cursor="col-resize"),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",a),document.body.style.cursor="default"}},[T,l]),n.useEffect(()=>{const t=a=>{B.current&&!B.current.contains(a.target)&&L(!1)};return k&&document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[k]);const ce=t=>t.avatarUrl?e.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-full h-full object-cover rounded-full"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-[10px]",style:{backgroundColor:t.color||"#999"},children:t.name.charAt(0)});return e.jsx("div",{className:`w-full h-full absolute inset-0 ${Te} ${s.text}`,children:e.jsxs("div",{className:`w-full h-full flex ${l?"flex-row-reverse":"flex-row"} overflow-hidden ${s.bg}`,children:[e.jsxs("div",{style:{width:Ne},className:`flex-shrink-0 flex flex-col ${s.sidebar} border-${l?"l":"r"} ${s.border} relative z-20`,children:[e.jsxs("div",{className:`h-14 flex items-center justify-between px-4 border-b ${s.border}`,children:[e.jsxs("div",{className:"font-bold flex items-center gap-2 truncate",children:[e.jsx("div",{className:"w-5 h-5 rounded bg-blue-500 flex items-center justify-center text-[10px] text-white",children:"OS"}),e.jsx("span",{className:"truncate",children:"Discussion"}),e.jsx(Re,{size:12,className:s.textMuted})]}),e.jsxs("div",{className:"flex items-center gap-1 relative",children:[e.jsx("button",{onClick:()=>L(!k),className:`p-1.5 rounded ${s.itemHover} text-blue-500`,children:e.jsx(U,{size:16})}),e.jsx("button",{className:`p-1.5 rounded ${s.itemHover}`,children:e.jsx(Be,{size:16,className:s.textMuted})}),e.jsx(W,{children:k&&e.jsxs(g.div,{ref:B,initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:`absolute top-full ${l?"left-0":"right-0"} mt-2 w-64 p-4 rounded-xl border ${s.border} ${d?"bg-[#1a1a1a]":"bg-white"} shadow-2xl z-50`,children:[e.jsx("h4",{className:`text-xs font-bold ${s.textMuted} mb-3 uppercase tracking-wider`,children:l?"لوحة جديدة":"New Board"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-[10px] ${s.textMuted} mb-1`,children:l?"الاسم":"NAME"}),e.jsx("input",{autoFocus:!0,value:R,onChange:t=>le(t.target.value),onKeyDown:t=>t.key==="Enter"&&oe(),placeholder:l?"اسم اللوحة...":"Board name...",className:`w-full bg-transparent border-b ${s.border} text-sm pb-1 focus:border-blue-500 outline-none ${s.text}`})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-[10px] ${s.textMuted} mb-2`,children:l?"الفريق":"TEAM MEMBERS"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_.filter(t=>t.id!==(c==null?void 0:c.id)).map(t=>{const a=ne.includes(t.id);return e.jsxs("button",{onClick:()=>{re(x=>x.includes(t.id)?x.filter(i=>i!==t.id):[...x,t.id])},className:`relative w-8 h-8 rounded-full flex items-center justify-center transition-all ${a?"ring-2 ring-blue-500 ring-offset-1 ring-offset-black":"opacity-60 hover:opacity-100"}`,title:t.name,children:[e.jsx("div",{className:"w-full h-full rounded-full overflow-hidden",children:ce(t)}),a&&e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 text-white rounded-full p-0.5 border border-black",children:e.jsx(ue,{size:8})})]},t.id)})})]}),e.jsx("button",{onClick:oe,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-2 rounded-lg text-xs font-bold transition-colors",children:l?"إنشاء اللوحة":"Create Board"})]})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar py-4 px-2 space-y-6",children:[e.jsx(F,{label:l?"المفضلة":"Favorites",channels:u.filter(t=>t.category==="Favorites"),selectedId:r,onSelect:p,colors:s}),e.jsx(F,{label:l?"القنوات":"Channels",channels:u.filter(t=>t.category==="Channels"),selectedId:r,onSelect:p,colors:s,canAdd:!0}),e.jsx(F,{label:l?"الرسائل المباشرة":"Direct Messages",channels:u.filter(t=>t.category==="Direct Messages"),selectedId:r,onSelect:p,colors:s,canAdd:!0})]})]}),e.jsx("div",{onMouseDown:Ee,className:"w-px hover:w-1 group cursor-col-resize z-30 flex items-center justify-center -ml-[1px]",children:e.jsx("div",{className:`w-px h-full ${s.border} group-hover:bg-blue-500 transition-colors`})}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-transparent relative",children:[r&&e.jsxs("div",{className:`h-14 border-b ${s.border} flex items-center justify-between px-6 bg-opacity-50 backdrop-blur-sm z-10`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-xl text-gray-400 font-light",children:h.type==="dm"?"@":"#"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-bold text-sm",children:[h.name,h.type==="private"&&e.jsx(fe,{size:12,className:s.textMuted})]}),h.members&&e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[h.members.slice(0,3).map(t=>{const a=_.find(x=>x.id===t);return a?e.jsx("div",{className:"w-4 h-4 rounded-full overflow-hidden border border-black",children:ce(a)},t):null}),h.members.length>3&&e.jsxs("span",{className:`text-[10px] ${s.textMuted}`,children:["+",h.members.length-3]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>$e(!D),className:`p-2 rounded ${s.itemHover} ${D?"text-blue-500":s.textMuted}`,children:e.jsx(Pe,{size:18})})})]}),r?e.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 custom-scrollbar pb-6",children:o.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 opacity-50",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-500/10 mb-2",children:e.jsx(ge,{size:24})}),e.jsx("p",{className:"text-sm",children:"No messages yet"})]}):o.map(t=>{var a;return e.jsxs(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 group ${t.isMe?l?"flex-row":"flex-row-reverse":l?"flex-row-reverse":"flex-row"}`,children:[t.type!=="system"&&((a=t.senderAvatar)!=null&&a.startsWith("url")?e.jsx("div",{className:"w-8 h-8 rounded-lg flex-shrink-0 bg-cover bg-center shadow-md",style:{backgroundImage:t.senderAvatar}}):e.jsx("div",{className:`w-8 h-8 rounded-lg flex-shrink-0 flex items-center justify-center text-xs font-bold text-white shadow-md ${t.senderAvatar.includes("bg-")?t.senderAvatar:"bg-blue-600"}`,children:t.sender[0]})),e.jsxs("div",{className:`flex flex-col max-w-[75%] ${t.isMe?l?"items-start":"items-end":l?"items-end":"items-start"}`,children:[t.type!=="system"&&e.jsxs("div",{className:"flex items-center gap-2 mb-1 px-1",children:[e.jsx("span",{className:"font-bold text-xs",children:t.sender}),e.jsx("span",{className:`text-[10px] ${s.textMuted}`,children:t.time})]}),e.jsx("div",{className:`px-3 py-2 rounded-xl text-sm leading-relaxed shadow-sm relative ${t.isMe?s.bubbleMe:s.bubbleOther} ${t.isMe?l?"rounded-tl-sm":"rounded-tr-sm":l?"rounded-tr-sm":"rounded-tl-sm"}`,children:t.content})]})]},t.id)})}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 text-sm",children:"Select a channel to start chatting"}),r&&e.jsx("div",{className:`p-4 border-t ${s.border} ${s.inputBg}`,children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 pb-2",children:[e.jsx("button",{className:`p-1 rounded ${s.itemHover} ${s.textMuted} hover:${s.text}`,children:e.jsx(Ye,{size:14})}),e.jsx("button",{className:`p-1 rounded ${s.itemHover} ${s.textMuted} hover:${s.text}`,children:e.jsx(Je,{size:14})}),e.jsx("div",{className:`w-px h-3 ${s.border} mx-1`}),e.jsx("button",{className:`p-1 rounded ${s.itemHover} ${s.textMuted} hover:${s.text}`,children:e.jsx(Oe,{size:14})})]}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsx("button",{className:`p-2 rounded-full ${s.itemHover} ${s.textMuted} hover:${s.text} mb-1`,children:e.jsx(U,{size:18})}),e.jsxs("div",{className:`flex-1 ${d?"bg-black/20":"bg-gray-100"} rounded-lg border ${s.border} focus-within:ring-1 focus-within:ring-blue-500/50 transition-all flex items-end p-2`,children:[e.jsx("textarea",{value:v,onChange:t=>V(t.target.value),onKeyDown:t=>t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),de()),placeholder:l?`رسالة إلى #${h.name}`:`Message #${h.name}`,className:`w-full bg-transparent border-none resize-none outline-none ${s.text} min-h-[40px] max-h-[150px] text-sm leading-normal custom-scrollbar`,rows:1,style:{height:"auto"}}),e.jsx("div",{className:"flex gap-1 ml-2",children:e.jsx("button",{className:"p-1 rounded hover:bg-black/10 text-gray-400 hover:text-gray-600",children:e.jsx(_e,{size:18})})})]}),e.jsx("button",{onClick:de,className:`p-2.5 rounded-lg transition-all mb-1 ${v.trim()?"bg-blue-600 text-white":`${s.itemHover} ${s.textMuted}`}`,children:e.jsx(Ke,{size:18,className:l?"rotate-180":""})})]})]})})]}),e.jsx(W,{initial:!1,children:D&&e.jsxs(g.div,{initial:{width:0,opacity:0},animate:{width:we,opacity:1},exit:{width:0,opacity:0},className:`flex-shrink-0 flex flex-col ${s.sidebar} border-${l?"r":"l"} ${s.border} overflow-hidden`,children:[e.jsxs("div",{className:`flex items-center p-1 m-2 rounded-lg ${d?"bg-black/20":"bg-gray-200/50"}`,children:[e.jsxs("button",{onClick:()=>X("tasks"),className:`flex-1 flex items-center justify-center gap-2 py-1.5 rounded-md text-xs font-medium transition-all ${m==="tasks"?s.itemActive+" shadow-sm":s.textMuted}`,children:[e.jsx(Ve,{size:14})," ",l?"المهام":"Tasks"]}),e.jsxs("button",{onClick:()=>X("notes"),className:`flex-1 flex items-center justify-center gap-2 py-1.5 rounded-md text-xs font-medium transition-all ${m==="notes"?s.itemActive+" shadow-sm":s.textMuted}`,children:[e.jsx(Xe,{size:14})," ",l?"الملاحظات":"Notes"]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3",children:[e.jsxs("div",{className:`mb-6 p-4 rounded-xl border ${s.border} ${d?"bg-white/5":"bg-white"} shadow-sm relative group`,children:[e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"text",value:m==="tasks"?A:I,onChange:t=>m==="tasks"?J(t.target.value):ae(t.target.value),placeholder:m==="tasks"?l?"مهمة جديدة...":"New Task...":l?"ملاحظة جديدة...":"New Note...",className:`w-full bg-transparent border-none outline-none text-sm font-medium ${s.text} placeholder:${s.textMuted}`})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 relative",children:[e.jsxs("button",{onClick:()=>$(!Z),className:`flex items-center gap-1.5 px-2 py-1 rounded-md text-xs border ${s.border} ${s.itemHover} ${s.textMuted} hover:${s.text}`,children:[e.jsx(he,{size:12})," ",e.jsx("span",{children:P(y)})]}),e.jsxs("button",{onClick:()=>se(!te),className:`flex items-center gap-1.5 px-2 py-1 rounded-md text-xs border ${s.border} ${s.itemHover} ${C(N)}`,children:[e.jsx(M,{size:12,fill:"currentColor"})," ",e.jsx("span",{className:"capitalize",children:N})]}),m==="tasks"&&e.jsxs("button",{onClick:()=>ke(!ee),className:`flex items-center gap-1.5 px-2 py-1 rounded-md text-xs border ${s.border} ${s.itemHover} ${f.length?"text-blue-500":s.textMuted}`,children:[e.jsx(Ge,{size:12})," ",e.jsx("span",{children:f.length||"Tags"})]}),e.jsxs(W,{children:[Z&&e.jsxs(g.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:`absolute top-8 left-0 w-64 p-3 rounded-xl border ${s.border} ${d?"bg-[#1a1a1a]":"bg-white"} shadow-2xl z-50`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[e.jsx("span",{className:`text-xs font-bold ${s.text}`,children:"Calendar"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:`p-1 rounded ${s.itemHover}`,children:e.jsx(We,{size:12})}),e.jsx("button",{className:`p-1 rounded ${s.itemHover}`,children:e.jsx(Fe,{size:12})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","M","T","W","T","F","S"].map((t,a)=>e.jsx("div",{className:`text-[10px] text-center ${s.textMuted}`,children:t},a))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:31},(t,a)=>a+1).map(t=>e.jsx("button",{onClick:()=>{w(new Date(2023,9,t)),$(!1)},className:`h-7 w-7 rounded-full text-xs flex items-center justify-center transition-all ${t===y.getDate()?"bg-blue-600 text-white":`${s.itemHover} ${s.text}`}`,children:t},t))}),e.jsxs("div",{className:"mt-3 pt-2 border-t border-dashed border-gray-700/50 flex justify-between",children:[e.jsx("button",{onClick:()=>{w(new Date),$(!1)},className:"text-[10px] text-blue-500 hover:underline",children:"Today"}),e.jsx("button",{onClick:()=>$(!1),className:"text-[10px] text-red-500 hover:underline",children:"Close"})]})]}),ee&&m==="tasks"&&e.jsxs(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:`absolute top-8 left-0 w-48 p-2 rounded-xl border ${s.border} ${d?"bg-[#1a1a1a]":"bg-white"} shadow-2xl z-50`,children:[e.jsx("div",{className:`px-2 py-1 text-[10px] font-bold ${s.textMuted} uppercase`,children:"Select Tags"}),Ze.map(t=>e.jsxs("button",{onClick:()=>He(t.label),className:`w-full text-left px-2 py-1.5 rounded-md text-xs flex items-center justify-between ${s.itemHover} ${s.text}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${t.color}`}),t.label]}),f.includes(t.label)&&e.jsx(ue,{size:12,className:"text-blue-500"})]},t.id))]}),te&&e.jsx(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:`absolute top-8 left-0 w-32 p-1 rounded-xl border ${s.border} ${d?"bg-[#1a1a1a]":"bg-white"} shadow-2xl z-50`,children:["high","medium","low"].map(t=>e.jsxs("button",{onClick:()=>{H(t),se(!1)},className:`w-full text-left px-3 py-1.5 rounded-md text-xs flex items-center gap-2 ${s.itemHover} capitalize`,children:[e.jsx(M,{size:12,className:C(t),fill:"currentColor"})," ",t]},t))})]})]}),e.jsx("button",{onClick:m==="tasks"?De:Ae,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded-md text-xs font-bold transition-colors",children:l?"إضافة":"Add"})]})]}),m==="tasks"&&e.jsx("div",{className:"space-y-6",children:["todo","processing","done"].map(t=>{const a=G.filter(i=>i.channelId===r&&i.status===t),x=t==="todo"?l?"للقيام":"To Do":t==="processing"?l?"جاري العمل":"Processing":l?"مكتمل":"Done";return e.jsxs("div",{children:[e.jsxs("div",{className:`flex items-center justify-between mb-2 text-xs font-bold ${s.textMuted} uppercase tracking-wider`,children:[e.jsx("span",{children:x}),e.jsx("span",{className:"bg-gray-500/10 px-1.5 rounded text-[10px]",children:a.length})]}),e.jsx("div",{className:"space-y-2",children:a.map(i=>e.jsxs("div",{className:`p-3 rounded-lg border ${s.border} ${s.inputBg} shadow-sm group hover:border-blue-500/50 transition-colors`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:`text-sm font-medium ${i.status==="done"?"line-through opacity-50":""}`,children:i.title}),e.jsx("button",{className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500",children:e.jsx(be,{size:12})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[e.jsxs("span",{className:`flex items-center gap-1 ${C(i.priority)}`,children:[e.jsx(M,{size:10,fill:"currentColor"})," ",i.priority]}),e.jsxs("span",{className:`flex items-center gap-1 ${s.textMuted}`,children:[e.jsx(he,{size:10})," ",i.date]}),i.tags&&i.tags.map(xe=>e.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-blue-500/10 text-blue-500",children:["#",xe]},xe))]})]},i.id))})]},t)})}),m==="notes"&&e.jsx("div",{className:"space-y-2",children:Y.filter(t=>t.channelId===r).map(t=>e.jsxs("div",{className:`p-3 rounded-lg border ${s.border} ${s.inputBg} relative group`,children:[e.jsx("p",{className:"text-sm mb-2",children:t.content}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500",children:[e.jsx("span",{className:`flex items-center gap-1 ${C(t.priority)}`,children:e.jsx(M,{size:10,fill:"currentColor"})}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ue,{size:10})," ",t.dueDate]})]}),e.jsx("button",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500",children:e.jsx(be,{size:12})})]},t.id))})]})]})})]})})},F=({label:S,channels:z,selectedId:u,onSelect:j,colors:r,canAdd:p})=>e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"px-2 mb-1 flex items-center justify-between group",children:[e.jsx("span",{className:`text-xs font-bold ${r.textMuted} uppercase tracking-wider`,children:S}),p&&e.jsx(U,{size:12,className:`${r.textMuted} hover:${r.text} cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity`})]}),e.jsx("div",{className:"space-y-0.5",children:z.map(o=>e.jsxs("div",{onClick:()=>j(o.id),className:`px-3 py-1.5 rounded-md cursor-pointer flex items-center justify-between group transition-colors ${u===o.id?r.itemActive:r.itemHover}`,children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.type==="dm"?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${o.avatar||"bg-gray-400"}`}),e.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-2 h-2 rounded-full border-2 ${r.sidebar.replace("bg-","border-")} ${o.status==="online"?"bg-green-500":"bg-gray-400"}`})]}):e.jsx("span",{className:`${u===o.id?"text-blue-400":r.textMuted}`,children:o.type==="private"?e.jsx(fe,{size:14}):e.jsx(ge,{size:14})}),e.jsx("span",{className:`text-sm truncate ${u===o.id?"font-medium":r.textMuted} group-hover:${r.text}`,children:o.name})]}),o.unreadCount&&e.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 rounded-full font-bold",children:o.unreadCount})]},o.id))})]});export{ct as default};
