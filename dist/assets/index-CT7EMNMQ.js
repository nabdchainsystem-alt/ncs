var r_e=Object.defineProperty;var n_e=(r,e,t)=>e in r?r_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Pa=(r,e,t)=>n_e(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var lC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var W6={exports:{}},GT={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _Y;function i_e(){if(_Y)return GT;_Y=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:s,ref:i!==void 0?i:null,props:a}}return GT.Fragment=e,GT.jsx=t,GT.jsxs=t,GT}var wY;function a_e(){return wY||(wY=1,W6.exports=i_e()),W6.exports}var y=a_e(),Y6={exports:{}},qn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SY;function s_e(){if(SY)return qn;SY=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),d=Symbol.iterator;function h(X){return X===null||typeof X!="object"?null:(X=d&&X[d]||X["@@iterator"],typeof X=="function"?X:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function g(X,F,W){this.props=X,this.context=F,this.refs=x,this.updater=W||p}g.prototype.isReactComponent={},g.prototype.setState=function(X,F){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,F,"setState")},g.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function _(){}_.prototype=g.prototype;function w(X,F,W){this.props=X,this.context=F,this.refs=x,this.updater=W||p}var A=w.prototype=new _;A.constructor=w,v(A,g.prototype),A.isPureReactComponent=!0;var M=Array.isArray;function C(){}var N={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function D(X,F,W){var Q=W.ref;return{$$typeof:r,type:X,key:F,ref:Q!==void 0?Q:null,props:W}}function k(X,F){return D(X.type,F,X.props)}function O(X){return typeof X=="object"&&X!==null&&X.$$typeof===r}function I(X){var F={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(W){return F[W]})}var j=/\/+/g;function B(X,F){return typeof X=="object"&&X!==null&&X.key!=null?I(""+X.key):F.toString(36)}function K(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(C,C):(X.status="pending",X.then(function(F){X.status==="pending"&&(X.status="fulfilled",X.value=F)},function(F){X.status==="pending"&&(X.status="rejected",X.reason=F)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function H(X,F,W,Q,re){var ae=typeof X;(ae==="undefined"||ae==="boolean")&&(X=null);var ce=!1;if(X===null)ce=!0;else switch(ae){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(X.$$typeof){case r:case e:ce=!0;break;case u:return ce=X._init,H(ce(X._payload),F,W,Q,re)}}if(ce)return re=re(X),ce=Q===""?"."+B(X,0):Q,M(re)?(W="",ce!=null&&(W=ce.replace(j,"$&/")+"/"),H(re,F,W,"",function(be){return be})):re!=null&&(O(re)&&(re=k(re,W+(re.key==null||X&&X.key===re.key?"":(""+re.key).replace(j,"$&/")+"/")+ce)),F.push(re)),1;ce=0;var ye=Q===""?".":Q+":";if(M(X))for(var fe=0;fe<X.length;fe++)Q=X[fe],ae=ye+B(Q,fe),ce+=H(Q,F,W,ae,re);else if(fe=h(X),typeof fe=="function")for(X=fe.call(X),fe=0;!(Q=X.next()).done;)Q=Q.value,ae=ye+B(Q,fe++),ce+=H(Q,F,W,ae,re);else if(ae==="object"){if(typeof X.then=="function")return H(K(X),F,W,Q,re);throw F=String(X),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ce}function Z(X,F,W){if(X==null)return X;var Q=[],re=0;return H(X,Q,"","",function(ae){return F.call(W,ae,re++)}),Q}function Y(X){if(X._status===-1){var F=X._result;F=F(),F.then(function(W){(X._status===0||X._status===-1)&&(X._status=1,X._result=W)},function(W){(X._status===0||X._status===-1)&&(X._status=2,X._result=W)}),X._status===-1&&(X._status=0,X._result=F)}if(X._status===1)return X._result.default;throw X._result}var J=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},oe={map:Z,forEach:function(X,F,W){Z(X,function(){F.apply(this,arguments)},W)},count:function(X){var F=0;return Z(X,function(){F++}),F},toArray:function(X){return Z(X,function(F){return F})||[]},only:function(X){if(!O(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return qn.Activity=f,qn.Children=oe,qn.Component=g,qn.Fragment=t,qn.Profiler=i,qn.PureComponent=w,qn.StrictMode=n,qn.Suspense=l,qn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,qn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return N.H.useMemoCache(X)}},qn.cache=function(X){return function(){return X.apply(null,arguments)}},qn.cacheSignal=function(){return null},qn.cloneElement=function(X,F,W){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Q=v({},X.props),re=X.key;if(F!=null)for(ae in F.key!==void 0&&(re=""+F.key),F)!L.call(F,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&F.ref===void 0||(Q[ae]=F[ae]);var ae=arguments.length-2;if(ae===1)Q.children=W;else if(1<ae){for(var ce=Array(ae),ye=0;ye<ae;ye++)ce[ye]=arguments[ye+2];Q.children=ce}return D(X.type,re,Q)},qn.createContext=function(X){return X={$$typeof:s,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},qn.createElement=function(X,F,W){var Q,re={},ae=null;if(F!=null)for(Q in F.key!==void 0&&(ae=""+F.key),F)L.call(F,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(re[Q]=F[Q]);var ce=arguments.length-2;if(ce===1)re.children=W;else if(1<ce){for(var ye=Array(ce),fe=0;fe<ce;fe++)ye[fe]=arguments[fe+2];re.children=ye}if(X&&X.defaultProps)for(Q in ce=X.defaultProps,ce)re[Q]===void 0&&(re[Q]=ce[Q]);return D(X,ae,re)},qn.createRef=function(){return{current:null}},qn.forwardRef=function(X){return{$$typeof:o,render:X}},qn.isValidElement=O,qn.lazy=function(X){return{$$typeof:u,_payload:{_status:-1,_result:X},_init:Y}},qn.memo=function(X,F){return{$$typeof:c,type:X,compare:F===void 0?null:F}},qn.startTransition=function(X){var F=N.T,W={};N.T=W;try{var Q=X(),re=N.S;re!==null&&re(W,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(C,J)}catch(ae){J(ae)}finally{F!==null&&W.types!==null&&(F.types=W.types),N.T=F}},qn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},qn.use=function(X){return N.H.use(X)},qn.useActionState=function(X,F,W){return N.H.useActionState(X,F,W)},qn.useCallback=function(X,F){return N.H.useCallback(X,F)},qn.useContext=function(X){return N.H.useContext(X)},qn.useDebugValue=function(){},qn.useDeferredValue=function(X,F){return N.H.useDeferredValue(X,F)},qn.useEffect=function(X,F){return N.H.useEffect(X,F)},qn.useEffectEvent=function(X){return N.H.useEffectEvent(X)},qn.useId=function(){return N.H.useId()},qn.useImperativeHandle=function(X,F,W){return N.H.useImperativeHandle(X,F,W)},qn.useInsertionEffect=function(X,F){return N.H.useInsertionEffect(X,F)},qn.useLayoutEffect=function(X,F){return N.H.useLayoutEffect(X,F)},qn.useMemo=function(X,F){return N.H.useMemo(X,F)},qn.useOptimistic=function(X,F){return N.H.useOptimistic(X,F)},qn.useReducer=function(X,F,W){return N.H.useReducer(X,F,W)},qn.useRef=function(X){return N.H.useRef(X)},qn.useState=function(X){return N.H.useState(X)},qn.useSyncExternalStore=function(X,F,W){return N.H.useSyncExternalStore(X,F,W)},qn.useTransition=function(){return N.H.useTransition()},qn.version="19.2.0",qn}var TY;function RS(){return TY||(TY=1,Y6.exports=s_e()),Y6.exports}var me=RS();const yi=LS(me);var q6={exports:{}},WT={},X6={exports:{}},Z6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AY;function o_e(){return AY||(AY=1,(function(r){function e(H,Z){var Y=H.length;H.push(Z);e:for(;0<Y;){var J=Y-1>>>1,oe=H[J];if(0<i(oe,Z))H[J]=Z,H[Y]=oe,Y=J;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Z=H[0],Y=H.pop();if(Y!==Z){H[0]=Y;e:for(var J=0,oe=H.length,X=oe>>>1;J<X;){var F=2*(J+1)-1,W=H[F],Q=F+1,re=H[Q];if(0>i(W,Y))Q<oe&&0>i(re,W)?(H[J]=re,H[Q]=Y,J=Q):(H[J]=W,H[F]=Y,J=F);else if(Q<oe&&0>i(re,Y))H[J]=re,H[Q]=Y,J=Q;else break e}}return Z}function i(H,Z){var Y=H.sortIndex-Z.sortIndex;return Y!==0?Y:H.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,v=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function A(H){for(var Z=t(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=H)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function M(H){if(v=!1,A(H),!p)if(t(l)!==null)p=!0,C||(C=!0,I());else{var Z=t(c);Z!==null&&K(M,Z.startTime-H)}}var C=!1,N=-1,L=5,D=-1;function k(){return x?!0:!(r.unstable_now()-D<L)}function O(){if(x=!1,C){var H=r.unstable_now();D=H;var Z=!0;try{e:{p=!1,v&&(v=!1,_(N),N=-1),h=!0;var Y=d;try{t:{for(A(H),f=t(l);f!==null&&!(f.expirationTime>H&&k());){var J=f.callback;if(typeof J=="function"){f.callback=null,d=f.priorityLevel;var oe=J(f.expirationTime<=H);if(H=r.unstable_now(),typeof oe=="function"){f.callback=oe,A(H),Z=!0;break t}f===t(l)&&n(l),A(H)}else n(l);f=t(l)}if(f!==null)Z=!0;else{var X=t(c);X!==null&&K(M,X.startTime-H),Z=!1}}break e}finally{f=null,d=Y,h=!1}Z=void 0}}finally{Z?I():C=!1}}}var I;if(typeof w=="function")I=function(){w(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,B=j.port2;j.port1.onmessage=O,I=function(){B.postMessage(null)}}else I=function(){g(O,0)};function K(H,Z){N=g(function(){H(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_next=function(H){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var Y=d;d=Z;try{return H()}finally{d=Y}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=d;d=H;try{return Z()}finally{d=Y}},r.unstable_scheduleCallback=function(H,Z,Y){var J=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?J+Y:J):Y=J,H){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Y+oe,H={id:u++,callback:Z,priorityLevel:H,startTime:Y,expirationTime:oe,sortIndex:-1},Y>J?(H.sortIndex=Y,e(c,H),t(l)===null&&H===t(c)&&(v?(_(N),N=-1):v=!0,K(M,Y-J))):(H.sortIndex=oe,e(l,H),p||h||(p=!0,C||(C=!0,I()))),H},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(H){var Z=d;return function(){var Y=d;d=Z;try{return H.apply(this,arguments)}finally{d=Y}}}})(Z6)),Z6}var EY;function l_e(){return EY||(EY=1,X6.exports=o_e()),X6.exports}var K6={exports:{}},Uc={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MY;function c_e(){if(MY)return Uc;MY=1;var r=RS();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,c,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:c,implementation:u}}var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Uc.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Uc.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(l,c,null,u)},Uc.flushSync=function(l){var c=s.T,u=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=c,n.p=u,n.d.f()}},Uc.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},Uc.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},Uc.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,f=o(u,c.crossOrigin),d=typeof c.integrity=="string"?c.integrity:void 0,h=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:d,fetchPriority:h}):u==="script"&&n.d.X(l,{crossOrigin:f,integrity:d,fetchPriority:h,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Uc.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=o(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},Uc.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,f=o(u,c.crossOrigin);n.d.L(l,u,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Uc.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=o(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},Uc.requestFormReset=function(l){n.d.r(l)},Uc.unstable_batchedUpdates=function(l,c){return l(c)},Uc.useFormState=function(l,c,u){return s.H.useFormState(l,c,u)},Uc.useFormStatus=function(){return s.H.useHostTransitionStatus()},Uc.version="19.2.0",Uc}var CY;function Boe(){if(CY)return K6.exports;CY=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),K6.exports=c_e(),K6.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NY;function u_e(){if(NY)return WT;NY=1;var r=l_e(),e=RS(),t=Boe();function n(m){var b="https://react.dev/errors/"+m;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)b+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function a(m){var b=m,E=m;if(m.alternate)for(;b.return;)b=b.return;else{m=b;do b=m,(b.flags&4098)!==0&&(E=b.return),m=b.return;while(m)}return b.tag===3?E:null}function s(m){if(m.tag===13){var b=m.memoizedState;if(b===null&&(m=m.alternate,m!==null&&(b=m.memoizedState)),b!==null)return b.dehydrated}return null}function o(m){if(m.tag===31){var b=m.memoizedState;if(b===null&&(m=m.alternate,m!==null&&(b=m.memoizedState)),b!==null)return b.dehydrated}return null}function l(m){if(a(m)!==m)throw Error(n(188))}function c(m){var b=m.alternate;if(!b){if(b=a(m),b===null)throw Error(n(188));return b!==m?null:m}for(var E=m,R=b;;){var U=E.return;if(U===null)break;var q=U.alternate;if(q===null){if(R=U.return,R!==null){E=R;continue}break}if(U.child===q.child){for(q=U.child;q;){if(q===E)return l(U),m;if(q===R)return l(U),b;q=q.sibling}throw Error(n(188))}if(E.return!==R.return)E=U,R=q;else{for(var ve=!1,De=U.child;De;){if(De===E){ve=!0,E=U,R=q;break}if(De===R){ve=!0,R=U,E=q;break}De=De.sibling}if(!ve){for(De=q.child;De;){if(De===E){ve=!0,E=q,R=U;break}if(De===R){ve=!0,R=q,E=U;break}De=De.sibling}if(!ve)throw Error(n(189))}}if(E.alternate!==R)throw Error(n(190))}if(E.tag!==3)throw Error(n(188));return E.stateNode.current===E?m:b}function u(m){var b=m.tag;if(b===5||b===26||b===27||b===6)return m;for(m=m.child;m!==null;){if(b=u(m),b!==null)return b;m=m.sibling}return null}var f=Object.assign,d=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function I(m){return m===null||typeof m!="object"?null:(m=O&&m[O]||m["@@iterator"],typeof m=="function"?m:null)}var j=Symbol.for("react.client.reference");function B(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===j?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case v:return"Fragment";case g:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case C:return"SuspenseList";case D:return"Activity"}if(typeof m=="object")switch(m.$$typeof){case p:return"Portal";case w:return m.displayName||"Context";case _:return(m._context.displayName||"Context")+".Consumer";case A:var b=m.render;return m=m.displayName,m||(m=b.displayName||b.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case N:return b=m.displayName||null,b!==null?b:B(m.type)||"Memo";case L:b=m._payload,m=m._init;try{return B(m(b))}catch{}}return null}var K=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},J=[],oe=-1;function X(m){return{current:m}}function F(m){0>oe||(m.current=J[oe],J[oe]=null,oe--)}function W(m,b){oe++,J[oe]=m.current,m.current=b}var Q=X(null),re=X(null),ae=X(null),ce=X(null);function ye(m,b){switch(W(ae,b),W(re,m),W(Q,null),b.nodeType){case 9:case 11:m=(m=b.documentElement)&&(m=m.namespaceURI)?GW(m):0;break;default:if(m=b.tagName,b=b.namespaceURI)b=GW(b),m=WW(b,m);else switch(m){case"svg":m=1;break;case"math":m=2;break;default:m=0}}F(Q),W(Q,m)}function fe(){F(Q),F(re),F(ae)}function be(m){m.memoizedState!==null&&W(ce,m);var b=Q.current,E=WW(b,m.type);b!==E&&(W(re,m),W(Q,E))}function Oe(m){re.current===m&&(F(Q),F(re)),ce.current===m&&(F(ce),jT._currentValue=Y)}var xe,Qe;function ne(m){if(xe===void 0)try{throw Error()}catch(E){var b=E.stack.trim().match(/\n( *(at )?)/);xe=b&&b[1]||"",Qe=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+m+Qe}var te=!1;function Me(m,b){if(!m||te)return"";te=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(b){var nr=function(){throw Error()};if(Object.defineProperty(nr.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nr,[])}catch(Ht){var Bt=Ht}Reflect.construct(m,[],nr)}else{try{nr.call()}catch(Ht){Bt=Ht}m.call(nr.prototype)}}else{try{throw Error()}catch(Ht){Bt=Ht}(nr=m())&&typeof nr.catch=="function"&&nr.catch(function(){})}}catch(Ht){if(Ht&&Bt&&typeof Ht.stack=="string")return[Ht.stack,Bt.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var U=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");U&&U.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=R.DetermineComponentFrameRoot(),ve=q[0],De=q[1];if(ve&&De){var rt=ve.split(`
`),kt=De.split(`
`);for(U=R=0;R<rt.length&&!rt[R].includes("DetermineComponentFrameRoot");)R++;for(;U<kt.length&&!kt[U].includes("DetermineComponentFrameRoot");)U++;if(R===rt.length||U===kt.length)for(R=rt.length-1,U=kt.length-1;1<=R&&0<=U&&rt[R]!==kt[U];)U--;for(;1<=R&&0<=U;R--,U--)if(rt[R]!==kt[U]){if(R!==1||U!==1)do if(R--,U--,0>U||rt[R]!==kt[U]){var $t=`
`+rt[R].replace(" at new "," at ");return m.displayName&&$t.includes("<anonymous>")&&($t=$t.replace("<anonymous>",m.displayName)),$t}while(1<=R&&0<=U);break}}}finally{te=!1,Error.prepareStackTrace=E}return(E=m?m.displayName||m.name:"")?ne(E):""}function ge(m,b){switch(m.tag){case 26:case 27:case 5:return ne(m.type);case 16:return ne("Lazy");case 13:return m.child!==b&&b!==null?ne("Suspense Fallback"):ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return Me(m.type,!1);case 11:return Me(m.type.render,!1);case 1:return Me(m.type,!0);case 31:return ne("Activity");default:return""}}function de(m){try{var b="",E=null;do b+=ge(m,E),E=m,m=m.return;while(m);return b}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}var _e=Object.prototype.hasOwnProperty,je=r.unstable_scheduleCallback,Be=r.unstable_cancelCallback,Fe=r.unstable_shouldYield,we=r.unstable_requestPaint,pe=r.unstable_now,ze=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,ht=r.unstable_UserBlockingPriority,Je=r.unstable_NormalPriority,Ot=r.unstable_LowPriority,bt=r.unstable_IdlePriority,Nt=r.log,ir=r.unstable_setDisableYieldValue,ft=null,Dt=null;function tr(m){if(typeof Nt=="function"&&ir(m),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(ft,m)}catch{}}var Ze=Math.clz32?Math.clz32:Ue,it=Math.log,Wt=Math.LN2;function Ue(m){return m>>>=0,m===0?32:31-(it(m)/Wt|0)|0}var Ft=256,qt=262144,Lt=4194304;function vt(m){var b=m&42;if(b!==0)return b;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return m&261888;case 262144:case 524288:case 1048576:case 2097152:return m&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function Et(m,b,E){var R=m.pendingLanes;if(R===0)return 0;var U=0,q=m.suspendedLanes,ve=m.pingedLanes;m=m.warmLanes;var De=R&134217727;return De!==0?(R=De&~q,R!==0?U=vt(R):(ve&=De,ve!==0?U=vt(ve):E||(E=De&~m,E!==0&&(U=vt(E))))):(De=R&~q,De!==0?U=vt(De):ve!==0?U=vt(ve):E||(E=R&~m,E!==0&&(U=vt(E)))),U===0?0:b!==0&&b!==U&&(b&q)===0&&(q=U&-U,E=b&-b,q>=E||q===32&&(E&4194048)!==0)?b:U}function dr(m,b){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&b)===0}function vr(m,b){switch(m){case 1:case 2:case 4:case 8:case 64:return b+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(){var m=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),m}function Hr(m){for(var b=[],E=0;31>E;E++)b.push(m);return b}function xr(m,b){m.pendingLanes|=b,b!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function wn(m,b,E,R,U,q){var ve=m.pendingLanes;m.pendingLanes=E,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=E,m.entangledLanes&=E,m.errorRecoveryDisabledLanes&=E,m.shellSuspendCounter=0;var De=m.entanglements,rt=m.expirationTimes,kt=m.hiddenUpdates;for(E=ve&~E;0<E;){var $t=31-Ze(E),nr=1<<$t;De[$t]=0,rt[$t]=-1;var Bt=kt[$t];if(Bt!==null)for(kt[$t]=null,$t=0;$t<Bt.length;$t++){var Ht=Bt[$t];Ht!==null&&(Ht.lane&=-536870913)}E&=~nr}R!==0&&Va(m,R,0),q!==0&&U===0&&m.tag!==0&&(m.suspendedLanes|=q&~(ve&~b))}function Va(m,b,E){m.pendingLanes|=b,m.suspendedLanes&=~b;var R=31-Ze(b);m.entangledLanes|=b,m.entanglements[R]=m.entanglements[R]|1073741824|E&261930}function Ei(m,b){var E=m.entangledLanes|=b;for(m=m.entanglements;E;){var R=31-Ze(E),U=1<<R;U&b|m[R]&b&&(m[R]|=b),E&=~U}}function Ki(m,b){var E=b&-b;return E=(E&42)!==0?1:Sn(E),(E&(m.suspendedLanes|b))!==0?0:E}function Sn(m){switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=128;break;case 268435456:m=134217728;break;default:m=0}return m}function Mi(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function Ee(){var m=Z.p;return m!==0?m:(m=window.event,m===void 0?32:pY(m.type))}function He(m,b){var E=Z.p;try{return Z.p=m,b()}finally{Z.p=E}}var ke=Math.random().toString(36).slice(2),Re="__reactFiber$"+ke,Ve="__reactProps$"+ke,qe="__reactContainer$"+ke,wt="__reactEvents$"+ke,Vt="__reactListeners$"+ke,At="__reactHandles$"+ke,St="__reactResources$"+ke,Mt="__reactMarker$"+ke;function sr(m){delete m[Re],delete m[Ve],delete m[wt],delete m[Vt],delete m[At]}function or(m){var b=m[Re];if(b)return b;for(var E=m.parentNode;E;){if(b=E[qe]||E[Re]){if(E=b.alternate,b.child!==null||E!==null&&E.child!==null)for(m=JW(m);m!==null;){if(E=m[Re])return E;m=JW(m)}return b}m=E,E=m.parentNode}return null}function Se(m){if(m=m[Re]||m[qe]){var b=m.tag;if(b===5||b===6||b===13||b===31||b===26||b===27||b===3)return m}return null}function Ke(m){var b=m.tag;if(b===5||b===26||b===27||b===6)return m.stateNode;throw Error(n(33))}function et(m){var b=m[St];return b||(b=m[St]={hoistableStyles:new Map,hoistableScripts:new Map}),b}function ot(m){m[Mt]=!0}var st=new Set,Xt={};function lr(m,b){_r(m,b),_r(m+"Capture",b)}function _r(m,b){for(Xt[m]=b,m=0;m<b.length;m++)st.add(b[m])}var Sr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qr={},Xr={};function Gr(m){return _e.call(Xr,m)?!0:_e.call(qr,m)?!1:Sr.test(m)?Xr[m]=!0:(qr[m]=!0,!1)}function Zr(m,b,E){if(Gr(b))if(E===null)m.removeAttribute(b);else{switch(typeof E){case"undefined":case"function":case"symbol":m.removeAttribute(b);return;case"boolean":var R=b.toLowerCase().slice(0,5);if(R!=="data-"&&R!=="aria-"){m.removeAttribute(b);return}}m.setAttribute(b,""+E)}}function Qn(m,b,E){if(E===null)m.removeAttribute(b);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(b);return}m.setAttribute(b,""+E)}}function fi(m,b,E,R){if(R===null)m.removeAttribute(E);else{switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(E);return}m.setAttributeNS(b,E,""+R)}}function ln(m){switch(typeof m){case"bigint":case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function Ci(m){var b=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Wr(m,b,E){var R=Object.getOwnPropertyDescriptor(m.constructor.prototype,b);if(!m.hasOwnProperty(b)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var U=R.get,q=R.set;return Object.defineProperty(m,b,{configurable:!0,get:function(){return U.call(this)},set:function(ve){E=""+ve,q.call(this,ve)}}),Object.defineProperty(m,b,{enumerable:R.enumerable}),{getValue:function(){return E},setValue:function(ve){E=""+ve},stopTracking:function(){m._valueTracker=null,delete m[b]}}}}function Ni(m){if(!m._valueTracker){var b=Ci(m)?"checked":"value";m._valueTracker=Wr(m,b,""+m[b])}}function ei(m){if(!m)return!1;var b=m._valueTracker;if(!b)return!0;var E=b.getValue(),R="";return m&&(R=Ci(m)?m.checked?"true":"false":m.value),m=R,m!==E?(b.setValue(m),!0):!1}function ji(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}var ga=/[\n"\\]/g;function pi(m){return m.replace(ga,function(b){return"\\"+b.charCodeAt(0).toString(16)+" "})}function Jl(m,b,E,R,U,q,ve,De){m.name="",ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?m.type=ve:m.removeAttribute("type"),b!=null?ve==="number"?(b===0&&m.value===""||m.value!=b)&&(m.value=""+ln(b)):m.value!==""+ln(b)&&(m.value=""+ln(b)):ve!=="submit"&&ve!=="reset"||m.removeAttribute("value"),b!=null?ps(m,ve,ln(b)):E!=null?ps(m,ve,ln(E)):R!=null&&m.removeAttribute("value"),U==null&&q!=null&&(m.defaultChecked=!!q),U!=null&&(m.checked=U&&typeof U!="function"&&typeof U!="symbol"),De!=null&&typeof De!="function"&&typeof De!="symbol"&&typeof De!="boolean"?m.name=""+ln(De):m.removeAttribute("name")}function ea(m,b,E,R,U,q,ve,De){if(q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(m.type=q),b!=null||E!=null){if(!(q!=="submit"&&q!=="reset"||b!=null)){Ni(m);return}E=E!=null?""+ln(E):"",b=b!=null?""+ln(b):E,De||b===m.value||(m.value=b),m.defaultValue=b}R=R??U,R=typeof R!="function"&&typeof R!="symbol"&&!!R,m.checked=De?m.checked:!!R,m.defaultChecked=!!R,ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"&&(m.name=ve),Ni(m)}function ps(m,b,E){b==="number"&&ji(m.ownerDocument)===m||m.defaultValue===""+E||(m.defaultValue=""+E)}function ca(m,b,E,R){if(m=m.options,b){b={};for(var U=0;U<E.length;U++)b["$"+E[U]]=!0;for(E=0;E<m.length;E++)U=b.hasOwnProperty("$"+m[E].value),m[E].selected!==U&&(m[E].selected=U),U&&R&&(m[E].defaultSelected=!0)}else{for(E=""+ln(E),b=null,U=0;U<m.length;U++){if(m[U].value===E){m[U].selected=!0,R&&(m[U].defaultSelected=!0);return}b!==null||m[U].disabled||(b=m[U])}b!==null&&(b.selected=!0)}}function os(m,b,E){if(b!=null&&(b=""+ln(b),b!==m.value&&(m.value=b),E==null)){m.defaultValue!==b&&(m.defaultValue=b);return}m.defaultValue=E!=null?""+ln(E):""}function Ra(m,b,E,R){if(b==null){if(R!=null){if(E!=null)throw Error(n(92));if(K(R)){if(1<R.length)throw Error(n(93));R=R[0]}E=R}E==null&&(E=""),b=E}E=ln(b),m.defaultValue=E,R=m.textContent,R===E&&R!==""&&R!==null&&(m.value=R),Ni(m)}function Vo(m,b){if(b){var E=m.firstChild;if(E&&E===m.lastChild&&E.nodeType===3){E.nodeValue=b;return}}m.textContent=b}var Xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qd(m,b,E){var R=b.indexOf("--")===0;E==null||typeof E=="boolean"||E===""?R?m.setProperty(b,""):b==="float"?m.cssFloat="":m[b]="":R?m.setProperty(b,E):typeof E!="number"||E===0||Xs.has(b)?b==="float"?m.cssFloat=E:m[b]=(""+E).trim():m[b]=E+"px"}function Rv(m,b,E){if(b!=null&&typeof b!="object")throw Error(n(62));if(m=m.style,E!=null){for(var R in E)!E.hasOwnProperty(R)||b!=null&&b.hasOwnProperty(R)||(R.indexOf("--")===0?m.setProperty(R,""):R==="float"?m.cssFloat="":m[R]="");for(var U in b)R=b[U],b.hasOwnProperty(U)&&E[U]!==R&&qd(m,U,R)}else for(var q in b)b.hasOwnProperty(q)&&qd(m,q,b[q])}function Xd(m){if(m.indexOf("-")===-1)return!1;switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sl(m){return kv.test(""+m)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":m}function Ac(){}var mu=null;function Wh(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var Kf=null,vn=null;function Iv(m){var b=Se(m);if(b&&(m=b.stateNode)){var E=m[Ve]||null;e:switch(m=b.stateNode,b.type){case"input":if(Jl(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name),b=E.name,E.type==="radio"&&b!=null){for(E=m;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll('input[name="'+pi(""+b)+'"][type="radio"]'),b=0;b<E.length;b++){var R=E[b];if(R!==m&&R.form===m.form){var U=R[Ve]||null;if(!U)throw Error(n(90));Jl(R,U.value,U.defaultValue,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name)}}for(b=0;b<E.length;b++)R=E[b],R.form===m.form&&ei(R)}break e;case"textarea":os(m,E.value,E.defaultValue);break e;case"select":b=E.value,b!=null&&ca(m,!!E.multiple,b,!1)}}}var s0=!1;function Ov(m,b,E){if(s0)return m(b,E);s0=!0;try{var R=m(b);return R}finally{if(s0=!1,(Kf!==null||vn!==null)&&(Ie(),Kf&&(b=Kf,m=vn,vn=Kf=null,Iv(b),m)))for(b=0;b<m.length;b++)Iv(m[b])}}function ol(m,b){var E=m.stateNode;if(E===null)return null;var R=E[Ve]||null;if(R===null)return null;E=R[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(m=m.type,R=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!R;break e;default:m=!1}if(m)return null;if(E&&typeof E!="function")throw Error(n(231,b,typeof E));return E}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o0=!1;if(Zs)try{var Zd={};Object.defineProperty(Zd,"passive",{get:function(){o0=!0}}),window.addEventListener("test",Zd,Zd),window.removeEventListener("test",Zd,Zd)}catch{o0=!1}var Ql=null,Yh=null,Dl=null;function l0(){if(Dl)return Dl;var m,b=Yh,E=b.length,R,U="value"in Ql?Ql.value:Ql.textContent,q=U.length;for(m=0;m<E&&b[m]===U[m];m++);var ve=E-m;for(R=1;R<=ve&&b[E-R]===U[q-R];R++);return Dl=U.slice(m,1<R?1-R:void 0)}function ll(m){var b=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&b===13&&(m=13)):m=b,m===10&&(m=13),32<=m||m===13?m:0}function Kd(){return!0}function $d(){return!1}function _s(m){function b(E,R,U,q,ve){this._reactName=E,this._targetInst=U,this.type=R,this.nativeEvent=q,this.target=ve,this.currentTarget=null;for(var De in m)m.hasOwnProperty(De)&&(E=m[De],this[De]=E?E(q):q[De]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?Kd:$d,this.isPropagationStopped=$d,this}return f(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=Kd)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=Kd)},persist:function(){},isPersistent:Kd}),b}var gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=_s(gu),cl=f({},gu,{view:0,detail:0}),$f=_s(cl),qh,xu,nf,Xh=f({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==nf&&(nf&&m.type==="mousemove"?(qh=m.screenX-nf.screenX,xu=m.screenY-nf.screenY):xu=qh=0,nf=m),qh)},movementY:function(m){return"movementY"in m?m.movementY:xu}}),Pv=_s(Xh),ka=f({},Xh,{dataTransfer:0}),af=_s(ka),Fv=f({},cl,{relatedTarget:0}),sf=_s(Fv),Bv=f({},gu,{animationName:0,elapsedTime:0,pseudoElement:0}),ie=_s(Bv),Te=f({},gu,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),Xe=_s(Te),nt=f({},gu,{data:0}),pt=_s(nt),Kt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ar={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $r(m){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(m):(m=zr[m])?!!b[m]:!1}function yn(){return $r}var kn=f({},cl,{key:function(m){if(m.key){var b=Kt[m.key]||m.key;if(b!=="Unidentified")return b}return m.type==="keypress"?(m=ll(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?ar[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(m){return m.type==="keypress"?ll(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?ll(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),vi=_s(kn),Ha=f({},Xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=_s(Ha),xa=f({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn}),ya=_s(xa),ls=f({},gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),bo=_s(ls),of=f({},Xh,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),Ks=_s(of),_o=f({},gu,{newState:0,oldState:0}),Jd=_s(_o),Zh=[9,13,27,32],Ll=Zs&&"CompositionEvent"in window,Rl=null;Zs&&"documentMode"in document&&(Rl=document.documentMode);var tc=Zs&&"TextEvent"in window&&!Rl,Ga=Zs&&(!Ll||Rl&&8<Rl&&11>=Rl),vs=" ",Jf=!1;function lf(m,b){switch(m){case"keyup":return Zh.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var Ec=!1;function $s(m,b){switch(m){case"compositionend":return cf(b);case"keypress":return b.which!==32?null:(Jf=!0,vs);case"textInput":return m=b.data,m===vs&&Jf?null:m;default:return null}}function uf(m,b){if(Ec)return m==="compositionend"||!Ll&&lf(m,b)?(m=l0(),Dl=Yh=Ql=null,Ec=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return Ga&&b.locale!=="ko"?null:b.data;default:return null}}var Js={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b==="input"?!!Js[m.type]:b==="textarea"}function ul(m,b,E,R){Kf?vn?vn.push(R):vn=[R]:Kf=R,b=qM(b,"onChange"),0<b.length&&(E=new ec("onChange","change",null,E,R),m.push({event:E,listeners:b}))}var Mc=null,ff=null;function Qd(m){BW(m,0)}function rc(m){var b=Ke(m);if(ei(b))return m}function Qf(m,b){if(m==="change")return b}var wo=!1;if(Zs){var ks;if(Zs){var Ri="oninput"in document;if(!Ri){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Ri=typeof hf.oninput=="function"}ks=Ri}else ks=!1;wo=ks&&(!document.documentMode||9<document.documentMode)}function eh(){Mc&&(Mc.detachEvent("onpropertychange",ep),ff=Mc=null)}function ep(m){if(m.propertyName==="value"&&rc(ff)){var b=[];ul(b,ff,m,Wh(m)),Ov(Qd,b)}}function df(m,b,E){m==="focusin"?(eh(),Mc=b,ff=E,Mc.attachEvent("onpropertychange",ep)):m==="focusout"&&eh()}function ua(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return rc(ff)}function zv(m,b){if(m==="click")return rc(b)}function yu(m,b){if(m==="input"||m==="change")return rc(b)}function Ho(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var ta=typeof Object.is=="function"?Object.is:Ho;function pf(m,b){if(ta(m,b))return!0;if(typeof m!="object"||m===null||typeof b!="object"||b===null)return!1;var E=Object.keys(m),R=Object.keys(b);if(E.length!==R.length)return!1;for(R=0;R<E.length;R++){var U=E[R];if(!_e.call(b,U)||!ta(m[U],b[U]))return!1}return!0}function tp(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function rp(m,b){var E=tp(m);m=0;for(var R;E;){if(E.nodeType===3){if(R=m+E.textContent.length,m<=b&&R>=b)return{node:E,offset:b-m};m=R}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=tp(E)}}function bu(m,b){return m&&b?m===b?!0:m&&m.nodeType===3?!1:b&&b.nodeType===3?bu(m,b.parentNode):"contains"in m?m.contains(b):m.compareDocumentPosition?!!(m.compareDocumentPosition(b)&16):!1:!1}function _u(m){m=m!=null&&m.ownerDocument!=null&&m.ownerDocument.defaultView!=null?m.ownerDocument.defaultView:window;for(var b=ji(m.document);b instanceof m.HTMLIFrameElement;){try{var E=typeof b.contentWindow.location.href=="string"}catch{E=!1}if(E)m=b.contentWindow;else break;b=ji(m.document)}return b}function nc(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b&&(b==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||b==="textarea"||m.contentEditable==="true")}var Kh=Zs&&"documentMode"in document&&11>=document.documentMode,ic=null,vf=null,So=null,cs=!1;function Di(m,b,E){var R=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;cs||ic==null||ic!==ji(R)||(R=ic,"selectionStart"in R&&nc(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),So&&pf(So,R)||(So=R,R=qM(vf,"onSelect"),0<R.length&&(b=new ec("onSelect","select",null,b,E),m.push({event:b,listeners:R}),b.target=ic)))}function _i(m,b){var E={};return E[m.toLowerCase()]=b.toLowerCase(),E["Webkit"+m]="webkit"+b,E["Moz"+m]="moz"+b,E}var Ea={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},es={},ts={};Zs&&(ts=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Cc(m){if(es[m])return es[m];if(!Ea[m])return m;var b=Ea[m],E;for(E in b)if(b.hasOwnProperty(E)&&E in ts)return es[m]=b[E];return m}var Is=Cc("animationend"),u0=Cc("animationiteration"),wu=Cc("animationstart"),np=Cc("transitionrun"),th=Cc("transitionstart"),wg=Cc("transitioncancel"),jv=Cc("transitionend"),mf=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function To(m,b){mf.set(m,b),lr(b,[m])}var rh=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},Os=[],Jh=0,Uv=0;function nh(){for(var m=Jh,b=Uv=Jh=0;b<m;){var E=Os[b];Os[b++]=null;var R=Os[b];Os[b++]=null;var U=Os[b];Os[b++]=null;var q=Os[b];if(Os[b++]=null,R!==null&&U!==null){var ve=R.pending;ve===null?U.next=U:(U.next=ve.next,ve.next=U),R.pending=U}q!==0&&ap(E,U,q)}}function f0(m,b,E,R){Os[Jh++]=m,Os[Jh++]=b,Os[Jh++]=E,Os[Jh++]=R,Uv|=R,m.lanes|=R,m=m.alternate,m!==null&&(m.lanes|=R)}function ip(m,b,E,R){return f0(m,b,E,R),Qs(m)}function gf(m,b){return f0(m,null,null,b),Qs(m)}function ap(m,b,E){m.lanes|=E;var R=m.alternate;R!==null&&(R.lanes|=E);for(var U=!1,q=m.return;q!==null;)q.childLanes|=E,R=q.alternate,R!==null&&(R.childLanes|=E),q.tag===22&&(m=q.stateNode,m===null||m._visibility&1||(U=!0)),m=q,q=q.return;return m.tag===3?(q=m.stateNode,U&&b!==null&&(U=31-Ze(E),m=q.hiddenUpdates,R=m[U],R===null?m[U]=[b]:R.push(b),b.lane=E|536870912),q):null}function Qs(m){if(50<am)throw am=0,sm=null,Error(n(185));for(var b=m.return;b!==null;)m=b,b=m.return;return m.tag===3?m.stateNode:null}var Ps={};function Vv(m,b,E,R){this.tag=m,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(m,b,E,R){return new Vv(m,b,E,R)}function Go(m){return m=m.prototype,!(!m||!m.isReactComponent)}function ac(m,b){var E=m.alternate;return E===null?(E=eo(m.tag,b,m.key,m.mode),E.elementType=m.elementType,E.type=m.type,E.stateNode=m.stateNode,E.alternate=m,m.alternate=E):(E.pendingProps=b,E.type=m.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=m.flags&65011712,E.childLanes=m.childLanes,E.lanes=m.lanes,E.child=m.child,E.memoizedProps=m.memoizedProps,E.memoizedState=m.memoizedState,E.updateQueue=m.updateQueue,b=m.dependencies,E.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},E.sibling=m.sibling,E.index=m.index,E.ref=m.ref,E.refCleanup=m.refCleanup,E}function Fs(m,b){m.flags&=65011714;var E=m.alternate;return E===null?(m.childLanes=0,m.lanes=b,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=E.childLanes,m.lanes=E.lanes,m.child=E.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=E.memoizedProps,m.memoizedState=E.memoizedState,m.updateQueue=E.updateQueue,m.type=E.type,b=E.dependencies,m.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),m}function sp(m,b,E,R,U,q){var ve=0;if(R=m,typeof m=="function")Go(m)&&(ve=1);else if(typeof m=="string")ve=Gbe(m,E,Q.current)?26:m==="html"||m==="head"||m==="body"?27:5;else e:switch(m){case D:return m=eo(31,E,b,U),m.elementType=D,m.lanes=q,m;case v:return xf(E.children,U,q,b);case x:ve=8,U|=24;break;case g:return m=eo(12,E,b,U|2),m.elementType=g,m.lanes=q,m;case M:return m=eo(13,E,b,U),m.elementType=M,m.lanes=q,m;case C:return m=eo(19,E,b,U),m.elementType=C,m.lanes=q,m;default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case w:ve=10;break e;case _:ve=9;break e;case A:ve=11;break e;case N:ve=14;break e;case L:ve=16,R=null;break e}ve=29,E=Error(n(130,m===null?"null":typeof m,"")),R=null}return b=eo(ve,E,b,U),b.elementType=m,b.type=R,b.lanes=q,b}function xf(m,b,E,R){return m=eo(7,m,R,b),m.lanes=E,m}function h0(m,b,E){return m=eo(6,m,null,b),m.lanes=E,m}function Sg(m){var b=eo(18,null,null,0);return b.stateNode=m,b}function kl(m,b,E){return b=eo(4,m.children!==null?m.children:[],m.key,b),b.lanes=E,b.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},b}var Hv=new WeakMap;function Il(m,b){if(typeof m=="object"&&m!==null){var E=Hv.get(m);return E!==void 0?E:(b={value:m,source:b,stack:de(b)},Hv.set(m,b),b)}return{value:m,source:b,stack:de(b)}}var Su=[],Qh=0,Gv=null,d0=0,sc=[],Ol=0,yf=null,Nc=1,Dc="";function oc(m,b){Su[Qh++]=d0,Su[Qh++]=Gv,Gv=m,d0=b}function Iy(m,b,E){sc[Ol++]=Nc,sc[Ol++]=Dc,sc[Ol++]=yf,yf=m;var R=Nc;m=Dc;var U=32-Ze(R)-1;R&=~(1<<U),E+=1;var q=32-Ze(b)+U;if(30<q){var ve=U-U%5;q=(R&(1<<ve)-1).toString(32),R>>=ve,U-=ve,Nc=1<<32-Ze(b)+U|E<<U|R,Dc=q+m}else Nc=1<<q|E<<U|R,Dc=m}function Tg(m){m.return!==null&&(oc(m,1),Iy(m,1,0))}function ih(m){for(;m===Gv;)Gv=Su[--Qh],Su[Qh]=null,d0=Su[--Qh],Su[Qh]=null;for(;m===yf;)yf=sc[--Ol],sc[Ol]=null,Dc=sc[--Ol],sc[Ol]=null,Nc=sc[--Ol],sc[Ol]=null}function Wv(m,b){sc[Ol++]=Nc,sc[Ol++]=Dc,sc[Ol++]=yf,Nc=b.id,Dc=b.overflow,yf=m}var to=null,Ma=null,mi=!1,Wo=null,fa=!1,Lc=Error(n(519));function hi(m){var b=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw p0(Il(b,m)),Lc}function Yv(m){var b=m.stateNode,E=m.type,R=m.memoizedProps;switch(b[Re]=m,b[Ve]=R,E){case"dialog":Li("cancel",b),Li("close",b);break;case"iframe":case"object":case"embed":Li("load",b);break;case"video":case"audio":for(E=0;E<OT.length;E++)Li(OT[E],b);break;case"source":Li("error",b);break;case"img":case"image":case"link":Li("error",b),Li("load",b);break;case"details":Li("toggle",b);break;case"input":Li("invalid",b),ea(b,R.value,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name,!0);break;case"select":Li("invalid",b);break;case"textarea":Li("invalid",b),Ra(b,R.value,R.defaultValue,R.children)}E=R.children,typeof E!="string"&&typeof E!="number"&&typeof E!="bigint"||b.textContent===""+E||R.suppressHydrationWarning===!0||VW(b.textContent,E)?(R.popover!=null&&(Li("beforetoggle",b),Li("toggle",b)),R.onScroll!=null&&Li("scroll",b),R.onScrollEnd!=null&&Li("scrollend",b),R.onClick!=null&&(b.onclick=Ac),b=!0):b=!1,b||hi(m,!0)}function ah(m){for(to=m.return;to;)switch(to.tag){case 5:case 31:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:to=to.return}}function ro(m){if(m!==to)return!1;if(!mi)return ah(m),mi=!0,!1;var b=m.tag,E;if((E=b!==3&&b!==27)&&((E=b===5)&&(E=m.type,E=!(E!=="form"&&E!=="button")||D6(m.type,m.memoizedProps)),E=!E),E&&Ma&&hi(m),ah(m),b===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));Ma=$W(m)}else if(b===31){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));Ma=$W(m)}else b===27?(b=Ma,Zg(m.type)?(m=O6,O6=null,Ma=m):Ma=b):Ma=to?ud(m.stateNode.nextSibling):null;return!0}function op(){Ma=to=null,mi=!1}function Oy(){var m=Wo;return m!==null&&(jl===null?jl=m:jl.push.apply(jl,m),Wo=null),m}function p0(m){Wo===null?Wo=[m]:Wo.push(m)}var Ag=X(null),bf=null,Ao=null;function sh(m,b,E){W(Ag,b._currentValue),b._currentValue=E}function fl(m){m._currentValue=Ag.current,F(Ag)}function Rc(m,b,E){for(;m!==null;){var R=m.alternate;if((m.childLanes&b)!==b?(m.childLanes|=b,R!==null&&(R.childLanes|=b)):R!==null&&(R.childLanes&b)!==b&&(R.childLanes|=b),m===E)break;m=m.return}}function ed(m,b,E,R){var U=m.child;for(U!==null&&(U.return=m);U!==null;){var q=U.dependencies;if(q!==null){var ve=U.child;q=q.firstContext;e:for(;q!==null;){var De=q;q=U;for(var rt=0;rt<b.length;rt++)if(De.context===b[rt]){q.lanes|=E,De=q.alternate,De!==null&&(De.lanes|=E),Rc(q.return,E,m),R||(ve=null);break e}q=De.next}}else if(U.tag===18){if(ve=U.return,ve===null)throw Error(n(341));ve.lanes|=E,q=ve.alternate,q!==null&&(q.lanes|=E),Rc(ve,E,m),ve=null}else ve=U.child;if(ve!==null)ve.return=U;else for(ve=U;ve!==null;){if(ve===m){ve=null;break}if(U=ve.sibling,U!==null){U.return=ve.return,ve=U;break}ve=ve.return}U=ve}}function _f(m,b,E,R){m=null;for(var U=b,q=!1;U!==null;){if(!q){if((U.flags&524288)!==0)q=!0;else if((U.flags&262144)!==0)break}if(U.tag===10){var ve=U.alternate;if(ve===null)throw Error(n(387));if(ve=ve.memoizedProps,ve!==null){var De=U.type;ta(U.pendingProps.value,ve.value)||(m!==null?m.push(De):m=[De])}}else if(U===ce.current){if(ve=U.alternate,ve===null)throw Error(n(387));ve.memoizedState.memoizedState!==U.memoizedState.memoizedState&&(m!==null?m.push(jT):m=[jT])}U=U.return}m!==null&&ed(b,m,E,R),b.flags|=262144}function v0(m){for(m=m.firstContext;m!==null;){if(!ta(m.context._currentValue,m.memoizedValue))return!0;m=m.next}return!1}function td(m){bf=m,Ao=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function no(m){return Py(bf,m)}function qv(m,b){return bf===null&&td(m),Py(m,b)}function Py(m,b){var E=b._currentValue;if(b={context:b,memoizedValue:E,next:null},Ao===null){if(m===null)throw Error(n(308));Ao=b,m.dependencies={lanes:0,firstContext:b},m.flags|=524288}else Ao=Ao.next=b;return E}var kb=typeof AbortController<"u"?AbortController:function(){var m=[],b=this.signal={aborted:!1,addEventListener:function(E,R){m.push(R)}};this.abort=function(){b.aborted=!0,m.forEach(function(E){return E()})}},Ib=r.unstable_scheduleCallback,Fy=r.unstable_NormalPriority,an={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m0(){return{controller:new kb,data:new Map,refCount:0}}function Eo(m){m.refCount--,m.refCount===0&&Ib(Fy,function(){m.controller.abort()})}var lp=null,Eg=0,z=0,G=null;function se(m,b){if(lp===null){var E=lp=[];Eg=0,z=_6(),G={status:"pending",value:void 0,then:function(R){E.push(R)}}}return Eg++,b.then(ue,ue),b}function ue(){if(--Eg===0&&lp!==null){G!==null&&(G.status="fulfilled");var m=lp;lp=null,z=0,G=null;for(var b=0;b<m.length;b++)(0,m[b])()}}function Ae(m,b){var E=[],R={status:"pending",value:null,reason:null,then:function(U){E.push(U)}};return m.then(function(){R.status="fulfilled",R.value=b;for(var U=0;U<E.length;U++)(0,E[U])(b)},function(U){for(R.status="rejected",R.reason=U,U=0;U<E.length;U++)(0,E[U])(void 0)}),R}var Ce=H.S;H.S=function(m,b){Yg=pe(),typeof b=="object"&&b!==null&&typeof b.then=="function"&&se(m,b),Ce!==null&&Ce(m,b)};var Ne=X(null);function Le(){var m=Ne.current;return m!==null?m:da.pooledCache}function Pe(m,b){b===null?W(Ne,Ne.current):W(Ne,b.pool)}function We(){var m=Le();return m===null?null:{parent:an._currentValue,pool:m}}var at=Error(n(460)),Ct=Error(n(474)),Ge=Error(n(542)),ct={then:function(){}};function _t(m){return m=m.status,m==="fulfilled"||m==="rejected"}function Yt(m,b,E){switch(E=m[E],E===void 0?m.push(b):E!==b&&(b.then(Ac,Ac),b=E),b.status){case"fulfilled":return b.value;case"rejected":throw m=b.reason,cr(m),m;default:if(typeof b.status=="string")b.then(Ac,Ac);else{if(m=da,m!==null&&100<m.shellSuspendCounter)throw Error(n(482));m=b,m.status="pending",m.then(function(R){if(b.status==="pending"){var U=b;U.status="fulfilled",U.value=R}},function(R){if(b.status==="pending"){var U=b;U.status="rejected",U.reason=R}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw m=b.reason,cr(m),m}throw mt=b,at}}function Tt(m){try{var b=m._init;return b(m._payload)}catch(E){throw E!==null&&typeof E=="object"&&typeof E.then=="function"?(mt=E,at):E}}var mt=null;function Zt(){if(mt===null)throw Error(n(459));var m=mt;return mt=null,m}function cr(m){if(m===at||m===Ge)throw Error(n(483))}var rr=null,jr=0;function Ir(m){var b=jr;return jr+=1,rr===null&&(rr=[]),Yt(rr,m,b)}function Cn(m,b){b=b.props.ref,m.ref=b!==void 0?b:null}function Ur(m,b){throw b.$$typeof===d?Error(n(525)):(m=Object.prototype.toString.call(b),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":m)))}function Yn(m){function b(xt,lt){if(m){var Rt=xt.deletions;Rt===null?(xt.deletions=[lt],xt.flags|=16):Rt.push(lt)}}function E(xt,lt){if(!m)return null;for(;lt!==null;)b(xt,lt),lt=lt.sibling;return null}function R(xt){for(var lt=new Map;xt!==null;)xt.key!==null?lt.set(xt.key,xt):lt.set(xt.index,xt),xt=xt.sibling;return lt}function U(xt,lt){return xt=ac(xt,lt),xt.index=0,xt.sibling=null,xt}function q(xt,lt,Rt){return xt.index=Rt,m?(Rt=xt.alternate,Rt!==null?(Rt=Rt.index,Rt<lt?(xt.flags|=67108866,lt):Rt):(xt.flags|=67108866,lt)):(xt.flags|=1048576,lt)}function ve(xt){return m&&xt.alternate===null&&(xt.flags|=67108866),xt}function De(xt,lt,Rt,Qt){return lt===null||lt.tag!==6?(lt=h0(Rt,xt.mode,Qt),lt.return=xt,lt):(lt=U(lt,Rt),lt.return=xt,lt)}function rt(xt,lt,Rt,Qt){var gn=Rt.type;return gn===v?$t(xt,lt,Rt.props.children,Qt,Rt.key):lt!==null&&(lt.elementType===gn||typeof gn=="object"&&gn!==null&&gn.$$typeof===L&&Tt(gn)===lt.type)?(lt=U(lt,Rt.props),Cn(lt,Rt),lt.return=xt,lt):(lt=sp(Rt.type,Rt.key,Rt.props,null,xt.mode,Qt),Cn(lt,Rt),lt.return=xt,lt)}function kt(xt,lt,Rt,Qt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==Rt.containerInfo||lt.stateNode.implementation!==Rt.implementation?(lt=kl(Rt,xt.mode,Qt),lt.return=xt,lt):(lt=U(lt,Rt.children||[]),lt.return=xt,lt)}function $t(xt,lt,Rt,Qt,gn){return lt===null||lt.tag!==7?(lt=xf(Rt,xt.mode,Qt,gn),lt.return=xt,lt):(lt=U(lt,Rt),lt.return=xt,lt)}function nr(xt,lt,Rt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return lt=h0(""+lt,xt.mode,Rt),lt.return=xt,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case h:return Rt=sp(lt.type,lt.key,lt.props,null,xt.mode,Rt),Cn(Rt,lt),Rt.return=xt,Rt;case p:return lt=kl(lt,xt.mode,Rt),lt.return=xt,lt;case L:return lt=Tt(lt),nr(xt,lt,Rt)}if(K(lt)||I(lt))return lt=xf(lt,xt.mode,Rt,null),lt.return=xt,lt;if(typeof lt.then=="function")return nr(xt,Ir(lt),Rt);if(lt.$$typeof===w)return nr(xt,qv(xt,lt),Rt);Ur(xt,lt)}return null}function Bt(xt,lt,Rt,Qt){var gn=lt!==null?lt.key:null;if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return gn!==null?null:De(xt,lt,""+Rt,Qt);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case h:return Rt.key===gn?rt(xt,lt,Rt,Qt):null;case p:return Rt.key===gn?kt(xt,lt,Rt,Qt):null;case L:return Rt=Tt(Rt),Bt(xt,lt,Rt,Qt)}if(K(Rt)||I(Rt))return gn!==null?null:$t(xt,lt,Rt,Qt,null);if(typeof Rt.then=="function")return Bt(xt,lt,Ir(Rt),Qt);if(Rt.$$typeof===w)return Bt(xt,lt,qv(xt,Rt),Qt);Ur(xt,Rt)}return null}function Ht(xt,lt,Rt,Qt,gn){if(typeof Qt=="string"&&Qt!==""||typeof Qt=="number"||typeof Qt=="bigint")return xt=xt.get(Rt)||null,De(lt,xt,""+Qt,gn);if(typeof Qt=="object"&&Qt!==null){switch(Qt.$$typeof){case h:return xt=xt.get(Qt.key===null?Rt:Qt.key)||null,rt(lt,xt,Qt,gn);case p:return xt=xt.get(Qt.key===null?Rt:Qt.key)||null,kt(lt,xt,Qt,gn);case L:return Qt=Tt(Qt),Ht(xt,lt,Rt,Qt,gn)}if(K(Qt)||I(Qt))return xt=xt.get(Rt)||null,$t(lt,xt,Qt,gn,null);if(typeof Qt.then=="function")return Ht(xt,lt,Rt,Ir(Qt),gn);if(Qt.$$typeof===w)return Ht(xt,lt,Rt,qv(lt,Qt),gn);Ur(lt,Qt)}return null}function Kr(xt,lt,Rt,Qt){for(var gn=null,va=null,sn=lt,li=lt=0,zi=null;sn!==null&&li<Rt.length;li++){sn.index>li?(zi=sn,sn=null):zi=sn.sibling;var ma=Bt(xt,sn,Rt[li],Qt);if(ma===null){sn===null&&(sn=zi);break}m&&sn&&ma.alternate===null&&b(xt,sn),lt=q(ma,lt,li),va===null?gn=ma:va.sibling=ma,va=ma,sn=zi}if(li===Rt.length)return E(xt,sn),mi&&oc(xt,li),gn;if(sn===null){for(;li<Rt.length;li++)sn=nr(xt,Rt[li],Qt),sn!==null&&(lt=q(sn,lt,li),va===null?gn=sn:va.sibling=sn,va=sn);return mi&&oc(xt,li),gn}for(sn=R(sn);li<Rt.length;li++)zi=Ht(sn,xt,li,Rt[li],Qt),zi!==null&&(m&&zi.alternate!==null&&sn.delete(zi.key===null?li:zi.key),lt=q(zi,lt,li),va===null?gn=zi:va.sibling=zi,va=zi);return m&&sn.forEach(function(ex){return b(xt,ex)}),mi&&oc(xt,li),gn}function Tn(xt,lt,Rt,Qt){if(Rt==null)throw Error(n(151));for(var gn=null,va=null,sn=lt,li=lt=0,zi=null,ma=Rt.next();sn!==null&&!ma.done;li++,ma=Rt.next()){sn.index>li?(zi=sn,sn=null):zi=sn.sibling;var ex=Bt(xt,sn,ma.value,Qt);if(ex===null){sn===null&&(sn=zi);break}m&&sn&&ex.alternate===null&&b(xt,sn),lt=q(ex,lt,li),va===null?gn=ex:va.sibling=ex,va=ex,sn=zi}if(ma.done)return E(xt,sn),mi&&oc(xt,li),gn;if(sn===null){for(;!ma.done;li++,ma=Rt.next())ma=nr(xt,ma.value,Qt),ma!==null&&(lt=q(ma,lt,li),va===null?gn=ma:va.sibling=ma,va=ma);return mi&&oc(xt,li),gn}for(sn=R(sn);!ma.done;li++,ma=Rt.next())ma=Ht(sn,xt,li,ma.value,Qt),ma!==null&&(m&&ma.alternate!==null&&sn.delete(ma.key===null?li:ma.key),lt=q(ma,lt,li),va===null?gn=ma:va.sibling=ma,va=ma);return m&&sn.forEach(function(t_e){return b(xt,t_e)}),mi&&oc(xt,li),gn}function Za(xt,lt,Rt,Qt){if(typeof Rt=="object"&&Rt!==null&&Rt.type===v&&Rt.key===null&&(Rt=Rt.props.children),typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case h:e:{for(var gn=Rt.key;lt!==null;){if(lt.key===gn){if(gn=Rt.type,gn===v){if(lt.tag===7){E(xt,lt.sibling),Qt=U(lt,Rt.props.children),Qt.return=xt,xt=Qt;break e}}else if(lt.elementType===gn||typeof gn=="object"&&gn!==null&&gn.$$typeof===L&&Tt(gn)===lt.type){E(xt,lt.sibling),Qt=U(lt,Rt.props),Cn(Qt,Rt),Qt.return=xt,xt=Qt;break e}E(xt,lt);break}else b(xt,lt);lt=lt.sibling}Rt.type===v?(Qt=xf(Rt.props.children,xt.mode,Qt,Rt.key),Qt.return=xt,xt=Qt):(Qt=sp(Rt.type,Rt.key,Rt.props,null,xt.mode,Qt),Cn(Qt,Rt),Qt.return=xt,xt=Qt)}return ve(xt);case p:e:{for(gn=Rt.key;lt!==null;){if(lt.key===gn)if(lt.tag===4&&lt.stateNode.containerInfo===Rt.containerInfo&&lt.stateNode.implementation===Rt.implementation){E(xt,lt.sibling),Qt=U(lt,Rt.children||[]),Qt.return=xt,xt=Qt;break e}else{E(xt,lt);break}else b(xt,lt);lt=lt.sibling}Qt=kl(Rt,xt.mode,Qt),Qt.return=xt,xt=Qt}return ve(xt);case L:return Rt=Tt(Rt),Za(xt,lt,Rt,Qt)}if(K(Rt))return Kr(xt,lt,Rt,Qt);if(I(Rt)){if(gn=I(Rt),typeof gn!="function")throw Error(n(150));return Rt=gn.call(Rt),Tn(xt,lt,Rt,Qt)}if(typeof Rt.then=="function")return Za(xt,lt,Ir(Rt),Qt);if(Rt.$$typeof===w)return Za(xt,lt,qv(xt,Rt),Qt);Ur(xt,Rt)}return typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint"?(Rt=""+Rt,lt!==null&&lt.tag===6?(E(xt,lt.sibling),Qt=U(lt,Rt),Qt.return=xt,xt=Qt):(E(xt,lt),Qt=h0(Rt,xt.mode,Qt),Qt.return=xt,xt=Qt),ve(xt)):E(xt,lt)}return function(xt,lt,Rt,Qt){try{jr=0;var gn=Za(xt,lt,Rt,Qt);return rr=null,gn}catch(sn){if(sn===at||sn===Ge)throw sn;var va=eo(29,sn,null,xt.mode);return va.lanes=Qt,va.return=xt,va}finally{}}}var Ia=Yn(!0),Vn=Yn(!1),Or=!1;function yr(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(m,b){m=m.updateQueue,b.updateQueue===m&&(b.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function mn(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function Hn(m,b,E){var R=m.updateQueue;if(R===null)return null;if(R=R.shared,(Fi&2)!==0){var U=R.pending;return U===null?b.next=b:(b.next=U.next,U.next=b),R.pending=b,b=Qs(m),ap(m,null,E),b}return f0(m,R,b,E),Qs(m)}function ki(m,b,E){if(b=b.updateQueue,b!==null&&(b=b.shared,(E&4194048)!==0)){var R=b.lanes;R&=m.pendingLanes,E|=R,b.lanes=E,Ei(m,E)}}function ws(m,b){var E=m.updateQueue,R=m.alternate;if(R!==null&&(R=R.updateQueue,E===R)){var U=null,q=null;if(E=E.firstBaseUpdate,E!==null){do{var ve={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};q===null?U=q=ve:q=q.next=ve,E=E.next}while(E!==null);q===null?U=q=b:q=q.next=b}else U=q=b;E={baseState:R.baseState,firstBaseUpdate:U,lastBaseUpdate:q,shared:R.shared,callbacks:R.callbacks},m.updateQueue=E;return}m=E.lastBaseUpdate,m===null?E.firstBaseUpdate=b:m.next=b,E.lastBaseUpdate=b}var Mo=!1;function Ca(){if(Mo){var m=G;if(m!==null)throw m}}function us(m,b,E,R){Mo=!1;var U=m.updateQueue;Or=!1;var q=U.firstBaseUpdate,ve=U.lastBaseUpdate,De=U.shared.pending;if(De!==null){U.shared.pending=null;var rt=De,kt=rt.next;rt.next=null,ve===null?q=kt:ve.next=kt,ve=rt;var $t=m.alternate;$t!==null&&($t=$t.updateQueue,De=$t.lastBaseUpdate,De!==ve&&(De===null?$t.firstBaseUpdate=kt:De.next=kt,$t.lastBaseUpdate=rt))}if(q!==null){var nr=U.baseState;ve=0,$t=kt=rt=null,De=q;do{var Bt=De.lane&-536870913,Ht=Bt!==De.lane;if(Ht?(Si&Bt)===Bt:(R&Bt)===Bt){Bt!==0&&Bt===z&&(Mo=!0),$t!==null&&($t=$t.next={lane:0,tag:De.tag,payload:De.payload,callback:null,next:null});e:{var Kr=m,Tn=De;Bt=b;var Za=E;switch(Tn.tag){case 1:if(Kr=Tn.payload,typeof Kr=="function"){nr=Kr.call(Za,nr,Bt);break e}nr=Kr;break e;case 3:Kr.flags=Kr.flags&-65537|128;case 0:if(Kr=Tn.payload,Bt=typeof Kr=="function"?Kr.call(Za,nr,Bt):Kr,Bt==null)break e;nr=f({},nr,Bt);break e;case 2:Or=!0}}Bt=De.callback,Bt!==null&&(m.flags|=64,Ht&&(m.flags|=8192),Ht=U.callbacks,Ht===null?U.callbacks=[Bt]:Ht.push(Bt))}else Ht={lane:Bt,tag:De.tag,payload:De.payload,callback:De.callback,next:null},$t===null?(kt=$t=Ht,rt=nr):$t=$t.next=Ht,ve|=Bt;if(De=De.next,De===null){if(De=U.shared.pending,De===null)break;Ht=De,De=Ht.next,Ht.next=null,U.lastBaseUpdate=Ht,U.shared.pending=null}}while(!0);$t===null&&(rt=nr),U.baseState=rt,U.firstBaseUpdate=kt,U.lastBaseUpdate=$t,q===null&&(U.shared.lanes=0),Ru|=ve,m.lanes=ve,m.memoizedState=nr}}function Wa(m,b){if(typeof m!="function")throw Error(n(191,m));m.call(b)}function gi(m,b){var E=m.callbacks;if(E!==null)for(m.callbacks=null,m=0;m<E.length;m++)Wa(E[m],b)}var Nn=X(null),Fn=X(0);function Ya(m,b){m=Us,W(Fn,m),W(Nn,b),Us=m|b.baseLanes}function Ui(){W(Fn,Us),W(Nn,Nn.current)}function Ii(){Us=Fn.current,F(Nn),F(Fn)}var ra=X(null),Oi=null;function ms(m){var b=m.alternate;W(wi,wi.current&1),W(ra,m),Oi===null&&(b===null||Nn.current!==null||b.memoizedState!==null)&&(Oi=m)}function na(m){W(wi,wi.current),W(ra,m),Oi===null&&(Oi=m)}function Ss(m){m.tag===22?(W(wi,wi.current),W(ra,m),Oi===null&&(Oi=m)):gs()}function gs(){W(wi,wi.current),W(ra,ra.current)}function ba(m){F(ra),Oi===m&&(Oi=null),F(wi)}var wi=X(0);function Yo(m){for(var b=m;b!==null;){if(b.tag===13){var E=b.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||k6(E)||I6(E)))return b}else if(b.tag===19&&(b.memoizedProps.revealOrder==="forwards"||b.memoizedProps.revealOrder==="backwards"||b.memoizedProps.revealOrder==="unstable_legacy-backwards"||b.memoizedProps.revealOrder==="together")){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var _a=0,Jr=null,dn=null,Pi=null,Pl=!1,qo=!1,hl=!1,Ts=0,rd=0,kc=null,Mg=0;function Na(){throw Error(n(321))}function By(m,b){if(b===null)return!1;for(var E=0;E<b.length&&E<m.length;E++)if(!ta(m[E],b[E]))return!1;return!0}function zy(m,b,E,R,U,q){return _a=q,Jr=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,H.H=m===null||m.memoizedState===null?PM:Fg,hl=!1,q=E(R,U),hl=!1,qo&&(q=oh(b,E,R,U)),Cg(m),q}function Cg(m){H.H=Yy;var b=dn!==null&&dn.next!==null;if(_a=0,Pi=dn=Jr=null,Pl=!1,rd=0,kc=null,b)throw Error(n(300));m===null||ns||(m=m.dependencies,m!==null&&v0(m)&&(ns=!0))}function oh(m,b,E,R){Jr=m;var U=0;do{if(qo&&(kc=null),rd=0,qo=!1,25<=U)throw Error(n(301));if(U+=1,Pi=dn=null,m.updateQueue!=null){var q=m.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}H.H=qy,q=b(E,R)}while(qo);return q}function gT(){var m=H.H,b=m.useState()[0];return b=typeof b.then=="function"?nd(b):b,m=m.useState()[0],(dn!==null?dn.memoizedState:null)!==m&&(Jr.flags|=1024),b}function jy(){var m=Ts!==0;return Ts=0,m}function Uy(m,b,E){b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~E}function Ng(m){if(Pl){for(m=m.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}Pl=!1}_a=0,Pi=dn=Jr=null,qo=!1,rd=Ts=0,kc=null}function io(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pi===null?Jr.memoizedState=Pi=m:Pi=Pi.next=m,Pi}function fs(){if(dn===null){var m=Jr.alternate;m=m!==null?m.memoizedState:null}else m=dn.next;var b=Pi===null?Jr.memoizedState:Pi.next;if(b!==null)Pi=b,dn=m;else{if(m===null)throw Jr.alternate===null?Error(n(467)):Error(n(310));dn=m,m={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},Pi===null?Jr.memoizedState=Pi=m:Pi=Pi.next=m}return Pi}function g0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nd(m){var b=rd;return rd+=1,kc===null&&(kc=[]),m=Yt(kc,m,b),b=Jr,(Pi===null?b.memoizedState:Pi.next)===null&&(b=b.alternate,H.H=b===null||b.memoizedState===null?PM:Fg),m}function x0(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return nd(m);if(m.$$typeof===w)return no(m)}throw Error(n(438,String(m)))}function cp(m){var b=null,E=Jr.updateQueue;if(E!==null&&(b=E.memoCache),b==null){var R=Jr.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(b={data:R.data.map(function(U){return U.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),E===null&&(E=g0(),Jr.updateQueue=E),E.memoCache=b,E=b.data[b.index],E===void 0)for(E=b.data[b.index]=Array(m),R=0;R<m;R++)E[R]=k;return b.index++,E}function wf(m,b){return typeof b=="function"?b(m):b}function Dg(m){var b=fs();return y0(b,dn,m)}function y0(m,b,E){var R=m.queue;if(R===null)throw Error(n(311));R.lastRenderedReducer=E;var U=m.baseQueue,q=R.pending;if(q!==null){if(U!==null){var ve=U.next;U.next=q.next,q.next=ve}b.baseQueue=U=q,R.pending=null}if(q=m.baseState,U===null)m.memoizedState=q;else{b=U.next;var De=ve=null,rt=null,kt=b,$t=!1;do{var nr=kt.lane&-536870913;if(nr!==kt.lane?(Si&nr)===nr:(_a&nr)===nr){var Bt=kt.revertLane;if(Bt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,gesture:null,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null}),nr===z&&($t=!0);else if((_a&Bt)===Bt){kt=kt.next,Bt===z&&($t=!0);continue}else nr={lane:0,revertLane:kt.revertLane,gesture:null,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},rt===null?(De=rt=nr,ve=q):rt=rt.next=nr,Jr.lanes|=Bt,Ru|=Bt;nr=kt.action,hl&&E(q,nr),q=kt.hasEagerState?kt.eagerState:E(q,nr)}else Bt={lane:nr,revertLane:kt.revertLane,gesture:kt.gesture,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},rt===null?(De=rt=Bt,ve=q):rt=rt.next=Bt,Jr.lanes|=nr,Ru|=nr;kt=kt.next}while(kt!==null&&kt!==b);if(rt===null?ve=q:rt.next=De,!ta(q,m.memoizedState)&&(ns=!0,$t&&(E=G,E!==null)))throw E;m.memoizedState=q,m.baseState=ve,m.baseQueue=rt,R.lastRenderedState=q}return U===null&&(R.lanes=0),[m.memoizedState,R.dispatch]}function Xv(m){var b=fs(),E=b.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=m;var R=E.dispatch,U=E.pending,q=b.memoizedState;if(U!==null){E.pending=null;var ve=U=U.next;do q=m(q,ve.action),ve=ve.next;while(ve!==U);ta(q,b.memoizedState)||(ns=!0),b.memoizedState=q,b.baseQueue===null&&(b.baseState=q),E.lastRenderedState=q}return[q,R]}function Zv(m,b,E){var R=Jr,U=fs(),q=mi;if(q){if(E===void 0)throw Error(n(407));E=E()}else E=b();var ve=!ta((dn||U).memoizedState,E);if(ve&&(U.memoizedState=E,ns=!0),U=U.queue,xT(Rg.bind(null,R,U,m),[m]),U.getSnapshot!==b||ve||Pi!==null&&Pi.memoizedState.tag&1){if(R.flags|=2048,up(9,{destroy:void 0},Lg.bind(null,R,U,E,b),null),da===null)throw Error(n(349));q||(_a&127)!==0||lh(R,b,E)}return E}function lh(m,b,E){m.flags|=16384,m={getSnapshot:b,value:E},b=Jr.updateQueue,b===null?(b=g0(),Jr.updateQueue=b,b.stores=[m]):(E=b.stores,E===null?b.stores=[m]:E.push(m))}function Lg(m,b,E,R){b.value=E,b.getSnapshot=R,Vy(b)&&Kv(m)}function Rg(m,b,E){return E(function(){Vy(b)&&Kv(m)})}function Vy(m){var b=m.getSnapshot;m=m.value;try{var E=b();return!ta(m,E)}catch{return!0}}function Kv(m){var b=gf(m,2);b!==null&&T(b,m,2)}function Sf(m){var b=io();if(typeof m=="function"){var E=m;if(m=E(),hl){tr(!0);try{E()}finally{tr(!1)}}}return b.memoizedState=b.baseState=m,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:m},b}function Ob(m,b,E,R){return m.baseState=E,y0(m,dn,typeof R=="function"?R:wf)}function Pb(m,b,E,R,U){if(fp(m))throw Error(n(485));if(m=b.action,m!==null){var q={payload:U,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ve){q.listeners.push(ve)}};H.T!==null?E(!0):q.isTransition=!1,R(q),E=b.pending,E===null?(q.next=b.pending=q,Fb(b,q)):(q.next=E.next,b.pending=E.next=q)}}function Fb(m,b){var E=b.action,R=b.payload,U=m.state;if(b.isTransition){var q=H.T,ve={};H.T=ve;try{var De=E(U,R),rt=H.S;rt!==null&&rt(ve,De),Hy(m,b,De)}catch(kt){id(m,b,kt)}finally{q!==null&&ve.types!==null&&(q.types=ve.types),H.T=q}}else try{q=E(U,R),Hy(m,b,q)}catch(kt){id(m,b,kt)}}function Hy(m,b,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(R){Gy(m,b,R)},function(R){return id(m,b,R)}):Gy(m,b,E)}function Gy(m,b,E){b.status="fulfilled",b.value=E,kg(b),m.state=E,b=m.pending,b!==null&&(E=b.next,E===b?m.pending=null:(E=E.next,b.next=E,Fb(m,E)))}function id(m,b,E){var R=m.pending;if(m.pending=null,R!==null){R=R.next;do b.status="rejected",b.reason=E,kg(b),b=b.next;while(b!==R)}m.action=null}function kg(m){m=m.listeners;for(var b=0;b<m.length;b++)(0,m[b])()}function $v(m,b){return b}function Tf(m,b){if(mi){var E=da.formState;if(E!==null){e:{var R=Jr;if(mi){if(Ma){t:{for(var U=Ma,q=fa;U.nodeType!==8;){if(!q){U=null;break t}if(U=ud(U.nextSibling),U===null){U=null;break t}}q=U.data,U=q==="F!"||q==="F"?U:null}if(U){Ma=ud(U.nextSibling),R=U.data==="F!";break e}}hi(R)}R=!1}R&&(b=E[0])}}return E=io(),E.memoizedState=E.baseState=b,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$v,lastRenderedState:b},E.queue=R,E=OM.bind(null,Jr,R),R.dispatch=E,R=Sf(!1),q=Wy.bind(null,Jr,!1,R.queue),R=io(),U={state:b,dispatch:null,action:m,pending:null},R.queue=U,E=Pb.bind(null,Jr,U,q,E),U.dispatch=E,R.memoizedState=m,[b,E,!1]}function ch(m){var b=fs();return uh(b,dn,m)}function uh(m,b,E){if(b=y0(m,b,$v)[0],m=Dg(wf)[0],typeof b=="object"&&b!==null&&typeof b.then=="function")try{var R=nd(b)}catch(ve){throw ve===at?Ge:ve}else R=b;b=fs();var U=b.queue,q=U.dispatch;return E!==b.memoizedState&&(Jr.flags|=2048,up(9,{destroy:void 0},Ig.bind(null,U,E),null)),[R,q,m]}function Ig(m,b){m.action=b}function Og(m){var b=fs(),E=dn;if(E!==null)return uh(b,E,m);fs(),b=b.memoizedState,E=fs();var R=E.queue.dispatch;return E.memoizedState=m,[b,R,!1]}function up(m,b,E,R){return m={tag:m,create:E,deps:R,inst:b,next:null},b=Jr.updateQueue,b===null&&(b=g0(),Jr.updateQueue=b),E=b.lastEffect,E===null?b.lastEffect=m.next=m:(R=E.next,E.next=m,m.next=R,b.lastEffect=m),m}function Bb(){return fs().memoizedState}function b0(m,b,E,R){var U=io();Jr.flags|=m,U.memoizedState=up(1|b,{destroy:void 0},E,R===void 0?null:R)}function _0(m,b,E,R){var U=fs();R=R===void 0?null:R;var q=U.memoizedState.inst;dn!==null&&R!==null&&By(R,dn.memoizedState.deps)?U.memoizedState=up(b,q,E,R):(Jr.flags|=m,U.memoizedState=up(1|b,q,E,R))}function DM(m,b){b0(8390656,8,m,b)}function xT(m,b){_0(2048,8,m,b)}function LM(m){Jr.flags|=4;var b=Jr.updateQueue;if(b===null)b=g0(),Jr.updateQueue=b,b.events=[m];else{var E=b.events;E===null?b.events=[m]:E.push(m)}}function RM(m){var b=fs().memoizedState;return LM({ref:b,nextImpl:m}),function(){if((Fi&2)!==0)throw Error(n(440));return b.impl.apply(void 0,arguments)}}function kM(m,b){return _0(4,2,m,b)}function Tu(m,b){return _0(4,4,m,b)}function yT(m,b){if(typeof b=="function"){m=m();var E=b(m);return function(){typeof E=="function"?E():b(null)}}if(b!=null)return m=m(),b.current=m,function(){b.current=null}}function zb(m,b,E){E=E!=null?E.concat([m]):null,_0(4,4,yT.bind(null,b,m),E)}function jb(){}function bT(m,b){var E=fs();b=b===void 0?null:b;var R=E.memoizedState;return b!==null&&By(b,R[1])?R[0]:(E.memoizedState=[m,b],m)}function _T(m,b){var E=fs();b=b===void 0?null:b;var R=E.memoizedState;if(b!==null&&By(b,R[1]))return R[0];if(R=m(),hl){tr(!0);try{m()}finally{tr(!1)}}return E.memoizedState=[R,b],R}function wT(m,b,E){return E===void 0||(_a&1073741824)!==0&&(Si&261930)===0?m.memoizedState=b:(m.memoizedState=E,m=S(),Jr.lanes|=m,Ru|=m,E)}function ST(m,b,E,R){return ta(E,b)?E:Nn.current!==null?(m=wT(m,E,R),ta(m,b)||(ns=!0),m):(_a&42)===0||(_a&1073741824)!==0&&(Si&261930)===0?(ns=!0,m.memoizedState=E):(m=S(),Jr.lanes|=m,Ru|=m,b)}function TT(m,b,E,R,U){var q=Z.p;Z.p=q!==0&&8>q?q:8;var ve=H.T,De={};H.T=De,Wy(m,!1,b,E);try{var rt=U(),kt=H.S;if(kt!==null&&kt(De,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var $t=Ae(rt,R);Pg(m,b,$t,cc(m))}else Pg(m,b,R,cc(m))}catch(nr){Pg(m,b,{then:function(){},status:"rejected",reason:nr},cc())}finally{Z.p=q,ve!==null&&De.types!==null&&(ve.types=De.types),H.T=ve}}function v6(){}function AT(m,b,E,R){if(m.tag!==5)throw Error(n(476));var U=IM(m).queue;TT(m,U,b,Y,E===null?v6:function(){return ET(m),E(R)})}function IM(m){var b=m.memoizedState;if(b!==null)return b;b={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:Y},next:null};var E={};return b.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:E},next:null},m.memoizedState=b,m=m.alternate,m!==null&&(m.memoizedState=b),b}function ET(m){var b=IM(m);b.next===null&&(b=m.alternate.memoizedState),Pg(m,b.next.queue,{},cc())}function MT(){return no(jT)}function dl(){return fs().memoizedState}function CT(){return fs().memoizedState}function m6(m){for(var b=m.return;b!==null;){switch(b.tag){case 24:case 3:var E=cc();m=mn(E);var R=Hn(b,m,E);R!==null&&(T(R,b,E),ki(R,b,E)),b={cache:m0()},m.payload=b;return}b=b.return}}function g6(m,b,E){var R=cc();E={lane:R,revertLane:0,gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},fp(m)?Jv(b,E):(E=ip(m,b,E,R),E!==null&&(T(E,m,R),Ic(E,b,R)))}function OM(m,b,E){var R=cc();Pg(m,b,E,R)}function Pg(m,b,E,R){var U={lane:R,revertLane:0,gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null};if(fp(m))Jv(b,U);else{var q=m.alternate;if(m.lanes===0&&(q===null||q.lanes===0)&&(q=b.lastRenderedReducer,q!==null))try{var ve=b.lastRenderedState,De=q(ve,E);if(U.hasEagerState=!0,U.eagerState=De,ta(De,ve))return f0(m,b,U,0),da===null&&nh(),!1}catch{}finally{}if(E=ip(m,b,U,R),E!==null)return T(E,m,R),Ic(E,b,R),!0}return!1}function Wy(m,b,E,R){if(R={lane:2,revertLane:_6(),gesture:null,action:R,hasEagerState:!1,eagerState:null,next:null},fp(m)){if(b)throw Error(n(479))}else b=ip(m,E,R,2),b!==null&&T(b,m,2)}function fp(m){var b=m.alternate;return m===Jr||b!==null&&b===Jr}function Jv(m,b){qo=Pl=!0;var E=m.pending;E===null?b.next=b:(b.next=E.next,E.next=b),m.pending=b}function Ic(m,b,E){if((E&4194048)!==0){var R=b.lanes;R&=m.pendingLanes,E|=R,b.lanes=E,Ei(m,E)}}var Yy={readContext:no,use:x0,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useLayoutEffect:Na,useInsertionEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useDeferredValue:Na,useTransition:Na,useSyncExternalStore:Na,useId:Na,useHostTransitionStatus:Na,useFormState:Na,useActionState:Na,useOptimistic:Na,useMemoCache:Na,useCacheRefresh:Na};Yy.useEffectEvent=Na;var PM={readContext:no,use:x0,useCallback:function(m,b){return io().memoizedState=[m,b===void 0?null:b],m},useContext:no,useEffect:DM,useImperativeHandle:function(m,b,E){E=E!=null?E.concat([m]):null,b0(4194308,4,yT.bind(null,b,m),E)},useLayoutEffect:function(m,b){return b0(4194308,4,m,b)},useInsertionEffect:function(m,b){b0(4,2,m,b)},useMemo:function(m,b){var E=io();b=b===void 0?null:b;var R=m();if(hl){tr(!0);try{m()}finally{tr(!1)}}return E.memoizedState=[R,b],R},useReducer:function(m,b,E){var R=io();if(E!==void 0){var U=E(b);if(hl){tr(!0);try{E(b)}finally{tr(!1)}}}else U=b;return R.memoizedState=R.baseState=U,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:U},R.queue=m,m=m.dispatch=g6.bind(null,Jr,m),[R.memoizedState,m]},useRef:function(m){var b=io();return m={current:m},b.memoizedState=m},useState:function(m){m=Sf(m);var b=m.queue,E=OM.bind(null,Jr,b);return b.dispatch=E,[m.memoizedState,E]},useDebugValue:jb,useDeferredValue:function(m,b){var E=io();return wT(E,m,b)},useTransition:function(){var m=Sf(!1);return m=TT.bind(null,Jr,m.queue,!0,!1),io().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,b,E){var R=Jr,U=io();if(mi){if(E===void 0)throw Error(n(407));E=E()}else{if(E=b(),da===null)throw Error(n(349));(Si&127)!==0||lh(R,b,E)}U.memoizedState=E;var q={value:E,getSnapshot:b};return U.queue=q,DM(Rg.bind(null,R,q,m),[m]),R.flags|=2048,up(9,{destroy:void 0},Lg.bind(null,R,q,E,b),null),E},useId:function(){var m=io(),b=da.identifierPrefix;if(mi){var E=Dc,R=Nc;E=(R&~(1<<32-Ze(R)-1)).toString(32)+E,b="_"+b+"R_"+E,E=Ts++,0<E&&(b+="H"+E.toString(32)),b+="_"}else E=Mg++,b="_"+b+"r_"+E.toString(32)+"_";return m.memoizedState=b},useHostTransitionStatus:MT,useFormState:Tf,useActionState:Tf,useOptimistic:function(m){var b=io();b.memoizedState=b.baseState=m;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=E,b=Wy.bind(null,Jr,!0,E),E.dispatch=b,[m,b]},useMemoCache:cp,useCacheRefresh:function(){return io().memoizedState=m6.bind(null,Jr)},useEffectEvent:function(m){var b=io(),E={impl:m};return b.memoizedState=E,function(){if((Fi&2)!==0)throw Error(n(440));return E.impl.apply(void 0,arguments)}}},Fg={readContext:no,use:x0,useCallback:bT,useContext:no,useEffect:xT,useImperativeHandle:zb,useInsertionEffect:kM,useLayoutEffect:Tu,useMemo:_T,useReducer:Dg,useRef:Bb,useState:function(){return Dg(wf)},useDebugValue:jb,useDeferredValue:function(m,b){var E=fs();return ST(E,dn.memoizedState,m,b)},useTransition:function(){var m=Dg(wf)[0],b=fs().memoizedState;return[typeof m=="boolean"?m:nd(m),b]},useSyncExternalStore:Zv,useId:dl,useHostTransitionStatus:MT,useFormState:ch,useActionState:ch,useOptimistic:function(m,b){var E=fs();return Ob(E,dn,m,b)},useMemoCache:cp,useCacheRefresh:CT};Fg.useEffectEvent=RM;var qy={readContext:no,use:x0,useCallback:bT,useContext:no,useEffect:xT,useImperativeHandle:zb,useInsertionEffect:kM,useLayoutEffect:Tu,useMemo:_T,useReducer:Xv,useRef:Bb,useState:function(){return Xv(wf)},useDebugValue:jb,useDeferredValue:function(m,b){var E=fs();return dn===null?wT(E,m,b):ST(E,dn.memoizedState,m,b)},useTransition:function(){var m=Xv(wf)[0],b=fs().memoizedState;return[typeof m=="boolean"?m:nd(m),b]},useSyncExternalStore:Zv,useId:dl,useHostTransitionStatus:MT,useFormState:Og,useActionState:Og,useOptimistic:function(m,b){var E=fs();return dn!==null?Ob(E,dn,m,b):(E.baseState=m,[m,E.queue.dispatch])},useMemoCache:cp,useCacheRefresh:CT};qy.useEffectEvent=RM;function Bg(m,b,E,R){b=m.memoizedState,E=E(R,b),E=E==null?b:f({},b,E),m.memoizedState=E,m.lanes===0&&(m.updateQueue.baseState=E)}var Xy={enqueueSetState:function(m,b,E){m=m._reactInternals;var R=cc(),U=mn(R);U.payload=b,E!=null&&(U.callback=E),b=Hn(m,U,R),b!==null&&(T(b,m,R),ki(b,m,R))},enqueueReplaceState:function(m,b,E){m=m._reactInternals;var R=cc(),U=mn(R);U.tag=1,U.payload=b,E!=null&&(U.callback=E),b=Hn(m,U,R),b!==null&&(T(b,m,R),ki(b,m,R))},enqueueForceUpdate:function(m,b){m=m._reactInternals;var E=cc(),R=mn(E);R.tag=2,b!=null&&(R.callback=b),b=Hn(m,R,E),b!==null&&(T(b,m,E),ki(b,m,E))}};function FM(m,b,E,R,U,q,ve){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(R,q,ve):b.prototype&&b.prototype.isPureReactComponent?!pf(E,R)||!pf(U,q):!0}function BM(m,b,E,R){m=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(E,R),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(E,R),b.state!==m&&Xy.enqueueReplaceState(b,b.state,null)}function pl(m,b){var E=b;if("ref"in b){E={};for(var R in b)R!=="ref"&&(E[R]=b[R])}if(m=m.defaultProps){E===b&&(E=f({},E));for(var U in m)E[U]===void 0&&(E[U]=m[U])}return E}function NT(m){rh(m)}function zM(m){console.error(m)}function Ub(m){rh(m)}function Vb(m,b){try{var E=m.onUncaughtError;E(b.value,{componentStack:b.stack})}catch(R){setTimeout(function(){throw R})}}function jM(m,b,E){try{var R=m.onCaughtError;R(E.value,{componentStack:E.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(U){setTimeout(function(){throw U})}}function DT(m,b,E){return E=mn(E),E.tag=3,E.payload={element:null},E.callback=function(){Vb(m,b)},E}function zg(m){return m=mn(m),m.tag=3,m}function Oc(m,b,E,R){var U=E.type.getDerivedStateFromError;if(typeof U=="function"){var q=R.value;m.payload=function(){return U(q)},m.callback=function(){jM(b,E,R)}}var ve=E.stateNode;ve!==null&&typeof ve.componentDidCatch=="function"&&(m.callback=function(){jM(b,E,R),typeof U!="function"&&(cd===null?cd=new Set([this]):cd.add(this));var De=R.stack;this.componentDidCatch(R.value,{componentStack:De!==null?De:""})})}function Au(m,b,E,R,U){if(E.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(b=E.alternate,b!==null&&_f(b,E,U,!0),E=ra.current,E!==null){switch(E.tag){case 31:case 13:return Oi===null?Bn():E.alternate===null&&pa===0&&(pa=3),E.flags&=-257,E.flags|=65536,E.lanes=U,R===ct?E.flags|=16384:(b=E.updateQueue,b===null?E.updateQueue=new Set([R]):b.add(R),x6(m,R,U)),!1;case 22:return E.flags|=65536,R===ct?E.flags|=16384:(b=E.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([R])},E.updateQueue=b):(E=b.retryQueue,E===null?b.retryQueue=new Set([R]):E.add(R)),x6(m,R,U)),!1}throw Error(n(435,E.tag))}return x6(m,R,U),Bn(),!1}if(mi)return b=ra.current,b!==null?((b.flags&65536)===0&&(b.flags|=256),b.flags|=65536,b.lanes=U,R!==Lc&&(m=Error(n(422),{cause:R}),p0(Il(m,E)))):(R!==Lc&&(b=Error(n(423),{cause:R}),p0(Il(b,E))),m=m.current.alternate,m.flags|=65536,U&=-U,m.lanes|=U,R=Il(R,E),U=DT(m.stateNode,R,U),ws(m,U),pa!==4&&(pa=2)),!1;var q=Error(n(520),{cause:R});if(q=Il(q,E),vh===null?vh=[q]:vh.push(q),pa!==4&&(pa=2),b===null)return!0;R=Il(R,E),E=b;do{switch(E.tag){case 3:return E.flags|=65536,m=U&-U,E.lanes|=m,m=DT(E.stateNode,R,m),ws(E,m),!1;case 1:if(b=E.type,q=E.stateNode,(E.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(cd===null||!cd.has(q))))return E.flags|=65536,U&=-U,E.lanes|=U,U=zg(U),Oc(U,m,E,R),ws(E,U),!1}E=E.return}while(E!==null);return!1}var Hb=Error(n(461)),ns=!1;function As(m,b,E,R){b.child=m===null?Vn(b,null,E,R):Ia(b,m.child,E,R)}function Zy(m,b,E,R,U){E=E.render;var q=b.ref;if("ref"in R){var ve={};for(var De in R)De!=="ref"&&(ve[De]=R[De])}else ve=R;return td(b),R=zy(m,b,E,ve,q,U),De=jy(),m!==null&&!ns?(Uy(m,b,U),dh(m,b,U)):(mi&&De&&Tg(b),b.flags|=1,As(m,b,R,U),b.child)}function Ky(m,b,E,R,U){if(m===null){var q=E.type;return typeof q=="function"&&!Go(q)&&q.defaultProps===void 0&&E.compare===null?(b.tag=15,b.type=q,Eu(m,b,q,R,U)):(m=sp(E.type,null,R,b,b.mode,U),m.ref=b.ref,m.return=b,b.child=m)}if(q=m.child,!S0(m,U)){var ve=q.memoizedProps;if(E=E.compare,E=E!==null?E:pf,E(ve,R)&&m.ref===b.ref)return dh(m,b,U)}return b.flags|=1,m=ac(q,R),m.ref=b.ref,m.return=b,b.child=m}function Eu(m,b,E,R,U){if(m!==null){var q=m.memoizedProps;if(pf(q,R)&&m.ref===b.ref)if(ns=!1,b.pendingProps=R=q,S0(m,U))(m.flags&131072)!==0&&(ns=!0);else return b.lanes=m.lanes,dh(m,b,U)}return jg(m,b,E,R,U)}function Mu(m,b,E,R){var U=R.children,q=m!==null?m.memoizedState:null;if(m===null&&b.stateNode===null&&(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),R.mode==="hidden"){if((b.flags&128)!==0){if(q=q!==null?q.baseLanes|E:E,m!==null){for(R=b.child=m.child,U=0;R!==null;)U=U|R.lanes|R.childLanes,R=R.sibling;R=U&~q}else R=0,b.child=null;return ad(m,b,q,E,R)}if((E&536870912)!==0)b.memoizedState={baseLanes:0,cachePool:null},m!==null&&Pe(b,q!==null?q.cachePool:null),q!==null?Ya(b,q):Ui(),Ss(b);else return R=b.lanes=536870912,ad(m,b,q!==null?q.baseLanes|E:E,E,R)}else q!==null?(Pe(b,q.cachePool),Ya(b,q),gs(),b.memoizedState=null):(m!==null&&Pe(b,null),Ui(),gs());return As(m,b,U,E),b.child}function fh(m,b){return m!==null&&m.tag===22||b.stateNode!==null||(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.sibling}function ad(m,b,E,R,U){var q=Le();return q=q===null?null:{parent:an._currentValue,pool:q},b.memoizedState={baseLanes:E,cachePool:q},m!==null&&Pe(b,null),Ui(),Ss(b),m!==null&&_f(m,b,R,!0),b.childLanes=U,null}function Af(m,b){return b=Ug({mode:b.mode,children:b.children},m.mode),b.ref=m.ref,m.child=b,b.return=m,b}function Xo(m,b,E){return Ia(b,m.child,null,E),m=Af(b,b.pendingProps),m.flags|=2,ba(b),b.memoizedState=null,m}function $y(m,b,E){var R=b.pendingProps,U=(b.flags&128)!==0;if(b.flags&=-129,m===null){if(mi){if(R.mode==="hidden")return m=Af(b,R),b.lanes=536870912,fh(null,m);if(na(b),(m=Ma)?(m=KW(m,fa),m=m!==null&&m.data==="&"?m:null,m!==null&&(b.memoizedState={dehydrated:m,treeContext:yf!==null?{id:Nc,overflow:Dc}:null,retryLane:536870912,hydrationErrors:null},E=Sg(m),E.return=b,b.child=E,to=b,Ma=null)):m=null,m===null)throw hi(b);return b.lanes=536870912,null}return Af(b,R)}var q=m.memoizedState;if(q!==null){var ve=q.dehydrated;if(na(b),U)if(b.flags&256)b.flags&=-257,b=Xo(m,b,E);else if(b.memoizedState!==null)b.child=m.child,b.flags|=128,b=null;else throw Error(n(558));else if(ns||_f(m,b,E,!1),U=(E&m.childLanes)!==0,ns||U){if(R=da,R!==null&&(ve=Ki(R,E),ve!==0&&ve!==q.retryLane))throw q.retryLane=ve,gf(m,ve),T(R,m,ve),Hb;Bn(),b=Xo(m,b,E)}else m=q.treeContext,Ma=ud(ve.nextSibling),to=b,mi=!0,Wo=null,fa=!1,m!==null&&Wv(b,m),b=Af(b,R),b.flags|=4096;return b}return m=ac(m.child,{mode:R.mode,children:R.children}),m.ref=b.ref,b.child=m,m.return=b,m}function hh(m,b){var E=b.ref;if(E===null)m!==null&&m.ref!==null&&(b.flags|=4194816);else{if(typeof E!="function"&&typeof E!="object")throw Error(n(284));(m===null||m.ref!==E)&&(b.flags|=4194816)}}function jg(m,b,E,R,U){return td(b),E=zy(m,b,E,R,void 0,U),R=jy(),m!==null&&!ns?(Uy(m,b,U),dh(m,b,U)):(mi&&R&&Tg(b),b.flags|=1,As(m,b,E,U),b.child)}function Fl(m,b,E,R,U,q){return td(b),b.updateQueue=null,E=oh(b,R,E,U),Cg(m),R=jy(),m!==null&&!ns?(Uy(m,b,q),dh(m,b,q)):(mi&&R&&Tg(b),b.flags|=1,As(m,b,E,q),b.child)}function vl(m,b,E,R,U){if(td(b),b.stateNode===null){var q=Ps,ve=E.contextType;typeof ve=="object"&&ve!==null&&(q=no(ve)),q=new E(R,q),b.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=Xy,b.stateNode=q,q._reactInternals=b,q=b.stateNode,q.props=R,q.state=b.memoizedState,q.refs={},yr(b),ve=E.contextType,q.context=typeof ve=="object"&&ve!==null?no(ve):Ps,q.state=b.memoizedState,ve=E.getDerivedStateFromProps,typeof ve=="function"&&(Bg(b,E,ve,R),q.state=b.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(ve=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),ve!==q.state&&Xy.enqueueReplaceState(q,q.state,null),us(b,R,q,U),Ca(),q.state=b.memoizedState),typeof q.componentDidMount=="function"&&(b.flags|=4194308),R=!0}else if(m===null){q=b.stateNode;var De=b.memoizedProps,rt=pl(E,De);q.props=rt;var kt=q.context,$t=E.contextType;ve=Ps,typeof $t=="object"&&$t!==null&&(ve=no($t));var nr=E.getDerivedStateFromProps;$t=typeof nr=="function"||typeof q.getSnapshotBeforeUpdate=="function",De=b.pendingProps!==De,$t||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(De||kt!==ve)&&BM(b,q,R,ve),Or=!1;var Bt=b.memoizedState;q.state=Bt,us(b,R,q,U),Ca(),kt=b.memoizedState,De||Bt!==kt||Or?(typeof nr=="function"&&(Bg(b,E,nr,R),kt=b.memoizedState),(rt=Or||FM(b,E,rt,R,Bt,kt,ve))?($t||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(b.flags|=4194308)):(typeof q.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=R,b.memoizedState=kt),q.props=R,q.state=kt,q.context=ve,R=rt):(typeof q.componentDidMount=="function"&&(b.flags|=4194308),R=!1)}else{q=b.stateNode,rs(m,b),ve=b.memoizedProps,$t=pl(E,ve),q.props=$t,nr=b.pendingProps,Bt=q.context,kt=E.contextType,rt=Ps,typeof kt=="object"&&kt!==null&&(rt=no(kt)),De=E.getDerivedStateFromProps,(kt=typeof De=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ve!==nr||Bt!==rt)&&BM(b,q,R,rt),Or=!1,Bt=b.memoizedState,q.state=Bt,us(b,R,q,U),Ca();var Ht=b.memoizedState;ve!==nr||Bt!==Ht||Or||m!==null&&m.dependencies!==null&&v0(m.dependencies)?(typeof De=="function"&&(Bg(b,E,De,R),Ht=b.memoizedState),($t=Or||FM(b,E,$t,R,Bt,Ht,rt)||m!==null&&m.dependencies!==null&&v0(m.dependencies))?(kt||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(R,Ht,rt),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(R,Ht,rt)),typeof q.componentDidUpdate=="function"&&(b.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof q.componentDidUpdate!="function"||ve===m.memoizedProps&&Bt===m.memoizedState||(b.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ve===m.memoizedProps&&Bt===m.memoizedState||(b.flags|=1024),b.memoizedProps=R,b.memoizedState=Ht),q.props=R,q.state=Ht,q.context=rt,R=$t):(typeof q.componentDidUpdate!="function"||ve===m.memoizedProps&&Bt===m.memoizedState||(b.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ve===m.memoizedProps&&Bt===m.memoizedState||(b.flags|=1024),R=!1)}return q=R,hh(m,b),R=(b.flags&128)!==0,q||R?(q=b.stateNode,E=R&&typeof E.getDerivedStateFromError!="function"?null:q.render(),b.flags|=1,m!==null&&R?(b.child=Ia(b,m.child,null,U),b.child=Ia(b,null,E,U)):As(m,b,E,U),b.memoizedState=q.state,m=b.child):m=dh(m,b,U),m}function Vi(m,b,E,R){return op(),b.flags|=256,As(m,b,E,R),b.child}var Cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(m){return{baseLanes:m,cachePool:We()}}function Jy(m,b,E){return m=m!==null?m.childLanes&~E:0,b&&(m|=Bi),m}function Nu(m,b,E){var R=b.pendingProps,U=!1,q=(b.flags&128)!==0,ve;if((ve=q)||(ve=m!==null&&m.memoizedState===null?!1:(wi.current&2)!==0),ve&&(U=!0,b.flags&=-129),ve=(b.flags&32)!==0,b.flags&=-33,m===null){if(mi){if(U?ms(b):gs(),(m=Ma)?(m=KW(m,fa),m=m!==null&&m.data!=="&"?m:null,m!==null&&(b.memoizedState={dehydrated:m,treeContext:yf!==null?{id:Nc,overflow:Dc}:null,retryLane:536870912,hydrationErrors:null},E=Sg(m),E.return=b,b.child=E,to=b,Ma=null)):m=null,m===null)throw hi(b);return I6(m)?b.lanes=32:b.lanes=536870912,null}var De=R.children;return R=R.fallback,U?(gs(),U=b.mode,De=Ug({mode:"hidden",children:De},U),R=xf(R,U,E,null),De.return=b,R.return=b,De.sibling=R,b.child=De,R=b.child,R.memoizedState=Ef(E),R.childLanes=Jy(m,ve,E),b.memoizedState=Cu,fh(null,R)):(ms(b),w0(b,De))}var rt=m.memoizedState;if(rt!==null&&(De=rt.dehydrated,De!==null)){if(q)b.flags&256?(ms(b),b.flags&=-257,b=Vg(m,b,E)):b.memoizedState!==null?(gs(),b.child=m.child,b.flags|=128,b=null):(gs(),De=R.fallback,U=b.mode,R=Ug({mode:"visible",children:R.children},U),De=xf(De,U,E,null),De.flags|=2,R.return=b,De.return=b,R.sibling=De,b.child=R,Ia(b,m.child,null,E),R=b.child,R.memoizedState=Ef(E),R.childLanes=Jy(m,ve,E),b.memoizedState=Cu,b=fh(null,R));else if(ms(b),I6(De)){if(ve=De.nextSibling&&De.nextSibling.dataset,ve)var kt=ve.dgst;ve=kt,R=Error(n(419)),R.stack="",R.digest=ve,p0({value:R,source:null,stack:null}),b=Vg(m,b,E)}else if(ns||_f(m,b,E,!1),ve=(E&m.childLanes)!==0,ns||ve){if(ve=da,ve!==null&&(R=Ki(ve,E),R!==0&&R!==rt.retryLane))throw rt.retryLane=R,gf(m,R),T(ve,m,R),Hb;k6(De)||Bn(),b=Vg(m,b,E)}else k6(De)?(b.flags|=192,b.child=m.child,b=null):(m=rt.treeContext,Ma=ud(De.nextSibling),to=b,mi=!0,Wo=null,fa=!1,m!==null&&Wv(b,m),b=w0(b,R.children),b.flags|=4096);return b}return U?(gs(),De=R.fallback,U=b.mode,rt=m.child,kt=rt.sibling,R=ac(rt,{mode:"hidden",children:R.children}),R.subtreeFlags=rt.subtreeFlags&65011712,kt!==null?De=ac(kt,De):(De=xf(De,U,E,null),De.flags|=2),De.return=b,R.return=b,R.sibling=De,b.child=R,fh(null,R),R=b.child,De=m.child.memoizedState,De===null?De=Ef(E):(U=De.cachePool,U!==null?(rt=an._currentValue,U=U.parent!==rt?{parent:rt,pool:rt}:U):U=We(),De={baseLanes:De.baseLanes|E,cachePool:U}),R.memoizedState=De,R.childLanes=Jy(m,ve,E),b.memoizedState=Cu,fh(m.child,R)):(ms(b),E=m.child,m=E.sibling,E=ac(E,{mode:"visible",children:R.children}),E.return=b,E.sibling=null,m!==null&&(ve=b.deletions,ve===null?(b.deletions=[m],b.flags|=16):ve.push(m)),b.child=E,b.memoizedState=null,E)}function w0(m,b){return b=Ug({mode:"visible",children:b},m.mode),b.return=m,m.child=b}function Ug(m,b){return m=eo(22,m,null,b),m.lanes=0,m}function Vg(m,b,E){return Ia(b,m.child,null,E),m=w0(b,b.pendingProps.children),m.flags|=2,b.memoizedState=null,m}function Qv(m,b,E){m.lanes|=b;var R=m.alternate;R!==null&&(R.lanes|=b),Rc(m.return,b,E)}function Qy(m,b,E,R,U,q){var ve=m.memoizedState;ve===null?m.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:R,tail:E,tailMode:U,treeForkCount:q}:(ve.isBackwards=b,ve.rendering=null,ve.renderingStartTime=0,ve.last=R,ve.tail=E,ve.tailMode=U,ve.treeForkCount=q)}function e1(m,b,E){var R=b.pendingProps,U=R.revealOrder,q=R.tail;R=R.children;var ve=wi.current,De=(ve&2)!==0;if(De?(ve=ve&1|2,b.flags|=128):ve&=1,W(wi,ve),As(m,b,R,E),R=mi?d0:0,!De&&m!==null&&(m.flags&128)!==0)e:for(m=b.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Qv(m,E,b);else if(m.tag===19)Qv(m,E,b);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===b)break e;for(;m.sibling===null;){if(m.return===null||m.return===b)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}switch(U){case"forwards":for(E=b.child,U=null;E!==null;)m=E.alternate,m!==null&&Yo(m)===null&&(U=E),E=E.sibling;E=U,E===null?(U=b.child,b.child=null):(U=E.sibling,E.sibling=null),Qy(b,!1,U,E,q,R);break;case"backwards":case"unstable_legacy-backwards":for(E=null,U=b.child,b.child=null;U!==null;){if(m=U.alternate,m!==null&&Yo(m)===null){b.child=U;break}m=U.sibling,U.sibling=E,E=U,U=m}Qy(b,!0,E,null,q,R);break;case"together":Qy(b,!1,null,null,void 0,R);break;default:b.memoizedState=null}return b.child}function dh(m,b,E){if(m!==null&&(b.dependencies=m.dependencies),Ru|=b.lanes,(E&b.childLanes)===0)if(m!==null){if(_f(m,b,E,!1),(E&b.childLanes)===0)return null}else return null;if(m!==null&&b.child!==m.child)throw Error(n(153));if(b.child!==null){for(m=b.child,E=ac(m,m.pendingProps),b.child=E,E.return=b;m.sibling!==null;)m=m.sibling,E=E.sibling=ac(m,m.pendingProps),E.return=b;E.sibling=null}return b.child}function S0(m,b){return(m.lanes&b)!==0?!0:(m=m.dependencies,!!(m!==null&&v0(m)))}function t1(m,b,E){switch(b.tag){case 3:ye(b,b.stateNode.containerInfo),sh(b,an,m.memoizedState.cache),op();break;case 27:case 5:be(b);break;case 4:ye(b,b.stateNode.containerInfo);break;case 10:sh(b,b.type,b.memoizedProps.value);break;case 31:if(b.memoizedState!==null)return b.flags|=128,na(b),null;break;case 13:var R=b.memoizedState;if(R!==null)return R.dehydrated!==null?(ms(b),b.flags|=128,null):(E&b.child.childLanes)!==0?Nu(m,b,E):(ms(b),m=dh(m,b,E),m!==null?m.sibling:null);ms(b);break;case 19:var U=(m.flags&128)!==0;if(R=(E&b.childLanes)!==0,R||(_f(m,b,E,!1),R=(E&b.childLanes)!==0),U){if(R)return e1(m,b,E);b.flags|=128}if(U=b.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),W(wi,wi.current),R)break;return null;case 22:return b.lanes=0,Mu(m,b,E,b.pendingProps);case 24:sh(b,an,m.memoizedState.cache)}return dh(m,b,E)}function Gb(m,b,E){if(m!==null)if(m.memoizedProps!==b.pendingProps)ns=!0;else{if(!S0(m,E)&&(b.flags&128)===0)return ns=!1,t1(m,b,E);ns=(m.flags&131072)!==0}else ns=!1,mi&&(b.flags&1048576)!==0&&Iy(b,d0,b.index);switch(b.lanes=0,b.tag){case 16:e:{var R=b.pendingProps;if(m=Tt(b.elementType),b.type=m,typeof m=="function")Go(m)?(R=pl(m,R),b.tag=1,b=vl(null,b,m,R,E)):(b.tag=0,b=jg(null,b,m,R,E));else{if(m!=null){var U=m.$$typeof;if(U===A){b.tag=11,b=Zy(null,b,m,R,E);break e}else if(U===N){b.tag=14,b=Ky(null,b,m,R,E);break e}}throw b=B(m)||m,Error(n(306,b,""))}}return b;case 0:return jg(m,b,b.type,b.pendingProps,E);case 1:return R=b.type,U=pl(R,b.pendingProps),vl(m,b,R,U,E);case 3:e:{if(ye(b,b.stateNode.containerInfo),m===null)throw Error(n(387));R=b.pendingProps;var q=b.memoizedState;U=q.element,rs(m,b),us(b,R,null,E);var ve=b.memoizedState;if(R=ve.cache,sh(b,an,R),R!==q.cache&&ed(b,[an],E,!0),Ca(),R=ve.element,q.isDehydrated)if(q={element:R,isDehydrated:!1,cache:ve.cache},b.updateQueue.baseState=q,b.memoizedState=q,b.flags&256){b=Vi(m,b,R,E);break e}else if(R!==U){U=Il(Error(n(424)),b),p0(U),b=Vi(m,b,R,E);break e}else{switch(m=b.stateNode.containerInfo,m.nodeType){case 9:m=m.body;break;default:m=m.nodeName==="HTML"?m.ownerDocument.body:m}for(Ma=ud(m.firstChild),to=b,mi=!0,Wo=null,fa=!0,E=Vn(b,null,R,E),b.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling}else{if(op(),R===U){b=dh(m,b,E);break e}As(m,b,R,E)}b=b.child}return b;case 26:return hh(m,b),m===null?(E=rY(b.type,null,b.pendingProps,null))?b.memoizedState=E:mi||(E=b.type,m=b.pendingProps,R=XM(ae.current).createElement(E),R[Re]=b,R[Ve]=m,uc(R,E,m),ot(R),b.stateNode=R):b.memoizedState=rY(b.type,m.memoizedProps,b.pendingProps,m.memoizedState),null;case 27:return be(b),m===null&&mi&&(R=b.stateNode=QW(b.type,b.pendingProps,ae.current),to=b,fa=!0,U=Ma,Zg(b.type)?(O6=U,Ma=ud(R.firstChild)):Ma=U),As(m,b,b.pendingProps.children,E),hh(m,b),m===null&&(b.flags|=4194304),b.child;case 5:return m===null&&mi&&((U=R=Ma)&&(R=Lbe(R,b.type,b.pendingProps,fa),R!==null?(b.stateNode=R,to=b,Ma=ud(R.firstChild),fa=!1,U=!0):U=!1),U||hi(b)),be(b),U=b.type,q=b.pendingProps,ve=m!==null?m.memoizedProps:null,R=q.children,D6(U,q)?R=null:ve!==null&&D6(U,ve)&&(b.flags|=32),b.memoizedState!==null&&(U=zy(m,b,gT,null,null,E),jT._currentValue=U),hh(m,b),As(m,b,R,E),b.child;case 6:return m===null&&mi&&((m=E=Ma)&&(E=Rbe(E,b.pendingProps,fa),E!==null?(b.stateNode=E,to=b,Ma=null,m=!0):m=!1),m||hi(b)),null;case 13:return Nu(m,b,E);case 4:return ye(b,b.stateNode.containerInfo),R=b.pendingProps,m===null?b.child=Ia(b,null,R,E):As(m,b,R,E),b.child;case 11:return Zy(m,b,b.type,b.pendingProps,E);case 7:return As(m,b,b.pendingProps,E),b.child;case 8:return As(m,b,b.pendingProps.children,E),b.child;case 12:return As(m,b,b.pendingProps.children,E),b.child;case 10:return R=b.pendingProps,sh(b,b.type,R.value),As(m,b,R.children,E),b.child;case 9:return U=b.type._context,R=b.pendingProps.children,td(b),U=no(U),R=R(U),b.flags|=1,As(m,b,R,E),b.child;case 14:return Ky(m,b,b.type,b.pendingProps,E);case 15:return Eu(m,b,b.type,b.pendingProps,E);case 19:return e1(m,b,E);case 31:return $y(m,b,E);case 22:return Mu(m,b,E,b.pendingProps);case 24:return td(b),R=no(an),m===null?(U=Le(),U===null&&(U=da,q=m0(),U.pooledCache=q,q.refCount++,q!==null&&(U.pooledCacheLanes|=E),U=q),b.memoizedState={parent:R,cache:U},yr(b),sh(b,an,U)):((m.lanes&E)!==0&&(rs(m,b),us(b,null,null,E),Ca()),U=m.memoizedState,q=b.memoizedState,U.parent!==R?(U={parent:R,cache:R},b.memoizedState=U,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=U),sh(b,an,R)):(R=q.cache,sh(b,an,R),R!==U.cache&&ed(b,[an],E,!0))),As(m,b,b.pendingProps.children,E),b.child;case 29:throw b.pendingProps}throw Error(n(156,b.tag))}function Pc(m){m.flags|=4}function T0(m,b,E,R,U){if((b=(m.mode&32)!==0)&&(b=!1),b){if(m.flags|=16777216,(U&335544128)===U)if(m.stateNode.complete)m.flags|=8192;else if(mr())m.flags|=8192;else throw mt=ct,Ct}else m.flags&=-16777217}function hp(m,b){if(b.type!=="stylesheet"||(b.state.loading&4)!==0)m.flags&=-16777217;else if(m.flags|=16777216,!oY(b))if(mr())m.flags|=8192;else throw mt=ct,Ct}function Hg(m,b){b!==null&&(m.flags|=4),m.flags&16384&&(b=m.tag!==22?Yr():536870912,m.lanes|=b,ku|=b)}function r1(m,b){if(!mi)switch(m.tailMode){case"hidden":b=m.tail;for(var E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?m.tail=null:E.sibling=null;break;case"collapsed":E=m.tail;for(var R=null;E!==null;)E.alternate!==null&&(R=E),E=E.sibling;R===null?b||m.tail===null?m.tail=null:m.tail.sibling=null:R.sibling=null}}function wa(m){var b=m.alternate!==null&&m.alternate.child===m.child,E=0,R=0;if(b)for(var U=m.child;U!==null;)E|=U.lanes|U.childLanes,R|=U.subtreeFlags&65011712,R|=U.flags&65011712,U.return=m,U=U.sibling;else for(U=m.child;U!==null;)E|=U.lanes|U.childLanes,R|=U.subtreeFlags,R|=U.flags,U.return=m,U=U.sibling;return m.subtreeFlags|=R,m.childLanes=E,b}function LT(m,b,E){var R=b.pendingProps;switch(ih(b),b.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wa(b),null;case 1:return wa(b),null;case 3:return E=b.stateNode,R=null,m!==null&&(R=m.memoizedState.cache),b.memoizedState.cache!==R&&(b.flags|=2048),fl(an),fe(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(m===null||m.child===null)&&(ro(b)?Pc(b):m===null||m.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,Oy())),wa(b),null;case 26:var U=b.type,q=b.memoizedState;return m===null?(Pc(b),q!==null?(wa(b),hp(b,q)):(wa(b),T0(b,U,null,R,E))):q?q!==m.memoizedState?(Pc(b),wa(b),hp(b,q)):(wa(b),b.flags&=-16777217):(m=m.memoizedProps,m!==R&&Pc(b),wa(b),T0(b,U,m,R,E)),null;case 27:if(Oe(b),E=ae.current,U=b.type,m!==null&&b.stateNode!=null)m.memoizedProps!==R&&Pc(b);else{if(!R){if(b.stateNode===null)throw Error(n(166));return wa(b),null}m=Q.current,ro(b)?Yv(b):(m=QW(U,R,E),b.stateNode=m,Pc(b))}return wa(b),null;case 5:if(Oe(b),U=b.type,m!==null&&b.stateNode!=null)m.memoizedProps!==R&&Pc(b);else{if(!R){if(b.stateNode===null)throw Error(n(166));return wa(b),null}if(q=Q.current,ro(b))Yv(b);else{var ve=XM(ae.current);switch(q){case 1:q=ve.createElementNS("http://www.w3.org/2000/svg",U);break;case 2:q=ve.createElementNS("http://www.w3.org/1998/Math/MathML",U);break;default:switch(U){case"svg":q=ve.createElementNS("http://www.w3.org/2000/svg",U);break;case"math":q=ve.createElementNS("http://www.w3.org/1998/Math/MathML",U);break;case"script":q=ve.createElement("div"),q.innerHTML="<script><\/script>",q=q.removeChild(q.firstChild);break;case"select":q=typeof R.is=="string"?ve.createElement("select",{is:R.is}):ve.createElement("select"),R.multiple?q.multiple=!0:R.size&&(q.size=R.size);break;default:q=typeof R.is=="string"?ve.createElement(U,{is:R.is}):ve.createElement(U)}}q[Re]=b,q[Ve]=R;e:for(ve=b.child;ve!==null;){if(ve.tag===5||ve.tag===6)q.appendChild(ve.stateNode);else if(ve.tag!==4&&ve.tag!==27&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===b)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===b)break e;ve=ve.return}ve.sibling.return=ve.return,ve=ve.sibling}b.stateNode=q;e:switch(uc(q,U,R),U){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}R&&Pc(b)}}return wa(b),T0(b,b.type,m===null?null:m.memoizedProps,b.pendingProps,E),null;case 6:if(m&&b.stateNode!=null)m.memoizedProps!==R&&Pc(b);else{if(typeof R!="string"&&b.stateNode===null)throw Error(n(166));if(m=ae.current,ro(b)){if(m=b.stateNode,E=b.memoizedProps,R=null,U=to,U!==null)switch(U.tag){case 27:case 5:R=U.memoizedProps}m[Re]=b,m=!!(m.nodeValue===E||R!==null&&R.suppressHydrationWarning===!0||VW(m.nodeValue,E)),m||hi(b,!0)}else m=XM(m).createTextNode(R),m[Re]=b,b.stateNode=m}return wa(b),null;case 31:if(E=b.memoizedState,m===null||m.memoizedState!==null){if(R=ro(b),E!==null){if(m===null){if(!R)throw Error(n(318));if(m=b.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(557));m[Re]=b}else op(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;wa(b),m=!1}else E=Oy(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=E),m=!0;if(!m)return b.flags&256?(ba(b),b):(ba(b),null);if((b.flags&128)!==0)throw Error(n(558))}return wa(b),null;case 13:if(R=b.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(U=ro(b),R!==null&&R.dehydrated!==null){if(m===null){if(!U)throw Error(n(318));if(U=b.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[Re]=b}else op(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;wa(b),U=!1}else U=Oy(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=U),U=!0;if(!U)return b.flags&256?(ba(b),b):(ba(b),null)}return ba(b),(b.flags&128)!==0?(b.lanes=E,b):(E=R!==null,m=m!==null&&m.memoizedState!==null,E&&(R=b.child,U=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(U=R.alternate.memoizedState.cachePool.pool),q=null,R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(q=R.memoizedState.cachePool.pool),q!==U&&(R.flags|=2048)),E!==m&&E&&(b.child.flags|=8192),Hg(b,b.updateQueue),wa(b),null);case 4:return fe(),m===null&&A6(b.stateNode.containerInfo),wa(b),null;case 10:return fl(b.type),wa(b),null;case 19:if(F(wi),R=b.memoizedState,R===null)return wa(b),null;if(U=(b.flags&128)!==0,q=R.rendering,q===null)if(U)r1(R,!1);else{if(pa!==0||m!==null&&(m.flags&128)!==0)for(m=b.child;m!==null;){if(q=Yo(m),q!==null){for(b.flags|=128,r1(R,!1),m=q.updateQueue,b.updateQueue=m,Hg(b,m),b.subtreeFlags=0,m=E,E=b.child;E!==null;)Fs(E,m),E=E.sibling;return W(wi,wi.current&1|2),mi&&oc(b,R.treeForkCount),b.child}m=m.sibling}R.tail!==null&&pe()>Iu&&(b.flags|=128,U=!0,r1(R,!1),b.lanes=4194304)}else{if(!U)if(m=Yo(q),m!==null){if(b.flags|=128,U=!0,m=m.updateQueue,b.updateQueue=m,Hg(b,m),r1(R,!0),R.tail===null&&R.tailMode==="hidden"&&!q.alternate&&!mi)return wa(b),null}else 2*pe()-R.renderingStartTime>Iu&&E!==536870912&&(b.flags|=128,U=!0,r1(R,!1),b.lanes=4194304);R.isBackwards?(q.sibling=b.child,b.child=q):(m=R.last,m!==null?m.sibling=q:b.child=q,R.last=q)}return R.tail!==null?(m=R.tail,R.rendering=m,R.tail=m.sibling,R.renderingStartTime=pe(),m.sibling=null,E=wi.current,W(wi,U?E&1|2:E&1),mi&&oc(b,R.treeForkCount),m):(wa(b),null);case 22:case 23:return ba(b),Ii(),R=b.memoizedState!==null,m!==null?m.memoizedState!==null!==R&&(b.flags|=8192):R&&(b.flags|=8192),R?(E&536870912)!==0&&(b.flags&128)===0&&(wa(b),b.subtreeFlags&6&&(b.flags|=8192)):wa(b),E=b.updateQueue,E!==null&&Hg(b,E.retryQueue),E=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),R=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(R=b.memoizedState.cachePool.pool),R!==E&&(b.flags|=2048),m!==null&&F(Ne),null;case 24:return E=null,m!==null&&(E=m.memoizedState.cache),b.memoizedState.cache!==E&&(b.flags|=2048),fl(an),wa(b),null;case 25:return null;case 30:return null}throw Error(n(156,b.tag))}function Wb(m,b){switch(ih(b),b.tag){case 1:return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 3:return fl(an),fe(),m=b.flags,(m&65536)!==0&&(m&128)===0?(b.flags=m&-65537|128,b):null;case 26:case 27:case 5:return Oe(b),null;case 31:if(b.memoizedState!==null){if(ba(b),b.alternate===null)throw Error(n(340));op()}return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 13:if(ba(b),m=b.memoizedState,m!==null&&m.dehydrated!==null){if(b.alternate===null)throw Error(n(340));op()}return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 19:return F(wi),null;case 4:return fe(),null;case 10:return fl(b.type),null;case 22:case 23:return ba(b),Ii(),m!==null&&F(Ne),m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 24:return fl(an),null;case 25:return null;default:return null}}function em(m,b){switch(ih(b),b.tag){case 3:fl(an),fe();break;case 26:case 27:case 5:Oe(b);break;case 4:fe();break;case 31:b.memoizedState!==null&&ba(b);break;case 13:ba(b);break;case 19:F(wi);break;case 10:fl(b.type);break;case 22:case 23:ba(b),Ii(),m!==null&&F(Ne);break;case 24:fl(an)}}function sd(m,b){try{var E=b.updateQueue,R=E!==null?E.lastEffect:null;if(R!==null){var U=R.next;E=U;do{if((E.tag&m)===m){R=void 0;var q=E.create,ve=E.inst;R=q(),ve.destroy=R}E=E.next}while(E!==U)}}catch(De){Oa(b,b.return,De)}}function Mf(m,b,E){try{var R=b.updateQueue,U=R!==null?R.lastEffect:null;if(U!==null){var q=U.next;R=q;do{if((R.tag&m)===m){var ve=R.inst,De=ve.destroy;if(De!==void 0){ve.destroy=void 0,U=b;var rt=E,kt=De;try{kt()}catch($t){Oa(U,rt,$t)}}}R=R.next}while(R!==q)}}catch($t){Oa(b,b.return,$t)}}function A0(m){var b=m.updateQueue;if(b!==null){var E=m.stateNode;try{gi(b,E)}catch(R){Oa(m,m.return,R)}}}function RT(m,b,E){E.props=pl(m.type,m.memoizedProps),E.state=m.memoizedState;try{E.componentWillUnmount()}catch(R){Oa(m,b,R)}}function od(m,b){try{var E=m.ref;if(E!==null){switch(m.tag){case 26:case 27:case 5:var R=m.stateNode;break;case 30:R=m.stateNode;break;default:R=m.stateNode}typeof E=="function"?m.refCleanup=E(R):E.current=R}}catch(U){Oa(m,b,U)}}function Du(m,b){var E=m.ref,R=m.refCleanup;if(E!==null)if(typeof R=="function")try{R()}catch(U){Oa(m,b,U)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(U){Oa(m,b,U)}else E.current=null}function Lu(m){var b=m.type,E=m.memoizedProps,R=m.stateNode;try{e:switch(b){case"button":case"input":case"select":case"textarea":E.autoFocus&&R.focus();break e;case"img":E.src?R.src=E.src:E.srcSet&&(R.srcset=E.srcSet)}}catch(U){Oa(m,m.return,U)}}function Cf(m,b,E){try{var R=m.stateNode;Abe(R,m.type,E,b),R[Ve]=b}catch(U){Oa(m,m.return,U)}}function ao(m){return m.tag===5||m.tag===3||m.tag===26||m.tag===27&&Zg(m.type)||m.tag===4}function ld(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||ao(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.tag===27&&Zg(m.type)||m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function ti(m,b,E){var R=m.tag;if(R===5||R===6)m=m.stateNode,b?(E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E).insertBefore(m,b):(b=E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E,b.appendChild(m),E=E._reactRootContainer,E!=null||b.onclick!==null||(b.onclick=Ac));else if(R!==4&&(R===27&&Zg(m.type)&&(E=m.stateNode,b=null),m=m.child,m!==null))for(ti(m,b,E),m=m.sibling;m!==null;)ti(m,b,E),m=m.sibling}function ia(m,b,E){var R=m.tag;if(R===5||R===6)m=m.stateNode,b?E.insertBefore(m,b):E.appendChild(m);else if(R!==4&&(R===27&&Zg(m.type)&&(E=m.stateNode),m=m.child,m!==null))for(ia(m,b,E),m=m.sibling;m!==null;)ia(m,b,E),m=m.sibling}function Bs(m){var b=m.stateNode,E=m.memoizedProps;try{for(var R=m.type,U=b.attributes;U.length;)b.removeAttributeNode(U[0]);uc(b,R,E),b[Re]=m,b[Ve]=E}catch(q){Oa(m,m.return,q)}}var Nf=!1,is=!1,dp=!1,n1=typeof WeakSet=="function"?WeakSet:Set,Es=null;function Gg(m,b){if(m=m.containerInfo,C6=tC,m=_u(m),nc(m)){if("selectionStart"in m)var E={start:m.selectionStart,end:m.selectionEnd};else e:{E=(E=m.ownerDocument)&&E.defaultView||window;var R=E.getSelection&&E.getSelection();if(R&&R.rangeCount!==0){E=R.anchorNode;var U=R.anchorOffset,q=R.focusNode;R=R.focusOffset;try{E.nodeType,q.nodeType}catch{E=null;break e}var ve=0,De=-1,rt=-1,kt=0,$t=0,nr=m,Bt=null;t:for(;;){for(var Ht;nr!==E||U!==0&&nr.nodeType!==3||(De=ve+U),nr!==q||R!==0&&nr.nodeType!==3||(rt=ve+R),nr.nodeType===3&&(ve+=nr.nodeValue.length),(Ht=nr.firstChild)!==null;)Bt=nr,nr=Ht;for(;;){if(nr===m)break t;if(Bt===E&&++kt===U&&(De=ve),Bt===q&&++$t===R&&(rt=ve),(Ht=nr.nextSibling)!==null)break;nr=Bt,Bt=nr.parentNode}nr=Ht}E=De===-1||rt===-1?null:{start:De,end:rt}}else E=null}E=E||{start:0,end:0}}else E=null;for(N6={focusedElem:m,selectionRange:E},tC=!1,Es=b;Es!==null;)if(b=Es,m=b.child,(b.subtreeFlags&1028)!==0&&m!==null)m.return=b,Es=m;else for(;Es!==null;){switch(b=Es,q=b.alternate,m=b.flags,b.tag){case 0:if((m&4)!==0&&(m=b.updateQueue,m=m!==null?m.events:null,m!==null))for(E=0;E<m.length;E++)U=m[E],U.ref.impl=U.nextImpl;break;case 11:case 15:break;case 1:if((m&1024)!==0&&q!==null){m=void 0,E=b,U=q.memoizedProps,q=q.memoizedState,R=E.stateNode;try{var Kr=pl(E.type,U);m=R.getSnapshotBeforeUpdate(Kr,q),R.__reactInternalSnapshotBeforeUpdate=m}catch(Tn){Oa(E,E.return,Tn)}}break;case 3:if((m&1024)!==0){if(m=b.stateNode.containerInfo,E=m.nodeType,E===9)R6(m);else if(E===1)switch(m.nodeName){case"HEAD":case"HTML":case"BODY":R6(m);break;default:m.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(n(163))}if(m=b.sibling,m!==null){m.return=b.return,Es=m;break}Es=b.return}}function UM(m,b,E){var R=E.flags;switch(E.tag){case 0:case 11:case 15:pp(m,E),R&4&&sd(5,E);break;case 1:if(pp(m,E),R&4)if(m=E.stateNode,b===null)try{m.componentDidMount()}catch(ve){Oa(E,E.return,ve)}else{var U=pl(E.type,b.memoizedProps);b=b.memoizedState;try{m.componentDidUpdate(U,b,m.__reactInternalSnapshotBeforeUpdate)}catch(ve){Oa(E,E.return,ve)}}R&64&&A0(E),R&512&&od(E,E.return);break;case 3:if(pp(m,E),R&64&&(m=E.updateQueue,m!==null)){if(b=null,E.child!==null)switch(E.child.tag){case 27:case 5:b=E.child.stateNode;break;case 1:b=E.child.stateNode}try{gi(m,b)}catch(ve){Oa(E,E.return,ve)}}break;case 27:b===null&&R&4&&Bs(E);case 26:case 5:pp(m,E),b===null&&R&4&&Lu(E),R&512&&od(E,E.return);break;case 12:pp(m,E);break;case 31:pp(m,E),R&4&&qb(m,E);break;case 13:pp(m,E),R&4&&kT(m,E),R&64&&(m=E.memoizedState,m!==null&&(m=m.dehydrated,m!==null&&(E=dbe.bind(null,E),kbe(m,E))));break;case 22:if(R=E.memoizedState!==null||Nf,!R){b=b!==null&&b.memoizedState!==null||is,U=Nf;var q=is;Nf=R,(is=b)&&!q?ha(m,E,(E.subtreeFlags&8772)!==0):pp(m,E),Nf=U,is=q}break;case 30:break;default:pp(m,E)}}function Yb(m){var b=m.alternate;b!==null&&(m.alternate=null,Yb(b)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(b=m.stateNode,b!==null&&sr(b)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}var Hi=null,so=!1;function Bl(m,b,E){for(E=E.child;E!==null;)E0(m,b,E),E=E.sibling}function E0(m,b,E){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(ft,E)}catch{}switch(E.tag){case 26:is||Du(E,b),Bl(m,b,E),E.memoizedState?E.memoizedState.count--:E.stateNode&&(E=E.stateNode,E.parentNode.removeChild(E));break;case 27:is||Du(E,b);var R=Hi,U=so;Zg(E.type)&&(Hi=E.stateNode,so=!1),Bl(m,b,E),FT(E.stateNode),Hi=R,so=U;break;case 5:is||Du(E,b);case 6:if(R=Hi,U=so,Hi=null,Bl(m,b,E),Hi=R,so=U,Hi!==null)if(so)try{(Hi.nodeType===9?Hi.body:Hi.nodeName==="HTML"?Hi.ownerDocument.body:Hi).removeChild(E.stateNode)}catch(q){Oa(E,b,q)}else try{Hi.removeChild(E.stateNode)}catch(q){Oa(E,b,q)}break;case 18:Hi!==null&&(so?(m=Hi,XW(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,E.stateNode),i_(m)):XW(Hi,E.stateNode));break;case 4:R=Hi,U=so,Hi=E.stateNode.containerInfo,so=!0,Bl(m,b,E),Hi=R,so=U;break;case 0:case 11:case 14:case 15:Mf(2,E,b),is||Mf(4,E,b),Bl(m,b,E);break;case 1:is||(Du(E,b),R=E.stateNode,typeof R.componentWillUnmount=="function"&&RT(E,b,R)),Bl(m,b,E);break;case 21:Bl(m,b,E);break;case 22:is=(R=is)||E.memoizedState!==null,Bl(m,b,E),is=R;break;default:Bl(m,b,E)}}function qb(m,b){if(b.memoizedState===null&&(m=b.alternate,m!==null&&(m=m.memoizedState,m!==null))){m=m.dehydrated;try{i_(m)}catch(E){Oa(b,b.return,E)}}}function kT(m,b){if(b.memoizedState===null&&(m=b.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{i_(m)}catch(E){Oa(b,b.return,E)}}function VM(m){switch(m.tag){case 31:case 13:case 19:var b=m.stateNode;return b===null&&(b=m.stateNode=new n1),b;case 22:return m=m.stateNode,b=m._retryCache,b===null&&(b=m._retryCache=new n1),b;default:throw Error(n(435,m.tag))}}function zs(m,b){var E=VM(m);b.forEach(function(R){if(!E.has(R)){E.add(R);var U=pbe.bind(null,m,R);R.then(U,U)}})}function zl(m,b){var E=b.deletions;if(E!==null)for(var R=0;R<E.length;R++){var U=E[R],q=m,ve=b,De=ve;e:for(;De!==null;){switch(De.tag){case 27:if(Zg(De.type)){Hi=De.stateNode,so=!1;break e}break;case 5:Hi=De.stateNode,so=!1;break e;case 3:case 4:Hi=De.stateNode.containerInfo,so=!0;break e}De=De.return}if(Hi===null)throw Error(n(160));E0(q,ve,U),Hi=null,so=!1,q=U.alternate,q!==null&&(q.return=null),U.return=null}if(b.subtreeFlags&13886)for(b=b.child;b!==null;)M0(b,m),b=b.sibling}var Fc=null;function M0(m,b){var E=m.alternate,R=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:zl(b,m),Ms(m),R&4&&(Mf(3,m,m.return),sd(3,m),Mf(5,m,m.return));break;case 1:zl(b,m),Ms(m),R&512&&(is||E===null||Du(E,E.return)),R&64&&Nf&&(m=m.updateQueue,m!==null&&(R=m.callbacks,R!==null&&(E=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=E===null?R:E.concat(R))));break;case 26:var U=Fc;if(zl(b,m),Ms(m),R&512&&(is||E===null||Du(E,E.return)),R&4){var q=E!==null?E.memoizedState:null;if(R=m.memoizedState,E===null)if(R===null)if(m.stateNode===null){e:{R=m.type,E=m.memoizedProps,U=U.ownerDocument||U;t:switch(R){case"title":q=U.getElementsByTagName("title")[0],(!q||q[Mt]||q[Re]||q.namespaceURI==="http://www.w3.org/2000/svg"||q.hasAttribute("itemprop"))&&(q=U.createElement(R),U.head.insertBefore(q,U.querySelector("head > title"))),uc(q,R,E),q[Re]=m,ot(q),R=q;break e;case"link":var ve=aY("link","href",U).get(R+(E.href||""));if(ve){for(var De=0;De<ve.length;De++)if(q=ve[De],q.getAttribute("href")===(E.href==null||E.href===""?null:E.href)&&q.getAttribute("rel")===(E.rel==null?null:E.rel)&&q.getAttribute("title")===(E.title==null?null:E.title)&&q.getAttribute("crossorigin")===(E.crossOrigin==null?null:E.crossOrigin)){ve.splice(De,1);break t}}q=U.createElement(R),uc(q,R,E),U.head.appendChild(q);break;case"meta":if(ve=aY("meta","content",U).get(R+(E.content||""))){for(De=0;De<ve.length;De++)if(q=ve[De],q.getAttribute("content")===(E.content==null?null:""+E.content)&&q.getAttribute("name")===(E.name==null?null:E.name)&&q.getAttribute("property")===(E.property==null?null:E.property)&&q.getAttribute("http-equiv")===(E.httpEquiv==null?null:E.httpEquiv)&&q.getAttribute("charset")===(E.charSet==null?null:E.charSet)){ve.splice(De,1);break t}}q=U.createElement(R),uc(q,R,E),U.head.appendChild(q);break;default:throw Error(n(468,R))}q[Re]=m,ot(q),R=q}m.stateNode=R}else sY(U,m.type,m.stateNode);else m.stateNode=iY(U,R,m.memoizedProps);else q!==R?(q===null?E.stateNode!==null&&(E=E.stateNode,E.parentNode.removeChild(E)):q.count--,R===null?sY(U,m.type,m.stateNode):iY(U,R,m.memoizedProps)):R===null&&m.stateNode!==null&&Cf(m,m.memoizedProps,E.memoizedProps)}break;case 27:zl(b,m),Ms(m),R&512&&(is||E===null||Du(E,E.return)),E!==null&&R&4&&Cf(m,m.memoizedProps,E.memoizedProps);break;case 5:if(zl(b,m),Ms(m),R&512&&(is||E===null||Du(E,E.return)),m.flags&32){U=m.stateNode;try{Vo(U,"")}catch(Kr){Oa(m,m.return,Kr)}}R&4&&m.stateNode!=null&&(U=m.memoizedProps,Cf(m,U,E!==null?E.memoizedProps:U)),R&1024&&(dp=!0);break;case 6:if(zl(b,m),Ms(m),R&4){if(m.stateNode===null)throw Error(n(162));R=m.memoizedProps,E=m.stateNode;try{E.nodeValue=R}catch(Kr){Oa(m,m.return,Kr)}}break;case 3:if($M=null,U=Fc,Fc=ZM(b.containerInfo),zl(b,m),Fc=U,Ms(m),R&4&&E!==null&&E.memoizedState.isDehydrated)try{i_(b.containerInfo)}catch(Kr){Oa(m,m.return,Kr)}dp&&(dp=!1,HM(m));break;case 4:R=Fc,Fc=ZM(m.stateNode.containerInfo),zl(b,m),Ms(m),Fc=R;break;case 12:zl(b,m),Ms(m);break;case 31:zl(b,m),Ms(m),R&4&&(R=m.updateQueue,R!==null&&(m.updateQueue=null,zs(m,R)));break;case 13:zl(b,m),Ms(m),m.child.flags&8192&&m.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(gp=pe()),R&4&&(R=m.updateQueue,R!==null&&(m.updateQueue=null,zs(m,R)));break;case 22:U=m.memoizedState!==null;var rt=E!==null&&E.memoizedState!==null,kt=Nf,$t=is;if(Nf=kt||U,is=$t||rt,zl(b,m),is=$t,Nf=kt,Ms(m),R&8192)e:for(b=m.stateNode,b._visibility=U?b._visibility&-2:b._visibility|1,U&&(E===null||rt||Nf||is||tm(m)),E=null,b=m;;){if(b.tag===5||b.tag===26){if(E===null){rt=E=b;try{if(q=rt.stateNode,U)ve=q.style,typeof ve.setProperty=="function"?ve.setProperty("display","none","important"):ve.display="none";else{De=rt.stateNode;var nr=rt.memoizedProps.style,Bt=nr!=null&&nr.hasOwnProperty("display")?nr.display:null;De.style.display=Bt==null||typeof Bt=="boolean"?"":(""+Bt).trim()}}catch(Kr){Oa(rt,rt.return,Kr)}}}else if(b.tag===6){if(E===null){rt=b;try{rt.stateNode.nodeValue=U?"":rt.memoizedProps}catch(Kr){Oa(rt,rt.return,Kr)}}}else if(b.tag===18){if(E===null){rt=b;try{var Ht=rt.stateNode;U?ZW(Ht,!0):ZW(rt.stateNode,!1)}catch(Kr){Oa(rt,rt.return,Kr)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===m)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break e;for(;b.sibling===null;){if(b.return===null||b.return===m)break e;E===b&&(E=null),b=b.return}E===b&&(E=null),b.sibling.return=b.return,b=b.sibling}R&4&&(R=m.updateQueue,R!==null&&(E=R.retryQueue,E!==null&&(R.retryQueue=null,zs(m,E))));break;case 19:zl(b,m),Ms(m),R&4&&(R=m.updateQueue,R!==null&&(m.updateQueue=null,zs(m,R)));break;case 30:break;case 21:break;default:zl(b,m),Ms(m)}}function Ms(m){var b=m.flags;if(b&2){try{for(var E,R=m.return;R!==null;){if(ao(R)){E=R;break}R=R.return}if(E==null)throw Error(n(160));switch(E.tag){case 27:var U=E.stateNode,q=ld(m);ia(m,q,U);break;case 5:var ve=E.stateNode;E.flags&32&&(Vo(ve,""),E.flags&=-33);var De=ld(m);ia(m,De,ve);break;case 3:case 4:var rt=E.stateNode.containerInfo,kt=ld(m);ti(m,kt,rt);break;default:throw Error(n(161))}}catch($t){Oa(m,m.return,$t)}m.flags&=-3}b&4096&&(m.flags&=-4097)}function HM(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var b=m;HM(b),b.tag===5&&b.flags&1024&&b.stateNode.reset(),m=m.sibling}}function pp(m,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)UM(m,b.alternate,b),b=b.sibling}function tm(m){for(m=m.child;m!==null;){var b=m;switch(b.tag){case 0:case 11:case 14:case 15:Mf(4,b,b.return),tm(b);break;case 1:Du(b,b.return);var E=b.stateNode;typeof E.componentWillUnmount=="function"&&RT(b,b.return,E),tm(b);break;case 27:FT(b.stateNode);case 26:case 5:Du(b,b.return),tm(b);break;case 22:b.memoizedState===null&&tm(b);break;case 30:tm(b);break;default:tm(b)}m=m.sibling}}function ha(m,b,E){for(E=E&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var R=b.alternate,U=m,q=b,ve=q.flags;switch(q.tag){case 0:case 11:case 15:ha(U,q,E),sd(4,q);break;case 1:if(ha(U,q,E),R=q,U=R.stateNode,typeof U.componentDidMount=="function")try{U.componentDidMount()}catch(kt){Oa(R,R.return,kt)}if(R=q,U=R.updateQueue,U!==null){var De=R.stateNode;try{var rt=U.shared.hiddenCallbacks;if(rt!==null)for(U.shared.hiddenCallbacks=null,U=0;U<rt.length;U++)Wa(rt[U],De)}catch(kt){Oa(R,R.return,kt)}}E&&ve&64&&A0(q),od(q,q.return);break;case 27:Bs(q);case 26:case 5:ha(U,q,E),E&&R===null&&ve&4&&Lu(q),od(q,q.return);break;case 12:ha(U,q,E);break;case 31:ha(U,q,E),E&&ve&4&&qb(U,q);break;case 13:ha(U,q,E),E&&ve&4&&kT(U,q);break;case 22:q.memoizedState===null&&ha(U,q,E),od(q,q.return);break;case 30:break;default:ha(U,q,E)}b=b.sibling}}function Xb(m,b){var E=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),m=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(m=b.memoizedState.cachePool.pool),m!==E&&(m!=null&&m.refCount++,E!=null&&Eo(E))}function vp(m,b){m=null,b.alternate!==null&&(m=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==m&&(b.refCount++,m!=null&&Eo(m))}function Co(m,b,E,R){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)xs(m,b,E,R),b=b.sibling}function xs(m,b,E,R){var U=b.flags;switch(b.tag){case 0:case 11:case 15:Co(m,b,E,R),U&2048&&sd(9,b);break;case 1:Co(m,b,E,R);break;case 3:Co(m,b,E,R),U&2048&&(m=null,b.alternate!==null&&(m=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==m&&(b.refCount++,m!=null&&Eo(m)));break;case 12:if(U&2048){Co(m,b,E,R),m=b.stateNode;try{var q=b.memoizedProps,ve=q.id,De=q.onPostCommit;typeof De=="function"&&De(ve,b.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(rt){Oa(b,b.return,rt)}}else Co(m,b,E,R);break;case 31:Co(m,b,E,R);break;case 13:Co(m,b,E,R);break;case 23:break;case 22:q=b.stateNode,ve=b.alternate,b.memoizedState!==null?q._visibility&2?Co(m,b,E,R):Wg(m,b):q._visibility&2?Co(m,b,E,R):(q._visibility|=2,C0(m,b,E,R,(b.subtreeFlags&10256)!==0||!1)),U&2048&&Xb(ve,b);break;case 24:Co(m,b,E,R),U&2048&&vp(b.alternate,b);break;default:Co(m,b,E,R)}}function C0(m,b,E,R,U){for(U=U&&((b.subtreeFlags&10256)!==0||!1),b=b.child;b!==null;){var q=m,ve=b,De=E,rt=R,kt=ve.flags;switch(ve.tag){case 0:case 11:case 15:C0(q,ve,De,rt,U),sd(8,ve);break;case 23:break;case 22:var $t=ve.stateNode;ve.memoizedState!==null?$t._visibility&2?C0(q,ve,De,rt,U):Wg(q,ve):($t._visibility|=2,C0(q,ve,De,rt,U)),U&&kt&2048&&Xb(ve.alternate,ve);break;case 24:C0(q,ve,De,rt,U),U&&kt&2048&&vp(ve.alternate,ve);break;default:C0(q,ve,De,rt,U)}b=b.sibling}}function Wg(m,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var E=m,R=b,U=R.flags;switch(R.tag){case 22:Wg(E,R),U&2048&&Xb(R.alternate,R);break;case 24:Wg(E,R),U&2048&&vp(R.alternate,R);break;default:Wg(E,R)}b=b.sibling}}var Cs=8192;function rm(m,b,E){if(m.subtreeFlags&Cs)for(m=m.child;m!==null;)js(m,b,E),m=m.sibling}function js(m,b,E){switch(m.tag){case 26:rm(m,b,E),m.flags&Cs&&m.memoizedState!==null&&Wbe(E,Fc,m.memoizedState,m.memoizedProps);break;case 5:rm(m,b,E);break;case 3:case 4:var R=Fc;Fc=ZM(m.stateNode.containerInfo),rm(m,b,E),Fc=R;break;case 22:m.memoizedState===null&&(R=m.alternate,R!==null&&R.memoizedState!==null?(R=Cs,Cs=16777216,rm(m,b,E),Cs=R):rm(m,b,E));break;default:rm(m,b,E)}}function Bc(m){var b=m.alternate;if(b!==null&&(m=b.child,m!==null)){b.child=null;do b=m.sibling,m.sibling=null,m=b;while(m!==null)}}function lc(m){var b=m.deletions;if((m.flags&16)!==0){if(b!==null)for(var E=0;E<b.length;E++){var R=b[E];Es=R,i1(R,m)}Bc(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)nm(m),m=m.sibling}function nm(m){switch(m.tag){case 0:case 11:case 15:lc(m),m.flags&2048&&Mf(9,m,m.return);break;case 3:lc(m);break;case 12:lc(m);break;case 22:var b=m.stateNode;m.memoizedState!==null&&b._visibility&2&&(m.return===null||m.return.tag!==13)?(b._visibility&=-3,Zb(m)):lc(m);break;default:lc(m)}}function Zb(m){var b=m.deletions;if((m.flags&16)!==0){if(b!==null)for(var E=0;E<b.length;E++){var R=b[E];Es=R,i1(R,m)}Bc(m)}for(m=m.child;m!==null;){switch(b=m,b.tag){case 0:case 11:case 15:Mf(8,b,b.return),Zb(b);break;case 22:E=b.stateNode,E._visibility&2&&(E._visibility&=-3,Zb(b));break;default:Zb(b)}m=m.sibling}}function i1(m,b){for(;Es!==null;){var E=Es;switch(E.tag){case 0:case 11:case 15:Mf(8,E,b);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var R=E.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:Eo(E.memoizedState.cache)}if(R=E.child,R!==null)R.return=E,Es=R;else e:for(E=m;Es!==null;){R=Es;var U=R.sibling,q=R.return;if(Yb(R),R===E){Es=null;break e}if(U!==null){U.return=q,Es=U;break e}Es=q}}}var Kb={getCacheForType:function(m){var b=no(an),E=b.data.get(m);return E===void 0&&(E=m(),b.data.set(m,E)),E},cacheSignal:function(){return no(an).controller.signal}},$b=typeof WeakMap=="function"?WeakMap:Map,Fi=0,da=null,ri=null,Si=0,un=0,di=null,Gn=!1,oi=!1,Da=!1,Us=0,pa=0,Ru=0,mp=0,ph=0,Bi=0,ku=0,vh=null,jl=null,zc=!1,gp=0,Yg=0,Iu=1/0,qg=null,cd=null,ys=0,mh=null,Ou=null,Df=0,xp=0,im=null,Jb=null,am=0,sm=null;function cc(){return(Fi&2)!==0&&Si!==0?Si&-Si:H.T!==null?_6():Ee()}function S(){if(Bi===0)if((Si&536870912)===0||mi){var m=qt;qt<<=1,(qt&3932160)===0&&(qt=262144),Bi=m}else Bi=536870912;return m=ra.current,m!==null&&(m.flags|=32),Bi}function T(m,b,E){(m===da&&(un===2||un===9)||m.cancelPendingCommit!==null)&&(yt(m,0),le(m,Si,Bi,!1)),xr(m,E),((Fi&2)===0||m!==da)&&(m===da&&((Fi&2)===0&&(mp|=E),pa===4&&le(m,Si,Bi,!1)),N0(m))}function P(m,b,E){if((Fi&6)!==0)throw Error(n(327));var R=!E&&(b&127)===0&&(b&m.expiredLanes)===0||dr(m,b),U=R?om(m,b):jc(m,b,!0),q=R;do{if(U===0){oi&&!R&&le(m,b,0,!1);break}else{if(E=m.current.alternate,q&&!ee(E)){U=jc(m,b,!1),q=!1;continue}if(U===2){if(q=b,m.errorRecoveryDisabledLanes&q)var ve=0;else ve=m.pendingLanes&-536870913,ve=ve!==0?ve:ve&536870912?536870912:0;if(ve!==0){b=ve;e:{var De=m;U=vh;var rt=De.current.memoizedState.isDehydrated;if(rt&&(yt(De,ve).flags|=256),ve=jc(De,ve,!1),ve!==2){if(Da&&!rt){De.errorRecoveryDisabledLanes|=q,mp|=q,U=4;break e}q=jl,jl=U,q!==null&&(jl===null?jl=q:jl.push.apply(jl,q))}U=ve}if(q=!1,U!==2)continue}}if(U===1){yt(m,0),le(m,b,0,!0);break}e:{switch(R=m,q=U,q){case 0:case 1:throw Error(n(345));case 4:if((b&4194048)!==b)break;case 6:le(R,b,Bi,!Gn);break e;case 2:jl=null;break;case 3:case 5:break;default:throw Error(n(329))}if((b&62914560)===b&&(U=gp+300-pe(),10<U)){if(le(R,b,Bi,!Gn),Et(R,0,!0)!==0)break e;Df=b,R.timeoutHandle=YW(V.bind(null,R,E,jl,qg,zc,b,Bi,mp,ku,Gn,q,"Throttled",-0,0),U);break e}V(R,E,jl,qg,zc,b,Bi,mp,ku,Gn,q,null,-0,0)}}break}while(!0);N0(m)}function V(m,b,E,R,U,q,ve,De,rt,kt,$t,nr,Bt,Ht){if(m.timeoutHandle=-1,nr=b.subtreeFlags,nr&8192||(nr&16785408)===16785408){nr={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ac},js(b,q,nr);var Kr=(q&62914560)===q?gp-pe():(q&4194048)===q?Yg-pe():0;if(Kr=Ybe(nr,Kr),Kr!==null){Df=q,m.cancelPendingCommit=Kr(An.bind(null,m,b,q,E,R,U,ve,De,rt,$t,nr,null,Bt,Ht)),le(m,q,ve,!kt);return}}An(m,b,q,E,R,U,ve,De,rt)}function ee(m){for(var b=m;;){var E=b.tag;if((E===0||E===11||E===15)&&b.flags&16384&&(E=b.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var R=0;R<E.length;R++){var U=E[R],q=U.getSnapshot;U=U.value;try{if(!ta(q(),U))return!1}catch{return!1}}if(E=b.child,b.subtreeFlags&16384&&E!==null)E.return=b,b=E;else{if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function le(m,b,E,R){b&=~ph,b&=~mp,m.suspendedLanes|=b,m.pingedLanes&=~b,R&&(m.warmLanes|=b),R=m.expirationTimes;for(var U=b;0<U;){var q=31-Ze(U),ve=1<<q;R[q]=-1,U&=~ve}E!==0&&Va(m,E,b)}function Ie(){return(Fi&6)===0?(IT(0),!1):!0}function tt(){if(ri!==null){if(un===0)var m=ri.return;else m=ri,Ao=bf=null,Ng(m),rr=null,jr=0,m=ri;for(;m!==null;)em(m.alternate,m),m=m.return;ri=null}}function yt(m,b){var E=m.timeoutHandle;E!==-1&&(m.timeoutHandle=-1,Cbe(E)),E=m.cancelPendingCommit,E!==null&&(m.cancelPendingCommit=null,E()),Df=0,tt(),da=m,ri=E=ac(m.current,null),Si=b,un=0,di=null,Gn=!1,oi=dr(m,b),Da=!1,ku=Bi=ph=mp=Ru=pa=0,jl=vh=null,zc=!1,(b&8)!==0&&(b|=b&32);var R=m.entangledLanes;if(R!==0)for(m=m.entanglements,R&=b;0<R;){var U=31-Ze(R),q=1<<U;b|=m[U],R&=~q}return Us=b,nh(),E}function Jt(m,b){Jr=null,H.H=Yy,b===at||b===Ge?(b=Zt(),un=3):b===Ct?(b=Zt(),un=4):un=b===Hb?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,di=b,ri===null&&(pa=1,Vb(m,Il(b,m.current)))}function mr(){var m=ra.current;return m===null?!0:(Si&4194048)===Si?Oi===null:(Si&62914560)===Si||(Si&536870912)!==0?m===Oi:!1}function Ar(){var m=H.H;return H.H=Yy,m===null?Yy:m}function Dr(){var m=H.A;return H.A=Kb,m}function Bn(){pa=4,Gn||(Si&4194048)!==Si&&ra.current!==null||(oi=!0),(Ru&134217727)===0&&(mp&134217727)===0||da===null||le(da,Si,Bi,!1)}function jc(m,b,E){var R=Fi;Fi|=2;var U=Ar(),q=Dr();(da!==m||Si!==b)&&(qg=null,yt(m,b)),b=!1;var ve=pa;e:do try{if(un!==0&&ri!==null){var De=ri,rt=di;switch(un){case 8:tt(),ve=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(b=!0);var kt=un;if(un=0,di=null,pr(m,De,rt,kt),E&&oi){ve=0;break e}break;default:kt=un,un=0,di=null,pr(m,De,rt,kt)}}a1(),ve=pa;break}catch($t){Jt(m,$t)}while(!0);return b&&m.shellSuspendCounter++,Ao=bf=null,Fi=R,H.H=U,H.A=q,ri===null&&(da=null,Si=0,nh()),ve}function a1(){for(;ri!==null;)gt(ri)}function om(m,b){var E=Fi;Fi|=2;var R=Ar(),U=Dr();da!==m||Si!==b?(qg=null,Iu=pe()+500,yt(m,b)):oi=dr(m,b);e:do try{if(un!==0&&ri!==null){b=ri;var q=di;t:switch(un){case 1:un=0,di=null,pr(m,b,q,1);break;case 2:case 9:if(_t(q)){un=0,di=null,jt(b);break}b=function(){un!==2&&un!==9||da!==m||(un=7),N0(m)},q.then(b,b);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:_t(q)?(un=0,di=null,jt(b)):(un=0,di=null,pr(m,b,q,7));break;case 5:var ve=null;switch(ri.tag){case 26:ve=ri.memoizedState;case 5:case 27:var De=ri;if(ve?oY(ve):De.stateNode.complete){un=0,di=null;var rt=De.sibling;if(rt!==null)ri=rt;else{var kt=De.return;kt!==null?(ri=kt,on(kt)):ri=null}break t}}un=0,di=null,pr(m,b,q,5);break;case 6:un=0,di=null,pr(m,b,q,6);break;case 8:tt(),pa=6;break e;default:throw Error(n(462))}}Pt();break}catch($t){Jt(m,$t)}while(!0);return Ao=bf=null,H.H=R,H.A=U,Fi=E,ri!==null?0:(da=null,Si=0,nh(),pa)}function Pt(){for(;ri!==null&&!Fe();)gt(ri)}function gt(m){var b=Gb(m.alternate,m,Us);m.memoizedProps=m.pendingProps,b===null?on(m):ri=b}function jt(m){var b=m,E=b.alternate;switch(b.tag){case 15:case 0:b=Fl(E,b,b.pendingProps,b.type,void 0,Si);break;case 11:b=Fl(E,b,b.pendingProps,b.type.render,b.ref,Si);break;case 5:Ng(b);default:em(E,b),b=ri=Fs(b,Us),b=Gb(E,b,Us)}m.memoizedProps=m.pendingProps,b===null?on(m):ri=b}function pr(m,b,E,R){Ao=bf=null,Ng(b),rr=null,jr=0;var U=b.return;try{if(Au(m,U,b,E,Si)){pa=1,Vb(m,Il(E,m.current)),ri=null;return}}catch(q){if(U!==null)throw ri=U,q;pa=1,Vb(m,Il(E,m.current)),ri=null;return}b.flags&32768?(mi||R===1?m=!0:oi||(Si&536870912)!==0?m=!1:(Gn=m=!0,(R===2||R===9||R===3||R===6)&&(R=ra.current,R!==null&&R.tag===13&&(R.flags|=16384))),qa(b,m)):on(b)}function on(m){var b=m;do{if((b.flags&32768)!==0){qa(b,Gn);return}m=b.return;var E=LT(b.alternate,b,Us);if(E!==null){ri=E;return}if(b=b.sibling,b!==null){ri=b;return}ri=b=m}while(b!==null);pa===0&&(pa=5)}function qa(m,b){do{var E=Wb(m.alternate,m);if(E!==null){E.flags&=32767,ri=E;return}if(E=m.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!b&&(m=m.sibling,m!==null)){ri=m;return}ri=m=E}while(m!==null);pa=6,ri=null}function An(m,b,E,R,U,q,ve,De,rt){m.cancelPendingCommit=null;do Qb();while(ys!==0);if((Fi&6)!==0)throw Error(n(327));if(b!==null){if(b===m.current)throw Error(n(177));if(q=b.lanes|b.childLanes,q|=Uv,wn(m,E,q,ve,De,rt),m===da&&(ri=da=null,Si=0),Ou=b,mh=m,Df=E,xp=q,im=U,Jb=R,(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?(m.callbackNode=null,m.callbackPriority=0,vbe(Je,function(){return NW(),null})):(m.callbackNode=null,m.callbackPriority=0),R=(b.flags&13878)!==0,(b.subtreeFlags&13878)!==0||R){R=H.T,H.T=null,U=Z.p,Z.p=2,ve=Fi,Fi|=4;try{Gg(m,b,E)}finally{Fi=ve,Z.p=U,H.T=R}}ys=1,Gi(),No(),Wi()}}function Gi(){if(ys===1){ys=0;var m=mh,b=Ou,E=(b.flags&13878)!==0;if((b.subtreeFlags&13878)!==0||E){E=H.T,H.T=null;var R=Z.p;Z.p=2;var U=Fi;Fi|=4;try{M0(b,m);var q=N6,ve=_u(m.containerInfo),De=q.focusedElem,rt=q.selectionRange;if(ve!==De&&De&&De.ownerDocument&&bu(De.ownerDocument.documentElement,De)){if(rt!==null&&nc(De)){var kt=rt.start,$t=rt.end;if($t===void 0&&($t=kt),"selectionStart"in De)De.selectionStart=kt,De.selectionEnd=Math.min($t,De.value.length);else{var nr=De.ownerDocument||document,Bt=nr&&nr.defaultView||window;if(Bt.getSelection){var Ht=Bt.getSelection(),Kr=De.textContent.length,Tn=Math.min(rt.start,Kr),Za=rt.end===void 0?Tn:Math.min(rt.end,Kr);!Ht.extend&&Tn>Za&&(ve=Za,Za=Tn,Tn=ve);var xt=rp(De,Tn),lt=rp(De,Za);if(xt&&lt&&(Ht.rangeCount!==1||Ht.anchorNode!==xt.node||Ht.anchorOffset!==xt.offset||Ht.focusNode!==lt.node||Ht.focusOffset!==lt.offset)){var Rt=nr.createRange();Rt.setStart(xt.node,xt.offset),Ht.removeAllRanges(),Tn>Za?(Ht.addRange(Rt),Ht.extend(lt.node,lt.offset)):(Rt.setEnd(lt.node,lt.offset),Ht.addRange(Rt))}}}}for(nr=[],Ht=De;Ht=Ht.parentNode;)Ht.nodeType===1&&nr.push({element:Ht,left:Ht.scrollLeft,top:Ht.scrollTop});for(typeof De.focus=="function"&&De.focus(),De=0;De<nr.length;De++){var Qt=nr[De];Qt.element.scrollLeft=Qt.left,Qt.element.scrollTop=Qt.top}}tC=!!C6,N6=C6=null}finally{Fi=U,Z.p=R,H.T=E}}m.current=b,ys=2}}function No(){if(ys===2){ys=0;var m=mh,b=Ou,E=(b.flags&8772)!==0;if((b.subtreeFlags&8772)!==0||E){E=H.T,H.T=null;var R=Z.p;Z.p=2;var U=Fi;Fi|=4;try{UM(m,b.alternate,b)}finally{Fi=U,Z.p=R,H.T=E}}ys=3}}function Wi(){if(ys===4||ys===3){ys=0,we();var m=mh,b=Ou,E=Df,R=Jb;(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?ys=5:(ys=0,Ou=mh=null,yp(m,m.pendingLanes));var U=m.pendingLanes;if(U===0&&(cd=null),Mi(E),b=b.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(ft,b,void 0,(b.current.flags&128)===128)}catch{}if(R!==null){b=H.T,U=Z.p,Z.p=2,H.T=null;try{for(var q=m.onRecoverableError,ve=0;ve<R.length;ve++){var De=R[ve];q(De.value,{componentStack:De.stack})}}finally{H.T=b,Z.p=U}}(Df&3)!==0&&Qb(),N0(m),U=m.pendingLanes,(E&261930)!==0&&(U&42)!==0?m===sm?am++:(am=0,sm=m):am=0,IT(0)}}function yp(m,b){(m.pooledCacheLanes&=b)===0&&(b=m.pooledCache,b!=null&&(m.pooledCache=null,Eo(b)))}function Qb(){return Gi(),No(),Wi(),NW()}function NW(){if(ys!==5)return!1;var m=mh,b=xp;xp=0;var E=Mi(Df),R=H.T,U=Z.p;try{Z.p=32>E?32:E,H.T=null,E=im,im=null;var q=mh,ve=Df;if(ys=0,Ou=mh=null,Df=0,(Fi&6)!==0)throw Error(n(331));var De=Fi;if(Fi|=4,nm(q.current),xs(q,q.current,ve,E),Fi=De,IT(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(ft,q)}catch{}return!0}finally{Z.p=U,H.T=R,yp(m,b)}}function DW(m,b,E){b=Il(E,b),b=DT(m.stateNode,b,2),m=Hn(m,b,2),m!==null&&(xr(m,2),N0(m))}function Oa(m,b,E){if(m.tag===3)DW(m,m,E);else for(;b!==null;){if(b.tag===3){DW(b,m,E);break}else if(b.tag===1){var R=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(cd===null||!cd.has(R))){m=Il(E,m),E=zg(2),R=Hn(b,E,2),R!==null&&(Oc(E,R,b,m),xr(R,2),N0(R));break}}b=b.return}}function x6(m,b,E){var R=m.pingCache;if(R===null){R=m.pingCache=new $b;var U=new Set;R.set(b,U)}else U=R.get(b),U===void 0&&(U=new Set,R.set(b,U));U.has(E)||(Da=!0,U.add(E),m=hbe.bind(null,m,b,E),b.then(m,m))}function hbe(m,b,E){var R=m.pingCache;R!==null&&R.delete(b),m.pingedLanes|=m.suspendedLanes&E,m.warmLanes&=~E,da===m&&(Si&E)===E&&(pa===4||pa===3&&(Si&62914560)===Si&&300>pe()-gp?(Fi&2)===0&&yt(m,0):ph|=E,ku===Si&&(ku=0)),N0(m)}function LW(m,b){b===0&&(b=Yr()),m=gf(m,b),m!==null&&(xr(m,b),N0(m))}function dbe(m){var b=m.memoizedState,E=0;b!==null&&(E=b.retryLane),LW(m,E)}function pbe(m,b){var E=0;switch(m.tag){case 31:case 13:var R=m.stateNode,U=m.memoizedState;U!==null&&(E=U.retryLane);break;case 19:R=m.stateNode;break;case 22:R=m.stateNode._retryCache;break;default:throw Error(n(314))}R!==null&&R.delete(b),LW(m,E)}function vbe(m,b){return je(m,b)}var GM=null,e_=null,y6=!1,WM=!1,b6=!1,Xg=0;function N0(m){m!==e_&&m.next===null&&(e_===null?GM=e_=m:e_=e_.next=m),WM=!0,y6||(y6=!0,gbe())}function IT(m,b){if(!b6&&WM){b6=!0;do for(var E=!1,R=GM;R!==null;){if(m!==0){var U=R.pendingLanes;if(U===0)var q=0;else{var ve=R.suspendedLanes,De=R.pingedLanes;q=(1<<31-Ze(42|m)+1)-1,q&=U&~(ve&~De),q=q&201326741?q&201326741|1:q?q|2:0}q!==0&&(E=!0,OW(R,q))}else q=Si,q=Et(R,R===da?q:0,R.cancelPendingCommit!==null||R.timeoutHandle!==-1),(q&3)===0||dr(R,q)||(E=!0,OW(R,q));R=R.next}while(E);b6=!1}}function mbe(){RW()}function RW(){WM=y6=!1;var m=0;Xg!==0&&Mbe()&&(m=Xg);for(var b=pe(),E=null,R=GM;R!==null;){var U=R.next,q=kW(R,b);q===0?(R.next=null,E===null?GM=U:E.next=U,U===null&&(e_=E)):(E=R,(m!==0||(q&3)!==0)&&(WM=!0)),R=U}ys!==0&&ys!==5||IT(m),Xg!==0&&(Xg=0)}function kW(m,b){for(var E=m.suspendedLanes,R=m.pingedLanes,U=m.expirationTimes,q=m.pendingLanes&-62914561;0<q;){var ve=31-Ze(q),De=1<<ve,rt=U[ve];rt===-1?((De&E)===0||(De&R)!==0)&&(U[ve]=vr(De,b)):rt<=b&&(m.expiredLanes|=De),q&=~De}if(b=da,E=Si,E=Et(m,m===b?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),R=m.callbackNode,E===0||m===b&&(un===2||un===9)||m.cancelPendingCommit!==null)return R!==null&&R!==null&&Be(R),m.callbackNode=null,m.callbackPriority=0;if((E&3)===0||dr(m,E)){if(b=E&-E,b===m.callbackPriority)return b;switch(R!==null&&Be(R),Mi(E)){case 2:case 8:E=ht;break;case 32:E=Je;break;case 268435456:E=bt;break;default:E=Je}return R=IW.bind(null,m),E=je(E,R),m.callbackPriority=b,m.callbackNode=E,b}return R!==null&&R!==null&&Be(R),m.callbackPriority=2,m.callbackNode=null,2}function IW(m,b){if(ys!==0&&ys!==5)return m.callbackNode=null,m.callbackPriority=0,null;var E=m.callbackNode;if(Qb()&&m.callbackNode!==E)return null;var R=Si;return R=Et(m,m===da?R:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),R===0?null:(P(m,R,b),kW(m,pe()),m.callbackNode!=null&&m.callbackNode===E?IW.bind(null,m):null)}function OW(m,b){if(Qb())return null;P(m,b,!0)}function gbe(){Nbe(function(){(Fi&6)!==0?je($e,mbe):RW()})}function _6(){if(Xg===0){var m=z;m===0&&(m=Ft,Ft<<=1,(Ft&261888)===0&&(Ft=256)),Xg=m}return Xg}function PW(m){return m==null||typeof m=="symbol"||typeof m=="boolean"?null:typeof m=="function"?m:sl(""+m)}function FW(m,b){var E=b.ownerDocument.createElement("input");return E.name=b.name,E.value=b.value,m.id&&E.setAttribute("form",m.id),b.parentNode.insertBefore(E,b),m=new FormData(m),E.parentNode.removeChild(E),m}function xbe(m,b,E,R,U){if(b==="submit"&&E&&E.stateNode===U){var q=PW((U[Ve]||null).action),ve=R.submitter;ve&&(b=(b=ve[Ve]||null)?PW(b.formAction):ve.getAttribute("formAction"),b!==null&&(q=b,ve=null));var De=new ec("action","action",null,R,U);m.push({event:De,listeners:[{instance:null,listener:function(){if(R.defaultPrevented){if(Xg!==0){var rt=ve?FW(U,ve):new FormData(U);AT(E,{pending:!0,data:rt,method:U.method,action:q},null,rt)}}else typeof q=="function"&&(De.preventDefault(),rt=ve?FW(U,ve):new FormData(U),AT(E,{pending:!0,data:rt,method:U.method,action:q},q,rt))},currentTarget:U}]})}}for(var w6=0;w6<$h.length;w6++){var S6=$h[w6],ybe=S6.toLowerCase(),bbe=S6[0].toUpperCase()+S6.slice(1);To(ybe,"on"+bbe)}To(Is,"onAnimationEnd"),To(u0,"onAnimationIteration"),To(wu,"onAnimationStart"),To("dblclick","onDoubleClick"),To("focusin","onFocus"),To("focusout","onBlur"),To(np,"onTransitionRun"),To(th,"onTransitionStart"),To(wg,"onTransitionCancel"),To(jv,"onTransitionEnd"),_r("onMouseEnter",["mouseout","mouseover"]),_r("onMouseLeave",["mouseout","mouseover"]),_r("onPointerEnter",["pointerout","pointerover"]),_r("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var OT="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_be=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(OT));function BW(m,b){b=(b&4)!==0;for(var E=0;E<m.length;E++){var R=m[E],U=R.event;R=R.listeners;e:{var q=void 0;if(b)for(var ve=R.length-1;0<=ve;ve--){var De=R[ve],rt=De.instance,kt=De.currentTarget;if(De=De.listener,rt!==q&&U.isPropagationStopped())break e;q=De,U.currentTarget=kt;try{q(U)}catch($t){rh($t)}U.currentTarget=null,q=rt}else for(ve=0;ve<R.length;ve++){if(De=R[ve],rt=De.instance,kt=De.currentTarget,De=De.listener,rt!==q&&U.isPropagationStopped())break e;q=De,U.currentTarget=kt;try{q(U)}catch($t){rh($t)}U.currentTarget=null,q=rt}}}}function Li(m,b){var E=b[wt];E===void 0&&(E=b[wt]=new Set);var R=m+"__bubble";E.has(R)||(zW(b,m,2,!1),E.add(R))}function T6(m,b,E){var R=0;b&&(R|=4),zW(E,m,R,b)}var YM="_reactListening"+Math.random().toString(36).slice(2);function A6(m){if(!m[YM]){m[YM]=!0,st.forEach(function(E){E!=="selectionchange"&&(_be.has(E)||T6(E,!1,m),T6(E,!0,m))});var b=m.nodeType===9?m:m.ownerDocument;b===null||b[YM]||(b[YM]=!0,T6("selectionchange",!1,b))}}function zW(m,b,E,R){switch(pY(b)){case 2:var U=Zbe;break;case 8:U=Kbe;break;default:U=j6}E=U.bind(null,b,E,m),U=void 0,!o0||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(U=!0),R?U!==void 0?m.addEventListener(b,E,{capture:!0,passive:U}):m.addEventListener(b,E,!0):U!==void 0?m.addEventListener(b,E,{passive:U}):m.addEventListener(b,E,!1)}function E6(m,b,E,R,U){var q=R;if((b&1)===0&&(b&2)===0&&R!==null)e:for(;;){if(R===null)return;var ve=R.tag;if(ve===3||ve===4){var De=R.stateNode.containerInfo;if(De===U)break;if(ve===4)for(ve=R.return;ve!==null;){var rt=ve.tag;if((rt===3||rt===4)&&ve.stateNode.containerInfo===U)return;ve=ve.return}for(;De!==null;){if(ve=or(De),ve===null)return;if(rt=ve.tag,rt===5||rt===6||rt===26||rt===27){R=q=ve;continue e}De=De.parentNode}}R=R.return}Ov(function(){var kt=q,$t=Wh(E),nr=[];e:{var Bt=mf.get(m);if(Bt!==void 0){var Ht=ec,Kr=m;switch(m){case"keypress":if(ll(E)===0)break e;case"keydown":case"keyup":Ht=vi;break;case"focusin":Kr="focus",Ht=sf;break;case"focusout":Kr="blur",Ht=sf;break;case"beforeblur":case"afterblur":Ht=sf;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ht=Pv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ht=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ht=ya;break;case Is:case u0:case wu:Ht=ie;break;case jv:Ht=bo;break;case"scroll":case"scrollend":Ht=$f;break;case"wheel":Ht=Ks;break;case"copy":case"cut":case"paste":Ht=Xe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ht=Qa;break;case"toggle":case"beforetoggle":Ht=Jd}var Tn=(b&4)!==0,Za=!Tn&&(m==="scroll"||m==="scrollend"),xt=Tn?Bt!==null?Bt+"Capture":null:Bt;Tn=[];for(var lt=kt,Rt;lt!==null;){var Qt=lt;if(Rt=Qt.stateNode,Qt=Qt.tag,Qt!==5&&Qt!==26&&Qt!==27||Rt===null||xt===null||(Qt=ol(lt,xt),Qt!=null&&Tn.push(PT(lt,Qt,Rt))),Za)break;lt=lt.return}0<Tn.length&&(Bt=new Ht(Bt,Kr,null,E,$t),nr.push({event:Bt,listeners:Tn}))}}if((b&7)===0){e:{if(Bt=m==="mouseover"||m==="pointerover",Ht=m==="mouseout"||m==="pointerout",Bt&&E!==mu&&(Kr=E.relatedTarget||E.fromElement)&&(or(Kr)||Kr[qe]))break e;if((Ht||Bt)&&(Bt=$t.window===$t?$t:(Bt=$t.ownerDocument)?Bt.defaultView||Bt.parentWindow:window,Ht?(Kr=E.relatedTarget||E.toElement,Ht=kt,Kr=Kr?or(Kr):null,Kr!==null&&(Za=a(Kr),Tn=Kr.tag,Kr!==Za||Tn!==5&&Tn!==27&&Tn!==6)&&(Kr=null)):(Ht=null,Kr=kt),Ht!==Kr)){if(Tn=Pv,Qt="onMouseLeave",xt="onMouseEnter",lt="mouse",(m==="pointerout"||m==="pointerover")&&(Tn=Qa,Qt="onPointerLeave",xt="onPointerEnter",lt="pointer"),Za=Ht==null?Bt:Ke(Ht),Rt=Kr==null?Bt:Ke(Kr),Bt=new Tn(Qt,lt+"leave",Ht,E,$t),Bt.target=Za,Bt.relatedTarget=Rt,Qt=null,or($t)===kt&&(Tn=new Tn(xt,lt+"enter",Kr,E,$t),Tn.target=Rt,Tn.relatedTarget=Za,Qt=Tn),Za=Qt,Ht&&Kr)t:{for(Tn=wbe,xt=Ht,lt=Kr,Rt=0,Qt=xt;Qt;Qt=Tn(Qt))Rt++;Qt=0;for(var gn=lt;gn;gn=Tn(gn))Qt++;for(;0<Rt-Qt;)xt=Tn(xt),Rt--;for(;0<Qt-Rt;)lt=Tn(lt),Qt--;for(;Rt--;){if(xt===lt||lt!==null&&xt===lt.alternate){Tn=xt;break t}xt=Tn(xt),lt=Tn(lt)}Tn=null}else Tn=null;Ht!==null&&jW(nr,Bt,Ht,Tn,!1),Kr!==null&&Za!==null&&jW(nr,Za,Kr,Tn,!0)}}e:{if(Bt=kt?Ke(kt):window,Ht=Bt.nodeName&&Bt.nodeName.toLowerCase(),Ht==="select"||Ht==="input"&&Bt.type==="file")var va=Qf;else if(c0(Bt))if(wo)va=yu;else{va=ua;var sn=df}else Ht=Bt.nodeName,!Ht||Ht.toLowerCase()!=="input"||Bt.type!=="checkbox"&&Bt.type!=="radio"?kt&&Xd(kt.elementType)&&(va=Qf):va=zv;if(va&&(va=va(m,kt))){ul(nr,va,E,$t);break e}sn&&sn(m,Bt,kt),m==="focusout"&&kt&&Bt.type==="number"&&kt.memoizedProps.value!=null&&ps(Bt,"number",Bt.value)}switch(sn=kt?Ke(kt):window,m){case"focusin":(c0(sn)||sn.contentEditable==="true")&&(ic=sn,vf=kt,So=null);break;case"focusout":So=vf=ic=null;break;case"mousedown":cs=!0;break;case"contextmenu":case"mouseup":case"dragend":cs=!1,Di(nr,E,$t);break;case"selectionchange":if(Kh)break;case"keydown":case"keyup":Di(nr,E,$t)}var li;if(Ll)e:{switch(m){case"compositionstart":var zi="onCompositionStart";break e;case"compositionend":zi="onCompositionEnd";break e;case"compositionupdate":zi="onCompositionUpdate";break e}zi=void 0}else Ec?lf(m,E)&&(zi="onCompositionEnd"):m==="keydown"&&E.keyCode===229&&(zi="onCompositionStart");zi&&(Ga&&E.locale!=="ko"&&(Ec||zi!=="onCompositionStart"?zi==="onCompositionEnd"&&Ec&&(li=l0()):(Ql=$t,Yh="value"in Ql?Ql.value:Ql.textContent,Ec=!0)),sn=qM(kt,zi),0<sn.length&&(zi=new pt(zi,m,null,E,$t),nr.push({event:zi,listeners:sn}),li?zi.data=li:(li=cf(E),li!==null&&(zi.data=li)))),(li=tc?$s(m,E):uf(m,E))&&(zi=qM(kt,"onBeforeInput"),0<zi.length&&(sn=new pt("onBeforeInput","beforeinput",null,E,$t),nr.push({event:sn,listeners:zi}),sn.data=li)),xbe(nr,m,kt,E,$t)}BW(nr,b)})}function PT(m,b,E){return{instance:m,listener:b,currentTarget:E}}function qM(m,b){for(var E=b+"Capture",R=[];m!==null;){var U=m,q=U.stateNode;if(U=U.tag,U!==5&&U!==26&&U!==27||q===null||(U=ol(m,E),U!=null&&R.unshift(PT(m,U,q)),U=ol(m,b),U!=null&&R.push(PT(m,U,q))),m.tag===3)return R;m=m.return}return[]}function wbe(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5&&m.tag!==27);return m||null}function jW(m,b,E,R,U){for(var q=b._reactName,ve=[];E!==null&&E!==R;){var De=E,rt=De.alternate,kt=De.stateNode;if(De=De.tag,rt!==null&&rt===R)break;De!==5&&De!==26&&De!==27||kt===null||(rt=kt,U?(kt=ol(E,q),kt!=null&&ve.unshift(PT(E,kt,rt))):U||(kt=ol(E,q),kt!=null&&ve.push(PT(E,kt,rt)))),E=E.return}ve.length!==0&&m.push({event:b,listeners:ve})}var Sbe=/\r\n?/g,Tbe=/\u0000|\uFFFD/g;function UW(m){return(typeof m=="string"?m:""+m).replace(Sbe,`
`).replace(Tbe,"")}function VW(m,b){return b=UW(b),UW(m)===b}function Xa(m,b,E,R,U,q){switch(E){case"children":typeof R=="string"?b==="body"||b==="textarea"&&R===""||Vo(m,R):(typeof R=="number"||typeof R=="bigint")&&b!=="body"&&Vo(m,""+R);break;case"className":Qn(m,"class",R);break;case"tabIndex":Qn(m,"tabindex",R);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(m,E,R);break;case"style":Rv(m,R,q);break;case"data":if(b!=="object"){Qn(m,"data",R);break}case"src":case"href":if(R===""&&(b!=="a"||E!=="href")){m.removeAttribute(E);break}if(R==null||typeof R=="function"||typeof R=="symbol"||typeof R=="boolean"){m.removeAttribute(E);break}R=sl(""+R),m.setAttribute(E,R);break;case"action":case"formAction":if(typeof R=="function"){m.setAttribute(E,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof q=="function"&&(E==="formAction"?(b!=="input"&&Xa(m,b,"name",U.name,U,null),Xa(m,b,"formEncType",U.formEncType,U,null),Xa(m,b,"formMethod",U.formMethod,U,null),Xa(m,b,"formTarget",U.formTarget,U,null)):(Xa(m,b,"encType",U.encType,U,null),Xa(m,b,"method",U.method,U,null),Xa(m,b,"target",U.target,U,null)));if(R==null||typeof R=="symbol"||typeof R=="boolean"){m.removeAttribute(E);break}R=sl(""+R),m.setAttribute(E,R);break;case"onClick":R!=null&&(m.onclick=Ac);break;case"onScroll":R!=null&&Li("scroll",m);break;case"onScrollEnd":R!=null&&Li("scrollend",m);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(n(61));if(E=R.__html,E!=null){if(U.children!=null)throw Error(n(60));m.innerHTML=E}}break;case"multiple":m.multiple=R&&typeof R!="function"&&typeof R!="symbol";break;case"muted":m.muted=R&&typeof R!="function"&&typeof R!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(R==null||typeof R=="function"||typeof R=="boolean"||typeof R=="symbol"){m.removeAttribute("xlink:href");break}E=sl(""+R),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",E);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":R!=null&&typeof R!="function"&&typeof R!="symbol"?m.setAttribute(E,""+R):m.removeAttribute(E);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":R&&typeof R!="function"&&typeof R!="symbol"?m.setAttribute(E,""):m.removeAttribute(E);break;case"capture":case"download":R===!0?m.setAttribute(E,""):R!==!1&&R!=null&&typeof R!="function"&&typeof R!="symbol"?m.setAttribute(E,R):m.removeAttribute(E);break;case"cols":case"rows":case"size":case"span":R!=null&&typeof R!="function"&&typeof R!="symbol"&&!isNaN(R)&&1<=R?m.setAttribute(E,R):m.removeAttribute(E);break;case"rowSpan":case"start":R==null||typeof R=="function"||typeof R=="symbol"||isNaN(R)?m.removeAttribute(E):m.setAttribute(E,R);break;case"popover":Li("beforetoggle",m),Li("toggle",m),Zr(m,"popover",R);break;case"xlinkActuate":fi(m,"http://www.w3.org/1999/xlink","xlink:actuate",R);break;case"xlinkArcrole":fi(m,"http://www.w3.org/1999/xlink","xlink:arcrole",R);break;case"xlinkRole":fi(m,"http://www.w3.org/1999/xlink","xlink:role",R);break;case"xlinkShow":fi(m,"http://www.w3.org/1999/xlink","xlink:show",R);break;case"xlinkTitle":fi(m,"http://www.w3.org/1999/xlink","xlink:title",R);break;case"xlinkType":fi(m,"http://www.w3.org/1999/xlink","xlink:type",R);break;case"xmlBase":fi(m,"http://www.w3.org/XML/1998/namespace","xml:base",R);break;case"xmlLang":fi(m,"http://www.w3.org/XML/1998/namespace","xml:lang",R);break;case"xmlSpace":fi(m,"http://www.w3.org/XML/1998/namespace","xml:space",R);break;case"is":Zr(m,"is",R);break;case"innerText":case"textContent":break;default:(!(2<E.length)||E[0]!=="o"&&E[0]!=="O"||E[1]!=="n"&&E[1]!=="N")&&(E=a0.get(E)||E,Zr(m,E,R))}}function M6(m,b,E,R,U,q){switch(E){case"style":Rv(m,R,q);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(n(61));if(E=R.__html,E!=null){if(U.children!=null)throw Error(n(60));m.innerHTML=E}}break;case"children":typeof R=="string"?Vo(m,R):(typeof R=="number"||typeof R=="bigint")&&Vo(m,""+R);break;case"onScroll":R!=null&&Li("scroll",m);break;case"onScrollEnd":R!=null&&Li("scrollend",m);break;case"onClick":R!=null&&(m.onclick=Ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xt.hasOwnProperty(E))e:{if(E[0]==="o"&&E[1]==="n"&&(U=E.endsWith("Capture"),b=E.slice(2,U?E.length-7:void 0),q=m[Ve]||null,q=q!=null?q[E]:null,typeof q=="function"&&m.removeEventListener(b,q,U),typeof R=="function")){typeof q!="function"&&q!==null&&(E in m?m[E]=null:m.hasAttribute(E)&&m.removeAttribute(E)),m.addEventListener(b,R,U);break e}E in m?m[E]=R:R===!0?m.setAttribute(E,""):Zr(m,E,R)}}}function uc(m,b,E){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Li("error",m),Li("load",m);var R=!1,U=!1,q;for(q in E)if(E.hasOwnProperty(q)){var ve=E[q];if(ve!=null)switch(q){case"src":R=!0;break;case"srcSet":U=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,b));default:Xa(m,b,q,ve,E,null)}}U&&Xa(m,b,"srcSet",E.srcSet,E,null),R&&Xa(m,b,"src",E.src,E,null);return;case"input":Li("invalid",m);var De=q=ve=U=null,rt=null,kt=null;for(R in E)if(E.hasOwnProperty(R)){var $t=E[R];if($t!=null)switch(R){case"name":U=$t;break;case"type":ve=$t;break;case"checked":rt=$t;break;case"defaultChecked":kt=$t;break;case"value":q=$t;break;case"defaultValue":De=$t;break;case"children":case"dangerouslySetInnerHTML":if($t!=null)throw Error(n(137,b));break;default:Xa(m,b,R,$t,E,null)}}ea(m,q,De,rt,kt,ve,U,!1);return;case"select":Li("invalid",m),R=ve=q=null;for(U in E)if(E.hasOwnProperty(U)&&(De=E[U],De!=null))switch(U){case"value":q=De;break;case"defaultValue":ve=De;break;case"multiple":R=De;default:Xa(m,b,U,De,E,null)}b=q,E=ve,m.multiple=!!R,b!=null?ca(m,!!R,b,!1):E!=null&&ca(m,!!R,E,!0);return;case"textarea":Li("invalid",m),q=U=R=null;for(ve in E)if(E.hasOwnProperty(ve)&&(De=E[ve],De!=null))switch(ve){case"value":R=De;break;case"defaultValue":U=De;break;case"children":q=De;break;case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(91));break;default:Xa(m,b,ve,De,E,null)}Ra(m,R,U,q);return;case"option":for(rt in E)if(E.hasOwnProperty(rt)&&(R=E[rt],R!=null))switch(rt){case"selected":m.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Xa(m,b,rt,R,E,null)}return;case"dialog":Li("beforetoggle",m),Li("toggle",m),Li("cancel",m),Li("close",m);break;case"iframe":case"object":Li("load",m);break;case"video":case"audio":for(R=0;R<OT.length;R++)Li(OT[R],m);break;case"image":Li("error",m),Li("load",m);break;case"details":Li("toggle",m);break;case"embed":case"source":case"link":Li("error",m),Li("load",m);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(kt in E)if(E.hasOwnProperty(kt)&&(R=E[kt],R!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,b));default:Xa(m,b,kt,R,E,null)}return;default:if(Xd(b)){for($t in E)E.hasOwnProperty($t)&&(R=E[$t],R!==void 0&&M6(m,b,$t,R,E,void 0));return}}for(De in E)E.hasOwnProperty(De)&&(R=E[De],R!=null&&Xa(m,b,De,R,E,null))}function Abe(m,b,E,R){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var U=null,q=null,ve=null,De=null,rt=null,kt=null,$t=null;for(Ht in E){var nr=E[Ht];if(E.hasOwnProperty(Ht)&&nr!=null)switch(Ht){case"checked":break;case"value":break;case"defaultValue":rt=nr;default:R.hasOwnProperty(Ht)||Xa(m,b,Ht,null,R,nr)}}for(var Bt in R){var Ht=R[Bt];if(nr=E[Bt],R.hasOwnProperty(Bt)&&(Ht!=null||nr!=null))switch(Bt){case"type":q=Ht;break;case"name":U=Ht;break;case"checked":kt=Ht;break;case"defaultChecked":$t=Ht;break;case"value":ve=Ht;break;case"defaultValue":De=Ht;break;case"children":case"dangerouslySetInnerHTML":if(Ht!=null)throw Error(n(137,b));break;default:Ht!==nr&&Xa(m,b,Bt,Ht,R,nr)}}Jl(m,ve,De,rt,kt,$t,q,U);return;case"select":Ht=ve=De=Bt=null;for(q in E)if(rt=E[q],E.hasOwnProperty(q)&&rt!=null)switch(q){case"value":break;case"multiple":Ht=rt;default:R.hasOwnProperty(q)||Xa(m,b,q,null,R,rt)}for(U in R)if(q=R[U],rt=E[U],R.hasOwnProperty(U)&&(q!=null||rt!=null))switch(U){case"value":Bt=q;break;case"defaultValue":De=q;break;case"multiple":ve=q;default:q!==rt&&Xa(m,b,U,q,R,rt)}b=De,E=ve,R=Ht,Bt!=null?ca(m,!!E,Bt,!1):!!R!=!!E&&(b!=null?ca(m,!!E,b,!0):ca(m,!!E,E?[]:"",!1));return;case"textarea":Ht=Bt=null;for(De in E)if(U=E[De],E.hasOwnProperty(De)&&U!=null&&!R.hasOwnProperty(De))switch(De){case"value":break;case"children":break;default:Xa(m,b,De,null,R,U)}for(ve in R)if(U=R[ve],q=E[ve],R.hasOwnProperty(ve)&&(U!=null||q!=null))switch(ve){case"value":Bt=U;break;case"defaultValue":Ht=U;break;case"children":break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(91));break;default:U!==q&&Xa(m,b,ve,U,R,q)}os(m,Bt,Ht);return;case"option":for(var Kr in E)if(Bt=E[Kr],E.hasOwnProperty(Kr)&&Bt!=null&&!R.hasOwnProperty(Kr))switch(Kr){case"selected":m.selected=!1;break;default:Xa(m,b,Kr,null,R,Bt)}for(rt in R)if(Bt=R[rt],Ht=E[rt],R.hasOwnProperty(rt)&&Bt!==Ht&&(Bt!=null||Ht!=null))switch(rt){case"selected":m.selected=Bt&&typeof Bt!="function"&&typeof Bt!="symbol";break;default:Xa(m,b,rt,Bt,R,Ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tn in E)Bt=E[Tn],E.hasOwnProperty(Tn)&&Bt!=null&&!R.hasOwnProperty(Tn)&&Xa(m,b,Tn,null,R,Bt);for(kt in R)if(Bt=R[kt],Ht=E[kt],R.hasOwnProperty(kt)&&Bt!==Ht&&(Bt!=null||Ht!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(n(137,b));break;default:Xa(m,b,kt,Bt,R,Ht)}return;default:if(Xd(b)){for(var Za in E)Bt=E[Za],E.hasOwnProperty(Za)&&Bt!==void 0&&!R.hasOwnProperty(Za)&&M6(m,b,Za,void 0,R,Bt);for($t in R)Bt=R[$t],Ht=E[$t],!R.hasOwnProperty($t)||Bt===Ht||Bt===void 0&&Ht===void 0||M6(m,b,$t,Bt,R,Ht);return}}for(var xt in E)Bt=E[xt],E.hasOwnProperty(xt)&&Bt!=null&&!R.hasOwnProperty(xt)&&Xa(m,b,xt,null,R,Bt);for(nr in R)Bt=R[nr],Ht=E[nr],!R.hasOwnProperty(nr)||Bt===Ht||Bt==null&&Ht==null||Xa(m,b,nr,Bt,R,Ht)}function HW(m){switch(m){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ebe(){if(typeof performance.getEntriesByType=="function"){for(var m=0,b=0,E=performance.getEntriesByType("resource"),R=0;R<E.length;R++){var U=E[R],q=U.transferSize,ve=U.initiatorType,De=U.duration;if(q&&De&&HW(ve)){for(ve=0,De=U.responseEnd,R+=1;R<E.length;R++){var rt=E[R],kt=rt.startTime;if(kt>De)break;var $t=rt.transferSize,nr=rt.initiatorType;$t&&HW(nr)&&(rt=rt.responseEnd,ve+=$t*(rt<De?1:(De-kt)/(rt-kt)))}if(--R,b+=8*(q+ve)/(U.duration/1e3),m++,10<m)break}}if(0<m)return b/m/1e6}return navigator.connection&&(m=navigator.connection.downlink,typeof m=="number")?m:5}var C6=null,N6=null;function XM(m){return m.nodeType===9?m:m.ownerDocument}function GW(m){switch(m){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WW(m,b){if(m===0)switch(b){case"svg":return 1;case"math":return 2;default:return 0}return m===1&&b==="foreignObject"?0:m}function D6(m,b){return m==="textarea"||m==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.children=="bigint"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var L6=null;function Mbe(){var m=window.event;return m&&m.type==="popstate"?m===L6?!1:(L6=m,!0):(L6=null,!1)}var YW=typeof setTimeout=="function"?setTimeout:void 0,Cbe=typeof clearTimeout=="function"?clearTimeout:void 0,qW=typeof Promise=="function"?Promise:void 0,Nbe=typeof queueMicrotask=="function"?queueMicrotask:typeof qW<"u"?function(m){return qW.resolve(null).then(m).catch(Dbe)}:YW;function Dbe(m){setTimeout(function(){throw m})}function Zg(m){return m==="head"}function XW(m,b){var E=b,R=0;do{var U=E.nextSibling;if(m.removeChild(E),U&&U.nodeType===8)if(E=U.data,E==="/$"||E==="/&"){if(R===0){m.removeChild(U),i_(b);return}R--}else if(E==="$"||E==="$?"||E==="$~"||E==="$!"||E==="&")R++;else if(E==="html")FT(m.ownerDocument.documentElement);else if(E==="head"){E=m.ownerDocument.head,FT(E);for(var q=E.firstChild;q;){var ve=q.nextSibling,De=q.nodeName;q[Mt]||De==="SCRIPT"||De==="STYLE"||De==="LINK"&&q.rel.toLowerCase()==="stylesheet"||E.removeChild(q),q=ve}}else E==="body"&&FT(m.ownerDocument.body);E=U}while(E);i_(b)}function ZW(m,b){var E=m;m=0;do{var R=E.nextSibling;if(E.nodeType===1?b?(E._stashedDisplay=E.style.display,E.style.display="none"):(E.style.display=E._stashedDisplay||"",E.getAttribute("style")===""&&E.removeAttribute("style")):E.nodeType===3&&(b?(E._stashedText=E.nodeValue,E.nodeValue=""):E.nodeValue=E._stashedText||""),R&&R.nodeType===8)if(E=R.data,E==="/$"){if(m===0)break;m--}else E!=="$"&&E!=="$?"&&E!=="$~"&&E!=="$!"||m++;E=R}while(E)}function R6(m){var b=m.firstChild;for(b&&b.nodeType===10&&(b=b.nextSibling);b;){var E=b;switch(b=b.nextSibling,E.nodeName){case"HTML":case"HEAD":case"BODY":R6(E),sr(E);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(E.rel.toLowerCase()==="stylesheet")continue}m.removeChild(E)}}function Lbe(m,b,E,R){for(;m.nodeType===1;){var U=E;if(m.nodeName.toLowerCase()!==b.toLowerCase()){if(!R&&(m.nodeName!=="INPUT"||m.type!=="hidden"))break}else if(R){if(!m[Mt])switch(b){case"meta":if(!m.hasAttribute("itemprop"))break;return m;case"link":if(q=m.getAttribute("rel"),q==="stylesheet"&&m.hasAttribute("data-precedence"))break;if(q!==U.rel||m.getAttribute("href")!==(U.href==null||U.href===""?null:U.href)||m.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin)||m.getAttribute("title")!==(U.title==null?null:U.title))break;return m;case"style":if(m.hasAttribute("data-precedence"))break;return m;case"script":if(q=m.getAttribute("src"),(q!==(U.src==null?null:U.src)||m.getAttribute("type")!==(U.type==null?null:U.type)||m.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin))&&q&&m.hasAttribute("async")&&!m.hasAttribute("itemprop"))break;return m;default:return m}}else if(b==="input"&&m.type==="hidden"){var q=U.name==null?null:""+U.name;if(U.type==="hidden"&&m.getAttribute("name")===q)return m}else return m;if(m=ud(m.nextSibling),m===null)break}return null}function Rbe(m,b,E){if(b==="")return null;for(;m.nodeType!==3;)if((m.nodeType!==1||m.nodeName!=="INPUT"||m.type!=="hidden")&&!E||(m=ud(m.nextSibling),m===null))return null;return m}function KW(m,b){for(;m.nodeType!==8;)if((m.nodeType!==1||m.nodeName!=="INPUT"||m.type!=="hidden")&&!b||(m=ud(m.nextSibling),m===null))return null;return m}function k6(m){return m.data==="$?"||m.data==="$~"}function I6(m){return m.data==="$!"||m.data==="$?"&&m.ownerDocument.readyState!=="loading"}function kbe(m,b){var E=m.ownerDocument;if(m.data==="$~")m._reactRetry=b;else if(m.data!=="$?"||E.readyState!=="loading")b();else{var R=function(){b(),E.removeEventListener("DOMContentLoaded",R)};E.addEventListener("DOMContentLoaded",R),m._reactRetry=R}}function ud(m){for(;m!=null;m=m.nextSibling){var b=m.nodeType;if(b===1||b===3)break;if(b===8){if(b=m.data,b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"||b==="F!"||b==="F")break;if(b==="/$"||b==="/&")return null}}return m}var O6=null;function $W(m){m=m.nextSibling;for(var b=0;m;){if(m.nodeType===8){var E=m.data;if(E==="/$"||E==="/&"){if(b===0)return ud(m.nextSibling);b--}else E!=="$"&&E!=="$!"&&E!=="$?"&&E!=="$~"&&E!=="&"||b++}m=m.nextSibling}return null}function JW(m){m=m.previousSibling;for(var b=0;m;){if(m.nodeType===8){var E=m.data;if(E==="$"||E==="$!"||E==="$?"||E==="$~"||E==="&"){if(b===0)return m;b--}else E!=="/$"&&E!=="/&"||b++}m=m.previousSibling}return null}function QW(m,b,E){switch(b=XM(E),m){case"html":if(m=b.documentElement,!m)throw Error(n(452));return m;case"head":if(m=b.head,!m)throw Error(n(453));return m;case"body":if(m=b.body,!m)throw Error(n(454));return m;default:throw Error(n(451))}}function FT(m){for(var b=m.attributes;b.length;)m.removeAttributeNode(b[0]);sr(m)}var fd=new Map,eY=new Set;function ZM(m){return typeof m.getRootNode=="function"?m.getRootNode():m.nodeType===9?m:m.ownerDocument}var lm=Z.d;Z.d={f:Ibe,r:Obe,D:Pbe,C:Fbe,L:Bbe,m:zbe,X:Ube,S:jbe,M:Vbe};function Ibe(){var m=lm.f(),b=Ie();return m||b}function Obe(m){var b=Se(m);b!==null&&b.tag===5&&b.type==="form"?ET(b):lm.r(m)}var t_=typeof document>"u"?null:document;function tY(m,b,E){var R=t_;if(R&&typeof b=="string"&&b){var U=pi(b);U='link[rel="'+m+'"][href="'+U+'"]',typeof E=="string"&&(U+='[crossorigin="'+E+'"]'),eY.has(U)||(eY.add(U),m={rel:m,crossOrigin:E,href:b},R.querySelector(U)===null&&(b=R.createElement("link"),uc(b,"link",m),ot(b),R.head.appendChild(b)))}}function Pbe(m){lm.D(m),tY("dns-prefetch",m,null)}function Fbe(m,b){lm.C(m,b),tY("preconnect",m,b)}function Bbe(m,b,E){lm.L(m,b,E);var R=t_;if(R&&m&&b){var U='link[rel="preload"][as="'+pi(b)+'"]';b==="image"&&E&&E.imageSrcSet?(U+='[imagesrcset="'+pi(E.imageSrcSet)+'"]',typeof E.imageSizes=="string"&&(U+='[imagesizes="'+pi(E.imageSizes)+'"]')):U+='[href="'+pi(m)+'"]';var q=U;switch(b){case"style":q=r_(m);break;case"script":q=n_(m)}fd.has(q)||(m=f({rel:"preload",href:b==="image"&&E&&E.imageSrcSet?void 0:m,as:b},E),fd.set(q,m),R.querySelector(U)!==null||b==="style"&&R.querySelector(BT(q))||b==="script"&&R.querySelector(zT(q))||(b=R.createElement("link"),uc(b,"link",m),ot(b),R.head.appendChild(b)))}}function zbe(m,b){lm.m(m,b);var E=t_;if(E&&m){var R=b&&typeof b.as=="string"?b.as:"script",U='link[rel="modulepreload"][as="'+pi(R)+'"][href="'+pi(m)+'"]',q=U;switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":q=n_(m)}if(!fd.has(q)&&(m=f({rel:"modulepreload",href:m},b),fd.set(q,m),E.querySelector(U)===null)){switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(E.querySelector(zT(q)))return}R=E.createElement("link"),uc(R,"link",m),ot(R),E.head.appendChild(R)}}}function jbe(m,b,E){lm.S(m,b,E);var R=t_;if(R&&m){var U=et(R).hoistableStyles,q=r_(m);b=b||"default";var ve=U.get(q);if(!ve){var De={loading:0,preload:null};if(ve=R.querySelector(BT(q)))De.loading=5;else{m=f({rel:"stylesheet",href:m,"data-precedence":b},E),(E=fd.get(q))&&P6(m,E);var rt=ve=R.createElement("link");ot(rt),uc(rt,"link",m),rt._p=new Promise(function(kt,$t){rt.onload=kt,rt.onerror=$t}),rt.addEventListener("load",function(){De.loading|=1}),rt.addEventListener("error",function(){De.loading|=2}),De.loading|=4,KM(ve,b,R)}ve={type:"stylesheet",instance:ve,count:1,state:De},U.set(q,ve)}}}function Ube(m,b){lm.X(m,b);var E=t_;if(E&&m){var R=et(E).hoistableScripts,U=n_(m),q=R.get(U);q||(q=E.querySelector(zT(U)),q||(m=f({src:m,async:!0},b),(b=fd.get(U))&&F6(m,b),q=E.createElement("script"),ot(q),uc(q,"link",m),E.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},R.set(U,q))}}function Vbe(m,b){lm.M(m,b);var E=t_;if(E&&m){var R=et(E).hoistableScripts,U=n_(m),q=R.get(U);q||(q=E.querySelector(zT(U)),q||(m=f({src:m,async:!0,type:"module"},b),(b=fd.get(U))&&F6(m,b),q=E.createElement("script"),ot(q),uc(q,"link",m),E.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},R.set(U,q))}}function rY(m,b,E,R){var U=(U=ae.current)?ZM(U):null;if(!U)throw Error(n(446));switch(m){case"meta":case"title":return null;case"style":return typeof E.precedence=="string"&&typeof E.href=="string"?(b=r_(E.href),E=et(U).hoistableStyles,R=E.get(b),R||(R={type:"style",instance:null,count:0,state:null},E.set(b,R)),R):{type:"void",instance:null,count:0,state:null};case"link":if(E.rel==="stylesheet"&&typeof E.href=="string"&&typeof E.precedence=="string"){m=r_(E.href);var q=et(U).hoistableStyles,ve=q.get(m);if(ve||(U=U.ownerDocument||U,ve={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},q.set(m,ve),(q=U.querySelector(BT(m)))&&!q._p&&(ve.instance=q,ve.state.loading=5),fd.has(m)||(E={rel:"preload",as:"style",href:E.href,crossOrigin:E.crossOrigin,integrity:E.integrity,media:E.media,hrefLang:E.hrefLang,referrerPolicy:E.referrerPolicy},fd.set(m,E),q||Hbe(U,m,E,ve.state))),b&&R===null)throw Error(n(528,""));return ve}if(b&&R!==null)throw Error(n(529,""));return null;case"script":return b=E.async,E=E.src,typeof E=="string"&&b&&typeof b!="function"&&typeof b!="symbol"?(b=n_(E),E=et(U).hoistableScripts,R=E.get(b),R||(R={type:"script",instance:null,count:0,state:null},E.set(b,R)),R):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,m))}}function r_(m){return'href="'+pi(m)+'"'}function BT(m){return'link[rel="stylesheet"]['+m+"]"}function nY(m){return f({},m,{"data-precedence":m.precedence,precedence:null})}function Hbe(m,b,E,R){m.querySelector('link[rel="preload"][as="style"]['+b+"]")?R.loading=1:(b=m.createElement("link"),R.preload=b,b.addEventListener("load",function(){return R.loading|=1}),b.addEventListener("error",function(){return R.loading|=2}),uc(b,"link",E),ot(b),m.head.appendChild(b))}function n_(m){return'[src="'+pi(m)+'"]'}function zT(m){return"script[async]"+m}function iY(m,b,E){if(b.count++,b.instance===null)switch(b.type){case"style":var R=m.querySelector('style[data-href~="'+pi(E.href)+'"]');if(R)return b.instance=R,ot(R),R;var U=f({},E,{"data-href":E.href,"data-precedence":E.precedence,href:null,precedence:null});return R=(m.ownerDocument||m).createElement("style"),ot(R),uc(R,"style",U),KM(R,E.precedence,m),b.instance=R;case"stylesheet":U=r_(E.href);var q=m.querySelector(BT(U));if(q)return b.state.loading|=4,b.instance=q,ot(q),q;R=nY(E),(U=fd.get(U))&&P6(R,U),q=(m.ownerDocument||m).createElement("link"),ot(q);var ve=q;return ve._p=new Promise(function(De,rt){ve.onload=De,ve.onerror=rt}),uc(q,"link",R),b.state.loading|=4,KM(q,E.precedence,m),b.instance=q;case"script":return q=n_(E.src),(U=m.querySelector(zT(q)))?(b.instance=U,ot(U),U):(R=E,(U=fd.get(q))&&(R=f({},E),F6(R,U)),m=m.ownerDocument||m,U=m.createElement("script"),ot(U),uc(U,"link",R),m.head.appendChild(U),b.instance=U);case"void":return null;default:throw Error(n(443,b.type))}else b.type==="stylesheet"&&(b.state.loading&4)===0&&(R=b.instance,b.state.loading|=4,KM(R,E.precedence,m));return b.instance}function KM(m,b,E){for(var R=E.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),U=R.length?R[R.length-1]:null,q=U,ve=0;ve<R.length;ve++){var De=R[ve];if(De.dataset.precedence===b)q=De;else if(q!==U)break}q?q.parentNode.insertBefore(m,q.nextSibling):(b=E.nodeType===9?E.head:E,b.insertBefore(m,b.firstChild))}function P6(m,b){m.crossOrigin==null&&(m.crossOrigin=b.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=b.referrerPolicy),m.title==null&&(m.title=b.title)}function F6(m,b){m.crossOrigin==null&&(m.crossOrigin=b.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=b.referrerPolicy),m.integrity==null&&(m.integrity=b.integrity)}var $M=null;function aY(m,b,E){if($M===null){var R=new Map,U=$M=new Map;U.set(E,R)}else U=$M,R=U.get(E),R||(R=new Map,U.set(E,R));if(R.has(m))return R;for(R.set(m,null),E=E.getElementsByTagName(m),U=0;U<E.length;U++){var q=E[U];if(!(q[Mt]||q[Re]||m==="link"&&q.getAttribute("rel")==="stylesheet")&&q.namespaceURI!=="http://www.w3.org/2000/svg"){var ve=q.getAttribute(b)||"";ve=m+ve;var De=R.get(ve);De?De.push(q):R.set(ve,[q])}}return R}function sY(m,b,E){m=m.ownerDocument||m,m.head.insertBefore(E,b==="title"?m.querySelector("head > title"):null)}function Gbe(m,b,E){if(E===1||b.itemProp!=null)return!1;switch(m){case"meta":case"title":return!0;case"style":if(typeof b.precedence!="string"||typeof b.href!="string"||b.href==="")break;return!0;case"link":if(typeof b.rel!="string"||typeof b.href!="string"||b.href===""||b.onLoad||b.onError)break;switch(b.rel){case"stylesheet":return m=b.disabled,typeof b.precedence=="string"&&m==null;default:return!0}case"script":if(b.async&&typeof b.async!="function"&&typeof b.async!="symbol"&&!b.onLoad&&!b.onError&&b.src&&typeof b.src=="string")return!0}return!1}function oY(m){return!(m.type==="stylesheet"&&(m.state.loading&3)===0)}function Wbe(m,b,E,R){if(E.type==="stylesheet"&&(typeof R.media!="string"||matchMedia(R.media).matches!==!1)&&(E.state.loading&4)===0){if(E.instance===null){var U=r_(R.href),q=b.querySelector(BT(U));if(q){b=q._p,b!==null&&typeof b=="object"&&typeof b.then=="function"&&(m.count++,m=JM.bind(m),b.then(m,m)),E.state.loading|=4,E.instance=q,ot(q);return}q=b.ownerDocument||b,R=nY(R),(U=fd.get(U))&&P6(R,U),q=q.createElement("link"),ot(q);var ve=q;ve._p=new Promise(function(De,rt){ve.onload=De,ve.onerror=rt}),uc(q,"link",R),E.instance=q}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(E,b),(b=E.state.preload)&&(E.state.loading&3)===0&&(m.count++,E=JM.bind(m),b.addEventListener("load",E),b.addEventListener("error",E))}}var B6=0;function Ybe(m,b){return m.stylesheets&&m.count===0&&eC(m,m.stylesheets),0<m.count||0<m.imgCount?function(E){var R=setTimeout(function(){if(m.stylesheets&&eC(m,m.stylesheets),m.unsuspend){var q=m.unsuspend;m.unsuspend=null,q()}},6e4+b);0<m.imgBytes&&B6===0&&(B6=62500*Ebe());var U=setTimeout(function(){if(m.waitingForImages=!1,m.count===0&&(m.stylesheets&&eC(m,m.stylesheets),m.unsuspend)){var q=m.unsuspend;m.unsuspend=null,q()}},(m.imgBytes>B6?50:800)+b);return m.unsuspend=E,function(){m.unsuspend=null,clearTimeout(R),clearTimeout(U)}}:null}function JM(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eC(this,this.stylesheets);else if(this.unsuspend){var m=this.unsuspend;this.unsuspend=null,m()}}}var QM=null;function eC(m,b){m.stylesheets=null,m.unsuspend!==null&&(m.count++,QM=new Map,b.forEach(qbe,m),QM=null,JM.call(m))}function qbe(m,b){if(!(b.state.loading&4)){var E=QM.get(m);if(E)var R=E.get(null);else{E=new Map,QM.set(m,E);for(var U=m.querySelectorAll("link[data-precedence],style[data-precedence]"),q=0;q<U.length;q++){var ve=U[q];(ve.nodeName==="LINK"||ve.getAttribute("media")!=="not all")&&(E.set(ve.dataset.precedence,ve),R=ve)}R&&E.set(null,R)}U=b.instance,ve=U.getAttribute("data-precedence"),q=E.get(ve)||R,q===R&&E.set(null,U),E.set(ve,U),this.count++,R=JM.bind(this),U.addEventListener("load",R),U.addEventListener("error",R),q?q.parentNode.insertBefore(U,q.nextSibling):(m=m.nodeType===9?m.head:m,m.insertBefore(U,m.firstChild)),b.state.loading|=4}}var jT={$$typeof:w,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function Xbe(m,b,E,R,U,q,ve,De,rt){this.tag=1,this.containerInfo=m,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=R,this.onUncaughtError=U,this.onCaughtError=q,this.onRecoverableError=ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=rt,this.incompleteTransitions=new Map}function lY(m,b,E,R,U,q,ve,De,rt,kt,$t,nr){return m=new Xbe(m,b,E,ve,rt,kt,$t,nr,De),b=1,q===!0&&(b|=24),q=eo(3,null,null,b),m.current=q,q.stateNode=m,b=m0(),b.refCount++,m.pooledCache=b,b.refCount++,q.memoizedState={element:R,isDehydrated:E,cache:b},yr(q),m}function cY(m){return m?(m=Ps,m):Ps}function uY(m,b,E,R,U,q){U=cY(U),R.context===null?R.context=U:R.pendingContext=U,R=mn(b),R.payload={element:E},q=q===void 0?null:q,q!==null&&(R.callback=q),E=Hn(m,R,b),E!==null&&(T(E,m,b),ki(E,m,b))}function fY(m,b){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var E=m.retryLane;m.retryLane=E!==0&&E<b?E:b}}function z6(m,b){fY(m,b),(m=m.alternate)&&fY(m,b)}function hY(m){if(m.tag===13||m.tag===31){var b=gf(m,67108864);b!==null&&T(b,m,67108864),z6(m,67108864)}}function dY(m){if(m.tag===13||m.tag===31){var b=cc();b=Sn(b);var E=gf(m,b);E!==null&&T(E,m,b),z6(m,b)}}var tC=!0;function Zbe(m,b,E,R){var U=H.T;H.T=null;var q=Z.p;try{Z.p=2,j6(m,b,E,R)}finally{Z.p=q,H.T=U}}function Kbe(m,b,E,R){var U=H.T;H.T=null;var q=Z.p;try{Z.p=8,j6(m,b,E,R)}finally{Z.p=q,H.T=U}}function j6(m,b,E,R){if(tC){var U=U6(R);if(U===null)E6(m,b,R,rC,E),vY(m,R);else if(Jbe(U,m,b,E,R))R.stopPropagation();else if(vY(m,R),b&4&&-1<$be.indexOf(m)){for(;U!==null;){var q=Se(U);if(q!==null)switch(q.tag){case 3:if(q=q.stateNode,q.current.memoizedState.isDehydrated){var ve=vt(q.pendingLanes);if(ve!==0){var De=q;for(De.pendingLanes|=2,De.entangledLanes|=2;ve;){var rt=1<<31-Ze(ve);De.entanglements[1]|=rt,ve&=~rt}N0(q),(Fi&6)===0&&(Iu=pe()+500,IT(0))}}break;case 31:case 13:De=gf(q,2),De!==null&&T(De,q,2),Ie(),z6(q,2)}if(q=U6(R),q===null&&E6(m,b,R,rC,E),q===U)break;U=q}U!==null&&R.stopPropagation()}else E6(m,b,R,null,E)}}function U6(m){return m=Wh(m),V6(m)}var rC=null;function V6(m){if(rC=null,m=or(m),m!==null){var b=a(m);if(b===null)m=null;else{var E=b.tag;if(E===13){if(m=s(b),m!==null)return m;m=null}else if(E===31){if(m=o(b),m!==null)return m;m=null}else if(E===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;m=null}else b!==m&&(m=null)}}return rC=m,null}function pY(m){switch(m){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case $e:return 2;case ht:return 8;case Je:case Ot:return 32;case bt:return 268435456;default:return 32}default:return 32}}var H6=!1,Kg=null,$g=null,Jg=null,UT=new Map,VT=new Map,Qg=[],$be="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vY(m,b){switch(m){case"focusin":case"focusout":Kg=null;break;case"dragenter":case"dragleave":$g=null;break;case"mouseover":case"mouseout":Jg=null;break;case"pointerover":case"pointerout":UT.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":VT.delete(b.pointerId)}}function HT(m,b,E,R,U,q){return m===null||m.nativeEvent!==q?(m={blockedOn:b,domEventName:E,eventSystemFlags:R,nativeEvent:q,targetContainers:[U]},b!==null&&(b=Se(b),b!==null&&hY(b)),m):(m.eventSystemFlags|=R,b=m.targetContainers,U!==null&&b.indexOf(U)===-1&&b.push(U),m)}function Jbe(m,b,E,R,U){switch(b){case"focusin":return Kg=HT(Kg,m,b,E,R,U),!0;case"dragenter":return $g=HT($g,m,b,E,R,U),!0;case"mouseover":return Jg=HT(Jg,m,b,E,R,U),!0;case"pointerover":var q=U.pointerId;return UT.set(q,HT(UT.get(q)||null,m,b,E,R,U)),!0;case"gotpointercapture":return q=U.pointerId,VT.set(q,HT(VT.get(q)||null,m,b,E,R,U)),!0}return!1}function mY(m){var b=or(m.target);if(b!==null){var E=a(b);if(E!==null){if(b=E.tag,b===13){if(b=s(E),b!==null){m.blockedOn=b,He(m.priority,function(){dY(E)});return}}else if(b===31){if(b=o(E),b!==null){m.blockedOn=b,He(m.priority,function(){dY(E)});return}}else if(b===3&&E.stateNode.current.memoizedState.isDehydrated){m.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}m.blockedOn=null}function nC(m){if(m.blockedOn!==null)return!1;for(var b=m.targetContainers;0<b.length;){var E=U6(m.nativeEvent);if(E===null){E=m.nativeEvent;var R=new E.constructor(E.type,E);mu=R,E.target.dispatchEvent(R),mu=null}else return b=Se(E),b!==null&&hY(b),m.blockedOn=E,!1;b.shift()}return!0}function gY(m,b,E){nC(m)&&E.delete(b)}function Qbe(){H6=!1,Kg!==null&&nC(Kg)&&(Kg=null),$g!==null&&nC($g)&&($g=null),Jg!==null&&nC(Jg)&&(Jg=null),UT.forEach(gY),VT.forEach(gY)}function iC(m,b){m.blockedOn===b&&(m.blockedOn=null,H6||(H6=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Qbe)))}var aC=null;function xY(m){aC!==m&&(aC=m,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){aC===m&&(aC=null);for(var b=0;b<m.length;b+=3){var E=m[b],R=m[b+1],U=m[b+2];if(typeof R!="function"){if(V6(R||E)===null)continue;break}var q=Se(E);q!==null&&(m.splice(b,3),b-=3,AT(q,{pending:!0,data:U,method:E.method,action:R},R,U))}}))}function i_(m){function b(rt){return iC(rt,m)}Kg!==null&&iC(Kg,m),$g!==null&&iC($g,m),Jg!==null&&iC(Jg,m),UT.forEach(b),VT.forEach(b);for(var E=0;E<Qg.length;E++){var R=Qg[E];R.blockedOn===m&&(R.blockedOn=null)}for(;0<Qg.length&&(E=Qg[0],E.blockedOn===null);)mY(E),E.blockedOn===null&&Qg.shift();if(E=(m.ownerDocument||m).$$reactFormReplay,E!=null)for(R=0;R<E.length;R+=3){var U=E[R],q=E[R+1],ve=U[Ve]||null;if(typeof q=="function")ve||xY(E);else if(ve){var De=null;if(q&&q.hasAttribute("formAction")){if(U=q,ve=q[Ve]||null)De=ve.formAction;else if(V6(U)!==null)continue}else De=ve.action;typeof De=="function"?E[R+1]=De:(E.splice(R,3),R-=3),xY(E)}}}function yY(){function m(q){q.canIntercept&&q.info==="react-transition"&&q.intercept({handler:function(){return new Promise(function(ve){return U=ve})},focusReset:"manual",scroll:"manual"})}function b(){U!==null&&(U(),U=null),R||setTimeout(E,20)}function E(){if(!R&&!navigation.transition){var q=navigation.currentEntry;q&&q.url!=null&&navigation.navigate(q.url,{state:q.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var R=!1,U=null;return navigation.addEventListener("navigate",m),navigation.addEventListener("navigatesuccess",b),navigation.addEventListener("navigateerror",b),setTimeout(E,100),function(){R=!0,navigation.removeEventListener("navigate",m),navigation.removeEventListener("navigatesuccess",b),navigation.removeEventListener("navigateerror",b),U!==null&&(U(),U=null)}}}function G6(m){this._internalRoot=m}sC.prototype.render=G6.prototype.render=function(m){var b=this._internalRoot;if(b===null)throw Error(n(409));var E=b.current,R=cc();uY(E,R,m,b,null,null)},sC.prototype.unmount=G6.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var b=m.containerInfo;uY(m.current,2,null,m,null,null),Ie(),b[qe]=null}};function sC(m){this._internalRoot=m}sC.prototype.unstable_scheduleHydration=function(m){if(m){var b=Ee();m={blockedOn:null,target:m,priority:b};for(var E=0;E<Qg.length&&b!==0&&b<Qg[E].priority;E++);Qg.splice(E,0,m),E===0&&mY(m)}};var bY=e.version;if(bY!=="19.2.0")throw Error(n(527,bY,"19.2.0"));Z.findDOMNode=function(m){var b=m._reactInternals;if(b===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=c(b),m=m!==null?u(m):null,m=m===null?null:m.stateNode,m};var e_e={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oC.isDisabled&&oC.supportsFiber)try{ft=oC.inject(e_e),Dt=oC}catch{}}return WT.createRoot=function(m,b){if(!i(m))throw Error(n(299));var E=!1,R="",U=NT,q=zM,ve=Ub;return b!=null&&(b.unstable_strictMode===!0&&(E=!0),b.identifierPrefix!==void 0&&(R=b.identifierPrefix),b.onUncaughtError!==void 0&&(U=b.onUncaughtError),b.onCaughtError!==void 0&&(q=b.onCaughtError),b.onRecoverableError!==void 0&&(ve=b.onRecoverableError)),b=lY(m,1,!1,null,null,E,R,null,U,q,ve,yY),m[qe]=b.current,A6(m),new G6(b)},WT.hydrateRoot=function(m,b,E){if(!i(m))throw Error(n(299));var R=!1,U="",q=NT,ve=zM,De=Ub,rt=null;return E!=null&&(E.unstable_strictMode===!0&&(R=!0),E.identifierPrefix!==void 0&&(U=E.identifierPrefix),E.onUncaughtError!==void 0&&(q=E.onUncaughtError),E.onCaughtError!==void 0&&(ve=E.onCaughtError),E.onRecoverableError!==void 0&&(De=E.onRecoverableError),E.formState!==void 0&&(rt=E.formState)),b=lY(m,1,!0,b,E??null,R,U,rt,q,ve,De,yY),b.context=cY(null),E=b.current,R=cc(),R=Sn(R),U=mn(R),U.callback=null,Hn(E,U,R),E=R,b.current.lanes=E,xr(b,E),N0(b),m[qe]=b.current,A6(m),new sC(b)},WT.version="19.2.0",WT}var DY;function f_e(){if(DY)return q6.exports;DY=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),q6.exports=u_e(),q6.exports}var h_e=f_e();const d_e=LS(h_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_e=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v_e=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),LY=r=>{const e=v_e(r);return e.charAt(0).toUpperCase()+e.slice(1)},zoe=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),m_e=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g_e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_e=me.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>me.createElement("svg",{ref:l,...g_e,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:zoe("lucide",i),...!a&&!m_e(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,u])=>me.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=(r,e)=>{const t=me.forwardRef(({className:n,...i},a)=>me.createElement(x_e,{ref:a,iconNode:e,className:zoe(`lucide-${p_e(LY(r))}`,`lucide-${r}`,n),...i}));return t.displayName=LY(r),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_e=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sv=zt("activity",y_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_e=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],__e=zt("anchor",b_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_e=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],joe=zt("archive",w_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_e=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],T_e=zt("arrow-down-up",S_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_e=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Uoe=zt("arrow-left",A_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],M_e=zt("arrow-right",E_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_e=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Voe=zt("arrow-up-down",C_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_e=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],BD=zt("arrow-up-right",N_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_e=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],L_e=zt("bell",D_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_e=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],k_e=zt("bot",R_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_e=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],O_e=zt("box",I_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_e=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],zD=zt("brain-circuit",P_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_e=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],jB=zt("briefcase",F_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_e=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],z_e=zt("building-2",B_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_e=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],U_e=zt("calculator",j_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],H_e=zt("calendar-days",V_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fh=zt("calendar",G_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_e=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Y_e=zt("car",W_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_e=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],jD=zt("chart-no-axes-column-increasing",q_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_e=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],RY=zt("chart-no-axes-column",X_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_e=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],kY=zt("chart-pie",Z_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_e=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],U0=zt("check",K_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tl=zt("chevron-down",$_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_e=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],u3=zt("chevron-left",J_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_e=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zu=zt("chevron-right",Q_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ewe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hoe=zt("chevron-up",ewe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const twe=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],$6=zt("chevrons-down",twe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rwe=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],nwe=zt("chevrons-left",rwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iwe=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],cC=zt("chevrons-right",iwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const awe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],by=zt("circle-alert",awe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const swe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Goe=zt("circle-check-big",swe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const owe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$u=zt("circle-check",owe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lwe=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cwe=zt("circle-play",lwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uwe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],fwe=zt("circle-plus",uwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hwe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dwe=zt("circle-question-mark",hwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pwe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Woe=zt("circle-x",pwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vwe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mwe=zt("circle",vwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gwe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Yoe=zt("clipboard-list",gwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xwe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_y=zt("clock",xwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ywe=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],bwe=zt("code",ywe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _we=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],wwe=zt("columns-2",_we);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Swe=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],Twe=zt("command",Swe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Awe=[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ewe=zt("copy-plus",Awe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mwe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$4=zt("copy",Mwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cwe=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Nwe=zt("cpu",Cwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dwe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],M2=zt("credit-card",Dwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lwe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],IY=zt("database",Lwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rwe=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],kwe=zt("diamond",Rwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iwe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],H2=zt("dollar-sign",Iwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Owe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Tk=zt("download",Owe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pwe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Fwe=zt("ellipsis-vertical",Pwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bwe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],gg=zt("ellipsis",Bwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zwe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_U=zt("eye-off",zwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jwe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qoe=zt("eye",jwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uwe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Vwe=zt("file-spreadsheet",Uwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hwe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hm=zt("file-text",Hwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gwe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],Wwe=zt("file",Gwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ywe=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],qwe=zt("fingerprint-pattern",Ywe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xwe=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Ak=zt("flag",Xwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zwe=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],J4=zt("folder",Zwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kwe=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],$we=zt("fuel",Kwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jwe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],kS=zt("funnel",Jwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qwe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Xoe=zt("grid-3x3",Qwe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eSe=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],wU=zt("grip-vertical",eSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tSe=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],rSe=zt("hand",tSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nSe=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],d2=zt("hash",nSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iSe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],SU=zt("history",iSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aSe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],sSe=zt("house",aSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oSe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Zoe=zt("image",oSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lSe=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Ek=zt("inbox",lSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cSe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Koe=zt("info",cSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uSe=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],$oe=zt("kanban",uSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fSe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],J6=zt("key",fSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hSe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Joe=zt("layers",hSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dSe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],RE=zt("layout-dashboard",dSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pSe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],TU=zt("layout-grid",pSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vSe=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],UB=zt("layout-template",vSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mSe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],gSe=zt("life-buoy",mSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xSe=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],ySe=zt("link-2",xSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bSe=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Qoe=zt("list-ordered",bSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Se=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Kw=zt("list-todo",_Se);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wSe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],UD=zt("list",wSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SSe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],AU=zt("loader-circle",SSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TSe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],ASe=zt("lock-open",TSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ESe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ele=zt("lock",ESe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MSe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tle=zt("log-out",MSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CSe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],EU=zt("map-pin",CSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NSe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],DSe=zt("map",NSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LSe=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],OY=zt("megaphone",LSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RSe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],kE=zt("message-square",RSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kSe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Gm=zt("minus",kSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ISe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],OSe=zt("monitor",ISe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PSe=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],FSe=zt("mouse-pointer-2",PSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BSe=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],PY=zt("move-right",BSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zSe=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],jSe=zt("move",zSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const USe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],f3=zt("package",USe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VSe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],HSe=zt("palette",VSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GSe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Yx=zt("panels-top-left",GSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WSe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],rle=zt("paperclip",WSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YSe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qSe=zt("pen",YSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XSe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],nle=zt("pencil",XSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZSe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],KSe=zt("phone",ZSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Se=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],JSe=zt("pin",$Se);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QSe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ui=zt("plus",QSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eTe=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],tTe=zt("rectangle-ellipsis",eTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rTe=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],nTe=zt("redo-2",rTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iTe=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],aTe=zt("redo",iTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sTe=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],oTe=zt("reply",sTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lTe=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],cTe=zt("rocket",lTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uTe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fTe=zt("save",uTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hTe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vv=zt("search",hTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dTe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mk=zt("send",dTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pTe=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],FY=zt("server",pTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vTe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h3=zt("settings",vTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mTe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ile=zt("share-2",mTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gTe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xTe=zt("shield-check",gTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yTe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gA=zt("shield",yTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bTe=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],VB=zt("ship",bTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Te=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],MU=zt("shopping-bag",_Te);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wTe=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Rw=zt("shopping-cart",wTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const STe=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],CU=zt("sliders-horizontal",STe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TTe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ld=zt("sparkles",TTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ATe=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Q4=zt("square-check-big",ATe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ETe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],ale=zt("square-kanban",ETe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MTe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],CTe=zt("square-pen",MTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NTe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],sle=zt("square",NTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DTe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Up=zt("star",DTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LTe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],RTe=zt("sticky-note",LTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kTe=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],VD=zt("store",kTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ITe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],d3=zt("table",ITe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OTe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],PTe=zt("tag",OTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ole=zt("target",FTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BTe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],zTe=zt("text-align-start",BTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jTe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ih=zt("trash-2",jTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UTe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],lle=zt("trending-down",UTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VTe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Gf=zt("trending-up",VTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HTe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cle=zt("triangle-alert",HTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GTe=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],HD=zt("truck",GTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WTe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],NU=zt("type",WTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YTe=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],qTe=zt("undo-2",YTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XTe=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],ZTe=zt("undo",XTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KTe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$Te=zt("user-plus",KTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JTe=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],QTe=zt("user-round",JTe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5e=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xA=zt("user",e5e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ru=zt("users",t5e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5e=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],HB=zt("video",r5e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5e=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],GB=zt("warehouse",n5e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5e=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],a5e=zt("waves",i5e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5e=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],Q6=zt("wind",s5e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5e=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],l5e=zt("wrench",o5e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wf=zt("x",c5e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5e=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],C2=zt("zap",u5e),ule=me.createContext(void 0),Vh=()=>{const r=me.useContext(ule);return r||{showToast:e=>console.log("Toast:",e)}},f5e=({id:r,message:e,type:t,onClose:n})=>{const i={info:"bg-gray-900 text-white border-gray-800",success:"bg-emerald-600 text-white border-emerald-700",error:"bg-red-600 text-white border-red-700"},a={info:y.jsx(Koe,{size:18}),success:y.jsx(Goe,{size:18}),error:y.jsx(by,{size:18})};return y.jsxs("div",{className:`${i[t]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border`,children:[y.jsx("div",{className:"flex-shrink-0",children:a[t]}),y.jsx("span",{className:"text-sm font-medium flex-1",children:e}),y.jsx("button",{onClick:()=>n(r),className:"opacity-70 hover:opacity-100 transition-opacity",children:y.jsx(Wf,{size:16})})]})},h5e=({children:r})=>{const[e,t]=me.useState([]),n=me.useCallback((a,s="info")=>{const o=Date.now();t(l=>[...l,{id:o,message:a,type:s}]),setTimeout(()=>{t(l=>l.filter(c=>c.id!==o))},3e3)},[]),i=a=>{t(s=>s.filter(o=>o.id!==a))};return y.jsxs(ule.Provider,{value:{showToast:n},children:[r,y.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto",children:e.map(a=>y.jsx(f5e,{...a,onClose:i},a.id))})]})},uC="http://localhost:3001",Z5={getSpaces:async()=>(await fetch(`${uC}/spaces`)).json(),createSpace:async(r,e)=>{const t={id:`SPACE-${Date.now()}`,name:r,color:e||"#"+Math.floor(Math.random()*16777215).toString(16)};return(await fetch(`${uC}/spaces`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()},updateSpace:async(r,e)=>{await fetch(`${uC}/spaces/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},deleteSpace:async r=>{await fetch(`${uC}/spaces/${r}`,{method:"DELETE"})}},fC="http://localhost:3001",p2={getTasks:async()=>(await fetch(`${fC}/tasks`)).json(),updateTask:async(r,e)=>(await fetch(`${fC}/tasks/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),createTask:async r=>{const e={...r,id:`TASK-${Math.floor(1e3+Math.random()*9e3)}`};return(await fetch(`${fC}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()},deleteTask:async r=>{await fetch(`${fC}/tasks/${r}`,{method:"DELETE"})},deleteTasksBySpaceId:async r=>{const t=(await p2.getTasks()).filter(n=>n.spaceId===r);await Promise.all(t.map(n=>p2.deleteTask(n.id)))}};function hC(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var eO={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var BY;function d5e(){return BY||(BY=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(n,i,a){function s(c,u){if(!i[c]){if(!n[c]){var f=typeof hC=="function"&&hC;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[c]={exports:{}};n[c][0].call(h.exports,function(p){var v=n[c][1][p];return s(v||p)},h,h.exports,t,n,i,a)}return i[c].exports}for(var o=typeof hC=="function"&&hC,l=0;l<a.length;l++)s(a[l]);return s})({1:[function(t,n,i){var a=t("./utils"),s=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,d,h,p,v,x=[],g=0,_=l.length,w=_,A=a.getTypeOf(l)!=="string";g<l.length;)w=_-g,f=A?(c=l[g++],u=g<_?l[g++]:0,g<_?l[g++]:0):(c=l.charCodeAt(g++),u=g<_?l.charCodeAt(g++):0,g<_?l.charCodeAt(g++):0),d=c>>2,h=(3&c)<<4|u>>4,p=1<w?(15&u)<<2|f>>6:64,v=2<w?63&f:64,x.push(o.charAt(d)+o.charAt(h)+o.charAt(p)+o.charAt(v));return x.join("")},i.decode=function(l){var c,u,f,d,h,p,v=0,x=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var _,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=s.uint8array?new Uint8Array(0|w):new Array(0|w);v<l.length;)c=o.indexOf(l.charAt(v++))<<2|(d=o.indexOf(l.charAt(v++)))>>4,u=(15&d)<<4|(h=o.indexOf(l.charAt(v++)))>>2,f=(3&h)<<6|(p=o.indexOf(l.charAt(v++))),_[x++]=c,h!==64&&(_[x++]=u),p!==64&&(_[x++]=f);return _}},{"./support":30,"./utils":32}],2:[function(t,n,i){var a=t("./external"),s=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(u,f,d,h,p){this.compressedSize=u,this.uncompressedSize=f,this.crc32=d,this.compression=h,this.compressedContent=p}c.prototype={getContentWorker:function(){var u=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,d){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var a=t("./utils"),s=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();n.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?(function(c,u,f,d){var h=s,p=d+f;c^=-1;for(var v=d;v<p;v++)c=c>>>8^h[255&(c^u[v])];return-1^c})(0|l,o,o.length,0):(function(c,u,f,d){var h=s,p=d+f;c^=-1;for(var v=d;v<p;v++)c=c>>>8^h[255&(c^u.charCodeAt(v))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var a=null;a=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:a}},{lie:37}],7:[function(t,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),o=t("./utils"),l=t("./stream/GenericWorker"),c=a?"uint8array":"array";function u(f,d){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=d,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(d){f.push({data:d,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function a(h,p){var v,x="";for(v=0;v<p;v++)x+=String.fromCharCode(255&h),h>>>=8;return x}function s(h,p,v,x,g,_){var w,A,M=h.file,C=h.compression,N=_!==c.utf8encode,L=o.transformTo("string",_(M.name)),D=o.transformTo("string",c.utf8encode(M.name)),k=M.comment,O=o.transformTo("string",_(k)),I=o.transformTo("string",c.utf8encode(k)),j=D.length!==M.name.length,B=I.length!==k.length,K="",H="",Z="",Y=M.dir,J=M.date,oe={crc32:0,compressedSize:0,uncompressedSize:0};p&&!v||(oe.crc32=h.crc32,oe.compressedSize=h.compressedSize,oe.uncompressedSize=h.uncompressedSize);var X=0;p&&(X|=8),N||!j&&!B||(X|=2048);var F=0,W=0;Y&&(F|=16),g==="UNIX"?(W=798,F|=(function(re,ae){var ce=re;return re||(ce=ae?16893:33204),(65535&ce)<<16})(M.unixPermissions,Y)):(W=20,F|=(function(re){return 63&(re||0)})(M.dosPermissions)),w=J.getUTCHours(),w<<=6,w|=J.getUTCMinutes(),w<<=5,w|=J.getUTCSeconds()/2,A=J.getUTCFullYear()-1980,A<<=4,A|=J.getUTCMonth()+1,A<<=5,A|=J.getUTCDate(),j&&(H=a(1,1)+a(u(L),4)+D,K+="up"+a(H.length,2)+H),B&&(Z=a(1,1)+a(u(O),4)+I,K+="uc"+a(Z.length,2)+Z);var Q="";return Q+=`
\0`,Q+=a(X,2),Q+=C.magic,Q+=a(w,2),Q+=a(A,2),Q+=a(oe.crc32,4),Q+=a(oe.compressedSize,4),Q+=a(oe.uncompressedSize,4),Q+=a(L.length,2),Q+=a(K.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Q+L+K,dirRecord:f.CENTRAL_FILE_HEADER+a(W,2)+Q+a(O.length,2)+"\0\0\0\0"+a(F,4)+a(x,4)+L+K+O}}var o=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),u=t("../crc32"),f=t("../signature");function d(h,p,v,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=v,this.encodeFileName=x,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(d,l),d.prototype.push=function(h){var p=h.meta.percent||0,v=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:v?(p+100*(v-x-1))/v:100}}))},d.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var p=this.streamFiles&&!h.file.dir;if(p){var v=s(h,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(h){this.accumulate=!1;var p=this.streamFiles&&!h.file.dir,v=s(h,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),p)this.push({data:(function(x){return f.DATA_DESCRIPTOR+a(x.crc32,4)+a(x.compressedSize,4)+a(x.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var h=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var v=this.bytesWritten-h,x=(function(g,_,w,A,M){var C=o.transformTo("string",M(A));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(g,2)+a(g,2)+a(_,4)+a(w,4)+a(C.length,2)+C})(this.dirRecords.length,v,h,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(h){this._sources.push(h);var p=this;return h.on("data",function(v){p.processChunk(v)}),h.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),h.on("error",function(v){p.error(v)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(h){var p=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var v=0;v<p.length;v++)try{p[v].error(h)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,p=0;p<h.length;p++)h[p].lock()},n.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var a=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(d,h){f++;var p=(function(_,w){var A=_||w,M=a[A];if(!M)throw new Error(A+" is not a valid compression method !");return M})(h.options.compression,l.compression),v=h.options.compressionOptions||l.compressionOptions||{},x=h.dir,g=h.date;h._compressWorker(p,v).withStreamInfo("file",{name:d,dir:x,date:g,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(d){u.error(d)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=t("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var a=t("./utils"),s=t("./external"),o=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function f(d){return new s.Promise(function(h,p){var v=d.decompressed.getContentWorker().pipe(new c);v.on("error",function(x){p(x)}).on("end",function(){v.streamInfo.crc32!==d.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(d,h){var p=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(d)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",d,!0,h.optimizedBinaryString,h.base64).then(function(v){var x=new l(h);return x.load(v),x}).then(function(v){var x=[s.Promise.resolve(v)],g=v.files;if(h.checkCRC32)for(var _=0;_<g.length;_++)x.push(f(g[_]));return s.Promise.all(x)}).then(function(v){for(var x=v.shift(),g=x.files,_=0;_<g.length;_++){var w=g[_],A=w.fileNameStr,M=a.resolve(w.fileNameStr);p.file(M,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:h.createFolders}),w.dir||(p.file(M).unsafeOriginalName=A)}return x.zipComment.length&&(p.comment=x.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var a=t("../utils"),s=t("../stream/GenericWorker");function o(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(o,s),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var a=t("readable-stream").Readable;function s(o,l,c){a.call(this,l),this._helper=o;var u=this;o.on("data",function(f,d){u.push(f)||u._helper.pause(),c&&c(d)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}t("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,n,i){function a(M,C,N){var L,D=o.getTypeOf(C),k=o.extend(N||{},u);k.date=k.date||new Date,k.compression!==null&&(k.compression=k.compression.toUpperCase()),typeof k.unixPermissions=="string"&&(k.unixPermissions=parseInt(k.unixPermissions,8)),k.unixPermissions&&16384&k.unixPermissions&&(k.dir=!0),k.dosPermissions&&16&k.dosPermissions&&(k.dir=!0),k.dir&&(M=g(M)),k.createFolders&&(L=x(M))&&_.call(this,L,!0);var O=D==="string"&&k.binary===!1&&k.base64===!1;N&&N.binary!==void 0||(k.binary=!O),(C instanceof f&&C.uncompressedSize===0||k.dir||!C||C.length===0)&&(k.base64=!1,k.binary=!0,C="",k.compression="STORE",D="string");var I=null;I=C instanceof f||C instanceof l?C:p.isNode&&p.isStream(C)?new v(M,C):o.prepareContent(M,C,k.binary,k.optimizedBinaryString,k.base64);var j=new d(M,I,k);this.files[M]=j}var s=t("./utf8"),o=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),u=t("./defaults"),f=t("./compressedObject"),d=t("./zipObject"),h=t("./generate"),p=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),x=function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var C=M.lastIndexOf("/");return 0<C?M.substring(0,C):""},g=function(M){return M.slice(-1)!=="/"&&(M+="/"),M},_=function(M,C){return C=C!==void 0?C:u.createFolders,M=g(M),this.files[M]||a.call(this,M,null,{dir:!0,createFolders:C}),this.files[M]};function w(M){return Object.prototype.toString.call(M)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var C,N,L;for(C in this.files)L=this.files[C],(N=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&M(N,L)},filter:function(M){var C=[];return this.forEach(function(N,L){M(N,L)&&C.push(L)}),C},file:function(M,C,N){if(arguments.length!==1)return M=this.root+M,a.call(this,M,C,N),this;if(w(M)){var L=M;return this.filter(function(k,O){return!O.dir&&L.test(k)})}var D=this.files[this.root+M];return D&&!D.dir?D:null},folder:function(M){if(!M)return this;if(w(M))return this.filter(function(D,k){return k.dir&&M.test(D)});var C=this.root+M,N=_.call(this,C),L=this.clone();return L.root=N.name,L},remove:function(M){M=this.root+M;var C=this.files[M];if(C||(M.slice(-1)!=="/"&&(M+="/"),C=this.files[M]),C&&!C.dir)delete this.files[M];else for(var N=this.filter(function(D,k){return k.name.slice(0,M.length)===M}),L=0;L<N.length;L++)delete this.files[N[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var C,N={};try{if((N=o.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");o.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var L=N.comment||this.comment||"";C=h.generateWorker(this,N,L)}catch(D){(C=new l("error")).error(D)}return new c(C,N.type||"string",N.mimeType)},generateAsync:function(M,C){return this.generateInternalStream(M).accumulate(C)},generateNodeStream:function(M,C){return(M=M||{}).type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream(C)}};n.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var a=t("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}t("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===c&&this.data[d+2]===u&&this.data[d+3]===f)return d-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),d=this.readData(4);return l===d[0]&&c===d[1]&&u===d[2]&&f===d[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var a=t("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=s},{"../utils":32}],19:[function(t,n,i){var a=t("./Uint8ArrayReader");function s(o){a.call(this,o)}t("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var a=t("./DataReader");function s(o){a.call(this,o)}t("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var a=t("./ArrayReader");function s(o){a.call(this,o)}t("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var a=t("../utils"),s=t("../support"),o=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");n.exports=function(f){var d=a.getTypeOf(f);return a.checkSupport(d),d!=="string"||s.uint8array?d==="nodebuffer"?new c(f):s.uint8array?new u(a.transformTo("uint8array",f)):new o(a.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var a=t("./GenericWorker"),s=t("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var a=t("./GenericWorker"),s=t("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var a=t("../utils"),s=t("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var a=t("../utils"),s=t("./GenericWorker");function o(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=a.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=a},{}],29:[function(t,n,i){var a=t("../utils"),s=t("./ConvertWorker"),o=t("./GenericWorker"),l=t("../base64"),c=t("../support"),u=t("../external"),f=null;if(c.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(p,v){return new u.Promise(function(x,g){var _=[],w=p._internalType,A=p._outputType,M=p._mimeType;p.on("data",function(C,N){_.push(C),v&&v(N)}).on("error",function(C){_=[],g(C)}).on("end",function(){try{var C=(function(N,L,D){switch(N){case"blob":return a.newBlob(a.transformTo("arraybuffer",L),D);case"base64":return l.encode(L);default:return a.transformTo(N,L)}})(A,(function(N,L){var D,k=0,O=null,I=0;for(D=0;D<L.length;D++)I+=L[D].length;switch(N){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(O=new Uint8Array(I),D=0;D<L.length;D++)O.set(L[D],k),k+=L[D].length;return O;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+N+"'")}})(w,_),M);x(C)}catch(N){g(N)}_=[]}).resume()})}function h(p,v,x){var g=v;switch(v){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=v,this._mimeType=x,a.checkSupport(g),this._worker=p.pipe(new s(g)),p.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}h.prototype={accumulate:function(p){return d(this,p)},on:function(p,v){var x=this;return p==="data"?this._worker.on(p,function(g){v.call(x,g.data,g.meta)}):this._worker.on(p,function(){a.delay(v,arguments,x)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var a=t("./utils"),s=t("./support"),o=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?o.newBufferFrom(h,"utf-8"):(function(p){var v,x,g,_,w,A=p.length,M=0;for(_=0;_<A;_++)(64512&(x=p.charCodeAt(_)))==55296&&_+1<A&&(64512&(g=p.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(g-56320),_++),M+=x<128?1:x<2048?2:x<65536?3:4;for(v=s.uint8array?new Uint8Array(M):new Array(M),_=w=0;w<M;_++)(64512&(x=p.charCodeAt(_)))==55296&&_+1<A&&(64512&(g=p.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(g-56320),_++),x<128?v[w++]=x:(x<2048?v[w++]=192|x>>>6:(x<65536?v[w++]=224|x>>>12:(v[w++]=240|x>>>18,v[w++]=128|x>>>12&63),v[w++]=128|x>>>6&63),v[w++]=128|63&x);return v})(h)},i.utf8decode=function(h){return s.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):(function(p){var v,x,g,_,w=p.length,A=new Array(2*w);for(v=x=0;v<w;)if((g=p[v++])<128)A[x++]=g;else if(4<(_=c[g]))A[x++]=65533,v+=_-1;else{for(g&=_===2?31:_===3?15:7;1<_&&v<w;)g=g<<6|63&p[v++],_--;1<_?A[x++]=65533:g<65536?A[x++]=g:(g-=65536,A[x++]=55296|g>>10&1023,A[x++]=56320|1023&g)}return A.length!==x&&(A.subarray?A=A.subarray(0,x):A.length=x),a.applyFromCharCode(A)})(h=a.transformTo(s.uint8array?"uint8array":"array",h))},a.inherits(f,l),f.prototype.processChunk=function(h){var p=a.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var v=p;(p=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),p.set(v,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var x=(function(_,w){var A;for((w=w||_.length)>_.length&&(w=_.length),A=w-1;0<=A&&(192&_[A])==128;)A--;return A<0||A===0?w:A+c[_[A]]>w?A:w})(p),g=p;x!==p.length&&(s.uint8array?(g=p.subarray(0,x),this.leftOver=p.subarray(x,p.length)):(g=p.slice(0,x),this.leftOver=p.slice(x,p.length))),this.push({data:i.utf8decode(g),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(d,l),d.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var a=t("./support"),s=t("./base64"),o=t("./nodejsUtils"),l=t("./external");function c(v){return v}function u(v,x){for(var g=0;g<v.length;++g)x[g]=255&v.charCodeAt(g);return x}t("setimmediate"),i.newBlob=function(v,x){i.checkSupport("blob");try{return new Blob([v],{type:x})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(v),g.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(v,x,g){var _=[],w=0,A=v.length;if(A<=g)return String.fromCharCode.apply(null,v);for(;w<A;)x==="array"||x==="nodebuffer"?_.push(String.fromCharCode.apply(null,v.slice(w,Math.min(w+g,A)))):_.push(String.fromCharCode.apply(null,v.subarray(w,Math.min(w+g,A)))),w+=g;return _.join("")},stringifyByChar:function(v){for(var x="",g=0;g<v.length;g++)x+=String.fromCharCode(v[g]);return x},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function d(v){var x=65536,g=i.getTypeOf(v),_=!0;if(g==="uint8array"?_=f.applyCanBeUsed.uint8array:g==="nodebuffer"&&(_=f.applyCanBeUsed.nodebuffer),_)for(;1<x;)try{return f.stringifyByChunk(v,g,x)}catch{x=Math.floor(x/2)}return f.stringifyByChar(v)}function h(v,x){for(var g=0;g<v.length;g++)x[g]=v[g];return x}i.applyFromCharCode=d;var p={};p.string={string:c,array:function(v){return u(v,new Array(v.length))},arraybuffer:function(v){return p.string.uint8array(v).buffer},uint8array:function(v){return u(v,new Uint8Array(v.length))},nodebuffer:function(v){return u(v,o.allocBuffer(v.length))}},p.array={string:d,array:c,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(v)}},p.arraybuffer={string:function(v){return d(new Uint8Array(v))},array:function(v){return h(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:c,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(new Uint8Array(v))}},p.uint8array={string:d,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:c,nodebuffer:function(v){return o.newBufferFrom(v)}},p.nodebuffer={string:d,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return p.nodebuffer.uint8array(v).buffer},uint8array:function(v){return h(v,new Uint8Array(v.length))},nodebuffer:c},i.transformTo=function(v,x){if(x=x||"",!v)return x;i.checkSupport(v);var g=i.getTypeOf(x);return p[g][v](x)},i.resolve=function(v){for(var x=v.split("/"),g=[],_=0;_<x.length;_++){var w=x[_];w==="."||w===""&&_!==0&&_!==x.length-1||(w===".."?g.pop():g.push(w))}return g.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(v)?"nodebuffer":a.uint8array&&v instanceof Uint8Array?"uint8array":a.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!a[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var x,g,_="";for(g=0;g<(v||"").length;g++)_+="\\x"+((x=v.charCodeAt(g))<16?"0":"")+x.toString(16).toUpperCase();return _},i.delay=function(v,x,g){setImmediate(function(){v.apply(g||null,x||[])})},i.inherits=function(v,x){function g(){}g.prototype=x.prototype,v.prototype=new g},i.extend=function(){var v,x,g={};for(v=0;v<arguments.length;v++)for(x in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],x)&&g[x]===void 0&&(g[x]=arguments[v][x]);return g},i.prepareContent=function(v,x,g,_,w){return l.Promise.resolve(x).then(function(A){return a.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new l.Promise(function(M,C){var N=new FileReader;N.onload=function(L){M(L.target.result)},N.onerror=function(L){C(L.target.error)},N.readAsArrayBuffer(A)}):A}).then(function(A){var M=i.getTypeOf(A);return M?(M==="arraybuffer"?A=i.transformTo("uint8array",A):M==="string"&&(w?A=s.decode(A):g&&_!==!0&&(A=(function(C){return u(C,a.uint8array?new Uint8Array(C.length):new Array(C.length))})(A))),A):l.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var a=t("./reader/readerFor"),s=t("./utils"),o=t("./signature"),l=t("./zipEntry"),c=t("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(d)+", expected "+s.pretty(f)+")")}},isSignature:function(f,d){var h=this.reader.index;this.reader.setIndex(f);var p=this.reader.readString(4)===d;return this.reader.setIndex(h),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),d=c.uint8array?"uint8array":"array",h=s.transformTo(d,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,d,h,p=this.zip64EndOfCentralSize-44;0<p;)f=this.reader.readInt(2),d=this.reader.readInt(4),h=this.reader.readData(d),this.zip64ExtensibleData[f]={id:f,length:d,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,d;for(f=0;f<this.files.length;f++)d=this.files[f],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var d=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var p=d-h;if(0<p)this.isSignature(d,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var a=t("./reader/readerFor"),s=t("./utils"),o=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),u=t("./compressions"),f=t("./support");function d(h,p){this.options=h,this.loadOptions=p}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var p,v;if(h.skip(22),this.fileNameLength=h.readInt(2),v=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=(function(x){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===x)return u[g];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var p=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(p),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var p,v,x,g=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<g;)p=h.readInt(2),v=h.readInt(2),x=h.readData(v),this.extraFields[p]={id:p,length:v,value:x};h.setIndex(g)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var v=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var g=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var p=a(h.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var p=a(h.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(h.length-5))}return null}},n.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function a(p,v,x){this.name=p,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=v,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var s=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),u=t("./stream/GenericWorker");a.prototype={internalStream:function(p){var v=null,x="string";try{if(!p)throw new Error("No output type specified.");var g=(x=p.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),v=this._decompressWorker();var _=!this._dataBinary;_&&!g&&(v=v.pipe(new l.Utf8EncodeWorker)),!_&&g&&(v=v.pipe(new l.Utf8DecodeWorker))}catch(w){(v=new u("error")).error(w)}return new s(v,x,"")},async:function(p,v){return this.internalStream(p).accumulate(v)},nodeStream:function(p,v){return this.internalStream(p||"nodebuffer").toNodejsStream(v)},_compressWorker:function(p,v){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(x,p,v)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)a.prototype[f[h]]=d;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var c=0,u=new l(p),f=a.document.createTextNode("");u.observe(f,{characterData:!0}),s=function(){f.data=c=++c%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var v=a.document.createElement("script");v.onreadystatechange=function(){p(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},a.document.documentElement.appendChild(v)}:function(){setTimeout(p,0)};else{var d=new a.MessageChannel;d.port1.onmessage=p,s=function(){d.port2.postMessage(0)}}var h=[];function p(){var v,x;o=!0;for(var g=h.length;g;){for(x=h,h=[],v=-1;++v<g;)x[v]();g=h.length}o=!1}n.exports=function(v){h.push(v)!==1||o||s()}}).call(this,typeof lC<"u"?lC:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var a=t("immediate");function s(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==s&&v(this,g)}function d(g,_,w){this.promise=g,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function h(g,_,w){a(function(){var A;try{A=_(w)}catch(M){return o.reject(g,M)}A===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,A)})}function p(g){var _=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof _=="function")return function(){_.apply(g,arguments)}}function v(g,_){var w=!1;function A(N){w||(w=!0,o.reject(g,N))}function M(N){w||(w=!0,o.resolve(g,N))}var C=x(function(){_(M,A)});C.status==="error"&&A(C.value)}function x(g,_){var w={};try{w.value=g(_),w.status="success"}catch(A){w.status="error",w.value=A}return w}(n.exports=f).prototype.finally=function(g){if(typeof g!="function")return this;var _=this.constructor;return this.then(function(w){return _.resolve(g()).then(function(){return w})},function(w){return _.resolve(g()).then(function(){throw w})})},f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,_){if(typeof g!="function"&&this.state===c||typeof _!="function"&&this.state===l)return this;var w=new this.constructor(s);return this.state!==u?h(w,this.state===c?g:_,this.outcome):this.queue.push(new d(w,g,_)),w},d.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},d.prototype.otherCallFulfilled=function(g){h(this.promise,this.onFulfilled,g)},d.prototype.callRejected=function(g){o.reject(this.promise,g)},d.prototype.otherCallRejected=function(g){h(this.promise,this.onRejected,g)},o.resolve=function(g,_){var w=x(p,_);if(w.status==="error")return o.reject(g,w.value);var A=w.value;if(A)v(g,A);else{g.state=c,g.outcome=_;for(var M=-1,C=g.queue.length;++M<C;)g.queue[M].callFulfilled(_)}return g},o.reject=function(g,_){g.state=l,g.outcome=_;for(var w=-1,A=g.queue.length;++w<A;)g.queue[w].callRejected(_);return g},f.resolve=function(g){return g instanceof this?g:o.resolve(new this(s),g)},f.reject=function(g){var _=new this(s);return o.reject(_,g)},f.all=function(g){var _=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,A=!1;if(!w)return this.resolve([]);for(var M=new Array(w),C=0,N=-1,L=new this(s);++N<w;)D(g[N],N);return L;function D(k,O){_.resolve(k).then(function(I){M[O]=I,++C!==w||A||(A=!0,o.resolve(L,M))},function(I){A||(A=!0,o.reject(L,I))})}},f.race=function(g){var _=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,A=!1;if(!w)return this.resolve([]);for(var M=-1,C=new this(s);++M<w;)N=g[M],_.resolve(N).then(function(L){A||(A=!0,o.resolve(C,L))},function(L){A||(A=!0,o.reject(C,L))});var N;return C}},{immediate:36}],38:[function(t,n,i){var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var a=t("./zlib/deflate"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),u=Object.prototype.toString,f=0,d=-1,h=0,p=8;function v(g){if(!(this instanceof v))return new v(g);this.options=s.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=a.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(w!==f)throw new Error(l[w]);if(_.header&&a.deflateSetHeader(this.strm,_.header),_.dictionary){var A;if(A=typeof _.dictionary=="string"?o.string2buf(_.dictionary):u.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(w=a.deflateSetDictionary(this.strm,A))!==f)throw new Error(l[w]);this._dict_set=!0}}function x(g,_){var w=new v(_);if(w.push(g,!0),w.err)throw w.msg||l[w.err];return w.result}v.prototype.push=function(g,_){var w,A,M=this.strm,C=this.options.chunkSize;if(this.ended)return!1;A=_===~~_?_:_===!0?4:0,typeof g=="string"?M.input=o.string2buf(g):u.call(g)==="[object ArrayBuffer]"?M.input=new Uint8Array(g):M.input=g,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new s.Buf8(C),M.next_out=0,M.avail_out=C),(w=a.deflate(M,A))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);M.avail_out!==0&&(M.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(M.output,M.next_out))):this.onData(s.shrinkBuf(M.output,M.next_out)))}while((0<M.avail_in||M.avail_out===0)&&w!==1);return A===4?(w=a.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):A!==2||(this.onEnd(f),!(M.avail_out=0))},v.prototype.onData=function(g){this.chunks.push(g)},v.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=v,i.deflate=x,i.deflateRaw=function(g,_){return(_=_||{}).raw=!0,x(g,_)},i.gzip=function(g,_){return(_=_||{}).gzip=!0,x(g,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var a=t("./zlib/inflate"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),u=t("./zlib/zstream"),f=t("./zlib/gzheader"),d=Object.prototype.toString;function h(v){if(!(this instanceof h))return new h(v);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},v||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||v&&v.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=a.inflateInit2(this.strm,x.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function p(v,x){var g=new h(x);if(g.push(v,!0),g.err)throw g.msg||c[g.err];return g.result}h.prototype.push=function(v,x){var g,_,w,A,M,C,N=this.strm,L=this.options.chunkSize,D=this.options.dictionary,k=!1;if(this.ended)return!1;_=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof v=="string"?N.input=o.binstring2buf(v):d.call(v)==="[object ArrayBuffer]"?N.input=new Uint8Array(v):N.input=v,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new s.Buf8(L),N.next_out=0,N.avail_out=L),(g=a.inflate(N,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&D&&(C=typeof D=="string"?o.string2buf(D):d.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,g=a.inflateSetDictionary(this.strm,C)),g===l.Z_BUF_ERROR&&k===!0&&(g=l.Z_OK,k=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&g!==l.Z_STREAM_END&&(N.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(N.output,N.next_out),A=N.next_out-w,M=o.buf2string(N.output,w),N.next_out=A,N.avail_out=L-A,A&&s.arraySet(N.output,N.output,w,A,0),this.onData(M)):this.onData(s.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(k=!0)}while((0<N.avail_in||N.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(g=a.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(N.avail_out=0))},h.prototype.onData=function(v){this.chunks.push(v)},h.prototype.onEnd=function(v){v===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=h,i.inflate=p,i.inflateRaw=function(v,x){return(x=x||{}).raw=!0,p(v,x)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,f,d){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),d);else for(var h=0;h<f;h++)l[d+h]=c[u+h]},flattenChunks:function(l){var c,u,f,d,h,p;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(p=new Uint8Array(f),c=d=0,u=l.length;c<u;c++)h=l[c],p.set(h,d),d+=h.length;return p}},o={arraySet:function(l,c,u,f,d){for(var h=0;h<f;h++)l[d+h]=c[u+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(t,n,i){var a=t("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,d){if(d<65537&&(f.subarray&&o||!f.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(f,d));for(var h="",p=0;p<d;p++)h+=String.fromCharCode(f[p]);return h}l[254]=l[254]=1,i.string2buf=function(f){var d,h,p,v,x,g=f.length,_=0;for(v=0;v<g;v++)(64512&(h=f.charCodeAt(v)))==55296&&v+1<g&&(64512&(p=f.charCodeAt(v+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),v++),_+=h<128?1:h<2048?2:h<65536?3:4;for(d=new a.Buf8(_),v=x=0;x<_;v++)(64512&(h=f.charCodeAt(v)))==55296&&v+1<g&&(64512&(p=f.charCodeAt(v+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),v++),h<128?d[x++]=h:(h<2048?d[x++]=192|h>>>6:(h<65536?d[x++]=224|h>>>12:(d[x++]=240|h>>>18,d[x++]=128|h>>>12&63),d[x++]=128|h>>>6&63),d[x++]=128|63&h);return d},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var d=new a.Buf8(f.length),h=0,p=d.length;h<p;h++)d[h]=f.charCodeAt(h);return d},i.buf2string=function(f,d){var h,p,v,x,g=d||f.length,_=new Array(2*g);for(h=p=0;h<g;)if((v=f[h++])<128)_[p++]=v;else if(4<(x=l[v]))_[p++]=65533,h+=x-1;else{for(v&=x===2?31:x===3?15:7;1<x&&h<g;)v=v<<6|63&f[h++],x--;1<x?_[p++]=65533:v<65536?_[p++]=v:(v-=65536,_[p++]=55296|v>>10&1023,_[p++]=56320|1023&v)}return u(_,p)},i.utf8border=function(f,d){var h;for((d=d||f.length)>f.length&&(d=f.length),h=d-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?d:h+l[f[h]]>d?h:d}},{"./common":41}],43:[function(t,n,i){n.exports=function(a,s,o,l){for(var c=65535&a|0,u=a>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+s[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var a=(function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o})();n.exports=function(s,o,l,c){var u=a,f=c+l;s^=-1;for(var d=c;d<f;d++)s=s>>>8^u[255&(s^o[d])];return-1^s}},{}],46:[function(t,n,i){var a,s=t("../utils/common"),o=t("./trees"),l=t("./adler32"),c=t("./crc32"),u=t("./messages"),f=0,d=4,h=0,p=-2,v=-1,x=4,g=2,_=8,w=9,A=286,M=30,C=19,N=2*A+1,L=15,D=3,k=258,O=k+D+1,I=42,j=113,B=1,K=2,H=3,Z=4;function Y(ne,te){return ne.msg=u[te],te}function J(ne){return(ne<<1)-(4<ne?9:0)}function oe(ne){for(var te=ne.length;0<=--te;)ne[te]=0}function X(ne){var te=ne.state,Me=te.pending;Me>ne.avail_out&&(Me=ne.avail_out),Me!==0&&(s.arraySet(ne.output,te.pending_buf,te.pending_out,Me,ne.next_out),ne.next_out+=Me,te.pending_out+=Me,ne.total_out+=Me,ne.avail_out-=Me,te.pending-=Me,te.pending===0&&(te.pending_out=0))}function F(ne,te){o._tr_flush_block(ne,0<=ne.block_start?ne.block_start:-1,ne.strstart-ne.block_start,te),ne.block_start=ne.strstart,X(ne.strm)}function W(ne,te){ne.pending_buf[ne.pending++]=te}function Q(ne,te){ne.pending_buf[ne.pending++]=te>>>8&255,ne.pending_buf[ne.pending++]=255&te}function re(ne,te){var Me,ge,de=ne.max_chain_length,_e=ne.strstart,je=ne.prev_length,Be=ne.nice_match,Fe=ne.strstart>ne.w_size-O?ne.strstart-(ne.w_size-O):0,we=ne.window,pe=ne.w_mask,ze=ne.prev,$e=ne.strstart+k,ht=we[_e+je-1],Je=we[_e+je];ne.prev_length>=ne.good_match&&(de>>=2),Be>ne.lookahead&&(Be=ne.lookahead);do if(we[(Me=te)+je]===Je&&we[Me+je-1]===ht&&we[Me]===we[_e]&&we[++Me]===we[_e+1]){_e+=2,Me++;do;while(we[++_e]===we[++Me]&&we[++_e]===we[++Me]&&we[++_e]===we[++Me]&&we[++_e]===we[++Me]&&we[++_e]===we[++Me]&&we[++_e]===we[++Me]&&we[++_e]===we[++Me]&&we[++_e]===we[++Me]&&_e<$e);if(ge=k-($e-_e),_e=$e-k,je<ge){if(ne.match_start=te,Be<=(je=ge))break;ht=we[_e+je-1],Je=we[_e+je]}}while((te=ze[te&pe])>Fe&&--de!=0);return je<=ne.lookahead?je:ne.lookahead}function ae(ne){var te,Me,ge,de,_e,je,Be,Fe,we,pe,ze=ne.w_size;do{if(de=ne.window_size-ne.lookahead-ne.strstart,ne.strstart>=ze+(ze-O)){for(s.arraySet(ne.window,ne.window,ze,ze,0),ne.match_start-=ze,ne.strstart-=ze,ne.block_start-=ze,te=Me=ne.hash_size;ge=ne.head[--te],ne.head[te]=ze<=ge?ge-ze:0,--Me;);for(te=Me=ze;ge=ne.prev[--te],ne.prev[te]=ze<=ge?ge-ze:0,--Me;);de+=ze}if(ne.strm.avail_in===0)break;if(je=ne.strm,Be=ne.window,Fe=ne.strstart+ne.lookahead,we=de,pe=void 0,pe=je.avail_in,we<pe&&(pe=we),Me=pe===0?0:(je.avail_in-=pe,s.arraySet(Be,je.input,je.next_in,pe,Fe),je.state.wrap===1?je.adler=l(je.adler,Be,pe,Fe):je.state.wrap===2&&(je.adler=c(je.adler,Be,pe,Fe)),je.next_in+=pe,je.total_in+=pe,pe),ne.lookahead+=Me,ne.lookahead+ne.insert>=D)for(_e=ne.strstart-ne.insert,ne.ins_h=ne.window[_e],ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[_e+1])&ne.hash_mask;ne.insert&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[_e+D-1])&ne.hash_mask,ne.prev[_e&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=_e,_e++,ne.insert--,!(ne.lookahead+ne.insert<D)););}while(ne.lookahead<O&&ne.strm.avail_in!==0)}function ce(ne,te){for(var Me,ge;;){if(ne.lookahead<O){if(ae(ne),ne.lookahead<O&&te===f)return B;if(ne.lookahead===0)break}if(Me=0,ne.lookahead>=D&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+D-1])&ne.hash_mask,Me=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart),Me!==0&&ne.strstart-Me<=ne.w_size-O&&(ne.match_length=re(ne,Me)),ne.match_length>=D)if(ge=o._tr_tally(ne,ne.strstart-ne.match_start,ne.match_length-D),ne.lookahead-=ne.match_length,ne.match_length<=ne.max_lazy_match&&ne.lookahead>=D){for(ne.match_length--;ne.strstart++,ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+D-1])&ne.hash_mask,Me=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart,--ne.match_length!=0;);ne.strstart++}else ne.strstart+=ne.match_length,ne.match_length=0,ne.ins_h=ne.window[ne.strstart],ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+1])&ne.hash_mask;else ge=o._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++;if(ge&&(F(ne,!1),ne.strm.avail_out===0))return B}return ne.insert=ne.strstart<D-1?ne.strstart:D-1,te===d?(F(ne,!0),ne.strm.avail_out===0?H:Z):ne.last_lit&&(F(ne,!1),ne.strm.avail_out===0)?B:K}function ye(ne,te){for(var Me,ge,de;;){if(ne.lookahead<O){if(ae(ne),ne.lookahead<O&&te===f)return B;if(ne.lookahead===0)break}if(Me=0,ne.lookahead>=D&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+D-1])&ne.hash_mask,Me=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart),ne.prev_length=ne.match_length,ne.prev_match=ne.match_start,ne.match_length=D-1,Me!==0&&ne.prev_length<ne.max_lazy_match&&ne.strstart-Me<=ne.w_size-O&&(ne.match_length=re(ne,Me),ne.match_length<=5&&(ne.strategy===1||ne.match_length===D&&4096<ne.strstart-ne.match_start)&&(ne.match_length=D-1)),ne.prev_length>=D&&ne.match_length<=ne.prev_length){for(de=ne.strstart+ne.lookahead-D,ge=o._tr_tally(ne,ne.strstart-1-ne.prev_match,ne.prev_length-D),ne.lookahead-=ne.prev_length-1,ne.prev_length-=2;++ne.strstart<=de&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+D-1])&ne.hash_mask,Me=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart),--ne.prev_length!=0;);if(ne.match_available=0,ne.match_length=D-1,ne.strstart++,ge&&(F(ne,!1),ne.strm.avail_out===0))return B}else if(ne.match_available){if((ge=o._tr_tally(ne,0,ne.window[ne.strstart-1]))&&F(ne,!1),ne.strstart++,ne.lookahead--,ne.strm.avail_out===0)return B}else ne.match_available=1,ne.strstart++,ne.lookahead--}return ne.match_available&&(ge=o._tr_tally(ne,0,ne.window[ne.strstart-1]),ne.match_available=0),ne.insert=ne.strstart<D-1?ne.strstart:D-1,te===d?(F(ne,!0),ne.strm.avail_out===0?H:Z):ne.last_lit&&(F(ne,!1),ne.strm.avail_out===0)?B:K}function fe(ne,te,Me,ge,de){this.good_length=ne,this.max_lazy=te,this.nice_length=Me,this.max_chain=ge,this.func=de}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*N),this.dyn_dtree=new s.Buf16(2*(2*M+1)),this.bl_tree=new s.Buf16(2*(2*C+1)),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*A+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*A+1),oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Oe(ne){var te;return ne&&ne.state?(ne.total_in=ne.total_out=0,ne.data_type=g,(te=ne.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?I:j,ne.adler=te.wrap===2?0:1,te.last_flush=f,o._tr_init(te),h):Y(ne,p)}function xe(ne){var te=Oe(ne);return te===h&&(function(Me){Me.window_size=2*Me.w_size,oe(Me.head),Me.max_lazy_match=a[Me.level].max_lazy,Me.good_match=a[Me.level].good_length,Me.nice_match=a[Me.level].nice_length,Me.max_chain_length=a[Me.level].max_chain,Me.strstart=0,Me.block_start=0,Me.lookahead=0,Me.insert=0,Me.match_length=Me.prev_length=D-1,Me.match_available=0,Me.ins_h=0})(ne.state),te}function Qe(ne,te,Me,ge,de,_e){if(!ne)return p;var je=1;if(te===v&&(te=6),ge<0?(je=0,ge=-ge):15<ge&&(je=2,ge-=16),de<1||w<de||Me!==_||ge<8||15<ge||te<0||9<te||_e<0||x<_e)return Y(ne,p);ge===8&&(ge=9);var Be=new be;return(ne.state=Be).strm=ne,Be.wrap=je,Be.gzhead=null,Be.w_bits=ge,Be.w_size=1<<Be.w_bits,Be.w_mask=Be.w_size-1,Be.hash_bits=de+7,Be.hash_size=1<<Be.hash_bits,Be.hash_mask=Be.hash_size-1,Be.hash_shift=~~((Be.hash_bits+D-1)/D),Be.window=new s.Buf8(2*Be.w_size),Be.head=new s.Buf16(Be.hash_size),Be.prev=new s.Buf16(Be.w_size),Be.lit_bufsize=1<<de+6,Be.pending_buf_size=4*Be.lit_bufsize,Be.pending_buf=new s.Buf8(Be.pending_buf_size),Be.d_buf=1*Be.lit_bufsize,Be.l_buf=3*Be.lit_bufsize,Be.level=te,Be.strategy=_e,Be.method=Me,xe(ne)}a=[new fe(0,0,0,0,function(ne,te){var Me=65535;for(Me>ne.pending_buf_size-5&&(Me=ne.pending_buf_size-5);;){if(ne.lookahead<=1){if(ae(ne),ne.lookahead===0&&te===f)return B;if(ne.lookahead===0)break}ne.strstart+=ne.lookahead,ne.lookahead=0;var ge=ne.block_start+Me;if((ne.strstart===0||ne.strstart>=ge)&&(ne.lookahead=ne.strstart-ge,ne.strstart=ge,F(ne,!1),ne.strm.avail_out===0)||ne.strstart-ne.block_start>=ne.w_size-O&&(F(ne,!1),ne.strm.avail_out===0))return B}return ne.insert=0,te===d?(F(ne,!0),ne.strm.avail_out===0?H:Z):(ne.strstart>ne.block_start&&(F(ne,!1),ne.strm.avail_out),B)}),new fe(4,4,8,4,ce),new fe(4,5,16,8,ce),new fe(4,6,32,32,ce),new fe(4,4,16,16,ye),new fe(8,16,32,32,ye),new fe(8,16,128,128,ye),new fe(8,32,128,256,ye),new fe(32,128,258,1024,ye),new fe(32,258,258,4096,ye)],i.deflateInit=function(ne,te){return Qe(ne,te,_,15,8,0)},i.deflateInit2=Qe,i.deflateReset=xe,i.deflateResetKeep=Oe,i.deflateSetHeader=function(ne,te){return ne&&ne.state?ne.state.wrap!==2?p:(ne.state.gzhead=te,h):p},i.deflate=function(ne,te){var Me,ge,de,_e;if(!ne||!ne.state||5<te||te<0)return ne?Y(ne,p):p;if(ge=ne.state,!ne.output||!ne.input&&ne.avail_in!==0||ge.status===666&&te!==d)return Y(ne,ne.avail_out===0?-5:p);if(ge.strm=ne,Me=ge.last_flush,ge.last_flush=te,ge.status===I)if(ge.wrap===2)ne.adler=0,W(ge,31),W(ge,139),W(ge,8),ge.gzhead?(W(ge,(ge.gzhead.text?1:0)+(ge.gzhead.hcrc?2:0)+(ge.gzhead.extra?4:0)+(ge.gzhead.name?8:0)+(ge.gzhead.comment?16:0)),W(ge,255&ge.gzhead.time),W(ge,ge.gzhead.time>>8&255),W(ge,ge.gzhead.time>>16&255),W(ge,ge.gzhead.time>>24&255),W(ge,ge.level===9?2:2<=ge.strategy||ge.level<2?4:0),W(ge,255&ge.gzhead.os),ge.gzhead.extra&&ge.gzhead.extra.length&&(W(ge,255&ge.gzhead.extra.length),W(ge,ge.gzhead.extra.length>>8&255)),ge.gzhead.hcrc&&(ne.adler=c(ne.adler,ge.pending_buf,ge.pending,0)),ge.gzindex=0,ge.status=69):(W(ge,0),W(ge,0),W(ge,0),W(ge,0),W(ge,0),W(ge,ge.level===9?2:2<=ge.strategy||ge.level<2?4:0),W(ge,3),ge.status=j);else{var je=_+(ge.w_bits-8<<4)<<8;je|=(2<=ge.strategy||ge.level<2?0:ge.level<6?1:ge.level===6?2:3)<<6,ge.strstart!==0&&(je|=32),je+=31-je%31,ge.status=j,Q(ge,je),ge.strstart!==0&&(Q(ge,ne.adler>>>16),Q(ge,65535&ne.adler)),ne.adler=1}if(ge.status===69)if(ge.gzhead.extra){for(de=ge.pending;ge.gzindex<(65535&ge.gzhead.extra.length)&&(ge.pending!==ge.pending_buf_size||(ge.gzhead.hcrc&&ge.pending>de&&(ne.adler=c(ne.adler,ge.pending_buf,ge.pending-de,de)),X(ne),de=ge.pending,ge.pending!==ge.pending_buf_size));)W(ge,255&ge.gzhead.extra[ge.gzindex]),ge.gzindex++;ge.gzhead.hcrc&&ge.pending>de&&(ne.adler=c(ne.adler,ge.pending_buf,ge.pending-de,de)),ge.gzindex===ge.gzhead.extra.length&&(ge.gzindex=0,ge.status=73)}else ge.status=73;if(ge.status===73)if(ge.gzhead.name){de=ge.pending;do{if(ge.pending===ge.pending_buf_size&&(ge.gzhead.hcrc&&ge.pending>de&&(ne.adler=c(ne.adler,ge.pending_buf,ge.pending-de,de)),X(ne),de=ge.pending,ge.pending===ge.pending_buf_size)){_e=1;break}_e=ge.gzindex<ge.gzhead.name.length?255&ge.gzhead.name.charCodeAt(ge.gzindex++):0,W(ge,_e)}while(_e!==0);ge.gzhead.hcrc&&ge.pending>de&&(ne.adler=c(ne.adler,ge.pending_buf,ge.pending-de,de)),_e===0&&(ge.gzindex=0,ge.status=91)}else ge.status=91;if(ge.status===91)if(ge.gzhead.comment){de=ge.pending;do{if(ge.pending===ge.pending_buf_size&&(ge.gzhead.hcrc&&ge.pending>de&&(ne.adler=c(ne.adler,ge.pending_buf,ge.pending-de,de)),X(ne),de=ge.pending,ge.pending===ge.pending_buf_size)){_e=1;break}_e=ge.gzindex<ge.gzhead.comment.length?255&ge.gzhead.comment.charCodeAt(ge.gzindex++):0,W(ge,_e)}while(_e!==0);ge.gzhead.hcrc&&ge.pending>de&&(ne.adler=c(ne.adler,ge.pending_buf,ge.pending-de,de)),_e===0&&(ge.status=103)}else ge.status=103;if(ge.status===103&&(ge.gzhead.hcrc?(ge.pending+2>ge.pending_buf_size&&X(ne),ge.pending+2<=ge.pending_buf_size&&(W(ge,255&ne.adler),W(ge,ne.adler>>8&255),ne.adler=0,ge.status=j)):ge.status=j),ge.pending!==0){if(X(ne),ne.avail_out===0)return ge.last_flush=-1,h}else if(ne.avail_in===0&&J(te)<=J(Me)&&te!==d)return Y(ne,-5);if(ge.status===666&&ne.avail_in!==0)return Y(ne,-5);if(ne.avail_in!==0||ge.lookahead!==0||te!==f&&ge.status!==666){var Be=ge.strategy===2?(function(Fe,we){for(var pe;;){if(Fe.lookahead===0&&(ae(Fe),Fe.lookahead===0)){if(we===f)return B;break}if(Fe.match_length=0,pe=o._tr_tally(Fe,0,Fe.window[Fe.strstart]),Fe.lookahead--,Fe.strstart++,pe&&(F(Fe,!1),Fe.strm.avail_out===0))return B}return Fe.insert=0,we===d?(F(Fe,!0),Fe.strm.avail_out===0?H:Z):Fe.last_lit&&(F(Fe,!1),Fe.strm.avail_out===0)?B:K})(ge,te):ge.strategy===3?(function(Fe,we){for(var pe,ze,$e,ht,Je=Fe.window;;){if(Fe.lookahead<=k){if(ae(Fe),Fe.lookahead<=k&&we===f)return B;if(Fe.lookahead===0)break}if(Fe.match_length=0,Fe.lookahead>=D&&0<Fe.strstart&&(ze=Je[$e=Fe.strstart-1])===Je[++$e]&&ze===Je[++$e]&&ze===Je[++$e]){ht=Fe.strstart+k;do;while(ze===Je[++$e]&&ze===Je[++$e]&&ze===Je[++$e]&&ze===Je[++$e]&&ze===Je[++$e]&&ze===Je[++$e]&&ze===Je[++$e]&&ze===Je[++$e]&&$e<ht);Fe.match_length=k-(ht-$e),Fe.match_length>Fe.lookahead&&(Fe.match_length=Fe.lookahead)}if(Fe.match_length>=D?(pe=o._tr_tally(Fe,1,Fe.match_length-D),Fe.lookahead-=Fe.match_length,Fe.strstart+=Fe.match_length,Fe.match_length=0):(pe=o._tr_tally(Fe,0,Fe.window[Fe.strstart]),Fe.lookahead--,Fe.strstart++),pe&&(F(Fe,!1),Fe.strm.avail_out===0))return B}return Fe.insert=0,we===d?(F(Fe,!0),Fe.strm.avail_out===0?H:Z):Fe.last_lit&&(F(Fe,!1),Fe.strm.avail_out===0)?B:K})(ge,te):a[ge.level].func(ge,te);if(Be!==H&&Be!==Z||(ge.status=666),Be===B||Be===H)return ne.avail_out===0&&(ge.last_flush=-1),h;if(Be===K&&(te===1?o._tr_align(ge):te!==5&&(o._tr_stored_block(ge,0,0,!1),te===3&&(oe(ge.head),ge.lookahead===0&&(ge.strstart=0,ge.block_start=0,ge.insert=0))),X(ne),ne.avail_out===0))return ge.last_flush=-1,h}return te!==d?h:ge.wrap<=0?1:(ge.wrap===2?(W(ge,255&ne.adler),W(ge,ne.adler>>8&255),W(ge,ne.adler>>16&255),W(ge,ne.adler>>24&255),W(ge,255&ne.total_in),W(ge,ne.total_in>>8&255),W(ge,ne.total_in>>16&255),W(ge,ne.total_in>>24&255)):(Q(ge,ne.adler>>>16),Q(ge,65535&ne.adler)),X(ne),0<ge.wrap&&(ge.wrap=-ge.wrap),ge.pending!==0?h:1)},i.deflateEnd=function(ne){var te;return ne&&ne.state?(te=ne.state.status)!==I&&te!==69&&te!==73&&te!==91&&te!==103&&te!==j&&te!==666?Y(ne,p):(ne.state=null,te===j?Y(ne,-3):h):p},i.deflateSetDictionary=function(ne,te){var Me,ge,de,_e,je,Be,Fe,we,pe=te.length;if(!ne||!ne.state||(_e=(Me=ne.state).wrap)===2||_e===1&&Me.status!==I||Me.lookahead)return p;for(_e===1&&(ne.adler=l(ne.adler,te,pe,0)),Me.wrap=0,pe>=Me.w_size&&(_e===0&&(oe(Me.head),Me.strstart=0,Me.block_start=0,Me.insert=0),we=new s.Buf8(Me.w_size),s.arraySet(we,te,pe-Me.w_size,Me.w_size,0),te=we,pe=Me.w_size),je=ne.avail_in,Be=ne.next_in,Fe=ne.input,ne.avail_in=pe,ne.next_in=0,ne.input=te,ae(Me);Me.lookahead>=D;){for(ge=Me.strstart,de=Me.lookahead-(D-1);Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[ge+D-1])&Me.hash_mask,Me.prev[ge&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=ge,ge++,--de;);Me.strstart=ge,Me.lookahead=D-1,ae(Me)}return Me.strstart+=Me.lookahead,Me.block_start=Me.strstart,Me.insert=Me.lookahead,Me.lookahead=0,Me.match_length=Me.prev_length=D-1,Me.match_available=0,ne.next_in=Be,ne.input=Fe,ne.avail_in=je,Me.wrap=_e,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(a,s){var o,l,c,u,f,d,h,p,v,x,g,_,w,A,M,C,N,L,D,k,O,I,j,B,K;o=a.state,l=a.next_in,B=a.input,c=l+(a.avail_in-5),u=a.next_out,K=a.output,f=u-(s-a.avail_out),d=u+(a.avail_out-257),h=o.dmax,p=o.wsize,v=o.whave,x=o.wnext,g=o.window,_=o.hold,w=o.bits,A=o.lencode,M=o.distcode,C=(1<<o.lenbits)-1,N=(1<<o.distbits)-1;e:do{w<15&&(_+=B[l++]<<w,w+=8,_+=B[l++]<<w,w+=8),L=A[_&C];t:for(;;){if(_>>>=D=L>>>24,w-=D,(D=L>>>16&255)===0)K[u++]=65535&L;else{if(!(16&D)){if((64&D)==0){L=A[(65535&L)+(_&(1<<D)-1)];continue t}if(32&D){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}k=65535&L,(D&=15)&&(w<D&&(_+=B[l++]<<w,w+=8),k+=_&(1<<D)-1,_>>>=D,w-=D),w<15&&(_+=B[l++]<<w,w+=8,_+=B[l++]<<w,w+=8),L=M[_&N];r:for(;;){if(_>>>=D=L>>>24,w-=D,!(16&(D=L>>>16&255))){if((64&D)==0){L=M[(65535&L)+(_&(1<<D)-1)];continue r}a.msg="invalid distance code",o.mode=30;break e}if(O=65535&L,w<(D&=15)&&(_+=B[l++]<<w,(w+=8)<D&&(_+=B[l++]<<w,w+=8)),h<(O+=_&(1<<D)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=D,w-=D,(D=u-f)<O){if(v<(D=O-D)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(j=g,(I=0)===x){if(I+=p-D,D<k){for(k-=D;K[u++]=g[I++],--D;);I=u-O,j=K}}else if(x<D){if(I+=p+x-D,(D-=x)<k){for(k-=D;K[u++]=g[I++],--D;);if(I=0,x<k){for(k-=D=x;K[u++]=g[I++],--D;);I=u-O,j=K}}}else if(I+=x-D,D<k){for(k-=D;K[u++]=g[I++],--D;);I=u-O,j=K}for(;2<k;)K[u++]=j[I++],K[u++]=j[I++],K[u++]=j[I++],k-=3;k&&(K[u++]=j[I++],1<k&&(K[u++]=j[I++]))}else{for(I=u-O;K[u++]=K[I++],K[u++]=K[I++],K[u++]=K[I++],2<(k-=3););k&&(K[u++]=K[I++],1<k&&(K[u++]=K[I++]))}break}}break}}while(l<c&&u<d);l-=k=w>>3,_&=(1<<(w-=k<<3))-1,a.next_in=l,a.next_out=u,a.avail_in=l<c?c-l+5:5-(l-c),a.avail_out=u<d?d-u+257:257-(u-d),o.hold=_,o.bits=w}},{}],49:[function(t,n,i){var a=t("../utils/common"),s=t("./adler32"),o=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),u=1,f=2,d=0,h=-2,p=1,v=852,x=592;function g(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(I){var j;return I&&I.state?(j=I.state,I.total_in=I.total_out=j.total=0,I.msg="",j.wrap&&(I.adler=1&j.wrap),j.mode=p,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new a.Buf32(v),j.distcode=j.distdyn=new a.Buf32(x),j.sane=1,j.back=-1,d):h}function A(I){var j;return I&&I.state?((j=I.state).wsize=0,j.whave=0,j.wnext=0,w(I)):h}function M(I,j){var B,K;return I&&I.state?(K=I.state,j<0?(B=0,j=-j):(B=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?h:(K.window!==null&&K.wbits!==j&&(K.window=null),K.wrap=B,K.wbits=j,A(I))):h}function C(I,j){var B,K;return I?(K=new _,(I.state=K).window=null,(B=M(I,j))!==d&&(I.state=null),B):h}var N,L,D=!0;function k(I){if(D){var j;for(N=new a.Buf32(512),L=new a.Buf32(32),j=0;j<144;)I.lens[j++]=8;for(;j<256;)I.lens[j++]=9;for(;j<280;)I.lens[j++]=7;for(;j<288;)I.lens[j++]=8;for(c(u,I.lens,0,288,N,0,I.work,{bits:9}),j=0;j<32;)I.lens[j++]=5;c(f,I.lens,0,32,L,0,I.work,{bits:5}),D=!1}I.lencode=N,I.lenbits=9,I.distcode=L,I.distbits=5}function O(I,j,B,K){var H,Z=I.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new a.Buf8(Z.wsize)),K>=Z.wsize?(a.arraySet(Z.window,j,B-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(K<(H=Z.wsize-Z.wnext)&&(H=K),a.arraySet(Z.window,j,B-K,H,Z.wnext),(K-=H)?(a.arraySet(Z.window,j,B-K,K,0),Z.wnext=K,Z.whave=Z.wsize):(Z.wnext+=H,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=H))),0}i.inflateReset=A,i.inflateReset2=M,i.inflateResetKeep=w,i.inflateInit=function(I){return C(I,15)},i.inflateInit2=C,i.inflate=function(I,j){var B,K,H,Z,Y,J,oe,X,F,W,Q,re,ae,ce,ye,fe,be,Oe,xe,Qe,ne,te,Me,ge,de=0,_e=new a.Buf8(4),je=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return h;(B=I.state).mode===12&&(B.mode=13),Y=I.next_out,H=I.output,oe=I.avail_out,Z=I.next_in,K=I.input,J=I.avail_in,X=B.hold,F=B.bits,W=J,Q=oe,te=d;e:for(;;)switch(B.mode){case p:if(B.wrap===0){B.mode=13;break}for(;F<16;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}if(2&B.wrap&&X===35615){_e[B.check=0]=255&X,_e[1]=X>>>8&255,B.check=o(B.check,_e,2,0),F=X=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&X)<<8)+(X>>8))%31){I.msg="incorrect header check",B.mode=30;break}if((15&X)!=8){I.msg="unknown compression method",B.mode=30;break}if(F-=4,ne=8+(15&(X>>>=4)),B.wbits===0)B.wbits=ne;else if(ne>B.wbits){I.msg="invalid window size",B.mode=30;break}B.dmax=1<<ne,I.adler=B.check=1,B.mode=512&X?10:12,F=X=0;break;case 2:for(;F<16;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}if(B.flags=X,(255&B.flags)!=8){I.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){I.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=X>>8&1),512&B.flags&&(_e[0]=255&X,_e[1]=X>>>8&255,B.check=o(B.check,_e,2,0)),F=X=0,B.mode=3;case 3:for(;F<32;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}B.head&&(B.head.time=X),512&B.flags&&(_e[0]=255&X,_e[1]=X>>>8&255,_e[2]=X>>>16&255,_e[3]=X>>>24&255,B.check=o(B.check,_e,4,0)),F=X=0,B.mode=4;case 4:for(;F<16;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}B.head&&(B.head.xflags=255&X,B.head.os=X>>8),512&B.flags&&(_e[0]=255&X,_e[1]=X>>>8&255,B.check=o(B.check,_e,2,0)),F=X=0,B.mode=5;case 5:if(1024&B.flags){for(;F<16;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}B.length=X,B.head&&(B.head.extra_len=X),512&B.flags&&(_e[0]=255&X,_e[1]=X>>>8&255,B.check=o(B.check,_e,2,0)),F=X=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(J<(re=B.length)&&(re=J),re&&(B.head&&(ne=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),a.arraySet(B.head.extra,K,Z,re,ne)),512&B.flags&&(B.check=o(B.check,K,re,Z)),J-=re,Z+=re,B.length-=re),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(J===0)break e;for(re=0;ne=K[Z+re++],B.head&&ne&&B.length<65536&&(B.head.name+=String.fromCharCode(ne)),ne&&re<J;);if(512&B.flags&&(B.check=o(B.check,K,re,Z)),J-=re,Z+=re,ne)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(J===0)break e;for(re=0;ne=K[Z+re++],B.head&&ne&&B.length<65536&&(B.head.comment+=String.fromCharCode(ne)),ne&&re<J;);if(512&B.flags&&(B.check=o(B.check,K,re,Z)),J-=re,Z+=re,ne)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;F<16;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}if(X!==(65535&B.check)){I.msg="header crc mismatch",B.mode=30;break}F=X=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),I.adler=B.check=0,B.mode=12;break;case 10:for(;F<32;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}I.adler=B.check=g(X),F=X=0,B.mode=11;case 11:if(B.havedict===0)return I.next_out=Y,I.avail_out=oe,I.next_in=Z,I.avail_in=J,B.hold=X,B.bits=F,2;I.adler=B.check=1,B.mode=12;case 12:if(j===5||j===6)break e;case 13:if(B.last){X>>>=7&F,F-=7&F,B.mode=27;break}for(;F<3;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}switch(B.last=1&X,F-=1,3&(X>>>=1)){case 0:B.mode=14;break;case 1:if(k(B),B.mode=20,j!==6)break;X>>>=2,F-=2;break e;case 2:B.mode=17;break;case 3:I.msg="invalid block type",B.mode=30}X>>>=2,F-=2;break;case 14:for(X>>>=7&F,F-=7&F;F<32;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}if((65535&X)!=(X>>>16^65535)){I.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&X,F=X=0,B.mode=15,j===6)break e;case 15:B.mode=16;case 16:if(re=B.length){if(J<re&&(re=J),oe<re&&(re=oe),re===0)break e;a.arraySet(H,K,Z,re,Y),J-=re,Z+=re,oe-=re,Y+=re,B.length-=re;break}B.mode=12;break;case 17:for(;F<14;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}if(B.nlen=257+(31&X),X>>>=5,F-=5,B.ndist=1+(31&X),X>>>=5,F-=5,B.ncode=4+(15&X),X>>>=4,F-=4,286<B.nlen||30<B.ndist){I.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;F<3;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}B.lens[je[B.have++]]=7&X,X>>>=3,F-=3}for(;B.have<19;)B.lens[je[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,Me={bits:B.lenbits},te=c(0,B.lens,0,19,B.lencode,0,B.work,Me),B.lenbits=Me.bits,te){I.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;fe=(de=B.lencode[X&(1<<B.lenbits)-1])>>>16&255,be=65535&de,!((ye=de>>>24)<=F);){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}if(be<16)X>>>=ye,F-=ye,B.lens[B.have++]=be;else{if(be===16){for(ge=ye+2;F<ge;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}if(X>>>=ye,F-=ye,B.have===0){I.msg="invalid bit length repeat",B.mode=30;break}ne=B.lens[B.have-1],re=3+(3&X),X>>>=2,F-=2}else if(be===17){for(ge=ye+3;F<ge;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}F-=ye,ne=0,re=3+(7&(X>>>=ye)),X>>>=3,F-=3}else{for(ge=ye+7;F<ge;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}F-=ye,ne=0,re=11+(127&(X>>>=ye)),X>>>=7,F-=7}if(B.have+re>B.nlen+B.ndist){I.msg="invalid bit length repeat",B.mode=30;break}for(;re--;)B.lens[B.have++]=ne}}if(B.mode===30)break;if(B.lens[256]===0){I.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,Me={bits:B.lenbits},te=c(u,B.lens,0,B.nlen,B.lencode,0,B.work,Me),B.lenbits=Me.bits,te){I.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,Me={bits:B.distbits},te=c(f,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Me),B.distbits=Me.bits,te){I.msg="invalid distances set",B.mode=30;break}if(B.mode=20,j===6)break e;case 20:B.mode=21;case 21:if(6<=J&&258<=oe){I.next_out=Y,I.avail_out=oe,I.next_in=Z,I.avail_in=J,B.hold=X,B.bits=F,l(I,Q),Y=I.next_out,H=I.output,oe=I.avail_out,Z=I.next_in,K=I.input,J=I.avail_in,X=B.hold,F=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;fe=(de=B.lencode[X&(1<<B.lenbits)-1])>>>16&255,be=65535&de,!((ye=de>>>24)<=F);){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}if(fe&&(240&fe)==0){for(Oe=ye,xe=fe,Qe=be;fe=(de=B.lencode[Qe+((X&(1<<Oe+xe)-1)>>Oe)])>>>16&255,be=65535&de,!(Oe+(ye=de>>>24)<=F);){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}X>>>=Oe,F-=Oe,B.back+=Oe}if(X>>>=ye,F-=ye,B.back+=ye,B.length=be,fe===0){B.mode=26;break}if(32&fe){B.back=-1,B.mode=12;break}if(64&fe){I.msg="invalid literal/length code",B.mode=30;break}B.extra=15&fe,B.mode=22;case 22:if(B.extra){for(ge=B.extra;F<ge;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}B.length+=X&(1<<B.extra)-1,X>>>=B.extra,F-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;fe=(de=B.distcode[X&(1<<B.distbits)-1])>>>16&255,be=65535&de,!((ye=de>>>24)<=F);){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}if((240&fe)==0){for(Oe=ye,xe=fe,Qe=be;fe=(de=B.distcode[Qe+((X&(1<<Oe+xe)-1)>>Oe)])>>>16&255,be=65535&de,!(Oe+(ye=de>>>24)<=F);){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}X>>>=Oe,F-=Oe,B.back+=Oe}if(X>>>=ye,F-=ye,B.back+=ye,64&fe){I.msg="invalid distance code",B.mode=30;break}B.offset=be,B.extra=15&fe,B.mode=24;case 24:if(B.extra){for(ge=B.extra;F<ge;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}B.offset+=X&(1<<B.extra)-1,X>>>=B.extra,F-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){I.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(oe===0)break e;if(re=Q-oe,B.offset>re){if((re=B.offset-re)>B.whave&&B.sane){I.msg="invalid distance too far back",B.mode=30;break}ae=re>B.wnext?(re-=B.wnext,B.wsize-re):B.wnext-re,re>B.length&&(re=B.length),ce=B.window}else ce=H,ae=Y-B.offset,re=B.length;for(oe<re&&(re=oe),oe-=re,B.length-=re;H[Y++]=ce[ae++],--re;);B.length===0&&(B.mode=21);break;case 26:if(oe===0)break e;H[Y++]=B.length,oe--,B.mode=21;break;case 27:if(B.wrap){for(;F<32;){if(J===0)break e;J--,X|=K[Z++]<<F,F+=8}if(Q-=oe,I.total_out+=Q,B.total+=Q,Q&&(I.adler=B.check=B.flags?o(B.check,H,Q,Y-Q):s(B.check,H,Q,Y-Q)),Q=oe,(B.flags?X:g(X))!==B.check){I.msg="incorrect data check",B.mode=30;break}F=X=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;F<32;){if(J===0)break e;J--,X+=K[Z++]<<F,F+=8}if(X!==(4294967295&B.total)){I.msg="incorrect length check",B.mode=30;break}F=X=0}B.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return h}return I.next_out=Y,I.avail_out=oe,I.next_in=Z,I.avail_in=J,B.hold=X,B.bits=F,(B.wsize||Q!==I.avail_out&&B.mode<30&&(B.mode<27||j!==4))&&O(I,I.output,I.next_out,Q-I.avail_out)?(B.mode=31,-4):(W-=I.avail_in,Q-=I.avail_out,I.total_in+=W,I.total_out+=Q,B.total+=Q,B.wrap&&Q&&(I.adler=B.check=B.flags?o(B.check,H,Q,I.next_out-Q):s(B.check,H,Q,I.next_out-Q)),I.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(W==0&&Q===0||j===4)&&te===d&&(te=-5),te)},i.inflateEnd=function(I){if(!I||!I.state)return h;var j=I.state;return j.window&&(j.window=null),I.state=null,d},i.inflateGetHeader=function(I,j){var B;return I&&I.state?(2&(B=I.state).wrap)==0?h:((B.head=j).done=!1,d):h},i.inflateSetDictionary=function(I,j){var B,K=j.length;return I&&I.state?(B=I.state).wrap!==0&&B.mode!==11?h:B.mode===11&&s(1,j,K,0)!==B.check?-3:O(I,j,K,K)?(B.mode=31,-4):(B.havedict=1,d):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var a=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,f,d,h,p,v,x,g){var _,w,A,M,C,N,L,D,k,O=g.bits,I=0,j=0,B=0,K=0,H=0,Z=0,Y=0,J=0,oe=0,X=0,F=null,W=0,Q=new a.Buf16(16),re=new a.Buf16(16),ae=null,ce=0;for(I=0;I<=15;I++)Q[I]=0;for(j=0;j<h;j++)Q[f[d+j]]++;for(H=O,K=15;1<=K&&Q[K]===0;K--);if(K<H&&(H=K),K===0)return p[v++]=20971520,p[v++]=20971520,g.bits=1,0;for(B=1;B<K&&Q[B]===0;B++);for(H<B&&(H=B),I=J=1;I<=15;I++)if(J<<=1,(J-=Q[I])<0)return-1;if(0<J&&(u===0||K!==1))return-1;for(re[1]=0,I=1;I<15;I++)re[I+1]=re[I]+Q[I];for(j=0;j<h;j++)f[d+j]!==0&&(x[re[f[d+j]]++]=j);if(N=u===0?(F=ae=x,19):u===1?(F=s,W-=257,ae=o,ce-=257,256):(F=l,ae=c,-1),I=B,C=v,Y=j=X=0,A=-1,M=(oe=1<<(Z=H))-1,u===1&&852<oe||u===2&&592<oe)return 1;for(;;){for(L=I-Y,k=x[j]<N?(D=0,x[j]):x[j]>N?(D=ae[ce+x[j]],F[W+x[j]]):(D=96,0),_=1<<I-Y,B=w=1<<Z;p[C+(X>>Y)+(w-=_)]=L<<24|D<<16|k|0,w!==0;);for(_=1<<I-1;X&_;)_>>=1;if(_!==0?(X&=_-1,X+=_):X=0,j++,--Q[I]==0){if(I===K)break;I=f[d+x[j]]}if(H<I&&(X&M)!==A){for(Y===0&&(Y=H),C+=B,J=1<<(Z=I-Y);Z+Y<K&&!((J-=Q[Z+Y])<=0);)Z++,J<<=1;if(oe+=1<<Z,u===1&&852<oe||u===2&&592<oe)return 1;p[A=X&M]=H<<24|Z<<16|C-v|0}}return X!==0&&(p[C+X]=I-Y<<24|64<<16|0),g.bits=H,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var a=t("../utils/common"),s=0,o=1;function l(de){for(var _e=de.length;0<=--_e;)de[_e]=0}var c=0,u=29,f=256,d=f+1+u,h=30,p=19,v=2*d+1,x=15,g=16,_=7,w=256,A=16,M=17,C=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(d+2));l(O);var I=new Array(2*h);l(I);var j=new Array(512);l(j);var B=new Array(256);l(B);var K=new Array(u);l(K);var H,Z,Y,J=new Array(h);function oe(de,_e,je,Be,Fe){this.static_tree=de,this.extra_bits=_e,this.extra_base=je,this.elems=Be,this.max_length=Fe,this.has_stree=de&&de.length}function X(de,_e){this.dyn_tree=de,this.max_code=0,this.stat_desc=_e}function F(de){return de<256?j[de]:j[256+(de>>>7)]}function W(de,_e){de.pending_buf[de.pending++]=255&_e,de.pending_buf[de.pending++]=_e>>>8&255}function Q(de,_e,je){de.bi_valid>g-je?(de.bi_buf|=_e<<de.bi_valid&65535,W(de,de.bi_buf),de.bi_buf=_e>>g-de.bi_valid,de.bi_valid+=je-g):(de.bi_buf|=_e<<de.bi_valid&65535,de.bi_valid+=je)}function re(de,_e,je){Q(de,je[2*_e],je[2*_e+1])}function ae(de,_e){for(var je=0;je|=1&de,de>>>=1,je<<=1,0<--_e;);return je>>>1}function ce(de,_e,je){var Be,Fe,we=new Array(x+1),pe=0;for(Be=1;Be<=x;Be++)we[Be]=pe=pe+je[Be-1]<<1;for(Fe=0;Fe<=_e;Fe++){var ze=de[2*Fe+1];ze!==0&&(de[2*Fe]=ae(we[ze]++,ze))}}function ye(de){var _e;for(_e=0;_e<d;_e++)de.dyn_ltree[2*_e]=0;for(_e=0;_e<h;_e++)de.dyn_dtree[2*_e]=0;for(_e=0;_e<p;_e++)de.bl_tree[2*_e]=0;de.dyn_ltree[2*w]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function fe(de){8<de.bi_valid?W(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function be(de,_e,je,Be){var Fe=2*_e,we=2*je;return de[Fe]<de[we]||de[Fe]===de[we]&&Be[_e]<=Be[je]}function Oe(de,_e,je){for(var Be=de.heap[je],Fe=je<<1;Fe<=de.heap_len&&(Fe<de.heap_len&&be(_e,de.heap[Fe+1],de.heap[Fe],de.depth)&&Fe++,!be(_e,Be,de.heap[Fe],de.depth));)de.heap[je]=de.heap[Fe],je=Fe,Fe<<=1;de.heap[je]=Be}function xe(de,_e,je){var Be,Fe,we,pe,ze=0;if(de.last_lit!==0)for(;Be=de.pending_buf[de.d_buf+2*ze]<<8|de.pending_buf[de.d_buf+2*ze+1],Fe=de.pending_buf[de.l_buf+ze],ze++,Be===0?re(de,Fe,_e):(re(de,(we=B[Fe])+f+1,_e),(pe=N[we])!==0&&Q(de,Fe-=K[we],pe),re(de,we=F(--Be),je),(pe=L[we])!==0&&Q(de,Be-=J[we],pe)),ze<de.last_lit;);re(de,w,_e)}function Qe(de,_e){var je,Be,Fe,we=_e.dyn_tree,pe=_e.stat_desc.static_tree,ze=_e.stat_desc.has_stree,$e=_e.stat_desc.elems,ht=-1;for(de.heap_len=0,de.heap_max=v,je=0;je<$e;je++)we[2*je]!==0?(de.heap[++de.heap_len]=ht=je,de.depth[je]=0):we[2*je+1]=0;for(;de.heap_len<2;)we[2*(Fe=de.heap[++de.heap_len]=ht<2?++ht:0)]=1,de.depth[Fe]=0,de.opt_len--,ze&&(de.static_len-=pe[2*Fe+1]);for(_e.max_code=ht,je=de.heap_len>>1;1<=je;je--)Oe(de,we,je);for(Fe=$e;je=de.heap[1],de.heap[1]=de.heap[de.heap_len--],Oe(de,we,1),Be=de.heap[1],de.heap[--de.heap_max]=je,de.heap[--de.heap_max]=Be,we[2*Fe]=we[2*je]+we[2*Be],de.depth[Fe]=(de.depth[je]>=de.depth[Be]?de.depth[je]:de.depth[Be])+1,we[2*je+1]=we[2*Be+1]=Fe,de.heap[1]=Fe++,Oe(de,we,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],(function(Je,Ot){var bt,Nt,ir,ft,Dt,tr,Ze=Ot.dyn_tree,it=Ot.max_code,Wt=Ot.stat_desc.static_tree,Ue=Ot.stat_desc.has_stree,Ft=Ot.stat_desc.extra_bits,qt=Ot.stat_desc.extra_base,Lt=Ot.stat_desc.max_length,vt=0;for(ft=0;ft<=x;ft++)Je.bl_count[ft]=0;for(Ze[2*Je.heap[Je.heap_max]+1]=0,bt=Je.heap_max+1;bt<v;bt++)Lt<(ft=Ze[2*Ze[2*(Nt=Je.heap[bt])+1]+1]+1)&&(ft=Lt,vt++),Ze[2*Nt+1]=ft,it<Nt||(Je.bl_count[ft]++,Dt=0,qt<=Nt&&(Dt=Ft[Nt-qt]),tr=Ze[2*Nt],Je.opt_len+=tr*(ft+Dt),Ue&&(Je.static_len+=tr*(Wt[2*Nt+1]+Dt)));if(vt!==0){do{for(ft=Lt-1;Je.bl_count[ft]===0;)ft--;Je.bl_count[ft]--,Je.bl_count[ft+1]+=2,Je.bl_count[Lt]--,vt-=2}while(0<vt);for(ft=Lt;ft!==0;ft--)for(Nt=Je.bl_count[ft];Nt!==0;)it<(ir=Je.heap[--bt])||(Ze[2*ir+1]!==ft&&(Je.opt_len+=(ft-Ze[2*ir+1])*Ze[2*ir],Ze[2*ir+1]=ft),Nt--)}})(de,_e),ce(we,ht,de.bl_count)}function ne(de,_e,je){var Be,Fe,we=-1,pe=_e[1],ze=0,$e=7,ht=4;for(pe===0&&($e=138,ht=3),_e[2*(je+1)+1]=65535,Be=0;Be<=je;Be++)Fe=pe,pe=_e[2*(Be+1)+1],++ze<$e&&Fe===pe||(ze<ht?de.bl_tree[2*Fe]+=ze:Fe!==0?(Fe!==we&&de.bl_tree[2*Fe]++,de.bl_tree[2*A]++):ze<=10?de.bl_tree[2*M]++:de.bl_tree[2*C]++,we=Fe,ht=(ze=0)===pe?($e=138,3):Fe===pe?($e=6,3):($e=7,4))}function te(de,_e,je){var Be,Fe,we=-1,pe=_e[1],ze=0,$e=7,ht=4;for(pe===0&&($e=138,ht=3),Be=0;Be<=je;Be++)if(Fe=pe,pe=_e[2*(Be+1)+1],!(++ze<$e&&Fe===pe)){if(ze<ht)for(;re(de,Fe,de.bl_tree),--ze!=0;);else Fe!==0?(Fe!==we&&(re(de,Fe,de.bl_tree),ze--),re(de,A,de.bl_tree),Q(de,ze-3,2)):ze<=10?(re(de,M,de.bl_tree),Q(de,ze-3,3)):(re(de,C,de.bl_tree),Q(de,ze-11,7));we=Fe,ht=(ze=0)===pe?($e=138,3):Fe===pe?($e=6,3):($e=7,4)}}l(J);var Me=!1;function ge(de,_e,je,Be){Q(de,(c<<1)+(Be?1:0),3),(function(Fe,we,pe,ze){fe(Fe),W(Fe,pe),W(Fe,~pe),a.arraySet(Fe.pending_buf,Fe.window,we,pe,Fe.pending),Fe.pending+=pe})(de,_e,je)}i._tr_init=function(de){Me||((function(){var _e,je,Be,Fe,we,pe=new Array(x+1);for(Fe=Be=0;Fe<u-1;Fe++)for(K[Fe]=Be,_e=0;_e<1<<N[Fe];_e++)B[Be++]=Fe;for(B[Be-1]=Fe,Fe=we=0;Fe<16;Fe++)for(J[Fe]=we,_e=0;_e<1<<L[Fe];_e++)j[we++]=Fe;for(we>>=7;Fe<h;Fe++)for(J[Fe]=we<<7,_e=0;_e<1<<L[Fe]-7;_e++)j[256+we++]=Fe;for(je=0;je<=x;je++)pe[je]=0;for(_e=0;_e<=143;)O[2*_e+1]=8,_e++,pe[8]++;for(;_e<=255;)O[2*_e+1]=9,_e++,pe[9]++;for(;_e<=279;)O[2*_e+1]=7,_e++,pe[7]++;for(;_e<=287;)O[2*_e+1]=8,_e++,pe[8]++;for(ce(O,d+1,pe),_e=0;_e<h;_e++)I[2*_e+1]=5,I[2*_e]=ae(_e,5);H=new oe(O,N,f+1,d,x),Z=new oe(I,L,0,h,x),Y=new oe(new Array(0),D,0,p,_)})(),Me=!0),de.l_desc=new X(de.dyn_ltree,H),de.d_desc=new X(de.dyn_dtree,Z),de.bl_desc=new X(de.bl_tree,Y),de.bi_buf=0,de.bi_valid=0,ye(de)},i._tr_stored_block=ge,i._tr_flush_block=function(de,_e,je,Be){var Fe,we,pe=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=(function(ze){var $e,ht=4093624447;for($e=0;$e<=31;$e++,ht>>>=1)if(1&ht&&ze.dyn_ltree[2*$e]!==0)return s;if(ze.dyn_ltree[18]!==0||ze.dyn_ltree[20]!==0||ze.dyn_ltree[26]!==0)return o;for($e=32;$e<f;$e++)if(ze.dyn_ltree[2*$e]!==0)return o;return s})(de)),Qe(de,de.l_desc),Qe(de,de.d_desc),pe=(function(ze){var $e;for(ne(ze,ze.dyn_ltree,ze.l_desc.max_code),ne(ze,ze.dyn_dtree,ze.d_desc.max_code),Qe(ze,ze.bl_desc),$e=p-1;3<=$e&&ze.bl_tree[2*k[$e]+1]===0;$e--);return ze.opt_len+=3*($e+1)+5+5+4,$e})(de),Fe=de.opt_len+3+7>>>3,(we=de.static_len+3+7>>>3)<=Fe&&(Fe=we)):Fe=we=je+5,je+4<=Fe&&_e!==-1?ge(de,_e,je,Be):de.strategy===4||we===Fe?(Q(de,2+(Be?1:0),3),xe(de,O,I)):(Q(de,4+(Be?1:0),3),(function(ze,$e,ht,Je){var Ot;for(Q(ze,$e-257,5),Q(ze,ht-1,5),Q(ze,Je-4,4),Ot=0;Ot<Je;Ot++)Q(ze,ze.bl_tree[2*k[Ot]+1],3);te(ze,ze.dyn_ltree,$e-1),te(ze,ze.dyn_dtree,ht-1)})(de,de.l_desc.max_code+1,de.d_desc.max_code+1,pe+1),xe(de,de.dyn_ltree,de.dyn_dtree)),ye(de),Be&&fe(de)},i._tr_tally=function(de,_e,je){return de.pending_buf[de.d_buf+2*de.last_lit]=_e>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&_e,de.pending_buf[de.l_buf+de.last_lit]=255&je,de.last_lit++,_e===0?de.dyn_ltree[2*je]++:(de.matches++,_e--,de.dyn_ltree[2*(B[je]+f+1)]++,de.dyn_dtree[2*F(_e)]++),de.last_lit===de.lit_bufsize-1},i._tr_align=function(de){Q(de,2,3),re(de,w,O),(function(_e){_e.bi_valid===16?(W(_e,_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0):8<=_e.bi_valid&&(_e.pending_buf[_e.pending++]=255&_e.bi_buf,_e.bi_buf>>=8,_e.bi_valid-=8)})(de)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(a){(function(s,o){if(!s.setImmediate){var l,c,u,f,d=1,h={},p=!1,v=s.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(s);x=x&&x.setTimeout?x:s,l={}.toString.call(s.process)==="[object process]"?function(A){process.nextTick(function(){_(A)})}:(function(){if(s.postMessage&&!s.importScripts){var A=!0,M=s.onmessage;return s.onmessage=function(){A=!1},s.postMessage("","*"),s.onmessage=M,A}})()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function(A){s.postMessage(f+A,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(A){_(A.data)},function(A){u.port2.postMessage(A)}):v&&"onreadystatechange"in v.createElement("script")?(c=v.documentElement,function(A){var M=v.createElement("script");M.onreadystatechange=function(){_(A),M.onreadystatechange=null,c.removeChild(M),M=null},c.appendChild(M)}):function(A){setTimeout(_,0,A)},x.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var M=new Array(arguments.length-1),C=0;C<M.length;C++)M[C]=arguments[C+1];var N={callback:A,args:M};return h[d]=N,l(d),d++},x.clearImmediate=g}function g(A){delete h[A]}function _(A){if(p)setTimeout(_,0,A);else{var M=h[A];if(M){p=!0;try{(function(C){var N=C.callback,L=C.args;switch(L.length){case 0:N();break;case 1:N(L[0]);break;case 2:N(L[0],L[1]);break;case 3:N(L[0],L[1],L[2]);break;default:N.apply(o,L)}})(M)}finally{g(A),p=!1}}}}function w(A){A.source===s&&typeof A.data=="string"&&A.data.indexOf(f)===0&&_(+A.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof lC<"u"?lC:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(eO)),eO.exports}var p5e=d5e();const v5e=LS(p5e),m5e=`{
  "name": "clickup-clone-gemini",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "license": "MIT",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "preview": "vite preview"
  },
  "dependencies": {
    "@google/genai": "^1.30.0",
    "lucide-react": "^0.344.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "jszip": "^3.10.1"
  },
  "devDependencies": {
    "@types/react": "^19.2.0",
    "@types/react-dom": "^19.2.0",
    "@vitejs/plugin-react": "^4.2.1",
    "autoprefixer": "^10.4.18",
    "postcss": "^8.4.35",
    "tailwindcss": "^3.4.1",
    "typescript": "^5.2.2",
    "vite": "^5.1.4"
  }
}`,g5e=`MIT License

Copyright (c) 2024 ClickUp Clone Generator

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.`,x5e=`{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}`,y5e=`{
  "compilerOptions": {
    "composite": true,
    "skipLibCheck": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}`,b5e=`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
})`,_5e=`/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        clickup: {
          purple: '#7b68ee',
          dark: '#292d34',
          light: '#f7f8f9',
          sidebar: '#1e2126',
          hover: '#363a43',
          border: '#e9ebf0',
          text: '#292d34',
          textLight: '#87909e',
        },
        priority: {
          urgent: '#e44356',
          high: '#ffcc00',
          normal: '#6fddff',
          low: '#87909e',
        }
      },
      fontFamily: {
        sans: ['Inter', 'Segoe UI', 'Helvetica', 'Arial', 'sans-serif'],
      }
    },
  },
  plugins: [],
}`,w5e=`export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}`,S5e=`<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ClickUp Clone</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"><\/script>
  </body>
</html>`,T5e=`# ClickUp Clone with Gemini AI

This is a high-fidelity clone of the ClickUp UI featuring List and Board views, task management, and an integrated AI Brain powered by Google Gemini.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Getting Started

1.  Install dependencies:
    \`\`\`bash
    npm install
    \`\`\`

2.  Create a \`.env.local\` file in the root directory and add your Gemini API key:
    \`\`\`
    VITE_GEMINI_API_KEY=your_api_key_here
    \`\`\`
    *(Note: You may need to update \`geminiService.ts\` to use \`import.meta.env.VITE_GEMINI_API_KEY\` instead of \`process.env.API_KEY\` for Vite compatibility).*

3.  Run the development server:
    \`\`\`bash
    npm run dev
    \`\`\`

## Features

*   **Task Management**: List and Kanban Board views.
*   **AI Brain**: Integrated Gemini AI for task summarization and Q&A.
*   **Mock Backend**: LocalStorage persistence with simulated latency.
*   **Responsive Design**: Tailwind CSS styling matching ClickUp's aesthetic.
`,A5e=`@tailwind base;
@tailwind components;
@tailwind utilities;

body { font-family: 'Inter', sans-serif; }

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}`,E5e=async()=>{const r=new v5e;r.file("package.json",m5e),r.file("LICENSE",g5e),r.file("tsconfig.json",x5e),r.file("tsconfig.node.json",y5e),r.file("vite.config.ts",b5e),r.file("tailwind.config.js",_5e),r.file("postcss.config.js",w5e),r.file("index.html",S5e),r.file("README.md",T5e);const e=r.folder("src");if(!e)return;e.file("index.css",A5e),e.file("App.tsx",`import React, { useState, useEffect, useMemo } from 'react';
import Sidebar from './components/Sidebar';
import Header from './components/Header';
import TaskListView from './components/TaskListView';
import TaskBoardView from './components/TaskBoardView';
import BrainModal from './components/BrainModal';
import { ViewType, Task, Status } from './types';
import { ToastProvider, useToast } from './components/Toast';
import { api } from './services/api';
import { Target, Layout } from 'lucide-react';

const PlaceholderView: React.FC<{ icon: React.ReactNode; title: string; description: string }> = ({ icon, title, description }) => (
  <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50">
    <div className="mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple">
      {React.isValidElement(icon) ? React.cloneElement(icon as React.ReactElement<any>, { size: 64 }) : icon}
    </div>
    <h3 className="text-xl font-bold text-gray-800 mb-2">{title}</h3>
    <p className="text-gray-500 max-w-md text-center">{description}</p>
  </div>
);

const AppContent: React.FC = () => {
  const [currentView, setCurrentView] = useState<ViewType>('list');
  const [activePage, setActivePage] = useState('frontend');
  const [tasks, setTasks] = useState<Task[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isBrainOpen, setIsBrainOpen] = useState(false);
  const { showToast } = useToast();

  useEffect(() => {
    fetchTasks();
  }, []);

  const fetchTasks = async () => {
    try {
      setIsLoading(true);
      const data = await api.getTasks();
      setTasks(data);
    } catch (error) {
      showToast('Failed to load tasks from backend', 'error');
    } finally {
      setIsLoading(false);
    }
  };

  const handleStatusChange = async (taskId: string, newStatus: Status) => {
    const previousTasks = [...tasks];
    setTasks(prev => prev.map(t => 
      t.id === taskId ? { ...t, status: newStatus } : t
    ));

    try {
      await api.updateTask(taskId, { status: newStatus });
    } catch (error) {
      setTasks(previousTasks);
      showToast('Failed to update task status', 'error');
    }
  };

  const handleQuickCreate = async () => {
    const title = prompt("Enter task title:");
    if (!title) return;

    showToast('Creating task...', 'info');
    try {
      const newTask = await api.createTask({
        title,
        status: Status.Todo,
        priority: 'None' as any,
        assignees: [],
        tags: activePage === 'backend' ? ['Backend'] : [],
        description: ''
      });
      setTasks(prev => [...prev, newTask]);
      showToast('Task created successfully', 'success');
    } catch (e) {
      showToast('Failed to create task', 'error');
    }
  };

  const filteredTasks = useMemo(() => {
    switch (activePage) {
      case 'inbox':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.assignees.length === 0);
      case 'home':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.priority === 'Urgent');
      case 'backend':
        return tasks.filter(t => t.tags.includes('Backend') || t.tags.includes('API') || t.tags.includes('Auth'));
      case 'sprints':
        return tasks.filter(t => t.tags.includes('Feature') || t.tags.includes('Bug'));
      case 'frontend':
      default:
        return tasks;
    }
  }, [tasks, activePage]);

  const getPageTitle = () => {
    const map: Record<string, string> = {
      home: 'Home',
      inbox: 'Inbox',
      sprints: 'Engineering / Sprints',
      frontend: 'Engineering / Frontend App',
      backend: 'Engineering / Backend API',
      overview: 'Dashboards / Overview',
      goals: 'Dashboards / Goals'
    };
    return map[activePage] || 'Space';
  };

  return (
    <div className="flex h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900">
      <Sidebar 
        activePage={activePage} 
        onNavigate={setActivePage} 
      />
      
      <div className="flex flex-col flex-1 min-w-0 bg-white">
        <Header 
          currentView={currentView} 
          setCurrentView={setCurrentView} 
          onOpenBrain={() => setIsBrainOpen(true)}
          pageTitle={getPageTitle()}
        />

        <div className="flex-1 flex flex-col min-h-0 relative">
          {['overview'].includes(activePage) && (
             <PlaceholderView 
                icon={<Layout />} 
                title="Overview Dashboard" 
                description="Track high-level metrics and project health here. This module is currently being built." 
             />
          )}
          
          {['goals'].includes(activePage) && (
             <PlaceholderView 
                icon={<Target />} 
                title="Goals & OKRs" 
                description="Set, track, and achieve your team's goals. This feature is coming in the next release." 
             />
          )}

          {!['overview', 'goals'].includes(activePage) && (
            <>
              {currentView === 'list' && (
                <TaskListView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onStatusChange={handleStatusChange} 
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'board' && (
                <TaskBoardView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'calendar' && (
                <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500">
                    <div className="text-6xl mb-6 bg-gray-50 p-8 rounded-full"></div>
                    <h3 className="text-lg font-semibold text-gray-700 mb-2">Calendar View</h3>
                    <p className="text-sm text-gray-500">This view is currently under construction.</p>
                    <button className="mt-6 px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors">
                      Vote for this feature
                    </button>
                </div>
              )}
            </>
          )}
        </div>
      </div>

      <BrainModal 
        isOpen={isBrainOpen} 
        onClose={() => setIsBrainOpen(false)} 
        tasks={tasks}
      />
    </div>
  );
};

const App: React.FC = () => {
  return (
    <ToastProvider>
      <AppContent />
    </ToastProvider>
  );
};

export default App;`),e.file("index.tsx",`import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);`),e.file("types.ts",`export enum Priority {
  Urgent = 'Urgent',
  High = 'High',
  Normal = 'Normal',
  Low = 'Low',
  None = 'None'
}

export enum Status {
  Todo = 'To do',
  InProgress = 'In Progress',
  Review = 'Review',
  Complete = 'Complete'
}

export interface User {
  id: string;
  name: string;
  avatar: string;
  color: string;
}

export interface Task {
  id: string;
  title: string;
  status: Status;
  priority: Priority;
  assignees: User[];
  dueDate?: string;
  tags: string[];
  description?: string;
}

export type ViewType = 'list' | 'board' | 'calendar';

export const STATUS_COLORS: Record<Status, string> = {
  [Status.Todo]: '#87909e',
  [Status.InProgress]: '#3b82f6',
  [Status.Review]: '#eab308',
  [Status.Complete]: '#22c55e',
};

export const PRIORITY_COLORS: Record<Priority, string> = {
  [Priority.Urgent]: '#e44356',
  [Priority.High]: '#ffcc00',
  [Priority.Normal]: '#6fddff',
  [Priority.Low]: '#87909e',
  [Priority.None]: '#d1d5db',
};`);const t=e.folder("services");t&&(t.file("api.ts",`import { Task, Status, Priority } from '../types';
import { MOCK_TASKS } from '../constants';

const STORAGE_KEY = 'clickup_clone_db_v1';
const DELAY_MS = 600;

const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));

const initDB = () => {
  if (typeof window === 'undefined') return;
  const existing = localStorage.getItem(STORAGE_KEY);
  if (!existing) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(MOCK_TASKS));
  }
};

initDB();

export const api = {
  getTasks: async (): Promise<Task[]> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    return data ? JSON.parse(data) : [];
  },

  updateTask: async (taskId: string, updates: Partial<Task>): Promise<Task> => {
    await delay(DELAY_MS / 2);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const index = tasks.findIndex(t => t.id === taskId);
    if (index === -1) throw new Error('Task not found');

    const updatedTask = { ...tasks[index], ...updates };
    tasks[index] = updatedTask;
    
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return updatedTask;
  },

  createTask: async (task: Omit<Task, 'id'>): Promise<Task> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const newId = \`TASK-\${Math.floor(1000 + Math.random() * 9000)}\`;
    
    const newTask: Task = {
      ...task,
      id: newId,
    };
    
    tasks.push(newTask);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return newTask;
  },

  deleteTask: async (taskId: string): Promise<void> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    let tasks: Task[] = data ? JSON.parse(data) : [];
    
    tasks = tasks.filter(t => t.id !== taskId);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
  }
};`),t.file("geminiService.ts",`import { GoogleGenAI, GenerateContentResponse } from "@google/genai";
import { Task } from "../types";

// In local dev, utilize import.meta.env for Vite
const apiKey = process.env.API_KEY || ''; 

const ai = apiKey ? new GoogleGenAI({ apiKey }) : null;

export const generateTaskSummary = async (tasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing. Please check your configuration.";

  const taskListString = tasks.map(t => 
    \`- \${t.title} (Status: \${t.status}, Priority: \${t.priority})\`
  ).join('\\n');

  const prompt = \`
    You are an AI project manager assistant called "ClickUp Brain". 
    Analyze the following tasks and provide a concise, professional summary of the current workload.
    Identify potential bottlenecks based on priority and status.
    Keep it under 100 words.

    Tasks:
    \${taskListString}
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "Could not generate summary.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "Sorry, I encountered an error while analyzing your tasks.";
  }
};

export const chatWithBrain = async (message: string, contextTasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing.";

  const context = JSON.stringify(contextTasks.map(t => ({ title: t.title, status: t.status })));
  
  const prompt = \`
    Context (Current Tasks): \${context}
    
    User Question: \${message}
    
    Answer as "ClickUp Brain", a helpful productivity assistant. Be concise and helpful.
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "No response generated.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "I'm having trouble connecting to the brain right now.";
  }
};`)),e.file("constants.ts",`import { Task, Status, Priority } from './types';

export const MOCK_TASKS: Task[] = [
  {
    id: 'TASK-1023',
    title: 'Implement authentication flow with JWT',
    status: Status.InProgress,
    priority: Priority.High,
    assignees: [
        { id: '1', name: 'Alex', avatar: 'A', color: '#ef4444' },
        { id: '2', name: 'Sam', avatar: 'S', color: '#3b82f6' }
    ],
    dueDate: '2023-11-15',
    tags: ['Backend', 'Auth'],
    description: 'Need to secure the API endpoints.'
  }
];`);const n=e.folder("components");n&&(n.file("Toast.tsx",`import React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';
import { CheckCircle, Info, AlertCircle, X } from 'lucide-react';

interface ToastMessage {
  id: number;
  message: string;
  type: 'info' | 'success' | 'error';
}

interface ToastContextType {
  showToast: (message: string, type?: 'info' | 'success' | 'error') => void;
}

const ToastContext = createContext<ToastContextType | undefined>(undefined);

export const useToast = () => {
  const context = useContext(ToastContext);
  if (!context) {
    return { showToast: (msg: string) => console.log('Toast:', msg) };
  }
  return context;
};

const ToastItem: React.FC<ToastMessage & { onClose: (id: number) => void }> = ({ id, message, type, onClose }) => {
  const bgColors = {
    info: 'bg-gray-900 text-white border-gray-800',
    success: 'bg-emerald-600 text-white border-emerald-700',
    error: 'bg-red-600 text-white border-red-700'
  };
  
  const icons = {
    info: <Info size={18} />,
    success: <CheckCircle size={18} />,
    error: <AlertCircle size={18} />
  };

  return (
    <div className={\`\${bgColors[type]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border\`}>
      <div className="flex-shrink-0">{icons[type]}</div>
      <span className="text-sm font-medium flex-1">{message}</span>
      <button onClick={() => onClose(id)} className="opacity-70 hover:opacity-100 transition-opacity">
        <X size={16} />
      </button>
    </div>
  );
};

export const ToastProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [toasts, setToasts] = useState<ToastMessage[]>([]);
  
  const showToast = useCallback((message: string, type: 'info' | 'success' | 'error' = 'info') => {
    const id = Date.now();
    setToasts(prev => [...prev, { id, message, type }]);
    setTimeout(() => {
      setToasts(prev => prev.filter(t => t.id !== id));
    }, 3000);
  }, []);

  const removeToast = (id: number) => {
    setToasts(prev => prev.filter(t => t.id !== id));
  };

  return (
    <ToastContext.Provider value={{ showToast }}>
      {children}
      <div className="fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto">
        {toasts.map(t => (
          <ToastItem key={t.id} {...t} onClose={removeToast} />
        ))}
      </div>
    </ToastContext.Provider>
  );
};`),n.file("Sidebar.tsx",`import React, { useState, useRef, useEffect } from 'react';
import { 
  Search, Home, Layout, Folder, Hash, MoreHorizontal, 
  ChevronRight, ChevronDown, Plus, Settings, Users, Inbox, Target,
  Download, LogOut, CreditCard, Code
} from 'lucide-react';
import { useToast } from './Toast';
import { api } from '../services/api';
import { downloadProjectSource } from '../utils/projectDownloader';

interface SidebarProps {
  activePage: string;
  onNavigate: (page: string) => void;
}

const Sidebar: React.FC<SidebarProps> = ({ activePage, onNavigate }) => {
  const [spacesExpanded, setSpacesExpanded] = useState(true);
  const [showWorkspaceMenu, setShowWorkspaceMenu] = useState(false);
  const menuRef = useRef<HTMLDivElement>(null);
  const { showToast } = useToast();

  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {
        setShowWorkspaceMenu(false);
      }
    };

    document.addEventListener('mousedown', handleClickOutside);
    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, []);

  const handleNavClick = (pageId: string, message: string) => {
    onNavigate(pageId);
  };

  const handleExport = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Preparing JSON export...', 'info');
    
    try {
      const tasks = await api.getTasks();
      const exportData = {
        exportedAt: new Date().toISOString(),
        appName: "ClickUp Clone",
        version: "1.0.0",
        tasks: tasks
      };
      
      const dataStr = JSON.stringify(exportData, null, 2);
      const blob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = \`clickup_workspace_export_\${new Date().toISOString().slice(0, 10)}.json\`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showToast('Workspace data exported successfully!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to export data', 'error');
    }
  };

  const handleDownloadSource = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Generating project ZIP...', 'info');
    try {
      await downloadProjectSource();
      showToast('Source code downloaded!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to generate ZIP', 'error');
    }
  };

  const getItemClass = (id: string) => {
    return activePage === id 
      ? 'bg-clickup-hover text-white font-medium' 
      : 'hover:bg-clickup-hover hover:text-white';
  };

  const getIconClass = (id: string, defaultColor: string = '') => {
    return activePage === id ? 'text-clickup-purple' : (defaultColor || '');
  };

  return (
    <div className="w-64 bg-clickup-sidebar text-gray-400 flex flex-col h-full border-r border-gray-800 flex-shrink-0 select-none relative">
      
      <div className="relative" ref={menuRef}>
        <div 
          className={\`p-3 border-b border-gray-800 flex items-center justify-between cursor-pointer transition-colors group \${showWorkspaceMenu ? 'bg-clickup-hover' : 'hover:bg-clickup-hover'}\`}
          onClick={() => setShowWorkspaceMenu(!showWorkspaceMenu)}
        >
          <div className="flex items-center space-x-2">
            <div className="w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-md flex items-center justify-center text-white font-bold text-sm shadow-md group-hover:shadow-lg transition-shadow">
              G
            </div>
            <div className="flex flex-col">
              <span className="text-gray-200 text-sm font-semibold leading-tight group-hover:text-white transition-colors">Gemini Corp</span>
              <span className="text-[10px] text-gray-500 group-hover:text-gray-400">Free Plan</span>
            </div>
          </div>
          <Settings size={14} className={\`text-gray-500 group-hover:text-gray-300 transition-all duration-300 \${showWorkspaceMenu ? 'rotate-90 text-white' : ''}\`} />
        </div>

        {showWorkspaceMenu && (
          <div className="absolute top-full left-2 right-2 mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden">
            <div className="px-3 py-2 border-b border-gray-700/50 mb-1">
               <p className="text-xs font-semibold text-white">Gemini Corp</p>
               <p className="text-[10px] text-gray-500">owner@example.com</p>
            </div>
            
            <div className="px-1 space-y-0.5">
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Settings size={14} />
                    <span>Settings</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Users size={14} />
                    <span>Members</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <CreditCard size={14} />
                    <span>Billing</span>
                </button>
            </div>

            <div className="h-[1px] bg-gray-700/50 mx-2 my-1.5"></div>

            <div className="px-1 space-y-0.5">
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleExport}
                >
                    <Download size={14} />
                    <span>Export Data (JSON)</span>
                </button>
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleDownloadSource}
                >
                    <Code size={14} />
                    <span>Download Source</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left">
                    <LogOut size={14} />
                    <span>Logout</span>
                </button>
            </div>
          </div>
        )}
      </div>

      <div className="px-3 py-2 space-y-0.5">
        <div 
          className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm group transition-colors"
          onClick={() => showToast('Global Search activated', 'info')}
        >
          <Search size={16} className="group-hover:text-white transition-colors" />
          <span className="group-hover:text-white transition-colors">Search</span>
          <span className="ml-auto text-[10px] bg-gray-800 px-1.5 py-0.5 rounded border border-gray-700 text-gray-500 group-hover:border-gray-600">Cmd K</span>
        </div>
        
        <div 
          className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('home')}\`}
          onClick={() => handleNavClick('home', 'Navigated to Home')}
        >
          <Home size={16} className={getIconClass('home')} />
          <span>Home</span>
        </div>
        
        <div 
           className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('inbox')}\`}
           onClick={() => handleNavClick('inbox', 'Navigated to Inbox')}
        >
          <Inbox size={16} className={activePage === 'inbox' ? 'text-blue-400' : ''} />
          <span>Inbox</span>
        </div>
      </div>

      <div className="h-[1px] bg-gray-800 mx-3 my-1 opacity-50"></div>

      <div className="flex-1 overflow-y-auto px-3 py-2 custom-scrollbar">
        <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6">
            <span onClick={() => setSpacesExpanded(!spacesExpanded)}>Spaces</span>
            <div className="flex items-center space-x-1">
               <Plus size={14} className="opacity-0 group-hover:opacity-100 hover:text-white transition-opacity" onClick={(e) => { e.stopPropagation(); showToast('Create new Space', 'info'); }} />
               <div onClick={() => setSpacesExpanded(!spacesExpanded)}>
                {spacesExpanded ? <ChevronDown size={14} /> : <ChevronRight size={14} />}
               </div>
            </div>
          </div>

          {spacesExpanded && (
            <div className="space-y-0.5 animate-in slide-in-from-top-2 duration-200">
              <div className="group">
                <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors">
                  <div className="w-1.5 h-1.5 rounded-full bg-blue-500"></div>
                  <span className="flex-1 truncate font-medium">Engineering</span>
                  <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
                </div>
                <div className="ml-3 pl-3 border-l border-gray-800 mt-0.5 space-y-0.5">
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('sprints')}\`}
                    onClick={() => handleNavClick('sprints', 'Viewing Sprints')}
                  >
                    <Folder size={14} className={activePage === 'sprints' ? 'text-blue-400' : 'text-gray-500'} />
                    <span>Sprints</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('frontend')}\`}
                    onClick={() => handleNavClick('frontend', 'Viewing Frontend App')}
                  >
                    <Hash size={14} className={getIconClass('frontend', 'text-gray-500')} />
                    <span className="truncate">Frontend App</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('backend')}\`}
                    onClick={() => handleNavClick('backend', 'Viewing Backend API')}
                  >
                    <Hash size={14} className={getIconClass('backend', 'text-gray-500')} />
                    <span className="truncate">Backend API</span>
                  </div>
                </div>
              </div>

              <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-green-500"></div>
                <span className="flex-1 truncate font-medium">Design</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>

               <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-orange-500"></div>
                <span className="flex-1 truncate font-medium">Marketing</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>
            </div>
          )}
        </div>

         <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group">
             <span>Dashboards</span>
             <Plus size={14} className="cursor-pointer hover:text-white opacity-0 group-hover:opacity-100 transition-opacity" onClick={() => showToast('New Dashboard', 'info')} />
          </div>
          <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('overview')}\`}
            onClick={() => handleNavClick('overview', 'Dashboards Overview')}
          >
             <Layout size={14} />
             <span>Overview</span>
          </div>
           <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('goals')}\`}
            onClick={() => handleNavClick('goals', 'Goals Dashboard')}
          >
             <Target size={14} />
             <span>Goals</span>
          </div>
        </div>
      </div>

      <div className="p-3 border-t border-gray-800">
         <div 
            className="bg-gradient-to-r from-clickup-purple to-indigo-600 rounded-md p-2 text-white flex items-center justify-center space-x-2 cursor-pointer hover:brightness-110 transition-all active:scale-95"
            onClick={() => showToast('Invite dialog opened', 'info')}
         >
            <Users size={14} />
            <span className="text-sm font-medium">Invite Team</span>
         </div>
      </div>
    </div>
  );
};

export default Sidebar;`),n.file("Header.tsx",`import React from 'react';
import { 
  List, Kanban, Calendar, ChevronDown, Filter, 
  ArrowDownUp, BrainCircuit, Search, Share2
} from 'lucide-react';
import { ViewType } from '../types';
import { useToast } from './Toast';

interface HeaderProps {
  currentView: ViewType;
  setCurrentView: (view: ViewType) => void;
  onOpenBrain: () => void;
  pageTitle: string;
}

const Header: React.FC<HeaderProps> = ({ currentView, setCurrentView, onOpenBrain, pageTitle }) => {
  const { showToast } = useToast();

  return (
    <header className="h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none">
      <div className="flex items-center h-full">
        <div className="flex items-center mr-4 pr-4 border-r border-gray-200 h-6">
          <span 
            className="text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors"
            onClick={() => showToast('Breadcrumb navigation', 'info')}
          >
            {pageTitle} <ChevronDown size={12} className="ml-1 text-gray-400" />
          </span>
        </div>

        <div className="flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg">
          <button 
            onClick={() => setCurrentView('list')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'list' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <List size={14} />
            <span>List</span>
          </button>
          <button 
            onClick={() => setCurrentView('board')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'board' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Kanban size={14} />
            <span>Board</span>
          </button>
           <button 
            onClick={() => setCurrentView('calendar')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'calendar' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Calendar size={14} />
            <span>Calendar</span>
          </button>
          
          <button 
            className="flex items-center space-x-1 px-2 py-1 text-xs text-gray-400 hover:text-gray-700 hover:bg-gray-200/50 rounded transition-colors ml-1"
            onClick={() => showToast('Add View menu', 'info')}
          >
            <ChevronDown size={12} />
            <span>View</span>
          </button>
        </div>
      </div>

      <div className="flex items-center space-x-3">
        <button 
          onClick={onOpenBrain}
          className="group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95"
        >
          <BrainCircuit size={16} className="text-clickup-purple group-hover:rotate-12 transition-transform" />
          <span className="text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent">
            Ask AI
          </span>
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>
        
        <div className="flex items-center space-x-1 text-gray-500">
             <div className="relative group">
                <div 
                    className="flex -space-x-2 cursor-pointer hover:scale-105 transition-transform" 
                    onClick={() => showToast('Manage Assignees', 'info')}
                >
                    <div className="w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">A</div>
                    <div className="w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">S</div>
                    <div className="w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold">+</div>
                </div>
             </div>
        </div>
        
        <button 
            className="p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors"
            onClick={() => showToast('Share view options', 'info')}
        >
            <Share2 size={16} />
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>

        <div className="flex items-center space-x-1 text-gray-500">
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Filter menu', 'info')}
            >
                <Filter size={14} />
                <span className="hidden md:inline">Filter</span>
            </button>
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Sort menu', 'info')}
            >
                <ArrowDownUp size={14} />
                 <span className="hidden md:inline">Sort</span>
            </button>
        </div>

        <div className="flex items-center border border-gray-200 rounded-md px-2 py-1.5 bg-gray-50 focus-within:bg-white focus-within:border-clickup-purple focus-within:ring-1 focus-within:ring-purple-100 transition-all w-40 md:w-56">
             <Search size={14} className="text-gray-400" />
             <input 
                type="text" 
                placeholder="Search tasks..." 
                className="bg-transparent border-none outline-none text-xs ml-2 w-full text-gray-700 placeholder-gray-400"
                onKeyDown={(e) => e.key === 'Enter' && showToast('Searching tasks...', 'info')}
             />
        </div>
      </div>
    </header>
  );
};

export default Header;`));const i=await r.generateAsync({type:"blob"}),a=URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download="clickup-clone-source.zip",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)},tO=["#EF4444","#F97316","#F59E0B","#10B981","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#EC4899","#6B7280"],M5e=({isOpen:r,onClose:e,onCreate:t})=>{const[n,i]=me.useState(""),[a,s]=me.useState(tO[5]);if(!r)return null;const o=l=>{l.preventDefault(),n.trim()&&(t(n,a),i(""),s(tO[5]),e())};return y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Create Private Space"}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:y.jsx(Wf,{size:20})})]}),y.jsxs("form",{onSubmit:o,className:"p-6 space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Space Name"}),y.jsx("input",{type:"text",value:n,onChange:l=>i(l.target.value),placeholder:"e.g., Personal Tasks, Project X",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",autoFocus:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Space Color"}),y.jsx("div",{className:"flex flex-wrap gap-3",children:tO.map(l=>y.jsx("button",{type:"button",onClick:()=>s(l),className:`w-8 h-8 rounded-full flex items-center justify-center transition-transform hover:scale-110 ${a===l?"ring-2 ring-offset-2 ring-gray-400 scale-110":""}`,style:{backgroundColor:l},children:a===l&&y.jsx(U0,{size:14,className:"text-white"})},l))})]}),y.jsxs("div",{className:"flex justify-end pt-2",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg mr-2 transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:!n.trim(),className:`px-6 py-2 text-sm font-medium text-white rounded-lg transition-all ${n.trim()?"bg-blue-600 hover:bg-blue-700 shadow-md hover:shadow-lg":"bg-gray-300 cursor-not-allowed"}`,children:"Create Space"})]})]})]})})},fle=me.createContext(void 0),C5e=({children:r})=>{const[e,t]=me.useState(()=>localStorage.getItem("activePage")||"home"),[n,i]=me.useState("list");me.useEffect(()=>{localStorage.setItem("activePage",e)},[e]);const a=["space","ocean"].includes(e),s=()=>{var l,c,u,f,d,h,p,v,x,g,_,w,A,M,C,N,L,D;const o={home:"Home",inbox:"Inbox",sprints:"Engineering / Sprints",frontend:"Engineering / Frontend App",backend:"Engineering / Backend API",overview:"Dashboards / Overview",goals:"Dashboards / Goals",space:"Space",ocean:"Deep Ocean","supply-chain/procurement":"Supply Chain / Procurement","supply-chain/warehouse":"Supply Chain / Warehouse","supply-chain/shipping":"Supply Chain / Shipping","supply-chain/planning":"Supply Chain / Planning","supply-chain/fleet":"Supply Chain / Fleet",operations:"Departments / Operations",business:"Departments / Business",support:"Departments / Business Support",reminders:"Dashboards / Reminders",tasks:"Dashboards / Tasks",vault:"Dashboards / Vault",teams:"Dashboards / Teams",discussion:"Discussion"};if(o[e])return o[e];if(e.startsWith("supply-chain/")){const k=e.split("/");return k.length>=3?`Supply Chain / ${((l=k[1])==null?void 0:l.charAt(0).toUpperCase())+((c=k[1])==null?void 0:c.slice(1))} / ${((u=k[2])==null?void 0:u.charAt(0).toUpperCase())+((f=k[2])==null?void 0:f.slice(1))}`:`Supply Chain / ${((d=k[1])==null?void 0:d.charAt(0).toUpperCase())+((h=k[1])==null?void 0:h.slice(1))}`}if(e.startsWith("operations/")){const k=e.split("/");return`Operations / ${((p=k[1])==null?void 0:p.charAt(0).toUpperCase())+((v=k[1])==null?void 0:v.slice(1))} / ${((x=k[2])==null?void 0:x.charAt(0).toUpperCase())+((g=k[2])==null?void 0:g.slice(1))}`}if(e.startsWith("business/")){const k=e.split("/");return`Business / ${((_=k[1])==null?void 0:_.charAt(0).toUpperCase())+((w=k[1])==null?void 0:w.slice(1))} / ${((A=k[2])==null?void 0:A.charAt(0).toUpperCase())+((M=k[2])==null?void 0:M.slice(1))}`}if(e.startsWith("support/")){const k=e.split("/");return`Business Support / ${((C=k[1])==null?void 0:C.charAt(0).toUpperCase())+((N=k[1])==null?void 0:N.slice(1))} / ${((L=k[2])==null?void 0:L.charAt(0).toUpperCase())+((D=k[2])==null?void 0:D.slice(1))}`}return"Space"};return y.jsx(fle.Provider,{value:{activePage:e,setActivePage:t,currentView:n,setCurrentView:i,isImmersive:a,getPageTitle:s},children:r})},Ck=()=>{const r=me.useContext(fle);if(r===void 0)throw new Error("useNavigation must be used within a NavigationProvider");return r},N5e=({onLogout:r,user:e})=>{var ye;const{activePage:t,setActivePage:n,isImmersive:i}=Ck(),[a,s]=me.useState([]),[o,l]=me.useState(()=>{const fe=localStorage.getItem("sidebar_spacesExpanded");return fe!==null?JSON.parse(fe):!0}),[c,u]=me.useState(()=>{const fe=localStorage.getItem("sidebar_departmentsExpanded");return fe!==null?JSON.parse(fe):!1}),[f,d]=me.useState(()=>{const fe=localStorage.getItem("sidebar_supplyChainExpanded");return fe!==null?JSON.parse(fe):!1}),[h,p]=me.useState(()=>{const fe=localStorage.getItem("sidebar_expandedItems");return fe!==null?JSON.parse(fe):{}}),[v,x]=me.useState(()=>{const fe=localStorage.getItem("sidebar_smartToolsExpanded");return fe!==null?JSON.parse(fe):!1}),[g,_]=me.useState(()=>{const fe=localStorage.getItem("sidebar_marketplaceExpanded");return fe!==null?JSON.parse(fe):!0}),[w,A]=me.useState(!1),[M,C]=me.useState(!1),[N,L]=me.useState(!0),[D,k]=me.useState(!1),O=me.useRef(null),{showToast:I}=Vh();me.useEffect(()=>{j()},[]),me.useEffect(()=>{localStorage.setItem("sidebar_spacesExpanded",JSON.stringify(o))},[o]),me.useEffect(()=>{localStorage.setItem("sidebar_departmentsExpanded",JSON.stringify(c))},[c]),me.useEffect(()=>{localStorage.setItem("sidebar_supplyChainExpanded",JSON.stringify(f))},[f]),me.useEffect(()=>{localStorage.setItem("sidebar_expandedItems",JSON.stringify(h))},[h]),me.useEffect(()=>{localStorage.setItem("sidebar_smartToolsExpanded",JSON.stringify(v))},[v]),me.useEffect(()=>{localStorage.setItem("sidebar_marketplaceExpanded",JSON.stringify(g))},[g]);const j=async()=>{try{const fe=await Z5.getSpaces();s(fe)}catch(fe){console.error("Failed to load spaces",fe)}finally{L(!1)}},B=fe=>{fe.stopPropagation(),k(!0)},K=async(fe,be)=>{try{const Oe=await Z5.createSpace(fe,be);s(xe=>[...xe,Oe]),I("Private Space created!","success"),n(Oe.id)}catch{I("Failed to create private space","error")}},H=async(fe,be)=>{if(fe.stopPropagation(),confirm("Are you sure you want to delete this private space and all its tasks?"))try{await Z5.deleteSpace(be),s(Oe=>Oe.filter(xe=>xe.id!==be)),t===be&&n("home"),I("Private Space deleted","success")}catch{I("Failed to delete private space","error")}},Z=async(fe,be,Oe)=>{fe.stopPropagation();const xe=prompt("Rename Private Space:",Oe);if(xe&&xe!==Oe)try{await Z5.updateSpace(be,{name:xe}),s(Qe=>Qe.map(ne=>ne.id===be?{...ne,name:xe}:ne)),I("Private Space renamed","success")}catch{I("Failed to rename private space","error")}};me.useEffect(()=>{const fe=be=>{O.current&&!O.current.contains(be.target)&&A(!1)};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]);const Y=fe=>{p(be=>({...be,[fe]:!be[fe]}))},J=(fe,be)=>{n(fe)},oe=async fe=>{fe.stopPropagation(),A(!1),I("Preparing JSON export...","info");try{const be=await p2.getTasks(),Oe={exportedAt:new Date().toISOString(),appName:"ClickUp Clone",version:"2.0.0",tasks:be,spaces:a},xe=JSON.stringify(Oe,null,2),Qe=new Blob([xe],{type:"application/json"}),ne=URL.createObjectURL(Qe),te=document.createElement("a");te.href=ne,te.download=`clickup_workspace_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(ne),I("Workspace data exported successfully!","success")}catch(be){console.error(be),I("Failed to export data","error")}},X=async fe=>{fe.stopPropagation(),A(!1),I("Generating project ZIP...","info");try{await E5e(),I("Source code downloaded!","success")}catch(be){console.error(be),I("Failed to generate ZIP","error")}},F=fe=>t===fe?"bg-clickup-hover text-white font-medium":"hover:bg-clickup-hover hover:text-white",W=(fe,be="")=>t===fe?"text-clickup-purple":be||"",Q=["supply-chain","operations","business","support","supply-chain/procurement","supply-chain/warehouse","supply-chain/shipping","supply-chain/planning","supply-chain/fleet","supply-chain/vendors","operations/maintenance","operations/production","operations/quality","business/sales","business/finance","support/it","support/hr","support/marketing"],re=fe=>{fe.stopPropagation();const be=!c;u(be),d(be),p(Oe=>{const xe={...Oe};return Q.forEach(Qe=>{xe[Qe]=be}),xe})},ae=fe=>{fe.stopPropagation(),l(!o)},ce=fe=>{fe.stopPropagation(),x(!v)};return y.jsxs("div",{className:`${M?"w-16":"w-64"} bg-clickup-sidebar text-gray-400 flex flex-col h-[calc(100vh-3rem)] flex-shrink-0 select-none relative transition-all duration-300 z-50`,children:[y.jsx("button",{onClick:()=>C(!M),className:"absolute -right-3 top-4 bg-clickup-sidebar border border-gray-700 rounded-full p-0.5 text-gray-400 hover:text-white hover:bg-gray-700 z-50 shadow-md transition-colors",children:M?y.jsx(cC,{size:12}):y.jsx(nwe,{size:12})}),y.jsxs("div",{className:"relative",ref:O,children:[y.jsxs("div",{className:`p-3 flex items-center ${M?"justify-center":"justify-between"} cursor-pointer transition-colors group ${w?"bg-clickup-hover":"hover:bg-clickup-hover"}`,onClick:()=>A(!w),children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-red-500 rounded flex items-center justify-center text-white font-bold text-xs shadow-sm group-hover:shadow transition-shadow shrink-0",children:((ye=e==null?void 0:e.name)==null?void 0:ye.charAt(0).toUpperCase())||"U"}),!M&&y.jsx("div",{className:"flex flex-col min-w-0",children:y.jsx("span",{className:"text-gray-200 text-sm font-medium leading-tight group-hover:text-white transition-colors truncate",children:(e==null?void 0:e.name)||"User"})})]}),!M&&y.jsx(tl,{size:14,className:`text-gray-500 group-hover:text-gray-300 transition-all duration-200 ${w?"rotate-180":""}`})]}),w&&y.jsxs("div",{className:`absolute top-full mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden ${M?"left-14 w-56":"left-2 right-2"}`,children:[y.jsxs("div",{className:"px-3 py-2 border-b border-gray-700/50 mb-1",children:[y.jsx("p",{className:"text-xs font-semibold text-white",children:(e==null?void 0:e.name)||"User"}),y.jsx("p",{className:"text-[10px] text-gray-500",children:(e==null?void 0:e.email)||"user@example.com"})]}),y.jsxs("div",{className:"px-1 space-y-0.5",children:[y.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[y.jsx(h3,{size:14}),y.jsx("span",{children:"Settings"})]}),y.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[y.jsx(ru,{size:14}),y.jsx("span",{children:"Members"})]}),y.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[y.jsx(M2,{size:14}),y.jsx("span",{children:"Billing"})]})]}),y.jsx("div",{className:"h-[1px] bg-gray-700/50 mx-2 my-1.5"}),y.jsxs("div",{className:"px-1 space-y-0.5",children:[y.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",onClick:oe,children:[y.jsx(Tk,{size:14}),y.jsx("span",{children:"Export Data (JSON)"})]}),y.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",onClick:X,children:[y.jsx(bwe,{size:14}),y.jsx("span",{children:"Download Source"})]}),y.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left",onClick:()=>{r&&r()},children:[y.jsx(tle,{size:14}),y.jsx("span",{children:"Logout"})]})]})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[y.jsxs("div",{className:"px-2 py-1 space-y-0.5",children:[y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("home")} ${M?"justify-center":""}`,onClick:()=>J("home"),title:M?"Home":"",children:[y.jsx(sSe,{size:16,className:`${W("home")} shrink-0`}),!M&&y.jsx("span",{children:"Home"})]}),y.jsxs("div",{className:"mt-1 mb-2",children:[y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("inbox")} ${M?"justify-center":""}`,onClick:()=>J("inbox"),title:M?"Inbox":"",children:[y.jsx(Ek,{size:16,className:`${t==="inbox"?"text-blue-400":""} shrink-0`}),!M&&y.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[y.jsx("span",{children:"Inbox"}),y.jsx("span",{className:"bg-clickup-dark text-xs px-1.5 py-0.5 rounded text-gray-400 group-hover:text-white transition-colors",children:"0"})]})]}),y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("discussion")} ${M?"justify-center":""}`,onClick:()=>J("discussion"),title:M?"Discussion":"",children:[y.jsx(kE,{size:16,className:"shrink-0"}),!M&&y.jsx("span",{children:"Discussion"})]}),y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("overview")} ${M?"justify-center":""}`,onClick:()=>J("overview"),title:M?"Overview":"",children:[y.jsx(Yx,{size:16,className:"shrink-0"}),!M&&y.jsx("span",{children:"Overview"})]}),y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("goals")} ${M?"justify-center":""}`,onClick:()=>J("goals"),title:M?"Goals":"",children:[y.jsx(ole,{size:16,className:"shrink-0"}),!M&&y.jsx("span",{children:"Goals"})]}),y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("reminders")} ${M?"justify-center":""}`,onClick:()=>J("reminders"),title:M?"Reminders":"",children:[y.jsx(L_e,{size:16,className:"shrink-0"}),!M&&y.jsx("span",{children:"Reminders"})]}),y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("tasks")} ${M?"justify-center":""}`,onClick:()=>J("tasks"),title:M?"Tasks":"",children:[y.jsx(Kw,{size:16,className:"shrink-0"}),!M&&y.jsx("span",{children:"Tasks"})]}),y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("vault")} ${M?"justify-center":""}`,onClick:()=>J("vault"),title:M?"Vault":"",children:[y.jsx(gA,{size:16,className:"shrink-0"}),!M&&y.jsx("span",{children:"Vault"})]}),y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("teams")} ${M?"justify-center":""}`,onClick:()=>J("teams"),title:M?"Teams":"",children:[y.jsx(ru,{size:16,className:"shrink-0"}),!M&&y.jsx("span",{children:"Teams"})]})]}),y.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors group ${["departments","supply-chain","operations","business","support"].some(fe=>t.startsWith(fe))?"bg-clickup-hover text-white":"hover:bg-clickup-hover hover:text-white"} ${M?"justify-center":""}`,onClick:()=>!M&&u(!c),title:M?"Departments":"",children:[y.jsx(z_e,{size:16,className:"shrink-0"}),!M&&y.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[y.jsx("span",{children:"Departments"}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("div",{onClick:re,className:"p-0.5 hover:bg-gray-700 rounded transition-colors text-gray-500 hover:text-white",title:c?"Collapse All":"Expand All",children:c?y.jsx(cC,{size:12}):y.jsx($6,{size:12})}),c?y.jsx(tl,{size:14}):y.jsx(zu,{size:14})]})]})]}),!M&&c&&y.jsxs("div",{className:"ml-4 mt-1 space-y-0.5 border-l border-gray-700 pl-2",children:[y.jsxs("div",{children:[y.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${t.startsWith("supply-chain")?"text-blue-400":"text-gray-400 hover:text-gray-200"}`,onClick:()=>d(!f),children:[y.jsx(HD,{size:14,className:"shrink-0"}),y.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[y.jsx("span",{className:"text-sm",children:"Supply Chain"}),f?y.jsx(tl,{size:12}):y.jsx(zu,{size:12})]})]}),f&&y.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:[{id:"procurement",label:"Procurement",icon:Rw},{id:"warehouse",label:"Warehouse",icon:GB},{id:"shipping",label:"Shipping",icon:VB},{id:"planning",label:"Planning",icon:Fh},{id:"fleet",label:"Fleet",icon:Y_e},{id:"vendors",label:"Vendors",icon:VD}].map(fe=>{const be=`supply-chain/${fe.id}`,Oe=t.startsWith(be)||(h[be]!==void 0?h[be]:!1);return y.jsxs("div",{children:[y.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${t.startsWith(be)?"text-blue-300":"text-gray-500 hover:text-gray-300"}`,onClick:()=>Y(be),children:[y.jsx(fe.icon,{size:12,className:"shrink-0"}),y.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[y.jsx("span",{className:"text-xs font-medium",children:fe.label}),Oe?y.jsx(tl,{size:10}):y.jsx(zu,{size:10})]})]}),Oe&&y.jsx("div",{className:"ml-3 mt-0.5 space-y-0.5 border-l border-gray-700/50 pl-2",children:[{id:"data",label:"Data",icon:IY},{id:"analytics",label:"Analytics",icon:RY}].map(xe=>y.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md cursor-pointer ${t===`${be}/${xe.id}`?"text-clickup-purple bg-[#2a2e35]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>J(`${be}/${xe.id}`,`Opening ${fe.label} ${xe.label}`),children:[y.jsx(xe.icon,{size:10,className:"shrink-0"}),y.jsx("span",{className:"ml-2 text-[10px] uppercase tracking-wide font-medium",children:xe.label})]},xe.id))})]},fe.id)})})]}),[{id:"operations",label:"Operations",icon:h3,children:[{id:"maintenance",label:"Maintenance"},{id:"production",label:"Production"},{id:"quality",label:"Quality"}]},{id:"business",label:"Business",icon:jB,children:[{id:"sales",label:"Sales"},{id:"finance",label:"Finance"}]},{id:"support",label:"Business Support",icon:gSe,children:[{id:"it",label:"IT"},{id:"hr",label:"HR"},{id:"marketing",label:"Marketing"}]}].map(fe=>{const be=t.startsWith(fe.id)||(h[fe.id]!==void 0?h[fe.id]:!1);return y.jsxs("div",{children:[y.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${t.startsWith(fe.id)?"text-blue-400":"text-gray-400 hover:text-gray-200"}`,onClick:()=>Y(fe.id),children:[y.jsx(fe.icon,{size:14,className:"shrink-0"}),y.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[y.jsx("span",{className:"text-sm",children:fe.label}),be?y.jsx(tl,{size:12}):y.jsx(zu,{size:12})]})]}),be&&y.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:fe.children.map(Oe=>{const xe=`${fe.id}/${Oe.id}`,Qe=t.startsWith(xe)||(h[xe]!==void 0?h[xe]:!1);return y.jsxs("div",{children:[y.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${t.startsWith(xe)?"text-blue-300":"text-gray-500 hover:text-gray-300"}`,onClick:()=>Y(xe),children:[y.jsx(J4,{size:12,className:"shrink-0"}),y.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[y.jsx("span",{className:"text-xs font-medium",children:Oe.label}),Qe?y.jsx(tl,{size:10}):y.jsx(zu,{size:10})]})]}),Qe&&y.jsx("div",{className:"ml-3 mt-0.5 space-y-0.5 border-l border-gray-700/50 pl-2",children:[{id:"data",label:"Data",icon:IY},{id:"analytics",label:"Analytics",icon:RY}].map(ne=>y.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md cursor-pointer ${t===`${xe}/${ne.id}`?"text-clickup-purple bg-[#2a2e35]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>J(`${xe}/${ne.id}`,`Opening ${Oe.label} ${ne.label}`),children:[y.jsx(ne.icon,{size:10,className:"shrink-0"}),y.jsx("span",{className:"ml-2 text-[10px] uppercase tracking-wide font-medium",children:ne.label})]},ne.id))})]},Oe.id)})})]},fe.id)})]})]}),y.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-1 opacity-50"}),y.jsxs("div",{className:"px-2 py-2",children:[y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:`flex items-center ${M?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6`,children:[!M&&y.jsx("span",{onClick:()=>l(!o),children:"Private Spaces"}),M&&y.jsx("span",{className:"text-[10px]",children:"PVT"}),!M&&y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("div",{className:"opacity-0 group-hover:opacity-100 hover:text-white transition-opacity cursor-pointer",onClick:B,title:"Create Private Space",children:y.jsx(ui,{size:14})}),y.jsx("div",{onClick:ae,className:"p-0.5 hover:bg-gray-700 rounded transition-colors text-gray-500 hover:text-white",title:o?"Collapse All":"Expand All",children:o?y.jsx(cC,{size:12}):y.jsx($6,{size:12})}),y.jsx("div",{onClick:()=>l(!o),children:o?y.jsx(tl,{size:14}):y.jsx(zu,{size:14})})]})]}),o&&!N&&y.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[a.length===0&&!M&&y.jsx("div",{className:"p-3 border border-dashed border-gray-700 rounded text-center text-xs text-gray-500 hover:text-gray-400 hover:border-gray-600 cursor-pointer transition-colors",onClick:B,children:"+ Create your first Private Space"}),a.map(fe=>y.jsx("div",{className:"group relative",children:y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F(fe.id)} ${M?"justify-center":""}`,onClick:()=>J(fe.id,`Viewing ${fe.name}`),children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full shrink-0",style:{backgroundColor:fe.color}}),!M&&y.jsx("span",{className:"flex-1 truncate font-medium",children:fe.name}),!M&&y.jsxs("div",{className:"hidden group-hover:flex items-center space-x-1",children:[y.jsx(qSe,{size:10,className:"text-gray-500 hover:text-white",onClick:be=>Z(be,fe.id,fe.name)}),y.jsx(Ih,{size:10,className:"text-gray-500 hover:text-red-400",onClick:be=>H(be,fe.id)})]})]})},fe.id))]})]}),y.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:`flex items-center ${M?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group cursor-pointer hover:text-gray-300`,onClick:()=>!M&&x(!v),children:[!M&&y.jsx("span",{children:"Smart Tools"}),M&&y.jsx("span",{children:"SMT"}),!M&&y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("div",{onClick:ce,className:"p-0.5 hover:bg-gray-700 rounded transition-colors text-gray-500 hover:text-white",title:v?"Collapse All":"Expand All",children:v?y.jsx(cC,{size:12}):y.jsx($6,{size:12})}),v?y.jsx(tl,{size:14}):y.jsx(zu,{size:14})]})]}),v&&!M&&y.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("smart-tools/mind-map")}`,onClick:()=>J("smart-tools/mind-map"),children:[y.jsx(zD,{size:14,className:"shrink-0"}),y.jsx("span",{children:"Mind Mapping"})]}),y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("smart-tools/dashboard")}`,onClick:()=>J("smart-tools/dashboard"),children:[y.jsx(RE,{size:14,className:"shrink-0"}),y.jsx("span",{children:"Smart Dashboard"})]})]}),M&&y.jsx("div",{className:"flex flex-col items-center space-y-2",children:y.jsx("div",{className:`p-2 rounded-md cursor-pointer hover:bg-clickup-hover hover:text-white ${t.startsWith("smart-tools")?"text-clickup-purple":""}`,title:"Smart Tools",children:y.jsx(zD,{size:16})})})]}),y.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:`flex items-center ${M?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group cursor-pointer hover:text-gray-300`,onClick:()=>_(!g),children:[!M&&y.jsx("span",{children:"Marketplace"}),M&&y.jsx("span",{children:"MKT"}),!M&&y.jsx("div",{className:"flex items-center space-x-1",children:g?y.jsx(tl,{size:14}):y.jsx(zu,{size:14})})]}),g&&y.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("marketplace/local")} ${M?"justify-center":""}`,onClick:()=>J("marketplace/local"),title:M?"Local Marketplace":"",children:[y.jsx(EU,{size:14,className:"shrink-0"}),!M&&y.jsx("span",{children:"Local Marketplace"})]}),y.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("marketplace/foreign")} ${M?"justify-center":""}`,onClick:()=>J("marketplace/foreign"),title:M?"Foreign Marketplace":"",children:[y.jsx(VD,{size:14,className:"shrink-0"}),!M&&y.jsx("span",{children:"Forigen Marketplace"})]})]})]})]})]}),y.jsxs("div",{className:"p-3 border-t border-gray-800",children:[y.jsxs("div",{className:`bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center ${M?"justify-center":"justify-center space-x-2"} cursor-pointer transition-all active:scale-95 group mb-2 shadow-md`,onClick:()=>I("Invite dialog opened","info"),title:"Invite Team",children:[y.jsx(ru,{size:14,className:"shrink-0"}),!M&&y.jsx("span",{className:"text-sm font-medium",children:"Invite Team"})]}),y.jsxs("div",{className:`flex ${M?"flex-col space-y-2":"flex-row space-x-2"}`,children:[y.jsxs("div",{className:"flex-1 bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center justify-center cursor-pointer transition-all active:scale-95 group shadow-md",onClick:()=>J("space"),title:"Cosmos",children:[y.jsx(cTe,{size:14,className:"shrink-0"}),!M&&y.jsx("span",{className:"text-xs font-bold tracking-wide ml-1",children:"Cosmos"})]}),y.jsxs("div",{className:"flex-1 bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center justify-center cursor-pointer transition-all active:scale-95 group shadow-md",onClick:()=>J("ocean"),title:"Deep Ocean",children:[y.jsx(a5e,{size:14,className:"shrink-0"}),!M&&y.jsx("span",{className:"text-xs font-bold tracking-wide ml-1",children:"Ocean"})]})]})]}),y.jsx(M5e,{isOpen:D,onClose:()=>k(!1),onCreate:K})]})},hle=me.createContext(void 0),D5e=({children:r})=>{const[e,t]=me.useState(!1),[n,i]=me.useState(!1),[a,s]=me.useState(!1),[o,l]=me.useState(!1);return y.jsx(hle.Provider,{value:{isBrainOpen:e,setBrainOpen:t,isAddCardsOpen:n,setAddCardsOpen:i,isTableBuilderOpen:a,setTableBuilderOpen:s,isTemplateModalOpen:o,setTemplateModalOpen:l},children:r})},DU=()=>{const r=me.useContext(hle);if(r===void 0)throw new Error("useUI must be used within a UIProvider");return r},L5e=()=>{const{currentView:r,setCurrentView:e,getPageTitle:t,activePage:n}=Ck(),{setBrainOpen:i,setAddCardsOpen:a,setTemplateModalOpen:s}=DU(),{showToast:o}=Vh(),l=t(),c=n==="home",u=()=>i(!0),f=()=>a(!0),d=()=>s(!0),h=["overview","goals","reminders","tasks","vault","teams"].includes(n);return y.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none",children:[y.jsxs("div",{className:"flex items-center h-full",children:[y.jsx("div",{className:`flex items-center ${c?"":"mr-4 pr-4 border-r border-gray-200"} h-6`,children:y.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors",onClick:()=>o("Breadcrumb navigation","info"),children:[l," ",!c&&y.jsx(tl,{size:12,className:"ml-1 text-gray-400"})]})}),!c&&!h&&y.jsxs("div",{className:"flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg",children:[y.jsxs("button",{onClick:()=>e("list"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${r==="list"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[y.jsx(UD,{size:14}),y.jsx("span",{children:"List"})]}),y.jsxs("button",{onClick:()=>e("board"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${r==="board"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[y.jsx($oe,{size:14}),y.jsx("span",{children:"Board"})]}),y.jsxs("button",{onClick:()=>e("calendar"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${r==="calendar"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[y.jsx(Fh,{size:14}),y.jsx("span",{children:"Calendar"})]}),y.jsxs("button",{onClick:()=>e("dashboard"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${r==="dashboard"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[y.jsx(RE,{size:14}),y.jsx("span",{children:"Dashboard"})]})]})]}),!h&&y.jsx("div",{className:"flex items-center space-x-3",children:c?y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs("button",{className:"group flex items-center space-x-2 bg-black text-white px-4 py-2 rounded-lg text-sm font-semibold shadow-md shadow-black/20 hover:bg-gray-900 hover:shadow-lg hover:-translate-y-0.5 active:scale-95 transition-all",onClick:f,children:[y.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/20 group-hover:bg-white/30 transition-colors",children:y.jsx(ui,{size:14,className:"opacity-90"})}),y.jsx("span",{children:"Add Cards"}),y.jsx(Ld,{size:14,className:"opacity-80 group-hover:rotate-12 transition-transform"})]}),y.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-semibold text-black border border-black bg-white hover:bg-black hover:text-white shadow-sm hover:shadow-md active:scale-95 transition-all",onClick:d,children:[y.jsx(UB,{size:14}),y.jsx("span",{children:"Add Report"})]})]}):!n.startsWith("operations")&&!n.startsWith("business")&&!n.startsWith("support")&&!n.startsWith("supply-chain")?y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:u,className:"group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95",children:[y.jsx(zD,{size:16,className:"text-clickup-purple group-hover:rotate-12 transition-transform"}),y.jsx("span",{className:"text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent",children:"Ask AI"})]}),y.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),y.jsx("div",{className:"flex items-center space-x-1 text-gray-500",children:y.jsx("div",{className:"relative group",children:y.jsxs("div",{className:"flex -space-x-2 cursor-pointer hover:scale-105 transition-transform",onClick:()=>o("Manage Assignees","info"),children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"A"}),y.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"S"}),y.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold",children:"+"})]})})}),y.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors",onClick:()=>o("Share view options","info"),children:y.jsx(ile,{size:16})}),y.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),y.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[y.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>o("Filter menu","info"),children:[y.jsx(kS,{size:14}),y.jsx("span",{className:"hidden md:inline",children:"Filter"})]}),y.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>o("Sort menu","info"),children:[y.jsx(T_e,{size:14}),y.jsx("span",{className:"hidden md:inline",children:"Sort"})]})]})]}):null})]})},R5e="modulepreload",k5e=function(r){return"/"+r},zY={},rO=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let s=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=s(t.map(c=>{if(c=k5e(c),c in zY)return;zY[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":R5e,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function ja(r){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(r)}var Xp=Uint8Array,Ch=Uint16Array,LU=Int32Array,RU=new Xp([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kU=new Xp([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jY=new Xp([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dle=function(r,e){for(var t=new Ch(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new LU(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)i[a]=a-t[n]<<5|n;return{b:t,r:i}},ple=dle(RU,2),I5e=ple.b,WB=ple.r;I5e[28]=258,WB[258]=28;var O5e=dle(kU,0),UY=O5e.r,YB=new Ch(32768);for(var bs=0;bs<32768;++bs){var tx=(bs&43690)>>1|(bs&21845)<<1;tx=(tx&52428)>>2|(tx&13107)<<2,tx=(tx&61680)>>4|(tx&3855)<<4,YB[bs]=((tx&65280)>>8|(tx&255)<<8)>>1}var yA=(function(r,e,t){for(var n=r.length,i=0,a=new Ch(e);i<n;++i)r[i]&&++a[r[i]-1];var s=new Ch(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(t){o=new Ch(1<<e);var l=15-e;for(i=0;i<n;++i)if(r[i])for(var c=i<<4|r[i],u=e-r[i],f=s[r[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)o[YB[f]>>l]=c}else for(o=new Ch(n),i=0;i<n;++i)r[i]&&(o[i]=YB[s[r[i]-1]++]>>15-r[i]);return o}),G2=new Xp(288);for(var bs=0;bs<144;++bs)G2[bs]=8;for(var bs=144;bs<256;++bs)G2[bs]=9;for(var bs=256;bs<280;++bs)G2[bs]=7;for(var bs=280;bs<288;++bs)G2[bs]=8;var GD=new Xp(32);for(var bs=0;bs<32;++bs)GD[bs]=5;var P5e=yA(G2,9,0),F5e=yA(GD,5,0),vle=function(r){return(r+7)/8|0},B5e=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Xp(r.subarray(e,t))},cm=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},YT=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},nO=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,a=t.slice();if(!i)return{t:gle,l:0};if(i==1){var s=new Xp(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(M,C){return M.f-C.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,u=1,f=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=t[t[c].f<t[f].f?c++:f++],l=t[c!=u&&t[c].f<t[f].f?c++:f++],t[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var d=a[0].s,n=1;n<i;++n)a[n].s>d&&(d=a[n].s);var h=new Ch(d+1),p=qB(t[u-1],h,0);if(p>e){var n=0,v=0,x=p-e,g=1<<x;for(a.sort(function(C,N){return h[N.s]-h[C.s]||C.f-N.f});n<i;++n){var _=a[n].s;if(h[_]>e)v+=g-(1<<p-h[_]),h[_]=e;else break}for(v>>=x;v>0;){var w=a[n].s;h[w]<e?v-=1<<e-h[w]++-1:++n}for(;n>=0&&v;--n){var A=a[n].s;h[A]==e&&(--h[A],++v)}p=e}return{t:new Xp(h),l:p}},qB=function(r,e,t){return r.s==-1?Math.max(qB(r.l,e,t+1),qB(r.r,e,t+1)):e[r.s]=t},VY=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Ch(++e),n=0,i=r[0],a=1,s=function(l){t[n++]=l},o=1;o<=e;++o)if(r[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=r[o]}return{c:t.subarray(0,n),n:e}},qT=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},mle=function(r,e,t){var n=t.length,i=vle(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var a=0;a<n;++a)r[i+a+4]=t[a];return(i+4+n)*8},HY=function(r,e,t,n,i,a,s,o,l,c,u){cm(e,u++,t),++i[256];for(var f=nO(i,15),d=f.t,h=f.l,p=nO(a,15),v=p.t,x=p.l,g=VY(d),_=g.c,w=g.n,A=VY(v),M=A.c,C=A.n,N=new Ch(19),L=0;L<_.length;++L)++N[_[L]&31];for(var L=0;L<M.length;++L)++N[M[L]&31];for(var D=nO(N,7),k=D.t,O=D.l,I=19;I>4&&!k[jY[I-1]];--I);var j=c+5<<3,B=qT(i,G2)+qT(a,GD)+s,K=qT(i,d)+qT(a,v)+s+14+3*I+qT(N,k)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&j<=B&&j<=K)return mle(e,u,r.subarray(l,l+c));var H,Z,Y,J;if(cm(e,u,1+(K<B)),u+=2,K<B){H=yA(d,h,0),Z=d,Y=yA(v,x,0),J=v;var oe=yA(k,O,0);cm(e,u,w-257),cm(e,u+5,C-1),cm(e,u+10,I-4),u+=14;for(var L=0;L<I;++L)cm(e,u+3*L,k[jY[L]]);u+=3*I;for(var X=[_,M],F=0;F<2;++F)for(var W=X[F],L=0;L<W.length;++L){var Q=W[L]&31;cm(e,u,oe[Q]),u+=k[Q],Q>15&&(cm(e,u,W[L]>>5&127),u+=W[L]>>12)}}else H=P5e,Z=G2,Y=F5e,J=GD;for(var L=0;L<o;++L){var re=n[L];if(re>255){var Q=re>>18&31;YT(e,u,H[Q+257]),u+=Z[Q+257],Q>7&&(cm(e,u,re>>23&31),u+=RU[Q]);var ae=re&31;YT(e,u,Y[ae]),u+=J[ae],ae>3&&(YT(e,u,re>>5&8191),u+=kU[ae])}else YT(e,u,H[re]),u+=Z[re]}return YT(e,u,H[256]),u+Z[256]},z5e=new LU([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gle=new Xp(0),j5e=function(r,e,t,n,i,a){var s=a.z||r.length,o=new Xp(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=z5e[e-1],d=f>>13,h=f&8191,p=(1<<t)-1,v=a.p||new Ch(32768),x=a.h||new Ch(p+1),g=Math.ceil(t/3),_=2*g,w=function(ne){return(r[ne]^r[ne+1]<<g^r[ne+2]<<_)&p},A=new LU(25e3),M=new Ch(288),C=new Ch(32),N=0,L=0,D=a.i||0,k=0,O=a.w||0,I=0;D+2<s;++D){var j=w(D),B=D&32767,K=x[j];if(v[B]=K,x[j]=B,O<=D){var H=s-D;if((N>7e3||k>24576)&&(H>423||!c)){u=HY(r,l,0,A,M,C,L,k,I,D-I,u),k=N=L=0,I=D;for(var Z=0;Z<286;++Z)M[Z]=0;for(var Z=0;Z<30;++Z)C[Z]=0}var Y=2,J=0,oe=h,X=B-K&32767;if(H>2&&j==w(D-X))for(var F=Math.min(d,H)-1,W=Math.min(32767,D),Q=Math.min(258,H);X<=W&&--oe&&B!=K;){if(r[D+Y]==r[D+Y-X]){for(var re=0;re<Q&&r[D+re]==r[D+re-X];++re);if(re>Y){if(Y=re,J=X,re>F)break;for(var ae=Math.min(X,re-2),ce=0,Z=0;Z<ae;++Z){var ye=D-X+Z&32767,fe=v[ye],be=ye-fe&32767;be>ce&&(ce=be,K=ye)}}}B=K,K=v[B],X+=B-K&32767}if(J){A[k++]=268435456|WB[Y]<<18|UY[J];var Oe=WB[Y]&31,xe=UY[J]&31;L+=RU[Oe]+kU[xe],++M[257+Oe],++C[xe],O=D+Y,++N}else A[k++]=r[D],++M[r[D]]}}for(D=Math.max(D,O);D<s;++D)A[k++]=r[D],++M[r[D]];u=HY(r,l,c,A,M,C,L,k,I,D-I,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=x,a.p=v,a.i=D,a.w=O)}else{for(var D=a.w||0;D<s+c;D+=65535){var Qe=D+65535;Qe>=s&&(l[u/8|0]=c,Qe=s),u=mle(l,u+1,r.subarray(D,Qe))}a.i=s}return B5e(o,0,n+vle(u)+i)},xle=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,a=t.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=t[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},U5e=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Xp(a.length+r.length);s.set(a),s.set(r,a.length),r=s,i.w=a.length}return j5e(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},yle=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},V5e=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=xle();i.p(e.dictionary),yle(r,2,i.d())}};function XB(r,e){e||(e={});var t=xle();t.p(r);var n=U5e(r,e,e.dictionary?6:2,4);return V5e(n,e),yle(n,n.length-4,t.d()),n}var H5e=typeof TextDecoder<"u"&&new TextDecoder,G5e=0;try{H5e.decode(gle,{stream:!0}),G5e=1}catch{}function W5e(r){if(Array.isArray(r))return r}function Y5e(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function GY(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function q5e(r,e){if(r){if(typeof r=="string")return GY(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?GY(r,e):void 0}}function X5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WY(r,e){return W5e(r)||Y5e(r,e)||q5e(r,e)||X5e()}function YY(r,e="utf8"){return new TextDecoder(e).decode(r)}const Z5e=new TextEncoder;function K5e(r){return Z5e.encode(r)}const $5e=1024*8,J5e=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),iO={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IU{constructor(e=$5e,t={}){Pa(this,"buffer");Pa(this,"byteLength");Pa(this,"byteOffset");Pa(this,"length");Pa(this,"offset");Pa(this,"lastWrittenByte");Pa(this,"littleEndian");Pa(this,"_data");Pa(this,"_mark");Pa(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof IU)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=iO[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===J5e&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new iO[t](o.buffer);return this.offset+=n,l.reverse(),l}const s=new iO[t](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return YY(this.readBytes(e))}decodeText(e=1,t="utf8"){return YY(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(K5e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function IS(r){let e=r.length;for(;--e>=0;)r[e]=0}const Q5e=3,eAe=258,ble=29,tAe=256,rAe=tAe+1+ble,_le=30,nAe=512,iAe=new Array((rAe+2)*2);IS(iAe);const aAe=new Array(_le*2);IS(aAe);const sAe=new Array(nAe);IS(sAe);const oAe=new Array(eAe-Q5e+1);IS(oAe);const lAe=new Array(ble);IS(lAe);const cAe=new Array(_le);IS(cAe);const uAe=(r,e,t,n)=>{let i=r&65535|0,a=r>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var ZB=uAe;const fAe=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},hAe=new Uint32Array(fAe()),dAe=(r,e,t,n)=>{const i=hAe,a=n+t;r^=-1;for(let s=n;s<a;s++)r=r>>>8^i[(r^e[s])&255];return r^-1};var D0=dAe,KB={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wle={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const pAe=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var vAe=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)pAe(t,n)&&(r[n]=t[n])}}return r},mAe=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,a=r.length;n<a;n++){let s=r[n];t.set(s,i),i+=s.length}return t},Sle={assign:vAe,flattenChunks:mAe};let Tle=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Tle=!1}const p3=new Uint8Array(256);for(let r=0;r<256;r++)p3[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;p3[254]=p3[254]=1;var gAe=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,a,s=r.length,o=0;for(i=0;i<s;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const xAe=(r,e)=>{if(e<65534&&r.subarray&&Tle)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var yAe=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const a=new Array(t*2);for(i=0,n=0;n<t;){let s=r[n++];if(s<128){a[i++]=s;continue}let o=p3[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<t;)s=s<<6|r[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return xAe(a,i)},bAe=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+p3[r[t]]>e?t:e},$B={string2buf:gAe,buf2string:yAe,utf8border:bAe};function _Ae(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var wAe=_Ae;const dC=16209,SAe=16191;var TAe=function(e,t){let n,i,a,s,o,l,c,u,f,d,h,p,v,x,g,_,w,A,M,C,N,L,D,k;const O=e.state;n=e.next_in,D=e.input,i=n+(e.avail_in-5),a=e.next_out,k=e.output,s=a-(t-e.avail_out),o=a+(e.avail_out-257),l=O.dmax,c=O.wsize,u=O.whave,f=O.wnext,d=O.window,h=O.hold,p=O.bits,v=O.lencode,x=O.distcode,g=(1<<O.lenbits)-1,_=(1<<O.distbits)-1;e:do{p<15&&(h+=D[n++]<<p,p+=8,h+=D[n++]<<p,p+=8),w=v[h&g];t:for(;;){if(A=w>>>24,h>>>=A,p-=A,A=w>>>16&255,A===0)k[a++]=w&65535;else if(A&16){M=w&65535,A&=15,A&&(p<A&&(h+=D[n++]<<p,p+=8),M+=h&(1<<A)-1,h>>>=A,p-=A),p<15&&(h+=D[n++]<<p,p+=8,h+=D[n++]<<p,p+=8),w=x[h&_];r:for(;;){if(A=w>>>24,h>>>=A,p-=A,A=w>>>16&255,A&16){if(C=w&65535,A&=15,p<A&&(h+=D[n++]<<p,p+=8,p<A&&(h+=D[n++]<<p,p+=8)),C+=h&(1<<A)-1,C>l){e.msg="invalid distance too far back",O.mode=dC;break e}if(h>>>=A,p-=A,A=a-s,C>A){if(A=C-A,A>u&&O.sane){e.msg="invalid distance too far back",O.mode=dC;break e}if(N=0,L=d,f===0){if(N+=c-A,A<M){M-=A;do k[a++]=d[N++];while(--A);N=a-C,L=k}}else if(f<A){if(N+=c+f-A,A-=f,A<M){M-=A;do k[a++]=d[N++];while(--A);if(N=0,f<M){A=f,M-=A;do k[a++]=d[N++];while(--A);N=a-C,L=k}}}else if(N+=f-A,A<M){M-=A;do k[a++]=d[N++];while(--A);N=a-C,L=k}for(;M>2;)k[a++]=L[N++],k[a++]=L[N++],k[a++]=L[N++],M-=3;M&&(k[a++]=L[N++],M>1&&(k[a++]=L[N++]))}else{N=a-C;do k[a++]=k[N++],k[a++]=k[N++],k[a++]=k[N++],M-=3;while(M>2);M&&(k[a++]=k[N++],M>1&&(k[a++]=k[N++]))}}else if((A&64)===0){w=x[(w&65535)+(h&(1<<A)-1)];continue r}else{e.msg="invalid distance code",O.mode=dC;break e}break}}else if((A&64)===0){w=v[(w&65535)+(h&(1<<A)-1)];continue t}else if(A&32){O.mode=SAe;break e}else{e.msg="invalid literal/length code",O.mode=dC;break e}break}}while(n<i&&a<o);M=p>>3,n-=M,p-=M<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),O.hold=h,O.bits=p};const a_=15,qY=852,XY=592,ZY=0,aO=1,KY=2,AAe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),EAe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),MAe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),CAe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),NAe=(r,e,t,n,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,d=0,h=0,p=0,v=0,x=0,g=0,_=0,w,A,M,C,N,L=null,D;const k=new Uint16Array(a_+1),O=new Uint16Array(a_+1);let I=null,j,B,K;for(c=0;c<=a_;c++)k[c]=0;for(u=0;u<n;u++)k[e[t+u]]++;for(h=l,d=a_;d>=1&&k[d]===0;d--);if(h>d&&(h=d),d===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<d&&k[f]===0;f++);for(h<f&&(h=f),x=1,c=1;c<=a_;c++)if(x<<=1,x-=k[c],x<0)return-1;if(x>0&&(r===ZY||d!==1))return-1;for(O[1]=0,c=1;c<a_;c++)O[c+1]=O[c]+k[c];for(u=0;u<n;u++)e[t+u]!==0&&(s[O[e[t+u]]++]=u);if(r===ZY?(L=I=s,D=20):r===aO?(L=AAe,I=EAe,D=257):(L=MAe,I=CAe,D=0),_=0,u=0,c=f,N=a,p=h,v=0,M=-1,g=1<<h,C=g-1,r===aO&&g>qY||r===KY&&g>XY)return 1;for(;;){j=c-v,s[u]+1<D?(B=0,K=s[u]):s[u]>=D?(B=I[s[u]-D],K=L[s[u]-D]):(B=96,K=0),w=1<<c-v,A=1<<p,f=A;do A-=w,i[N+(_>>v)+A]=j<<24|B<<16|K|0;while(A!==0);for(w=1<<c-1;_&w;)w>>=1;if(w!==0?(_&=w-1,_+=w):_=0,u++,--k[c]===0){if(c===d)break;c=e[t+s[u]]}if(c>h&&(_&C)!==M){for(v===0&&(v=h),N+=f,p=c-v,x=1<<p;p+v<d&&(x-=k[p+v],!(x<=0));)p++,x<<=1;if(g+=1<<p,r===aO&&g>qY||r===KY&&g>XY)return 1;M=_&C,i[M]=h<<24|p<<16|N-a|0}}return _!==0&&(i[N+_]=c-v<<24|64<<16|0),o.bits=h,0};var bA=NAe;const DAe=0,Ale=1,Ele=2,{Z_FINISH:$Y,Z_BLOCK:LAe,Z_TREES:pC,Z_OK:W2,Z_STREAM_END:RAe,Z_NEED_DICT:kAe,Z_STREAM_ERROR:Od,Z_DATA_ERROR:Mle,Z_MEM_ERROR:Cle,Z_BUF_ERROR:IAe,Z_DEFLATED:JY}=wle,Nk=16180,QY=16181,eq=16182,tq=16183,rq=16184,nq=16185,iq=16186,aq=16187,sq=16188,oq=16189,WD=16190,um=16191,sO=16192,lq=16193,oO=16194,cq=16195,uq=16196,fq=16197,hq=16198,vC=16199,mC=16200,dq=16201,pq=16202,vq=16203,mq=16204,gq=16205,lO=16206,xq=16207,yq=16208,Ns=16209,Nle=16210,Dle=16211,OAe=852,PAe=592,FAe=15,BAe=FAe,bq=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function zAe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ub=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Nk||e.mode>Dle?1:0},Lle=r=>{if(ub(r))return Od;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Nk,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(OAe),e.distcode=e.distdyn=new Int32Array(PAe),e.sane=1,e.back=-1,W2},Rle=r=>{if(ub(r))return Od;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,Lle(r)},kle=(r,e)=>{let t;if(ub(r))return Od;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Od:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,Rle(r))},Ile=(r,e)=>{if(!r)return Od;const t=new zAe;r.state=t,t.strm=r,t.window=null,t.mode=Nk;const n=kle(r,e);return n!==W2&&(r.state=null),n},jAe=r=>Ile(r,BAe);let _q=!0,cO,uO;const UAe=r=>{if(_q){cO=new Int32Array(512),uO=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(bA(Ale,r.lens,0,288,cO,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;bA(Ele,r.lens,0,32,uO,0,r.work,{bits:5}),_q=!1}r.lencode=cO,r.lenbits=9,r.distcode=uO,r.distbits=5},Ole=(r,e,t,n)=>{let i;const a=r.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(t-n,t-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(t-n,t),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},VAe=(r,e)=>{let t,n,i,a,s,o,l,c,u,f,d,h,p,v,x=0,g,_,w,A,M,C,N,L;const D=new Uint8Array(4);let k,O;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ub(r)||!r.output||!r.input&&r.avail_in!==0)return Od;t=r.state,t.mode===um&&(t.mode=sO),s=r.next_out,i=r.output,l=r.avail_out,a=r.next_in,n=r.input,o=r.avail_in,c=t.hold,u=t.bits,f=o,d=l,L=W2;e:for(;;)switch(t.mode){case Nk:if(t.wrap===0){t.mode=sO;break}for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,D[0]=c&255,D[1]=c>>>8&255,t.check=D0(t.check,D,2,0),c=0,u=0,t.mode=QY;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){r.msg="incorrect header check",t.mode=Ns;break}if((c&15)!==JY){r.msg="unknown compression method",t.mode=Ns;break}if(c>>>=4,u-=4,N=(c&15)+8,t.wbits===0&&(t.wbits=N),N>15||N>t.wbits){r.msg="invalid window size",t.mode=Ns;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=c&512?oq:um,c=0,u=0;break;case QY:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(t.flags=c,(t.flags&255)!==JY){r.msg="unknown compression method",t.mode=Ns;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Ns;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,t.check=D0(t.check,D,2,0)),c=0,u=0,t.mode=eq;case eq:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,D[2]=c>>>16&255,D[3]=c>>>24&255,t.check=D0(t.check,D,4,0)),c=0,u=0,t.mode=tq;case tq:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,t.check=D0(t.check,D,2,0)),c=0,u=0,t.mode=rq;case rq:if(t.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,t.check=D0(t.check,D,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=nq;case nq:if(t.flags&1024&&(h=t.length,h>o&&(h=o),h&&(t.head&&(N=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+h),N)),t.flags&512&&t.wrap&4&&(t.check=D0(t.check,n,h,a)),o-=h,a+=h,t.length-=h),t.length))break e;t.length=0,t.mode=iq;case iq:if(t.flags&2048){if(o===0)break e;h=0;do N=n[a+h++],t.head&&N&&t.length<65536&&(t.head.name+=String.fromCharCode(N));while(N&&h<o);if(t.flags&512&&t.wrap&4&&(t.check=D0(t.check,n,h,a)),o-=h,a+=h,N)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=aq;case aq:if(t.flags&4096){if(o===0)break e;h=0;do N=n[a+h++],t.head&&N&&t.length<65536&&(t.head.comment+=String.fromCharCode(N));while(N&&h<o);if(t.flags&512&&t.wrap&4&&(t.check=D0(t.check,n,h,a)),o-=h,a+=h,N)break e}else t.head&&(t.head.comment=null);t.mode=sq;case sq:if(t.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(t.wrap&4&&c!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Ns;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=um;break;case oq:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.adler=t.check=bq(c),c=0,u=0,t.mode=WD;case WD:if(t.havedict===0)return r.next_out=s,r.avail_out=l,r.next_in=a,r.avail_in=o,t.hold=c,t.bits=u,kAe;r.adler=t.check=1,t.mode=um;case um:if(e===LAe||e===pC)break e;case sO:if(t.last){c>>>=u&7,u-=u&7,t.mode=lO;break}for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}switch(t.last=c&1,c>>>=1,u-=1,c&3){case 0:t.mode=lq;break;case 1:if(UAe(t),t.mode=vC,e===pC){c>>>=2,u-=2;break e}break;case 2:t.mode=uq;break;case 3:r.msg="invalid block type",t.mode=Ns}c>>>=2,u-=2;break;case lq:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Ns;break}if(t.length=c&65535,c=0,u=0,t.mode=oO,e===pC)break e;case oO:t.mode=cq;case cq:if(h=t.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,t.length-=h;break}t.mode=um;break;case uq:for(;u<14;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(t.nlen=(c&31)+257,c>>>=5,u-=5,t.ndist=(c&31)+1,c>>>=5,u-=5,t.ncode=(c&15)+4,c>>>=4,u-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Ns;break}t.have=0,t.mode=fq;case fq:for(;t.have<t.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.lens[I[t.have++]]=c&7,c>>>=3,u-=3}for(;t.have<19;)t.lens[I[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,k={bits:t.lenbits},L=bA(DAe,t.lens,0,19,t.lencode,0,t.work,k),t.lenbits=k.bits,L){r.msg="invalid code lengths set",t.mode=Ns;break}t.have=0,t.mode=hq;case hq:for(;t.have<t.nlen+t.ndist;){for(;x=t.lencode[c&(1<<t.lenbits)-1],g=x>>>24,_=x>>>16&255,w=x&65535,!(g<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(w<16)c>>>=g,u-=g,t.lens[t.have++]=w;else{if(w===16){for(O=g+2;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(c>>>=g,u-=g,t.have===0){r.msg="invalid bit length repeat",t.mode=Ns;break}N=t.lens[t.have-1],h=3+(c&3),c>>>=2,u-=2}else if(w===17){for(O=g+3;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=g,u-=g,N=0,h=3+(c&7),c>>>=3,u-=3}else{for(O=g+7;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=g,u-=g,N=0,h=11+(c&127),c>>>=7,u-=7}if(t.have+h>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Ns;break}for(;h--;)t.lens[t.have++]=N}}if(t.mode===Ns)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Ns;break}if(t.lenbits=9,k={bits:t.lenbits},L=bA(Ale,t.lens,0,t.nlen,t.lencode,0,t.work,k),t.lenbits=k.bits,L){r.msg="invalid literal/lengths set",t.mode=Ns;break}if(t.distbits=6,t.distcode=t.distdyn,k={bits:t.distbits},L=bA(Ele,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,k),t.distbits=k.bits,L){r.msg="invalid distances set",t.mode=Ns;break}if(t.mode=vC,e===pC)break e;case vC:t.mode=mC;case mC:if(o>=6&&l>=258){r.next_out=s,r.avail_out=l,r.next_in=a,r.avail_in=o,t.hold=c,t.bits=u,TAe(r,d),s=r.next_out,i=r.output,l=r.avail_out,a=r.next_in,n=r.input,o=r.avail_in,c=t.hold,u=t.bits,t.mode===um&&(t.back=-1);break}for(t.back=0;x=t.lencode[c&(1<<t.lenbits)-1],g=x>>>24,_=x>>>16&255,w=x&65535,!(g<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(_&&(_&240)===0){for(A=g,M=_,C=w;x=t.lencode[C+((c&(1<<A+M)-1)>>A)],g=x>>>24,_=x>>>16&255,w=x&65535,!(A+g<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=A,u-=A,t.back+=A}if(c>>>=g,u-=g,t.back+=g,t.length=w,_===0){t.mode=gq;break}if(_&32){t.back=-1,t.mode=um;break}if(_&64){r.msg="invalid literal/length code",t.mode=Ns;break}t.extra=_&15,t.mode=dq;case dq:if(t.extra){for(O=t.extra;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=pq;case pq:for(;x=t.distcode[c&(1<<t.distbits)-1],g=x>>>24,_=x>>>16&255,w=x&65535,!(g<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((_&240)===0){for(A=g,M=_,C=w;x=t.distcode[C+((c&(1<<A+M)-1)>>A)],g=x>>>24,_=x>>>16&255,w=x&65535,!(A+g<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=A,u-=A,t.back+=A}if(c>>>=g,u-=g,t.back+=g,_&64){r.msg="invalid distance code",t.mode=Ns;break}t.offset=w,t.extra=_&15,t.mode=vq;case vq:if(t.extra){for(O=t.extra;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Ns;break}t.mode=mq;case mq:if(l===0)break e;if(h=d-l,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Ns;break}h>t.wnext?(h-=t.wnext,p=t.wsize-h):p=t.wnext-h,h>t.length&&(h=t.length),v=t.window}else v=i,p=s-t.offset,h=t.length;h>l&&(h=l),l-=h,t.length-=h;do i[s++]=v[p++];while(--h);t.length===0&&(t.mode=mC);break;case gq:if(l===0)break e;i[s++]=t.length,l--,t.mode=mC;break;case lO:if(t.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[a++]<<u,u+=8}if(d-=l,r.total_out+=d,t.total+=d,t.wrap&4&&d&&(r.adler=t.check=t.flags?D0(t.check,i,d,s-d):ZB(t.check,i,d,s-d)),d=l,t.wrap&4&&(t.flags?c:bq(c))!==t.check){r.msg="incorrect data check",t.mode=Ns;break}c=0,u=0}t.mode=xq;case xq:if(t.wrap&&t.flags){for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(t.wrap&4&&c!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Ns;break}c=0,u=0}t.mode=yq;case yq:L=RAe;break e;case Ns:L=Mle;break e;case Nle:return Cle;case Dle:default:return Od}return r.next_out=s,r.avail_out=l,r.next_in=a,r.avail_in=o,t.hold=c,t.bits=u,(t.wsize||d!==r.avail_out&&t.mode<Ns&&(t.mode<lO||e!==$Y))&&Ole(r,r.output,r.next_out,d-r.avail_out),f-=r.avail_in,d-=r.avail_out,r.total_in+=f,r.total_out+=d,t.total+=d,t.wrap&4&&d&&(r.adler=t.check=t.flags?D0(t.check,i,d,r.next_out-d):ZB(t.check,i,d,r.next_out-d)),r.data_type=t.bits+(t.last?64:0)+(t.mode===um?128:0)+(t.mode===vC||t.mode===oO?256:0),(f===0&&d===0||e===$Y)&&L===W2&&(L=IAe),L},HAe=r=>{if(ub(r))return Od;let e=r.state;return e.window&&(e.window=null),r.state=null,W2},GAe=(r,e)=>{if(ub(r))return Od;const t=r.state;return(t.wrap&2)===0?Od:(t.head=e,e.done=!1,W2)},WAe=(r,e)=>{const t=e.length;let n,i,a;return ub(r)||(n=r.state,n.wrap!==0&&n.mode!==WD)?Od:n.mode===WD&&(i=1,i=ZB(i,e,t,0),i!==n.check)?Mle:(a=Ole(r,e,t,t),a?(n.mode=Nle,Cle):(n.havedict=1,W2))};var YAe=Rle,qAe=kle,XAe=Lle,ZAe=jAe,KAe=Ile,$Ae=VAe,JAe=HAe,QAe=GAe,e3e=WAe,t3e="pako inflate (from Nodeca project)",Lm={inflateReset:YAe,inflateReset2:qAe,inflateResetKeep:XAe,inflateInit:ZAe,inflateInit2:KAe,inflate:$Ae,inflateEnd:JAe,inflateGetHeader:QAe,inflateSetDictionary:e3e,inflateInfo:t3e};function r3e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var n3e=r3e;const Ple=Object.prototype.toString,{Z_NO_FLUSH:i3e,Z_FINISH:a3e,Z_OK:v3,Z_STREAM_END:fO,Z_NEED_DICT:hO,Z_STREAM_ERROR:s3e,Z_DATA_ERROR:wq,Z_MEM_ERROR:o3e}=wle;function IE(r){this.options=Sle.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wAe,this.strm.avail_out=0;let t=Lm.inflateInit2(this.strm,e.windowBits);if(t!==v3)throw new Error(KB[t]);if(this.header=new n3e,Lm.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=$B.string2buf(e.dictionary):Ple.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Lm.inflateSetDictionary(this.strm,e.dictionary),t!==v3)))throw new Error(KB[t])}IE.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?a3e:i3e,Ple.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),a=Lm.inflate(t,s),a===hO&&i&&(a=Lm.inflateSetDictionary(t,i),a===v3?a=Lm.inflate(t,s):a===wq&&(a=hO));t.avail_in>0&&a===fO&&t.state.wrap>0&&r[t.next_in]!==0;)Lm.inflateReset(t),a=Lm.inflate(t,s);switch(a){case s3e:case wq:case hO:case o3e:return this.onEnd(a),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||a===fO))if(this.options.to==="string"){let l=$B.utf8border(t.output,t.next_out),c=t.next_out-l,u=$B.buf2string(t.output,l);t.next_out=c,t.avail_out=n-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===v3&&o===0)){if(a===fO)return a=Lm.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};IE.prototype.onData=function(r){this.chunks.push(r)};IE.prototype.onEnd=function(r){r===v3&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Sle.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function l3e(r,e){const t=new IE(e);if(t.push(r),t.err)throw t.msg||KB[t.err];return t.result}var c3e=IE,u3e=l3e,f3e={Inflate:c3e,inflate:u3e};const{Inflate:h3e,inflate:d3e}=f3e;var Sq=h3e,p3e=d3e;const Fle=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Fle[r]=e}const Tq=4294967295;function v3e(r,e,t){let n=r;for(let i=0;i<t;i++)n=Fle[(n^e[i])&255]^n>>>8;return n}function m3e(r,e){return(v3e(Tq,r,e)^Tq)>>>0}function Aq(r,e,t){const n=r.readUint32(),i=m3e(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function Ble(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function zle(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function jle(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function Ule(r,e,t,n,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=r[a]+(t[a]>>1)&255;for(;a<n;a++)e[a]=r[a]+(e[a-i]+t[a]>>1)&255}}function Vle(r,e,t,n,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=r[a]+t[a]&255;for(;a<n;a++)e[a]=r[a]+g3e(e[a-i],t[a],t[a-i])&255}}function g3e(r,e,t){const n=r+e-t,i=Math.abs(n-r),a=Math.abs(n-e),s=Math.abs(n-t);return i<=a&&i<=s?r:a<=s?e:t}function x3e(r,e,t,n,i,a){switch(r){case 0:Ble(e,t,i);break;case 1:zle(e,t,i,a);break;case 2:jle(e,t,n,i);break;case 3:Ule(e,t,n,i,a);break;case 4:Vle(e,t,n,i,a);break;default:throw new Error(`Unsupported filter: ${r}`)}}const y3e=new Uint16Array([255]),b3e=new Uint8Array(y3e.buffer),_3e=b3e[0]===255;function w3e(r){const{data:e,width:t,height:n,channels:i,depth:a}=r,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*t*o);let c=0;for(let u=0;u<7;u++){const f=s[u],d=Math.ceil((t-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(d<=0||h<=0)continue;const p=d*o,v=new Uint8Array(p);for(let x=0;x<h;x++){const g=e[c++],_=e.subarray(c,c+p);c+=p;const w=new Uint8Array(p);x3e(g,_,w,v,p,o),v.set(w);for(let A=0;A<d;A++){const M=f.x+A*f.xStep,C=f.y+x*f.yStep;if(!(M>=t||C>=n))for(let N=0;N<o;N++)l[(C*t+M)*o+N]=w[A*o+N]}}}if(a===16){const u=new Uint16Array(l.buffer);if(_3e)for(let f=0;f<u.length;f++)u[f]=S3e(u[f]);return u}else return l}function S3e(r){return(r&255)<<8|r>>8&255}const T3e=new Uint16Array([255]),A3e=new Uint8Array(T3e.buffer),E3e=A3e[0]===255,M3e=new Uint8Array(0);function Eq(r){const{data:e,width:t,height:n,channels:i,depth:a}=r,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*t),l=new Uint8Array(n*o);let c=M3e,u=0,f,d;for(let h=0;h<n;h++){switch(f=e.subarray(u+1,u+1+o),d=l.subarray(h*o,(h+1)*o),e[u]){case 0:Ble(f,d,o);break;case 1:zle(f,d,o,s);break;case 2:jle(f,d,c,o);break;case 3:Ule(f,d,c,o,s);break;case 4:Vle(f,d,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=d,u+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(E3e)for(let p=0;p<h.length;p++)h[p]=C3e(h[p]);return h}else return l}function C3e(r){return(r&255)<<8|r>>8&255}const eD=Uint8Array.of(137,80,78,71,13,10,26,10);function Mq(r){if(!N3e(r.readBytes(eD.length)))throw new Error("wrong PNG signature")}function N3e(r){if(r.length<eD.length)return!1;for(let e=0;e<eD.length;e++)if(r[e]!==eD[e])return!1;return!0}const D3e="tEXt",L3e=0,Hle=new TextDecoder("latin1");function R3e(r){if(I3e(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const k3e=/^[\u0000-\u00FF]*$/;function I3e(r){if(!k3e.test(r))throw new Error("invalid latin1 text")}function O3e(r,e,t){const n=Gle(e);r[n]=P3e(e,t-n.length-1)}function Gle(r){for(r.mark();r.readByte()!==L3e;);const e=r.offset;r.reset();const t=Hle.decode(r.readBytes(e-r.offset-1));return r.skip(1),R3e(t),t}function P3e(r,e){return Hle.decode(r.readBytes(e))}const gh={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},dO={UNKNOWN:-1,DEFLATE:0},Cq={UNKNOWN:-1,ADAPTIVE:0},pO={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},gC={NONE:0,BACKGROUND:1,PREVIOUS:2},vO={SOURCE:0,OVER:1};class F3e extends IU{constructor(t,n={}){super(t);Pa(this,"_checkCrc");Pa(this,"_inflator");Pa(this,"_png");Pa(this,"_apng");Pa(this,"_end");Pa(this,"_hasPalette");Pa(this,"_palette");Pa(this,"_hasTransparency");Pa(this,"_transparency");Pa(this,"_compressionMethod");Pa(this,"_filterMethod");Pa(this,"_interlaceMethod");Pa(this,"_colorType");Pa(this,"_isAnimated");Pa(this,"_numberOfFrames");Pa(this,"_numberOfPlays");Pa(this,"_frames");Pa(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Sq,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=dO.UNKNOWN,this._filterMethod=Cq.UNKNOWN,this._interlaceMethod=pO.UNKNOWN,this._colorType=gh.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Mq(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(Mq(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case D3e:O3e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Aq(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Aq(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=B3e(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case gh.GREYSCALE:i=1;break;case gh.TRUECOLOUR:i=3;break;case gh.INDEXED_COLOUR:i=1;break;case gh.GREYSCALE_ALPHA:i=2;break;case gh.TRUECOLOUR_ALPHA:i=4;break;case gh.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==dO.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case gh.GREYSCALE:case gh.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case gh.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case gh.UNKNOWN:case gh.GREYSCALE_ALPHA:case gh.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=Gle(this),i=this.readUint8();if(i!==dO.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:p3e(a)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=Eq({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,i){switch(t.disposeOp){case gC.NONE:break;case gC.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*t.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case gC.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case vO.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)t.data[l+u]=n.data[c+u]}break;case vO.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=n.data[c+this._png.channels-1]/i,d=u%(this._png.channels-1)===0?1:n.data[c+u],h=Math.floor(f*d+(1-f)*t.data[l+u]);t.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Cq.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===pO.NO_INTERLACE)this._png.data=Eq({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===pO.ADAM7)this._png.data=w3e({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:gC.NONE,blendOp:vO.SOURCE,data:t}),this._inflator=new Sq,this._writingDataChunks=!1}}function B3e(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Nq;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Nq||(Nq={}));function z3e(r,e){return new F3e(r,e).decode()}var zn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function mO(){zn.console&&typeof zn.console.log=="function"&&zn.console.log.apply(zn.console,arguments)}var as={log:mO,warn:function(r){zn.console&&(typeof zn.console.warn=="function"?zn.console.warn.apply(zn.console,arguments):mO.call(null,arguments))},error:function(r){zn.console&&(typeof zn.console.error=="function"?zn.console.error.apply(zn.console,arguments):mO(r))}};function gO(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){X1(n.response,e,t)},n.onerror=function(){as.error("could not download file")},n.send()}function Dq(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xC(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var X1=zn.saveAs||((typeof window>"u"?"undefined":ja(window))!=="object"||window!==zn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=zn.URL||zn.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?Dq(i.href)?gO(r,e,t):xC(i,i.target="_blank"):xC(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){xC(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(Dq(r))gO(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){xC(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:ja(a)!=="object"&&(as.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return gO(r,e,t);var i=r.type==="application/octet-stream",a=/constructor/i.test(zn.HTMLElement)||zn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":ja(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(r)}else{var l=zn.URL||zn.webkitURL,c=l.createObjectURL(r);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Wle(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,a=t[n].process,s=i.exec(r);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var tD=zn.atob.bind(zn),Lq=zn.btoa.bind(zn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function xO(r,e){var t=r[0],n=r[1],i=r[2],a=r[3];t=Vc(t,n,i,a,e[0],7,-680876936),a=Vc(a,t,n,i,e[1],12,-389564586),i=Vc(i,a,t,n,e[2],17,606105819),n=Vc(n,i,a,t,e[3],22,-1044525330),t=Vc(t,n,i,a,e[4],7,-176418897),a=Vc(a,t,n,i,e[5],12,1200080426),i=Vc(i,a,t,n,e[6],17,-1473231341),n=Vc(n,i,a,t,e[7],22,-45705983),t=Vc(t,n,i,a,e[8],7,1770035416),a=Vc(a,t,n,i,e[9],12,-1958414417),i=Vc(i,a,t,n,e[10],17,-42063),n=Vc(n,i,a,t,e[11],22,-1990404162),t=Vc(t,n,i,a,e[12],7,1804603682),a=Vc(a,t,n,i,e[13],12,-40341101),i=Vc(i,a,t,n,e[14],17,-1502002290),t=Hc(t,n=Vc(n,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Hc(a,t,n,i,e[6],9,-1069501632),i=Hc(i,a,t,n,e[11],14,643717713),n=Hc(n,i,a,t,e[0],20,-373897302),t=Hc(t,n,i,a,e[5],5,-701558691),a=Hc(a,t,n,i,e[10],9,38016083),i=Hc(i,a,t,n,e[15],14,-660478335),n=Hc(n,i,a,t,e[4],20,-405537848),t=Hc(t,n,i,a,e[9],5,568446438),a=Hc(a,t,n,i,e[14],9,-1019803690),i=Hc(i,a,t,n,e[3],14,-187363961),n=Hc(n,i,a,t,e[8],20,1163531501),t=Hc(t,n,i,a,e[13],5,-1444681467),a=Hc(a,t,n,i,e[2],9,-51403784),i=Hc(i,a,t,n,e[7],14,1735328473),t=Gc(t,n=Hc(n,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Gc(a,t,n,i,e[8],11,-2022574463),i=Gc(i,a,t,n,e[11],16,1839030562),n=Gc(n,i,a,t,e[14],23,-35309556),t=Gc(t,n,i,a,e[1],4,-1530992060),a=Gc(a,t,n,i,e[4],11,1272893353),i=Gc(i,a,t,n,e[7],16,-155497632),n=Gc(n,i,a,t,e[10],23,-1094730640),t=Gc(t,n,i,a,e[13],4,681279174),a=Gc(a,t,n,i,e[0],11,-358537222),i=Gc(i,a,t,n,e[3],16,-722521979),n=Gc(n,i,a,t,e[6],23,76029189),t=Gc(t,n,i,a,e[9],4,-640364487),a=Gc(a,t,n,i,e[12],11,-421815835),i=Gc(i,a,t,n,e[15],16,530742520),t=Wc(t,n=Gc(n,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Wc(a,t,n,i,e[7],10,1126891415),i=Wc(i,a,t,n,e[14],15,-1416354905),n=Wc(n,i,a,t,e[5],21,-57434055),t=Wc(t,n,i,a,e[12],6,1700485571),a=Wc(a,t,n,i,e[3],10,-1894986606),i=Wc(i,a,t,n,e[10],15,-1051523),n=Wc(n,i,a,t,e[1],21,-2054922799),t=Wc(t,n,i,a,e[8],6,1873313359),a=Wc(a,t,n,i,e[15],10,-30611744),i=Wc(i,a,t,n,e[6],15,-1560198380),n=Wc(n,i,a,t,e[13],21,1309151649),t=Wc(t,n,i,a,e[4],6,-145523070),a=Wc(a,t,n,i,e[11],10,-1120210379),i=Wc(i,a,t,n,e[2],15,718787259),n=Wc(n,i,a,t,e[9],21,-343485551),r[0]=Rx(t,r[0]),r[1]=Rx(n,r[1]),r[2]=Rx(i,r[2]),r[3]=Rx(a,r[3])}function Dk(r,e,t,n,i,a){return e=Rx(Rx(e,r),Rx(n,a)),Rx(e<<i|e>>>32-i,t)}function Vc(r,e,t,n,i,a,s){return Dk(e&t|~e&n,r,e,i,a,s)}function Hc(r,e,t,n,i,a,s){return Dk(e&n|t&~n,r,e,i,a,s)}function Gc(r,e,t,n,i,a,s){return Dk(e^t^n,r,e,i,a,s)}function Wc(r,e,t,n,i,a,s){return Dk(t^(e|~n),r,e,i,a,s)}function Yle(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)xO(n,j3e(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(xO(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,xO(n,i),n}function j3e(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var Rq="0123456789abcdef".split("");function U3e(r){for(var e="",t=0;t<4;t++)e+=Rq[r>>8*t+4&15]+Rq[r>>8*t&15];return e}function V3e(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function JB(r){return Yle(r).map(V3e).join("")}var H3e=(function(r){for(var e=0;e<r.length;e++)r[e]=U3e(r[e]);return r.join("")})(Yle("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rx(r,e){if(H3e){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function QB(r,e){var t,n,i,a;if(r!==t){for(var s=(i=r,a=1+(256/r.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}t=r,n=o}else o=n;var f=e.length,d=0,h=0,p="";for(l=0;l<f;l++)h=(h+(u=o[d=(d+1)%256]))%256,o[d]=o[h],o[h]=u,s=o[(o[d]+o[h])%256],p+=String.fromCharCode(e.charCodeAt(l)^s);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var kq={print:4,modify:8,copy:16,"annot-forms":32};function lw(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(kq.perm!==void 0)throw new Error("Invalid permission: "+o);i+=kq[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=JB(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=QB(this.encryptionKey,this.padding)}function cw(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function Iq(r){if(ja(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[n,!!i],a},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var s=e[t][a];try{s[0].apply(r,n)}catch(o){zn.console&&as.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function YD(r){if(!(this instanceof YD))return new YD(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function qle(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function s2(r,e,t,n,i){if(!(this instanceof s2))return new s2(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,qle.call(this,n,i)}function vw(r,e,t,n,i){if(!(this instanceof vw))return new vw(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,qle.call(this,n,i)}function fn(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;ja(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,a=r.compress||r.compressPdf||a,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),c=r.defaultPathOperation||"S"),s=r.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",t=(""+(t||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=Iq;var p="1.3",v=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(ie){p=ie};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var g=h.__private__.getPageFormat=function(ie){return x[ie]};i=i||"a4";var _="compat",w="advanced",A=_;function M(){this.saveGraphicsState(),te(new xr(bt,0,0,-bt,0,sf()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),c="n",A=w}function C(){this.restoreGraphicsState(),c="S",A=_}var N=h.__private__.combineFontStyleAndFontWeight=function(ie,Te){if(ie=="bold"&&Te=="normal"||ie=="bold"&&Te==400||ie=="normal"&&Te=="italic"||ie=="bold"&&Te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Te&&(ie=Te==400||Te==="normal"?ie==="italic"?"italic":"normal":Te!=700&&Te!=="bold"||ie!=="normal"?(Te==700?"bold":Te)+""+ie:"bold"),ie};h.advancedAPI=function(ie){var Te=A===_;return Te&&M.call(this),typeof ie!="function"||(ie(this),Te&&C.call(this)),this},h.compatAPI=function(ie){var Te=A===w;return Te&&C.call(this),typeof ie!="function"||(ie(this),Te&&M.call(this)),this},h.isAdvancedAPI=function(){return A===w};var L,D=function(ie){if(A!==w)throw new Error(ie+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=h.roundToPrecision=h.__private__.roundToPrecision=function(ie,Te){var Xe=e||Te;if(isNaN(ie)||isNaN(Xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ie.toFixed(Xe).replace(/0+$/,"")};L=h.hpf=h.__private__.hpf=typeof l=="number"?function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return k(ie,l)}:l==="smart"?function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return k(ie,ie>-1&&ie<1?16:5)}:function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return k(ie,16)};var O=h.f2=h.__private__.f2=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.f2");return k(ie,2)},I=h.__private__.f3=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.f3");return k(ie,3)},j=h.scale=h.__private__.scale=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.scale");return A===_?ie*bt:A===w?ie:void 0},B=function(ie){return j((function(Te){return A===_?sf()-Te:A===w?Te:void 0})(ie))};h.__private__.setPrecision=h.setPrecision=function(ie){typeof parseInt(ie,10)=="number"&&(e=parseInt(ie,10))};var K,H="00000000000000000000000000000000",Z=h.__private__.getFileId=function(){return H},Y=h.__private__.setFileId=function(ie){return H=ie!==void 0&&/^[a-fA-F0-9]{32}$/.test(ie)?ie.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ga=new lw(u.userPermissions,u.userPassword,u.ownerPassword,H)),H};h.setFileId=function(ie){return Y(ie),this},h.getFileId=function(){return Z()};var J=h.__private__.convertDateToPDFDate=function(ie){var Te=ie.getTimezoneOffset(),Xe=Te<0?"+":"-",nt=Math.floor(Math.abs(Te/60)),pt=Math.abs(Te%60),Kt=[Xe,Q(nt),"'",Q(pt),"'"].join("");return["D:",ie.getFullYear(),Q(ie.getMonth()+1),Q(ie.getDate()),Q(ie.getHours()),Q(ie.getMinutes()),Q(ie.getSeconds()),Kt].join("")},oe=h.__private__.convertPDFDateToDate=function(ie){var Te=parseInt(ie.substr(2,4),10),Xe=parseInt(ie.substr(6,2),10)-1,nt=parseInt(ie.substr(8,2),10),pt=parseInt(ie.substr(10,2),10),Kt=parseInt(ie.substr(12,2),10),ar=parseInt(ie.substr(14,2),10);return new Date(Te,Xe,nt,pt,Kt,ar,0)},X=h.__private__.setCreationDate=function(ie){var Te;if(ie===void 0&&(ie=new Date),ie instanceof Date)Te=J(ie);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ie))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Te=ie}return K=Te},F=h.__private__.getCreationDate=function(ie){var Te=K;return ie==="jsDate"&&(Te=oe(K)),Te};h.setCreationDate=function(ie){return X(ie),this},h.getCreationDate=function(ie){return F(ie)};var W,Q=h.__private__.padd2=function(ie){return("0"+parseInt(ie)).slice(-2)},re=h.__private__.padd2Hex=function(ie){return("00"+(ie=ie.toString())).substr(ie.length)},ae=0,ce=[],ye=[],fe=0,be=[],Oe=[],xe=!1,Qe=ye;h.__private__.setCustomOutputDestination=function(ie){xe=!0,Qe=ie};var ne=function(ie){xe||(Qe=ie)};h.__private__.resetCustomOutputDestination=function(){xe=!1,Qe=ye};var te=h.__private__.out=function(ie){return ie=ie.toString(),fe+=ie.length+1,Qe.push(ie),Qe},Me=h.__private__.write=function(ie){return te(arguments.length===1?ie.toString():Array.prototype.join.call(arguments," "))},ge=h.__private__.getArrayBuffer=function(ie){for(var Te=ie.length,Xe=new ArrayBuffer(Te),nt=new Uint8Array(Xe);Te--;)nt[Te]=ie.charCodeAt(Te);return Xe},de=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return de};var _e=r.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(ie){return _e=A===w?ie/bt:ie,this};var je,Be=h.__private__.getFontSize=h.getFontSize=function(){return A===_?_e:_e*bt},Fe=r.R2L||!1;h.__private__.setR2L=h.setR2L=function(ie){return Fe=ie,this},h.__private__.getR2L=h.getR2L=function(){return Fe};var we,pe=h.__private__.setZoomMode=function(ie){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ie))je=ie;else if(isNaN(ie)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ie)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ie+'" is not recognized.');je=ie}else je=parseInt(ie,10)};h.__private__.getZoomMode=function(){return je};var ze,$e=h.__private__.setPageMode=function(ie){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ie)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ie+'" is not recognized.');we=ie};h.__private__.getPageMode=function(){return we};var ht=h.__private__.setLayoutMode=function(ie){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ie)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ie+'" is not recognized.');ze=ie};h.__private__.getLayoutMode=function(){return ze},h.__private__.setDisplayMode=h.setDisplayMode=function(ie,Te,Xe){return pe(ie),ht(Te),$e(Xe),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(ie){if(Object.keys(Je).indexOf(ie)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[ie]},h.__private__.getDocumentProperties=function(){return Je},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(ie){for(var Te in Je)Je.hasOwnProperty(Te)&&ie[Te]&&(Je[Te]=ie[Te]);return this},h.__private__.setDocumentProperty=function(ie,Te){if(Object.keys(Je).indexOf(ie)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[ie]=Te};var Ot,bt,Nt,ir,ft,Dt={},tr={},Ze=[],it={},Wt={},Ue={},Ft={},qt=null,Lt=0,vt=[],Et=new Iq(h),dr=r.hotfixes||[],vr={},Yr={},Hr=[],xr=function ie(Te,Xe,nt,pt,Kt,ar){if(!(this instanceof ie))return new ie(Te,Xe,nt,pt,Kt,ar);isNaN(Te)&&(Te=1),isNaN(Xe)&&(Xe=0),isNaN(nt)&&(nt=0),isNaN(pt)&&(pt=1),isNaN(Kt)&&(Kt=0),isNaN(ar)&&(ar=0),this._matrix=[Te,Xe,nt,pt,Kt,ar]};Object.defineProperty(xr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ie){this._matrix[0]=ie}}),Object.defineProperty(xr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ie){this._matrix[1]=ie}}),Object.defineProperty(xr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ie){this._matrix[2]=ie}}),Object.defineProperty(xr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ie){this._matrix[3]=ie}}),Object.defineProperty(xr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ie){this._matrix[4]=ie}}),Object.defineProperty(xr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ie){this._matrix[5]=ie}}),Object.defineProperty(xr.prototype,"a",{get:function(){return this._matrix[0]},set:function(ie){this._matrix[0]=ie}}),Object.defineProperty(xr.prototype,"b",{get:function(){return this._matrix[1]},set:function(ie){this._matrix[1]=ie}}),Object.defineProperty(xr.prototype,"c",{get:function(){return this._matrix[2]},set:function(ie){this._matrix[2]=ie}}),Object.defineProperty(xr.prototype,"d",{get:function(){return this._matrix[3]},set:function(ie){this._matrix[3]=ie}}),Object.defineProperty(xr.prototype,"e",{get:function(){return this._matrix[4]},set:function(ie){this._matrix[4]=ie}}),Object.defineProperty(xr.prototype,"f",{get:function(){return this._matrix[5]},set:function(ie){this._matrix[5]=ie}}),Object.defineProperty(xr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xr.prototype.join=function(ie){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(ie)},xr.prototype.multiply=function(ie){var Te=ie.sx*this.sx+ie.shy*this.shx,Xe=ie.sx*this.shy+ie.shy*this.sy,nt=ie.shx*this.sx+ie.sy*this.shx,pt=ie.shx*this.shy+ie.sy*this.sy,Kt=ie.tx*this.sx+ie.ty*this.shx+this.tx,ar=ie.tx*this.shy+ie.ty*this.sy+this.ty;return new xr(Te,Xe,nt,pt,Kt,ar)},xr.prototype.decompose=function(){var ie=this.sx,Te=this.shy,Xe=this.shx,nt=this.sy,pt=this.tx,Kt=this.ty,ar=Math.sqrt(ie*ie+Te*Te),zr=(ie/=ar)*Xe+(Te/=ar)*nt;Xe-=ie*zr,nt-=Te*zr;var $r=Math.sqrt(Xe*Xe+nt*nt);return zr/=$r,ie*(nt/=$r)<Te*(Xe/=$r)&&(ie=-ie,Te=-Te,zr=-zr,ar=-ar),{scale:new xr(ar,0,0,$r,0,0),translate:new xr(1,0,0,1,pt,Kt),rotate:new xr(ie,Te,-Te,ie,0,0),skew:new xr(1,0,zr,1,0,0)}},xr.prototype.toString=function(ie){return this.join(" ")},xr.prototype.inversed=function(){var ie=this.sx,Te=this.shy,Xe=this.shx,nt=this.sy,pt=this.tx,Kt=this.ty,ar=1/(ie*nt-Te*Xe),zr=nt*ar,$r=-Te*ar,yn=-Xe*ar,kn=ie*ar;return new xr(zr,$r,yn,kn,-zr*pt-yn*Kt,-$r*pt-kn*Kt)},xr.prototype.applyToPoint=function(ie){var Te=ie.x*this.sx+ie.y*this.shx+this.tx,Xe=ie.x*this.shy+ie.y*this.sy+this.ty;return new ec(Te,Xe)},xr.prototype.applyToRectangle=function(ie){var Te=this.applyToPoint(ie),Xe=this.applyToPoint(new ec(ie.x+ie.w,ie.y+ie.h));return new cl(Te.x,Te.y,Xe.x-Te.x,Xe.y-Te.y)},xr.prototype.clone=function(){var ie=this.sx,Te=this.shy,Xe=this.shx,nt=this.sy,pt=this.tx,Kt=this.ty;return new xr(ie,Te,Xe,nt,pt,Kt)},h.Matrix=xr;var wn=h.matrixMult=function(ie,Te){return Te.multiply(ie)},Va=new xr(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Va;var Ei=function(ie,Te){if(!Wt[ie]){var Xe=(Te instanceof s2?"Sh":"P")+(Object.keys(it).length+1).toString(10);Te.id=Xe,Wt[ie]=Xe,it[Xe]=Te,Et.publish("addPattern",Te)}};h.ShadingPattern=s2,h.TilingPattern=vw,h.addShadingPattern=function(ie,Te){return D("addShadingPattern()"),Ei(ie,Te),this},h.beginTilingPattern=function(ie){D("beginTilingPattern()"),qh(ie.boundingBox[0],ie.boundingBox[1],ie.boundingBox[2]-ie.boundingBox[0],ie.boundingBox[3]-ie.boundingBox[1],ie.matrix)},h.endTilingPattern=function(ie,Te){D("endTilingPattern()"),Te.stream=Oe[W].join(`
`),Ei(ie,Te),Et.publish("endTilingPattern",Te),Hr.pop().restore()};var Ki,Sn=h.__private__.newObject=function(){var ie=Mi();return Ee(ie,!0),ie},Mi=h.__private__.newObjectDeferred=function(){return ae++,ce[ae]=function(){return fe},ae},Ee=function(ie,Te){return Te=typeof Te=="boolean"&&Te,ce[ie]=fe,Te&&te(ie+" 0 obj"),ie},He=h.__private__.newAdditionalObject=function(){var ie={objId:Mi(),content:""};return be.push(ie),ie},ke=Mi(),Re=Mi(),Ve=h.__private__.decodeColorString=function(ie){var Te=ie.split(" ");if(Te.length!==2||Te[1]!=="g"&&Te[1]!=="G")Te.length!==5||Te[4]!=="k"&&Te[4]!=="K"||(Te=[(1-Te[0])*(1-Te[3]),(1-Te[1])*(1-Te[3]),(1-Te[2])*(1-Te[3]),"r"]);else{var Xe=parseFloat(Te[0]);Te=[Xe,Xe,Xe,"r"]}for(var nt="#",pt=0;pt<3;pt++)nt+=("0"+Math.floor(255*parseFloat(Te[pt])).toString(16)).slice(-2);return nt},qe=h.__private__.encodeColorString=function(ie){var Te;typeof ie=="string"&&(ie={ch1:ie});var Xe=ie.ch1,nt=ie.ch2,pt=ie.ch3,Kt=ie.ch4,ar=ie.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Xe=="string"&&Xe.charAt(0)!=="#"){var zr=new Wle(Xe);if(zr.ok)Xe=zr.toHex();else if(!/^\d*\.?\d*$/.test(Xe))throw new Error('Invalid color "'+Xe+'" passed to jsPDF.encodeColorString.')}if(typeof Xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Xe)&&(Xe="#"+Xe[1]+Xe[1]+Xe[2]+Xe[2]+Xe[3]+Xe[3]),typeof Xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Xe)){var $r=parseInt(Xe.substr(1),16);Xe=$r>>16&255,nt=$r>>8&255,pt=255&$r}if(nt===void 0||Kt===void 0&&Xe===nt&&nt===pt)Te=typeof Xe=="string"?Xe+" "+ar[0]:ie.precision===2?O(Xe/255)+" "+ar[0]:I(Xe/255)+" "+ar[0];else if(Kt===void 0||ja(Kt)==="object"){if(Kt&&!isNaN(Kt.a)&&Kt.a===0)return["1.","1.","1.",ar[1]].join(" ");Te=typeof Xe=="string"?[Xe,nt,pt,ar[1]].join(" "):ie.precision===2?[O(Xe/255),O(nt/255),O(pt/255),ar[1]].join(" "):[I(Xe/255),I(nt/255),I(pt/255),ar[1]].join(" ")}else Te=typeof Xe=="string"?[Xe,nt,pt,Kt,ar[2]].join(" "):ie.precision===2?[O(Xe),O(nt),O(pt),O(Kt),ar[2]].join(" "):[I(Xe),I(nt),I(pt),I(Kt),ar[2]].join(" ");return Te},wt=h.__private__.getFilters=function(){return s},Vt=h.__private__.putStream=function(ie){var Te=(ie=ie||{}).data||"",Xe=ie.filters||wt(),nt=ie.alreadyAppliedFilters||[],pt=ie.addLength1||!1,Kt=Te.length,ar=ie.objectId,zr=function(ya){return ya};if(u!==null&&ar===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(zr=ga.encryptor(ar,0));var $r={};Xe===!0&&(Xe=["FlateEncode"]);var yn=ie.additionalKeyValues||[],kn=($r=fn.API.processDataByFilters!==void 0?fn.API.processDataByFilters(Te,Xe):{data:Te,reverseChain:[]}).reverseChain+(Array.isArray(nt)?nt.join(" "):nt.toString());if($r.data.length!==0&&(yn.push({key:"Length",value:$r.data.length}),pt===!0&&yn.push({key:"Length1",value:Kt})),kn.length!=0)if(kn.split("/").length-1==1)yn.push({key:"Filter",value:kn});else{yn.push({key:"Filter",value:"["+kn+"]"});for(var vi=0;vi<yn.length;vi+=1)if(yn[vi].key==="DecodeParms"){for(var Ha=[],Qa=0;Qa<$r.reverseChain.split("/").length-1;Qa+=1)Ha.push("null");Ha.push(yn[vi].value),yn[vi].value="["+Ha.join(" ")+"]"}}te("<<");for(var xa=0;xa<yn.length;xa++)te("/"+yn[xa].key+" "+yn[xa].value);te(">>"),$r.data.length!==0&&(te("stream"),te(zr($r.data)),te("endstream"))},At=h.__private__.putPage=function(ie){var Te=ie.number,Xe=ie.data,nt=ie.objId,pt=ie.contentsObjId;Ee(nt,!0),te("<</Type /Page"),te("/Parent "+ie.rootDictionaryObjId+" 0 R"),te("/Resources "+ie.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(L(ie.mediaBox.bottomLeftX))+" "+parseFloat(L(ie.mediaBox.bottomLeftY))+" "+L(ie.mediaBox.topRightX)+" "+L(ie.mediaBox.topRightY)+"]"),ie.cropBox!==null&&te("/CropBox ["+L(ie.cropBox.bottomLeftX)+" "+L(ie.cropBox.bottomLeftY)+" "+L(ie.cropBox.topRightX)+" "+L(ie.cropBox.topRightY)+"]"),ie.bleedBox!==null&&te("/BleedBox ["+L(ie.bleedBox.bottomLeftX)+" "+L(ie.bleedBox.bottomLeftY)+" "+L(ie.bleedBox.topRightX)+" "+L(ie.bleedBox.topRightY)+"]"),ie.trimBox!==null&&te("/TrimBox ["+L(ie.trimBox.bottomLeftX)+" "+L(ie.trimBox.bottomLeftY)+" "+L(ie.trimBox.topRightX)+" "+L(ie.trimBox.topRightY)+"]"),ie.artBox!==null&&te("/ArtBox ["+L(ie.artBox.bottomLeftX)+" "+L(ie.artBox.bottomLeftY)+" "+L(ie.artBox.topRightX)+" "+L(ie.artBox.topRightY)+"]"),typeof ie.userUnit=="number"&&ie.userUnit!==1&&te("/UserUnit "+ie.userUnit),Et.publish("putPage",{objId:nt,pageContext:vt[Te],pageNumber:Te,page:Xe}),te("/Contents "+pt+" 0 R"),te(">>"),te("endobj");var Kt=Xe.join(`
`);return A===w&&(Kt+=`
Q`),Ee(pt,!0),Vt({data:Kt,filters:wt(),objectId:pt}),te("endobj"),nt},St=h.__private__.putPages=function(){var ie,Te,Xe=[];for(ie=1;ie<=Lt;ie++)vt[ie].objId=Mi(),vt[ie].contentsObjId=Mi();for(ie=1;ie<=Lt;ie++)Xe.push(At({number:ie,data:Oe[ie],objId:vt[ie].objId,contentsObjId:vt[ie].contentsObjId,mediaBox:vt[ie].mediaBox,cropBox:vt[ie].cropBox,bleedBox:vt[ie].bleedBox,trimBox:vt[ie].trimBox,artBox:vt[ie].artBox,userUnit:vt[ie].userUnit,rootDictionaryObjId:ke,resourceDictionaryObjId:Re}));Ee(ke,!0),te("<</Type /Pages");var nt="/Kids [";for(Te=0;Te<Lt;Te++)nt+=Xe[Te]+" 0 R ";te(nt+"]"),te("/Count "+Lt),te(">>"),te("endobj"),Et.publish("postPutPages")},Mt=function(ie){Et.publish("putFont",{font:ie,out:te,newObject:Sn,putStream:Vt}),ie.isAlreadyPutted!==!0&&(ie.objectNumber=Sn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+cw(ie.postScriptName)),te("/Subtype /Type1"),typeof ie.encoding=="string"&&te("/Encoding /"+ie.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},sr=function(ie){ie.objectNumber=Sn();var Te=[];Te.push({key:"Type",value:"/XObject"}),Te.push({key:"Subtype",value:"/Form"}),Te.push({key:"BBox",value:"["+[L(ie.x),L(ie.y),L(ie.x+ie.width),L(ie.y+ie.height)].join(" ")+"]"}),Te.push({key:"Matrix",value:"["+ie.matrix.toString()+"]"});var Xe=ie.pages[1].join(`
`);Vt({data:Xe,additionalKeyValues:Te,objectId:ie.objectNumber}),te("endobj")},or=function(ie,Te){Te||(Te=21);var Xe=Sn(),nt=(function(ar,zr){var $r,yn=[],kn=1/(zr-1);for($r=0;$r<1;$r+=kn)yn.push($r);if(yn.push(1),ar[0].offset!=0){var vi={offset:0,color:ar[0].color};ar.unshift(vi)}if(ar[ar.length-1].offset!=1){var Ha={offset:1,color:ar[ar.length-1].color};ar.push(Ha)}for(var Qa="",xa=0,ya=0;ya<yn.length;ya++){for($r=yn[ya];$r>ar[xa+1].offset;)xa++;var ls=ar[xa].offset,bo=($r-ls)/(ar[xa+1].offset-ls),of=ar[xa].color,Ks=ar[xa+1].color;Qa+=re(Math.round((1-bo)*of[0]+bo*Ks[0]).toString(16))+re(Math.round((1-bo)*of[1]+bo*Ks[1]).toString(16))+re(Math.round((1-bo)*of[2]+bo*Ks[2]).toString(16))}return Qa.trim()})(ie.colors,Te),pt=[];pt.push({key:"FunctionType",value:"0"}),pt.push({key:"Domain",value:"[0.0 1.0]"}),pt.push({key:"Size",value:"["+Te+"]"}),pt.push({key:"BitsPerSample",value:"8"}),pt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vt({data:nt,additionalKeyValues:pt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Xe}),te("endobj"),ie.objectNumber=Sn(),te("<< /ShadingType "+ie.type),te("/ColorSpace /DeviceRGB");var Kt="/Coords ["+L(parseFloat(ie.coords[0]))+" "+L(parseFloat(ie.coords[1]))+" ";ie.type===2?Kt+=L(parseFloat(ie.coords[2]))+" "+L(parseFloat(ie.coords[3])):Kt+=L(parseFloat(ie.coords[2]))+" "+L(parseFloat(ie.coords[3]))+" "+L(parseFloat(ie.coords[4]))+" "+L(parseFloat(ie.coords[5])),te(Kt+="]"),ie.matrix&&te("/Matrix ["+ie.matrix.toString()+"]"),te("/Function "+Xe+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Se=function(ie,Te){var Xe=Mi(),nt=Sn();Te.push({resourcesOid:Xe,objectOid:nt}),ie.objectNumber=nt;var pt=[];pt.push({key:"Type",value:"/Pattern"}),pt.push({key:"PatternType",value:"1"}),pt.push({key:"PaintType",value:"1"}),pt.push({key:"TilingType",value:"1"}),pt.push({key:"BBox",value:"["+ie.boundingBox.map(L).join(" ")+"]"}),pt.push({key:"XStep",value:L(ie.xStep)}),pt.push({key:"YStep",value:L(ie.yStep)}),pt.push({key:"Resources",value:Xe+" 0 R"}),ie.matrix&&pt.push({key:"Matrix",value:"["+ie.matrix.toString()+"]"}),Vt({data:ie.stream,additionalKeyValues:pt,objectId:ie.objectNumber}),te("endobj")},Ke=function(ie){for(var Te in ie.objectNumber=Sn(),te("<<"),ie)switch(Te){case"opacity":te("/ca "+O(ie[Te]));break;case"stroke-opacity":te("/CA "+O(ie[Te]))}te(">>"),te("endobj")},et=function(ie){Ee(ie.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Te in te("/Font <<"),Dt)Dt.hasOwnProperty(Te)&&(f===!1||f===!0&&d.hasOwnProperty(Te))&&te("/"+Te+" "+Dt[Te].objectNumber+" 0 R");te(">>")})(),(function(){if(Object.keys(it).length>0){for(var Te in te("/Shading <<"),it)it.hasOwnProperty(Te)&&it[Te]instanceof s2&&it[Te].objectNumber>=0&&te("/"+Te+" "+it[Te].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),te(">>")}})(),(function(Te){if(Object.keys(it).length>0){for(var Xe in te("/Pattern <<"),it)it.hasOwnProperty(Xe)&&it[Xe]instanceof h.TilingPattern&&it[Xe].objectNumber>=0&&it[Xe].objectNumber<Te&&te("/"+Xe+" "+it[Xe].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),te(">>")}})(ie.objectOid),(function(){if(Object.keys(Ue).length>0){var Te;for(Te in te("/ExtGState <<"),Ue)Ue.hasOwnProperty(Te)&&Ue[Te].objectNumber>=0&&te("/"+Te+" "+Ue[Te].objectNumber+" 0 R");Et.publish("putGStateDict"),te(">>")}})(),(function(){for(var Te in te("/XObject <<"),vr)vr.hasOwnProperty(Te)&&vr[Te].objectNumber>=0&&te("/"+Te+" "+vr[Te].objectNumber+" 0 R");Et.publish("putXobjectDict"),te(">>")})(),te(">>"),te("endobj")},ot=function(ie){tr[ie.fontName]=tr[ie.fontName]||{},tr[ie.fontName][ie.fontStyle]=ie.id},st=function(ie,Te,Xe,nt,pt){var Kt={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:ie,fontName:Te,fontStyle:Xe,encoding:nt,isStandardFont:pt||!1,metadata:{}};return Et.publish("addFont",{font:Kt,instance:this}),Dt[Kt.id]=Kt,ot(Kt),Kt.id},Xt=h.__private__.pdfEscape=h.pdfEscape=function(ie,Te){return(function(Xe,nt){var pt,Kt,ar,zr,$r,yn,kn,vi,Ha;if(ar=(nt=nt||{}).sourceEncoding||"Unicode",$r=nt.outputEncoding,(nt.autoencode||$r)&&Dt[Ot].metadata&&Dt[Ot].metadata[ar]&&Dt[Ot].metadata[ar].encoding&&(zr=Dt[Ot].metadata[ar].encoding,!$r&&Dt[Ot].encoding&&($r=Dt[Ot].encoding),!$r&&zr.codePages&&($r=zr.codePages[0]),typeof $r=="string"&&($r=zr[$r]),$r)){for(kn=!1,yn=[],pt=0,Kt=Xe.length;pt<Kt;pt++)(vi=$r[Xe.charCodeAt(pt)])?yn.push(String.fromCharCode(vi)):yn.push(Xe[pt]),yn[pt].charCodeAt(0)>>8&&(kn=!0);Xe=yn.join("")}for(pt=Xe.length;kn===void 0&&pt!==0;)Xe.charCodeAt(pt-1)>>8&&(kn=!0),pt--;if(!kn)return Xe;for(yn=nt.noBOM?[]:[254,255],pt=0,Kt=Xe.length;pt<Kt;pt++){if((Ha=(vi=Xe.charCodeAt(pt))>>8)>>8)throw new Error("Character at position "+pt+" of string '"+Xe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yn.push(Ha),yn.push(vi-(Ha<<8))}return String.fromCharCode.apply(void 0,yn)})(ie,Te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lr=h.__private__.beginPage=function(ie){Oe[++Lt]=[],vt[Lt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ie[0]),topRightY:Number(ie[1])}},qr(Lt),ne(Oe[W])},_r=function(ie,Te){var Xe,nt,pt;switch(t=Te||t,typeof ie=="string"&&(Xe=g(ie.toLowerCase()),Array.isArray(Xe)&&(nt=Xe[0],pt=Xe[1])),Array.isArray(ie)&&(nt=ie[0]*bt,pt=ie[1]*bt),isNaN(nt)&&(nt=i[0],pt=i[1]),(nt>14400||pt>14400)&&(as.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),nt=Math.min(14400,nt),pt=Math.min(14400,pt)),i=[nt,pt],t.substr(0,1)){case"l":pt>nt&&(i=[pt,nt]);break;case"p":nt>pt&&(i=[pt,nt])}lr(i),vn(Wh),te(Ql),$d!==0&&te($d+" J"),_s!==0&&te(_s+" j"),Et.publish("addPage",{pageNumber:Lt})},Sr=function(ie){ie>0&&ie<=Lt&&(Oe.splice(ie,1),vt.splice(ie,1),Lt--,W>Lt&&(W=Lt),this.setPage(W))},qr=function(ie){ie>0&&ie<=Lt&&(W=ie)},Xr=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Oe.length-1},Gr=function(ie,Te,Xe){var nt,pt=void 0;return Xe=Xe||{},ie=ie!==void 0?ie:Dt[Ot].fontName,Te=Te!==void 0?Te:Dt[Ot].fontStyle,nt=ie.toLowerCase(),tr[nt]!==void 0&&tr[nt][Te]!==void 0?pt=tr[nt][Te]:tr[ie]!==void 0&&tr[ie][Te]!==void 0?pt=tr[ie][Te]:Xe.disableWarning===!1&&as.warn("Unable to look up font label for font '"+ie+"', '"+Te+"'. Refer to getFontList() for available fonts."),pt||Xe.noFallback||(pt=tr.times[Te])==null&&(pt=tr.times.normal),pt},Zr=h.__private__.putInfo=function(){var ie=Sn(),Te=function(nt){return nt};for(var Xe in u!==null&&(Te=ga.encryptor(ie,0)),te("<<"),te("/Producer ("+Xt(Te("jsPDF "+fn.version))+")"),Je)Je.hasOwnProperty(Xe)&&Je[Xe]&&te("/"+Xe.substr(0,1).toUpperCase()+Xe.substr(1)+" ("+Xt(Te(Je[Xe]))+")");te("/CreationDate ("+Xt(Te(K))+")"),te(">>"),te("endobj")},Qn=h.__private__.putCatalog=function(ie){var Te=(ie=ie||{}).rootDictionaryObjId||ke;switch(Sn(),te("<<"),te("/Type /Catalog"),te("/Pages "+Te+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Xe=""+je;Xe.substr(Xe.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&te("/OpenAction [3 0 R /XYZ null null "+O(je)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}we&&te("/PageMode /"+we),Et.publish("putCatalog"),te(">>"),te("endobj")},fi=h.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(ae+1)),te("/Root "+ae+" 0 R"),te("/Info "+(ae-1)+" 0 R"),u!==null&&te("/Encrypt "+ga.oid+" 0 R"),te("/ID [ <"+H+"> <"+H+"> ]"),te(">>")},ln=h.__private__.putHeader=function(){te("%PDF-"+p),te("%")},Ci=h.__private__.putXRef=function(){var ie="0000000000";te("xref"),te("0 "+(ae+1)),te("0000000000 65535 f ");for(var Te=1;Te<=ae;Te++)typeof ce[Te]=="function"?te((ie+ce[Te]()).slice(-10)+" 00000 n "):ce[Te]!==void 0?te((ie+ce[Te]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Wr=h.__private__.buildDocument=function(){var ie;ae=0,fe=0,ye=[],ce=[],be=[],ke=Mi(),Re=Mi(),ne(ye),Et.publish("buildDocument"),ln(),St(),(function(){Et.publish("putAdditionalObjects");for(var Xe=0;Xe<be.length;Xe++){var nt=be[Xe];Ee(nt.objId,!0),te(nt.content),te("endobj")}Et.publish("postPutAdditionalObjects")})(),ie=[],(function(){for(var Xe in Dt)Dt.hasOwnProperty(Xe)&&(f===!1||f===!0&&d.hasOwnProperty(Xe))&&Mt(Dt[Xe])})(),(function(){var Xe;for(Xe in Ue)Ue.hasOwnProperty(Xe)&&Ke(Ue[Xe])})(),(function(){for(var Xe in vr)vr.hasOwnProperty(Xe)&&sr(vr[Xe])})(),(function(Xe){var nt;for(nt in it)it.hasOwnProperty(nt)&&(it[nt]instanceof s2?or(it[nt]):it[nt]instanceof vw&&Se(it[nt],Xe))})(ie),Et.publish("putResources"),ie.forEach(et),et({resourcesOid:Re,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources"),u!==null&&(ga.oid=Sn(),te("<<"),te("/Filter /Standard"),te("/V "+ga.v),te("/R "+ga.r),te("/U <"+ga.toHexString(ga.U)+">"),te("/O <"+ga.toHexString(ga.O)+">"),te("/P "+ga.P),te(">>"),te("endobj")),Zr(),Qn();var Te=fe;return Ci(),fi(),te("startxref"),te(""+Te),te("%%EOF"),ne(Oe[W]),ye.join(`
`)},Ni=h.__private__.getBlob=function(ie){return new Blob([ge(ie)],{type:"application/pdf"})},ei=h.output=h.__private__.output=(Ki=function(ie,Te){switch(typeof(Te=Te||{})=="string"?Te={filename:Te}:Te.filename=Te.filename||"generated.pdf",ie){case void 0:return Wr();case"save":h.save(Te.filename);break;case"arraybuffer":return ge(Wr());case"blob":return Ni(Wr());case"bloburi":case"bloburl":if(zn.URL!==void 0&&typeof zn.URL.createObjectURL=="function")return zn.URL&&zn.URL.createObjectURL(Ni(Wr()))||void 0;as.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Xe="",nt=Wr();try{Xe=Lq(nt)}catch{Xe=Lq(unescape(encodeURIComponent(nt)))}return"data:application/pdf;filename="+Te.filename+";base64,"+Xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(zn)==="[object Window]"){var pt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Te.pdfObjectUrl&&(pt=Te.pdfObjectUrl,Kt="");var ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pt+'"'+Kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Te)+");<\/script></body></html>",zr=zn.open();return zr!==null&&zr.document.write(ar),zr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(zn)==="[object Window]"){var $r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Te.filename+'" width="500px" height="400px" /></body></html>',yn=zn.open();if(yn!==null){yn.document.write($r);var kn=this;yn.document.documentElement.querySelector("#pdfViewer").onload=function(){yn.document.title=Te.filename,yn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kn.output("bloburl"))}}return yn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(zn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Te)+'"></iframe></body></html>',Ha=zn.open();if(Ha!==null&&(Ha.document.write(vi),Ha.document.title=Te.filename),Ha||typeof safari>"u")return Ha;break;case"datauri":case"dataurl":return zn.document.location.href=this.output("datauristring",Te);default:return null}},Ki.foo=function(){try{return Ki.apply(this,arguments)}catch(Xe){var ie=Xe.stack||"";~ie.indexOf(" at ")&&(ie=ie.split(" at ")[1]);var Te="Error in function "+ie.split(`
`)[0].split("<")[0]+": "+Xe.message;if(!zn.console)throw new Error(Te);zn.console.error(Te,Xe),zn.alert&&alert(Te)}},Ki.foo.bar=Ki,Ki.foo),ji=function(ie){return Array.isArray(dr)===!0&&dr.indexOf(ie)>-1};switch(n){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=ji("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);bt=n}var ga=null;X(),Y();var pi=h.__private__.getPageInfo=h.getPageInfo=function(ie){if(isNaN(ie)||ie%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[ie].objId,pageNumber:ie,pageContext:vt[ie]}},Jl=h.__private__.getPageInfoByObjId=function(ie){if(isNaN(ie)||ie%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Te in vt)if(vt[Te].objId===ie)break;return pi(Te)},ea=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:vt[W].objId,pageNumber:W,pageContext:vt[W]}};h.addPage=function(){return _r.apply(this,arguments),this},h.setPage=function(){return qr.apply(this,arguments),ne.call(this,Oe[W]),this},h.insertPage=function(ie){return this.addPage(),this.movePage(W,ie),this},h.movePage=function(ie,Te){var Xe,nt;if(ie>Te){Xe=Oe[ie],nt=vt[ie];for(var pt=ie;pt>Te;pt--)Oe[pt]=Oe[pt-1],vt[pt]=vt[pt-1];Oe[Te]=Xe,vt[Te]=nt,this.setPage(Te)}else if(ie<Te){Xe=Oe[ie],nt=vt[ie];for(var Kt=ie;Kt<Te;Kt++)Oe[Kt]=Oe[Kt+1],vt[Kt]=vt[Kt+1];Oe[Te]=Xe,vt[Te]=nt,this.setPage(Te)}return this},h.deletePage=function(){return Sr.apply(this,arguments),this},h.__private__.text=h.text=function(ie,Te,Xe,nt,pt){var Kt,ar,zr,$r,yn,kn,vi,Ha,Qa,xa=(nt=nt||{}).scope||this;if(typeof ie=="number"&&typeof Te=="number"&&(typeof Xe=="string"||Array.isArray(Xe))){var ya=Xe;Xe=Te,Te=ie,ie=ya}if(arguments[3]instanceof xr==0?(zr=arguments[4],$r=arguments[5],ja(vi=arguments[3])==="object"&&vi!==null||(typeof zr=="string"&&($r=zr,zr=null),typeof vi=="string"&&($r=vi,vi=null),typeof vi=="number"&&(zr=vi,vi=null),nt={flags:vi,angle:zr,align:$r})):(D("The transform parameter of text() with a Matrix value"),Qa=pt),isNaN(Te)||isNaN(Xe)||ie==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ie.length===0)return xa;var ls,bo="",of=typeof nt.lineHeightFactor=="number"?nt.lineHeightFactor:mu,Ks=xa.internal.scaleFactor;function _o(Di){return Di=Di.split("	").join(Array(nt.TabLen||9).join(" ")),Xt(Di,vi)}function Jd(Di){for(var _i,Ea=Di.concat(),es=[],ts=Ea.length;ts--;)typeof(_i=Ea.shift())=="string"?es.push(_i):Array.isArray(Di)&&(_i.length===1||_i[1]===void 0&&_i[2]===void 0)?es.push(_i[0]):es.push([_i[0],_i[1],_i[2]]);return es}function Zh(Di,_i){var Ea;if(typeof Di=="string")Ea=_i(Di)[0];else if(Array.isArray(Di)){for(var es,ts,Cc=Di.concat(),Is=[],u0=Cc.length;u0--;)typeof(es=Cc.shift())=="string"?Is.push(_i(es)[0]):Array.isArray(es)&&typeof es[0]=="string"&&(ts=_i(es[0],es[1],es[2]),Is.push([ts[0],ts[1],ts[2]]));Ea=Is}return Ea}var Ll=!1,Rl=!0;if(typeof ie=="string")Ll=!0;else if(Array.isArray(ie)){var tc=ie.concat();ar=[];for(var Ga,vs=tc.length;vs--;)(typeof(Ga=tc.shift())!="string"||Array.isArray(Ga)&&typeof Ga[0]!="string")&&(Rl=!1);Ll=Rl}if(Ll===!1)throw new Error('Type of text must be string or Array. "'+ie+'" is not recognized.');typeof ie=="string"&&(ie=ie.match(/[\r?\n]/)?ie.split(/\r\n|\r|\n/g):[ie]);var Jf=_e/xa.internal.scaleFactor,lf=Jf*(of-1);switch(nt.baseline){case"bottom":Xe-=lf;break;case"top":Xe+=Jf-lf;break;case"hanging":Xe+=Jf-2*lf;break;case"middle":Xe+=Jf/2-lf}if((kn=nt.maxWidth||0)>0&&(typeof ie=="string"?ie=xa.splitTextToSize(ie,kn):Object.prototype.toString.call(ie)==="[object Array]"&&(ie=ie.reduce(function(Di,_i){return Di.concat(xa.splitTextToSize(_i,kn))},[]))),Kt={text:ie,x:Te,y:Xe,options:nt,mutex:{pdfEscape:Xt,activeFontKey:Ot,fonts:Dt,activeFontSize:_e}},Et.publish("preProcessText",Kt),ie=Kt.text,zr=(nt=Kt.options).angle,Qa instanceof xr==0&&zr&&typeof zr=="number"){zr*=Math.PI/180,nt.rotationDirection===0&&(zr=-zr),A===w&&(zr=-zr);var cf=Math.cos(zr),Ec=Math.sin(zr);Qa=new xr(cf,Ec,-Ec,cf,0,0)}else zr&&zr instanceof xr&&(Qa=zr);A!==w||Qa||(Qa=Va),(yn=nt.charSpace||ll)!==void 0&&(bo+=L(j(yn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ha=nt.horizontalScale)!==void 0&&(bo+=L(100*Ha)+` Tz
`),nt.lang;var $s=-1,uf=nt.renderingMode!==void 0?nt.renderingMode:nt.stroke,Js=xa.internal.getCurrentPageInfo().pageContext;switch(uf){case 0:case!1:case"fill":$s=0;break;case 1:case!0:case"stroke":$s=1;break;case 2:case"fillThenStroke":$s=2;break;case 3:case"invisible":$s=3;break;case 4:case"fillAndAddForClipping":$s=4;break;case 5:case"strokeAndAddPathForClipping":$s=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$s=6;break;case 7:case"addToPathForClipping":$s=7}var c0=Js.usedRenderingMode!==void 0?Js.usedRenderingMode:-1;$s!==-1?bo+=$s+` Tr
`:c0!==-1&&(bo+=`0 Tr
`),$s!==-1&&(Js.usedRenderingMode=$s),$r=nt.align||"left";var ul,Mc=_e*of,ff=xa.internal.pageSize.getWidth(),Qd=Dt[Ot];yn=nt.charSpace||ll,kn=nt.maxWidth||0,vi=Object.assign({autoencode:!0,noBOM:!0},nt.flags);var rc=[],Qf=function(Di){return xa.getStringUnitWidth(Di,{font:Qd,charSpace:yn,fontSize:_e,doKerning:!1})*_e/Ks};if(Object.prototype.toString.call(ie)==="[object Array]"){var wo;ar=Jd(ie),$r!=="left"&&(ul=ar.map(Qf));var ks,Ri=0;if($r==="right"){Te-=ul[0],ie=[],vs=ar.length;for(var hf=0;hf<vs;hf++)hf===0?(ks=ol(Te),wo=Zs(Xe)):(ks=j(Ri-ul[hf]),wo=-Mc),ie.push([ar[hf],ks,wo]),Ri=ul[hf]}else if($r==="center"){Te-=ul[0]/2,ie=[],vs=ar.length;for(var eh=0;eh<vs;eh++)eh===0?(ks=ol(Te),wo=Zs(Xe)):(ks=j((Ri-ul[eh])/2),wo=-Mc),ie.push([ar[eh],ks,wo]),Ri=ul[eh]}else if($r==="left"){ie=[],vs=ar.length;for(var ep=0;ep<vs;ep++)ie.push(ar[ep])}else if($r==="justify"&&Qd.encoding==="Identity-H"){ie=[],vs=ar.length,kn=kn!==0?kn:ff;for(var df=0,ua=0;ua<vs;ua++)if(wo=ua===0?Zs(Xe):-Mc,ks=ua===0?ol(Te):df,ua<vs-1){var zv=j((kn-ul[ua])/(ar[ua].split(" ").length-1)),yu=ar[ua].split(" ");ie.push([yu[0]+" ",ks,wo]),df=0;for(var Ho=1;Ho<yu.length;Ho++){var ta=(Qf(yu[Ho-1]+" "+yu[Ho])-Qf(yu[Ho]))*Ks+zv;Ho==yu.length-1?ie.push([yu[Ho],ta,0]):ie.push([yu[Ho]+" ",ta,0]),df-=ta}}else ie.push([ar[ua],ks,wo]);ie.push(["",df,0])}else{if($r!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ie=[],vs=ar.length,kn=kn!==0?kn:ff,ua=0;ua<vs;ua++){wo=ua===0?Zs(Xe):-Mc,ks=ua===0?ol(Te):0;var pf=ar[ua].split(" ").length-1,tp=pf>0?(kn-ul[ua])/pf:0;ua<vs-1?rc.push(L(j(tp))):rc.push(0),ie.push([ar[ua],ks,wo])}}}(typeof nt.R2L=="boolean"?nt.R2L:Fe)===!0&&(ie=Zh(ie,function(Di,_i,Ea){return[Di.split("").reverse().join(""),_i,Ea]})),Kt={text:ie,x:Te,y:Xe,options:nt,mutex:{pdfEscape:Xt,activeFontKey:Ot,fonts:Dt,activeFontSize:_e}},Et.publish("postProcessText",Kt),ie=Kt.text,ls=Kt.mutex.isHex||!1;var rp=Dt[Ot].encoding;rp!=="WinAnsiEncoding"&&rp!=="StandardEncoding"||(ie=Zh(ie,function(Di,_i,Ea){return[_o(Di),_i,Ea]})),ar=Jd(ie),ie=[];for(var bu,_u,nc,Kh=Array.isArray(ar[0])?1:0,ic="",vf=function(Di,_i,Ea){var es="";return Ea instanceof xr?(Ea=typeof nt.angle=="number"?wn(Ea,new xr(1,0,0,1,Di,_i)):wn(new xr(1,0,0,1,Di,_i),Ea),A===w&&(Ea=wn(new xr(1,0,0,-1,0,0),Ea)),es=Ea.join(" ")+` Tm
`):es=L(Di)+" "+L(_i)+` Td
`,es},So=0;So<ar.length;So++){switch(ic="",Kh){case 1:nc=(ls?"<":"(")+ar[So][0]+(ls?">":")"),bu=parseFloat(ar[So][1]),_u=parseFloat(ar[So][2]);break;case 0:nc=(ls?"<":"(")+ar[So]+(ls?">":")"),bu=ol(Te),_u=Zs(Xe)}rc!==void 0&&rc[So]!==void 0&&(ic=rc[So]+` Tw
`),So===0?ie.push(ic+vf(bu,_u,Qa)+nc):Kh===0?ie.push(ic+nc):Kh===1&&ie.push(ic+vf(bu,_u,Qa)+nc)}ie=Kh===0?ie.join(` Tj
T* `):ie.join(` Tj
`),ie+=` Tj
`;var cs=`BT
/`;return cs+=Ot+" "+_e+` Tf
`,cs+=L(_e*of)+` TL
`,cs+=Dl+`
`,cs+=bo,cs+=ie,te(cs+="ET"),d[Ot]=!0,xa};var ps=h.__private__.clip=h.clip=function(ie){return te(ie==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return ps("evenodd")},h.__private__.discardPath=h.discardPath=function(){return te("n"),this};var ca=h.__private__.isValidStyle=function(ie){var Te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ie)!==-1&&(Te=!0),Te};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(ie){return ca(ie)&&(c=ie),this};var os=h.__private__.getStyle=h.getStyle=function(ie){var Te=c;switch(ie){case"D":case"S":Te="S";break;case"F":Te="f";break;case"FD":case"DF":Te="B";break;case"f":case"f*":case"B":case"B*":Te=ie}return Te},Ra=h.close=function(){return te("h"),this};h.stroke=function(){return te("S"),this},h.fill=function(ie){return Vo("f",ie),this},h.fillEvenOdd=function(ie){return Vo("f*",ie),this},h.fillStroke=function(ie){return Vo("B",ie),this},h.fillStrokeEvenOdd=function(ie){return Vo("B*",ie),this};var Vo=function(ie,Te){ja(Te)==="object"?Rv(Te,ie):te(ie)},Xs=function(ie){ie===null||A===w&&ie===void 0||(ie=os(ie),te(ie))};function qd(ie,Te,Xe,nt,pt){var Kt=new vw(Te||this.boundingBox,Xe||this.xStep,nt||this.yStep,this.gState,pt||this.matrix);Kt.stream=this.stream;var ar=ie+"$$"+this.cloneIndex+++"$$";return Ei(ar,Kt),Kt}var Rv=function(ie,Te){var Xe=Wt[ie.key],nt=it[Xe];if(nt instanceof s2)te("q"),te(Xd(Te)),nt.gState&&h.setGState(nt.gState),te(ie.matrix.toString()+" cm"),te("/"+Xe+" sh"),te("Q");else if(nt instanceof vw){var pt=new xr(1,0,0,-1,0,sf());ie.matrix&&(pt=pt.multiply(ie.matrix||Va),Xe=qd.call(nt,ie.key,ie.boundingBox,ie.xStep,ie.yStep,pt).id),te("q"),te("/Pattern cs"),te("/"+Xe+" scn"),nt.gState&&h.setGState(nt.gState),te(Te),te("Q")}},Xd=function(ie){switch(ie){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},a0=h.moveTo=function(ie,Te){return te(L(j(ie))+" "+L(B(Te))+" m"),this},kv=h.lineTo=function(ie,Te){return te(L(j(ie))+" "+L(B(Te))+" l"),this},sl=h.curveTo=function(ie,Te,Xe,nt,pt,Kt){return te([L(j(ie)),L(B(Te)),L(j(Xe)),L(B(nt)),L(j(pt)),L(B(Kt)),"c"].join(" ")),this};h.__private__.line=h.line=function(ie,Te,Xe,nt,pt){if(isNaN(ie)||isNaN(Te)||isNaN(Xe)||isNaN(nt)||!ca(pt))throw new Error("Invalid arguments passed to jsPDF.line");return A===_?this.lines([[Xe-ie,nt-Te]],ie,Te,[1,1],pt||"S"):this.lines([[Xe-ie,nt-Te]],ie,Te,[1,1]).stroke()},h.__private__.lines=h.lines=function(ie,Te,Xe,nt,pt,Kt){var ar,zr,$r,yn,kn,vi,Ha,Qa,xa,ya,ls,bo;if(typeof ie=="number"&&(bo=Xe,Xe=Te,Te=ie,ie=bo),nt=nt||[1,1],Kt=Kt||!1,isNaN(Te)||isNaN(Xe)||!Array.isArray(ie)||!Array.isArray(nt)||!ca(pt)||typeof Kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(a0(Te,Xe),ar=nt[0],zr=nt[1],yn=ie.length,ya=Te,ls=Xe,$r=0;$r<yn;$r++)(kn=ie[$r]).length===2?(ya=kn[0]*ar+ya,ls=kn[1]*zr+ls,kv(ya,ls)):(vi=kn[0]*ar+ya,Ha=kn[1]*zr+ls,Qa=kn[2]*ar+ya,xa=kn[3]*zr+ls,ya=kn[4]*ar+ya,ls=kn[5]*zr+ls,sl(vi,Ha,Qa,xa,ya,ls));return Kt&&Ra(),Xs(pt),this},h.path=function(ie){for(var Te=0;Te<ie.length;Te++){var Xe=ie[Te],nt=Xe.c;switch(Xe.op){case"m":a0(nt[0],nt[1]);break;case"l":kv(nt[0],nt[1]);break;case"c":sl.apply(this,nt);break;case"h":Ra()}}return this},h.__private__.rect=h.rect=function(ie,Te,Xe,nt,pt){if(isNaN(ie)||isNaN(Te)||isNaN(Xe)||isNaN(nt)||!ca(pt))throw new Error("Invalid arguments passed to jsPDF.rect");return A===_&&(nt=-nt),te([L(j(ie)),L(B(Te)),L(j(Xe)),L(j(nt)),"re"].join(" ")),Xs(pt),this},h.__private__.triangle=h.triangle=function(ie,Te,Xe,nt,pt,Kt,ar){if(isNaN(ie)||isNaN(Te)||isNaN(Xe)||isNaN(nt)||isNaN(pt)||isNaN(Kt)||!ca(ar))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Xe-ie,nt-Te],[pt-Xe,Kt-nt],[ie-pt,Te-Kt]],ie,Te,[1,1],ar,!0),this},h.__private__.roundedRect=h.roundedRect=function(ie,Te,Xe,nt,pt,Kt,ar){if(isNaN(ie)||isNaN(Te)||isNaN(Xe)||isNaN(nt)||isNaN(pt)||isNaN(Kt)||!ca(ar))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var zr=4/3*(Math.SQRT2-1);return pt=Math.min(pt,.5*Xe),Kt=Math.min(Kt,.5*nt),this.lines([[Xe-2*pt,0],[pt*zr,0,pt,Kt-Kt*zr,pt,Kt],[0,nt-2*Kt],[0,Kt*zr,-pt*zr,Kt,-pt,Kt],[2*pt-Xe,0],[-pt*zr,0,-pt,-Kt*zr,-pt,-Kt],[0,2*Kt-nt],[0,-Kt*zr,pt*zr,-Kt,pt,-Kt]],ie+pt,Te,[1,1],ar,!0),this},h.__private__.ellipse=h.ellipse=function(ie,Te,Xe,nt,pt){if(isNaN(ie)||isNaN(Te)||isNaN(Xe)||isNaN(nt)||!ca(pt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Kt=4/3*(Math.SQRT2-1)*Xe,ar=4/3*(Math.SQRT2-1)*nt;return a0(ie+Xe,Te),sl(ie+Xe,Te-ar,ie+Kt,Te-nt,ie,Te-nt),sl(ie-Kt,Te-nt,ie-Xe,Te-ar,ie-Xe,Te),sl(ie-Xe,Te+ar,ie-Kt,Te+nt,ie,Te+nt),sl(ie+Kt,Te+nt,ie+Xe,Te+ar,ie+Xe,Te),Xs(pt),this},h.__private__.circle=h.circle=function(ie,Te,Xe,nt){if(isNaN(ie)||isNaN(Te)||isNaN(Xe)||!ca(nt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ie,Te,Xe,Xe,nt)},h.setFont=function(ie,Te,Xe){return Xe&&(Te=N(Te,Xe)),Ot=Gr(ie,Te,{disableWarning:!1}),this};var Ac=h.__private__.getFont=h.getFont=function(){return Dt[Gr.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var ie,Te,Xe={};for(ie in tr)if(tr.hasOwnProperty(ie))for(Te in Xe[ie]=[],tr[ie])tr[ie].hasOwnProperty(Te)&&Xe[ie].push(Te);return Xe},h.addFont=function(ie,Te,Xe,nt,pt){var Kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Kt.indexOf(arguments[3])!==-1?pt=arguments[3]:arguments[3]&&Kt.indexOf(arguments[3])==-1&&(Xe=N(Xe,nt)),st.call(this,ie,Te,Xe,pt=pt||"Identity-H")};var mu,Wh=r.lineWidth||.200025,Kf=h.__private__.getLineWidth=h.getLineWidth=function(){return Wh},vn=h.__private__.setLineWidth=h.setLineWidth=function(ie){return Wh=ie,te(L(j(ie))+" w"),this};h.__private__.setLineDash=fn.API.setLineDash=fn.API.setLineDashPattern=function(ie,Te){if(ie=ie||[],Te=Te||0,isNaN(Te)||!Array.isArray(ie))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ie=ie.map(function(Xe){return L(j(Xe))}).join(" "),Te=L(j(Te)),te("["+ie+"] "+Te+" d"),this};var Iv=h.__private__.getLineHeight=h.getLineHeight=function(){return _e*mu};h.__private__.getLineHeight=h.getLineHeight=function(){return _e*mu};var s0=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(ie){return typeof(ie=ie||1.15)=="number"&&(mu=ie),this},Ov=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return mu};s0(r.lineHeight);var ol=h.__private__.getHorizontalCoordinate=function(ie){return j(ie)},Zs=h.__private__.getVerticalCoordinate=function(ie){return A===w?ie:vt[W].mediaBox.topRightY-vt[W].mediaBox.bottomLeftY-j(ie)},o0=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(ie){return L(ol(ie))},Zd=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(ie){return L(Zs(ie))},Ql=r.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ve(Ql)},h.__private__.setStrokeColor=h.setDrawColor=function(ie,Te,Xe,nt){return Ql=qe({ch1:ie,ch2:Te,ch3:Xe,ch4:nt,pdfColorType:"draw",precision:2}),te(Ql),this};var Yh=r.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ve(Yh)},h.__private__.setFillColor=h.setFillColor=function(ie,Te,Xe,nt){return Yh=qe({ch1:ie,ch2:Te,ch3:Xe,ch4:nt,pdfColorType:"fill",precision:2}),te(Yh),this};var Dl=r.textColor||"0 g",l0=h.__private__.getTextColor=h.getTextColor=function(){return Ve(Dl)};h.__private__.setTextColor=h.setTextColor=function(ie,Te,Xe,nt){return Dl=qe({ch1:ie,ch2:Te,ch3:Xe,ch4:nt,pdfColorType:"text",precision:3}),this};var ll=r.charSpace,Kd=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(ll||0)};h.__private__.setCharSpace=h.setCharSpace=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ll=ie,this};var $d=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(ie){var Te=h.CapJoinStyles[ie];if(Te===void 0)throw new Error("Line cap style of '"+ie+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $d=Te,te(Te+" J"),this};var _s=0;h.__private__.setLineJoin=h.setLineJoin=function(ie){var Te=h.CapJoinStyles[ie];if(Te===void 0)throw new Error("Line join style of '"+ie+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _s=Te,te(Te+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(ie){if(ie=ie||0,isNaN(ie))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(L(j(ie))+" M"),this},h.GState=YD,h.setGState=function(ie){(ie=typeof ie=="string"?Ue[Ft[ie]]:gu(null,ie)).equals(qt)||(te("/"+ie.id+" gs"),qt=ie)};var gu=function(ie,Te){if(!ie||!Ft[ie]){var Xe=!1;for(var nt in Ue)if(Ue.hasOwnProperty(nt)&&Ue[nt].equals(Te)){Xe=!0;break}if(Xe)Te=Ue[nt];else{var pt="GS"+(Object.keys(Ue).length+1).toString(10);Ue[pt]=Te,Te.id=pt}return ie&&(Ft[ie]=Te.id),Et.publish("addGState",Te),Te}};h.addGState=function(ie,Te){return gu(ie,Te),this},h.saveGraphicsState=function(){return te("q"),Ze.push({key:Ot,size:_e,color:Dl}),this},h.restoreGraphicsState=function(){te("Q");var ie=Ze.pop();return Ot=ie.key,_e=ie.size,Dl=ie.color,qt=null,this},h.setCurrentTransformationMatrix=function(ie){return te(ie.toString()+" cm"),this},h.comment=function(ie){return te("#"+ie),this};var ec=function(ie,Te){var Xe=ie||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Xe},set:function(Kt){isNaN(Kt)||(Xe=parseFloat(Kt))}});var nt=Te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return nt},set:function(Kt){isNaN(Kt)||(nt=parseFloat(Kt))}});var pt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pt},set:function(Kt){pt=Kt.toString()}}),this},cl=function(ie,Te,Xe,nt){ec.call(this,ie,Te),this.type="rect";var pt=Xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pt},set:function(ar){isNaN(ar)||(pt=parseFloat(ar))}});var Kt=nt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Kt},set:function(ar){isNaN(ar)||(Kt=parseFloat(ar))}}),this},$f=function(){this.page=Lt,this.currentPage=W,this.pages=Oe.slice(0),this.pagesContext=vt.slice(0),this.x=Nt,this.y=ir,this.matrix=ft,this.width=nf(W),this.height=Pv(W),this.outputDestination=Qe,this.id="",this.objectNumber=-1};$f.prototype.restore=function(){Lt=this.page,W=this.currentPage,vt=this.pagesContext,Oe=this.pages,Nt=this.x,ir=this.y,ft=this.matrix,Xh(W,this.width),ka(W,this.height),Qe=this.outputDestination};var qh=function(ie,Te,Xe,nt,pt){Hr.push(new $f),Lt=W=0,Oe=[],Nt=ie,ir=Te,ft=pt,lr([Xe,nt])};for(var xu in h.beginFormObject=function(ie,Te,Xe,nt,pt){return qh(ie,Te,Xe,nt,pt),this},h.endFormObject=function(ie){return(function(Te){if(Yr[Te])Hr.pop().restore();else{var Xe=new $f,nt="Xo"+(Object.keys(vr).length+1).toString(10);Xe.id=nt,Yr[Te]=nt,vr[nt]=Xe,Et.publish("addFormObject",Xe),Hr.pop().restore()}})(ie),this},h.doFormObject=function(ie,Te){var Xe=vr[Yr[ie]];return te("q"),te(Te.toString()+" cm"),te("/"+Xe.id+" Do"),te("Q"),this},h.getFormObject=function(ie){var Te=vr[Yr[ie]];return{x:Te.x,y:Te.y,width:Te.width,height:Te.height,matrix:Te.matrix}},h.save=function(ie,Te){return ie=ie||"generated.pdf",(Te=Te||{}).returnPromise=Te.returnPromise||!1,Te.returnPromise===!1?(X1(Ni(Wr()),ie),typeof X1.unload=="function"&&zn.setTimeout&&setTimeout(X1.unload,911),this):new Promise(function(Xe,nt){try{var pt=X1(Ni(Wr()),ie);typeof X1.unload=="function"&&zn.setTimeout&&setTimeout(X1.unload,911),Xe(pt)}catch(Kt){nt(Kt.message)}})},fn.API)fn.API.hasOwnProperty(xu)&&(xu==="events"&&fn.API.events.length?(function(ie,Te){var Xe,nt,pt;for(pt=Te.length-1;pt!==-1;pt--)Xe=Te[pt][0],nt=Te[pt][1],ie.subscribe.apply(ie,[Xe].concat(typeof nt=="function"?[nt]:nt))})(Et,fn.API.events):h[xu]=fn.API[xu]);function nf(ie){return vt[ie].mediaBox.topRightX-vt[ie].mediaBox.bottomLeftX}function Xh(ie,Te){vt[ie].mediaBox.topRightX=Te+vt[ie].mediaBox.bottomLeftX}function Pv(ie){return vt[ie].mediaBox.topRightY-vt[ie].mediaBox.bottomLeftY}function ka(ie,Te){vt[ie].mediaBox.topRightY=Te+vt[ie].mediaBox.bottomLeftY}var af=h.getPageWidth=function(ie){return nf(ie=ie||W)/bt},Fv=h.setPageWidth=function(ie,Te){Xh(ie,Te*bt)},sf=h.getPageHeight=function(ie){return Pv(ie=ie||W)/bt},Bv=h.setPageHeight=function(ie,Te){ka(ie,Te*bt)};return h.internal={pdfEscape:Xt,getStyle:os,getFont:Ac,getFontSize:Be,getCharSpace:Kd,getTextColor:l0,getLineHeight:Iv,getLineHeightFactor:Ov,getLineWidth:Kf,write:Me,getHorizontalCoordinate:ol,getVerticalCoordinate:Zs,getCoordinateString:o0,getVerticalCoordinateString:Zd,collections:{},newObject:Sn,newAdditionalObject:He,newObjectDeferred:Mi,newObjectDeferredBegin:Ee,getFilters:wt,putStream:Vt,events:Et,scaleFactor:bt,pageSize:{getWidth:function(){return af(W)},setWidth:function(ie){Fv(W,ie)},getHeight:function(){return sf(W)},setHeight:function(ie){Bv(W,ie)}},encryptionOptions:u,encryption:ga,getEncryptor:function(ie){return u!==null?ga.encryptor(ie,0):function(Te){return Te}},output:ei,getNumberOfPages:Xr,get pages(){return Oe},out:te,f2:O,f3:I,getPageInfo:pi,getPageInfoByObjId:Jl,getCurrentPageInfo:ea,getPDFVersion:v,Point:ec,Rectangle:cl,Matrix:xr,hasHotfix:ji},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return af(W)},set:function(ie){Fv(W,ie)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return sf(W)},set:function(ie){Bv(W,ie)},enumerable:!0,configurable:!0}),(function(ie){for(var Te=0,Xe=de.length;Te<Xe;Te++){var nt=st.call(this,ie[Te][0],ie[Te][1],ie[Te][2],de[Te][3],!0);f===!1&&(d[nt]=!0);var pt=ie[Te][0].split("-");ot({id:nt,fontName:pt[0],fontStyle:pt[1]||""})}Et.publish("addFonts",{fonts:Dt,dictionary:tr})}).call(h,de),Ot="F1",_r(i,t),Et.publish("initialized"),h}lw.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},lw.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lw.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},lw.prototype.processOwnerPassword=function(r,e){return QB(JB(e).substr(0,5),r)},lw.prototype.encryptor=function(r,e){var t=JB(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return QB(t,n)}},YD.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||ja(r)!==ja(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},fn.API={events:[]},fn.version="3.0.4";var co=fn.API,OU=1,fb=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},s_=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xn=function(r){return r.toFixed(2)},rx=function(r){return r.toFixed(5)};co.__acroform__={};var qf=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Oq=function(r){return r*OU},V0=function(r){var e=new Zle,t=tn.internal.getHeight(r)||0,n=tn.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Xn(n)),Number(Xn(t))],e},G3e=co.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},W3e=co.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},Y3e=co.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Io=co.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Y3e(r,e-1)},Oo=co.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G3e(r,e-1)},Po=co.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return W3e(r,e-1)},q3e=co.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],a=r[1],s=r[2],o=r[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=n(a)||0,[Number(Xn(l.lowerLeft_X)),Number(Xn(l.lowerLeft_Y)),Number(Xn(l.upperRight_X)),Number(Xn(l.upperRight_Y))]},X3e=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=e7(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+Xn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=V0(r);return a.scope=r.scope,a.stream=e.join(`
`),a}},e7=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=t,s=tn.internal.getHeight(r)||0;s=s<0?-s:s;var o=tn.internal.getWidth(r)||0;o=o<0?-o:o;var l=function(O,I,j){if(O+1<i.length){var B=I+" "+i[O+1][0];return yC(B,r,j).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=yC("3",r,a).height,d=r.multiline?s-a:(s-f)/2,h=d+=2,p=0,v=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+yC(e,r,a=12).width+", FieldWidth:"+o+`
`;break}for(var g="",_=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var A=!1;if(i[w].length!==1&&x!==i[w].length-1){if((f+2)*(_+2)+2>s)continue e;g+=i[w][x],A=!0,v=w,w--}else{g=(g+=i[w][x]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var M=parseInt(w),C=l(M,g,a),N=w>=i.length-1;if(C&&!N){g+=" ",x=0;continue}if(C||N){if(N)v=M;else if(r.multiline&&(f+2)*(_+2)+2>s)continue e}else{if(!r.multiline||(f+2)*(_+2)+2>s)continue e;v=M}}for(var L="",D=p;D<=v;D++){var k=i[D];if(r.multiline){if(D===v){L+=k[x]+" ",x=(x+1)%k.length;continue}if(D===p){L+=k[k.length-1]+" ";continue}}L+=k[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=yC(L,r,a).width,r.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=Xn(c)+" "+Xn(h)+` Td
`,e+="("+fb(L)+`) Tj
`,e+=-Xn(c)+` 0 Td
`,h=-(a+2),u=0,p=A?v:v+1,_++,g=""}break}return n.text=e,n.fontSize=a,n},yC=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Z3e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},K3e=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},$3e=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(e0.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Z3e)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");OU=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new Kle,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&K3e(a,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=q3e(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=tn.createDefaultAppearanceStream(o),ja(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=X3e(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var h=o.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var p=h[s];typeof p=="function"&&(p=p.call(i,o)),f+="/"+s+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(i,o)),f+="/"+s+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&(function(v,x){for(var g in v)if(v.hasOwnProperty(g)){var _=g,w=v[g];x.internal.newObjectDeferredBegin(w.objId,!0),ja(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete v[_]}})(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},Xle=co.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(s){return s};if(Array.isArray(r)){for(var i="[",a=0;a<r.length;a++)switch(a!==0&&(i+=" "),ja(r[a])){case"boolean":case"number":case"object":i+=r[a].toString();break;case"string":r[a].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+fb(n(r[a].toString()))+")"):i+=r[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},yO=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+fb(n(r))+")"},J0=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};J0.prototype.toString=function(){return this.objId+" 0 R"},J0.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},J0.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:Xle(i,this.objId,this.scope)}):i instanceof J0?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var Zle=function(){J0.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};qf(Zle,J0);var Kle=function(){J0.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+fb(t(r))+")"}},set:function(t){r=t}})};qf(Kle,J0);var e0=function r(){J0.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Io(e,3)},set:function(g){g?this.F=Oo(e,3):this.F=Po(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');t=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof qD)return;a="FieldObject"+r.FieldNum++}var g=function(_){return _};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+fb(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/OU:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof qD||this instanceof N2))return yO(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Wl==0?yO(d,this.objId,this.scope):d},set:function(g){g=g.toString(),d=this instanceof Wl==0?g.substr(0,1)==="("?s_(g.substr(1,g.length-2)):s_(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wl==1?s_(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof Wl==1?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Wl==0?yO(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof Wl==0?g.substr(0,1)==="("?s_(g.substr(1,g.length-2)):s_(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wl==1?s_(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Wl==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(g){g=!!g,v=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,1)},set:function(g){g?this.Ff=Oo(this.Ff,1):this.Ff=Po(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,2)},set:function(g){g?this.Ff=Oo(this.Ff,2):this.Ff=Po(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,3)},set:function(g){g?this.Ff=Oo(this.Ff,3):this.Ff=Po(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');x=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(x){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};qf(e0,J0);var kw=function(){e0.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Xle(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=(function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,18)},set:function(t){t?this.Ff=Oo(this.Ff,18):this.Ff=Po(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Oo(this.Ff,19):this.Ff=Po(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,20)},set:function(t){t?(this.Ff=Oo(this.Ff,20),e.sort()):this.Ff=Po(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,22)},set:function(t){t?this.Ff=Oo(this.Ff,22):this.Ff=Po(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,23)},set:function(t){t?this.Ff=Oo(this.Ff,23):this.Ff=Po(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,27)},set:function(t){t?this.Ff=Oo(this.Ff,27):this.Ff=Po(this.Ff,27)}}),this.hasAppearanceStream=!1};qf(kw,e0);var Iw=function(){kw.call(this),this.fontName="helvetica",this.combo=!1};qf(Iw,kw);var Ow=function(){Iw.call(this),this.combo=!0};qf(Ow,Iw);var rD=function(){Ow.call(this),this.edit=!0};qf(rD,Ow);var Wl=function(){e0.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,15)},set:function(t){t?this.Ff=Oo(this.Ff,15):this.Ff=Po(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,16)},set:function(t){t?this.Ff=Oo(this.Ff,16):this.Ff=Po(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,17)},set:function(t){t?this.Ff=Oo(this.Ff,17):this.Ff=Po(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,26)},set:function(t){t?this.Ff=Oo(this.Ff,26):this.Ff=Po(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+fb(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){ja(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};qf(Wl,e0);var nD=function(){Wl.call(this),this.pushButton=!0};qf(nD,Wl);var Pw=function(){Wl.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};qf(Pw,Wl);var qD=function(){var r,e;e0.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+fb(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){ja(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qf(qD,e0),Pw.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Pw.prototype.createOption=function(r){var e=new qD;return e.Parent=this,e.optionName=r,this.Kids.push(e),J3e.call(this.scope,e),e};var iD=function(){Wl.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tn.CheckBox.createAppearanceStream()};qf(iD,Wl);var N2=function(){e0.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,13)},set:function(e){e?this.Ff=Oo(this.Ff,13):this.Ff=Po(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,21)},set:function(e){e?this.Ff=Oo(this.Ff,21):this.Ff=Po(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,23)},set:function(e){e?this.Ff=Oo(this.Ff,23):this.Ff=Po(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,24)},set:function(e){e?this.Ff=Oo(this.Ff,24):this.Ff=Po(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,25)},set:function(e){e?this.Ff=Oo(this.Ff,25):this.Ff=Po(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,26)},set:function(e){e?this.Ff=Oo(this.Ff,26):this.Ff=Po(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qf(N2,e0);var aD=function(){N2.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Io(this.Ff,14)},set:function(r){r?this.Ff=Oo(this.Ff,14):this.Ff=Po(this.Ff,14)}}),this.password=!0};qf(aD,N2);var tn={CheckBox:{createAppearanceStream:function(){return{N:{On:tn.CheckBox.YesNormal},D:{On:tn.CheckBox.YesPushDown,Off:tn.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=V0(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=e7(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Xn(tn.internal.getWidth(r))+" "+Xn(tn.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Xn(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=V0(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],a=tn.internal.getHeight(r),s=tn.internal.getWidth(r),o=e7(r,r.caption);return i.push("1 g"),i.push("0 0 "+Xn(s)+" "+Xn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Xn(s-1)+" "+Xn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Xn(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=V0(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xn(tn.internal.getWidth(r))+" "+Xn(tn.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:tn.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=tn.RadioButton.Circle.YesNormal,e.D[r]=tn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=V0(r);e.scope=r.scope;var t=[],n=tn.internal.getWidth(r)<=tn.internal.getHeight(r)?tn.internal.getWidth(r)/4:tn.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=tn.internal.Bezier_C,a=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+rx(tn.internal.getWidth(r)/2)+" "+rx(tn.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=V0(r);e.scope=r.scope;var t=[],n=tn.internal.getWidth(r)<=tn.internal.getHeight(r)?tn.internal.getWidth(r)/4:tn.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*tn.internal.Bezier_C).toFixed(5)),s=Number((n*tn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+rx(tn.internal.getWidth(r)/2)+" "+rx(tn.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+rx(tn.internal.getWidth(r)/2)+" "+rx(tn.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=V0(r);e.scope=r.scope;var t=[],n=tn.internal.getWidth(r)<=tn.internal.getHeight(r)?tn.internal.getWidth(r)/4:tn.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*tn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+rx(tn.internal.getWidth(r)/2)+" "+rx(tn.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:tn.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=tn.RadioButton.Cross.YesNormal,e.D[r]=tn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=V0(r);e.scope=r.scope;var t=[],n=tn.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Xn(tn.internal.getWidth(r)-2)+" "+Xn(tn.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Xn(n.x1.x)+" "+Xn(n.x1.y)+" m"),t.push(Xn(n.x2.x)+" "+Xn(n.x2.y)+" l"),t.push(Xn(n.x4.x)+" "+Xn(n.x4.y)+" m"),t.push(Xn(n.x3.x)+" "+Xn(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=V0(r);e.scope=r.scope;var t=tn.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Xn(tn.internal.getWidth(r))+" "+Xn(tn.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Xn(tn.internal.getWidth(r)-2)+" "+Xn(tn.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Xn(t.x1.x)+" "+Xn(t.x1.y)+" m"),n.push(Xn(t.x2.x)+" "+Xn(t.x2.y)+" l"),n.push(Xn(t.x4.x)+" "+Xn(t.x4.y)+" m"),n.push(Xn(t.x3.x)+" "+Xn(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=V0(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xn(tn.internal.getWidth(r))+" "+Xn(tn.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};tn.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=tn.internal.getWidth(r),t=tn.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},tn.internal.getWidth=function(r){var e=0;return ja(r)==="object"&&(e=Oq(r.Rect[2])),e},tn.internal.getHeight=function(r){var e=0;return ja(r)==="object"&&(e=Oq(r.Rect[3])),e};var J3e=co.addField=function(r){if($3e(this,r),!(r instanceof e0))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};co.AcroFormChoiceField=kw,co.AcroFormListBox=Iw,co.AcroFormComboBox=Ow,co.AcroFormEditBox=rD,co.AcroFormButton=Wl,co.AcroFormPushButton=nD,co.AcroFormRadioButton=Pw,co.AcroFormCheckBox=iD,co.AcroFormTextField=N2,co.AcroFormPasswordField=aD,co.AcroFormAppearance=tn,co.AcroForm={ChoiceField:kw,ListBox:Iw,ComboBox:Ow,EditBox:rD,Button:Wl,PushButton:nD,RadioButton:Pw,CheckBox:iD,TextField:N2,PasswordField:aD,Appearance:tn},fn.AcroForm={ChoiceField:kw,ListBox:Iw,ComboBox:Ow,EditBox:rD,Button:Wl,PushButton:nD,RadioButton:Pw,CheckBox:iD,TextField:N2,PasswordField:aD,Appearance:tn};fn.AcroForm;function $le(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(O,I){var j,B,K,H,Z,Y=t;if((I=I||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(C(O))for(Z in n)for(K=n[Z],j=0;j<K.length;j+=1){for(H=!0,B=0;B<K[j].length;B+=1)if(K[j][B]!==void 0&&K[j][B]!==O[B]){H=!1;break}if(H===!0){Y=Z;break}}else for(Z in n)for(K=n[Z],j=0;j<K.length;j+=1){for(H=!0,B=0;B<K[j].length;B+=1)if(K[j][B]!==void 0&&K[j][B]!==O.charCodeAt(B)){H=!1;break}if(H===!0){Y=Z;break}}return Y===t&&I!==t&&(Y=I),Y},a=function O(I){for(var j=this.internal.write,B=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:I.width}),H.push({key:"Height",value:I.height}),I.colorSpace===g.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===g.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var Z="",Y=0,J=I.transparency.length;Y<J;Y++)Z+=I.transparency[Y]+" "+I.transparency[Y]+" ";H.push({key:"Mask",value:"["+Z+"]"})}I.sMask!==void 0&&H.push({key:"SMask",value:I.objectId+1+" 0 R"});var oe=I.filter!==void 0?["/"+I.filter]:void 0;if(B({data:I.data,additionalKeyValues:H,alreadyAppliedFilters:oe,objectId:I.objectId}),j("endobj"),"sMask"in I&&I.sMask!==void 0){var X,F=(X=I.sMaskBitsPerComponent)!==null&&X!==void 0?X:I.bitsPerComponent,W={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:I.sMask};"filter"in I&&(W.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(I.width),W.filter=I.filter),O.call(this,W)}if(I.colorSpace===g.INDEXED){var Q=this.internal.newObject();B({data:L(new Uint8Array(I.palette)),objectId:Q}),j("endobj")}},s=function(){var O=this.internal.collections[e+"images"];for(var I in O)a.call(this,O[I])},o=function(){var O,I=this.internal.collections[e+"images"],j=this.internal.write;for(var B in I)j("/I"+(O=I[B]).index,O.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var O=this.internal.collections[e+"images"];return l.call(this),O},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(O){return typeof r["process"+O.toUpperCase()]=="function"},d=function(O){return ja(O)==="object"&&O.nodeType===1},h=function(O,I){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var j=""+O.getAttribute("src");if(j.indexOf("data:image/")===0)return tD(unescape(j).split("base64,").pop());var B=r.loadFile(j,!0);if(B!==void 0)return B}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var K;switch(I){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return tD(O.toDataURL(K,1).split("base64,").pop())}},p=function(O){var I=this.internal.collections[e+"images"];if(I){for(var j in I)if(O===I[j].alias)return I[j]}},v=function(O,I,j){return O||I||(O=-96,I=-96),O<0&&(O=-1*j.width*72/O/this.internal.scaleFactor),I<0&&(I=-1*j.height*72/I/this.internal.scaleFactor),O===0&&(O=I*j.width/j.height),I===0&&(I=O*j.height/j.width),[O,I]},x=function(O,I,j,B,K,H){var Z=v.call(this,j,B,K),Y=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,oe=c.call(this);if(j=Z[0],B=Z[1],oe[K.index]=K,H){H*=Math.PI/180;var X=Math.cos(H),F=Math.sin(H),W=function(re){return re.toFixed(4)},Q=[W(X),W(F),W(-1*F),W(X),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,Y(O),J(I+B),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([Y(j),"0","0",Y(B),"0","0","cm"].join(" "))):this.internal.write([Y(j),"0","0",Y(B),Y(O),J(I+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},g=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=r.__addimage__.sHashCode=function(O){var I,j,B=0;if(typeof O=="string")for(j=O.length,I=0;I<j;I++)B=(B<<5)-B+O.charCodeAt(I),B|=0;else if(C(O))for(j=O.byteLength/2,I=0;I<j;I++)B=(B<<5)-B+O[I],B|=0;return B},A=r.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var I=!0;return O.length===0&&(I=!1),O.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(I=!1),I},M=r.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var I=O.indexOf(",");return I<0?null:O.substring(0,I).trim().endsWith("base64")?O.substring(I+1):null};r.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var C=r.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},N=r.__addimage__.binaryStringToUint8Array=function(O){for(var I=O.length,j=new Uint8Array(I),B=0;B<I;B++)j[B]=O.charCodeAt(B);return j},L=r.__addimage__.arrayBufferToBinaryString=function(O){for(var I="",j=C(O)?O:new Uint8Array(O),B=0;B<j.length;B+=8192)I+=String.fromCharCode.apply(null,j.subarray(B,B+8192));return I};r.addImage=function(){var O,I,j,B,K,H,Z,Y,J;if(typeof arguments[1]=="number"?(I=t,j=arguments[1],B=arguments[2],K=arguments[3],H=arguments[4],Z=arguments[5],Y=arguments[6],J=arguments[7]):(I=arguments[1],j=arguments[2],B=arguments[3],K=arguments[4],H=arguments[5],Z=arguments[6],Y=arguments[7],J=arguments[8]),ja(O=arguments[0])==="object"&&!d(O)&&"imageData"in O){var oe=O;O=oe.imageData,I=oe.format||I||t,j=oe.x||j||0,B=oe.y||B||0,K=oe.w||oe.width||K,H=oe.h||oe.height||H,Z=oe.alias||Z,Y=oe.compression||Y,J=oe.rotation||oe.angle||J}var X=this.internal.getFilters();if(Y===void 0&&X.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(j)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=D.call(this,O,I,Z,Y);return x.call(this,j,B,K,H,F,J),this};var D=function(O,I,j,B){var K,H,Z;if(typeof O=="string"&&i(O)===t){O=unescape(O);var Y=k(O,!1);(Y!==""||(Y=r.loadFile(O,!0))!==void 0)&&(O=Y)}if(d(O)&&(O=h(O,I)),I=i(O,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((Z=j)==null||Z.length===0)&&(j=(function(J){return typeof J=="string"||C(J)?w(J):C(J.data)?w(J.data):null})(O)),(K=p.call(this,j))||(O instanceof Uint8Array||I==="RGBA"||(H=O,O=N(O)),K=this["process"+I.toUpperCase()](O,u.call(this),j,(function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in r.image_compression?J:_.NONE})(B),H)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},k=r.__addimage__.convertBase64ToBinaryString=function(O,I){I=typeof I!="boolean"||I;var j,B="";if(typeof O=="string"){var K;j=(K=M(O))!==null&&K!==void 0?K:O;try{B=tD(j)}catch(H){if(I)throw A(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};r.getImageProperties=function(O){var I,j,B="";if(d(O)&&(O=h(O)),typeof O=="string"&&i(O)===t&&((B=k(O,!1))===""&&(B=r.loadFile(O)||""),O=B),j=i(O),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(O instanceof Uint8Array||(O=N(O)),!(I=this["process"+j.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=j,I}})(fn.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};fn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){n=c[d];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(v.objId),_=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(g(_))+") >>",v.content=a;var w=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(v.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(p(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var C=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:c(n),w:l(t+i),h:c(n+a)},options:s,type:"link"})},r.textWithLink=function(t,n,i,a){var s,o,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(t,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(t,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(fn.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var a=r.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},s=r.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=r.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&i.indexOf(v.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=1};var c=r.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(v){var x=0,g=t,_="",w=0;for(x=0;x<v.length;x+=1)g[v.charCodeAt(x)]!==void 0?(w++,typeof(g=g[v.charCodeAt(x)])=="number"&&(_+=String.fromCharCode(g),g=t,w=0),x===v.length-1&&(g=t,_+=v.charAt(x-(w-1)),x-=w-1,w=0)):(g=t,_+=v.charAt(x-w),x-=w,w=0);return _};r.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var d=r.__arabicParser__.getCorrectForm=function(v,x,g){return s(v)?a(v)===!1?-1:!c(v)||!s(x)&&!s(g)||!s(g)&&o(x)||o(v)&&!s(x)||o(v)&&l(x)||o(v)&&o(x)?0:u(v)&&s(x)&&!o(x)&&s(g)&&c(g)?3:o(v)||!s(g)?1:2:-1},h=function(v){var x=0,g=0,_=0,w="",A="",M="",C=(v=v||"").split("\\s+"),N=[];for(x=0;x<C.length;x+=1){for(N.push(""),g=0;g<C[x].length;g+=1)w=C[x][g],A=C[x][g-1],M=C[x][g+1],s(w)?(_=d(w,A,M),N[x]+=_!==-1?String.fromCharCode(e[w.charCodeAt(0)][_]):w):N[x]+=w;N[x]=f(N[x])}return N.join(" ")},p=r.__arabicParser__.processArabic=r.processArabic=function(){var v,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(x)){var _=0;for(g=[],_=0;_<x.length;_+=1)Array.isArray(x[_])?g.push([h(x[_][0]),x[_][1],x[_][2]]):g.push([h(x[_])]);v=g}else v=h(x);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};r.events.push(["preProcessText",p])})(fn.API),fn.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(fn.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(v){p=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,h=0,p=0,v=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,A){return w.concat(x.splitTextToSize(A,g))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)h<(v=this.getStringUnitWidth(l[_],{font:f})*u)&&(h=v);return h!==0&&(p=l.length),{w:h/=d,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=r.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};r.table=function(l,c,u,f,d){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,p,v,x,g=[],_=[],w=[],A={},M={},C=[],N=[],L=(d=d||{}).autoSize||!1,D=d.printHeaders!==!1,k=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,O=d.margins||Object.assign({width:this.getPageWidth()},e),I=typeof d.padding=="number"?d.padding:3,j=d.headerBackgroundColor||"#c8c8c8",B=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=B,this.setFontSize(k),f==null)_=g=Object.keys(u[0]),w=g.map(function(){return"left"});else if(Array.isArray(f)&&ja(f[0])==="object")for(g=f.map(function(oe){return oe.name}),_=f.map(function(oe){return oe.prompt||oe.name||""}),w=f.map(function(oe){return oe.align||"left"}),h=0;h<f.length;h+=1)M[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(_=g=f,w=g.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<g.length;h+=1){for(A[x=g[h]]=u.map(function(oe){return oe[x]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(_[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=A[x],this.setFont(void 0,"normal"),v=0;v<p.length;v+=1)C.push(this.getTextDimensions(p[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[x]=Math.max.apply(null,C)+I+I,C=[]}if(D){var K={};for(h=0;h<g.length;h+=1)K[g[h]]={},K[g[h]].text=_[h],K[g[h]].align=w[h];var H=o.call(this,K,M);N=g.map(function(oe){return new a(l,c,M[oe],H,K[oe].text,void 0,K[oe].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var Z=f.reduce(function(oe,X){return oe[X.name]=X.align,oe},{});for(h=0;h<u.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:u[h]},this);var Y=o.call(this,u[h],M);for(v=0;v<g.length;v+=1){var J=u[h][g[v]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:v,data:J},this),s.call(this,new a(l,c,M[g[v]],Y,J,h+2,Z[g[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var p=l[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+u+u},this).reduce(function(h,p){return Math.max(h,p)},0)};r.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(p)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),t=!1}})(fn.API);var Jle={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Qle=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],t7=$le(Qle),ece=[100,200,300,400,500,600,700,800,900],Q3e=$le(ece);function bO(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return Jle[a=a||"normal"]?a:"normal"})(r.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(r.weight),i=(function(a){return typeof t7[a=a||"normal"]=="number"?a:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function Pq(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var eEe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Fq={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bq(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function zq(r){return r.trimLeft()}function tEe(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function rEe(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var bC,jq,Uq,o_,_C,Vq,Hq,Gq,_O=["times"];function Wq(r,e,t,n,i){var a=4,s=qq;switch(i){case fn.API.image_compression.FAST:a=1,s=Yq;break;case fn.API.image_compression.MEDIUM:a=6,s=Xq;break;case fn.API.image_compression.SLOW:a=9,s=Zq}r=(function(l,c,u,f){for(var d,h=l.length/c,p=new Uint8Array(l.length+h),v=[nEe,Yq,qq,Xq,Zq],x=0;x<h;x+=1){var g=x*c,_=l.subarray(g,g+c);if(f)p.set(f(_,u,d),g+x);else{for(var w=v.length,A=[],M=0;M<w;M+=1)A[M]=v[M](_,u,d);var C=aEe(A.concat());p.set(A[C],g+x)}d=_}return p})(r,e,Math.ceil(t*n/8),s);var o=XB(r,{level:a});return fn.API.__addimage__.arrayBufferToBinaryString(o)}function nEe(r){var e=Array.apply([],r);return e.unshift(0),e}function Yq(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var a=r[i-e]||0;n[i+1]=r[i]-a+256&255}return n}function qq(r,e,t){var n=r.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=t&&t[a]||0;i[a+1]=r[a]-s+256&255}return i}function Xq(r,e,t){var n=r.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=r[a-e]||0,o=t&&t[a]||0;i[a+1]=r[a]+256-(s+o>>>1)&255}return i}function Zq(r,e,t){var n=r.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=iEe(r[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);i[a+1]=r[a]-s+256&255}return i}function iEe(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),a=Math.abs(r+e-t-t);return n<=i&&n<=a?r:i<=a?e:t}function aEe(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function wO(r,e,t){var n=e*t,i=Math.floor(n/8),a=16-(n-8*i+t),s=(1<<t)-1;return tce(r,i)>>a&s}function Kq(r,e,t,n){var i=t*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var d=f>>8&255;c.setUint8(u,d)}})(r,a,tce(r,a)&~(o<<s)&65535|l)}function tce(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function sEe(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],a=i>>7,s=1<<1+(7&i);r[e++],r[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,d=null,h=0,p=null;for(this.width=t,this.height=n;c&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,p=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((O=r[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=r[e++];f=r[e++]|r[e++]<<8,d=r[e++],1&v||(d=null),h=v>>2&7,e++;break;case 254:for(;;){if(!((O=r[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var x=r[e++]|r[e++]<<8,g=r[e++]|r[e++]<<8,_=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,A=r[e++],M=A>>6&1,C=1<<1+(7&A),N=o,L=l,D=!1;A>>7&&(D=!0,N=e,L=C,e+=3*C);var k=e;for(e++;;){var O;if(!((O=r[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}u.push({x,y:g,width:_,height:w,has_local_palette:D,palette_offset:N,palette_size:L,data_offset:k,data_length:e-k,transparent_index:d,interlaced:!!M,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,j){var B=this.frameInfo(I),K=B.width*B.height,H=new Uint8Array(K);$q(r,B.data_offset,H,K);var Z=B.palette_offset,Y=B.transparent_index;Y===null&&(Y=256);var J=B.width,oe=t-J,X=J,F=4*(B.y*t+B.x),W=4*((B.y+B.height)*t+B.x),Q=F,re=4*oe;B.interlaced===!0&&(re+=4*t*7);for(var ae=8,ce=0,ye=H.length;ce<ye;++ce){var fe=H[ce];if(X===0&&(X=J,(Q+=re)>=W&&(re=4*oe+4*t*(ae-1),Q=F+(J+oe)*(ae<<1),ae>>=1)),fe===Y)Q+=4;else{var be=r[Z+3*fe],Oe=r[Z+3*fe+1],xe=r[Z+3*fe+2];j[Q++]=xe,j[Q++]=Oe,j[Q++]=be,j[Q++]=255}--X}},this.decodeAndBlitFrameRGBA=function(I,j){var B=this.frameInfo(I),K=B.width*B.height,H=new Uint8Array(K);$q(r,B.data_offset,H,K);var Z=B.palette_offset,Y=B.transparent_index;Y===null&&(Y=256);var J=B.width,oe=t-J,X=J,F=4*(B.y*t+B.x),W=4*((B.y+B.height)*t+B.x),Q=F,re=4*oe;B.interlaced===!0&&(re+=4*t*7);for(var ae=8,ce=0,ye=H.length;ce<ye;++ce){var fe=H[ce];if(X===0&&(X=J,(Q+=re)>=W&&(re=4*oe+4*t*(ae-1),Q=F+(J+oe)*(ae<<1),ae>>=1)),fe===Y)Q+=4;else{var be=r[Z+3*fe],Oe=r[Z+3*fe+1],xe=r[Z+3*fe+2];j[Q++]=be,j[Q++]=Oe,j[Q++]=xe,j[Q++]=255}--X}}}function $q(r,e,t,n){for(var i=r[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,d=0,h=r[e++],p=new Int32Array(4096),v=null;;){for(;u<16&&h!==0;)f|=r[e++]<<u,u+=8,h===1?h=r[e++]:--h;if(u<l)break;var x=f&c;if(f>>=l,u-=l,x!==a){if(x===s)break;for(var g=x<o?x:v,_=0,w=g;w>a;)w=p[w]>>8,++_;var A=w;if(d+_+(g!==x?1:0)>n)return void as.log("Warning, gif stream longer than expected.");t[d++]=A;var M=d+=_;for(g!==x&&(t[d++]=A),w=g;_--;)w=p[w],t[--M]=255&w,w>>=8;v!==null&&o<4096&&(p[o++]=v<<8|A,o>=c+1&&l<12&&(++l,c=c<<1|1)),v=x}else o=s+1,c=(1<<(l=i+1))-1,v=null}return d!==n&&as.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function SO(r){var e,t,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),p=new Array(64),v=[],x=0,g=7,_=new Array(64),w=new Array(64),A=new Array(64),M=new Array(256),C=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(F,W){for(var Q=0,re=0,ae=new Array,ce=1;ce<=16;ce++){for(var ye=1;ye<=F[ce];ye++)ae[W[re]]=[],ae[W[re]][0]=Q,ae[W[re]][1]=ce,re++,Q++;Q*=2}return ae}function Z(F){for(var W=F[0],Q=F[1]-1;Q>=0;)W&1<<Q&&(x|=1<<g),Q--,--g<0&&(x==255?(Y(255),Y(0)):Y(x),g=7,x=0)}function Y(F){v.push(F)}function J(F){Y(F>>8&255),Y(255&F)}function oe(F,W,Q,re,ae){for(var ce,ye=ae[0],fe=ae[240],be=(function(_e,je){var Be,Fe,we,pe,ze,$e,ht,Je,Ot,bt,Nt=0;for(Ot=0;Ot<8;++Ot){Be=_e[Nt],Fe=_e[Nt+1],we=_e[Nt+2],pe=_e[Nt+3],ze=_e[Nt+4],$e=_e[Nt+5],ht=_e[Nt+6];var ir=Be+(Je=_e[Nt+7]),ft=Be-Je,Dt=Fe+ht,tr=Fe-ht,Ze=we+$e,it=we-$e,Wt=pe+ze,Ue=pe-ze,Ft=ir+Wt,qt=ir-Wt,Lt=Dt+Ze,vt=Dt-Ze;_e[Nt]=Ft+Lt,_e[Nt+4]=Ft-Lt;var Et=.707106781*(vt+qt);_e[Nt+2]=qt+Et,_e[Nt+6]=qt-Et;var dr=.382683433*((Ft=Ue+it)-(vt=tr+ft)),vr=.5411961*Ft+dr,Yr=1.306562965*vt+dr,Hr=.707106781*(Lt=it+tr),xr=ft+Hr,wn=ft-Hr;_e[Nt+5]=wn+vr,_e[Nt+3]=wn-vr,_e[Nt+1]=xr+Yr,_e[Nt+7]=xr-Yr,Nt+=8}for(Nt=0,Ot=0;Ot<8;++Ot){Be=_e[Nt],Fe=_e[Nt+8],we=_e[Nt+16],pe=_e[Nt+24],ze=_e[Nt+32],$e=_e[Nt+40],ht=_e[Nt+48];var Va=Be+(Je=_e[Nt+56]),Ei=Be-Je,Ki=Fe+ht,Sn=Fe-ht,Mi=we+$e,Ee=we-$e,He=pe+ze,ke=pe-ze,Re=Va+He,Ve=Va-He,qe=Ki+Mi,wt=Ki-Mi;_e[Nt]=Re+qe,_e[Nt+32]=Re-qe;var Vt=.707106781*(wt+Ve);_e[Nt+16]=Ve+Vt,_e[Nt+48]=Ve-Vt;var At=.382683433*((Re=ke+Ee)-(wt=Sn+Ei)),St=.5411961*Re+At,Mt=1.306562965*wt+At,sr=.707106781*(qe=Ee+Sn),or=Ei+sr,Se=Ei-sr;_e[Nt+40]=Se+St,_e[Nt+24]=Se-St,_e[Nt+8]=or+Mt,_e[Nt+56]=or-Mt,Nt++}for(Ot=0;Ot<64;++Ot)bt=_e[Ot]*je[Ot],h[Ot]=bt>0?bt+.5|0:bt-.5|0;return h})(F,W),Oe=0;Oe<64;++Oe)p[N[Oe]]=be[Oe];var xe=p[0]-Q;Q=p[0],xe==0?Z(re[0]):(Z(re[d[ce=32767+xe]]),Z(f[ce]));for(var Qe=63;Qe>0&&p[Qe]==0;)Qe--;if(Qe==0)return Z(ye),Q;for(var ne,te=1;te<=Qe;){for(var Me=te;p[te]==0&&te<=Qe;)++te;var ge=te-Me;if(ge>=16){ne=ge>>4;for(var de=1;de<=ne;++de)Z(fe);ge&=15}ce=32767+p[te],Z(ae[(ge<<4)+d[ce]]),Z(f[ce]),te++}return Qe!=63&&Z(ye),Q}function X(F){F=Math.min(Math.max(F,1),100),a!=F&&((function(W){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ae=s((Q[re]*W+50)/100);ae=Math.min(Math.max(ae,1),255),o[N[re]]=ae}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var fe=s((ce[ye]*W+50)/100);fe=Math.min(Math.max(fe,1),255),l[N[ye]]=fe}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,xe=0;xe<8;xe++)for(var Qe=0;Qe<8;Qe++)c[Oe]=1/(o[N[Oe]]*be[xe]*be[Qe]*8),u[Oe]=1/(l[N[Oe]]*be[xe]*be[Qe]*8),Oe++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),a=F)}this.encode=function(F,W){W&&X(W),v=new Array,x=0,g=7,J(65496),J(65504),J(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),J(1),J(1),Y(0),Y(0),(function(){J(65499),J(132),Y(0);for(var Fe=0;Fe<64;Fe++)Y(o[Fe]);Y(1);for(var we=0;we<64;we++)Y(l[we])})(),(function(Fe,we){J(65472),J(17),Y(8),J(we),J(Fe),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)})(F.width,F.height),(function(){J(65476),J(418),Y(0);for(var Fe=0;Fe<16;Fe++)Y(L[Fe+1]);for(var we=0;we<=11;we++)Y(D[we]);Y(16);for(var pe=0;pe<16;pe++)Y(k[pe+1]);for(var ze=0;ze<=161;ze++)Y(O[ze]);Y(1);for(var $e=0;$e<16;$e++)Y(I[$e+1]);for(var ht=0;ht<=11;ht++)Y(j[ht]);Y(17);for(var Je=0;Je<16;Je++)Y(B[Je+1]);for(var Ot=0;Ot<=161;Ot++)Y(K[Ot])})(),J(65498),J(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var Q=0,re=0,ae=0;x=0,g=7,this.encode.displayName="_encode_";for(var ce,ye,fe,be,Oe,xe,Qe,ne,te,Me=F.data,ge=F.width,de=F.height,_e=4*ge,je=0;je<de;){for(ce=0;ce<_e;){for(Oe=_e*je+ce,Qe=-1,ne=0,te=0;te<64;te++)xe=Oe+(ne=te>>3)*_e+(Qe=4*(7&te)),je+ne>=de&&(xe-=_e*(je+1+ne-de)),ce+Qe>=_e&&(xe-=ce+Qe-_e+4),ye=Me[xe++],fe=Me[xe++],be=Me[xe++],_[te]=(C[ye]+C[fe+256|0]+C[be+512|0]>>16)-128,w[te]=(C[ye+768|0]+C[fe+1024|0]+C[be+1280|0]>>16)-128,A[te]=(C[ye+1280|0]+C[fe+1536|0]+C[be+1792|0]>>16)-128;Q=oe(_,c,Q,e,n),re=oe(w,u,re,t,i),ae=oe(A,u,ae,t,i),ce+=32}je+=8}if(g>=0){var Be=[];Be[1]=g+1,Be[0]=(1<<g+1)-1,Z(Be)}return J(65497),new Uint8Array(v)},r=r||50,(function(){for(var F=String.fromCharCode,W=0;W<256;W++)M[W]=F(W)})(),e=H(L,D),t=H(I,j),n=H(k,O),i=H(B,K),(function(){for(var F=1,W=2,Q=1;Q<=15;Q++){for(var re=F;re<W;re++)d[32767+re]=Q,f[32767+re]=[],f[32767+re][1]=Q,f[32767+re][0]=re;for(var ae=-(W-1);ae<=-F;ae++)d[32767+ae]=Q,f[32767+ae]=[],f[32767+ae][1]=Q,f[32767+ae][0]=W-1+ae;F<<=1,W<<=1}})(),(function(){for(var F=0;F<256;F++)C[F]=19595*F,C[F+256|0]=38470*F,C[F+512|0]=7471*F+32768,C[F+768|0]=-11059*F,C[F+1024|0]=-21709*F,C[F+1280|0]=32768*F+8421375,C[F+1536|0]=-27439*F,C[F+1792|0]=-5329*F})(),X(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bp(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jq(r){function e(D){if(!D)throw Error("assert :P")}function t(D,k,O){for(var I=0;4>I;I++)if(D[k+I]!=O.charCodeAt(I))return!0;return!1}function n(D,k,O,I,j){for(var B=0;B<j;B++)D[k+B]=O[I+B]}function i(D,k,O,I){for(var j=0;j<I;j++)D[k+j]=O}function a(D){return new Int32Array(D)}function s(D,k){for(var O=[],I=0;I<D;I++)O.push(new k);return O}function o(D,k){var O=[];return(function I(j,B,K){for(var H=K[B],Z=0;Z<H&&(j.push(K.length>B+1?[]:new k),!(K.length<B+1));Z++)I(j[Z],B+1,K)})(O,0,D),O}var l=function(){var D=this;function k(z,G){for(var se=1<<G-1>>>0;z&se;)se>>>=1;return se?(z&se-1)+se:z}function O(z,G,se,ue,Ae){e(!(ue%se));do z[G+(ue-=se)]=Ae;while(0<ue)}function I(z,G,se,ue,Ae){if(e(2328>=Ae),512>=Ae)var Ce=a(512);else if((Ce=a(Ae))==null)return 0;return(function(Ne,Le,Pe,We,at,Ct){var Ge,ct,_t=Le,Yt=1<<Pe,Tt=a(16),mt=a(16);for(e(at!=0),e(We!=null),e(Ne!=null),e(0<Pe),ct=0;ct<at;++ct){if(15<We[ct])return 0;++Tt[We[ct]]}if(Tt[0]==at)return 0;for(mt[1]=0,Ge=1;15>Ge;++Ge){if(Tt[Ge]>1<<Ge)return 0;mt[Ge+1]=mt[Ge]+Tt[Ge]}for(ct=0;ct<at;++ct)Ge=We[ct],0<We[ct]&&(Ct[mt[Ge]++]=ct);if(mt[15]==1)return(We=new j).g=0,We.value=Ct[0],O(Ne,_t,1,Yt,We),Yt;var Zt,cr=-1,rr=Yt-1,jr=0,Ir=1,Cn=1,Ur=1<<Pe;for(ct=0,Ge=1,at=2;Ge<=Pe;++Ge,at<<=1){if(Ir+=Cn<<=1,0>(Cn-=Tt[Ge]))return 0;for(;0<Tt[Ge];--Tt[Ge])(We=new j).g=Ge,We.value=Ct[ct++],O(Ne,_t+jr,at,Ur,We),jr=k(jr,Ge)}for(Ge=Pe+1,at=2;15>=Ge;++Ge,at<<=1){if(Ir+=Cn<<=1,0>(Cn-=Tt[Ge]))return 0;for(;0<Tt[Ge];--Tt[Ge]){if(We=new j,(jr&rr)!=cr){for(_t+=Ur,Zt=1<<(cr=Ge)-Pe;15>cr&&!(0>=(Zt-=Tt[cr]));)++cr,Zt<<=1;Yt+=Ur=1<<(Zt=cr-Pe),Ne[Le+(cr=jr&rr)].g=Zt+Pe,Ne[Le+cr].value=_t-Le-cr}We.g=Ge-Pe,We.value=Ct[ct++],O(Ne,_t+(jr>>Pe),at,Ur,We),jr=k(jr,Ge)}}return Ir!=2*mt[15]-1?0:Yt})(z,G,se,ue,Ae,Ce)}function j(){this.value=this.g=0}function B(){this.value=this.g=0}function K(){this.G=s(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Qf,B)}function H(z,G,se,ue){e(z!=null),e(G!=null),e(2147483648>ue),z.Ca=254,z.I=0,z.b=-8,z.Ka=0,z.oa=G,z.pa=se,z.Jd=G,z.Yc=se+ue,z.Zc=4<=ue?se+ue-4+1:se,ye(z)}function Z(z,G){for(var se=0;0<G--;)se|=be(z,128)<<G;return se}function Y(z,G){var se=Z(z,G);return fe(z)?-se:se}function J(z,G,se,ue){var Ae,Ce=0;for(e(z!=null),e(G!=null),e(4294967288>ue),z.Sb=ue,z.Ra=0,z.u=0,z.h=0,4<ue&&(ue=4),Ae=0;Ae<ue;++Ae)Ce+=G[se+Ae]<<8*Ae;z.Ra=Ce,z.bb=ue,z.oa=G,z.pa=se}function oe(z){for(;8<=z.u&&z.bb<z.Sb;)z.Ra>>>=8,z.Ra+=z.oa[z.pa+z.bb]<<Ri-8>>>0,++z.bb,z.u-=8;re(z)&&(z.h=1,z.u=0)}function X(z,G){if(e(0<=G),!z.h&&G<=ks){var se=Q(z)&wo[G];return z.u+=G,oe(z),se}return z.h=1,z.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(z){return z.Ra>>>(z.u&Ri-1)>>>0}function re(z){return e(z.bb<=z.Sb),z.h||z.bb==z.Sb&&z.u>Ri}function ae(z,G){z.u=G,z.h=re(z)}function ce(z){z.u>=hf&&(e(z.u>=hf),oe(z))}function ye(z){e(z!=null&&z.oa!=null),z.pa<z.Zc?(z.I=(z.oa[z.pa++]|z.I<<8)>>>0,z.b+=8):(e(z!=null&&z.oa!=null),z.pa<z.Yc?(z.b+=8,z.I=z.oa[z.pa++]|z.I<<8):z.Ka?z.b=0:(z.I<<=8,z.b+=8,z.Ka=1))}function fe(z){return Z(z,1)}function be(z,G){var se=z.Ca;0>z.b&&ye(z);var ue=z.b,Ae=se*G>>>8,Ce=(z.I>>>ue>Ae)+0;for(Ce?(se-=Ae,z.I-=Ae+1<<ue>>>0):se=Ae+1,ue=se,Ae=0;256<=ue;)Ae+=8,ue>>=8;return ue=7^Ae+eh[ue],z.b-=ue,z.Ca=(se<<ue)-1,Ce}function Oe(z,G,se){z[G+0]=se>>24&255,z[G+1]=se>>16&255,z[G+2]=se>>8&255,z[G+3]=255&se}function xe(z,G){return z[G+0]|z[G+1]<<8}function Qe(z,G){return xe(z,G)|z[G+2]<<16}function ne(z,G){return xe(z,G)|xe(z,G+2)<<16}function te(z,G){var se=1<<G;return e(z!=null),e(0<G),z.X=a(se),z.X==null?0:(z.Mb=32-G,z.Xa=G,1)}function Me(z,G){e(z!=null),e(G!=null),e(z.Xa==G.Xa),n(G.X,0,z.X,0,1<<G.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function de(z,G,se,ue){e(se!=null),e(ue!=null);var Ae=se[0],Ce=ue[0];return Ae==0&&(Ae=(z*Ce+G/2)/G),Ce==0&&(Ce=(G*Ae+z/2)/z),0>=Ae||0>=Ce?0:(se[0]=Ae,ue[0]=Ce,1)}function _e(z,G){return z+(1<<G)-1>>>G}function je(z,G){return((4278255360&z)+(4278255360&G)>>>0&4278255360)+((16711935&z)+(16711935&G)>>>0&16711935)>>>0}function Be(z,G){D[G]=function(se,ue,Ae,Ce,Ne,Le,Pe){var We;for(We=0;We<Ne;++We){var at=D[z](Le[Pe+We-1],Ae,Ce+We);Le[Pe+We]=je(se[ue+We],at)}}}function Fe(){this.ud=this.hd=this.jd=0}function we(z,G){return((4278124286&(z^G))>>>1)+(z&G)>>>0}function pe(z){return 0<=z&&256>z?z:0>z?0:255<z?255:void 0}function ze(z,G){return pe(z+(z-G+.5>>1))}function $e(z,G,se){return Math.abs(G-se)-Math.abs(z-se)}function ht(z,G,se,ue,Ae,Ce,Ne){for(ue=Ce[Ne-1],se=0;se<Ae;++se)Ce[Ne+se]=ue=je(z[G+se],ue)}function Je(z,G,se,ue,Ae){var Ce;for(Ce=0;Ce<se;++Ce){var Ne=z[G+Ce],Le=Ne>>8&255,Pe=16711935&(Pe=(Pe=16711935&Ne)+((Le<<16)+Le));ue[Ae+Ce]=(4278255360&Ne)+Pe>>>0}}function Ot(z,G){G.jd=255&z,G.hd=z>>8&255,G.ud=z>>16&255}function bt(z,G,se,ue,Ae,Ce){var Ne;for(Ne=0;Ne<ue;++Ne){var Le=G[se+Ne],Pe=Le>>>8,We=Le,at=255&(at=(at=Le>>>16)+((z.jd<<24>>24)*(Pe<<24>>24)>>>5));We=255&(We=(We+=(z.hd<<24>>24)*(Pe<<24>>24)>>>5)+((z.ud<<24>>24)*(at<<24>>24)>>>5)),Ae[Ce+Ne]=(4278255360&Le)+(at<<16)+We}}function Nt(z,G,se,ue,Ae){D[G]=function(Ce,Ne,Le,Pe,We,at,Ct,Ge,ct){for(Pe=Ct;Pe<Ge;++Pe)for(Ct=0;Ct<ct;++Ct)We[at++]=Ae(Le[ue(Ce[Ne++])])},D[z]=function(Ce,Ne,Le,Pe,We,at,Ct){var Ge=8>>Ce.b,ct=Ce.Ea,_t=Ce.K[0],Yt=Ce.w;if(8>Ge)for(Ce=(1<<Ce.b)-1,Yt=(1<<Ge)-1;Ne<Le;++Ne){var Tt,mt=0;for(Tt=0;Tt<ct;++Tt)Tt&Ce||(mt=ue(Pe[We++])),at[Ct++]=Ae(_t[mt&Yt]),mt>>=Ge}else D["VP8LMapColor"+se](Pe,We,_t,Yt,at,Ct,Ne,Le,ct)}}function ir(z,G,se,ue,Ae){for(se=G+se;G<se;){var Ce=z[G++];ue[Ae++]=Ce>>16&255,ue[Ae++]=Ce>>8&255,ue[Ae++]=255&Ce}}function ft(z,G,se,ue,Ae){for(se=G+se;G<se;){var Ce=z[G++];ue[Ae++]=Ce>>16&255,ue[Ae++]=Ce>>8&255,ue[Ae++]=255&Ce,ue[Ae++]=Ce>>24&255}}function Dt(z,G,se,ue,Ae){for(se=G+se;G<se;){var Ce=(Ne=z[G++])>>16&240|Ne>>12&15,Ne=240&Ne|Ne>>28&15;ue[Ae++]=Ce,ue[Ae++]=Ne}}function tr(z,G,se,ue,Ae){for(se=G+se;G<se;){var Ce=(Ne=z[G++])>>16&248|Ne>>13&7,Ne=Ne>>5&224|Ne>>3&31;ue[Ae++]=Ce,ue[Ae++]=Ne}}function Ze(z,G,se,ue,Ae){for(se=G+se;G<se;){var Ce=z[G++];ue[Ae++]=255&Ce,ue[Ae++]=Ce>>8&255,ue[Ae++]=Ce>>16&255}}function it(z,G,se,ue,Ae,Ce){if(Ce==0)for(se=G+se;G<se;)Oe(ue,((Ce=z[G++])[0]>>24|Ce[1]>>8&65280|Ce[2]<<8&16711680|Ce[3]<<24)>>>0),Ae+=32;else n(ue,Ae,z,G,se)}function Wt(z,G){D[G][0]=D[z+"0"],D[G][1]=D[z+"1"],D[G][2]=D[z+"2"],D[G][3]=D[z+"3"],D[G][4]=D[z+"4"],D[G][5]=D[z+"5"],D[G][6]=D[z+"6"],D[G][7]=D[z+"7"],D[G][8]=D[z+"8"],D[G][9]=D[z+"9"],D[G][10]=D[z+"10"],D[G][11]=D[z+"11"],D[G][12]=D[z+"12"],D[G][13]=D[z+"13"],D[G][14]=D[z+"0"],D[G][15]=D[z+"0"]}function Ue(z){return z==h0||z==Sg||z==kl||z==Hv}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Lt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new qt,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Et(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function dr(z){return alert("todo:WebPSamplerProcessPlane"),z.T}function vr(z,G){var se=z.T,ue=G.ba.f.RGBA,Ae=ue.eb,Ce=ue.fb+z.ka*ue.A,Ne=ro[G.ba.S],Le=z.y,Pe=z.O,We=z.f,at=z.N,Ct=z.ea,Ge=z.W,ct=G.cc,_t=G.dc,Yt=G.Mc,Tt=G.Nc,mt=z.ka,Zt=z.ka+z.T,cr=z.U,rr=cr+1>>1;for(mt==0?Ne(Le,Pe,null,null,We,at,Ct,Ge,We,at,Ct,Ge,Ae,Ce,null,null,cr):(Ne(G.ec,G.fc,Le,Pe,ct,_t,Yt,Tt,We,at,Ct,Ge,Ae,Ce-ue.A,Ae,Ce,cr),++se);mt+2<Zt;mt+=2)ct=We,_t=at,Yt=Ct,Tt=Ge,at+=z.Rc,Ge+=z.Rc,Ce+=2*ue.A,Ne(Le,(Pe+=2*z.fa)-z.fa,Le,Pe,ct,_t,Yt,Tt,We,at,Ct,Ge,Ae,Ce-ue.A,Ae,Ce,cr);return Pe+=z.fa,z.j+Zt<z.o?(n(G.ec,G.fc,Le,Pe,cr),n(G.cc,G.dc,We,at,rr),n(G.Mc,G.Nc,Ct,Ge,rr),se--):1&Zt||Ne(Le,Pe,null,null,We,at,Ct,Ge,We,at,Ct,Ge,Ae,Ce+ue.A,null,null,cr),se}function Yr(z,G,se){var ue=z.F,Ae=[z.J];if(ue!=null){var Ce=z.U,Ne=G.ba.S,Le=Ne==Fs||Ne==kl;G=G.ba.f.RGBA;var Pe=[0],We=z.ka;Pe[0]=z.T,z.Kb&&(We==0?--Pe[0]:(--We,Ae[0]-=z.width),z.j+z.ka+z.T==z.o&&(Pe[0]=z.o-z.j-We));var at=G.eb;We=G.fb+We*G.A,z=rh(ue,Ae[0],z.width,Ce,Pe,at,We+(Le?0:3),G.A),e(se==Pe),z&&Ue(Ne)&&$h(at,We,Le,Ce,Pe,G.A)}return 0}function Hr(z){var G=z.ma,se=G.ba.S,ue=11>se,Ae=se==eo||se==ac||se==Fs||se==sp||se==12||Ue(se);if(G.memory=null,G.Ib=null,G.Jb=null,G.Nd=null,!ff(G.Oa,z,Ae?11:12))return 0;if(Ae&&Ue(se)&&Jd(),z.da)alert("todo:use_scaling");else{if(ue){if(G.Ib=dr,z.Kb){if(se=z.U+1>>1,G.memory=a(z.U+2*se),G.memory==null)return 0;G.ec=G.memory,G.fc=0,G.cc=G.ec,G.dc=G.fc+z.U,G.Mc=G.cc,G.Nc=G.dc+se,G.Ib=vr,Jd()}}else alert("todo:EmitYUV");Ae&&(G.Jb=Yr,ue&&Ks())}if(ue&&!td){for(z=0;256>z;++z)no[z]=89858*(z-128)+Rc>>fl,kb[z]=-22014*(z-128)+Rc,Py[z]=-45773*(z-128),qv[z]=113618*(z-128)+Rc>>fl;for(z=ed;z<_f;++z)G=76283*(z-16)+Rc>>fl,Ib[z-ed]=Zr(G,255),Fy[z-ed]=Zr(G+8>>4,15);td=1}return 1}function xr(z){var G=z.ma,se=z.U,ue=z.T;return e(!(1&z.ka)),0>=se||0>=ue?0:(se=G.Ib(z,G),G.Jb!=null&&G.Jb(z,G,se),G.Dc+=se,1)}function wn(z){z.ma.memory=null}function Va(z,G,se,ue){return X(z,8)!=47?0:(G[0]=X(z,14)+1,se[0]=X(z,14)+1,ue[0]=X(z,1),X(z,3)!=0?0:!z.h)}function Ei(z,G){if(4>z)return z+1;var se=z-2>>1;return(2+(1&z)<<se)+X(G,se)+1}function Ki(z,G){return 120<G?G-120:1<=(se=((se=sc[G-1])>>4)*z+(8-(15&se)))?se:1;var se}function Sn(z,G,se){var ue=Q(se),Ae=z[G+=255&ue].g-8;return 0<Ae&&(ae(se,se.u+8),ue=Q(se),G+=z[G].value,G+=ue&(1<<Ae)-1),ae(se,se.u+z[G].g),z[G].value}function Mi(z,G,se){return se.g+=z.g,se.value+=z.value<<G>>>0,e(8>=se.g),z.g}function Ee(z,G,se){var ue=z.xc;return e((G=ue==0?0:z.vc[z.md*(se>>ue)+(G>>ue)])<z.Wb),z.Ya[G]}function He(z,G,se,ue){var Ae=z.ab,Ce=z.c*G,Ne=z.C;G=Ne+G;var Le=se,Pe=ue;for(ue=z.Ta,se=z.Ua;0<Ae--;){var We=z.gc[Ae],at=Ne,Ct=G,Ge=Le,ct=Pe,_t=(Pe=ue,Le=se,We.Ea);switch(e(at<Ct),e(Ct<=We.nc),We.hc){case 2:ua(Ge,ct,(Ct-at)*_t,Pe,Le);break;case 0:var Yt=at,Tt=Ct,mt=Pe,Zt=Le,cr=(Ur=We).Ea;Yt==0&&(ep(Ge,ct,null,null,1,mt,Zt),ht(Ge,ct+1,0,0,cr-1,mt,Zt+1),ct+=cr,Zt+=cr,++Yt);for(var rr=1<<Ur.b,jr=rr-1,Ir=_e(cr,Ur.b),Cn=Ur.K,Ur=Ur.w+(Yt>>Ur.b)*Ir;Yt<Tt;){var Yn=Cn,Ia=Ur,Vn=1;for(df(Ge,ct,mt,Zt-cr,1,mt,Zt);Vn<cr;){var Or=(Vn&~jr)+rr;Or>cr&&(Or=cr),(0,pf[Yn[Ia++]>>8&15])(Ge,ct+ +Vn,mt,Zt+Vn-cr,Or-Vn,mt,Zt+Vn),Vn=Or}ct+=cr,Zt+=cr,++Yt&jr||(Ur+=Ir)}Ct!=We.nc&&n(Pe,Le-_t,Pe,Le+(Ct-at-1)*_t,_t);break;case 1:for(_t=Ge,Tt=ct,cr=(Ge=We.Ea)-(Zt=Ge&~(mt=(ct=1<<We.b)-1)),Yt=_e(Ge,We.b),rr=We.K,We=We.w+(at>>We.b)*Yt;at<Ct;){for(jr=rr,Ir=We,Cn=new Fe,Ur=Tt+Zt,Yn=Tt+Ge;Tt<Ur;)Ot(jr[Ir++],Cn),tp(Cn,_t,Tt,ct,Pe,Le),Tt+=ct,Le+=ct;Tt<Yn&&(Ot(jr[Ir++],Cn),tp(Cn,_t,Tt,cr,Pe,Le),Tt+=cr,Le+=cr),++at&mt||(We+=Yt)}break;case 3:if(Ge==Pe&&ct==Le&&0<We.b){for(Tt=Pe,Ge=_t=Le+(Ct-at)*_t-(Zt=(Ct-at)*_e(We.Ea,We.b)),ct=Pe,mt=Le,Yt=[],Zt=(cr=Zt)-1;0<=Zt;--Zt)Yt[Zt]=ct[mt+Zt];for(Zt=cr-1;0<=Zt;--Zt)Tt[Ge+Zt]=Yt[Zt];zv(We,at,Ct,Pe,_t,Pe,Le)}else zv(We,at,Ct,Ge,ct,Pe,Le)}Le=ue,Pe=se}Pe!=se&&n(ue,se,Le,Pe,Ce)}function ke(z,G){var se=z.V,ue=z.Ba+z.c*z.C,Ae=G-z.C;if(e(G<=z.l.o),e(16>=Ae),0<Ae){var Ce=z.l,Ne=z.Ta,Le=z.Ua,Pe=Ce.width;if(He(z,Ae,se,ue),Ae=Le=[Le],e((se=z.C)<(ue=G)),e(Ce.v<Ce.va),ue>Ce.o&&(ue=Ce.o),se<Ce.j){var We=Ce.j-se;se=Ce.j,Ae[0]+=We*Pe}if(se>=ue?se=0:(Ae[0]+=4*Ce.v,Ce.ka=se-Ce.j,Ce.U=Ce.va-Ce.v,Ce.T=ue-se,se=1),se){if(Le=Le[0],11>(se=z.ca).S){var at=se.f.RGBA,Ct=(ue=se.S,Ae=Ce.U,Ce=Ce.T,We=at.eb,at.A),Ge=Ce;for(at=at.fb+z.Ma*at.A;0<Ge--;){var ct=Ne,_t=Le,Yt=Ae,Tt=We,mt=at;switch(ue){case Vv:rp(ct,_t,Yt,Tt,mt);break;case eo:bu(ct,_t,Yt,Tt,mt);break;case h0:bu(ct,_t,Yt,Tt,mt),$h(Tt,mt,0,Yt,1,0);break;case Go:Kh(ct,_t,Yt,Tt,mt);break;case ac:it(ct,_t,Yt,Tt,mt,1);break;case Sg:it(ct,_t,Yt,Tt,mt,1),$h(Tt,mt,0,Yt,1,0);break;case Fs:it(ct,_t,Yt,Tt,mt,0);break;case kl:it(ct,_t,Yt,Tt,mt,0),$h(Tt,mt,1,Yt,1,0);break;case sp:_u(ct,_t,Yt,Tt,mt);break;case Hv:_u(ct,_t,Yt,Tt,mt),To(Tt,mt,Yt,1,0);break;case xf:nc(ct,_t,Yt,Tt,mt);break;default:e(0)}Le+=Pe,at+=Ct}z.Ma+=Ce}else alert("todo:EmitRescaledRowsYUVA");e(z.Ma<=se.height)}}z.C=G,e(z.C<=z.i)}function Re(z){var G;if(0<z.ua)return 0;for(G=0;G<z.Wb;++G){var se=z.Ya[G].G,ue=z.Ya[G].H;if(0<se[1][ue[1]+0].g||0<se[2][ue[2]+0].g||0<se[3][ue[3]+0].g)return 0}return 1}function Ve(z,G,se,ue,Ae,Ce){if(z.Z!=0){var Ne=z.qd,Le=z.rd;for(e(ah[z.Z]!=null);G<se;++G)ah[z.Z](Ne,Le,ue,Ae,ue,Ae,Ce),Ne=ue,Le=Ae,Ae+=Ce;z.qd=Ne,z.rd=Le}}function qe(z,G){var se=z.l.ma,ue=se.Z==0||se.Z==1?z.l.j:z.C;if(ue=z.C<ue?ue:z.C,e(G<=z.l.o),G>ue){var Ae=z.l.width,Ce=se.ca,Ne=se.tb+Ae*ue,Le=z.V,Pe=z.Ba+z.c*ue,We=z.gc;e(z.ab==1),e(We[0].hc==3),Ho(We[0],ue,G,Le,Pe,Ce,Ne),Ve(se,ue,G,Ce,Ne,Ae)}z.C=z.Ma=G}function wt(z,G,se,ue,Ae,Ce,Ne){var Le=z.$/ue,Pe=z.$%ue,We=z.m,at=z.s,Ct=se+z.$,Ge=Ct;Ae=se+ue*Ae;var ct=se+ue*Ce,_t=280+at.ua,Yt=z.Pb?Le:16777216,Tt=0<at.ua?at.Wa:null,mt=at.wc,Zt=Ct<ct?Ee(at,Pe,Le):null;e(z.C<Ce),e(ct<=Ae);var cr=!1;e:for(;;){for(;cr||Ct<ct;){var rr=0;if(Le>=Yt){var jr=Ct-se;e((Yt=z).Pb),Yt.wd=Yt.m,Yt.xd=jr,0<Yt.s.ua&&Me(Yt.s.Wa,Yt.s.vb),Yt=Le+yf}if(Pe&mt||(Zt=Ee(at,Pe,Le)),e(Zt!=null),Zt.Qb&&(G[Ct]=Zt.qb,cr=!0),!cr)if(ce(We),Zt.jc){rr=We,jr=G;var Ir=Ct,Cn=Zt.pd[Q(rr)&Qf-1];e(Zt.jc),256>Cn.g?(ae(rr,rr.u+Cn.g),jr[Ir]=Cn.value,rr=0):(ae(rr,rr.u+Cn.g-256),e(256<=Cn.value),rr=Cn.value),rr==0&&(cr=!0)}else rr=Sn(Zt.G[0],Zt.H[0],We);if(We.h)break;if(cr||256>rr){if(!cr)if(Zt.nd)G[Ct]=(Zt.qb|rr<<8)>>>0;else{if(ce(We),cr=Sn(Zt.G[1],Zt.H[1],We),ce(We),jr=Sn(Zt.G[2],Zt.H[2],We),Ir=Sn(Zt.G[3],Zt.H[3],We),We.h)break;G[Ct]=(Ir<<24|cr<<16|rr<<8|jr)>>>0}if(cr=!1,++Ct,++Pe>=ue&&(Pe=0,++Le,Ne!=null&&Le<=Ce&&!(Le%16)&&Ne(z,Le),Tt!=null))for(;Ge<Ct;)rr=G[Ge++],Tt.X[(506832829*rr&4294967295)>>>Tt.Mb]=rr}else if(280>rr){if(rr=Ei(rr-256,We),jr=Sn(Zt.G[4],Zt.H[4],We),ce(We),jr=Ki(ue,jr=Ei(jr,We)),We.h)break;if(Ct-se<jr||Ae-Ct<rr)break e;for(Ir=0;Ir<rr;++Ir)G[Ct+Ir]=G[Ct+Ir-jr];for(Ct+=rr,Pe+=rr;Pe>=ue;)Pe-=ue,++Le,Ne!=null&&Le<=Ce&&!(Le%16)&&Ne(z,Le);if(e(Ct<=Ae),Pe&mt&&(Zt=Ee(at,Pe,Le)),Tt!=null)for(;Ge<Ct;)rr=G[Ge++],Tt.X[(506832829*rr&4294967295)>>>Tt.Mb]=rr}else{if(!(rr<_t))break e;for(cr=rr-280,e(Tt!=null);Ge<Ct;)rr=G[Ge++],Tt.X[(506832829*rr&4294967295)>>>Tt.Mb]=rr;rr=Ct,e(!(cr>>>(jr=Tt).Xa)),G[rr]=jr.X[cr],cr=!0}cr||e(We.h==re(We))}if(z.Pb&&We.h&&Ct<Ae)e(z.m.h),z.a=5,z.m=z.wd,z.$=z.xd,0<z.s.ua&&Me(z.s.vb,z.s.Wa);else{if(We.h)break e;Ne!=null&&Ne(z,Le>Ce?Ce:Le),z.a=0,z.$=Ct-se}return 1}return z.a=3,0}function Vt(z){e(z!=null),z.vc=null,z.yc=null,z.Ya=null;var G=z.Wa;G!=null&&(G.X=null),z.vb=null,e(z!=null)}function At(){var z=new yn;return z==null?null:(z.a=0,z.xb=Yv,Wt("Predictor","VP8LPredictors"),Wt("Predictor","VP8LPredictors_C"),Wt("PredictorAdd","VP8LPredictorsAdd"),Wt("PredictorAdd","VP8LPredictorsAdd_C"),ua=Je,tp=bt,rp=ir,bu=ft,_u=Dt,nc=tr,Kh=Ze,D.VP8LMapColor32b=yu,D.VP8LMapColor8b=ta,z)}function St(z,G,se,ue,Ae){var Ce=1,Ne=[z],Le=[G],Pe=ue.m,We=ue.s,at=null,Ct=0;e:for(;;){if(se)for(;Ce&&X(Pe,1);){var Ge=Ne,ct=Le,_t=ue,Yt=1,Tt=_t.m,mt=_t.gc[_t.ab],Zt=X(Tt,2);if(_t.Oc&1<<Zt)Ce=0;else{switch(_t.Oc|=1<<Zt,mt.hc=Zt,mt.Ea=Ge[0],mt.nc=ct[0],mt.K=[null],++_t.ab,e(4>=_t.ab),Zt){case 0:case 1:mt.b=X(Tt,3)+2,Yt=St(_e(mt.Ea,mt.b),_e(mt.nc,mt.b),0,_t,mt.K),mt.K=mt.K[0];break;case 3:var cr,rr=X(Tt,8)+1,jr=16<rr?0:4<rr?1:2<rr?2:3;if(Ge[0]=_e(mt.Ea,jr),mt.b=jr,cr=Yt=St(rr,1,0,_t,mt.K)){var Ir,Cn=rr,Ur=mt,Yn=1<<(8>>Ur.b),Ia=a(Yn);if(Ia==null)cr=0;else{var Vn=Ur.K[0],Or=Ur.w;for(Ia[0]=Ur.K[0][0],Ir=1;Ir<1*Cn;++Ir)Ia[Ir]=je(Vn[Or+Ir],Ia[Ir-1]);for(;Ir<4*Yn;++Ir)Ia[Ir]=0;Ur.K[0]=null,Ur.K[0]=Ia,cr=1}}Yt=cr;break;case 2:break;default:e(0)}Ce=Yt}}if(Ne=Ne[0],Le=Le[0],Ce&&X(Pe,1)&&!(Ce=1<=(Ct=X(Pe,4))&&11>=Ct)){ue.a=3;break e}var yr;if(yr=Ce)t:{var rs,mn,Hn,ki=ue,ws=Ne,Mo=Le,Ca=Ct,us=se,Wa=ki.m,gi=ki.s,Nn=[null],Fn=1,Ya=0,Ui=Ol[Ca];r:for(;;){if(us&&X(Wa,1)){var Ii=X(Wa,3)+2,ra=_e(ws,Ii),Oi=_e(Mo,Ii),ms=ra*Oi;if(!St(ra,Oi,0,ki,Nn))break r;for(Nn=Nn[0],gi.xc=Ii,rs=0;rs<ms;++rs){var na=Nn[rs]>>8&65535;Nn[rs]=na,na>=Fn&&(Fn=na+1)}}if(Wa.h)break r;for(mn=0;5>mn;++mn){var Ss=Qh[mn];!mn&&0<Ca&&(Ss+=1<<Ca),Ya<Ss&&(Ya=Ss)}var gs=s(Fn*Ui,j),ba=Fn,wi=s(ba,K);if(wi==null)var Yo=null;else e(65536>=ba),Yo=wi;var _a=a(Ya);if(Yo==null||_a==null||gs==null){ki.a=1;break r}var Jr=gs;for(rs=Hn=0;rs<Fn;++rs){var dn=Yo[rs],Pi=dn.G,Pl=dn.H,qo=0,hl=1,Ts=0;for(mn=0;5>mn;++mn){Ss=Qh[mn],Pi[mn]=Jr,Pl[mn]=Hn,!mn&&0<Ca&&(Ss+=1<<Ca);i:{var rd,kc=Ss,Mg=ki,Na=_a,By=Jr,zy=Hn,Cg=0,oh=Mg.m,gT=X(oh,1);if(i(Na,0,0,kc),gT){var jy=X(oh,1)+1,Uy=X(oh,1),Ng=X(oh,Uy==0?1:8);Na[Ng]=1,jy==2&&(Na[Ng=X(oh,8)]=1);var io=1}else{var fs=a(19),g0=X(oh,4)+4;if(19<g0){Mg.a=3;var nd=0;break i}for(rd=0;rd<g0;++rd)fs[d0[rd]]=X(oh,3);var x0=void 0,cp=void 0,wf=Mg,Dg=fs,y0=kc,Xv=Na,Zv=0,lh=wf.m,Lg=8,Rg=s(128,j);n:for(;I(Rg,0,7,Dg,19);){if(X(lh,1)){var Vy=2+2*X(lh,3);if((x0=2+X(lh,Vy))>y0)break n}else x0=y0;for(cp=0;cp<y0&&x0--;){ce(lh);var Kv=Rg[0+(127&Q(lh))];ae(lh,lh.u+Kv.g);var Sf=Kv.value;if(16>Sf)Xv[cp++]=Sf,Sf!=0&&(Lg=Sf);else{var Ob=Sf==16,Pb=Sf-16,Fb=Su[Pb],Hy=X(lh,Il[Pb])+Fb;if(cp+Hy>y0)break n;for(var Gy=Ob?Lg:0;0<Hy--;)Xv[cp++]=Gy}}Zv=1;break n}Zv||(wf.a=3),io=Zv}(io=io&&!oh.h)&&(Cg=I(By,zy,8,Na,kc)),io&&Cg!=0?nd=Cg:(Mg.a=3,nd=0)}if(nd==0)break r;if(hl&&Gv[mn]==1&&(hl=Jr[Hn].g==0),qo+=Jr[Hn].g,Hn+=nd,3>=mn){var id,kg=_a[0];for(id=1;id<Ss;++id)_a[id]>kg&&(kg=_a[id]);Ts+=kg}}if(dn.nd=hl,dn.Qb=0,hl&&(dn.qb=(Pi[3][Pl[3]+0].value<<24|Pi[1][Pl[1]+0].value<<16|Pi[2][Pl[2]+0].value)>>>0,qo==0&&256>Pi[0][Pl[0]+0].value&&(dn.Qb=1,dn.qb+=Pi[0][Pl[0]+0].value<<8)),dn.jc=!dn.Qb&&6>Ts,dn.jc){var $v,Tf=dn;for($v=0;$v<Qf;++$v){var ch=$v,uh=Tf.pd[ch],Ig=Tf.G[0][Tf.H[0]+ch];256<=Ig.value?(uh.g=Ig.g+256,uh.value=Ig.value):(uh.g=0,uh.value=0,ch>>=Mi(Ig,8,uh),ch>>=Mi(Tf.G[1][Tf.H[1]+ch],16,uh),ch>>=Mi(Tf.G[2][Tf.H[2]+ch],0,uh),Mi(Tf.G[3][Tf.H[3]+ch],24,uh))}}}gi.vc=Nn,gi.Wb=Fn,gi.Ya=Yo,gi.yc=gs,yr=1;break t}yr=0}if(!(Ce=yr)){ue.a=3;break e}if(0<Ct){if(We.ua=1<<Ct,!te(We.Wa,Ct)){ue.a=1,Ce=0;break e}}else We.ua=0;var Og=ue,up=Ne,Bb=Le,b0=Og.s,_0=b0.xc;if(Og.c=up,Og.i=Bb,b0.md=_e(up,_0),b0.wc=_0==0?-1:(1<<_0)-1,se){ue.xb=hi;break e}if((at=a(Ne*Le))==null){ue.a=1,Ce=0;break e}Ce=(Ce=wt(ue,at,0,Ne,Le,Le,null))&&!Pe.h;break e}return Ce?(Ae!=null?Ae[0]=at:(e(at==null),e(se)),ue.$=0,se||Vt(We)):Vt(We),Ce}function Mt(z,G){var se=z.c*z.i,ue=se+G+16*G;return e(z.c<=G),z.V=a(ue),z.V==null?(z.Ta=null,z.Ua=0,z.a=1,0):(z.Ta=z.V,z.Ua=z.Ba+se+G,1)}function sr(z,G){var se=z.C,ue=G-se,Ae=z.V,Ce=z.Ba+z.c*se;for(e(G<=z.l.o);0<ue;){var Ne=16<ue?16:ue,Le=z.l.ma,Pe=z.l.width,We=Pe*Ne,at=Le.ca,Ct=Le.tb+Pe*se,Ge=z.Ta,ct=z.Ua;He(z,Ne,Ae,Ce),Os(Ge,ct,at,Ct,We),Ve(Le,se,se+Ne,at,Ct,Pe),ue-=Ne,Ae+=Ne*z.c,se+=Ne}e(se==G),z.C=z.Ma=G}function or(){this.ub=this.yd=this.td=this.Rb=0}function Se(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ke(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function et(){this.Yb=(function(){var z=[];return(function G(se,ue,Ae){for(var Ce=Ae[ue],Ne=0;Ne<Ce&&(se.push(Ae.length>ue+1?[]:0),!(Ae.length<ue+1));Ne++)G(se[Ne],ue+1,Ae)})(z,0,[3,11]),z})()}function ot(){this.jb=a(3),this.Wc=o([4,8],et),this.Xc=o([4,17],et)}function st(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Xt(){this.ld=this.La=this.dd=this.tc=0}function lr(){this.Na=this.la=0}function _r(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Sr(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xt),this.Y=0,this.ya=Array(new Sr),this.aa=0,this.l=new Qn}function Xr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Gr(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new or,this.Kc=new Se,this.ed=new st,this.Qa=new Ke,this.Ic=this.$c=this.Aa=0,this.D=new qr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,F),this.ia=0,this.pb=s(4,_r),this.Pa=new ot,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xr),this.Hd=0,this.rb=Array(new lr),this.sb=0,this.wa=Array(new Xt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Sr),this.L=this.aa=0,this.gd=o([4,2],Xt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zr(z,G){return 0>z?0:z>G?G:z}function Qn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function fi(){var z=new Gr;return z!=null&&(z.a=0,z.sc="OK",z.cb=0,z.Xb=0,oc||(oc=Ni)),z}function ln(z,G,se){return z.a==0&&(z.a=G,z.sc=se,z.cb=0),0}function Ci(z,G,se){return 3<=se&&z[G+0]==157&&z[G+1]==1&&z[G+2]==42}function Wr(z,G){if(z==null)return 0;if(z.a=0,z.sc="OK",G==null)return ln(z,2,"null VP8Io passed to VP8GetHeaders()");var se=G.data,ue=G.w,Ae=G.ha;if(4>Ae)return ln(z,7,"Truncated header.");var Ce=se[ue+0]|se[ue+1]<<8|se[ue+2]<<16,Ne=z.Od;if(Ne.Rb=!(1&Ce),Ne.td=Ce>>1&7,Ne.yd=Ce>>4&1,Ne.ub=Ce>>5,3<Ne.td)return ln(z,3,"Incorrect keyframe parameters.");if(!Ne.yd)return ln(z,4,"Frame not displayable.");ue+=3,Ae-=3;var Le=z.Kc;if(Ne.Rb){if(7>Ae)return ln(z,7,"cannot parse picture header");if(!Ci(se,ue,Ae))return ln(z,3,"Bad code word");Le.c=16383&(se[ue+4]<<8|se[ue+3]),Le.Td=se[ue+4]>>6,Le.i=16383&(se[ue+6]<<8|se[ue+5]),Le.Ud=se[ue+6]>>6,ue+=7,Ae-=7,z.za=Le.c+15>>4,z.Ub=Le.i+15>>4,G.width=Le.c,G.height=Le.i,G.Da=0,G.j=0,G.v=0,G.va=G.width,G.o=G.height,G.da=0,G.ib=G.width,G.hb=G.height,G.U=G.width,G.T=G.height,i((Ce=z.Pa).jb,0,255,Ce.jb.length),e((Ce=z.Qa)!=null),Ce.Cb=0,Ce.Bb=0,Ce.Fb=1,i(Ce.Zb,0,0,Ce.Zb.length),i(Ce.Lb,0,0,Ce.Lb)}if(Ne.ub>Ae)return ln(z,7,"bad partition length");H(Ce=z.m,se,ue,Ne.ub),ue+=Ne.ub,Ae-=Ne.ub,Ne.Rb&&(Le.Ld=fe(Ce),Le.Kd=fe(Ce)),Le=z.Qa;var Pe,We=z.Pa;if(e(Ce!=null),e(Le!=null),Le.Cb=fe(Ce),Le.Cb){if(Le.Bb=fe(Ce),fe(Ce)){for(Le.Fb=fe(Ce),Pe=0;4>Pe;++Pe)Le.Zb[Pe]=fe(Ce)?Y(Ce,7):0;for(Pe=0;4>Pe;++Pe)Le.Lb[Pe]=fe(Ce)?Y(Ce,6):0}if(Le.Bb)for(Pe=0;3>Pe;++Pe)We.jb[Pe]=fe(Ce)?Z(Ce,8):255}else Le.Bb=0;if(Ce.Ka)return ln(z,3,"cannot parse segment header");if((Le=z.ed).zd=fe(Ce),Le.Tb=Z(Ce,6),Le.wb=Z(Ce,3),Le.Pc=fe(Ce),Le.Pc&&fe(Ce)){for(We=0;4>We;++We)fe(Ce)&&(Le.vd[We]=Y(Ce,6));for(We=0;4>We;++We)fe(Ce)&&(Le.od[We]=Y(Ce,6))}if(z.L=Le.Tb==0?0:Le.zd?1:2,Ce.Ka)return ln(z,3,"cannot parse filter header");var at=Ae;if(Ae=Pe=ue,ue=Pe+at,Le=at,z.Xb=(1<<Z(z.m,2))-1,at<3*(We=z.Xb))se=7;else{for(Pe+=3*We,Le-=3*We,at=0;at<We;++at){var Ct=se[Ae+0]|se[Ae+1]<<8|se[Ae+2]<<16;Ct>Le&&(Ct=Le),H(z.Jc[+at],se,Pe,Ct),Pe+=Ct,Le-=Ct,Ae+=3}H(z.Jc[+We],se,Pe,Le),se=Pe<ue?0:5}if(se!=0)return ln(z,se,"cannot parse partitions");for(se=Z(Pe=z.m,7),Ae=fe(Pe)?Y(Pe,4):0,ue=fe(Pe)?Y(Pe,4):0,Le=fe(Pe)?Y(Pe,4):0,We=fe(Pe)?Y(Pe,4):0,Pe=fe(Pe)?Y(Pe,4):0,at=z.Qa,Ct=0;4>Ct;++Ct){if(at.Cb){var Ge=at.Zb[Ct];at.Fb||(Ge+=se)}else{if(0<Ct){z.pb[Ct]=z.pb[0];continue}Ge=se}var ct=z.pb[Ct];ct.Sc[0]=Nc[Zr(Ge+Ae,127)],ct.Sc[1]=Dc[Zr(Ge+0,127)],ct.Eb[0]=2*Nc[Zr(Ge+ue,127)],ct.Eb[1]=101581*Dc[Zr(Ge+Le,127)]>>16,8>ct.Eb[1]&&(ct.Eb[1]=8),ct.Qc[0]=Nc[Zr(Ge+We,117)],ct.Qc[1]=Dc[Zr(Ge+Pe,127)],ct.lc=Ge+Pe}if(!Ne.Rb)return ln(z,4,"Not a key frame.");for(fe(Ce),Ne=z.Pa,se=0;4>se;++se){for(Ae=0;8>Ae;++Ae)for(ue=0;3>ue;++ue)for(Le=0;11>Le;++Le)We=be(Ce,Ma[se][Ae][ue][Le])?Z(Ce,8):Wv[se][Ae][ue][Le],Ne.Wc[se][Ae].Yb[ue][Le]=We;for(Ae=0;17>Ae;++Ae)Ne.Xc[se][Ae]=Ne.Wc[se][mi[Ae]]}return z.kc=fe(Ce),z.kc&&(z.Bd=Z(Ce,8)),z.cb=1}function Ni(z,G,se,ue,Ae,Ce,Ne){var Le=G[Ae].Yb[se];for(se=0;16>Ae;++Ae){if(!be(z,Le[se+0]))return Ae;for(;!be(z,Le[se+1]);)if(Le=G[++Ae].Yb[0],se=0,Ae==16)return 16;var Pe=G[Ae+1].Yb;if(be(z,Le[se+2])){var We=z,at=0;if(be(We,(Ge=Le)[(Ct=se)+3]))if(be(We,Ge[Ct+6])){for(Le=0,Ct=2*(at=be(We,Ge[Ct+8]))+(Ge=be(We,Ge[Ct+9+at])),at=0,Ge=Iy[Ct];Ge[Le];++Le)at+=at+be(We,Ge[Le]);at+=3+(8<<Ct)}else be(We,Ge[Ct+7])?(at=7+2*be(We,165),at+=be(We,145)):at=5+be(We,159);else at=be(We,Ge[Ct+4])?3+be(We,Ge[Ct+5]):2;Le=Pe[2]}else at=1,Le=Pe[1];Pe=Ne+Tg[Ae],0>(We=z).b&&ye(We);var Ct,Ge=We.b,ct=(Ct=We.Ca>>1)-(We.I>>Ge)>>31;--We.b,We.Ca+=ct,We.Ca|=1,We.I-=(Ct+1&ct)<<Ge,Ce[Pe]=((at^ct)-ct)*ue[(0<Ae)+0]}return 16}function ei(z){var G=z.rb[z.sb-1];G.la=0,G.Na=0,i(z.zc,0,0,z.zc.length),z.ja=0}function ji(z,G,se,ue,Ae){Ae=z[G+se+32*ue]+(Ae>>3),z[G+se+32*ue]=-256&Ae?0>Ae?0:255:Ae}function ga(z,G,se,ue,Ae,Ce){ji(z,G,0,se,ue+Ae),ji(z,G,1,se,ue+Ce),ji(z,G,2,se,ue-Ce),ji(z,G,3,se,ue-Ae)}function pi(z){return(20091*z>>16)+z}function Jl(z,G,se,ue){var Ae,Ce=0,Ne=a(16);for(Ae=0;4>Ae;++Ae){var Le=z[G+0]+z[G+8],Pe=z[G+0]-z[G+8],We=(35468*z[G+4]>>16)-pi(z[G+12]),at=pi(z[G+4])+(35468*z[G+12]>>16);Ne[Ce+0]=Le+at,Ne[Ce+1]=Pe+We,Ne[Ce+2]=Pe-We,Ne[Ce+3]=Le-at,Ce+=4,G++}for(Ae=Ce=0;4>Ae;++Ae)Le=(z=Ne[Ce+0]+4)+Ne[Ce+8],Pe=z-Ne[Ce+8],We=(35468*Ne[Ce+4]>>16)-pi(Ne[Ce+12]),ji(se,ue,0,0,Le+(at=pi(Ne[Ce+4])+(35468*Ne[Ce+12]>>16))),ji(se,ue,1,0,Pe+We),ji(se,ue,2,0,Pe-We),ji(se,ue,3,0,Le-at),Ce++,ue+=32}function ea(z,G,se,ue){var Ae=z[G+0]+4,Ce=35468*z[G+4]>>16,Ne=pi(z[G+4]),Le=35468*z[G+1]>>16;ga(se,ue,0,Ae+Ne,z=pi(z[G+1]),Le),ga(se,ue,1,Ae+Ce,z,Le),ga(se,ue,2,Ae-Ce,z,Le),ga(se,ue,3,Ae-Ne,z,Le)}function ps(z,G,se,ue,Ae){Jl(z,G,se,ue),Ae&&Jl(z,G+16,se,ue+4)}function ca(z,G,se,ue){vf(z,G+0,se,ue,1),vf(z,G+32,se,ue+128,1)}function os(z,G,se,ue){var Ae;for(z=z[G+0]+4,Ae=0;4>Ae;++Ae)for(G=0;4>G;++G)ji(se,ue,G,Ae,z)}function Ra(z,G,se,ue){z[G+0]&&Di(z,G+0,se,ue),z[G+16]&&Di(z,G+16,se,ue+4),z[G+32]&&Di(z,G+32,se,ue+128),z[G+48]&&Di(z,G+48,se,ue+128+4)}function Vo(z,G,se,ue){var Ae,Ce=a(16);for(Ae=0;4>Ae;++Ae){var Ne=z[G+0+Ae]+z[G+12+Ae],Le=z[G+4+Ae]+z[G+8+Ae],Pe=z[G+4+Ae]-z[G+8+Ae],We=z[G+0+Ae]-z[G+12+Ae];Ce[0+Ae]=Ne+Le,Ce[8+Ae]=Ne-Le,Ce[4+Ae]=We+Pe,Ce[12+Ae]=We-Pe}for(Ae=0;4>Ae;++Ae)Ne=(z=Ce[0+4*Ae]+3)+Ce[3+4*Ae],Le=Ce[1+4*Ae]+Ce[2+4*Ae],Pe=Ce[1+4*Ae]-Ce[2+4*Ae],We=z-Ce[3+4*Ae],se[ue+0]=Ne+Le>>3,se[ue+16]=We+Pe>>3,se[ue+32]=Ne-Le>>3,se[ue+48]=We-Pe>>3,ue+=64}function Xs(z,G,se){var ue,Ae=G-32,Ce=Qs,Ne=255-z[Ae-1];for(ue=0;ue<se;++ue){var Le,Pe=Ce,We=Ne+z[G-1];for(Le=0;Le<se;++Le)z[G+Le]=Pe[We+z[Ae+Le]];G+=32}}function qd(z,G){Xs(z,G,4)}function Rv(z,G){Xs(z,G,8)}function Xd(z,G){Xs(z,G,16)}function a0(z,G){var se;for(se=0;16>se;++se)n(z,G+32*se,z,G-32,16)}function kv(z,G){var se;for(se=16;0<se;--se)i(z,G,z[G-1],16),G+=32}function sl(z,G,se){var ue;for(ue=0;16>ue;++ue)i(G,se+32*ue,z,16)}function Ac(z,G){var se,ue=16;for(se=0;16>se;++se)ue+=z[G-1+32*se]+z[G+se-32];sl(ue>>5,z,G)}function mu(z,G){var se,ue=8;for(se=0;16>se;++se)ue+=z[G-1+32*se];sl(ue>>4,z,G)}function Wh(z,G){var se,ue=8;for(se=0;16>se;++se)ue+=z[G+se-32];sl(ue>>4,z,G)}function Kf(z,G){sl(128,z,G)}function vn(z,G,se){return z+2*G+se+2>>2}function Iv(z,G){var se,ue=G-32;for(ue=new Uint8Array([vn(z[ue-1],z[ue+0],z[ue+1]),vn(z[ue+0],z[ue+1],z[ue+2]),vn(z[ue+1],z[ue+2],z[ue+3]),vn(z[ue+2],z[ue+3],z[ue+4])]),se=0;4>se;++se)n(z,G+32*se,ue,0,ue.length)}function s0(z,G){var se=z[G-1],ue=z[G-1+32],Ae=z[G-1+64],Ce=z[G-1+96];Oe(z,G+0,16843009*vn(z[G-1-32],se,ue)),Oe(z,G+32,16843009*vn(se,ue,Ae)),Oe(z,G+64,16843009*vn(ue,Ae,Ce)),Oe(z,G+96,16843009*vn(Ae,Ce,Ce))}function Ov(z,G){var se,ue=4;for(se=0;4>se;++se)ue+=z[G+se-32]+z[G-1+32*se];for(ue>>=3,se=0;4>se;++se)i(z,G+32*se,ue,4)}function ol(z,G){var se=z[G-1+0],ue=z[G-1+32],Ae=z[G-1+64],Ce=z[G-1-32],Ne=z[G+0-32],Le=z[G+1-32],Pe=z[G+2-32],We=z[G+3-32];z[G+0+96]=vn(ue,Ae,z[G-1+96]),z[G+1+96]=z[G+0+64]=vn(se,ue,Ae),z[G+2+96]=z[G+1+64]=z[G+0+32]=vn(Ce,se,ue),z[G+3+96]=z[G+2+64]=z[G+1+32]=z[G+0+0]=vn(Ne,Ce,se),z[G+3+64]=z[G+2+32]=z[G+1+0]=vn(Le,Ne,Ce),z[G+3+32]=z[G+2+0]=vn(Pe,Le,Ne),z[G+3+0]=vn(We,Pe,Le)}function Zs(z,G){var se=z[G+1-32],ue=z[G+2-32],Ae=z[G+3-32],Ce=z[G+4-32],Ne=z[G+5-32],Le=z[G+6-32],Pe=z[G+7-32];z[G+0+0]=vn(z[G+0-32],se,ue),z[G+1+0]=z[G+0+32]=vn(se,ue,Ae),z[G+2+0]=z[G+1+32]=z[G+0+64]=vn(ue,Ae,Ce),z[G+3+0]=z[G+2+32]=z[G+1+64]=z[G+0+96]=vn(Ae,Ce,Ne),z[G+3+32]=z[G+2+64]=z[G+1+96]=vn(Ce,Ne,Le),z[G+3+64]=z[G+2+96]=vn(Ne,Le,Pe),z[G+3+96]=vn(Le,Pe,Pe)}function o0(z,G){var se=z[G-1+0],ue=z[G-1+32],Ae=z[G-1+64],Ce=z[G-1-32],Ne=z[G+0-32],Le=z[G+1-32],Pe=z[G+2-32],We=z[G+3-32];z[G+0+0]=z[G+1+64]=Ce+Ne+1>>1,z[G+1+0]=z[G+2+64]=Ne+Le+1>>1,z[G+2+0]=z[G+3+64]=Le+Pe+1>>1,z[G+3+0]=Pe+We+1>>1,z[G+0+96]=vn(Ae,ue,se),z[G+0+64]=vn(ue,se,Ce),z[G+0+32]=z[G+1+96]=vn(se,Ce,Ne),z[G+1+32]=z[G+2+96]=vn(Ce,Ne,Le),z[G+2+32]=z[G+3+96]=vn(Ne,Le,Pe),z[G+3+32]=vn(Le,Pe,We)}function Zd(z,G){var se=z[G+0-32],ue=z[G+1-32],Ae=z[G+2-32],Ce=z[G+3-32],Ne=z[G+4-32],Le=z[G+5-32],Pe=z[G+6-32],We=z[G+7-32];z[G+0+0]=se+ue+1>>1,z[G+1+0]=z[G+0+64]=ue+Ae+1>>1,z[G+2+0]=z[G+1+64]=Ae+Ce+1>>1,z[G+3+0]=z[G+2+64]=Ce+Ne+1>>1,z[G+0+32]=vn(se,ue,Ae),z[G+1+32]=z[G+0+96]=vn(ue,Ae,Ce),z[G+2+32]=z[G+1+96]=vn(Ae,Ce,Ne),z[G+3+32]=z[G+2+96]=vn(Ce,Ne,Le),z[G+3+64]=vn(Ne,Le,Pe),z[G+3+96]=vn(Le,Pe,We)}function Ql(z,G){var se=z[G-1+0],ue=z[G-1+32],Ae=z[G-1+64],Ce=z[G-1+96];z[G+0+0]=se+ue+1>>1,z[G+2+0]=z[G+0+32]=ue+Ae+1>>1,z[G+2+32]=z[G+0+64]=Ae+Ce+1>>1,z[G+1+0]=vn(se,ue,Ae),z[G+3+0]=z[G+1+32]=vn(ue,Ae,Ce),z[G+3+32]=z[G+1+64]=vn(Ae,Ce,Ce),z[G+3+64]=z[G+2+64]=z[G+0+96]=z[G+1+96]=z[G+2+96]=z[G+3+96]=Ce}function Yh(z,G){var se=z[G-1+0],ue=z[G-1+32],Ae=z[G-1+64],Ce=z[G-1+96],Ne=z[G-1-32],Le=z[G+0-32],Pe=z[G+1-32],We=z[G+2-32];z[G+0+0]=z[G+2+32]=se+Ne+1>>1,z[G+0+32]=z[G+2+64]=ue+se+1>>1,z[G+0+64]=z[G+2+96]=Ae+ue+1>>1,z[G+0+96]=Ce+Ae+1>>1,z[G+3+0]=vn(Le,Pe,We),z[G+2+0]=vn(Ne,Le,Pe),z[G+1+0]=z[G+3+32]=vn(se,Ne,Le),z[G+1+32]=z[G+3+64]=vn(ue,se,Ne),z[G+1+64]=z[G+3+96]=vn(Ae,ue,se),z[G+1+96]=vn(Ce,Ae,ue)}function Dl(z,G){var se;for(se=0;8>se;++se)n(z,G+32*se,z,G-32,8)}function l0(z,G){var se;for(se=0;8>se;++se)i(z,G,z[G-1],8),G+=32}function ll(z,G,se){var ue;for(ue=0;8>ue;++ue)i(G,se+32*ue,z,8)}function Kd(z,G){var se,ue=8;for(se=0;8>se;++se)ue+=z[G+se-32]+z[G-1+32*se];ll(ue>>4,z,G)}function $d(z,G){var se,ue=4;for(se=0;8>se;++se)ue+=z[G+se-32];ll(ue>>3,z,G)}function _s(z,G){var se,ue=4;for(se=0;8>se;++se)ue+=z[G-1+32*se];ll(ue>>3,z,G)}function gu(z,G){ll(128,z,G)}function ec(z,G,se){var ue=z[G-se],Ae=z[G+0],Ce=3*(Ae-ue)+gf[1020+z[G-2*se]-z[G+se]],Ne=ap[112+(Ce+4>>3)];z[G-se]=Qs[255+ue+ap[112+(Ce+3>>3)]],z[G+0]=Qs[255+Ae-Ne]}function cl(z,G,se,ue){var Ae=z[G+0],Ce=z[G+se];return Ps[255+z[G-2*se]-z[G-se]]>ue||Ps[255+Ce-Ae]>ue}function $f(z,G,se,ue){return 4*Ps[255+z[G-se]-z[G+0]]+Ps[255+z[G-2*se]-z[G+se]]<=ue}function qh(z,G,se,ue,Ae){var Ce=z[G-3*se],Ne=z[G-2*se],Le=z[G-se],Pe=z[G+0],We=z[G+se],at=z[G+2*se],Ct=z[G+3*se];return 4*Ps[255+Le-Pe]+Ps[255+Ne-We]>ue?0:Ps[255+z[G-4*se]-Ce]<=Ae&&Ps[255+Ce-Ne]<=Ae&&Ps[255+Ne-Le]<=Ae&&Ps[255+Ct-at]<=Ae&&Ps[255+at-We]<=Ae&&Ps[255+We-Pe]<=Ae}function xu(z,G,se,ue){var Ae=2*ue+1;for(ue=0;16>ue;++ue)$f(z,G+ue,se,Ae)&&ec(z,G+ue,se)}function nf(z,G,se,ue){var Ae=2*ue+1;for(ue=0;16>ue;++ue)$f(z,G+ue*se,1,Ae)&&ec(z,G+ue*se,1)}function Xh(z,G,se,ue){var Ae;for(Ae=3;0<Ae;--Ae)xu(z,G+=4*se,se,ue)}function Pv(z,G,se,ue){var Ae;for(Ae=3;0<Ae;--Ae)nf(z,G+=4,se,ue)}function ka(z,G,se,ue,Ae,Ce,Ne,Le){for(Ce=2*Ce+1;0<Ae--;){if(qh(z,G,se,Ce,Ne))if(cl(z,G,se,Le))ec(z,G,se);else{var Pe=z,We=G,at=se,Ct=Pe[We-2*at],Ge=Pe[We-at],ct=Pe[We+0],_t=Pe[We+at],Yt=Pe[We+2*at],Tt=27*(Zt=gf[1020+3*(ct-Ge)+gf[1020+Ct-_t]])+63>>7,mt=18*Zt+63>>7,Zt=9*Zt+63>>7;Pe[We-3*at]=Qs[255+Pe[We-3*at]+Zt],Pe[We-2*at]=Qs[255+Ct+mt],Pe[We-at]=Qs[255+Ge+Tt],Pe[We+0]=Qs[255+ct-Tt],Pe[We+at]=Qs[255+_t-mt],Pe[We+2*at]=Qs[255+Yt-Zt]}G+=ue}}function af(z,G,se,ue,Ae,Ce,Ne,Le){for(Ce=2*Ce+1;0<Ae--;){if(qh(z,G,se,Ce,Ne))if(cl(z,G,se,Le))ec(z,G,se);else{var Pe=z,We=G,at=se,Ct=Pe[We-at],Ge=Pe[We+0],ct=Pe[We+at],_t=ap[112+(4+(Yt=3*(Ge-Ct))>>3)],Yt=ap[112+(Yt+3>>3)],Tt=_t+1>>1;Pe[We-2*at]=Qs[255+Pe[We-2*at]+Tt],Pe[We-at]=Qs[255+Ct+Yt],Pe[We+0]=Qs[255+Ge-_t],Pe[We+at]=Qs[255+ct-Tt]}G+=ue}}function Fv(z,G,se,ue,Ae,Ce){ka(z,G,se,1,16,ue,Ae,Ce)}function sf(z,G,se,ue,Ae,Ce){ka(z,G,1,se,16,ue,Ae,Ce)}function Bv(z,G,se,ue,Ae,Ce){var Ne;for(Ne=3;0<Ne;--Ne)af(z,G+=4*se,se,1,16,ue,Ae,Ce)}function ie(z,G,se,ue,Ae,Ce){var Ne;for(Ne=3;0<Ne;--Ne)af(z,G+=4,1,se,16,ue,Ae,Ce)}function Te(z,G,se,ue,Ae,Ce,Ne,Le){ka(z,G,Ae,1,8,Ce,Ne,Le),ka(se,ue,Ae,1,8,Ce,Ne,Le)}function Xe(z,G,se,ue,Ae,Ce,Ne,Le){ka(z,G,1,Ae,8,Ce,Ne,Le),ka(se,ue,1,Ae,8,Ce,Ne,Le)}function nt(z,G,se,ue,Ae,Ce,Ne,Le){af(z,G+4*Ae,Ae,1,8,Ce,Ne,Le),af(se,ue+4*Ae,Ae,1,8,Ce,Ne,Le)}function pt(z,G,se,ue,Ae,Ce,Ne,Le){af(z,G+4,1,Ae,8,Ce,Ne,Le),af(se,ue+4,1,Ae,8,Ce,Ne,Le)}function Kt(){this.ba=new Lt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Et,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ar(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $r(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new j}function yn(){this.xb=this.a=0,this.l=new Qn,this.ca=new Lt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $r,this.ab=0,this.gc=s(4,zr),this.Oc=0}function kn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vi(z,G,se,ue,Ae,Ce,Ne){for(z=z==null?0:z[G+0],G=0;G<Ne;++G)Ae[Ce+G]=z+se[ue+G]&255,z=Ae[Ce+G]}function Ha(z,G,se,ue,Ae,Ce,Ne){var Le;if(z==null)vi(null,null,se,ue,Ae,Ce,Ne);else for(Le=0;Le<Ne;++Le)Ae[Ce+Le]=z[G+Le]+se[ue+Le]&255}function Qa(z,G,se,ue,Ae,Ce,Ne){if(z==null)vi(null,null,se,ue,Ae,Ce,Ne);else{var Le,Pe=z[G+0],We=Pe,at=Pe;for(Le=0;Le<Ne;++Le)We=at+(Pe=z[G+Le])-We,at=se[ue+Le]+(-256&We?0>We?0:255:We)&255,We=Pe,Ae[Ce+Le]=at}}function xa(z,G,se,ue){var Ae=G.width,Ce=G.o;if(e(z!=null&&G!=null),0>se||0>=ue||se+ue>Ce)return null;if(!z.Cc){if(z.ga==null){var Ne;if(z.ga=new kn,(Ne=z.ga==null)||(Ne=G.width*G.o,e(z.Gb.length==0),z.Gb=a(Ne),z.Uc=0,z.Gb==null?Ne=0:(z.mb=z.Gb,z.nb=z.Uc,z.rc=null,Ne=1),Ne=!Ne),!Ne){Ne=z.ga;var Le=z.Fa,Pe=z.P,We=z.qc,at=z.mb,Ct=z.nb,Ge=Pe+1,ct=We-1,_t=Ne.l;if(e(Le!=null&&at!=null&&G!=null),ah[0]=null,ah[1]=vi,ah[2]=Ha,ah[3]=Qa,Ne.ca=at,Ne.tb=Ct,Ne.c=G.width,Ne.i=G.height,e(0<Ne.c&&0<Ne.i),1>=We)G=0;else if(Ne.$a=3&Le[Pe+0],Ne.Z=Le[Pe+0]>>2&3,Ne.Lc=Le[Pe+0]>>4&3,Pe=Le[Pe+0]>>6&3,0>Ne.$a||1<Ne.$a||4<=Ne.Z||1<Ne.Lc||Pe)G=0;else if(_t.put=xr,_t.ac=Hr,_t.bc=wn,_t.ma=Ne,_t.width=G.width,_t.height=G.height,_t.Da=G.Da,_t.v=G.v,_t.va=G.va,_t.j=G.j,_t.o=G.o,Ne.$a)e:{e(Ne.$a==1),G=At();t:for(;;){if(G==null){G=0;break e}if(e(Ne!=null),Ne.mc=G,G.c=Ne.c,G.i=Ne.i,G.l=Ne.l,G.l.ma=Ne,G.l.width=Ne.c,G.l.height=Ne.i,G.a=0,J(G.m,Le,Ge,ct),!St(Ne.c,Ne.i,1,G,null)||(G.ab==1&&G.gc[0].hc==3&&Re(G.s)?(Ne.ic=1,Le=G.c*G.i,G.Ta=null,G.Ua=0,G.V=a(Le),G.Ba=0,G.V==null?(G.a=1,G=0):G=1):(Ne.ic=0,G=Mt(G,Ne.c)),!G))break t;G=1;break e}Ne.mc=null,G=0}else G=ct>=Ne.c*Ne.i;Ne=!G}if(Ne)return null;z.ga.Lc!=1?z.Ga=0:ue=Ce-se}e(z.ga!=null),e(se+ue<=Ce);e:{if(G=(Le=z.ga).c,Ce=Le.l.o,Le.$a==0){if(Ge=z.rc,ct=z.Vc,_t=z.Fa,Pe=z.P+1+se*G,We=z.mb,at=z.nb+se*G,e(Pe<=z.P+z.qc),Le.Z!=0)for(e(ah[Le.Z]!=null),Ne=0;Ne<ue;++Ne)ah[Le.Z](Ge,ct,_t,Pe,We,at,G),Ge=We,ct=at,at+=G,Pe+=G;else for(Ne=0;Ne<ue;++Ne)n(We,at,_t,Pe,G),Ge=We,ct=at,at+=G,Pe+=G;z.rc=Ge,z.Vc=ct}else{if(e(Le.mc!=null),G=se+ue,e((Ne=Le.mc)!=null),e(G<=Ne.i),Ne.C>=G)G=1;else if(Le.ic||Ks(),Le.ic){Le=Ne.V,Ge=Ne.Ba,ct=Ne.c;var Yt=Ne.i,Tt=(_t=1,Pe=Ne.$/ct,We=Ne.$%ct,at=Ne.m,Ct=Ne.s,Ne.$),mt=ct*Yt,Zt=ct*G,cr=Ct.wc,rr=Tt<Zt?Ee(Ct,We,Pe):null;e(Tt<=mt),e(G<=Yt),e(Re(Ct));t:for(;;){for(;!at.h&&Tt<Zt;){if(We&cr||(rr=Ee(Ct,We,Pe)),e(rr!=null),ce(at),256>(Yt=Sn(rr.G[0],rr.H[0],at)))Le[Ge+Tt]=Yt,++Tt,++We>=ct&&(We=0,++Pe<=G&&!(Pe%16)&&qe(Ne,Pe));else{if(!(280>Yt)){_t=0;break t}Yt=Ei(Yt-256,at);var jr,Ir=Sn(rr.G[4],rr.H[4],at);if(ce(at),!(Tt>=(Ir=Ki(ct,Ir=Ei(Ir,at)))&&mt-Tt>=Yt)){_t=0;break t}for(jr=0;jr<Yt;++jr)Le[Ge+Tt+jr]=Le[Ge+Tt+jr-Ir];for(Tt+=Yt,We+=Yt;We>=ct;)We-=ct,++Pe<=G&&!(Pe%16)&&qe(Ne,Pe);Tt<Zt&&We&cr&&(rr=Ee(Ct,We,Pe))}e(at.h==re(at))}qe(Ne,Pe>G?G:Pe);break t}!_t||at.h&&Tt<mt?(_t=0,Ne.a=at.h?5:3):Ne.$=Tt,G=_t}else G=wt(Ne,Ne.V,Ne.Ba,Ne.c,Ne.i,G,sr);if(!G){ue=0;break e}}se+ue>=Ce&&(z.Cc=1),ue=1}if(!ue)return null;if(z.Cc&&((ue=z.ga)!=null&&(ue.mc=null),z.ga=null,0<z.Ga))return alert("todo:WebPDequantizeLevels"),null}return z.nb+se*Ae}function ya(z,G,se,ue,Ae,Ce){for(;0<Ae--;){var Ne,Le=z,Pe=G+(se?1:0),We=z,at=G+(se?0:3);for(Ne=0;Ne<ue;++Ne){var Ct=We[at+4*Ne];Ct!=255&&(Ct*=32897,Le[Pe+4*Ne+0]=Le[Pe+4*Ne+0]*Ct>>23,Le[Pe+4*Ne+1]=Le[Pe+4*Ne+1]*Ct>>23,Le[Pe+4*Ne+2]=Le[Pe+4*Ne+2]*Ct>>23)}G+=Ce}}function ls(z,G,se,ue,Ae){for(;0<ue--;){var Ce;for(Ce=0;Ce<se;++Ce){var Ne=z[G+2*Ce+0],Le=15&(We=z[G+2*Ce+1]),Pe=4369*Le,We=(240&We|We>>4)*Pe>>16;z[G+2*Ce+0]=(240&Ne|Ne>>4)*Pe>>16&240|(15&Ne|Ne<<4)*Pe>>16>>4&15,z[G+2*Ce+1]=240&We|Le}G+=Ae}}function bo(z,G,se,ue,Ae,Ce,Ne,Le){var Pe,We,at=255;for(We=0;We<Ae;++We){for(Pe=0;Pe<ue;++Pe){var Ct=z[G+Pe];Ce[Ne+4*Pe]=Ct,at&=Ct}G+=se,Ne+=Le}return at!=255}function of(z,G,se,ue,Ae){var Ce;for(Ce=0;Ce<Ae;++Ce)se[ue+Ce]=z[G+Ce]>>8}function Ks(){$h=ya,To=ls,rh=bo,Os=of}function _o(z,G,se){D[z]=function(ue,Ae,Ce,Ne,Le,Pe,We,at,Ct,Ge,ct,_t,Yt,Tt,mt,Zt,cr){var rr,jr=cr-1>>1,Ir=Le[Pe+0]|We[at+0]<<16,Cn=Ct[Ge+0]|ct[_t+0]<<16;e(ue!=null);var Ur=3*Ir+Cn+131074>>2;for(G(ue[Ae+0],255&Ur,Ur>>16,Yt,Tt),Ce!=null&&(Ur=3*Cn+Ir+131074>>2,G(Ce[Ne+0],255&Ur,Ur>>16,mt,Zt)),rr=1;rr<=jr;++rr){var Yn=Le[Pe+rr]|We[at+rr]<<16,Ia=Ct[Ge+rr]|ct[_t+rr]<<16,Vn=Ir+Yn+Cn+Ia+524296,Or=Vn+2*(Yn+Cn)>>3;Ur=Or+Ir>>1,Ir=(Vn=Vn+2*(Ir+Ia)>>3)+Yn>>1,G(ue[Ae+2*rr-1],255&Ur,Ur>>16,Yt,Tt+(2*rr-1)*se),G(ue[Ae+2*rr-0],255&Ir,Ir>>16,Yt,Tt+(2*rr-0)*se),Ce!=null&&(Ur=Vn+Cn>>1,Ir=Or+Ia>>1,G(Ce[Ne+2*rr-1],255&Ur,Ur>>16,mt,Zt+(2*rr-1)*se),G(Ce[Ne+2*rr+0],255&Ir,Ir>>16,mt,Zt+(2*rr+0)*se)),Ir=Yn,Cn=Ia}1&cr||(Ur=3*Ir+Cn+131074>>2,G(ue[Ae+cr-1],255&Ur,Ur>>16,Yt,Tt+(cr-1)*se),Ce!=null&&(Ur=3*Cn+Ir+131074>>2,G(Ce[Ne+cr-1],255&Ur,Ur>>16,mt,Zt+(cr-1)*se)))}}function Jd(){ro[Vv]=op,ro[eo]=p0,ro[Go]=Oy,ro[ac]=Ag,ro[Fs]=bf,ro[sp]=Ao,ro[xf]=sh,ro[h0]=p0,ro[Sg]=Ag,ro[kl]=bf,ro[Hv]=Ao}function Zh(z){return z&-16384?0>z?0:255:z>>v0}function Ll(z,G){return Zh((19077*z>>8)+(26149*G>>8)-14234)}function Rl(z,G,se){return Zh((19077*z>>8)-(6419*G>>8)-(13320*se>>8)+8708)}function tc(z,G){return Zh((19077*z>>8)+(33050*G>>8)-17685)}function Ga(z,G,se,ue,Ae){ue[Ae+0]=Ll(z,se),ue[Ae+1]=Rl(z,G,se),ue[Ae+2]=tc(z,G)}function vs(z,G,se,ue,Ae){ue[Ae+0]=tc(z,G),ue[Ae+1]=Rl(z,G,se),ue[Ae+2]=Ll(z,se)}function Jf(z,G,se,ue,Ae){var Ce=Rl(z,G,se);G=Ce<<3&224|tc(z,G)>>3,ue[Ae+0]=248&Ll(z,se)|Ce>>5,ue[Ae+1]=G}function lf(z,G,se,ue,Ae){var Ce=240&tc(z,G)|15;ue[Ae+0]=240&Ll(z,se)|Rl(z,G,se)>>4,ue[Ae+1]=Ce}function cf(z,G,se,ue,Ae){ue[Ae+0]=255,Ga(z,G,se,ue,Ae+1)}function Ec(z,G,se,ue,Ae){vs(z,G,se,ue,Ae),ue[Ae+3]=255}function $s(z,G,se,ue,Ae){Ga(z,G,se,ue,Ae),ue[Ae+3]=255}function uf(z,G,se){D[z]=function(ue,Ae,Ce,Ne,Le,Pe,We,at,Ct){for(var Ge=at+(-2&Ct)*se;at!=Ge;)G(ue[Ae+0],Ce[Ne+0],Le[Pe+0],We,at),G(ue[Ae+1],Ce[Ne+0],Le[Pe+0],We,at+se),Ae+=2,++Ne,++Pe,at+=2*se;1&Ct&&G(ue[Ae+0],Ce[Ne+0],Le[Pe+0],We,at)}}function Js(z,G,se){return se==0?z==0?G==0?6:5:G==0?4:0:se}function c0(z,G,se,ue,Ae){switch(z>>>30){case 3:vf(G,se,ue,Ae,0);break;case 2:So(G,se,ue,Ae);break;case 1:Di(G,se,ue,Ae)}}function ul(z,G){var se,ue,Ae=G.M,Ce=G.Nb,Ne=z.oc,Le=z.pc+40,Pe=z.oc,We=z.pc+584,at=z.oc,Ct=z.pc+600;for(se=0;16>se;++se)Ne[Le+32*se-1]=129;for(se=0;8>se;++se)Pe[We+32*se-1]=129,at[Ct+32*se-1]=129;for(0<Ae?Ne[Le-1-32]=Pe[We-1-32]=at[Ct-1-32]=129:(i(Ne,Le-32-1,127,21),i(Pe,We-32-1,127,9),i(at,Ct-32-1,127,9)),ue=0;ue<z.za;++ue){var Ge=G.ya[G.aa+ue];if(0<ue){for(se=-1;16>se;++se)n(Ne,Le+32*se-4,Ne,Le+32*se+12,4);for(se=-1;8>se;++se)n(Pe,We+32*se-4,Pe,We+32*se+4,4),n(at,Ct+32*se-4,at,Ct+32*se+4,4)}var ct=z.Gd,_t=z.Hd+ue,Yt=Ge.ad,Tt=Ge.Hc;if(0<Ae&&(n(Ne,Le-32,ct[_t].y,0,16),n(Pe,We-32,ct[_t].f,0,8),n(at,Ct-32,ct[_t].ea,0,8)),Ge.Za){var mt=Ne,Zt=Le-32+16;for(0<Ae&&(ue>=z.za-1?i(mt,Zt,ct[_t].y[15],4):n(mt,Zt,ct[_t+1].y,0,4)),se=0;4>se;se++)mt[Zt+128+se]=mt[Zt+256+se]=mt[Zt+384+se]=mt[Zt+0+se];for(se=0;16>se;++se,Tt<<=2)mt=Ne,Zt=Le+an[se],fa[Ge.Ob[se]](mt,Zt),c0(Tt,Yt,16*+se,mt,Zt)}else if(mt=Js(ue,Ae,Ge.Ob[0]),Wo[mt](Ne,Le),Tt!=0)for(se=0;16>se;++se,Tt<<=2)c0(Tt,Yt,16*+se,Ne,Le+an[se]);for(se=Ge.Gc,mt=Js(ue,Ae,Ge.Dd),Lc[mt](Pe,We),Lc[mt](at,Ct),Tt=Yt,mt=Pe,Zt=We,255&(Ge=0|se)&&(170&Ge?cs(Tt,256,mt,Zt):_i(Tt,256,mt,Zt)),Ge=at,Tt=Ct,255&(se>>=8)&&(170&se?cs(Yt,320,Ge,Tt):_i(Yt,320,Ge,Tt)),Ae<z.Ub-1&&(n(ct[_t].y,0,Ne,Le+480,16),n(ct[_t].f,0,Pe,We+224,8),n(ct[_t].ea,0,at,Ct+224,8)),se=8*Ce*z.B,ct=z.sa,_t=z.ta+16*ue+16*Ce*z.R,Yt=z.qa,Ge=z.ra+8*ue+se,Tt=z.Ha,mt=z.Ia+8*ue+se,se=0;16>se;++se)n(ct,_t+se*z.R,Ne,Le+32*se,16);for(se=0;8>se;++se)n(Yt,Ge+se*z.B,Pe,We+32*se,8),n(Tt,mt+se*z.B,at,Ct+32*se,8)}}function Mc(z,G,se,ue,Ae,Ce,Ne,Le,Pe){var We=[0],at=[0],Ct=0,Ge=Pe!=null?Pe.kd:0,ct=Pe??new ar;if(z==null||12>se)return 7;ct.data=z,ct.w=G,ct.ha=se,G=[G],se=[se],ct.gb=[ct.gb];e:{var _t=G,Yt=se,Tt=ct.gb;if(e(z!=null),e(Yt!=null),e(Tt!=null),Tt[0]=0,12<=Yt[0]&&!t(z,_t[0],"RIFF")){if(t(z,_t[0]+8,"WEBP")){Tt=3;break e}var mt=ne(z,_t[0]+4);if(12>mt||4294967286<mt){Tt=3;break e}if(Ge&&mt>Yt[0]-8){Tt=7;break e}Tt[0]=mt,_t[0]+=12,Yt[0]-=12}Tt=0}if(Tt!=0)return Tt;for(mt=0<ct.gb[0],se=se[0];;){e:{var Zt=z;Yt=G,Tt=se;var cr=We,rr=at,jr=_t=[0];if((Ur=Ct=[Ct])[0]=0,8>Tt[0])Tt=7;else{if(!t(Zt,Yt[0],"VP8X")){if(ne(Zt,Yt[0]+4)!=10){Tt=3;break e}if(18>Tt[0]){Tt=7;break e}var Ir=ne(Zt,Yt[0]+8),Cn=1+Qe(Zt,Yt[0]+12);if(2147483648<=Cn*(Zt=1+Qe(Zt,Yt[0]+15))){Tt=3;break e}jr!=null&&(jr[0]=Ir),cr!=null&&(cr[0]=Cn),rr!=null&&(rr[0]=Zt),Yt[0]+=18,Tt[0]-=18,Ur[0]=1}Tt=0}}if(Ct=Ct[0],_t=_t[0],Tt!=0)return Tt;if(Yt=!!(2&_t),!mt&&Ct)return 3;if(Ce!=null&&(Ce[0]=!!(16&_t)),Ne!=null&&(Ne[0]=Yt),Le!=null&&(Le[0]=0),Ne=We[0],_t=at[0],Ct&&Yt&&Pe==null){Tt=0;break}if(4>se){Tt=7;break}if(mt&&Ct||!mt&&!Ct&&!t(z,G[0],"ALPH")){se=[se],ct.na=[ct.na],ct.P=[ct.P],ct.Sa=[ct.Sa];e:{Ir=z,Tt=G,mt=se;var Ur=ct.gb;cr=ct.na,rr=ct.P,jr=ct.Sa,Cn=22,e(Ir!=null),e(mt!=null),Zt=Tt[0];var Yn=mt[0];for(e(cr!=null),e(jr!=null),cr[0]=null,rr[0]=null,jr[0]=0;;){if(Tt[0]=Zt,mt[0]=Yn,8>Yn){Tt=7;break e}var Ia=ne(Ir,Zt+4);if(4294967286<Ia){Tt=3;break e}var Vn=8+Ia+1&-2;if(Cn+=Vn,0<Ur&&Cn>Ur){Tt=3;break e}if(!t(Ir,Zt,"VP8 ")||!t(Ir,Zt,"VP8L")){Tt=0;break e}if(Yn[0]<Vn){Tt=7;break e}t(Ir,Zt,"ALPH")||(cr[0]=Ir,rr[0]=Zt+8,jr[0]=Ia),Zt+=Vn,Yn-=Vn}}if(se=se[0],ct.na=ct.na[0],ct.P=ct.P[0],ct.Sa=ct.Sa[0],Tt!=0)break}se=[se],ct.Ja=[ct.Ja],ct.xa=[ct.xa];e:if(Ur=z,Tt=G,mt=se,cr=ct.gb[0],rr=ct.Ja,jr=ct.xa,Ir=Tt[0],Zt=!t(Ur,Ir,"VP8 "),Cn=!t(Ur,Ir,"VP8L"),e(Ur!=null),e(mt!=null),e(rr!=null),e(jr!=null),8>mt[0])Tt=7;else{if(Zt||Cn){if(Ur=ne(Ur,Ir+4),12<=cr&&Ur>cr-12){Tt=3;break e}if(Ge&&Ur>mt[0]-8){Tt=7;break e}rr[0]=Ur,Tt[0]+=8,mt[0]-=8,jr[0]=Cn}else jr[0]=5<=mt[0]&&Ur[Ir+0]==47&&!(Ur[Ir+4]>>5),rr[0]=mt[0];Tt=0}if(se=se[0],ct.Ja=ct.Ja[0],ct.xa=ct.xa[0],G=G[0],Tt!=0)break;if(4294967286<ct.Ja)return 3;if(Le==null||Yt||(Le[0]=ct.xa?2:1),Ne=[Ne],_t=[_t],ct.xa){if(5>se){Tt=7;break}Le=Ne,Ge=_t,Yt=Ce,z==null||5>se?z=0:5<=se&&z[G+0]==47&&!(z[G+4]>>5)?(mt=[0],Ur=[0],cr=[0],J(rr=new W,z,G,se),Va(rr,mt,Ur,cr)?(Le!=null&&(Le[0]=mt[0]),Ge!=null&&(Ge[0]=Ur[0]),Yt!=null&&(Yt[0]=cr[0]),z=1):z=0):z=0}else{if(10>se){Tt=7;break}Le=_t,z==null||10>se||!Ci(z,G+3,se-3)?z=0:(Ge=z[G+0]|z[G+1]<<8|z[G+2]<<16,Yt=16383&(z[G+7]<<8|z[G+6]),z=16383&(z[G+9]<<8|z[G+8]),1&Ge||3<(Ge>>1&7)||!(Ge>>4&1)||Ge>>5>=ct.Ja||!Yt||!z?z=0:(Ne&&(Ne[0]=Yt),Le&&(Le[0]=z),z=1))}if(!z||(Ne=Ne[0],_t=_t[0],Ct&&(We[0]!=Ne||at[0]!=_t)))return 3;Pe!=null&&(Pe[0]=ct,Pe.offset=G-Pe.w,e(4294967286>G-Pe.w),e(Pe.offset==Pe.ha-se));break}return Tt==0||Tt==7&&Ct&&Pe==null?(Ce!=null&&(Ce[0]|=ct.na!=null&&0<ct.na.length),ue!=null&&(ue[0]=Ne),Ae!=null&&(Ae[0]=_t),0):Tt}function ff(z,G,se){var ue=G.width,Ae=G.height,Ce=0,Ne=0,Le=ue,Pe=Ae;if(G.Da=z!=null&&0<z.Da,G.Da&&(Le=z.cd,Pe=z.bd,Ce=z.v,Ne=z.j,11>se||(Ce&=-2,Ne&=-2),0>Ce||0>Ne||0>=Le||0>=Pe||Ce+Le>ue||Ne+Pe>Ae))return 0;if(G.v=Ce,G.j=Ne,G.va=Ce+Le,G.o=Ne+Pe,G.U=Le,G.T=Pe,G.da=z!=null&&0<z.da,G.da){if(!de(Le,Pe,se=[z.ib],Ce=[z.hb]))return 0;G.ib=se[0],G.hb=Ce[0]}return G.ob=z!=null&&z.ob,G.Kb=z==null||!z.Sd,G.da&&(G.ob=G.ib<3*ue/4&&G.hb<3*Ae/4,G.Kb=0),1}function Qd(z){if(z==null)return 2;if(11>z.S){var G=z.f.RGBA;G.fb+=(z.height-1)*G.A,G.A=-G.A}else G=z.f.kb,z=z.height,G.O+=(z-1)*G.fa,G.fa=-G.fa,G.N+=(z-1>>1)*G.Ab,G.Ab=-G.Ab,G.W+=(z-1>>1)*G.Db,G.Db=-G.Db,G.F!=null&&(G.J+=(z-1)*G.lb,G.lb=-G.lb);return 0}function rc(z,G,se,ue){if(ue==null||0>=z||0>=G)return 2;if(se!=null){if(se.Da){var Ae=se.cd,Ce=se.bd,Ne=-2&se.v,Le=-2&se.j;if(0>Ne||0>Le||0>=Ae||0>=Ce||Ne+Ae>z||Le+Ce>G)return 2;z=Ae,G=Ce}if(se.da){if(!de(z,G,Ae=[se.ib],Ce=[se.hb]))return 2;z=Ae[0],G=Ce[0]}}ue.width=z,ue.height=G;e:{var Pe=ue.width,We=ue.height;if(z=ue.S,0>=Pe||0>=We||!(z>=Vv&&13>z))z=2;else{if(0>=ue.Rd&&ue.sd==null){Ne=Ce=Ae=G=0;var at=(Le=Pe*Eg[z])*We;if(11>z||(Ce=(We+1)/2*(G=(Pe+1)/2),z==12&&(Ne=(Ae=Pe)*We)),(We=a(at+2*Ce+Ne))==null){z=1;break e}ue.sd=We,11>z?((Pe=ue.f.RGBA).eb=We,Pe.fb=0,Pe.A=Le,Pe.size=at):((Pe=ue.f.kb).y=We,Pe.O=0,Pe.fa=Le,Pe.Fd=at,Pe.f=We,Pe.N=0+at,Pe.Ab=G,Pe.Cd=Ce,Pe.ea=We,Pe.W=0+at+Ce,Pe.Db=G,Pe.Ed=Ce,z==12&&(Pe.F=We,Pe.J=0+at+2*Ce),Pe.Tc=Ne,Pe.lb=Ae)}if(G=1,Ae=ue.S,Ce=ue.width,Ne=ue.height,Ae>=Vv&&13>Ae)if(11>Ae)z=ue.f.RGBA,G&=(Le=Math.abs(z.A))*(Ne-1)+Ce<=z.size,G&=Le>=Ce*Eg[Ae],G&=z.eb!=null;else{z=ue.f.kb,Le=(Ce+1)/2,at=(Ne+1)/2,Pe=Math.abs(z.fa),We=Math.abs(z.Ab);var Ct=Math.abs(z.Db),Ge=Math.abs(z.lb),ct=Ge*(Ne-1)+Ce;G&=Pe*(Ne-1)+Ce<=z.Fd,G&=We*(at-1)+Le<=z.Cd,G=(G&=Ct*(at-1)+Le<=z.Ed)&Pe>=Ce&We>=Le&Ct>=Le,G&=z.y!=null,G&=z.f!=null,G&=z.ea!=null,Ae==12&&(G&=Ge>=Ce,G&=ct<=z.Tc,G&=z.F!=null)}else G=0;z=G?0:2}}return z!=0||se!=null&&se.fd&&(z=Qd(ue)),z}var Qf=64,wo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ks=24,Ri=32,hf=8,eh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(z){return z},D.Predictor2=function(z,G,se){return G[se+0]},D.Predictor3=function(z,G,se){return G[se+1]},D.Predictor4=function(z,G,se){return G[se-1]},D.Predictor5=function(z,G,se){return we(we(z,G[se+1]),G[se+0])},D.Predictor6=function(z,G,se){return we(z,G[se-1])},D.Predictor7=function(z,G,se){return we(z,G[se+0])},D.Predictor8=function(z,G,se){return we(G[se-1],G[se+0])},D.Predictor9=function(z,G,se){return we(G[se+0],G[se+1])},D.Predictor10=function(z,G,se){return we(we(z,G[se-1]),we(G[se+0],G[se+1]))},D.Predictor11=function(z,G,se){var ue=G[se+0];return 0>=$e(ue>>24&255,z>>24&255,(G=G[se-1])>>24&255)+$e(ue>>16&255,z>>16&255,G>>16&255)+$e(ue>>8&255,z>>8&255,G>>8&255)+$e(255&ue,255&z,255&G)?ue:z},D.Predictor12=function(z,G,se){var ue=G[se+0];return(pe((z>>24&255)+(ue>>24&255)-((G=G[se-1])>>24&255))<<24|pe((z>>16&255)+(ue>>16&255)-(G>>16&255))<<16|pe((z>>8&255)+(ue>>8&255)-(G>>8&255))<<8|pe((255&z)+(255&ue)-(255&G)))>>>0},D.Predictor13=function(z,G,se){var ue=G[se-1];return(ze((z=we(z,G[se+0]))>>24&255,ue>>24&255)<<24|ze(z>>16&255,ue>>16&255)<<16|ze(z>>8&255,ue>>8&255)<<8|ze(255&z,255&ue))>>>0};var ep=D.PredictorAdd0;D.PredictorAdd1=ht,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var df=D.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(z){return z>>8&255},function(z){return z}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(z){return z},function(z){return z>>8&255});var ua,zv=D.ColorIndexInverseTransform,yu=D.MapARGB,Ho=D.VP8LColorIndexInverseTransformAlpha,ta=D.MapAlpha,pf=D.VP8LPredictorsAdd=[];pf.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var tp,rp,bu,_u,nc,Kh,ic,vf,So,cs,Di,_i,Ea,es,ts,Cc,Is,u0,wu,np,th,wg,jv,mf,$h,To,rh,Os,Jh=a(511),Uv=a(2041),nh=a(225),f0=a(767),ip=0,gf=Uv,ap=nh,Qs=f0,Ps=Jh,Vv=0,eo=1,Go=2,ac=3,Fs=4,sp=5,xf=6,h0=7,Sg=8,kl=9,Hv=10,Il=[2,3,7],Su=[3,3,11],Qh=[280,256,256,256,40],Gv=[0,1,1,1,0],d0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ol=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yf=8,Nc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Dc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],oc=null,Iy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ih=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],to=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ma=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wo=[],fa=[],Lc=[],hi=1,Yv=2,ah=[],ro=[];_o("UpsampleRgbLinePair",Ga,3),_o("UpsampleBgrLinePair",vs,3),_o("UpsampleRgbaLinePair",$s,4),_o("UpsampleBgraLinePair",Ec,4),_o("UpsampleArgbLinePair",cf,4),_o("UpsampleRgba4444LinePair",lf,2),_o("UpsampleRgb565LinePair",Jf,2);var op=D.UpsampleRgbLinePair,Oy=D.UpsampleBgrLinePair,p0=D.UpsampleRgbaLinePair,Ag=D.UpsampleBgraLinePair,bf=D.UpsampleArgbLinePair,Ao=D.UpsampleRgba4444LinePair,sh=D.UpsampleRgb565LinePair,fl=16,Rc=1<<fl-1,ed=-227,_f=482,v0=6,td=0,no=a(256),qv=a(256),Py=a(256),kb=a(256),Ib=a(_f-ed),Fy=a(_f-ed);uf("YuvToRgbRow",Ga,3),uf("YuvToBgrRow",vs,3),uf("YuvToRgbaRow",$s,4),uf("YuvToBgraRow",Ec,4),uf("YuvToArgbRow",cf,4),uf("YuvToRgba4444Row",lf,2),uf("YuvToRgb565Row",Jf,2);var an=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],m0=[0,2,8],Eo=[8,7,6,4,4,2,2,2,1,1,1,1],lp=1;this.WebPDecodeRGBA=function(z,G,se,ue,Ae){var Ce=eo,Ne=new Kt,Le=new Lt;Ne.ba=Le,Le.S=Ce,Le.width=[Le.width],Le.height=[Le.height];var Pe=Le.width,We=Le.height,at=new vt;if(at==null||z==null)var Ct=2;else e(at!=null),Ct=Mc(z,G,se,at.width,at.height,at.Pd,at.Qd,at.format,null);if(Ct!=0?Pe=0:(Pe!=null&&(Pe[0]=at.width[0]),We!=null&&(We[0]=at.height[0]),Pe=1),Pe){Le.width=Le.width[0],Le.height=Le.height[0],ue!=null&&(ue[0]=Le.width),Ae!=null&&(Ae[0]=Le.height);e:{if(ue=new Qn,(Ae=new ar).data=z,Ae.w=G,Ae.ha=se,Ae.kd=1,G=[0],e(Ae!=null),((z=Mc(Ae.data,Ae.w,Ae.ha,null,null,null,G,null,Ae))==0||z==7)&&G[0]&&(z=4),(G=z)==0){if(e(Ne!=null),ue.data=Ae.data,ue.w=Ae.w+Ae.offset,ue.ha=Ae.ha-Ae.offset,ue.put=xr,ue.ac=Hr,ue.bc=wn,ue.ma=Ne,Ae.xa){if((z=At())==null){Ne=1;break e}if((function(Ge,ct){var _t=[0],Yt=[0],Tt=[0];t:for(;;){if(Ge==null)return 0;if(ct==null)return Ge.a=2,0;if(Ge.l=ct,Ge.a=0,J(Ge.m,ct.data,ct.w,ct.ha),!Va(Ge.m,_t,Yt,Tt)){Ge.a=3;break t}if(Ge.xb=Yv,ct.width=_t[0],ct.height=Yt[0],!St(_t[0],Yt[0],1,Ge,null))break t;return 1}return e(Ge.a!=0),0})(z,ue)){if(ue=(G=rc(ue.width,ue.height,Ne.Oa,Ne.ba))==0){t:{ue=z;r:for(;;){if(ue==null){ue=0;break t}if(e(ue.s.yc!=null),e(ue.s.Ya!=null),e(0<ue.s.Wb),e((se=ue.l)!=null),e((Ae=se.ma)!=null),ue.xb!=0){if(ue.ca=Ae.ba,ue.tb=Ae.tb,e(ue.ca!=null),!ff(Ae.Oa,se,ac)){ue.a=2;break r}if(!Mt(ue,se.width)||se.da)break r;if((se.da||Ue(ue.ca.S))&&Ks(),11>ue.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ue.ca.f.kb.F!=null&&Ks()),ue.Pb&&0<ue.s.ua&&ue.s.vb.X==null&&!te(ue.s.vb,ue.s.Wa.Xa)){ue.a=1;break r}ue.xb=0}if(!wt(ue,ue.V,ue.Ba,ue.c,ue.i,se.o,ke))break r;Ae.Dc=ue.Ma,ue=1;break t}e(ue.a!=0),ue=0}ue=!ue}ue&&(G=z.a)}else G=z.a}else{if((z=new fi)==null){Ne=1;break e}if(z.Fa=Ae.na,z.P=Ae.P,z.qc=Ae.Sa,Wr(z,ue)){if((G=rc(ue.width,ue.height,Ne.Oa,Ne.ba))==0){if(z.Aa=0,se=Ne.Oa,e((Ae=z)!=null),se!=null){if(0<(Pe=0>(Pe=se.Md)?0:100<Pe?255:255*Pe/100)){for(We=at=0;4>We;++We)12>(Ct=Ae.pb[We]).lc&&(Ct.ia=Pe*Eo[0>Ct.lc?0:Ct.lc]>>3),at|=Ct.ia;at&&(alert("todo:VP8InitRandom"),Ae.ia=1)}Ae.Ga=se.Id,100<Ae.Ga?Ae.Ga=100:0>Ae.Ga&&(Ae.Ga=0)}(function(Ge,ct){if(Ge==null)return 0;if(ct==null)return ln(Ge,2,"NULL VP8Io parameter in VP8Decode().");if(!Ge.cb&&!Wr(Ge,ct))return 0;if(e(Ge.cb),ct.ac==null||ct.ac(ct)){ct.ob&&(Ge.L=0);var _t=m0[Ge.L];if(Ge.L==2?(Ge.yb=0,Ge.zb=0):(Ge.yb=ct.v-_t>>4,Ge.zb=ct.j-_t>>4,0>Ge.yb&&(Ge.yb=0),0>Ge.zb&&(Ge.zb=0)),Ge.Va=ct.o+15+_t>>4,Ge.Hb=ct.va+15+_t>>4,Ge.Hb>Ge.za&&(Ge.Hb=Ge.za),Ge.Va>Ge.Ub&&(Ge.Va=Ge.Ub),0<Ge.L){var Yt=Ge.ed;for(_t=0;4>_t;++_t){var Tt;if(Ge.Qa.Cb){var mt=Ge.Qa.Lb[_t];Ge.Qa.Fb||(mt+=Yt.Tb)}else mt=Yt.Tb;for(Tt=0;1>=Tt;++Tt){var Zt=Ge.gd[_t][Tt],cr=mt;if(Yt.Pc&&(cr+=Yt.vd[0],Tt&&(cr+=Yt.od[0])),0<(cr=0>cr?0:63<cr?63:cr)){var rr=cr;0<Yt.wb&&(rr=4<Yt.wb?rr>>2:rr>>1)>9-Yt.wb&&(rr=9-Yt.wb),1>rr&&(rr=1),Zt.dd=rr,Zt.tc=2*cr+rr,Zt.ld=40<=cr?2:15<=cr?1:0}else Zt.tc=0;Zt.La=Tt}}}_t=0}else ln(Ge,6,"Frame setup failed"),_t=Ge.a;if(_t=_t==0){if(_t){Ge.$c=0,0<Ge.Aa||(Ge.Ic=lp);t:{_t=Ge.Ic,Yt=4*(rr=Ge.za);var jr=32*rr,Ir=rr+1,Cn=0<Ge.L?rr*(0<Ge.Aa?2:1):0,Ur=(Ge.Aa==2?2:1)*rr;if((Zt=Yt+832+(Tt=3*(16*_t+m0[Ge.L])/2*jr)+(mt=Ge.Fa!=null&&0<Ge.Fa.length?Ge.Kc.c*Ge.Kc.i:0))!=Zt)_t=0;else{if(Zt>Ge.Vb){if(Ge.Vb=0,Ge.Ec=a(Zt),Ge.Fc=0,Ge.Ec==null){_t=ln(Ge,1,"no memory during frame initialization.");break t}Ge.Vb=Zt}Zt=Ge.Ec,cr=Ge.Fc,Ge.Ac=Zt,Ge.Bc=cr,cr+=Yt,Ge.Gd=s(jr,Xr),Ge.Hd=0,Ge.rb=s(Ir+1,lr),Ge.sb=1,Ge.wa=Cn?s(Cn,Xt):null,Ge.Y=0,Ge.D.Nb=0,Ge.D.wa=Ge.wa,Ge.D.Y=Ge.Y,0<Ge.Aa&&(Ge.D.Y+=rr),e(!0),Ge.oc=Zt,Ge.pc=cr,cr+=832,Ge.ya=s(Ur,Sr),Ge.aa=0,Ge.D.ya=Ge.ya,Ge.D.aa=Ge.aa,Ge.Aa==2&&(Ge.D.aa+=rr),Ge.R=16*rr,Ge.B=8*rr,rr=(jr=m0[Ge.L])*Ge.R,jr=jr/2*Ge.B,Ge.sa=Zt,Ge.ta=cr+rr,Ge.qa=Ge.sa,Ge.ra=Ge.ta+16*_t*Ge.R+jr,Ge.Ha=Ge.qa,Ge.Ia=Ge.ra+8*_t*Ge.B+jr,Ge.$c=0,cr+=Tt,Ge.mb=mt?Zt:null,Ge.nb=mt?cr:null,e(cr+mt<=Ge.Fc+Ge.Vb),ei(Ge),i(Ge.Ac,Ge.Bc,0,Yt),_t=1}}if(_t){if(ct.ka=0,ct.y=Ge.sa,ct.O=Ge.ta,ct.f=Ge.qa,ct.N=Ge.ra,ct.ea=Ge.Ha,ct.Vd=Ge.Ia,ct.fa=Ge.R,ct.Rc=Ge.B,ct.F=null,ct.J=0,!ip){for(_t=-255;255>=_t;++_t)Jh[255+_t]=0>_t?-_t:_t;for(_t=-1020;1020>=_t;++_t)Uv[1020+_t]=-128>_t?-128:127<_t?127:_t;for(_t=-112;112>=_t;++_t)nh[112+_t]=-16>_t?-16:15<_t?15:_t;for(_t=-255;510>=_t;++_t)f0[255+_t]=0>_t?0:255<_t?255:_t;ip=1}ic=Vo,vf=ps,cs=ca,Di=os,_i=Ra,So=ea,Ea=Fv,es=sf,ts=Te,Cc=Xe,Is=Bv,u0=ie,wu=nt,np=pt,th=xu,wg=nf,jv=Xh,mf=Pv,fa[0]=Ov,fa[1]=qd,fa[2]=Iv,fa[3]=s0,fa[4]=ol,fa[5]=o0,fa[6]=Zs,fa[7]=Zd,fa[8]=Yh,fa[9]=Ql,Wo[0]=Ac,Wo[1]=Xd,Wo[2]=a0,Wo[3]=kv,Wo[4]=mu,Wo[5]=Wh,Wo[6]=Kf,Lc[0]=Kd,Lc[1]=Rv,Lc[2]=Dl,Lc[3]=l0,Lc[4]=_s,Lc[5]=$d,Lc[6]=gu,_t=1}else _t=0}_t&&(_t=(function(Yn,Ia){for(Yn.M=0;Yn.M<Yn.Va;++Yn.M){var Vn,Or=Yn.Jc[Yn.M&Yn.Xb],yr=Yn.m,rs=Yn;for(Vn=0;Vn<rs.za;++Vn){var mn=yr,Hn=rs,ki=Hn.Ac,ws=Hn.Bc+4*Vn,Mo=Hn.zc,Ca=Hn.ya[Hn.aa+Vn];if(Hn.Qa.Bb?Ca.$b=be(mn,Hn.Pa.jb[0])?2+be(mn,Hn.Pa.jb[2]):be(mn,Hn.Pa.jb[1]):Ca.$b=0,Hn.kc&&(Ca.Ad=be(mn,Hn.Bd)),Ca.Za=!be(mn,145)+0,Ca.Za){var us=Ca.Ob,Wa=0;for(Hn=0;4>Hn;++Hn){var gi,Nn=Mo[0+Hn];for(gi=0;4>gi;++gi){Nn=to[ki[ws+gi]][Nn];for(var Fn=ih[be(mn,Nn[0])];0<Fn;)Fn=ih[2*Fn+be(mn,Nn[Fn])];Nn=-Fn,ki[ws+gi]=Nn}n(us,Wa,ki,ws,4),Wa+=4,Mo[0+Hn]=Nn}}else Nn=be(mn,156)?be(mn,128)?1:3:be(mn,163)?2:0,Ca.Ob[0]=Nn,i(ki,ws,Nn,4),i(Mo,0,Nn,4);Ca.Dd=be(mn,142)?be(mn,114)?be(mn,183)?1:3:2:0}if(rs.m.Ka)return ln(Yn,7,"Premature end-of-partition0 encountered.");for(;Yn.ja<Yn.za;++Yn.ja){if(rs=Or,mn=(yr=Yn).rb[yr.sb-1],ki=yr.rb[yr.sb+yr.ja],Vn=yr.ya[yr.aa+yr.ja],ws=yr.kc?Vn.Ad:0)mn.la=ki.la=0,Vn.Za||(mn.Na=ki.Na=0),Vn.Hc=0,Vn.Gc=0,Vn.ia=0;else{var Ya,Ui;if(mn=ki,ki=rs,ws=yr.Pa.Xc,Mo=yr.ya[yr.aa+yr.ja],Ca=yr.pb[Mo.$b],Hn=Mo.ad,us=0,Wa=yr.rb[yr.sb-1],Nn=gi=0,i(Hn,us,0,384),Mo.Za)var Ii=0,ra=ws[3];else{Fn=a(16);var Oi=mn.Na+Wa.Na;if(Oi=oc(ki,ws[1],Oi,Ca.Eb,0,Fn,0),mn.Na=Wa.Na=(0<Oi)+0,1<Oi)ic(Fn,0,Hn,us);else{var ms=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)Hn[us+Fn]=ms}Ii=1,ra=ws[0]}var na=15&mn.la,Ss=15&Wa.la;for(Fn=0;4>Fn;++Fn){var gs=1&Ss;for(ms=Ui=0;4>ms;++ms)na=na>>1|(gs=(Oi=oc(ki,ra,Oi=gs+(1&na),Ca.Sc,Ii,Hn,us))>Ii)<<7,Ui=Ui<<2|(3<Oi?3:1<Oi?2:Hn[us+0]!=0),us+=16;na>>=4,Ss=Ss>>1|gs<<7,gi=(gi<<8|Ui)>>>0}for(ra=na,Ii=Ss>>4,Ya=0;4>Ya;Ya+=2){for(Ui=0,na=mn.la>>4+Ya,Ss=Wa.la>>4+Ya,Fn=0;2>Fn;++Fn){for(gs=1&Ss,ms=0;2>ms;++ms)Oi=gs+(1&na),na=na>>1|(gs=0<(Oi=oc(ki,ws[2],Oi,Ca.Qc,0,Hn,us)))<<3,Ui=Ui<<2|(3<Oi?3:1<Oi?2:Hn[us+0]!=0),us+=16;na>>=2,Ss=Ss>>1|gs<<5}Nn|=Ui<<4*Ya,ra|=na<<4<<Ya,Ii|=(240&Ss)<<Ya}mn.la=ra,Wa.la=Ii,Mo.Hc=gi,Mo.Gc=Nn,Mo.ia=43690&Nn?0:Ca.ia,ws=!(gi|Nn)}if(0<yr.L&&(yr.wa[yr.Y+yr.ja]=yr.gd[Vn.$b][Vn.Za],yr.wa[yr.Y+yr.ja].La|=!ws),rs.Ka)return ln(Yn,7,"Premature end-of-file encountered.")}if(ei(Yn),yr=Ia,rs=1,Vn=(Or=Yn).D,mn=0<Or.L&&Or.M>=Or.zb&&Or.M<=Or.Va,Or.Aa==0)t:{if(Vn.M=Or.M,Vn.uc=mn,ul(Or,Vn),rs=1,Vn=(Ui=Or.D).Nb,mn=(Nn=m0[Or.L])*Or.R,ki=Nn/2*Or.B,Fn=16*Vn*Or.R,ms=8*Vn*Or.B,ws=Or.sa,Mo=Or.ta-mn+Fn,Ca=Or.qa,Hn=Or.ra-ki+ms,us=Or.Ha,Wa=Or.Ia-ki+ms,Ss=(na=Ui.M)==0,gi=na>=Or.Va-1,Or.Aa==2&&ul(Or,Ui),Ui.uc)for(gs=(Oi=Or).D.M,e(Oi.D.uc),Ui=Oi.yb;Ui<Oi.Hb;++Ui){Ii=Ui,ra=gs;var ba=(wi=(Ts=Oi).D).Nb;Ya=Ts.R;var wi=wi.wa[wi.Y+Ii],Yo=Ts.sa,_a=Ts.ta+16*ba*Ya+16*Ii,Jr=wi.dd,dn=wi.tc;if(dn!=0)if(e(3<=dn),Ts.L==1)0<Ii&&wg(Yo,_a,Ya,dn+4),wi.La&&mf(Yo,_a,Ya,dn),0<ra&&th(Yo,_a,Ya,dn+4),wi.La&&jv(Yo,_a,Ya,dn);else{var Pi=Ts.B,Pl=Ts.qa,qo=Ts.ra+8*ba*Pi+8*Ii,hl=Ts.Ha,Ts=Ts.Ia+8*ba*Pi+8*Ii;ba=wi.ld,0<Ii&&(es(Yo,_a,Ya,dn+4,Jr,ba),Cc(Pl,qo,hl,Ts,Pi,dn+4,Jr,ba)),wi.La&&(u0(Yo,_a,Ya,dn,Jr,ba),np(Pl,qo,hl,Ts,Pi,dn,Jr,ba)),0<ra&&(Ea(Yo,_a,Ya,dn+4,Jr,ba),ts(Pl,qo,hl,Ts,Pi,dn+4,Jr,ba)),wi.La&&(Is(Yo,_a,Ya,dn,Jr,ba),wu(Pl,qo,hl,Ts,Pi,dn,Jr,ba))}}if(Or.ia&&alert("todo:DitherRow"),yr.put!=null){if(Ui=16*na,na=16*(na+1),Ss?(yr.y=Or.sa,yr.O=Or.ta+Fn,yr.f=Or.qa,yr.N=Or.ra+ms,yr.ea=Or.Ha,yr.W=Or.Ia+ms):(Ui-=Nn,yr.y=ws,yr.O=Mo,yr.f=Ca,yr.N=Hn,yr.ea=us,yr.W=Wa),gi||(na-=Nn),na>yr.o&&(na=yr.o),yr.F=null,yr.J=null,Or.Fa!=null&&0<Or.Fa.length&&Ui<na&&(yr.J=xa(Or,yr,Ui,na-Ui),yr.F=Or.mb,yr.F==null&&yr.F.length==0)){rs=ln(Or,3,"Could not decode alpha data.");break t}Ui<yr.j&&(Nn=yr.j-Ui,Ui=yr.j,e(!(1&Nn)),yr.O+=Or.R*Nn,yr.N+=Or.B*(Nn>>1),yr.W+=Or.B*(Nn>>1),yr.F!=null&&(yr.J+=yr.width*Nn)),Ui<na&&(yr.O+=yr.v,yr.N+=yr.v>>1,yr.W+=yr.v>>1,yr.F!=null&&(yr.J+=yr.v),yr.ka=Ui-yr.j,yr.U=yr.va-yr.v,yr.T=na-Ui,rs=yr.put(yr))}Vn+1!=Or.Ic||gi||(n(Or.sa,Or.ta-mn,ws,Mo+16*Or.R,mn),n(Or.qa,Or.ra-ki,Ca,Hn+8*Or.B,ki),n(Or.Ha,Or.Ia-ki,us,Wa+8*Or.B,ki))}if(!rs)return ln(Yn,6,"Output aborted.")}return 1})(Ge,ct)),ct.bc!=null&&ct.bc(ct),_t&=1}return _t?(Ge.cb=0,_t):0})(z,ue)||(G=z.a)}}else G=z.a}G==0&&Ne.Oa!=null&&Ne.Oa.fd&&(G=Qd(Ne.ba))}Ne=G}Ce=Ne!=0?null:11>Ce?Le.f.RGBA.eb:Le.f.kb.y}else Ce=null;return Ce};var Eg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(D,k){for(var O="",I=0;I<4;I++)O+=String.fromCharCode(D[k++]);return O}function u(D,k){return D[k+0]|D[k+1]<<8}function f(D,k){return(D[k+0]|D[k+1]<<8|D[k+2]<<16)>>>0}function d(D,k){return(D[k+0]|D[k+1]<<8|D[k+2]<<16|D[k+3]<<24)>>>0}new l;var h=[0],p=[0],v=[],x=new l,g=r,_=(function(D,k){var O={},I=0,j=!1,B=0,K=0;if(O.frames=[],!(function(F,W){for(var Q=0;Q<4;Q++)if(F[W+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(D,k)){for(d(D,k+=4),k+=8;k<D.length;){var H=c(D,k),Z=d(D,k+=4);k+=4;var Y=Z+(1&Z);switch(H){case"VP8 ":case"VP8L":O.frames[I]===void 0&&(O.frames[I]={}),(X=O.frames[I]).src_off=j?K:k-8,X.src_size=B+Z+8,I++,j&&(j=!1,B=0,K=0);break;case"VP8X":(X=O.header={}).feature_flags=D[k];var J=k+4;X.canvas_width=1+f(D,J),J+=3,X.canvas_height=1+f(D,J),J+=3;break;case"ALPH":j=!0,B=Y+8,K=k-8;break;case"ANIM":(X=O.header).bgcolor=d(D,k),J=k+4,X.loop_count=u(D,J),J+=2;break;case"ANMF":var oe,X;(X=O.frames[I]={}).offset_x=2*f(D,k),k+=3,X.offset_y=2*f(D,k),k+=3,X.width=1+f(D,k),k+=3,X.height=1+f(D,k),k+=3,X.duration=f(D,k),k+=3,oe=D[k++],X.dispose=1&oe,X.blend=oe>>1&1}H!="ANMF"&&(k+=Y)}return O}})(g,0);_.response=g,_.rgbaoutput=!0,_.dataurl=!1;var w=_.header?_.header:null,A=_.frames?_.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],p=[w.canvas_width];for(var M=0;M<A.length&&A[M].blend!=0;M++);}var C=A[0],N=x.WebPDecodeRGBA(g,C.src_off,C.src_size,p,h);C.rgba=N,C.imgwidth=p[0],C.imgheight=h[0];for(var L=0;L<p[0]*h[0]*4;L++)v[L]=N[L];return this.width=p,this.height=h,this.data=v,this}(function(r){var e,t,n,i,a,s,o,l,c,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new s,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new s,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=F;Object.defineProperty(this,"pdf",{get:function(){return W}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(te){Q=!!te}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(te){re=!!te}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(te){isNaN(te)||(ae=te)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(te){isNaN(te)||(ce=te)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(te){var Me;typeof te=="number"?Me=[te,te,te,te]:((Me=new Array(4))[0]=te[0],Me[1]=te.length>=2?te[1]:Me[0],Me[2]=te.length>=3?te[2]:Me[0],Me[3]=te.length>=4?te[3]:Me[1]),c.margin=Me}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(te){ye=te}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(te){fe=te}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(te){be=te}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(te){te instanceof u&&(c=te)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(te){c.path=te}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(te){Oe=te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(te){var Me;Me=d(te),this.ctx.fillStyle=Me.style,this.ctx.isFillTransparent=Me.a===0,this.ctx.fillOpacity=Me.a,this.pdf.setFillColor(Me.r,Me.g,Me.b,{a:Me.a}),this.pdf.setTextColor(Me.r,Me.g,Me.b,{a:Me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(te){var Me=d(te);this.ctx.strokeStyle=Me.style,this.ctx.isStrokeTransparent=Me.a===0,this.ctx.strokeOpacity=Me.a,Me.a===0?this.pdf.setDrawColor(255,255,255):(Me.a,this.pdf.setDrawColor(Me.r,Me.g,Me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(te){["butt","round","square"].indexOf(te)!==-1&&(this.ctx.lineCap=te,this.pdf.setLineCap(te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(te){isNaN(te)||(this.ctx.lineWidth=te,this.pdf.setLineWidth(te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(te){["bevel","round","miter"].indexOf(te)!==-1&&(this.ctx.lineJoin=te,this.pdf.setLineJoin(te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(te){isNaN(te)||(this.ctx.miterLimit=te,this.pdf.setMiterLimit(te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(te){this.ctx.textBaseline=te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(te){["right","end","center","left","start"].indexOf(te)!==-1&&(this.ctx.textAlign=te)}});var xe=null,Qe=null,ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return ne},set:function(te){xe=null,Qe=null,ne=te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(te){var Me;if(this.ctx.font=te,(Me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(te))!==null){var ge=Me[1];Me[2];var de=Me[3],_e=Me[4];Me[5];var je=Me[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(Be==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var Fe=(function(Nt){var ir,ft,Dt=[],tr=Nt.trim();if(tr==="")return _O;if(tr in Fq)return[Fq[tr]];for(;tr!=="";){switch(ft=null,ir=(tr=zq(tr)).charAt(0)){case'"':case"'":ft=tEe(tr.substring(1),ir);break;default:ft=rEe(tr)}if(ft===null||(Dt.push(ft[0]),(tr=zq(ft[1]))!==""&&tr.charAt(0)!==","))return _O;tr=tr.replace(/^,/,"")}return Dt})(je);if(this.fontFaces){var we=(function(Nt,ir){var ft=Nt.getFontList(),Dt=JSON.stringify(ft);if(xe===null||Qe!==Dt){var tr=(function(Ze){var it=[];return Object.keys(Ze).forEach(function(Wt){Ze[Wt].forEach(function(Ue){var Ft=null;switch(Ue){case"bold":Ft={family:Wt,weight:"bold"};break;case"italic":Ft={family:Wt,style:"italic"};break;case"bolditalic":Ft={family:Wt,weight:"bold",style:"italic"};break;case"":case"normal":Ft={family:Wt}}Ft!==null&&(Ft.ref={name:Wt,style:Ue},it.push(Ft))})}),it})(ft);xe=(function(Ze){for(var it={},Wt=0;Wt<Ze.length;++Wt){var Ue=bO(Ze[Wt]),Ft=Ue.family,qt=Ue.stretch,Lt=Ue.style,vt=Ue.weight;it[Ft]=it[Ft]||{},it[Ft][qt]=it[Ft][qt]||{},it[Ft][qt][Lt]=it[Ft][qt][Lt]||{},it[Ft][qt][Lt][vt]=Ue}return it})(tr.concat(ir)),Qe=Dt}return xe})(this.pdf,this.fontFaces),pe=Fe.map(function(Nt){return{family:Nt,stretch:"normal",weight:de,style:ge}}),ze=(function(Nt,ir,ft){for(var Dt=(ft=ft||{}).defaultFontFamily||"times",tr=Object.assign({},eEe,ft.genericFontFamilies||{}),Ze=null,it=null,Wt=0;Wt<ir.length;++Wt)if(tr[(Ze=bO(ir[Wt])).family]&&(Ze.family=tr[Ze.family]),Nt.hasOwnProperty(Ze.family)){it=Nt[Ze.family];break}if(!(it=it||Nt[Dt]))throw new Error("Could not find a font-family for the rule '"+Bq(Ze)+"' and default family '"+Dt+"'.");if(it=(function(Ue,Ft){if(Ft[Ue])return Ft[Ue];var qt=t7[Ue],Lt=qt<=t7.normal?-1:1,vt=Pq(Ft,Qle,qt,Lt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+Ue);return vt})(Ze.stretch,it),it=(function(Ue,Ft){if(Ft[Ue])return Ft[Ue];for(var qt=Jle[Ue],Lt=0;Lt<qt.length;++Lt)if(Ft[qt[Lt]])return Ft[qt[Lt]];throw new Error("Could not find a matching font-style for "+Ue)})(Ze.style,it),!(it=(function(Ue,Ft){if(Ft[Ue])return Ft[Ue];if(Ue===400&&Ft[500])return Ft[500];if(Ue===500&&Ft[400])return Ft[400];var qt=Q3e[Ue],Lt=Pq(Ft,ece,qt,Ue<400?-1:1);if(!Lt)throw new Error("Could not find a matching font-weight for value "+Ue);return Lt})(Ze.weight,it)))throw new Error("Failed to resolve a font for the rule '"+Bq(Ze)+"'.");return it})(we,pe);this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var $e="";(de==="bold"||parseInt(de,10)>=700||ge==="bold")&&($e="bold"),ge==="italic"&&($e+="italic"),$e.length===0&&($e="normal");for(var ht="",Je={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<Fe.length;Ot++){if(this.pdf.internal.getFont(Fe[Ot],$e,{noFallback:!0,disableWarning:!0})!==void 0){ht=Fe[Ot];break}if($e==="bolditalic"&&this.pdf.internal.getFont(Fe[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Fe[Ot],$e="bold";else if(this.pdf.internal.getFont(Fe[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Fe[Ot],$e="normal";break}}if(ht===""){for(var bt=0;bt<Fe.length;bt++)if(Je[Fe[bt]]){ht=Je[Fe[bt]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,$e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(te){this.ctx.globalCompositeOperation=te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(te){this.ctx.globalAlpha=te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(te){this.ctx.lineDashOffset=te,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(te){this.ctx.lineDash=te,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(te){this.ctx.ignoreClearRect=!!te}})};f.prototype.setLineDash=function(F){this.lineDash=F},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(F,W){if(isNaN(F)||isNaN(W))throw as.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new s(F,W));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(F,W)},f.prototype.closePath=function(){var F=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&ja(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){F=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(F.x,F.y)},f.prototype.lineTo=function(F,W){if(isNaN(F)||isNaN(W))throw as.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new s(F,W));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function(F,W,Q,re){if(isNaN(Q)||isNaN(re)||isNaN(F)||isNaN(W))throw as.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new s(Q,re)),ce=this.ctx.transform.applyToPoint(new s(F,W));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(ae.x,ae.y)},f.prototype.bezierCurveTo=function(F,W,Q,re,ae,ce){if(isNaN(ae)||isNaN(ce)||isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(re))throw as.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new s(ae,ce)),fe=this.ctx.transform.applyToPoint(new s(F,W)),be=this.ctx.transform.applyToPoint(new s(Q,re));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:be.x,y2:be.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},f.prototype.arc=function(F,W,Q,re,ae,ce){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(re)||isNaN(ae))throw as.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new s(F,W));F=ye.x,W=ye.y;var fe=this.ctx.transform.applyToPoint(new s(0,Q)),be=this.ctx.transform.applyToPoint(new s(0,0));Q=Math.sqrt(Math.pow(fe.x-be.x,2)+Math.pow(fe.y-be.y,2))}Math.abs(ae-re)>=2*Math.PI&&(re=0,ae=2*Math.PI),this.path.push({type:"arc",x:F,y:W,radius:Q,startAngle:re,endAngle:ae,counterclockwise:ce})},f.prototype.arcTo=function(F,W,Q,re,ae){throw new Error("arcTo not implemented.")},f.prototype.rect=function(F,W,Q,re){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(re))throw as.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,W),this.lineTo(F+Q,W),this.lineTo(F+Q,W+re),this.lineTo(F,W+re),this.lineTo(F,W),this.lineTo(F+Q,W),this.lineTo(F,W)},f.prototype.fillRect=function(F,W,Q,re){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(re))throw as.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,W,Q,re),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},f.prototype.strokeRect=function(F,W,Q,re){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(re))throw as.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(F,W,Q,re),this.stroke())},f.prototype.clearRect=function(F,W,Q,re){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(re))throw as.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,W,Q,re))},f.prototype.save=function(F){F=typeof F!="boolean"||F;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},f.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(W),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(F){var W,Q,re,ae;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))W=0,Q=0,re=0,ae=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ce!==null)W=parseInt(ce[1]),Q=parseInt(ce[2]),re=parseInt(ce[3]),ae=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)W=parseInt(ce[1]),Q=parseInt(ce[2]),re=parseInt(ce[3]),ae=parseFloat(ce[4]);else{if(ae=1,typeof F=="string"&&F.charAt(0)!=="#"){var ye=new Wle(F);F=ye.ok?ye.toHex():"#000000"}F.length===4?(W=F.substring(1,2),W+=W,Q=F.substring(2,3),Q+=Q,re=F.substring(3,4),re+=re):(W=F.substring(1,3),Q=F.substring(3,5),re=F.substring(5,7)),W=parseInt(W,16),Q=parseInt(Q,16),re=parseInt(re,16)}}return{r:W,g:Q,b:re,a:ae,style:F}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(F,W,Q,re){if(isNaN(W)||isNaN(Q)||typeof F!="string")throw as.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!h.call(this)){var ae=Y(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;I.call(this,{text:F,x:W,y:Q,scale:ce,angle:ae,align:this.textAlign,maxWidth:re})}},f.prototype.strokeText=function(F,W,Q,re){if(isNaN(W)||isNaN(Q)||typeof F!="string")throw as.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){re=isNaN(re)?void 0:re;var ae=Y(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;I.call(this,{text:F,x:W,y:Q,scale:ce,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:re})}},f.prototype.measureText=function(F){if(typeof F!="string")throw as.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Q=this.pdf.internal.scaleFactor,re=W.internal.getFontSize(),ae=W.getStringUnitWidth(F)*re/W.internal.scaleFactor;return new function(ce){var ye=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:ae*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(F,W){if(isNaN(F)||isNaN(W))throw as.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(F,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(F){if(isNaN(F))throw as.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(F,W){if(isNaN(F)||isNaN(W))throw as.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,F,W);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(F,W,Q,re,ae,ce){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(re)||isNaN(ae)||isNaN(ce))throw as.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(F,W,Q,re,ae,ce);this.ctx.transform=this.ctx.transform.multiply(ye)},f.prototype.setTransform=function(F,W,Q,re,ae,ce){F=isNaN(F)?1:F,W=isNaN(W)?0:W,Q=isNaN(Q)?0:Q,re=isNaN(re)?1:re,ae=isNaN(ae)?0:ae,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(F,W,Q,re,ae,ce)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(F,W,Q,re,ae,ce,ye,fe,be){var Oe=this.pdf.getImageProperties(F),xe=1,Qe=1,ne=1,te=1;re!==void 0&&fe!==void 0&&(ne=fe/re,te=be/ae,xe=Oe.width/re*fe/re,Qe=Oe.height/ae*be/ae),ce===void 0&&(ce=W,ye=Q,W=0,Q=0),re!==void 0&&fe===void 0&&(fe=re,be=ae),re===void 0&&fe===void 0&&(fe=Oe.width,be=Oe.height);var Me=this.ctx.transform.decompose(),ge=Y(Me.rotate.shx),de=new l,_e=(de=(de=(de=de.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new o(ce-W*ne,ye-Q*te,re*xe,ae*Qe));if(this.autoPaging){for(var je,Be=x.call(this,_e),Fe=[],we=0;we<Be.length;we+=1)Fe.indexOf(Be[we])===-1&&Fe.push(Be[we]);w(Fe);for(var pe=Fe[0],ze=Fe[Fe.length-1],$e=pe;$e<ze+1;$e++){this.pdf.setPage($e);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=$e===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=$e===1?0:Ot+($e-2)*bt;if(this.ctx.clip_path.length!==0){var ir=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(je,this.posX+this.margin[3],-Nt+Je+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=ir}var ft=JSON.parse(JSON.stringify(_e));ft=_([ft],this.posX+this.margin[3],-Nt+Je+this.ctx.prevPageLastElemOffset)[0];var Dt=($e>pe||$e<ze)&&v.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,bt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,ge),Dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",_e.x,_e.y,_e.w,_e.h,null,null,ge)};var x=function(F,W,Q){var re=[];W=W||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":re.push(Math.floor((F.y+ae)/Q)+1);break;case"arc":re.push(Math.floor((F.y+ae-F.radius)/Q)+1),re.push(Math.floor((F.y+ae+F.radius)/Q)+1);break;case"qct":var ce=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);re.push(Math.floor((ce.y+ae)/Q)+1),re.push(Math.floor((ce.y+ce.h+ae)/Q)+1);break;case"bct":var ye=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);re.push(Math.floor((ye.y+ae)/Q)+1),re.push(Math.floor((ye.y+ye.h+ae)/Q)+1);break;case"rect":re.push(Math.floor((F.y+ae)/Q)+1),re.push(Math.floor((F.y+F.h+ae)/Q)+1)}for(var fe=0;fe<re.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<re[fe];)g.call(this);return re},g=function(){var F=this.fillStyle,W=this.strokeStyle,Q=this.font,re=this.lineCap,ae=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=W,this.font=Q,this.lineCap=re,this.lineWidth=ae,this.lineJoin=ce},_=function(F,W,Q){for(var re=0;re<F.length;re++)switch(F[re].type){case"bct":F[re].x2+=W,F[re].y2+=Q;case"qct":F[re].x1+=W,F[re].y1+=Q;default:F[re].x+=W,F[re].y+=Q}return F},w=function(F){return F.sort(function(W,Q){return W-Q})},A=function(F,W){var Q=this.fillStyle,re=this.strokeStyle,ae=this.lineCap,ce=this.lineWidth,ye=Math.abs(ce*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var be,Oe,xe=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),ne=[],te=0;te<Qe.length;te++)if(Qe[te].x!==void 0)for(var Me=x.call(this,Qe[te]),ge=0;ge<Me.length;ge+=1)ne.indexOf(Me[ge])===-1&&ne.push(Me[ge]);for(var de=0;de<ne.length;de++)for(;this.pdf.internal.getNumberOfPages()<ne[de];)g.call(this);w(ne);for(var _e=ne[0],je=ne[ne.length-1],Be=_e;Be<je+1;Be++){this.pdf.setPage(Be),this.fillStyle=Q,this.strokeStyle=re,this.lineCap=ae,this.lineWidth=ye,this.lineJoin=fe;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=Be===1?this.posY+this.margin[0]:this.margin[0],pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Be===1?0:pe+(Be-2)*ze;if(this.ctx.clip_path.length!==0){var ht=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(be,this.posX+this.margin[3],-$e+we+this.ctx.prevPageLastElemOffset),M.call(this,F,!0),this.path=ht}if(Oe=JSON.parse(JSON.stringify(xe)),this.path=_(Oe,this.posX+this.margin[3],-$e+we+this.ctx.prevPageLastElemOffset),W===!1||Be===0){var Je=(Be>_e||Be<je)&&v.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,ze,null).clip().discardPath()),M.call(this,F,W),Je&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}this.path=xe}else this.lineWidth=ye,M.call(this,F,W),this.lineWidth=ce},M=function(F,W){if((F!=="stroke"||W||!p.call(this))&&(F==="stroke"||W||!h.call(this))){for(var Q,re,ae=[],ce=this.path,ye=0;ye<ce.length;ye++){var fe=ce[ye];switch(fe.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:fe,deltas:[],abs:[]});break;case"lt":var be=ae.length;if(ce[ye-1]&&!isNaN(ce[ye-1].x)&&(Q=[fe.x-ce[ye-1].x,fe.y-ce[ye-1].y],be>0)){for(;be>=0;be--)if(ae[be-1].close!==!0&&ae[be-1].begin!==!0){ae[be-1].deltas.push(Q),ae[be-1].abs.push(fe);break}}break;case"bct":Q=[fe.x1-ce[ye-1].x,fe.y1-ce[ye-1].y,fe.x2-ce[ye-1].x,fe.y2-ce[ye-1].y,fe.x-ce[ye-1].x,fe.y-ce[ye-1].y],ae[ae.length-1].deltas.push(Q);break;case"qct":var Oe=ce[ye-1].x+2/3*(fe.x1-ce[ye-1].x),xe=ce[ye-1].y+2/3*(fe.y1-ce[ye-1].y),Qe=fe.x+2/3*(fe.x1-fe.x),ne=fe.y+2/3*(fe.y1-fe.y),te=fe.x,Me=fe.y;Q=[Oe-ce[ye-1].x,xe-ce[ye-1].y,Qe-ce[ye-1].x,ne-ce[ye-1].y,te-ce[ye-1].x,Me-ce[ye-1].y],ae[ae.length-1].deltas.push(Q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(fe)}}re=W?null:F==="stroke"?"stroke":"fill";for(var ge=!1,de=0;de<ae.length;de++)if(ae[de].arc)for(var _e=ae[de].abs,je=0;je<_e.length;je++){var Be=_e[je];Be.type==="arc"?L.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,W,!ge):j.call(this,Be.x,Be.y),ge=!0}else if(ae[de].close===!0)this.pdf.internal.out("h"),ge=!1;else if(ae[de].begin!==!0){var Fe=ae[de].start.x,we=ae[de].start.y;B.call(this,ae[de].deltas,Fe,we),ge=!0}re&&D.call(this,re),W&&k.call(this)}},C=function(F){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-Q;case"top":return F+W-Q;case"hanging":return F+W-2*Q;case"middle":return F+W/2-Q;default:return F}},N=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(W,Q){this.colorStops.push([W,Q])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(F,W,Q,re,ae,ce,ye,fe,be){for(var Oe=H.call(this,Q,re,ae,ce),xe=0;xe<Oe.length;xe++){var Qe=Oe[xe];xe===0&&(be?O.call(this,Qe.x1+F,Qe.y1+W):j.call(this,Qe.x1+F,Qe.y1+W)),K.call(this,F,W,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}fe?k.call(this):D.call(this,ye)},D=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},k=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(F,W){this.pdf.internal.out(t(F)+" "+n(W)+" m")},I=function(F){var W;switch(F.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var Q,re,ae,ce=this.pdf.getTextDimensions(F.text),ye=C.call(this,F.y),fe=N.call(this,ye)-ce.h,be=this.ctx.transform.applyToPoint(new s(F.x,ye));if(this.autoPaging){var Oe=this.ctx.transform.decompose(),xe=new l;xe=(xe=(xe=xe.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var Qe=this.ctx.transform.applyToRectangle(new o(F.x,ye,ce.w,ce.h)),ne=xe.applyToRectangle(new o(F.x,fe,ce.w,ce.h)),te=x.call(this,ne),Me=[],ge=0;ge<te.length;ge+=1)Me.indexOf(te[ge])===-1&&Me.push(te[ge]);w(Me);for(var de=Me[0],_e=Me[Me.length-1],je=de;je<_e+1;je++){this.pdf.setPage(je);var Be=je===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[2],pe=we-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],$e=ze-this.margin[3],ht=je===1?0:Fe+(je-2)*pe;if(this.ctx.clip_path.length!==0){var Je=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Q,this.posX+this.margin[3],-1*ht+Be),M.call(this,"fill",!0),this.path=Je}var Ot=_([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-ht+Be+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*F.scale),ae=this.lineWidth,this.lineWidth=ae*F.scale);var bt=this.autoPaging!=="text";if(bt||Ot.y+Ot.h<=we){if(bt||Ot.y>=Be&&Ot.x<=ze){var Nt=bt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||ze-Ot.x)[0],ir=_([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-ht+Be+this.ctx.prevPageLastElemOffset)[0],ft=bt&&(je>de||je<_e)&&v.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,pe,null).clip().discardPath()),this.pdf.text(Nt,ir.x,ir.y,{angle:F.angle,align:W,renderingMode:F.renderingMode}),ft&&this.pdf.restoreGraphicsState()}}else Ot.y<we&&(this.ctx.prevPageLastElemOffset+=we-Ot.y);F.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ae)}}else F.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*F.scale),ae=this.lineWidth,this.lineWidth=ae*F.scale),this.pdf.text(F.text,be.x+this.posX,be.y+this.posY,{angle:F.angle,align:W,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ae)},j=function(F,W,Q,re){Q=Q||0,re=re||0,this.pdf.internal.out(t(F+Q)+" "+n(W+re)+" l")},B=function(F,W,Q){return this.pdf.lines(F,W,Q,null,null)},K=function(F,W,Q,re,ae,ce,ye,fe){this.pdf.internal.out([e(i(Q+F)),e(a(re+W)),e(i(ae+F)),e(a(ce+W)),e(i(ye+F)),e(a(fe+W)),"c"].join(" "))},H=function(F,W,Q,re){for(var ae=2*Math.PI,ce=Math.PI/2;W>Q;)W-=ae;var ye=Math.abs(Q-W);ye<ae&&re&&(ye=ae-ye);for(var fe=[],be=re?-1:1,Oe=W;ye>1e-5;){var xe=Oe+be*Math.min(ye,ce);fe.push(Z.call(this,F,Oe,xe)),ye-=Math.abs(xe-Oe),Oe=xe}return fe},Z=function(F,W,Q){var re=(Q-W)/2,ae=F*Math.cos(re),ce=F*Math.sin(re),ye=ae,fe=-ce,be=ye*ye+fe*fe,Oe=be+ye*ae+fe*ce,xe=4/3*(Math.sqrt(2*be*Oe)-Oe)/(ye*ce-fe*ae),Qe=ye-xe*fe,ne=fe+xe*ye,te=Qe,Me=-ne,ge=re+W,de=Math.cos(ge),_e=Math.sin(ge);return{x1:F*Math.cos(W),y1:F*Math.sin(W),x2:Qe*de-ne*_e,y2:Qe*_e+ne*de,x3:te*de-Me*_e,y3:te*_e+Me*de,x4:F*Math.cos(Q),y4:F*Math.sin(Q)}},Y=function(F){return 180*F/Math.PI},J=function(F,W,Q,re,ae,ce){var ye=F+.5*(Q-F),fe=W+.5*(re-W),be=ae+.5*(Q-ae),Oe=ce+.5*(re-ce),xe=Math.min(F,ae,ye,be),Qe=Math.max(F,ae,ye,be),ne=Math.min(W,ce,fe,Oe),te=Math.max(W,ce,fe,Oe);return new o(xe,ne,Qe-xe,te-ne)},oe=function(F,W,Q,re,ae,ce,ye,fe){var be,Oe,xe,Qe,ne,te,Me,ge,de,_e,je,Be,Fe,we,pe=Q-F,ze=re-W,$e=ae-Q,ht=ce-re,Je=ye-ae,Ot=fe-ce;for(Oe=0;Oe<41;Oe++)de=(Me=(xe=F+(be=Oe/40)*pe)+be*((ne=Q+be*$e)-xe))+be*(ne+be*(ae+be*Je-ne)-Me),_e=(ge=(Qe=W+be*ze)+be*((te=re+be*ht)-Qe))+be*(te+be*(ce+be*Ot-te)-ge),Oe==0?(je=de,Be=_e,Fe=de,we=_e):(je=Math.min(je,de),Be=Math.min(Be,_e),Fe=Math.max(Fe,de),we=Math.max(we,_e));return new o(Math.round(je),Math.round(Be),Math.round(Fe-je),Math.round(we-Be))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,W,Q=(F=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:W}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(fn.API),(function(r){var e=function(s){var o,l,c,u,f,d,h,p,v,x;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(d=(f=((f=((f=((f=(f-(x=f%85))/85)-(v=f%85))/85)-(p=f%85))/85)-(h=f%85))/85)%85,l.push(d+33,h+33,p+33,v+33,x+33)):l.push(122);return(function(g,_){for(var w=_;w>0;w--)g.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var o,l,c,u,f,d=String,h="length",p=255,v="charCodeAt",x="slice",g="replace";for(s[x](-2),s=s[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[x](s[h]%5||5))[h];f>u;u+=5)l=52200625*(s[v](u)-33)+614125*(s[v](u+1)-33)+7225*(s[v](u+2)-33)+85*(s[v](u+3)-33)+(s[v](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return(function(_,w){for(var A=w;A>0;A--)_.pop()})(c,o[h]),d.fromCharCode.apply(d,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=XB(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};r.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(fn.API),(function(r){r.loadFile=function(e,t,n){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(l,c,u){var f=new XMLHttpRequest,d=0,h=function(p){var v=p.length,x=[],g=String.fromCharCode;for(d=0;d<v;d+=1)x.push(g(255&p.charCodeAt(d)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)})(i,a,s)}catch{}return o})(e,t,n)},r.loadImageFile=r.loadFile})(fn.API),(function(r){function e(){return(zn.html2canvas?Promise.resolve(zn.html2canvas):rO(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(zn.DOMPurify?Promise.resolve(zn.DOMPurify):rO(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=ja(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],v=p.src.find(function(x){return x.format==="truetype"});v&&c.addFont(v.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||fn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,f).then(function(d){return c.updateProgress(1),d})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),d=c.call(f,o,l);return s.convert(d,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,fn.getPageSize=function(o,l,c){if(ja(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,d=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var p,v=0,x=0;if(h.hasOwnProperty(d))v=h[d][1]/f,x=h[d][0]/f;else try{v=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>v&&(p=x,x=v,v=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>x&&(p=x,x=v,v=p)}return{width:x,height:v,unit:l,k:f,orientation:o}},r.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(bO):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}})(fn.API),fn.API.addJS=function(r){return Uq=r,this.internal.events.subscribe("postPutResources",function(){bC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jq=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Uq+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bC!==void 0&&jq!==void 0&&this.internal.out("/Names <</JavaScript "+bC+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=t.internal.newObject();u.push(f);var d=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<u.length;a++)t.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(fn.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=(function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),p=f.length,v={width:0,height:0,numcomponents:1},x=4;x<p;x+=2){if(x+=h,e.indexOf(f.charCodeAt(x+1))!==-1){d=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),v={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:d,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return v})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}})(fn.API),fn.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,a=z3e(r,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?(function(L){for(var D=L.width,k=L.height,O=L.data,I=L.palette,j=L.depth,B=!1,K=[],H=[],Z=void 0,Y=!1,J=0,oe=0;oe<I.length;oe++){var X=WY(I[oe],4),F=X[0],W=X[1],Q=X[2],re=X[3];K.push(F,W,Q),re!=null&&(re===0?(J++,H.length<1&&H.push(oe)):re<255&&(Y=!0))}if(Y||J>1){B=!0,H=void 0;var ae=D*k;Z=new Uint8Array(ae);for(var ce=new DataView(O.buffer),ye=0;ye<ae;ye++){var fe=wO(ce,ye,j),be=WY(I[fe],4)[3];Z[ye]=be}}else J===0&&(H=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:B?8:void 0,colorBytes:O,alphaBytes:Z,needSMask:B,palette:K,mask:H}})(a):l===2||l===4?(function(L){for(var D=L.data,k=L.width,O=L.height,I=L.channels,j=L.depth,B=I===2?"DeviceGray":"DeviceRGB",K=I-1,H=k*O,Z=K,Y=H*Z,J=1*H,oe=Math.ceil(Y*j/8),X=Math.ceil(J*j/8),F=new Uint8Array(oe),W=new Uint8Array(X),Q=new DataView(D.buffer),re=new DataView(F.buffer),ae=new DataView(W.buffer),ce=!1,ye=0;ye<H;ye++){for(var fe=ye*I,be=0;be<Z;be++)Kq(re,wO(Q,fe+be,j),ye*Z+be,j);var Oe=wO(Q,fe+Z,j);Oe<(1<<j)-1&&(ce=!0),Kq(ae,Oe,1*ye,j)}return{colorSpace:B,colorsPerPixel:K,sMaskBitsPerComponent:ce?j:void 0,colorBytes:F,alphaBytes:W,needSMask:ce}})(a):(function(L){var D=L.data,k=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:k,colorsPerPixel:k==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(O){for(var I=O.length,j=new Uint8Array(2*I),B=new DataView(j.buffer,j.byteOffset,j.byteLength),K=0;K<I;K++)B.setUint16(2*K,O[K],!1);return j})(D):D,needSMask:!1}})(a);var f,d,h,p=i,v=p.colorSpace,x=p.colorsPerPixel,g=p.sMaskBitsPerComponent,_=p.colorBytes,w=p.alphaBytes,A=p.needSMask,M=p.palette,C=p.mask,N=null;return n!==fn.API.image_compression.NONE&&typeof XB=="function"?(N=(function(L){var D;switch(L){case fn.API.image_compression.FAST:D=11;break;case fn.API.image_compression.MEDIUM:D=13;break;case fn.API.image_compression.SLOW:D=14;break;default:D=12}return D})(n),f=this.decode.FLATE_DECODE,d="/Predictor ".concat(N," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(s),r=Wq(_,Math.ceil(s*x*u/8),x,u,n),A&&(h=Wq(w,Math.ceil(s*g/8),1,g,n))):(f=void 0,d=void 0,r=_,A&&(h=w)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:t,data:r,index:e,filter:f,decodeParameters:d,transparency:C,palette:M,sMask:h,predictor:N,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:g,colorSpace:v}}},(function(r){r.processGIF89A=function(e,t,n,i){var a=new sEe(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new SO(100).encode(c,100);return r.processJPEG.call(this,u,t,n,i)},r.processGIF87A=r.processGIF89A})(fn.API),bp.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bp.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){as.log("bit decode error:"+t)}},bp.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}t!==0&&(this.pos+=4-t)}},bp.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},bp.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}r!==0&&(this.pos+=4-r)}},bp.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=r}},bp.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=r}},bp.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},bp.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},bp.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,i){var a=new bp(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new SO(100).encode(l,100);return r.processJPEG.call(this,c,t,n,i)}})(fn.API),Jq.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,i){var a=new Jq(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new SO(100).encode(l,100);return r.processJPEG.call(this,c,t,n,i)}})(fn.API),fn.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],d=n[c+2],h=n[c+3];a[o++]=u,a[o++]=f,a[o++]=d,s[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},fn.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},o_=fn.API,_C=o_.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,d=0,h=r.length,p=0,v=o[0]||l,x=[];for(t=0;t<h;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(d=f&&ja(c[n])==="object"&&!isNaN(parseInt(c[n][p],10))?c[n][p]/u:0,x.push((o[n]||v)/l+d)),p=n;return x},Vq=o_.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return o_.processArabic&&(r=o_.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:_C.apply(this,arguments).reduce(function(a,s){return a+s},0)},Hq=function(r,e,t,n){for(var i=[],a=0,s=r.length,o=0;a!==s&&o+e[a]<t;)o+=e[a],a++;i.push(r.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(r.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(r.slice(l,a)),i},Gq=function(r,e,t){t||(t={});var n,i,a,s,o,l,c,u=[],f=[u],d=t.textIndent||0,h=0,p=0,v=r.split(" "),x=_C.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?v[0].length+2:t.lineIndent||0){var g=Array(l).join(" "),_=[];v.map(function(A){(A=A.split(/\s*\n/)).length>1?_=_.concat(A.map(function(M,C){return(C&&M.length?`
`:"")+M})):_.push(A[0])}),v=_,l=Vq.apply(this,[g,t])}for(a=0,s=v.length;a<s;a++){var w=0;if(n=v[a],l&&n[0]==`
`&&(n=n.substr(1),w=1),d+h+(p=(i=_C.apply(this,[n,t])).reduce(function(A,M){return A+M},0))>e||w){if(p>e){for(o=Hq.apply(this,[n,i,e-(d+h),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);p=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(A,M){return A+M},0)}else u=[n];f.push(u),d=p+l,h=x}else u.push(n),d+=h+p,h=x}return c=l?function(A,M){return(M?g:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(c)},o_.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),d="Unicode";return f.metadata[d]?{widths:f.metadata[d].widths||{0:1},kerning:f.metadata[d].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(Gq.apply(this,[n[o],s,a]));return c},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[t[a]]=e[a],i[e[a]]=t[a];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=r.__fontmetrics__.compress=function(d){var h,p,v,x,g=["{"];for(var _ in d){if(h=d[_],isNaN(parseInt(_,10))?p="'"+_+"'":(_=parseInt(_,10),p=(p=s(_).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof h=="number")h<0?(v=s(h).slice(3),x="-"):(v=s(h).slice(2),x=""),v=x+v.slice(0,-1)+i[v.slice(-1)];else{if(ja(h)!=="object")throw new Error("Don't know what to do with value type "+ja(h)+".");v=o(h)}g.push(p+v)}return g.push("}"),g.join("")},l=r.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,v,x,g={},_=1,w=g,A=[],M="",C="",N=d.length-1,L=1;L<N;L+=1)(x=d[L])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(A.push([w,v]),w={},v=void 0):x=="}"?((p=A.pop())[0][p[1]]=w,v=void 0,w=p[0]):x=="-"?_=-1:v===void 0?n.hasOwnProperty(x)?(M+=n[x],v=parseInt(M,16)*_,_=1,M=""):M+=x:n.hasOwnProperty(x)?(C+=n[x],w[v]=parseInt(C,16)*_,_=1,v=void 0,C=""):C+=x;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(d){var h=d.font,p=f.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])})(fn.API),(function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(tD(o)),s.metadata=r.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])})(fn),fn.API.addSvgAsImage=function(r,e,t,n,i,a,s,o){if(isNaN(e)||isNaN(t))throw as.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw as.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(zn.canvg?Promise.resolve(zn.canvg):rO(()=>import("./index.es-CMWfLJQX.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(c,r,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,t,n,i,s,o)})},fn.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},fn.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function d(p,v){var x,g=!1;for(x=0;x<p.length;x+=1)p[x]===v&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)t[o[f]].value=t[o[f]].defaultValue,t[o[f]].explicitSet=!1}if(ja(r)==="object"){for(i in r)if(a=r[i],d(o,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&d(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,v=[];for(p in t)t[p].explicitSet===!0&&(t[p].type==="name"?v.push("/"+p+" /"+t[p].value):v.push("/"+p+" "+t[p].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(fn.API),(function(r){var e=r.API,t=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,d=a.length;f<d;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,f,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(o=Object.keys(a).sort(function(h,p){return h-p})).length;f<d;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",p=0;p<d.length;p++)h+=String.fromCharCode(d[p]);var v=c();u({data:h,addLength1:!0,objectId:v}),l("endobj");var x=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+cw(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+cw(o.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+r.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+cw(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var p=c();u({data:d,addLength1:!0,objectId:p}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var x=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+cw(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+cw(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},d=f.pdfEscape,h=f.activeFontKey,p=f.fonts,v=h,x="",g=0,_="",w=p[v].encoding;if(p[v].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(_=o,v=h,Array.isArray(o)&&(_=o[0]),g=0;g<_.length;g+=1)p[v].metadata.hasOwnProperty("cmap")&&(s=p[v].metadata.cmap.unicode.codeMap[_[g].charCodeAt(0)]),s||_[g].charCodeAt(0)<256&&p[v].metadata.hasOwnProperty("Unicode")?x+=_[g]:x+="";var A="";return parseInt(v.slice(1))<14||w==="WinAnsiEncoding"?A=d(x,v).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(A=t(x,p[v])),f.isHex=!0,{text:A,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])})(fn),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(fn.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,w=0;this.__bidiEngine__={};var A=function(O){var I=O.charCodeAt(),j=I>>8,B=v[j];return B!==void 0?f[256*B+(255&I)]:j===252||j===253?"AL":g.test(j)?"L":j===8?"R":"N"},M=function(O){for(var I,j=0;j<O.length;j++){if((I=A(O.charAt(j)))==="L")return!1;if(I==="R")return!0}return!1},C=function(O,I,j,B){var K,H,Z,Y,J=I[B];switch(J){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(J="AN");break;case"AL":_=!0,J="R";break;case"WS":case"BN":J="N";break;case"CS":B<1||B+1>=I.length||(K=j[B-1])!=="EN"&&K!=="AN"||(H=I[B+1])!=="EN"&&H!=="AN"?J="N":_&&(H="AN"),J=H===K?H:"N";break;case"ES":J=(K=B>0?j[B-1]:"B")==="EN"&&B+1<I.length&&I[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&j[B-1]==="EN"){J="EN";break}if(_){J="N";break}for(Z=B+1,Y=I.length;Z<Y&&I[Z]==="ET";)Z++;J=Z<Y&&I[Z]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(Y=I.length,Z=B+1;Z<Y&&I[Z]==="NSM";)Z++;if(Z<Y){var oe=O[B],X=oe>=1425&&oe<=2303||oe===64286;if(K=I[Z],X&&(K==="R"||K==="AL")){J="R";break}}}J=B<1||(K=I[B-1])==="B"?"N":j[B-1];break;case"B":_=!1,i=!0,J=w;break;case"S":a=!0,J="N"}return J},N=function(O,I,j){var B=O.split("");return j&&L(B,j,{hiLevel:w}),B.reverse(),I&&I.reverse(),B.join("")},L=function(O,I,j){var B,K,H,Z,Y,J=-1,oe=O.length,X=0,F=[],W=w?h:d,Q=[];for(_=!1,i=!1,a=!1,K=0;K<oe;K++)Q[K]=A(O[K]);for(H=0;H<oe;H++){if(Y=X,F[H]=C(O,Q,F,H),B=240&(X=W[Y][p[F[H]]]),X&=15,I[H]=Z=W[X][5],B>0)if(B===16){for(K=J;K<H;K++)I[K]=1;J=-1}else J=-1;if(W[X][6])J===-1&&(J=H);else if(J>-1){for(K=J;K<H;K++)I[K]=Z;J=-1}Q[H]==="B"&&(I[H]=0),j.hiLevel|=Z}a&&(function(re,ae,ce){for(var ye=0;ye<ce;ye++)if(re[ye]==="S"){ae[ye]=w;for(var fe=ye-1;fe>=0&&re[fe]==="WS";fe--)ae[fe]=w}})(Q,I,oe)},D=function(O,I,j,B,K){if(!(K.hiLevel<O)){if(O===1&&w===1&&!i)return I.reverse(),void(j&&j.reverse());for(var H,Z,Y,J,oe=I.length,X=0;X<oe;){if(B[X]>=O){for(Y=X+1;Y<oe&&B[Y]>=O;)Y++;for(J=X,Z=Y-1;J<Z;J++,Z--)H=I[J],I[J]=I[Z],I[Z]=H,j&&(H=j[J],j[J]=j[Z],j[Z]=H);X=Y}X++}}},k=function(O,I,j){var B=O.split(""),K={hiLevel:w};return j||(j=[]),L(B,j,K),(function(H,Z,Y){if(Y.hiLevel!==0&&u)for(var J,oe=0;oe<H.length;oe++)Z[oe]===1&&(J=x.indexOf(H[oe]))>=0&&(H[oe]=x[J+1])})(B,j,K),D(2,B,I,j,K),D(1,B,I,j,K),B.join("")};return this.__bidiEngine__.doBidiReorder=function(O,I,j){if((function(K,H){if(H)for(var Z=0;Z<K.length;Z++)H[Z]=Z;o===void 0&&(o=M(K)),c===void 0&&(c=M(K))})(O,I),s||!l||c)if(s&&l&&o^c)w=o?1:0,O=N(O,I,j);else if(!s&&l&&c)w=o?1:0,O=k(O,I,j),O=N(O,I);else if(!s||o||l||c){if(s&&!l&&o^c)O=N(O,I),o?(w=0,O=k(O,I,j)):(w=1,O=k(O,I,j),O=N(O,I));else if(s&&o&&!l&&c)w=1,O=k(O,I,j),O=N(O,I);else if(!s&&!l&&o^c){var B=u;o?(w=1,O=k(O,I,j),w=0,u=!1,O=k(O,I,j),u=B):(w=0,O=k(O,I,j),O=N(O,I),w=1,u=!1,O=k(O,I,j),u=B,O=N(O,I))}}else w=0,O=k(O,I,j);else w=o?1:0,O=k(O,I,j);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,l=O.isOutputVisual,o=O.isInputRtl,c=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([t.doBidiReorder(i[o])]);n.text=s}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(fn),fn.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new ny(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new _Ee(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new oEe(this.contents),this.head=new cEe(this),this.name=new pEe(this),this.cmap=new rce(this),this.toUnicode={},this.hhea=new uEe(this),this.maxp=new vEe(this),this.hmtx=new mEe(this),this.post=new hEe(this),this.os2=new fEe(this),this.loca=new bEe(this),this.glyf=new gEe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return s*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var t0,ny=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,a,s,o,l;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)t=e[n],a.push(this.writeByte(t));return a},r})(),oEe=(function(){var r;function e(t){var n,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,a,s,o,l,c,u,f,d,h,p,v;for(v in h=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new ny).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,p=[],t)for(d=t[v],i.writeString(v),i.writeInt(r(d)),i.writeInt(c),i.writeInt(d.length),p=p.concat(d),v==="head"&&(o=c),c+=d.length;c%4;)p.push(0),c++;return i.write(p),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(t){var n,i,a,s;for(t=nce.call(t);t.length%4;)t.push(0);for(a=new ny(t),i=0,n=0,s=t.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),lEe={}.hasOwnProperty,Tv=function(r,e){for(var t in e)lEe.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};t0=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var cEe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tv(r,t0),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new ny).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),Qq=(function(){function r(e,t){var n,i,a,s,o,l,c,u,f,d,h,p,v,x,g,_,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,a=(function(){var A,M;for(M=[],l=A=0;0<=d?A<d:A>d;l=0<=d?++A:--A)M.push(e.readUInt16());return M})(),e.pos+=2,v=(function(){var A,M;for(M=[],l=A=0;0<=d?A<d:A>d;l=0<=d?++A:--A)M.push(e.readUInt16());return M})(),c=(function(){var A,M;for(M=[],l=A=0;0<=d?A<d:A>d;l=0<=d?++A:--A)M.push(e.readUInt16());return M})(),u=(function(){var A,M;for(M=[],l=A=0;0<=d?A<d:A>d;l=0<=d?++A:--A)M.push(e.readUInt16());return M})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var A,M;for(M=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)M.push(e.readUInt16());return M})(),l=g=0,w=a.length;g<w;l=++g)for(x=a[l],n=_=p=v[l];p<=x?_<=x:_>=x;n=p<=x?++_:--_)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-p)-(d-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=f}return r.encode=function(e,t){var n,i,a,s,o,l,c,u,f,d,h,p,v,x,g,_,w,A,M,C,N,L,D,k,O,I,j,B,K,H,Z,Y,J,oe,X,F,W,Q,re,ae,ce,ye,fe,be,Oe,xe;switch(B=new ny,s=Object.keys(e).sort(function(Qe,ne){return Qe-ne}),t){case"macroman":for(v=0,x=(function(){var Qe=[];for(p=0;p<256;++p)Qe.push(0);return Qe})(),_={0:0},a={},K=0,J=s.length;K<J;K++)_[fe=e[i=s[K]]]==null&&(_[fe]=++v),a[i]={old:e[i],new:_[e[i]]},x[i]=_[e[i]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(x),{charMap:a,subtable:B.data,maxGlyphID:v+1};case"unicode":for(I=[],f=[],w=0,_={},n={},g=c=null,H=0,oe=s.length;H<oe;H++)_[M=e[i=s[H]]]==null&&(_[M]=++w),n[i]={old:M,new:_[M]},o=_[M]-i,g!=null&&o===c||(g&&f.push(g),I.push(i),c=o),g=i;for(g&&f.push(g),f.push(65535),I.push(65535),k=2*(D=I.length),L=2*Math.pow(Math.log(D)/Math.LN2,2),d=Math.log(L/2)/Math.LN2,N=2*D-L,l=[],C=[],h=[],p=Z=0,X=I.length;Z<X;p=++Z){if(O=I[p],u=f[p],O===65535){l.push(0),C.push(0);break}if(O-(j=n[O].new)>=32768)for(l.push(0),C.push(2*(h.length+D-p)),i=Y=O;O<=u?Y<=u:Y>=u;i=O<=u?++Y:--Y)h.push(n[i].new);else l.push(j-O),C.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*D+2*h.length),B.writeUInt16(0),B.writeUInt16(k),B.writeUInt16(L),B.writeUInt16(d),B.writeUInt16(N),ce=0,F=f.length;ce<F;ce++)i=f[ce],B.writeUInt16(i);for(B.writeUInt16(0),ye=0,W=I.length;ye<W;ye++)i=I[ye],B.writeUInt16(i);for(be=0,Q=l.length;be<Q;be++)o=l[be],B.writeUInt16(o);for(Oe=0,re=C.length;Oe<re;Oe++)A=C[Oe],B.writeUInt16(A);for(xe=0,ae=h.length;xe<ae;xe++)v=h[xe],B.writeUInt16(v);return{charMap:n,subtable:B.data,maxGlyphID:w+1}}},r})(),rce=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tv(r,t0),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new Qq(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=Qq.encode(e,t),(i=new ny).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r})(),uEe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tv(r,t0),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),fEe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tv(r,t0),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),hEe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tv(r,t0),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},r})(),dEe=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pEe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tv(r,t0),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,a,s,o,l,c,u,f,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,f=n.length;u<f;a=++u)i=n[a],e.pos=i.offset,c=e.readString(i.length),s=new dEe(c,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},r})(),vEe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tv(r,t0),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),mEe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tv(r,t0),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u})(),this.widths=(function(){var c,u,f,d;for(d=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],d.push(a.advance);return d}).call(this),n=this.widths[this.widths.length-1],l=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)l.push(this.widths.push(n));return l},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),nce=[].slice,gEe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tv(r,t0),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,a,s,o,l,c,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,s=(o=new ny(t.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new yEe(o,c,f,l,u):new xEe(o,s,c,f,l,u),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=t.length;o<l;o++)i=e[t[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},r})(),xEe=(function(){function r(e,t,n,i,a,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),yEe=(function(){function r(e,t,n,i,a){var s,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new ny(nce.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),bEe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tv(r,t0),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<t.length&&t[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},r})(),_Ee=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(n=i[a])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in l=this.glyphsFor(t))n=l[a],i[a]=n;return i},r.prototype.encode=function(e,t){var n,i,a,s,o,l,c,u,f,d,h,p,v,x,g;for(i in n=rce.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=n.charMap)h[(l=g[i]).old]=l.new;for(p in d=n.maxGlyphID,s)p in h||(h[p]=d++);return u=(function(_){var w,A;for(w in A={},_)A[_[w]]=w;return A})(h),f=Object.keys(u).sort(function(_,w){return _-w}),v=(function(){var _,w,A;for(A=[],_=0,w=f.length;_<w;_++)o=f[_],A.push(u[o]);return A})(),a=this.font.glyf.encode(s,v,h),c=this.font.loca.encode(a.offsets,v),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},r})();fn.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,a,s;if(Array.isArray(t))return"["+(function(){var o,l,c;for(c=[],o=0,l=t.length;o<l;o++)n=t[o],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+t},e})();const wEe=r=>{const e=new fn({orientation:"p",unit:"mm",format:"a4"});if(r.logoDataUrl)try{e.addImage(r.logoDataUrl,"JPEG",15,10,40,20)}catch(u){console.error("Error adding logo:",u),e.setFillColor(240,240,240),e.rect(15,10,40,20,"F"),e.setTextColor(150,150,150),e.setFontSize(10),e.text("Logo Error",35,22,{align:"center"})}else e.setFillColor(240,240,240),e.rect(15,10,40,20,"F"),e.setTextColor(150,150,150),e.setFontSize(10),e.text("Logo",35,22,{align:"center"});e.setTextColor(0,0,0),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Factory First Address For Water",195,20,{align:"right"}),e.setFontSize(14),e.text("Claim & Petty Cash Form",105,35,{align:"center"}),e.setFontSize(10),e.setFont("helvetica","normal");const t=new Date().toISOString().split("T")[0];e.rect(15,45,180,10),e.line(105,45,105,55),e.text("Dep. :",17,51),e.text(r.department,30,51),e.text("Date :",107,51),e.text(t,120,51),e.rect(15,55,180,10),e.line(105,55,105,65),e.text("Name :",107,61),e.text(r.vendorName,120,61);const n=75;e.setFillColor(255,255,255),e.rect(15,n,180,15),e.line(40,n,40,n+15),e.line(80,n,80,n+15),e.line(165,n,165,n+15),e.setFont("helvetica","bold"),e.setFontSize(9),e.text("Branch",27.5,n+8,{align:"center"}),e.text("Description",122.5,n+8,{align:"center"}),e.text("Amount",180,n+8,{align:"center"}),e.text("Documents",60,n+5,{align:"center"}),e.line(40,n+7.5,80,n+7.5),e.line(60,n+7.5,60,n+15),e.text("Date",50,n+12,{align:"center"}),e.text("Type",70,n+12,{align:"center"});const i=10,a=12;let s=n+15;const o=u=>u.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),l=u=>u+i/2+1.5;for(let u=0;u<a;u++)e.rect(15,s,180,i),e.line(40,s,40,s+i),e.line(60,s,60,s+i),e.line(80,s,80,s+i),e.line(165,s,165,s+i),u===0&&(e.setFont("helvetica","normal"),e.text(r.branch,27.5,l(s),{align:"center"}),e.text(r.poDate,50,l(s),{align:"center"}),e.text(r.poNumber,70,l(s),{align:"center"}),e.text(r.description,122.5,l(s),{align:"center"}),e.text(o(r.amountBeforeVat),180,l(s),{align:"center"})),u===a-1&&(e.setFont("helvetica","bold"),e.text("VAT 15%",163,l(s),{align:"right"}),e.text(o(r.vatAmount),180,l(s),{align:"center"})),s+=i;e.setFont("helvetica","bold"),e.rect(15,s,180,10),e.text("Total Amount",163,l(s),{align:"right"}),e.text(o(r.totalAmount),180,l(s),{align:"center"});const c=s+15;e.setFontSize(9),e.text("Requester",30,c),e.text("Direct Manager",70,c),e.text("Dep. Manager",110,c),e.text("Approval",160,c),e.line(15,c+10,195,c+10),e.setFontSize(11),e.text("Fill By Finance",105,c+18,{align:"center"}),e.setFontSize(9),e.text("Dear Secretary of the Treasury:",15,c+28),e.text("Kindly Please do necessary of amount payment ........................(only....................................................................................)",15,c+38),e.text("CFO",180,c+50,{align:"right"}),e.text("TO Mr. : ............................................................",15,c+50),e.setTextColor(200,200,200),e.setFontSize(60),e.text("Page 1",105,150,{align:"center",angle:0}),e.save(`Payment_Request_${r.vendorName}_${t}.pdf`)},SEe=({isOpen:r,onClose:e})=>{const[t,n]=me.useState({vendorName:"",department:"",branch:"",poNumber:"",poDate:"",description:"",totalAmount:"",logo:null}),[i,a]=me.useState({amountBeforeVat:0,vatAmount:0});me.useEffect(()=>{const l=parseFloat(t.totalAmount)||0,c=l/1.15,u=l-c;a({amountBeforeVat:c,vatAmount:u})},[t.totalAmount]);const s=l=>{var u;const c=(u=l.target.files)==null?void 0:u[0];if(c){const f=new FileReader;f.onloadend=()=>{n({...t,logo:f.result})},f.readAsDataURL(c)}};if(!r)return null;const o=l=>{l.preventDefault(),wEe({vendorName:t.vendorName,department:t.department,branch:t.branch,poNumber:t.poNumber,poDate:t.poDate,description:t.description,amountBeforeVat:i.amountBeforeVat,vatAmount:i.vatAmount,totalAmount:parseFloat(t.totalAmount)||0,logoDataUrl:t.logo||void 0}),e()};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden border border-gray-200 animate-in zoom-in-95 duration-200",children:[y.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-lg text-blue-600",children:y.jsx(Hm,{size:20})}),y.jsx("h3",{className:"font-semibold text-gray-800 text-lg",children:"New Payment Request"})]}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:y.jsx(Wf,{size:20})})]}),y.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Logo"}),y.jsx("input",{type:"file",accept:"image/*",onChange:s,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-colors"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),y.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.vendorName,onChange:l=>n({...t,vendorName:l.target.value}),placeholder:"Enter vendor name..."})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),y.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.department,onChange:l=>n({...t,department:l.target.value}),placeholder:"e.g. Supply Chain"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),y.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.branch,onChange:l=>n({...t,branch:l.target.value}),placeholder:"e.g. Main Branch"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Number"}),y.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.poNumber,onChange:l=>n({...t,poNumber:l.target.value}),placeholder:"PO-12345"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Date"}),y.jsx("input",{type:"date",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.poDate,onChange:l=>n({...t,poDate:l.target.value})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),y.jsx("textarea",{required:!0,rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all resize-none",value:t.description,onChange:l=>n({...t,description:l.target.value}),placeholder:"Enter payment details..."})]}),y.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-3",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-gray-700 font-medium border-b border-gray-200 pb-2 mb-2",children:[y.jsx(U_e,{size:16}),y.jsx("span",{children:"Calculations"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Total Amount"}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs font-medium",children:"SAR"}),y.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full border border-gray-300 rounded-lg pl-10 pr-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.totalAmount,onChange:l=>n({...t,totalAmount:l.target.value}),placeholder:"0.00"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Amount Before VAT"}),y.jsx("div",{className:"text-sm font-semibold text-gray-700 bg-white border border-gray-200 px-3 py-2 rounded-lg",children:i.amountBeforeVat.toFixed(2)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"VAT (15%)"}),y.jsx("div",{className:"text-sm font-bold text-blue-600 bg-blue-50 border border-blue-100 px-3 py-2 rounded-lg",children:i.vatAmount.toFixed(2)})]})]})]}),y.jsxs("div",{className:"pt-2 flex justify-end space-x-3",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),y.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors flex items-center shadow-sm",children:[y.jsx(Tk,{size:16,className:"mr-2"}),"Generate PDF"]})]})]})]})})},TEe=({onInsert:r})=>{const{getPageTitle:e,activePage:t}=Ck(),n=e(),{showToast:i}=Vh(),[a,s]=me.useState(null),[o,l]=me.useState(!1),c=t.includes("/analytics"),u=t.includes("/data"),f=[{name:"File",icon:Hm},{name:"Edit",icon:CTe},{name:"Insert",icon:AEe},...u?[]:[{name:"Layout",icon:Yx}],{name:"View",icon:qoe},{name:"Window",icon:OSe},{name:"Help",icon:dwe}];return y.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none",children:[y.jsxs("div",{className:"flex items-center h-full",children:[y.jsx("div",{className:"flex items-center mr-4 pr-4 border-r border-gray-200 h-6 min-w-[320px] flex-shrink-0",children:y.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors whitespace-nowrap",onClick:()=>i("Breadcrumb navigation","info"),children:[n," ",y.jsx(tl,{size:12,className:"ml-1 text-gray-400 flex-shrink-0"})]})}),y.jsx("div",{className:"flex items-center space-x-1",children:f.map(d=>y.jsxs("div",{className:"relative",children:[y.jsx("button",{className:`relative z-30 px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-1.5 ${a===d.name?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>s(a===d.name?null:d.name),children:y.jsx("span",{children:d.name})}),a===d.name&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(null)}),y.jsxs("div",{className:"absolute top-full left-0 mt-1 w-56 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 z-20 ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-100",children:[d.name==="Layout"?y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 hover:text-red-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{r&&r("layout-clear"),s(null)},children:y.jsxs("div",{className:"flex items-center",children:[y.jsx(Woe,{size:16,className:"mr-2.5 text-red-400 group-hover:text-red-500 transition-colors"}),y.jsx("span",{children:"Clear layout"})]})}),y.jsx("div",{className:"border-t border-gray-100 my-1"})]}):null,d.name==="Layout"?y.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{r&&r("layout-4kpi-1chart"),s(null)},children:y.jsxs("div",{className:"flex items-center",children:[y.jsx(Yx,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),y.jsx("span",{children:"4 KPI 1 Chart"})]})}):d.name==="Insert"?y.jsxs(y.Fragment,{children:[!u&&y.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{r&&r("dashboard"),s(null)},children:y.jsxs("div",{className:"flex items-center",children:[y.jsx(RE,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),y.jsx("span",{children:"Dashboard"})]})}),!c&&y.jsxs("div",{className:"relative group/tables px-1",children:[y.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(d3,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),y.jsx("span",{children:"Tables"})]}),y.jsx(tl,{size:14,className:"text-gray-400 -rotate-90 group-hover:text-blue-500"})]}),y.jsx("div",{className:"absolute left-full top-0 ml-1 w-48 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 hidden group-hover/tables:block ring-1 ring-black/5",children:y.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{r&&r("custom-table"),s(null)},children:y.jsxs("div",{className:"flex items-center",children:[y.jsx(d3,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),y.jsx("span",{children:"Custom Table"})]})})})]}),!u&&y.jsxs("div",{className:"relative group/kpi px-1",children:[y.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(M2,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),y.jsx("span",{children:"KPI Card"})]}),y.jsx(tl,{size:14,className:"text-gray-400 -rotate-90 group-hover:text-blue-500"})]}),y.jsxs("div",{className:"absolute left-full top-0 ml-1 w-48 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 hidden group-hover/kpi:block ring-1 ring-black/5",children:[y.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{r&&r("kpi-card-1"),s(null)},children:[y.jsx(sle,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),y.jsx("span",{children:"1 KPI"})]}),y.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{r&&r("kpi-card-2"),s(null)},children:[y.jsx(wwe,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),y.jsx("span",{children:"2 KPI"})]}),y.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{r&&r("kpi-card-3"),s(null)},children:[y.jsx(Yx,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),y.jsx("span",{children:"3 KPI"})]}),y.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{r&&r("kpi-card-4"),s(null)},children:[y.jsx(Xoe,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),y.jsx("span",{children:"4 KPI"})]})]})]}),!u&&y.jsxs("div",{className:"relative group/chart px-1",children:[y.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(kY,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),y.jsx("span",{children:"Chart"})]}),y.jsx(tl,{size:14,className:"text-gray-400 -rotate-90 group-hover:text-blue-500"})]}),y.jsxs("div",{className:"absolute left-full top-0 ml-1 w-48 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 hidden group-hover/chart:block ring-1 ring-black/5",children:[y.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{r&&r("chart-bar"),s(null)},children:[y.jsx(jD,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),y.jsx("span",{children:"Bar Chart"})]}),y.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{r&&r("chart-line"),s(null)},children:[y.jsx(sv,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),y.jsx("span",{children:"Line Chart"})]}),y.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{r&&r("chart-pie"),s(null)},children:[y.jsx(kY,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),y.jsx("span",{children:"Pie Chart"})]})]})]}),y.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center group rounded-lg transition-colors",children:[y.jsx(Zoe,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),y.jsx("span",{children:"Image"})]})]}):d.name==="File"&&t==="supply-chain/vendors/analytics"?y.jsxs("div",{className:"relative group/new px-1",children:[y.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(Hm,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),y.jsx("span",{children:"New"})]}),y.jsx(tl,{size:14,className:"text-gray-400 -rotate-90 group-hover:text-blue-500"})]}),y.jsx("div",{className:"absolute left-full top-0 ml-1 w-48 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 hidden group-hover/new:block ring-1 ring-black/5",children:y.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{l(!0),s(null)},children:[y.jsx(M2,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),y.jsx("span",{children:"Payment Request"})]})})]}):["1","2","3","4","5"].map(h=>y.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors flex items-center",onClick:()=>{i(`${d.name} Item ${h} clicked`,"success"),s(null)},children:[y.jsx("span",{className:"w-4 h-4 mr-2.5 rounded-full bg-gray-100 flex items-center justify-center text-[10px] text-gray-500 group-hover:bg-blue-100 group-hover:text-blue-600",children:h}),d.name," Item ",h]},h))]})]})]},d.name))})]}),y.jsx(SEe,{isOpen:o,onClose:()=>l(!1)})]})},AEe=({size:r,className:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[y.jsx("path",{d:"M5 12h14"}),y.jsx("path",{d:"M12 5v14"})]}),EEe=[{name:"Default",value:"transparent"},{name:"Red",value:"#fee2e2"},{name:"Green",value:"#dcfce7"},{name:"Blue",value:"#dbeafe"},{name:"Yellow",value:"#fef9c3"},{name:"Purple",value:"#f3e8ff"},{name:"Orange",value:"#ffedd5"}],wC=10,ice=({id:r,title:e,columns:t,showBorder:n,headerColor:i,onDelete:a,onRenameTable:s,onRenameColumn:o,onAddColumn:l,onUpdateColumnType:c,onDeleteColumn:u,onUpdateColumnColor:f,onUpdateRow:d,rows:h})=>{const[p,v]=me.useState(h||[{id:"1",data:{}},{id:"2",data:{}},{id:"2",data:{}},{id:"3",data:{}}]),[x,g]=me.useState(1),[_,w]=me.useState([]),[A,M]=me.useState(!1),C=p.filter(H=>_.length===0?!0:_.every(Z=>{const Y=String(H.data[Z.columnId]||"").toLowerCase(),J=Z.value.toLowerCase();switch(Z.operator){case"contains":return Y.includes(J);case"equals":return Y===J;case"starts_with":return Y.startsWith(J);case"ends_with":return Y.endsWith(J);default:return!0}})),N=Math.ceil(C.length/wC),L=C.slice((x-1)*wC,x*wC);me.useEffect(()=>{x>N&&N>0?g(N):x===0&&N>0&&g(1)},[C.length,N,x]),me.useEffect(()=>{h&&v(h)},[h]);const D=()=>{const H={id:Math.random().toString(36).substr(2,9),data:{}},Z=[...p,H];if(v(Z),_.length===0){const Y=Math.ceil(Z.length/wC);g(Y)}},k=(H,Z,Y)=>{const J=p.map(oe=>{if(oe.id===H){const X={...oe.data,[Z]:Y};return d&&d(H,X),{...oe,data:X}}return oe});v(J)},O=H=>{v(p.filter(Z=>Z.id!==H))},I=(H,Z)=>{v(p.map(Y=>Y.id===H?{...Y,color:Z}:Y))},j=()=>{t.length>0&&w([..._,{columnId:t[0].id,operator:"contains",value:""}])},B=H=>{const Z=[..._];Z.splice(H,1),w(Z)},K=(H,Z,Y)=>{const J=[..._];J[H]={...J[H],[Z]:Y},w(J)};return y.jsxs("div",{className:"mb-8 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden animate-in fade-in duration-500 flex flex-col",children:[y.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-white shrink-0",children:[y.jsx("input",{type:"text",value:e,onChange:H=>s&&s(H.target.value),className:"text-lg font-semibold text-gray-800 bg-transparent border-none focus:ring-0 p-0 w-full mr-4",placeholder:"Table Name"}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:()=>M(!A),className:`p-1 rounded transition-colors ${_.length>0?"text-indigo-600 bg-indigo-50":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:"Filter",children:y.jsx(kS,{size:18})}),A&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>M(!1)}),y.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 z-20 p-4 animate-in fade-in zoom-in-95 duration-100",children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Filters"}),y.jsxs("button",{onClick:j,className:"text-xs text-indigo-600 hover:text-indigo-700 font-medium flex items-center",children:[y.jsx(ui,{size:12,className:"mr-1"})," Add Filter"]})]}),_.length===0?y.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"No active filters"}):y.jsx("div",{className:"space-y-2",children:_.map((H,Z)=>y.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-2 rounded-lg",children:[y.jsx("select",{value:H.columnId,onChange:Y=>K(Z,"columnId",Y.target.value),className:"text-xs border-gray-200 rounded focus:ring-indigo-500 focus:border-indigo-500 bg-white py-1 pl-2 pr-6",children:t.map(Y=>y.jsx("option",{value:Y.id,children:Y.name||"Column"},Y.id))}),y.jsxs("select",{value:H.operator,onChange:Y=>K(Z,"operator",Y.target.value),className:"text-xs border-gray-200 rounded focus:ring-indigo-500 focus:border-indigo-500 bg-white py-1 pl-2 pr-6",children:[y.jsx("option",{value:"contains",children:"Contains"}),y.jsx("option",{value:"equals",children:"Equals"}),y.jsx("option",{value:"starts_with",children:"Starts with"}),y.jsx("option",{value:"ends_with",children:"Ends with"})]}),y.jsx("input",{type:"text",value:H.value,onChange:Y=>K(Z,"value",Y.target.value),className:"text-xs border-gray-200 rounded focus:ring-indigo-500 focus:border-indigo-500 flex-1 py-1 px-2",placeholder:"Value..."}),y.jsx("button",{onClick:()=>B(Z),className:"text-gray-400 hover:text-red-500",children:y.jsx(Woe,{size:14})})]},Z))})]})]})]}),a&&y.jsx("button",{onClick:a,className:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded hover:bg-red-50",title:"Delete Table",children:y.jsx(Ih,{size:18})}),y.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-100",children:y.jsx(gg,{size:20})})]})]}),y.jsx("div",{className:"overflow-x-auto flex-1",children:y.jsxs("table",{className:`min-w-full border-collapse ${n?"border-l border-r border-gray-200":""}`,style:{tableLayout:"auto"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{backgroundColor:i},children:[t.map(H=>y.jsx("th",{className:`px-4 py-3 text-left relative group/header ${n?"border-r border-gray-200 last:border-r-0":""}`,style:{minWidth:H.width},children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"relative w-full",children:[y.jsx("span",{className:"invisible whitespace-pre text-xs font-bold uppercase tracking-wider block min-w-[80px]",children:H.name||"Column"}),y.jsx("input",{type:"text",value:H.name,onChange:Z=>o&&o(H.id,Z.target.value),className:"absolute inset-0 w-full h-full bg-transparent border-none focus:ring-0 p-0 text-xs font-bold text-gray-600 uppercase tracking-wider"})]}),y.jsx("button",{onClick:()=>u&&u(H.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1 opacity-0 group-hover/header:opacity-100 ml-2 shrink-0",title:"Delete Column",children:y.jsx(Ih,{size:12})})]})},H.id)),y.jsx("th",{className:"px-2 py-2 w-10 border-l border-transparent hover:border-gray-200",children:y.jsx("button",{onClick:l,className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Add Column",children:y.jsx(ui,{size:16})})})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.length>0?L.map(H=>y.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",style:{backgroundColor:H.color||"transparent"},children:[t.map(Z=>y.jsx("td",{className:`p-0 align-top ${n?"border-r border-gray-200 last:border-r-0":""}`,style:{backgroundColor:Z.color||"transparent"},children:Z.type==="checkbox"?y.jsx("div",{className:"w-full h-full flex items-center justify-center py-3",children:y.jsx("input",{type:"checkbox",checked:H.data[Z.id]||!1,onChange:Y=>k(H.id,Z.id,Y.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}):y.jsxs("div",{className:"relative w-full h-full",children:[y.jsx("span",{className:"invisible whitespace-pre px-4 py-3 block min-w-[80px] text-sm",children:H.data[Z.id]||"..."}),y.jsx("input",{type:Z.type==="number"?"number":Z.type==="date"?"date":"text",value:H.data[Z.id]||"",onChange:Y=>k(H.id,Z.id,Y.target.value),className:"absolute inset-0 w-full h-full px-4 py-3 bg-transparent border-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 text-sm text-gray-900",placeholder:"..."})]})},Z.id)),y.jsx("td",{className:"w-16 p-0 align-middle",children:y.jsxs("div",{className:"flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity space-x-1 px-2",children:[y.jsxs("div",{className:"relative group/color",children:[y.jsx("button",{className:"text-gray-400 hover:text-indigo-600 p-1 rounded hover:bg-indigo-50",children:y.jsx(HSe,{size:14})}),y.jsx("div",{className:"absolute bottom-full right-0 mb-1 bg-white rounded-lg shadow-xl border border-gray-100 p-2 hidden group-hover/color:grid grid-cols-4 gap-1 w-32 z-50",children:EEe.map(Z=>y.jsx("button",{onClick:()=>I(H.id,Z.value),className:`w-5 h-5 rounded-full border border-gray-200 ${H.color===Z.value?"ring-2 ring-indigo-500":""}`,style:{backgroundColor:Z.value},title:Z.name},Z.value))})]}),y.jsx("button",{onClick:()=>O(H.id),className:"text-gray-400 hover:text-red-500 p-1 rounded hover:bg-red-50",title:"Delete Row",children:y.jsx(Ih,{size:14})})]})})]},H.id)):y.jsx("tr",{children:y.jsx("td",{colSpan:t.length+1,className:"px-6 py-8 text-center text-gray-500 text-sm",children:_.length>0?"No results match your filters":"No data"})})})]})}),y.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50 flex items-center justify-between shrink-0",children:[y.jsxs("button",{onClick:D,className:"flex items-center space-x-1 px-2 py-1 text-sm text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Add Row",children:[y.jsx(ui,{size:16}),y.jsx("span",{children:"Add Row"})]}),N>1&&y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{onClick:()=>g(H=>Math.max(1,H-1)),disabled:x===1,className:`p-1 rounded transition-colors ${x===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-indigo-600 hover:bg-indigo-50"}`,children:y.jsx(u3,{size:16})}),y.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Page ",x," of ",N]}),y.jsx("button",{onClick:()=>g(H=>Math.min(N,H+1)),disabled:x===N,className:`p-1 rounded transition-colors ${x===N?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-indigo-600 hover:bg-indigo-50"}`,children:y.jsx(zu,{size:16})})]})]})]})},ace=({title:r,value:e,icon:t,trend:n,subtext:i,iconColorClass:a="text-blue-600",iconBgClass:s="bg-blue-50",isEmpty:o,onConnect:l,onTitleChange:c})=>{const[u,f]=yi.useState(!1),[d,h]=yi.useState(r);yi.useEffect(()=>{h(r)},[r]);const p=()=>{f(!1),d.trim()!==r&&c?c(d.trim()):h(r)};if(o)return y.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-dashed border-gray-300 shadow-sm flex flex-col items-center justify-center h-full min-h-[140px] hover:bg-gray-50 transition-colors cursor-pointer group",onClick:l,children:[y.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-100 transition-colors",children:y.jsx(t,{size:20,className:"text-gray-400 group-hover:text-blue-500"})}),y.jsx("span",{className:"text-sm font-medium text-gray-500 group-hover:text-blue-600",children:"Connect Data"})]});const v=()=>{if(!n)return"text-gray-500 bg-gray-50";switch(n.direction){case"up":return"text-green-600 bg-green-50";case"down":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},x=()=>{if(!n)return null;switch(n.direction){case"up":return y.jsx(Gf,{size:12,className:"mr-1"});case"down":return y.jsx(lle,{size:12,className:"mr-1"});default:return y.jsx(Gm,{size:12,className:"mr-1"})}};return y.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow h-full",children:[y.jsxs("div",{children:[u?y.jsx("input",{type:"text",value:d,onChange:g=>h(g.target.value),onBlur:p,onKeyDown:g=>g.key==="Enter"&&p(),className:"text-xs font-medium text-gray-900 uppercase tracking-wide border-b border-blue-500 outline-none w-full bg-transparent",autoFocus:!0}):y.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide cursor-text hover:text-blue-600 transition-colors",onClick:()=>{c&&f(!0)},children:r}),y.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:e}),n&&y.jsxs("div",{className:`flex items-center mt-2 text-xs font-medium px-2 py-0.5 rounded-full w-fit ${v()}`,children:[x(),n.label||n.value]}),i&&y.jsx("div",{className:"flex items-center mt-2 text-xs font-medium text-gray-500",children:i})]}),y.jsx("div",{className:`p-3 rounded-xl ${s} ${a}`,children:y.jsx(t,{size:24})})]})};var r7=function(r,e){return r7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},r7(r,e)};function sce(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r7(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _A=function(){return _A=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_A.apply(this,arguments)};function MEe(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function eX(r,e,t,n){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})}function tX(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n7=function(r,e){return n7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},n7(r,e)};function dt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n7(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var CEe=(function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r})(),NEe=(function(){function r(){this.browser=new CEe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r})(),Un=new NEe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Un.wxa=!0,Un.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Un.worker=!0:!Un.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(Un.node=!0,Un.svgSupported=!0):DEe(navigator.userAgent,Un);function DEe(r,e){var t=e.browser,n=r.match(/Firefox\/([\d.]+)/),i=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),a=r.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(r);n&&(t.firefox=!0,t.version=n[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11);var o=e.domSupported=typeof document<"u";if(o){var l=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in l||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}}var PU=12,oce="sans-serif",tg=PU+"px "+oce,LEe=20,REe=100,kEe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function IEe(r){var e={};if(typeof JSON>"u")return e;for(var t=0;t<r.length;t++){var n=String.fromCharCode(t+32),i=(r.charCodeAt(t)-LEe)/REe;e[n]=i}return e}var OEe=IEe(kEe),Yf={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var r,e;return function(t,n){if(!r){var i=Yf.createCanvas();r=i&&i.getContext("2d")}if(r)return e!==n&&(e=r.font=n||tg),r.measureText(t);t=t||"",n=n||tg;var a=/((?:\d+)?\.?\d*)px/.exec(n),s=a&&+a[1]||PU,o=0;if(n.indexOf("mono")>=0)o=s*t.length;else for(var l=0;l<t.length;l++){var c=OEe[t[l]];o+=c==null?s:c*s}return{width:o}}})(),loadImage:function(r,e,t){var n=new Image;return n.onload=e,n.onerror=t,n.src=r,n}};function lce(r){for(var e in Yf)r[e]&&(Yf[e]=r[e])}var cce=Pd(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,e){return r["[object "+e+"]"]=!0,r},{}),uce=Pd(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,e){return r["[object "+e+"Array]"]=!0,r},{}),OS=Object.prototype.toString,Lk=Array.prototype,PEe=Lk.forEach,FEe=Lk.filter,FU=Lk.slice,BEe=Lk.map,rX=(function(){}).constructor,SC=rX?rX.prototype:null,BU="__proto__",zEe=2311;function zU(){return zEe++}function Rk(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];typeof console<"u"&&console.error.apply(console,r)}function Cr(r){if(r==null||typeof r!="object")return r;var e=r,t=OS.call(r);if(t==="[object Array]"){if(!Fw(r)){e=[];for(var n=0,i=r.length;n<i;n++)e[n]=Cr(r[n])}}else if(uce[t]){if(!Fw(r)){var a=r.constructor;if(a.from)e=a.from(r);else{e=new a(r.length);for(var n=0,i=r.length;n<i;n++)e[n]=r[n]}}}else if(!cce[t]&&!Fw(r)&&!Y2(r)){e={};for(var s in r)r.hasOwnProperty(s)&&s!==BU&&(e[s]=Cr(r[s]))}return e}function pn(r,e,t){if(!kr(e)||!kr(r))return t?Cr(e):r;for(var n in e)if(e.hasOwnProperty(n)&&n!==BU){var i=r[n],a=e[n];kr(a)&&kr(i)&&!Ut(a)&&!Ut(i)&&!Y2(a)&&!Y2(i)&&!i7(a)&&!i7(i)&&!Fw(a)&&!Fw(i)?pn(i,a,t):(t||!(n in r))&&(r[n]=Cr(e[n]))}return r}function kk(r,e){for(var t=r[0],n=1,i=r.length;n<i;n++)t=pn(t,r[n],e);return t}function It(r,e){if(Object.assign)Object.assign(r,e);else for(var t in e)e.hasOwnProperty(t)&&t!==BU&&(r[t]=e[t]);return r}function Rr(r,e,t){for(var n=Wn(e),i=0,a=n.length;i<a;i++){var s=n[i];(t?e[s]!=null:r[s]==null)&&(r[s]=e[s])}return r}var jEe=Yf.createCanvas;function hn(r,e){if(r){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t}return-1}function jU(r,e){var t=r.prototype;function n(){}n.prototype=e.prototype,r.prototype=new n;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);r.prototype.constructor=r,r.superClass=e}function qs(r,e,t){if(r="prototype"in r?r.prototype:r,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(t?e[a]!=null:r[a]==null)&&(r[a]=e[a])}else Rr(r,e,t)}function _c(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function he(r,e,t){if(r&&e)if(r.forEach&&r.forEach===PEe)r.forEach(e,t);else if(r.length===+r.length)for(var n=0,i=r.length;n<i;n++)e.call(t,r[n],n,r);else for(var a in r)r.hasOwnProperty(a)&&e.call(t,r[a],a,r)}function Gt(r,e,t){if(!r)return[];if(!e)return Ik(r);if(r.map&&r.map===BEe)return r.map(e,t);for(var n=[],i=0,a=r.length;i<a;i++)n.push(e.call(t,r[i],i,r));return n}function Pd(r,e,t,n){if(r&&e){for(var i=0,a=r.length;i<a;i++)t=e.call(n,t,r[i],i,r);return t}}function bi(r,e,t){if(!r)return[];if(!e)return Ik(r);if(r.filter&&r.filter===FEe)return r.filter(e,t);for(var n=[],i=0,a=r.length;i<a;i++)e.call(t,r[i],i,r)&&n.push(r[i]);return n}function wy(r,e,t){if(r&&e){for(var n=0,i=r.length;n<i;n++)if(e.call(t,r[n],n,r))return r[n]}}function Wn(r){if(!r)return[];if(Object.keys)return Object.keys(r);var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(t);return e}function UEe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return function(){return r.apply(e,t.concat(FU.call(arguments)))}}var hr=SC&&Tr(SC.bind)?SC.call.bind(SC.bind):UEe;function cn(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return r.apply(this,e.concat(FU.call(arguments)))}}function Ut(r){return Array.isArray?Array.isArray(r):OS.call(r)==="[object Array]"}function Tr(r){return typeof r=="function"}function fr(r){return typeof r=="string"}function XD(r){return OS.call(r)==="[object String]"}function Jn(r){return typeof r=="number"}function kr(r){var e=typeof r;return e==="function"||!!r&&e==="object"}function i7(r){return!!cce[OS.call(r)]}function Ju(r){return!!uce[OS.call(r)]}function Y2(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function OE(r){return r.colorStops!=null}function fce(r){return r.image!=null}function hce(r){return OS.call(r)==="[object RegExp]"}function mc(r){return r!==r}function Xl(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0,n=r.length;t<n;t++)if(r[t]!=null)return r[t]}function wr(r,e){return r??e}function Hf(r,e,t){return r??e??t}function Ik(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return FU.apply(r,e)}function PE(r){if(typeof r=="number")return[r,r,r,r];var e=r.length;return e===2?[r[0],r[1],r[0],r[1]]:e===3?[r[0],r[1],r[2],r[1]]:r}function wc(r,e){if(!r)throw new Error(e)}function Nh(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var dce="__ec_primitive__";function m3(r){r[dce]=!0}function Fw(r){return r[dce]}var VEe=(function(){function r(){this.data={}}return r.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},r.prototype.has=function(e){return this.data.hasOwnProperty(e)},r.prototype.get=function(e){return this.data[e]},r.prototype.set=function(e,t){return this.data[e]=t,this},r.prototype.keys=function(){return Wn(this.data)},r.prototype.forEach=function(e){var t=this.data;for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},r})(),pce=typeof Map=="function";function HEe(){return pce?new Map:new VEe}var vce=(function(){function r(e){var t=Ut(e);this.data=HEe();var n=this;e instanceof r?e.each(i):e&&he(e,i);function i(a,s){t?n.set(a,s):n.set(s,a)}}return r.prototype.hasKey=function(e){return this.data.has(e)},r.prototype.get=function(e){return this.data.get(e)},r.prototype.set=function(e,t){return this.data.set(e,t),t},r.prototype.each=function(e,t){this.data.forEach(function(n,i){e.call(t,n,i)})},r.prototype.keys=function(){var e=this.data.keys();return pce?Array.from(e):e},r.prototype.removeKey=function(e){this.data.delete(e)},r})();function br(r){return new vce(r)}function $w(r,e){for(var t=new r.constructor(r.length+e.length),n=0;n<r.length;n++)t[n]=r[n];for(var i=r.length,n=0;n<e.length;n++)t[n+i]=e[n];return t}function FE(r,e){var t;if(Object.create)t=Object.create(r);else{var n=function(){};n.prototype=r,t=new n}return e&&It(t,e),t}function UU(r){var e=r.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function gr(r,e){return r.hasOwnProperty(e)}function Ws(){}var wA=180/Math.PI,GEe=Number.EPSILON||Math.pow(2,-52);const WEe=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:GEe,HashMap:vce,RADIAN_TO_DEGREE:wA,assert:wc,bind:hr,clone:Cr,concatArray:$w,createCanvas:jEe,createHashMap:br,createObject:FE,curry:cn,defaults:Rr,disableUserSelect:UU,each:he,eqNaN:mc,extend:It,filter:bi,find:wy,guid:zU,hasOwn:gr,indexOf:hn,inherits:jU,isArray:Ut,isArrayLike:_c,isBuiltInObject:i7,isDom:Y2,isFunction:Tr,isGradientObject:OE,isImagePatternObject:fce,isNumber:Jn,isObject:kr,isPrimitive:Fw,isRegExp:hce,isString:fr,isStringSafe:XD,isTypedArray:Ju,keys:Wn,logError:Rk,map:Gt,merge:pn,mergeAll:kk,mixin:qs,noop:Ws,normalizeCssArray:PE,reduce:Pd,retrieve:Xl,retrieve2:wr,retrieve3:Hf,setAsPrimitive:m3,slice:Ik,trim:Nh},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var a7=function(r,e){return a7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},a7(r,e)};function $a(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a7(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Sy(r,e){return r==null&&(r=0),e==null&&(e=0),[r,e]}function $c(r,e){return r[0]=e[0],r[1]=e[1],r}function ov(r){return[r[0],r[1]]}function Ok(r,e,t){return r[0]=e,r[1]=t,r}function s7(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function ZD(r,e,t,n){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r}function kx(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function g3(r){return Math.sqrt(VU(r))}var YEe=g3;function VU(r){return r[0]*r[0]+r[1]*r[1]}var qEe=VU;function XEe(r,e,t){return r[0]=e[0]*t[0],r[1]=e[1]*t[1],r}function ZEe(r,e,t){return r[0]=e[0]/t[0],r[1]=e[1]/t[1],r}function KEe(r,e){return r[0]*e[0]+r[1]*e[1]}function SA(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r}function hb(r,e){var t=g3(e);return t===0?(r[0]=0,r[1]=0):(r[0]=e[0]/t,r[1]=e[1]/t),r}function KD(r,e){return Math.sqrt((r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1]))}var Pm=KD;function mce(r,e){return(r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1])}var qx=mce;function $Ee(r,e){return r[0]=-e[0],r[1]=-e[1],r}function TA(r,e,t,n){return r[0]=e[0]+n*(t[0]-e[0]),r[1]=e[1]+n*(t[1]-e[1]),r}function Ys(r,e,t){var n=e[0],i=e[1];return r[0]=t[0]*n+t[2]*i+t[4],r[1]=t[1]*n+t[3]*i+t[5],r}function Fm(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r}function Bm(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r}const JEe=Object.freeze(Object.defineProperty({__proto__:null,add:s7,applyTransform:Ys,clone:ov,copy:$c,create:Sy,dist:Pm,distSquare:qx,distance:KD,distanceSquare:mce,div:ZEe,dot:KEe,len:g3,lenSquare:VU,length:YEe,lengthSquare:qEe,lerp:TA,max:Bm,min:Fm,mul:XEe,negate:$Ee,normalize:hb,scale:SA,scaleAndAdd:ZD,set:Ok,sub:kx},Symbol.toStringTag,{value:"Module"}));var l_=(function(){function r(e,t){this.target=e,this.topTarget=t&&t.topTarget}return r})(),QEe=(function(){function r(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new l_(t,e),"dragstart",e.event))},r.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,a=n-this._x,s=i-this._y;this._x=n,this._y=i,t.drift(a,s,e),this.handler.dispatchToElement(new l_(t,e),"drag",e.event);var o=this.handler.findHover(n,i,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.handler.dispatchToElement(new l_(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new l_(o,e),"dragenter",e.event))}},r.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new l_(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new l_(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},r})(),Vd=(function(){function r(e){e&&(this._$eventProcessor=e)}return r.prototype.on=function(e,t,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(i=n,n=t,t=null),!n||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===n)return this;var l={h:n,query:t,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},c=a[e].length-1,u=a[e][c];return u&&u.callAtLast?a[e].splice(c,0,l):a[e].push(l),this},r.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},r.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],a=0,s=n[e].length;a<s;a++)n[e][a].h!==t&&i.push(n[e][a]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},r.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=i.length,l=0;l<o;l++){var c=i[l];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(s){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},r.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=t[s-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(s){case 0:u.h.call(o);break;case 1:u.h.call(o,t[0]);break;case 2:u.h.call(o,t[0],t[1]);break;default:u.h.apply(o,t.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},r})(),eMe=Math.log(2);function o7(r,e,t,n,i,a){var s=n+"-"+i,o=r.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~i)/eMe);return r[t][l]}for(var c=n|1<<t,u=t+1;n&1<<u;)u++;for(var f=0,d=0,h=0;d<o;d++){var p=1<<d;p&i||(f+=(h%2?-1:1)*r[t][d]*o7(r,e-1,u,c,i|p,a),h++)}return a[s]=f,f}function nX(r,e){var t=[[r[0],r[1],1,0,0,0,-e[0]*r[0],-e[0]*r[1]],[0,0,0,r[0],r[1],1,-e[1]*r[0],-e[1]*r[1]],[r[2],r[3],1,0,0,0,-e[2]*r[2],-e[2]*r[3]],[0,0,0,r[2],r[3],1,-e[3]*r[2],-e[3]*r[3]],[r[4],r[5],1,0,0,0,-e[4]*r[4],-e[4]*r[5]],[0,0,0,r[4],r[5],1,-e[5]*r[4],-e[5]*r[5]],[r[6],r[7],1,0,0,0,-e[6]*r[6],-e[6]*r[7]],[0,0,0,r[6],r[7],1,-e[7]*r[6],-e[7]*r[7]]],n={},i=o7(t,8,0,0,0,n);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*o7(t,7,s===0?1:0,1<<s,1<<o,n)/i*e[s];return function(l,c,u){var f=c*a[6]+u*a[7]+1;l[0]=(c*a[0]+u*a[1]+a[2])/f,l[1]=(c*a[3]+u*a[4]+a[5])/f}}}var $D="___zrEVENTSAVED",TO=[];function tMe(r,e,t,n,i){return l7(TO,e,n,i,!0)&&l7(r,t,TO[0],TO[1])}function rMe(r,e){r&&t(r),e&&t(e);function t(n){var i=n[$D];i&&(i.clearMarkers&&i.clearMarkers(),delete n[$D])}}function l7(r,e,t,n,i){if(e.getBoundingClientRect&&Un.domSupported&&!gce(e)){var a=e[$D]||(e[$D]={}),s=nMe(e,a),o=iMe(s,a,i);if(o)return o(r,t,n),!0}return!1}function nMe(r,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,c=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[c]+":0",n[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),r.appendChild(s),t.push(s)}return e.clearMarkers=function(){he(t,function(u){u.parentNode&&u.parentNode.removeChild(u)})},t}function iMe(r,e,t){for(var n=t?"invTrans":"trans",i=e[n],a=e.srcCoords,s=[],o=[],l=!0,c=0;c<4;c++){var u=r[c].getBoundingClientRect(),f=2*c,d=u.left,h=u.top;s.push(d,h),l=l&&a&&d===a[f]&&h===a[f+1],o.push(r[c].offsetLeft,r[c].offsetTop)}return l&&i?i:(e.srcCoords=s,e[n]=t?nX(o,s):nX(s,o))}function gce(r){return r.nodeName.toUpperCase()==="CANVAS"}var aMe=/([&<>"'])/g,sMe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tu(r){return r==null?"":(r+"").replace(aMe,function(e,t){return sMe[t]})}var oMe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,AO=[],lMe=Un.browser.firefox&&+Un.browser.version.split(".")[0]<39;function c7(r,e,t,n){return t=t||{},n?iX(r,e,t):lMe&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):iX(r,e,t),t}function iX(r,e,t){if(Un.domSupported&&r.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(gce(r)){var a=r.getBoundingClientRect();t.zrX=n-a.left,t.zrY=i-a.top;return}else if(l7(AO,r,n,i)){t.zrX=AO[0],t.zrY=AO[1];return}}t.zrX=t.zrY=0}function HU(r){return r||window.event}function _d(r,e,t){if(e=HU(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var s=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&c7(r,s,e,t)}else{c7(r,e,e,t);var a=cMe(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&oMe.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function cMe(r){var e=r.wheelDelta;if(e)return e;var t=r.deltaX,n=r.deltaY;if(t==null||n==null)return e;var i=Math.abs(n!==0?n:t),a=n>0?-1:n<0?1:t>0?-1:1;return 3*i*a}function u7(r,e,t,n){r.addEventListener(e,t,n)}function uMe(r,e,t,n){r.removeEventListener(e,t,n)}var rg=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function aX(r){return r.which===2||r.which===3}var fMe=(function(){function r(){this._track=[]}return r.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(e,t,n){var i=e.touches;if(i){for(var a={points:[],touches:[],target:t,event:e},s=0,o=i.length;s<o;s++){var l=i[s],c=c7(n,l,{});a.points.push([c.zrX,c.zrY]),a.touches.push(l)}this._track.push(a)}},r.prototype._recognize=function(e){for(var t in EO)if(EO.hasOwnProperty(t)){var n=EO[t](this._track,e);if(n)return n}},r})();function sX(r){var e=r[1][0]-r[0][0],t=r[1][1]-r[0][1];return Math.sqrt(e*e+t*t)}function hMe(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var EO={pinch:function(r,e){var t=r.length;if(t){var n=(r[t-1]||{}).points,i=(r[t-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=sX(n)/sX(i);!isFinite(a)&&(a=1),e.pinchScale=a;var s=hMe(n);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:r[0].target,event:e}}}}};function wl(){return[1,0,0,1,0,0]}function BE(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function zE(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function Vp(r,e,t){var n=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return r[0]=n,r[1]=i,r[2]=a,r[3]=s,r[4]=o,r[5]=l,r}function Zp(r,e,t){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4]+t[0],r[5]=e[5]+t[1],r}function xg(r,e,t,n){n===void 0&&(n=[0,0]);var i=e[0],a=e[2],s=e[4],o=e[1],l=e[3],c=e[5],u=Math.sin(t),f=Math.cos(t);return r[0]=i*f+o*u,r[1]=-i*u+o*f,r[2]=a*f+l*u,r[3]=-a*u+f*l,r[4]=f*(s-n[0])+u*(c-n[1])+n[0],r[5]=f*(c-n[1])-u*(s-n[0])+n[1],r}function Pk(r,e,t){var n=t[0],i=t[1];return r[0]=e[0]*n,r[1]=e[1]*i,r[2]=e[2]*n,r[3]=e[3]*i,r[4]=e[4]*n,r[5]=e[5]*i,r}function Fd(r,e){var t=e[0],n=e[2],i=e[4],a=e[1],s=e[3],o=e[5],l=t*s-a*n;return l?(l=1/l,r[0]=s*l,r[1]=-a*l,r[2]=-n*l,r[3]=t*l,r[4]=(n*o-s*i)*l,r[5]=(a*i-t*o)*l,r):null}function xce(r){var e=wl();return zE(e,r),e}const dMe=Object.freeze(Object.defineProperty({__proto__:null,clone:xce,copy:zE,create:wl,identity:BE,invert:Fd,mul:Vp,rotate:xg,scale:Pk,translate:Zp},Symbol.toStringTag,{value:"Module"}));var Fr=(function(){function r(e,t){this.x=e||0,this.y=t||0}return r.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(e,t){return this.x=e,this.y=t,this},r.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},r.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},r.prototype.scale=function(e){this.x*=e,this.y*=e},r.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},r.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},r.prototype.dot=function(e){return this.x*e.x+this.y*e.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},r.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},r.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},r.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},r.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},r.set=function(e,t,n){e.x=t,e.y=n},r.copy=function(e,t){e.x=t.x,e.y=t.y},r.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r.lenSquare=function(e){return e.x*e.x+e.y*e.y},r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},r.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},r.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},r.scaleAndAdd=function(e,t,n,i){e.x=t.x+n.x*i,e.y=t.y+n.y*i},r.lerp=function(e,t,n,i){var a=1-i;e.x=a*t.x+i*n.x,e.y=a*t.y+i*n.y},r})(),v2=Math.min,mw=Math.max,f7=Math.abs,oX=["x","y"],pMe=["width","height"],s1=new Fr,o1=new Fr,l1=new Fr,c1=new Fr,Sh=yce(),K5=Sh.minTv,h7=Sh.maxTv,AA=[0,0],Br=(function(){function r(e,t,n,i){r.set(this,e,t,n,i)}return r.set=function(e,t,n,i,a){return i<0&&(t=t+i,i=-i),a<0&&(n=n+a,a=-a),e.x=t,e.y=n,e.width=i,e.height=a,e},r.prototype.union=function(e){var t=v2(e.x,this.x),n=v2(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mw(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=mw(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},r.prototype.applyTransform=function(e){r.applyTransform(this,this,e)},r.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,i=e.height/t.height,a=wl();return Zp(a,a,[-t.x,-t.y]),Pk(a,a,[n,i]),Zp(a,a,[e.x,e.y]),a},r.prototype.intersect=function(e,t,n){return r.intersect(this,e,t,n)},r.intersect=function(e,t,n,i){n&&Fr.set(n,0,0);var a=i&&i.outIntersectRect||null,s=i&&i.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!e||!t)return!1;e instanceof r||(e=r.set(vMe,e.x,e.y,e.width,e.height)),t instanceof r||(t=r.set(mMe,t.x,t.y,t.width,t.height));var o=!!n;Sh.reset(i,o);var l=Sh.touchThreshold,c=e.x+l,u=e.x+e.width-l,f=e.y+l,d=e.y+e.height-l,h=t.x+l,p=t.x+t.width-l,v=t.y+l,x=t.y+t.height-l;if(c>u||f>d||h>p||v>x)return!1;var g=!(u<h||p<c||d<v||x<f);return(o||a)&&(AA[0]=1/0,AA[1]=0,lX(c,u,h,p,0,o,a,s),lX(f,d,v,x,1,o,a,s),o&&Fr.copy(n,g?Sh.useDir?Sh.dirMinTv:K5:h7)),g},r.contain=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},r.prototype.contain=function(e,t){return r.contain(this,e,t)},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(e){r.copy(this,e)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(e){return new r(e.x,e.y,e.width,e.height)},r.copy=function(e,t){return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e},r.applyTransform=function(e,t,n){if(!n){e!==t&&r.copy(e,t);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],s=n[4],o=n[5];e.x=t.x*i+s,e.y=t.y*a+o,e.width=t.width*i,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}s1.x=l1.x=t.x,s1.y=c1.y=t.y,o1.x=c1.x=t.x+t.width,o1.y=l1.y=t.y+t.height,s1.transform(n),c1.transform(n),o1.transform(n),l1.transform(n),e.x=v2(s1.x,o1.x,l1.x,c1.x),e.y=v2(s1.y,o1.y,l1.y,c1.y);var l=mw(s1.x,o1.x,l1.x,c1.x),c=mw(s1.y,o1.y,l1.y,c1.y);e.width=l-e.x,e.height=c-e.y},r})(),vMe=new Br(0,0,0,0),mMe=new Br(0,0,0,0);function lX(r,e,t,n,i,a,s,o){var l=f7(e-t),c=f7(n-r),u=v2(l,c),f=oX[i],d=oX[1-i],h=pMe[i];e<t||n<r?l<c?(a&&(h7[f]=-l),o&&(s[f]=e,s[h]=0)):(a&&(h7[f]=c),o&&(s[f]=r,s[h]=0)):(s&&(s[f]=mw(r,t),s[h]=v2(e,n)-s[f]),a&&(u<AA[0]||Sh.useDir)&&(AA[0]=v2(u,AA[0]),(l<c||!Sh.bidirectional)&&(K5[f]=l,K5[d]=0,Sh.useDir&&Sh.calcDirMTV()),(l>=c||!Sh.bidirectional)&&(K5[f]=-c,K5[d]=0,Sh.useDir&&Sh.calcDirMTV())))}function yce(){var r=0,e=new Fr,t=new Fr,n={minTv:new Fr,maxTv:new Fr,useDir:!1,dirMinTv:new Fr,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,s){n.touchThreshold=0,a&&a.touchThreshold!=null&&(n.touchThreshold=mw(0,a.touchThreshold)),n.negativeSize=!1,s&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,a&&a.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),t.copy(n.minTv),r=a.direction,n.bidirectional=a.bidirectional==null||!!a.bidirectional,n.bidirectional||e.set(Math.cos(r),Math.sin(r))))},calcDirMTV:function(){var a=n.minTv,s=n.dirMinTv,o=a.y*a.y+a.x*a.x,l=Math.sin(r),c=Math.cos(r),u=l*a.y+c*a.x;if(i(u)){i(a.x)&&i(a.y)&&s.set(0,0);return}if(t.x=o*c/u,t.y=o*l/u,i(t.x)&&i(t.y)){s.set(0,0);return}(n.bidirectional||e.dot(t)>0)&&t.len()<s.len()&&s.copy(t)}};function i(a){return f7(a)<1e-10}return n}var bce="silent";function gMe(r,e,t){return{type:r,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:xMe}}function xMe(){rg(this.event)}var yMe=(function(r){$a(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e})(Vd),XT=(function(){function r(e,t){this.x=e,this.y=t}return r})(),bMe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],MO=new Br(0,0,0,0),_ce=(function(r){$a(e,r);function e(t,n,i,a,s){var o=r.call(this)||this;return o._hovered=new XT(0,0),o.storage=t,o.painter=n,o.painterRoot=a,o._pointerSize=s,i=i||new yMe,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new QEe(o),o}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(he(bMe,function(n){t.on&&t.on(n,this[n],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var n=t.zrX,i=t.zrY,a=wce(this,n,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new XT(n,i):this.findHover(n,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),o&&c!==o&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),c&&c!==o&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var n=t.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new XT(0,0)},e.prototype.dispatch=function(t,n){var i=this[t];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var n=this.proxy;n.setCursor&&n.setCursor(t)},e.prototype.dispatchToElement=function(t,n,i){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var s="on"+n,o=gMe(n,t,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(n,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(n,o)}))}},e.prototype.findHover=function(t,n,i){var a=this.storage.getDisplayList(),s=new XT(t,n);if(cX(a,s,t,n,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,c=l/2,u=new Br(t-c,n-c,l,l),f=a.length-1;f>=0;f--){var d=a[f];d!==i&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(MO.copy(d.getBoundingRect()),d.transform&&MO.applyTransform(d.transform),MO.intersect(u)&&o.push(d))}if(o.length)for(var h=4,p=Math.PI/12,v=Math.PI*2,x=0;x<c;x+=h)for(var g=0;g<v;g+=p){var _=t+x*Math.cos(g),w=n+x*Math.sin(g);if(cX(o,s,_,w,i),s.target)return s}}return s},e.prototype.processGesture=function(t,n){this._gestureMgr||(this._gestureMgr=new fMe);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var s=a.type;t.gestureEvent=s;var o=new XT;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e})(Vd);he(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){_ce.prototype[r]=function(e){var t=e.zrX,n=e.zrY,i=wce(this,t,n),a,s;if((r!=="mouseup"||!i)&&(a=this.findHover(t,n),s=a.target),r==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(r==="mouseup")this._upEl=s;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||Pm(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,r,e)}});function _Me(r,e,t){if(r[r.rectHover?"rectContain":"contain"](e,t)){for(var n=r,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var s=n.getClipPath();if(s&&!s.contain(e,t))return!1}n.silent&&(i=!0);var o=n.__hostTarget;n=o?n.ignoreHostSilent?null:o:n.parent}return i?bce:!0}return!1}function cX(r,e,t,n,i){for(var a=r.length-1;a>=0;a--){var s=r[a],o=void 0;if(s!==i&&!s.ignore&&(o=_Me(s,t,n))&&(!e.topTarget&&(e.topTarget=s),o!==bce)){e.target=s;break}}}function wce(r,e,t){var n=r.painter;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var Sce=32,ZT=7;function wMe(r){for(var e=0;r>=Sce;)e|=r&1,r>>=1;return r+e}function uX(r,e,t,n){var i=e+1;if(i===t)return 1;if(n(r[i++],r[e])<0){for(;i<t&&n(r[i],r[i-1])<0;)i++;SMe(r,e,i)}else for(;i<t&&n(r[i],r[i-1])>=0;)i++;return i-e}function SMe(r,e,t){for(t--;e<t;){var n=r[e];r[e++]=r[t],r[t--]=n}}function fX(r,e,t,n,i){for(n===e&&n++;n<t;n++){for(var a=r[n],s=e,o=n,l;s<o;)l=s+o>>>1,i(a,r[l])<0?o=l:s=l+1;var c=n-s;switch(c){case 3:r[s+3]=r[s+2];case 2:r[s+2]=r[s+1];case 1:r[s+1]=r[s];break;default:for(;c>0;)r[s+c]=r[s+c-1],c--}r[s]=a}}function CO(r,e,t,n,i,a){var s=0,o=0,l=1;if(a(r,e[t+i])>0){for(o=n-i;l<o&&a(r,e[t+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(r,e[t+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=i-l,l=i-c}for(s++;s<l;){var u=s+(l-s>>>1);a(r,e[t+u])>0?s=u+1:l=u}return l}function NO(r,e,t,n,i,a){var s=0,o=0,l=1;if(a(r,e[t+i])<0){for(o=i+1;l<o&&a(r,e[t+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=i-l,l=i-c}else{for(o=n-i;l<o&&a(r,e[t+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var u=s+(l-s>>>1);a(r,e[t+u])<0?l=u:s=u+1}return l}function TMe(r,e){var t=ZT,n,i,a=0,s=[];n=[],i=[];function o(h,p){n[a]=h,i[a]=p,a+=1}function l(){for(;a>1;){var h=a-2;if(h>=1&&i[h-1]<=i[h]+i[h+1]||h>=2&&i[h-2]<=i[h]+i[h-1])i[h-1]<i[h+1]&&h--;else if(i[h]>i[h+1])break;u(h)}}function c(){for(;a>1;){var h=a-2;h>0&&i[h-1]<i[h+1]&&h--,u(h)}}function u(h){var p=n[h],v=i[h],x=n[h+1],g=i[h+1];i[h]=v+g,h===a-3&&(n[h+1]=n[h+2],i[h+1]=i[h+2]),a--;var _=NO(r[x],r,p,v,0,e);p+=_,v-=_,v!==0&&(g=CO(r[p+v-1],r,x,g,g-1,e),g!==0&&(v<=g?f(p,v,x,g):d(p,v,x,g)))}function f(h,p,v,x){var g=0;for(g=0;g<p;g++)s[g]=r[h+g];var _=0,w=v,A=h;if(r[A++]=r[w++],--x===0){for(g=0;g<p;g++)r[A+g]=s[_+g];return}if(p===1){for(g=0;g<x;g++)r[A+g]=r[w+g];r[A+x]=s[_];return}for(var M=t,C,N,L;;){C=0,N=0,L=!1;do if(e(r[w],s[_])<0){if(r[A++]=r[w++],N++,C=0,--x===0){L=!0;break}}else if(r[A++]=s[_++],C++,N=0,--p===1){L=!0;break}while((C|N)<M);if(L)break;do{if(C=NO(r[w],s,_,p,0,e),C!==0){for(g=0;g<C;g++)r[A+g]=s[_+g];if(A+=C,_+=C,p-=C,p<=1){L=!0;break}}if(r[A++]=r[w++],--x===0){L=!0;break}if(N=CO(s[_],r,w,x,0,e),N!==0){for(g=0;g<N;g++)r[A+g]=r[w+g];if(A+=N,w+=N,x-=N,x===0){L=!0;break}}if(r[A++]=s[_++],--p===1){L=!0;break}M--}while(C>=ZT||N>=ZT);if(L)break;M<0&&(M=0),M+=2}if(t=M,t<1&&(t=1),p===1){for(g=0;g<x;g++)r[A+g]=r[w+g];r[A+x]=s[_]}else{if(p===0)throw new Error;for(g=0;g<p;g++)r[A+g]=s[_+g]}}function d(h,p,v,x){var g=0;for(g=0;g<x;g++)s[g]=r[v+g];var _=h+p-1,w=x-1,A=v+x-1,M=0,C=0;if(r[A--]=r[_--],--p===0){for(M=A-(x-1),g=0;g<x;g++)r[M+g]=s[g];return}if(x===1){for(A-=p,_-=p,C=A+1,M=_+1,g=p-1;g>=0;g--)r[C+g]=r[M+g];r[A]=s[w];return}for(var N=t;;){var L=0,D=0,k=!1;do if(e(s[w],r[_])<0){if(r[A--]=r[_--],L++,D=0,--p===0){k=!0;break}}else if(r[A--]=s[w--],D++,L=0,--x===1){k=!0;break}while((L|D)<N);if(k)break;do{if(L=p-NO(s[w],r,h,p,p-1,e),L!==0){for(A-=L,_-=L,p-=L,C=A+1,M=_+1,g=L-1;g>=0;g--)r[C+g]=r[M+g];if(p===0){k=!0;break}}if(r[A--]=s[w--],--x===1){k=!0;break}if(D=x-CO(r[_],s,0,x,x-1,e),D!==0){for(A-=D,w-=D,x-=D,C=A+1,M=w+1,g=0;g<D;g++)r[C+g]=s[M+g];if(x<=1){k=!0;break}}if(r[A--]=r[_--],--p===0){k=!0;break}N--}while(L>=ZT||D>=ZT);if(k)break;N<0&&(N=0),N+=2}if(t=N,t<1&&(t=1),x===1){for(A-=p,_-=p,C=A+1,M=_+1,g=p-1;g>=0;g--)r[C+g]=r[M+g];r[A]=s[w]}else{if(x===0)throw new Error;for(M=A-(x-1),g=0;g<x;g++)r[M+g]=s[g]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:o}}function sD(r,e,t,n){t||(t=0),n||(n=r.length);var i=n-t;if(!(i<2)){var a=0;if(i<Sce){a=uX(r,t,n,e),fX(r,t,n,t+a,e);return}var s=TMe(r,e),o=wMe(i);do{if(a=uX(r,t,n,e),a<o){var l=i;l>o&&(l=o),fX(r,t,t+l,t+a,e),a=l}s.pushRun(t,a),s.mergeRuns(),i-=a,t+=a}while(i!==0);s.forceMergeRuns()}}var Ah=1,$5=2,uw=4,hX=!1;function DO(){hX||(hX=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function dX(r,e){return r.zlevel===e.zlevel?r.z===e.z?r.z2-e.z2:r.z-e.z:r.zlevel-e.zlevel}var AMe=(function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=dX}return r.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},r.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(t),n},r.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,sD(n,dX)},r.prototype._updateAndAddDisplayable=function(e,t,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath(),a=t&&t.length,s=0,o=e.__clipPaths;if(!e.ignoreClip&&(a||i)){if(o||(o=e.__clipPaths=[]),a)for(var l=0;l<t.length;l++)o[s++]=t[l];for(var c=i,u=e;c;)c.parent=u,c.updateTransform(),o[s++]=c,u=c,c=c.getClipPath()}if(o&&(o.length=s),e.childrenRef){for(var f=e.childrenRef(),d=0;d<f.length;d++){var h=f[d];e.__dirty&&(h.__dirty|=Ah),this._updateAndAddDisplayable(h,o,n)}e.__dirty=0}else{var p=e;isNaN(p.z)&&(DO(),p.z=0),isNaN(p.z2)&&(DO(),p.z2=0),isNaN(p.zlevel)&&(DO(),p.zlevel=0),this._displayList[this._displayListLen++]=p}var v=e.getDecalElement&&e.getDecalElement();v&&this._updateAndAddDisplayable(v,o,n);var x=e.getTextGuideLine();x&&this._updateAndAddDisplayable(x,o,n);var g=e.getTextContent();g&&this._updateAndAddDisplayable(g,o,n)}},r.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},r.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);return}var i=hn(this._roots,e);i>=0&&this._roots.splice(i,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r})(),JD;JD=Un.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var EA={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)))},elasticOut:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*r)*Math.sin((r-e)*(2*Math.PI)/n)+1)},elasticInOut:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),(r*=2)<1?-.5*(t*Math.pow(2,10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)):t*Math.pow(2,-10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)*.5+1)},backIn:function(r){var e=1.70158;return r*r*((e+1)*r-e)},backOut:function(r){var e=1.70158;return--r*r*((e+1)*r+e)+1},backInOut:function(r){var e=2.5949095;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)},bounceIn:function(r){return 1-EA.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?EA.bounceIn(r*2)*.5:EA.bounceOut(r*2-1)*.5+.5}},TC=Math.pow,Xx=Math.sqrt,QD=1e-8,Tce=1e-4,pX=Xx(3),AC=1/3,q0=Sy(),Md=Sy(),Bw=Sy();function Ix(r){return r>-QD&&r<QD}function Ace(r){return r>QD||r<-QD}function xl(r,e,t,n,i){var a=1-i;return a*a*(a*r+3*i*e)+i*i*(i*n+3*a*t)}function vX(r,e,t,n,i){var a=1-i;return 3*(((e-r)*a+2*(t-e)*i)*a+(n-t)*i*i)}function eL(r,e,t,n,i,a){var s=n+3*(e-t)-r,o=3*(t-e*2+r),l=3*(e-r),c=r-i,u=o*o-3*s*l,f=o*l-9*s*c,d=l*l-3*o*c,h=0;if(Ix(u)&&Ix(f))if(Ix(o))a[0]=0;else{var p=-l/o;p>=0&&p<=1&&(a[h++]=p)}else{var v=f*f-4*u*d;if(Ix(v)){var x=f/u,p=-o/s+x,g=-x/2;p>=0&&p<=1&&(a[h++]=p),g>=0&&g<=1&&(a[h++]=g)}else if(v>0){var _=Xx(v),w=u*o+1.5*s*(-f+_),A=u*o+1.5*s*(-f-_);w<0?w=-TC(-w,AC):w=TC(w,AC),A<0?A=-TC(-A,AC):A=TC(A,AC);var p=(-o-(w+A))/(3*s);p>=0&&p<=1&&(a[h++]=p)}else{var M=(2*u*o-3*s*f)/(2*Xx(u*u*u)),C=Math.acos(M)/3,N=Xx(u),L=Math.cos(C),p=(-o-2*N*L)/(3*s),g=(-o+N*(L+pX*Math.sin(C)))/(3*s),D=(-o+N*(L-pX*Math.sin(C)))/(3*s);p>=0&&p<=1&&(a[h++]=p),g>=0&&g<=1&&(a[h++]=g),D>=0&&D<=1&&(a[h++]=D)}}return h}function Ece(r,e,t,n,i){var a=6*t-12*e+6*r,s=9*e+3*n-3*r-9*t,o=3*e-3*r,l=0;if(Ix(s)){if(Ace(a)){var c=-o/a;c>=0&&c<=1&&(i[l++]=c)}}else{var u=a*a-4*s*o;if(Ix(u))i[0]=-a/(2*s);else if(u>0){var f=Xx(u),c=(-a+f)/(2*s),d=(-a-f)/(2*s);c>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function iy(r,e,t,n,i,a){var s=(e-r)*i+r,o=(t-e)*i+e,l=(n-t)*i+t,c=(o-s)*i+s,u=(l-o)*i+o,f=(u-c)*i+c;a[0]=r,a[1]=s,a[2]=c,a[3]=f,a[4]=f,a[5]=u,a[6]=l,a[7]=n}function Mce(r,e,t,n,i,a,s,o,l,c,u){var f,d=.005,h=1/0,p,v,x,g;q0[0]=l,q0[1]=c;for(var _=0;_<1;_+=.05)Md[0]=xl(r,t,i,s,_),Md[1]=xl(e,n,a,o,_),x=qx(q0,Md),x<h&&(f=_,h=x);h=1/0;for(var w=0;w<32&&!(d<Tce);w++)p=f-d,v=f+d,Md[0]=xl(r,t,i,s,p),Md[1]=xl(e,n,a,o,p),x=qx(Md,q0),p>=0&&x<h?(f=p,h=x):(Bw[0]=xl(r,t,i,s,v),Bw[1]=xl(e,n,a,o,v),g=qx(Bw,q0),v<=1&&g<h?(f=v,h=g):d*=.5);return u&&(u[0]=xl(r,t,i,s,f),u[1]=xl(e,n,a,o,f)),Xx(h)}function EMe(r,e,t,n,i,a,s,o,l){for(var c=r,u=e,f=0,d=1/l,h=1;h<=l;h++){var p=h*d,v=xl(r,t,i,s,p),x=xl(e,n,a,o,p),g=v-c,_=x-u;f+=Math.sqrt(g*g+_*_),c=v,u=x}return f}function Yl(r,e,t,n){var i=1-n;return i*(i*r+2*n*e)+n*n*t}function d7(r,e,t,n){return 2*((1-n)*(e-r)+n*(t-e))}function MMe(r,e,t,n,i){var a=r-2*e+t,s=2*(e-r),o=r-n,l=0;if(Ix(a)){if(Ace(s)){var c=-o/s;c>=0&&c<=1&&(i[l++]=c)}}else{var u=s*s-4*a*o;if(Ix(u)){var c=-s/(2*a);c>=0&&c<=1&&(i[l++]=c)}else if(u>0){var f=Xx(u),c=(-s+f)/(2*a),d=(-s-f)/(2*a);c>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function Cce(r,e,t){var n=r+t-2*e;return n===0?.5:(r-e)/n}function x3(r,e,t,n,i){var a=(e-r)*n+r,s=(t-e)*n+e,o=(s-a)*n+a;i[0]=r,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=t}function Nce(r,e,t,n,i,a,s,o,l){var c,u=.005,f=1/0;q0[0]=s,q0[1]=o;for(var d=0;d<1;d+=.05){Md[0]=Yl(r,t,i,d),Md[1]=Yl(e,n,a,d);var h=qx(q0,Md);h<f&&(c=d,f=h)}f=1/0;for(var p=0;p<32&&!(u<Tce);p++){var v=c-u,x=c+u;Md[0]=Yl(r,t,i,v),Md[1]=Yl(e,n,a,v);var h=qx(Md,q0);if(v>=0&&h<f)c=v,f=h;else{Bw[0]=Yl(r,t,i,x),Bw[1]=Yl(e,n,a,x);var g=qx(Bw,q0);x<=1&&g<f?(c=x,f=g):u*=.5}}return l&&(l[0]=Yl(r,t,i,c),l[1]=Yl(e,n,a,c)),Xx(f)}function CMe(r,e,t,n,i,a,s){for(var o=r,l=e,c=0,u=1/s,f=1;f<=s;f++){var d=f*u,h=Yl(r,t,i,d),p=Yl(e,n,a,d),v=h-o,x=p-l;c+=Math.sqrt(v*v+x*x),o=h,l=p}return c}var NMe=/cubic-bezier\(([0-9,\.e ]+)\)/;function GU(r){var e=r&&NMe.exec(r);if(e){var t=e[1].split(","),n=+Nh(t[0]),i=+Nh(t[1]),a=+Nh(t[2]),s=+Nh(t[3]);if(isNaN(n+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:eL(0,n,a,1,l,o)&&xl(0,i,s,1,o[0])}}}var DMe=(function(){function r(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Ws,this.ondestroy=e.ondestroy||Ws,this.onrestart=e.onrestart||Ws,e.easing&&this.setEasing(e.easing)}return r.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var n=this._life,i=e-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Tr(e)?e:EA[e]||GU(e)},r})(),Dce=(function(){function r(e){this.value=e}return r})(),LMe=(function(){function r(){this._len=0}return r.prototype.insert=function(e){var t=new Dce(e);return this.insertEntry(t),t},r.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},r.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r})(),Jw=(function(){function r(e){this._list=new LMe,this._maxSize=10,this._map={},this._maxSize=e}return r.prototype.put=function(e,t){var n=this._list,i=this._map,a=null;if(i[e]==null){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new Dce(t),o.key=e,n.insertEntry(o),i[e]=o}return a},r.prototype.get=function(e){var t=this._map[e],n=this._list;if(t!=null)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r})(),mX={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Hp(r){return r=Math.round(r),r<0?0:r>255?255:r}function RMe(r){return r=Math.round(r),r<0?0:r>360?360:r}function y3(r){return r<0?0:r>1?1:r}function oD(r){var e=r;return e.length&&e.charAt(e.length-1)==="%"?Hp(parseFloat(e)/100*255):Hp(parseInt(e,10))}function Wm(r){var e=r;return e.length&&e.charAt(e.length-1)==="%"?y3(parseFloat(e)/100):y3(parseFloat(e))}function LO(r,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?r+(e-r)*t*6:t*2<1?e:t*3<2?r+(e-r)*(2/3-t)*6:r}function Ox(r,e,t){return r+(e-r)*t}function xd(r,e,t,n,i){return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function p7(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}var Lce=new Jw(20),EC=null;function c_(r,e){EC&&p7(EC,e),EC=Lce.put(r,EC||e.slice())}function ou(r,e){if(r){e=e||[];var t=Lce.get(r);if(t)return p7(e,t);r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in mX)return p7(e,mX[n]),c_(r,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){xd(e,0,0,0,1);return}return xd(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),c_(r,e),e}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){xd(e,0,0,0,1);return}return xd(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),c_(r,e),e}return}var s=n.indexOf("("),o=n.indexOf(")");if(s!==-1&&o+1===i){var l=n.substr(0,s),c=n.substr(s+1,o-(s+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?xd(e,+c[0],+c[1],+c[2],1):xd(e,0,0,0,1);u=Wm(c.pop());case"rgb":if(c.length>=3)return xd(e,oD(c[0]),oD(c[1]),oD(c[2]),c.length===3?u:Wm(c[3])),c_(r,e),e;xd(e,0,0,0,1);return;case"hsla":if(c.length!==4){xd(e,0,0,0,1);return}return c[3]=Wm(c[3]),v7(c,e),c_(r,e),e;case"hsl":if(c.length!==3){xd(e,0,0,0,1);return}return v7(c,e),c_(r,e),e;default:return}}xd(e,0,0,0,1)}}function v7(r,e){var t=(parseFloat(r[0])%360+360)%360/360,n=Wm(r[1]),i=Wm(r[2]),a=i<=.5?i*(n+1):i+n-i*n,s=i*2-a;return e=e||[],xd(e,Hp(LO(s,a,t+1/3)*255),Hp(LO(s,a,t)*255),Hp(LO(s,a,t-1/3)*255),1),r.length===4&&(e[3]=r[3]),e}function kMe(r){if(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.min(e,t,n),a=Math.max(e,t,n),s=a-i,o=(a+i)/2,l,c;if(s===0)l=0,c=0;else{o<.5?c=s/(a+i):c=s/(2-a-i);var u=((a-e)/6+s/2)/s,f=((a-t)/6+s/2)/s,d=((a-n)/6+s/2)/s;e===a?l=d-f:t===a?l=1/3+u-d:n===a&&(l=2/3+f-u),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,c,o];return r[3]!=null&&h.push(r[3]),h}}function tL(r,e){var t=ou(r);if(t){for(var n=0;n<3;n++)e<0?t[n]=t[n]*(1-e)|0:t[n]=(255-t[n])*e+t[n]|0,t[n]>255?t[n]=255:t[n]<0&&(t[n]=0);return Rd(t,t.length===4?"rgba":"rgb")}}function IMe(r){var e=ou(r);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function MA(r,e,t){if(!(!(e&&e.length)||!(r>=0&&r<=1))){t=t||[];var n=r*(e.length-1),i=Math.floor(n),a=Math.ceil(n),s=e[i],o=e[a],l=n-i;return t[0]=Hp(Ox(s[0],o[0],l)),t[1]=Hp(Ox(s[1],o[1],l)),t[2]=Hp(Ox(s[2],o[2],l)),t[3]=y3(Ox(s[3],o[3],l)),t}}var OMe=MA;function WU(r,e,t){if(!(!(e&&e.length)||!(r>=0&&r<=1))){var n=r*(e.length-1),i=Math.floor(n),a=Math.ceil(n),s=ou(e[i]),o=ou(e[a]),l=n-i,c=Rd([Hp(Ox(s[0],o[0],l)),Hp(Ox(s[1],o[1],l)),Hp(Ox(s[2],o[2],l)),y3(Ox(s[3],o[3],l))],"rgba");return t?{color:c,leftIndex:i,rightIndex:a,value:n}:c}}var PMe=WU;function Ym(r,e,t,n){var i=ou(r);if(r)return i=kMe(i),e!=null&&(i[0]=RMe(Tr(e)?e(i[0]):e)),t!=null&&(i[1]=Wm(Tr(t)?t(i[1]):t)),n!=null&&(i[2]=Wm(Tr(n)?n(i[2]):n)),Rd(v7(i),"rgba")}function b3(r,e){var t=ou(r);if(t&&e!=null)return t[3]=y3(e),Rd(t,"rgba")}function Rd(r,e){if(!(!r||!r.length)){var t=r[0]+","+r[1]+","+r[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+r[3]),e+"("+t+")"}}function _3(r,e){var t=ou(r);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function FMe(){return Rd([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var gX=new Jw(100);function rL(r){if(fr(r)){var e=gX.get(r);return e||(e=tL(r,-.1),gX.put(r,e)),e}else if(OE(r)){var t=It({},r);return t.colorStops=Gt(r.colorStops,function(n){return{offset:n.offset,color:tL(n.color,-.1)}}),t}return r}const BMe=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:MA,fastMapToColor:OMe,lerp:WU,lift:tL,liftColor:rL,lum:_3,mapToColor:PMe,modifyAlpha:b3,modifyHSL:Ym,parse:ou,parseCssFloat:Wm,parseCssInt:oD,random:FMe,stringify:Rd,toHex:IMe},Symbol.toStringTag,{value:"Module"}));var nL=Math.round;function w3(r){var e;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var t=ou(r);t&&(r="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:r,opacity:e??1}}var xX=1e-4;function Px(r){return r<xX&&r>-xX}function MC(r){return nL(r*1e3)/1e3}function m7(r){return nL(r*1e4)/1e4}function zMe(r){return"matrix("+MC(r[0])+","+MC(r[1])+","+MC(r[2])+","+MC(r[3])+","+m7(r[4])+","+m7(r[5])+")"}var jMe={left:"start",right:"end",center:"middle",middle:"middle"};function UMe(r,e,t){return t==="top"?r+=e/2:t==="bottom"&&(r-=e/2),r}function VMe(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function HMe(r){var e=r.style,t=r.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function Rce(r){return r&&!!r.image}function GMe(r){return r&&!!r.svgElement}function YU(r){return Rce(r)||GMe(r)}function kce(r){return r.type==="linear"}function Ice(r){return r.type==="radial"}function Oce(r){return r&&(r.type==="linear"||r.type==="radial")}function Fk(r){return"url(#"+r+")"}function Pce(r){var e=r.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function Fce(r){var e=r.x||0,t=r.y||0,n=(r.rotation||0)*wA,i=wr(r.scaleX,1),a=wr(r.scaleY,1),s=r.skewX||0,o=r.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),n&&l.push("rotate("+n+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(s||o)&&l.push("skew("+nL(s*wA)+"deg, "+nL(o*wA)+"deg)"),l.join(" ")}var WMe=(function(){return Un.hasGlobalWindow&&Tr(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}})(),g7=Array.prototype.slice;function Cm(r,e,t){return(e-r)*t+r}function RO(r,e,t,n){for(var i=e.length,a=0;a<i;a++)r[a]=Cm(e[a],t[a],n);return r}function YMe(r,e,t,n){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){r[s]||(r[s]=[]);for(var o=0;o<a;o++)r[s][o]=Cm(e[s][o],t[s][o],n)}return r}function CC(r,e,t,n){for(var i=e.length,a=0;a<i;a++)r[a]=e[a]+t[a]*n;return r}function yX(r,e,t,n){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){r[s]||(r[s]=[]);for(var o=0;o<a;o++)r[s][o]=e[s][o]+t[s][o]*n}return r}function qMe(r,e){for(var t=r.length,n=e.length,i=t>n?e:r,a=Math.min(t,n),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(t,n);o++)i.push({offset:s.offset,color:s.color.slice()})}function XMe(r,e,t){var n=r,i=e;if(!(!n.push||!i.push)){var a=n.length,s=i.length;if(a!==s){var o=a>s;if(o)n.length=s;else for(var l=a;l<s;l++)n.push(t===1?i[l]:g7.call(i[l]))}for(var c=n[0]&&n[0].length,l=0;l<n.length;l++)if(t===1)isNaN(n[l])&&(n[l]=i[l]);else for(var u=0;u<c;u++)isNaN(n[l][u])&&(n[l][u]=i[l][u])}}function CA(r){if(_c(r)){var e=r.length;if(_c(r[0])){for(var t=[],n=0;n<e;n++)t.push(g7.call(r[n]));return t}return g7.call(r)}return r}function lD(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function ZMe(r){return _c(r&&r[0])?2:1}var NC=0,cD=1,Bce=2,J5=3,x7=4,y7=5,bX=6;function _X(r){return r===x7||r===y7}function DC(r){return r===cD||r===Bce}var KT=[0,0,0,0],KMe=(function(){function r(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=bX,l=t;if(_c(t)){var c=ZMe(t);o=c,(c===1&&!Jn(t[0])||c===2&&!Jn(t[0][0]))&&(s=!0)}else if(Jn(t)&&!mc(t))o=NC;else if(fr(t))if(!isNaN(+t))o=NC;else{var u=ou(t);u&&(l=u,o=J5)}else if(OE(t)){var f=It({},l);f.colorStops=Gt(t.colorStops,function(h){return{offset:h.offset,color:ou(h.color)}}),kce(t)?o=x7:Ice(t)&&(o=y7),l=f}a===0?this.valType=o:(o!==this.valType||o===bX)&&(s=!0),this.discrete=this.discrete||s;var d={time:e,value:l,rawValue:t,percent:0};return n&&(d.easing=n,d.easingFunc=Tr(n)?n:EA[n]||GU(n)),i.push(d),d},r.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort(function(v,x){return v.time-x.time});for(var i=this.valType,a=n.length,s=n[a-1],o=this.discrete,l=DC(i),c=_X(i),u=0;u<a;u++){var f=n[u],d=f.value,h=s.value;f.percent=f.time/e,o||(l&&u!==a-1?XMe(d,h,i):c&&qMe(d.colorStops,h.colorStops))}if(!o&&i!==y7&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var p=n[0].value,u=0;u<a;u++)i===NC?n[u].additiveValue=n[u].value-p:i===J5?n[u].additiveValue=CC([],n[u].value,p,-1):DC(i)&&(n[u].additiveValue=i===cD?CC([],n[u].value,p,-1):yX([],n[u].value,p,-1))}},r.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,c=a===J5,u,f=this._lastFr,d=Math.min,h,p;if(o===1)h=p=s[0];else{if(t<0)u=0;else if(t<this._lastFrP){var v=d(f+1,o-1);for(u=v;u>=0&&!(s[u].percent<=t);u--);u=d(u,o-2)}else{for(u=f;u<o&&!(s[u].percent>t);u++);u=d(u-1,o-2)}p=s[u+1],h=s[u]}if(h&&p){this._lastFr=u,this._lastFrP=t;var x=p.percent-h.percent,g=x===0?1:d((t-h.percent)/x,1);p.easingFunc&&(g=p.easingFunc(g));var _=n?this._additiveValue:c?KT:e[l];if((DC(a)||c)&&!_&&(_=this._additiveValue=[]),this.discrete)e[l]=g<1?h.rawValue:p.rawValue;else if(DC(a))a===cD?RO(_,h[i],p[i],g):YMe(_,h[i],p[i],g);else if(_X(a)){var w=h[i],A=p[i],M=a===x7;e[l]={type:M?"linear":"radial",x:Cm(w.x,A.x,g),y:Cm(w.y,A.y,g),colorStops:Gt(w.colorStops,function(N,L){var D=A.colorStops[L];return{offset:Cm(N.offset,D.offset,g),color:lD(RO([],N.color,D.color,g))}}),global:A.global},M?(e[l].x2=Cm(w.x2,A.x2,g),e[l].y2=Cm(w.y2,A.y2,g)):e[l].r=Cm(w.r,A.r,g)}else if(c)RO(_,h[i],p[i],g),n||(e[l]=lD(_));else{var C=Cm(h[i],p[i],g);n?this._additiveValue=C:e[l]=C}n&&this._addToTarget(e)}}},r.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,i=this._additiveValue;t===NC?e[n]=e[n]+i:t===J5?(ou(e[n],KT),CC(KT,KT,i,1),e[n]=lD(KT)):t===cD?CC(e[n],e[n],i,1):t===Bce&&yX(e[n],e[n],i,1)},r})(),qU=(function(){function r(e,t,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){Rk("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(e){this._target=e},r.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,Wn(t),n)},r.prototype.whenWithKeys=function(e,t,n,i){for(var a=this._tracks,s=0;s<n.length;s++){var o=n[s],l=a[o];if(!l){l=a[o]=new KMe(o);var c=void 0,u=this._getAdditiveTrack(o);if(u){var f=u.keyframes,d=f[f.length-1];c=d&&d.value,u.valType===J5&&c&&(c=lD(c))}else c=this._target[o];if(c==null)continue;e>0&&l.addKeyframe(0,CA(c),i),this._trackKeys.push(o)}l.addKeyframe(e,CA(t[o]),i)}return this._maxTime=Math.max(this._maxTime,e),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},r.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},r.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(e);a&&(t=a)}return t},r.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),c=o.keyframes,u=c.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var f=c[u-1];f&&(t._target[o.propName]=f.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var d=new DMe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){t._started=2;var p=t._additiveAnimators;if(p){for(var v=!1,x=0;x<p.length;x++)if(p[x]._clip){v=!0;break}v||(t._additiveAnimators=null)}for(var x=0;x<n.length;x++)n[x].step(t._target,h);var g=t._onframeCbs;if(g)for(var x=0;x<g.length;x++)g[x](t._target,h)},ondestroy:function(){t._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),e&&d.setEasing(e)}else this._doneCallback();return this}},r.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},r.prototype.delay=function(e){return this._delay=e,this},r.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},r.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},r.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(e){return this._tracks[e]},r.prototype.getTracks=function(){var e=this;return Gt(this._trackKeys,function(t){return e._tracks[t]})},r.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var s=n[e[a]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},r.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[n?0:o.length-1];l&&(e[a]=CA(l.rawValue))}}}},r.prototype.__changeFinalValue=function(e,t){t=t||Wn(e);for(var n=0;n<t.length;n++){var i=t[n],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},r})();function gw(){return new Date().getTime()}var $Me=(function(r){$a(e,r);function e(t){var n=r.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var n=t.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(t){if(t.animation){var n=t.prev,i=t.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var n=t.getClip();n&&this.removeClip(n),t.animation=null},e.prototype.update=function(t){for(var n=gw()-this._pausedTime,i=n-this._time,a=this._head;a;){var s=a.next,o=a.step(n,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=n,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function n(){t._running&&(JD(n),!t._paused&&t.update())}JD(n)},e.prototype.start=function(){this._running||(this._time=gw(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=gw(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=gw()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var n=t.next;t.prev=t.next=t.animation=null,t=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,n){n=n||{},this.start();var i=new qU(t,n.loop);return this.addAnimator(i),i},e})(Vd),JMe=300,kO=Un.domSupported,IO=(function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Gt(r,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i});return{mouse:r,touch:e,pointer:n}})(),wX={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},SX=!1;function b7(r){var e=r.pointerType;return e==="pen"||e==="touch"}function QMe(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function OO(r){r&&(r.zrByTouch=!0)}function eCe(r,e){return _d(r.dom,new tCe(r,e),!0)}function zce(r,e){for(var t=e,n=!1;t&&t.nodeType!==9&&!(n=t.domBelongToZr||t!==e&&t===r.painterRoot);)t=t.parentNode;return n}var tCe=(function(){function r(e,t){this.stopPropagation=Ws,this.stopImmediatePropagation=Ws,this.preventDefault=Ws,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return r})(),Np={mousedown:function(r){r=_d(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=_d(this.dom,r);var e=this.__mayPointerCapture;e&&(r.zrX!==e[0]||r.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=_d(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=_d(this.dom,r);var e=r.toElement||r.relatedTarget;zce(this,e)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){SX=!0,r=_d(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){SX||(r=_d(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=_d(this.dom,r),OO(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),Np.mousemove.call(this,r),Np.mousedown.call(this,r)},touchmove:function(r){r=_d(this.dom,r),OO(r),this.handler.processGesture(r,"change"),Np.mousemove.call(this,r)},touchend:function(r){r=_d(this.dom,r),OO(r),this.handler.processGesture(r,"end"),Np.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<JMe&&Np.click.call(this,r)},pointerdown:function(r){Np.mousedown.call(this,r)},pointermove:function(r){b7(r)||Np.mousemove.call(this,r)},pointerup:function(r){Np.mouseup.call(this,r)},pointerout:function(r){b7(r)||Np.mouseout.call(this,r)}};he(["click","dblclick","contextmenu"],function(r){Np[r]=function(e){e=_d(this.dom,e),this.trigger(r,e)}});var _7={pointermove:function(r){b7(r)||_7.mousemove.call(this,r)},pointerup:function(r){_7.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),e&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function rCe(r,e){var t=e.domHandlers;Un.pointerEventsSupported?he(IO.pointer,function(n){uD(e,n,function(i){t[n].call(r,i)})}):(Un.touchEventsSupported&&he(IO.touch,function(n){uD(e,n,function(i){t[n].call(r,i),QMe(e)})}),he(IO.mouse,function(n){uD(e,n,function(i){i=HU(i),e.touching||t[n].call(r,i)})}))}function nCe(r,e){Un.pointerEventsSupported?he(wX.pointer,t):Un.touchEventsSupported||he(wX.mouse,t);function t(n){function i(a){a=HU(a),zce(r,a.target)||(a=eCe(r,a),e.domHandlers[n].call(r,a))}uD(e,n,i,{capture:!0})}}function uD(r,e,t,n){r.mounted[e]=t,r.listenerOpts[e]=n,u7(r.domTarget,e,t,n)}function PO(r){var e=r.mounted;for(var t in e)e.hasOwnProperty(t)&&uMe(r.domTarget,t,e[t],r.listenerOpts[t]);r.mounted={}}var TX=(function(){function r(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return r})(),iCe=(function(r){$a(e,r);function e(t,n){var i=r.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=n,i._localHandlerScope=new TX(t,Np),kO&&(i._globalHandlerScope=new TX(document,_7)),rCe(i,i._localHandlerScope),i}return e.prototype.dispose=function(){PO(this._localHandlerScope),kO&&PO(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,kO&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var n=this._globalHandlerScope;t?nCe(this,n):PO(n)}},e})(Vd),jce=1;Un.hasGlobalWindow&&(jce=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var iL=jce,w7=.4,S7="#333",T7="#ccc",aCe="#eee",AX=BE,EX=5e-5;function u1(r){return r>EX||r<-EX}var f1=[],u_=[],FO=wl(),BO=Math.abs,zm=(function(){function r(){}return r.prototype.getLocalTransform=function(e){return r.getLocalTransform(this,e)},r.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},r.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},r.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},r.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},r.prototype.needLocalTransform=function(){return u1(this.rotation)||u1(this.x)||u1(this.y)||u1(this.scaleX-1)||u1(this.scaleY-1)||u1(this.skewX)||u1(this.skewY)},r.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;if(!(t||e)){n&&(AX(n),this.invTransform=null);return}n=n||wl(),t?this.getLocalTransform(n):AX(n),e&&(t?Vp(n,e,n):zE(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},r.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(f1);var n=f1[0]<0?-1:1,i=f1[1]<0?-1:1,a=((f1[0]-n)*t+n)/f1[0]||0,s=((f1[1]-i)*t+i)/f1[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||wl(),Fd(this.invTransform,e)},r.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},r.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||wl(),Vp(u_,e.invTransform,t),t=u_);var n=this.originX,i=this.originY;(n||i)&&(FO[4]=n,FO[5]=i,Vp(u_,t,FO),u_[4]-=n,u_[5]-=i,t=u_),this.setLocalTransform(t)}},r.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},r.prototype.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&Ys(n,n,i),n},r.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&Ys(n,n,i),n},r.prototype.getLineScale=function(){var e=this.transform;return e&&BO(e[0]-1)>1e-10&&BO(e[3]-1)>1e-10?Math.sqrt(BO(e[0]*e[3]-e[2]*e[1])):1},r.prototype.copyTransform=function(e){aL(this,e)},r.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,f=e.y,d=e.skewX?Math.tan(e.skewX):0,h=e.skewY?Math.tan(-e.skewY):0;if(n||i||o||l){var p=n+o,v=i+l;t[4]=-p*a-d*v*s,t[5]=-v*s-h*p*a}else t[4]=t[5]=0;return t[0]=a,t[3]=s,t[1]=h*a,t[2]=d*s,c&&xg(t,t,c),t[4]+=n+u,t[5]+=i+f,t},r.initDefaultProps=(function(){var e=r.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0})(),r})(),mv=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function aL(r,e){for(var t=0;t<mv.length;t++){var n=mv[t];r[n]=e[n]}}function lv(r){LC||(LC=new Jw(100)),r=r||tg;var e=LC.get(r);return e||(e={font:r,strWidthCache:new Jw(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:Yf.measureText("",r).width,asciiCharWidth:Yf.measureText("a",r).width},LC.put(r,e)),e}var LC;function sCe(r){if(!(zO>=MX)){r=r||tg;for(var e=[],t=+new Date,n=0;n<=127;n++)e[n]=Yf.measureText(String.fromCharCode(n),r).width;var i=+new Date-t;return i>16?zO=MX:i>2&&zO++,e}}var zO=0,MX=5;function Uce(r,e){return r.asciiWidthMapTried||(r.asciiWidthMap=sCe(r.font),r.asciiWidthMapTried=!0),0<=e&&e<=127?r.asciiWidthMap!=null?r.asciiWidthMap[e]:r.asciiCharWidth:r.stWideCharWidth}function cv(r,e){var t=r.strWidthCache,n=t.get(e);return n==null&&(n=Yf.measureText(e,r.font).width,t.put(e,n)),n}function CX(r,e,t,n){var i=cv(lv(e),r),a=jE(e),s=Qw(0,i,t),o=D2(0,a,n),l=new Br(s,o,i,a);return l}function Bk(r,e,t,n){var i=((r||"")+"").split(`
`),a=i.length;if(a===1)return CX(i[0],e,t,n);for(var s=new Br(0,0,0,0),o=0;o<i.length;o++){var l=CX(i[o],e,t,n);o===0?s.copy(l):s.union(l)}return s}function Qw(r,e,t,n){return t==="right"?n?r+=e:r-=e:t==="center"&&(n?r+=e/2:r-=e/2),r}function D2(r,e,t,n){return t==="middle"?n?r+=e/2:r-=e/2:t==="bottom"&&(n?r+=e:r-=e),r}function jE(r){return lv(r).stWideCharWidth}function Kp(r,e){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*e:parseFloat(r):r}function sL(r,e,t){var n=e.position||"inside",i=e.distance!=null?e.distance:5,a=t.height,s=t.width,o=a/2,l=t.x,c=t.y,u="left",f="top";if(n instanceof Array)l+=Kp(n[0],t.width),c+=Kp(n[1],t.height),u=null,f=null;else switch(n){case"left":l-=i,c+=o,u="right",f="middle";break;case"right":l+=i+s,c+=o,f="middle";break;case"top":l+=s/2,c-=i,u="center",f="bottom";break;case"bottom":l+=s/2,c+=a+i,u="center";break;case"inside":l+=s/2,c+=o,u="center",f="middle";break;case"insideLeft":l+=i,c+=o,f="middle";break;case"insideRight":l+=s-i,c+=o,u="right",f="middle";break;case"insideTop":l+=s/2,c+=i,u="center";break;case"insideBottom":l+=s/2,c+=a-i,u="center",f="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=s-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=a-i,f="bottom";break;case"insideBottomRight":l+=s-i,c+=a-i,u="right",f="bottom";break}return r=r||{},r.x=l,r.y=c,r.align=u,r.verticalAlign=f,r}var jO="__zr_normal__",UO=mv.concat(["ignore"]),oCe=Pd(mv,function(r,e){return r[e]=!0,r},{ignore:!1}),f_={},lCe=new Br(0,0,0,0),RC=[],zk=(function(){function r(e){this.id=zU(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return r.prototype._init=function(e){this.attr(e)},r.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=t.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var c=!1;a.copyTransform(t);var u=n.position!=null,f=n.autoOverflowArea,d=void 0;if((f||u)&&(d=lCe,n.layoutRect?d.copy(n.layoutRect):d.copy(this.getBoundingRect()),i||d.applyTransform(this.transform)),u){this.calculateTextPosition?this.calculateTextPosition(f_,n,d):sL(f_,n,d),a.x=f_.x,a.y=f_.y,s=f_.align,o=f_.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var p=void 0,v=void 0;h==="center"?(p=d.width*.5,v=d.height*.5):(p=Kp(h[0],d.width),v=Kp(h[1],d.height)),c=!0,a.originX=-a.x+p+(i?0:d.x),a.originY=-a.y+v+(i?0:d.y)}}n.rotation!=null&&(a.rotation=n.rotation);var x=n.offset;x&&(a.x+=x[0],a.y+=x[1],c||(a.originX=-x[0],a.originY=-x[1]));var g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var _=g.overflowRect=g.overflowRect||new Br(0,0,0,0);a.getLocalTransform(RC),Fd(RC,RC),Br.copy(_,d),_.applyTransform(RC)}else g.overflowRect=null;var w=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,A=void 0,M=void 0,C=void 0;w&&this.canBeInsideText()?(A=n.insideFill,M=n.insideStroke,(A==null||A==="auto")&&(A=this.getInsideTextFill()),(M==null||M==="auto")&&(M=this.getInsideTextStroke(A),C=!0)):(A=n.outsideFill,M=n.outsideStroke,(A==null||A==="auto")&&(A=this.getOutsideFill()),(M==null||M==="auto")&&(M=this.getOutsideStroke(A),C=!0)),A=A||"#000",(A!==g.fill||M!==g.stroke||C!==g.autoStroke||s!==g.align||o!==g.verticalAlign)&&(l=!0,g.fill=A,g.stroke=M,g.autoStroke=C,g.align=s,g.verticalAlign=o,t.setDefaultTextStyle(g)),t.__dirty|=Ah,l&&t.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(e){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?T7:S7},r.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n=typeof t=="string"&&ou(t);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*i+(a?0:255)*(1-i);return n[3]=1,Rd(n,"rgba")},r.prototype.traverse=function(e,t){},r.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},It(this.extra,t)):this[e]=t},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(kr(e))for(var n=e,i=Wn(n),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,e[s])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==jO)){var s=i.targetName,o=s?t[s]:t;i.saveTo(o)}}},r.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,UO)},r.prototype._savePrimaryToNormal=function(e,t,n){for(var i=0;i<n.length;i++){var a=n[i];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(e){return this.states[e]},r.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},r.prototype.clearStates=function(e){this.useState(jO,!1,e)},r.prototype.useState=function(e,t,n,i){var a=e===jO,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(hn(o,e)>=0&&(t||o.length===1))){var c;if(this.stateProxy&&!a&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!a){Rk("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,t,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(e,t,n,u),d&&d.useState(e,t,n,u),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ah),c}}},r.prototype.useStates=function(e,t,n){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(e[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&i.push(u)}var f=i[s-1],d=!!(f&&f.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var v=this._textContent,x=this._textGuide;v&&v.useStates(e,t,d),x&&x.useStates(e,t,d),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ah)}},r.prototype.isSilent=function(){for(var e=this;e;){if(e.silent)return!0;var t=e.__hostTarget;e=t?e.ignoreHostSilent?null:t:e.parent}return!1},r.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},r.prototype.removeState=function(e){var t=hn(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},r.prototype.replaceState=function(e,t,n){var i=this.currentStates.slice(),a=hn(i,e),s=hn(i,t)>=0;a>=0?s?i.splice(a,1):i[a]=t:n&&!s&&i.push(t),this.useStates(i)},r.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},r.prototype._mergeStates=function(e){for(var t={},n,i=0;i<e.length;i++){var a=e[i];It(t,a),a.textConfig&&(n=n||{},It(n,a.textConfig))}return n&&(t.textConfig=n),t},r.prototype._applyStateObj=function(e,t,n,i,a,s){var o=!(t&&i);t&&t.textConfig?(this.textConfig=It({},i?this.textConfig:n.textConfig),It(this.textConfig,t.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},c=!1,u=0;u<UO.length;u++){var f=UO[u],d=a&&oCe[f];t&&t[f]!=null?d?(c=!0,l[f]=t[f]):this[f]=t[f]:o&&n[f]!=null&&(d?(c=!0,l[f]=n[f]):this[f]=n[f])}if(!a)for(var u=0;u<this.animators.length;u++){var h=this.animators[u],p=h.targetName;h.getLoop()||h.__changeFinalValue(p?(t||n)[p]:t||n)}c&&this._transitionState(e,l,s)},r.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},r.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},r.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new zm,this._attachComponent(e),this._textContent=e,this.markRedraw())},r.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),It(this.textConfig,e),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=Ah;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},r.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},r.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},r.prototype.animate=function(e,t,n){var i=e?this[e]:this,a=new qU(i,t,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},r.prototype.addAnimator=function(e,t){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,s=hn(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},r.prototype.updateDuringAnimation=function(e){this.markRedraw()},r.prototype.stopAnimation=function(e,t){for(var n=this.animators,i=n.length,a=[],s=0;s<i;s++){var o=n[s];!e||e===o.scope?o.stop(t):a.push(o)}return this.animators=a,this},r.prototype.animateTo=function(e,t,n){VO(this,e,t,n)},r.prototype.animateFrom=function(e,t,n){VO(this,e,t,n,!0)},r.prototype._transitionState=function(e,t,n,i){for(var a=VO(this,t,n,i),s=0;s<a.length;s++)a[s].__fromStateTransition=e},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=(function(){var e=r.prototype;e.type="element",e.name="",e.ignore=e.silent=e.ignoreHostSilent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Ah;function t(n,i,a,s){Object.defineProperty(e,n,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,c){Object.defineProperty(c,0,{get:function(){return l[a]},set:function(u){l[a]=u}}),Object.defineProperty(c,1,{get:function(){return l[s]},set:function(u){l[s]=u}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))})(),r})();qs(zk,Vd);qs(zk,zm);function VO(r,e,t,n,i){t=t||{};var a=[];Vce(r,"",r,e,t,n,a,i);var s=a.length,o=!1,l=t.done,c=t.aborted,u=function(){o=!0,s--,s<=0&&(o?l&&l():c&&c())},f=function(){s--,s<=0&&(o?l&&l():c&&c())};s||l&&l(),a.length>0&&t.during&&a[0].during(function(p,v){t.during(v)});for(var d=0;d<a.length;d++){var h=a[d];u&&h.done(u),f&&h.aborted(f),t.force&&h.duration(t.duration),h.start(t.easing)}return a}function HO(r,e,t){for(var n=0;n<t;n++)r[n]=e[n]}function cCe(r){return _c(r[0])}function uCe(r,e,t){if(_c(e[t]))if(_c(r[t])||(r[t]=[]),Ju(e[t])){var n=e[t].length;r[t].length!==n&&(r[t]=new e[t].constructor(n),HO(r[t],e[t],n))}else{var i=e[t],a=r[t],s=i.length;if(cCe(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?HO(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else HO(a,i,s);a.length=i.length}else r[t]=e[t]}function fCe(r,e){return r===e||_c(r)&&_c(e)&&hCe(r,e)}function hCe(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}function Vce(r,e,t,n,i,a,s,o){for(var l=Wn(n),c=i.duration,u=i.delay,f=i.additive,d=i.setToFinal,h=!kr(a),p=r.animators,v=[],x=0;x<l.length;x++){var g=l[x],_=n[g];if(_!=null&&t[g]!=null&&(h||a[g]))if(kr(_)&&!_c(_)&&!OE(_)){if(e){o||(t[g]=_,r.updateDuringAnimation(e));continue}Vce(r,g,t[g],_,i,a&&a[g],s,o)}else v.push(g);else o||(t[g]=_,r.updateDuringAnimation(e),v.push(g))}var w=v.length;if(!f&&w)for(var A=0;A<p.length;A++){var M=p[A];if(M.targetName===e){var C=M.stopTracks(v);if(C){var N=hn(p,M);p.splice(N,1)}}}if(i.force||(v=bi(v,function(O){return!fCe(n[O],t[O])}),w=v.length),w>0||i.force&&!s.length){var L=void 0,D=void 0,k=void 0;if(o){D={},d&&(L={});for(var A=0;A<w;A++){var g=v[A];D[g]=t[g],d?L[g]=n[g]:t[g]=n[g]}}else if(d){k={};for(var A=0;A<w;A++){var g=v[A];k[g]=CA(t[g]),uCe(t,n,g)}}var M=new qU(t,!1,!1,f?bi(p,function(I){return I.targetName===e}):null);M.targetName=e,i.scope&&(M.scope=i.scope),d&&L&&M.whenWithKeys(0,L,v),k&&M.whenWithKeys(0,k,v),M.whenWithKeys(c??500,o?D:n,v).delay(u||0),r.addAnimator(M,e),s.push(M)}}var Nr=(function(r){$a(e,r);function e(t){var n=r.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===t)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,n){if(t&&t!==this&&t.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,n){var i=hn(this._children,t);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(t,n){var i=this._children,a=i[n];if(t&&t!==this&&t.parent!==this&&t!==a){i[n]=t,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var n=this.__zr;n&&n!==t.__zr&&t.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(t){var n=this.__zr,i=this._children,a=hn(i,t);return a<0?this:(i.splice(a,1),t.parent=null,n&&t.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,n=this.__zr,i=0;i<t.length;i++){var a=t[i];n&&a.removeSelfFromZr(n),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,n){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];t.call(n,s,a)}return this},e.prototype.traverse=function(t,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=t.call(n,a);a.isGroup&&!s&&a.traverse(t,n)}return this},e.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var n=new Br(0,0,0,0),i=t||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(a);u?(Br.applyTransform(n,c,u),s=s||n.clone(),s.union(n)):(s=s||c.clone(),s.union(c))}}return s||n},e})(zk);Nr.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var fD={},m2={};function dCe(r){delete m2[r]}function pCe(r){if(!r)return!1;if(typeof r=="string")return _3(r,1)<w7;if(r.colorStops){for(var e=r.colorStops,t=0,n=e.length,i=0;i<n;i++)t+=_3(e[i].color,1);return t/=n,t<w7}return!1}var vCe=(function(){function r(e,t,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var a=new AMe,s=n.renderer||"canvas";fD[s]||(s=Wn(fD)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new fD[s](t,a,n,e),l=n.ssr||o.ssrOnly;this.storage=a,this.painter=o;var c=!Un.node&&!Un.worker&&!l?new iCe(o.getViewportRoot(),o.root):null,u=n.useCoarsePointer,f=u==null||u==="auto"?Un.touchEventsSupported:!!u,d=44,h;f&&(h=wr(n.pointerSize,d)),this.handler=new _ce(a,o,c,o.root,h),this.animation=new $Me({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return r.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},r.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},r.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=pCe(e))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(e){this._darkMode=e},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(e){var t,n=gw();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=gw();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},r.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},r.prototype.on=function(e,t,n){return this._disposed||this.handler.on(e,t,n),this},r.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},r.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},r.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Nr&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,dCe(this.id))},r})();function A7(r,e){var t=new vCe(zU(),r,e);return m2[t.id]=t,t}function mCe(r){r.dispose()}function gCe(){for(var r in m2)m2.hasOwnProperty(r)&&m2[r].dispose();m2={}}function xCe(r){return m2[r]}function Hce(r,e){fD[r]=e}var E7;function Gce(r){if(typeof E7=="function")return E7(r)}function Wce(r){E7=r}var yCe="6.0.0";const bCe=Object.freeze(Object.defineProperty({__proto__:null,dispose:mCe,disposeAll:gCe,getElementSSRData:Gce,getInstance:xCe,init:A7,registerPainter:Hce,registerSSRDataGetter:Wce,version:yCe},Symbol.toStringTag,{value:"Module"}));var NX=1e-4,Yce=20;function _Ce(r){return r.replace(/^\s+|\s+$/g,"")}var Oh=Math.min,po=Math.max,Q0=Math.abs;function Ti(r,e,t,n){var i=e[0],a=e[1],s=t[0],o=t[1],l=a-i,c=o-s;if(l===0)return c===0?s:(s+o)/2;if(n)if(l>0){if(r<=i)return s;if(r>=a)return o}else{if(r>=i)return s;if(r<=a)return o}else{if(r===i)return s;if(r===a)return o}return(r-i)/l*c+s}var ur=wCe;function wCe(r,e,t){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return oL(r,e,t)}function oL(r,e,t){return fr(r)?_Ce(r).match(/%$/)?parseFloat(r)/100*e+(t||0):parseFloat(r):r==null?NaN:+r}function vo(r,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),Yce),r=(+r).toFixed(e),t?r:+r}function Dh(r){return r.sort(function(e,t){return e-t}),r}function Pp(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(r*e)/e===r)return t}return qce(r)}function qce(r){var e=r.toString().toLowerCase(),t=e.indexOf("e"),n=t>0?+e.slice(t+1):0,i=t>0?t:e.length,a=e.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-n)}function XU(r,e){var t=Math.log,n=Math.LN10,i=Math.floor(t(r[1]-r[0])/n),a=Math.round(t(Q0(e[1]-e[0]))/n),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function SCe(r,e,t){if(!r[e])return 0;var n=Xce(r,t);return n[e]||0}function Xce(r,e){var t=Pd(r,function(h,p){return h+(isNaN(p)?0:p)},0);if(t===0)return[];for(var n=Math.pow(10,e),i=Gt(r,function(h){return(isNaN(h)?0:h)/t*n*100}),a=n*100,s=Gt(i,function(h){return Math.floor(h)}),o=Pd(s,function(h,p){return h+p},0),l=Gt(i,function(h,p){return h-s[p]});o<a;){for(var c=Number.NEGATIVE_INFINITY,u=null,f=0,d=l.length;f<d;++f)l[f]>c&&(c=l[f],u=f);++s[u],l[u]=0,++o}return Gt(s,function(h){return h/n})}function TCe(r,e){var t=Math.max(Pp(r),Pp(e)),n=r+e;return t>Yce?n:vo(n,t)}var M7=9007199254740991;function ZU(r){var e=Math.PI*2;return(r%e+e)%e}function eS(r){return r>-NX&&r<NX}var ACe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Av(r){if(r instanceof Date)return r;if(fr(r)){var e=ACe.exec(r);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function Zce(r){return Math.pow(10,jk(r))}function jk(r){if(r===0)return 0;var e=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,e)>=10&&e++,e}function KU(r,e){var t=jk(r),n=Math.pow(10,t),i=r/n,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,r=a*n,t>=-20?+r.toFixed(t<0?-t:0):r}function hD(r,e){var t=(r.length-1)*e+1,n=Math.floor(t),i=+r[n-1],a=t-n;return a?i+a*(r[n]-i):i}function C7(r){r.sort(function(l,c){return o(l,c,0)?-1:1});for(var e=-1/0,t=1,n=0;n<r.length;){for(var i=r[n].interval,a=r[n].close,s=0;s<2;s++)i[s]<=e&&(i[s]=e,a[s]=s?1:1-t),e=i[s],t=a[s];i[0]===i[1]&&a[0]*a[1]!==1?r.splice(n,1):n++}return r;function o(l,c,u){return l.interval[u]<c.interval[u]||l.interval[u]===c.interval[u]&&(l.close[u]-c.close[u]===(u?-1:1)||!u&&o(l,c,1))}}function gv(r){var e=parseFloat(r);return e==r&&(e!==0||!fr(r)||r.indexOf("x")<=0)?e:NaN}function $U(r){return!isNaN(gv(r))}function Kce(){return Math.round(Math.random()*9)}function $ce(r,e){return e===0?r:$ce(e,r%e)}function DX(r,e){return r==null?e:e==null?r:r*e/$ce(r,e)}var ECe="[ECharts] ",MCe=typeof console<"u"&&console.warn&&console.log;function CCe(r,e,t){MCe&&console[r](ECe+e)}function Jce(r,e){CCe("error",r)}function Ai(r){throw new Error(r)}function LX(r,e,t){return(e-r)*t+r}var Qce="series\0",eue="\0_ec_\0";function Ta(r){return r instanceof Array?r:r==null?[]:[r]}function q2(r,e,t){if(r){r[e]=r[e]||{},r.emphasis=r.emphasis||{},r.emphasis[e]=r.emphasis[e]||{};for(var n=0,i=t.length;n<i;n++){var a=t[n];!r.emphasis[e].hasOwnProperty(a)&&r[e].hasOwnProperty(a)&&(r.emphasis[e][a]=r[e][a])}}}var RX=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function PS(r){return kr(r)&&!Ut(r)&&!(r instanceof Date)?r.value:r}function NCe(r){return kr(r)&&!(r instanceof Array)}function tue(r,e,t){var n=t==="normalMerge",i=t==="replaceMerge",a=t==="replaceAll";r=r||[],e=(e||[]).slice();var s=br();he(e,function(l,c){if(!kr(l)){e[c]=null;return}});var o=DCe(r,s,t);return(n||i)&&LCe(o,r,s,e),n&&RCe(o,e),n||i?kCe(o,e,i):a&&ICe(o,e),OCe(o),o}function DCe(r,e,t){var n=[];if(t==="replaceAll")return n;for(var i=0;i<r.length;i++){var a=r[i];a&&a.id!=null&&e.set(a.id,i),n.push({existing:t==="replaceMerge"||S3(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function LCe(r,e,t,n){he(n,function(i,a){if(!(!i||i.id==null)){var s=NA(i.id),o=t.get(s);if(o!=null){var l=r[o];wc(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=e[o],n[a]=null}}})}function RCe(r,e){he(e,function(t,n){if(!(!t||t.name==null))for(var i=0;i<r.length;i++){var a=r[i].existing;if(!r[i].newOption&&a&&(a.id==null||t.id==null)&&!S3(t)&&!S3(a)&&rue("name",a,t)){r[i].newOption=t,e[n]=null;return}}})}function kCe(r,e,t){he(e,function(n){if(n){for(var i,a=0;(i=r[a])&&(i.newOption||S3(i.existing)||i.existing&&n.id!=null&&!rue("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=t):r.push({newOption:n,brandNew:t,existing:null,keyInfo:null}),a++}})}function ICe(r,e){he(e,function(t){r.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function OCe(r){var e=br();he(r,function(t){var n=t.existing;n&&e.set(n.id,t)}),he(r,function(t){var n=t.newOption;wc(!n||n.id==null||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),he(r,function(t,n){var i=t.existing,a=t.newOption,s=t.keyInfo;if(kr(a)){if(s.name=a.name!=null?NA(a.name):i?i.name:Qce+n,i)s.id=NA(i.id);else if(a.id!=null)s.id=NA(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,t)}})}function rue(r,e,t){var n=rl(e[r],null),i=rl(t[r],null);return n!=null&&i!=null&&n===i}function NA(r){return rl(r,"")}function rl(r,e){return r==null?e:fr(r)?r:Jn(r)||XD(r)?r+"":e}function JU(r){var e=r.name;return!!(e&&e.indexOf(Qce))}function S3(r){return r&&r.id!=null&&NA(r.id).indexOf(eue)===0}function PCe(r){return eue+r}function FCe(r,e,t){he(r,function(n){var i=n.newOption;kr(i)&&(n.keyInfo.mainType=e,n.keyInfo.subType=BCe(e,i,n.existing,t))})}function BCe(r,e,t,n){var i=e.type?e.type:t?t.subType:n.determineSubType(r,e);return i}function zCe(r,e){var t={},n={};return i(r||[],t),i(e||[],n,t),[a(t),a(n)];function i(s,o,l){for(var c=0,u=s.length;c<u;c++){var f=rl(s[c].seriesId,null);if(f==null)return;for(var d=Ta(s[c].dataIndex),h=l&&l[f],p=0,v=d.length;p<v;p++){var x=d[p];h&&h[x]?h[x]=null:(o[f]||(o[f]={}))[x]=1}}}function a(s,o){var l=[];for(var c in s)if(s.hasOwnProperty(c)&&s[c]!=null)if(o)l.push(+c);else{var u=a(s[c],!0);u.length&&l.push({seriesId:c,dataIndex:u})}return l}}function X2(r,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Ut(e.dataIndex)?Gt(e.dataIndex,function(t){return r.indexOfRawIndex(t)}):r.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Ut(e.name)?Gt(e.name,function(t){return r.indexOfName(t)}):r.indexOfName(e.name)}function Mn(){var r="__ec_inner_"+jCe++;return function(e){return e[r]||(e[r]={})}}var jCe=Kce();function zw(r,e,t){var n=QU(e,t),i=n.mainTypeSpecified,a=n.queryOptionMap,s=n.others,o=s,l=t?t.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(c,u){var f=FS(r,u,c,{useDefault:l===u,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});o[u+"Models"]=f.models,o[u+"Model"]=f.models[0]}),o}function QU(r,e){var t;if(fr(r)){var n={};n[r+"Index"]=0,t=n}else t=r;var i=br(),a={},s=!1;return he(t,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],f=(c[2]||"").toLowerCase();if(!(!u||!f||e&&e.includeMainTypes&&hn(e.includeMainTypes,u)<0)){s=s||!!u;var d=i.get(u)||i.set(u,{});d[f]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var Ls={useDefault:!0,enableAll:!1,enableNone:!1},UCe={useDefault:!1,enableAll:!0,enableNone:!0};function FS(r,e,t,n){n=n||Ls;var i=t.index,a=t.id,s=t.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=r.getComponent(e))?[l]:[],o}if(i==="none"||i===!1){if(n.enableNone)return o.models=[],o;i=-1}return i==="all"&&(n.enableAll?i=a=s=null:i=-1),o.models=r.queryComponents({mainType:e,index:i,id:a,name:s}),o}function nue(r,e,t){r.setAttribute?r.setAttribute(e,t):r[e]=t}function VCe(r,e){return r.getAttribute?r.getAttribute(e):r[e]}function HCe(r){return r==="auto"?Un.domSupported?"html":"richText":r||"html"}function N7(r,e){var t=br(),n=[];return he(r,function(i){var a=e(i);(t.get(a)||(n.push(a),t.set(a,[]))).push(i)}),{keys:n,buckets:t}}function iue(r,e,t,n,i){var a=e==null||e==="auto";if(n==null)return n;if(Jn(n)){var s=LX(t||0,n,i);return vo(s,a?Math.max(Pp(t||0),Pp(n)):e)}else{if(fr(n))return i<1?t:n;for(var o=[],l=t,c=n,u=Math.max(l?l.length:0,c.length),f=0;f<u;++f){var d=r.getDimensionInfo(f);if(d&&d.type==="ordinal")o[f]=(i<1&&l?l:c)[f];else{var h=l&&l[f]?l[f]:0,p=c[f],s=LX(h,p,i);o[f]=vo(s,a?Math.max(Pp(h),Pp(p)):e)}}return o}}var Zx=(function(){function r(){}return r.prototype.reset=function(e,t,n,i){return this._list=e,this._step=i=i||1,this._idx=t,this._end=n??(i>0?e.length:0),this.item=null,this.key=NaN,this},r.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},r})();function GO(r){r.option=r.parentModel=r.ecModel=null}var GCe=".",h1="___EC__COMPONENT__CONTAINER___",aue="___EC__EXTENDED_CLASS___";function ev(r){var e={main:"",sub:""};if(r){var t=r.split(GCe);e.main=t[0]||"",e.sub=t[1]||""}return e}function WCe(r){wc(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function YCe(r){return!!(r&&r[aue])}function e9(r,e){r.$constructor=r,r.extend=function(t){var n=this,i;return qCe(n)?i=(function(a){dt(s,a);function s(){return a.apply(this,arguments)||this}return s})(n):(i=function(){(t.$constructor||n).apply(this,arguments)},jU(i,this)),It(i.prototype,t),i[aue]=!0,i.extend=this.extend,i.superCall=KCe,i.superApply=$Ce,i.superClass=n,i}}function qCe(r){return Tr(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function sue(r,e){r.extend=e.extend}var XCe=Math.round(Math.random()*10);function ZCe(r){var e=["__\0is_clz",XCe++].join("_");r.prototype[e]=!0,r.isInstance=function(t){return!!(t&&t[e])}}function KCe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return this.superClass.prototype[e].apply(r,t)}function $Ce(r,e,t){return this.superClass.prototype[e].apply(r,t)}function Uk(r){var e={};r.registerClass=function(n){var i=n.type||n.prototype.type;if(i){WCe(i),n.prototype.type=i;var a=ev(i);if(!a.sub)e[a.main]=n;else if(a.sub!==h1){var s=t(a);s[a.sub]=n}}return n},r.getClass=function(n,i,a){var s=e[n];if(s&&s[h1]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return s},r.getClassesByMainType=function(n){var i=ev(n),a=[],s=e[i.main];return s&&s[h1]?he(s,function(o,l){l!==h1&&a.push(o)}):a.push(s),a},r.hasClass=function(n){var i=ev(n);return!!e[i.main]},r.getAllClassMainTypes=function(){var n=[];return he(e,function(i,a){n.push(a)}),n},r.hasSubTypes=function(n){var i=ev(n),a=e[i.main];return a&&a[h1]};function t(n){var i=e[n.main];return(!i||!i[h1])&&(i=e[n.main]={},i[h1]=!0),i}}function Z2(r,e){for(var t=0;t<r.length;t++)r[t][1]||(r[t][1]=r[t][0]);return e=e||!1,function(n,i,a){for(var s={},o=0;o<r.length;o++){var l=r[o][1];if(!(i&&hn(i,l)>=0||a&&hn(a,l)<0)){var c=n.getShallow(l,e);c!=null&&(s[r[o][0]]=c)}}return s}}var JCe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],QCe=Z2(JCe),eNe=(function(){function r(){}return r.prototype.getAreaStyle=function(e,t){return QCe(this,e,t)},r})(),D7=new Jw(50);function tNe(r){if(typeof r=="string"){var e=D7.get(r);return e&&e.image}else return r}function t9(r,e,t,n,i){if(r)if(typeof r=="string"){if(e&&e.__zrImageSrc===r||!t)return e;var a=D7.get(r),s={hostEl:t,cb:n,cbPayload:i};return a?(e=a.image,!Vk(e)&&a.pending.push(s)):(e=Yf.loadImage(r,kX,kX),e.__zrImageSrc=r,D7.put(r,e.__cachedImgObj={image:e,pending:[s]})),e}else return r;else return e}function kX(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<r.pending.length;e++){var t=r.pending[e],n=t.cb;n&&n(this,t.cbPayload),t.hostEl.dirty()}r.pending.length=0}function Vk(r){return r&&r.width&&r.height}var WO=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function rNe(r,e,t,n,i){var a={};return oue(a,r,e,t,n,i),a.text}function oue(r,e,t,n,i,a){if(!t){r.text="",r.isTruncated=!1;return}var s=(e+"").split(`
`);a=lue(t,n,i,a);for(var o=!1,l={},c=0,u=s.length;c<u;c++)cue(l,s[c],a),s[c]=l.textLine,o=o||l.isTruncated;r.text=s.join(`
`),r.isTruncated=o}function lue(r,e,t,n){n=n||{};var i=It({},n);t=wr(t,"..."),i.maxIterations=wr(n.maxIterations,2);var a=i.minChar=wr(n.minChar,0),s=i.fontMeasureInfo=lv(e),o=s.asciiCharWidth;i.placeholder=wr(n.placeholder,"");for(var l=r=Math.max(0,r-1),c=0;c<a&&l>=o;c++)l-=o;var u=cv(s,t);return u>l&&(t="",u=0),l=r-u,i.ellipsis=t,i.ellipsisWidth=u,i.contentWidth=l,i.containerWidth=r,i}function cue(r,e,t){var n=t.containerWidth,i=t.contentWidth,a=t.fontMeasureInfo;if(!n){r.textLine="",r.isTruncated=!1;return}var s=cv(a,e);if(s<=n){r.textLine=e,r.isTruncated=!1;return}for(var o=0;;o++){if(s<=i||o>=t.maxIterations){e+=t.ellipsis;break}var l=o===0?nNe(e,i,a):s>0?Math.floor(e.length*i/s):0;e=e.substr(0,l),s=cv(a,e)}e===""&&(e=t.placeholder),r.textLine=e,r.isTruncated=!0}function nNe(r,e,t){for(var n=0,i=0,a=r.length;i<a&&n<e;i++)n+=Uce(t,r.charCodeAt(i));return i}function iNe(r,e,t,n){var i=r9(r),a=e.overflow,s=e.padding,o=s?s[1]+s[3]:0,l=s?s[0]+s[2]:0,c=e.font,u=a==="truncate",f=jE(c),d=wr(e.lineHeight,f),h=e.lineOverflow==="truncate",p=!1,v=e.width;v==null&&t!=null&&(v=t-o);var x=e.height;x==null&&n!=null&&(x=n-l);var g;v!=null&&(a==="break"||a==="breakAll")?g=i?uue(i,e.font,v,a==="breakAll",0).lines:[]:g=i?i.split(`
`):[];var _=g.length*d;if(x==null&&(x=_),_>x&&h){var w=Math.floor(x/d);p=p||g.length>w,g=g.slice(0,w),_=g.length*d}if(i&&u&&v!=null)for(var A=lue(v,c,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),M={},C=0;C<g.length;C++)cue(M,g[C],A),g[C]=M.textLine,p=p||M.isTruncated;for(var N=x,L=0,D=lv(c),C=0;C<g.length;C++)L=Math.max(cv(D,g[C]),L);v==null&&(v=L);var k=v;return N+=l,k+=o,{lines:g,height:x,outerWidth:k,outerHeight:N,lineHeight:d,calculatedLineHeight:f,contentWidth:L,contentHeight:_,width:v,isTruncated:p}}var aNe=(function(){function r(){}return r})(),IX=(function(){function r(e){this.tokens=[],e&&(this.tokens=e)}return r})(),sNe=(function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r})();function oNe(r,e,t,n,i){var a=new sNe,s=r9(r);if(!s)return a;var o=e.padding,l=o?o[1]+o[3]:0,c=o?o[0]+o[2]:0,u=e.width;u==null&&t!=null&&(u=t-l);var f=e.height;f==null&&n!=null&&(f=n-c);for(var d=e.overflow,h=(d==="break"||d==="breakAll")&&u!=null?{width:u,accumWidth:0,breakAll:d==="breakAll"}:null,p=WO.lastIndex=0,v;(v=WO.exec(s))!=null;){var x=v.index;x>p&&YO(a,s.substring(p,x),e,h),YO(a,v[2],e,h,v[1]),p=WO.lastIndex}p<s.length&&YO(a,s.substring(p,s.length),e,h);var g=[],_=0,w=0,A=d==="truncate",M=e.lineOverflow==="truncate",C={};function N(ae,ce,ye){ae.width=ce,ae.lineHeight=ye,_+=ye,w=Math.max(w,ce)}e:for(var L=0;L<a.lines.length;L++){for(var D=a.lines[L],k=0,O=0,I=0;I<D.tokens.length;I++){var j=D.tokens[I],B=j.styleName&&e.rich[j.styleName]||{},K=j.textPadding=B.padding,H=K?K[1]+K[3]:0,Z=j.font=B.font||e.font;j.contentHeight=jE(Z);var Y=wr(B.height,j.contentHeight);if(j.innerHeight=Y,K&&(Y+=K[0]+K[2]),j.height=Y,j.lineHeight=Hf(B.lineHeight,e.lineHeight,Y),j.align=B&&B.align||i,j.verticalAlign=B&&B.verticalAlign||"middle",M&&f!=null&&_+j.lineHeight>f){var J=a.lines.length;I>0?(D.tokens=D.tokens.slice(0,I),N(D,O,k),a.lines=a.lines.slice(0,L+1)):a.lines=a.lines.slice(0,L),a.isTruncated=a.isTruncated||a.lines.length<J;break e}var oe=B.width,X=oe==null||oe==="auto";if(typeof oe=="string"&&oe.charAt(oe.length-1)==="%")j.percentWidth=oe,g.push(j),j.contentWidth=cv(lv(Z),j.text);else{if(X){var F=B.backgroundColor,W=F&&F.image;W&&(W=tNe(W),Vk(W)&&(j.width=Math.max(j.width,W.width*Y/W.height)))}var Q=A&&u!=null?u-O:null;Q!=null&&Q<j.width?!X||Q<H?(j.text="",j.width=j.contentWidth=0):(oue(C,j.text,Q-H,Z,e.ellipsis,{minChar:e.truncateMinChar}),j.text=C.text,a.isTruncated=a.isTruncated||C.isTruncated,j.width=j.contentWidth=cv(lv(Z),j.text)):j.contentWidth=cv(lv(Z),j.text)}j.width+=H,O+=j.width,B&&(k=Math.max(k,j.lineHeight))}N(D,O,k)}a.outerWidth=a.width=wr(u,w),a.outerHeight=a.height=wr(f,_),a.contentHeight=_,a.contentWidth=w,a.outerWidth+=l,a.outerHeight+=c;for(var L=0;L<g.length;L++){var j=g[L],re=j.percentWidth;j.width=parseInt(re,10)/100*a.width}return a}function YO(r,e,t,n,i){var a=e==="",s=i&&t.rich[i]||{},o=r.lines,l=s.font||t.font,c=!1,u,f;if(n){var d=s.padding,h=d?d[1]+d[3]:0;if(s.width!=null&&s.width!=="auto"){var p=Kp(s.width,n.width)+h;o.length>0&&p+n.accumWidth>n.width&&(u=e.split(`
`),c=!0),n.accumWidth=p}else{var v=uue(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=v.accumWidth+h,f=v.linesWidths,u=v.lines}}u||(u=e.split(`
`));for(var x=lv(l),g=0;g<u.length;g++){var _=u[g],w=new aNe;if(w.styleName=i,w.text=_,w.isLineHolder=!_&&!a,typeof s.width=="number"?w.width=s.width:w.width=f?f[g]:cv(x,_),!g&&!c){var A=(o[o.length-1]||(o[0]=new IX)).tokens,M=A.length;M===1&&A[0].isLineHolder?A[0]=w:(_||!M||a)&&A.push(w)}else o.push(new IX([w]))}}function lNe(r){var e=r.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var cNe=Pd(",&?/;] ".split(""),function(r,e){return r[e]=!0,r},{});function uNe(r){return lNe(r)?!!cNe[r]:!0}function uue(r,e,t,n,i){for(var a=[],s=[],o="",l="",c=0,u=0,f=lv(e),d=0;d<r.length;d++){var h=r.charAt(d);if(h===`
`){l&&(o+=l,u+=c),a.push(o),s.push(u),o="",l="",c=0,u=0;continue}var p=Uce(f,h.charCodeAt(0)),v=n?!1:!uNe(h);if(a.length?u+p>t:i+u+p>t){u?(o||l)&&(v?(o||(o=l,l="",c=0,u=c),a.push(o),s.push(u-c),l+=h,c+=p,o="",u=c):(l&&(o+=l,l="",c=0),a.push(o),s.push(u),o=h,u=p)):v?(a.push(l),s.push(c),l=h,c=p):(a.push(h),s.push(p));continue}u+=p,v?(l+=h,c+=p):(l&&(o+=l,l="",c=0),o+=h)}return l&&(o+=l),o&&(a.push(o),s.push(u)),a.length===1&&(u+=i),{accumWidth:u,lines:a,linesWidths:s}}function OX(r,e,t,n,i,a){if(r.baseX=t,r.baseY=n,r.outerWidth=r.outerHeight=null,!!e){var s=e.width*2,o=e.height*2;Br.set(PX,Qw(t,s,i),D2(n,o,a),s,o),Br.intersect(e,PX,null,FX);var l=FX.outIntersectRect;r.outerWidth=l.width,r.outerHeight=l.height,r.baseX=Qw(l.x,l.width,i,!0),r.baseY=D2(l.y,l.height,a,!0)}}var PX=new Br(0,0,0,0),FX={outIntersectRect:{},clamp:!0};function r9(r){return r!=null?r+="":r=""}function fNe(r){var e=r9(r.text),t=r.font,n=cv(lv(t),e),i=jE(t);return L7(r,n,i,null)}function L7(r,e,t,n){var i=new Br(Qw(r.x||0,e,r.textAlign),D2(r.y||0,t,r.textBaseline),e,t),a=n??(fue(r)?r.lineWidth:0);return a>0&&(i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a),i}function fue(r){var e=r.stroke;return e!=null&&e!=="none"&&r.lineWidth>0}var R7="__zr_style_"+Math.round(Math.random()*10),L2={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Hk={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};L2[R7]=!0;var BX=["z","z2","invisible"],hNe=["invisible"],Bd=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype._init=function(t){for(var n=Wn(t),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(t[a]):r.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,n,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&dNe(this,t,n)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths&&this.__clipPaths.length){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,n){return this.rectContain(t,n)},e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.rectContain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Br(0,0,0,0)),n?Br.applyTransform(t,i,n):t.copy(i),(s||o||l)&&(t.width+=s*2+Math.abs(o),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+o-s),t.y=Math.min(t.y,t.y+l-s));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+c*2),t.height=Math.ceil(t.height+1+c*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Br(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,n){t!=="style"?r.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,n){return typeof t=="string"?this.style[t]=n:It(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=$5,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&$5)},e.prototype.styleUpdated=function(){this.__dirty&=~$5},e.prototype.createStyle=function(t){return FE(L2,t)},e.prototype.useStyle=function(t){t[R7]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[R7]},e.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,BX)},e.prototype._applyStateObj=function(t,n,i,a,s,o){r.prototype._applyStateObj.call(this,t,n,i,a,s,o);var l=!(n&&a),c;if(n&&n.style?s?a?c=n.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,n.style)):(c=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(c,n.style)):l&&(c=i.style),c)if(s){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var f=Wn(u),d=0;d<f.length;d++){var h=f[d];h in c&&(c[h]=c[h],this.style[h]=u[h])}for(var p=Wn(c),d=0;d<p.length;d++){var h=p[d];this.style[h]=this.style[h]}this._transitionState(t,{style:c},o,this.getAnimationStyleProps())}else this.useStyle(c);for(var v=this.__inHover?hNe:BX,d=0;d<v.length;d++){var h=v[d];n&&n[h]!=null?this[h]=n[h]:l&&i[h]!=null&&(this[h]=i[h])}},e.prototype._mergeStates=function(t){for(var n=r.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(t,n){return It(t,n),t},e.prototype.getAnimationStyleProps=function(){return Hk},e.initDefaultProps=(function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=Ah|$5})(),e})(zk),qO=new Br(0,0,0,0),XO=new Br(0,0,0,0);function dNe(r,e,t){return qO.copy(r.getBoundingRect()),r.transform&&qO.applyTransform(r.transform),XO.width=e,XO.height=t,!qO.intersect(XO)}var Pf=Math.min,Ff=Math.max,ZO=Math.sin,KO=Math.cos,d1=Math.PI*2,kC=Sy(),IC=Sy(),OC=Sy();function Gk(r,e,t){if(r.length!==0){for(var n=r[0],i=n[0],a=n[0],s=n[1],o=n[1],l=1;l<r.length;l++)n=r[l],i=Pf(i,n[0]),a=Ff(a,n[0]),s=Pf(s,n[1]),o=Ff(o,n[1]);e[0]=i,e[1]=s,t[0]=a,t[1]=o}}function zX(r,e,t,n,i,a){i[0]=Pf(r,t),i[1]=Pf(e,n),a[0]=Ff(r,t),a[1]=Ff(e,n)}var jX=[],UX=[];function pNe(r,e,t,n,i,a,s,o,l,c){var u=Ece,f=xl,d=u(r,t,i,s,jX);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var h=0;h<d;h++){var p=f(r,t,i,s,jX[h]);l[0]=Pf(p,l[0]),c[0]=Ff(p,c[0])}d=u(e,n,a,o,UX);for(var h=0;h<d;h++){var v=f(e,n,a,o,UX[h]);l[1]=Pf(v,l[1]),c[1]=Ff(v,c[1])}l[0]=Pf(r,l[0]),c[0]=Ff(r,c[0]),l[0]=Pf(s,l[0]),c[0]=Ff(s,c[0]),l[1]=Pf(e,l[1]),c[1]=Ff(e,c[1]),l[1]=Pf(o,l[1]),c[1]=Ff(o,c[1])}function vNe(r,e,t,n,i,a,s,o){var l=Cce,c=Yl,u=Ff(Pf(l(r,t,i),1),0),f=Ff(Pf(l(e,n,a),1),0),d=c(r,t,i,u),h=c(e,n,a,f);s[0]=Pf(r,i,d),s[1]=Pf(e,a,h),o[0]=Ff(r,i,d),o[1]=Ff(e,a,h)}function mNe(r,e,t,n,i,a,s,o,l){var c=Fm,u=Bm,f=Math.abs(i-a);if(f%d1<1e-4&&f>1e-4){o[0]=r-t,o[1]=e-n,l[0]=r+t,l[1]=e+n;return}if(kC[0]=KO(i)*t+r,kC[1]=ZO(i)*n+e,IC[0]=KO(a)*t+r,IC[1]=ZO(a)*n+e,c(o,kC,IC),u(l,kC,IC),i=i%d1,i<0&&(i=i+d1),a=a%d1,a<0&&(a=a+d1),i>a&&!s?a+=d1:i<a&&s&&(i+=d1),s){var d=a;a=i,i=d}for(var h=0;h<a;h+=Math.PI/2)h>i&&(OC[0]=KO(h)*t+r,OC[1]=ZO(h)*n+e,c(o,OC,o),u(l,OC,l))}var La={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},p1=[],v1=[],L0=[],nx=[],R0=[],k0=[],$O=Math.min,JO=Math.max,m1=Math.cos,g1=Math.sin,fm=Math.abs,k7=Math.PI,Sx=k7*2,QO=typeof Float32Array<"u",$T=[];function eP(r){var e=Math.round(r/k7*1e8)/1e8;return e%2*k7}function Wk(r,e){var t=eP(r[0]);t<0&&(t+=Sx);var n=t-r[0],i=r[1];i+=n,!e&&i-t>=Sx?i=t+Sx:e&&t-i>=Sx?i=t-Sx:!e&&t>i?i=t+(Sx-eP(t-i)):e&&t<i&&(i=t-(Sx-eP(i-t))),r[0]=t,r[1]=i}var xv=(function(){function r(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(e,t,n){n=n||0,n>0&&(this._ux=fm(n/iL/e)||0,this._uy=fm(n/iL/t)||0)},r.prototype.setDPR=function(e){this.dpr=e},r.prototype.setContext=function(e){this._ctx=e},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(La.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},r.prototype.lineTo=function(e,t){var n=fm(e-this._xi),i=fm(t-this._yi),a=n>this._ux||i>this._uy;if(this.addData(La.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=n*n+i*i;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},r.prototype.bezierCurveTo=function(e,t,n,i,a,s){return this._drawPendingPt(),this.addData(La.C,e,t,n,i,a,s),this._ctx&&this._ctx.bezierCurveTo(e,t,n,i,a,s),this._xi=a,this._yi=s,this},r.prototype.quadraticCurveTo=function(e,t,n,i){return this._drawPendingPt(),this.addData(La.Q,e,t,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,i),this._xi=n,this._yi=i,this},r.prototype.arc=function(e,t,n,i,a,s){this._drawPendingPt(),$T[0]=i,$T[1]=a,Wk($T,s),i=$T[0],a=$T[1];var o=a-i;return this.addData(La.A,e,t,n,n,i,o,0,s?0:1),this._ctx&&this._ctx.arc(e,t,n,i,a,s),this._xi=m1(a)*n+e,this._yi=g1(a)*n+t,this},r.prototype.arcTo=function(e,t,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,i,a),this},r.prototype.rect=function(e,t,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,i),this.addData(La.R,e,t,n,i),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(La.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},r.prototype.fill=function(e){e&&e.fill(),this.toStatic()},r.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(e){if(this._saveData){var t=e.length;!(this.data&&this.data.length===t)&&QO&&(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t}},r.prototype.appendPath=function(e){if(this._saveData){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,a=0;a<t;a++)n+=e[a].len();var s=this.data;if(QO&&(s instanceof Float32Array||!s)&&(this.data=new Float32Array(i+n),i>0&&s))for(var o=0;o<i;o++)this.data[o]=s[o];for(var a=0;a<t;a++)for(var l=e[a].data,o=0;o<l.length;o++)this.data[i++]=l[o];this._len=i}},r.prototype.addData=function(e,t,n,i,a,s,o,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var f=0;f<arguments.length;f++)u[this._len++]=arguments[f]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,QO&&this._len>11&&(this.data=new Float32Array(e)))}},r.prototype.getBoundingRect=function(){L0[0]=L0[1]=R0[0]=R0[1]=Number.MAX_VALUE,nx[0]=nx[1]=k0[0]=k0[1]=-Number.MAX_VALUE;var e=this.data,t=0,n=0,i=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(t=e[s],n=e[s+1],i=t,a=n),o){case La.M:t=i=e[s++],n=a=e[s++],R0[0]=i,R0[1]=a,k0[0]=i,k0[1]=a;break;case La.L:zX(t,n,e[s],e[s+1],R0,k0),t=e[s++],n=e[s++];break;case La.C:pNe(t,n,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],R0,k0),t=e[s++],n=e[s++];break;case La.Q:vNe(t,n,e[s++],e[s++],e[s],e[s+1],R0,k0),t=e[s++],n=e[s++];break;case La.A:var c=e[s++],u=e[s++],f=e[s++],d=e[s++],h=e[s++],p=e[s++]+h;s+=1;var v=!e[s++];l&&(i=m1(h)*f+c,a=g1(h)*d+u),mNe(c,u,f,d,h,p,v,R0,k0),t=m1(p)*f+c,n=g1(p)*d+u;break;case La.R:i=t=e[s++],a=n=e[s++];var x=e[s++],g=e[s++];zX(i,a,i+x,a+g,R0,k0);break;case La.Z:t=i,n=a;break}Fm(L0,L0,R0),Bm(nx,nx,k0)}return s===0&&(L0[0]=L0[1]=nx[0]=nx[1]=0),new Br(L0[0],L0[1],nx[0]-L0[0],nx[1]-L0[1])},r.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,f=0,d=0;d<t;){var h=e[d++],p=d===1;p&&(a=e[d],s=e[d+1],o=a,l=s);var v=-1;switch(h){case La.M:a=o=e[d++],s=l=e[d++];break;case La.L:{var x=e[d++],g=e[d++],_=x-a,w=g-s;(fm(_)>n||fm(w)>i||d===t-1)&&(v=Math.sqrt(_*_+w*w),a=x,s=g);break}case La.C:{var A=e[d++],M=e[d++],x=e[d++],g=e[d++],C=e[d++],N=e[d++];v=EMe(a,s,A,M,x,g,C,N,10),a=C,s=N;break}case La.Q:{var A=e[d++],M=e[d++],x=e[d++],g=e[d++];v=CMe(a,s,A,M,x,g,10),a=x,s=g;break}case La.A:var L=e[d++],D=e[d++],k=e[d++],O=e[d++],I=e[d++],j=e[d++],B=j+I;d+=1,p&&(o=m1(I)*k+L,l=g1(I)*O+D),v=JO(k,O)*$O(Sx,Math.abs(j)),a=m1(B)*k+L,s=g1(B)*O+D;break;case La.R:{o=a=e[d++],l=s=e[d++];var K=e[d++],H=e[d++];v=K*2+H*2;break}case La.Z:{var _=o-a,w=l-s;v=Math.sqrt(_*_+w*w),a=o,s=l;break}}v>=0&&(c[f++]=v,u+=v)}return this._pathLen=u,u},r.prototype.rebuildPath=function(e,t){var n=this.data,i=this._ux,a=this._uy,s=this._len,o,l,c,u,f,d,h=t<1,p,v,x=0,g=0,_,w=0,A,M;if(!(h&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,v=this._pathLen,_=t*v,!_)))e:for(var C=0;C<s;){var N=n[C++],L=C===1;switch(L&&(c=n[C],u=n[C+1],o=c,l=u),N!==La.L&&w>0&&(e.lineTo(A,M),w=0),N){case La.M:o=c=n[C++],l=u=n[C++],e.moveTo(c,u);break;case La.L:{f=n[C++],d=n[C++];var D=fm(f-c),k=fm(d-u);if(D>i||k>a){if(h){var O=p[g++];if(x+O>_){var I=(_-x)/O;e.lineTo(c*(1-I)+f*I,u*(1-I)+d*I);break e}x+=O}e.lineTo(f,d),c=f,u=d,w=0}else{var j=D*D+k*k;j>w&&(A=f,M=d,w=j)}break}case La.C:{var B=n[C++],K=n[C++],H=n[C++],Z=n[C++],Y=n[C++],J=n[C++];if(h){var O=p[g++];if(x+O>_){var I=(_-x)/O;iy(c,B,H,Y,I,p1),iy(u,K,Z,J,I,v1),e.bezierCurveTo(p1[1],v1[1],p1[2],v1[2],p1[3],v1[3]);break e}x+=O}e.bezierCurveTo(B,K,H,Z,Y,J),c=Y,u=J;break}case La.Q:{var B=n[C++],K=n[C++],H=n[C++],Z=n[C++];if(h){var O=p[g++];if(x+O>_){var I=(_-x)/O;x3(c,B,H,I,p1),x3(u,K,Z,I,v1),e.quadraticCurveTo(p1[1],v1[1],p1[2],v1[2]);break e}x+=O}e.quadraticCurveTo(B,K,H,Z),c=H,u=Z;break}case La.A:var oe=n[C++],X=n[C++],F=n[C++],W=n[C++],Q=n[C++],re=n[C++],ae=n[C++],ce=!n[C++],ye=F>W?F:W,fe=fm(F-W)>.001,be=Q+re,Oe=!1;if(h){var O=p[g++];x+O>_&&(be=Q+re*(_-x)/O,Oe=!0),x+=O}if(fe&&e.ellipse?e.ellipse(oe,X,F,W,ae,Q,be,ce):e.arc(oe,X,ye,Q,be,ce),Oe)break e;L&&(o=m1(Q)*F+oe,l=g1(Q)*W+X),c=m1(be)*F+oe,u=g1(be)*W+X;break;case La.R:o=c=n[C],l=u=n[C+1],f=n[C++],d=n[C++];var xe=n[C++],Qe=n[C++];if(h){var O=p[g++];if(x+O>_){var ne=_-x;e.moveTo(f,d),e.lineTo(f+$O(ne,xe),d),ne-=xe,ne>0&&e.lineTo(f+xe,d+$O(ne,Qe)),ne-=Qe,ne>0&&e.lineTo(f+JO(xe-ne,0),d+Qe),ne-=xe,ne>0&&e.lineTo(f,d+JO(Qe-ne,0));break e}x+=O}e.rect(f,d,xe,Qe);break;case La.Z:if(h){var O=p[g++];if(x+O>_){var I=(_-x)/O;e.lineTo(c*(1-I)+o*I,u*(1-I)+l*I);break e}x+=O}e.closePath(),c=o,u=l}}},r.prototype.clone=function(){var e=new r,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},r.prototype.canSave=function(){return!!this._saveData},r.CMD=La,r.initDefaultProps=(function(){var e=r.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0})(),r})();function Ex(r,e,t,n,i,a,s){if(i===0)return!1;var o=i,l=0,c=r;if(s>e+o&&s>n+o||s<e-o&&s<n-o||a>r+o&&a>t+o||a<r-o&&a<t-o)return!1;if(r!==t)l=(e-n)/(r-t),c=(r*n-t*e)/(r-t);else return Math.abs(a-r)<=o/2;var u=l*a-s+c,f=u*u/(l*l+1);return f<=o/2*o/2}function gNe(r,e,t,n,i,a,s,o,l,c,u){if(l===0)return!1;var f=l;if(u>e+f&&u>n+f&&u>a+f&&u>o+f||u<e-f&&u<n-f&&u<a-f&&u<o-f||c>r+f&&c>t+f&&c>i+f&&c>s+f||c<r-f&&c<t-f&&c<i-f&&c<s-f)return!1;var d=Mce(r,e,t,n,i,a,s,o,c,u,null);return d<=f/2}function hue(r,e,t,n,i,a,s,o,l){if(s===0)return!1;var c=s;if(l>e+c&&l>n+c&&l>a+c||l<e-c&&l<n-c&&l<a-c||o>r+c&&o>t+c&&o>i+c||o<r-c&&o<t-c&&o<i-c)return!1;var u=Nce(r,e,t,n,i,a,o,l,null);return u<=c/2}var VX=Math.PI*2;function Lh(r){return r%=VX,r<0&&(r+=VX),r}var JT=Math.PI*2;function xNe(r,e,t,n,i,a,s,o,l){if(s===0)return!1;var c=s;o-=r,l-=e;var u=Math.sqrt(o*o+l*l);if(u-c>t||u+c<t)return!1;if(Math.abs(n-i)%JT<1e-4)return!0;if(a){var f=n;n=Lh(i),i=Lh(f)}else n=Lh(n),i=Lh(i);n>i&&(i+=JT);var d=Math.atan2(l,o);return d<0&&(d+=JT),d>=n&&d<=i||d+JT>=n&&d+JT<=i}function Nm(r,e,t,n,i,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var s=(a-e)/(n-e),o=n<e?1:-1;(s===1||s===0)&&(o=n<e?.5:-.5);var l=s*(t-r)+r;return l===i?1/0:l>i?o:0}var ix=xv.CMD,x1=Math.PI*2,yNe=1e-4;function bNe(r,e){return Math.abs(r-e)<yNe}var ju=[-1,-1,-1],Td=[-1,-1];function _Ne(){var r=Td[0];Td[0]=Td[1],Td[1]=r}function wNe(r,e,t,n,i,a,s,o,l,c){if(c>e&&c>n&&c>a&&c>o||c<e&&c<n&&c<a&&c<o)return 0;var u=eL(e,n,a,o,c,ju);if(u===0)return 0;for(var f=0,d=-1,h=void 0,p=void 0,v=0;v<u;v++){var x=ju[v],g=x===0||x===1?.5:1,_=xl(r,t,i,s,x);_<l||(d<0&&(d=Ece(e,n,a,o,Td),Td[1]<Td[0]&&d>1&&_Ne(),h=xl(e,n,a,o,Td[0]),d>1&&(p=xl(e,n,a,o,Td[1]))),d===2?x<Td[0]?f+=h<e?g:-g:x<Td[1]?f+=p<h?g:-g:f+=o<p?g:-g:x<Td[0]?f+=h<e?g:-g:f+=o<h?g:-g)}return f}function SNe(r,e,t,n,i,a,s,o){if(o>e&&o>n&&o>a||o<e&&o<n&&o<a)return 0;var l=MMe(e,n,a,o,ju);if(l===0)return 0;var c=Cce(e,n,a);if(c>=0&&c<=1){for(var u=0,f=Yl(e,n,a,c),d=0;d<l;d++){var h=ju[d]===0||ju[d]===1?.5:1,p=Yl(r,t,i,ju[d]);p<s||(ju[d]<c?u+=f<e?h:-h:u+=a<f?h:-h)}return u}else{var h=ju[0]===0||ju[0]===1?.5:1,p=Yl(r,t,i,ju[0]);return p<s?0:a<e?h:-h}}function TNe(r,e,t,n,i,a,s,o){if(o-=e,o>t||o<-t)return 0;var l=Math.sqrt(t*t-o*o);ju[0]=-l,ju[1]=l;var c=Math.abs(n-i);if(c<1e-4)return 0;if(c>=x1-1e-4){n=0,i=x1;var u=a?1:-1;return s>=ju[0]+r&&s<=ju[1]+r?u:0}if(n>i){var f=n;n=i,i=f}n<0&&(n+=x1,i+=x1);for(var d=0,h=0;h<2;h++){var p=ju[h];if(p+r>s){var v=Math.atan2(o,p),u=a?1:-1;v<0&&(v=x1+v),(v>=n&&v<=i||v+x1>=n&&v+x1<=i)&&(v>Math.PI/2&&v<Math.PI*1.5&&(u=-u),d+=u)}}return d}function due(r,e,t,n,i){for(var a=r.data,s=r.len(),o=0,l=0,c=0,u=0,f=0,d,h,p=0;p<s;){var v=a[p++],x=p===1;switch(v===ix.M&&p>1&&(t||(o+=Nm(l,c,u,f,n,i))),x&&(l=a[p],c=a[p+1],u=l,f=c),v){case ix.M:u=a[p++],f=a[p++],l=u,c=f;break;case ix.L:if(t){if(Ex(l,c,a[p],a[p+1],e,n,i))return!0}else o+=Nm(l,c,a[p],a[p+1],n,i)||0;l=a[p++],c=a[p++];break;case ix.C:if(t){if(gNe(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,n,i))return!0}else o+=wNe(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],n,i)||0;l=a[p++],c=a[p++];break;case ix.Q:if(t){if(hue(l,c,a[p++],a[p++],a[p],a[p+1],e,n,i))return!0}else o+=SNe(l,c,a[p++],a[p++],a[p],a[p+1],n,i)||0;l=a[p++],c=a[p++];break;case ix.A:var g=a[p++],_=a[p++],w=a[p++],A=a[p++],M=a[p++],C=a[p++];p+=1;var N=!!(1-a[p++]);d=Math.cos(M)*w+g,h=Math.sin(M)*A+_,x?(u=d,f=h):o+=Nm(l,c,d,h,n,i);var L=(n-g)*A/w+g;if(t){if(xNe(g,_,A,M,M+C,N,e,L,i))return!0}else o+=TNe(g,_,A,M,M+C,N,L,i);l=Math.cos(M+C)*w+g,c=Math.sin(M+C)*A+_;break;case ix.R:u=l=a[p++],f=c=a[p++];var D=a[p++],k=a[p++];if(d=u+D,h=f+k,t){if(Ex(u,f,d,f,e,n,i)||Ex(d,f,d,h,e,n,i)||Ex(d,h,u,h,e,n,i)||Ex(u,h,u,f,e,n,i))return!0}else o+=Nm(d,f,d,h,n,i),o+=Nm(u,h,u,f,n,i);break;case ix.Z:if(t){if(Ex(l,c,u,f,e,n,i))return!0}else o+=Nm(l,c,u,f,n,i);l=u,c=f;break}}return!t&&!bNe(c,f)&&(o+=Nm(l,c,u,f,n,i)||0),o!==0}function ANe(r,e,t){return due(r,0,!1,e,t)}function ENe(r,e,t,n){return due(r,e,!0,t,n)}var lL=Rr({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},L2),MNe={style:Rr({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Hk.style)},tP=mv.concat(["invisible","culling","z","z2","zlevel","parent"]),Rn=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.update=function(){var t=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var s in n)a[s]!==n[s]&&(a[s]=n[s]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var o=0;o<tP.length;++o)i[tP[o]]=this[tP[o]];i.__dirty|=Ah}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var n=Wn(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var s=n[a],o=t[s];s==="style"?this.style?It(this.style,o):this.useStyle(o):s==="shape"?It(this.shape,o):r.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(fr(t)){var n=_3(t,0);return n>.5?S7:n>.2?aCe:T7}else if(t)return T7}return S7},e.prototype.getInsideTextStroke=function(t){var n=this.style.fill;if(fr(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=_3(t,0)<w7;if(a===s)return n}},e.prototype.buildPath=function(t,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=~uw},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new xv(!1)},e.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return!(n==null||n==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,n=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&uw)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){o.copy(t);var l=n.strokeNoScale?this.getLineScale():1,c=n.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(o.width+=c/l,o.height+=c/l,o.x-=c/l/2,o.y-=c/l/2)}return o}return t},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect(),s=this.style;if(t=i[0],n=i[1],a.contain(t,n)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,c=s.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),ENe(o,l/c,t,n)))return!0}if(this.hasFill())return ANe(o,t,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=uw,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,n){t==="shape"?this.setShape(n):r.prototype.attrKV.call(this,t,n)},e.prototype.setShape=function(t,n){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=n:It(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&uw)},e.prototype.createStyle=function(t){return FE(lL,t)},e.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=It({},this.shape))},e.prototype._applyStateObj=function(t,n,i,a,s,o){r.prototype._applyStateObj.call(this,t,n,i,a,s,o);var l=!(n&&a),c;if(n&&n.shape?s?a?c=n.shape:(c=It({},i.shape),It(c,n.shape)):(c=It({},a?this.shape:i.shape),It(c,n.shape)):l&&(c=i.shape),c)if(s){this.shape=It({},this.shape);for(var u={},f=Wn(c),d=0;d<f.length;d++){var h=f[d];typeof c[h]=="object"?this.shape[h]=c[h]:u[h]=c[h]}this._transitionState(t,{shape:u},o)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var n=r.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return MNe},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=(function(a){$a(s,a);function s(o){var l=a.call(this,o)||this;return t.init&&t.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return Cr(t.style)},s.prototype.getDefaultShape=function(){return Cr(t.shape)},s})(e);for(var i in t)typeof t[i]=="function"&&(n.prototype[i]=t[i]);return n},e.initDefaultProps=(function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=Ah|$5|uw})(),e})(Bd),CNe=Rr({strokeFirst:!0,font:tg,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},lL),tS=(function(r){$a(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.hasStroke=function(){return fue(this.style)},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(t){return FE(CNe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){return this._rect||(this._rect=fNe(this.style)),this._rect},e.initDefaultProps=(function(){var t=e.prototype;t.dirtyRectTolerance=10})(),e})(Bd);tS.prototype.type="tspan";var NNe=Rr({x:0,y:0},L2),DNe={style:Rr({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Hk.style)};function LNe(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var Nl=(function(r){$a(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return FE(NNe,t)},e.prototype._getSize=function(t){var n=this.style,i=n[t];if(i!=null)return i;var a=LNe(n.image)?n.image:this.__image;if(!a)return 0;var s=t==="width"?"height":"width",o=n[s];return o==null?a[t]:a[t]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return DNe},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Br(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e})(Bd);Nl.prototype.type="image";function RNe(r,e){var t=e.x,n=e.y,i=e.width,a=e.height,s=e.r,o,l,c,u;i<0&&(t=t+i,i=-i),a<0&&(n=n+a,a=-a),typeof s=="number"?o=l=c=u=s:s instanceof Array?s.length===1?o=l=c=u=s[0]:s.length===2?(o=c=s[0],l=u=s[1]):s.length===3?(o=s[0],l=u=s[1],c=s[2]):(o=s[0],l=s[1],c=s[2],u=s[3]):o=l=c=u=0;var f;o+l>i&&(f=o+l,o*=i/f,l*=i/f),c+u>i&&(f=c+u,c*=i/f,u*=i/f),l+c>a&&(f=l+c,l*=a/f,c*=a/f),o+u>a&&(f=o+u,o*=a/f,u*=a/f),r.moveTo(t+o,n),r.lineTo(t+i-l,n),l!==0&&r.arc(t+i-l,n+l,l,-Math.PI/2,0),r.lineTo(t+i,n+a-c),c!==0&&r.arc(t+i-c,n+a-c,c,0,Math.PI/2),r.lineTo(t+u,n+a),u!==0&&r.arc(t+u,n+a-u,u,Math.PI/2,Math.PI),r.lineTo(t,n+o),o!==0&&r.arc(t+o,n+o,o,Math.PI,Math.PI*1.5)}var xw=Math.round;function Yk(r,e,t){if(e){var n=e.x1,i=e.x2,a=e.y1,s=e.y2;r.x1=n,r.x2=i,r.y1=a,r.y2=s;var o=t&&t.lineWidth;return o&&(xw(n*2)===xw(i*2)&&(r.x1=r.x2=Rh(n,o,!0)),xw(a*2)===xw(s*2)&&(r.y1=r.y2=Rh(a,o,!0))),r}}function pue(r,e,t){if(e){var n=e.x,i=e.y,a=e.width,s=e.height;r.x=n,r.y=i,r.width=a,r.height=s;var o=t&&t.lineWidth;return o&&(r.x=Rh(n,o,!0),r.y=Rh(i,o,!0),r.width=Math.max(Rh(n+a,o,!1)-r.x,a===0?0:1),r.height=Math.max(Rh(i+s,o,!1)-r.y,s===0?0:1)),r}}function Rh(r,e,t){if(!e)return r;var n=xw(r*2);return(n+xw(e))%2===0?n/2:(n+(t?1:-1))/2}var kNe=(function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r})(),INe={},_n=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new kNe},e.prototype.buildPath=function(t,n){var i,a,s,o;if(this.subPixelOptimize){var l=pue(INe,n,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,s=n.width,o=n.height;n.r?RNe(t,n):t.rect(i,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e})(Rn);_n.prototype.type="rect";var HX={fill:"#000"},GX=2,I0={},ONe={style:Rr({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Hk.style)},$n=(function(r){$a(e,r);function e(t){var n=r.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=HX,n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):r.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):r.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,BNe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},e.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Br(0,0,0,0),n=this._children,i=[],a=null,s=0;s<n.length;s++){var o=n[s],l=o.getBoundingRect(),c=o.getLocalTransform(i);c?(t.copy(l),t.applyTransform(c),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||HX},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,n){if(!n)return t;var i=n.rich,a=t.rich||i&&{};return It(t,n),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,n){for(var i=Wn(n),a=0;a<i.length;a++){var s=i[a];t[s]=t[s]||{},It(t[s],n[s])}},e.prototype.getAnimationStyleProps=function(){return ONe},e.prototype._getOrCreateChild=function(t){var n=this._children[this._childCursor];return(!n||!(n instanceof t))&&(n=new t),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var t=this.style,n=t.font||tg,i=t.padding,a=this._defaultStyle,s=t.x||0,o=t.y||0,l=t.align||a.align||"left",c=t.verticalAlign||a.verticalAlign||"top";OX(I0,a.overflowRect,s,o,l,c),s=I0.baseX,o=I0.baseY;var u=$X(t),f=iNe(u,t,I0.outerWidth,I0.outerHeight),d=rP(t),h=!!t.backgroundColor,p=f.outerHeight,v=f.outerWidth,x=f.lines,g=f.lineHeight;this.isTruncated=!!f.isTruncated;var _=s,w=D2(o,f.contentHeight,c);if(d||i){var A=Qw(s,v,l),M=D2(o,p,c);d&&this._renderBackground(t,t,A,M,v,p)}w+=g/2,i&&(_=KX(s,l,i),c==="top"?w+=i[0]:c==="bottom"&&(w-=i[2]));for(var C=0,N=!1,L=!1,D=ZX("fill"in t?t.fill:(L=!0,a.fill)),k=XX("stroke"in t?t.stroke:!h&&(!a.autoStroke||L)?(C=GX,N=!0,a.stroke):null),O=t.textShadowBlur>0,I=0;I<x.length;I++){var j=this._getOrCreateChild(tS),B=j.createStyle();j.useStyle(B),B.text=x[I],B.x=_,B.y=w,B.textAlign=l,B.textBaseline="middle",B.opacity=t.opacity,B.strokeFirst=!0,O&&(B.shadowBlur=t.textShadowBlur||0,B.shadowColor=t.textShadowColor||"transparent",B.shadowOffsetX=t.textShadowOffsetX||0,B.shadowOffsetY=t.textShadowOffsetY||0),B.stroke=k,B.fill=D,k&&(B.lineWidth=t.lineWidth||C,B.lineDash=t.lineDash,B.lineDashOffset=t.lineDashOffset||0),B.font=n,YX(B,t),w+=g,j.setBoundingRect(L7(B,f.contentWidth,f.calculatedLineHeight,N?0:null))}},e.prototype._updateRichTexts=function(){var t=this.style,n=this._defaultStyle,i=t.align||n.align,a=t.verticalAlign||n.verticalAlign,s=t.x||0,o=t.y||0;OX(I0,n.overflowRect,s,o,i,a),s=I0.baseX,o=I0.baseY;var l=$X(t),c=oNe(l,t,I0.outerWidth,I0.outerHeight,i),u=c.width,f=c.outerWidth,d=c.outerHeight,h=t.padding;this.isTruncated=!!c.isTruncated;var p=Qw(s,f,i),v=D2(o,d,a),x=p,g=v;h&&(x+=h[3],g+=h[0]);var _=x+u;rP(t)&&this._renderBackground(t,t,p,v,f,d);for(var w=!!t.backgroundColor,A=0;A<c.lines.length;A++){for(var M=c.lines[A],C=M.tokens,N=C.length,L=M.lineHeight,D=M.width,k=0,O=x,I=_,j=N-1,B=void 0;k<N&&(B=C[k],!B.align||B.align==="left");)this._placeToken(B,t,L,g,O,"left",w),D-=B.width,O+=B.width,k++;for(;j>=0&&(B=C[j],B.align==="right");)this._placeToken(B,t,L,g,I,"right",w),D-=B.width,I-=B.width,j--;for(O+=(u-(O-x)-(_-I)-D)/2;k<=j;)B=C[k],this._placeToken(B,t,L,g,O+B.width/2,"center",w),O+=B.width,k++;g+=L}},e.prototype._placeToken=function(t,n,i,a,s,o,l){var c=n.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,f=a+i/2;u==="top"?f=a+t.height/2:u==="bottom"&&(f=a+i-t.height/2);var d=!t.isLineHolder&&rP(c);d&&this._renderBackground(c,n,o==="right"?s-t.width:o==="center"?s-t.width/2:s,f-t.height/2,t.width,t.height);var h=!!c.backgroundColor,p=t.textPadding;p&&(s=KX(s,o,p),f-=t.height/2-p[0]-t.innerHeight/2);var v=this._getOrCreateChild(tS),x=v.createStyle();v.useStyle(x);var g=this._defaultStyle,_=!1,w=0,A=!1,M=ZX("fill"in c?c.fill:"fill"in n?n.fill:(_=!0,g.fill)),C=XX("stroke"in c?c.stroke:"stroke"in n?n.stroke:!h&&!l&&(!g.autoStroke||_)?(w=GX,A=!0,g.stroke):null),N=c.textShadowBlur>0||n.textShadowBlur>0;x.text=t.text,x.x=s,x.y=f,N&&(x.shadowBlur=c.textShadowBlur||n.textShadowBlur||0,x.shadowColor=c.textShadowColor||n.textShadowColor||"transparent",x.shadowOffsetX=c.textShadowOffsetX||n.textShadowOffsetX||0,x.shadowOffsetY=c.textShadowOffsetY||n.textShadowOffsetY||0),x.textAlign=o,x.textBaseline="middle",x.font=t.font||tg,x.opacity=Hf(c.opacity,n.opacity,1),YX(x,c),C&&(x.lineWidth=Hf(c.lineWidth,n.lineWidth,w),x.lineDash=wr(c.lineDash,n.lineDash),x.lineDashOffset=n.lineDashOffset||0,x.stroke=C),M&&(x.fill=M),v.setBoundingRect(L7(x,t.contentWidth,t.contentHeight,A?0:null))},e.prototype._renderBackground=function(t,n,i,a,s,o){var l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,f=l&&l.image,d=l&&!f,h=t.borderRadius,p=this,v,x;if(d||t.lineHeight||c&&u){v=this._getOrCreateChild(_n),v.useStyle(v.createStyle()),v.style.fill=null;var g=v.shape;g.x=i,g.y=a,g.width=s,g.height=o,g.r=h,v.dirtyShape()}if(d){var _=v.style;_.fill=l||null,_.fillOpacity=wr(t.fillOpacity,1)}else if(f){x=this._getOrCreateChild(Nl),x.onload=function(){p.dirtyStyle()};var w=x.style;w.image=l.image,w.x=i,w.y=a,w.width=s,w.height=o}if(c&&u){var _=v.style;_.lineWidth=c,_.stroke=u,_.strokeOpacity=wr(t.strokeOpacity,1),_.lineDash=t.borderDash,_.lineDashOffset=t.borderDashOffset||0,v.strokeContainThreshold=0,v.hasFill()&&v.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2)}var A=(v||x).style;A.shadowBlur=t.shadowBlur||0,A.shadowColor=t.shadowColor||"transparent",A.shadowOffsetX=t.shadowOffsetX||0,A.shadowOffsetY=t.shadowOffsetY||0,A.opacity=Hf(t.opacity,n.opacity,1)},e.makeFont=function(t){var n="";return mue(t)&&(n=[t.fontStyle,t.fontWeight,vue(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),n&&Nh(n)||t.textFont||t.font},e})(Bd),PNe={left:!0,right:1,center:1},FNe={top:1,bottom:1,middle:1},WX=["fontStyle","fontWeight","fontSize","fontFamily"];function vue(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?PU+"px":r+"px"}function YX(r,e){for(var t=0;t<WX.length;t++){var n=WX[t],i=e[n];i!=null&&(r[n]=i)}}function mue(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function BNe(r){return qX(r),he(r.rich,qX),r}function qX(r){if(r){r.font=$n.makeFont(r);var e=r.align;e==="middle"&&(e="center"),r.align=e==null||PNe[e]?e:"left";var t=r.verticalAlign;t==="center"&&(t="middle"),r.verticalAlign=t==null||FNe[t]?t:"top";var n=r.padding;n&&(r.padding=PE(r.padding))}}function XX(r,e){return r==null||e<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function ZX(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function KX(r,e,t){return e==="right"?r-t[1]:e==="center"?r+t[3]/2-t[1]/2:r+t[3]}function $X(r){var e=r.text;return e!=null&&(e+=""),e}function rP(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var Vr=Mn(),I7=function(r,e,t,n){if(n){var i=Vr(n);i.dataIndex=t,i.dataType=e,i.seriesIndex=r,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var s=Vr(a);s.seriesIndex=r,s.dataIndex=t,s.dataType=e,s.ssrType="chart"})}},JX=1,QX={},gue=Mn(),n9=Mn(),i9=0,UE=1,qk=2,Qu=["emphasis","blur","select"],T3=["normal","emphasis","blur","select"],BS=10,zNe=9,R2="highlight",dD="downplay",cL="select",O7="unselect",uL="toggleSelect",a9="selectchanged";function h_(r){return r!=null&&r!=="none"}function Xk(r,e,t){r.onHoverStateChange&&(r.hoverState||0)!==t&&r.onHoverStateChange(e),r.hoverState=t}function xue(r){Xk(r,"emphasis",qk)}function yue(r){r.hoverState===qk&&Xk(r,"normal",i9)}function s9(r){Xk(r,"blur",UE)}function bue(r){r.hoverState===UE&&Xk(r,"normal",i9)}function jNe(r){r.selected=!0}function UNe(r){r.selected=!1}function eZ(r,e,t){e(r,t)}function yg(r,e,t){eZ(r,e,t),r.isGroup&&r.traverse(function(n){eZ(n,e,t)})}function fL(r,e){switch(e){case"emphasis":r.hoverState=qk;break;case"normal":r.hoverState=i9;break;case"blur":r.hoverState=UE;break;case"select":r.selected=!0}}function VNe(r,e,t,n){for(var i=r.style,a={},s=0;s<e.length;s++){var o=e[s],l=i[o];a[o]=l??(n&&n[o])}for(var s=0;s<r.animators.length;s++){var c=r.animators[s];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&c.targetName==="style"&&c.saveTo(a,e)}return a}function HNe(r,e,t,n){var i=t&&hn(t,"select")>=0,a=!1;if(r instanceof Rn){var s=gue(r),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(h_(o)||h_(l)){n=n||{};var c=n.style||{};c.fill==="inherit"?(a=!0,n=It({},n),c=It({},c),c.fill=o):!h_(c.fill)&&h_(o)?(a=!0,n=It({},n),c=It({},c),c.fill=rL(o)):!h_(c.stroke)&&h_(l)&&(a||(n=It({},n),c=It({},c)),c.stroke=rL(l)),n.style=c}}if(n&&n.z2==null){a||(n=It({},n));var u=r.z2EmphasisLift;n.z2=r.z2+(u??BS)}return n}function GNe(r,e,t){if(t&&t.z2==null){t=It({},t);var n=r.z2SelectLift;t.z2=r.z2+(n??zNe)}return t}function WNe(r,e,t){var n=hn(r.currentStates,e)>=0,i=r.style.opacity,a=n?null:VNe(r,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=It({},t),s=It({opacity:n?i:a.opacity*.1},s),t.style=s),t}function nP(r,e){var t=this.states[r];if(this.style){if(r==="emphasis")return HNe(this,r,e,t);if(r==="blur")return WNe(this,r,t);if(r==="select")return GNe(this,r,t)}return t}function K2(r){r.stateProxy=nP;var e=r.getTextContent(),t=r.getTextGuideLine();e&&(e.stateProxy=nP),t&&(t.stateProxy=nP)}function tZ(r,e){!Tue(r,e)&&!r.__highByOuter&&yg(r,xue)}function rZ(r,e){!Tue(r,e)&&!r.__highByOuter&&yg(r,yue)}function ng(r,e){r.__highByOuter|=1<<(e||0),yg(r,xue)}function ig(r,e){!(r.__highByOuter&=~(1<<(e||0)))&&yg(r,yue)}function _ue(r){yg(r,s9)}function o9(r){yg(r,bue)}function wue(r){yg(r,jNe)}function Sue(r){yg(r,UNe)}function Tue(r,e){return r.__highDownSilentOnTouch&&e.zrByTouch}function Aue(r){var e=r.getModel(),t=[],n=[];e.eachComponent(function(i,a){var s=n9(a),o=i==="series",l=o?r.getViewOfSeriesModel(a):r.getViewOfComponentModel(a);!o&&n.push(l),s.isBlured&&(l.group.traverse(function(c){bue(c)}),o&&t.push(a)),s.isBlured=!1}),he(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function P7(r,e,t,n){var i=n.getModel();t=t||"coordinateSystem";function a(c,u){for(var f=0;f<u.length;f++){var d=c.getItemGraphicEl(u[f]);d&&o9(d)}}if(r!=null&&!(!e||e==="none")){var s=i.getSeriesByIndex(r),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(c){var u=s===c,f=c.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&o?f===o:u;if(!(t==="series"&&!u||t==="coordinateSystem"&&!d||e==="series"&&u)){var h=n.getViewOfSeriesModel(c);if(h.group.traverse(function(x){x.__highByOuter&&u&&e==="self"||s9(x)}),_c(e))a(c.getData(),e);else if(kr(e))for(var p=Wn(e),v=0;v<p.length;v++)a(c.getData(p[v]),e[p[v]]);l.push(c),n9(c).isBlured=!0}}),i.eachComponent(function(c,u){if(c!=="series"){var f=n.getViewOfComponentModel(u);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function F7(r,e,t){if(!(r==null||e==null)){var n=t.getModel().getComponent(r,e);if(n){n9(n).isBlured=!0;var i=t.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){s9(a)})}}}function YNe(r,e,t){var n=r.seriesIndex,i=r.getData(e.dataType);if(i){var a=X2(i,e);a=(Ut(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var c=Vr(s);P7(n,c.focus,c.blurScope,t)}else{var u=r.get(["emphasis","focus"]),f=r.get(["emphasis","blurScope"]);u!=null&&P7(n,u,f,t)}}}function l9(r,e,t,n){var i={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||e==null||t==null)return i;var a=n.getModel().getComponent(r,e);if(!a)return i;var s=n.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(t),l,c=0;c<o.length;c++)if(Vr(o[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function qNe(r,e,t){var n=Vr(r),i=l9(n.componentMainType,n.componentIndex,n.componentHighDownName,t),a=i.dispatchers,s=i.focusSelf;a?(s&&F7(n.componentMainType,n.componentIndex,t),he(a,function(o){return tZ(o,e)})):(P7(n.seriesIndex,n.focus,n.blurScope,t),n.focus==="self"&&F7(n.componentMainType,n.componentIndex,t),tZ(r,e))}function XNe(r,e,t){Aue(t);var n=Vr(r),i=l9(n.componentMainType,n.componentIndex,n.componentHighDownName,t).dispatchers;i?he(i,function(a){return rZ(a,e)}):rZ(r,e)}function ZNe(r,e,t){if(z7(e)){var n=e.dataType,i=r.getData(n),a=X2(i,e);Ut(a)||(a=[a]),r[e.type===uL?"toggleSelect":e.type===cL?"select":"unselect"](a,n)}}function nZ(r){var e=r.getAllData();he(e,function(t){var n=t.data,i=t.type;n.eachItemGraphicEl(function(a,s){r.isSelected(s,i)?wue(a):Sue(a)})})}function KNe(r){var e=[];return r.eachSeries(function(t){var n=t.getAllData();he(n,function(i){i.data;var a=i.type,s=t.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:t.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function Kx(r,e,t){g2(r,!0),yg(r,K2),B7(r,e,t)}function $Ne(r){g2(r,!1)}function ss(r,e,t,n){n?$Ne(r):Kx(r,e,t)}function B7(r,e,t){var n=Vr(r);e!=null?(n.focus=e,n.blurScope=t):n.focus&&(n.focus=null)}var iZ=["emphasis","blur","select"],JNe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function nl(r,e,t,n){t=t||"itemStyle";for(var i=0;i<iZ.length;i++){var a=iZ[i],s=e.getModel([a,t]),o=r.ensureState(a);o.style=n?n(s):s[JNe[t]]()}}function g2(r,e){var t=e===!1,n=r;r.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!t||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!t)}function A3(r){return!!(r&&r.__highDownDispatcher)}function QNe(r,e,t){var n=Vr(r);n.componentMainType=e.mainType,n.componentIndex=e.componentIndex,n.componentHighDownName=t}function e4e(r){var e=QX[r];return e==null&&JX<=32&&(e=QX[r]=JX++),e}function z7(r){var e=r.type;return e===cL||e===O7||e===uL}function aZ(r){var e=r.type;return e===R2||e===dD}function t4e(r){var e=gue(r);e.normalFill=r.style.fill,e.normalStroke=r.style.stroke;var t=r.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var d_=xv.CMD,r4e=[[],[],[]],sZ=Math.sqrt,n4e=Math.atan2;function Eue(r,e){if(e){var t=r.data,n=r.len(),i,a,s,o,l,c,u=d_.M,f=d_.C,d=d_.L,h=d_.R,p=d_.A,v=d_.Q;for(s=0,o=0;s<n;){switch(i=t[s++],o=s,a=0,i){case u:a=1;break;case d:a=1;break;case f:a=3;break;case v:a=2;break;case p:var x=e[4],g=e[5],_=sZ(e[0]*e[0]+e[1]*e[1]),w=sZ(e[2]*e[2]+e[3]*e[3]),A=n4e(-e[1]/w,e[0]/_);t[s]*=_,t[s++]+=x,t[s]*=w,t[s++]+=g,t[s++]*=_,t[s++]*=w,t[s++]+=A,t[s++]+=A,s+=2,o=s;break;case h:c[0]=t[s++],c[1]=t[s++],Ys(c,c,e),t[o++]=c[0],t[o++]=c[1],c[0]+=t[s++],c[1]+=t[s++],Ys(c,c,e),t[o++]=c[0],t[o++]=c[1]}for(l=0;l<a;l++){var M=r4e[l];M[0]=t[s++],M[1]=t[s++],Ys(M,M,e),t[o++]=M[0],t[o++]=M[1]}}r.increaseVersion()}}var iP=Math.sqrt,PC=Math.sin,FC=Math.cos,QT=Math.PI;function oZ(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function j7(r,e){return(r[0]*e[0]+r[1]*e[1])/(oZ(r)*oZ(e))}function lZ(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(j7(r,e))}function cZ(r,e,t,n,i,a,s,o,l,c,u){var f=l*(QT/180),d=FC(f)*(r-t)/2+PC(f)*(e-n)/2,h=-1*PC(f)*(r-t)/2+FC(f)*(e-n)/2,p=d*d/(s*s)+h*h/(o*o);p>1&&(s*=iP(p),o*=iP(p));var v=(i===a?-1:1)*iP((s*s*(o*o)-s*s*(h*h)-o*o*(d*d))/(s*s*(h*h)+o*o*(d*d)))||0,x=v*s*h/o,g=v*-o*d/s,_=(r+t)/2+FC(f)*x-PC(f)*g,w=(e+n)/2+PC(f)*x+FC(f)*g,A=lZ([1,0],[(d-x)/s,(h-g)/o]),M=[(d-x)/s,(h-g)/o],C=[(-1*d-x)/s,(-1*h-g)/o],N=lZ(M,C);if(j7(M,C)<=-1&&(N=QT),j7(M,C)>=1&&(N=0),N<0){var L=Math.round(N/QT*1e6)/1e6;N=QT*2+L%2*QT}u.addData(c,_,w,s,o,A,N,f,a)}var i4e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,a4e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function s4e(r){var e=new xv;if(!r)return e;var t=0,n=0,i=t,a=n,s,o=xv.CMD,l=r.match(i4e);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],f=u.charAt(0),d=void 0,h=u.match(a4e)||[],p=h.length,v=0;v<p;v++)h[v]=parseFloat(h[v]);for(var x=0;x<p;){var g=void 0,_=void 0,w=void 0,A=void 0,M=void 0,C=void 0,N=void 0,L=t,D=n,k=void 0,O=void 0;switch(f){case"l":t+=h[x++],n+=h[x++],d=o.L,e.addData(d,t,n);break;case"L":t=h[x++],n=h[x++],d=o.L,e.addData(d,t,n);break;case"m":t+=h[x++],n+=h[x++],d=o.M,e.addData(d,t,n),i=t,a=n,f="l";break;case"M":t=h[x++],n=h[x++],d=o.M,e.addData(d,t,n),i=t,a=n,f="L";break;case"h":t+=h[x++],d=o.L,e.addData(d,t,n);break;case"H":t=h[x++],d=o.L,e.addData(d,t,n);break;case"v":n+=h[x++],d=o.L,e.addData(d,t,n);break;case"V":n=h[x++],d=o.L,e.addData(d,t,n);break;case"C":d=o.C,e.addData(d,h[x++],h[x++],h[x++],h[x++],h[x++],h[x++]),t=h[x-2],n=h[x-1];break;case"c":d=o.C,e.addData(d,h[x++]+t,h[x++]+n,h[x++]+t,h[x++]+n,h[x++]+t,h[x++]+n),t+=h[x-2],n+=h[x-1];break;case"S":g=t,_=n,k=e.len(),O=e.data,s===o.C&&(g+=t-O[k-4],_+=n-O[k-3]),d=o.C,L=h[x++],D=h[x++],t=h[x++],n=h[x++],e.addData(d,g,_,L,D,t,n);break;case"s":g=t,_=n,k=e.len(),O=e.data,s===o.C&&(g+=t-O[k-4],_+=n-O[k-3]),d=o.C,L=t+h[x++],D=n+h[x++],t+=h[x++],n+=h[x++],e.addData(d,g,_,L,D,t,n);break;case"Q":L=h[x++],D=h[x++],t=h[x++],n=h[x++],d=o.Q,e.addData(d,L,D,t,n);break;case"q":L=h[x++]+t,D=h[x++]+n,t+=h[x++],n+=h[x++],d=o.Q,e.addData(d,L,D,t,n);break;case"T":g=t,_=n,k=e.len(),O=e.data,s===o.Q&&(g+=t-O[k-4],_+=n-O[k-3]),t=h[x++],n=h[x++],d=o.Q,e.addData(d,g,_,t,n);break;case"t":g=t,_=n,k=e.len(),O=e.data,s===o.Q&&(g+=t-O[k-4],_+=n-O[k-3]),t+=h[x++],n+=h[x++],d=o.Q,e.addData(d,g,_,t,n);break;case"A":w=h[x++],A=h[x++],M=h[x++],C=h[x++],N=h[x++],L=t,D=n,t=h[x++],n=h[x++],d=o.A,cZ(L,D,t,n,C,N,w,A,M,d,e);break;case"a":w=h[x++],A=h[x++],M=h[x++],C=h[x++],N=h[x++],L=t,D=n,t+=h[x++],n+=h[x++],d=o.A,cZ(L,D,t,n,C,N,w,A,M,d,e);break}}(f==="z"||f==="Z")&&(d=o.Z,e.addData(d),t=i,n=a),s=d}return e.toStatic(),e}var Mue=(function(r){$a(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e})(Rn);function Cue(r){return r.setData!=null}function Nue(r,e){var t=s4e(r),n=It({},e);return n.buildPath=function(i){var a=Cue(i);if(a&&i.canSave()){i.appendPath(t);var s=i.getContext();s&&i.rebuildPath(s,1)}else{var s=a?i.getContext():i;s&&t.rebuildPath(s,1)}},n.applyTransform=function(i){Eue(t,i),this.dirtyShape()},n}function Due(r,e){return new Mue(Nue(r,e))}function o4e(r,e){var t=Nue(r,e),n=(function(i){$a(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=t.applyTransform,o.buildPath=t.buildPath,o}return a})(Mue);return n}function l4e(r,e){for(var t=[],n=r.length,i=0;i<n;i++){var a=r[i];t.push(a.getUpdatedPathProxy(!0))}var s=new Rn(e);return s.createPathProxy(),s.buildPath=function(o){if(Cue(o)){o.appendPath(t);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function c9(r,e){e=e||{};var t=new Rn;return r.shape&&t.setShape(r.shape),t.setStyle(r.style),e.bakeTransform?Eue(t.path,r.getComputedTransform()):e.toLocal?t.setLocalTransform(r.getComputedTransform()):t.copyTransform(r),t.buildPath=r.buildPath,t.applyTransform=t.applyTransform,t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t}var c4e=(function(){function r(){this.cx=0,this.cy=0,this.r=0}return r})(),Ev=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new c4e},e.prototype.buildPath=function(t,n){t.moveTo(n.cx+n.r,n.cy),t.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e})(Rn);Ev.prototype.type="circle";var u4e=(function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r})(),VE=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new u4e},e.prototype.buildPath=function(t,n){var i=.5522848,a=n.cx,s=n.cy,o=n.rx,l=n.ry,c=o*i,u=l*i;t.moveTo(a-o,s),t.bezierCurveTo(a-o,s-u,a-c,s-l,a,s-l),t.bezierCurveTo(a+c,s-l,a+o,s-u,a+o,s),t.bezierCurveTo(a+o,s+u,a+c,s+l,a,s+l),t.bezierCurveTo(a-c,s+l,a-o,s+u,a-o,s),t.closePath()},e})(Rn);VE.prototype.type="ellipse";var Lue=Math.PI,aP=Lue*2,y1=Math.sin,p_=Math.cos,f4e=Math.acos,Yc=Math.atan2,uZ=Math.abs,DA=Math.sqrt,Q5=Math.max,O0=Math.min,Cp=1e-4;function h4e(r,e,t,n,i,a,s,o){var l=t-r,c=n-e,u=s-i,f=o-a,d=f*l-u*c;if(!(d*d<Cp))return d=(u*(e-a)-f*(r-i))/d,[r+d*l,e+d*c]}function BC(r,e,t,n,i,a,s){var o=r-t,l=e-n,c=(s?a:-a)/DA(o*o+l*l),u=c*l,f=-c*o,d=r+u,h=e+f,p=t+u,v=n+f,x=(d+p)/2,g=(h+v)/2,_=p-d,w=v-h,A=_*_+w*w,M=i-a,C=d*v-p*h,N=(w<0?-1:1)*DA(Q5(0,M*M*A-C*C)),L=(C*w-_*N)/A,D=(-C*_-w*N)/A,k=(C*w+_*N)/A,O=(-C*_+w*N)/A,I=L-x,j=D-g,B=k-x,K=O-g;return I*I+j*j>B*B+K*K&&(L=k,D=O),{cx:L,cy:D,x0:-u,y0:-f,x1:L*(i/M-1),y1:D*(i/M-1)}}function d4e(r){var e;if(Ut(r)){var t=r.length;if(!t)return r;t===1?e=[r[0],r[0],0,0]:t===2?e=[r[0],r[0],r[1],r[1]]:t===3?e=r.concat(r[2]):e=r}else e=[r,r,r,r];return e}function p4e(r,e){var t,n=Q5(e.r,0),i=Q5(e.r0||0,0),a=n>0,s=i>0;if(!(!a&&!s)){if(a||(n=i,i=0),i>n){var o=n;n=i,i=o}var l=e.startAngle,c=e.endAngle;if(!(isNaN(l)||isNaN(c))){var u=e.cx,f=e.cy,d=!!e.clockwise,h=uZ(c-l),p=h>aP&&h%aP;if(p>Cp&&(h=p),!(n>Cp))r.moveTo(u,f);else if(h>aP-Cp)r.moveTo(u+n*p_(l),f+n*y1(l)),r.arc(u,f,n,l,c,!d),i>Cp&&(r.moveTo(u+i*p_(c),f+i*y1(c)),r.arc(u,f,i,c,l,d));else{var v=void 0,x=void 0,g=void 0,_=void 0,w=void 0,A=void 0,M=void 0,C=void 0,N=void 0,L=void 0,D=void 0,k=void 0,O=void 0,I=void 0,j=void 0,B=void 0,K=n*p_(l),H=n*y1(l),Z=i*p_(c),Y=i*y1(c),J=h>Cp;if(J){var oe=e.cornerRadius;oe&&(t=d4e(oe),v=t[0],x=t[1],g=t[2],_=t[3]);var X=uZ(n-i)/2;if(w=O0(X,g),A=O0(X,_),M=O0(X,v),C=O0(X,x),D=N=Q5(w,A),k=L=Q5(M,C),(N>Cp||L>Cp)&&(O=n*p_(c),I=n*y1(c),j=i*p_(l),B=i*y1(l),h<Lue)){var F=h4e(K,H,j,B,O,I,Z,Y);if(F){var W=K-F[0],Q=H-F[1],re=O-F[0],ae=I-F[1],ce=1/y1(f4e((W*re+Q*ae)/(DA(W*W+Q*Q)*DA(re*re+ae*ae)))/2),ye=DA(F[0]*F[0]+F[1]*F[1]);D=O0(N,(n-ye)/(ce+1)),k=O0(L,(i-ye)/(ce-1))}}}if(!J)r.moveTo(u+K,f+H);else if(D>Cp){var fe=O0(g,D),be=O0(_,D),Oe=BC(j,B,K,H,n,fe,d),xe=BC(O,I,Z,Y,n,be,d);r.moveTo(u+Oe.cx+Oe.x0,f+Oe.cy+Oe.y0),D<N&&fe===be?r.arc(u+Oe.cx,f+Oe.cy,D,Yc(Oe.y0,Oe.x0),Yc(xe.y0,xe.x0),!d):(fe>0&&r.arc(u+Oe.cx,f+Oe.cy,fe,Yc(Oe.y0,Oe.x0),Yc(Oe.y1,Oe.x1),!d),r.arc(u,f,n,Yc(Oe.cy+Oe.y1,Oe.cx+Oe.x1),Yc(xe.cy+xe.y1,xe.cx+xe.x1),!d),be>0&&r.arc(u+xe.cx,f+xe.cy,be,Yc(xe.y1,xe.x1),Yc(xe.y0,xe.x0),!d))}else r.moveTo(u+K,f+H),r.arc(u,f,n,l,c,!d);if(!(i>Cp)||!J)r.lineTo(u+Z,f+Y);else if(k>Cp){var fe=O0(v,k),be=O0(x,k),Oe=BC(Z,Y,O,I,i,-be,d),xe=BC(K,H,j,B,i,-fe,d);r.lineTo(u+Oe.cx+Oe.x0,f+Oe.cy+Oe.y0),k<L&&fe===be?r.arc(u+Oe.cx,f+Oe.cy,k,Yc(Oe.y0,Oe.x0),Yc(xe.y0,xe.x0),!d):(be>0&&r.arc(u+Oe.cx,f+Oe.cy,be,Yc(Oe.y0,Oe.x0),Yc(Oe.y1,Oe.x1),!d),r.arc(u,f,i,Yc(Oe.cy+Oe.y1,Oe.cx+Oe.x1),Yc(xe.cy+xe.y1,xe.cx+xe.x1),d),fe>0&&r.arc(u+xe.cx,f+xe.cy,fe,Yc(xe.y1,xe.x1),Yc(xe.y0,xe.x0),!d))}else r.lineTo(u+Z,f+Y),r.arc(u,f,i,c,l,d)}r.closePath()}}}var v4e=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r})(),Sc=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new v4e},e.prototype.buildPath=function(t,n){p4e(t,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e})(Rn);Sc.prototype.type="sector";var m4e=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r})(),zS=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new m4e},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.PI*2;t.moveTo(i+n.r,a),t.arc(i,a,n.r,0,s,!1),t.moveTo(i+n.r0,a),t.arc(i,a,n.r0,0,s,!0)},e})(Rn);zS.prototype.type="ring";function g4e(r,e,t,n){var i=[],a=[],s=[],o=[],l,c,u,f;if(n){u=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=r.length;d<h;d++)Fm(u,u,r[d]),Bm(f,f,r[d]);Fm(u,u,n[0]),Bm(f,f,n[1])}for(var d=0,h=r.length;d<h;d++){var p=r[d];if(t)l=r[d?d-1:h-1],c=r[(d+1)%h];else if(d===0||d===h-1){i.push(ov(r[d]));continue}else l=r[d-1],c=r[d+1];kx(a,c,l),SA(a,a,e);var v=KD(p,l),x=KD(p,c),g=v+x;g!==0&&(v/=g,x/=g),SA(s,a,-v),SA(o,a,x);var _=s7([],p,s),w=s7([],p,o);n&&(Bm(_,_,u),Fm(_,_,f),Bm(w,w,u),Fm(w,w,f)),i.push(_),i.push(w)}return t&&i.push(i.shift()),i}function Rue(r,e,t){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var a=g4e(i,n,t,e.smoothConstraint);r.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(t?s:s-1);o++){var l=a[o*2],c=a[o*2+1],u=i[(o+1)%s];r.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{r.moveTo(i[0][0],i[0][1]);for(var o=1,f=i.length;o<f;o++)r.lineTo(i[o][0],i[o][1])}t&&r.closePath()}}var x4e=(function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r})(),Tc=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new x4e},e.prototype.buildPath=function(t,n){Rue(t,n,!0)},e})(Rn);Tc.prototype.type="polygon";var y4e=(function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r})(),Kl=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new y4e},e.prototype.buildPath=function(t,n){Rue(t,n,!1)},e})(Rn);Kl.prototype.type="polyline";var b4e={},_4e=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})(),mo=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new _4e},e.prototype.buildPath=function(t,n){var i,a,s,o;if(this.subPixelOptimize){var l=Yk(b4e,n,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=n.x1,a=n.y1,s=n.x2,o=n.y2;var c=n.percent;c!==0&&(t.moveTo(i,a),c<1&&(s=i*(1-c)+s*c,o=a*(1-c)+o*c),t.lineTo(s,o))},e.prototype.pointAt=function(t){var n=this.shape;return[n.x1*(1-t)+n.x2*t,n.y1*(1-t)+n.y2*t]},e})(Rn);mo.prototype.type="line";var Lf=[],w4e=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r})();function fZ(r,e,t){var n=r.cpx2,i=r.cpy2;return n!=null||i!=null?[(t?vX:xl)(r.x1,r.cpx1,r.cpx2,r.x2,e),(t?vX:xl)(r.y1,r.cpy1,r.cpy2,r.y2,e)]:[(t?d7:Yl)(r.x1,r.cpx1,r.x2,e),(t?d7:Yl)(r.y1,r.cpy1,r.y2,e)]}var jS=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new w4e},e.prototype.buildPath=function(t,n){var i=n.x1,a=n.y1,s=n.x2,o=n.y2,l=n.cpx1,c=n.cpy1,u=n.cpx2,f=n.cpy2,d=n.percent;d!==0&&(t.moveTo(i,a),u==null||f==null?(d<1&&(x3(i,l,s,d,Lf),l=Lf[1],s=Lf[2],x3(a,c,o,d,Lf),c=Lf[1],o=Lf[2]),t.quadraticCurveTo(l,c,s,o)):(d<1&&(iy(i,l,u,s,d,Lf),l=Lf[1],u=Lf[2],s=Lf[3],iy(a,c,f,o,d,Lf),c=Lf[1],f=Lf[2],o=Lf[3]),t.bezierCurveTo(l,c,u,f,s,o)))},e.prototype.pointAt=function(t){return fZ(this.shape,t,!1)},e.prototype.tangentAt=function(t){var n=fZ(this.shape,t,!0);return hb(n,n)},e})(Rn);jS.prototype.type="bezier-curve";var S4e=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),HE=(function(r){$a(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new S4e},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,c=n.clockwise,u=Math.cos(o),f=Math.sin(o);t.moveTo(u*s+i,f*s+a),t.arc(i,a,s,o,l,!c)},e})(Rn);HE.prototype.type="arc";var GE=(function(r){$a(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,n=this.shapeChanged(),i=0;i<t.length;i++)n=n||t[i].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(n[0],n[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Rn.prototype.getBoundingRect.call(this)},e})(Rn),kue=(function(){function r(e){this.colorStops=e||[]}return r.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},r})(),db=(function(r){$a(e,r);function e(t,n,i,a,s,o){var l=r.call(this,s)||this;return l.x=t??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return e})(kue),u9=(function(r){$a(e,r);function e(t,n,i,a,s){var o=r.call(this,a)||this;return o.x=t??.5,o.y=n??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return e})(kue),sP=Math.min,T4e=Math.max,zC=Math.abs,b1=[0,0],_1=[0,0],Hl=yce(),jC=Hl.minTv,UC=Hl.maxTv,Iue=(function(){function r(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Fr;for(var n=0;n<2;n++)this._axes[n]=new Fr;e&&this.fromBoundingRect(e,t)}return r.prototype.fromBoundingRect=function(e,t){var n=this._corners,i=this._axes,a=e.x,s=e.y,o=a+e.width,l=s+e.height;if(n[0].set(a,s),n[1].set(o,s),n[2].set(o,l),n[3].set(a,l),t)for(var c=0;c<4;c++)n[c].transform(t);Fr.sub(i[0],n[1],n[0]),Fr.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var c=0;c<2;c++)this._origin[c]=i[c].dot(n[0])},r.prototype.intersect=function(e,t,n){var i=!0,a=!t;return t&&Fr.set(t,0,0),Hl.reset(n,!a),!this._intersectCheckOneSide(this,e,a,1)&&(i=!1,a)||!this._intersectCheckOneSide(e,this,a,-1)&&(i=!1,a)||!a&&!Hl.negativeSize&&Fr.copy(t,i?Hl.useDir?Hl.dirMinTv:jC:UC),i},r.prototype._intersectCheckOneSide=function(e,t,n,i){for(var a=!0,s=0;s<2;s++){var o=e._axes[s];if(e._getProjMinMaxOnAxis(s,e._corners,b1),e._getProjMinMaxOnAxis(s,t._corners,_1),Hl.negativeSize||b1[1]<_1[0]||b1[0]>_1[1]){if(a=!1,Hl.negativeSize||n)return a;var l=zC(_1[0]-b1[1]),c=zC(b1[0]-_1[1]);sP(l,c)>UC.len()&&(l<c?Fr.scale(UC,o,-l*i):Fr.scale(UC,o,c*i))}else if(!n){var l=zC(_1[0]-b1[1]),c=zC(b1[0]-_1[1]);(Hl.useDir||sP(l,c)<jC.len())&&((l<c||!Hl.bidirectional)&&(Fr.scale(jC,o,l*i),Hl.useDir&&Hl.calcDirMTV()),(l>=c||!Hl.bidirectional)&&(Fr.scale(jC,o,-c*i),Hl.useDir&&Hl.calcDirMTV()))}}return a},r.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var i=this._axes[e],a=this._origin,s=t[0].dot(i)+a[e],o=s,l=s,c=1;c<t.length;c++){var u=t[c].dot(i)+a[e];o=sP(u,o),l=T4e(u,l)}n[0]=o+Hl.touchThreshold,n[1]=l-Hl.touchThreshold,Hl.negativeSize=n[1]<n[0]},r})(),A4e=[],Oue=(function(r){$a(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,n){n?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,n){n=n||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var n=this._cursor;n<this._displayables.length;n++)t&&t(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)t&&t(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var n=this._displayables[t];n.parent=this,n.update(),n.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var n=this._temporaryDisplayables[t];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Br(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(A4e)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(t,n))return!0}return!1},e})(Bd),Pue=Mn();function US(r,e,t,n,i){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=r==="update";if(o){var c=void 0,u=void 0,f=void 0;n?(c=wr(n.duration,200),u=wr(n.easing,"cubicOut"),f=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(c=a.duration),a.easing!=null&&(u=a.easing),a.delay!=null&&(f=a.delay)),Tr(f)&&(f=f(t,i)),Tr(c)&&(c=c(t));var d={duration:c||0,delay:f,easing:u};return d}else return null}function f9(r,e,t,n,i,a,s){var o=!1,l;Tr(i)?(s=a,a=i,i=null):kr(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var c=r==="leave";c||e.stopAnimation("leave");var u=US(r,n,i,c?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null);if(u&&u.duration>0){var f=u.duration,d=u.delay,h=u.easing,p={duration:f,delay:d||0,easing:h,done:a,force:!!a||!!s,setToFinal:!c,scope:r,during:s};o?e.animateFrom(t,p):e.animateTo(t,p)}else e.stopAnimation(),!o&&e.attr(t),s&&s(1),a&&a()}function si(r,e,t,n,i,a){f9("update",r,e,t,n,i,a)}function Ua(r,e,t,n,i,a){f9("enter",r,e,t,n,i,a)}function jw(r){if(!r.__zr)return!0;for(var e=0;e<r.animators.length;e++){var t=r.animators[e];if(t.scope==="leave")return!0}return!1}function ay(r,e,t,n,i,a){jw(r)||f9("leave",r,e,t,n,i,a)}function hZ(r,e,t,n){r.removeTextContent(),r.removeTextGuideLine(),ay(r,{style:{opacity:0}},e,t,n)}function qm(r,e,t){function n(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(i){i.isGroup||hZ(i,e,t,n)}):hZ(r,e,t,n)}function zd(r){Pue(r).oldStyle=r.style}function E4e(r){return Pue(r).oldStyle}var U7={},nn=["x","y"],jo=["width","height"];function Fue(r){return Rn.extend(r)}var M4e=o4e;function Bue(r,e){return M4e(r,e)}function Hd(r,e){U7[r]=e}function E3(r){if(U7.hasOwnProperty(r))return U7[r]}function rS(r,e,t,n){var i=Due(r,e);return t&&(n==="center"&&(t=zue(t,i.getBoundingRect())),d9(i,t)),i}function h9(r,e,t){var n=new Nl({style:{image:r,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var a={width:i.width,height:i.height};n.setStyle(zue(e,a))}}});return n}function zue(r,e){var t=e.width/e.height,n=r.height*t,i;n<=r.width?i=r.height:(n=r.width,i=n/t);var a=r.x+r.width/2,s=r.y+r.height/2;return{x:a-n/2,y:s-i/2,width:n,height:i}}var Eh=l4e;function d9(r,e){if(r.applyTransform){var t=r.getBoundingRect(),n=t.calculateTransform(e);r.applyTransform(n)}}function nS(r,e){return Yk(r,r,{lineWidth:e}),r}function C4e(r,e){return pue(r,r,e),r}var pD=Rh;function $x(r,e){for(var t=BE([]);r&&r!==e;)Vp(t,r.getLocalTransform(),t),r=r.parent;return t}function Gp(r,e,t){return e&&!_c(e)&&(e=zm.getLocalTransform(e)),t&&(e=Fd([],e)),Ys([],r,e)}function Zk(r,e,t){var n=e[4]===0||e[5]===0||e[0]===0?1:Q0(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Q0(2*e[4]/e[2]),a=[r==="left"?-n:r==="right"?n:0,r==="top"?-i:r==="bottom"?i:0];return a=Gp(a,e,t),Q0(a[0])>Q0(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function dZ(r){return!r.isGroup}function N4e(r){return r.shape!=null}function WE(r,e,t){if(!r||!e)return;function n(s){var o={};return s.traverse(function(l){dZ(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return N4e(s)&&(o.shape=Cr(s.shape)),o}var a=n(r);e.traverse(function(s){if(dZ(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),si(s,l,t,Vr(s).dataIndex)}}})}function p9(r,e){return Gt(r,function(t){var n=t[0];n=po(n,e.x),n=Oh(n,e.x+e.width);var i=t[1];return i=po(i,e.y),i=Oh(i,e.y+e.height),[n,i]})}function jue(r,e){var t=po(r.x,e.x),n=Oh(r.x+r.width,e.x+e.width),i=po(r.y,e.y),a=Oh(r.y+r.height,e.y+e.height);if(n>=t&&a>=i)return{x:t,y:i,width:n-t,height:a-i}}function VS(r,e,t){var n=It({rectHover:!0},e),i=n.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(i.image=r.slice(8),Rr(i,t),new Nl(n)):rS(r.replace("path://",""),n,t,"center")}function eA(r,e,t,n,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(Uue(r,e,t,n,o[0],o[1],s[0],s[1]))return!0;s=o}}function Uue(r,e,t,n,i,a,s,o){var l=t-r,c=n-e,u=s-i,f=o-a,d=oP(u,f,l,c);if(D4e(d))return!1;var h=r-i,p=e-a,v=oP(h,p,l,c)/d;if(v<0||v>1)return!1;var x=oP(h,p,u,f)/d;return!(x<0||x>1)}function oP(r,e,t,n){return r*n-t*e}function D4e(r){return r<=1e-6&&r>=-1e-6}function $2(r,e,t,n,i){return e==null||(Jn(e)?hs[0]=hs[1]=hs[2]=hs[3]=e:(hs[0]=e[0],hs[1]=e[1],hs[2]=e[2],hs[3]=e[3]),n&&(hs[0]=po(0,hs[0]),hs[1]=po(0,hs[1]),hs[2]=po(0,hs[2]),hs[3]=po(0,hs[3])),t&&(hs[0]=-hs[0],hs[1]=-hs[1],hs[2]=-hs[2],hs[3]=-hs[3]),pZ(r,hs,"x","width",3,1,i&&i[0]||0),pZ(r,hs,"y","height",0,2,i&&i[1]||0)),r}var hs=[0,0,0,0];function pZ(r,e,t,n,i,a,s){var o=e[a]+e[i],l=r[n];r[n]+=o,s=po(0,Oh(s,l)),r[n]<s?(r[n]=s,r[t]+=e[i]>=0?-e[i]:e[a]>=0?l+e[a]:Q0(o)>1e-8?(l-s)*e[i]/o:0):r[t]-=e[i]}function bg(r){var e=r.itemTooltipOption,t=r.componentModel,n=r.itemName,i=fr(e)?{formatter:e}:e,a=t.mainType,s=t.componentIndex,o={componentType:a,name:n,$vars:["name"]};o[a+"Index"]=s;var l=r.formatterParamsExtra;l&&he(Wn(l),function(u){gr(o,u)||(o[u]=l[u],o.$vars.push(u))});var c=Vr(r.el);c.componentMainType=a,c.componentIndex=s,c.tooltipConfig={name:n,option:Rr({content:n,encodeHTMLContent:!0,formatterParams:o},i)}}function V7(r,e){var t;r.isGroup&&(t=e(r)),t||r.traverse(e)}function Ty(r,e){if(r)if(Ut(r))for(var t=0;t<r.length;t++)V7(r[t],e);else V7(r,e)}function v9(r){return!r||Q0(r[1])<VC&&Q0(r[2])<VC||Q0(r[0])<VC&&Q0(r[3])<VC}var VC=1e-5;function M3(r,e){return r?Br.copy(r,e):e.clone()}function m9(r,e){return e?zE(r||wl(),e):void 0}function J2(r){return{z:r.get("z")||0,zlevel:r.get("zlevel")||0}}function Vue(r){var e=-1/0,t=1/0;V7(r,function(a){n(a),n(a.getTextContent()),n(a.getTextGuideLine())});function n(a){if(!(!a||a.isGroup)){var s=a.currentStates;if(s.length)for(var o=0;o<s.length;o++)i(a.states[s[o]]);i(a)}}function i(a){if(a){var s=a.z2;s>e&&(e=s),s<t&&(t=s)}}return t>e&&(t=e=0),{min:t,max:e}}function Kk(r,e,t){Hue(r,e,t,-1/0)}function Hue(r,e,t,n){if(r.ignoreModelZ)return n;var i=r.getTextContent(),a=r.getTextGuideLine(),s=r.isGroup;if(s)for(var o=r.childrenRef(),l=0;l<o.length;l++)n=po(Hue(o[l],e,t,n),n);else r.z=e,r.zlevel=t,n=po(r.z2||0,n);if(i&&(i.z=e,i.zlevel=t,isFinite(n)&&(i.z2=n+2)),a){var c=r.textGuideLineConfig;a.z=e,a.zlevel=t,isFinite(n)&&(a.z2=n+(c&&c.showAbove?1:-1))}return n}Hd("circle",Ev);Hd("ellipse",VE);Hd("sector",Sc);Hd("ring",zS);Hd("polygon",Tc);Hd("polyline",Kl);Hd("rect",_n);Hd("line",mo);Hd("bezierCurve",jS);Hd("arc",HE);const pb=Object.freeze(Object.defineProperty({__proto__:null,Arc:HE,BezierCurve:jS,BoundingRect:Br,Circle:Ev,CompoundPath:GE,Ellipse:VE,Group:Nr,Image:Nl,IncrementalDisplayable:Oue,Line:mo,LinearGradient:db,OrientedBoundingRect:Iue,Path:Rn,Point:Fr,Polygon:Tc,Polyline:Kl,RadialGradient:u9,Rect:_n,Ring:zS,Sector:Sc,Text:$n,WH:jo,XY:nn,applyTransform:Gp,calcZ2Range:Vue,clipPointsByRect:p9,clipRectByRect:jue,createIcon:VS,ensureCopyRect:M3,ensureCopyTransform:m9,expandOrShrinkRect:$2,extendPath:Bue,extendShape:Fue,getShapeClass:E3,getTransform:$x,groupTransition:WE,initProps:Ua,isBoundingRectAxisAligned:v9,isElementRemoved:jw,lineLineIntersect:Uue,linePolygonIntersect:eA,makeImage:h9,makePath:rS,mergePath:Eh,registerShape:Hd,removeElement:ay,removeElementWithFadeOut:qm,resizePath:d9,retrieveZInfo:J2,setTooltipConfig:bg,subPixelOptimize:pD,subPixelOptimizeLine:nS,subPixelOptimizeRect:C4e,transformDirection:Zk,traverseElements:Ty,traverseUpdateZ:Kk,updateProps:si},Symbol.toStringTag,{value:"Module"}));var $k={};function Gue(r,e){for(var t=0;t<Qu.length;t++){var n=Qu[t],i=e[n],a=r.ensureState(n);a.style=a.style||{},a.style.text=i}var s=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:e.normal}),r.useStates(s,!0)}function H7(r,e,t){var n=r.labelFetcher,i=r.labelDataIndex,a=r.labelDimIndex,s=e.normal,o;n&&(o=n.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),o==null&&(o=Tr(r.defaultText)?r.defaultText(i,r,t):r.defaultText);for(var l={normal:o},c=0;c<Qu.length;c++){var u=Qu[c],f=e[u];l[u]=wr(n?n.getFormattedLabel(i,u,null,a,f&&f.get("formatter")):null,o)}return l}function Al(r,e,t,n){t=t||$k;for(var i=r instanceof $n,a=!1,s=0;s<T3.length;s++){var o=e[T3[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?r:r.getTextContent();if(a){i||(l||(l=new $n,r.setTextContent(l)),r.stateProxy&&(l.stateProxy=r.stateProxy));var c=H7(t,e),u=e.normal,f=!!u.getShallow("show"),d=Sa(u,n&&n.normal,t,!1,!i);d.text=c.normal,i||r.setTextConfig(hL(u,t,!1));for(var s=0;s<Qu.length;s++){var h=Qu[s],o=e[h];if(o){var p=l.ensureState(h),v=!!wr(o.getShallow("show"),f);if(v!==f&&(p.ignore=!v),p.style=Sa(o,n&&n[h],t,!0,!i),p.style.text=c[h],!i){var x=r.ensureState(h);x.textConfig=hL(o,t,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),t.enableTextSetter&&(HS(l).setLabelText=function(g){var _=H7(t,e,g);Gue(l,_)})}else l&&(l.ignore=!0);r.dirty()}function il(r,e){e=e||"label";for(var t={normal:r.getModel(e)},n=0;n<Qu.length;n++){var i=Qu[n];t[i]=r.getModel([i,e])}return t}function Sa(r,e,t,n,i){var a={};return L4e(a,r,t,n,i),e&&It(a,e),a}function hL(r,e,t){e=e||{};var n={},i,a=r.getShallow("rotate"),s=wr(r.getShallow("distance"),t?null:5),o=r.getShallow("offset");return i=r.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(n.position=i),o!=null&&(n.offset=o),a!=null&&(a*=Math.PI/180,n.rotation=a),s!=null&&(n.distance=s),n.outsideFill=r.get("color")==="inherit"?e.inheritColor||null:"auto",e.autoOverflowArea!=null&&(n.autoOverflowArea=e.autoOverflowArea),e.layoutRect!=null&&(n.layoutRect=e.layoutRect),n}function L4e(r,e,t,n,i){t=t||$k;var a=e.ecModel,s=a&&a.option.textStyle,o=R4e(e),l;if(o){l={};var c="richInheritPlainLabel",u=wr(e.get(c),a?a.get(c):void 0);for(var f in o)if(o.hasOwnProperty(f)){var d=e.getModel(["rich",f]);xZ(l[f]={},d,s,e,u,t,n,i,!1,!0)}}l&&(r.rich=l);var h=e.get("overflow");h&&(r.overflow=h);var p=e.get("lineOverflow");p&&(r.lineOverflow=p);var v=r,x=e.get("minMargin");if(x!=null)x=Jn(x)?x/2:0,v.margin=[x,x,x,x],v.__marginType=yw.minMargin;else{var g=e.get("textMargin");g!=null&&(v.margin=PE(g),v.__marginType=yw.textMargin)}xZ(r,e,s,null,null,t,n,i,!0,!1)}function R4e(r){for(var e;r&&r!==r.ecModel;){var t=(r.option||$k).rich;if(t){e=e||{};for(var n=Wn(t),i=0;i<n.length;i++){var a=n[i];e[a]=1}}r=r.parentModel}return e}var vZ=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],mZ=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],gZ=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function xZ(r,e,t,n,i,a,s,o,l,c){t=!s&&t||$k;var u=a&&a.inheritColor,f=e.getShallow("color"),d=e.getShallow("textBorderColor"),h=wr(e.getShallow("opacity"),t.opacity);(f==="inherit"||f==="auto")&&(u?f=u:f=null),(d==="inherit"||d==="auto")&&(u?d=u:d=null),o||(f=f||t.color,d=d||t.textBorderColor),f!=null&&(r.fill=f),d!=null&&(r.stroke=d);var p=wr(e.getShallow("textBorderWidth"),t.textBorderWidth);p!=null&&(r.lineWidth=p);var v=wr(e.getShallow("textBorderType"),t.textBorderType);v!=null&&(r.lineDash=v);var x=wr(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);x!=null&&(r.lineDashOffset=x),!s&&h==null&&!c&&(h=a&&a.defaultOpacity),h!=null&&(r.opacity=h),!s&&!o&&r.fill==null&&a.inheritColor&&(r.fill=a.inheritColor);for(var g=0;g<vZ.length;g++){var _=vZ[g],w=i!==!1&&n?Hf(e.getShallow(_),n.getShallow(_),t[_]):wr(e.getShallow(_),t[_]);w!=null&&(r[_]=w)}for(var g=0;g<mZ.length;g++){var _=mZ[g],w=e.getShallow(_);w!=null&&(r[_]=w)}if(r.verticalAlign==null){var A=e.getShallow("baseline");A!=null&&(r.verticalAlign=A)}if(!l||!a.disableBox){for(var g=0;g<gZ.length;g++){var _=gZ[g],w=e.getShallow(_);w!=null&&(r[_]=w)}var M=e.getShallow("borderType");M!=null&&(r.borderDash=M),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&u&&(r.backgroundColor=u),(r.borderColor==="auto"||r.borderColor==="inherit")&&u&&(r.borderColor=u)}}function g9(r,e){var t=e&&e.getModel("textStyle");return Nh([r.fontStyle||t&&t.getShallow("fontStyle")||"",r.fontWeight||t&&t.getShallow("fontWeight")||"",(r.fontSize||t&&t.getShallow("fontSize")||12)+"px",r.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var HS=Mn();function Wue(r,e,t,n){if(r){var i=HS(r);i.prevValue=i.value,i.value=t;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=e)}}function Yue(r,e,t,n,i){var a=HS(r);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=wr(a.interpolatedValue,a.prevValue),l=a.value;function c(u){var f=iue(t,a.precision,o,l,u);a.interpolatedValue=u===1?null:f;var d=H7({labelDataIndex:e,labelFetcher:i,defaultText:s?s(f):f+""},a.statesModels,f);Gue(r,d)}r.percent=0,(a.prevValue==null?Ua:si)(r,{percent:1},n,e,null,c)}var yw={minMargin:1,textMargin:2},k4e=["textStyle","color"],lP=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],cP=new $n,I4e=(function(){function r(){}return r.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(k4e):null)},r.prototype.getFont=function(){return g9({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<lP.length;n++)t[lP[n]]=this.getShallow(lP[n]);return cP.useStyle(t),cP.update(),cP.getBoundingRect()},r})(),que=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],O4e=Z2(que),P4e=(function(){function r(){}return r.prototype.getLineStyle=function(e){return O4e(this,e)},r})(),Xue=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],F4e=Z2(Xue),B4e=(function(){function r(){}return r.prototype.getItemStyle=function(e,t){return F4e(this,e,t)},r})(),Ln=(function(){function r(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return r.prototype.init=function(e,t,n){},r.prototype.mergeOption=function(e,t){pn(this.option,e,!0)},r.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},r.prototype.getShallow=function(e,t){var n=this.option,i=n==null?n:n[e];if(i==null&&!t){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},r.prototype.getModel=function(e,t){var n=e!=null,i=n?this.parsePath(e):null,a=n?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new r(a,t,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var e=this.constructor;return new e(Cr(this.option))},r.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},r.prototype.resolveParentPath=function(e){return e},r.prototype.isAnimationEnabled=function(){if(!Un.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&!(e[i]&&(n=n&&typeof n=="object"?n[e[i]]:null,n==null));i++);return n==null&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},r})();e9(Ln);ZCe(Ln);qs(Ln,P4e);qs(Ln,B4e);qs(Ln,eNe);qs(Ln,I4e);var z4e=Math.round(Math.random()*10);function GS(r){return[r||"",z4e++].join("_")}function j4e(r){var e={};r.registerSubTypeDefaulter=function(t,n){var i=ev(t);e[i.main]=n},r.determineSubType=function(t,n){var i=n.type;if(!i){var a=ev(t).main;r.hasSubTypes(t)&&e[a]&&(i=e[a](n))}return i}}function U4e(r,e){r.topologicalTravel=function(a,s,o,l){if(!a.length)return;var c=t(s),u=c.graph,f=c.noEntryList,d={};for(he(a,function(_){d[_]=!0});f.length;){var h=f.pop(),p=u[h],v=!!d[h];v&&(o.call(l,h,p.originalDeps.slice()),delete d[h]),he(p.successor,v?g:x)}he(d,function(){var _="";throw new Error(_)});function x(_){u[_].entryCount--,u[_].entryCount===0&&f.push(_)}function g(_){d[_]=!0,x(_)}};function t(a){var s={},o=[];return he(a,function(l){var c=n(s,l),u=c.originalDeps=e(l),f=i(u,a);c.entryCount=f.length,c.entryCount===0&&o.push(l),he(f,function(d){hn(c.predecessor,d)<0&&c.predecessor.push(d);var h=n(s,d);hn(h.successor,d)<0&&h.successor.push(l)})}),{graph:s,noEntryList:o}}function n(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return he(a,function(l){hn(s,l)>=0&&o.push(l)}),o}}function Ay(r,e){return pn(pn({},r,!0),e,!0)}const V4e={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},H4e={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var dL="ZH",x9="EN",Uw=x9,vD={},y9={},Zue=Un.domSupported?(function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Uw).toUpperCase();return r.indexOf(dL)>-1?dL:Uw})():Uw;function b9(r,e){r=r.toUpperCase(),y9[r]=new Ln(e),vD[r]=e}function G4e(r){if(fr(r)){var e=vD[r.toUpperCase()]||{};return r===dL||r===x9?Cr(e):pn(Cr(e),Cr(vD[Uw]),!1)}else return pn(Cr(r),Cr(vD[Uw]),!1)}function G7(r){return y9[r]}function W4e(){return y9[Uw]}b9(x9,V4e);b9(dL,H4e);var W7=null;function Y4e(r){W7||(W7=r)}function Bo(){return W7}var _9=1e3,w9=_9*60,LA=w9*60,Nd=LA*24,yZ=Nd*365,q4e={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},mD={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},X4e="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",HC="{yyyy}-{MM}-{dd}",bZ={year:"{yyyy}",month:"{yyyy}-{MM}",day:HC,hour:HC+" "+mD.hour,minute:HC+" "+mD.minute,second:HC+" "+mD.second,millisecond:X4e},wh=["year","month","day","hour","minute","second","millisecond"],Z4e=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function K4e(r){return!fr(r)&&!Tr(r)?$4e(r):r}function $4e(r){r=r||{};var e={},t=!0;return he(wh,function(n){t&&(t=r[n]==null)}),he(wh,function(n,i){var a=r[n];e[n]={};for(var s=null,o=i;o>=0;o--){var l=wh[o],c=kr(a)&&!Ut(a)?a[l]:a,u=void 0;Ut(c)?(u=c.slice(),s=u[0]||""):fr(c)?(s=c,u=[s]):(s==null?s=mD[n]:q4e[l].test(s)||(s=e[l][l][0]+" "+s),u=[s],t&&(u[1]="{primary|"+s+"}")),e[n][l]=u}}),e}function Uu(r,e){return r+="","0000".substr(0,e-r.length)+r}function RA(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function J4e(r){return r===RA(r)}function Q4e(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function YE(r,e,t,n){var i=Av(r),a=i[Kue(t)](),s=i[S9(t)]()+1,o=Math.floor((s-1)/3)+1,l=i[T9(t)](),c=i["get"+(t?"UTC":"")+"Day"](),u=i[A9(t)](),f=(u-1)%12+1,d=i[E9(t)](),h=i[M9(t)](),p=i[C9(t)](),v=u>=12?"pm":"am",x=v.toUpperCase(),g=n instanceof Ln?n:G7(n||Zue)||W4e(),_=g.getModel("time"),w=_.get("month"),A=_.get("monthAbbr"),M=_.get("dayOfWeek"),C=_.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,v+"").replace(/{A}/g,x+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Uu(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,w[s-1]).replace(/{MMM}/g,A[s-1]).replace(/{MM}/g,Uu(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Uu(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,M[c]).replace(/{ee}/g,C[c]).replace(/{e}/g,c+"").replace(/{HH}/g,Uu(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Uu(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Uu(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Uu(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Uu(p,3)).replace(/{S}/g,p+"")}function eDe(r,e,t,n,i){var a=null;if(fr(t))a=t;else if(Tr(t)){var s={time:r.time,level:r.time.level},o=Bo();o&&o.makeAxisLabelFormatterParamBreak(s,r.break),a=t(r.value,e,s)}else{var l=r.time;if(l){var c=t[l.lowerTimeUnit][l.upperTimeUnit];a=c[Math.min(l.level,c.length-1)]||""}else{var u=bw(r.value,i);a=t[u][u][0]}}return YE(new Date(r.value),a,i,n)}function bw(r,e){var t=Av(r),n=t[S9(e)]()+1,i=t[T9(e)](),a=t[A9(e)](),s=t[E9(e)](),o=t[M9(e)](),l=t[C9(e)](),c=l===0,u=c&&o===0,f=u&&s===0,d=f&&a===0,h=d&&i===1,p=h&&n===1;return p?"year":h?"month":d?"day":f?"hour":u?"minute":c?"second":"millisecond"}function pL(r,e,t){switch(e){case"year":r[$ue(t)](0);case"month":r[Jue(t)](1);case"day":r[Que(t)](0);case"hour":r[efe(t)](0);case"minute":r[tfe(t)](0);case"second":r[rfe(t)](0)}return r}function Kue(r){return r?"getUTCFullYear":"getFullYear"}function S9(r){return r?"getUTCMonth":"getMonth"}function T9(r){return r?"getUTCDate":"getDate"}function A9(r){return r?"getUTCHours":"getHours"}function E9(r){return r?"getUTCMinutes":"getMinutes"}function M9(r){return r?"getUTCSeconds":"getSeconds"}function C9(r){return r?"getUTCMilliseconds":"getMilliseconds"}function tDe(r){return r?"setUTCFullYear":"setFullYear"}function $ue(r){return r?"setUTCMonth":"setMonth"}function Jue(r){return r?"setUTCDate":"setDate"}function Que(r){return r?"setUTCHours":"setHours"}function efe(r){return r?"setUTCMinutes":"setMinutes"}function tfe(r){return r?"setUTCSeconds":"setSeconds"}function rfe(r){return r?"setUTCMilliseconds":"setMilliseconds"}function rDe(r,e,t,n,i,a,s,o){var l=new $n({style:{text:r,font:e,align:t,verticalAlign:n,padding:i,rich:a,overflow:s?"truncate":null,lineHeight:o}});return l.getBoundingRect()}function N9(r){if(!$U(r))return fr(r)?r:"-";var e=(r+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function D9(r,e){return r=(r||"").toLowerCase().replace(/-(.)/g,function(t,n){return n.toUpperCase()}),e&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var WS=PE;function Y7(r,e,t){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(u){return u&&Nh(u)?u:"-"}function a(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var s=e==="time",o=r instanceof Date;if(s||o){var l=s?Av(r):r;if(isNaN(+l)){if(o)return"-"}else return YE(l,n,t)}if(e==="ordinal")return XD(r)?i(r):Jn(r)&&a(r)?r+"":"-";var c=gv(r);return a(c)?N9(c):XD(r)?i(r):typeof r=="boolean"?r+"":"-"}var _Z=["a","b","c","d","e","f","g"],uP=function(r,e){return"{"+r+(e??"")+"}"};function L9(r,e,t){Ut(e)||(e=[e]);var n=e.length;if(!n)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var s=_Z[a];r=r.replace(uP(s),uP(s,0))}for(var o=0;o<n;o++)for(var l=0;l<i.length;l++){var c=e[o][i[l]];r=r.replace(uP(_Z[l],o),t?tu(c):c)}return r}function nDe(r,e,t){return he(e,function(n,i){r=r.replace("{"+i+"}",n)}),r}function nfe(r,e){var t=fr(r)?{color:r,extraCssText:e}:r||{},n=t.color,i=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+tu(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+tu(n)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function iDe(r,e,t){(r==="week"||r==="month"||r==="quarter"||r==="half-year"||r==="year")&&(r=`MM-dd
yyyy`);var n=Av(e),i=t?"getUTC":"get",a=n[i+"FullYear"](),s=n[i+"Month"]()+1,o=n[i+"Date"](),l=n[i+"Hours"](),c=n[i+"Minutes"](),u=n[i+"Seconds"](),f=n[i+"Milliseconds"]();return r=r.replace("MM",Uu(s,2)).replace("M",s).replace("yyyy",a).replace("yy",Uu(a%100+"",2)).replace("dd",Uu(o,2)).replace("d",o).replace("hh",Uu(l,2)).replace("h",l).replace("mm",Uu(c,2)).replace("m",c).replace("ss",Uu(u,2)).replace("s",u).replace("SSS",Uu(f,3)),r}function aDe(r){return r&&r.charAt(0).toUpperCase()+r.substr(1)}function Q2(r,e){return e=e||"transparent",fr(r)?r:kr(r)&&r.colorStops&&(r.colorStops[0]||{}).color||e}function vL(r,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=r}else window.open(r,e)}var gD={},fP={},YS=(function(){function r(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return r.prototype.create=function(e,t){this._nonSeriesBoxMasterList=n(gD),this._normalMasterList=n(fP);function n(i,a){var s=[];return he(i,function(o,l){var c=o.create(e,t);s=s.concat(c||[])}),s}},r.prototype.update=function(e,t){he(this._normalMasterList,function(n){n.update&&n.update(e,t)})},r.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},r.register=function(e,t){if(e==="matrix"||e==="calendar"){gD[e]=t;return}fP[e]=t},r.get=function(e){return fP[e]||gD[e]},r})();function sDe(r){return!!gD[r]}var q7={coord:1,coord2:2};function oDe(r){ife.set(r.fullType,{getCoord2:void 0}).getCoord2=r.getCoord2}var ife=br();function lDe(r){var e=r.getShallow("coord",!0),t=q7.coord;if(e==null){var n=ife.get(r.type);n&&n.getCoord2&&(t=q7.coord2,e=n.getCoord2(r))}return{coord:e,from:t}}var X0={none:0,dataCoordSys:1,boxCoordSys:2};function afe(r,e){var t=r.getShallow("coordinateSystem"),n=r.getShallow("coordinateSystemUsage",!0),i=X0.none;if(t){var a=r.mainType==="series";n==null&&(n=a?"data":"box"),n==="data"?(i=X0.dataCoordSys,a||(i=X0.none)):n==="box"&&(i=X0.boxCoordSys,!a&&!sDe(t)&&(i=X0.none))}return{coordSysType:t,kind:i}}function qE(r){var e=r.targetModel,t=r.coordSysType,n=r.coordSysProvider,i=r.isDefaultDataCoordSys;r.allowNotFound;var a=afe(e),s=a.kind,o=a.coordSysType;if(i&&s!==X0.dataCoordSys&&(s=X0.dataCoordSys,o=t),s===X0.none||o!==t)return!1;var l=n(t,e);return l?(s===X0.dataCoordSys?e.coordinateSystem=l:e.boxCoordinateSystem=l,!0):!1}var sfe=function(r,e){var t=e.getReferringComponents(r,Ls).models[0];return t&&t.coordinateSystem},xD=he,ofe=["left","right","top","bottom","width","height"],x2=[["width","left","right"],["height","top","bottom"]];function R9(r,e,t,n,i){var a=0,s=0;n==null&&(n=1/0),i==null&&(i=1/0);var o=0;e.eachChild(function(l,c){var u=l.getBoundingRect(),f=e.childAt(c+1),d=f&&f.getBoundingRect(),h,p;if(r==="horizontal"){var v=u.width+(d?-d.x+u.x:0);h=a+v,h>n||l.newline?(a=0,h=v,s+=o+t,o=u.height):o=Math.max(o,u.height)}else{var x=u.height+(d?-d.y+u.y:0);p=s+x,p>i||l.newline?(a+=o+t,s=0,p=x,o=u.width):o=Math.max(o,u.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),r==="horizontal"?a=h+t:s=p+t)})}var k2=R9;cn(R9,"vertical");cn(R9,"horizontal");function lfe(r,e){return{left:r.getShallow("left",e),top:r.getShallow("top",e),right:r.getShallow("right",e),bottom:r.getShallow("bottom",e),width:r.getShallow("width",e),height:r.getShallow("height",e)}}function cDe(r,e){var t=al(r,e,{enableLayoutOnlyByCenter:!0}),n=r.getBoxLayoutParams(),i,a;if(t.type===tA.point)a=t.refPoint,i=Ja(n,{width:e.getWidth(),height:e.getHeight()});else{var s=r.get("center"),o=Ut(s)?s:[s,s];i=Ja(n,t.refContainer),a=t.boxCoordFrom===q7.coord2?t.refPoint:[ur(o[0],i.width)+i.x,ur(o[1],i.height)+i.y]}return{viewRect:i,center:a}}function cfe(r,e){var t=cDe(r,e),n=t.viewRect,i=t.center,a=r.get("radius");Ut(a)||(a=[0,a]);var s=ur(n.width,e.getWidth()),o=ur(n.height,e.getHeight()),l=Math.min(s,o),c=ur(a[0],l/2),u=ur(a[1],l/2);return{cx:i[0],cy:i[1],r0:c,r:u,viewRect:n}}function Ja(r,e,t){t=WS(t||0);var n=e.width,i=e.height,a=ur(r.left,n),s=ur(r.top,i),o=ur(r.right,n),l=ur(r.bottom,i),c=ur(r.width,n),u=ur(r.height,i),f=t[2]+t[0],d=t[1]+t[3],h=r.aspect;switch(isNaN(c)&&(c=n-o-d-a),isNaN(u)&&(u=i-l-f-s),h!=null&&(isNaN(c)&&isNaN(u)&&(h>n/i?c=n*.8:u=i*.8),isNaN(c)&&(c=h*u),isNaN(u)&&(u=c/h)),isNaN(a)&&(a=n-o-c-d),isNaN(s)&&(s=i-l-u-f),r.left||r.right){case"center":a=n/2-c/2-t[3];break;case"right":a=n-c-d;break}switch(r.top||r.bottom){case"middle":case"center":s=i/2-u/2-t[0];break;case"bottom":s=i-u-f;break}a=a||0,s=s||0,isNaN(c)&&(c=n-d-a-(o||0)),isNaN(u)&&(u=i-f-s-(l||0));var p=new Br((e.x||0)+a+t[3],(e.y||0)+s+t[0],c,u);return p.margin=t,p}function ufe(r,e,t){var n=r.getShallow("preserveAspect",!0);if(!n)return e;var i=e.width/e.height;if(Math.abs(Math.atan(t)-Math.atan(i))<1e-9)return e;var a=r.getShallow("preserveAspectAlign",!0),s=r.getShallow("preserveAspectVerticalAlign",!0),o={width:e.width,height:e.height},l=n==="cover";return i>t&&!l||i<t&&l?(o.width=e.height*t,a==="left"?o.left=0:a==="right"?o.right=0:o.left="center"):(o.height=e.width/t,s==="top"?o.top=0:s==="bottom"?o.bottom=0:o.top="middle"),Ja(o,e)}var tA={rect:1,point:2};function al(r,e,t){var n,i,a,s=r.boxCoordinateSystem,o;if(s){var l=lDe(r),c=l.coord,u=l.from;if(s.dataToLayout){a=tA.rect,o=u;var f=s.dataToLayout(c);n=f.contentRect||f.rect}else t&&t.enableLayoutOnlyByCenter&&s.dataToPoint&&(a=tA.point,o=u,i=s.dataToPoint(c))}return a==null&&(a=tA.rect),a===tA.rect&&(n||(n={x:0,y:0,width:e.getWidth(),height:e.getHeight()}),i=[n.x+n.width/2,n.y+n.height/2]),{type:a,refContainer:n,refPoint:i,boxCoordFrom:o}}function Jk(r,e,t,n,i,a){var s=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||r,a.x=r.x,a.y=r.y,!s&&!o)return!1;var c;if(l==="raw")c=r.type==="group"?new Br(0,0,+e.width||0,+e.height||0):r.getBoundingRect();else if(c=r.getBoundingRect(),r.needLocalTransform()){var u=r.getLocalTransform();c=c.clone(),c.applyTransform(u)}var f=Ja(Rr({width:c.width,height:c.height},e),t,n),d=s?f.x-c.x:0,h=o?f.y-c.y:0;return l==="raw"?(a.x=d,a.y=h):(a.x+=d,a.y+=h),a===r&&r.markRedraw(),!0}function uDe(r,e){return r[x2[e][0]]!=null||r[x2[e][1]]!=null&&r[x2[e][2]]!=null}function C3(r){var e=r.layoutMode||r.constructor.layoutMode;return kr(e)?e:e?{type:e}:null}function yv(r,e,t){var n=t&&t.ignoreSize;!Ut(n)&&(n=[n,n]);var i=s(x2[0],0),a=s(x2[1],1);l(x2[0],r,i),l(x2[1],r,a);function s(c,u){var f={},d=0,h={},p=0,v=2;if(xD(c,function(_){h[_]=r[_]}),xD(c,function(_){gr(e,_)&&(f[_]=h[_]=e[_]),o(f,_)&&d++,o(h,_)&&p++}),n[u])return o(e,c[1])?h[c[2]]=null:o(e,c[2])&&(h[c[1]]=null),h;if(p===v||!d)return h;if(d>=v)return f;for(var x=0;x<c.length;x++){var g=c[x];if(!gr(f,g)&&gr(r,g)){f[g]=r[g];break}}return f}function o(c,u){return c[u]!=null&&c[u]!=="auto"}function l(c,u,f){xD(c,function(d){u[d]=f[d]})}}function vb(r){return ffe({},r)}function ffe(r,e){return e&&r&&xD(ofe,function(t){gr(e,t)&&(r[t]=e[t])}),r}var fDe=Mn(),En=(function(r){dt(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return a.uid=GS("ec_cpt_model"),a}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,n){var i=C3(this),a=i?vb(t):{},s=n.getTheme();pn(t,s.get(this.mainType)),pn(t,this.getDefaultOption()),i&&yv(t,a,i)},e.prototype.mergeOption=function(t,n){pn(this.option,t,!0);var i=C3(this);i&&yv(this.option,t,i)},e.prototype.optionUpdated=function(t,n){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!YCe(t))return t.defaultOption;var n=fDe(this);if(!n.defaultOption){for(var i=[],a=t;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=pn(o,i[l],!0);n.defaultOption=o}return n.defaultOption},e.prototype.getReferringComponents=function(t,n){var i=t+"Index",a=t+"Id";return FS(this.ecModel,t,{index:this.get(i,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){return lfe(this,!1)},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=(function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0})(),e})(Ln);sue(En,Ln);Uk(En);j4e(En);U4e(En,hDe);function hDe(r){var e=[];return he(En.getClassesByMainType(r),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=Gt(e,function(t){return ev(t).main}),r!=="dataset"&&hn(e,"dataset")<=0&&e.unshift("dataset"),e}var ut={color:{},darkColor:{},size:{}},lo=ut.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};It(lo,{primary:lo.neutral80,secondary:lo.neutral70,tertiary:lo.neutral60,quaternary:lo.neutral50,disabled:lo.neutral20,border:lo.neutral30,borderTint:lo.neutral20,borderShade:lo.neutral40,background:lo.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:lo.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:lo.neutral70,axisLineTint:lo.neutral40,axisTick:lo.neutral70,axisTickMinor:lo.neutral60,axisLabel:lo.neutral70,axisSplitLine:lo.neutral15,axisMinorSplitLine:lo.neutral05});for(var w1 in lo)if(lo.hasOwnProperty(w1)){var wZ=lo[w1];w1==="theme"?ut.darkColor.theme=lo.theme.slice():w1==="highlight"?ut.darkColor.highlight="rgba(255,231,130,0.4)":w1.indexOf("accent")===0?ut.darkColor[w1]=Ym(wZ,null,function(r){return r*.5},function(r){return Math.min(1,1.3-r)}):ut.darkColor[w1]=Ym(wZ,null,function(r){return r*.9},function(r){return 1-Math.pow(r,1.5)})}ut.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var hfe="";typeof navigator<"u"&&(hfe=navigator.platform||"");var v_="rgba(0, 0, 0, 0.2)",dfe=ut.color.theme[0],dDe=Ym(dfe,null,null,.9);const pDe={darkMode:"auto",colorBy:"series",color:ut.color.theme,gradientColor:[dDe,dfe],aria:{decal:{decals:[{color:v_,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:v_,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:v_,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:v_,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:v_,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:v_,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:hfe.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var pfe=br(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Hh="original",$l="arrayRows",Gh="objectRows",r0="keyedColumns",Jx="typedArray",vfe="unknown",Wp="column",mb="row",hc={Must:1,Might:2,Not:3},mfe=Mn();function vDe(r){mfe(r).datasetMap=br()}function gfe(r,e,t){var n={},i=I9(e);if(!i||!r)return n;var a=[],s=[],o=e.ecModel,l=mfe(o).datasetMap,c=i.uid+"_"+t.seriesLayoutBy,u,f;r=r.slice(),he(r,function(v,x){var g=kr(v)?v:r[x]={name:v};g.type==="ordinal"&&u==null&&(u=x,f=p(g)),n[g.name]=[]});var d=l.get(c)||l.set(c,{categoryWayDim:f,valueWayDim:0});he(r,function(v,x){var g=v.name,_=p(v);if(u==null){var w=d.valueWayDim;h(n[g],w,_),h(s,w,_),d.valueWayDim+=_}else if(u===x)h(n[g],0,_),h(a,0,_);else{var w=d.categoryWayDim;h(n[g],w,_),h(s,w,_),d.categoryWayDim+=_}});function h(v,x,g){for(var _=0;_<g;_++)v.push(x+_)}function p(v){var x=v.dimsDef;return x?x.length:1}return a.length&&(n.itemName=a),s.length&&(n.seriesName=s),n}function k9(r,e,t){var n={},i=I9(r);if(!i)return n;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===Gh||a===r0)&&he(s,function(u,f){(kr(u)?u.name:u)==="name"&&(o=f)});var l=(function(){for(var u={},f={},d=[],h=0,p=Math.min(5,t);h<p;h++){var v=yfe(e.data,a,e.seriesLayoutBy,s,e.startIndex,h);d.push(v);var x=v===hc.Not;if(x&&u.v==null&&h!==o&&(u.v=h),(u.n==null||u.n===u.v||!x&&d[u.n]===hc.Not)&&(u.n=h),g(u)&&d[u.n]!==hc.Not)return u;x||(v===hc.Might&&f.v==null&&h!==o&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function g(_){return _.v!=null&&_.n!=null}return g(u)?u:g(f)?f:null})();if(l){n.value=[l.v];var c=o??l.n;n.itemName=[c],n.seriesName=[c]}return n}function I9(r){var e=r.get("data",!0);if(!e)return FS(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},Ls).models[0]}function mDe(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:FS(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},Ls).models}function xfe(r,e){return yfe(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,e)}function yfe(r,e,t,n,i,a){var s,o=5;if(Ju(r))return hc.Not;var l,c;if(n){var u=n[a];kr(u)?(l=u.name,c=u.type):fr(u)&&(l=u)}if(c!=null)return c==="ordinal"?hc.Must:hc.Not;if(e===$l){var f=r;if(t===mb){for(var d=f[a],h=0;h<(d||[]).length&&h<o;h++)if((s=A(d[i+h]))!=null)return s}else for(var h=0;h<f.length&&h<o;h++){var p=f[i+h];if(p&&(s=A(p[a]))!=null)return s}}else if(e===Gh){var v=r;if(!l)return hc.Not;for(var h=0;h<v.length&&h<o;h++){var x=v[h];if(x&&(s=A(x[l]))!=null)return s}}else if(e===r0){var g=r;if(!l)return hc.Not;var d=g[l];if(!d||Ju(d))return hc.Not;for(var h=0;h<d.length&&h<o;h++)if((s=A(d[h]))!=null)return s}else if(e===Hh)for(var _=r,h=0;h<_.length&&h<o;h++){var x=_[h],w=PS(x);if(!Ut(w))return hc.Not;if((s=A(w[a]))!=null)return s}function A(M){var C=fr(M);if(M!=null&&Number.isFinite(Number(M))&&M!=="")return C?hc.Might:hc.Not;if(C&&M!=="-")return hc.Must}return hc.Not}var X7=br();function gDe(r,e){wc(X7.get(r)==null&&e),X7.set(r,e)}function xDe(r,e,t){var n=X7.get(e);if(!n)return t;var i=n(r);return i?t.concat(i):t}var SZ=Mn(),yDe=Mn(),O9=(function(){function r(){}return r.prototype.getColorFromPalette=function(e,t,n){var i=Ta(this.get("color",!0)),a=this.get("colorLayer",!0);return bfe(this,SZ,i,a,e,t,n)},r.prototype.clearColorPalette=function(){_De(this,SZ)},r})();function Z7(r,e,t,n){var i=Ta(r.get(["aria","decal","decals"]));return bfe(r,yDe,i,null,e,t,n)}function bDe(r,e){for(var t=r.length,n=0;n<t;n++)if(r[n].length>e)return r[n];return r[t-1]}function bfe(r,e,t,n,i,a,s){a=a||r;var o=e(a),l=o.paletteIdx||0,c=o.paletteNameMap=o.paletteNameMap||{};if(c.hasOwnProperty(i))return c[i];var u=s==null||!n?t:bDe(n,s);if(u=u||t,!(!u||!u.length)){var f=u[l];return i&&(c[i]=f),o.paletteIdx=(l+1)%u.length,f}}function _De(r,e){e(r).paletteIdx=0,e(r).paletteNameMap={}}var GC,e5,TZ,AZ="\0_ec_inner",wDe=1,P9=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,n,i,a,s,o){a=a||{},this.option=null,this._theme=new Ln(a),this._locale=new Ln(s),this._optionManager=o},e.prototype.setOption=function(t,n,i){var a=CZ(n);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,n){return this._resetOption(t,CZ(n))},e.prototype._resetOption=function(t,n){var i=!1,a=this._optionManager;if(!t||t==="recreate"){var s=a.mountOption(t==="recreate");!this.option||t==="recreate"?TZ(this,s):(this.restoreData(),this._mergeOption(s,n)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,n))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&he(l,function(c){i=!0,this._mergeOption(c,n)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,n){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=br(),c=n&&n.replaceMergeMainTypeMap;vDe(this),he(t,function(f,d){f!=null&&(En.hasClass(d)?d&&(o.push(d),l.set(d,!0)):i[d]=i[d]==null?Cr(f):pn(i[d],f,!0))}),c&&c.each(function(f,d){En.hasClass(d)&&!l.get(d)&&(o.push(d),l.set(d,!0))}),En.topologicalTravel(o,En.getAllClassMainTypes(),u,this);function u(f){var d=xDe(this,f,Ta(t[f])),h=a.get(f),p=h?c&&c.get(f)?"replaceMerge":"normalMerge":"replaceAll",v=tue(h,d,p);FCe(v,f,En),i[f]=null,a.set(f,null),s.set(f,0);var x=[],g=[],_=0,w;he(v,function(A,M){var C=A.existing,N=A.newOption;if(!N)C&&(C.mergeOption({},this),C.optionUpdated({},!1));else{var L=f==="series",D=En.getClass(f,A.keyInfo.subType,!L);if(!D)return;if(f==="tooltip"){if(w)return;w=!0}if(C&&C.constructor===D)C.name=A.keyInfo.name,C.mergeOption(N,this),C.optionUpdated(N,!1);else{var k=It({componentIndex:M},A.keyInfo);C=new D(N,this,this,k),It(C,k),A.brandNew&&(C.__requireNewView=!0),C.init(N,this,this),C.optionUpdated(null,!0)}}C?(x.push(C.option),g.push(C),_++):(x.push(void 0),g.push(void 0))},this),i[f]=x,a.set(f,g),s.set(f,_),f==="series"&&GC(this)}this._seriesIndices||GC(this)},e.prototype.getOption=function(){var t=Cr(this.option);return he(t,function(n,i){if(En.hasClass(i)){for(var a=Ta(n),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!S3(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,t[i]=a}}),delete t[AZ],t},e.prototype.setTheme=function(t){this._theme=new Ln(t),this._resetOption("recreate",null)},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,n){var i=this._componentsMap.get(t);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},e.prototype.queryComponents=function(t){var n=t.mainType;if(!n)return[];var i=t.index,a=t.id,s=t.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return i!=null?(l=[],he(Ta(i),function(c){o[c]&&l.push(o[c])})):a!=null?l=EZ("id",a,o):s!=null?l=EZ("name",s,o):l=bi(o,function(c){return!!c}),MZ(l,t)},e.prototype.findComponents=function(t){var n=t.query,i=t.mainType,a=o(n),s=a?this.queryComponents(a):bi(this._componentsMap.get(i),function(c){return!!c});return l(MZ(s,t));function o(c){var u=i+"Index",f=i+"Id",d=i+"Name";return c&&(c[u]!=null||c[f]!=null||c[d]!=null)?{mainType:i,index:c[u],id:c[f],name:c[d]}:null}function l(c){return t.filter?bi(c,t.filter):c}},e.prototype.eachComponent=function(t,n,i){var a=this._componentsMap;if(Tr(t)){var s=n,o=t;a.each(function(f,d){for(var h=0;f&&h<f.length;h++){var p=f[h];p&&o.call(s,d,p,p.componentIndex)}})}else for(var l=fr(t)?a.get(t):kr(t)?this.findComponents(t):null,c=0;l&&c<l.length;c++){var u=l[c];u&&n.call(i,u,u.componentIndex)}},e.prototype.getSeriesByName=function(t){var n=rl(t,null);return bi(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return bi(this._componentsMap.get("series"),function(n){return!!n&&n.subType===t})},e.prototype.getSeries=function(){return bi(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,n){e5(this),he(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(n,a,i)},this)},e.prototype.eachRawSeries=function(t,n){he(this._componentsMap.get("series"),function(i){i&&t.call(n,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,n,i){e5(this),he(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===t&&n.call(i,s,a)},this)},e.prototype.eachRawSeriesByType=function(t,n,i){return he(this.getSeriesByType(t),n,i)},e.prototype.isSeriesFiltered=function(t){return e5(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,n){e5(this);var i=[];he(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];t.call(n,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=br(i)},e.prototype.restoreData=function(t){GC(this);var n=this._componentsMap,i=[];n.each(function(a,s){En.hasClass(s)&&i.push(s)}),En.topologicalTravel(i,En.getAllClassMainTypes(),function(a){he(n.get(a),function(s){s&&(a!=="series"||!SDe(s,t))&&s.restoreData()})})},e.internalField=(function(){GC=function(t){var n=t._seriesIndices=[];he(t._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),t._seriesIndicesMap=br(n)},e5=function(t){},TZ=function(t,n){t.option={},t.option[AZ]=wDe,t._componentsMap=br({series:[]}),t._componentsCount=br();var i=n.aria;kr(i)&&i.enabled==null&&(i.enabled=!0),TDe(n,t._theme.option),pn(n,pDe,!1),t._mergeOption(n,null)}})(),e})(Ln);function SDe(r,e){if(e){var t=e.seriesIndex,n=e.seriesId,i=e.seriesName;return t!=null&&r.componentIndex!==t||n!=null&&r.id!==n||i!=null&&r.name!==i}}function TDe(r,e){var t=r.color&&!r.colorLayer;he(e,function(n,i){i==="colorLayer"&&t||i==="color"&&r.color||En.hasClass(i)||(typeof n=="object"?r[i]=r[i]?pn(r[i],n,!1):Cr(n):r[i]==null&&(r[i]=n))})}function EZ(r,e,t){if(Ut(e)){var n=br();return he(e,function(a){if(a!=null){var s=rl(a,null);s!=null&&n.set(a,!0)}}),bi(t,function(a){return a&&n.get(a[r])})}else{var i=rl(e,null);return bi(t,function(a){return a&&i!=null&&a[r]===i})}}function MZ(r,e){return e.hasOwnProperty("subType")?bi(r,function(t){return t&&t.subType===e.subType}):r}function CZ(r){var e=br();return r&&he(Ta(r.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}qs(P9,O9);var ADe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],_fe=(function(){function r(e){he(ADe,function(t){this[t]=hr(e[t],e)},this)}return r})(),EDe=/^(min|max)?(.+)$/,MDe=(function(){function r(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return r.prototype.setOption=function(e,t,n){e&&(he(Ta(e.series),function(s){s&&s.data&&Ju(s.data)&&m3(s.data)}),he(Ta(e.dataset),function(s){s&&s.source&&Ju(s.source)&&m3(s.source)})),e=Cr(e);var i=this._optionBackup,a=CDe(e,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},r.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Cr(e?t.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=Cr(n[i.getCurrentIndex()]))}return t},r.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,c=i.length;l<c;l++)NDe(i[l].query,t,n)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!LDe(s,this._currentMediaIndices)&&(o=Gt(s,function(u){return Cr(u===-1?a.option:i[u].option)})),this._currentMediaIndices=s,o},r})();function CDe(r,e,t){var n=[],i,a,s=r.baseOption,o=r.timeline,l=r.options,c=r.media,u=!!r.media,f=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((f||u)&&(r.options=r.media=null),a=r),u&&Ut(c)&&he(c,function(h){h&&h.option&&(h.query?n.push(h):i||(i=h))}),d(a),he(l,function(h){return d(h)}),he(n,function(h){return d(h.option)});function d(h){he(e,function(p){p(h,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function NDe(r,e,t){var n={width:e,height:t,aspectratio:e/t},i=!0;return he(r,function(a,s){var o=s.match(EDe);if(!(!o||!o[1]||!o[2])){var l=o[1],c=o[2].toLowerCase();DDe(n[c],a,l)||(i=!1)}}),i}function DDe(r,e,t){return t==="min"?r>=e:t==="max"?r<=e:r===e}function LDe(r,e){return r.join(",")===e.join(",")}var _p=he,N3=kr,NZ=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function hP(r){var e=r&&r.itemStyle;if(e)for(var t=0,n=NZ.length;t<n;t++){var i=NZ[t],a=e.normal,s=e.emphasis;a&&a[i]&&(r[i]=r[i]||{},r[i].normal?pn(r[i].normal,a[i]):r[i].normal=a[i],a[i]=null),s&&s[i]&&(r[i]=r[i]||{},r[i].emphasis?pn(r[i].emphasis,s[i]):r[i].emphasis=s[i],s[i]=null)}}function Jc(r,e,t){if(r&&r[e]&&(r[e].normal||r[e].emphasis)){var n=r[e].normal,i=r[e].emphasis;n&&(t?(r[e].normal=r[e].emphasis=null,Rr(r[e],n)):r[e]=n),i&&(r.emphasis=r.emphasis||{},r.emphasis[e]=i,i.focus&&(r.emphasis.focus=i.focus),i.blurScope&&(r.emphasis.blurScope=i.blurScope))}}function rA(r){Jc(r,"itemStyle"),Jc(r,"lineStyle"),Jc(r,"areaStyle"),Jc(r,"label"),Jc(r,"labelLine"),Jc(r,"upperLabel"),Jc(r,"edgeLabel")}function ko(r,e){var t=N3(r)&&r[e],n=N3(t)&&t.textStyle;if(n)for(var i=0,a=RX.length;i<a;i++){var s=RX[i];n.hasOwnProperty(s)&&(t[s]=n[s])}}function wd(r){r&&(rA(r),ko(r,"label"),r.emphasis&&ko(r.emphasis,"label"))}function RDe(r){if(N3(r)){hP(r),rA(r),ko(r,"label"),ko(r,"upperLabel"),ko(r,"edgeLabel"),r.emphasis&&(ko(r.emphasis,"label"),ko(r.emphasis,"upperLabel"),ko(r.emphasis,"edgeLabel"));var e=r.markPoint;e&&(hP(e),wd(e));var t=r.markLine;t&&(hP(t),wd(t));var n=r.markArea;n&&wd(n);var i=r.data;if(r.type==="graph"){i=i||r.nodes;var a=r.links||r.edges;if(a&&!Ju(a))for(var s=0;s<a.length;s++)wd(a[s]);he(r.categories,function(c){rA(c)})}if(i&&!Ju(i))for(var s=0;s<i.length;s++)wd(i[s]);if(e=r.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)wd(o[s]);if(t=r.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)Ut(l[s])?(wd(l[s][0]),wd(l[s][1])):wd(l[s]);r.type==="gauge"?(ko(r,"axisLabel"),ko(r,"title"),ko(r,"detail")):r.type==="treemap"?(Jc(r.breadcrumb,"itemStyle"),he(r.levels,function(c){rA(c)})):r.type==="tree"&&rA(r.leaves)}}function hm(r){return Ut(r)?r:r?[r]:[]}function DZ(r){return(Ut(r)?r[0]:r)||{}}function kDe(r,e){_p(hm(r.series),function(n){N3(n)&&RDe(n)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),_p(t,function(n){_p(hm(r[n]),function(i){i&&(ko(i,"axisLabel"),ko(i.axisPointer,"label"))})}),_p(hm(r.parallel),function(n){var i=n&&n.parallelAxisDefault;ko(i,"axisLabel"),ko(i&&i.axisPointer,"label")}),_p(hm(r.calendar),function(n){Jc(n,"itemStyle"),ko(n,"dayLabel"),ko(n,"monthLabel"),ko(n,"yearLabel")}),_p(hm(r.radar),function(n){ko(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),_p(hm(r.geo),function(n){N3(n)&&(wd(n),_p(hm(n.regions),function(i){wd(i)}))}),_p(hm(r.timeline),function(n){wd(n),Jc(n,"label"),Jc(n,"itemStyle"),Jc(n,"controlStyle",!0);var i=n.data;Ut(i)&&he(i,function(a){kr(a)&&(Jc(a,"label"),Jc(a,"itemStyle"))})}),_p(hm(r.toolbox),function(n){Jc(n,"iconStyle"),_p(n.feature,function(i){Jc(i,"iconStyle")})}),ko(DZ(r.axisPointer),"label"),ko(DZ(r.tooltip).axisPointer,"label")}function IDe(r,e){for(var t=e.split(","),n=r,i=0;i<t.length&&(n=n&&n[t[i]],n!=null);i++);return n}function ODe(r,e,t,n){for(var i=e.split(","),a=r,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];a[i[o]]==null&&(a[i[o]]=t)}function LZ(r){r&&he(PDe,function(e){e[0]in r&&!(e[1]in r)&&(r[e[1]]=r[e[0]])})}var PDe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],FDe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],dP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function t5(r){var e=r&&r.itemStyle;if(e)for(var t=0;t<dP.length;t++){var n=dP[t][1],i=dP[t][0];e[n]!=null&&(e[i]=e[n])}}function RZ(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function kZ(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function BDe(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function wfe(r,e){if(r)for(var t=0;t<r.length;t++)e(r[t]),r[t]&&wfe(r[t].children,e)}function Sfe(r,e){kDe(r,e),r.series=Ta(r.series),he(r.series,function(t){if(kr(t)){var n=t.type;if(n==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(n==="pie"||n==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),RZ(t.label);var i=t.data;if(i&&!Ju(i))for(var a=0;a<i.length;a++)RZ(i[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(n==="gauge"){var s=IDe(t,"pointer.color");s!=null&&ODe(t,"itemStyle.color",s)}else if(n==="bar"){t5(t),t5(t.backgroundStyle),t5(t.emphasis);var i=t.data;if(i&&!Ju(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(t5(i[a]),t5(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),kZ(t),wfe(t.data,kZ)}else n==="graph"||n==="sankey"?BDe(t):n==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Rr(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),LZ(t)}}),r.dataRange&&(r.visualMap=r.dataRange),he(FDe,function(t){var n=r[t];n&&(Ut(n)||(n=[n]),he(n,function(i){LZ(i)}))})}function zDe(r){var e=br();r.eachSeries(function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),a=t.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.push(s)}}),e.each(function(t){if(t.length!==0){var n=t[0].seriesModel,i=n.get("stackOrder")||"seriesAsc";i==="seriesDesc"&&t.reverse(),he(t,function(a,s){a.data.setCalculationInfo("stackedOnSeries",s>0?t[s-1].seriesModel:null)}),jDe(t)}})}function jDe(r){he(r,function(e,t){var n=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(c,u,f){var d=s.get(e.stackedDimension,f);if(isNaN(d))return i;var h,p;o?p=s.getRawIndex(f):h=s.get(e.stackedByDimension,f);for(var v=NaN,x=t-1;x>=0;x--){var g=r[x];if(o||(p=g.data.rawIndexOf(g.stackedByDimension,h)),p>=0){var _=g.data.getByRawIndex(g.stackResultDimension,p);if(l==="all"||l==="positive"&&_>0||l==="negative"&&_<0||l==="samesign"&&d>=0&&_>0||l==="samesign"&&d<=0&&_<0){d=TCe(d,_),v=_;break}}}return n[0]=d,n[1]=v,n})})}var Qk=(function(){function r(e){this.data=e.data||(e.sourceFormat===r0?{}:[]),this.sourceFormat=e.sourceFormat||vfe,this.seriesLayoutBy=e.seriesLayoutBy||Wp,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var i=t[n];i.type==null&&xfe(this,n)===hc.Must&&(i.type="ordinal")}}return r})();function F9(r){return r instanceof Qk}function K7(r,e,t){t=t||Tfe(r);var n=e.seriesLayoutBy,i=VDe(r,t,n,e.sourceHeader,e.dimensions),a=new Qk({data:r,sourceFormat:t,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Cr(e)});return a}function B9(r){return new Qk({data:r,sourceFormat:Ju(r)?Jx:Hh})}function UDe(r){return new Qk({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:Cr(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function Tfe(r){var e=vfe;if(Ju(r))e=Jx;else if(Ut(r)){r.length===0&&(e=$l);for(var t=0,n=r.length;t<n;t++){var i=r[t];if(i!=null){if(Ut(i)||Ju(i)){e=$l;break}else if(kr(i)){e=Gh;break}}}}else if(kr(r)){for(var a in r)if(gr(r,a)&&_c(r[a])){e=r0;break}}return e}function VDe(r,e,t,n,i){var a,s;if(!r)return{dimensionsDefine:IZ(i),startIndex:s,dimensionsDetectedCount:a};if(e===$l){var o=r;n==="auto"||n==null?OZ(function(c){c!=null&&c!=="-"&&(fr(c)?s==null&&(s=1):s=0)},t,o,10):s=Jn(n)?n:n?1:0,!i&&s===1&&(i=[],OZ(function(c,u){i[u]=c!=null?c+"":""},t,o,1/0)),a=i?i.length:t===mb?o.length:o[0]?o[0].length:null}else if(e===Gh)i||(i=HDe(r));else if(e===r0)i||(i=[],he(r,function(c,u){i.push(u)}));else if(e===Hh){var l=PS(r[0]);a=Ut(l)&&l.length||1}return{startIndex:s,dimensionsDefine:IZ(i),dimensionsDetectedCount:a}}function HDe(r){for(var e=0,t;e<r.length&&!(t=r[e++]););if(t)return Wn(t)}function IZ(r){if(r){var e=br();return Gt(r,function(t,n){t=kr(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function OZ(r,e,t,n){if(e===mb)for(var i=0;i<t.length&&i<n;i++)r(t[i]?t[i][0]:null,i);else for(var a=t[0]||[],i=0;i<a.length&&i<n;i++)r(a[i],i)}function Afe(r){var e=r.sourceFormat;return e===Gh||e===r0}var S1,T1,A1,E1,PZ,FZ,Efe=(function(){function r(e,t){var n=F9(e)?e:B9(e);this._source=n;var i=this._data=n.data,a=n.sourceFormat;n.seriesLayoutBy,a===Jx&&(this._offset=0,this._dimSize=t,this._data=i),FZ(this,i,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(e,t){},r.prototype.appendData=function(e){},r.prototype.clean=function(){},r.protoInitialize=(function(){var e=r.prototype;e.pure=!1,e.persistent=!0})(),r.internalField=(function(){var e;FZ=function(s,o,l){var c=l.sourceFormat,u=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=PZ[z9(c,u)];if(It(s,h),c===Jx)s.getItem=t,s.count=i,s.fillStorage=n;else{var p=Mfe(c,u);s.getItem=hr(p,null,o,f,d);var v=Cfe(c,u);s.count=hr(v,null,o,f,d)}};var t=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,c=this._dimSize,u=c*s,f=0;f<c;f++)o[f]=l[u+f];return o},n=function(s,o,l,c){for(var u=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=c[d],p=h[0]==null?1/0:h[0],v=h[1]==null?-1/0:h[1],x=o-s,g=l[d],_=0;_<x;_++){var w=u[_*f+d];g[s+_]=w,w<p&&(p=w),w>v&&(v=w)}h[0]=p,h[1]=v}},i=function(){return this._data?this._data.length/this._dimSize:0};PZ=(e={},e[$l+"_"+Wp]={pure:!0,appendData:a},e[$l+"_"+mb]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Gh]={pure:!0,appendData:a},e[r0]={pure:!0,appendData:function(s){var o=this._data;he(s,function(l,c){for(var u=o[c]||(o[c]=[]),f=0;f<(l||[]).length;f++)u.push(l[f])})}},e[Hh]={appendData:a},e[Jx]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}})(),r})(),WC=function(r){Ut(r)||Jce("series.data or dataset.source must be an array.")};S1={},S1[$l+"_"+Wp]=WC,S1[$l+"_"+mb]=WC,S1[Gh]=WC,S1[r0]=function(r,e){for(var t=0;t<e.length;t++){var n=e[t].name;n==null&&Jce("dimension name must not be null/undefined.")}},S1[Hh]=WC;var BZ=function(r,e,t,n){return r[n]},GDe=(T1={},T1[$l+"_"+Wp]=function(r,e,t,n){return r[n+e]},T1[$l+"_"+mb]=function(r,e,t,n,i){n+=e;for(var a=i||[],s=r,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[n]:null}return a},T1[Gh]=BZ,T1[r0]=function(r,e,t,n,i){for(var a=i||[],s=0;s<t.length;s++){var o=t[s].name,l=o!=null?r[o]:null;a[s]=l?l[n]:null}return a},T1[Hh]=BZ,T1);function Mfe(r,e){var t=GDe[z9(r,e)];return t}var zZ=function(r,e,t){return r.length},WDe=(A1={},A1[$l+"_"+Wp]=function(r,e,t){return Math.max(0,r.length-e)},A1[$l+"_"+mb]=function(r,e,t){var n=r[0];return n?Math.max(0,n.length-e):0},A1[Gh]=zZ,A1[r0]=function(r,e,t){var n=t[0].name,i=n!=null?r[n]:null;return i?i.length:0},A1[Hh]=zZ,A1);function Cfe(r,e){var t=WDe[z9(r,e)];return t}var pP=function(r,e,t){return r[e]},YDe=(E1={},E1[$l]=pP,E1[Gh]=function(r,e,t){return r[t]},E1[r0]=pP,E1[Hh]=function(r,e,t){var n=PS(r);return n instanceof Array?n[e]:n},E1[Jx]=pP,E1);function Nfe(r){var e=YDe[r];return e}function z9(r,e){return r===$l?r+"_"+e:r}function iS(r,e,t){if(r){var n=r.getRawDataItem(e);if(n!=null){var i=r.getStore(),a=i.getSource().sourceFormat;if(t!=null){var s=r.getDimensionIndex(t),o=i.getDimensionProperty(s);return Nfe(a)(n,s,o)}else{var l=n;return a===Hh&&(l=PS(n)),l}}}}var qDe=/\{@(.+?)\}/g,eI=(function(){function r(){}return r.prototype.getDataParams=function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),a=n.getRawIndex(e),s=n.getName(e),o=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),c=l&&l[n.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,f=this.mainType,d=f==="series",h=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:s,dataIndex:a,data:o,dataType:t,value:i,color:c,borderColor:u,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(e,t,n,i,a,s){t=t||"normal";var o=this.getData(n),l=this.getDataParams(e,n);if(s&&(l.value=s.interpolatedValue),i!=null&&Ut(l.value)&&(l.value=l.value[i]),!a){var c=o.getItemModel(e);a=c.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(Tr(a))return l.status=t,l.dimensionIndex=i,a(l);if(fr(a)){var u=L9(a,l);return u.replace(qDe,function(f,d){var h=d.length,p=d;p.charAt(0)==="["&&p.charAt(h-1)==="]"&&(p=+p.slice(1,h-1));var v=iS(o,e,p);if(s&&Ut(s.interpolatedValue)){var x=o.getDimensionIndex(p);x>=0&&(v=s.interpolatedValue[x])}return v!=null?v+"":""})}},r.prototype.getRawValue=function(e,t){return iS(this.getData(t),e)},r.prototype.formatTooltip=function(e,t,n){},r})();function jZ(r){var e,t;return kr(r)?r.type&&(t=r):e=r,{text:e,frag:t}}function kA(r){return new XDe(r)}var XDe=(function(){function r(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return r.prototype.perform=function(e){var t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var s=u(this._modBy),o=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;(s!==l||o!==c)&&(a="reset");function u(_){return!(_>=1)&&(_=1),_}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=c;var d=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!n&&(f||h<p)){var v=this._progress;if(Ut(v))for(var x=0;x<v.length;x++)this._doProgress(v[x],h,p,l,c);else this._doProgress(v,h,p,l,c)}this._dueIndex=p;var g=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(e,t,n,i,a){UZ.reset(t,n,i,a),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:UZ.next},this.context)},r.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,n;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),Ut(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},r})(),UZ=(function(){var r,e,t,n,i,a={reset:function(l,c,u,f){e=l,r=c,t=u,n=f,i=Math.ceil(n/t),a.next=t>1&&n>0?o:s}};return a;function s(){return e<r?e++:null}function o(){var l=e%i*t+Math.ceil(e/i),c=e>=r?null:l<n?l:e;return e++,c}})();function Qx(r,e){var t=e&&e.type;return t==="ordinal"?r:(t==="time"&&!Jn(r)&&r!=null&&r!=="-"&&(r=+Av(r)),r==null||r===""?NaN:Number(r))}var ZDe=br({number:function(r){return parseFloat(r)},time:function(r){return+Av(r)},trim:function(r){return fr(r)?Nh(r):r}});function Dfe(r){return ZDe.get(r)}var Lfe={lt:function(r,e){return r<e},lte:function(r,e){return r<=e},gt:function(r,e){return r>e},gte:function(r,e){return r>=e}},KDe=(function(){function r(e,t){if(!Jn(t)){var n="";Ai(n)}this._opFn=Lfe[e],this._rvalFloat=gv(t)}return r.prototype.evaluate=function(e){return Jn(e)?this._opFn(e,this._rvalFloat):this._opFn(gv(e),this._rvalFloat)},r})(),Rfe=(function(){function r(e,t){var n=e==="desc";this._resultLT=n?1:-1,t==null&&(t=n?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return r.prototype.evaluate=function(e,t){var n=Jn(e)?e:gv(e),i=Jn(t)?t:gv(t),a=isNaN(n),s=isNaN(i);if(a&&(n=this._incomparable),s&&(i=this._incomparable),a&&s){var o=fr(e),l=fr(t);o&&(n=l?e:0),l&&(i=o?t:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},r})(),$De=(function(){function r(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=gv(t)}return r.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(t=gv(e)===this._rvalFloat)}return this._isEQ?t:!t},r})();function JDe(r,e){return r==="eq"||r==="ne"?new $De(r==="eq",e):gr(Lfe,r)?new KDe(r,e):null}var QDe=(function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(e){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(e){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(e,t){},r.prototype.retrieveValueFromItem=function(e,t){},r.prototype.convertValue=function(e,t){return Qx(e,t)},r})();function eLe(r,e){var t=new QDe,n=r.data,i=t.sourceFormat=r.sourceFormat,a=r.startIndex,s="";r.seriesLayoutBy!==Wp&&Ai(s);var o=[],l={},c=r.dimensionsDefine;if(c)he(c,function(v,x){var g=v.name,_={index:x,name:g,displayName:v.displayName};if(o.push(_),g!=null){var w="";gr(l,g)&&Ai(w),l[g]=_}});else for(var u=0;u<r.dimensionsDetectedCount;u++)o.push({index:u});var f=Mfe(i,Wp);e.__isBuiltIn&&(t.getRawDataItem=function(v){return f(n,a,o,v)},t.getRawData=hr(tLe,null,r)),t.cloneRawData=hr(rLe,null,r);var d=Cfe(i,Wp);t.count=hr(d,null,n,a,o);var h=Nfe(i);t.retrieveValue=function(v,x){var g=f(n,a,o,v);return p(g,x)};var p=t.retrieveValueFromItem=function(v,x){if(v!=null){var g=o[x];if(g)return h(v,x,g.name)}};return t.getDimensionInfo=hr(nLe,null,o,l),t.cloneAllDimensionInfo=hr(iLe,null,o),t}function tLe(r){var e=r.sourceFormat;if(!j9(e)){var t="";Ai(t)}return r.data}function rLe(r){var e=r.sourceFormat,t=r.data;if(!j9(e)){var n="";Ai(n)}if(e===$l){for(var i=[],a=0,s=t.length;a<s;a++)i.push(t[a].slice());return i}else if(e===Gh){for(var i=[],a=0,s=t.length;a<s;a++)i.push(It({},t[a]));return i}}function nLe(r,e,t){if(t!=null){if(Jn(t)||!isNaN(t)&&!gr(e,t))return r[t];if(gr(e,t))return e[t]}}function iLe(r){return Cr(r)}var kfe=br();function aLe(r){r=Cr(r);var e=r.type,t="";e||Ai(t);var n=e.split(":");n.length!==2&&Ai(t);var i=!1;n[0]==="echarts"&&(e=n[1],i=!0),r.__isBuiltIn=i,kfe.set(e,r)}function sLe(r,e,t){var n=Ta(r),i=n.length,a="";i||Ai(a);for(var s=0,o=i;s<o;s++){var l=n[s];e=oLe(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function oLe(r,e,t,n){var i="";e.length||Ai(i),kr(r)||Ai(i);var a=r.type,s=kfe.get(a);s||Ai(i);var o=Gt(e,function(c){return eLe(c,s)}),l=Ta(s.transform({upstream:o[0],upstreamList:o,config:Cr(r.config)}));return Gt(l,function(c,u){var f="";kr(c)||Ai(f),c.data||Ai(f);var d=Tfe(c.data);j9(d)||Ai(f);var h,p=e[0];if(p&&u===0&&!c.dimensions){var v=p.startIndex;v&&(c.data=p.data.slice(0,v).concat(c.data)),h={seriesLayoutBy:Wp,sourceHeader:v,dimensions:p.metaRawOption.dimensions}}else h={seriesLayoutBy:Wp,sourceHeader:0,dimensions:c.dimensions};return K7(c.data,h,null)})}function j9(r){return r===$l||r===Gh}var tI="undefined",lLe=typeof Uint32Array===tI?Array:Uint32Array,cLe=typeof Uint16Array===tI?Array:Uint16Array,Ife=typeof Int32Array===tI?Array:Int32Array,VZ=typeof Float64Array===tI?Array:Float64Array,Ofe={float:VZ,int:Ife,ordinal:Array,number:Array,time:VZ},vP;function m_(r){return r>65535?lLe:cLe}function g_(){return[1/0,-1/0]}function uLe(r){var e=r.constructor;return e===Array?r.slice():new e(r)}function HZ(r,e,t,n,i){var a=Ofe[t||"float"];if(i){var s=r[e],o=s&&s.length;if(o!==n){for(var l=new a(n),c=0;c<o;c++)l[c]=s[c];r[e]=l}}else r[e]=new a(n)}var $7=(function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=br()}return r.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=vP[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],Afe(i),this._dimensions=Gt(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(e);if(a!=null){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},n.set(e,a),this._chunks[a]=new Ofe[t||"float"](this._rawCount),this._rawExtent[a]=g_(),a},r.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,s=i.ordinalOffset||0,o=n.length;s===0&&(a[e]=g_());for(var l=a[e],c=s;c<o;c++){var u=n[c]=t.parseAndCollect(n[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}i.ordinalMeta=t,i.ordinalOffset=o,i.type="ordinal"},r.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],n=t.ordinalMeta;return n},r.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},r.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},r.prototype.appendValues=function(e,t){for(var n=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t||0),c=0;c<a;c++){var u=i[c];HZ(n,c,u.type,l,!0)}for(var f=[],d=o;d<l;d++)for(var h=d-o,p=0;p<a;p++){var u=i[p],v=vP.arrayRows.call(this,e[h]||f,u.property,h,p);n[p][d]=v;var x=s[p];v<x[0]&&(x[0]=v),v>x[1]&&(x[1]=v)}return this._rawCount=this._count=l,{start:o,end:l}},r.prototype._initDataFromProvider=function(e,t,n){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,c=Gt(s,function(_){return _.property}),u=0;u<o;u++){var f=s[u];l[u]||(l[u]=g_()),HZ(a,u,f.type,t,n)}if(i.fillStorage)i.fillStorage(e,t,a,l);else for(var d=[],h=e;h<t;h++){d=i.getItem(h,d);for(var p=0;p<o;p++){var v=a[p],x=this._dimValueGetter(d,c[p],h,p);v[h]=x;var g=l[p];x<g[0]&&(g[0]=x),x>g[1]&&(g[1]=x)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},r.prototype.getValues=function(e,t){var n=[],i=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,s=i.length;a<s;a++)n.push(this.get(i[a],t));return n},r.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},r.prototype.getSum=function(e){var t=this._chunks[e],n=0;if(t)for(var i=0,a=this.count();i<a;i++){var s=this.get(e,i);isNaN(s)||(n+=s)}return n},r.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var n=t.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},r.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(t[s]<e)i=s+1;else if(t[s]>e)a=s-1;else return s}return-1},r.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,i=this._count;if(n===Array){e=new n(i);for(var a=0;a<i;a++)e[a]=t[a]}else e=new n(t.buffer,0,i)}else{var n=m_(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},r.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=m_(n._rawCount),s=new a(i),o=[],l=e.length,c=0,u=e[0],f=n._chunks,d=0;d<i;d++){var h=void 0,p=n.getRawIndex(d);if(l===0)h=t(d);else if(l===1){var v=f[u][p];h=t(v,d)}else{for(var x=0;x<l;x++)o[x]=f[e[x]][p];o[x]=d,h=t.apply(null,o)}h&&(s[c++]=p)}return c<i&&(n._indices=s),n._count=c,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var i=Wn(e),a=i.length;if(!a)return this;var s=t.count(),o=m_(t._rawCount),l=new o(s),c=0,u=i[0],f=e[u][0],d=e[u][1],h=t._chunks,p=!1;if(!t._indices){var v=0;if(a===1){for(var x=h[i[0]],g=0;g<n;g++){var _=x[g];(_>=f&&_<=d||isNaN(_))&&(l[c++]=v),v++}p=!0}else if(a===2){for(var x=h[i[0]],w=h[i[1]],A=e[i[1]][0],M=e[i[1]][1],g=0;g<n;g++){var _=x[g],C=w[g];(_>=f&&_<=d||isNaN(_))&&(C>=A&&C<=M||isNaN(C))&&(l[c++]=v),v++}p=!0}}if(!p)if(a===1)for(var g=0;g<s;g++){var N=t.getRawIndex(g),_=h[i[0]][N];(_>=f&&_<=d||isNaN(_))&&(l[c++]=N)}else for(var g=0;g<s;g++){for(var L=!0,N=t.getRawIndex(g),D=0;D<a;D++){var k=i[D],_=h[k][N];(_<e[k][0]||_>e[k][1])&&(L=!1)}L&&(l[c++]=t.getRawIndex(g))}return c<s&&(t._indices=l),t._count=c,t._extent=[],t._updateGetRawIdx(),t},r.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},r.prototype.modify=function(e,t){this._updateDims(this,e,t)},r.prototype._updateDims=function(e,t,n){for(var i=e._chunks,a=[],s=t.length,o=e.count(),l=[],c=e._rawExtent,u=0;u<t.length;u++)c[t[u]]=g_();for(var f=0;f<o;f++){for(var d=e.getRawIndex(f),h=0;h<s;h++)l[h]=i[t[h]][d];l[s]=f;var p=n&&n.apply(null,l);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var u=0;u<p.length;u++){var v=t[u],x=p[u],g=c[v],_=i[v];_&&(_[d]=x),x<g[0]&&(g[0]=x),x>g[1]&&(g[1]=x)}}}},r.prototype.lttbDownSample=function(e,t){var n=this.clone([e],!0),i=n._chunks,a=i[e],s=this.count(),o=0,l=Math.floor(1/t),c=this.getRawIndex(0),u,f,d,h=new(m_(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));h[o++]=c;for(var p=1;p<s-1;p+=l){for(var v=Math.min(p+l,s-1),x=Math.min(p+l*2,s),g=(x+v)/2,_=0,w=v;w<x;w++){var A=this.getRawIndex(w),M=a[A];isNaN(M)||(_+=M)}_/=x-v;var C=p,N=Math.min(p+l,s),L=p-1,D=a[c];u=-1,d=C;for(var k=-1,O=0,w=C;w<N;w++){var A=this.getRawIndex(w),M=a[A];if(isNaN(M)){O++,k<0&&(k=A);continue}f=Math.abs((L-g)*(M-D)-(L-w)*(_-D)),f>u&&(u=f,d=A)}O>0&&O<N-C&&(h[o++]=Math.min(k,d),d=Math.max(k,d)),h[o++]=d,c=d}return h[o++]=this.getRawIndex(s-1),n._count=o,n._indices=h,n.getRawIndex=this._getRawIdx,n},r.prototype.minmaxDownSample=function(e,t){for(var n=this.clone([e],!0),i=n._chunks,a=Math.floor(1/t),s=i[e],o=this.count(),l=new(m_(this._rawCount))(Math.ceil(o/a)*2),c=0,u=0;u<o;u+=a){var f=u,d=s[this.getRawIndex(f)],h=u,p=s[this.getRawIndex(h)],v=a;u+a>o&&(v=o-u);for(var x=0;x<v;x++){var g=this.getRawIndex(u+x),_=s[g];_<d&&(d=_,f=u+x),_>p&&(p=_,h=u+x)}var w=this.getRawIndex(f),A=this.getRawIndex(h);f<h?(l[c++]=w,l[c++]=A):(l[c++]=A,l[c++]=w)}return n._count=c,n._indices=l,n._updateGetRawIdx(),n},r.prototype.downSample=function(e,t,n,i){for(var a=this.clone([e],!0),s=a._chunks,o=[],l=Math.floor(1/t),c=s[e],u=this.count(),f=a._rawExtent[e]=g_(),d=new(m_(this._rawCount))(Math.ceil(u/l)),h=0,p=0;p<u;p+=l){l>u-p&&(l=u-p,o.length=l);for(var v=0;v<l;v++){var x=this.getRawIndex(p+v);o[v]=c[x]}var g=n(o),_=this.getRawIndex(Math.min(p+i(o,g)||0,u-1));c[_]=g,g<f[0]&&(f[0]=g),g>f[1]&&(f[1]=g),d[h++]=_}return a._count=h,a._indices=d,a._updateGetRawIdx(),a},r.prototype.each=function(e,t){if(this._count)for(var n=e.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(n){case 0:t(a);break;case 1:t(i[e[0]][o],a);break;case 2:t(i[e[0]][o],i[e[1]][o],a);break;default:for(var l=0,c=[];l<n;l++)c[l]=i[e[l]][o];c[l]=a,t.apply(null,c)}}},r.prototype.getDataExtent=function(e){var t=this._chunks[e],n=g_();if(!t)return n;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=n;for(var o=s[0],l=s[1],c=0;c<i;c++){var u=this.getRawIndex(c),f=t[u];f<o&&(o=f),f>l&&(l=f)}return s=[o,l],this._extent[e]=s,s},r.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][t]);return n},r.prototype.clone=function(e,t){var n=new r,i=this._chunks,a=e&&Pd(e,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)n._chunks[s]=a[s]?uLe(i[s]):i[s];else n._chunks=i;return this._copyCommonProps(n),t||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Cr(this._extent),e._rawExtent=Cr(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var i=0;i<n;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},r.prototype._getRawIdxIdentity=function(e){return e},r.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=(function(){function e(t,n,i,a){return Qx(t[a],this._dimensions[a])}vP={arrayRows:e,objectRows:function(t,n,i,a){return Qx(t[n],this._dimensions[a])},keyedColumns:e,original:function(t,n,i,a){var s=t&&(t.value==null?t:t.value);return Qx(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(t,n,i,a){return t[a]}}})(),r})(),Pfe=(function(){function r(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),n=!!t.length,i,a;if(YC(e)){var s=e,o=void 0,l=void 0,c=void 0;if(n){var u=t[0];u.prepareSource(),c=u.getSource(),o=c.data,l=c.sourceFormat,a=[u._getVersionSign()]}else o=s.get("data",!0),l=Ju(o)?Jx:Hh,a=[];var f=this._getSourceMetaRawOption()||{},d=c&&c.metaRawOption||{},h=wr(f.seriesLayoutBy,d.seriesLayoutBy)||null,p=wr(f.sourceHeader,d.sourceHeader),v=wr(f.dimensions,d.dimensions),x=h!==d.seriesLayoutBy||!!p!=!!d.sourceHeader||v;i=x?[K7(o,{seriesLayoutBy:h,sourceHeader:p,dimensions:v},l)]:[]}else{var g=e;if(n){var _=this._applyTransform(t);i=_.sourceList,a=_.upstreamSignList}else{var w=g.get("source",!0);i=[K7(w,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},r.prototype._applyTransform=function(e){var t=this._sourceHost,n=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&WZ(a)}var s,o=[],l=[];return he(e,function(c){c.prepareSource();var u=c.getSource(i||0),f="";i!=null&&!u&&WZ(f),o.push(u),l.push(c._getVersionSign())}),n?s=sLe(n,o,{datasetIndex:t.componentIndex}):i!=null&&(s=[UDe(o[0])]),{sourceList:s,upstreamSignList:l}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},r.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},r.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},r.prototype._innerGetDataStore=function(e,t,n){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[n];if(!o){var l=this._getUpstreamSourceManagers()[0];YC(this._sourceHost)&&l?o=l._innerGetDataStore(e,t,n):(o=new $7,o.initData(new Efe(t,e.length),e)),s[n]=o}return o},r.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(YC(e)){var t=I9(e);return t?[t.getSourceManager()]:[]}else return Gt(mDe(e),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,n,i;if(YC(e))t=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:i}},r})();function GZ(r){var e=r.option.transform;e&&m3(r.option.transform)}function YC(r){return r.mainType==="series"}function WZ(r){throw new Error(r)}var fLe="line-height:1";function Ffe(r){var e=r.lineHeight;return e==null?fLe:"line-height:"+tu(e+"")+"px"}function Bfe(r,e){var t=r.color||ut.color.tertiary,n=r.fontSize||12,i=r.fontWeight||"400",a=r.color||ut.color.secondary,s=r.fontSize||14,o=r.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+tu(n+"")+"px;color:"+tu(t)+";font-weight:"+tu(i+""),valueStyle:"font-size:"+tu(s+"")+"px;color:"+tu(a)+";font-weight:"+tu(o+"")}:{nameStyle:{fontSize:n,fill:t,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var hLe=[0,10,20,30],dLe=["",`
`,`

`,`


`];function Uo(r,e){return e.type=r,e}function J7(r){return r.type==="section"}function zfe(r){return J7(r)?pLe:vLe}function jfe(r){if(J7(r)){var e=0,t=r.blocks.length,n=t>1||t>0&&!r.noHeader;return he(r.blocks,function(i){var a=jfe(i);a>=e&&(e=a+ +(n&&(!a||J7(i)&&!i.noHeader)))}),e}return 0}function pLe(r,e,t,n){var i=e.noHeader,a=mLe(jfe(e)),s=[],o=e.blocks||[];wc(!o||Ut(o)),o=o||[];var l=r.orderMode;if(e.sortBlocks&&l){o=o.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(gr(c,l)){var u=new Rfe(c[l],null);o.sort(function(v,x){return u.evaluate(v.sortParam,x.sortParam)})}else l==="seriesDesc"&&o.reverse()}he(o,function(v,x){var g=e.valueFormatter,_=zfe(v)(g?It(It({},r),{valueFormatter:g}):r,v,x>0?a.html:0,n);_!=null&&s.push(_)});var f=r.renderMode==="richText"?s.join(a.richText):Q7(n,s.join(""),i?t:a.html);if(i)return f;var d=Y7(e.header,"ordinal",r.useUTC),h=Bfe(n,r.renderMode).nameStyle,p=Ffe(n);return r.renderMode==="richText"?Ufe(r,d,h)+a.richText+f:Q7(n,'<div style="'+h+";"+p+';">'+tu(d)+"</div>"+f,t)}function vLe(r,e,t,n){var i=r.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,l=e.name,c=r.useUTC,u=e.valueFormatter||r.valueFormatter||function(A){return A=Ut(A)?A:[A],Gt(A,function(M,C){return Y7(M,Ut(h)?h[C]:h,c)})};if(!(a&&s)){var f=o?"":r.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||ut.color.secondary,i),d=a?"":Y7(l,"ordinal",c),h=e.valueType,p=s?[]:u(e.value,e.dataIndex),v=!o||!a,x=!o&&a,g=Bfe(n,i),_=g.nameStyle,w=g.valueStyle;return i==="richText"?(o?"":f)+(a?"":Ufe(r,d,_))+(s?"":yLe(r,p,v,x,w)):Q7(n,(o?"":f)+(a?"":gLe(d,!o,_))+(s?"":xLe(p,v,x,w)),t)}}function YZ(r,e,t,n,i,a){if(r){var s=zfe(r),o={useUTC:i,renderMode:t,orderMode:n,markupStyleCreator:e,valueFormatter:r.valueFormatter};return s(o,r,0,a)}}function mLe(r){return{html:hLe[r],richText:dLe[r]}}function Q7(r,e,t){var n='<div style="clear:both"></div>',i="margin: "+t+"px 0 0",a=Ffe(r);return'<div style="'+i+";"+a+';">'+e+n+"</div>"}function gLe(r,e,t){var n=e?"margin-left:2px":"";return'<span style="'+t+";"+n+'">'+tu(r)+"</span>"}function xLe(r,e,t,n){var i=t?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return r=Ut(r)?r:[r],'<span style="'+a+";"+n+'">'+Gt(r,function(s){return tu(s)}).join("&nbsp;&nbsp;")+"</span>"}function Ufe(r,e,t){return r.markupStyleCreator.wrapRichTextStyle(e,t)}function yLe(r,e,t,n,i){var a=[i],s=n?10:20;return t&&a.push({padding:[0,0,0,s],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(Ut(e)?e.join("  "):e,a)}function Vfe(r,e){var t=r.getData().getItemVisual(e,"style"),n=t[r.visualDrawType];return Q2(n)}function Hfe(r,e){var t=r.get("padding");return t??(e==="richText"?[8,10]:10)}var mP=(function(){function r(){this.richTextStyles={},this._nextStyleNameId=Kce()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(e,t,n){var i=n==="richText"?this._generateStyleName():null,a=nfe({color:t,type:e,renderMode:n,markerId:i});return fr(a)?a:(this.richTextStyles[i]=a.style,a.content)},r.prototype.wrapRichTextStyle=function(e,t){var n={};Ut(t)?he(t,function(a){return It(n,a)}):It(n,t);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},r})();function Gfe(r){var e=r.series,t=r.dataIndex,n=r.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(t),l=Ut(o),c=Vfe(e,t),u,f,d,h;if(s>1||l&&!s){var p=bLe(o,e,t,a,c);u=p.inlineValues,f=p.inlineValueTypes,d=p.blocks,h=p.inlineValues[0]}else if(s){var v=i.getDimensionInfo(a[0]);h=u=iS(i,t,a[0]),f=v.type}else h=u=l?o[0]:o;var x=JU(e),g=x&&e.name||"",_=i.getName(t),w=n?g:_;return Uo("section",{header:g,noHeader:n||!x,sortParam:h,blocks:[Uo("nameValue",{markerType:"item",markerColor:c,name:w,noName:!Nh(w),value:u,valueType:f,dataIndex:t})].concat(d||[])})}function bLe(r,e,t,n,i){var a=e.getData(),s=Pd(r,function(f,d,h){var p=a.getDimensionInfo(h);return f=f||p&&p.tooltip!==!1&&p.displayName!=null},!1),o=[],l=[],c=[];n.length?he(n,function(f){u(iS(a,t,f),f)}):he(r,u);function u(f,d){var h=a.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(s?c.push(Uo("nameValue",{markerType:"subItem",markerColor:i,name:h.displayName,value:f,valueType:h.type})):(o.push(f),l.push(h.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:c}}var ax=Mn();function qC(r,e){return r.getName(e)||r.getId(e)}var yD="__universalTransitionEnabled",la=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=kA({count:wLe,reset:SLe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var a=ax(this).sourceManager=new Pfe(this);a.prepareSource();var s=this.getInitialData(t,i);XZ(s,this),this.dataTask.context.data=s,ax(this).dataBeforeProcessed=s,qZ(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,n){var i=C3(this),a=i?vb(t):{},s=this.subType;En.hasClass(s)&&(s+="Series"),pn(t,n.getTheme().get(this.subType)),pn(t,this.getDefaultOption()),q2(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&yv(t,a,i)},e.prototype.mergeOption=function(t,n){t=pn(this.option,t,!0),this.fillDataTextStyle(t.data);var i=C3(this);i&&yv(this.option,t,i);var a=ax(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(t,n);XZ(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,ax(this).dataBeforeProcessed=s,qZ(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!Ju(t))for(var n=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&q2(t[i],"label",n)},e.prototype.getInitialData=function(t,n){},e.prototype.appendData=function(t){var n=this.getRawData();n.appendData(t.data)},e.prototype.getData=function(t){var n=ez(this);if(n){var i=n.context.data;return t==null||!i.getLinkedData?i:i.getLinkedData(t)}else return ax(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var n=ez(this);if(n){var i=n.context;i.outputData=t,n!==this.dataTask&&(i.data=t)}ax(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return br(t)},e.prototype.getSourceManager=function(){return ax(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return ax(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.indicesOfNearest=function(t,n,i,a){var s=this.getData(),o=this.coordinateSystem,l=o&&o.getAxis(t);if(!o||!l)return[];var c=l.dataToCoord(i);a==null&&(a=1/0);var u=[],f=1/0,d=-1,h=0;return s.each(n,function(p,v){var x=l.dataToCoord(p),g=c-x,_=Math.abs(g);_<=a&&((_<f||_===f&&g>=0&&d<0)&&(f=_,d=g,h=0),g===d&&(u[h++]=v))}),u.length=h,u},e.prototype.formatTooltip=function(t,n,i){return Gfe({series:this,dataIndex:t,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Un.node&&!(t&&t.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,n,i){var a=this.ecModel,s=O9.prototype.getColorFromPalette.call(this,t,n,i);return s||(s=a.getColorFromPalette(t,n,i)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,n){this._innerSelect(this.getData(n),t)},e.prototype.unselect=function(t,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<t.length;o++){var l=t[o],c=qC(s,l);i[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(t,n){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],n)?this.unselect(i,n):this.select(i,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,n=Wn(t),i=[],a=0;a<n.length;a++){var s=t[n[a]];s>=0&&i.push(s)}return i},e.prototype.isSelected=function(t,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[qC(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[yD])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,n){var i,a,s=this.option,o=s.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){kr(s.selectedMap)||(s.selectedMap={});for(var c=s.selectedMap,u=0;u<l;u++){var f=n[u],d=qC(t,f);c[d]=!0,this._selectedDataIndicesMap[d]=t.getRawIndex(f)}}else if(o==="single"||o===!0){var h=n[l-1],d=qC(t,h);s.selectedMap=(i={},i[d]=!0,i),this._selectedDataIndicesMap=(a={},a[d]=t.getRawIndex(h),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var n=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(t,n)}},e.registerClass=function(t){return En.registerClass(t)},e.protoInitialize=(function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"})(),e})(En);qs(la,eI);qs(la,O9);sue(la,En);function qZ(r){var e=r.name;JU(r)||(r.name=_Le(r)||e)}function _Le(r){var e=r.getRawData(),t=e.mapDimensionsAll("seriesName"),n=[];return he(t,function(i){var a=e.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function wLe(r){return r.model.getRawData().count()}function SLe(r){var e=r.model;return e.setData(e.getRawData().cloneShallow()),TLe}function TLe(r,e){e.outputData&&r.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function XZ(r,e){he($w(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(t){r.wrapMethod(t,cn(ALe,e))})}function ALe(r,e){var t=ez(r);return t&&t.setOutputEnd((e||this).count()),e}function ez(r){var e=(r.ecModel||{}).scheduler,t=e&&e.getPipeline(r.uid);if(t){var n=t.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(r.uid))}return n}}var Aa=(function(){function r(){this.group=new Nr,this.uid=GS("viewComponent")}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,i){},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,i){},r.prototype.updateLayout=function(e,t,n,i){},r.prototype.updateVisual=function(e,t,n,i){},r.prototype.toggleBlurSeries=function(e,t,n){},r.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},r})();e9(Aa);Uk(Aa);function qS(){var r=Mn();return function(e){var t=r(e),n=e.pipelineContext,i=!!t.large,a=!!t.progressiveRender,s=t.large=!!(n&&n.large),o=t.progressiveRender=!!(n&&n.progressiveRender);return(i!==s||a!==o)&&"reset"}}var Wfe=Mn(),ELe=qS(),Zi=(function(){function r(){this.group=new Nr,this.uid=GS("viewChart"),this.renderTask=kA({plan:MLe,reset:CLe}),this.renderTask.context={view:this}}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,i){},r.prototype.highlight=function(e,t,n,i){var a=e.getData(i&&i.dataType);a&&KZ(a,i,"emphasis")},r.prototype.downplay=function(e,t,n,i){var a=e.getData(i&&i.dataType);a&&KZ(a,i,"normal")},r.prototype.remove=function(e,t){this.group.removeAll()},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.updateLayout=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.eachRendered=function(e){Ty(this.group,e)},r.markUpdateMethod=function(e,t){Wfe(e).updateMethod=t},r.protoInitialize=(function(){var e=r.prototype;e.type="chart"})(),r})();function ZZ(r,e,t){r&&A3(r)&&(e==="emphasis"?ng:ig)(r,t)}function KZ(r,e,t){var n=X2(r,e),i=e&&e.highlightKey!=null?e4e(e.highlightKey):null;n!=null?he(Ta(n),function(a){ZZ(r.getItemGraphicEl(a),t,i)}):r.eachItemGraphicEl(function(a){ZZ(a,t,i)})}e9(Zi);Uk(Zi);function MLe(r){return ELe(r.model)}function CLe(r){var e=r.model,t=r.ecModel,n=r.api,i=r.payload,a=e.pipelineContext.progressiveRender,s=r.view,o=i&&Wfe(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,t,n,i),NLe[l]}var NLe={incrementalPrepareRender:{progress:function(r,e){e.view.incrementalRender(r,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(r,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},mL="\0__throttleOriginMethod",$Z="\0__throttleRate",JZ="\0__throttleType";function rI(r,e,t){var n,i=0,a=0,s=null,o,l,c,u;e=e||0;function f(){a=new Date().getTime(),s=null,r.apply(l,c||[])}var d=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];n=new Date().getTime(),l=this,c=h;var v=u||e,x=u||t;u=null,o=n-(x?i:a)-v,clearTimeout(s),x?s=setTimeout(f,v):o>=0?f():s=setTimeout(f,-o),i=n};return d.clear=function(){s&&(clearTimeout(s),s=null)},d.debounceNextCall=function(h){u=h},d}function XS(r,e,t,n){var i=r[e];if(i){var a=i[mL]||i,s=i[JZ],o=i[$Z];if(o!==t||s!==n){if(t==null||!n)return r[e]=a;i=r[e]=rI(a,t,n==="debounce"),i[mL]=a,i[JZ]=n,i[$Z]=t}return i}}function D3(r,e){var t=r[e];t&&t[mL]&&(t.clear&&t.clear(),r[e]=t[mL])}var QZ=Mn(),eK={itemStyle:Z2(Xue,!0),lineStyle:Z2(que,!0)},DLe={lineStyle:"stroke",itemStyle:"fill"};function Yfe(r,e){var t=r.visualStyleMapper||eK[e];return t||(console.warn("Unknown style type '"+e+"'."),eK.itemStyle)}function qfe(r,e){var t=r.visualDrawType||DLe[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var LLe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=r.getModel(n),a=Yfe(r,n),s=a(i),o=i.getShallow("decal");o&&(t.setVisual("decal",o),o.dirty=!0);var l=qfe(r,n),c=s[l],u=Tr(c)?c:null,f=s.fill==="auto"||s.stroke==="auto";if(!s[l]||u||f){var d=r.getColorFromPalette(r.name,null,e.getSeriesCount());s[l]||(s[l]=d,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||Tr(s.fill)?d:s.fill,s.stroke=s.stroke==="auto"||Tr(s.stroke)?d:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(r)&&u)return t.setVisual("colorFromPalette",!1),{dataEach:function(h,p){var v=r.getDataParams(p),x=It({},s);x[l]=u(v),h.setItemVisual(p,"style",x)}}}},r5=new Ln,RLe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!(r.ignoreStyleOnData||e.isSeriesFiltered(r))){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=Yfe(r,n),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[n]){r5.option=l[n];var c=i(r5),u=s.ensureUniqueItemVisual(o,"style");It(u,c),r5.option.decal&&(s.setItemVisual(o,"decal",r5.option.decal),r5.option.decal.dirty=!0),a in c&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},kLe={performRawSeries:!0,overallReset:function(r){var e=br();r.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+n,a=e.get(i);a||(a={},e.set(i,a)),QZ(t).scope=a}}),r.eachSeries(function(t){if(!(t.isColorBySeries()||r.isSeriesFiltered(t))){var n=t.getRawData(),i={},a=t.getData(),s=QZ(t).scope,o=t.visualStyleAccessPath||"itemStyle",l=qfe(t,o);a.each(function(c){var u=a.getRawIndex(c);i[u]=c}),n.each(function(c){var u=i[c],f=a.getItemVisual(u,"colorFromPalette");if(f){var d=a.ensureUniqueItemVisual(u,"style"),h=n.getName(c)||c+"",p=n.count();d[l]=t.getColorFromPalette(h,s,p)}})}})}},XC=Math.PI;function ILe(r,e){e=e||{},Rr(e,{text:"loading",textColor:ut.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:ut.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Nr,n=new _n({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(n);var i=new $n({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new _n({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var s;return e.showSpinner&&(s=new HE({shape:{startAngle:-XC/2,endAngle:-XC/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:XC*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:XC*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var o=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(r.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),u=r.getHeight()/2;e.showSpinner&&s.setShape({cx:c,cy:u}),a.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},t.resize(),t}var Xfe=(function(){function r(e,t,n,i){this._stageTaskMap=br(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return r.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},r.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,a=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex,s=a?n.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},r.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},r.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),s=n.progressiveEnabled&&t.incrementalPrepareRender&&a>=n.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:s,modDataCount:l,large:o}},r.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=br();e.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;n.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},r.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;he(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),s="";wc(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,t,n),i.overallReset&&this._createOverallStageTask(i,a,t,n)},this)},r.prototype.prepareView=function(e,t,n,i){var a=e.renderTask,s=a.context;s.model=t,s.ecModel=n,s.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},r.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},r.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},r.prototype._performStageTasks=function(e,t,n,i){i=i||{};var a=!1,s=this;he(e,function(l,c){if(!(i.visualType&&i.visualType!==l.visualType)){var u=s._stageTaskMap.get(l.uid),f=u.seriesTaskMap,d=u.overallTask;if(d){var h,p=d.agentStubMap;p.each(function(x){o(i,x)&&(x.dirty(),h=!0)}),h&&d.dirty(),s.updatePayload(d,n);var v=s.getPerformArgs(d,i.block);p.each(function(x){x.perform(v)}),d.perform(v)&&(a=!0)}else f&&f.each(function(x,g){o(i,x)&&x.dirty();var _=s.getPerformArgs(x,i.block);_.skip=!l.performRawSeries&&t.isSeriesFiltered(x.context.model),s.updatePayload(x,n),x.perform(_)&&(a=!0)})}});function o(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=a||this.unfinished},r.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t=n.dataTask.perform()||t}),this.unfinished=t||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},r.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},r.prototype._createSeriesStageTask=function(e,t,n,i){var a=this,s=t.seriesTaskMap,o=t.seriesTaskMap=br(),l=e.seriesType,c=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(u):l?n.eachRawSeriesByType(l,u):c&&c(n,i).each(u);function u(f){var d=f.uid,h=o.set(d,s&&s.get(d)||kA({plan:zLe,reset:jLe,count:VLe}));h.context={model:f,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(f,h)}},r.prototype._createOverallStageTask=function(e,t,n,i){var a=this,s=t.overallTask=t.overallTask||kA({reset:OLe});s.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=br(),c=e.seriesType,u=e.getTargetSeries,f=!0,d=!1,h="";wc(!e.createOnAllSeries,h),c?n.eachRawSeriesByType(c,p):u?u(n,i).each(p):(f=!1,he(n.getSeries(),p));function p(v){var x=v.uid,g=l.set(x,o&&o.get(x)||(d=!0,kA({reset:PLe,onDirty:BLe})));g.context={model:v,overallProgress:f},g.agent=s,g.__block=f,a._pipe(v,g)}d&&s.dirty()},r.prototype._pipe=function(e,t){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},r.wrapStageHandler=function(e,t){return Tr(e)&&(e={overallReset:e,seriesType:HLe(e)}),e.uid=GS("stageHandler"),t&&(e.visualType=t),e},r})();function OLe(r){r.overallReset(r.ecModel,r.api,r.payload)}function PLe(r){return r.overallProgress&&FLe}function FLe(){this.agent.dirty(),this.getDownstream().dirty()}function BLe(){this.agent&&this.agent.dirty()}function zLe(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function jLe(r){r.useClearVisual&&r.data.clearAllVisual();var e=r.resetDefines=Ta(r.reset(r.model,r.ecModel,r.api,r.payload));return e.length>1?Gt(e,function(t,n){return Zfe(n)}):ULe}var ULe=Zfe(0);function Zfe(r){return function(e,t){var n=t.data,i=t.resetDefines[r];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(e,n)}}function VLe(r){return r.data.count()}function HLe(r){gL=null;try{r(L3,Kfe)}catch{}return gL}var L3={},Kfe={},gL;$fe(L3,P9);$fe(Kfe,_fe);L3.eachSeriesByType=L3.eachRawSeriesByType=function(r){gL=r};L3.eachComponent=function(r){r.mainType==="series"&&r.subType&&(gL=r.subType)};function $fe(r,e){for(var t in e.prototype)r[t]=Ws}var Pr=ut.darkColor,GLe=Pr.background,n5=function(){return{axisLine:{lineStyle:{color:Pr.axisLine}},splitLine:{lineStyle:{color:Pr.axisSplitLine}},splitArea:{areaStyle:{color:[Pr.backgroundTint,Pr.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:Pr.axisMinorSplitLine}},axisLabel:{color:Pr.axisLabel},axisName:{}}},tK={label:{color:Pr.secondary},itemStyle:{borderColor:Pr.borderTint},dividerLineStyle:{color:Pr.border}},Jfe={darkMode:!0,color:Pr.theme,backgroundColor:GLe,axisPointer:{lineStyle:{color:Pr.border},crossStyle:{color:Pr.borderShade},label:{color:Pr.tertiary}},legend:{textStyle:{color:Pr.secondary},pageTextStyle:{color:Pr.tertiary}},textStyle:{color:Pr.secondary},title:{textStyle:{color:Pr.primary},subtextStyle:{color:Pr.quaternary}},toolbox:{iconStyle:{borderColor:Pr.accent50}},tooltip:{backgroundColor:Pr.neutral20,defaultBorderColor:Pr.border,textStyle:{color:Pr.tertiary}},dataZoom:{borderColor:Pr.accent10,textStyle:{color:Pr.tertiary},brushStyle:{color:Pr.backgroundTint},handleStyle:{color:Pr.neutral00,borderColor:Pr.accent20},moveHandleStyle:{color:Pr.accent40},emphasis:{handleStyle:{borderColor:Pr.accent50}},dataBackground:{lineStyle:{color:Pr.accent30},areaStyle:{color:Pr.accent20}},selectedDataBackground:{lineStyle:{color:Pr.accent50},areaStyle:{color:Pr.accent30}}},visualMap:{textStyle:{color:Pr.secondary},handleStyle:{borderColor:Pr.neutral30}},timeline:{lineStyle:{color:Pr.accent10},label:{color:Pr.tertiary},controlStyle:{color:Pr.accent30,borderColor:Pr.accent30}},calendar:{itemStyle:{color:Pr.neutral00,borderColor:Pr.neutral20},dayLabel:{color:Pr.tertiary},monthLabel:{color:Pr.secondary},yearLabel:{color:Pr.secondary}},matrix:{x:tK,y:tK,backgroundColor:{borderColor:Pr.axisLine},body:{itemStyle:{borderColor:Pr.borderTint}}},timeAxis:n5(),logAxis:n5(),valueAxis:n5(),categoryAxis:n5(),line:{symbol:"circle"},graph:{color:Pr.theme},gauge:{title:{color:Pr.secondary},axisLine:{lineStyle:{color:[[1,Pr.neutral05]]}},axisLabel:{color:Pr.axisLabel},detail:{color:Pr.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:Pr.background}},radar:(function(){var r=n5();return r.axisName={color:Pr.axisLabel},r.axisLine.lineStyle.color=Pr.neutral20,r})(),treemap:{breadcrumb:{itemStyle:{color:Pr.neutral20,textStyle:{color:Pr.secondary}},emphasis:{itemStyle:{color:Pr.neutral30}}}},sunburst:{itemStyle:{borderColor:Pr.background}},map:{itemStyle:{borderColor:Pr.border,areaColor:Pr.neutral10},label:{color:Pr.tertiary},emphasis:{label:{color:Pr.primary},itemStyle:{areaColor:Pr.highlight}},select:{label:{color:Pr.primary},itemStyle:{areaColor:Pr.highlight}}},geo:{itemStyle:{borderColor:Pr.border,areaColor:Pr.neutral10},emphasis:{label:{color:Pr.primary},itemStyle:{areaColor:Pr.highlight}},select:{label:{color:Pr.primary},itemStyle:{color:Pr.highlight}}}};Jfe.categoryAxis.splitLine.show=!1;var WLe=(function(){function r(){}return r.prototype.normalizeQuery=function(e){var t={},n={},i={};if(fr(e)){var a=ev(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};he(e,function(l,c){for(var u=!1,f=0;f<s.length;f++){var d=s[f],h=c.lastIndexOf(d);if(h>0&&h===c.length-d.length){var p=c.slice(0,h);p!=="data"&&(t.mainType=p,t[d.toLowerCase()]=l,u=!0)}}o.hasOwnProperty(c)&&(n[c]=l,u=!0),u||(i[c]=l)})}return{cptQuery:t,dataQuery:n,otherQuery:i}},r.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,s=n.model,o=n.view;if(!s||!o)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,s,"mainType")&&u(l,s,"subType")&&u(l,s,"index","componentIndex")&&u(l,s,"name")&&u(l,s,"id")&&u(c,a,"name")&&u(c,a,"dataIndex")&&u(c,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,i,a));function u(f,d,h,p){return f[h]==null||d[p||h]===f[h]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r})(),tz=["symbol","symbolSize","symbolRotate","symbolOffset"],rK=tz.concat(["symbolKeepAspect"]),YLe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData();if(r.legendIcon&&t.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},i={},a=!1,s=0;s<tz.length;s++){var o=tz[s],l=r.get(o);Tr(l)?(a=!0,i[o]=l):n[o]=l}if(n.symbol=n.symbol||r.defaultSymbol,t.setVisual(It({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),e.isSeriesFiltered(r))return;var c=Wn(i);function u(f,d){for(var h=r.getRawValue(d),p=r.getDataParams(d),v=0;v<c.length;v++){var x=c[v];f.setItemVisual(d,x,i[x](h,p))}}return{dataEach:a?u:null}}},qLe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!r.hasSymbolVisual||e.isSeriesFiltered(r))return;var t=r.getData();function n(i,a){for(var s=i.getItemModel(a),o=0;o<rK.length;o++){var l=rK[o],c=s.getShallow(l,!0);c!=null&&i.setItemVisual(a,l,c)}}return{dataEach:t.hasItemOption?n:null}}};function U9(r,e,t){switch(t){case"color":var n=r.getItemVisual(e,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(e,t)}}function XE(r,e){switch(e){case"color":var t=r.getVisual("style");return t[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(e)}}function Qfe(r,e,t,n){switch(t){case"color":var i=r.ensureUniqueItemVisual(e,"style");i[r.getVisual("drawType")]=n,r.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(e,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(e,t,n);break}}function ehe(r,e){function t(n,i){var a=[];return n.eachComponent({mainType:"series",subType:r,query:i},function(s){a.push(s.seriesIndex)}),a}he([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(n){e(n[0],function(i,a,s){i=It({},i),s.dispatchAction(It(i,{type:n[1],seriesIndex:t(a,i)}))})})}function x_(r,e,t,n,i){var a=r+e;t.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,c=i.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===o){var f=s.getData(),d=X2(f,i.fromActionPayload);t.trigger(a,{type:a,seriesId:s.id,name:Ut(d)?f.getName(d[0]):f.getName(d),selected:fr(l)?l:It({},l)})}})}function XLe(r,e,t){r.on("selectchanged",function(n){var i=t.getModel();n.isFromClick?(x_("map","selectchanged",e,i,n),x_("pie","selectchanged",e,i,n)):n.fromAction==="select"?(x_("map","selected",e,i,n),x_("pie","selected",e,i,n)):n.fromAction==="unselect"&&(x_("map","unselected",e,i,n),x_("pie","unselected",e,i,n))})}function y2(r,e,t){for(var n;r&&!(e(r)&&(n=r,t));)r=r.__hostTarget||r.parent;return n}var ZLe=Math.round(Math.random()*9),KLe=typeof Object.defineProperty=="function",$Le=(function(){function r(){this._id="__ec_inner_"+ZLe++}return r.prototype.get=function(e){return this._guard(e)[this._id]},r.prototype.set=function(e,t){var n=this._guard(e);return KLe?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},r.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},r.prototype.has=function(e){return!!this._guard(e)[this._id]},r.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},r})(),JLe=Rn.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,i=e.width/2,a=e.height/2;r.moveTo(t,n-a),r.lineTo(t+i,n+a),r.lineTo(t-i,n+a),r.closePath()}}),QLe=Rn.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,i=e.width/2,a=e.height/2;r.moveTo(t,n-a),r.lineTo(t+i,n),r.lineTo(t,n+a),r.lineTo(t-i,n),r.closePath()}}),eRe=Rn.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.x,n=e.y,i=e.width/5*3,a=Math.max(i,e.height),s=i/2,o=s*s/(a-s),l=n-a+s+o,c=Math.asin(o/s),u=Math.cos(c)*s,f=Math.sin(c),d=Math.cos(c),h=s*.6,p=s*.7;r.moveTo(t-u,l+o),r.arc(t,l,s,Math.PI-c,Math.PI*2+c),r.bezierCurveTo(t+u-f*h,l+o+d*h,t,n-p,t,n),r.bezierCurveTo(t,n-p,t-u+f*h,l+o+d*h,t-u,l+o),r.closePath()}}),tRe=Rn.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.height,n=e.width,i=e.x,a=e.y,s=n/3*2;r.moveTo(i,a),r.lineTo(i+s,a+t),r.lineTo(i,a+t/4*3),r.lineTo(i-s,a+t),r.lineTo(i,a),r.closePath()}}),rRe={line:mo,rect:_n,roundRect:_n,square:_n,circle:Ev,diamond:QLe,pin:eRe,arrow:tRe,triangle:JLe},nRe={line:function(r,e,t,n,i){i.x1=r,i.y1=e+n/2,i.x2=r+t,i.y2=e+n/2},rect:function(r,e,t,n,i){i.x=r,i.y=e,i.width=t,i.height=n},roundRect:function(r,e,t,n,i){i.x=r,i.y=e,i.width=t,i.height=n,i.r=Math.min(t,n)/4},square:function(r,e,t,n,i){var a=Math.min(t,n);i.x=r,i.y=e,i.width=a,i.height=a},circle:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.r=Math.min(t,n)/2},diamond:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.width=t,i.height=n},pin:function(r,e,t,n,i){i.x=r+t/2,i.y=e+n/2,i.width=t,i.height=n},arrow:function(r,e,t,n,i){i.x=r+t/2,i.y=e+n/2,i.width=t,i.height=n},triangle:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.width=t,i.height=n}},xL={};he(rRe,function(r,e){xL[e]=new r});var iRe=Rn.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,e,t){var n=sL(r,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(n.y=t.y+t.height*.4),n},buildPath:function(r,e,t){var n=e.symbolType;if(n!=="none"){var i=xL[n];i||(n="rect",i=xL[n]),nRe[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(r,i.shape,t)}}});function aRe(r,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=r,t.fill=e||ut.color.neutral00,t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=r:t.fill=r,this.markRedraw()}}function xo(r,e,t,n,i,a,s){var o=r.indexOf("empty")===0;o&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var l;return r.indexOf("image://")===0?l=h9(r.slice(8),new Br(e,t,n,i),s?"center":"cover"):r.indexOf("path://")===0?l=rS(r.slice(7),{},new Br(e,t,n,i),s?"center":"cover"):l=new iRe({shape:{symbolType:r,x:e,y:t,width:n,height:i}}),l.__isEmptyBrush=o,l.setColor=aRe,a&&l.setColor(a),l}function ZS(r){return Ut(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function gb(r,e){if(r!=null)return Ut(r)||(r=[r,r]),[ur(r[0],e[0])||0,ur(wr(r[1],r[0]),e[1])||0]}function b2(r){return isFinite(r)}function sRe(r,e,t){var n=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(n=n*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,s=s*t.height+t.y),n=b2(n)?n:0,i=b2(i)?i:1,a=b2(a)?a:0,s=b2(s)?s:0;var o=r.createLinearGradient(n,a,i,s);return o}function oRe(r,e,t){var n=t.width,i=t.height,a=Math.min(n,i),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*n+t.x,o=o*i+t.y,l=l*a),s=b2(s)?s:.5,o=b2(o)?o:.5,l=l>=0&&b2(l)?l:.5;var c=r.createRadialGradient(s,o,0,s,o,l);return c}function rz(r,e,t){for(var n=e.type==="radial"?oRe(r,e,t):sRe(r,e,t),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function lRe(r,e){if(r===e||!r&&!e)return!1;if(!r||!e||r.length!==e.length)return!0;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!0;return!1}function ZC(r){return parseInt(r,10)}function _w(r,e,t){var n=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto")return parseFloat(t[n]);var o=document.defaultView.getComputedStyle(r);return(r[i]||ZC(o[n])||ZC(r.style[n]))-(ZC(o[a])||0)-(ZC(o[s])||0)|0}function cRe(r,e){return!r||r==="solid"||!(e>0)?null:r==="dashed"?[4*e,2*e]:r==="dotted"?[e]:Jn(r)?[r]:Ut(r)?r:null}function V9(r){var e=r.style,t=e.lineDash&&e.lineWidth>0&&cRe(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(t){var i=e.strokeNoScale&&r.getLineScale?r.getLineScale():1;i&&i!==1&&(t=Gt(t,function(a){return a/i}),n/=i)}return[t,n]}var uRe=new xv(!0);function yL(r){var e=r.stroke;return!(e==null||e==="none"||!(r.lineWidth>0))}function nK(r){return typeof r=="string"&&r!=="none"}function bL(r){var e=r.fill;return e!=null&&e!=="none"}function iK(r,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=r.globalAlpha;r.globalAlpha=e.fillOpacity*e.opacity,r.fill(),r.globalAlpha=t}else r.fill()}function aK(r,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=r.globalAlpha;r.globalAlpha=e.strokeOpacity*e.opacity,r.stroke(),r.globalAlpha=t}else r.stroke()}function nz(r,e,t){var n=t9(e.image,e.__image,t);if(Vk(n)){var i=r.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*wA),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function fRe(r,e,t,n){var i,a=yL(t),s=bL(t),o=t.strokePercent,l=o<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||uRe,f=e.__dirty;if(!n){var d=t.fill,h=t.stroke,p=s&&!!d.colorStops,v=a&&!!h.colorStops,x=s&&!!d.image,g=a&&!!h.image,_=void 0,w=void 0,A=void 0,M=void 0,C=void 0;(p||v)&&(C=e.getBoundingRect()),p&&(_=f?rz(r,d,C):e.__canvasFillGradient,e.__canvasFillGradient=_),v&&(w=f?rz(r,h,C):e.__canvasStrokeGradient,e.__canvasStrokeGradient=w),x&&(A=f||!e.__canvasFillPattern?nz(r,d,e):e.__canvasFillPattern,e.__canvasFillPattern=A),g&&(M=f||!e.__canvasStrokePattern?nz(r,h,e):e.__canvasStrokePattern,e.__canvasStrokePattern=M),p?r.fillStyle=_:x&&(A?r.fillStyle=A:s=!1),v?r.strokeStyle=w:g&&(M?r.strokeStyle=M:a=!1)}var N=e.getGlobalScale();u.setScale(N[0],N[1],e.segmentIgnoreThreshold);var L,D;r.setLineDash&&t.lineDash&&(i=V9(e),L=i[0],D=i[1]);var k=!0;(c||f&uw)&&(u.setDPR(r.dpr),l?u.setContext(null):(u.setContext(r),k=!1),u.reset(),e.buildPath(u,e.shape,n),u.toStatic(),e.pathUpdated()),k&&u.rebuildPath(r,l?o:1),L&&(r.setLineDash(L),r.lineDashOffset=D),n||(t.strokeFirst?(a&&aK(r,t),s&&iK(r,t)):(s&&iK(r,t),a&&aK(r,t))),L&&r.setLineDash([])}function hRe(r,e,t){var n=e.__image=t9(t.image,e.__image,e,e.onload);if(!(!n||!Vk(n))){var i=t.x||0,a=t.y||0,s=e.getWidth(),o=e.getHeight(),l=n.width/n.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=n.width,o=n.height),t.sWidth&&t.sHeight){var c=t.sx||0,u=t.sy||0;r.drawImage(n,c,u,t.sWidth,t.sHeight,i,a,s,o)}else if(t.sx&&t.sy){var c=t.sx,u=t.sy,f=s-c,d=o-u;r.drawImage(n,c,u,f,d,i,a,s,o)}else r.drawImage(n,i,a,s,o)}}function dRe(r,e,t){var n,i=t.text;if(i!=null&&(i+=""),i){r.font=t.font||tg,r.textAlign=t.textAlign,r.textBaseline=t.textBaseline;var a=void 0,s=void 0;r.setLineDash&&t.lineDash&&(n=V9(e),a=n[0],s=n[1]),a&&(r.setLineDash(a),r.lineDashOffset=s),t.strokeFirst?(yL(t)&&r.strokeText(i,t.x,t.y),bL(t)&&r.fillText(i,t.x,t.y)):(bL(t)&&r.fillText(i,t.x,t.y),yL(t)&&r.strokeText(i,t.x,t.y)),a&&r.setLineDash([])}}var sK=["shadowBlur","shadowOffsetX","shadowOffsetY"],oK=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function the(r,e,t,n,i){var a=!1;if(!n&&(t=t||{},e===t))return!1;if(n||e.opacity!==t.opacity){Bf(r,i),a=!0;var s=Math.max(Math.min(e.opacity,1),0);r.globalAlpha=isNaN(s)?L2.opacity:s}(n||e.blend!==t.blend)&&(a||(Bf(r,i),a=!0),r.globalCompositeOperation=e.blend||L2.blend);for(var o=0;o<sK.length;o++){var l=sK[o];(n||e[l]!==t[l])&&(a||(Bf(r,i),a=!0),r[l]=r.dpr*(e[l]||0))}return(n||e.shadowColor!==t.shadowColor)&&(a||(Bf(r,i),a=!0),r.shadowColor=e.shadowColor||L2.shadowColor),a}function lK(r,e,t,n,i){var a=R3(e,i.inHover),s=n?null:t&&R3(t,i.inHover)||{};if(a===s)return!1;var o=the(r,a,s,n,i);if((n||a.fill!==s.fill)&&(o||(Bf(r,i),o=!0),nK(a.fill)&&(r.fillStyle=a.fill)),(n||a.stroke!==s.stroke)&&(o||(Bf(r,i),o=!0),nK(a.stroke)&&(r.strokeStyle=a.stroke)),(n||a.opacity!==s.opacity)&&(o||(Bf(r,i),o=!0),r.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,c=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);r.lineWidth!==c&&(o||(Bf(r,i),o=!0),r.lineWidth=c)}for(var u=0;u<oK.length;u++){var f=oK[u],d=f[0];(n||a[d]!==s[d])&&(o||(Bf(r,i),o=!0),r[d]=a[d]||f[1])}return o}function pRe(r,e,t,n,i){return the(r,R3(e,i.inHover),t&&R3(t,i.inHover),n,i)}function rhe(r,e){var t=e.transform,n=r.dpr||1;t?r.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):r.setTransform(n,0,0,n,0,0)}function vRe(r,e,t){for(var n=!1,i=0;i<r.length;i++){var a=r[i];n=n||a.isZeroArea(),rhe(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=n}function mRe(r,e){return r&&e?r[0]!==e[0]||r[1]!==e[1]||r[2]!==e[2]||r[3]!==e[3]||r[4]!==e[4]||r[5]!==e[5]:!(!r&&!e)}var cK=1,uK=2,fK=3,hK=4;function gRe(r){var e=bL(r),t=yL(r);return!(r.lineDash||!(+e^+t)||e&&typeof r.fill!="string"||t&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function Bf(r,e){e.batchFill&&r.fill(),e.batchStroke&&r.stroke(),e.batchFill="",e.batchStroke=""}function R3(r,e){return e&&r.__hoverStyle||r.style}function H9(r,e){_2(r,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function _2(r,e,t,n){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~Ah,e.__isRendered=!1;return}var a=e.__clipPaths,s=t.prevElClipPaths,o=!1,l=!1;if((!s||lRe(a,s))&&(s&&s.length&&(Bf(r,t),r.restore(),l=o=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(Bf(r,t),r.save(),vRe(a,r,t),o=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=t.prevEl;c||(l=o=!0);var u=e instanceof Rn&&e.autoBatch&&gRe(e.style);o||mRe(i,c.transform)?(Bf(r,t),rhe(r,e)):u||Bf(r,t);var f=R3(e,t.inHover);e instanceof Rn?(t.lastDrawType!==cK&&(l=!0,t.lastDrawType=cK),lK(r,e,c,l,t),(!u||!t.batchFill&&!t.batchStroke)&&r.beginPath(),fRe(r,e,f,u),u&&(t.batchFill=f.fill||"",t.batchStroke=f.stroke||"")):e instanceof tS?(t.lastDrawType!==fK&&(l=!0,t.lastDrawType=fK),lK(r,e,c,l,t),dRe(r,e,f)):e instanceof Nl?(t.lastDrawType!==uK&&(l=!0,t.lastDrawType=uK),pRe(r,e,c,l,t),hRe(r,e,f)):e.getTemporalDisplayables&&(t.lastDrawType!==hK&&(l=!0,t.lastDrawType=hK),xRe(r,e,t)),u&&n&&Bf(r,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function xRe(r,e,t){var n=e.getDisplayables(),i=e.getTemporalDisplayables();r.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,o;for(s=e.getCursor(),o=n.length;s<o;s++){var l=n[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),_2(r,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var c=0,u=i.length;c<u;c++){var l=i[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),_2(r,l,a,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,r.restore()}var gP=new $Le,dK=new Jw(100),pK=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function aS(r,e){if(r==="none")return null;var t=e.getDevicePixelRatio(),n=e.getZr(),i=n.painter.type==="svg";r.dirty&&gP.delete(r);var a=gP.get(r);if(a)return a;var s=Rr(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/t,gP.set(r,o),r.dirty=!1,o;function l(c){for(var u=[t],f=!0,d=0;d<pK.length;++d){var h=s[pK[d]];if(h!=null&&!Ut(h)&&!fr(h)&&!Jn(h)&&typeof h!="boolean"){f=!1;break}u.push(h)}var p;if(f){p=u.join(",")+(i?"-svg":"");var v=dK.get(p);v&&(i?c.svgElement=v:c.image=v)}var x=ihe(s.dashArrayX),g=yRe(s.dashArrayY),_=nhe(s.symbol),w=bRe(x),A=ahe(g),M=!i&&Yf.createCanvas(),C=i&&{tag:"g",attrs:{},key:"dcl",children:[]},N=D(),L;M&&(M.width=N.width*t,M.height=N.height*t,L=M.getContext("2d")),k(),f&&dK.put(p,M||C),c.image=M,c.svgElement=C,c.svgWidth=N.width,c.svgHeight=N.height;function D(){for(var O=1,I=0,j=w.length;I<j;++I)O=DX(O,w[I]);for(var B=1,I=0,j=_.length;I<j;++I)B=DX(B,_[I].length);O*=B;var K=A*w.length*_.length;return{width:Math.max(1,Math.min(O,s.maxTileWidth)),height:Math.max(1,Math.min(K,s.maxTileHeight))}}function k(){L&&(L.clearRect(0,0,M.width,M.height),s.backgroundColor&&(L.fillStyle=s.backgroundColor,L.fillRect(0,0,M.width,M.height)));for(var O=0,I=0;I<g.length;++I)O+=g[I];if(O<=0)return;for(var j=-A,B=0,K=0,H=0;j<N.height;){if(B%2===0){for(var Z=K/2%_.length,Y=0,J=0,oe=0;Y<N.width*2;){for(var X=0,I=0;I<x[H].length;++I)X+=x[H][I];if(X<=0)break;if(J%2===0){var F=(1-s.symbolSize)*.5,W=Y+x[H][J]*F,Q=j+g[B]*F,re=x[H][J]*s.symbolSize,ae=g[B]*s.symbolSize,ce=oe/2%_[Z].length;ye(W,Q,re,ae,_[Z][ce])}Y+=x[H][J],++oe,++J,J===x[H].length&&(J=0)}++H,H===x.length&&(H=0)}j+=g[B],++K,++B,B===g.length&&(B=0)}function ye(fe,be,Oe,xe,Qe){var ne=i?1:t,te=xo(Qe,fe*ne,be*ne,Oe*ne,xe*ne,s.color,s.symbolKeepAspect);if(i){var Me=n.painter.renderOneToVNode(te);Me&&C.children.push(Me)}else H9(L,te)}}}}function nhe(r){if(!r||r.length===0)return[["rect"]];if(fr(r))return[[r]];for(var e=!0,t=0;t<r.length;++t)if(!fr(r[t])){e=!1;break}if(e)return nhe([r]);for(var n=[],t=0;t<r.length;++t)fr(r[t])?n.push([r[t]]):n.push(r[t]);return n}function ihe(r){if(!r||r.length===0)return[[0,0]];if(Jn(r)){var e=Math.ceil(r);return[[e,e]]}for(var t=!0,n=0;n<r.length;++n)if(!Jn(r[n])){t=!1;break}if(t)return ihe([r]);for(var i=[],n=0;n<r.length;++n)if(Jn(r[n])){var e=Math.ceil(r[n]);i.push([e,e])}else{var e=Gt(r[n],function(o){return Math.ceil(o)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function yRe(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(Jn(r)){var e=Math.ceil(r);return[e,e]}var t=Gt(r,function(n){return Math.ceil(n)});return r.length%2?t.concat(t):t}function bRe(r){return Gt(r,function(e){return ahe(e)})}function ahe(r){for(var e=0,t=0;t<r.length;++t)e+=r[t];return r.length%2===1?e*2:e}function _Re(r,e){r.eachRawSeries(function(t){if(!r.isSeriesFiltered(t)){var n=t.getData();n.hasItemVisual()&&n.each(function(s){var o=n.getItemVisual(s,"decal");if(o){var l=n.ensureUniqueItemVisual(s,"style");l.decal=aS(o,e)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=aS(i,e)}}})}var Dp=new Vd,she={};function wRe(r,e){she[r]=e}function ohe(r){return she[r]}var lhe={};function che(r,e){lhe[r]=e}function SRe(r){return lhe[r]}var TRe="6.0.0",ARe={zrender:"6.0.0"},ERe=1,MRe=800,CRe=900,NRe=1e3,DRe=2e3,LRe=5e3,uhe=1e3,RRe=1100,G9=2e3,fhe=3e3,kRe=4e3,nI=4500,IRe=4600,ORe=5e3,PRe=6e3,hhe=7e3,dhe={PROCESSOR:{FILTER:NRe,SERIES_FILTER:MRe,STATISTIC:LRe},VISUAL:{LAYOUT:uhe,PROGRESSIVE_LAYOUT:RRe,GLOBAL:G9,CHART:fhe,POST_CHART_LAYOUT:IRe,COMPONENT:kRe,BRUSH:ORe,CHART_ITEM:nI,ARIA:PRe,DECAL:hhe}},Zo="__flagInMainProcess",KC="__mainProcessVersion",Ul="__pendingUpdate",xP="__needsUpdateStatus",vK=/^[a-zA-Z0-9_]+$/,yP="__connectUpdateStatus",mK=0,FRe=1,BRe=2;function phe(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return mhe(this,r,e)}}function vhe(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mhe(this,r,e)}}function mhe(r,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Vd.prototype[e].apply(r,t)}var ghe=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(Vd),xhe=ghe.prototype;xhe.on=vhe("on");xhe.off=vhe("off");var M1,bP,$C,dm,JC,_P,wP,y_,b_,gK,xK,SP,yK,QC,bK,yhe,hd,_K,__,_L=(function(r){dt(e,r);function e(t,n,i){var a=r.call(this,new WLe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},a._dom=t;var s="canvas",o="auto",l=!1;a[KC]=1,i.ssr&&Wce(function(d){var h=Vr(d),p=h.dataIndex;if(p!=null){var v=br();return v.set("series_index",h.seriesIndex),v.set("data_index",p),h.ssrType&&v.set("ssr_type",h.ssrType),v}});var c=a._zr=A7(t,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:wr(i.useDirtyRect,l),useCoarsePointer:wr(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=rI(hr(c.flush,c),17),a._updateTheme(n),a._locale=G4e(i.locale||Zue),a._coordSysMgr=new YS;var u=a._api=bK(a);function f(d,h){return d.__prio-h.__prio}return sD(SL,f),sD(sz,f),a._scheduler=new Xfe(a,u,sz,SL),a._messageCenter=new ghe,a._initEvents(),a.resize=hr(a.resize,a),c.animation.on("frame",a._onframe,a),gK(c,a),xK(c,a),m3(a),a}return e.prototype._onframe=function(){if(!this._disposed){_K(this);var t=this._scheduler;if(this[Ul]){var n=this[Ul].silent;this[Zo]=!0,__(this);try{M1(this),dm.update.call(this,null,this[Ul].updateParams)}catch(l){throw this[Zo]=!1,this[Ul]=null,l}this._zr.flush(),this[Zo]=!1,this[Ul]=null,y_.call(this,n),b_.call(this,n)}else if(t.unfinished){var i=ERe,a=this._model,s=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),_P(this,a),t.performVisualTasks(a),QC(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,n,i){if(!this[Zo]){if(this._disposed){this.id;return}var a,s,o;if(kr(n)&&(i=n.lazyUpdate,a=n.silent,s=n.replaceMerge,o=n.transition,n=n.notMerge),this[Zo]=!0,__(this),!this._model||n){var l=new MDe(this._api),c=this._theme,u=this._model=new P9;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(t,{replaceMerge:s},oz);var f={seriesTransition:o,optionChanged:!0};if(i)this[Ul]={silent:a,updateParams:f},this[Zo]=!1,this.getZr().wakeUp();else{try{M1(this),dm.update.call(this,null,f)}catch(d){throw this[Ul]=null,this[Zo]=!1,d}this._ssr||this._zr.flush(),this[Ul]=null,this[Zo]=!1,y_.call(this,a),b_.call(this,a)}}},e.prototype.setTheme=function(t,n){if(!this[Zo]){if(this._disposed){this.id;return}var i=this._model;if(i){var a=n&&n.silent,s=null;this[Ul]&&(a==null&&(a=this[Ul].silent),s=this[Ul].updateParams,this[Ul]=null),this[Zo]=!0,__(this);try{this._updateTheme(t),i.setTheme(this._theme),M1(this),dm.update.call(this,{type:"setTheme"},s)}catch(o){throw this[Zo]=!1,o}this[Zo]=!1,y_.call(this,a),b_.call(this,a)}}},e.prototype._updateTheme=function(t){fr(t)&&(t=bhe[t]),t&&(t=Cr(t),t&&Sfe(t,!0),this._theme=t)},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Un.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var n=this._zr.painter;return n.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){var t=this._zr,n=t.storage.getDisplayList();return he(n,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var n=t.excludeComponents,i=this._model,a=[],s=this;he(n,function(l){i.eachComponent({mainType:l},function(c){var u=s._componentsMap[c.__viewId];u.group.ignore||(a.push(u),u.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return he(a,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var n=t.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(TL[i]){var l=o,c=o,u=-o,f=-o,d=[],h=t&&t.pixelRatio||this.getDevicePixelRatio();he(I2,function(w,A){if(w.group===i){var M=n?w.getZr().painter.getSvgDom().innerHTML:w.renderToCanvas(Cr(t)),C=w.getDom().getBoundingClientRect();l=a(C.left,l),c=a(C.top,c),u=s(C.right,u),f=s(C.bottom,f),d.push({dom:M,left:C.left,top:C.top})}}),l*=h,c*=h,u*=h,f*=h;var p=u-l,v=f-c,x=Yf.createCanvas(),g=A7(x,{renderer:n?"svg":"canvas"});if(g.resize({width:p,height:v}),n){var _="";return he(d,function(w){var A=w.left-l,M=w.top-c;_+='<g transform="translate('+A+","+M+')">'+w.dom+"</g>"}),g.painter.getSvgRoot().innerHTML=_,t.connectedBackgroundColor&&g.painter.setBackgroundColor(t.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}else return t.connectedBackgroundColor&&g.add(new _n({shape:{x:0,y:0,width:p,height:v},style:{fill:t.connectedBackgroundColor}})),he(d,function(w){var A=new Nl({style:{x:w.left*h-l,y:w.top*h-c,image:w.dom}});g.add(A)}),g.refreshImmediately(),x.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,n,i){return JC(this,"convertToPixel",t,n,i)},e.prototype.convertToLayout=function(t,n,i){return JC(this,"convertToLayout",t,n,i)},e.prototype.convertFromPixel=function(t,n,i){return JC(this,"convertFromPixel",t,n,i)},e.prototype.containPixel=function(t,n){if(this._disposed){this.id;return}var i=this._model,a,s=zw(i,t);return he(s,function(o,l){l.indexOf("Models")>=0&&he(o,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)a=a||!!u.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[c.__viewId];f&&f.containPoint&&(a=a||f.containPoint(n,c))}},this)},this),!!a},e.prototype.getVisual=function(t,n){var i=this._model,a=zw(i,t,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?U9(o,l,n):XE(o,n)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;he(zRe,function(i){var a=function(s){var o=t.getModel(),l=s.target,c,u=i==="globalout";if(u?c={}:l&&y2(l,function(v){var x=Vr(v);if(x&&x.dataIndex!=null){var g=x.dataModel||o.getSeriesByIndex(x.seriesIndex);return c=g&&g.getDataParams(x.dataIndex,x.dataType,l)||{},!0}else if(x.eventData)return c=It({},x.eventData),!0},!0),c){var f=c.componentType,d=c.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",d=c.seriesIndex);var h=f&&d!=null&&o.getComponent(f,d),p=h&&t[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];c.event=s,c.type=i,t._$eventProcessor.eventInfo={targetEl:l,packedEvent:c,model:h,view:p},t.trigger(i,c)}};a.zrEventfulCallAtLast=!0,t._zr.on(i,a,t)});var n=this._messageCenter;he(az,function(i,a){n.on(a,function(s){t.trigger(a,s)})}),XLe(n,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&nue(this.getDom(),Y9,"");var n=this,i=n._api,a=n._model;he(n._componentsViews,function(s){s.dispose(a,i)}),he(n._chartsViews,function(s){s.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete I2[n.id]},e.prototype.resize=function(t){if(!this[Zo]){if(this._disposed){this.id;return}this._zr.resize(t);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=t&&t.silent;this[Ul]&&(a==null&&(a=this[Ul].silent),i=!0,this[Ul]=null),this[Zo]=!0,__(this);try{i&&M1(this),dm.update.call(this,{type:"resize",animation:It({duration:0},t&&t.animation)})}catch(s){throw this[Zo]=!1,s}this[Zo]=!1,y_.call(this,a),b_.call(this,a)}}},e.prototype.showLoading=function(t,n){if(this._disposed){this.id;return}if(kr(t)&&(n=t,t=""),t=t||"default",this.hideLoading(),!!lz[t]){var i=lz[t](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var n=It({},t);return n.type=iz[t.type],n},e.prototype.dispatchAction=function(t,n){if(this._disposed){this.id;return}if(kr(n)||(n={silent:!!n}),!!wL[t.type]&&this._model){if(this[Zo]){this._pendingActions.push(t);return}var i=n.silent;wP.call(this,t,i);var a=n.flush;a?this._zr.flush():a!==!1&&Un.browser.weChat&&this._throttledZrFlush(),y_.call(this,i),b_.call(this,i)}},e.prototype.updateLabelLayout=function(){Dp.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var n=t.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=(function(){M1=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),bP(f,!0),bP(f,!1),d.plan()},bP=function(f,d){for(var h=f._model,p=f._scheduler,v=d?f._componentsViews:f._chartsViews,x=d?f._componentsMap:f._chartsMap,g=f._zr,_=f._api,w=0;w<v.length;w++)v[w].__alive=!1;d?h.eachComponent(function(C,N){C!=="series"&&A(N)}):h.eachSeries(A);function A(C){var N=C.__requireNewView;C.__requireNewView=!1;var L="_ec_"+C.id+"_"+C.type,D=!N&&x[L];if(!D){var k=ev(C.type),O=d?Aa.getClass(k.main,k.sub):Zi.getClass(k.sub);D=new O,D.init(h,_),x[L]=D,v.push(D),g.add(D.group)}C.__viewId=D.__id=L,D.__alive=!0,D.__model=C,D.group.__ecComponentInfo={mainType:C.mainType,index:C.componentIndex},!d&&p.prepareView(D,C,h,_)}for(var w=0;w<v.length;){var M=v[w];M.__alive?w++:(!d&&M.renderTask.dispose(),g.remove(M.group),M.dispose(h,_),v.splice(w,1),x[M.__id]===M&&delete x[M.__id],M.__id=M.group.__ecComponentInfo=null)}},$C=function(f,d,h,p,v){var x=f._model;if(x.setUpdatePayload(h),!p){he([].concat(f._componentsViews).concat(f._chartsViews),M);return}var g={};g[p+"Id"]=h[p+"Id"],g[p+"Index"]=h[p+"Index"],g[p+"Name"]=h[p+"Name"];var _={mainType:p,query:g};v&&(_.subType=v);var w=h.excludeSeriesId,A;w!=null&&(A=br(),he(Ta(w),function(C){var N=rl(C,null);N!=null&&A.set(N,!0)})),x&&x.eachComponent(_,function(C){var N=A&&A.get(C.id)!=null;if(!N)if(aZ(h))if(C instanceof la)h.type===R2&&!h.notBlur&&!C.get(["emphasis","disabled"])&&YNe(C,h,f._api);else{var L=l9(C.mainType,C.componentIndex,h.name,f._api),D=L.focusSelf,k=L.dispatchers;h.type===R2&&D&&!h.notBlur&&F7(C.mainType,C.componentIndex,f._api),k&&he(k,function(O){h.type===R2?ng(O):ig(O)})}else z7(h)&&C instanceof la&&(ZNe(C,h,f._api),nZ(C),hd(f))},f),x&&x.eachComponent(_,function(C){var N=A&&A.get(C.id)!=null;N||M(f[p==="series"?"_chartsMap":"_componentsMap"][C.__viewId])},f);function M(C){C&&C.__alive&&C[d]&&C[d](C.__model,x,f._api,h)}},dm={prepareAndUpdate:function(f){M1(this),dm.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,p=this._api,v=this._zr,x=this._coordSysMgr,g=this._scheduler;if(h){h.setUpdatePayload(f),g.restoreData(h,f),g.performSeriesTasks(h),x.create(h,p),g.performDataProcessorTasks(h,f),_P(this,h),x.update(h,p),n(h),g.performVisualTasks(h,f);var _=h.get("backgroundColor")||"transparent";v.setBackgroundColor(_);var w=h.get("darkMode");w!=null&&w!=="auto"&&v.setDarkMode(w),SP(this,h,p,f,d),Dp.trigger("afterupdate",h,p)}},updateTransform:function(f){var d=this,h=this._model,p=this._api;if(h){h.setUpdatePayload(f);var v=[];h.eachComponent(function(g,_){if(g!=="series"){var w=d.getViewOfComponentModel(_);if(w&&w.__alive)if(w.updateTransform){var A=w.updateTransform(_,h,p,f);A&&A.update&&v.push(w)}else v.push(w)}});var x=br();h.eachSeries(function(g){var _=d._chartsMap[g.__viewId];if(_.updateTransform){var w=_.updateTransform(g,h,p,f);w&&w.update&&x.set(g.uid,1)}else x.set(g.uid,1)}),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:x}),QC(this,h,p,f,{},x),Dp.trigger("afterupdate",h,p)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),Zi.markUpdateMethod(f,"updateView"),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),SP(this,d,this._api,f,{}),Dp.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(p){p.getData().clearAllVisual()}),Zi.markUpdateMethod(f,"updateVisual"),n(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(p,v){if(p!=="series"){var x=d.getViewOfComponentModel(v);x&&x.__alive&&x.updateVisual(v,h,d._api,f)}}),h.eachSeries(function(p){var v=d._chartsMap[p.__viewId];v.updateVisual(p,h,d._api,f)}),Dp.trigger("afterupdate",h,this._api))},updateLayout:function(f){dm.update.call(this,f)}};function t(f,d,h,p,v){if(f._disposed){f.id;return}for(var x=f._model,g=f._coordSysMgr.getCoordinateSystems(),_,w=zw(x,h),A=0;A<g.length;A++){var M=g[A];if(M[d]&&(_=M[d](x,w,p,v))!=null)return _}}JC=t,_P=function(f,d){var h=f._chartsMap,p=f._scheduler;d.eachSeries(function(v){p.updateStreamModes(v,h[v.__viewId])})},wP=function(f,d){var h=this,p=this.getModel(),v=f.type,x=f.escapeConnect,g=wL[v],_=(g.update||"update").split(":"),w=_.pop(),A=_[0]!=null&&ev(_[0]);this[Zo]=!0,__(this);var M=[f],C=!1;f.batch&&(C=!0,M=Gt(f.batch,function(H){return H=Rr(It({},H),f),H.batch=null,H}));var N=[],L,D=[],k=g.nonRefinedEventType,O=z7(f),I=aZ(f);if(I&&Aue(this._api),he(M,function(H){var Z=g.action(H,p,h._api);if(g.refineEvent?D.push(Z):L=Z,L=L||It({},H),L.type=k,N.push(L),I){var Y=QU(f),J=Y.queryOptionMap,oe=Y.mainTypeSpecified,X=oe?J.keys()[0]:"series";$C(h,w,H,X),hd(h)}else O?($C(h,w,H,"series"),hd(h)):A&&$C(h,w,H,A.main,A.sub)}),w!=="none"&&!I&&!O&&!A)try{this[Ul]?(M1(this),dm.update.call(this,f),this[Ul]=null):dm[w].call(this,f)}catch(H){throw this[Zo]=!1,H}if(C?L={type:k,escapeConnect:x,batch:N}:L=N[0],this[Zo]=!1,!d){var j=void 0;if(g.refineEvent){var B=g.refineEvent(D,f,p,this._api).eventContent;wc(kr(B)),j=Rr({type:g.refinedEventType},B),j.fromAction=f.type,j.fromActionPayload=f,j.escapeConnect=!0}var K=this._messageCenter;K.trigger(L.type,L),j&&K.trigger(j.type,j)}},y_=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();wP.call(this,h,f)}},b_=function(f){!f&&this.trigger("updated")},gK=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[Ul]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},xK=function(f,d){f.on("mouseover",function(h){var p=h.target,v=y2(p,A3);v&&(qNe(v,h,d._api),hd(d))}).on("mouseout",function(h){var p=h.target,v=y2(p,A3);v&&(XNe(v,h,d._api),hd(d))}).on("click",function(h){var p=h.target,v=y2(p,function(_){return Vr(_).dataIndex!=null},!0);if(v){var x=v.selected?"unselect":"select",g=Vr(v);d._api.dispatchAction({type:x,dataType:g.dataType,dataIndexInside:g.dataIndex,seriesIndex:g.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function i(f){var d=[],h=[],p=!1;if(f.eachComponent(function(_,w){var A=w.get("zlevel")||0,M=w.get("z")||0,C=w.getZLevelKey();p=p||!!C,(_==="series"?h:d).push({zlevel:A,z:M,idx:w.componentIndex,type:_,key:C})}),p){var v=d.concat(h),x,g;sD(v,function(_,w){return _.zlevel===w.zlevel?_.z-w.z:_.zlevel-w.zlevel}),he(v,function(_){var w=f.getComponent(_.type,_.idx),A=_.zlevel,M=_.key;x!=null&&(A=Math.max(x,A)),M?(A===x&&M!==g&&A++,g=M):g&&(A===x&&A++,g=""),x=A,w.setZLevel(A)})}}SP=function(f,d,h,p,v){i(d),yK(f,d,h,p,v),he(f._chartsViews,function(x){x.__alive=!1}),QC(f,d,h,p,v),he(f._chartsViews,function(x){x.__alive||x.remove(d,h)})},yK=function(f,d,h,p,v,x){he(x||f._componentsViews,function(g){var _=g.__model;c(_,g),g.render(_,d,h,p),l(_,g),u(_,g)})},QC=function(f,d,h,p,v,x){var g=f._scheduler;v=It(v||{},{updatedSeries:d.getSeries()}),Dp.trigger("series:beforeupdate",d,h,v);var _=!1;d.eachSeries(function(w){var A=f._chartsMap[w.__viewId];A.__alive=!0;var M=A.renderTask;g.updatePayload(M,p),c(w,A),x&&x.get(w.uid)&&M.dirty(),M.perform(g.getPerformArgs(M))&&(_=!0),A.group.silent=!!w.get("silent"),o(w,A),nZ(w)}),g.unfinished=_||g.unfinished,Dp.trigger("series:layoutlabels",d,h,v),Dp.trigger("series:transition",d,h,v),d.eachSeries(function(w){var A=f._chartsMap[w.__viewId];l(w,A),u(w,A)}),s(f,d),Dp.trigger("series:afterupdate",d,h,v)},hd=function(f){f[xP]=!0,f.getZr().wakeUp()},__=function(f){f[KC]=(f[KC]+1)%1e3},_K=function(f){f[xP]&&(f.getZr().storage.traverse(function(d){jw(d)||a(d)}),f[xP]=!1)};function a(f){for(var d=[],h=f.currentStates,p=0;p<h.length;p++){var v=h[p];v==="emphasis"||v==="blur"||v==="select"||d.push(v)}f.selected&&f.states.select&&d.push("select"),f.hoverState===qk&&f.states.emphasis?d.push("emphasis"):f.hoverState===UE&&f.states.blur&&d.push("blur"),f.useStates(d)}function s(f,d){var h=f._zr,p=h.storage,v=0;p.traverse(function(x){x.isGroup||v++}),v>d.get("hoverLayerThreshold")&&!Un.node&&!Un.worker&&d.eachSeries(function(x){if(!x.preventUsingHoverLayer){var g=f._chartsMap[x.__viewId];g.__alive&&g.eachRendered(function(_){_.states.emphasis&&(_.states.emphasis.hoverLayer=!0)})}})}function o(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(p){p.isGroup||(p.style.blend=h)})}function l(f,d){if(!f.preventAutoZ){var h=J2(f);d.eachRendered(function(p){return Kk(p,h.z,h.zlevel),!0})}}function c(f,d){d.eachRendered(function(h){if(!jw(h)){var p=h.getTextContent(),v=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function u(f,d){var h=f.getModel("stateAnimation"),p=f.isAnimationEnabled(),v=h.get("duration"),x=v>0?{duration:v,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(g){if(g.states&&g.states.emphasis){if(jw(g))return;if(g instanceof Rn&&t4e(g),g.__dirty){var _=g.prevStates;_&&g.useStates(_)}if(p){g.stateTransition=x;var w=g.getTextContent(),A=g.getTextGuideLine();w&&(w.stateTransition=x),A&&(A.stateTransition=x)}g.__dirty&&a(g)}})}bK=function(f){return new((function(d){dt(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(p){for(;p;){var v=p.__ecComponentInfo;if(v!=null)return f._model.getComponent(v.mainType,v.index);p=p.parent}},h.prototype.enterEmphasis=function(p,v){ng(p,v),hd(f)},h.prototype.leaveEmphasis=function(p,v){ig(p,v),hd(f)},h.prototype.enterBlur=function(p){_ue(p),hd(f)},h.prototype.leaveBlur=function(p){o9(p),hd(f)},h.prototype.enterSelect=function(p){wue(p),hd(f)},h.prototype.leaveSelect=function(p){Sue(p),hd(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(p){return f.getViewOfComponentModel(p)},h.prototype.getViewOfSeriesModel=function(p){return f.getViewOfSeriesModel(p)},h.prototype.getMainProcessVersion=function(){return f[KC]},h})(_fe))(f)},yhe=function(f){function d(h,p){for(var v=0;v<h.length;v++){var x=h[v];x[yP]=p}}he(iz,function(h,p){f._messageCenter.on(p,function(v){if(TL[f.group]&&f[yP]!==mK){if(v&&v.escapeConnect)return;var x=f.makeActionFromEvent(v),g=[];he(I2,function(_){_!==f&&_.group===f.group&&g.push(_)}),d(g,mK),he(g,function(_){_[yP]!==FRe&&_.dispatchAction(x)}),d(g,BRe)}})})}})(),e})(Vd),W9=_L.prototype;W9.on=phe("on");W9.off=phe("off");W9.one=function(r,e,t){var n=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),n.off(r,i)}this.on.call(this,r,i,t)};var zRe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var wL={},iz={},az={},sz=[],oz=[],SL=[],bhe={},lz={},I2={},TL={},jRe=+new Date-0,URe=+new Date-0,Y9="_echarts_instance_";function VRe(r,e,t){var n=!(t&&t.ssr);if(n){var i=q9(r);if(i)return i}var a=new _L(r,e,t);return a.id="ec_"+jRe++,I2[a.id]=a,n&&nue(r,Y9,a.id),yhe(a),Dp.trigger("afterinit",a),a}function HRe(r){if(Ut(r)){var e=r;r=null,he(e,function(t){t.group!=null&&(r=t.group)}),r=r||"g_"+URe++,he(e,function(t){t.group=r})}return TL[r]=!0,r}function _he(r){TL[r]=!1}var GRe=_he;function WRe(r){fr(r)?r=I2[r]:r instanceof _L||(r=q9(r)),r instanceof _L&&!r.isDisposed()&&r.dispose()}function q9(r){return I2[VCe(r,Y9)]}function YRe(r){return I2[r]}function X9(r,e){bhe[r]=e}function Z9(r){hn(oz,r)<0&&oz.push(r)}function K9(r,e){$9(sz,r,e,DRe)}function whe(r){iI("afterinit",r)}function She(r){iI("afterupdate",r)}function iI(r,e){Dp.on(r,e)}function n0(r,e,t){var n,i,a,s,o;Tr(e)&&(t=e,e=""),kr(r)?(n=r.type,i=r.event,s=r.update,o=r.publishNonRefinedEvent,t||(t=r.action),a=r.refineEvent):(n=r,i=e);function l(u){return u.toLowerCase()}i=l(i||n);var c=a?l(n):i;wL[n]||(wc(vK.test(n)&&vK.test(i)),a&&wc(i!==n),wL[n]={actionType:n,refinedEventType:i,nonRefinedEventType:c,update:s,action:t,refineEvent:a},az[i]=1,a&&o&&(az[c]=1),iz[c]=n)}function The(r,e){YS.register(r,e)}function qRe(r){var e=YS.get(r);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function XRe(r,e){che(r,e)}function Ahe(r,e){$9(SL,r,e,uhe,"layout")}function Ey(r,e){$9(SL,r,e,fhe,"visual")}var wK=[];function $9(r,e,t,n,i){if((Tr(e)||kr(e))&&(t=e,e=n),!(hn(wK,t)>=0)){wK.push(t);var a=Xfe.wrapStageHandler(t,i);a.__prio=e,a.__raw=t,r.push(a)}}function J9(r,e){lz[r]=e}function ZRe(r){lce({createCanvas:r})}function Ehe(r,e,t){var n=ohe("registerMap");n&&n(r,e,t)}function KRe(r){var e=ohe("getMap");return e&&e(r)}var Mhe=aLe;Ey(G9,LLe);Ey(nI,RLe);Ey(nI,kLe);Ey(G9,YLe);Ey(nI,qLe);Ey(hhe,_Re);Z9(Sfe);K9(CRe,zDe);J9("default",ILe);n0({type:R2,event:R2,update:R2},Ws);n0({type:dD,event:dD,update:dD},Ws);n0({type:cL,event:a9,update:cL,action:Ws,refineEvent:Q9,publishNonRefinedEvent:!0});n0({type:O7,event:a9,update:O7,action:Ws,refineEvent:Q9,publishNonRefinedEvent:!0});n0({type:uL,event:a9,update:uL,action:Ws,refineEvent:Q9,publishNonRefinedEvent:!0});function Q9(r,e,t,n){return{eventContent:{selected:KNe(t),isFromClick:e.isFromClick||!1}}}X9("default",{});X9("dark",Jfe);var $Re={},SK=[],JRe={registerPreprocessor:Z9,registerProcessor:K9,registerPostInit:whe,registerPostUpdate:She,registerUpdateLifecycle:iI,registerAction:n0,registerCoordinateSystem:The,registerLayout:Ahe,registerVisual:Ey,registerTransform:Mhe,registerLoading:J9,registerMap:Ehe,registerImpl:wRe,PRIORITY:dhe,ComponentModel:En,ComponentView:Aa,SeriesModel:la,ChartView:Zi,registerComponentModel:function(r){En.registerClass(r)},registerComponentView:function(r){Aa.registerClass(r)},registerSeriesModel:function(r){la.registerClass(r)},registerChartView:function(r){Zi.registerClass(r)},registerCustomSeries:function(r,e){che(r,e)},registerSubTypeDefaulter:function(r,e){En.registerSubTypeDefaulter(r,e)},registerPainter:function(r,e){Hce(r,e)}};function xn(r){if(Ut(r)){he(r,function(e){xn(e)});return}hn(SK,r)>=0||(SK.push(r),Tr(r)&&(r={install:r}),r.install(JRe))}function i5(r){return r==null?0:r.length||1}function TK(r){return r}var ag=(function(){function r(e,t,n,i,a,s){this._old=e,this._new=t,this._oldKeyGetter=n||TK,this._newKeyGetter=i||TK,this.context=a,this._diffModeMultiple=s==="multiple"}return r.prototype.add=function(e){return this._add=e,this},r.prototype.update=function(e){return this._update=e,this},r.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},r.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},r.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},r.prototype.remove=function(e){return this._remove=e,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,n,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=i[s],l=n[o],c=i5(l);if(c>1){var u=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(u,s)}else c===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,n)},r.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},i={},a=[],s=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(t,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],c=n[l],u=i[l],f=i5(c),d=i5(u);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(u,c),i[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(u,c),i[l]=null;else if(f===1&&d===1)this._update&&this._update(u,c),i[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(u,c),i[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(c[h]);else this._remove&&this._remove(c)}this._performRestAdd(s,i)},r.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=t[i],s=i5(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);t[i]=null}},r.prototype._initIndexMap=function(e,t,n,i){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[i](e[s],s);if(a||(n[s]=o),!!t){var l=t[o],c=i5(l);c===0?(t[o]=s,a&&n.push(o)):c===1?t[o]=[l,s]:l.push(s)}}},r})(),QRe=(function(){function r(e,t){this._encode=e,this._schema=t}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r})();function eke(r,e){var t={},n=t.encode={},i=br(),a=[],s=[],o={};he(r.dimensions,function(d){var h=r.getDimensionInfo(d),p=h.coordDim;if(p){var v=h.coordDimIndex;TP(n,p)[v]=d,h.isExtraCoord||(i.set(p,1),tke(h.type)&&(a[0]=d),TP(o,p)[v]=r.getDimensionIndex(h.name)),h.defaultTooltip&&s.push(d)}pfe.each(function(x,g){var _=TP(n,g),w=h.otherDims[g];w!=null&&w!==!1&&(_[w]=h.name)})});var l=[],c={};i.each(function(d,h){var p=n[h];c[h]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=Gt(l,function(d){return r.getDimensionInfo(d).storeDimIndex}),t.encodeFirstDimNotExtra=c;var u=n.label;u&&u.length&&(a=u.slice());var f=n.tooltip;return f&&f.length?s=f.slice():s.length||(s=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=s,t.userOutput=new QRe(o,e),t}function TP(r,e){return r.hasOwnProperty(e)||(r[e]=[]),r[e]}function AL(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function tke(r){return!(r==="ordinal"||r==="time")}var bD=(function(){function r(e){this.otherDims={},e!=null&&It(this,e)}return r})(),rke=Mn(),nke={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Che=(function(){function r(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=Lhe(this.source)))},r.prototype.getSourceDimensionIndex=function(e){return wr(this._dimNameMap.get(e),-1)},r.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},r.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Afe(this.source),n=!Rhe(e),i="",a=[],s=0,o=0;s<e;s++){var l=void 0,c=void 0,u=void 0,f=this.dimensions[o];if(f&&f.storeDimIndex===s)l=t?f.name:null,c=f.type,u=f.ordinalMeta,o++;else{var d=this.getSourceDimension(s);d&&(l=t?d.name:null,c=d.type)}a.push({property:l,type:c,ordinalMeta:u}),t&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=nke[c]||"f",u&&(i+=u.uid),i+="$"}var h=this.source,p=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:a,hash:p}},r.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),n++;else{var s=this.getSourceDimension(t);s&&(i=s.name)}e.push(i)}return e},r.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r})();function Nhe(r){return r instanceof Che}function Dhe(r){for(var e=br(),t=0;t<(r||[]).length;t++){var n=r[t],i=kr(n)?n.name:n;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function Lhe(r){var e=rke(r);return e.dimNameMap||(e.dimNameMap=Dhe(r.dimensionsDefine))}function Rhe(r){return r>30}var a5=kr,sx=Gt,ike=typeof Int32Array>"u"?Array:Int32Array,ake="e\0\0",AK=-1,ske=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],oke=["_approximateExtent"],EK,eN,s5,o5,AP,l5,EP,lu=(function(){function r(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;Nhe(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var a={},s=[],o={},l=!1,c={},u=0;u<n.length;u++){var f=n[u],d=fr(f)?new bD({name:f}):f instanceof bD?f:new bD(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var p=d.otherDims=d.otherDims||{};s.push(h),a[h]=d,c[h]!=null&&(l=!0),d.createInvertedIndices&&(o[h]=[]);var v=u;Jn(d.storeDimIndex)&&(v=d.storeDimIndex),p.itemName===0&&(this._nameDimIdx=v),p.itemId===0&&(this._idDimIdx=v),i&&(d.storeDimIndex=u)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var x=this._dimIdxToName=br();he(s,function(g){x.set(a[g].storeDimIndex,g)})}}return r.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(n!=null)return n;var i=this._schema.getSourceDimension(t);if(i)return i.name},r.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},r.prototype._recognizeDimIndex=function(e){if(Jn(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},r.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},r.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},r.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(n){return t.hasOwnProperty(n)?t[n]:void 0}:function(n){return t[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(t==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[t]:null},r.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,n=t.encode[e];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(e,t,n){var i=this,a;if(e instanceof $7&&(a=e),!a){var s=this.dimensions,o=F9(e)||_c(e)?new Efe(e,s.length):e;a=new $7;var l=sx(s,function(c){return{type:i._dimInfos[c].type,property:c}});a.initData(o,l,n)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=eke(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},r.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t&&t.length),i=n.start,a=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=t[l],s&&EP(this,o)}},r.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var i=this._dimInfos[t[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Jx&&!e.fillStorage},r.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===Hh;if(l&&!i.pure)for(var c=[],u=e;u<t;u++){var f=i.getItem(u,c);if(!this.hasItemOption&&NCe(f)&&(this.hasItemOption=!0),f){var d=f.name;a[u]==null&&d!=null&&(a[u]=rl(d,null));var h=f.id;s[u]==null&&h!=null&&(s[u]=rl(h,null))}}if(this._shouldMakeIdFromName())for(var u=e;u<t;u++)EP(this,u);EK(this)}},r.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},r.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},r.prototype.setCalculationInfo=function(e,t){a5(e)?It(this._calculationInfo,e):this._calculationInfo[e]=t},r.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return n==null&&this._nameDimIdx!=null&&(n=s5(this,this._nameDimIdx,t)),n==null&&(n=""),n},r.prototype._getCategory=function(e,t){var n=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},r.prototype.getId=function(e){return eN(this,this.getRawIndex(e))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,t)},r.prototype.getByRawIndex=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,t)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},r.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},r.prototype.getValues=function(e,t){var n=this,i=this._store;return Ut(e)?i.getValues(sx(e,function(a){return n._getStoreDimIndex(a)}),t):i.getValues(e)},r.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},r.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},r.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},r.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},r.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],i=n&&n[t];return i==null||isNaN(i)?AK:i},r.prototype.each=function(e,t,n){Tr(e)&&(n=t,t=e,e=[]);var i=n||this,a=sx(o5(e),this._getStoreDimIndex,this);this._store.each(a,i?hr(t,i):t)},r.prototype.filterSelf=function(e,t,n){Tr(e)&&(n=t,t=e,e=[]);var i=n||this,a=sx(o5(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?hr(t,i):t),this},r.prototype.selectRange=function(e){var t=this,n={},i=Wn(e);return he(i,function(a){var s=t._getStoreDimIndex(a);n[s]=e[a]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(e,t,n){Tr(e)&&(n=t,t=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},n),i},r.prototype.map=function(e,t,n,i){var a=n||i||this,s=sx(o5(e),this._getStoreDimIndex,this),o=l5(this);return o._store=this._store.map(s,a?hr(t,a):t),o},r.prototype.modify=function(e,t,n,i){var a=n||i||this,s=sx(o5(e),this._getStoreDimIndex,this);this._store.modify(s,a?hr(t,a):t)},r.prototype.downSample=function(e,t,n,i){var a=l5(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,n,i),a},r.prototype.minmaxDownSample=function(e,t){var n=l5(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),n},r.prototype.lttbDownSample=function(e,t){var n=l5(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},r.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},r.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new Ln(n,t,t&&t.ecModel)},r.prototype.diff=function(e){var t=this;return new ag(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return eN(e,n)},function(n){return eN(t,n)})},r.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},r.prototype.setVisual=function(e,t){this._visual=this._visual||{},a5(e)?It(this._visual,e):this._visual[e]=t},r.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],i=n&&n[t];return i??this.getVisual(t)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var a=i[t];return a==null&&(a=this.getVisual(t),Ut(a)?a=a.slice():a5(a)&&(a=It({},a)),i[t]=a),a},r.prototype.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,a5(t)?It(i,t):i[t]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(e,t){a5(e)?It(this._layout,e):this._layout[e]=t},r.prototype.getLayout=function(e){return this._layout[e]},r.prototype.getItemLayout=function(e){return this._itemLayouts[e]},r.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?It(this._itemLayouts[e]||{},t):t},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;I7(n,this.dataType,e,t),this._graphicEls[e]=t},r.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},r.prototype.eachItemGraphicEl=function(e,t){he(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},r.prototype.cloneShallow=function(e){return e||(e=new r(this._schema?this._schema:sx(this.dimensions,this._getDimInfo,this),this.hostModel)),AP(e,this),e._store=this._store,e},r.prototype.wrapMethod=function(e,t){var n=this[e];Tr(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return t.apply(this,[i].concat(Ik(arguments)))})},r.internalField=(function(){EK=function(e){var t=e._invertedIndicesMap;he(t,function(n,i){var a=e._dimInfos[i],s=a.ordinalMeta,o=e._store;if(s){n=t[i]=new ike(s.categories.length);for(var l=0;l<n.length;l++)n[l]=AK;for(var l=0;l<o.count();l++)n[o.get(a.storeDimIndex,l)]=l}})},s5=function(e,t,n){return rl(e._getCategory(t,n),null)},eN=function(e,t){var n=e._idList[t];return n==null&&e._idDimIdx!=null&&(n=s5(e,e._idDimIdx,t)),n==null&&(n=ake+t),n},o5=function(e){return Ut(e)||(e=e!=null?[e]:[]),e},l5=function(e){var t=new r(e._schema?e._schema:sx(e.dimensions,e._getDimInfo,e),e.hostModel);return AP(t,e),t},AP=function(e,t){he(ske.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,he(oke,function(n){e[n]=Cr(t[n])}),e._calculationInfo=It({},t._calculationInfo)},EP=function(e,t){var n=e._nameList,i=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=n[t],l=i[t];if(o==null&&a!=null&&(n[t]=o=s5(e,a,t)),l==null&&s!=null&&(i[t]=l=s5(e,s,t)),l==null&&o!=null){var c=e._nameRepeatCount,u=c[o]=(c[o]||0)+1;l=o,u>1&&(l+="__ec__"+u),i[t]=l}}})(),r})();function lke(r,e){return KS(r,e).dimensions}function KS(r,e){F9(r)||(r=B9(r)),e=e||{};var t=e.coordDimensions||[],n=e.dimensionsDefine||r.dimensionsDefine||[],i=br(),a=[],s=uke(r,t,n,e.dimensionsCount),o=e.canOmitUnusedDimensions&&Rhe(s),l=n===r.dimensionsDefine,c=l?Lhe(r):Dhe(n),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(r,s));for(var f=br(u),d=new Ife(s),h=0;h<d.length;h++)d[h]=-1;function p(D){var k=d[D];if(k<0){var O=n[D],I=kr(O)?O:{name:O},j=new bD,B=I.name;B!=null&&c.get(B)!=null&&(j.name=j.displayName=B),I.type!=null&&(j.type=I.type),I.displayName!=null&&(j.displayName=I.displayName);var K=a.length;return d[D]=K,j.storeDimIndex=D,a.push(j),j}return a[k]}if(!o)for(var h=0;h<s;h++)p(h);f.each(function(D,k){var O=Ta(D).slice();if(O.length===1&&!fr(O[0])&&O[0]<0){f.set(k,!1);return}var I=f.set(k,[]);he(O,function(j,B){var K=fr(j)?c.get(j):j;K!=null&&K<s&&(I[B]=K,x(p(K),k,B))})});var v=0;he(t,function(D){var k,O,I,j;if(fr(D))k=D,j={};else{j=D,k=j.name;var B=j.ordinalMeta;j.ordinalMeta=null,j=It({},j),j.ordinalMeta=B,O=j.dimsDef,I=j.otherDims,j.name=j.coordDim=j.coordDimIndex=j.dimsDef=j.otherDims=null}var K=f.get(k);if(K!==!1){if(K=Ta(K),!K.length)for(var H=0;H<(O&&O.length||1);H++){for(;v<s&&p(v).coordDim!=null;)v++;v<s&&K.push(v++)}he(K,function(Z,Y){var J=p(Z);if(l&&j.type!=null&&(J.type=j.type),x(Rr(J,j),k,Y),J.name==null&&O){var oe=O[Y];!kr(oe)&&(oe={name:oe}),J.name=J.displayName=oe.name,J.defaultTooltip=oe.defaultTooltip}I&&Rr(J.otherDims,I)})}});function x(D,k,O){pfe.get(k)!=null?D.otherDims[k]=O:(D.coordDim=k,D.coordDimIndex=O,i.set(k,!0))}var g=e.generateCoord,_=e.generateCoordCount,w=_!=null;_=g?_||1:0;var A=g||"value";function M(D){D.name==null&&(D.name=D.coordDim)}if(o)he(a,function(D){M(D)}),a.sort(function(D,k){return D.storeDimIndex-k.storeDimIndex});else for(var C=0;C<s;C++){var N=p(C),L=N.coordDim;L==null&&(N.coordDim=fke(A,i,w),N.coordDimIndex=0,(!g||_<=0)&&(N.isExtraCoord=!0),_--),M(N),N.type==null&&(xfe(r,C)===hc.Must||N.isExtraCoord&&(N.otherDims.itemName!=null||N.otherDims.seriesName!=null))&&(N.type="ordinal")}return cke(a),new Che({source:r,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function cke(r){for(var e=br(),t=0;t<r.length;t++){var n=r[t],i=n.name,a=e.get(i)||0;a>0&&(n.name=i+(a-1)),a++,e.set(i,a)}}function uke(r,e,t,n){var i=Math.max(r.dimensionsDetectedCount||1,e.length,t.length,n||0);return he(e,function(a){var s;kr(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function fke(r,e,t){if(t||e.hasKey(r)){for(var n=0;e.hasKey(r+n);)n++;r+=n}return e.set(r,!0),r}var hke=(function(){function r(e){this.coordSysDims=[],this.axisMap=br(),this.categoryAxisMap=br(),this.coordSysName=e}return r})();function dke(r){var e=r.get("coordinateSystem"),t=new hke(e),n=pke[e];if(n)return n(r,t,t.axisMap,t.categoryAxisMap),t}var pke={cartesian2d:function(r,e,t,n){var i=r.getReferringComponents("xAxis",Ls).models[0],a=r.getReferringComponents("yAxis",Ls).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",a),w_(i)&&(n.set("x",i),e.firstCategoryDimIndex=0),w_(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(r,e,t,n){var i=r.getReferringComponents("singleAxis",Ls).models[0];e.coordSysDims=["single"],t.set("single",i),w_(i)&&(n.set("single",i),e.firstCategoryDimIndex=0)},polar:function(r,e,t,n){var i=r.getReferringComponents("polar",Ls).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",s),w_(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),w_(s)&&(n.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(r,e,t,n){e.coordSysDims=["lng","lat"]},parallel:function(r,e,t,n){var i=r.ecModel,a=i.getComponent("parallel",r.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();he(a.parallelAxisIndex,function(o,l){var c=i.getComponent("parallelAxis",o),u=s[l];t.set(u,c),w_(c)&&(n.set(u,c),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})},matrix:function(r,e,t,n){var i=r.getReferringComponents("matrix",Ls).models[0];e.coordSysDims=["x","y"];var a=i.getDimensionModel("x"),s=i.getDimensionModel("y");t.set("x",a),t.set("y",s),n.set("x",a),n.set("y",s)}};function w_(r){return r.get("type")==="category"}function khe(r,e,t){t=t||{};var n=t.byIndex,i=t.stackedCoordDimension,a,s,o;vke(e)?a=e:(s=e.schema,a=s.dimensions,o=e.store);var l=!!(r&&r.get("stack")),c,u,f,d;if(he(a,function(_,w){fr(_)&&(a[w]=_={name:_}),l&&!_.isExtraCoord&&(!n&&!c&&_.ordinalMeta&&(c=_),!u&&_.type!=="ordinal"&&_.type!=="time"&&(!i||i===_.coordDim)&&(u=_))}),u&&!n&&!c&&(n=!0),u){f="__\0ecstackresult_"+r.id,d="__\0ecstackedover_"+r.id,c&&(c.createInvertedIndices=!0);var h=u.coordDim,p=u.type,v=0;he(a,function(_){_.coordDim===h&&v++});var x={name:f,coordDim:h,coordDimIndex:v,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},g={name:d,coordDim:d,coordDimIndex:v+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(x.storeDimIndex=o.ensureCalculationDimension(d,p),g.storeDimIndex=o.ensureCalculationDimension(f,p)),s.appendCalculationDimension(x),s.appendCalculationDimension(g)):(a.push(x),a.push(g))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:n,stackedOverDimension:d,stackResultDimension:f}}function vke(r){return!Nhe(r.schema)}function sg(r,e){return!!e&&e===r.getCalculationInfo("stackedDimension")}function eV(r,e){return sg(r,e)?r.getCalculationInfo("stackResultDimension"):e}function mke(r,e){var t=r.get("coordinateSystem"),n=YS.get(t),i;return e&&e.coordSysDims&&(i=Gt(e.coordSysDims,function(a){var s={name:a},o=e.axisMap.get(a);if(o){var l=o.get("type");s.type=AL(l)}return s})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function gke(r,e,t){var n,i;return t&&he(r,function(a,s){var o=a.coordDim,l=t.categoryAxisMap.get(o);l&&(n==null&&(n=s),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(r[n].otherDims.itemName=0),n}function Mv(r,e,t){t=t||{};var n=e.getSourceManager(),i,a=!1;r?(a=!0,i=B9(r)):(i=n.getSource(),a=i.sourceFormat===Hh);var s=dke(e),o=mke(e,s),l=t.useEncodeDefaulter,c=Tr(l)?l:l?cn(gfe,o,e):null,u={coordDimensions:o,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a},f=KS(i,u),d=gke(f.dimensions,t.createInvertedIndices,s),h=a?null:n.getSharedDataStore(f),p=khe(e,{schema:f,store:h}),v=new lu(f,e);v.setCalculationInfo(p);var x=d!=null&&xke(i)?function(g,_,w,A){return A===d?w:this.defaultDimValueGetter(g,_,w,A)}:null;return v.hasItemOption=!1,v.initData(a?i:h,null,x),v}function xke(r){if(r.sourceFormat===Hh){var e=yke(r.data||[]);return!Ut(PS(e))}}function yke(r){for(var e=0;e<r.length&&r[e]==null;)e++;return r[e]}function cz(r){return r.type==="interval"||r.type==="log"}function bke(r,e,t,n,i){var a={},s=a.interval=KU(e/t,!0);n!=null&&s<n&&(s=a.interval=n),i!=null&&s>i&&(s=a.interval=i);var o=a.intervalPrecision=k3(s),l=a.niceTickExtent=[vo(Math.ceil(r[0]/s)*s,o),vo(Math.floor(r[1]/s)*s,o)];return _ke(l,r),a}function MP(r){var e=Math.pow(10,jk(r)),t=r/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,vo(t*e)}function k3(r){return Pp(r)+2}function MK(r,e,t){r[e]=Math.max(Math.min(r[e],t[1]),t[0])}function _ke(r,e){!isFinite(r[0])&&(r[0]=e[0]),!isFinite(r[1])&&(r[1]=e[1]),MK(r,0,e),MK(r,1,e),r[0]>r[1]&&(r[0]=r[1])}function tV(r,e){return r>=e[0]&&r<=e[1]}var wke=(function(){function r(){this.normalize=CK,this.scale=NK}return r.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=hr(e.normalize,e),this.scale=hr(e.scale,e)):(this.normalize=CK,this.scale=NK)},r})();function CK(r,e){return e[1]===e[0]?.5:(r-e[0])/(e[1]-e[0])}function NK(r,e){return r*(e[1]-e[0])+e[0]}function uz(r,e,t){var n=Math.log(r);return[Math.log(t?e[0]:Math.max(0,e[0]))/n,Math.log(t?e[1]:Math.max(0,e[1]))/n]}var My=(function(){function r(e){this._calculator=new wke,this._setting=e||{},this._extent=[1/0,-1/0];var t=Bo();t&&(this._brkCtx=t.createScaleBreakContext(),this._brkCtx.update(this._extent))}return r.prototype.getSetting=function(e){return this._setting[e]},r.prototype._innerUnionExtent=function(e){var t=this._extent;this._innerSetExtent(e[0]<t[0]?e[0]:t[0],e[1]>t[1]?e[1]:t[1])},r.prototype.unionExtentFromData=function(e,t){this._innerUnionExtent(e.getApproximateExtent(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(e,t){this._innerSetExtent(e,t)},r.prototype._innerSetExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t),this._brkCtx&&this._brkCtx.update(n)},r.prototype.setBreaksFromOption=function(e){var t=Bo();t&&this._innerSetBreak(t.parseAxisBreakOption(e,hr(this.parse,this)))},r.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},r.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},r.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},r.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},r.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(e){this._isBlank=e},r})();Uk(My);var Ske=0,I3=(function(){function r(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Ske,this._onCollect=e.onCollect}return r.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&Gt(n,Tke);return new r({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},r.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},r.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!fr(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,this._onCollect&&this._onCollect(e,t),t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(n?(t=this.categories.length,this.categories[t]=e,i.set(e,t),this._onCollect&&this._onCollect(e,t)):t=NaN),t},r.prototype._getOrCreateMap=function(){return this._map||(this._map=br(this.categories))},r})();function Tke(r){return kr(r)&&r.value!=null?r.value:r+""}var sS=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new I3({})),Ut(i)&&(i=new I3({categories:Gt(i,function(a){return kr(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return e.prototype.parse=function(t){return t==null?NaN:fr(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return tV(t,this._extent)&&t>=0&&t<this._ordinalMeta.categories.length},e.prototype.normalize=function(t){return t=this._getTickNumber(t),this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(this._calculator.scale(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],n=this._extent,i=n[0];i<=n[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);s<l;++s){var c=n[s];i[s]=c,a[c]=s}for(var u=0;s<o;++s){for(;a[u]!=null;)u++;i.push(u),a[u]=s}},e.prototype._getTickNumber=function(t){var n=this._ticksByOrdinalNumber;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getRawOrdinalNumber=function(t){var n=this._ordinalNumbersByTick;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var n=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(My);My.registerClass(sS);var ox=vo,og=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t==null||t===""?NaN:Number(t)},e.prototype.contain=function(t){return tV(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=k3(t)},e.prototype.getTicks=function(t){t=t||{};var n=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=Bo(),l=[];if(!n)return l;if(t.breakTicks==="only_break"&&o)return o.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var c=1e4;i[0]<a[0]&&(t.expandToNicedExtent?l.push({value:ox(a[0]-n,s)}):l.push({value:i[0]}));for(var u=function(p,v){return Math.round((v-p)/n)},f=a[0];f<=a[1];){if(l.push({value:f}),f=ox(f+n,s),this._brkCtx){var d=this._brkCtx.calcNiceTickMultiple(f,u);d>=0&&(f=ox(f+d*n,s))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>c)return[]}var h=l.length?l[l.length-1].value:a[1];return i[1]>h&&(t.expandToNicedExtent?l.push({value:ox(h+n,s)}):l.push({value:i[1]})),o&&o.pruneTicksByBreak(t.pruneByBreak,l,this._brkCtx.breaks,function(p){return p.value},this._interval,this._extent),t.breakTicks!=="none"&&o&&o.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},e.prototype.getMinorTicks=function(t){for(var n=this.getTicks({expandToNicedExtent:!0}),i=[],a=this.getExtent(),s=1;s<n.length;s++){var o=n[s],l=n[s-1];if(!(l.break||o.break)){for(var c=0,u=[],f=o.value-l.value,d=f/t,h=k3(d);c<t-1;){var p=ox(l.value+(c+1)*d,h);p>a[0]&&p<a[1]&&u.push(p),c++}var v=Bo();v&&v.pruneTicksByBreak("auto",u,this._getNonTransBreaks(),function(x){return x},this._interval,a),i.push(u)}}return i},e.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.getLabel=function(t,n){if(t==null)return"";var i=n&&n.precision;i==null?i=Pp(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=ox(t.value,i,!0);return N9(a)},e.prototype.calcNiceTicks=function(t,n,i){t=t||5;var a=this._extent.slice(),s=this._getExtentSpanWithBreaks();if(isFinite(s)){s<0&&(s=-s,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var o=bke(a,s,t,n,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);t.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval,o=this._intervalPrecision;t.fixMin||(n[0]=ox(Math.floor(n[0]/s)*s,o)),t.fixMax||(n[1]=ox(Math.ceil(n[1]/s)*s,o)),this._innerSetExtent(n[0],n[1])},e.prototype.setNiceExtent=function(t,n){this._niceExtent=[t,n]},e.type="interval",e})(My);My.registerClass(og);var Ihe=typeof Float32Array<"u",Ake=Ihe?Float32Array:Array;function tv(r){return Ut(r)?Ihe?new Float32Array(r):r:new Ake(r)}var fz="__ec_stack_";function Ohe(r){return r.get("stack")||fz+r.seriesIndex}function rV(r){return r.dim+r.index}function Eke(r){var e=[],t=r.axis,n="axis0";if(t.type==="category"){for(var i=t.getBandWidth(),a=0;a<r.count;a++)e.push(Rr({bandWidth:i,axisKey:n,stackId:fz+a},r));for(var s=Bhe(e),o=[],a=0;a<r.count;a++){var l=s[n][fz+a];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function Phe(r,e){var t=[];return e.eachSeriesByType(r,function(n){Uhe(n)&&t.push(n)}),t}function Mke(r){var e={};he(r,function(l){var c=l.coordinateSystem,u=c.getBaseAxis();if(!(u.type!=="time"&&u.type!=="value"))for(var f=l.getData(),d=u.dim+"_"+u.index,h=f.getDimensionIndex(f.mapDimension(u.dim)),p=f.getStore(),v=0,x=p.count();v<x;++v){var g=p.get(h,v);e[d]?e[d].push(g):e[d]=[g]}});var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i){i.sort(function(l,c){return l-c});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}t[n]=a}}return t}function Fhe(r){var e=Mke(r),t=[];return he(r,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,c=e[l],u=Math.abs(s[1]-s[0]),f=a.scale.getExtent(),d=Math.abs(f[1]-f[0]);o=c?u/d*c:u}else{var h=n.getData();o=Math.abs(s[1]-s[0])/h.count()}var p=ur(n.get("barWidth"),o),v=ur(n.get("barMaxWidth"),o),x=ur(n.get("barMinWidth")||(Vhe(n)?.5:1),o),g=n.get("barGap"),_=n.get("barCategoryGap"),w=n.get("defaultBarGap");t.push({bandWidth:o,barWidth:p,barMaxWidth:v,barMinWidth:x,barGap:g,barCategoryGap:_,defaultBarGap:w,axisKey:rV(a),stackId:Ohe(n)})}),Bhe(t)}function Bhe(r){var e={};he(r,function(n,i){var a=n.axisKey,s=n.bandWidth,o=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},l=o.stacks;e[a]=o;var c=n.stackId;l[c]||o.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=n.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var f=n.barMaxWidth;f&&(l[c].maxWidth=f);var d=n.barMinWidth;d&&(l[c].minWidth=d);var h=n.barGap;h!=null&&(o.gap=h);var p=n.barCategoryGap;p!=null&&(o.categoryGap=p)});var t={};return he(e,function(n,i){t[i]={};var a=n.stacks,s=n.bandWidth,o=n.categoryGap;if(o==null){var l=Wn(a).length;o=Math.max(35-l*4,15)+"%"}var c=ur(o,s),u=ur(n.gap,1),f=n.remainedWidth,d=n.autoWidthCount,h=(f-c)/(d+(d-1)*u);h=Math.max(h,0),he(a,function(g){var _=g.maxWidth,w=g.minWidth;if(g.width){var A=g.width;_&&(A=Math.min(A,_)),w&&(A=Math.max(A,w)),g.width=A,f-=A+u*A,d--}else{var A=h;_&&_<A&&(A=Math.min(_,f)),w&&w>A&&(A=w),A!==h&&(g.width=A,f-=A+u*A,d--)}}),h=(f-c)/(d+(d-1)*u),h=Math.max(h,0);var p=0,v;he(a,function(g,_){g.width||(g.width=h),v=g,p+=g.width*(1+u)}),v&&(p-=v.width*u);var x=-p/2;he(a,function(g,_){t[i][_]=t[i][_]||{bandWidth:s,offset:x,width:g.width},x+=g.width*(1+u)})}),t}function Cke(r,e,t){if(r&&e){var n=r[rV(e)];return n}}function zhe(r,e){var t=Phe(r,e),n=Fhe(t);he(t,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=Ohe(i),c=n[rV(o)][l],u=c.offset,f=c.width;a.setLayout({bandWidth:c.bandWidth,offset:u,size:f})})}function jhe(r){return{seriesType:r,plan:qS(),reset:function(e){if(Uhe(e)){var t=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),s=t.getDimensionIndex(t.mapDimension(a.dim)),o=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),c=t.mapDimension(a.dim),u=t.getCalculationInfo("stackResultDimension"),f=sg(t,c)&&!!t.getCalculationInfo("stackedOnSeries"),d=a.isHorizontal(),h=Nke(i,a),p=Vhe(e),v=e.get("barMinHeight")||0,x=u&&t.getDimensionIndex(u),g=t.getLayout("size"),_=t.getLayout("offset");return{progress:function(w,A){for(var M=w.count,C=p&&tv(M*3),N=p&&l&&tv(M*3),L=p&&tv(M),D=n.master.getRect(),k=d?D.width:D.height,O,I=A.getStore(),j=0;(O=w.next())!=null;){var B=I.get(f?x:s,O),K=I.get(o,O),H=h,Z=void 0;f&&(Z=+B-I.get(s,O));var Y=void 0,J=void 0,oe=void 0,X=void 0;if(d){var F=n.dataToPoint([B,K]);if(f){var W=n.dataToPoint([Z,K]);H=W[0]}Y=H,J=F[1]+_,oe=F[0]-H,X=g,Math.abs(oe)<v&&(oe=(oe<0?-1:1)*v)}else{var F=n.dataToPoint([K,B]);if(f){var W=n.dataToPoint([K,Z]);H=W[1]}Y=F[0]+_,J=H,oe=g,X=F[1]-H,Math.abs(X)<v&&(X=(X<=0?-1:1)*v)}p?(C[j]=Y,C[j+1]=J,C[j+2]=d?oe:X,N&&(N[j]=d?D.x:Y,N[j+1]=d?J:D.y,N[j+2]=k),L[O]=O):A.setItemLayout(O,{x:Y,y:J,width:oe,height:X}),j+=3}p&&A.setLayout({largePoints:C,largeDataIndices:L,largeBackgroundPoints:N,valueAxisHorizontal:d})}}}}}}function Uhe(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function Vhe(r){return r.pipelineContext&&r.pipelineContext.large}function Nke(r,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var Dke=function(r,e,t,n){for(;t<n;){var i=t+n>>>1;r[i][1]<e?t=i+1:n=i}return t},nV=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n.type="time",n}return e.prototype.getLabel=function(t){var n=this.getSetting("useUTC");return YE(t.value,bZ[Q4e(RA(this._minLevelUnit))]||bZ.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,n,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return eDe(t,n,i,s,a)},e.prototype.getTicks=function(t){t=t||{};var n=this._interval,i=this._extent,a=Bo(),s=[];if(!n)return s;var o=this.getSetting("useUTC");if(a&&t.breakTicks==="only_break")return Bo().addBreaksToTicks(s,this._brkCtx.breaks,this._extent),s;var l=bw(i[1],o);s.push({value:i[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var c=Fke(this._minLevelUnit,this._approxInterval,o,i,this._getExtentSpanWithBreaks(),this._brkCtx);s=s.concat(c);var u=bw(i[1],o);s.push({value:i[1],time:{level:0,upperTimeUnit:u,lowerTimeUnit:u}});var f=this.getSetting("useUTC"),d=wh.length-1,h=0;return he(s,function(p){d=Math.min(d,hn(wh,p.time.upperTimeUnit)),h=Math.max(h,p.time.level)}),a&&Bo().pruneTicksByBreak(t.pruneByBreak,s,this._brkCtx.breaks,function(p){return p.value},this._approxInterval,this._extent),a&&t.breakTicks!=="none"&&Bo().addBreaksToTicks(s,this._brkCtx.breaks,this._extent,function(p){for(var v=Math.max(hn(wh,bw(p.vmin,f)),hn(wh,bw(p.vmax,f))),x=0,g=0;g<wh.length;g++)if(!Hhe(wh[g],p.vmin,p.vmax,f)){x=g;break}var _=Math.min(x,d),w=Math.max(_,v);return{level:h,lowerTimeUnit:wh[w],upperTimeUnit:wh[_]}}),s},e.prototype.calcNiceExtent=function(t){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=Nd,n[1]+=Nd),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-Nd}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,n,i){t=t||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/t,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=tN.length,o=Math.min(Dke(tN,this._approxInterval,0,s),s-1);this._interval=tN[o][1],this._intervalPrecision=k3(this._interval),this._minLevelUnit=tN[Math.max(o-1,0)][0]},e.prototype.parse=function(t){return Jn(t)?t:+Av(t)},e.prototype.contain=function(t){return tV(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.type="time",e})(og),tN=[["second",_9],["minute",w9],["hour",LA],["quarter-day",LA*6],["half-day",LA*12],["day",Nd*1.2],["half-week",Nd*3.5],["week",Nd*7],["month",Nd*31],["quarter",Nd*95],["half-year",yZ/2],["year",yZ]];function Hhe(r,e,t,n){return pL(new Date(e),r,n).getTime()===pL(new Date(t),r,n).getTime()}function Lke(r,e){return r/=Nd,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function Rke(r){var e=30*Nd;return r/=e,r>6?6:r>3?3:r>2?2:1}function kke(r){return r/=LA,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function DK(r,e){return r/=e?w9:_9,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function Ike(r){return KU(r,!0)}function Oke(r,e,t){var n=Math.max(0,hn(wh,e)-1);return pL(new Date(r),wh[n],t).getTime()}function Pke(r,e){var t=new Date(0);t[r](1);var n=t.getTime();t[r](1+e);var i=t.getTime()-n;return function(a,s){return Math.max(0,Math.round((s-a)/i))}}function Fke(r,e,t,n,i,a){var s=1e4,o=Z4e,l=0;function c(j,B,K,H,Z,Y,J){for(var oe=Pke(Z,j),X=B,F=new Date(X);X<K&&X<=n[1]&&(J.push({value:X}),!(l++>s));)if(F[Z](F[H]()+j),X=F.getTime(),a){var W=a.calcNiceTickMultiple(X,oe);W>0&&(F[Z](F[H]()+W*j),X=F.getTime())}J.push({value:X,notAdd:!0})}function u(j,B,K){var H=[],Z=!B.length;if(!Hhe(RA(j),n[0],n[1],t)){Z&&(B=[{value:Oke(n[0],j,t)},{value:n[1]}]);for(var Y=0;Y<B.length-1;Y++){var J=B[Y].value,oe=B[Y+1].value;if(J!==oe){var X=void 0,F=void 0,W=void 0,Q=!1;switch(j){case"year":X=Math.max(1,Math.round(e/Nd/365)),F=Kue(t),W=tDe(t);break;case"half-year":case"quarter":case"month":X=Rke(e),F=S9(t),W=$ue(t);break;case"week":case"half-week":case"day":X=Lke(e),F=T9(t),W=Jue(t),Q=!0;break;case"half-day":case"quarter-day":case"hour":X=kke(e),F=A9(t),W=Que(t);break;case"minute":X=DK(e,!0),F=E9(t),W=efe(t);break;case"second":X=DK(e,!1),F=M9(t),W=tfe(t);break;case"millisecond":X=Ike(e),F=C9(t),W=rfe(t);break}oe>=n[0]&&J<=n[1]&&c(X,J,oe,F,W,Q,H),j==="year"&&K.length>1&&Y===0&&K.unshift({value:K[0].value-X})}}for(var Y=0;Y<H.length;Y++)K.push(H[Y])}}for(var f=[],d=[],h=0,p=0,v=0;v<o.length;++v){var x=RA(o[v]);if(J4e(o[v])){u(o[v],f[f.length-1]||[],d);var g=o[v+1]?RA(o[v+1]):null;if(x!==g){if(d.length){p=h,d.sort(function(j,B){return j.value-B.value});for(var _=[],w=0;w<d.length;++w){var A=d[w].value;(w===0||d[w-1].value!==A)&&(_.push(d[w]),A>=n[0]&&A<=n[1]&&h++)}var M=i/e;if(h>M*1.5&&p>M/1.5||(f.push(_),h>M||r===o[v]))break}d=[]}}}for(var C=bi(Gt(f,function(j){return bi(j,function(B){return B.value>=n[0]&&B.value<=n[1]&&!B.notAdd})}),function(j){return j.length>0}),N=[],L=C.length-1,v=0;v<C.length;++v)for(var D=C[v],k=0;k<D.length;++k){var O=bw(D[k].value,t);N.push({value:D[k].value,time:{level:L-v,upperTimeUnit:O,lowerTimeUnit:O}})}N.sort(function(j,B){return j.value-B.value});for(var I=[],v=0;v<N.length;++v)(v===0||N[v].value!==N[v-1].value)&&I.push(N[v]);return I}My.registerClass(nV);var hz=vo,Bke=Math.floor,zke=Math.ceil,rN=Math.pow,nN=Math.log,Ghe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new og,t}return e.prototype.getTicks=function(t){t=t||{};var n=this._extent.slice(),i=this._originalScale.getExtent(),a=r.prototype.getTicks.call(this,t),s=this.base,o=this._originalScale._innerGetBreaks(),l=Bo();return Gt(a,function(c){var u=c.value,f=null,d=rN(s,u);u===n[0]&&this._fixMin?f=i[0]:u===n[1]&&this._fixMax&&(f=i[1]);var h;if(l){var p=l.getTicksLogTransformBreak(c,s,o,iN);h=p.vBreak,f==null&&(f=p.brkRoundingCriterion)}return f!=null&&(d=iN(d,f)),{value:d,break:h}},this)},e.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},e.prototype.setExtent=function(t,n){this._originalScale.setExtent(t,n);var i=uz(this.base,[t,n]);r.prototype.setExtent.call(this,i[0],i[1])},e.prototype.getExtent=function(){var t=this.base,n=r.prototype.getExtent.call(this);n[0]=rN(t,n[0]),n[1]=rN(t,n[1]);var i=this._originalScale.getExtent();return this._fixMin&&(n[0]=iN(n[0],i[0])),this._fixMax&&(n[1]=iN(n[1],i[1])),n},e.prototype.unionExtentFromData=function(t,n){this._originalScale.unionExtentFromData(t,n);var i=uz(this.base,t.getApproximateExtent(n),!0);this._innerUnionExtent(i)},e.prototype.calcNiceTicks=function(t){t=t||10;var n=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(!(!isFinite(i)||i<=0)){var a=Zce(i),s=t/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[hz(zke(n[0]/a)*a),hz(Bke(n[1]/a)*a)];this._interval=a,this._intervalPrecision=k3(a),this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){r.prototype.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.contain=function(t){return t=nN(t)/nN(this.base),r.prototype.contain.call(this,t)},e.prototype.normalize=function(t){return t=nN(t)/nN(this.base),r.prototype.normalize.call(this,t)},e.prototype.scale=function(t){return t=r.prototype.scale.call(this,t),rN(this.base,t)},e.prototype.setBreaksFromOption=function(t){var n=Bo();if(n){var i=n.logarithmicParseBreaksFromOption(t,this.base,hr(this.parse,this)),a=i.parsedOriginal,s=i.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(s)}},e.type="log",e})(og);function iN(r,e){return hz(r,Pp(e))}My.registerClass(Ghe);var jke=(function(){function r(e,t,n){this._prepareParams(e,t,n)}return r.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=t.get("min",!0);a==null&&(a=t.get("startValue",!0));var s=this._modelMinRaw=a;Tr(s)?this._modelMinNum=aN(e,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=aN(e,s));var o=this._modelMaxRaw=t.get("max",!0);if(Tr(o)?this._modelMaxNum=aN(e,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=aN(e,o)),i)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),c=Ut(l)?l:[l||0,l||0];typeof c[0]=="boolean"||typeof c[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Kp(c[0],1),Kp(c[1],1)]}},r.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=e?null:n-t||Math.abs(t),o=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,c=o!=null,u=l!=null;o==null&&(o=e?i?0:NaN:t-a[0]*s),l==null&&(l=e?i?i-1:NaN:n+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=mc(o)||mc(l)||e&&!i;this._needCrossZero&&(o>0&&l>0&&!c&&(o=0),o<0&&l<0&&!u&&(l=0));var d=this._determinedMin,h=this._determinedMax;return d!=null&&(o=d,c=!0),h!=null&&(l=h,u=!0),{min:o,max:l,minFixed:c,maxFixed:u,isBlank:f}},r.prototype.modifyDataMinMax=function(e,t){this[Vke[e]]=t},r.prototype.setDeterminedMinMax=function(e,t){var n=Uke[e];this[n]=t},r.prototype.freeze=function(){this.frozen=!0},r})(),Uke={min:"_determinedMin",max:"_determinedMax"},Vke={min:"_dataMin",max:"_dataMax"};function Whe(r,e,t){var n=r.rawExtentInfo;return n||(n=new jke(r,e,t),r.rawExtentInfo=n,n)}function aN(r,e){return e==null?null:mc(e)?NaN:r.parse(e)}function Yhe(r,e){var t=r.type,n=Whe(r,e,r.getExtent()).calculate();r.setBlank(n.isBlank);var i=n.min,a=n.max,s=e.ecModel;if(s&&t==="time"){var o=Phe("bar",s),l=!1;if(he(o,function(f){l=l||f.getBaseAxis()===e.axis}),l){var c=Fhe(o),u=Hke(i,a,e,c);i=u.min,a=u.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function Hke(r,e,t,n){var i=t.axis.getExtent(),a=Math.abs(i[1]-i[0]),s=Cke(n,t.axis);if(s===void 0)return{min:r,max:e};var o=1/0;he(s,function(h){o=Math.min(h.offset,o)});var l=-1/0;he(s,function(h){l=Math.max(h.offset+h.width,l)}),o=Math.abs(o),l=Math.abs(l);var c=o+l,u=e-r,f=1-(o+l)/a,d=u/f-u;return e+=d*(l/c),r-=d*(o/c),{min:r,max:e}}function eb(r,e){var t=e,n=Yhe(r,t),i=n.extent,a=t.get("splitNumber");r instanceof Ghe&&(r.base=t.get("logBase"));var s=r.type,o=t.get("interval"),l=s==="interval"||s==="time";r.setBreaksFromOption(Xhe(t)),r.setExtent(i[0],i[1]),r.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),o!=null&&r.setInterval&&r.setInterval(o)}function ZE(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new sS({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new nV({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(My.getClass(e)||og)}}function Gke(r){var e=r.scale.getExtent(),t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}function $S(r){var e=r.getLabelModel().get("formatter");if(r.type==="time"){var t=K4e(e);return function(i,a){return r.scale.getFormattedLabel(i,a,t)}}else{if(fr(e))return function(i){var a=r.scale.getLabel(i),s=e.replace("{value}",a??"");return s};if(Tr(e)){if(r.type==="category")return function(i,a){return e(EL(r,i),i.value-r.scale.getExtent()[0],null)};var n=Bo();return function(i,a){var s=null;return n&&(s=n.makeAxisLabelFormatterParamBreak(s,i.break)),e(EL(r,i),a,s)}}else return function(i){return r.scale.getLabel(i)}}}function EL(r,e){return r.type==="category"?r.scale.getLabel(e):e.value}function iV(r){var e=r.get("interval");return e??"auto"}function qhe(r){return r.type==="category"&&iV(r.getLabelModel())===0}function ML(r,e){var t={};return he(r.mapDimensionsAll(e),function(n){t[eV(r,n)]=!0}),Wn(t)}function Wke(r,e,t){e&&he(ML(e,t),function(n){var i=e.getApproximateExtent(n);i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])})}function oS(r){return r==="middle"||r==="center"}function O3(r){return r.getShallow("show")}function Xhe(r){var e=r.get("breaks",!0);if(e!=null)return!Bo()||!Yke(r.axis)?void 0:e}function Yke(r){return(r.dim==="x"||r.dim==="y"||r.dim==="z"||r.dim==="single")&&r.type!=="category"}var JS=(function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r})();function qke(r){return Mv(null,r)}var Xke={isDimensionStacked:sg,enableDataStack:khe,getStackedDimension:eV};function Zke(r,e){var t=e;e instanceof Ln||(t=new Ln(e));var n=ZE(t);return n.setExtent(r[0],r[1]),eb(n,t),n}function Kke(r){qs(r,JS)}function $ke(r,e){return e=e||{},Sa(r,null,null,e.state!=="normal")}const Jke=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:lke,createList:qke,createScale:Zke,createSymbol:xo,createTextStyle:$ke,dataStack:Xke,enableHoverEmphasis:Kx,getECData:Vr,getLayoutRect:Ja,mixinAxisModelCommonMethods:Kke},Symbol.toStringTag,{value:"Module"}));var Qke=1e-8;function LK(r,e){return Math.abs(r-e)<Qke}function o2(r,e,t){var n=0,i=r[0];if(!i)return!1;for(var a=1;a<r.length;a++){var s=r[a];n+=Nm(i[0],i[1],s[0],s[1],e,t),i=s}var o=r[0];return(!LK(i[0],o[0])||!LK(i[1],o[1]))&&(n+=Nm(i[0],i[1],o[0],o[1],e,t)),n!==0}var eIe=[];function CP(r,e){for(var t=0;t<r.length;t++)Ys(r[t],r[t],e)}function RK(r,e,t,n){for(var i=0;i<r.length;i++){var a=r[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Fm(e,e,a),Bm(t,t,a))}}function tIe(r){for(var e=0,t=0,n=0,i=r.length,a=r[i-1][0],s=r[i-1][1],o=0;o<i;o++){var l=r[o][0],c=r[o][1],u=a*c-l*s;e+=u,t+=(a+l)*u,n+=(s+c)*u,a=l,s=c}return e?[t/e/3,n/e/3,e]:[r[0][0]||0,r[0][1]||0]}var Zhe=(function(){function r(e){this.name=e}return r.prototype.setCenter=function(e){this._center=e},r.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},r})(),kK=(function(){function r(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return r})(),IK=(function(){function r(e){this.type="linestring",this.points=e}return r})(),Khe=(function(r){dt(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return e.prototype.calcCenter=function(){for(var t=this.geometries,n,i=0,a=0;a<t.length;a++){var s=t[a],o=s.exterior,l=o&&o.length;l>i&&(n=s,i=l)}if(n)return tIe(n.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},e.prototype.getBoundingRect=function(t){var n=this._rect;if(n&&!t)return n;var i=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return he(s,function(o){o.type==="polygon"?RK(o.exterior,i,a,t):he(o.points,function(l){RK(l,i,a,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new Br(i[0],i[1],a[0]-i[0],a[1]-i[1]),t||(this._rect=n),n},e.prototype.contain=function(t){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(t[0],t[1]))return!1;e:for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o.type==="polygon"){var l=o.exterior,c=o.interiors;if(o2(l,t[0],t[1])){for(var u=0;u<(c?c.length:0);u++)if(o2(c[u],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=s.width/s.height;i?a||(a=i/o):i=o*a;for(var l=new Br(t,n,i,a),c=s.calculateTransform(l),u=this.geometries,f=0;f<u.length;f++){var d=u[f];d.type==="polygon"?(CP(d.exterior,c),he(d.interiors,function(h){CP(h,c)})):he(d.points,function(h){CP(h,c)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e})(Zhe),rIe=(function(r){dt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,n=t.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=BE(eIe),s=t;s&&!s.isGeoSVGGraphicRoot;)Vp(a,s.getLocalTransform(),a),s=s.parent;return Fd(a,a),Ys(i,i,a),i},e})(Zhe);function nIe(r){if(!r.UTF8Encoding)return r;var e=r,t=e.UTF8Scale;t==null&&(t=1024);var n=e.features;return he(n,function(i){var a=i.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=$he(o,s,t);break;case"Polygon":NP(o,s,t);break;case"MultiLineString":NP(o,s,t);break;case"MultiPolygon":he(o,function(l,c){return NP(l,s[c],t)})}}),e.UTF8Encoding=!1,e}function NP(r,e,t){for(var n=0;n<r.length;n++)r[n]=$he(r[n],e[n],t)}function $he(r,e,t){for(var n=[],i=e[0],a=e[1],s=0;s<r.length;s+=2){var o=r.charCodeAt(s)-64,l=r.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=i,l+=a,i=o,a=l,n.push([o/t,l/t])}return n}function dz(r,e){return r=nIe(r),Gt(bi(r.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,i=t.geometry,a=[];switch(i.type){case"Polygon":var s=i.coordinates;a.push(new kK(s[0],s.slice(1)));break;case"MultiPolygon":he(i.coordinates,function(l){l[0]&&a.push(new kK(l[0],l.slice(1)))});break;case"LineString":a.push(new IK([i.coordinates]));break;case"MultiLineString":a.push(new IK(i.coordinates))}var o=new Khe(n[e||"name"],a,n.cp);return o.properties=n,o})}const iIe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:M7,asc:Dh,getPercentWithPrecision:SCe,getPixelPrecision:XU,getPrecision:Pp,getPrecisionSafe:qce,isNumeric:$U,isRadianAroundZero:eS,linearMap:Ti,nice:KU,numericToNumber:gv,parseDate:Av,parsePercent:ur,quantile:hD,quantity:Zce,quantityExponent:jk,reformIntervals:C7,remRadian:ZU,round:vo},Symbol.toStringTag,{value:"Module"})),aIe=Object.freeze(Object.defineProperty({__proto__:null,format:YE,parse:Av,roundTime:pL},Symbol.toStringTag,{value:"Module"})),sIe=Object.freeze(Object.defineProperty({__proto__:null,Arc:HE,BezierCurve:jS,BoundingRect:Br,Circle:Ev,CompoundPath:GE,Ellipse:VE,Group:Nr,Image:Nl,IncrementalDisplayable:Oue,Line:mo,LinearGradient:db,Polygon:Tc,Polyline:Kl,RadialGradient:u9,Rect:_n,Ring:zS,Sector:Sc,Text:$n,clipPointsByRect:p9,clipRectByRect:jue,createIcon:VS,extendPath:Bue,extendShape:Fue,getShapeClass:E3,getTransform:$x,initProps:Ua,makeImage:h9,makePath:rS,mergePath:Eh,registerShape:Hd,resizePath:d9,updateProps:si},Symbol.toStringTag,{value:"Module"})),oIe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:N9,capitalFirst:aDe,encodeHTML:tu,formatTime:iDe,formatTpl:L9,getTextRect:rDe,getTooltipMarker:nfe,normalizeCssArray:WS,toCamelCase:D9,truncateText:rNe},Symbol.toStringTag,{value:"Module"})),lIe=Object.freeze(Object.defineProperty({__proto__:null,bind:hr,clone:Cr,curry:cn,defaults:Rr,each:he,extend:It,filter:bi,indexOf:hn,inherits:jU,isArray:Ut,isFunction:Tr,isObject:kr,isString:fr,map:Gt,merge:pn,reduce:Pd},Symbol.toStringTag,{value:"Module"}));var cIe=Mn(),IA=Mn(),$p={estimate:1,determine:2};function CL(r){return{out:{noPxChangeTryDetermine:[]},kind:r}}function Jhe(r,e){var t=Gt(e,function(n){return r.scale.parse(n)});return r.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function uIe(r,e){var t=r.getLabelModel().get("customValues");if(t){var n=$S(r),i=r.scale.getExtent(),a=Jhe(r,t),s=bi(a,function(o){return o>=i[0]&&o<=i[1]});return{labels:Gt(s,function(o){var l={value:o};return{formattedLabel:n(l),rawLabel:r.scale.getLabel(l),tickValue:o,time:void 0,break:void 0}})}}return r.type==="category"?hIe(r,e):pIe(r)}function fIe(r,e,t){var n=r.getTickModel().get("customValues");if(n){var i=r.scale.getExtent(),a=Jhe(r,n);return{ticks:bi(a,function(s){return s>=i[0]&&s<=i[1]})}}return r.type==="category"?dIe(r,e):{ticks:Gt(r.scale.getTicks(t),function(s){return s.value})}}function hIe(r,e){var t=r.getLabelModel(),n=Qhe(r,t,e);return!t.get("show")||r.scale.isBlank()?{labels:[]}:n}function Qhe(r,e,t){var n=mIe(r),i=iV(e),a=t.kind===$p.estimate;if(!a){var s=tde(n,i);if(s)return s}var o,l;Tr(i)?o=ide(r,i):(l=i==="auto"?gIe(r,t):i,o=nde(r,l));var c={labels:o,labelCategoryInterval:l};return a?t.out.noPxChangeTryDetermine.push(function(){return pz(n,i,c),!0}):pz(n,i,c),c}function dIe(r,e){var t=vIe(r),n=iV(e),i=tde(t,n);if(i)return i;var a,s;if((!e.get("show")||r.scale.isBlank())&&(a=[]),Tr(n))a=ide(r,n,!0);else if(n==="auto"){var o=Qhe(r,r.getLabelModel(),CL($p.determine));s=o.labelCategoryInterval,a=Gt(o.labels,function(l){return l.tickValue})}else s=n,a=nde(r,s,!0);return pz(t,n,{ticks:a,tickCategoryInterval:s})}function pIe(r){var e=r.scale.getTicks(),t=$S(r);return{labels:Gt(e,function(n,i){return{formattedLabel:t(n,i),rawLabel:r.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var vIe=ede("axisTick"),mIe=ede("axisLabel");function ede(r){return function(t){return IA(t)[r]||(IA(t)[r]={list:[]})}}function tde(r,e){for(var t=0;t<r.list.length;t++)if(r.list[t].key===e)return r.list[t].value}function pz(r,e,t){return r.list.push({key:e,value:t}),t}function gIe(r,e){if(e.kind===$p.estimate){var t=r.calculateCategoryInterval(e);return e.out.noPxChangeTryDetermine.push(function(){return IA(r).autoInterval=t,!0}),t}var n=IA(r).autoInterval;return n??(IA(r).autoInterval=r.calculateCategoryInterval(e))}function xIe(r,e){var t=e.kind,n=bIe(r),i=$S(r),a=(n.axisRotate-n.labelRotate)/180*Math.PI,s=r.scale,o=s.getExtent(),l=s.count();if(o[1]-o[0]<1)return 0;var c=1,u=40;l>u&&(c=Math.max(1,Math.floor(l/u)));for(var f=o[0],d=r.dataToCoord(f+1)-r.dataToCoord(f),h=Math.abs(d*Math.cos(a)),p=Math.abs(d*Math.sin(a)),v=0,x=0;f<=o[1];f+=c){var g=0,_=0,w=Bk(i({value:f}),n.font,"center","top");g=w.width*1.3,_=w.height*1.3,v=Math.max(v,g,7),x=Math.max(x,_,7)}var A=v/h,M=x/p;isNaN(A)&&(A=1/0),isNaN(M)&&(M=1/0);var C=Math.max(0,Math.floor(Math.min(A,M)));if(t===$p.estimate)return e.out.noPxChangeTryDetermine.push(hr(yIe,null,r,C,l)),C;var N=rde(r,C,l);return N??C}function yIe(r,e,t){return rde(r,e,t)==null}function rde(r,e,t){var n=cIe(r.model),i=r.getExtent(),a=n.lastAutoInterval,s=n.lastTickCount;if(a!=null&&s!=null&&Math.abs(a-e)<=1&&Math.abs(s-t)<=1&&a>e&&n.axisExtent0===i[0]&&n.axisExtent1===i[1])return a;n.lastTickCount=t,n.lastAutoInterval=e,n.axisExtent0=i[0],n.axisExtent1=i[1]}function bIe(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function nde(r,e,t){var n=$S(r),i=r.scale,a=i.getExtent(),s=r.getLabelModel(),o=[],l=Math.max((e||0)+1,1),c=a[0],u=i.count();c!==0&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var f=qhe(r),d=s.get("showMinLabel")||f,h=s.get("showMaxLabel")||f;d&&c!==a[0]&&v(a[0]);for(var p=c;p<=a[1];p+=l)v(p);h&&p-l!==a[1]&&v(a[1]);function v(x){var g={value:x};o.push(t?x:{formattedLabel:n(g),rawLabel:i.getLabel(g),tickValue:x,time:void 0,break:void 0})}return o}function ide(r,e,t){var n=r.scale,i=$S(r),a=[];return he(n.getTicks(),function(s){var o=n.getLabel(s),l=s.value;e(s.value,o)&&a.push(t?l:{formattedLabel:i(s),rawLabel:o,tickValue:l,time:void 0,break:void 0})}),a}var OK=[0,1],Gd=(function(){function r(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return r.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},r.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return XU(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},r.prototype.dataToCoord=function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(i.parse(e)),this.onBand&&i.type==="ordinal"&&(n=n.slice(),PK(n,i.count())),Ti(e,OK,n,t)},r.prototype.coordToData=function(e,t){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),PK(n,i.count()));var a=Ti(e,n,OK,t);return this.scale.scale(a)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=fIe(this,t,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}),i=n.ticks,a=Gt(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=t.get("alignWithLabel");return _Ie(this,a,s,e.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),i=Gt(n,function(a){return Gt(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},r.prototype.getViewLabels=function(e){return e=e||CL($p.determine),uIe(this,e).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},r.prototype.calculateCategoryInterval=function(e){return e=e||CL($p.determine),xIe(this,e)},r})();function PK(r,e){var t=r[1]-r[0],n=e,i=t/n/2;r[0]+=i,r[1]-=i}function _Ie(r,e,t,n){var i=e.length;if(!r.onBand||t||!i)return;var a=r.getExtent(),s,o;if(i===1)e[0].coord=a[0],e[0].onBand=!0,s=e[1]={coord:a[1],tickValue:e[0].tickValue,onBand:!0};else{var l=e[i-1].tickValue-e[0].tickValue,c=(e[i-1].coord-e[0].coord)/l;he(e,function(h){h.coord-=c/2,h.onBand=!0});var u=r.scale.getExtent();o=1+u[1]-e[i-1].tickValue,s={coord:e[i-1].coord+c*o,tickValue:u[1]+1,onBand:!0},e.push(s)}var f=a[0]>a[1];d(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&d(a[0],e[0].coord)&&e.unshift({coord:a[0],onBand:!0}),d(a[1],s.coord)&&(n?s.coord=a[1]:e.pop()),n&&d(s.coord,a[1])&&e.push({coord:a[1],onBand:!0});function d(h,p){return h=vo(h),p=vo(p),f?h>p:h<p}}function wIe(r){var e=En.extend(r);return En.registerClass(e),e}function SIe(r){var e=Aa.extend(r);return Aa.registerClass(e),e}function TIe(r){var e=la.extend(r);return la.registerClass(e),e}function AIe(r){var e=Zi.extend(r);return Zi.registerClass(e),e}var c5=Math.PI*2,C1=xv.CMD,EIe=["top","right","bottom","left"];function MIe(r,e,t,n,i){var a=t.width,s=t.height;switch(r){case"top":n.set(t.x+a/2,t.y-e),i.set(0,-1);break;case"bottom":n.set(t.x+a/2,t.y+s+e),i.set(0,1);break;case"left":n.set(t.x-e,t.y+s/2),i.set(-1,0);break;case"right":n.set(t.x+a+e,t.y+s/2),i.set(1,0);break}}function CIe(r,e,t,n,i,a,s,o,l){s-=r,o-=e;var c=Math.sqrt(s*s+o*o);s/=c,o/=c;var u=s*t+r,f=o*t+e;if(Math.abs(n-i)%c5<1e-4)return l[0]=u,l[1]=f,c-t;if(a){var d=n;n=Lh(i),i=Lh(d)}else n=Lh(n),i=Lh(i);n>i&&(i+=c5);var h=Math.atan2(o,s);if(h<0&&(h+=c5),h>=n&&h<=i||h+c5>=n&&h+c5<=i)return l[0]=u,l[1]=f,c-t;var p=t*Math.cos(n)+r,v=t*Math.sin(n)+e,x=t*Math.cos(i)+r,g=t*Math.sin(i)+e,_=(p-s)*(p-s)+(v-o)*(v-o),w=(x-s)*(x-s)+(g-o)*(g-o);return _<w?(l[0]=p,l[1]=v,Math.sqrt(_)):(l[0]=x,l[1]=g,Math.sqrt(w))}function NL(r,e,t,n,i,a,s,o){var l=i-r,c=a-e,u=t-r,f=n-e,d=Math.sqrt(u*u+f*f);u/=d,f/=d;var h=l*u+c*f,p=h/d;o&&(p=Math.min(Math.max(p,0),1)),p*=d;var v=s[0]=r+p*u,x=s[1]=e+p*f;return Math.sqrt((v-i)*(v-i)+(x-a)*(x-a))}function ade(r,e,t,n,i,a,s){t<0&&(r=r+t,t=-t),n<0&&(e=e+n,n=-n);var o=r+t,l=e+n,c=s[0]=Math.min(Math.max(i,r),o),u=s[1]=Math.min(Math.max(a,e),l);return Math.sqrt((c-i)*(c-i)+(u-a)*(u-a))}var Rp=[];function NIe(r,e,t){var n=ade(e.x,e.y,e.width,e.height,r.x,r.y,Rp);return t.set(Rp[0],Rp[1]),n}function DIe(r,e,t){for(var n=0,i=0,a=0,s=0,o,l,c=1/0,u=e.data,f=r.x,d=r.y,h=0;h<u.length;){var p=u[h++];h===1&&(n=u[h],i=u[h+1],a=n,s=i);var v=c;switch(p){case C1.M:a=u[h++],s=u[h++],n=a,i=s;break;case C1.L:v=NL(n,i,u[h],u[h+1],f,d,Rp,!0),n=u[h++],i=u[h++];break;case C1.C:v=Mce(n,i,u[h++],u[h++],u[h++],u[h++],u[h],u[h+1],f,d,Rp),n=u[h++],i=u[h++];break;case C1.Q:v=Nce(n,i,u[h++],u[h++],u[h],u[h+1],f,d,Rp),n=u[h++],i=u[h++];break;case C1.A:var x=u[h++],g=u[h++],_=u[h++],w=u[h++],A=u[h++],M=u[h++];h+=1;var C=!!(1-u[h++]);o=Math.cos(A)*_+x,l=Math.sin(A)*w+g,h<=1&&(a=o,s=l);var N=(f-x)*w/_+x;v=CIe(x,g,w,A,A+M,C,N,d,Rp),n=Math.cos(A+M)*_+x,i=Math.sin(A+M)*w+g;break;case C1.R:a=n=u[h++],s=i=u[h++];var L=u[h++],D=u[h++];v=ade(a,s,L,D,f,d,Rp);break;case C1.Z:v=NL(n,i,a,s,f,d,Rp,!0),n=a,i=s;break}v<c&&(c=v,t.set(Rp[0],Rp[1]))}return c}var Fp=new Fr,za=new Fr,fo=new Fr,rv=new Fr,Z0=new Fr;function FK(r,e){if(r){var t=r.getTextGuideLine(),n=r.getTextContent();if(n&&t){var i=r.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||EIe,o=n.getBoundingRect().clone();o.applyTransform(n.getComputedTransform());var l=1/0,c=i.anchor,u=r.getComputedTransform(),f=u&&Fd([],u),d=e.get("length2")||0;c&&fo.copy(c);for(var h=0;h<s.length;h++){var p=s[h];MIe(p,0,o,Fp,rv),Fr.scaleAndAdd(za,Fp,rv,d),za.transform(f);var v=r.getBoundingRect(),x=c?c.distance(za):r instanceof Rn?DIe(za,r.path,fo):NIe(za,v,fo);x<l&&(l=x,za.transform(u),fo.transform(u),fo.toArray(a[0]),za.toArray(a[1]),Fp.toArray(a[2]))}sde(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var DL=[],Vu=new Fr;function sde(r,e){if(e<=180&&e>0){e=e/180*Math.PI,Fp.fromArray(r[0]),za.fromArray(r[1]),fo.fromArray(r[2]),Fr.sub(rv,Fp,za),Fr.sub(Z0,fo,za);var t=rv.len(),n=Z0.len();if(!(t<.001||n<.001)){rv.scale(1/t),Z0.scale(1/n);var i=rv.dot(Z0),a=Math.cos(e);if(a<i){var s=NL(za.x,za.y,fo.x,fo.y,Fp.x,Fp.y,DL,!1);Vu.fromArray(DL),Vu.scaleAndAdd(Z0,s/Math.tan(Math.PI-e));var o=fo.x!==za.x?(Vu.x-za.x)/(fo.x-za.x):(Vu.y-za.y)/(fo.y-za.y);if(isNaN(o))return;o<0?Fr.copy(Vu,za):o>1&&Fr.copy(Vu,fo),Vu.toArray(r[1])}}}}function LIe(r,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Fp.fromArray(r[0]),za.fromArray(r[1]),fo.fromArray(r[2]),Fr.sub(rv,za,Fp),Fr.sub(Z0,fo,za);var n=rv.len(),i=Z0.len();if(!(n<.001||i<.001)){rv.scale(1/n),Z0.scale(1/i);var a=rv.dot(e),s=Math.cos(t);if(a<s){var o=NL(za.x,za.y,fo.x,fo.y,Fp.x,Fp.y,DL,!1);Vu.fromArray(DL);var l=Math.PI/2,c=Math.acos(Z0.dot(e)),u=l+c-t;if(u>=l)Fr.copy(Vu,fo);else{Vu.scaleAndAdd(Z0,o/Math.tan(Math.PI/2-u));var f=fo.x!==za.x?(Vu.x-za.x)/(fo.x-za.x):(Vu.y-za.y)/(fo.y-za.y);if(isNaN(f))return;f<0?Fr.copy(Vu,za):f>1&&Fr.copy(Vu,fo)}Vu.toArray(r[1])}}}}function DP(r,e,t,n){var i=t==="normal",a=i?r:r.ensureState(t);a.ignore=e;var s=n.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=n.getModel("lineStyle").getLineStyle();i?r.useStyle(o):a.style=o}function RIe(r,e){var t=e.smooth,n=e.points;if(n)if(r.moveTo(n[0][0],n[0][1]),t>0&&n.length>=3){var i=Pm(n[0],n[1]),a=Pm(n[1],n[2]);if(!i||!a){r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]);return}var s=Math.min(i,a)*t,o=TA([],n[1],n[0],s/i),l=TA([],n[1],n[2],s/a),c=TA([],o,l,.5);r.bezierCurveTo(o[0],o[1],o[0],o[1],c[0],c[1]),r.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var u=1;u<n.length;u++)r.lineTo(n[u][0],n[u][1])}function aV(r,e,t){var n=r.getTextGuideLine(),i=r.getTextContent();if(!i){n&&r.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=i.ignore,l=0;l<T3.length;l++){var c=T3[l],u=e[c],f=c==="normal";if(u){var d=u.get("show"),h=f?o:wr(i.states[c]&&i.states[c].ignore,o);if(h||!wr(d,s)){var p=f?n:n&&n.states[c];p&&(p.ignore=!0),n&&DP(n,!0,c,u);continue}n||(n=new Kl,r.setTextGuideLine(n),!f&&(o||!s)&&DP(n,!0,"normal",e.normal),r.stateProxy&&(n.stateProxy=r.stateProxy)),DP(n,!1,c,u)}}if(n){Rr(n.style,t),n.style.fill=null;var v=a.get("showAbove"),x=r.textGuideLineConfig=r.textGuideLineConfig||{};x.showAbove=v||!1,n.buildPath=RIe}}function sV(r,e){e=e||"labelLine";for(var t={normal:r.getModel(e)},n=0;n<Qu.length;n++){var i=Qu[n];t[i]=r.getModel([i,e])}return t}var BK=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],kIe=1,LL=2,ode=kIe|LL;function RL(r,e,t){t=t||ode,e?r.dirty|=t:r.dirty&=~t}function lde(r,e){return e=e||ode,r.dirty==null||!!(r.dirty&e)}function bv(r){if(r)return lde(r)&&cde(r,r.label,r),r}function cde(r,e,t){var n=e.getComputedTransform();r.transform=m9(r.transform,n);var i=r.localRect=M3(r.localRect,e.getBoundingRect()),a=e.style,s=a.margin,o=t&&t.marginForce,l=t&&t.minMarginForce,c=t&&t.marginDefault,u=a.__marginType;u==null&&c&&(s=c,u=yw.textMargin);for(var f=0;f<4;f++)LP[f]=u===yw.minMargin&&l&&l[f]!=null?l[f]:o&&o[f]!=null?o[f]:s?s[f]:0;u===yw.textMargin&&$2(i,LP,!1,!1);var d=r.rect=M3(r.rect,i);return n&&d.applyTransform(n),u===yw.minMargin&&$2(d,LP,!1,!1),r.axisAligned=v9(n),(r.label=r.label||{}).ignore=e.ignore,RL(r,!1),RL(r,!0,LL),r}var LP=[0,0,0,0];function IIe(r,e,t){return r.transform=m9(r.transform,t),r.localRect=M3(r.localRect,e),r.rect=M3(r.rect,e),t&&r.rect.applyTransform(t),r.axisAligned=v9(t),r.obb=void 0,(r.label=r.label||{}).ignore=!1,r}function vz(r,e){if(r){r.label.x+=e.x,r.label.y+=e.y,r.label.markRedraw();var t=r.transform;t&&(t[4]+=e.x,t[5]+=e.y);var n=r.rect;n&&(n.x+=e.x,n.y+=e.y);var i=r.obb;i&&i.fromBoundingRect(r.localRect,t)}}function mz(r,e){for(var t=0;t<BK.length;t++){var n=BK[t];r[n]==null&&(r[n]=e[n])}return bv(r)}function zK(r){var e=r.obb;return(!e||lde(r,LL))&&(r.obb=e=e||new Iue,e.fromBoundingRect(r.localRect,r.transform),RL(r,!1,LL)),e}function gz(r,e,t,n,i){var a=r.length,s=nn[e],o=jo[e];if(a<2)return!1;r.sort(function(N,L){return N.rect[s]-L.rect[s]});for(var l=0,c,u=!1,f=0;f<a;f++){var d=r[f],h=d.rect;c=h[s]-l,c<0&&(h[s]-=c,d.label[s]-=c,u=!0),l=h[s]+h[o]}var p=r[0],v=r[a-1],x,g;_(),x<0&&M(-x,.8),g<0&&M(g,.8),_(),w(x,g,1),w(g,x,-1),_(),x<0&&C(-x),g<0&&C(g);function _(){x=p.rect[s]-t,g=n-v.rect[s]-v.rect[o]}function w(N,L,D){if(N<0){var k=Math.min(L,-N);if(k>0){A(k*D,0,a);var O=k+N;O<0&&M(-O*D,1)}else M(-N*D,1)}}function A(N,L,D){N!==0&&(u=!0);for(var k=L;k<D;k++){var O=r[k],I=O.rect;I[s]+=N,O.label[s]+=N}}function M(N,L){for(var D=[],k=0,O=1;O<a;O++){var I=r[O-1].rect,j=Math.max(r[O].rect[s]-I[s]-I[o],0);D.push(j),k+=j}if(k){var B=Math.min(Math.abs(N)/k,L);if(N>0)for(var O=0;O<a-1;O++){var K=D[O]*B;A(K,0,O+1)}else for(var O=a-1;O>0;O--){var K=D[O-1]*B;A(-K,O,a)}}}function C(N){var L=N<0?-1:1;N=Math.abs(N);for(var D=Math.ceil(N/(a-1)),k=0;k<a-1;k++)if(L>0?A(D,0,k+1):A(-D,a-k-1,a),N-=D,N<=0)return}return u}function OIe(r){for(var e=0;e<r.length;e++){var t=r[e],n=t.defaultAttr,i=t.labelLine;t.label.attr("ignore",n.ignore),i&&i.attr("ignore",n.labelGuideIgnore)}}function ude(r){var e=[];r.sort(function(c,u){return(u.suggestIgnore?1:0)-(c.suggestIgnore?1:0)||u.priority-c.priority});function t(c){if(!c.ignore){var u=c.ensureState("emphasis");u.ignore==null&&(u.ignore=!1)}c.ignore=!0}for(var n=0;n<r.length;n++){var i=bv(r[n]);if(!i.label.ignore){for(var a=i.label,s=i.labelLine,o=!1,l=0;l<e.length;l++)if(aI(i,e[l],null,{touchThreshold:.05})){o=!0;break}o?(t(a),s&&t(s)):e.push(i)}}}function aI(r,e,t,n){return!r||!e||r.label&&r.label.ignore||e.label&&e.label.ignore||!r.rect.intersect(e.rect,t,n)?!1:r.axisAligned&&e.axisAligned?!0:zK(r).intersect(zK(e),t,n)}function PIe(r){if(r){for(var e=[],t=0;t<r.length;t++)e.push(r[t].slice());return e}}function FIe(r,e){var t=r.label,n=e&&e.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:PIe(n&&n.shape.points)}}var jK=["align","verticalAlign","width","height","fontSize"],Pu=new zm,RP=Mn(),BIe=Mn();function sN(r,e,t){for(var n=0;n<t.length;n++){var i=t[n];e[i]!=null&&(r[i]=e[i])}}var oN=["x","y","rotation"],zIe=(function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(e,t,n,i,a){var s=i.style,o=i.__hostTarget,l=o.textConfig||{},c=i.getComputedTransform(),u=i.getBoundingRect().plain();Br.applyTransform(u,u,c),c?Pu.setLocalTransform(c):(Pu.x=Pu.y=Pu.rotation=Pu.originX=Pu.originY=0,Pu.scaleX=Pu.scaleY=1),Pu.rotation=Lh(Pu.rotation);var f=i.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var h=f.getComputedTransform();Br.applyTransform(d,d,h)}var p=d&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:n,dataIndex:e,dataType:t,layoutOptionOrCb:a,layoutOption:null,rect:u,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:Pu.x,y:Pu.y,scaleX:Pu.scaleX,scaleY:Pu.scaleY,rotation:Pu.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},r.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,i=n.get("labelLayout");(Tr(i)||Wn(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=Vr(a);s&&!s.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,n,s,i)})},r.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function i(w,A){return function(){FK(w,A)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,c=s.defaultAttr,u=void 0;Tr(s.layoutOptionOrCb)?u=s.layoutOptionOrCb(FIe(s,l)):u=s.layoutOptionOrCb,u=u||{},s.layoutOption=u;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:u.x!=null||u.y!=null?null:c.attachedPos,rotation:u.rotate!=null?u.rotate*f:c.attachedRot,offset:[u.dx||0,u.dy||0]});var d=!1;if(u.x!=null?(o.x=ur(u.x,t),o.setStyle("x",0),d=!0):(o.x=c.x,o.setStyle("x",c.style.x)),u.y!=null?(o.y=ur(u.y,n),o.setStyle("y",0),d=!0):(o.y=c.y,o.setStyle("y",c.style.y)),u.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:u.labelLinePoints}),d=!1)}var p=RP(o);p.needsUpdateLabelLine=d,o.rotation=u.rotate!=null?u.rotate*f:c.rotation,o.scaleX=c.scaleX,o.scaleY=c.scaleY;for(var v=0;v<jK.length;v++){var x=jK[v];o.setStyle(x,u[x]!=null?u[x]:c.style[x])}if(u.draggable){if(o.draggable=!0,o.cursor="move",l){var g=s.seriesModel;if(s.dataIndex!=null){var _=s.seriesModel.getData(s.dataType);g=_.getItemModel(s.dataIndex)}o.on("drag",i(l,g.getModel("labelLine")))}}else o.off("drag"),o.cursor=c.cursor}},r.prototype.layout=function(e){var t=e.getWidth(),n=e.getHeight(),i=[];he(this._labelList,function(l){l.defaultAttr.ignore||i.push(mz({},l))});var a=bi(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=bi(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});gz(a,0,0,t),gz(s,1,0,n);var o=bi(i,function(l){return l.layoutOption.hideOverlap});OIe(o),ude(o)},r.prototype.processLabelsOverall=function(){var e=this;he(this._chartViewList,function(t){var n=t.__model,i=t.ignoreLabelLineUpdate,a=n.isAnimationEnabled();t.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!i,l=s.getTextContent();!o&&l&&(o=RP(l).needsUpdateLabelLine),o&&e._updateLabelLine(s,n),a&&e._animateLabels(s,n)})})},r.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),i=Vr(e),a=i.dataIndex;if(n&&a!=null){var s=t.getData(i.dataType),o=s.getItemModel(a),l={},c=s.getItemVisual(a,"style");if(c){var u=s.getVisual("drawType");l.stroke=c[u]}var f=o.getModel("labelLine");aV(e,sV(o),l),FK(e,f)}},r.prototype._animateLabels=function(e,t){var n=e.getTextContent(),i=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!jw(e))){var a=RP(n),s=a.oldLayout,o=Vr(e),l=o.dataIndex,c={x:n.x,y:n.y,rotation:n.rotation},u=t.getData(o.dataType);if(s){n.attr(s);var d=e.prevStates;d&&(hn(d,"select")>=0&&n.attr(a.oldLayoutSelect),hn(d,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),si(n,c,t,l)}else if(n.attr(c),!HS(n).valueAnimation){var f=wr(n.style.opacity,1);n.style.opacity=0,Ua(n,{style:{opacity:f}},t,l)}if(a.oldLayout=c,n.states.select){var h=a.oldLayoutSelect={};sN(h,c,oN),sN(h,n.states.select,oN)}if(n.states.emphasis){var p=a.oldLayoutEmphasis={};sN(p,c,oN),sN(p,n.states.emphasis,oN)}Yue(n,l,u,t,t)}if(i&&!i.ignore&&!i.invisible){var a=BIe(i),s=a.oldLayout,v={points:i.shape.points};s?(i.attr({shape:s}),si(i,{shape:v},t)):(i.setShape(v),i.style.strokePercent=0,Ua(i,{style:{strokePercent:1}},t)),a.oldLayout=v}},r})(),kP=Mn();function jIe(r){r.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){var i=kP(t).labelManager;i||(i=kP(t).labelManager=new zIe),i.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(e,t,n){var i=kP(t).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}var IP=Math.sin,OP=Math.cos,fde=Math.PI,N1=Math.PI*2,UIe=180/fde,hde=(function(){function r(){}return r.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},r.prototype.moveTo=function(e,t){this._add("M",e,t)},r.prototype.lineTo=function(e,t){this._add("L",e,t)},r.prototype.bezierCurveTo=function(e,t,n,i,a,s){this._add("C",e,t,n,i,a,s)},r.prototype.quadraticCurveTo=function(e,t,n,i){this._add("Q",e,t,n,i)},r.prototype.arc=function(e,t,n,i,a,s){this.ellipse(e,t,n,n,0,i,a,s)},r.prototype.ellipse=function(e,t,n,i,a,s,o,l){var c=o-s,u=!l,f=Math.abs(c),d=Px(f-N1)||(u?c>=N1:-c>=N1),h=c>0?c%N1:c%N1+N1,p=!1;d?p=!0:Px(f)?p=!1:p=h>=fde==!!u;var v=e+n*OP(s),x=t+i*IP(s);this._start&&this._add("M",v,x);var g=Math.round(a*UIe);if(d){var _=1/this._p,w=(u?1:-1)*(N1-_);this._add("A",n,i,g,1,+u,e+n*OP(s+w),t+i*IP(s+w)),_>.01&&this._add("A",n,i,g,0,+u,v,x)}else{var A=e+n*OP(o),M=t+i*IP(o);this._add("A",n,i,g,+p,+u,A,M)}},r.prototype.rect=function(e,t,n,i){this._add("M",e,t),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(e,t,n,i,a,s,o,l,c){for(var u=[],f=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h)){this._invalid=!0;return}u.push(Math.round(h*f)/f)}this._d.push(e+u.join(" ")),this._start=e==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r})(),oV="none",VIe=Math.round;function HIe(r){var e=r.fill;return e!=null&&e!==oV}function GIe(r){var e=r.stroke;return e!=null&&e!==oV}var xz=["lineCap","miterLimit","lineJoin"],WIe=Gt(xz,function(r){return"stroke-"+r.toLowerCase()});function YIe(r,e,t,n){var i=e.opacity==null?1:e.opacity;if(t instanceof Nl){r("opacity",i);return}if(HIe(e)){var a=w3(e.fill);r("fill",a.color);var s=e.fillOpacity!=null?e.fillOpacity*a.opacity*i:a.opacity*i;s<1&&r("fill-opacity",s)}else r("fill",oV);if(GIe(e)){var o=w3(e.stroke);r("stroke",o.color);var l=e.strokeNoScale?t.getLineScale():1,c=l?(e.lineWidth||0)/l:0,u=e.strokeOpacity!=null?e.strokeOpacity*o.opacity*i:o.opacity*i,f=e.strokeFirst;if(c!==1&&r("stroke-width",c),f&&r("paint-order",f?"stroke":"fill"),u<1&&r("stroke-opacity",u),e.lineDash){var d=V9(t),h=d[0],p=d[1];h&&(p=VIe(p||0),r("stroke-dasharray",h.join(",")),(p||n)&&r("stroke-dashoffset",p))}for(var v=0;v<xz.length;v++){var x=xz[v];if(e[x]!==lL[x]){var g=e[x]||lL[x];g&&r(WIe[v],g)}}}}var dde="http://www.w3.org/2000/svg",pde="http://www.w3.org/1999/xlink",qIe="http://www.w3.org/2000/xmlns/",XIe="http://www.w3.org/XML/1998/namespace",UK="ecmeta_";function vde(r){return document.createElementNS(dde,r)}function bl(r,e,t,n,i){return{tag:r,attrs:t||{},children:n,text:i,key:e}}function ZIe(r,e){var t=[];if(e)for(var n in e){var i=e[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),t.push(a))}return"<"+r+" "+t.join(" ")+">"}function KIe(r){return"</"+r+">"}function lV(r,e){e=e||{};var t=e.newline?`
`:"";function n(i){var a=i.children,s=i.tag,o=i.attrs,l=i.text;return ZIe(s,o)+(s!=="style"?tu(l):l||"")+(a?""+t+Gt(a,function(c){return n(c)}).join(t)+t:"")+KIe(s)}return n(r)}function $Ie(r,e,t){t=t||{};var n=t.newline?`
`:"",i=" {"+n,a=n+"}",s=Gt(Wn(r),function(l){return l+i+Gt(Wn(r[l]),function(c){return c+":"+r[l][c]+";"}).join(n)+a}).join(n),o=Gt(Wn(e),function(l){return"@keyframes "+l+i+Gt(Wn(e[l]),function(c){return c+i+Gt(Wn(e[l][c]),function(u){var f=e[l][c][u];return u==="d"&&(f='path("'+f+'")'),u+":"+f+";"}).join(n)+a}).join(n)+a}).join(n);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(n)}function yz(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function VK(r,e,t,n){return bl("svg","root",{width:r,height:e,xmlns:dde,"xmlns:xlink":pde,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+e:!1},t)}var JIe=0;function mde(){return JIe++}var HK={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Z1="transform-origin";function QIe(r,e,t){var n=It({},r.shape);It(n,e),r.buildPath(t,n);var i=new hde;return i.reset(Pce(r)),t.rebuildPath(i,1),i.generateStr(),i.getStr()}function e6e(r,e){var t=e.originX,n=e.originY;(t||n)&&(r[Z1]=t+"px "+n+"px")}var t6e={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function gde(r,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=r,t}function r6e(r,e,t){var n=r.shape.paths,i={},a,s;if(he(n,function(l){var c=yz(t.zrId);c.animation=!0,sI(l,{},c,!0);var u=c.cssAnims,f=c.cssNodes,d=Wn(u),h=d.length;if(h){s=d[h-1];var p=u[s];for(var v in p){var x=p[v];i[v]=i[v]||{d:""},i[v].d+=x.d||""}for(var g in f){var _=f[g].animation;_.indexOf(s)>=0&&(a=_)}}}),!!a){e.d=!1;var o=gde(i,t);return a.replace(s,o)}}function GK(r){return fr(r)?HK[r]?"cubic-bezier("+HK[r]+")":GU(r)?r:"":""}function sI(r,e,t,n){var i=r.animators,a=i.length,s=[];if(r instanceof GE){var o=r6e(r,e,t);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var l={},c=0;c<a;c++){var u=i[c],f=[u.getMaxTime()/1e3+"s"],d=GK(u.getClip().easing),h=u.getDelay();d?f.push(d):f.push("linear"),h&&f.push(h/1e3+"s"),u.getLoop()&&f.push("infinite");var p=f.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(u)}function v(_){var w=_[1],A=w.length,M={},C={},N={},L="animation-timing-function";function D(ye,fe,be){for(var Oe=ye.getTracks(),xe=ye.getMaxTime(),Qe=0;Qe<Oe.length;Qe++){var ne=Oe[Qe];if(ne.needsAnimate()){var te=ne.keyframes,Me=ne.propName;if(be&&(Me=be(Me)),Me)for(var ge=0;ge<te.length;ge++){var de=te[ge],_e=Math.round(de.time/xe*100)+"%",je=GK(de.easing),Be=de.rawValue;(fr(Be)||Jn(Be))&&(fe[_e]=fe[_e]||{},fe[_e][Me]=de.rawValue,je&&(fe[_e][L]=je))}}}}for(var k=0;k<A;k++){var O=w[k],I=O.targetName;I?I==="shape"&&D(O,C):!n&&D(O,M)}for(var j in M){var B={};aL(B,r),It(B,M[j]);var K=Fce(B),H=M[j][L];N[j]=K?{transform:K}:{},e6e(N[j],B),H&&(N[j][L]=H)}var Z,Y=!0;for(var j in C){N[j]=N[j]||{};var J=!Z,H=C[j][L];J&&(Z=new xv);var oe=Z.len();Z.reset(),N[j].d=QIe(r,C[j],Z);var X=Z.len();if(!J&&oe!==X){Y=!1;break}H&&(N[j][L]=H)}if(!Y)for(var j in N)delete N[j].d;if(!n)for(var k=0;k<A;k++){var O=w[k],I=O.targetName;I==="style"&&D(O,N,function(Oe){return t6e[Oe]})}for(var F=Wn(N),W=!0,Q,k=1;k<F.length;k++){var re=F[k-1],ae=F[k];if(N[re][Z1]!==N[ae][Z1]){W=!1;break}Q=N[re][Z1]}if(W&&Q){for(var j in N)N[j][Z1]&&delete N[j][Z1];e[Z1]=Q}if(bi(F,function(ye){return Wn(N[ye]).length>0}).length){var ce=gde(N,t);return ce+" "+_[0]+" both"}}for(var x in l){var o=v(l[x]);o&&s.push(o)}if(s.length){var g=t.zrId+"-cls-"+mde();t.cssNodes["."+g]={animation:s.join(",")},e.class=g}}function n6e(r,e,t){if(!r.ignore)if(r.isSilent()){var n={"pointer-events":"none"};WK(n,e,t)}else{var i=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},a=i.fill;if(!a){var s=r.style&&r.style.fill,o=r.states.select&&r.states.select.style&&r.states.select.style.fill,l=r.currentStates.indexOf("select")>=0&&o||s;l&&(a=rL(l))}var c=i.lineWidth;if(c){var u=!i.strokeNoScale&&r.transform?r.transform[0]:1;c=c/u}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),c&&(n["stroke-width"]=c),WK(n,e,t)}}function WK(r,e,t,n){var i=JSON.stringify(r),a=t.cssStyleCache[i];a||(a=t.zrId+"-cls-"+mde(),t.cssStyleCache[i]=a,t.cssNodes["."+a+":hover"]=r),e.class=e.class?e.class+" "+a:a}var P3=Math.round;function xde(r){return r&&fr(r.src)}function yde(r){return r&&Tr(r.toDataURL)}function cV(r,e,t,n){YIe(function(i,a){var s=i==="fill"||i==="stroke";s&&Oce(a)?_de(e,r,i,n):s&&YU(a)?wde(t,r,i,n):r[i]=a,s&&n.ssr&&a==="none"&&(r["pointer-events"]="visible")},e,t,!1),u6e(t,r,n)}function uV(r,e){var t=Gce(e);t&&(t.each(function(n,i){n!=null&&(r[(UK+i).toLowerCase()]=n+"")}),e.isSilent()&&(r[UK+"silent"]="true"))}function YK(r){return Px(r[0]-1)&&Px(r[1])&&Px(r[2])&&Px(r[3]-1)}function i6e(r){return Px(r[4])&&Px(r[5])}function fV(r,e,t){if(e&&!(i6e(e)&&YK(e))){var n=1e4;r.transform=YK(e)?"translate("+P3(e[4]*n)/n+" "+P3(e[5]*n)/n+")":zMe(e)}}function qK(r,e,t){for(var n=r.points,i=[],a=0;a<n.length;a++)i.push(P3(n[a][0]*t)/t),i.push(P3(n[a][1]*t)/t);e.points=i.join(" ")}function XK(r){return!r.smooth}function a6e(r){var e=Gt(r,function(t){return typeof t=="string"?[t,t]:t});return function(t,n,i){for(var a=0;a<e.length;a++){var s=e[a],o=t[s[0]];o!=null&&(n[s[1]]=P3(o*i)/i)}}}var s6e={circle:[a6e(["cx","cy","r"])],polyline:[qK,XK],polygon:[qK,XK]};function o6e(r){for(var e=r.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function bde(r,e){var t=r.style,n=r.shape,i=s6e[r.type],a={},s=e.animation,o="path",l=r.style.strokePercent,c=e.compress&&Pce(r)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](n))&&!(s&&o6e(r))&&!(l<1)){o=r.type;var u=Math.pow(10,c);i[0](n,a,u)}else{var f=!r.path||r.shapeChanged();r.path||r.createPathProxy();var d=r.path;f&&(d.beginPath(),r.buildPath(d,r.shape),r.pathUpdated());var h=d.getVersion(),p=r,v=p.__svgPathBuilder;(p.__svgPathVersion!==h||!v||l!==p.__svgPathStrokePercent)&&(v||(v=p.__svgPathBuilder=new hde),v.reset(c),d.rebuildPath(v,l),v.generateStr(),p.__svgPathVersion=h,p.__svgPathStrokePercent=l),a.d=v.getStr()}return fV(a,r.transform),cV(a,t,r,e),uV(a,r),e.animation&&sI(r,a,e),e.emphasis&&n6e(r,a,e),bl(o,r.id+"",a)}function l6e(r,e){var t=r.style,n=t.image;if(n&&!fr(n)&&(xde(n)?n=n.src:yde(n)&&(n=n.toDataURL())),!!n){var i=t.x||0,a=t.y||0,s=t.width,o=t.height,l={href:n,width:s,height:o};return i&&(l.x=i),a&&(l.y=a),fV(l,r.transform),cV(l,t,r,e),uV(l,r),e.animation&&sI(r,l,e),bl("image",r.id+"",l)}}function c6e(r,e){var t=r.style,n=t.text;if(n!=null&&(n+=""),!(!n||isNaN(t.x)||isNaN(t.y))){var i=t.font||tg,a=t.x||0,s=UMe(t.y||0,jE(i),t.textBaseline),o=jMe[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(mue(t)){var c="",u=t.fontStyle,f=vue(t.fontSize);if(!parseFloat(f))return;var d=t.fontFamily||oce,h=t.fontWeight;c+="font-size:"+f+";font-family:"+d+";",u&&u!=="normal"&&(c+="font-style:"+u+";"),h&&h!=="normal"&&(c+="font-weight:"+h+";"),l.style=c}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),s&&(l.y=s),fV(l,r.transform),cV(l,t,r,e),uV(l,r),e.animation&&sI(r,l,e),bl("text",r.id+"",l,void 0,n)}}function ZK(r,e){if(r instanceof Rn)return bde(r,e);if(r instanceof Nl)return l6e(r,e);if(r instanceof tS)return c6e(r,e)}function u6e(r,e,t){var n=r.style;if(VMe(n)){var i=HMe(r),a=t.shadowCache,s=a[i];if(!s){var o=r.getGlobalScale(),l=o[0],c=o[1];if(!l||!c)return;var u=n.shadowOffsetX||0,f=n.shadowOffsetY||0,d=n.shadowBlur,h=w3(n.shadowColor),p=h.opacity,v=h.color,x=d/2/l,g=d/2/c,_=x+" "+g;s=t.zrId+"-s"+t.shadowIdx++,t.defs[s]=bl("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[bl("feDropShadow","",{dx:u/l,dy:f/c,stdDeviation:_,"flood-color":v,"flood-opacity":p})]),a[i]=s}e.filter=Fk(s)}}function _de(r,e,t,n){var i=r[t],a,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(kce(i))a="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(Ice(i))a="radialGradient",s.cx=wr(i.x,.5),s.cy=wr(i.y,.5),s.r=wr(i.r,.5);else return;for(var o=i.colorStops,l=[],c=0,u=o.length;c<u;++c){var f=m7(o[c].offset)*100+"%",d=o[c].color,h=w3(d),p=h.color,v=h.opacity,x={offset:f};x["stop-color"]=p,v<1&&(x["stop-opacity"]=v),l.push(bl("stop",c+"",x))}var g=bl(a,"",s,l),_=lV(g),w=n.gradientCache,A=w[_];A||(A=n.zrId+"-g"+n.gradientIdx++,w[_]=A,s.id=A,n.defs[A]=bl(a,A,s,l)),e[t]=Fk(A)}function wde(r,e,t,n){var i=r.style[t],a=r.getBoundingRect(),s={},o=i.repeat,l=o==="no-repeat",c=o==="repeat-x",u=o==="repeat-y",f;if(Rce(i)){var d=i.imageWidth,h=i.imageHeight,p=void 0,v=i.image;if(fr(v)?p=v:xde(v)?p=v.src:yde(v)&&(p=v.toDataURL()),typeof Image>"u"){var x="Image width/height must been given explictly in svg-ssr renderer.";wc(d,x),wc(h,x)}else if(d==null||h==null){var g=function(k,O){if(k){var I=k.elm,j=d||O.width,B=h||O.height;k.tag==="pattern"&&(c?(B=1,j/=a.width):u&&(j=1,B/=a.height)),k.attrs.width=j,k.attrs.height=B,I&&(I.setAttribute("width",j),I.setAttribute("height",B))}},_=t9(p,null,r,function(k){l||g(C,k),g(f,k)});_&&_.width&&_.height&&(d=d||_.width,h=h||_.height)}f=bl("image","img",{href:p,width:d,height:h}),s.width=d,s.height=h}else i.svgElement&&(f=Cr(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(f){var w,A;l?w=A=1:c?(A=1,w=s.width/a.width):u?(w=1,A=s.height/a.height):s.patternUnits="userSpaceOnUse",w!=null&&!isNaN(w)&&(s.width=w),A!=null&&!isNaN(A)&&(s.height=A);var M=Fce(i);M&&(s.patternTransform=M);var C=bl("pattern","",s,[f]),N=lV(C),L=n.patternCache,D=L[N];D||(D=n.zrId+"-p"+n.patternIdx++,L[N]=D,s.id=D,C=n.defs[D]=bl("pattern",D,s,[f])),e[t]=Fk(D)}}function f6e(r,e,t){var n=t.clipPathCache,i=t.defs,a=n[r.id];if(!a){a=t.zrId+"-c"+t.clipPathIdx++;var s={id:a};n[r.id]=a,i[a]=bl("clipPath",a,s,[bde(r,t)])}e["clip-path"]=Fk(a)}function KK(r){return document.createTextNode(r)}function l2(r,e,t){r.insertBefore(e,t)}function $K(r,e){r.removeChild(e)}function JK(r,e){r.appendChild(e)}function Sde(r){return r.parentNode}function Tde(r){return r.nextSibling}function PP(r,e){r.textContent=e}var QK=58,h6e=120,d6e=bl("","");function bz(r){return r===void 0}function Y0(r){return r!==void 0}function p6e(r,e,t){for(var n={},i=e;i<=t;++i){var a=r[i].key;a!==void 0&&(n[a]=i)}return n}function nA(r,e){var t=r.key===e.key,n=r.tag===e.tag;return n&&t}function F3(r){var e,t=r.children,n=r.tag;if(Y0(n)){var i=r.elm=vde(n);if(hV(d6e,r),Ut(t))for(e=0;e<t.length;++e){var a=t[e];a!=null&&JK(i,F3(a))}else Y0(r.text)&&!kr(r.text)&&JK(i,KK(r.text))}else r.elm=KK(r.text);return r.elm}function Ade(r,e,t,n,i){for(;n<=i;++n){var a=t[n];a!=null&&l2(r,F3(a),e)}}function kL(r,e,t,n){for(;t<=n;++t){var i=e[t];if(i!=null)if(Y0(i.tag)){var a=Sde(i.elm);$K(a,i.elm)}else $K(r,i.elm)}}function hV(r,e){var t,n=e.elm,i=r&&r.attrs||{},a=e.attrs||{};if(i!==a){for(t in a){var s=a[t],o=i[t];o!==s&&(s===!0?n.setAttribute(t,""):s===!1?n.removeAttribute(t):t==="style"?n.style.cssText=s:t.charCodeAt(0)!==h6e?n.setAttribute(t,s):t==="xmlns:xlink"||t==="xmlns"?n.setAttributeNS(qIe,t,s):t.charCodeAt(3)===QK?n.setAttributeNS(XIe,t,s):t.charCodeAt(5)===QK?n.setAttributeNS(pde,t,s):n.setAttribute(t,s))}for(t in i)t in a||n.removeAttribute(t)}}function v6e(r,e,t){for(var n=0,i=0,a=e.length-1,s=e[0],o=e[a],l=t.length-1,c=t[0],u=t[l],f,d,h,p;n<=a&&i<=l;)s==null?s=e[++n]:o==null?o=e[--a]:c==null?c=t[++i]:u==null?u=t[--l]:nA(s,c)?(fw(s,c),s=e[++n],c=t[++i]):nA(o,u)?(fw(o,u),o=e[--a],u=t[--l]):nA(s,u)?(fw(s,u),l2(r,s.elm,Tde(o.elm)),s=e[++n],u=t[--l]):nA(o,c)?(fw(o,c),l2(r,o.elm,s.elm),o=e[--a],c=t[++i]):(bz(f)&&(f=p6e(e,n,a)),d=f[c.key],bz(d)?l2(r,F3(c),s.elm):(h=e[d],h.tag!==c.tag?l2(r,F3(c),s.elm):(fw(h,c),e[d]=void 0,l2(r,h.elm,s.elm))),c=t[++i]);(n<=a||i<=l)&&(n>a?(p=t[l+1]==null?null:t[l+1].elm,Ade(r,p,t,i,l)):kL(r,e,n,a))}function fw(r,e){var t=e.elm=r.elm,n=r.children,i=e.children;r!==e&&(hV(r,e),bz(e.text)?Y0(n)&&Y0(i)?n!==i&&v6e(t,n,i):Y0(i)?(Y0(r.text)&&PP(t,""),Ade(t,null,i,0,i.length-1)):Y0(n)?kL(t,n,0,n.length-1):Y0(r.text)&&PP(t,""):r.text!==e.text&&(Y0(n)&&kL(t,n,0,n.length-1),PP(t,e.text)))}function m6e(r,e){if(nA(r,e))fw(r,e);else{var t=r.elm,n=Sde(t);F3(e),n!==null&&(l2(n,e.elm,Tde(t)),kL(n,[r],0,0))}return e}var g6e=0,x6e=(function(){function r(e,t,n){if(this.type="svg",this.refreshHover=e$(),this.configLayer=e$(),this.storage=t,this._opts=n=It({},n),this.root=e,this._id="zr"+g6e++,this._oldVNode=VK(n.width,n.height),e&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=vde("svg");hV(null,this._oldVNode),i.appendChild(a),e.appendChild(i)}this.resize(n.width,n.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",m6e(this._oldVNode,e),this._oldVNode=e}},r.prototype.renderOneToVNode=function(e){return ZK(e,yz(this._id))},r.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=yz(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis,a.ssr=this._opts.ssr;var s=[],o=this._bgVNode=y6e(n,i,this._backgroundColor,a);o&&s.push(o);var l=e.compress?null:this._mainVNode=bl("g","main",{},[]);this._paintList(t,a,l?l.children:s),l&&s.push(l);var c=Gt(Wn(a.defs),function(d){return a.defs[d]});if(c.length&&s.push(bl("defs","defs",{},c)),e.animation){var u=$Ie(a.cssNodes,a.cssAnims,{newline:!0});if(u){var f=bl("style","stl",{},[],u);s.push(f)}}return VK(n,i,s,e.useViewBox)},r.prototype.renderToString=function(e){return e=e||{},lV(this.renderToVNode({animation:wr(e.cssAnimation,!0),emphasis:wr(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:wr(e.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(e,t,n){for(var i=e.length,a=[],s=0,o,l,c=0,u=0;u<i;u++){var f=e[u];if(!f.invisible){var d=f.__clipPaths,h=d&&d.length||0,p=l&&l.length||0,v=void 0;for(v=Math.max(h-1,p-1);v>=0&&!(d&&l&&d[v]===l[v]);v--);for(var x=p-1;x>v;x--)s--,o=a[s-1];for(var g=v+1;g<h;g++){var _={};f6e(d[g],_,t);var w=bl("g","clip-g-"+c++,_,[]);(o?o.children:n).push(w),a[s++]=w,o=w}l=d;var A=ZK(f,t);A&&(o?o.children:n).push(A)}}},r.prototype.resize=function(e,t){var n=this._opts,i=this.root,a=this._viewport;if(e!=null&&(n.width=e),t!=null&&(n.height=t),i&&a&&(a.style.display="none",e=_w(i,0,n),t=_w(i,1,n),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var s=a.style;s.width=e+"px",s.height=t+"px"}if(YU(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(e){var t=this.renderToString(),n="data:image/svg+xml;";return e?(t=WMe(t),t&&n+"base64,"+t):n+"charset=UTF-8,"+encodeURIComponent(t)},r})();function e$(r){return function(){}}function y6e(r,e,t,n){var i;if(t&&t!=="none")if(i=bl("rect","bg",{width:r,height:e,x:"0",y:"0"}),Oce(t))_de({fill:t},i.attrs,"fill",n);else if(YU(t))wde({style:{fill:t},dirty:Ws,getBoundingRect:function(){return{width:r,height:e}}},i.attrs,"fill",n);else{var a=w3(t),s=a.color,o=a.opacity;i.attrs.fill=s,o<1&&(i.attrs["fill-opacity"]=o)}return i}function b6e(r){r.registerPainter("svg",x6e)}function t$(r,e,t){var n=Yf.createCanvas(),i=e.getWidth(),a=e.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",n.setAttribute("data-zr-dom-id",r)),n.width=i*t,n.height=a*t,n}var FP=(function(r){$a(e,r);function e(t,n,i){var a=r.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||iL,typeof t=="string"?s=t$(t,n,i):kr(t)&&(s=t,t=s.id),a.id=t,a.dom=s;var o=s.style;return o&&(UU(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=n,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=t$("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,c=new Br(0,0,0,0);function u(_){if(!(!_.isFinite()||_.isZero()))if(s.length===0){var w=new Br(0,0,0,0);w.copy(_),s.push(w)}else{for(var A=!1,M=1/0,C=0,N=0;N<s.length;++N){var L=s[N];if(L.intersect(_)){var D=new Br(0,0,0,0);D.copy(L),D.union(_),s[N]=D,A=!0;break}else if(l){c.copy(_),c.union(L);var k=_.width*_.height,O=L.width*L.height,I=c.width*c.height,j=I-k-O;j<M&&(M=j,C=N)}}if(l&&(s[C].union(_),A=!0),!A){var w=new Br(0,0,0,0);w.copy(_),s.push(w)}l||(l=s.length>=o)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=t[f];if(d){var h=d.shouldBePainted(i,a,!0,!0),p=d.__isRendered&&(d.__dirty&Ah||!h)?d.getPrevPaintRect():null;p&&u(p);var v=h&&(d.__dirty&Ah||!d.__isRendered)?d.getPaintRect():null;v&&u(v)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=n[f],h=d&&d.shouldBePainted(i,a,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var p=d.getPrevPaintRect();p&&u(p)}}var x;do{x=!1;for(var f=0;f<s.length;){if(s[f].isZero()){s.splice(f,1);continue}for(var g=f+1;g<s.length;)s[f].intersect(s[g])?(x=!0,s[f].union(s[g]),s.splice(g,1)):g++;f++}}while(x);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,n){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=t+"px",s.height=n+"px"),a.width=t*i,a.height=n*i,o&&(o.width=t*i,o.height=n*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,n,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;n=n||this.clearColor;var c=this.motionBlur&&!t,u=this.lastFrameAlpha,f=this.dpr,d=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/f,l/f));var h=this.domBack;function p(v,x,g,_){if(s.clearRect(v,x,g,_),n&&n!=="transparent"){var w=void 0;if(OE(n)){var A=n.global||n.__width===g&&n.__height===_;w=A&&n.__canvasGradient||rz(s,n,{x:0,y:0,width:g,height:_}),n.__canvasGradient=w,n.__width=g,n.__height=_}else fce(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,w=nz(s,n,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));s.save(),s.fillStyle=w||n,s.fillRect(v,x,g,_),s.restore()}c&&(s.save(),s.globalAlpha=u,s.drawImage(h,v,x,g,_),s.restore())}!i||c?p(0,0,o,l):i.length&&he(i,function(v){p(v.x*f,v.y*f,v.width*f,v.height*f)})},e})(Vd),r$=1e5,D1=314159,lN=.01,_6e=.001;function w6e(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function S6e(r,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+r+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var T6e=(function(){function r(e,t,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=It({},n||{}),this.dpr=n.devicePixelRatio||iL,this._singleCanvas=a,this.root=e;var s=e.style;s&&(UU(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var u=e,f=u.width,d=u.height;n.width!=null&&(f=n.width),n.height!=null&&(d=n.height),this.dpr=n.devicePixelRatio||1,u.width=f*this.dpr,u.height=d*this.dpr,this._width=f,this._height=d;var h=new FP(u,this,this.dpr);h.__builtin__=!0,h.initContext(),l[D1]=h,h.zlevel=D1,o.push(D1),this._domRoot=e}else{this._width=_w(e,0,n),this._height=_w(e,1,n);var c=this._domRoot=S6e(this._width,this._height);e.appendChild(c)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<t;s++){var o=e[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(r$)),a||(a=n.ctx,a.save()),_2(a,o,i,s===t-1))}a&&a.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(r$)},r.prototype.paintOne=function(e,t){H9(e,t)},r.prototype._paintList=function(e,t,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,n),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;JD(function(){l._paintList(e,t,n,i)})}}},r.prototype._compositeManually=function(){var e=this.getLayer(D1).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},r.prototype._doPaintList=function(e,t,n){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||n)&&a.push(c)}for(var u=!0,f=!1,d=function(v){var x=a[v],g=x.ctx,_=s&&x.createRepaintRects(e,t,h._width,h._height),w=n?x.__startIndex:x.__drawIndex,A=!n&&x.incremental&&Date.now,M=A&&Date.now(),C=x.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(x.__startIndex===x.__endIndex)x.clear(!1,C,_);else if(w===x.__startIndex){var N=e[w];(!N.incremental||!N.notClear||n)&&x.clear(!1,C,_)}w===-1&&(console.error("For some unknown reason. drawIndex is -1"),w=x.__startIndex);var L,D=function(j){var B={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(L=w;L<x.__endIndex;L++){var K=e[L];if(K.__inHover&&(f=!0),i._doPaintEl(K,x,s,j,B,L===x.__endIndex-1),A){var H=Date.now()-M;if(H>15)break}}B.prevElClipPaths&&g.restore()};if(_)if(_.length===0)L=x.__endIndex;else for(var k=h.dpr,O=0;O<_.length;++O){var I=_[O];g.save(),g.beginPath(),g.rect(I.x*k,I.y*k,I.width*k,I.height*k),g.clip(),D(I),g.restore()}else g.save(),D(),g.restore();x.__drawIndex=L,x.__drawIndex<x.__endIndex&&(u=!1)},h=this,p=0;p<a.length;p++)d(p);return Un.wxa&&he(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:u,needsRefreshHover:f}},r.prototype._doPaintEl=function(e,t,n,i,a,s){var o=t.ctx;if(n){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(_2(o,e,a,s),e.setPrevPaintRect(l))}else _2(o,e,a,s)},r.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=D1);var n=this._layers[e];return n||(n=new FP("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?pn(n,this._layerConfig[e],!0):this._layerConfig[e-lN]&&pn(n,this._layerConfig[e-lN],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},r.prototype.insertLayer=function(e,t){var n=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!n[e]&&w6e(t)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);o=n[i[l]]}if(i.splice(l+1,0,e),n[e]=t,!t.virtual)if(o){var c=o.dom;c.nextSibling?s.insertBefore(t.dom,c.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.painter||(t.painter=this)}},r.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];e.call(t,this._layers[a],a)}},r.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__&&e.call(t,s,a)}},r.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__||e.call(t,s,a)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function t(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var i=e[n];if(i.zlevel!==e[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<e.length;l++){var i=e[l],c=i.zlevel,u=void 0;o!==c&&(o=c,s=0),i.incremental?(u=this.getLayer(c+_6e,this._needsManuallyCompositing),u.incremental=!0,s=1):u=this.getLayer(c+(s>0?lN:0),this._needsManuallyCompositing),u.__builtin__||Rk("ZLevel "+c+" has been used by unkown layer "+u.id),u!==a&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,t(l),a=u),i.__dirty&Ah&&!i.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(e){e.clear()},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e,he(this._layers,function(t){t.setUnpainted()})},r.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?pn(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+lN){var s=this._layers[a];pn(s,n[e],!0)}}}},r.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(hn(n,e),1))},r.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=_w(a,0,i),t=_w(a,1,i),n.style.display="",this._width!==e||t!==this._height){n.style.width=e+"px",n.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(D1).resize(e,t)}return this},r.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[D1].dom;var t=new FP("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,c=o.length;l<c;l++){var u=o[l];_2(n,u,s,l===c-1)}return t.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r})();function A6e(r){r.registerPainter("canvas",T6e)}var E6e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Mv(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var n=new Nr,i=xo("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(i),i.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,l=t.itemHeight*.8,c=xo(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);n.add(c),c.setStyle(t.itemStyle);var u=t.iconRotate==="inherit"?s:t.iconRotate||0;return c.rotation=u*Math.PI/180,c.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill=ut.color.neutral00,c.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(la);function lS(r,e){var t=r.mapDimensionsAll("defaultedLabel"),n=t.length;if(n===1){var i=iS(r,e,t[0]);return i!=null?i+"":null}else if(n){for(var a=[],s=0;s<t.length;s++)a.push(iS(r,e,t[s]));return a.join(" ")}}function Ede(r,e){var t=r.mapDimensionsAll("defaultedLabel");if(!Ut(e))return e+"";for(var n=[],i=0;i<t.length;i++){var a=r.getDimensionIndex(t[i]);a>=0&&n.push(e[a])}return n.join(" ")}var KE=(function(r){dt(e,r);function e(t,n,i,a){var s=r.call(this)||this;return s.updateData(t,n,i,a),s}return e.prototype._createSymbol=function(t,n,i,a,s,o){this.removeAll();var l=xo(t,-1,-1,2,2,null,o);l.attr({z2:wr(s,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=M6e,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){ng(this.childAt(0))},e.prototype.downplay=function(){ig(this.childAt(0))},e.prototype.setZ=function(t,n){var i=this.childAt(0);i.zlevel=t,i.z=n},e.prototype.setDraggable=function(t,n){var i=this.childAt(0);i.draggable=t,i.cursor=!n&&t?"move":i.cursor},e.prototype.updateData=function(t,n,i,a){this.silent=!1;var s=t.getItemVisual(n,"symbol")||"circle",o=t.hostModel,l=e.getSymbolSize(t,n),c=e.getSymbolZ2(t,n),u=s!==this._symbolType,f=a&&a.disableAnimation;if(u){var d=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,t,n,l,c,d)}else{var h=this.childAt(0);h.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};f?h.attr(p):si(h,p,o,n),zd(h)}if(this._updateCommon(t,n,l,i,a),u){var h=this.childAt(0);if(!f){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,Ua(h,p,o,n)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,n,i,a,s){var o=this.childAt(0),l=t.hostModel,c,u,f,d,h,p,v,x,g;if(a&&(c=a.emphasisItemStyle,u=a.blurItemStyle,f=a.selectItemStyle,d=a.focus,h=a.blurScope,v=a.labelStatesModels,x=a.hoverScale,g=a.cursorStyle,p=a.emphasisDisabled),!a||t.hasItemOption){var _=a&&a.itemModel?a.itemModel:t.getItemModel(n),w=_.getModel("emphasis");c=w.getModel("itemStyle").getItemStyle(),f=_.getModel(["select","itemStyle"]).getItemStyle(),u=_.getModel(["blur","itemStyle"]).getItemStyle(),d=w.get("focus"),h=w.get("blurScope"),p=w.get("disabled"),v=il(_),x=w.getShallow("scale"),g=_.getShallow("cursor")}var A=t.getItemVisual(n,"symbolRotate");o.attr("rotation",(A||0)*Math.PI/180||0);var M=gb(t.getItemVisual(n,"symbolOffset"),i);M&&(o.x=M[0],o.y=M[1]),g&&o.attr("cursor",g);var C=t.getItemVisual(n,"style"),N=C.fill;if(o instanceof Nl){var L=o.style;o.useStyle(It({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},C))}else o.__isEmptyBrush?o.useStyle(It({},C)):o.useStyle(C),o.style.decal=null,o.setColor(N,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var D=t.getItemVisual(n,"liftZ"),k=this._z2;D!=null?k==null&&(this._z2=o.z2,o.z2+=D):k!=null&&(o.z2=k,this._z2=null);var O=s&&s.useNameLabel;Al(o,v,{labelFetcher:l,labelDataIndex:n,defaultText:I,inheritColor:N,defaultOpacity:C.opacity});function I(K){return O?t.getName(K):lS(t,K)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var j=o.ensureState("emphasis");j.style=c,o.ensureState("select").style=f,o.ensureState("blur").style=u;var B=x==null||x===!0?Math.max(1.1,3/this._sizeY):isFinite(x)&&x>0?+x:1;j.scaleX=this._sizeX*B,j.scaleY=this._sizeY*B,this.setSymbolScale(1),ss(this,d,h,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,n,i){var a=this.childAt(0),s=Vr(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&ay(l,{style:{opacity:0}},n,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();ay(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:t,removeOpt:o})},e.getSymbolSize=function(t,n){return ZS(t.getItemVisual(n,"symbolSize"))},e.getSymbolZ2=function(t,n){return t.getItemVisual(n,"z2")},e})(Nr);function M6e(r,e){this.parent.drift(r,e)}function BP(r,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&r.getItemVisual(t,"symbol")!=="none"}function n$(r){return r!=null&&!kr(r)&&(r={isIgnore:r}),r||{}}function i$(r){var e=r.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:il(e),cursorStyle:e.get("cursor")}}var $E=(function(){function r(e){this.group=new Nr,this._SymbolCtor=e||KE}return r.prototype.updateData=function(e,t){this._progressiveEls=null,t=n$(t);var n=this.group,i=e.hostModel,a=this._data,s=this._SymbolCtor,o=t.disableAnimation,l=i$(e),c={disableAnimation:o},u=t.getSymbolPoint||function(f){return e.getItemLayout(f)};a||n.removeAll(),e.diff(a).add(function(f){var d=u(f);if(BP(e,d,f,t)){var h=new s(e,f,l,c);h.setPosition(d),e.setItemGraphicEl(f,h),n.add(h)}}).update(function(f,d){var h=a.getItemGraphicEl(d),p=u(f);if(!BP(e,p,f,t)){n.remove(h);return}var v=e.getItemVisual(f,"symbol")||"circle",x=h&&h.getSymbolType&&h.getSymbolType();if(!h||x&&x!==v)n.remove(h),h=new s(e,f,l,c),h.setPosition(p);else{h.updateData(e,f,l,c);var g={x:p[0],y:p[1]};o?h.attr(g):si(h,g,i)}n.add(h),e.setItemGraphicEl(f,h)}).remove(function(f){var d=a.getItemGraphicEl(f);d&&d.fadeOut(function(){n.remove(d)},i)}).execute(),this._getSymbolPoint=u,this._data=e},r.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(n,i){var a=e._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=i$(e),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t,n){this._progressiveEls=[],n=n$(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var s=t.getItemLayout(a);if(BP(t,s,a,n)){var o=new this._SymbolCtor(t,a,this._seriesScope);o.traverse(i),o.setPosition(s),this.group.add(o),t.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},r.prototype.eachRendered=function(e){Ty(this._progressiveEls||this.group,e)},r.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},n.hostModel)}):t.removeAll()},r})();function Mde(r,e,t){var n=r.getBaseAxis(),i=r.getOtherAxis(n),a=C6e(i,t),s=n.dim,o=i.dim,l=e.mapDimension(o),c=e.mapDimension(s),u=o==="x"||o==="radius"?1:0,f=Gt(r.dimensions,function(p){return e.mapDimension(p)}),d=!1,h=e.getCalculationInfo("stackResultDimension");return sg(e,f[0])&&(d=!0,f[0]=h),sg(e,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!d,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function C6e(r,e){var t=0,n=r.scale.getExtent();return e==="start"?t=n[0]:e==="end"?t=n[1]:Jn(e)&&!isNaN(e)?t=e:n[0]>0?t=n[0]:n[1]<0&&(t=n[1]),t}function Cde(r,e,t,n){var i=NaN;r.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=r.valueStart);var a=r.baseDataOffset,s=[];return s[a]=t.get(r.baseDim,n),s[1-a]=i,e.dataToPoint(s)}function N6e(r,e){var t=[];return e.diff(r).add(function(n){t.push({cmd:"+",idx:n})}).update(function(n,i){t.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){t.push({cmd:"-",idx:n})}).execute(),t}function D6e(r,e,t,n,i,a,s,o){for(var l=N6e(r,e),c=[],u=[],f=[],d=[],h=[],p=[],v=[],x=Mde(i,e,s),g=r.getLayout("points")||[],_=e.getLayout("points")||[],w=0;w<l.length;w++){var A=l[w],M=!0,C=void 0,N=void 0;switch(A.cmd){case"=":C=A.idx*2,N=A.idx1*2;var L=g[C],D=g[C+1],k=_[N],O=_[N+1];(isNaN(L)||isNaN(D))&&(L=k,D=O),c.push(L,D),u.push(k,O),f.push(t[C],t[C+1]),d.push(n[N],n[N+1]),v.push(e.getRawIndex(A.idx1));break;case"+":var I=A.idx,j=x.dataDimsForPoint,B=i.dataToPoint([e.get(j[0],I),e.get(j[1],I)]);N=I*2,c.push(B[0],B[1]),u.push(_[N],_[N+1]);var K=Cde(x,i,e,I);f.push(K[0],K[1]),d.push(n[N],n[N+1]),v.push(e.getRawIndex(I));break;case"-":M=!1}M&&(h.push(A),p.push(p.length))}p.sort(function(re,ae){return v[re]-v[ae]});for(var H=c.length,Z=tv(H),Y=tv(H),J=tv(H),oe=tv(H),X=[],w=0;w<p.length;w++){var F=p[w],W=w*2,Q=F*2;Z[W]=c[Q],Z[W+1]=c[Q+1],Y[W]=u[Q],Y[W+1]=u[Q+1],J[W]=f[Q],J[W+1]=f[Q+1],oe[W]=d[Q],oe[W+1]=d[Q+1],X[w]=h[F]}return{current:Z,next:Y,stackedOnCurrent:J,stackedOnNext:oe,status:X}}var lx=Math.min,cx=Math.max;function O2(r,e){return isNaN(r)||isNaN(e)}function _z(r,e,t,n,i,a,s,o,l){for(var c,u,f,d,h,p,v=t,x=0;x<n;x++){var g=e[v*2],_=e[v*2+1];if(v>=i||v<0)break;if(O2(g,_)){if(l){v+=a;continue}break}if(v===t)r[a>0?"moveTo":"lineTo"](g,_),f=g,d=_;else{var w=g-c,A=_-u;if(w*w+A*A<.5){v+=a;continue}if(s>0){for(var M=v+a,C=e[M*2],N=e[M*2+1];C===g&&N===_&&x<n;)x++,M+=a,v+=a,C=e[M*2],N=e[M*2+1],g=e[v*2],_=e[v*2+1],w=g-c,A=_-u;var L=x+1;if(l)for(;O2(C,N)&&L<n;)L++,M+=a,C=e[M*2],N=e[M*2+1];var D=.5,k=0,O=0,I=void 0,j=void 0;if(L>=n||O2(C,N))h=g,p=_;else{k=C-c,O=N-u;var B=g-c,K=C-g,H=_-u,Z=N-_,Y=void 0,J=void 0;if(o==="x"){Y=Math.abs(B),J=Math.abs(K);var oe=k>0?1:-1;h=g-oe*Y*s,p=_,I=g+oe*J*s,j=_}else if(o==="y"){Y=Math.abs(H),J=Math.abs(Z);var X=O>0?1:-1;h=g,p=_-X*Y*s,I=g,j=_+X*J*s}else Y=Math.sqrt(B*B+H*H),J=Math.sqrt(K*K+Z*Z),D=J/(J+Y),h=g-k*s*(1-D),p=_-O*s*(1-D),I=g+k*s*D,j=_+O*s*D,I=lx(I,cx(C,g)),j=lx(j,cx(N,_)),I=cx(I,lx(C,g)),j=cx(j,lx(N,_)),k=I-g,O=j-_,h=g-k*Y/J,p=_-O*Y/J,h=lx(h,cx(c,g)),p=lx(p,cx(u,_)),h=cx(h,lx(c,g)),p=cx(p,lx(u,_)),k=g-h,O=_-p,I=g+k*J/Y,j=_+O*J/Y}r.bezierCurveTo(f,d,h,p,g,_),f=I,d=j}else r.lineTo(g,_)}c=g,u=_,v+=a}return x}var Nde=(function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r})(),L6e=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:ut.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new Nde},e.prototype.buildPath=function(t,n){var i=n.points,a=0,s=i.length/2;if(n.connectNulls){for(;s>0&&O2(i[s*2-2],i[s*2-1]);s--);for(;a<s&&O2(i[a*2],i[a*2+1]);a++);}for(;a<s;)a+=_z(t,i,a,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,s=xv.CMD,o,l,c=n==="x",u=[],f=0;f<a.length;){var d=a[f++],h=void 0,p=void 0,v=void 0,x=void 0,g=void 0,_=void 0,w=void 0;switch(d){case s.M:o=a[f++],l=a[f++];break;case s.L:if(h=a[f++],p=a[f++],w=c?(t-o)/(h-o):(t-l)/(p-l),w<=1&&w>=0){var A=c?(p-l)*w+l:(h-o)*w+o;return c?[t,A]:[A,t]}o=h,l=p;break;case s.C:h=a[f++],p=a[f++],v=a[f++],x=a[f++],g=a[f++],_=a[f++];var M=c?eL(o,h,v,g,t,u):eL(l,p,x,_,t,u);if(M>0)for(var C=0;C<M;C++){var N=u[C];if(N<=1&&N>=0){var A=c?xl(l,p,x,_,N):xl(o,h,v,g,N);return c?[t,A]:[A,t]}}o=g,l=_;break}}},e})(Rn),R6e=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(Nde),Dde=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new R6e},e.prototype.buildPath=function(t,n){var i=n.points,a=n.stackedOnPoints,s=0,o=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&O2(i[o*2-2],i[o*2-1]);o--);for(;s<o&&O2(i[s*2],i[s*2+1]);s++);}for(;s<o;){var c=_z(t,i,s,o,o,1,n.smooth,l,n.connectNulls);_z(t,a,s+c-1,c,o,-1,n.stackedOnSmooth,l,n.connectNulls),s+=c+1,t.closePath()}},e})(Rn);function Lde(r,e,t,n,i){var a=r.getArea(),s=a.x,o=a.y,l=a.width,c=a.height,u=t.get(["lineStyle","width"])||0;s-=u/2,o-=u/2,l+=u,c+=u,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var f=new _n({shape:{x:s,y:o,width:l,height:c}});if(e){var d=r.getBaseAxis(),h=d.isHorizontal(),p=d.inverse;h?(p&&(f.shape.x+=l),f.shape.width=0):(p||(f.shape.y+=c),f.shape.height=0);var v=Tr(i)?function(x){i(x,f)}:null;Ua(f,{shape:{width:l,height:c,x:s,y:o}},t,null,n,v)}return f}function Rde(r,e,t){var n=r.getArea(),i=vo(n.r0,1),a=vo(n.r,1),s=new Sc({shape:{cx:vo(r.cx,1),cy:vo(r.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var o=r.getBaseAxis().dim==="angle";o?s.shape.endAngle=n.startAngle:s.shape.r=i,Ua(s,{shape:{endAngle:n.endAngle,r:a}},t)}return s}function JE(r,e,t,n,i){if(r){if(r.type==="polar")return Rde(r,e,t);if(r.type==="cartesian2d")return Lde(r,e,t,n,i)}else return null;return null}function sy(r,e){return r.type===e}function a$(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return;return!0}}function s$(r){for(var e=1/0,t=1/0,n=-1/0,i=-1/0,a=0;a<r.length;){var s=r[a++],o=r[a++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(o)||(t=Math.min(o,t),i=Math.max(o,i))}return[[e,t],[n,i]]}function o$(r,e){var t=s$(r),n=t[0],i=t[1],a=s$(e),s=a[0],o=a[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function l$(r){return Jn(r)?r:r?.5:0}function k6e(r,e,t){if(!t.valueDim)return[];for(var n=e.count(),i=tv(n*2),a=0;a<n;a++){var s=Cde(t,r,e,a);i[a*2]=s[0],i[a*2+1]=s[1]}return i}function ux(r,e,t,n,i){var a=t.getBaseAxis(),s=a.dim==="x"||a.dim==="radius"?0:1,o=[],l=0,c=[],u=[],f=[],d=[];if(i){for(l=0;l<r.length;l+=2){var h=e||r;!isNaN(h[l])&&!isNaN(h[l+1])&&d.push(r[l],r[l+1])}r=d}for(l=0;l<r.length-2;l+=2)switch(f[0]=r[l+2],f[1]=r[l+3],u[0]=r[l],u[1]=r[l+1],o.push(u[0],u[1]),n){case"end":c[s]=f[s],c[1-s]=u[1-s],o.push(c[0],c[1]);break;case"middle":var p=(u[s]+f[s])/2,v=[];c[s]=v[s]=p,c[1-s]=u[1-s],v[1-s]=f[1-s],o.push(c[0],c[1]),o.push(v[0],v[1]);break;default:c[s]=u[s],c[1-s]=f[1-s],o.push(c[0],c[1])}return o.push(r[l++],r[l++]),o}function I6e(r,e){var t=[],n=r.length,i,a;function s(u,f,d){var h=u.coord,p=(d-h)/(f.coord-h),v=WU(p,[u.color,f.color]);return{coord:d,color:v}}for(var o=0;o<n;o++){var l=r[o],c=l.coord;if(c<0)i=l;else if(c>e){a?t.push(s(a,l,e)):i&&t.push(s(i,l,0),s(i,l,e));break}else i&&(t.push(s(i,l,0)),i=null),t.push(l),a=l}return t}function O6e(r,e,t){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&e.type==="cartesian2d"){for(var i,a,s=n.length-1;s>=0;s--){var o=r.getDimensionInfo(n[s].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){a=n[s];break}}if(a){var l=e.getAxis(i),c=Gt(a.stops,function(w){return{coord:l.toGlobalCoord(l.dataToCoord(w.value)),color:w.color}}),u=c.length,f=a.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),f.reverse());var d=I6e(c,i==="x"?t.getWidth():t.getHeight()),h=d.length;if(!h&&u)return c[0].coord<0?f[1]?f[1]:c[u-1].color:f[0]?f[0]:c[0].color;var p=10,v=d[0].coord-p,x=d[h-1].coord+p,g=x-v;if(g<.001)return"transparent";he(d,function(w){w.offset=(w.coord-v)/g}),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var _=new db(0,0,0,0,d,!0);return _[i]=v,_[i+"2"]=x,_}}}function P6e(r,e,t){var n=r.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=t.getAxesByScale("ordinal")[0];if(a&&!(i&&F6e(a,e))){var s=e.mapDimension(a.dim),o={};return he(a.getViewLabels(),function(l){var c=a.scale.getRawOrdinalNumber(l.tickValue);o[c]=1}),function(l){return!o.hasOwnProperty(e.get(s,l))}}}}function F6e(r,e){var t=r.getExtent(),n=Math.abs(t[1]-t[0])/r.scale.count();isNaN(n)&&(n=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),s=0;s<i;s+=a)if(KE.getSymbolSize(e,s)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function B6e(r,e){return isNaN(r)||isNaN(e)}function z6e(r){for(var e=r.length/2;e>0&&B6e(r[e*2-2],r[e*2-1]);e--);return e-1}function c$(r,e){return[r[e*2],r[e*2+1]]}function j6e(r,e,t){for(var n=r.length/2,i=t==="x"?0:1,a,s,o=0,l=-1,c=0;c<n;c++)if(s=r[c*2+i],!(isNaN(s)||isNaN(r[c*2+1-i]))){if(c===0){a=s;continue}if(a<=e&&s>=e||a>=e&&s<=e){l=c;break}o=c,a=s}return{range:[o,l],t:(e-a)/(s-a)}}function kde(r){if(r.get(["endLabel","show"]))return!0;for(var e=0;e<Qu.length;e++)if(r.get([Qu[e],"endLabel","show"]))return!0;return!1}function zP(r,e,t,n){if(sy(e,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),s=n.getData(),o={lastFrameIndex:0},l=kde(n)?function(h,p){r._endLabelOnDuring(h,p,s,o,a,i,e)}:null,c=e.getBaseAxis().isHorizontal(),u=Lde(e,t,n,function(){var h=r._endLabel;h&&t&&o.originalX!=null&&h.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var f=u.shape,d=Math.max(f.width,f.height);c?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,u),u}else return Rde(e,t,n)}function U6e(r,e){var t=e.getBaseAxis(),n=t.isHorizontal(),i=t.inverse,a=n?i?"right":"left":"center",s=n?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||a,verticalAlign:r.get("verticalAlign")||s}}}var V6e=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=new Nr,n=new $E;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t,this._changePolyState=hr(this._changePolyState,this)},e.prototype.render=function(t,n,i){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=t.getModel("lineStyle"),c=t.getModel("areaStyle"),u=o.getLayout("points")||[],f=a.type==="polar",d=this._coordSys,h=this._symbolDraw,p=this._polyline,v=this._polygon,x=this._lineGroup,g=!n.ssr&&t.get("animation"),_=!c.isEmpty(),w=c.get("origin"),A=Mde(a,o,w),M=_&&k6e(a,o,A),C=t.get("showSymbol"),N=t.get("connectNulls"),L=C&&!f&&P6e(t,o,a),D=this._data;D&&D.eachItemGraphicEl(function(re,ae){re.__temp&&(s.remove(re),D.setItemGraphicEl(ae,null))}),C||h.remove(),s.add(x);var k=f?!1:t.get("step"),O;a&&a.getArea&&t.get("clip",!0)&&(O=a.getArea(),O.width!=null?(O.x-=.1,O.y-=.1,O.width+=.2,O.height+=.2):O.r0&&(O.r0-=.5,O.r+=.5)),this._clipShapeForSymbol=O;var I=O6e(o,a,i)||o.getVisual("style")[o.getVisual("drawType")];if(!(p&&d.type===a.type&&k===this._step))C&&h.updateData(o,{isIgnore:L,clipShape:O,disableAnimation:!0,getSymbolPoint:function(re){return[u[re*2],u[re*2+1]]}}),g&&this._initSymbolLabelAnimation(o,a,O),k&&(M&&(M=ux(M,u,a,k,N)),u=ux(u,null,a,k,N)),p=this._newPolyline(u),_?v=this._newPolygon(u,M):v&&(x.remove(v),v=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,Q2(I)),x.setClipPath(zP(this,a,!0,t));else{_&&!v?v=this._newPolygon(u,M):v&&!_&&(x.remove(v),v=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,Q2(I));var j=x.getClipPath();if(j){var B=zP(this,a,!1,t);Ua(j,{shape:B.shape},t)}else x.setClipPath(zP(this,a,!0,t));C&&h.updateData(o,{isIgnore:L,clipShape:O,disableAnimation:!0,getSymbolPoint:function(re){return[u[re*2],u[re*2+1]]}}),(!a$(this._stackedOnPoints,M)||!a$(this._points,u))&&(g?this._doUpdateAnimation(o,M,a,i,k,w,N):(k&&(M&&(M=ux(M,u,a,k,N)),u=ux(u,null,a,k,N)),p.setShape({points:u}),v&&v.setShape({points:u,stackedOnPoints:M})))}var K=t.getModel("emphasis"),H=K.get("focus"),Z=K.get("blurScope"),Y=K.get("disabled");if(p.useStyle(Rr(l.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),nl(p,t,"lineStyle"),p.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var J=p.getState("emphasis").style;J.lineWidth=+p.style.lineWidth+1}Vr(p).seriesIndex=t.seriesIndex,ss(p,H,Z,Y);var oe=l$(t.get("smooth")),X=t.get("smoothMonotone");if(p.setShape({smooth:oe,smoothMonotone:X,connectNulls:N}),v){var F=o.getCalculationInfo("stackedOnSeries"),W=0;v.useStyle(Rr(c.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),F&&(W=l$(F.get("smooth"))),v.setShape({smooth:oe,stackedOnSmooth:W,smoothMonotone:X,connectNulls:N}),nl(v,t,"areaStyle"),Vr(v).seriesIndex=t.seriesIndex,ss(v,H,Z,Y)}var Q=this._changePolyState;o.eachItemGraphicEl(function(re){re&&(re.onHoverStateChange=Q)}),this._polyline.onHoverStateChange=Q,this._data=o,this._coordSys=a,this._stackedOnPoints=M,this._points=u,this._step=k,this._valueOrigin=w,t.get("triggerLineEvent")&&(this.packEventData(t,p),v&&this.packEventData(t,v))},e.prototype.packEventData=function(t,n){Vr(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,n,i,a){var s=t.getData(),o=X2(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),c=s.getItemGraphicEl(o);if(!c){var u=l[o*2],f=l[o*2+1];if(isNaN(u)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,f))return;var d=t.get("zlevel")||0,h=t.get("z")||0;c=new KE(s,o),c.x=u,c.y=f,c.setZ(d,h);var p=c.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=h,p.z2=this._polyline.z2+1),c.__temp=!0,s.setItemGraphicEl(o,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else Zi.prototype.highlight.call(this,t,n,i,a)},e.prototype.downplay=function(t,n,i,a){var s=t.getData(),o=X2(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else Zi.prototype.downplay.call(this,t,n,i,a)},e.prototype._changePolyState=function(t){var n=this._polygon;fL(this._polyline,t),n&&fL(n,t)},e.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new L6e({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(t,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Dde({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,n,i){var a,s,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):n.type==="polar"&&(a=o.dim==="angle",s=!0);var c=t.hostModel,u=c.get("animationDuration");Tr(u)&&(u=u(null));var f=c.get("animationDelay")||0,d=Tr(f)?f(null):f;t.eachItemGraphicEl(function(h,p){var v=h;if(v){var x=[h.x,h.y],g=void 0,_=void 0,w=void 0;if(i)if(s){var A=i,M=n.pointToCoord(x);a?(g=A.startAngle,_=A.endAngle,w=-M[1]/180*Math.PI):(g=A.r0,_=A.r,w=M[0])}else{var C=i;a?(g=C.x,_=C.x+C.width,w=h.x):(g=C.y+C.height,_=C.y,w=h.y)}var N=_===g?0:(w-g)/(_-g);l&&(N=1-N);var L=Tr(f)?f(p):u*N+d,D=v.getSymbolPath(),k=D.getTextContent();v.attr({scaleX:0,scaleY:0}),v.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:L}),k&&k.animateFrom({style:{opacity:0}},{duration:300,delay:L}),D.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,n,i){var a=t.getModel("endLabel");if(kde(t)){var s=t.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var c=this._endLabel;c||(c=this._endLabel=new $n({z2:200}),c.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var u=z6e(l);u>=0&&(Al(o,il(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:u,defaultText:function(f,d,h){return h!=null?Ede(s,h):lS(s,f)},enableTextSetter:!0},U6e(a,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,n,i,a,s,o,l){var c=this._endLabel,u=this._polyline;if(c){t<1&&a.originalX==null&&(a.originalX=c.x,a.originalY=c.y);var f=i.getLayout("points"),d=i.hostModel,h=d.get("connectNulls"),p=o.get("precision"),v=o.get("distance")||0,x=l.getBaseAxis(),g=x.isHorizontal(),_=x.inverse,w=n.shape,A=_?g?w.x:w.y+w.height:g?w.x+w.width:w.y,M=(g?v:0)*(_?-1:1),C=(g?0:-v)*(_?-1:1),N=g?"x":"y",L=j6e(f,A,N),D=L.range,k=D[1]-D[0],O=void 0;if(k>=1){if(k>1&&!h){var I=c$(f,D[0]);c.attr({x:I[0]+M,y:I[1]+C}),s&&(O=d.getRawValue(D[0]))}else{var I=u.getPointOn(A,N);I&&c.attr({x:I[0]+M,y:I[1]+C});var j=d.getRawValue(D[0]),B=d.getRawValue(D[1]);s&&(O=iue(i,p,j,B,L.t))}a.lastFrameIndex=D[0]}else{var K=t===1||a.lastFrameIndex>0?D[0]:0,I=c$(f,K);s&&(O=d.getRawValue(K)),c.attr({x:I[0]+M,y:I[1]+C})}if(s){var H=HS(c);typeof H.setLabelText=="function"&&H.setLabelText(O)}}},e.prototype._doUpdateAnimation=function(t,n,i,a,s,o,l){var c=this._polyline,u=this._polygon,f=t.hostModel,d=D6e(this._data,t,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),h=d.current,p=d.stackedOnCurrent,v=d.next,x=d.stackedOnNext;if(s&&(p=ux(d.stackedOnCurrent,d.current,i,s,l),h=ux(d.current,null,i,s,l),x=ux(d.stackedOnNext,d.next,i,s,l),v=ux(d.next,null,i,s,l)),o$(h,v)>3e3||u&&o$(p,x)>3e3){c.stopAnimation(),c.setShape({points:v}),u&&(u.stopAnimation(),u.setShape({points:v,stackedOnPoints:x}));return}c.shape.__points=d.current,c.shape.points=h;var g={shape:{points:v}};d.current!==h&&(g.shape.__points=d.next),c.stopAnimation(),si(c,g,f),u&&(u.setShape({points:h,stackedOnPoints:p}),u.stopAnimation(),si(u,{shape:{stackedOnPoints:x}},f),c.shape.points!==u.shape.points&&(u.shape.points=c.shape.points));for(var _=[],w=d.status,A=0;A<w.length;A++){var M=w[A].cmd;if(M==="="){var C=t.getItemGraphicEl(w[A].idx1);C&&_.push({el:C,ptIdx:A})}}c.animators&&c.animators.length&&c.animators[0].during(function(){u&&u.dirtyShape();for(var N=c.shape.__points,L=0;L<_.length;L++){var D=_[L].el,k=_[L].ptIdx*2;D.x=N[k],D.y=N[k+1],D.markRedraw()}})},e.prototype.remove=function(t){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,s){a.__temp&&(n.remove(a),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(Zi);function QE(r,e){return{seriesType:r,plan:qS(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,a=t.pipelineContext,s=e||a.large;if(i){var o=Gt(i.dimensions,function(h){return n.mapDimension(h)}).slice(0,2),l=o.length,c=n.getCalculationInfo("stackResultDimension");sg(n,o[0])&&(o[0]=c),sg(n,o[1])&&(o[1]=c);var u=n.getStore(),f=n.getDimensionIndex(o[0]),d=n.getDimensionIndex(o[1]);return l&&{progress:function(h,p){for(var v=h.end-h.start,x=s&&tv(v*l),g=[],_=[],w=h.start,A=0;w<h.end;w++){var M=void 0;if(l===1){var C=u.get(f,w);M=i.dataToPoint(C,null,_)}else g[0]=u.get(f,w),g[1]=u.get(d,w),M=i.dataToPoint(g,null,_);s?(x[A++]=M[0],x[A++]=M[1]):p.setItemLayout(w,M.slice())}s&&p.setLayout("points",x)}}}}}}var H6e={average:function(r){for(var e=0,t=0,n=0;n<r.length;n++)isNaN(r[n])||(e+=r[n],t++);return t===0?NaN:e/t},sum:function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t]||0;return e},max:function(r){for(var e=-1/0,t=0;t<r.length;t++)r[t]>e&&(e=r[t]);return isFinite(e)?e:NaN},min:function(r){for(var e=1/0,t=0;t<r.length;t++)r[t]<e&&(e=r[t]);return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},G6e=function(r){return Math.round(r.length/2)};function Ide(r){return{seriesType:r,reset:function(e,t,n){var i=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),c=s.getOtherAxis(l),u=l.getExtent(),f=n.getDevicePixelRatio(),d=Math.abs(u[1]-u[0])*(f||1),h=Math.round(o/d);if(isFinite(h)&&h>1){a==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(c.dim),1/h)):a==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(c.dim),1/h));var p=void 0;fr(a)?p=H6e[a]:Tr(a)&&(p=a),p&&e.setData(i.downSample(i.mapDimension(c.dim),1/h,p,G6e))}}}}}function W6e(r){r.registerChartView(V6e),r.registerSeriesModel(E6e),r.registerLayout(QE("line",!0)),r.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Ide("line"))}var B3=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return Mv(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(t),o=a.dataToPoint(s);if(i)he(a.getAxes(),function(d,h){if(d.type==="category"&&n!=null){var p=d.getTicksCoords(),v=d.getTickModel().get("alignWithLabel"),x=s[h],g=n[h]==="x1"||n[h]==="y1";if(g&&!v&&(x+=1),p.length<2)return;if(p.length===2){o[h]=d.toGlobalCoord(d.getExtent()[g?1:0]);return}for(var _=void 0,w=void 0,A=1,M=0;M<p.length;M++){var C=p[M].coord,N=M===p.length-1?p[M-1].tickValue+A:p[M].tickValue;if(N===x){w=C;break}else if(N<x)_=C;else if(_!=null&&N>x){w=(C+_)/2;break}M===1&&(A=N-p[0].tickValue)}w==null&&(_?_&&(w=p[p.length-1].coord):w=p[0].coord),o[h]=d.toGlobalCoord(w)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;o[f]+=c+u/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},e})(la);la.registerClass(B3);var Y6e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return Mv(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>t&&(t=n),t},e.prototype.brushSelector=function(t,n,i){return i.rect(n.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Ay(B3.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:ut.color.primary,borderWidth:2}},realtimeSort:!1}),e})(B3),q6e=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),IL=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new q6e},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-s)*.5,c=s+l,u=n.startAngle,f=n.endAngle,d=n.clockwise,h=Math.PI*2,p=d?f-u<h:u-f<h;p||(u=f-(d?h:-h));var v=Math.cos(u),x=Math.sin(u),g=Math.cos(f),_=Math.sin(f);p?(t.moveTo(v*s+i,x*s+a),t.arc(v*c+i,x*c+a,l,-Math.PI+u,u,!d)):t.moveTo(v*o+i,x*o+a),t.arc(i,a,o,u,f,!d),t.arc(g*c+i,_*c+a,l,f-Math.PI*2,f-Math.PI,!d),s!==0&&t.arc(i,a,s,f,u,d)},e})(Rn);function X6e(r,e){e=e||{};var t=e.isRoundCap;return function(n,i,a){var s=i.position;if(!s||s instanceof Array)return sL(n,i,a);var o=r(s),l=i.distance!=null?i.distance:5,c=this.shape,u=c.cx,f=c.cy,d=c.r,h=c.r0,p=(d+h)/2,v=c.startAngle,x=c.endAngle,g=(v+x)/2,_=t?Math.abs(d-h)/2:0,w=Math.cos,A=Math.sin,M=u+d*w(v),C=f+d*A(v),N="left",L="top";switch(o){case"startArc":M=u+(h-l)*w(g),C=f+(h-l)*A(g),N="center",L="top";break;case"insideStartArc":M=u+(h+l)*w(g),C=f+(h+l)*A(g),N="center",L="bottom";break;case"startAngle":M=u+p*w(v)+cN(v,l+_,!1),C=f+p*A(v)+uN(v,l+_,!1),N="right",L="middle";break;case"insideStartAngle":M=u+p*w(v)+cN(v,-l+_,!1),C=f+p*A(v)+uN(v,-l+_,!1),N="left",L="middle";break;case"middle":M=u+p*w(g),C=f+p*A(g),N="center",L="middle";break;case"endArc":M=u+(d+l)*w(g),C=f+(d+l)*A(g),N="center",L="bottom";break;case"insideEndArc":M=u+(d-l)*w(g),C=f+(d-l)*A(g),N="center",L="top";break;case"endAngle":M=u+p*w(x)+cN(x,l+_,!0),C=f+p*A(x)+uN(x,l+_,!0),N="left",L="middle";break;case"insideEndAngle":M=u+p*w(x)+cN(x,-l+_,!0),C=f+p*A(x)+uN(x,-l+_,!0),N="right",L="middle";break;default:return sL(n,i,a)}return n=n||{},n.x=M,n.y=C,n.align=N,n.verticalAlign=L,n}}function Z6e(r,e,t,n){if(Jn(n)){r.setTextConfig({rotation:n});return}else if(Ut(e)){r.setTextConfig({rotation:0});return}var i=r.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,c=t(e);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:r.setTextConfig({rotation:0});return}var u=Math.PI*1.5-l;c==="middle"&&u>Math.PI/2&&u<Math.PI*1.5&&(u-=Math.PI),r.setTextConfig({rotation:u})}function cN(r,e,t){return e*Math.sin(r)*(t?-1:1)}function uN(r,e,t){return e*Math.cos(r)*(t?1:-1)}function nv(r,e,t){var n=r.get("borderRadius");if(n==null)return t?{cornerRadius:0}:null;Ut(n)||(n=[n,n,n,n]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Gt(n,function(a){return Kp(a,i)})}}var jP=Math.max,UP=Math.min;function K6e(r,e){var t=r.getArea&&r.getArea();if(sy(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=e.getLayout("bandWidth");n.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var $6e=(function(r){dt(e,r);function e(){var t=r.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,n,i,a){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,n,i):this._renderNormal(t,n,i,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,n){this._progressiveEls=[],this._incrementalRenderLarge(t,n)},e.prototype.eachRendered=function(t){Ty(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t,n,i,a){var s=this.group,o=t.getData(),l=this._data,c=t.coordinateSystem,u=c.getBaseAxis(),f;c.type==="cartesian2d"?f=u.isHorizontal():c.type==="polar"&&(f=u.dim==="angle");var d=t.isAnimationEnabled()?t:null,h=J6e(t,c);h&&this._enableRealtimeSort(h,o,i);var p=t.get("clip",!0)||h,v=K6e(c,o);s.removeClipPath();var x=t.get("roundCap",!0),g=t.get("showBackground",!0),_=t.getModel("backgroundStyle"),w=_.get("borderRadius")||0,A=[],M=this._backgroundEls,C=a&&a.isInitSort,N=a&&a.type==="changeAxisOrder";function L(O){var I=fN[c.type](o,O);if(!I)return null;var j=aOe(c,f,I);return j.useStyle(_.getItemStyle()),c.type==="cartesian2d"?j.setShape("r",w):j.setShape("cornerRadius",w),A[O]=j,j}o.diff(l).add(function(O){var I=o.getItemModel(O),j=fN[c.type](o,O,I);if(j&&(g&&L(O),!(!o.hasValue(O)||!p$[c.type](j)))){var B=!1;p&&(B=u$[c.type](v,j));var K=f$[c.type](t,o,O,j,f,d,u.model,!1,x);h&&(K.forceLabelAnimation=!0),v$(K,o,O,I,j,t,f,c.type==="polar"),C?K.attr({shape:j}):h?h$(h,d,K,j,O,f,!1,!1):Ua(K,{shape:j},t,O),o.setItemGraphicEl(O,K),s.add(K),K.ignore=B}}).update(function(O,I){var j=o.getItemModel(O),B=fN[c.type](o,O,j);if(B){if(g){var K=void 0;M.length===0?K=L(I):(K=M[I],K.useStyle(_.getItemStyle()),c.type==="cartesian2d"?K.setShape("r",w):K.setShape("cornerRadius",w),A[O]=K);var H=fN[c.type](o,O),Z=Pde(f,H,c);si(K,{shape:Z},d,O)}var Y=l.getItemGraphicEl(I);if(!o.hasValue(O)||!p$[c.type](B)){s.remove(Y);return}var J=!1;p&&(J=u$[c.type](v,B),J&&s.remove(Y));var oe=Y&&(Y.type==="sector"&&x||Y.type==="sausage"&&!x);if(oe&&(Y&&qm(Y,t,I),Y=null),Y?zd(Y):Y=f$[c.type](t,o,O,B,f,d,u.model,!0,x),h&&(Y.forceLabelAnimation=!0),N){var X=Y.getTextContent();if(X){var F=HS(X);F.prevValue!=null&&(F.prevValue=F.value)}}else v$(Y,o,O,j,B,t,f,c.type==="polar");C?Y.attr({shape:B}):h?h$(h,d,Y,B,O,f,!0,N):si(Y,{shape:B},t,O,null),o.setItemGraphicEl(O,Y),Y.ignore=J,s.add(Y)}}).remove(function(O){var I=l.getItemGraphicEl(O);I&&qm(I,t,O)}).execute();var D=this._backgroundGroup||(this._backgroundGroup=new Nr);D.removeAll();for(var k=0;k<A.length;++k)D.add(A[k]);s.add(D),this._backgroundEls=A,this._data=o},e.prototype._renderLarge=function(t,n,i){this._clear(),g$(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,n){this._removeBackground(),g$(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var n=t.get("clip",!0)&&JE(t.coordinateSystem,!1,t),i=this.group;n?i.setClipPath(n):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,n,i){var a=this;if(n.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,t,i),this._isFirstFrame=!1;else{var o=function(l){var c=n.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(s.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,n,i){var a=[];return t.each(t.mapDimension(n.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:Gt(a,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,n,i){for(var a=i.scale,s=t.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,c=a.getOrdinalMeta().categories.length;l<c;++l){var u=t.rawIndexOf(s,a.getRawOrdinalNumber(l)),f=u<0?Number.MIN_VALUE:n(t.indexOfRawIndex(u));if(f>o)return!0;o=f}return!1},e.prototype._isOrderDifferentInView=function(t,n){for(var i=n.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(t.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,n,i,a){if(this._isOrderChangedWithinSameData(t,n,i)){var s=this._dataSort(t,i,n);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,n,i){var a=n.baseAxis,s=this._dataSort(t,a,function(o){return t.get(t.mapDimension(n.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},e.prototype.remove=function(t,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(t,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var n=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){qm(a,t,Vr(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e})(Zi),u$={cartesian2d:function(r,e){var t=e.width<0?-1:1,n=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var i=r.x+r.width,a=r.y+r.height,s=jP(e.x,r.x),o=UP(e.x+e.width,i),l=jP(e.y,r.y),c=UP(e.y+e.height,a),u=o<s,f=c<l;return e.x=u&&s>i?o:s,e.y=f&&l>a?c:l,e.width=u?0:o-s,e.height=f?0:c-l,t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),u||f},polar:function(r,e){var t=e.r0<=e.r?1:-1;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}var i=UP(e.r,r.r),a=jP(e.r0,r.r0);e.r=i,e.r0=a;var s=i-a<0;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}return s}},f$={cartesian2d:function(r,e,t,n,i,a,s,o,l){var c=new _n({shape:It({},n),z2:1});if(c.__dataIndex=t,c.name="item",a){var u=c.shape,f=i?"height":"width";u[f]=0}return c},polar:function(r,e,t,n,i,a,s,o,l){var c=!i&&l?IL:Sc,u=new c({shape:n,z2:1});u.name="item";var f=Ode(i);if(u.calculateTextPosition=X6e(f,{isRoundCap:c===IL}),a){var d=u.shape,h=i?"r":"endAngle",p={};d[h]=i?n.r0:n.startAngle,p[h]=n[h],(o?si:Ua)(u,{shape:p},a)}return u}};function J6e(r,e){var t=r.get("realtimeSort",!0),n=e.getBaseAxis();if(t&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function h$(r,e,t,n,i,a,s,o){var l,c;a?(c={x:n.x,width:n.width},l={y:n.y,height:n.height}):(c={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(s?si:Ua)(t,{shape:l},e,i,null);var u=e?r.baseAxis.model:null;(s?si:Ua)(t,{shape:c},u,i)}function d$(r,e){for(var t=0;t<e.length;t++)if(!isFinite(r[e[t]]))return!0;return!1}var Q6e=["x","y","width","height"],eOe=["cx","cy","r","startAngle","endAngle"],p$={cartesian2d:function(r){return!d$(r,Q6e)},polar:function(r){return!d$(r,eOe)}},fN={cartesian2d:function(r,e,t){var n=r.getItemLayout(e);if(!n)return null;var i=t?rOe(t,n):0,a=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+s*i/2,width:n.width-a*i,height:n.height-s*i}},polar:function(r,e,t){var n=r.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function tOe(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function Ode(r){return(function(e){var t=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+t;default:return n}}})(r)}function v$(r,e,t,n,i,a,s,o){var l=e.getItemVisual(t,"style");if(o){if(!a.get("roundCap")){var u=r.shape,f=nv(n.getModel("itemStyle"),u,!0);It(u,f),r.setShape(u)}}else{var c=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",c)}r.useStyle(l);var d=n.getShallow("cursor");d&&r.attr("cursor",d);var h=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=il(n);Al(r,p,{labelFetcher:a,labelDataIndex:t,defaultText:lS(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var v=r.getTextContent();if(o&&v){var x=n.get(["label","position"]);r.textConfig.inside=x==="middle"?!0:null,Z6e(r,x==="outside"?h:x,Ode(s),n.get(["label","rotate"]))}Wue(v,p,a.getRawValue(t),function(_){return Ede(e,_)});var g=n.getModel(["emphasis"]);ss(r,g.get("focus"),g.get("blurScope"),g.get("disabled")),nl(r,n),tOe(i)&&(r.style.fill="none",r.style.stroke="none",he(r.states,function(_){_.style&&(_.style.fill=_.style.stroke="none")}))}function rOe(r,e){var t=r.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,i,a)}var nOe=(function(){function r(){}return r})(),m$=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new nOe},e.prototype.buildPath=function(t,n){for(var i=n.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],c=this.barWidth,u=0;u<i.length;u+=3)l[a]=c,l[s]=i[u+2],o[a]=i[u+a],o[s]=i[u+s],t.rect(o[0],o[1],l[0],l[1])},e})(Rn);function g$(r,e,t,n){var i=r.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=r.getModel("backgroundStyle"),c=i.getLayout("largeBackgroundPoints");if(c){var u=new m$({shape:{points:c},incremental:!!n,silent:!0,z2:0});u.baseDimIdx=a,u.largeDataIndices=s,u.barWidth=o,u.useStyle(l.getItemStyle()),e.add(u),t&&t.push(u)}var f=new m$({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=s,f.barWidth=o,e.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,Vr(f).seriesIndex=r.seriesIndex,r.get("silent")||(f.on("mousedown",x$),f.on("mousemove",x$)),t&&t.push(f)}var x$=rI(function(r){var e=this,t=iOe(e,r.offsetX,r.offsetY);Vr(e).dataIndex=t>=0?t:null},30,!1);function iOe(r,e,t){for(var n=r.baseDimIdx,i=1-n,a=r.shape.points,s=r.largeDataIndices,o=[],l=[],c=r.barWidth,u=0,f=a.length/3;u<f;u++){var d=u*3;if(l[n]=c,l[i]=a[d+2],o[n]=a[d+n],o[i]=a[d+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),e>=o[0]&&e<=o[0]+l[0]&&t>=o[1]&&t<=o[1]+l[1])return s[u]}return-1}function Pde(r,e,t){if(sy(t,"cartesian2d")){var n=e,i=t.getArea();return{x:r?n.x:i.x,y:r?i.y:n.y,width:r?n.width:i.width,height:r?i.height:n.height}}else{var i=t.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:r?i.r0:a.r0,r:r?i.r:a.r,startAngle:r?a.startAngle:0,endAngle:r?a.endAngle:Math.PI*2}}}function aOe(r,e,t){var n=r.type==="polar"?Sc:_n;return new n({shape:Pde(e,t,r),silent:!0,z2:0})}function sOe(r){r.registerChartView($6e),r.registerSeriesModel(Y6e),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,cn(zhe,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,jhe("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Ide("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var y$=Math.PI*2,hN=Math.PI/180;function oOe(r,e,t){e.eachSeriesByType(r,function(n){var i=n.getData(),a=i.mapDimension("value"),s=cfe(n,t),o=s.cx,l=s.cy,c=s.r,u=s.r0,f=s.viewRect,d=-n.get("startAngle")*hN,h=n.get("endAngle"),p=n.get("padAngle")*hN;h=h==="auto"?d-y$:-h*hN;var v=n.get("minAngle")*hN,x=v+p,g=0;i.each(a,function(Z){!isNaN(Z)&&g++});var _=i.getSum(a),w=Math.PI/(_||g)*2,A=n.get("clockwise"),M=n.get("roseType"),C=n.get("stillShowZeroSum"),N=i.getDataExtent(a);N[0]=0;var L=A?1:-1,D=[d,h],k=L*p/2;Wk(D,!A),d=D[0],h=D[1];var O=Fde(n);O.startAngle=d,O.endAngle=h,O.clockwise=A,O.cx=o,O.cy=l,O.r=c,O.r0=u;var I=Math.abs(h-d),j=I,B=0,K=d;if(i.setLayout({viewRect:f,r:c}),i.each(a,function(Z,Y){var J;if(isNaN(Z)){i.setItemLayout(Y,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:o,cy:l,r0:u,r:M?NaN:c});return}M!=="area"?J=_===0&&C?w:Z*w:J=I/g,J<x?(J=x,j-=x):B+=Z;var oe=K+L*J,X=0,F=0;p>J?(X=K+L*J/2,F=X):(X=K+k,F=oe-k),i.setItemLayout(Y,{angle:J,startAngle:X,endAngle:F,clockwise:A,cx:o,cy:l,r0:u,r:M?Ti(Z,N,[u,c]):c}),K=oe}),j<y$&&g)if(j<=.001){var H=I/g;i.each(a,function(Z,Y){if(!isNaN(Z)){var J=i.getItemLayout(Y);J.angle=H;var oe=0,X=0;H<p?(oe=d+L*(Y+1/2)*H,X=oe):(oe=d+L*Y*H+k,X=d+L*(Y+1)*H-k),J.startAngle=oe,J.endAngle=X}})}else w=j/B,K=d,i.each(a,function(Z,Y){if(!isNaN(Z)){var J=i.getItemLayout(Y),oe=J.angle===x?x:Z*w,X=0,F=0;oe<p?(X=K+L*oe/2,F=X):(X=K+k,F=K+L*oe-k),J.startAngle=X,J.endAngle=F,K+=L*oe}})})}var Fde=Mn();function QS(r){return{seriesType:r,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=e.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<n.length;o++)if(!n[o].isSelected(s))return!1;return!0})}}}}var lOe=Math.PI/180;function b$(r,e,t,n,i,a,s,o,l,c){if(r.length<2)return;function u(v){for(var x=v.rB,g=x*x,_=0;_<v.list.length;_++){var w=v.list[_],A=Math.abs(w.label.y-t),M=n+w.len,C=M*M,N=Math.sqrt(Math.abs((1-A*A/g)*C)),L=e+(N+w.len2)*i,D=L-w.label.x,k=w.targetTextWidth-D*i;Bde(w,k,!0),w.label.x=L}}function f(v){for(var x={list:[],maxY:0},g={list:[],maxY:0},_=0;_<v.length;_++)if(v[_].labelAlignTo==="none"){var w=v[_],A=w.label.y>t?g:x,M=Math.abs(w.label.y-t);if(M>=A.maxY){var C=w.label.x-e-w.len2*i,N=n+w.len,L=Math.abs(C)<N?Math.sqrt(M*M/(1-C*C/N/N)):N;A.rB=L,A.maxY=M}A.list.push(w)}u(x),u(g)}for(var d=r.length,h=0;h<d;h++)if(r[h].position==="outer"&&r[h].labelAlignTo==="labelLine"){var p=r[h].label.x-c;r[h].linePoints[1][0]+=p,r[h].label.x=c}gz(r,1,l,l+s)&&f(r)}function cOe(r,e,t,n,i,a,s,o){for(var l=[],c=[],u=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<r.length;d++){var h=r[d].label;VP(r[d])||(h.x<e?(u=Math.min(u,h.x),l.push(r[d])):(f=Math.max(f,h.x),c.push(r[d])))}for(var d=0;d<r.length;d++){var p=r[d];if(!VP(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var h=p.label,v=p.linePoints,x=void 0;p.labelAlignTo==="edge"?h.x<e?x=v[2][0]-p.labelDistance-s-p.edgeDistance:x=s+i-p.edgeDistance-v[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?h.x<e?x=u-s-p.bleedMargin:x=s+i-f-p.bleedMargin:h.x<e?x=h.x-s-p.bleedMargin:x=s+i-h.x-p.bleedMargin,p.targetTextWidth=x,Bde(p,x,!1)}}b$(c,e,t,n,1,i,a,s,o,f),b$(l,e,t,n,-1,i,a,s,o,u);for(var d=0;d<r.length;d++){var p=r[d];if(!VP(p)&&p.linePoints){var h=p.label,v=p.linePoints,g=p.labelAlignTo==="edge",_=h.style.padding,w=_?_[1]+_[3]:0,A=h.style.backgroundColor?0:w,M=p.rect.width+A,C=v[1][0]-v[2][0];g?h.x<e?v[2][0]=s+p.edgeDistance+M+p.labelDistance:v[2][0]=s+i-p.edgeDistance-M-p.labelDistance:(h.x<e?v[2][0]=h.x+p.labelDistance:v[2][0]=h.x-p.labelDistance,v[1][0]=v[2][0]+C),v[1][1]=v[2][1]=h.y}}}function Bde(r,e,t){if(r.labelStyleWidth==null){var n=r.label,i=n.style,a=r.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,c=i.overflow,u=a.width+(s?0:l);if(e<u||t){if(c&&c.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",s)}else{var d=e-l,h=e<u?d:t?d>r.unconstrainedWidth?null:d:null;n.setStyle("width",h)}zde(a,n)}}}function zde(r,e){_$.rect=r,cde(_$,e,uOe)}var uOe={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},_$={};function VP(r){return r.position==="center"}function fOe(r){var e=r.getData(),t=[],n,i,a=!1,s=(r.get("minShowLabelAngle")||0)*lOe,o=e.getLayout("viewRect"),l=e.getLayout("r"),c=o.width,u=o.x,f=o.y,d=o.height;function h(C){C.ignore=!0}function p(C){if(!C.ignore)return!0;for(var N in C.states)if(C.states[N].ignore===!1)return!0;return!1}e.each(function(C){var N=e.getItemGraphicEl(C),L=N.shape,D=N.getTextContent(),k=N.getTextGuideLine(),O=e.getItemModel(C),I=O.getModel("label"),j=I.get("position")||O.get(["emphasis","label","position"]),B=I.get("distanceToLabelLine"),K=I.get("alignTo"),H=ur(I.get("edgeDistance"),c),Z=I.get("bleedMargin");Z==null&&(Z=Math.min(c,d)>200?10:2);var Y=O.getModel("labelLine"),J=Y.get("length");J=ur(J,c);var oe=Y.get("length2");if(oe=ur(oe,c),Math.abs(L.endAngle-L.startAngle)<s){he(D.states,h),D.ignore=!0,k&&(he(k.states,h),k.ignore=!0);return}if(p(D)){var X=(L.startAngle+L.endAngle)/2,F=Math.cos(X),W=Math.sin(X),Q,re,ae,ce;n=L.cx,i=L.cy;var ye=j==="inside"||j==="inner";if(j==="center")Q=L.cx,re=L.cy,ce="center";else{var fe=(ye?(L.r+L.r0)/2*F:L.r*F)+n,be=(ye?(L.r+L.r0)/2*W:L.r*W)+i;if(Q=fe+F*3,re=be+W*3,!ye){var Oe=fe+F*(J+l-L.r),xe=be+W*(J+l-L.r),Qe=Oe+(F<0?-1:1)*oe,ne=xe;K==="edge"?Q=F<0?u+H:u+c-H:Q=Qe+(F<0?-B:B),re=ne,ae=[[fe,be],[Oe,xe],[Qe,ne]]}ce=ye?"center":K==="edge"?F>0?"right":"left":F>0?"left":"right"}var te=Math.PI,Me=0,ge=I.get("rotate");if(Jn(ge))Me=ge*(te/180);else if(j==="center")Me=0;else if(ge==="radial"||ge===!0){var de=F<0?-X+te:-X;Me=de}else if(ge==="tangential"&&j!=="outside"&&j!=="outer"){var _e=Math.atan2(F,W);_e<0&&(_e=te*2+_e);var je=W>0;je&&(_e=te+_e),Me=_e-te}if(a=!!Me,D.x=Q,D.y=re,D.rotation=Me,D.setStyle({verticalAlign:"middle"}),ye){D.setStyle({align:ce});var Fe=D.states.select;Fe&&(Fe.x+=D.x,Fe.y+=D.y)}else{var Be=new Br(0,0,0,0);zde(Be,D),t.push({label:D,labelLine:k,position:j,len:J,len2:oe,minTurnAngle:Y.get("minTurnAngle"),maxSurfaceAngle:Y.get("maxSurfaceAngle"),surfaceNormal:new Fr(F,W),linePoints:ae,textAlign:ce,labelDistance:B,labelAlignTo:K,edgeDistance:H,bleedMargin:Z,rect:Be,unconstrainedWidth:Be.width,labelStyleWidth:D.style.width})}N.setTextConfig({inside:ye})}}),!a&&r.get("avoidLabelOverlap")&&cOe(t,n,i,l,c,d,u,f);for(var v=0;v<t.length;v++){var x=t[v],g=x.label,_=x.labelLine,w=isNaN(g.x)||isNaN(g.y);if(g){g.setStyle({align:x.textAlign}),w&&(he(g.states,h),g.ignore=!0);var A=g.states.select;A&&(A.x+=g.x,A.y+=g.y)}if(_){var M=x.linePoints;w||!M?(he(_.states,h),_.ignore=!0):(sde(M,x.minTurnAngle),LIe(M,x.surfaceNormal,x.maxSurfaceAngle),_.setShape({points:M}),g.__hostTarget.textGuideLineConfig={anchor:new Fr(M[0][0],M[0][1])})}}}var hOe=(function(r){dt(e,r);function e(t,n,i){var a=r.call(this)||this;a.z2=2;var s=new $n;return a.setTextContent(s),a.updateData(t,n,i,!0),a}return e.prototype.updateData=function(t,n,i,a){var s=this,o=t.hostModel,l=t.getItemModel(n),c=l.getModel("emphasis"),u=t.getItemLayout(n),f=It(nv(l.getModel("itemStyle"),u,!0),u);if(isNaN(f.startAngle)){s.setShape(f);return}if(a){s.setShape(f);var d=o.getShallow("animationType");o.ecModel.ssr?(Ua(s,{scaleX:0,scaleY:0},o,{dataIndex:n,isFrom:!0}),s.originX=f.cx,s.originY=f.cy):d==="scale"?(s.shape.r=u.r0,Ua(s,{shape:{r:u.r}},o,n)):i!=null?(s.setShape({startAngle:i,endAngle:i}),Ua(s,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},o,n)):(s.shape.endAngle=u.startAngle,si(s,{shape:{endAngle:u.endAngle}},o,n))}else zd(s),si(s,{shape:f},o,n);s.useStyle(t.getItemVisual(n,"style")),nl(s,l);var h=(u.startAngle+u.endAngle)/2,p=o.get("selectedOffset"),v=Math.cos(h)*p,x=Math.sin(h)*p,g=l.getShallow("cursor");g&&s.attr("cursor",g),this._updateLabel(o,t,n),s.ensureState("emphasis").shape=It({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},nv(c.getModel("itemStyle"),u)),It(s.ensureState("select"),{x:v,y:x,shape:nv(l.getModel(["select","itemStyle"]),u)}),It(s.ensureState("blur"),{shape:nv(l.getModel(["blur","itemStyle"]),u)});var _=s.getTextGuideLine(),w=s.getTextContent();_&&It(_.ensureState("select"),{x:v,y:x}),It(w.ensureState("select"),{x:v,y:x}),ss(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,n,i){var a=this,s=n.getItemModel(i),o=s.getModel("labelLine"),l=n.getItemVisual(i,"style"),c=l&&l.fill,u=l&&l.opacity;Al(a,il(s),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:c,defaultOpacity:u,defaultText:t.getFormattedLabel(i,"normal")||n.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=s.get(["label","position"]);if(d!=="outside"&&d!=="outer")a.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new Kl,this.setTextGuideLine(h)),aV(this,sV(s),{stroke:c,opacity:Hf(o.get(["lineStyle","opacity"]),u,1)})}},e})(Sc),dOe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,i,a){var s=t.getData(),o=this._data,l=this.group,c;if(!o&&s.count()>0){for(var u=s.getItemLayout(0),f=1;isNaN(u&&u.startAngle)&&f<s.count();++f)u=s.getItemLayout(f);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var d=Fde(t),h=new Sc({shape:Cr(d)});h.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}s.diff(o).add(function(p){var v=new hOe(s,p,c);s.setItemGraphicEl(p,v),l.add(v)}).update(function(p,v){var x=o.getItemGraphicEl(v);x.updateData(s,p,c),x.off("click"),l.add(x),s.setItemGraphicEl(p,x)}).remove(function(p){var v=o.getItemGraphicEl(p);qm(v,t,p)}).execute(),fOe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="pie",e})(Zi);function eT(r,e,t){e=Ut(e)&&{coordDimensions:e}||It({encodeDefine:r.getEncode()},e);var n=r.getSource(),i=KS(n,e).dimensions,a=new lu(i,r);return a.initData(n,t),a}var tT=(function(){function r(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return r.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},r.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},r.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},r.prototype.getItemVisual=function(e,t){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,t)},r})(),pOe=Mn(),jde=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new tT(hr(this.getData,this),hr(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return eT(this,{coordDimensions:["value"],encodeDefaulter:cn(k9,this)})},e.prototype.getDataParams=function(t){var n=this.getData(),i=pOe(n),a=i.seats;if(!a){var s=[];n.each(n.mapDimension("value"),function(l){s.push(l)}),a=i.seats=Xce(s,n.hostModel.get("percentPrecision"))}var o=r.prototype.getDataParams.call(this,t);return o.percent=a[t]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(t){q2(t,"labelLine",["show"]);var n=t.labelLine,i=t.emphasis.labelLine;n.show=n.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e})(la);oDe({fullType:jde.type,getCoord2:function(r){return r.getShallow("center")}});function vOe(r){return{seriesType:r,reset:function(e,t){var n=e.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),s=n.get(a,i);return!(Jn(s)&&!isNaN(s)&&s<0)})}}}function mOe(r){r.registerChartView(dOe),r.registerSeriesModel(jde),ehe("pie",r.registerAction),r.registerLayout(cn(oOe,"pie")),r.registerProcessor(QS("pie")),r.registerProcessor(vOe("pie"))}var gOe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return Mv(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,n,i){return i.point(n.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:ut.color.primary}},universalTransition:{divideShape:"clone"}},e})(la),Ude=4,xOe=(function(){function r(){}return r})(),yOe=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.getDefaultShape=function(){return new xOe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,n){var i=n.points,a=n.size,s=this.symbolProxy,o=s.shape,l=t.getContext?t.getContext():t,c=l&&a[0]<Ude,u=this.softClipShape,f;if(c){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var d=i[f++],h=i[f++];isNaN(d)||isNaN(h)||u&&!u.contain(d,h)||(o.x=d-a[0]/2,o.y=h-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(t,o,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,n=t.points,i=t.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<n.length;){var l=n[o++],c=n[o++];isNaN(l)||isNaN(c)||s&&!s.contain(l,c)||a.fillRect(l-i[0]/2,c-i[1]/2,i[0],i[1])}this.incremental&&(this._off=o,this.notClear=!0)}},e.prototype.findDataIndex=function(t,n){for(var i=this.shape,a=i.points,s=i.size,o=Math.max(s[0],4),l=Math.max(s[1],4),c=a.length/2-1;c>=0;c--){var u=c*2,f=a[u]-o/2,d=a[u+1]-l/2;if(t>=f&&n>=d&&t<=f+o&&n<=d+l)return c}return-1},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(t=i[0],n=i[1],a.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,i=n.points,a=n.size,s=a[0],o=a[1],l=1/0,c=1/0,u=-1/0,f=-1/0,d=0;d<i.length;){var h=i[d++],p=i[d++];l=Math.min(h,l),u=Math.max(h,u),c=Math.min(p,c),f=Math.max(p,f)}t=this._rect=new Br(l-s/2,c-o/2,u-l+s,f-c+o)}return t},e})(Rn),bOe=(function(){function r(){this.group=new Nr}return r.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},r.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;t=new Float32Array(t.buffer,a,i)}n.setShape("points",t),n.reset()})},r.prototype.incrementalPrepareUpdate=function(e){this._clear()},r.prototype.incrementalUpdate=function(e,t,n){var i=this._newAdded[0],a=t.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+a.length);l.set(s),l.set(a,o),i.endIndex=e.end,i.setShape({points:l})}else{this._newAdded=[];var c=this._create();c.startIndex=e.start,c.endIndex=e.end,c.incremental=!0,c.setShape({points:a}),this._setCommon(c,t,n)}},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new yOe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},r.prototype._setCommon=function(e,t,n){var i=t.hostModel;n=n||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=n.clipShape||null,e.symbolProxy=xo(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<Ude;e.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),l=o&&o.fill;l&&e.setColor(l);var c=Vr(e);c.seriesIndex=i.seriesIndex,e.on("mousemove",function(u){c.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(c.dataIndex=f+(e.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),_Oe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,i){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,n,i){this._symbolDraw.incrementalUpdate(t,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=t.end===n.getData().count()},e.prototype.updateTransform=function(t,n,i){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=QE("").reset(t,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var n=t.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,n){var i=this._symbolDraw,a=n.pipelineContext,s=a.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new bOe:new $E,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e})(Zi),Vde={left:0,right:0,top:0,bottom:0},OL=["25%","25%"],wOe=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(t,n){var i=vb(t.outerBounds);r.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&t.outerBounds&&yv(t.outerBounds,i)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&yv(this.option.outerBounds,t.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:Vde,outerBoundsContain:"all",outerBoundsClampWidth:OL[0],outerBoundsClampHeight:OL[1],backgroundColor:ut.color.transparent,borderWidth:1,borderColor:ut.color.neutral30},e})(En),wz=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Ls).models[0]},e.type="cartesian2dAxis",e})(En);qs(wz,JS);var Hde={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:ut.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:ut.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:ut.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[ut.color.backgroundTint,ut.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:ut.color.neutral00,borderColor:ut.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},SOe=pn({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},Hde),dV=pn({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:ut.color.axisMinorSplitLine,width:1}}},Hde),TOe=pn({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},dV),AOe=Rr({logBase:10},dV);const Gde={category:SOe,value:dV,time:TOe,log:AOe};var EOe={value:1,category:1,time:1,log:1},Sz=null;function MOe(r){Sz||(Sz=r)}function eM(){return Sz}function cS(r,e,t,n){he(EOe,function(i,a){var s=pn(pn({},Gde[a],!0),n,!0),o=(function(l){dt(c,l);function c(){var u=l!==null&&l.apply(this,arguments)||this;return u.type=e+"Axis."+a,u}return c.prototype.mergeDefaultAndTheme=function(u,f){var d=C3(this),h=d?vb(u):{},p=f.getTheme();pn(u,p.get(a+"Axis")),pn(u,this.getDefaultOption()),u.type=w$(u),d&&yv(u,h,d)},c.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=I3.createByAxisModel(this))},c.prototype.getCategories=function(u){var f=this.option;if(f.type==="category")return u?f.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.prototype.updateAxisBreaks=function(u){var f=eM();return f?f.updateModelAxisBreak(this,u):{breaks:[]}},c.type=e+"Axis."+a,c.defaultOption=s,c})(t);r.registerComponentModel(o)}),r.registerSubTypeDefaulter(e+"Axis",w$)}function w$(r){return r.type||(r.data?"category":"value")}var COe=(function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return Gt(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),bi(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r})(),Tz=["x","y"];function S$(r){return(r.type==="interval"||r.type==="time")&&!r.hasBreaks()}var NOe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=Tz,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!S$(t)||!S$(n))){var i=t.getExtent(),a=n.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],c=a[1]-a[0];if(!(!l||!c)){var u=(o[0]-s[0])/l,f=(o[1]-s[1])/c,d=s[0]-i[0]*u,h=s[1]-a[0]*f,p=this._transform=[u,0,0,f,d,h];this._invTransform=Fd([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,n){var i=this.dataToPoint(t),a=this.dataToPoint(n),s=this.getArea(),o=new Br(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},e.prototype.dataToPoint=function(t,n,i){i=i||[];var a=t[0],s=t[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return Ys(i,t,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(s,n)),i},e.prototype.clampData=function(t,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(t[0]),c=a.parse(t[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),c),Math.max(o[0],o[1])),n},e.prototype.pointToData=function(t,n,i){if(i=i||[],this._invTransform)return Ys(i,t,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),n),i[1]=s.coordToData(s.toLocalCoord(t[1]),n),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-t,s=Math.min(i[0],i[1])-t,o=Math.max(n[0],n[1])-a+t,l=Math.max(i[0],i[1])-s+t;return new Br(a,s,o,l)},e})(COe),Wde=(function(r){dt(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e})(Gd),oI="expandAxisBreak",Yde="collapseAxisBreak",qde="toggleAxisBreak",pV="axisbreakchanged",DOe={type:oI,event:pV,update:"update",refineEvent:vV},LOe={type:Yde,event:pV,update:"update",refineEvent:vV},ROe={type:qde,event:pV,update:"update",refineEvent:vV};function vV(r,e,t,n){var i=[];return he(r,function(a){i=i.concat(a.eventBreaks)}),{eventContent:{breaks:i}}}function kOe(r){r.registerAction(DOe,e),r.registerAction(LOe,e),r.registerAction(ROe,e);function e(t,n){var i=[],a=zw(n,t);function s(o,l){he(a[o],function(c){var u=c.updateAxisBreaks(t);he(u.breaks,function(f){var d;i.push(Rr((d={},d[l]=c.componentIndex,d),f))})})}return s("xAxisModels","xAxisIndex"),s("yAxisModels","yAxisIndex"),s("singleAxisModels","singleAxisIndex"),{eventBreaks:i}}}var Fx=Math.PI,IOe=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],OOe=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],uS=Mn(),Xde=Mn(),Zde=(function(){function r(e){this.recordMap={},this.resolveAxisNameOverlap=e}return r.prototype.ensureRecord=function(e){var t=e.axis.dim,n=e.componentIndex,i=this.recordMap,a=i[t]||(i[t]=[]);return a[n]||(a[n]={ready:{}})},r})();function POe(r,e,t,n){var i=t.axis,a=e.ensureRecord(t),s=[],o,l=mV(r.axisName)&&oS(r.nameLocation);he(n,function(p){var v=bv(p);if(!(!v||v.label.ignore)){s.push(v);var x=a.transGroup;l&&(x.transform?Fd(u5,x.transform):BE(u5),v.transform&&Vp(u5,u5,v.transform),Br.copy(dN,v.localRect),dN.applyTransform(u5),o?o.union(dN):Br.copy(o=new Br(0,0,0,0),dN))}});var c=Math.abs(a.dirVec.x)>.1?"x":"y",u=a.transGroup[c];if(s.sort(function(p,v){return Math.abs(p.label[c]-u)-Math.abs(v.label[c]-u)}),l&&o){var f=i.getExtent(),d=Math.min(f[0],f[1]),h=Math.max(f[0],f[1])-d;o.union(new Br(d,0,h,1))}a.stOccupiedRect=o,a.labelInfoList=s}var u5=wl(),dN=new Br(0,0,0,0),Kde=function(r,e,t,n,i,a){if(oS(r.nameLocation)){var s=a.stOccupiedRect;s&&$de(IIe({},s,a.transGroup.transform),n,i)}else Jde(a.labelInfoList,a.dirVec,n,i)};function $de(r,e,t){var n=new Fr;aI(r,e,n,{direction:Math.atan2(t.y,t.x),bidirectional:!1,touchThreshold:.05})&&vz(e,n)}function Jde(r,e,t,n){for(var i=Fr.dot(n,e)>=0,a=0,s=r.length;a<s;a++){var o=r[i?a:s-1-a];o.label.ignore||$de(o,t,n)}}var Xu=(function(){function r(e,t,n,i){this.group=new Nr,this._axisModel=e,this._api=t,this._local={},this._shared=i||new Zde(Kde),this._resetCfgDetermined(n)}return r.prototype.updateCfg=function(e){var t=this._cfg.raw;t.position=e.position,t.labelOffset=e.labelOffset,this._resetCfgDetermined(t)},r.prototype.__getRawCfg=function(){return this._cfg.raw},r.prototype._resetCfgDetermined=function(e){var t=this._axisModel,n=t.getDefaultOption?t.getDefaultOption():{},i=wr(e.axisName,t.get("name")),a=t.get("nameMoveOverlap");(a==null||a==="auto")&&(a=wr(e.defaultNameMoveOverlap,!0));var s={raw:e,position:e.position,rotation:e.rotation,nameDirection:wr(e.nameDirection,1),tickDirection:wr(e.tickDirection,1),labelDirection:wr(e.labelDirection,1),labelOffset:wr(e.labelOffset,0),silent:wr(e.silent,!0),axisName:i,nameLocation:Hf(t.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:mV(i)&&a,optionHideOverlap:t.get(["axisLabel","hideOverlap"]),showMinorTicks:t.get(["minorTick","show"])};this._cfg=s;var o=new Nr({x:s.position[0],y:s.position[1],rotation:s.rotation});o.updateTransform(),this._transformGroup=o;var l=this._shared.ensureRecord(t);l.transGroup=this._transformGroup,l.dirVec=new Fr(Math.cos(-s.rotation),Math.sin(-s.rotation))},r.prototype.build=function(e,t){var n=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),he(FOe,function(i){e[i]&&BOe[i](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,t||{})}),this},r.innerTextLayout=function(e,t,n){var i=ZU(t-e),a,s;return eS(i)?(s=n>0?"top":"bottom",a="center"):eS(i-Fx)?(s=n>0?"bottom":"top",a="center"):(s="middle",i>0&&i<Fx?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},r.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},r.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},r})(),FOe=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],BOe={axisLine:function(r,e,t,n,i,a,s){var o=n.get(["axisLine","show"]);if(o==="auto"&&(o=!0,r.raw.axisLineAutoShow!=null&&(o=!!r.raw.axisLineAutoShow)),!!o){var l=n.axis.getExtent(),c=a.transform,u=[l[0],0],f=[l[1],0],d=u[0]>f[0];c&&(Ys(u,u,c),Ys(f,f,c));var h=It({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),p={strokeContainThreshold:r.raw.strokeContainThreshold||5,silent:!0,z2:1,style:h};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())eM().buildAxisBreakLine(n,i,a,p);else{var v=new mo(It({shape:{x1:u[0],y1:u[1],x2:f[0],y2:f[1]}},p));nS(v.shape,v.style.lineWidth),v.anid="line",i.add(v)}var x=n.get(["axisLine","symbol"]);if(x!=null){var g=n.get(["axisLine","symbolSize"]);fr(x)&&(x=[x,x]),(fr(g)||Jn(g))&&(g=[g,g]);var _=gb(n.get(["axisLine","symbolOffset"])||0,g),w=g[0],A=g[1];he([{rotate:r.rotation+Math.PI/2,offset:_[0],r:0},{rotate:r.rotation-Math.PI/2,offset:_[1],r:Math.sqrt((u[0]-f[0])*(u[0]-f[0])+(u[1]-f[1])*(u[1]-f[1]))}],function(M,C){if(x[C]!=="none"&&x[C]!=null){var N=xo(x[C],-w/2,-A/2,w,A,h.stroke,!0),L=M.r+M.offset,D=d?f:u;N.attr({rotation:M.rotate,x:D[0]+L*Math.cos(r.rotation),y:D[1]-L*Math.sin(r.rotation),silent:!0,z2:11}),i.add(N)}})}}},axisTickLabelEstimate:function(r,e,t,n,i,a,s,o){var l=A$(e,i,o);l&&T$(r,e,t,n,i,a,s,$p.estimate)},axisTickLabelDetermine:function(r,e,t,n,i,a,s,o){var l=A$(e,i,o);l&&T$(r,e,t,n,i,a,s,$p.determine);var c=VOe(r,i,a,n);UOe(r,e.labelLayoutList,c),HOe(r,i,a,n,r.tickDirection)},axisName:function(r,e,t,n,i,a,s,o){var l=t.ensureRecord(n);e.nameEl&&(i.remove(e.nameEl),e.nameEl=l.nameLayout=l.nameLocation=null);var c=r.axisName;if(mV(c)){var u=r.nameLocation,f=r.nameDirection,d=n.getModel("nameTextStyle"),h=n.get("nameGap")||0,p=n.axis.getExtent(),v=n.axis.inverse?-1:1,x=new Fr(0,0),g=new Fr(0,0);u==="start"?(x.x=p[0]-v*h,g.x=-v):u==="end"?(x.x=p[1]+v*h,g.x=v):(x.x=(p[0]+p[1])/2,x.y=r.labelOffset+f*h,g.y=f);var _=wl();g.transform(xg(_,_,r.rotation));var w=n.get("nameRotate");w!=null&&(w=w*Fx/180);var A,M;oS(u)?A=Xu.innerTextLayout(r.rotation,w??r.rotation,f):(A=zOe(r.rotation,u,w||0,p),M=r.raw.axisNameAvailableWidth,M!=null&&(M=Math.abs(M/Math.sin(A.rotation)),!isFinite(M)&&(M=null)));var C=d.getFont(),N=n.get("nameTruncate",!0)||{},L=N.ellipsis,D=Xl(r.raw.nameTruncateMaxWidth,N.maxWidth,M),k=o.nameMarginLevel||0,O=new $n({x:x.x,y:x.y,rotation:A.rotation,silent:Xu.isLabelSilent(n),style:Sa(d,{text:c,font:C,overflow:"truncate",width:D,ellipsis:L,fill:d.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:d.get("align")||A.textAlign,verticalAlign:d.get("verticalAlign")||A.textVerticalAlign}),z2:1});if(bg({el:O,componentModel:n,itemName:c}),O.__fullText=c,O.anid="name",n.get("triggerEvent")){var I=Xu.makeAxisEventDataBase(n);I.targetType="axisName",I.name=c,Vr(O).eventData=I}a.add(O),O.updateTransform(),e.nameEl=O;var j=l.nameLayout=bv({label:O,priority:O.z2,defaultAttr:{ignore:O.ignore},marginDefault:oS(u)?IOe[k]:OOe[k]});if(l.nameLocation=u,i.add(O),O.decomposeTransform(),r.shouldNameMoveOverlap&&j){var B=t.ensureRecord(n);t.resolveAxisNameOverlap(r,t,n,j,g,B)}}}};function T$(r,e,t,n,i,a,s,o){epe(e)||GOe(r,e,i,o,n,s);var l=e.labelLayoutList;WOe(r,n,l,a),XOe(n,r.rotation,l);var c=r.optionHideOverlap;jOe(n,l,c),c&&ude(bi(l,function(u){return u&&!u.label.ignore})),POe(r,t,n,l)}function zOe(r,e,t,n){var i=ZU(t-r),a,s,o=n[0]>n[1],l=e==="start"&&!o||e!=="start"&&o;return eS(i-Fx/2)?(s=l?"bottom":"top",a="center"):eS(i-Fx*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<Fx*1.5&&i>Fx/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function jOe(r,e,t){if(qhe(r.axis))return;function n(o,l,c){var u=bv(e[l]),f=bv(e[c]);if(!(!u||!f)){if(o===!1||u.suggestIgnore){iA(u.label);return}if(f.suggestIgnore){iA(f.label);return}var d=.1;if(!t){var h=[0,0,0,0];u=mz({marginForce:h},u),f=mz({marginForce:h},f)}aI(u,f,null,{touchThreshold:d})&&iA(o?f.label:u.label)}}var i=r.get(["axisLabel","showMinLabel"]),a=r.get(["axisLabel","showMaxLabel"]),s=e.length;n(i,0,1),n(a,s-1,s-2)}function UOe(r,e,t){r.showMinorTicks||he(e,function(n){if(n&&n.label.ignore)for(var i=0;i<t.length;i++){var a=t[i],s=Xde(a),o=uS(n.label);if(s.tickValue!=null&&!s.onBand&&s.tickValue===o.tickValue){iA(a);return}}})}function iA(r){r&&(r.ignore=!0)}function Qde(r,e,t,n,i){for(var a=[],s=[],o=[],l=0;l<r.length;l++){var c=r[l].coord;s[0]=c,s[1]=0,o[0]=c,o[1]=t,e&&(Ys(s,s,e),Ys(o,o,e));var u=new mo({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});nS(u.shape,u.style.lineWidth),u.anid=i+"_"+r[l].tickValue,a.push(u);var f=Xde(u);f.onBand=!!r[l].onBand,f.tickValue=r[l].tickValue}return a}function VOe(r,e,t,n){var i=n.axis,a=n.getModel("axisTick"),s=a.get("show");if(s==="auto"&&(s=!0,r.raw.axisTickAutoShow!=null&&(s=!!r.raw.axisTickAutoShow)),!s||i.scale.isBlank())return[];for(var o=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),c=i.getTicksCoords(),u=Qde(c,t.transform,l,Rr(o.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<u.length;f++)e.add(u[f]);return u}function HOe(r,e,t,n,i){var a=n.axis,s=n.getModel("minorTick");if(!(!r.showMinorTicks||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var l=s.getModel("lineStyle"),c=i*s.get("length"),u=Rr(l.getLineStyle(),Rr(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),f=0;f<o.length;f++)for(var d=Qde(o[f],t.transform,c,u,"minorticks_"+f),h=0;h<d.length;h++)e.add(d[h])}}function A$(r,e,t){if(epe(r)){var n=r.axisLabelsCreationContext,i=n.out.noPxChangeTryDetermine;if(t.noPxChange){for(var a=!0,s=0;s<i.length;s++)a=a&&i[s]();if(a)return!1}i.length&&(e.remove(r.labelGroup),Az(r,null,null,null))}return!0}function GOe(r,e,t,n,i,a){var s=i.axis,o=Xl(r.raw.axisLabelShow,i.get(["axisLabel","show"])),l=new Nr;t.add(l);var c=CL(n);if(!o||s.scale.isBlank()){Az(e,[],l,c);return}var u=i.getModel("axisLabel"),f=s.getViewLabels(c),d=(Xl(r.raw.labelRotate,u.get("rotate"))||0)*Fx/180,h=Xu.innerTextLayout(r.rotation,d,r.labelDirection),p=i.getCategories&&i.getCategories(!0),v=[],x=i.get("triggerEvent"),g=1/0,_=-1/0;he(f,function(A,M){var C,N=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(A.tickValue):A.tickValue,L=A.formattedLabel,D=A.rawLabel,k=u;if(p&&p[N]){var O=p[N];kr(O)&&O.textStyle&&(k=new Ln(O.textStyle,u,i.ecModel))}var I=k.getTextColor()||i.get(["axisLine","lineStyle","color"]),j=k.getShallow("align",!0)||h.textAlign,B=wr(k.getShallow("alignMinLabel",!0),j),K=wr(k.getShallow("alignMaxLabel",!0),j),H=k.getShallow("verticalAlign",!0)||k.getShallow("baseline",!0)||h.textVerticalAlign,Z=wr(k.getShallow("verticalAlignMinLabel",!0),H),Y=wr(k.getShallow("verticalAlignMaxLabel",!0),H),J=10+(((C=A.time)===null||C===void 0?void 0:C.level)||0);g=Math.min(g,J),_=Math.max(_,J);var oe=new $n({x:0,y:0,rotation:0,silent:Xu.isLabelSilent(i),z2:J,style:Sa(k,{text:L,align:M===0?B:M===f.length-1?K:j,verticalAlign:M===0?Z:M===f.length-1?Y:H,fill:Tr(I)?I(s.type==="category"?D:s.type==="value"?N+"":N,M):I})});oe.anid="label_"+N;var X=uS(oe);if(X.break=A.break,X.tickValue=N,X.layoutRotation=h.rotation,bg({el:oe,componentModel:i,itemName:L,formatterParamsExtra:{isTruncated:function(){return oe.isTruncated},value:D,tickIndex:M}}),x){var F=Xu.makeAxisEventDataBase(i);F.targetType="axisLabel",F.value=D,F.tickIndex=M,A.break&&(F.break={start:A.break.parsedBreak.vmin,end:A.break.parsedBreak.vmax}),s.type==="category"&&(F.dataIndex=N),Vr(oe).eventData=F,A.break&&qOe(i,a,oe,A.break)}v.push(oe),l.add(oe)});var w=Gt(v,function(A){return{label:A,priority:uS(A).break?A.z2+(_-g+1):A.z2,defaultAttr:{ignore:A.ignore}}});Az(e,w,l,c)}function epe(r){return!!r.labelLayoutList}function Az(r,e,t,n){r.labelLayoutList=e,r.labelGroup=t,r.axisLabelsCreationContext=n}function WOe(r,e,t,n){var i=e.get(["axisLabel","margin"]);he(t,function(a,s){var o=bv(a);if(o){var l=o.label,c=uS(l);o.suggestIgnore=l.ignore,l.ignore=!1,aL(pm,YOe),pm.x=e.axis.dataToCoord(c.tickValue),pm.y=r.labelOffset+r.labelDirection*i,pm.rotation=c.layoutRotation,n.add(pm),pm.updateTransform(),n.remove(pm),pm.decomposeTransform(),aL(l,pm),l.markRedraw(),RL(o,!0),bv(o)}})}var pm=new _n,YOe=new _n;function mV(r){return!!r}function qOe(r,e,t,n){t.on("click",function(i){var a={type:oI,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};a[r.axis.dim+"AxisIndex"]=r.componentIndex,e.dispatchAction(a)})}function XOe(r,e,t){var n=Bo();if(n){var i=n.retrieveAxisBreakPairs(t,function(s){return s&&uS(s.label).break},!0),a=r.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&he(i,function(s){eM().adjustBreakLabelPair(r.axis.inverse,e,[bv(t[s[0]]),bv(t[s[1]])])})}}function PL(r,e,t){t=t||{};var n=e.axis,i={},a=n.getAxesOnZeroOf()[0],s=n.position,o=a?"onZero":s,l=n.dim,c=[r.x,r.x+r.width,r.y,r.y+r.height],u={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,d=l==="x"?[c[2]-f,c[3]+f]:[c[0]-f,c[1]+f];if(a){var h=a.toGlobalCoord(a.dataToCoord(0));d[u.onZero]=Math.max(Math.min(h,d[1]),d[0])}i.position=[l==="y"?d[u[o]]:c[0],l==="x"?d[u[o]]:c[3]],i.rotation=Math.PI/2*(l==="x"?0:1);var p={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=p[s],i.labelOffset=a?d[u[s]]-d[u.onZero]:0,e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Xl(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var v=e.get(["axisLabel","rotate"]);return i.labelRotate=o==="top"?-v:v,i.z2=1,i}function ZOe(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function E$(r){var e={xAxisModel:null,yAxisModel:null};return he(e,function(t,n){var i=n.replace(/Model$/,""),a=r.getReferringComponents(i,Ls).models[0];e[n]=a}),e}function KOe(r,e,t,n,i,a){for(var s=PL(r,t),o=!1,l=!1,c=0;c<e.length;c++)cz(e[c].getOtherAxis(t.axis).scale)&&(o=l=!0,t.axis.type==="category"&&t.axis.onBand&&(l=!1));return s.axisLineAutoShow=o,s.axisTickAutoShow=l,s.defaultNameMoveOverlap=a,new Xu(t,n,s,i)}function $Oe(r,e,t){var n=PL(e,t);r.updateCfg(n)}function tpe(r,e,t){var n=og.prototype,i=n.getTicks.call(t),a=n.getTicks.call(t,{expandToNicedExtent:!0}),s=i.length-1,o=n.getInterval.call(t),l=Yhe(r,e),c=l.extent,u=l.fixMin,f=l.fixMax;r.type==="log"&&(c=uz(r.base,c,!0)),r.setBreaksFromOption(Xhe(e)),r.setExtent(c[0],c[1]),r.calcNiceExtent({splitNumber:s,fixMin:u,fixMax:f});var d=n.getExtent.call(r);u&&(c[0]=d[0]),f&&(c[1]=d[1]);var h=n.getInterval.call(r),p=c[0],v=c[1];if(u&&f)h=(v-p)/s;else if(u)for(v=c[0]+h*s;v<c[1]&&isFinite(v)&&isFinite(c[1]);)h=MP(h),v=c[0]+h*s;else if(f)for(p=c[1]-h*s;p>c[0]&&isFinite(p)&&isFinite(c[0]);)h=MP(h),p=c[1]-h*s;else{var x=r.getTicks().length-1;x>s&&(h=MP(h));var g=h*s;v=Math.ceil(c[1]/h)*h,p=vo(v-g),p<0&&c[0]>=0?(p=0,v=vo(g)):v>0&&c[1]<=0&&(v=0,p=-vo(g))}var _=(i[0].value-a[0].value)/o,w=(i[s].value-a[s].value)/o;n.setExtent.call(r,p+h*_,v+h*w),n.setInterval.call(r,h),(_||w)&&n.setNiceExtent.call(r,p+h,v-h)}var M$=[[3,1],[0,2]],JOe=(function(){function r(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Tz,this._initCartesian(e,t,n),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model);function i(s){var o,l=Wn(s),c=l.length;if(c){for(var u=[],f=c-1;f>=0;f--){var d=+l[f],h=s[d],p=h.model,v=h.scale;cz(v)&&p.get("alignTicks")&&p.get("interval")==null?u.push(h):(eb(v,p),cz(v)&&(o=h))}u.length&&(o||(o=u.pop(),eb(o.scale,o.model)),he(u,function(x){tpe(x.scale,x.model,o.scale)}))}}i(n.x),i(n.y);var a={};he(n.x,function(s){C$(n,"y",s,a)}),he(n.y,function(s){C$(n,"x",s,a)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,n){var i=al(e,t),a=this._rect=Ja(e.getBoxLayoutParams(),i.refContainer),s=this._axesMap,o=this._coordsList,l=e.get("containLabel");if(Ez(s,a),!n){var c=tPe(a,o,s,l,t),u=void 0;if(l)Mz?(Mz(this._axesList,a),Ez(s,a)):u=L$(a.clone(),"axisLabel",null,a,s,c,i);else{var f=rPe(e,a,i),d=f.outerBoundsRect,h=f.parsedOuterBoundsContain,p=f.outerBoundsClamp;d&&(u=L$(d,h,p,a,s,c,i))}rpe(a,s,$p.determine,null,u,i)}he(this._coordsList,function(v){v.calcAffineTransform()})},r.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null)return n[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var n="x"+e+"y"+t;return this._coordsMap[n]}kr(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,n=e.xAxisModel||t&&t.getReferringComponents("xAxis",Ls).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",Ls).models[0],a=e.gridModel,s=this._coordsList,o,l;if(t)o=t.coordinateSystem,hn(s,o)<0&&(o=null);else if(n&&i)o=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var c=a.coordinateSystem;c===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,n){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",c("x"),this),t.eachComponent("yAxis",c("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,he(o.x,function(u,f){he(o.y,function(d,h){var p="x"+f+"y"+h,v=new NOe(p);v.master=i,v.model=e,i._coordsMap[p]=v,i._coordsList.push(v),v.addAxis(u),v.addAxis(d)})});function c(u){return function(f,d){if(HP(f,e)){var h=f.get("position");u==="x"?h!=="top"&&h!=="bottom"&&(h=s.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=s.left?"right":"left"),s[h]=!0;var p=new Wde(u,ZE(f),[0,0],f.get("type"),h),v=p.type==="category";p.onBand=v&&f.get("boundaryGap"),p.inverse=f.get("inverse"),f.axis=p,p.model=f,p.grid=a,p.index=d,a._axesList.push(p),o[u][d]=p,l[u]++}}}},r.prototype._updateScale=function(e,t){he(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(ZOe(i)){var a=E$(i),s=a.xAxisModel,o=a.yAxisModel;if(!HP(s,t)||!HP(o,t))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),c=i.getData(),u=l.getAxis("x"),f=l.getAxis("y");n(c,u),n(c,f)}},this);function n(i,a){he(ML(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},r.prototype.getTooltipAxes=function(e){var t=[],n=[];return he(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),s=i.getOtherAxis(a);hn(t,a)<0&&t.push(a),hn(n,s)<0&&n.push(s)}),{baseAxes:t,otherAxes:n}},r.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,a){var s=new r(i,e,t);s.name="grid_"+a,s.resize(i,t,!0),i.coordinateSystem=s,n.push(s)}),e.eachSeries(function(i){qE({targetModel:i,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var s=E$(i),o=s.xAxisModel,l=s.yAxisModel,c=o.getCoordSysModel(),u=c.coordinateSystem;return u.getCartesian(o.componentIndex,l.componentIndex)}}),n},r.dimensions=Tz,r})();function HP(r,e){return r.getCoordSysModel()===e}function C$(r,e,t,n){t.getAxesOnZeroOf=function(){return a?[a]:[]};var i=r[e],a,s=t.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)N$(i[l])&&(a=i[l]);else for(var c in i)if(i.hasOwnProperty(c)&&N$(i[c])&&!n[u(i[c])]){a=i[c];break}a&&(n[u(a)]=!0);function u(f){return f.dim+"_"+f.index}}function N$(r){return r&&r.type!=="category"&&r.type!=="time"&&Gke(r)}function QOe(r,e){var t=r.getExtent(),n=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+e}:function(i){return n-i+e},r.toLocalCoord=r.dim==="x"?function(i){return i-e}:function(i){return n-i+e}}function Ez(r,e){he(r.x,function(t){return D$(t,e.x,e.width)}),he(r.y,function(t){return D$(t,e.y,e.height)})}function D$(r,e,t){var n=[0,t],i=r.inverse?1:0;r.setExtent(n[i],n[1-i]),QOe(r,e)}var Mz;function ePe(r){Mz=r}function L$(r,e,t,n,i,a,s){rpe(n,i,$p.estimate,e,!1,s);var o=[0,0,0,0];c(0),c(1),u(n,0,NaN),u(n,1,NaN);var l=wy(o,function(d){return d>0})==null;return $2(n,o,!0,!0,t),Ez(i,n),l;function c(d){he(i[nn[d]],function(h){if(O3(h.model)){var p=a.ensureRecord(h.model),v=p.labelInfoList;if(v)for(var x=0;x<v.length;x++){var g=v[x],_=h.scale.normalize(uS(g.label).tickValue);_=d===1?1-_:_,u(g.rect,d,_),u(g.rect,1-d,NaN)}var w=p.nameLayout;if(w){var _=oS(p.nameLocation)?.5:NaN;u(w.rect,d,_),u(w.rect,1-d,NaN)}}})}function u(d,h,p){var v=r[nn[h]]-d[nn[h]],x=d[jo[h]]+d[nn[h]]-(r[jo[h]]+r[nn[h]]);v=f(v,1-p),x=f(x,p);var g=M$[h][0],_=M$[h][1];o[g]=po(o[g],v),o[_]=po(o[_],x)}function f(d,h){return d>0&&!mc(h)&&h>1e-4&&(d/=h),d}}function tPe(r,e,t,n,i){var a=new Zde(nPe);return he(t,function(s){return he(s,function(o){if(O3(o.model)){var l=!n;o.axisBuilder=KOe(r,e,o.model,i,a,l)}})}),a}function rpe(r,e,t,n,i,a){var s=t===$p.determine;he(e,function(c){return he(c,function(u){O3(u.model)&&($Oe(u.axisBuilder,r,u.model),u.axisBuilder.build(s?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var o={x:0,y:0};l(0),l(1);function l(c){o[nn[1-c]]=r[jo[c]]<=a.refContainer[jo[c]]*.5?0:1-c===1?2:1}he(e,function(c,u){return he(c,function(f){O3(f.model)&&((n==="all"||s)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:o[u]}),s&&f.axisBuilder.build({axisLine:!0}))})})}function rPe(r,e,t){var n,i=r.get("outerBoundsMode",!0);i==="same"?n=e.clone():(i==null||i==="auto")&&(n=Ja(r.get("outerBounds",!0)||Vde,t.refContainer));var a=r.get("outerBoundsContain",!0),s;a==null||a==="auto"||hn(["all","axisLabel"],a)<0?s="all":s=a;var o=[oL(wr(r.get("outerBoundsClampWidth",!0),OL[0]),e.width),oL(wr(r.get("outerBoundsClampHeight",!0),OL[1]),e.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:s,outerBoundsClamp:o}}var nPe=function(r,e,t,n,i,a){var s=t.axis.dim==="x"?"y":"x";Kde(r,e,t,n,i,a),oS(r.nameLocation)||he(e.recordMap[s],function(o){o&&o.labelInfoList&&o.dirVec&&Jde(o.labelInfoList,o.dirVec,n,i)})};function iPe(r,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return aPe(t,r,e),t.seriesInvolved&&oPe(t,r),t}function aPe(r,e,t){var n=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];he(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=z3(o.model),c=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=o;var u=o.model,f=u.getModel("tooltip",n);if(he(o.getAxes(),cn(v,!1,null)),o.getTooltipAxes&&n&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",p=o.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&he(p.baseAxes,cn(v,h?"cross":!0,d)),h&&he(p.otherAxes,cn(v,"cross",!1))}function v(x,g,_){var w=_.model.getModel("axisPointer",i),A=w.get("show");if(!(!A||A==="auto"&&!x&&!Cz(w))){g==null&&(g=w.get("triggerTooltip")),w=x?sPe(_,f,i,e,x,g):w;var M=w.get("snap"),C=w.get("triggerEmphasis"),N=z3(_.model),L=g||M||_.type==="category",D=r.axesInfo[N]={key:N,axis:_,coordSys:o,axisPointerModel:w,triggerTooltip:g,triggerEmphasis:C,involveSeries:L,snap:M,useHandle:Cz(w),seriesModels:[],linkGroup:null};c[N]=D,r.seriesInvolved=r.seriesInvolved||L;var k=lPe(a,_);if(k!=null){var O=s[k]||(s[k]={axesInfo:{}});O.axesInfo[N]=D,O.mapper=a[k].mapper,D.linkGroup=O}}}})}function sPe(r,e,t,n,i,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};he(o,function(d){l[d]=Cr(s.get(d))}),l.snap=r.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),i==="cross"){var u=s.get(["label","show"]);if(c.show=u??!0,!a){var f=l.lineStyle=s.get("crossStyle");f&&Rr(c,f.textStyle)}}return r.model.getModel("axisPointer",new Ln(l,t,n))}function oPe(r,e){e.eachSeries(function(t){var n=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!n||!n.model||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||he(r.coordSysAxesInfo[z3(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function lPe(r,e){for(var t=e.model,n=e.dim,i=0;i<r.length;i++){var a=r[i]||{};if(GP(a[n+"AxisId"],t.id)||GP(a[n+"AxisIndex"],t.componentIndex)||GP(a[n+"AxisName"],t.name))return i}}function GP(r,e){return r==="all"||Ut(r)&&hn(r,e)>=0||r===e}function cPe(r){var e=gV(r);if(e){var t=e.axisPointerModel,n=e.axis.scale,i=t.option,a=t.get("status"),s=t.get("value");s!=null&&(s=n.parse(s));var o=Cz(t);a==null&&(i.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function gV(r){var e=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[z3(r)]}function uPe(r){var e=gV(r);return e&&e.axisPointerModel}function Cz(r){return!!r.get(["handle","show"])}function z3(r){return r.type+"||"+r.id}var R$={},xb=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this.axisPointerClass&&cPe(t),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,n,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,n){var i=this._axisPointer;i&&i.remove(n)},e.prototype.dispose=function(t,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=uPe(t);s?(this._axisPointer||(this._axisPointer=new a)).render(t,s,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,n){R$[t]=n},e.getAxisPointerClass=function(t){return t&&R$[t]},e.type="axis",e})(Aa),Nz=Mn();function npe(r,e,t,n){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=n.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(c.length){var u=o.length,f=Nz(r).splitAreaColors,d=br(),h=0;if(f)for(var p=0;p<c.length;p++){var v=f.get(c[p].tickValue);if(v!=null){h=(v+(u-1)*p)%u;break}}var x=i.toGlobalCoord(c[0].coord),g=s.getAreaStyle();o=Ut(o)?o:[o];for(var p=1;p<c.length;p++){var _=i.toGlobalCoord(c[p].coord),w=void 0,A=void 0,M=void 0,C=void 0;i.isHorizontal()?(w=x,A=l.y,M=_-w,C=l.height,x=w+M):(w=l.x,A=x,M=l.width,C=_-A,x=A+C);var N=c[p-1].tickValue;N!=null&&d.set(N,h),e.add(new _n({anid:N!=null?"area_"+N:null,shape:{x:w,y:A,width:M,height:C},style:Rr({fill:o[h]},g),autoBatch:!0,silent:!0})),h=(h+1)%u}Nz(r).splitAreaColors=d}}}function ipe(r){Nz(r).splitAreaColors=null}var fPe=["splitArea","splitLine","minorSplitLine","breakArea"],ape=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,n,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Nr,this.group.add(this._axisGroup),!!O3(t)){this._axisGroup.add(t.axis.axisBuilder.group),he(fPe,function(l){t.get([l,"show"])&&hPe[l](this,this._axisGroup,t,t.getCoordSysModel(),i)},this);var o=a&&a.type==="changeAxisOrder"&&a.isInitSort;o||WE(s,this._axisGroup,t),r.prototype.render.call(this,t,n,i,a)}},e.prototype.remove=function(){ipe(this)},e.type="cartesianAxis",e})(xb),hPe={splitLine:function(r,e,t,n,i){var a=t.axis;if(!a.scale.isBlank()){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),c=s.get("showMinLine")!==!1,u=s.get("showMaxLine")!==!1;l=Ut(l)?l:[l];for(var f=n.coordinateSystem.getRect(),d=a.isHorizontal(),h=0,p=a.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),v=[],x=[],g=o.getLineStyle(),_=0;_<p.length;_++){var w=a.toGlobalCoord(p[_].coord);if(!(_===0&&!c||_===p.length-1&&!u)){var A=p[_].tickValue;d?(v[0]=w,v[1]=f.y,x[0]=w,x[1]=f.y+f.height):(v[0]=f.x,v[1]=w,x[0]=f.x+f.width,x[1]=w);var M=h++%l.length,C=new mo({anid:A!=null?"line_"+A:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:x[0],y2:x[1]},style:Rr({stroke:l[M]},g),silent:!0});nS(C.shape,g.lineWidth),e.add(C)}}}},minorSplitLine:function(r,e,t,n,i){var a=t.axis,s=t.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=n.coordinateSystem.getRect(),c=a.isHorizontal(),u=a.getMinorTicksCoords();if(u.length)for(var f=[],d=[],h=o.getLineStyle(),p=0;p<u.length;p++)for(var v=0;v<u[p].length;v++){var x=a.toGlobalCoord(u[p][v].coord);c?(f[0]=x,f[1]=l.y,d[0]=x,d[1]=l.y+l.height):(f[0]=l.x,f[1]=x,d[0]=l.x+l.width,d[1]=x);var g=new mo({anid:"minor_line_"+u[p][v].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:h,silent:!0});nS(g.shape,h.lineWidth),e.add(g)}},splitArea:function(r,e,t,n,i){npe(r,e,t,n)},breakArea:function(r,e,t,n,i){var a=eM(),s=t.axis.scale;a&&s.type!=="ordinal"&&a.rectCoordBuildBreakAxis(e,r,t,n.coordinateSystem.getRect(),i)}},spe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e})(ape),dPe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=spe.type,t}return e.type="yAxis",e})(ape),pPe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new _n({shape:t.coordinateSystem.getRect(),style:Rr({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(Aa),k$={offset:0};function ope(r){r.registerComponentView(pPe),r.registerComponentModel(wOe),r.registerCoordinateSystem("cartesian2d",JOe),cS(r,"x",wz,k$),cS(r,"y",wz,k$),r.registerComponentView(spe),r.registerComponentView(dPe),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function vPe(r,e){var t=r.coordinateSystem,n=t&&t.type,i=t&&t.getBaseAxis&&t.getBaseAxis(),a=i&&i.scale&&i.scale.type,s=n==="cartesian2d"&&a==="ordinal"||n==="single",o=e.model.get("jitter")>0;return s&&o}var mPe=Mn();function I$(r,e,t,n){if(r instanceof Wde){var i=r.scale.type;if(i!=="category"&&i!=="ordinal")return t}var a=r.model,s=a.get("jitter"),o=a.get("jitterOverlap"),l=a.get("jitterMargin")||0,c=r.scale.type==="ordinal"?r.getBandWidth():null;return s>0?o?lpe(t,s,c,n):gPe(r,e,t,n,s,l):t}function lpe(r,e,t,n){if(t===null)return r+(Math.random()-.5)*e;var i=t-n*2,a=Math.min(Math.max(0,e),i);return r+(Math.random()-.5)*a}function gPe(r,e,t,n,i,a){var s=mPe(r);s.items||(s.items=[]);var o=s.items,l=O$(o,e,t,n,i,a,1),c=O$(o,e,t,n,i,a,-1),u=Math.abs(l-t)<Math.abs(c-t)?l:c,f=r.scale.type==="ordinal"?r.getBandWidth():null,d=Math.abs(u-t);return d>i/2||f&&d>f/2-n?lpe(t,i,f,n):(o.push({fixedCoord:e,floatCoord:u,r:n}),u)}function O$(r,e,t,n,i,a,s){for(var o=t,l=0;l<r.length;l++){var c=r[l],u=e-c.fixedCoord,f=o-c.floatCoord,d=u*u+f*f,h=n+c.r+a;if(d<h*h){var p=c.floatCoord+Math.sqrt(h*h-u*u)*s;if(Math.abs(p-t)>i/2)return Number.MAX_VALUE;if(s===1&&p>o||s===-1&&p<o){o=p,l=-1;continue}}}return o}function xPe(r){r.eachSeriesByType("scatter",function(e){var t=e.coordinateSystem;if(t&&(t.type==="cartesian2d"||t.type==="single")){var n=t.getBaseAxis?t.getBaseAxis():null,i=n&&vPe(e,n);if(i){var a=e.getData();a.each(function(s){var o=n.dim,l=n.orient,c=l==="horizontal"&&n.type!=="category"||l==="vertical"&&n.type==="category",u=a.getItemLayout(s),f=a.getItemVisual(s,"symbolSize"),d=f instanceof Array?(f[1]+f[0])/2:f;if(o==="y"||o==="single"&&c){var h=I$(n,u[0],u[1],d/2);a.setItemLayout(s,[u[0],h])}else if(o==="x"||o==="single"&&!c){var h=I$(n,u[1],u[0],d/2);a.setItemLayout(s,[h,u[1]])}})}}})}function yPe(r){xn(ope),r.registerSeriesModel(gOe),r.registerChartView(_Oe),r.registerLayout(QE("scatter"))}function bPe(r){r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,xPe)}function _Pe(r){r.eachSeriesByType("radar",function(e){var t=e.getData(),n=[],i=e.coordinateSystem;if(i){var a=i.getIndicatorAxes();he(a,function(s,o){t.each(t.mapDimension(a[o].dim),function(l,c){n[c]=n[c]||[];var u=i.dataToPoint(l,o);n[c][o]=P$(u)?u:F$(i)})}),t.each(function(s){var o=wy(n[s],function(l){return P$(l)})||F$(i);n[s].push(o.slice()),t.setItemLayout(s,n[s])})}})}function P$(r){return!isNaN(r[0])&&!isNaN(r[1])}function F$(r){return[r.cx,r.cy]}function wPe(r){var e=r.polar;if(e){Ut(e)||(e=[e]);var t=[];he(e,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],Ut(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):t.push(n)}),r.polar=t}he(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var SPe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=this._data;function c(d,h){var p=d.getItemVisual(h,"symbol")||"circle";if(p!=="none"){var v=ZS(d.getItemVisual(h,"symbolSize")),x=xo(p,-1,-1,2,2),g=d.getItemVisual(h,"symbolRotate")||0;return x.attr({style:{strokeNoScale:!0},z2:100,scaleX:v[0]/2,scaleY:v[1]/2,rotation:g*Math.PI/180||0}),x}}function u(d,h,p,v,x,g){p.removeAll();for(var _=0;_<h.length-1;_++){var w=c(v,x);w&&(w.__dimIdx=_,d[_]?(w.setPosition(d[_]),pb[g?"initProps":"updateProps"](w,{x:h[_][0],y:h[_][1]},t,x)):w.setPosition(h[_]),p.add(w))}}function f(d){return Gt(d,function(h){return[a.cx,a.cy]})}o.diff(l).add(function(d){var h=o.getItemLayout(d);if(h){var p=new Tc,v=new Kl,x={shape:{points:h}};p.shape.points=f(h),v.shape.points=f(h),Ua(p,x,t,d),Ua(v,x,t,d);var g=new Nr,_=new Nr;g.add(v),g.add(p),g.add(_),u(v.shape.points,h,_,o,d,!0),o.setItemGraphicEl(d,g)}}).update(function(d,h){var p=l.getItemGraphicEl(h),v=p.childAt(0),x=p.childAt(1),g=p.childAt(2),_={shape:{points:o.getItemLayout(d)}};_.shape.points&&(u(v.shape.points,_.shape.points,g,o,d,!1),zd(x),zd(v),si(v,_,t),si(x,_,t),o.setItemGraphicEl(d,p))}).remove(function(d){s.remove(l.getItemGraphicEl(d))}).execute(),o.eachItemGraphicEl(function(d,h){var p=o.getItemModel(h),v=d.childAt(0),x=d.childAt(1),g=d.childAt(2),_=o.getItemVisual(h,"style"),w=_.fill;s.add(d),v.useStyle(Rr(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:w})),nl(v,p,"lineStyle"),nl(x,p,"areaStyle");var A=p.getModel("areaStyle"),M=A.isEmpty()&&A.parentModel.isEmpty();x.ignore=M,he(["emphasis","select","blur"],function(N){var L=p.getModel([N,"areaStyle"]),D=L.isEmpty()&&L.parentModel.isEmpty();x.ensureState(N).ignore=D&&M;var k=p.getModel([N,"lineStyle"]).getLineStyle();v.ensureState(N).style=k;var O=L.getAreaStyle();x.ensureState(N).style=O;var I=p.getModel([N,"itemStyle"]).getItemStyle();g.eachChild(function(j){j.ensureState(N).style=Cr(I)})}),x.useStyle(Rr(p.getModel("areaStyle").getAreaStyle(),{fill:w,opacity:.7,decal:_.decal}));var C=p.getModel("emphasis");g.eachChild(function(N){if(N instanceof Nl){var L=N.style;N.useStyle(It({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},_))}else N.useStyle(_),N.setColor(w),N.style.strokeNoScale=!0;var D=o.getStore().get(o.getDimensionIndex(N.__dimIdx),h);(D==null||isNaN(D))&&(D=""),Al(N,il(p),{labelFetcher:o.hostModel,labelDataIndex:h,labelDimIndex:N.__dimIdx,defaultText:D,inheritColor:w,defaultOpacity:_.opacity})}),ss(d,C.get("focus"),C.get("blurScope"),C.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e})(Zi),TPe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new tT(hr(this.getData,this),hr(this.getRawData,this))},e.prototype.getInitialData=function(t,n){return eT(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(t),c=l===""?this.name:l,u=Vfe(this,t);return Uo("section",{header:c,sortBlocks:!0,blocks:Gt(o,function(f){var d=a.get(a.mapDimension(f.dim),t);return Uo("nameValue",{markerType:"subItem",markerColor:u,name:f.name,value:d,sortParam:d})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(Gt(i.dimensions,function(c){return n.mapDimension(c)}),t),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var l=i.getIndicatorAxes();return i.coordToPoint(l[s].dataToCoord(a[s]),s)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e})(la),f5=Gde.value;function pN(r,e){return Rr({show:e},r)}var APe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),c=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),d=this.get("triggerEvent"),h=Gt(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var v=l;p.color!=null&&(v=Rr({color:p.color},l));var x=pn(Cr(p),{boundaryGap:t,splitNumber:n,scale:i,axisLine:a,axisTick:s,axisLabel:o,name:p.text,showName:c,nameLocation:"end",nameGap:f,nameTextStyle:v,triggerEvent:d},!1);if(fr(u)){var g=x.name;x.name=u.replace("{value}",g??"")}else Tr(u)&&(x.name=u(x.name,x));var _=new Ln(x,null,this.ecModel);return qs(_,JS.prototype),_.mainType="radar",_.componentIndex=this.componentIndex,_},this);this._indicatorModels=h},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:ut.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:pn({lineStyle:{color:ut.color.neutral20}},f5.axisLine),axisLabel:pN(f5.axisLabel,!1),axisTick:pN(f5.axisTick,!1),splitLine:pN(f5.splitLine,!0),splitArea:pN(f5.splitArea,!0),indicator:[]},e})(En),EPe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group;a.removeAll(),this._buildAxes(t,i),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t,n){var i=t.coordinateSystem,a=i.getIndicatorAxes(),s=Gt(a,function(o){var l=o.model.get("showName")?o.name:"",c=new Xu(o.model,n,{axisName:l,position:[i.cx,i.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return c});he(s,function(o){o.build(),this.group.add(o.group)},this)},e.prototype._buildSplitLineAndArea=function(t){var n=t.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=t.get("shape"),s=t.getModel("splitLine"),o=t.getModel("splitArea"),l=s.getModel("lineStyle"),c=o.getModel("areaStyle"),u=s.get("show"),f=o.get("show"),d=l.get("color"),h=c.get("color"),p=Ut(d)?d:[d],v=Ut(h)?h:[h],x=[],g=[];function _(K,H,Z){var Y=Z%H.length;return K[Y]=K[Y]||[],Y}if(a==="circle")for(var w=i[0].getTicksCoords(),A=n.cx,M=n.cy,C=0;C<w.length;C++){if(u){var N=_(x,p,C);x[N].push(new Ev({shape:{cx:A,cy:M,r:w[C].coord}}))}if(f&&C<w.length-1){var N=_(g,v,C);g[N].push(new zS({shape:{cx:A,cy:M,r0:w[C].coord,r:w[C+1].coord}}))}}else for(var L,D=Gt(i,function(K,H){var Z=K.getTicksCoords();return L=L==null?Z.length-1:Math.min(Z.length-1,L),Gt(Z,function(Y){return n.coordToPoint(Y.coord,H)})}),k=[],C=0;C<=L;C++){for(var O=[],I=0;I<i.length;I++)O.push(D[I][C]);if(O[0]&&O.push(O[0].slice()),u){var N=_(x,p,C);x[N].push(new Kl({shape:{points:O}}))}if(f&&k){var N=_(g,v,C-1);g[N].push(new Tc({shape:{points:O.concat(k)}}))}k=O.slice().reverse()}var j=l.getLineStyle(),B=c.getAreaStyle();he(g,function(K,H){this.group.add(Eh(K,{style:Rr({stroke:"none",fill:v[H%v.length]},B),silent:!0}))},this),he(x,function(K,H){this.group.add(Eh(K,{style:Rr({fill:"none",stroke:p[H%p.length]},j),silent:!0}))},this)},e.type="radar",e})(Aa),MPe=(function(r){dt(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return e})(Gd),CPe=(function(){function r(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=Gt(e.getIndicatorModels(),function(i,a){var s="indicator_"+a,o=new MPe(s,new og);return o.name=i.get("name"),o.model=i,i.axis=o,this.dimensions.push(s),o},this),this.resize(e,n)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},r.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t],i=n.angle,a=this.cx+e*Math.cos(i),s=this.cy-e*Math.sin(i);return[a,s]},r.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var a=Math.atan2(-n,t),s=1/0,o,l=-1,c=0;c<this._indicatorAxes.length;c++){var u=this._indicatorAxes[c],f=Math.abs(a-u.angle);f<s&&(o=u,l=c,s=f)}return[l,+(o&&o.coordToData(i))]},r.prototype.resize=function(e,t){var n=al(e,t).refContainer,i=e.get("center"),a=Math.min(n.width,n.height)/2;this.cx=ur(i[0],n.width)+n.x,this.cy=ur(i[1],n.height)+n.y,this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(fr(s)||Jn(s))&&(s=[0,s]),this.r0=ur(s[0],a),this.r=ur(s[1],a),he(this._indicatorAxes,function(o,l){o.setExtent(this.r0,this.r);var c=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),o.angle=c},this)},r.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;he(n,function(o){o.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||e.getComponent("radar",o.get("radarIndex"))!==i)){var c=o.getData();he(n,function(u){u.scale.unionExtentFromData(c,c.mapDimension(u.dim))})}},this);var a=i.get("splitNumber"),s=new og;s.setExtent(0,a),s.setInterval(1),he(n,function(o,l){tpe(o.scale,o.model,s)})},r.prototype.convertToPixel=function(e,t,n){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(e,t,n){return console.warn("Not implemented."),null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var a=new r(i,e,t);n.push(a),i.coordinateSystem=a}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},r.dimensions=[],r})();function NPe(r){r.registerCoordinateSystem("radar",CPe),r.registerComponentModel(APe),r.registerComponentView(EPe),r.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(n){t.setItemVisual(n,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function DPe(r){xn(NPe),r.registerChartView(SPe),r.registerSeriesModel(TPe),r.registerLayout(_Pe),r.registerProcessor(QS("radar")),r.registerPreprocessor(wPe)}var xV=Mn();function LPe(r,e,t){xV(r)[e]=t}function RPe(r,e,t){var n=xV(r),i=n[e];i===t&&(n[e]=null)}function B$(r,e){return!!xV(r)[e]}n0({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ws);var kPe={axisPointer:1,tooltip:1,brush:1};function cpe(r,e,t){var n=e.getComponentByElement(r.topTarget);if(!n||n===t||kPe.hasOwnProperty(n.mainType))return!1;var i=n.coordinateSystem;if(!i||i.model===t)return!1;var a=J2(n),s=J2(t);return!((a.zlevel-s.zlevel||a.z-s.z)<=0)}var yb=(function(r){dt(e,r);function e(t){var n=r.call(this)||this;n._zr=t;var i=hr(n._mousedownHandler,n),a=hr(n._mousemoveHandler,n),s=hr(n._mouseupHandler,n),o=hr(n._mousewheelHandler,n),l=hr(n._pinchHandler,n);return n.enable=function(c,u){var f=u.zInfo,d=J2(f.component),h=d.z,p=d.zlevel,v={component:f.component,z:h,zlevel:p,z2:wr(f.z2,-1/0)},x=It({},u.triggerInfo);this._opt=Rr(It({},u),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:v,triggerInfo:x}),c==null&&(c=!0),(!this._enabled||this._controlType!==c)&&(this._enabled=!0,this.disable(),(c===!0||c==="move"||c==="pan")&&(d5(t,"mousedown",i,v),d5(t,"mousemove",a,v),d5(t,"mouseup",s,v)),(c===!0||c==="scale"||c==="zoom")&&(d5(t,"mousewheel",o,v),d5(t,"pinch",l,v)))},n.disable=function(){this._enabled=!1,p5(t,"mousedown",i),p5(t,"mousemove",a),p5(t,"mouseup",s),p5(t,"mousewheel",o),p5(t,"pinch",l)},n}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype._checkPointer=function(t,n,i){var a=this._opt,s=a.zInfoParsed;if(cpe(t,a.api,s.component))return!1;var o=a.triggerInfo,l=o.roamTrigger,c=!1;return l==="global"&&(c=!0),c||(c=o.isInSelf(t,n,i)),c&&o.isInClip&&!o.isInClip(t,n,i)&&(c=!1),c},e.prototype._decideCursorStyle=function(t,n,i,a){var s=t.target;if(!s&&this._checkPointer(t,n,i))return"grab";if(a)return s&&s.cursor||"default"},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(aX(t)||h5(t))){for(var n=t.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=t.offsetX,a=t.offsetY;this._checkPointer(t,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){var n=this._zr;if(!(t.gestureEvent==="pinch"||B$(n,"globalPan")||h5(t))){var i=t.offsetX,a=t.offsetY;if(!this._dragging||!_D("moveOnMouseMove",t,this._opt)){var s=this._decideCursorStyle(t,i,a,!1);s&&n.setCursorStyle(s);return}n.setCursorStyle("grabbing");var o=this._x,l=this._y,c=i-o,u=a-l;this._x=i,this._y=a,this._opt.preventDefaultMouseMove&&rg(t.event),t.__ecRoamConsumed=!0,z$(this,"pan","moveOnMouseMove",t,{dx:c,dy:u,oldX:o,oldY:l,newX:i,newY:a,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){if(!h5(t)){var n=this._zr;if(!aX(t)){this._dragging=!1;var i=this._decideCursorStyle(t,t.offsetX,t.offsetY,!0);i&&n.setCursorStyle(i)}}},e.prototype._mousewheelHandler=function(t){if(!h5(t)){var n=_D("zoomOnMouseWheel",t,this._opt),i=_D("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,s=Math.abs(a),o=t.offsetX,l=t.offsetY;if(!(a===0||!n&&!i)){if(n){var c=s>3?1.4:s>1?1.2:1.1,u=a>0?c:1/c;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",t,{scale:u,originX:o,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(a),d=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:d,originX:o,originY:l,isAvailableBehavior:null})}}}},e.prototype._pinchHandler=function(t){if(!(B$(this._zr,"globalPan")||h5(t))){var n=t.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,t,{scale:n,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e.prototype._checkTriggerMoveZoom=function(t,n,i,a,s){t._checkPointer(a,s.originX,s.originY)&&(rg(a.event),a.__ecRoamConsumed=!0,z$(t,n,i,a,s))},e})(Vd);function h5(r){return r.__ecRoamConsumed}var IPe=Mn();function lI(r){var e=IPe(r);return e.roam=e.roam||{},e.uniform=e.uniform||{},e}function d5(r,e,t,n){for(var i=lI(r),a=i.roam,s=a[e]=a[e]||[],o=0;o<s.length;o++){var l=s[o].zInfoParsed;if((l.zlevel-n.zlevel||l.z-n.z||l.z2-n.z2)<=0)break}s.splice(o,0,{listener:t,zInfoParsed:n}),OPe(r,e)}function p5(r,e,t){for(var n=lI(r),i=n.roam[e]||[],a=0;a<i.length;a++)if(i[a].listener===t){i.splice(a,1),i.length||PPe(r,e);return}}function OPe(r,e){var t=lI(r);t.uniform[e]||r.on(e,t.uniform[e]=function(n){var i=t.roam[e];if(i)for(var a=0;a<i.length;a++)i[a].listener(n)})}function PPe(r,e){var t=lI(r),n=t.uniform;n[e]&&(r.off(e,n[e]),n[e]=null)}function z$(r,e,t,n,i){i.isAvailableBehavior=hr(_D,null,t,n),r.trigger(e,i)}function _D(r,e,t){var n=t[r];return!r||n&&(!fr(n)||e.event[n+"Key"])}function yV(r,e,t){var n=r.target;n.x+=e,n.y+=t,n.dirty()}function bV(r,e,t,n){var i=r.target,a=r.zoomLimit,s=r.zoom=r.zoom||1;s*=e,s=_V(s,a);var o=s/r.zoom;r.zoom=s,fpe(i,t,n,o),i.dirty()}function upe(r,e,t,n,i,a){var s=new Br(0,0,0,0);n.enable(r.get("roam"),{api:e,zInfo:{component:r},triggerInfo:{roamTrigger:r.get("roamTrigger"),isInSelf:function(c,u,f){return s.copy(t.getBoundingRect()),s.applyTransform(t.getComputedTransform()),s.contain(u,f)},isInClip:function(c,u,f){return!a||a.contain(u,f)}}}),i.zoomLimit=r.get("scaleLimit");var o=r.coordinateSystem;i.zoom=o?o.getZoom():1;var l=r.subType+"Roam";n.off("pan").off("zoom").on("pan",function(c){yV(i,c.dx,c.dy),e.dispatchAction({seriesId:r.id,type:l,dx:c.dx,dy:c.dy})}).on("zoom",function(c){bV(i,c.scale,c.originX,c.originY),e.dispatchAction({seriesId:r.id,type:l,zoom:c.scale,originX:c.originX,originY:c.originY}),e.updateLabelLayout()})}function j$(r,e){return r.pointToProjected?r.pointToProjected(e):r.pointToData(e)}function cI(r,e,t){var n=r.getZoom(),i=r.getCenter(),a=e.zoom,s=r.projectedToPoint?r.projectedToPoint(i):r.dataToPoint(i);return e.dx!=null&&e.dy!=null&&(s[0]-=e.dx,s[1]-=e.dy,r.setCenter(j$(r,s))),a!=null&&(a=_V(n*a,t)/n,fpe(r,e.originX,e.originY,a),r.updateTransform(),r.setCenter(j$(r,s)),r.setZoom(a*n)),{center:r.getCenter(),zoom:r.getZoom()}}function fpe(r,e,t,n){r.x-=(e-r.x)*(n-1),r.y-=(t-r.y)*(n-1),r.scaleX*=n,r.scaleY*=n}function _V(r,e){if(e){var t=e.min||0,n=e.max||1/0;r=Math.max(Math.min(n,r),t)}return r}function hpe(r){if(fr(r)){var e=new DOMParser;r=e.parseFromString(r,"text/xml")}var t=r;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var WP,FL={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},U$=Wn(FL),BL={"alignment-baseline":"textBaseline","stop-color":"stopColor"},V$=Wn(BL),FPe=(function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(e,t){t=t||{};var n=hpe(e);this._defsUsePending=[];var i=new Nr;this._root=i;var a=[],s=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||t.width),l=parseFloat(n.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),xh(n,i,null,!0,!1);for(var c=n.firstChild;c;)this._parseNode(c,i,a,null,!1,!1),c=c.nextSibling;jPe(this._defs,this._defsUsePending),this._defsUsePending=[];var u,f;if(s){var d=uI(s);d.length>=4&&(u={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(u&&o!=null&&l!=null&&(f=ppe(u,{x:0,y:0,width:o,height:l}),!t.ignoreViewBox)){var h=i;i=new Nr,i.add(h),h.scaleX=h.scaleY=f.scale,h.x=f.x,h.y=f.y}return!t.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new _n({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:u,viewBoxTransform:f,named:a}},r.prototype._parseNode=function(e,t,n,i,a,s){var o=e.nodeName.toLowerCase(),l,c=i;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=t;else{if(!a){var u=WP[o];if(u&&gr(WP,o)){l=u.call(this,e,t);var f=e.getAttribute("name");if(f){var d={name:f,namedFrom:null,svgNodeTagLower:o,el:l};n.push(d),o==="g"&&(c=d)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});t.add(l)}}var h=H$[o];if(h&&gr(H$,o)){var p=h.call(this,e),v=e.getAttribute("id");v&&(this._defs[v]=p)}}if(l&&l.isGroup)for(var x=e.firstChild;x;)x.nodeType===1?this._parseNode(x,l,n,c,a,s):x.nodeType===3&&s&&this._parseText(x,l),x=x.nextSibling},r.prototype._parseText=function(e,t){var n=new tS({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});dd(t,n),xh(e,n,this._defsUsePending,!1,!1),BPe(n,t);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var o=n.getBoundingRect();return this._textX+=o.width,t.add(n),n},r.internalField=(function(){WP={g:function(e,t){var n=new Nr;return dd(t,n),xh(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new _n;return dd(t,n),xh(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new Ev;return dd(t,n),xh(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new mo;return dd(t,n),xh(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new VE;return dd(t,n),xh(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n=e.getAttribute("points"),i;n&&(i=Y$(n));var a=new Tc({shape:{points:i||[]},silent:!0});return dd(t,a),xh(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var n=e.getAttribute("points"),i;n&&(i=Y$(n));var a=new Kl({shape:{points:i||[]},silent:!0});return dd(t,a),xh(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var n=new Nl;return dd(t,n),xh(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(s);var o=new Nr;return dd(t,o),xh(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",o=new Nr;return dd(t,o),xh(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(e,t){var n=e.getAttribute("d")||"",i=Due(n);return dd(t,i),xh(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}})(),r})(),H$={lineargradient:function(r){var e=parseInt(r.getAttribute("x1")||"0",10),t=parseInt(r.getAttribute("y1")||"0",10),n=parseInt(r.getAttribute("x2")||"10",10),i=parseInt(r.getAttribute("y2")||"0",10),a=new db(e,t,n,i);return G$(r,a),W$(r,a),a},radialgradient:function(r){var e=parseInt(r.getAttribute("cx")||"0",10),t=parseInt(r.getAttribute("cy")||"0",10),n=parseInt(r.getAttribute("r")||"0",10),i=new u9(e,t,n);return G$(r,i),W$(r,i),i}};function G$(r,e){var t=r.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function W$(r,e){for(var t=r.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var n=t.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};dpe(t,a,a);var s=a.stopColor||t.getAttribute("stop-color")||"#000000",o=a.stopOpacity||t.getAttribute("stop-opacity");if(o){var l=ou(s),c=l&&l[3];c&&(l[3]*=Wm(o),s=Rd(l,"rgba"))}e.colorStops.push({offset:i,color:s})}t=t.nextSibling}}function dd(r,e){r&&r.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Rr(e.__inheritedStyle,r.__inheritedStyle))}function Y$(r){for(var e=uI(r),t=[],n=0;n<e.length;n+=2){var i=parseFloat(e[n]),a=parseFloat(e[n+1]);t.push([i,a])}return t}function xh(r,e,t,n,i){var a=e,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};r.nodeType===1&&(HPe(r,e),dpe(r,s,o),n||GPe(r,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=q$(a,"fill",s.fill,t)),s.stroke!=null&&(a.style.stroke=q$(a,"stroke",s.stroke,t)),he(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(a.style[l]=parseFloat(s[l]))}),he(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(a.style[l]=s[l])}),i&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=Gt(uI(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function BPe(r,e){var t=e.__selfStyle;if(t){var n=t.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),r.style.textBaseline=i}var a=e.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),r.style.textAlign=o)}}var zPe=/^url\(\s*#(.*?)\)/;function q$(r,e,t,n){var i=t&&t.match(zPe);if(i){var a=Nh(i[1]);n.push([r,e,a]);return}return t==="none"&&(t=null),t}function jPe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n[0].style[n[1]]=r[n[2]]}}var UPe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function uI(r){return r.match(UPe)||[]}var VPe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,YP=Math.PI/180;function HPe(r,e){var t=r.getAttribute("transform");if(t){t=t.replace(/,/g," ");var n=[],i=null;t.replace(VPe,function(f,d,h){return n.push(d,h),""});for(var a=n.length-1;a>0;a-=2){var s=n[a],o=n[a-1],l=uI(s);switch(i=i||wl(),o){case"translate":Zp(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Pk(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":xg(i,i,-parseFloat(l[0])*YP,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var c=Math.tan(parseFloat(l[0])*YP);Vp(i,[1,0,c,1,0,0],i);break;case"skewY":var u=Math.tan(parseFloat(l[0])*YP);Vp(i,[1,u,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}e.setLocalTransform(i)}}var X$=/([^\s:;]+)\s*:\s*([^:;]+)/g;function dpe(r,e,t){var n=r.getAttribute("style");if(n){X$.lastIndex=0;for(var i;(i=X$.exec(n))!=null;){var a=i[1],s=gr(FL,a)?FL[a]:null;s&&(e[s]=i[2]);var o=gr(BL,a)?BL[a]:null;o&&(t[o]=i[2])}}}function GPe(r,e,t){for(var n=0;n<U$.length;n++){var i=U$[n],a=r.getAttribute(i);a!=null&&(e[FL[i]]=a)}for(var n=0;n<V$.length;n++){var i=V$[n],a=r.getAttribute(i);a!=null&&(t[BL[i]]=a)}}function ppe(r,e){var t=e.width/r.width,n=e.height/r.height,i=Math.min(t,n);return{scale:i,x:-(r.x+r.width/2)*i+(e.x+e.width/2),y:-(r.y+r.height/2)*i+(e.y+e.height/2)}}function WPe(r,e){var t=new FPe;return t.parse(r,e)}var YPe=br(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),qPe=(function(){function r(e,t){this.type="geoSVG",this._usedGraphicMap=br(),this._freedGraphics=[],this._mapName=e,this._parsedXML=hpe(t)}return r.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=ZPe(e.named),n=t.regions,i=t.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(e){var t,n;try{t=e&&WPe(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=t.root,wc(n!=null)}catch(x){throw new Error(`Invalid svg format
`+x.message)}var i=new Nr;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=t.width,s=t.height,o=t.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,u=void 0,f=void 0,d=void 0;if(a!=null?(c=0,f=a):o&&(c=o.x,f=o.width),s!=null?(u=0,d=s):o&&(u=o.y,d=o.height),c==null||u==null){var h=n.getBoundingRect();c==null&&(c=h.x,f=h.width),u==null&&(u=h.y,d=h.height)}l=this._boundingRect=new Br(c,u,f,d)}if(o){var p=ppe(o,l);n.scaleX=n.scaleY=p.scale,n.x=p.x,n.y=p.y}i.setClipPath(new _n({shape:l.plain()}));var v=[];return he(t.named,function(x){YPe.get(x.svgNodeTagLower)!=null&&(v.push(x),XPe(x.el))}),{root:i,boundingRect:l,named:v}},r.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},r.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},r})();function XPe(r){r.silent=!1,r.isGroup&&r.traverse(function(e){e.silent=!1})}function ZPe(r){var e=[],t=br();return he(r,function(n){if(n.namedFrom==null){var i=new rIe(n.name,n.el);e.push(i),t.set(n.name,i)}}),{regions:e,regionsMap:t}}var Dz=[126,25],Z$="",K1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var L1=0;L1<K1.length;L1++)for(var S_=0;S_<K1[L1].length;S_++)K1[L1][S_][0]/=10.5,K1[L1][S_][1]/=-10.5/.75,K1[L1][S_][0]+=Dz[0],K1[L1][S_][1]+=Dz[1];function KPe(r,e){if(r==="china"){for(var t=0;t<e.length;t++)if(e[t].name===Z$)return;e.push(new Khe(Z$,Gt(K1,function(n){return{type:"polygon",exterior:n}}),Dz))}}var $Pe={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function JPe(r,e){if(r==="china"){var t=$Pe[e.name];if(t){var n=e.getCenter();n[0]+=t[0]/10.5,n[1]+=-t[1]/(10.5/.75),e.setCenter(n)}}}var QPe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function e8e(r,e){r==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:QPe[0]})}var t8e="name",r8e=(function(){function r(e,t,n){this.type="geoJSON",this._parsedMap=br(),this._mapName=e,this._specialAreas=n,this._geoJSON=i8e(t)}return r.prototype.load=function(e,t){t=t||t8e;var n=this._parsedMap.get(t);if(!n){var i=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:i,boundingRect:n8e(i)})}var a=br(),s=[];return he(n.regions,function(o){var l=o.name;e&&gr(e,l)&&(o=o.cloneShallow(l=e[l])),s.push(o),a.set(l,o)}),{regions:s,boundingRect:n.boundingRect||new Br(0,0,0,0),regionsMap:a}},r.prototype._parseToRegions=function(e){var t=this._mapName,n=this._geoJSON,i;try{i=n?dz(n,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return KPe(t,i),he(i,function(a){var s=a.name;JPe(t,a),e8e(t,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),i},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r})();function n8e(r){for(var e,t=0;t<r.length;t++){var n=r[t].getBoundingRect();e=e||n.clone(),e.union(n)}return e}function i8e(r){return fr(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var v5=br();const lg={registerMap:function(r,e,t){if(e.svg){var n=new qPe(r,e.svg);v5.set(r,n)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?t=e.specialAreas:i=e;var n=new r8e(r,i,t);v5.set(r,n)}},getGeoResource:function(r){return v5.get(r)},getMapForUser:function(r){var e=v5.get(r);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(r,e,t){var n=v5.get(r);if(n)return n.load(e,t)}};var wV=["rect","circle","line","ellipse","polygon","polyline","path"],a8e=br(wV),s8e=br(wV.concat(["g"])),o8e=br(wV.concat(["g"])),vpe=Mn();function vN(r){var e=r.getItemStyle(),t=r.get("areaColor");return t!=null&&(e.fill=t),e}function K$(r){var e=r.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var mpe=(function(){function r(e){var t=this.group=new Nr,n=this._transformGroup=new Nr;t.add(n),this.uid=GS("ec_map_draw"),this._controller=new yb(e.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new Nr),n.add(this._svgGroup=new Nr)}return r.prototype.draw=function(e,t,n,i,a){var s=e.mainType==="geo",o=e.getData&&e.getData();s&&t.eachComponent({mainType:"series",subType:"map"},function(w){!o&&w.getHostGeoModel()===e&&(o=w.getData())});var l=e.coordinateSystem,c=this._regionsGroup,u=this._transformGroup,f=l.getTransformInfo(),d=f.raw,h=f.roam,p=!c.childAt(0)||a,v=e.getShallow("clip",!0),x;v?(x=l.getViewRect().clone(),this.group.setClipPath(new _n({shape:x.clone()}))):this.group.removeClipPath(),p?(u.x=h.x,u.y=h.y,u.scaleX=h.scaleX,u.scaleY=h.scaleY,u.dirty()):si(u,h,e);var g=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,_={api:n,geo:l,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:g,isGeo:s,transformInfoRaw:d};l.resourceType==="geoJSON"?this._buildGeoJSON(_):l.resourceType==="geoSVG"&&this._buildSVG(_),this._updateController(e,x,t,n),this._updateMapSelectHandler(e,c,n,i)},r.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=br(),n=br(),i=this._regionsGroup,a=e.transformInfoRaw,s=e.mapOrGeoModel,o=e.data,l=e.geo.projection,c=l&&l.stream;function u(h,p){return p&&(h=p(h)),h&&[h[0]*a.scaleX+a.x,h[1]*a.scaleY+a.y]}function f(h){for(var p=[],v=!c&&l&&l.project,x=0;x<h.length;++x){var g=u(h[x],v);g&&p.push(g)}return p}function d(h){return{shape:{points:f(h)}}}i.removeAll(),he(e.geo.regions,function(h){var p=h.name,v=t.get(p),x=n.get(p)||{},g=x.dataIdx,_=x.regionModel;if(!v){v=t.set(p,new Nr),i.add(v),g=o?o.indexOfName(p):null,_=e.isGeo?s.getRegionModel(p):o?o.getItemModel(g):null;var w=_.get("silent",!0);w!=null&&(v.silent=w),n.set(p,{dataIdx:g,regionModel:_})}var A=[],M=[];he(h.geometries,function(L){if(L.type==="polygon"){var D=[L.exterior].concat(L.interiors||[]);c&&(D=rJ(D,c)),he(D,function(O){A.push(new Tc(d(O)))})}else{var k=L.points;c&&(k=rJ(k,c,!0)),he(k,function(O){M.push(new Kl(d(O)))})}});var C=u(h.getCenter(),l&&l.project);function N(L,D){if(L.length){var k=new GE({culling:!0,segmentIgnoreThreshold:1,shape:{paths:L}});v.add(k),$$(e,k,g,_),J$(e,k,p,_,s,g,C),D&&(K$(k),he(k.states,K$))}}N(A),N(M,!0)}),t.each(function(h,p){var v=n.get(p),x=v.dataIdx,g=v.regionModel;Q$(e,h,p,g,s,x),eJ(e,h,p,g,s),tJ(e,h,p,g,s)},this)},r.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=br(),a=!1;he(this._svgGraphicRecord.named,function(s){var o=s.name,l=e.mapOrGeoModel,c=e.data,u=s.svgNodeTagLower,f=s.el,d=c?c.indexOfName(o):null,h=l.getRegionModel(o);a8e.get(u)!=null&&f instanceof Bd&&$$(e,f,d,h),f instanceof Bd&&(f.culling=!0);var p=h.get("silent",!0);if(p!=null&&(f.silent=p),f.z2EmphasisLift=0,!s.namedFrom&&(o8e.get(u)!=null&&J$(e,f,o,h,l,d,null),Q$(e,f,o,h,l,d),eJ(e,f,o,h,l),s8e.get(u)!=null)){var v=tJ(e,f,o,h,l);v==="self"&&(a=!0);var x=i.get(o)||i.set(o,[]);x.push(f)}},this),this._enableBlurEntireSVG(a,e)},r.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){K2(a);var s=a.ensureState("blur").style||{};s.opacity==null&&i!=null&&(s.opacity=i),a.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var n=t.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(e);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},r.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},r.prototype._useSVG=function(e){var t=lg.getGeoResource(e);if(t&&t.type==="geoSVG"){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},r.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=lg.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(e,t,n,i){var a=e.coordinateSystem,s=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=a.getZoom(),s.enable(e.get("roam")||!1,{api:i,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(u,f,d){return a.containPoint([f,d])},isInClip:function(u,f,d){return!t||t.contain(f,d)}}});var l=e.mainType;function c(){var u={type:"geoRoam",componentType:l};return u[l+"Id"]=e.id,u}s.off("pan").on("pan",function(u){this._mouseDownFlag=!1,yV(o,u.dx,u.dy),i.dispatchAction(It(c(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),s.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,bV(o,u.scale,u.originX,u.originY),i.dispatchAction(It(c(),{totalZoom:o.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this)},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=vpe(t).ignore)})},r.prototype._updateMapSelectHandler=function(e,t,n,i){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},r})();function $$(r,e,t,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),s=n.getModel(["blur","itemStyle"]),o=n.getModel(["select","itemStyle"]),l=vN(i),c=vN(a),u=vN(o),f=vN(s),d=r.data;if(d){var h=d.getItemVisual(t,"style"),p=d.getItemVisual(t,"decal");r.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),p&&(l.decal=aS(p,r.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=c,e.ensureState("select").style=u,e.ensureState("blur").style=f,K2(e)}function J$(r,e,t,n,i,a,s){var o=r.data,l=r.isGeo,c=o&&isNaN(o.get(o.mapDimension("value"),a)),u=o&&o.getItemLayout(a);if(l||c||u&&u.showLabel){var f=l?t:a,d=void 0;(!o||a>=0)&&(d=i);var h=s?{normal:{align:"center",verticalAlign:"middle"}}:null;Al(e,il(n),{labelFetcher:d,labelDataIndex:f,defaultText:t},h);var p=e.getTextContent();if(p&&(vpe(p).ignore=p.ignore,e.textConfig&&s)){var v=e.getBoundingRect().clone();e.textConfig.layoutRect=v,e.textConfig.position=[(s[0]-v.x)/v.width*100+"%",(s[1]-v.y)/v.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function Q$(r,e,t,n,i,a){r.data?r.data.setItemGraphicEl(a,e):Vr(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:t,region:n&&n.option||{}}}function eJ(r,e,t,n,i){r.data||bg({el:e,componentModel:i,itemName:t,itemTooltipOption:n.get("tooltip")})}function tJ(r,e,t,n,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),s=a.get("focus");return ss(e,s,a.get("blurScope"),a.get("disabled")),r.isGeo&&QNe(e,i,t),s}function rJ(r,e,t){var n=[],i;function a(){i=[]}function s(){i.length&&(n.push(i),i=[])}var o=e({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(l,c){isFinite(l)&&isFinite(c)&&i.push([l,c])},sphere:function(){}});return!t&&o.polygonStart(),he(r,function(l){o.lineStart();for(var c=0;c<l.length;c++)o.point(l[c][0],l[c][1]);o.lineEnd()}),!t&&o.polygonEnd(),n}var l8e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===t.id){var o=this._mapDraw;o&&s.add(o.group)}else if(t.needsDrawMap){var o=this._mapDraw||new mpe(i);s.add(o.group),o.draw(t,n,i,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(t,n,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,n,i){var a=t.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,l){if(!isNaN(o)){var c=a.getItemLayout(l);if(!(!c||!c.point)){var u=c.point,f=c.offset,d=new Ev({style:{fill:t.getData().getVisual("style").fill},shape:{cx:u[0]+f*9,cy:u[1],r:3},silent:!0,z2:8+(f?0:BS+1)});if(!f){var h=t.mainSeries.getData(),p=a.getName(l),v=h.indexOfName(p),x=a.getItemModel(l),g=x.getModel("label"),_=h.getItemGraphicEl(v);Al(d,il(x),{labelFetcher:{getFormattedLabel:function(w,A){return t.getFormattedLabel(v,A)}},defaultText:p}),d.disableLabelAnimation=!0,g.get("position")||d.setTextConfig({position:"bottom"}),_.onHoverStateChange=function(w){fL(d,w)}}s.add(d)}}})},e.type="map",e})(Zi),c8e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,s=a.getRegion(i);return s&&a.dataToPoint(s.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var n=eT(this,{coordDimensions:["value"],encodeDefaulter:cn(k9,this)}),i=br(),a=[],s=0,o=n.count();s<o;s++){var l=n.getName(s);i.set(l,s)}var c=lg.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return he(c.regions,function(u){var f=u.name,d=i.get(f),h=u.properties&&u.properties.echartsStyle,p;d==null?(p={name:f},a.push(p)):p=n.getRawDataItem(d),h&&pn(p,h)}),n.appendData(a),n},e.prototype.getHostGeoModel=function(){if(afe(this).kind!==X0.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var n=this.getData();return n.get(n.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var n=this.getData();return n.getItemModel(n.indexOfName(t))},e.prototype.formatTooltip=function(t,n,i){for(var a=this.getData(),s=this.getRawValue(t),o=a.getName(t),l=this.seriesGroup,c=[],u=0;u<l.length;u++){var f=l[u].originalData.indexOfName(o),d=a.mapDimension("value");isNaN(l[u].originalData.get(d,f))||c.push(l[u].name)}return Uo("section",{header:c.join(", "),noHeader:!c.length,blocks:[Uo("nameValue",{name:o,value:s})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var n=t.icon||"roundRect",i=xo(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill=ut.color.neutral00,i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:ut.color.tertiary},itemStyle:{borderWidth:.5,borderColor:ut.color.border,areaColor:ut.color.background},emphasis:{label:{show:!0,color:ut.color.primary},itemStyle:{areaColor:ut.color.highlight}},select:{label:{show:!0,color:ut.color.primary},itemStyle:{color:ut.color.highlight}},nameProperty:"name"},e})(la);function u8e(r,e){var t={};return he(r,function(n){n.each(n.mapDimension("value"),function(i,a){var s="ec-"+n.getName(a);t[s]=t[s]||[],isNaN(i)||t[s].push(i)})}),r[0].map(r[0].mapDimension("value"),function(n,i){for(var a="ec-"+r[0].getName(i),s=0,o=1/0,l=-1/0,c=t[a].length,u=0;u<c;u++)o=Math.min(o,t[a][u]),l=Math.max(l,t[a][u]),s+=t[a][u];var f;return e==="min"?f=o:e==="max"?f=l:e==="average"?f=s/c:f=s,c===0?NaN:f})}function f8e(r){var e={};r.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),he(e,function(t,n){for(var i=u8e(Gt(t,function(s){return s.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=a===0&&!t[a].getHostGeoModel(),t[a].setData(i.cloneShallow()),t[a].mainSeries=t[0]})}function h8e(r){var e={};r.eachSeriesByType("map",function(t){var n=t.getMapType();if(!(t.getHostGeoModel()||e[n])){var i={};he(t.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&r.getComponent("legend")&&l.each(l.mapDimension("value"),function(c,u){var f=l.getName(u),d=o.getRegion(f);if(!(!d||isNaN(c))){var h=i[f]||0,p=o.dataToPoint(d.getCenter());i[f]=h+1,l.setItemLayout(u,{point:p,offset:h})}})});var a=t.getData();a.each(function(s){var o=a.getName(s),l=a.getItemLayout(s)||{};l.showLabel=!i[o],a.setItemLayout(s,l)}),e[n]=!0}})}var nJ=Ys,bb=(function(r){dt(e,r);function e(t,n){var i=r.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new zm,i._rawTransformable=new zm,i.name=t,i._opt=n,i}return e.prototype.setBoundingRect=function(t,n,i,a){return this._rect=new Br(t,n,i,a),this._updateCenterAndZoom(),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,n,i,a){this._transformTo(t,n,i,a),this._viewRect=new Br(t,n,i,a)},e.prototype._transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new Br(t,n,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},e.prototype.setCenter=function(t){var n=this._opt;n&&n.api&&n.ecModel&&n.ecModel.getShallow("legacyViewCoordSysCenterBase")&&t&&(t=[ur(t[0],n.api.getWidth()),ur(t[1],n.api.getWidth())]),this._centerOption=Cr(t),this._updateCenterAndZoom()},e.prototype.setZoom=function(t){this._zoom=_V(t||1,this.zoomLimit),this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),n=t.x+t.width/2,i=t.y+t.height/2;return[n,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._centerOption,n=this._rect;t&&n&&(this._center=[ur(t[0],n.width,n.x),ur(t[1],n.height,n.y)]);var i=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,s=this.getDefaultCenter(),o=this.getCenter(),l=this.getZoom();o=Ys([],o,i),s=Ys([],s,i),a.originX=o[0],a.originY=o[1],a.x=s[0]-o[0],a.y=s[1]-o[1],a.scaleX=a.scaleY=l,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,n=this._rawTransformable;n.parent=t,t.updateTransform(),n.updateTransform(),zE(this.transform||(this.transform=[]),n.transform||wl()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Fd(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,n=this._roamTransformable,i=new zm;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?nJ(i,t,a):$c(i,t)},e.prototype.pointToData=function(t,n,i){i=i||[];var a=this.invTransform;return a?nJ(i,t,a):(i[0]=t[0],i[1]=t[1],i)},e.prototype.convertToPixel=function(t,n,i){var a=iJ(n);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,n,i){var a=iJ(n);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e})(zm);function iJ(r){var e=r.seriesModel;return e?e.coordinateSystem:null}var d8e={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},gpe=["lng","lat"],Lz=(function(r){dt(e,r);function e(t,n,i){var a=r.call(this,t,{api:i.api,ecModel:i.ecModel})||this;a.dimensions=gpe,a.type="geo",a._nameCoordMap=br(),a.map=n;var s=i.projection,o=lg.load(n,i.nameMap,i.nameProperty),l=lg.getGeoResource(n);a.resourceType=l?l.type:null;var c=a.regions=o.regions,u=d8e[l.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var f;if(s)for(var d=0;d<c.length;d++){var h=c[d].getBoundingRect(s);f=f||h.clone(),f.union(h)}else f=o.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=s?1:wr(i.aspectScale,u.aspectScale),a._invertLongitute=s?!1:u.invertLongitute,a}return e.prototype._transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new Br(t,n,i,a));var c=l.parent;l.parent=null,l.decomposeTransform(),l.parent=c,o&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(t))return n[i]}},e.prototype.addGeoCoord=function(t,n){this._nameCoordMap.set(t,n)},e.prototype.getGeoCoord=function(t){var n=this._regionsMap.get(t);return this._nameCoordMap.get(t)||n&&n.getCenter()},e.prototype.dataToPoint=function(t,n,i){if(fr(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,n,i)}},e.prototype.pointToData=function(t,n,i){var a=this.projection;return a&&(t=a.unproject(t)),t&&this.pointToProjected(t,i)},e.prototype.pointToProjected=function(t,n){return r.prototype.pointToData.call(this,t,0,n)},e.prototype.projectedToPoint=function(t,n,i){return r.prototype.dataToPoint.call(this,t,n,i)},e.prototype.convertToPixel=function(t,n,i){var a=aJ(n);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,n,i){var a=aJ(n);return a===this?a.pointToData(i):null},e})(bb);qs(Lz,bb);function aJ(r){var e=r.geoModel,t=r.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Ls).models[0]||{}).coordinateSystem:null}function sJ(r,e){var t=r.get("boundingCoords");if(t!=null){var n=t[0],i=t[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var s=n[0],o=n[1],l=i[0],c=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var u=function(M,C,N,L){for(var D=N-M,k=L-C,O=0;O<=100;O++){var I=O/100,j=a.project([M+D*I,C+k*I]);Fm(n,n,j),Bm(i,i,j)}};u(s,o,l,o),u(l,o,l,c),u(l,c,s,c),u(s,c,l,o)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var f=this.getBoundingRect(),d=r.get("layoutCenter"),h=r.get("layoutSize"),p=al(r,e).refContainer,v=f.width/f.height*this.aspectScale,x=!1,g,_;d&&h&&(g=[ur(d[0],p.width)+p.x,ur(d[1],p.height)+p.y],_=ur(h,Math.min(p.width,p.height)),!isNaN(g[0])&&!isNaN(g[1])&&!isNaN(_)&&(x=!0));var w;if(x)w={},v>1?(w.width=_,w.height=_/v):(w.height=_,w.width=_*v),w.y=g[1]-w.height/2,w.x=g[0]-w.width/2;else{var A=r.getBoxLayoutParams();A.aspect=v,w=Ja(A,p),w=ufe(r,w,v)}this.setViewRect(w.x,w.y,w.width,w.height),this.setCenter(r.get("center")),this.setZoom(r.get("zoom"))}function p8e(r,e){he(e.get("geoCoord"),function(t,n){r.addGeoCoord(n,t)})}var v8e=(function(){function r(){this.dimensions=gpe}return r.prototype.create=function(e,t){var n=[];function i(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}e.eachComponent("geo",function(s,o){var l=s.get("map"),c=new Lz(l+o,l,It({nameMap:s.get("nameMap"),api:t,ecModel:e},i(s)));c.zoomLimit=s.get("scaleLimit"),n.push(c),s.coordinateSystem=c,c.model=s,c.resize=sJ,c.resize(s,t)}),e.eachSeries(function(s){qE({targetModel:s,coordSysType:"geo",coordSysProvider:function(){var o=s.subType==="map"?s.getHostGeoModel():s.getReferringComponents("geo",Ls).models[0];return o&&o.coordinateSystem},allowNotFound:!0})});var a={};return e.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),he(a,function(s,o){var l=Gt(s,function(u){return u.get("nameMap")}),c=new Lz(o,o,It({nameMap:kk(l),api:t,ecModel:e},i(s[0])));c.zoomLimit=Xl.apply(null,Gt(s,function(u){return u.get("scaleLimit")})),n.push(c),c.resize=sJ,c.resize(s[0],t),he(s,function(u){u.coordinateSystem=c,p8e(c,u)})}),n},r.prototype.getFilledRegions=function(e,t,n,i){for(var a=(e||[]).slice(),s=br(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var l=lg.load(t,n,i);return he(l.regions,function(c){var u=c.name,f=s.get(u),d=c.properties&&c.properties.echartsStyle;f||(f={name:u},a.push(f)),d&&pn(f,d)}),a},r})(),xpe=new v8e,m8e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i);var a=lg.getGeoResource(t.map);if(a&&a.type==="geoJSON"){var s=t.itemStyle=t.itemStyle||{};"color"in s||(s.color=t.defaultItemStyleColor||ut.color.backgroundTint)}q2(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,n=this.option;n.regions=xpe.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=Pd(n.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new Ln(s,t,t.ecModel)),s.selected&&(i[o]=!0)),a},br()),n.selectedMap||(n.selectedMap=i)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Ln(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,n){var i=this.getRegionModel(t),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),s={name:t};if(Tr(a))return s.status=n,a(s);if(fr(a))return a.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[t]=!0}},e.prototype.unSelect=function(t){var n=this.option.selectedMap;n&&(n[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var n=this.option.selectedMap;return!!(n&&n[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:ut.color.tertiary},itemStyle:{borderWidth:.5,borderColor:ut.color.border},emphasis:{label:{show:!0,color:ut.color.primary},itemStyle:{color:ut.color.highlight}},select:{label:{show:!0,color:ut.color.primary},itemStyle:{color:ut.color.highlight}},regions:[]},e})(En),g8e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,n){this._api=n},e.prototype.render=function(t,n,i,a){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new mpe(i));var s=this._mapDraw;s.draw(t,n,i,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=t.get("silent"),this.group.add(s.group),this.updateSelectStatus(t,n,i)},e.prototype._handleRegionClick=function(t){var n;y2(t.target,function(i){return(n=Vr(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},e.prototype.updateSelectStatus=function(t,n,i){var a=this;this._mapDraw.group.traverse(function(s){var o=Vr(s).eventData;if(o)return a._model.isSelected(o.name)?i.enterSelect(s):i.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e})(Aa);function x8e(r,e,t){lg.registerMap(r,e,t)}function ype(r){r.registerCoordinateSystem("geo",xpe),r.registerComponentModel(m8e),r.registerComponentView(g8e),r.registerImpl("registerMap",x8e),r.registerImpl("getMap",function(t){return lg.getMapForUser(t)});function e(t,n){n.update="geo:updateSelectStatus",r.registerAction(n,function(i,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[t](i.name);var c=l.coordinateSystem;he(c.regions,function(f){s[f.name]=l.isSelected(f.name)||!1});var u=[];he(s,function(f,d){s[d]&&u.push(d)}),o.push({geoIndex:l.componentIndex,name:u})}),{selected:s,allSelected:o,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,n,i){var a=t.componentType;a||(t.geoId!=null?a="geo":t.seriesId!=null&&(a="series")),a||(a="series"),n.eachComponent({mainType:a,query:t},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=cI(o,t,s.get("scaleLimit"));s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),a==="series"&&he(s.seriesGroup,function(c){c.setCenter(l.center),c.setZoom(l.zoom)})}})})}function y8e(r){xn(ype),r.registerChartView(l8e),r.registerSeriesModel(c8e),r.registerLayout(h8e),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,f8e),ehe("map",r.registerAction)}function b8e(r){var e=r;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],n,i;n=t.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},t.push(o)}}function _8e(r,e){var t=r.isExpand?r.children:[],n=r.parentNode.children,i=r.hierNode.i?n[r.hierNode.i-1]:null;if(t.length){S8e(r);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;i?(r.hierNode.prelim=i.hierNode.prelim+e(r,i),r.hierNode.modifier=r.hierNode.prelim-a):r.hierNode.prelim=a}else i&&(r.hierNode.prelim=i.hierNode.prelim+e(r,i));r.parentNode.hierNode.defaultAncestor=T8e(r,i,r.parentNode.hierNode.defaultAncestor||n[0],e)}function w8e(r){var e=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:e},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function oJ(r){return arguments.length?r:M8e}function aA(r,e){return r-=Math.PI/2,{x:e*Math.cos(r),y:e*Math.sin(r)}}function S8e(r){for(var e=r.children,t=e.length,n=0,i=0;--t>=0;){var a=e[t];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function T8e(r,e,t,n){if(e){for(var i=r,a=r,s=a.parentNode.children[0],o=e,l=i.hierNode.modifier,c=a.hierNode.modifier,u=s.hierNode.modifier,f=o.hierNode.modifier;o=qP(o),a=XP(a),o&&a;){i=qP(i),s=XP(s),i.hierNode.ancestor=r;var d=o.hierNode.prelim+f-a.hierNode.prelim-c+n(o,a);d>0&&(E8e(A8e(o,r,t),r,d),c+=d,l+=d),f+=o.hierNode.modifier,c+=a.hierNode.modifier,l+=i.hierNode.modifier,u+=s.hierNode.modifier}o&&!qP(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=f-l),a&&!XP(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=c-u,t=r)}return t}function qP(r){var e=r.children;return e.length&&r.isExpand?e[e.length-1]:r.hierNode.thread}function XP(r){var e=r.children;return e.length&&r.isExpand?e[0]:r.hierNode.thread}function A8e(r,e,t){return r.hierNode.ancestor.parentNode===e.parentNode?r.hierNode.ancestor:t}function E8e(r,e,t){var n=t/(e.hierNode.i-r.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,r.hierNode.change+=n}function M8e(r,e){return r.parentNode===e.parentNode?1:2}var C8e=(function(){function r(){this.parentPoint=[],this.childPoints=[]}return r})(),N8e=(function(r){dt(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:ut.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new C8e},e.prototype.buildPath=function(t,n){var i=n.childPoints,a=i.length,s=n.parentPoint,o=i[0],l=i[a-1];if(a===1){t.moveTo(s[0],s[1]),t.lineTo(o[0],o[1]);return}var c=n.orient,u=c==="TB"||c==="BT"?0:1,f=1-u,d=ur(n.forkPosition,1),h=[];h[u]=s[u],h[f]=s[f]+(l[f]-s[f])*d,t.moveTo(s[0],s[1]),t.lineTo(h[0],h[1]),t.moveTo(o[0],o[1]),h[u]=o[u],t.lineTo(h[0],h[1]),h[u]=l[u],t.lineTo(h[0],h[1]),t.lineTo(l[0],l[1]);for(var p=1;p<a-1;p++){var v=i[p];t.moveTo(v[0],v[1]),h[u]=v[u],t.lineTo(h[0],h[1])}},e})(Rn),D8e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new Nr,t}return e.prototype.init=function(t,n){this._controller=new yb(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,n,i){var a=t.getData(),s=t.layoutInfo,o=this._mainGroup,l=t.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(t,i),this._updateController(t,null,n,i);var c=this._data;a.diff(c).add(function(u){lJ(a,u)&&cJ(a,u,null,o,t)}).update(function(u,f){var d=c.getItemGraphicEl(f);if(!lJ(a,u)){d&&fJ(c,f,d,o,t);return}cJ(a,u,d,o,t)}).remove(function(u){var f=c.getItemGraphicEl(u);f&&fJ(c,u,f,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(u,f){u.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:f})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,n){var i=t.getData(),a=[];i.each(function(f){var d=i.getItemLayout(f);d&&!isNaN(d.x)&&!isNaN(d.y)&&a.push([+d.x,+d.y])});var s=[],o=[];Gk(a,s,o);var l=this._min,c=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=c?c[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=c?c[1]:o[1]+1);var u=t.coordinateSystem=new bb(null,{api:n,ecModel:t.ecModel});u.zoomLimit=t.get("scaleLimit"),u.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),u.setCenter(t.get("center")),u.setZoom(t.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(t,n,i,a){var s=this;upe(t,a,this.group,this._controller,this._controllerHost,n),this._controller.on("zoom",function(o){s._updateNodeAndLinkScale(t)})},e.prototype._updateNodeAndLinkScale=function(t){var n=t.getData(),i=this._getNodeGlobalScale(t);n.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(t){var n=t.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,s=n.getZoom(),o=(s-1)*i+1;return o/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e})(Zi);function lJ(r,e){var t=r.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function cJ(r,e,t,n,i){var a=!t,s=r.tree.getNodeByDataIndex(e),o=s.getModel(),l=s.getVisual("style").fill,c=s.isExpand===!1&&s.children.length!==0?l:ut.color.neutral00,u=r.tree.root,f=s.parentNode===u?s:s.parentNode||s,d=r.getItemGraphicEl(f.dataIndex),h=f.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,v=s.getLayout();a?(t=new KE(r,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.x=p.x,t.y=p.y):t.updateData(r,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=v.rawX,t.__radialRawY=v.rawY,n.add(t),r.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,si(t,{x:v.x,y:v.y},i);var x=t.getSymbolPath();if(i.get("layout")==="radial"){var g=u.children[0],_=g.getLayout(),w=g.children.length,A=void 0,M=void 0;if(v.x===_.x&&s.isExpand===!0&&g.children.length){var C={x:(g.children[0].getLayout().x+g.children[w-1].getLayout().x)/2,y:(g.children[0].getLayout().y+g.children[w-1].getLayout().y)/2};A=Math.atan2(C.y-_.y,C.x-_.x),A<0&&(A=Math.PI*2+A),M=C.x<_.x,M&&(A=A-Math.PI)}else A=Math.atan2(v.y-_.y,v.x-_.x),A<0&&(A=Math.PI*2+A),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(M=v.x<_.x,M&&(A=A-Math.PI)):(M=v.x>_.x,M||(A=A-Math.PI));var N=M?"left":"right",L=o.getModel("label"),D=L.get("rotate"),k=D*(Math.PI/180),O=x.getTextContent();O&&(x.setTextConfig({position:L.get("position")||N,rotation:D==null?-A:k,origin:"center"}),O.setStyle("verticalAlign","middle"))}var I=o.get(["emphasis","focus"]),j=I==="relative"?$w(s.getAncestorsIndices(),s.getDescendantIndices()):I==="ancestor"?s.getAncestorsIndices():I==="descendant"?s.getDescendantIndices():null;j&&(Vr(t).focus=j),L8e(i,s,u,t,p,h,v,n),t.__edge&&(t.onHoverStateChange=function(B){if(B!=="blur"){var K=s.parentNode&&r.getItemGraphicEl(s.parentNode.dataIndex);K&&K.hoverState===UE||fL(t.__edge,B)}})}function L8e(r,e,t,n,i,a,s,o){var l=e.getModel(),c=r.get("edgeShape"),u=r.get("layout"),f=r.getOrient(),d=r.get(["lineStyle","curveness"]),h=r.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),v=n.__edge;if(c==="curve")e.parentNode&&e.parentNode!==t&&(v||(v=n.__edge=new jS({shape:Rz(u,f,d,i,i)})),si(v,{shape:Rz(u,f,d,a,s)},r));else if(c==="polyline"&&u==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var x=e.children,g=[],_=0;_<x.length;_++){var w=x[_].getLayout();g.push([w.x,w.y])}v||(v=n.__edge=new N8e({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:f,forkPosition:h}})),si(v,{shape:{parentPoint:[s.x,s.y],childPoints:g}},r)}v&&!(c==="polyline"&&!e.isExpand)&&(v.useStyle(Rr({strokeNoScale:!0,fill:null},p)),nl(v,l,"lineStyle"),K2(v),o.add(v))}function uJ(r,e,t,n,i){var a=e.tree.root,s=bpe(a,r),o=s.source,l=s.sourceLayout,c=e.getItemGraphicEl(r.dataIndex);if(c){var u=e.getItemGraphicEl(o.dataIndex),f=u.__edge,d=c.__edge||(o.isExpand===!1||o.children.length===1?f:void 0),h=n.get("edgeShape"),p=n.get("layout"),v=n.get("orient"),x=n.get(["lineStyle","curveness"]);d&&(h==="curve"?ay(d,{shape:Rz(p,v,x,l,l),style:{opacity:0}},n,{cb:function(){t.remove(d)},removeOpt:i}):h==="polyline"&&n.get("layout")==="orthogonal"&&ay(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){t.remove(d)},removeOpt:i}))}}function bpe(r,e){for(var t=e.parentNode===r?e:e.parentNode||e,n;n=t.getLayout(),n==null;)t=t.parentNode===r?t:t.parentNode||t;return{source:t,sourceLayout:n}}function fJ(r,e,t,n,i){var a=r.tree.getNodeByDataIndex(e),s=r.tree.root,o=bpe(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};ay(t,{x:o.x+1,y:o.y+1},i,{cb:function(){n.remove(t),r.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(c){uJ(c,r,n,i,l)}),uJ(a,r,n,i,l)}function Rz(r,e,t,n,i){var a,s,o,l,c,u,f,d;if(r==="radial"){c=n.rawX,f=n.rawY,u=i.rawX,d=i.rawY;var h=aA(c,f),p=aA(c,f+(d-f)*t),v=aA(u,d+(f-d)*t),x=aA(u,d);return{x1:h.x||0,y1:h.y||0,x2:x.x||0,y2:x.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:v.x||0,cpy2:v.y||0}}else c=n.x,f=n.y,u=i.x,d=i.y,(e==="LR"||e==="RL")&&(a=c+(u-c)*t,s=f,o=u+(c-u)*t,l=d),(e==="TB"||e==="BT")&&(a=c,s=f+(d-f)*t,o=u,l=d+(f-d)*t);return{x1:c,y1:f,x2:u,y2:d,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}var kd=Mn();function _pe(r){var e=r.mainData,t=r.datas;t||(t={main:e},r.datasAttr={main:"data"}),r.datas=r.mainData=null,wpe(e,t,r),he(t,function(n){he(e.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,cn(R8e,r))})}),e.wrapMethod("cloneShallow",cn(I8e,r)),he(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,cn(k8e,r))}),wc(t[e.dataType]===e)}function R8e(r,e){if(F8e(this)){var t=It({},kd(this).datas);t[this.dataType]=e,wpe(e,t,r)}else SV(e,this.dataType,kd(this).mainData,r);return e}function k8e(r,e){return r.struct&&r.struct.update(),e}function I8e(r,e){return he(kd(e).datas,function(t,n){t!==e&&SV(t.cloneShallow(),n,e,r)}),e}function O8e(r){var e=kd(this).mainData;return r==null||e==null?e:kd(e).datas[r]}function P8e(){var r=kd(this).mainData;return r==null?[{data:r}]:Gt(Wn(kd(r).datas),function(e){return{type:e,data:kd(r).datas[e]}})}function F8e(r){return kd(r).mainData===r}function wpe(r,e,t){kd(r).datas={},he(e,function(n,i){SV(n,i,r,t)})}function SV(r,e,t,n){kd(t).datas[e]=r,kd(r).mainData=t,r.dataType=e,n.struct&&(r[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=r),r.getLinkedData=O8e,r.getLinkedDataAll=P8e}var B8e=(function(){function r(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(e,t,n){Tr(e)&&(n=t,t=e,e=null),e=e||{},fr(e)&&(e={order:e});var i=e.order||"preorder",a=this[e.attr||"children"],s;i==="preorder"&&(s=t.call(n,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(e,t,n);i==="postorder"&&t.call(n,this)},r.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},r.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var a=n[t].getNodeById(e);if(a)return a}},r.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var a=n[t].contains(e);if(a)return a}},r.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},r.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},r.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},r.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},r.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},r.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},r.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},r.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},r})(),TV=(function(){function r(e){this.type="tree",this._nodes=[],this.hostModel=e}return r.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},r.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},r.prototype.getNodeById=function(e){return this.root.getNodeById(e)},r.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(var n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(e,t,n){var i=new r(t),a=[],s=1;o(e);function o(u,f){var d=u.value;s=Math.max(s,Ut(d)?d.length:1),a.push(u);var h=new B8e(rl(u.name,""),i);f?z8e(h,f):i.root=h,i._nodes.push(h);var p=u.children;if(p)for(var v=0;v<p.length;v++)o(p[v],h)}i.root.updateDepthAndHeight(0);var l=KS(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,c=new lu(l,t);return c.initData(a),n&&n(c),_pe({mainData:c,struct:i,structAttr:"tree"}),i.update(),i},r})();function z8e(r,e){var t=e.children;r.parentNode!==e&&(t.push(r),r.parentNode=e)}function j3(r,e,t){if(r&&hn(e,r.type)>=0){var n=t.getData().tree.root,i=r.targetNode;if(fr(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=r.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function Spe(r){for(var e=[];r;)r=r.parentNode,r&&e.push(r);return e.reverse()}function AV(r,e){var t=Spe(r);return hn(t,e)>=0}function fI(r,e){for(var t=[];r;){var n=r.dataIndex;t.push({name:r.name,dataIndex:n,value:e.getRawValue(n)}),r=r.parentNode}return t.reverse(),t}var j8e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var n={name:t.name,children:t.data},i=t.leaves||{},a=new Ln(i,this,this.ecModel),s=TV.createTree(n,this,o);function o(f){f.wrapMethod("getItemModel",function(d,h){var p=s.getNodeByDataIndex(h);return p&&p.children.length&&p.isExpand||(d.parentModel=a),d})}var l=0;s.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var c=t.expandAndCollapse,u=c&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(f){var d=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=d&&d.collapsed!=null?!d.collapsed:f.depth<=u}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,n,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(t),l=o.getValue(),c=o.name;o&&o!==s;)c=o.parentNode.name+"."+c,o=o.parentNode;return Uo("nameValue",{name:c,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=fI(i,this),n.collapsed=!i.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:ut.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e})(la);function U8e(r,e,t){for(var n=[r],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)n.push(s[o])}for(;a=i.pop();)e(a,t)}function m5(r,e){for(var t=[r],n;n=t.pop();)if(e(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)t.push(i[a])}}function V8e(r,e){r.eachSeriesByType("tree",function(t){H8e(t,e)})}function H8e(r,e){var t=al(r,e).refContainer,n=Ja(r.getBoxLayoutParams(),t);r.layoutInfo=n;var i=r.get("layout"),a=0,s=0,o=null;i==="radial"?(a=2*Math.PI,s=Math.min(n.height,n.width)/2,o=oJ(function(A,M){return(A.parentNode===M.parentNode?1:2)/A.depth})):(a=n.width,s=n.height,o=oJ());var l=r.getData().tree.root,c=l.children[0];if(c){b8e(l),U8e(c,_8e,o),l.hierNode.modifier=-c.hierNode.prelim,m5(c,w8e);var u=c,f=c,d=c;m5(c,function(A){var M=A.getLayout().x;M<u.getLayout().x&&(u=A),M>f.getLayout().x&&(f=A),A.depth>d.depth&&(d=A)});var h=u===f?1:o(u,f)/2,p=h-u.getLayout().x,v=0,x=0,g=0,_=0;if(i==="radial")v=a/(f.getLayout().x+h+p),x=s/(d.depth-1||1),m5(c,function(A){g=(A.getLayout().x+p)*v,_=(A.depth-1)*x;var M=aA(g,_);A.setLayout({x:M.x,y:M.y,rawX:g,rawY:_},!0)});else{var w=r.getOrient();w==="RL"||w==="LR"?(x=s/(f.getLayout().x+h+p),v=a/(d.depth-1||1),m5(c,function(A){_=(A.getLayout().x+p)*x,g=w==="LR"?(A.depth-1)*v:a-(A.depth-1)*v,A.setLayout({x:g,y:_},!0)})):(w==="TB"||w==="BT")&&(v=a/(f.getLayout().x+h+p),x=s/(d.depth-1||1),m5(c,function(A){g=(A.getLayout().x+p)*v,_=w==="TB"?(A.depth-1)*x:s-(A.depth-1)*x,A.setLayout({x:g,y:_},!0)}))}}}function G8e(r){r.eachSeriesByType("tree",function(e){var t=e.getData(),n=t.tree;n.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(i.dataIndex,"style");It(o,s)})})}function W8e(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=e.dataIndex,a=n.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=i.coordinateSystem,s=cI(a,e,i.get("scaleLimit"));i.setCenter(s.center),i.setZoom(s.zoom)})})}function Y8e(r){r.registerChartView(D8e),r.registerSeriesModel(j8e),r.registerLayout(V8e),r.registerVisual(G8e),W8e(r)}var hJ=["treemapZoomToNode","treemapRender","treemapMove"];function q8e(r){for(var e=0;e<hJ.length;e++)r.registerAction({type:hJ[e],update:"updateView"},Ws);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"treemap",query:t},i);function i(a,s){var o=["treemapZoomToNode","treemapRootToNode"],l=j3(t,o,a);if(l){var c=a.getViewRoot();c&&(t.direction=AV(c,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function Tpe(r){var e=r.getData(),t=e.tree,n={};t.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=Z7(r.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",s)})}var X8e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,n){var i={name:t.name,children:t.data};Ape(i);var a=t.levels||[],s=this.designatedVisualItemStyle={},o=new Ln({itemStyle:s},this,n);a=t.levels=Z8e(a,n);var l=Gt(a||[],function(f){return new Ln(f,o,n)},this),c=TV.createTree(i,this,u);function u(f){f.wrapMethod("getItemModel",function(d,h){var p=c.getNodeByDataIndex(h),v=p?l[p.depth]:null;return d.parentModel=v||o,d})}return c.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return Uo("nameValue",{name:o,value:s})},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=fI(i,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},It(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var n=this._idIndexMap;n||(n=this._idIndexMap=br(),this._idIndexMapCount=0);var i=n.get(t);return i==null&&n.set(t,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){Tpe(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,coordinateSystemUsage:"box",left:ut.size.l,top:ut.size.xxxl,right:ut.size.l,bottom:ut.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:ut.size.m,emptyItemWidth:25,itemStyle:{color:ut.color.backgroundShade,textStyle:{color:ut.color.secondary}},emphasis:{itemStyle:{color:ut.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:ut.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:ut.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e})(la);function Ape(r){var e=0;he(r.children,function(n){Ape(n);var i=n.value;Ut(i)&&(i=i[0]),e+=i});var t=r.value;Ut(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),Ut(r.value)?r.value[0]=t:r.value=t}function Z8e(r,e){var t=Ta(e.get("color")),n=Ta(e.get(["aria","decal","decals"]));if(t){r=r||[];var i,a;he(r,function(o){var l=new Ln(o),c=l.get("color"),u=l.get("decal");(l.get(["itemStyle","color"])||c&&c!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||u&&u!=="none")&&(a=!0)});var s=r[0]||(r[0]={});return i||(s.color=t.slice()),!a&&n&&(s.decal=n.slice()),r}}var K8e=8,dJ=8,ZP=5,$8e=(function(){function r(e){this.group=new Nr,e.add(this.group)}return r.prototype.render=function(e,t,n,i){var a=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!n)){var o=a.getModel("itemStyle"),l=a.getModel("emphasis"),c=o.getModel("textStyle"),u=l.getModel(["itemStyle","textStyle"]),f=al(e,t).refContainer,d={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},h={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},p=Ja(d,f);this._prepare(n,h,c),this._renderContent(e,h,p,o,l,c,u,i),Jk(s,d,f)}},r.prototype._prepare=function(e,t,n){for(var i=e;i;i=i.parentNode){var a=rl(i.getModel().get("name"),""),s=n.getTextRect(a),o=Math.max(s.width+K8e*2,t.emptyItemWidth);t.totalWidth+=o+dJ,t.renderList.push({node:i,text:a,width:o})}},r.prototype._renderContent=function(e,t,n,i,a,s,o,l){for(var c=0,u=t.emptyItemWidth,f=e.get(["breadcrumb","height"]),d=t.totalWidth,h=t.renderList,p=a.getModel("itemStyle").getItemStyle(),v=h.length-1;v>=0;v--){var x=h[v],g=x.node,_=x.width,w=x.text;d>n.width&&(d-=_-u,_=u,w=null);var A=new Tc({shape:{points:J8e(c,0,_,f,v===h.length-1,v===0)},style:Rr(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new $n({style:Sa(s,{text:w})}),textConfig:{position:"inside"},z2:BS*1e4,onclick:cn(l,g)});A.disableLabelAnimation=!0,A.getTextContent().ensureState("emphasis").style=Sa(o,{text:w}),A.ensureState("emphasis").style=p,ss(A,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(A),Q8e(A,e,g),c+=_+dJ}},r.prototype.remove=function(){this.group.removeAll()},r})();function J8e(r,e,t,n,i,a){var s=[[i?r:r-ZP,e],[r+t,e],[r+t,e+n],[i?r:r-ZP,e+n]];return!a&&s.splice(2,0,[r+t+ZP,e+n/2]),!i&&s.push([r,e+n/2]),s}function Q8e(r,e,t){Vr(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&fI(t,e)}}var eFe=(function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(e,t,n,i,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:i,easing:a}),!0)},r.prototype.finished=function(e){return this._finishedCallback=e,this},r.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var s=this._storage[i];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:n,aborted:n})}return this},r})();function tFe(){return new eFe}var kz=Nr,pJ=_n,vJ=3,mJ="label",gJ="upperLabel",rFe=BS*10,nFe=BS*2,iFe=BS*3,$1=Z2([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),xJ=function(r){var e=$1(r);return e.stroke=e.fill=e.lineWidth=null,e},zL=Mn(),aFe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=g5(),t}return e.prototype.render=function(t,n,i,a){var s=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(hn(s,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=n;var o=["treemapZoomToNode","treemapRootToNode"],l=j3(a,o,t),c=a&&a.type,u=t.layoutInfo,f=!this._oldTree,d=this._storage,h=c==="treemapRootToNode"&&l&&d?{rootNodeGroup:d.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,p=this._giveContainerGroup(u),v=t.get("animation"),x=this._doRender(p,t,h);v&&!f&&(!c||c==="treemapZoomToNode"||c==="treemapRootToNode")?this._doAnimation(p,x,t,h):x.renderFinally(),this._resetController(i),this._renderBreadcrumb(t,i,l)}},e.prototype._giveContainerGroup=function(t){var n=this._containerGroup;return n||(n=this._containerGroup=new kz,this._initEvents(n),this.group.add(n)),n.x=t.x,n.y=t.y,n},e.prototype._doRender=function(t,n,i){var a=n.getData().tree,s=this._oldTree,o=g5(),l=g5(),c=this._storage,u=[];function f(_,w,A,M){return sFe(n,l,c,i,o,u,_,w,A,M)}v(a.root?[a.root]:[],s&&s.root?[s.root]:[],t,a===s||!s,0);var d=x(c);if(this._oldTree=a,this._storage=l,this._controllerHost){var h=this.seriesModel.layoutInfo,p=a.root.getLayout();p.width===h.width&&p.height===h.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:d,renderFinally:g};function v(_,w,A,M,C){M?(w=_,he(_,function(D,k){!D.isRemoved()&&L(k,k)})):new ag(w,_,N,N).add(L).update(L).remove(cn(L,null)).execute();function N(D){return D.getId()}function L(D,k){var O=D!=null?_[D]:null,I=k!=null?w[k]:null,j=f(O,I,A,C);j&&v(O&&O.viewChildren||[],I&&I.viewChildren||[],j,M,C+1)}}function x(_){var w=g5();return _&&he(_,function(A,M){var C=w[M];he(A,function(N){N&&(C.push(N),zL(N).willDelete=!0)})}),w}function g(){he(d,function(_){he(_,function(w){w.parent&&w.parent.remove(w)})}),he(u,function(_){_.invisible=!0,_.dirty()})}},e.prototype._doAnimation=function(t,n,i,a){var s=i.get("animationDurationUpdate"),o=i.get("animationEasing"),l=(Tr(s)?0:s)||0,c=(Tr(o)?null:o)||"cubicOut",u=tFe();he(n.willDeleteEls,function(f,d){he(f,function(h,p){if(!h.invisible){var v=h.parent,x,g=zL(v);if(a&&a.direction==="drillDown")x=v===a.rootNodeGroup?{shape:{x:0,y:0,width:g.nodeWidth,height:g.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var _=0,w=0;g.willDelete||(_=g.nodeWidth/2,w=g.nodeHeight/2),x=d==="nodeGroup"?{x:_,y:w,style:{opacity:0}}:{shape:{x:_,y:w,width:0,height:0},style:{opacity:0}}}x&&u.add(h,x,l,0,c)}})}),he(this._storage,function(f,d){he(f,function(h,p){var v=n.lastsForAnimation[d][p],x={};v&&(h instanceof Nr?v.oldX!=null&&(x.x=h.x,x.y=h.y,h.x=v.oldX,h.y=v.oldY):(v.oldShape&&(x.shape=It({},h.shape),h.setShape(v.oldShape)),v.fadein?(h.setStyle("opacity",0),x.style={opacity:1}):h.style.opacity!==1&&(x.style={opacity:1})),u.add(h,x,l,0,c))})},this),this._state="animating",u.finished(hr(function(){this._state="ready",n.renderFinally()},this)).start()},e.prototype._resetController=function(t){var n=this,i=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var s=this.seriesModel;i||(i=this._controller=new yb(t.getZr()),i.on("pan",hr(this._onPan,this)),i.on("zoom",hr(this._onZoom,this))),i.enable(s.get("roam"),{api:t,zInfo:{component:s},triggerInfo:{roamTrigger:s.get("roamTrigger"),isInSelf:function(o,l,c){var u=n._containerGroup;return u?u.getBoundingRect().contain(l-u.x,c-u.y):!1}}}),a.zoomLimit=s.get("scaleLimit"),a.zoom=s.get("zoom")},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>vJ||Math.abs(t.dy)>vJ)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(t){var n=t.originX,i=t.originY,a=t.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new Br(o.x,o.y,o.width,o.height),c=null,u=this._controllerHost;c=u.zoomLimit;var f=u.zoom=u.zoom||1;if(f*=a,c){var d=c.min||0,h=c.max||1/0;f=Math.max(Math.min(h,f),d)}var p=f/u.zoom;u.zoom=f;var v=this.seriesModel.layoutInfo;n-=v.x,i-=v.y;var x=wl();Zp(x,x,[-n,-i]),Pk(x,x,[p,p]),Zp(x,x,[n,i]),l.applyTransform(x),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var n=this;t.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var s=n.findTarget(i.offsetX,i.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)n._rootToNode(s);else if(a==="zoomToNode")n._zoomToNode(s);else if(a==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),c=l.get("link",!0),u=l.get("target",!0)||"blank";c&&vL(c,u)}}}}},this)},e.prototype._renderBreadcrumb=function(t,n,i){var a=this;i||(i=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new $8e(this.group))).render(t,n,i.node,function(s){a._state!=="animating"&&(AV(t.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=g5(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(t,n),c=o.shape;if(c.x<=l[0]&&l[0]<=c.x+c.width&&c.y<=l[1]&&l[1]<=c.y+c.height)i={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},e.type="treemap",e})(Zi);function g5(){return{nodeGroup:[],background:[],content:[]}}function sFe(r,e,t,n,i,a,s,o,l,c){if(!s)return;var u=s.getLayout(),f=r.getData(),d=s.getModel();if(f.setItemGraphicEl(s.dataIndex,null),!u||!u.isInView)return;var h=u.width,p=u.height,v=u.borderWidth,x=u.invisible,g=s.getRawIndex(),_=o&&o.getRawIndex(),w=s.viewChildren,A=u.upperHeight,M=w&&w.length,C=d.getModel("itemStyle"),N=d.getModel(["emphasis","itemStyle"]),L=d.getModel(["blur","itemStyle"]),D=d.getModel(["select","itemStyle"]),k=C.get("borderRadius")||0,O=re("nodeGroup",kz);if(!O)return;if(l.add(O),O.x=u.x||0,O.y=u.y||0,O.markRedraw(),zL(O).nodeWidth=h,zL(O).nodeHeight=p,u.isAboveViewRoot)return O;var I=re("background",pJ,c,nFe);I&&oe(O,I,M&&u.upperLabelHeight);var j=d.getModel("emphasis"),B=j.get("focus"),K=j.get("blurScope"),H=j.get("disabled"),Z=B==="ancestor"?s.getAncestorsIndices():B==="descendant"?s.getDescendantIndices():B;if(M)A3(O)&&g2(O,!1),I&&(g2(I,!H),f.setItemGraphicEl(s.dataIndex,I),B7(I,Z,K));else{var Y=re("content",pJ,c,iFe);Y&&X(O,Y),I.disableMorphing=!0,I&&A3(I)&&g2(I,!1),g2(O,!H),f.setItemGraphicEl(s.dataIndex,O);var J=d.getShallow("cursor");J&&Y.attr("cursor",J),B7(O,Z,K)}return O;function oe(ye,fe,be){var Oe=Vr(fe);if(Oe.dataIndex=s.dataIndex,Oe.seriesIndex=r.seriesIndex,fe.setShape({x:0,y:0,width:h,height:p,r:k}),x)F(fe);else{fe.invisible=!1;var xe=s.getVisual("style"),Qe=xe.stroke,ne=xJ(C);ne.fill=Qe;var te=$1(N);te.fill=N.get("borderColor");var Me=$1(L);Me.fill=L.get("borderColor");var ge=$1(D);if(ge.fill=D.get("borderColor"),be){var de=h-2*v;W(fe,Qe,xe.opacity,{x:v,y:0,width:de,height:A})}else fe.removeTextContent();fe.setStyle(ne),fe.ensureState("emphasis").style=te,fe.ensureState("blur").style=Me,fe.ensureState("select").style=ge,K2(fe)}ye.add(fe)}function X(ye,fe){var be=Vr(fe);be.dataIndex=s.dataIndex,be.seriesIndex=r.seriesIndex;var Oe=Math.max(h-2*v,0),xe=Math.max(p-2*v,0);if(fe.culling=!0,fe.setShape({x:v,y:v,width:Oe,height:xe,r:k}),x)F(fe);else{fe.invisible=!1;var Qe=s.getVisual("style"),ne=Qe.fill,te=xJ(C);te.fill=ne,te.decal=Qe.decal;var Me=$1(N),ge=$1(L),de=$1(D);W(fe,ne,Qe.opacity,null),fe.setStyle(te),fe.ensureState("emphasis").style=Me,fe.ensureState("blur").style=ge,fe.ensureState("select").style=de,K2(fe)}ye.add(fe)}function F(ye){!ye.invisible&&a.push(ye)}function W(ye,fe,be,Oe){var xe=d.getModel(Oe?gJ:mJ),Qe=rl(d.get("name"),null),ne=xe.getShallow("show");Al(ye,il(d,Oe?gJ:mJ),{defaultText:ne?Qe:null,inheritColor:fe,defaultOpacity:be,labelFetcher:r,labelDataIndex:s.dataIndex});var te=ye.getTextContent();if(te){var Me=te.style,ge=PE(Me.padding||0);Oe&&(ye.setTextConfig({layoutRect:Oe}),te.disableLabelLayout=!0),te.beforeUpdate=function(){var _e=Math.max((Oe?Oe.width:ye.shape.width)-ge[1]-ge[3],0),je=Math.max((Oe?Oe.height:ye.shape.height)-ge[0]-ge[2],0);(Me.width!==_e||Me.height!==je)&&te.setStyle({width:_e,height:je})},Me.truncateMinChar=2,Me.lineOverflow="truncate",Q(Me,Oe,u);var de=te.getState("emphasis");Q(de?de.style:null,Oe,u)}}function Q(ye,fe,be){var Oe=ye?ye.text:null;if(!fe&&be.isLeafRoot&&Oe!=null){var xe=r.get("drillDownIcon",!0);ye.text=xe?xe+" "+Oe:Oe}}function re(ye,fe,be,Oe){var xe=_!=null&&t[ye][_],Qe=i[ye];return xe?(t[ye][_]=null,ae(Qe,xe)):x||(xe=new fe,xe instanceof Bd&&(xe.z2=oFe(be,Oe)),ce(Qe,xe)),e[ye][g]=xe}function ae(ye,fe){var be=ye[g]={};fe instanceof kz?(be.oldX=fe.x,be.oldY=fe.y):be.oldShape=It({},fe.shape)}function ce(ye,fe){var be=ye[g]={},Oe=s.parentNode,xe=fe instanceof Nr;if(Oe&&(!n||n.direction==="drillDown")){var Qe=0,ne=0,te=i.background[Oe.getRawIndex()];!n&&te&&te.oldShape&&(Qe=te.oldShape.width,ne=te.oldShape.height),xe?(be.oldX=0,be.oldY=ne):be.oldShape={x:Qe,y:ne,width:0,height:0}}be.fadein=!xe}}function oFe(r,e){return r*rFe+e}var U3=he,lFe=kr,jL=-1,Sl=(function(){function r(e){var t=e.mappingMethod,n=e.type,i=this.option=Cr(e);this.type=n,this.mappingMethod=t,this._normalizeData=fFe[t];var a=r.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],t==="piecewise"?(KP(i),cFe(i)):t==="category"?i.categories?uFe(i):KP(i,!0):(wc(t!=="linear"||i.dataExtent),KP(i))}return r.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},r.prototype.getNormalizer=function(){return hr(this._normalizeData,this)},r.listVisualTypes=function(){return Wn(r.visualHandlers)},r.isValidType=function(e){return r.visualHandlers.hasOwnProperty(e)},r.eachVisual=function(e,t,n){kr(e)?he(e,t,n):t.call(n,e)},r.mapVisual=function(e,t,n){var i,a=Ut(e)?[]:kr(e)?{}:(i=!0,null);return r.eachVisual(e,function(s,o){var l=t.call(n,s,o);i?a=l:a[o]=l}),a},r.retrieveVisuals=function(e){var t={},n;return e&&U3(r.visualHandlers,function(i,a){e.hasOwnProperty(a)&&(t[a]=e[a],n=!0)}),n?t:null},r.prepareVisualTypes=function(e){if(Ut(e))e=e.slice();else if(lFe(e)){var t=[];U3(e,function(n,i){t.push(i)}),e=t}else return[];return e.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),e},r.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},r.findPieceIndex=function(e,t,n){for(var i,a=1/0,s=0,o=t.length;s<o;s++){var l=t[s].value;if(l!=null){if(l===e||fr(l)&&l===e+"")return s;n&&d(l,s)}}for(var s=0,o=t.length;s<o;s++){var c=t[s],u=c.interval,f=c.close;if(u){if(u[0]===-1/0){if(gN(f[1],e,u[1]))return s}else if(u[1]===1/0){if(gN(f[0],u[0],e))return s}else if(gN(f[0],u[0],e)&&gN(f[1],e,u[1]))return s;n&&d(u[0],s),n&&d(u[1],s)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function d(h,p){var v=Math.abs(h-e);v<a&&(a=v,i=p)}},r.visualHandlers={color:{applyVisual:x5("color"),getColorMapper:function(){var e=this.option;return hr(e.mappingMethod==="category"?function(t,n){return!n&&(t=this._normalizeData(t)),sA.call(this,t)}:function(t,n,i){var a=!!i;return!n&&(t=this._normalizeData(t)),i=MA(t,e.parsedVisual,i),a?i:Rd(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Rd(MA(e,this.option.parsedVisual),"rgba")},category:sA,piecewise:function(e,t){var n=Oz.call(this,t);return n==null&&(n=Rd(MA(e,this.option.parsedVisual),"rgba")),n},fixed:J1}},colorHue:mN(function(e,t){return Ym(e,t)}),colorSaturation:mN(function(e,t){return Ym(e,null,t)}),colorLightness:mN(function(e,t){return Ym(e,null,null,t)}),colorAlpha:mN(function(e,t){return b3(e,t)}),decal:{applyVisual:x5("decal"),_normalizedToVisual:{linear:null,category:sA,piecewise:null,fixed:null}},opacity:{applyVisual:x5("opacity"),_normalizedToVisual:Iz([0,1])},liftZ:{applyVisual:x5("liftZ"),_normalizedToVisual:{linear:J1,category:J1,piecewise:J1,fixed:J1}},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);n("symbol",i)},_normalizedToVisual:{linear:yJ,category:sA,piecewise:function(e,t){var n=Oz.call(this,t);return n==null&&(n=yJ.call(this,e)),n},fixed:J1}},symbolSize:{applyVisual:x5("symbolSize"),_normalizedToVisual:Iz([0,1])}},r})();function cFe(r){var e=r.pieceList;r.hasSpecialVisual=!1,he(e,function(t,n){t.originIndex=n,t.visual!=null&&(r.hasSpecialVisual=!0)})}function uFe(r){var e=r.categories,t=r.categoryMap={},n=r.visual;if(U3(e,function(s,o){t[s]=o}),!Ut(n)){var i=[];kr(n)?U3(n,function(s,o){var l=t[o];i[l??jL]=s}):i[jL]=n,n=Epe(r,i)}for(var a=e.length-1;a>=0;a--)n[a]==null&&(delete t[e[a]],e.pop())}function KP(r,e){var t=r.visual,n=[];kr(t)?U3(t,function(a){n.push(a)}):t!=null&&n.push(t);var i={color:1,symbol:1};!e&&n.length===1&&!i.hasOwnProperty(r.type)&&(n[1]=n[0]),Epe(r,n)}function mN(r){return{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);n("color",r(t("color"),i))},_normalizedToVisual:Iz([0,1])}}function yJ(r){var e=this.option.visual;return e[Math.round(Ti(r,[0,1],[0,e.length-1],!0))]||{}}function x5(r){return function(e,t,n){n(r,this.mapValueToVisual(e))}}function sA(r){var e=this.option.visual;return e[this.option.loop&&r!==jL?r%e.length:r]}function J1(){return this.option.visual[0]}function Iz(r){return{linear:function(e){return Ti(e,r,this.option.visual,!0)},category:sA,piecewise:function(e,t){var n=Oz.call(this,t);return n==null&&(n=Ti(e,r,this.option.visual,!0)),n},fixed:J1}}function Oz(r){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var n=Sl.findPieceIndex(r,t),i=t[n];if(i&&i.visual)return i.visual[this.type]}}function Epe(r,e){return r.visual=e,r.type==="color"&&(r.parsedVisual=Gt(e,function(t){var n=ou(t);return n||[0,0,0,1]})),e}var fFe={linear:function(r){return Ti(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var e=this.option.pieceList,t=Sl.findPieceIndex(r,e,!0);if(t!=null)return Ti(t,[0,e.length-1],[0,1],!0)},category:function(r){var e=this.option.categories?this.option.categoryMap[r]:r;return e??jL},fixed:Ws};function gN(r,e,t){return r?e<=t:e<t}var hFe="itemStyle",Mpe=Mn();const dFe={seriesType:"treemap",reset:function(r){var e=r.getData().tree,t=e.root;t.isRemoved()||Cpe(t,{},r.getViewRoot().getAncestors(),r)}};function Cpe(r,e,t,n){var i=r.getModel(),a=r.getLayout(),s=r.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=i.getModel(hFe),l=pFe(o,e,n),c=s.ensureUniqueItemVisual(r.dataIndex,"style"),u=o.get("borderColor"),f=o.get("borderColorSaturation"),d;f!=null&&(d=bJ(l),u=vFe(f,d)),c.stroke=u;var h=r.viewChildren;if(!h||!h.length)d=bJ(l),c.fill=d;else{var p=mFe(r,i,a,o,l,h);he(h,function(v,x){if(v.depth>=t.length||v===t[v.depth]){var g=gFe(i,l,v,x,p,n);Cpe(v,g,t,n)}})}}}function pFe(r,e,t){var n=It({},e),i=t.designatedVisualItemStyle;return he(["color","colorAlpha","colorSaturation"],function(a){i[a]=e[a];var s=r.get(a);i[a]=null,s!=null&&(n[a]=s)}),n}function bJ(r){var e=$P(r,"color");if(e){var t=$P(r,"colorAlpha"),n=$P(r,"colorSaturation");return n&&(e=Ym(e,null,null,n)),t&&(e=b3(e,t)),e}}function vFe(r,e){return e!=null?Ym(e,null,null,r):null}function $P(r,e){var t=r[e];if(t!=null&&t!=="none")return t}function mFe(r,e,t,n,i,a){if(!(!a||!a.length)){var s=JP(e,"color")||i.color!=null&&i.color!=="none"&&(JP(e,"colorAlpha")||JP(e,"colorSaturation"));if(s){var o=e.get("visualMin"),l=e.get("visualMax"),c=t.dataExtent.slice();o!=null&&o<c[0]&&(c[0]=o),l!=null&&l>c[1]&&(c[1]=l);var u=e.get("colorMappingBy"),f={type:s.name,dataExtent:c,visual:s.range};f.type==="color"&&(u==="index"||u==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var d=new Sl(f);return Mpe(d).drColorMappingBy=u,d}}}function JP(r,e){var t=r.get(e);return Ut(t)&&t.length?{name:e,range:t}:null}function gFe(r,e,t,n,i,a){var s=It({},e);if(i){var o=i.type,l=o==="color"&&Mpe(i).drColorMappingBy,c=l==="index"?n:l==="id"?a.mapIdToIndex(t.getId()):t.getValue(r.get("visualDimension"));s[o]=i.mapValueToVisual(c)}return s}var V3=Math.max,UL=Math.min,_J=Xl,EV=he,Npe=["itemStyle","borderWidth"],xFe=["itemStyle","gapWidth"],yFe=["upperLabel","show"],bFe=["upperLabel","height"];const _Fe={seriesType:"treemap",reset:function(r,e,t,n){var i=r.option,a=al(r,t).refContainer,s=Ja(r.getBoxLayoutParams(),a),o=i.size||[],l=ur(_J(s.width,o[0]),a.width),c=ur(_J(s.height,o[1]),a.height),u=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],d=j3(n,f,r),h=u==="treemapRender"||u==="treemapMove"?n.rootRect:null,p=r.getViewRoot(),v=Spe(p);if(u!=="treemapMove"){var x=u==="treemapZoomToNode"?MFe(r,d,p,l,c):h?[h.width,h.height]:[l,c],g=i.sort;g&&g!=="asc"&&g!=="desc"&&(g="desc");var _={squareRatio:i.squareRatio,sort:g,leafDepth:i.leafDepth};p.hostTree.clearLayouts();var w={x:0,y:0,width:x[0],height:x[1],area:x[0]*x[1]};p.setLayout(w),Dpe(p,_,!1,0),w=p.getLayout(),EV(v,function(M,C){var N=(v[C+1]||p).getValue();M.setLayout(It({dataExtent:[N,N],borderWidth:0,upperHeight:0},w))})}var A=r.getData().tree.root;A.setLayout(CFe(s,h,d),!0),r.setLayoutInfo(s),Lpe(A,new Br(-s.x,-s.y,t.getWidth(),t.getHeight()),v,p,0)}};function Dpe(r,e,t,n){var i,a;if(!r.isRemoved()){var s=r.getLayout();i=s.width,a=s.height;var o=r.getModel(),l=o.get(Npe),c=o.get(xFe)/2,u=Rpe(o),f=Math.max(l,u),d=l-c,h=f-c;r.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:u},!0),i=V3(i-2*d,0),a=V3(a-d-h,0);var p=i*a,v=wFe(r,o,p,e,t,n);if(v.length){var x={x:d,y:h,width:i,height:a},g=UL(i,a),_=1/0,w=[];w.area=0;for(var A=0,M=v.length;A<M;){var C=v[A];w.push(C),w.area+=C.getLayout().area;var N=EFe(w,g,e.squareRatio);N<=_?(A++,_=N):(w.area-=w.pop().getLayout().area,wJ(w,g,x,c,!1),g=UL(x.width,x.height),w.length=w.area=0,_=1/0)}if(w.length&&wJ(w,g,x,c,!0),!t){var L=o.get("childrenVisibleMin");L!=null&&p<L&&(t=!0)}for(var A=0,M=v.length;A<M;A++)Dpe(v[A],e,t,n+1)}}}function wFe(r,e,t,n,i,a){var s=r.children||[],o=n.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!l)return r.viewChildren=[];s=bi(s,function(h){return!h.isRemoved()}),TFe(s,o);var c=AFe(e,s,o);if(c.sum===0)return r.viewChildren=[];if(c.sum=SFe(e,t,c.sum,o,s),c.sum===0)return r.viewChildren=[];for(var u=0,f=s.length;u<f;u++){var d=s[u].getValue()/c.sum*t;s[u].setLayout({area:d})}return l&&(s.length&&r.setLayout({isLeafRoot:!0},!0),s.length=0),r.viewChildren=s,r.setLayout({dataExtent:c.dataExtent},!0),s}function SFe(r,e,t,n,i){if(!n)return t;for(var a=r.get("visibleMin"),s=i.length,o=s,l=s-1;l>=0;l--){var c=i[n==="asc"?s-l-1:l].getValue();c/t*e<a&&(o=l,t-=c)}return n==="asc"?i.splice(0,s-o):i.splice(o,s-o),t}function TFe(r,e){return e&&r.sort(function(t,n){var i=e==="asc"?t.getValue()-n.getValue():n.getValue()-t.getValue();return i===0?e==="asc"?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i}),r}function AFe(r,e,t){for(var n=0,i=0,a=e.length;i<a;i++)n+=e[i].getValue();var s=r.get("visualDimension"),o;return!e||!e.length?o=[NaN,NaN]:s==="value"&&t?(o=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&o.reverse()):(o=[1/0,-1/0],EV(e,function(l){var c=l.getValue(s);c<o[0]&&(o[0]=c),c>o[1]&&(o[1]=c)})),{sum:n,dataExtent:o}}function EFe(r,e,t){for(var n=0,i=1/0,a=0,s=void 0,o=r.length;a<o;a++)s=r[a].getLayout().area,s&&(s<i&&(i=s),s>n&&(n=s));var l=r.area*r.area,c=e*e*t;return l?V3(c*n/l,l/(c*i)):1/0}function wJ(r,e,t,n,i){var a=e===t.width?0:1,s=1-a,o=["x","y"],l=["width","height"],c=t[o[a]],u=e?r.area/e:0;(i||u>t[l[s]])&&(u=t[l[s]]);for(var f=0,d=r.length;f<d;f++){var h=r[f],p={},v=u?h.getLayout().area/u:0,x=p[l[s]]=V3(u-2*n,0),g=t[o[a]]+t[l[a]]-c,_=f===d-1||g<v?g:v,w=p[l[a]]=V3(_-2*n,0);p[o[s]]=t[o[s]]+UL(n,x/2),p[o[a]]=c+UL(n,w/2),c+=_,h.setLayout(p,!0)}t[o[s]]+=u,t[l[s]]-=u}function MFe(r,e,t,n,i){var a=(e||{}).node,s=[n,i];if(!a||a===t)return s;for(var o,l=n*i,c=l*r.option.zoomToNodeRatio;o=a.parentNode;){for(var u=0,f=o.children,d=0,h=f.length;d<h;d++)u+=f[d].getValue();var p=a.getValue();if(p===0)return s;c*=u/p;var v=o.getModel(),x=v.get(Npe),g=Math.max(x,Rpe(v));c+=4*x*x+(3*x+g)*Math.pow(c,.5),c>M7&&(c=M7),a=o}c<l&&(c=l);var _=Math.pow(c/l,.5);return[n*_,i*_]}function CFe(r,e,t){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!t)return n;var i=t.node,a=i.getLayout();if(!a)return n;for(var s=[a.width/2,a.height/2],o=i;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:r.width/2-s[0],y:r.height/2-s[1]}}function Lpe(r,e,t,n,i){var a=r.getLayout(),s=t[i],o=s&&s===r;if(!(s&&!o||i===t.length&&r!==n)){r.setLayout({isInView:!0,invisible:!o&&!e.intersect(a),isAboveViewRoot:o},!0);var l=new Br(e.x-a.x,e.y-a.y,e.width,e.height);EV(r.viewChildren||[],function(c){Lpe(c,l,t,n,i+1)})}}function Rpe(r){return r.get(yFe)?r.get(bFe):0}function NFe(r){r.registerSeriesModel(X8e),r.registerChartView(aFe),r.registerVisual(dFe),r.registerLayout(_Fe),q8e(r)}function DFe(r){var e=r.findComponents({mainType:"legend"});!e||!e.length||r.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getGraph(),a=i.data,s=n.mapArray(n.getName);a.filterSelf(function(o){var l=a.getItemModel(o),c=l.getShallow("category");if(c!=null){Jn(c)&&(c=s[c]);for(var u=0;u<e.length;u++)if(!e[u].isSelected(c))return!1}return!0})})}function LFe(r){var e={};r.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getData(),a={};n.each(function(s){var o=n.getName(s);a["ec-"+o]=s;var l=n.getItemModel(s),c=l.getModel("itemStyle").getItemStyle();c.fill||(c.fill=t.getColorFromPalette(o,e)),n.setItemVisual(s,"style",c);for(var u=["symbol","symbolSize","symbolKeepAspect"],f=0;f<u.length;f++){var d=l.getShallow(u[f],!0);d!=null&&n.setItemVisual(s,u[f],d)}}),n.count()&&i.each(function(s){var o=i.getItemModel(s),l=o.getShallow("category");if(l!=null){fr(l)&&(l=a["ec-"+l]);var c=n.getItemVisual(l,"style"),u=i.ensureUniqueItemVisual(s,"style");It(u,c);for(var f=["symbol","symbolSize","symbolKeepAspect"],d=0;d<f.length;d++)i.setItemVisual(s,f[d],n.getItemVisual(l,f[d]))}})})}function xN(r){return r instanceof Array||(r=[r,r]),r}function RFe(r){r.eachSeriesByType("graph",function(e){var t=e.getGraph(),n=e.getEdgeData(),i=xN(e.get("edgeSymbol")),a=xN(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each(function(s){var o=n.getItemModel(s),l=t.getEdgeByIndex(s),c=xN(o.getShallow("symbol",!0)),u=xN(o.getShallow("symbolSize",!0)),f=o.getModel("lineStyle").getLineStyle(),d=n.ensureUniqueItemVisual(s,"style");switch(It(d,f),d.stroke){case"source":{var h=l.node1.getVisual("style");d.stroke=h&&h.fill;break}case"target":{var h=l.node2.getVisual("style");d.stroke=h&&h.fill;break}}c[0]&&l.setVisual("fromSymbol",c[0]),c[1]&&l.setVisual("toSymbol",c[1]),u[0]&&l.setVisual("fromSymbolSize",u[0]),u[1]&&l.setVisual("toSymbolSize",u[1])})})}var Pz="-->",hI=function(r){return r.get("autoCurveness")||null},kpe=function(r,e){var t=hI(r),n=20,i=[];if(Jn(t))n=t;else if(Ut(t)){r.__curvenessList=t;return}e>n&&(n=e);var a=n%2?n+2:n+3;i=[];for(var s=0;s<a;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));r.__curvenessList=i},H3=function(r,e,t){var n=[r.id,r.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[t.uid,n,i].join(Pz)},Ipe=function(r){var e=r.split(Pz);return[e[0],e[2],e[1]].join(Pz)},kFe=function(r,e){var t=H3(r.node1,r.node2,e);return e.__edgeMap[t]},IFe=function(r,e){var t=Fz(H3(r.node1,r.node2,e),e),n=Fz(H3(r.node2,r.node1,e),e);return t+n},Fz=function(r,e){var t=e.__edgeMap;return t[r]?t[r].length:0};function OFe(r){hI(r)&&(r.__curvenessList=[],r.__edgeMap={},kpe(r))}function PFe(r,e,t,n){if(hI(t)){var i=H3(r,e,t),a=t.__edgeMap,s=a[Ipe(i)];a[i]&&!s?a[i].isForward=!0:s&&a[i]&&(s.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function MV(r,e,t,n){var i=hI(e),a=Ut(i);if(!i)return null;var s=kFe(r,e);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===t){o=l;break}var c=IFe(r,e);kpe(e,c),r.lineStyle=r.lineStyle||{};var u=H3(r.node1,r.node2,e),f=e.__curvenessList,d=a||c%2?0:1;if(s.isForward)return f[d+o];var h=Ipe(u),p=Fz(h,e),v=f[o+p+d];return n?a?i&&i[0]===0?(p+d)%2?v:-v:((p%2?0:1)+d)%2?v:-v:(p+d)%2?v:-v:f[o+p+d]}function Ope(r){var e=r.coordinateSystem;if(!(e&&e.type!=="view")){var t=r.getGraph();t.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),CV(t,r)}}function CV(r,e){r.eachEdge(function(t,n){var i=Hf(t.getModel().get(["lineStyle","curveness"]),-MV(t,e,n,!0),0),a=ov(t.node1.getLayout()),s=ov(t.node2.getLayout()),o=[a,s];+i&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*i,(a[1]+s[1])/2-(s[0]-a[0])*i]),t.setLayout(o)})}function FFe(r,e){r.eachSeriesByType("graph",function(t){var n=t.get("layout"),i=t.coordinateSystem;if(i&&i.type!=="view"){var a=t.getData(),s=[];he(i.dimensions,function(d){s=s.concat(a.mapDimensionsAll(d))});for(var o=0;o<a.count();o++){for(var l=[],c=!1,u=0;u<s.length;u++){var f=a.get(s[u],o);isNaN(f)||(c=!0),l.push(f)}c?a.setItemLayout(o,i.dataToPoint(l)):a.setItemLayout(o,[NaN,NaN])}CV(a.graph,t)}else(!n||n==="none")&&Ope(t)})}function oA(r){var e=r.coordinateSystem;if(e.type!=="view")return 1;var t=r.option.nodeScaleRatio,n=e.scaleX,i=e.getZoom(),a=(i-1)*t+1;return a/n}function lA(r){var e=r.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var SJ=Math.PI,QP=[];function NV(r,e,t,n){var i=r.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),s=r.getData(),o=s.graph,l=a.width/2+a.x,c=a.height/2+a.y,u=Math.min(a.width,a.height)/2,f=s.count();if(s.setLayout({cx:l,cy:c}),!!f){if(t){var d=i.pointToData(n),h=d[0],p=d[1],v=[h-l,p-c];hb(v,v),SA(v,v,u),t.setLayout([l+v[0],c+v[1]],!0);var x=r.get(["circular","rotateLabel"]);Ppe(t,x,l,c)}BFe[e](r,o,s,u,l,c,f),o.eachEdge(function(g,_){var w=Hf(g.getModel().get(["lineStyle","curveness"]),MV(g,r,_),0),A=ov(g.node1.getLayout()),M=ov(g.node2.getLayout()),C,N=(A[0]+M[0])/2,L=(A[1]+M[1])/2;+w&&(w*=3,C=[l*w+N*(1-w),c*w+L*(1-w)]),g.setLayout([A,M,C])})}}}var BFe={value:function(r,e,t,n,i,a,s){var o=0,l=t.getSum("value"),c=Math.PI*2/(l||s);e.eachNode(function(u){var f=u.getValue("value"),d=c*(l?f:1)/2;o+=d,u.setLayout([n*Math.cos(o)+i,n*Math.sin(o)+a]),o+=d})},symbolSize:function(r,e,t,n,i,a,s){var o=0;QP.length=s;var l=oA(r);e.eachNode(function(f){var d=lA(f);isNaN(d)&&(d=2),d<0&&(d=0),d*=l;var h=Math.asin(d/2/n);isNaN(h)&&(h=SJ/2),QP[f.dataIndex]=h,o+=h*2});var c=(2*SJ-o)/s/2,u=0;e.eachNode(function(f){var d=c+QP[f.dataIndex];u+=d,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([n*Math.cos(u)+i,n*Math.sin(u)+a]),u+=d})}};function Ppe(r,e,t,n){var i=r.getGraphicEl();if(i){var a=r.getModel(),s=a.get(["label","rotate"])||0,o=i.getSymbolPath();if(e){var l=r.getLayout(),c=Math.atan2(l[1]-n,l[0]-t);c<0&&(c=Math.PI*2+c);var u=l[0]<t;u&&(c=c-Math.PI);var f=u?"left":"right";o.setTextConfig({rotation:-c,position:f,origin:"center"});var d=o.ensureState("emphasis");It(d.textConfig||(d.textConfig={}),{position:f})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function zFe(r){r.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&NV(e,"symbolSize")})}var T_=ZD;function jFe(r,e,t){for(var n=r,i=e,a=t.rect,s=a.width,o=a.height,l=[a.x+s/2,a.y+o/2],c=t.gravity==null?.1:t.gravity,u=0;u<n.length;u++){var f=n[u];f.p||(f.p=Sy(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),f.pp=ov(f.p),f.edges=null}var d=t.friction==null?.6:t.friction,h=d,p,v;return{warmUp:function(){h=d*.8},setFixed:function(x){n[x].fixed=!0},setUnfixed:function(x){n[x].fixed=!1},beforeStep:function(x){p=x},afterStep:function(x){v=x},step:function(x){p&&p(n,i);for(var g=[],_=n.length,w=0;w<i.length;w++){var A=i[w];if(!A.ignoreForceLayout){var M=A.n1,C=A.n2;kx(g,C.p,M.p);var N=g3(g)-A.d,L=C.w/(M.w+C.w);isNaN(L)&&(L=0),hb(g,g),!M.fixed&&T_(M.p,M.p,g,L*N*h),!C.fixed&&T_(C.p,C.p,g,-(1-L)*N*h)}}for(var w=0;w<_;w++){var D=n[w];D.fixed||(kx(g,l,D.p),T_(D.p,D.p,g,c*h))}for(var w=0;w<_;w++)for(var M=n[w],k=w+1;k<_;k++){var C=n[k];kx(g,C.p,M.p);var N=g3(g);N===0&&(Ok(g,Math.random()-.5,Math.random()-.5),N=1);var O=(M.rep+C.rep)/N/N;!M.fixed&&T_(M.pp,M.pp,g,O),!C.fixed&&T_(C.pp,C.pp,g,-O)}for(var I=[],w=0;w<_;w++){var D=n[w];D.fixed||(kx(I,D.p,D.pp),T_(D.p,D.p,I,h),$c(D.pp,D.p))}h=h*.992;var j=h<.01;v&&v(n,i,j),x&&x(j)}}}function UFe(r){r.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var n=e.preservedPoints||{},i=e.getGraph(),a=i.data,s=i.edgeData,o=e.getModel("force"),l=o.get("initLayout");e.preservedPoints?a.each(function(w){var A=a.getId(w);a.setItemLayout(w,n[A]||[NaN,NaN])}):!l||l==="none"?Ope(e):l==="circular"&&NV(e,"value");var c=a.getDataExtent("value"),u=s.getDataExtent("value"),f=o.get("repulsion"),d=o.get("edgeLength"),h=Ut(f)?f:[f,f],p=Ut(d)?d:[d,d];p=[p[1],p[0]];var v=a.mapArray("value",function(w,A){var M=a.getItemLayout(A),C=Ti(w,c,h);return isNaN(C)&&(C=(h[0]+h[1])/2),{w:C,rep:C,fixed:a.getItemModel(A).get("fixed"),p:!M||isNaN(M[0])||isNaN(M[1])?null:M}}),x=s.mapArray("value",function(w,A){var M=i.getEdgeByIndex(A),C=Ti(w,u,p);isNaN(C)&&(C=(p[0]+p[1])/2);var N=M.getModel(),L=Hf(M.getModel().get(["lineStyle","curveness"]),-MV(M,e,A,!0),0);return{n1:v[M.node1.dataIndex],n2:v[M.node2.dataIndex],d:C,curveness:L,ignoreForceLayout:N.get("ignoreForceLayout")}}),g=t.getBoundingRect(),_=jFe(v,x,{rect:g,gravity:o.get("gravity"),friction:o.get("friction")});_.beforeStep(function(w,A){for(var M=0,C=w.length;M<C;M++)w[M].fixed&&$c(w[M].p,i.getNodeByIndex(M).getLayout())}),_.afterStep(function(w,A,M){for(var C=0,N=w.length;C<N;C++)w[C].fixed||i.getNodeByIndex(C).setLayout(w[C].p),n[a.getId(C)]=w[C].p;for(var C=0,N=A.length;C<N;C++){var L=A[C],D=i.getEdgeByIndex(C),k=L.n1.p,O=L.n2.p,I=D.getLayout();I=I?I.slice():[],I[0]=I[0]||[],I[1]=I[1]||[],$c(I[0],k),$c(I[1],O),+L.curveness&&(I[2]=[(k[0]+O[0])/2-(k[1]-O[1])*L.curveness,(k[1]+O[1])/2-(O[0]-k[0])*L.curveness]),D.setLayout(I)}}),e.forceLayout=_,e.preservedPoints=n,_.step()}else e.forceLayout=null})}function VFe(r,e,t){var n=al(r,e),i=It(r.getBoxLayoutParams(),{aspect:t}),a=Ja(i,n.refContainer);return ufe(r,a,t)}function HFe(r,e){var t=[];return r.eachSeriesByType("graph",function(n){qE({targetModel:n,coordSysType:"view",coordSysProvider:i,isDefaultDataCoordSys:!0});function i(){var a=n.getData(),s=a.mapArray(function(p){var v=a.getItemModel(p);return[+v.get("x"),+v.get("y")]}),o=[],l=[];Gk(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var c=(l[0]-o[0])/(l[1]-o[1]),u=VFe(n,e,c);isNaN(c)&&(o=[u.x,u.y],l=[u.x+u.width,u.y+u.height]);var f=l[0]-o[0],d=l[1]-o[1],h=new bb(null,{api:e,ecModel:r});return h.zoomLimit=n.get("scaleLimit"),h.setBoundingRect(o[0],o[1],f,d),h.setViewRect(u.x,u.y,u.width,u.height),h.setCenter(n.get("center")),h.setZoom(n.get("zoom")),t.push(h),h}}),t}var TJ=mo.prototype,e8=jS.prototype,Fpe=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})();(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(Fpe);function t8(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var Bpe=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-line",n}return e.prototype.getDefaultStyle=function(){return{stroke:ut.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new Fpe},e.prototype.buildPath=function(t,n){t8(n)?TJ.buildPath.call(this,t,n):e8.buildPath.call(this,t,n)},e.prototype.pointAt=function(t){return t8(this.shape)?TJ.pointAt.call(this,t):e8.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var n=this.shape,i=t8(n)?[n.x2-n.x1,n.y2-n.y1]:e8.tangentAt.call(this,t);return hb(i,i)},e})(Rn),r8=["fromSymbol","toSymbol"];function AJ(r){return"_"+r+"Type"}function EJ(r,e,t){var n=e.getItemVisual(t,r);if(!n||n==="none")return n;var i=e.getItemVisual(t,r+"Size"),a=e.getItemVisual(t,r+"Rotate"),s=e.getItemVisual(t,r+"Offset"),o=e.getItemVisual(t,r+"KeepAspect"),l=ZS(i),c=gb(s||0,l);return n+l+c+(a||"")+(o||"")}function MJ(r,e,t){var n=e.getItemVisual(t,r);if(!(!n||n==="none")){var i=e.getItemVisual(t,r+"Size"),a=e.getItemVisual(t,r+"Rotate"),s=e.getItemVisual(t,r+"Offset"),o=e.getItemVisual(t,r+"KeepAspect"),l=ZS(i),c=gb(s||0,l),u=xo(n,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,o);return u.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,u.name=r,u}}function GFe(r){var e=new Bpe({name:"line",subPixelOptimize:!0});return Bz(e.shape,r),e}function Bz(r,e){r.x1=e[0][0],r.y1=e[0][1],r.x2=e[1][0],r.y2=e[1][1],r.percent=1;var t=e[2];t?(r.cpx1=t[0],r.cpy1=t[1]):(r.cpx1=NaN,r.cpy1=NaN)}var DV=(function(r){dt(e,r);function e(t,n,i){var a=r.call(this)||this;return a._createLine(t,n,i),a}return e.prototype._createLine=function(t,n,i){var a=t.hostModel,s=t.getItemLayout(n),o=t.getItemVisual(n,"z2"),l=GFe(s);l.shape.percent=0,Ua(l,{z2:wr(o,0),shape:{percent:1}},a,n),this.add(l),he(r8,function(c){var u=MJ(c,t,n);this.add(u),this[AJ(c)]=EJ(c,t,n)},this),this._updateCommonStl(t,n,i)},e.prototype.updateData=function(t,n,i){var a=t.hostModel,s=this.childOfName("line"),o=t.getItemLayout(n),l={shape:{}};Bz(l.shape,o),si(s,l,a,n),he(r8,function(c){var u=EJ(c,t,n),f=AJ(c);if(this[f]!==u){this.remove(this.childOfName(c));var d=MJ(c,t,n);this.add(d)}this[f]=u},this),this._updateCommonStl(t,n,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,n,i){var a=t.hostModel,s=this.childOfName("line"),o=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,c=i&&i.selectLineStyle,u=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,d=i&&i.focus,h=i&&i.blurScope;if(!i||t.hasItemOption){var p=t.getItemModel(n),v=p.getModel("emphasis");o=v.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),c=p.getModel(["select","lineStyle"]).getLineStyle(),f=v.get("disabled"),d=v.get("focus"),h=v.get("blurScope"),u=il(p)}var x=t.getItemVisual(n,"style"),g=x.stroke;s.useStyle(x),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=c,he(r8,function(C){var N=this.childOfName(C);if(N){N.setColor(g),N.style.opacity=x.opacity;for(var L=0;L<Qu.length;L++){var D=Qu[L],k=s.getState(D);if(k){var O=k.style||{},I=N.ensureState(D),j=I.style||(I.style={});O.stroke!=null&&(j[N.__isEmptyBrush?"stroke":"fill"]=O.stroke),O.opacity!=null&&(j.opacity=O.opacity)}}N.markRedraw()}},this);var _=a.getRawValue(n);Al(this,u,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(C,N){return a.getFormattedLabel(C,N,t.dataType)}},inheritColor:g||ut.color.neutral99,defaultOpacity:x.opacity,defaultText:(_==null?t.getName(n):isFinite(_)?vo(_):_)+""});var w=this.getTextContent();if(w){var A=u.normal;w.__align=w.style.align,w.__verticalAlign=w.style.verticalAlign,w.__position=A.get("position")||"middle";var M=A.get("distance");Ut(M)||(M=[M,M]),w.__labelDistance=M}this.setTextConfig({position:null,local:!0,inside:!1}),ss(this,d,h,f)},e.prototype.highlight=function(){ng(this)},e.prototype.downplay=function(){ig(this)},e.prototype.updateLayout=function(t,n){this.setLinePoints(t.getItemLayout(n))},e.prototype.setLinePoints=function(t){var n=this.childOfName("line");Bz(n.shape,t),n.dirty()},e.prototype.beforeUpdate=function(){var t=this,n=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),a=t.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var c=l.shape.percent,u=l.pointAt(0),f=l.pointAt(c),d=kx([],f,u);hb(d,d);function h(k,O){var I=k.__specifiedRotation;if(I==null){var j=l.tangentAt(O);k.attr("rotation",(O===1?-1:1)*Math.PI/2-Math.atan2(j[1],j[0]))}else k.attr("rotation",I)}if(n&&(n.setPosition(u),h(n,0),n.scaleX=n.scaleY=s*c,n.markRedraw()),i&&(i.setPosition(f),h(i,1),i.scaleX=i.scaleY=s*c,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var p=void 0,v=void 0,x=a.__labelDistance,g=x[0]*s,_=x[1]*s,w=c/2,A=l.tangentAt(w),M=[A[1],-A[0]],C=l.pointAt(w);M[1]>0&&(M[0]=-M[0],M[1]=-M[1]);var N=A[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var L=-Math.atan2(A[1],A[0]);f[0]<u[0]&&(L=Math.PI+L),a.rotation=L}var D=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":D=-_,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":D=_,v="top";break;default:D=0,v="middle"}switch(a.__position){case"end":a.x=d[0]*g+f[0],a.y=d[1]*_+f[1],p=d[0]>.8?"left":d[0]<-.8?"right":"center",v=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":a.x=-d[0]*g+u[0],a.y=-d[1]*_+u[1],p=d[0]>.8?"right":d[0]<-.8?"left":"center",v=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=g*N+u[0],a.y=u[1]+D,p=A[0]<0?"right":"left",a.originX=-g*N,a.originY=-D;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=C[0],a.y=C[1]+D,p="center",a.originY=-D;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-g*N+f[0],a.y=f[1]+D,p=A[0]>=0?"right":"left",a.originX=g*N,a.originY=-D;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||v,align:a.__align||p})}},e})(Nr),LV=(function(){function r(e){this.group=new Nr,this._LineCtor=e||DV}return r.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=e,a||i.removeAll();var s=CJ(e);e.diff(a).add(function(o){t._doAdd(e,o,s)}).update(function(o,l){t._doUpdate(a,e,l,o,s)}).remove(function(o){i.remove(a.getItemGraphicEl(o))}).execute()},r.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=CJ(e),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function n(o){!o.isGroup&&!WFe(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var a=t.getItemLayout(i);if(n8(a)){var s=new this._LineCtor(t,i,this._seriesScope);s.traverse(n),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(e){Ty(this._progressiveEls||this.group,e)},r.prototype._doAdd=function(e,t,n){var i=e.getItemLayout(t);if(n8(i)){var a=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,a),this.group.add(a)}},r.prototype._doUpdate=function(e,t,n,i,a){var s=e.getItemGraphicEl(n);if(!n8(t.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(t,i,a):s=new this._LineCtor(t,i,a),t.setItemGraphicEl(i,s),this.group.add(s)},r})();function WFe(r){return r.animators&&r.animators.length>0}function CJ(r){var e=r.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:il(e)}}function NJ(r){return isNaN(r[0])||isNaN(r[1])}function n8(r){return r&&!NJ(r[0])&&!NJ(r[1])}var i8=[],a8=[],s8=[],A_=Yl,o8=qx,DJ=Math.abs;function LJ(r,e,t){for(var n=r[0],i=r[1],a=r[2],s=1/0,o,l=t*t,c=.1,u=.1;u<=.9;u+=.1){i8[0]=A_(n[0],i[0],a[0],u),i8[1]=A_(n[1],i[1],a[1],u);var f=DJ(o8(i8,e)-l);f<s&&(s=f,o=u)}for(var d=0;d<32;d++){var h=o+c;a8[0]=A_(n[0],i[0],a[0],o),a8[1]=A_(n[1],i[1],a[1],o),s8[0]=A_(n[0],i[0],a[0],h),s8[1]=A_(n[1],i[1],a[1],h);var f=o8(a8,e)-l;if(DJ(f)<.01)break;var p=o8(s8,e)-l;c/=2,f<0?p>=0?o=o+c:o=o-c:p>=0?o=o-c:o=o+c}return o}function l8(r,e){var t=[],n=x3,i=[[],[],[]],a=[[],[]],s=[];e/=2,r.eachEdge(function(o,l){var c=o.getLayout(),u=o.getVisual("fromSymbol"),f=o.getVisual("toSymbol");c.__original||(c.__original=[ov(c[0]),ov(c[1])],c[2]&&c.__original.push(ov(c[2])));var d=c.__original;if(c[2]!=null){if($c(i[0],d[0]),$c(i[1],d[2]),$c(i[2],d[1]),u&&u!=="none"){var h=lA(o.node1),p=LJ(i,d[0],h*e);n(i[0][0],i[1][0],i[2][0],p,t),i[0][0]=t[3],i[1][0]=t[4],n(i[0][1],i[1][1],i[2][1],p,t),i[0][1]=t[3],i[1][1]=t[4]}if(f&&f!=="none"){var h=lA(o.node2),p=LJ(i,d[1],h*e);n(i[0][0],i[1][0],i[2][0],p,t),i[1][0]=t[1],i[2][0]=t[2],n(i[0][1],i[1][1],i[2][1],p,t),i[1][1]=t[1],i[2][1]=t[2]}$c(c[0],i[0]),$c(c[1],i[2]),$c(c[2],i[1])}else{if($c(a[0],d[0]),$c(a[1],d[1]),kx(s,a[1],a[0]),hb(s,s),u&&u!=="none"){var h=lA(o.node1);ZD(a[0],a[0],s,h*e)}if(f&&f!=="none"){var h=lA(o.node2);ZD(a[1],a[1],s,-h*e)}$c(c[0],a[0]),$c(c[1],a[1])}})}var zpe=Mn();function YFe(r){if(r)return zpe(r).bridge}function RJ(r,e){r&&(zpe(r).bridge=e)}function kJ(r){return r.type==="view"}var qFe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){var i=new $E,a=new LV,s=this.group,o=new Nr;this._controller=new yb(n.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(a.group),s.add(o),this._symbolDraw=i,this._lineDraw=a,this._mainGroup=o,this._firstRender=!0},e.prototype.render=function(t,n,i){var a=this,s=t.coordinateSystem,o=!1;this._model=t,this._api=i,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(i);var c=this._symbolDraw,u=this._lineDraw;if(kJ(s)){var f={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?this._mainGroup.attr(f):si(this._mainGroup,f,t)}l8(t.getGraph(),oA(t));var d=t.getData();c.updateData(d);var h=t.getEdgeData();u.updateData(h),this._updateNodeAndLinkScale(),this._updateController(null,t,i),clearTimeout(this._layoutTimeout);var p=t.forceLayout,v=t.get(["force","layoutAnimation"]);p&&(o=!0,this._startForceLayoutIteration(p,i,v));var x=t.get("layout");d.graph.eachNode(function(A){var M=A.dataIndex,C=A.getGraphicEl(),N=A.getModel();if(C){C.off("drag").off("dragend");var L=N.get("draggable");L&&C.on("drag",function(k){switch(x){case"force":p.warmUp(),!a._layouting&&a._startForceLayoutIteration(p,i,v),p.setFixed(M),d.setItemLayout(M,[C.x,C.y]);break;case"circular":d.setItemLayout(M,[C.x,C.y]),A.setLayout({fixed:!0},!0),NV(t,"symbolSize",A,[k.offsetX,k.offsetY]),a.updateLayout(t);break;case"none":default:d.setItemLayout(M,[C.x,C.y]),CV(t.getGraph(),t),a.updateLayout(t);break}}).on("dragend",function(){p&&p.setUnfixed(M)}),C.setDraggable(L,!!N.get("cursor"));var D=N.get(["emphasis","focus"]);D==="adjacency"&&(Vr(C).focus=A.getAdjacentDataIndices())}}),d.graph.eachEdge(function(A){var M=A.getGraphicEl(),C=A.getModel().get(["emphasis","focus"]);M&&C==="adjacency"&&(Vr(M).focus={edge:[A.dataIndex],node:[A.node1.dataIndex,A.node2.dataIndex]})});var g=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),_=d.getLayout("cx"),w=d.getLayout("cy");d.graph.eachNode(function(A){Ppe(A,g,_,w)}),this._firstRender=!1,o||this._renderThumbnail(t,i,this._symbolDraw,this._lineDraw)},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,n,i){var a=this,s=!1;(function o(){t.step(function(l){a.updateLayout(a._model),(l||!s)&&(s=!0,a._renderThumbnail(a._model,n,a._symbolDraw,a._lineDraw)),(a._layouting=!l)&&(i?a._layoutTimeout=setTimeout(o,16):o())})})()},e.prototype._updateController=function(t,n,i){var a=this._controller,s=this._controllerHost,o=n.coordinateSystem;if(!kJ(o)){a.disable();return}a.enable(n.get("roam"),{api:i,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(l,c,u){return o.containPoint([c,u])},isInClip:function(l,c,u){return!t||t.contain(c,u)}}}),s.zoomLimit=n.get("scaleLimit"),s.zoom=o.getZoom(),a.off("pan").off("zoom").on("pan",function(l){i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},e.prototype.updateViewOnPan=function(t,n,i){this._active&&(yV(this._controllerHost,i.dx,i.dy),this._updateThumbnailWindow())},e.prototype.updateViewOnZoom=function(t,n,i){this._active&&(bV(this._controllerHost,i.zoom,i.originX,i.originY),this._updateNodeAndLinkScale(),l8(t.getGraph(),oA(t)),this._lineDraw.updateLayout(),n.updateLabelLayout(),this._updateThumbnailWindow())},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,n=t.getData(),i=oA(t);n.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(i)})},e.prototype.updateLayout=function(t){this._active&&(l8(t.getGraph(),oA(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},e.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},e.prototype._getThumbnailInfo=function(){var t=this._model,n=t.coordinateSystem;if(n.type==="view"){var i=YFe(t);if(i)return{bridge:i,coordSys:n}}},e.prototype._updateThumbnailWindow=function(){var t=this._getThumbnailInfo();t&&t.bridge.updateWindow(t.coordSys.transform,this._api)},e.prototype._renderThumbnail=function(t,n,i,a){var s=this._getThumbnailInfo();if(s){var o=new Nr,l=i.group.children(),c=a.group.children(),u=new Nr,f=new Nr;o.add(f),o.add(u);for(var d=0;d<l.length;d++){var h=l[d],p=h.children()[0],v=h.x,x=h.y,g=Cr(p.shape),_=It(g,{width:p.scaleX,height:p.scaleY,x:v-p.scaleX/2,y:x-p.scaleY/2}),w=Cr(p.style),A=new p.constructor({shape:_,style:w,z2:151});f.add(A)}for(var d=0;d<c.length;d++){var h=c[d],M=h.children()[0],w=Cr(M.style),_=Cr(M.shape),C=new Bpe({style:w,shape:_,z2:151});u.add(C)}s.bridge.renderContent({api:n,roamType:t.get("roam"),viewportRect:null,group:o,targetTrans:s.coordSys.transform})}},e.type="graph",e})(Zi);function E_(r){return"_EC_"+r}var XFe=(function(){function r(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var n=this._nodesMap;if(!n[E_(e)]){var i=new Q1(e,t);return i.hostGraph=this,this.nodes.push(i),n[E_(e)]=i,i}},r.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},r.prototype.getNodeById=function(e){return this._nodesMap[E_(e)]},r.prototype.addEdge=function(e,t,n){var i=this._nodesMap,a=this._edgesMap;if(Jn(e)&&(e=this.nodes[e]),Jn(t)&&(t=this.nodes[t]),e instanceof Q1||(e=i[E_(e)]),t instanceof Q1||(t=i[E_(t)]),!(!e||!t)){var s=e.id+"-"+t.id,o=new jpe(e,t,n);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),a[s]=o,o}},r.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},r.prototype.getEdge=function(e,t){e instanceof Q1&&(e=e.id),t instanceof Q1&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},r.prototype.eachNode=function(e,t){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&e.call(t,n[a],a)},r.prototype.eachEdge=function(e,t){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&e.call(t,n[a],a)},r.prototype.breadthFirstTraverse=function(e,t,n,i){if(t instanceof Q1||(t=this._nodesMap[E_(t)]),!!t){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(i,t,null))for(var o=[t];o.length;)for(var l=o.shift(),c=l[a],s=0;s<c.length;s++){var u=c[s],f=u.node1===l?u.node2:u.node1;if(!f.__visited){if(e.call(i,f,l))return;o.push(f),f.__visited=!0}}}},r.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,a=0,s=n.length;a<s;a++)n[a].dataIndex=-1;for(var a=0,s=e.count();a<s;a++)n[e.getRawIndex(a)].dataIndex=a;t.filterSelf(function(o){var l=i[t.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=t.count();a<s;a++)i[t.getRawIndex(a)].dataIndex=a},r.prototype.clone=function(){for(var e=new r(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},r})(),Q1=(function(){function r(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},r.prototype.getTrajectoryDataIndices=function(){for(var e=br(),t=br(),n=0,i=this.edges.length;n<i;n++){var a=this.edges[n];if(!(a.dataIndex<0)){e.set(a.dataIndex,!0);for(var s=[a.node1],o=[a.node2],l=0;l<s.length;){var c=s[l];l++,t.set(c.dataIndex,!0);for(var u=c.inEdges,f=0,d=u.length,h=void 0,p=void 0;f<d;f++)h=u[f],p=h.dataIndex,p>=0&&!e.hasKey(p)&&(e.set(p,!0),s.push(h.node1))}for(l=0;l<o.length;){var v=o[l];l++,t.set(v.dataIndex,!0);for(var x=v.outEdges,f=0,g=x.length,_=void 0,w=void 0;f<g;f++)_=x[f],w=_.dataIndex,w>=0&&!e.hasKey(w)&&(e.set(w,!0),o.push(_.node2))}}}return{edge:e.keys(),node:t.keys()}},r})(),jpe=(function(){function r(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=n??-1}return r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var e=br(),t=br();e.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var s=n[a];a++,t.set(s.dataIndex,!0);for(var o=s.inEdges,l=0,c=o.length,u=void 0,f=void 0;l<c;l++)u=s.inEdges[l],f=u.dataIndex,f>=0&&!e.hasKey(f)&&(e.set(f,!0),n.push(u.node1))}for(a=0;a<i.length;){var d=i[a];a++,t.set(d.dataIndex,!0);for(var h=d.outEdges,l=0,c=h.length,p=void 0,v=void 0;l<c;l++)p=d.outEdges[l],v=p.dataIndex,v>=0&&!e.hasKey(v)&&(e.set(v,!0),i.push(p.node2))}return{edge:e.keys(),node:t.keys()}},r})();function Upe(r,e){return{getValue:function(t){var n=this[r][e];return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,n){this.dataIndex>=0&&this[r][e].setItemVisual(this.dataIndex,t,n)},getVisual:function(t){return this[r][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,n){this.dataIndex>=0&&this[r][e].setItemLayout(this.dataIndex,t,n)},getLayout:function(){return this[r][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][e].getRawIndex(this.dataIndex)}}}qs(Q1,Upe("hostGraph","data"));qs(jpe,Upe("hostGraph","edgeData"));function RV(r,e,t,n,i){for(var a=new XFe(n),s=0;s<r.length;s++)a.addNode(Xl(r[s].id,r[s].name,s),s);for(var o=[],l=[],c=0,s=0;s<e.length;s++){var u=e[s],f=u.source,d=u.target;a.addEdge(f,d,c)&&(l.push(u),o.push(Xl(rl(u.id,null),f+" > "+d)),c++)}var h=t.get("coordinateSystem"),p;if(h==="cartesian2d"||h==="polar"||h==="matrix")p=Mv(r,t);else{var v=YS.get(h),x=v?v.dimensions||[]:[];hn(x,"value")<0&&x.concat(["value"]);var g=KS(r,{coordDimensions:x,encodeDefine:t.getEncode()}).dimensions;p=new lu(g,t),p.initData(r)}var _=new lu(["value"],t);return _.initData(l,o),i&&i(p,_),_pe({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var ZFe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new tT(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){r.prototype.mergeDefaultAndTheme.apply(this,arguments),q2(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,n){var i=t.edges||t.links||[],a=t.data||t.nodes||[],s=this;if(a&&i){OFe(this);var o=RV(a,i,this,!0,l);return he(o.edges,function(c){PFe(c.node1,c.node2,this,c.dataIndex)},this),o.data}function l(c,u){c.wrapMethod("getItemModel",function(p){var v=s._categoriesModels,x=p.getShallow("category"),g=v[x];return g&&(g.parentModel=p.parentModel,p.parentModel=g),p});var f=Ln.prototype.getModel;function d(p,v){var x=f.call(this,p,v);return x.resolveParentPath=h,x}u.wrapMethod("getItemModel",function(p){return p.resolveParentPath=h,p.getModel=d,p});function h(p){if(p&&(p[0]==="label"||p[1]==="label")){var v=p.slice();return p[0]==="label"?v[0]="edgeLabel":p[1]==="label"&&(v[1]="edgeLabel"),v}return p}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,n,i){if(i==="edge"){var a=this.getData(),s=this.getDataParams(t,i),o=a.graph.getEdgeByIndex(t),l=a.getName(o.node1.dataIndex),c=a.getName(o.node2.dataIndex),u=[];return l!=null&&u.push(l),c!=null&&u.push(c),Uo("nameValue",{name:u.join(" > "),value:s.value,noValue:s.value==null})}var f=Gfe({series:this,dataIndex:t,multipleSeries:n});return f},e.prototype._updateCategoriesData=function(){var t=Gt(this.option.categories||[],function(i){return i.value!=null?i:It({value:0},i)}),n=new lu(["value"],this);n.initData(t),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:ut.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:ut.color.primary}}},e})(la);function KFe(r){r.registerChartView(qFe),r.registerSeriesModel(ZFe),r.registerProcessor(DFe),r.registerVisual(LFe),r.registerVisual(RFe),r.registerLayout(FFe),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,zFe),r.registerLayout(UFe),r.registerCoordinateSystem("graphView",{dimensions:bb.dimensions,create:HFe}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ws),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ws),r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",query:e},function(i){var a=n.getViewOfSeriesModel(i);a&&(e.dx!=null&&e.dy!=null&&a.updateViewOnPan(i,n,e),e.zoom!=null&&e.originX!=null&&e.originY!=null&&a.updateViewOnZoom(i,n,e));var s=i.coordinateSystem,o=cI(s,e,i.get("scaleLimit"));i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}var IJ=(function(r){dt(e,r);function e(t,n,i){var a=r.call(this)||this;Vr(a).dataType="node",a.z2=2;var s=new $n;return a.setTextContent(s),a.updateData(t,n,i,!0),a}return e.prototype.updateData=function(t,n,i,a){var s=this,o=t.graph.getNodeByIndex(n),l=t.hostModel,c=o.getModel(),u=c.getModel("emphasis"),f=t.getItemLayout(n),d=It(nv(c.getModel("itemStyle"),f,!0),f),h=this;if(isNaN(d.startAngle)){h.setShape(d);return}a?h.setShape(d):si(h,{shape:d},l,n);var p=It(nv(c.getModel("itemStyle"),f,!0),f);s.setShape(p),s.useStyle(t.getItemVisual(n,"style")),nl(s,c),this._updateLabel(l,c,o),t.setItemGraphicEl(n,h),nl(h,c,"itemStyle");var v=u.get("focus");ss(this,v==="adjacency"?o.getAdjacentDataIndices():v,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,n,i){var a=this.getTextContent(),s=i.getLayout(),o=(s.startAngle+s.endAngle)/2,l=Math.cos(o),c=Math.sin(o),u=n.getModel("label");a.ignore=!u.get("show");var f=il(n),d=i.getVisual("style");Al(a,f,{labelFetcher:{getFormattedLabel:function(_,w,A,M,C,N){return t.getFormattedLabel(_,w,"node",M,Hf(C,f.normal&&f.normal.get("formatter"),n.get("name")),N)}},labelDataIndex:i.dataIndex,defaultText:i.dataIndex+"",inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:"startArc"});var h=u.get("position")||"outside",p=u.get("distance")||0,v;h==="outside"?v=s.r+p:v=(s.r+s.r0)/2,this.textConfig={inside:h!=="outside"};var x=h!=="outside"?u.get("align")||"center":l>0?"left":"right",g=h!=="outside"?u.get("verticalAlign")||"middle":c>0?"top":"bottom";a.attr({x:l*v+s.cx,y:c*v+s.cy,rotation:0,style:{align:x,verticalAlign:g}})},e})(Sc),$Fe=(function(r){dt(e,r);function e(t,n,i,a){var s=r.call(this)||this;return Vr(s).dataType="edge",s.updateData(t,n,i,a,!0),s}return e.prototype.buildPath=function(t,n){t.moveTo(n.s1[0],n.s1[1]);var i=.7,a=n.clockwise;t.arc(n.cx,n.cy,n.r,n.sStartAngle,n.sEndAngle,!a),t.bezierCurveTo((n.cx-n.s2[0])*i+n.s2[0],(n.cy-n.s2[1])*i+n.s2[1],(n.cx-n.t1[0])*i+n.t1[0],(n.cy-n.t1[1])*i+n.t1[1],n.t1[0],n.t1[1]),t.arc(n.cx,n.cy,n.r,n.tStartAngle,n.tEndAngle,!a),t.bezierCurveTo((n.cx-n.t2[0])*i+n.t2[0],(n.cy-n.t2[1])*i+n.t2[1],(n.cx-n.s1[0])*i+n.s1[0],(n.cy-n.s1[1])*i+n.s1[1],n.s1[0],n.s1[1]),t.closePath()},e.prototype.updateData=function(t,n,i,a,s){var o=t.hostModel,l=n.graph.getEdgeByIndex(i),c=l.getLayout(),u=l.node1.getModel(),f=n.getItemModel(l.dataIndex),d=f.getModel("lineStyle"),h=f.getModel("emphasis"),p=h.get("focus"),v=It(nv(u.getModel("itemStyle"),c,!0),c),x=this;if(isNaN(v.sStartAngle)||isNaN(v.tStartAngle)){x.setShape(v);return}s?(x.setShape(v),OJ(x,l,t,d)):(zd(x),OJ(x,l,t,d),si(x,{shape:v},o,i)),ss(this,p==="adjacency"?l.getAdjacentDataIndices():p,h.get("blurScope"),h.get("disabled")),nl(x,f,"lineStyle"),n.setItemGraphicEl(l.dataIndex,x)},e})(Rn);function OJ(r,e,t,n){var i=e.node1,a=e.node2,s=r.style;r.setStyle(n.getLineStyle());var o=n.get("color");switch(o){case"source":s.fill=t.getItemVisual(i.dataIndex,"style").fill,s.decal=i.getVisual("style").decal;break;case"target":s.fill=t.getItemVisual(a.dataIndex,"style").fill,s.decal=a.getVisual("style").decal;break;case"gradient":var l=t.getItemVisual(i.dataIndex,"style").fill,c=t.getItemVisual(a.dataIndex,"style").fill;if(fr(l)&&fr(c)){var u=r.shape,f=(u.s1[0]+u.s2[0])/2,d=(u.s1[1]+u.s2[1])/2,h=(u.t1[0]+u.t2[0])/2,p=(u.t1[1]+u.t2[1])/2;s.fill=new db(f,d,h,p,[{offset:0,color:l},{offset:1,color:c}],!0)}break}}var JFe=Math.PI/180,QFe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,i){var a=t.getData(),s=this._data,o=this.group,l=-t.get("startAngle")*JFe;if(a.diff(s).add(function(u){var f=a.getItemLayout(u);if(f){var d=new IJ(a,u,l);Vr(d).dataIndex=u,o.add(d)}}).update(function(u,f){var d=s.getItemGraphicEl(f),h=a.getItemLayout(u);if(!h){d&&qm(d,t,f);return}d?d.updateData(a,u,l):d=new IJ(a,u,l),o.add(d)}).remove(function(u){var f=s.getItemGraphicEl(u);f&&qm(f,t,u)}).execute(),!s){var c=t.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=ur(c[0],i.getWidth()),this.group.originY=ur(c[1],i.getHeight()),Ua(this.group,{scaleX:1,scaleY:1},t)}this._data=a,this.renderEdges(t,l)},e.prototype.renderEdges=function(t,n){var i=t.getData(),a=t.getEdgeData(),s=this._edgeData,o=this.group;a.diff(s).add(function(l){var c=new $Fe(i,a,l,n);Vr(c).dataIndex=l,o.add(c)}).update(function(l,c){var u=s.getItemGraphicEl(c);u.updateData(i,a,l,n),o.add(u)}).remove(function(l){var c=s.getItemGraphicEl(l);c&&qm(c,t,l)}).execute(),this._edgeData=a},e.prototype.dispose=function(){},e.type="chord",e})(Zi),eBe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this.legendVisualProvider=new tT(hr(this.getData,this),hr(this.getRawData,this))},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links)},e.prototype.getInitialData=function(t,n){var i=t.edges||t.links||[],a=t.data||t.nodes||[];if(a&&i){var s=RV(a,i,this,!0,o);return s.data}function o(l,c){var u=Ln.prototype.getModel;function f(h,p){var v=u.call(this,h,p);return v.resolveParentPath=d,v}c.wrapMethod("getItemModel",function(h){return h.resolveParentPath=d,h.getModel=f,h});function d(h){if(h&&(h[0]==="label"||h[1]==="label")){var p=h.slice();return h[0]==="label"?p[0]="edgeLabel":h[1]==="label"&&(p[1]="edgeLabel"),p}return h}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,n,i){var a=this.getDataParams(t,i);if(i==="edge"){var s=this.getData(),o=s.graph.getEdgeByIndex(t),l=s.getName(o.node1.dataIndex),c=s.getName(o.node2.dataIndex),u=[];return l!=null&&u.push(l),c!=null&&u.push(c),Uo("nameValue",{name:u.join(" > "),value:a.value,noValue:a.value==null})}return Uo("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},e.prototype.getDataParams=function(t,n){var i=r.prototype.getDataParams.call(this,t,n);if(n==="node"){var a=this.getData(),s=this.getGraph().getNodeByIndex(t);if(i.name==null&&(i.name=a.getName(t)),i.value==null){var o=s.getLayout().value;i.value=o}}return i},e.type="series.chord",e.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},e})(la),c8=Math.PI/180;function tBe(r,e){r.eachSeriesByType("chord",function(t){rBe(t,e)})}function rBe(r,e){var t=r.getData(),n=t.graph,i=r.getEdgeData(),a=i.count();if(a){var s=cfe(r,e),o=s.cx,l=s.cy,c=s.r,u=s.r0,f=Math.max((r.get("padAngle")||0)*c8,0),d=Math.max((r.get("minAngle")||0)*c8,0),h=-r.get("startAngle")*c8,p=h+Math.PI*2,v=r.get("clockwise"),x=v?1:-1,g=[h,p];Wk(g,!v);var _=g[0],w=g[1],A=w-_,M=t.getSum("value")===0&&i.getSum("value")===0,C=[],N=0;n.eachEdge(function(Y){var J=M?1:Y.getValue("value");M&&(J>0||d)&&(N+=2);var oe=Y.node1.dataIndex,X=Y.node2.dataIndex;C[oe]=(C[oe]||0)+J,C[X]=(C[X]||0)+J});var L=0;if(n.eachNode(function(Y){var J=Y.getValue("value");isNaN(J)||(C[Y.dataIndex]=Math.max(J,C[Y.dataIndex]||0)),!M&&(C[Y.dataIndex]>0||d)&&N++,L+=C[Y.dataIndex]||0}),!(N===0||L===0)){f*N>=Math.abs(A)&&(f=Math.max(0,(Math.abs(A)-d*N)/N)),(f+d)*N>=Math.abs(A)&&(d=(Math.abs(A)-f*N)/N);var D=(A-f*N*x)/L,k=0,O=0,I=0;n.eachNode(function(Y){var J=C[Y.dataIndex]||0,oe=D*(L?J:1)*x;Math.abs(oe)<d?k+=d-Math.abs(oe):(O+=Math.abs(oe)-d,I+=Math.abs(oe)),Y.setLayout({angle:oe,value:J})});var j=!1;if(k>O){var B=k/O;n.eachNode(function(Y){var J=Y.getLayout().angle;Math.abs(J)>=d?Y.setLayout({angle:J*B,ratio:B},!0):Y.setLayout({angle:d,ratio:d===0?1:J/d},!0)})}else n.eachNode(function(Y){if(!j){var J=Y.getLayout().angle,oe=Math.min(J/I,1),X=oe*k;J-X<d&&(j=!0)}});var K=k;n.eachNode(function(Y){if(!(K<=0)){var J=Y.getLayout().angle;if(J>d&&d>0){var oe=j?1:Math.min(J/I,1),X=J-d,F=Math.min(X,Math.min(K,k*oe));K-=F,Y.setLayout({angle:J-F,ratio:(J-F)/J},!0)}else d>0&&Y.setLayout({angle:d,ratio:J===0?1:d/J},!0)}});var H=_,Z=[];n.eachNode(function(Y){var J=Math.max(Y.getLayout().angle,d);Y.setLayout({cx:o,cy:l,r0:u,r:c,startAngle:H,endAngle:H+J*x,clockwise:v},!0),Z[Y.dataIndex]=H,H+=(J+f)*x}),n.eachEdge(function(Y){var J=M?1:Y.getValue("value"),oe=D*(L?J:1)*x,X=Y.node1.dataIndex,F=Z[X]||0,W=Math.abs((Y.node1.getLayout().ratio||1)*oe),Q=F+W*x,re=[o+u*Math.cos(F),l+u*Math.sin(F)],ae=[o+u*Math.cos(Q),l+u*Math.sin(Q)],ce=Y.node2.dataIndex,ye=Z[ce]||0,fe=Math.abs((Y.node2.getLayout().ratio||1)*oe),be=ye+fe*x,Oe=[o+u*Math.cos(ye),l+u*Math.sin(ye)],xe=[o+u*Math.cos(be),l+u*Math.sin(be)];Y.setLayout({s1:re,s2:ae,sStartAngle:F,sEndAngle:Q,t1:Oe,t2:xe,tStartAngle:ye,tEndAngle:be,cx:o,cy:l,r:u,value:J,clockwise:v}),Z[X]=Q,Z[ce]=be})}}}function nBe(r){r.registerChartView(QFe),r.registerSeriesModel(eBe),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,tBe),r.registerProcessor(QS("chord"))}var iBe=(function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r})(),aBe=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n.type="pointer",n}return e.prototype.getDefaultShape=function(){return new iBe},e.prototype.buildPath=function(t,n){var i=Math.cos,a=Math.sin,s=n.r,o=n.width,l=n.angle,c=n.x-i(l)*o*(o>=s/3?1:2),u=n.y-a(l)*o*(o>=s/3?1:2);l=n.angle-Math.PI/2,t.moveTo(c,u),t.lineTo(n.x+i(l)*o,n.y+a(l)*o),t.lineTo(n.x+i(n.angle)*s,n.y+a(n.angle)*s),t.lineTo(n.x-i(l)*o,n.y-a(l)*o),t.lineTo(c,u)},e})(Rn);function sBe(r,e){var t=r.get("center"),n=e.getWidth(),i=e.getHeight(),a=Math.min(n,i),s=ur(t[0],e.getWidth()),o=ur(t[1],e.getHeight()),l=ur(r.get("radius"),a/2);return{cx:s,cy:o,r:l}}function yN(r,e){var t=r==null?"":r+"";return e&&(fr(e)?t=e.replace("{value}",t):Tr(e)&&(t=e(r))),t}var oBe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),s=sBe(t,i);this._renderMain(t,n,i,a,s),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,n,i,a,s){var o=this.group,l=t.get("clockwise"),c=-t.get("startAngle")/180*Math.PI,u=-t.get("endAngle")/180*Math.PI,f=t.getModel("axisLine"),d=f.get("roundCap"),h=d?IL:Sc,p=f.get("show"),v=f.getModel("lineStyle"),x=v.get("width"),g=[c,u];Wk(g,!l),c=g[0],u=g[1];for(var _=u-c,w=c,A=[],M=0;p&&M<a.length;M++){var C=Math.min(Math.max(a[M][0],0),1);u=c+_*C;var N=new h({shape:{startAngle:w,endAngle:u,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-x,r:s.r},silent:!0});N.setStyle({fill:a[M][1]}),N.setStyle(v.getLineStyle(["color","width"])),A.push(N),w=u}A.reverse(),he(A,function(D){return o.add(D)});var L=function(D){if(D<=0)return a[0][1];var k;for(k=0;k<a.length;k++)if(a[k][0]>=D&&(k===0?0:a[k-1][0])<D)return a[k][1];return a[k-1][1]};this._renderTicks(t,n,i,L,s,c,u,l,x),this._renderTitleAndDetail(t,n,i,L,s),this._renderAnchor(t,s),this._renderPointer(t,n,i,L,s,c,u,l,x)},e.prototype._renderTicks=function(t,n,i,a,s,o,l,c,u){for(var f=this.group,d=s.cx,h=s.cy,p=s.r,v=+t.get("min"),x=+t.get("max"),g=t.getModel("splitLine"),_=t.getModel("axisTick"),w=t.getModel("axisLabel"),A=t.get("splitNumber"),M=_.get("splitNumber"),C=ur(g.get("length"),p),N=ur(_.get("length"),p),L=o,D=(l-o)/A,k=D/M,O=g.getModel("lineStyle").getLineStyle(),I=_.getModel("lineStyle").getLineStyle(),j=g.get("distance"),B,K,H=0;H<=A;H++){if(B=Math.cos(L),K=Math.sin(L),g.get("show")){var Z=j?j+u:u,Y=new mo({shape:{x1:B*(p-Z)+d,y1:K*(p-Z)+h,x2:B*(p-C-Z)+d,y2:K*(p-C-Z)+h},style:O,silent:!0});O.stroke==="auto"&&Y.setStyle({stroke:a(H/A)}),f.add(Y)}if(w.get("show")){var Z=w.get("distance")+j,J=yN(vo(H/A*(x-v)+v),w.get("formatter")),oe=a(H/A),X=B*(p-C-Z)+d,F=K*(p-C-Z)+h,W=w.get("rotate"),Q=0;W==="radial"?(Q=-L+2*Math.PI,Q>Math.PI/2&&(Q+=Math.PI)):W==="tangential"?Q=-L-Math.PI/2:Jn(W)&&(Q=W*Math.PI/180),Q===0?f.add(new $n({style:Sa(w,{text:J,x:X,y:F,verticalAlign:K<-.8?"top":K>.8?"bottom":"middle",align:B<-.4?"left":B>.4?"right":"center"},{inheritColor:oe}),silent:!0})):f.add(new $n({style:Sa(w,{text:J,x:X,y:F,verticalAlign:"middle",align:"center"},{inheritColor:oe}),silent:!0,originX:X,originY:F,rotation:Q}))}if(_.get("show")&&H!==A){var Z=_.get("distance");Z=Z?Z+u:u;for(var re=0;re<=M;re++){B=Math.cos(L),K=Math.sin(L);var ae=new mo({shape:{x1:B*(p-Z)+d,y1:K*(p-Z)+h,x2:B*(p-N-Z)+d,y2:K*(p-N-Z)+h},silent:!0,style:I});I.stroke==="auto"&&ae.setStyle({stroke:a((H+re/M)/A)}),f.add(ae),L+=k}L-=k}else L+=D}},e.prototype._renderPointer=function(t,n,i,a,s,o,l,c,u){var f=this.group,d=this._data,h=this._progressEls,p=[],v=t.get(["pointer","show"]),x=t.getModel("progress"),g=x.get("show"),_=t.getData(),w=_.mapDimension("value"),A=+t.get("min"),M=+t.get("max"),C=[A,M],N=[o,l];function L(k,O){var I=_.getItemModel(k),j=I.getModel("pointer"),B=ur(j.get("width"),s.r),K=ur(j.get("length"),s.r),H=t.get(["pointer","icon"]),Z=j.get("offsetCenter"),Y=ur(Z[0],s.r),J=ur(Z[1],s.r),oe=j.get("keepAspect"),X;return H?X=xo(H,Y-B/2,J-K,B,K,null,oe):X=new aBe({shape:{angle:-Math.PI/2,width:B,r:K,x:Y,y:J}}),X.rotation=-(O+Math.PI/2),X.x=s.cx,X.y=s.cy,X}function D(k,O){var I=x.get("roundCap"),j=I?IL:Sc,B=x.get("overlap"),K=B?x.get("width"):u/_.count(),H=B?s.r-K:s.r-(k+1)*K,Z=B?s.r:s.r-k*K,Y=new j({shape:{startAngle:o,endAngle:O,cx:s.cx,cy:s.cy,clockwise:c,r0:H,r:Z}});return B&&(Y.z2=Ti(_.get(w,k),[A,M],[100,0],!0)),Y}(g||v)&&(_.diff(d).add(function(k){var O=_.get(w,k);if(v){var I=L(k,o);Ua(I,{rotation:-((isNaN(+O)?N[0]:Ti(O,C,N,!0))+Math.PI/2)},t),f.add(I),_.setItemGraphicEl(k,I)}if(g){var j=D(k,o),B=x.get("clip");Ua(j,{shape:{endAngle:Ti(O,C,N,B)}},t),f.add(j),I7(t.seriesIndex,_.dataType,k,j),p[k]=j}}).update(function(k,O){var I=_.get(w,k);if(v){var j=d.getItemGraphicEl(O),B=j?j.rotation:o,K=L(k,B);K.rotation=B,si(K,{rotation:-((isNaN(+I)?N[0]:Ti(I,C,N,!0))+Math.PI/2)},t),f.add(K),_.setItemGraphicEl(k,K)}if(g){var H=h[O],Z=H?H.shape.endAngle:o,Y=D(k,Z),J=x.get("clip");si(Y,{shape:{endAngle:Ti(I,C,N,J)}},t),f.add(Y),I7(t.seriesIndex,_.dataType,k,Y),p[k]=Y}}).execute(),_.each(function(k){var O=_.getItemModel(k),I=O.getModel("emphasis"),j=I.get("focus"),B=I.get("blurScope"),K=I.get("disabled");if(v){var H=_.getItemGraphicEl(k),Z=_.getItemVisual(k,"style"),Y=Z.fill;if(H instanceof Nl){var J=H.style;H.useStyle(It({image:J.image,x:J.x,y:J.y,width:J.width,height:J.height},Z))}else H.useStyle(Z),H.type!=="pointer"&&H.setColor(Y);H.setStyle(O.getModel(["pointer","itemStyle"]).getItemStyle()),H.style.fill==="auto"&&H.setStyle("fill",a(Ti(_.get(w,k),C,[0,1],!0))),H.z2EmphasisLift=0,nl(H,O),ss(H,j,B,K)}if(g){var oe=p[k];oe.useStyle(_.getItemVisual(k,"style")),oe.setStyle(O.getModel(["progress","itemStyle"]).getItemStyle()),oe.z2EmphasisLift=0,nl(oe,O),ss(oe,j,B,K)}}),this._progressEls=p)},e.prototype._renderAnchor=function(t,n){var i=t.getModel("anchor"),a=i.get("show");if(a){var s=i.get("size"),o=i.get("icon"),l=i.get("offsetCenter"),c=i.get("keepAspect"),u=xo(o,n.cx-s/2+ur(l[0],n.r),n.cy-s/2+ur(l[1],n.r),s,s,null,c);u.z2=i.get("showAbove")?1:0,u.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(u)}},e.prototype._renderTitleAndDetail=function(t,n,i,a,s){var o=this,l=t.getData(),c=l.mapDimension("value"),u=+t.get("min"),f=+t.get("max"),d=new Nr,h=[],p=[],v=t.isAnimationEnabled(),x=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(g){h[g]=new $n({silent:!0}),p[g]=new $n({silent:!0})}).update(function(g,_){h[g]=o._titleEls[_],p[g]=o._detailEls[_]}).execute(),l.each(function(g){var _=l.getItemModel(g),w=l.get(c,g),A=new Nr,M=a(Ti(w,[u,f],[0,1],!0)),C=_.getModel("title");if(C.get("show")){var N=C.get("offsetCenter"),L=s.cx+ur(N[0],s.r),D=s.cy+ur(N[1],s.r),k=h[g];k.attr({z2:x?0:2,style:Sa(C,{x:L,y:D,text:l.getName(g),align:"center",verticalAlign:"middle"},{inheritColor:M})}),A.add(k)}var O=_.getModel("detail");if(O.get("show")){var I=O.get("offsetCenter"),j=s.cx+ur(I[0],s.r),B=s.cy+ur(I[1],s.r),K=ur(O.get("width"),s.r),H=ur(O.get("height"),s.r),Z=t.get(["progress","show"])?l.getItemVisual(g,"style").fill:M,k=p[g],Y=O.get("formatter");k.attr({z2:x?0:2,style:Sa(O,{x:j,y:B,text:yN(w,Y),width:isNaN(K)?null:K,height:isNaN(H)?null:H,align:"center",verticalAlign:"middle"},{inheritColor:Z})}),Wue(k,{normal:O},w,function(oe){return yN(oe,Y)}),v&&Yue(k,g,l,t,{getFormattedLabel:function(oe,X,F,W,Q,re){return yN(re?re.interpolatedValue:w,Y)}}),A.add(k)}d.add(A)}),this.group.add(d),this._titleEls=h,this._detailEls=p},e.type="gauge",e})(Zi),lBe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,n){return eT(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,ut.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:ut.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:ut.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:ut.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:ut.color.neutral00,borderWidth:0,borderColor:ut.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:ut.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:ut.color.transparent,borderWidth:0,borderColor:ut.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:ut.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e})(la);function cBe(r){r.registerChartView(oBe),r.registerSeriesModel(lBe)}var uBe=["itemStyle","opacity"],fBe=(function(r){dt(e,r);function e(t,n){var i=r.call(this)||this,a=i,s=new Kl,o=new $n;return a.setTextContent(o),i.setTextGuideLine(s),i.updateData(t,n,!0),i}return e.prototype.updateData=function(t,n,i){var a=this,s=t.hostModel,o=t.getItemModel(n),l=t.getItemLayout(n),c=o.getModel("emphasis"),u=o.get(uBe);u=u??1,i||zd(a),a.useStyle(t.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Ua(a,{style:{opacity:u}},s,n)):si(a,{style:{opacity:u},shape:{points:l.points}},s,n),nl(a,o),this._updateLabel(t,n),ss(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,n){var i=this,a=this.getTextGuideLine(),s=i.getTextContent(),o=t.hostModel,l=t.getItemModel(n),c=t.getItemLayout(n),u=c.label,f=t.getItemVisual(n,"style"),d=f.fill;Al(s,il(l),{labelFetcher:t.hostModel,labelDataIndex:n,defaultOpacity:f.opacity,defaultText:t.getName(n)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}});var h=l.getModel("label"),p=h.get("color"),v=p==="inherit"?d:null;i.setTextConfig({local:!0,inside:!!u.inside,insideStroke:v,outsideFill:v});var x=u.linePoints;a.setShape({points:x}),i.textGuideLineConfig={anchor:x?new Fr(x[0][0],x[0][1]):null},si(s,{style:{x:u.x,y:u.y}},o,n),s.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),aV(i,sV(l),{stroke:d})},e})(Tc),hBe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._data,o=this.group;a.diff(s).add(function(l){var c=new fBe(a,l);a.setItemGraphicEl(l,c),o.add(c)}).update(function(l,c){var u=s.getItemGraphicEl(c);u.updateData(a,l),o.add(u),a.setItemGraphicEl(l,u)}).remove(function(l){var c=s.getItemGraphicEl(l);qm(c,t,l)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e})(Zi),dBe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new tT(hr(this.getData,this),hr(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,n){return eT(this,{coordDimensions:["value"],encodeDefaulter:cn(k9,this)})},e.prototype._defaultLabelLine=function(t){q2(t,"labelLine",["show"]);var n=t.labelLine,i=t.emphasis.labelLine;n.show=n.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var n=this.getData(),i=r.prototype.getDataParams.call(this,t),a=n.mapDimension("value"),s=n.getSum(a);return i.percent=s?+(n.get(a,t)/s*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:ut.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:ut.color.primary}}},e})(la);function pBe(r,e){for(var t=r.mapDimension("value"),n=r.mapArray(t,function(l){return l}),i=[],a=e==="ascending",s=0,o=r.count();s<o;s++)i[s]=s;return Tr(e)?i.sort(e):e!=="none"&&i.sort(function(l,c){return a?n[l]-n[c]:n[c]-n[l]}),i}function vBe(r){var e=r.hostModel,t=e.get("orient");r.each(function(n){var i=r.getItemModel(n),a=i.getModel("label"),s=a.get("position"),o=i.getModel("labelLine"),l=r.getItemLayout(n),c=l.points,u=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",f,d,h,p;if(u)s==="insideLeft"?(d=(c[0][0]+c[3][0])/2+5,h=(c[0][1]+c[3][1])/2,f="left"):s==="insideRight"?(d=(c[1][0]+c[2][0])/2-5,h=(c[1][1]+c[2][1])/2,f="right"):(d=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,h=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,f="center"),p=[[d,h],[d,h]];else{var v=void 0,x=void 0,g=void 0,_=void 0,w=o.get("length");s==="left"?(v=(c[3][0]+c[0][0])/2,x=(c[3][1]+c[0][1])/2,g=v-w,d=g-5,f="right"):s==="right"?(v=(c[1][0]+c[2][0])/2,x=(c[1][1]+c[2][1])/2,g=v+w,d=g+5,f="left"):s==="top"?(v=(c[3][0]+c[0][0])/2,x=(c[3][1]+c[0][1])/2,_=x-w,h=_-5,f="center"):s==="bottom"?(v=(c[1][0]+c[2][0])/2,x=(c[1][1]+c[2][1])/2,_=x+w,h=_+5,f="center"):s==="rightTop"?(v=t==="horizontal"?c[3][0]:c[1][0],x=t==="horizontal"?c[3][1]:c[1][1],t==="horizontal"?(_=x-w,h=_-5,f="center"):(g=v+w,d=g+5,f="top")):s==="rightBottom"?(v=c[2][0],x=c[2][1],t==="horizontal"?(_=x+w,h=_+5,f="center"):(g=v+w,d=g+5,f="bottom")):s==="leftTop"?(v=c[0][0],x=t==="horizontal"?c[0][1]:c[1][1],t==="horizontal"?(_=x-w,h=_-5,f="center"):(g=v-w,d=g-5,f="right")):s==="leftBottom"?(v=t==="horizontal"?c[1][0]:c[3][0],x=t==="horizontal"?c[1][1]:c[2][1],t==="horizontal"?(_=x+w,h=_+5,f="center"):(g=v-w,d=g-5,f="right")):(v=(c[1][0]+c[2][0])/2,x=(c[1][1]+c[2][1])/2,t==="horizontal"?(_=x+w,h=_+5,f="center"):(g=v+w,d=g+5,f="left")),t==="horizontal"?(g=v,d=g):(_=x,h=_),p=[[v,x],[g,_]]}l.label={linePoints:p,x:d,y:h,verticalAlign:"middle",textAlign:f,inside:u}})}function mBe(r,e){r.eachSeriesByType("funnel",function(t){var n=t.getData(),i=n.mapDimension("value"),a=t.get("sort"),s=al(t,e),o=Ja(t.getBoxLayoutParams(),s.refContainer),l=t.get("orient"),c=o.width,u=o.height,f=pBe(n,a),d=o.x,h=o.y,p=l==="horizontal"?[ur(t.get("minSize"),u),ur(t.get("maxSize"),u)]:[ur(t.get("minSize"),c),ur(t.get("maxSize"),c)],v=n.getDataExtent(i),x=t.get("min"),g=t.get("max");x==null&&(x=Math.min(v[0],0)),g==null&&(g=v[1]);var _=t.get("funnelAlign"),w=t.get("gap"),A=l==="horizontal"?c:u,M=(A-w*(n.count()-1))/n.count(),C=function(K,H){if(l==="horizontal"){var Z=n.get(i,K)||0,Y=Ti(Z,[x,g],p,!0),J=void 0;switch(_){case"top":J=h;break;case"center":J=h+(u-Y)/2;break;case"bottom":J=h+(u-Y);break}return[[H,J],[H,J+Y]]}var oe=n.get(i,K)||0,X=Ti(oe,[x,g],p,!0),F;switch(_){case"left":F=d;break;case"center":F=d+(c-X)/2;break;case"right":F=d+c-X;break}return[[F,H],[F+X,H]]};a==="ascending"&&(M=-M,w=-w,l==="horizontal"?d+=c:h+=u,f=f.reverse());for(var N=0;N<f.length;N++){var L=f[N],D=f[N+1],k=n.getItemModel(L);if(l==="horizontal"){var O=k.get(["itemStyle","width"]);O==null?O=M:(O=ur(O,c),a==="ascending"&&(O=-O));var I=C(L,d),j=C(D,d+O);d+=O+w,n.setItemLayout(L,{points:I.concat(j.slice().reverse())})}else{var B=k.get(["itemStyle","height"]);B==null?B=M:(B=ur(B,u),a==="ascending"&&(B=-B));var I=C(L,h),j=C(D,h+B);h+=B+w,n.setItemLayout(L,{points:I.concat(j.slice().reverse())})}}vBe(n)})}function gBe(r){r.registerChartView(hBe),r.registerSeriesModel(dBe),r.registerLayout(mBe),r.registerProcessor(QS("funnel"))}var xBe=.3,yBe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new Nr,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,n,i,a){this._progressiveEls=null;var s=this._dataGroup,o=t.getData(),l=this._data,c=t.coordinateSystem,u=c.dimensions,f=FJ(t);o.diff(l).add(d).update(h).remove(p).execute();function d(x){var g=PJ(o,s,x,u,c);u8(g,o,x,f)}function h(x,g){var _=l.getItemGraphicEl(g),w=Vpe(o,x,u,c);o.setItemGraphicEl(x,_),si(_,{shape:{points:w}},t,x),zd(_),u8(_,o,x,f)}function p(x){var g=l.getItemGraphicEl(x);s.remove(g)}if(!this._initialized){this._initialized=!0;var v=bBe(c,t,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(v)}this._data=o},e.prototype.incrementalPrepareRender=function(t,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,n,i){for(var a=n.getData(),s=n.coordinateSystem,o=s.dimensions,l=FJ(n),c=this._progressiveEls=[],u=t.start;u<t.end;u++){var f=PJ(a,this._dataGroup,u,o,s);f.incremental=!0,u8(f,a,u,l),c.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e})(Zi);function bBe(r,e,t){var n=r.model,i=r.getRect(),a=new _n({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s=n.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),Ua(a,{shape:{width:i.width,height:i.height}},e,t),a}function Vpe(r,e,t,n){for(var i=[],a=0;a<t.length;a++){var s=t[a],o=r.get(r.mapDimension(s),e);_Be(o,n.getAxis(s).type)||i.push(n.dataToPoint(o,s))}return i}function PJ(r,e,t,n,i){var a=Vpe(r,t,n,i),s=new Kl({shape:{points:a},z2:10});return e.add(s),r.setItemGraphicEl(t,s),s}function FJ(r){var e=r.get("smooth",!0);return e===!0&&(e=xBe),e=gv(e),mc(e)&&(e=0),{smooth:e}}function u8(r,e,t,n){r.useStyle(e.getItemVisual(t,"style")),r.style.fill=null,r.setShape("smooth",n.smooth);var i=e.getItemModel(t),a=i.getModel("emphasis");nl(r,i,"lineStyle"),ss(r,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function _Be(r,e){return e==="category"?r==null:r==null||isNaN(r)}var wBe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,n){return Mv(null,this,{useEncodeDefaulter:hr(SBe,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(s,o){t===s&&a.push(i.getRawIndex(o))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e})(la);function SBe(r){var e=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(e){var t={};return he(e.dimensions,function(n){var i=TBe(n);t[n]=i}),t}}function TBe(r){return+r.replace("dim","")}var ABe=["lineStyle","opacity"],EBe={seriesType:"parallel",reset:function(r,e){var t=r.coordinateSystem,n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(i,a){t.eachActiveState(a,function(s,o){var l=n[s];if(s==="normal"&&a.hasItemOption){var c=a.getItemModel(o).get(ABe,!0);c!=null&&(l=c)}var u=a.ensureUniqueItemVisual(o,"style");u.opacity=l},i.start,i.end)}}}};function MBe(r){CBe(r),NBe(r)}function CBe(r){if(!r.parallel){var e=!1;he(r.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(r.parallel=[{}])}}function NBe(r){var e=Ta(r.parallelAxis);he(e,function(t){if(kr(t)){var n=t.parallelIndex||0,i=Ta(r.parallel)[n];i&&i.parallelAxisDefault&&pn(t,i.parallelAxisDefault,!1)}})}var DBe=5,LBe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this._model=t,this._api=i,this._handlers||(this._handlers={},he(RBe,function(a,s){i.getZr().on(s,this._handlers[s]=hr(a,this))},this)),XS(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,n){D3(this,"_throttledDispatchExpand"),he(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(It({type:"parallelAxisExpand"},t))},e.type="parallel",e})(Aa),RBe={mousedown:function(r){f8(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var e=this._mouseDownPoint;if(f8(this,"click")&&e){var t=[r.offsetX,r.offsetY],n=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(n>DBe)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!f8(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),n=t.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function f8(r,e){var t=r._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var kBe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var n=this.option;t&&pn(n,t,!0),this._initDimensions()},e.prototype.contains=function(t,n){var i=t.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){he(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){t.hasOwnProperty(n)&&(this.option[n]=t[n])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],n=this.parallelAxisIndex=[],i=bi(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);he(i,function(a){t.push("dim"+a.get("dim")),n.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e})(En),IBe=(function(r){dt(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.type=a||"value",o.axisIndex=s,o}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e})(Gd);function oy(r,e,t,n,i,a){r=r||0;var s=t[1]-t[0];if(i!=null&&(i=M_(i,[0,s])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var o=Math.abs(e[1]-e[0]);o=M_(o,[0,s]),i=a=M_(o,[i,a]),n=0}e[0]=M_(e[0],t),e[1]=M_(e[1],t);var l=h8(e,n);e[n]+=r;var c=i||0,u=t.slice();l.sign<0?u[0]+=c:u[1]-=c,e[n]=M_(e[n],u);var f;return f=h8(e,n),i!=null&&(f.sign!==l.sign||f.span<i)&&(e[1-n]=e[n]+l.sign*i),f=h8(e,n),a!=null&&f.span>a&&(e[1-n]=e[n]+f.sign*a),e}function h8(r,e){var t=r[e]-r[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function M_(r,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,r))}var d8=he,Hpe=Math.min,Gpe=Math.max,BJ=Math.floor,OBe=Math.ceil,zJ=vo,PBe=Math.PI,FBe=(function(){function r(e,t,n){this.type="parallel",this._axesMap=br(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return r.prototype._init=function(e,t,n){var i=e.dimensions,a=e.parallelAxisIndex;d8(i,function(s,o){var l=a[o],c=t.getComponent("parallelAxis",l),u=this._axesMap.set(s,new IBe(s,ZE(c),[0,0],c.get("type"),l)),f=u.type==="category";u.onBand=f&&c.get("boundaryGap"),u.inverse=c.get("inverse"),c.axis=u,u.model=c,u.coordinateSystem=c.coordinateSystem=this},this)},r.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},r.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,a=t.pixelDimIndex,s=e[1-a],o=e[a];return s>=n&&s<=n+t.axisLength&&o>=i&&o<=i+t.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();d8(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(i,i.mapDimension(a)),eb(s.scale,s.model)},this)}},this)},r.prototype.resize=function(e,t){var n=al(e,t).refContainer;this._rect=Ja(e.getBoxLayoutParams(),n),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,n=["x","y"],i=["width","height"],a=e.get("layout"),s=a==="horizontal"?0:1,o=t[i[s]],l=[0,o],c=this.dimensions.length,u=bN(e.get("axisExpandWidth"),l),f=bN(e.get("axisExpandCount")||0,[0,c]),d=e.get("axisExpandable")&&c>3&&c>f&&f>1&&u>0&&o>0,h=e.get("axisExpandWindow"),p;if(h)p=bN(h[1]-h[0],l),h[1]=h[0]+p;else{p=bN(u*(f-1),l);var v=e.get("axisExpandCenter")||BJ(c/2);h=[u*v-p/2],h[1]=h[0]+p}var x=(o-p)/(c-f);x<3&&(x=0);var g=[BJ(zJ(h[0]/u,1))+1,OBe(zJ(h[1]/u,1))-1],_=x/u*h[0];return{layout:a,pixelDimIndex:s,layoutBase:t[n[s]],layoutLength:o,axisBase:t[n[1-s]],axisLength:t[i[1-s]],axisExpandable:d,axisExpandWidth:u,axisCollapseWidth:x,axisExpandWindow:h,axisCount:c,winInnerIndices:g,axisExpandWindow0Pos:_}},r.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;t.each(function(s){var o=[0,i.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),d8(n,function(s,o){var l=(i.axisExpandable?zBe:BBe)(o,i),c={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},u={horizontal:PBe/2,vertical:0},f=[c[a].x+e.x,c[a].y+e.y],d=u[a],h=wl();xg(h,h,d),Zp(h,h,f),this._axesLayout[s]={position:f,rotation:d,transform:h,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(e){return this._axesMap.get(e)},r.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},r.prototype.eachActiveState=function(e,t,n,i){n==null&&(n=0),i==null&&(i=e.count());var a=this._axesMap,s=this.dimensions,o=[],l=[];he(s,function(x){o.push(e.mapDimension(x)),l.push(a.get(x).model)});for(var c=this.hasAxisBrushed(),u=n;u<i;u++){var f=void 0;if(!c)f="normal";else{f="active";for(var d=e.getValues(o,u),h=0,p=s.length;h<p;h++){var v=l[h].getActiveState(d[h]);if(v==="inactive"){f="inactive";break}}}t(f,u)}},r.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,a=e.length;i<a;i++)t.get(e[i]).model.getActiveState()!=="normal"&&(n=!0);return n},r.prototype.axisCoordToPoint=function(e,t){var n=this._axesLayout[t];return Gp([e,0],n.transform)},r.prototype.getAxisLayout=function(e){return Cr(this._axesLayout[e])},r.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),a=i[1]-i[0],s=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var o=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l,c="slide",u=t.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),d=f[0]!=null;if(u)d&&u&&o<a*f[0]?(c="jump",l=o-a*f[2]):d&&u&&o>a*(1-f[0])?(c="jump",l=o-a*(1-f[2])):(l=o-a*f[1])>=0&&(l=o-a*(1-f[1]))<=0&&(l=0),l*=t.axisExpandWidth/u,l?oy(l,i,s,"all"):c="none";else{var h=i[1]-i[0],p=s[1]*o/h;i=[Gpe(0,p-h/2)],i[1]=Hpe(s[1],i[0]+h),i[0]=i[1]-h}return{axisExpandWindow:i,behavior:c}},r})();function bN(r,e){return Hpe(Gpe(r,e[0]),e[1])}function BBe(r,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*r,axisNameAvailableWidth:t,axisLabelShow:!0}}function zBe(r,e){var t=e.layoutLength,n=e.axisExpandWidth,i=e.axisCount,a=e.axisCollapseWidth,s=e.winInnerIndices,o,l=a,c=!1,u;return r<s[0]?(o=r*a,u=a):r<=s[1]?(o=e.axisExpandWindow0Pos+r*n-e.axisExpandWindow[0],l=n,c=!0):(o=t-(i-1-r)*a,u=a),{position:o,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:u}}function jBe(r,e){var t=[];return r.eachComponent("parallel",function(n,i){var a=new FBe(n,r,e);a.name="parallel_"+i,a.resize(n,e),n.coordinateSystem=a,a.model=n,t.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",Ls).models[0];n.coordinateSystem=i.coordinateSystem}}),t}var UBe={create:jBe},zz=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return Z2([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var n=this.activeIntervals=Cr(t);if(n)for(var i=n.length-1;i>=0;i--)Dh(n[i])},e.prototype.getActiveState=function(t){var n=this.activeIntervals;if(!n.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var a=0,s=n.length;a<s;a++)if(n[a][0]<=t&&t<=n[a][1])return"active";return"inactive"},e})(En);qs(zz,JS);var tb=!0,G3=Math.min,fS=Math.max,VBe=Math.pow,HBe=1e4,GBe=6,WBe=6,jJ="globalPan",YBe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},qBe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},UJ={brushStyle:{lineWidth:2,stroke:ut.color.backgroundTint,fill:ut.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},XBe=0,kV=(function(r){dt(e,r);function e(t){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new Nr,n._uid="brushController_"+XBe++,he(t7e,function(i,a){this._handlers[a]=hr(i,this)},n),n}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var n=this._zr;this._enableGlobalPan||LPe(n,jJ,this._uid),he(this._handlers,function(i,a){n.on(a,i)}),this._brushType=t.brushType,this._brushOption=pn(Cr(UJ),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;RPe(t,jJ,this._uid),he(this._handlers,function(n,i){t.off(i,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var n=this._panels={};he(t,function(i){n[i.panelId]=Cr(i)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Gt(t,function(d){return pn(Cr(UJ),d,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new ag(i,t,c,l).add(u).update(u).remove(f).execute(),this;function l(d,h){return(d.id!=null?d.id:n+h)+"-"+d.brushType}function c(d,h){return l(d.__brushOption,h)}function u(d,h){var p=t[d];if(h!=null&&i[h]===o)a[d]=i[h];else{var v=a[d]=h!=null?(i[h].__brushOption=p,i[h]):Ype(s,Wpe(s,p));IV(s,v)}}function f(d){i[d]!==o&&s.group.remove(i[d])}},e.prototype.unmount=function(){return this.enableBrush(!1),jz(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e})(Vd);function Wpe(r,e){var t=dI[e.brushType].createCover(r,e);return t.__brushOption=e,Xpe(t,e),r.group.add(t),t}function Ype(r,e){var t=OV(e);return t.endCreating&&(t.endCreating(r,e),Xpe(e,e.__brushOption)),e}function qpe(r,e){var t=e.__brushOption;OV(e).updateCoverShape(r,e,t.range,t)}function Xpe(r,e){var t=e.z;t==null&&(t=HBe),r.traverse(function(n){n.z=t,n.z2=t})}function IV(r,e){OV(e).updateCommon(r,e),qpe(r,e)}function OV(r){return dI[r.__brushOption.brushType]}function PV(r,e,t){var n=r._panels;if(!n)return tb;var i,a=r._transform;return he(n,function(s){s.isTargetByCursor(e,t,a)&&(i=s)}),i}function Zpe(r,e){var t=r._panels;if(!t)return tb;var n=e.__brushOption.panelId;return n!=null?t[n]:tb}function jz(r){var e=r._covers,t=e.length;return he(e,function(n){r.group.remove(n)},r),e.length=0,!!t}function rb(r,e){var t=Gt(r._covers,function(n){var i=n.__brushOption,a=Cr(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});r.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function ZBe(r){var e=r._track;if(!e.length)return!1;var t=e[e.length-1],n=e[0],i=t[0]-n[0],a=t[1]-n[1],s=VBe(i*i+a*a,.5);return s>GBe}function Kpe(r){var e=r.length-1;return e<0&&(e=0),[r[0],r[e]]}function $pe(r,e,t,n){var i=new Nr;return i.add(new _n({name:"main",style:FV(t),silent:!0,draggable:!0,cursor:"move",drift:cn(VJ,r,e,i,["n","s","w","e"]),ondragend:cn(rb,e,{isEnd:!0})})),he(n,function(a){i.add(new _n({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:cn(VJ,r,e,i,a),ondragend:cn(rb,e,{isEnd:!0})}))}),i}function Jpe(r,e,t,n){var i=n.brushStyle.lineWidth||0,a=fS(i,WBe),s=t[0][0],o=t[1][0],l=s-i/2,c=o-i/2,u=t[0][1],f=t[1][1],d=u-a+i/2,h=f-a+i/2,p=u-s,v=f-o,x=p+i,g=v+i;vm(r,e,"main",s,o,p,v),n.transformable&&(vm(r,e,"w",l,c,a,g),vm(r,e,"e",d,c,a,g),vm(r,e,"n",l,c,x,a),vm(r,e,"s",l,h,x,a),vm(r,e,"nw",l,c,a,a),vm(r,e,"ne",d,c,a,a),vm(r,e,"sw",l,h,a,a),vm(r,e,"se",d,h,a,a))}function Uz(r,e){var t=e.__brushOption,n=t.transformable,i=e.childAt(0);i.useStyle(FV(t)),i.attr({silent:!n,cursor:n?"move":"default"}),he([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=e.childOfName(a.join("")),o=a.length===1?Vz(r,a[0]):$Be(r,a);s&&s.attr({silent:!n,invisible:!n,cursor:n?qBe[o]+"-resize":null})})}function vm(r,e,t,n,i,a,s){var o=e.childOfName(t);o&&o.setShape(QBe(BV(r,e,[[n,i],[n+a,i+s]])))}function FV(r){return Rr({strokeNoScale:!0},r.brushStyle)}function Qpe(r,e,t,n){var i=[G3(r,t),G3(e,n)],a=[fS(r,t),fS(e,n)];return[[i[0],a[0]],[i[1],a[1]]]}function KBe(r){return $x(r.group)}function Vz(r,e){var t={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=Zk(t[e],KBe(r));return n[i]}function $Be(r,e){var t=[Vz(r,e[0]),Vz(r,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function VJ(r,e,t,n,i,a){var s=t.__brushOption,o=r.toRectRange(s.range),l=e0e(e,i,a);he(n,function(c){var u=YBe[c];o[u[0]][u[1]]+=l[u[0]]}),s.range=r.fromRectRange(Qpe(o[0][0],o[1][0],o[0][1],o[1][1])),IV(e,t),rb(e,{isEnd:!1})}function JBe(r,e,t,n){var i=e.__brushOption.range,a=e0e(r,t,n);he(i,function(s){s[0]+=a[0],s[1]+=a[1]}),IV(r,e),rb(r,{isEnd:!1})}function e0e(r,e,t){var n=r.group,i=n.transformCoordToLocal(e,t),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function BV(r,e,t){var n=Zpe(r,e);return n&&n!==tb?n.clipPath(t,r._transform):Cr(t)}function QBe(r){var e=G3(r[0][0],r[1][0]),t=G3(r[0][1],r[1][1]),n=fS(r[0][0],r[1][0]),i=fS(r[0][1],r[1][1]);return{x:e,y:t,width:n-e,height:i-t}}function e7e(r,e,t){if(!(!r._brushType||r7e(r,e.offsetX,e.offsetY))){var n=r._zr,i=r._covers,a=PV(r,e,t);if(!r._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(a&&(a===tb||o.panelId===a.panelId)&&dI[o.brushType].contain(i[s],t[0],t[1]))return}a&&n.setCursorStyle("crosshair")}}function Hz(r){var e=r.event;e.preventDefault&&e.preventDefault()}function Gz(r,e,t){return r.childOfName("main").contain(e,t)}function t0e(r,e,t,n){var i=r._creatingCover,a=r._creatingPanel,s=r._brushOption,o;if(r._track.push(t.slice()),ZBe(r)||i){if(a&&!i){s.brushMode==="single"&&jz(r);var l=Cr(s);l.brushType=HJ(l.brushType,a),l.panelId=a===tb?null:a.panelId,i=r._creatingCover=Wpe(r,l),r._covers.push(i)}if(i){var c=dI[HJ(r._brushType,a)],u=i.__brushOption;u.range=c.getCreatingRange(BV(r,i,r._track)),n&&(Ype(r,i),c.updateCommon(r,i)),qpe(r,i),o={isEnd:n}}}else n&&s.brushMode==="single"&&s.removeOnClick&&PV(r,e,t)&&jz(r)&&(o={isEnd:n,removeOnClick:!0});return o}function HJ(r,e){return r==="auto"?e.defaultBrushType:r}var t7e={mousedown:function(r){if(this._dragging)GJ(this,r);else if(!r.target||!r.target.draggable){Hz(r);var e=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var t=this._creatingPanel=PV(this,r,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(r){var e=r.offsetX,t=r.offsetY,n=this.group.transformCoordToLocal(e,t);if(e7e(this,r,n),this._dragging){Hz(r);var i=t0e(this,r,n,!1);i&&rb(this,i)}},mouseup:function(r){GJ(this,r)}};function GJ(r,e){if(r._dragging){Hz(e);var t=e.offsetX,n=e.offsetY,i=r.group.transformCoordToLocal(t,n),a=t0e(r,e,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,a&&rb(r,a)}}function r7e(r,e,t){var n=r._zr;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var dI={lineX:WJ(0),lineY:WJ(1),rect:{createCover:function(r,e){function t(n){return n}return $pe({toRectRange:t,fromRectRange:t},r,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var e=Kpe(r);return Qpe(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(r,e,t,n){Jpe(r,e,t,n)},updateCommon:Uz,contain:Gz},polygon:{createCover:function(r,e){var t=new Nr;return t.add(new Kl({name:"main",style:FV(e),silent:!0})),t},getCreatingRange:function(r){return r},endCreating:function(r,e){e.remove(e.childAt(0)),e.add(new Tc({name:"main",draggable:!0,drift:cn(JBe,r,e),ondragend:cn(rb,r,{isEnd:!0})}))},updateCoverShape:function(r,e,t,n){e.childAt(0).setShape({points:BV(r,e,t)})},updateCommon:Uz,contain:Gz}};function WJ(r){return{createCover:function(e,t){return $pe({toRectRange:function(n){var i=[n,[0,100]];return r&&i.reverse(),i},fromRectRange:function(n){return n[r]}},e,t,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(e){var t=Kpe(e),n=G3(t[0][r],t[1][r]),i=fS(t[0][r],t[1][r]);return[n,i]},updateCoverShape:function(e,t,n,i){var a,s=Zpe(e,t);if(s!==tb&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(r);else{var o=e._zr;a=[0,[o.getWidth(),o.getHeight()][1-r]]}var l=[n,a];r&&l.reverse(),Jpe(e,t,l,i)},updateCommon:Uz,contain:Gz}}function r0e(r){return r=zV(r),function(e){return p9(e,r)}}function n0e(r,e){return r=zV(r),function(t){var n=e??t,i=n?r.width:r.height,a=n?r.x:r.y;return[a,a+(i||0)]}}function i0e(r,e,t){var n=zV(r);return function(i,a){return n.contain(a[0],a[1])&&!cpe(i,e,t)}}function zV(r){return Br.create(r)}var n7e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){r.prototype.init.apply(this,arguments),(this._brushController=new kV(n.getZr())).on("brush",hr(this._onBrush,this))},e.prototype.render=function(t,n,i,a){if(!i7e(t,n,a)){this.axisModel=t,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Nr,this.group.add(this._axisGroup),!!t.get("show")){var o=s7e(t,n),l=o.coordinateSystem,c=t.getAreaSelectStyle(),u=c.width,f=t.axis.dim,d=l.getAxisLayout(f),h=It({strokeContainThreshold:u},d),p=new Xu(t,i,h);p.build(),this._axisGroup.add(p.group),this._refreshBrushController(h,c,t,o,u,i),WE(s,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,n,i,a,s,o){var l=i.axis.getExtent(),c=l[1]-l[0],u=Math.min(30,Math.abs(c)*.1),f=Br.create({x:l[0],y:-s/2,width:c,height:s});f.x-=u,f.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:r0e(f),isTargetByCursor:i0e(f,o,a),getLinearBrushOtherExtent:n0e(f,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(a7e(i))},e.prototype._onBrush=function(t){var n=t.areas,i=this.axisModel,a=i.axis,s=Gt(n,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e})(Aa);function i7e(r,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===r}function a7e(r){var e=r.axis;return Gt(r.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function s7e(r,e){return e.getComponent("parallel",r.get("parallelIndex"))}var o7e={type:"axisAreaSelect",event:"axisAreaSelected"};function l7e(r){r.registerAction(o7e,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),r.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})})}var c7e={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function a0e(r){r.registerComponentView(LBe),r.registerComponentModel(kBe),r.registerCoordinateSystem("parallel",UBe),r.registerPreprocessor(MBe),r.registerComponentModel(zz),r.registerComponentView(n7e),cS(r,"parallel",zz,c7e),l7e(r)}function u7e(r){xn(a0e),r.registerChartView(yBe),r.registerSeriesModel(wBe),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,EBe)}var f7e=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r})(),h7e=(function(r){dt(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new f7e},e.prototype.buildPath=function(t,n){var i=n.extent;t.moveTo(n.x1,n.y1),t.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(t.lineTo(n.x2+i,n.y2),t.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(t.lineTo(n.x2,n.y2+i),t.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),t.closePath()},e.prototype.highlight=function(){ng(this)},e.prototype.downplay=function(){ig(this)},e})(Rn),d7e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new Nr,t._focusAdjacencyDisabled=!1,t}return e.prototype.init=function(t,n){this._controller=new yb(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,n,i){var a=this,s=t.getGraph(),o=this._mainGroup,l=t.layoutInfo,c=l.width,u=l.height,f=t.getData(),d=t.getData("edge"),h=t.get("orient");this._model=t,o.removeAll(),o.x=l.x,o.y=l.y,this._updateViewCoordSys(t,i),upe(t,i,o,this._controller,this._controllerHost,null),s.eachEdge(function(p){var v=new h7e,x=Vr(v);x.dataIndex=p.dataIndex,x.seriesIndex=t.seriesIndex,x.dataType="edge";var g=p.getModel(),_=g.getModel("lineStyle"),w=_.get("curveness"),A=p.node1.getLayout(),M=p.node1.getModel(),C=M.get("localX"),N=M.get("localY"),L=p.node2.getLayout(),D=p.node2.getModel(),k=D.get("localX"),O=D.get("localY"),I=p.getLayout(),j,B,K,H,Z,Y,J,oe;v.shape.extent=Math.max(1,I.dy),v.shape.orient=h,h==="vertical"?(j=(C!=null?C*c:A.x)+I.sy,B=(N!=null?N*u:A.y)+A.dy,K=(k!=null?k*c:L.x)+I.ty,H=O!=null?O*u:L.y,Z=j,Y=B*(1-w)+H*w,J=K,oe=B*w+H*(1-w)):(j=(C!=null?C*c:A.x)+A.dx,B=(N!=null?N*u:A.y)+I.sy,K=k!=null?k*c:L.x,H=(O!=null?O*u:L.y)+I.ty,Z=j*(1-w)+K*w,Y=B,J=j*w+K*(1-w),oe=H),v.setShape({x1:j,y1:B,x2:K,y2:H,cpx1:Z,cpy1:Y,cpx2:J,cpy2:oe}),v.useStyle(_.getItemStyle()),YJ(v.style,h,p);var X=""+g.get("value"),F=il(g,"edgeLabel");Al(v,F,{labelFetcher:{getFormattedLabel:function(re,ae,ce,ye,fe,be){return t.getFormattedLabel(re,ae,"edge",ye,Hf(fe,F.normal&&F.normal.get("formatter"),X),be)}},labelDataIndex:p.dataIndex,defaultText:X}),v.setTextConfig({position:"inside"});var W=g.getModel("emphasis");nl(v,g,"lineStyle",function(re){var ae=re.getItemStyle();return YJ(ae,h,p),ae}),o.add(v),d.setItemGraphicEl(p.dataIndex,v);var Q=W.get("focus");ss(v,Q==="adjacency"?p.getAdjacentDataIndices():Q==="trajectory"?p.getTrajectoryDataIndices():Q,W.get("blurScope"),W.get("disabled"))}),s.eachNode(function(p){var v=p.getLayout(),x=p.getModel(),g=x.get("localX"),_=x.get("localY"),w=x.getModel("emphasis"),A=x.get(["itemStyle","borderRadius"])||0,M=new _n({shape:{x:g!=null?g*c:v.x,y:_!=null?_*u:v.y,width:v.dx,height:v.dy,r:A},style:x.getModel("itemStyle").getItemStyle(),z2:10});Al(M,il(x),{labelFetcher:{getFormattedLabel:function(N,L){return t.getFormattedLabel(N,L,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),M.disableLabelAnimation=!0,M.setStyle("fill",p.getVisual("color")),M.setStyle("decal",p.getVisual("style").decal),nl(M,x),o.add(M),f.setItemGraphicEl(p.dataIndex,M),Vr(M).dataType="node";var C=w.get("focus");ss(M,C==="adjacency"?p.getAdjacentDataIndices():C==="trajectory"?p.getTrajectoryDataIndices():C,w.get("blurScope"),w.get("disabled"))}),f.eachItemGraphicEl(function(p,v){var x=f.getItemModel(v);x.get("draggable")&&(p.drift=function(g,_){a._focusAdjacencyDisabled=!0,this.shape.x+=g,this.shape.y+=_,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:f.getRawIndex(v),localX:this.shape.x/c,localY:this.shape.y/u})},p.ondragend=function(){a._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&t.isAnimationEnabled()&&o.setClipPath(p7e(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._updateViewCoordSys=function(t,n){var i=t.layoutInfo,a=i.width,s=i.height,o=t.coordinateSystem=new bb(null,{api:n,ecModel:t.ecModel});o.zoomLimit=t.get("scaleLimit"),o.setBoundingRect(0,0,a,s),o.setCenter(t.get("center")),o.setZoom(t.get("zoom")),this._controllerHost.target.attr({x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY})},e.type="sankey",e})(Zi);function YJ(r,e,t){switch(r.fill){case"source":r.fill=t.node1.getVisual("color"),r.decal=t.node1.getVisual("style").decal;break;case"target":r.fill=t.node2.getVisual("color"),r.decal=t.node2.getVisual("style").decal;break;case"gradient":var n=t.node1.getVisual("color"),i=t.node2.getVisual("color");fr(n)&&fr(i)&&(r.fill=new db(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function p7e(r,e,t){var n=new _n({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return Ua(n,{shape:{width:r.width+20}},e,t),n}var v7e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){var i=t.edges||t.links||[],a=t.data||t.nodes||[],s=t.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new Ln(s[l],this,n));var c=RV(a,i,this,!0,u);return c.data;function u(f,d){f.wrapMethod("getItemModel",function(h,p){var v=h.parentModel,x=v.getData().getItemLayout(p);if(x){var g=x.depth,_=v.levelModels[g];_&&(h.parentModel=_)}return h}),d.wrapMethod("getItemModel",function(h,p){var v=h.parentModel,x=v.getGraph().getEdgeByIndex(p),g=x.node1.getLayout();if(g){var _=g.depth,w=v.levelModels[_];w&&(h.parentModel=w)}return h})}},e.prototype.setNodePosition=function(t,n){var i=this.option.data||this.option.nodes,a=i[t];a.localX=n[0],a.localY=n[1]},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,n,i){function a(h){return isNaN(h)||h==null}if(i==="edge"){var s=this.getDataParams(t,i),o=s.data,l=s.value,c=o.source+" -- "+o.target;return Uo("nameValue",{name:c,value:l,noValue:a(l)})}else{var u=this.getGraph().getNodeByIndex(t),f=u.getLayout().value,d=this.getDataParams(t,i).data.name;return Uo("nameValue",{name:d!=null?d+"":null,value:f,noValue:a(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,n){var i=r.prototype.getDataParams.call(this,t,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(t),s=a.getLayout().value;i.value=s}return i},e.type="series.sankey",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:ut.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:ut.color.primary}},animationEasing:"linear",animationDuration:1e3},e})(la);function m7e(r,e){r.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),a=al(t,e).refContainer,s=Ja(t.getBoxLayoutParams(),a);t.layoutInfo=s;var o=s.width,l=s.height,c=t.getGraph(),u=c.nodes,f=c.edges;x7e(u);var d=bi(u,function(x){return x.getLayout().value===0}),h=d.length!==0?0:t.get("layoutIterations"),p=t.get("orient"),v=t.get("nodeAlign");g7e(u,f,n,i,o,l,h,p,v)})}function g7e(r,e,t,n,i,a,s,o,l){y7e(r,e,t,i,a,o,l),S7e(r,e,a,i,n,s,o),R7e(r,o)}function x7e(r){he(r,function(e){var t=ey(e.outEdges,VL),n=ey(e.inEdges,VL),i=e.getValue()||0,a=Math.max(t,n,i);e.setLayout({value:a},!0)})}function y7e(r,e,t,n,i,a,s){for(var o=[],l=[],c=[],u=[],f=0,d=0;d<e.length;d++)o[d]=1;for(var d=0;d<r.length;d++)l[d]=r[d].inEdges.length,l[d]===0&&c.push(r[d]);for(var h=-1;c.length;){for(var p=0;p<c.length;p++){var v=c[p],x=v.hostGraph.data.getRawDataItem(v.dataIndex),g=x.depth!=null&&x.depth>=0;g&&x.depth>h&&(h=x.depth),v.setLayout({depth:g?x.depth:f},!0),a==="vertical"?v.setLayout({dy:t},!0):v.setLayout({dx:t},!0);for(var _=0;_<v.outEdges.length;_++){var w=v.outEdges[_],A=e.indexOf(w);o[A]=0;var M=w.node2,C=r.indexOf(M);--l[C]===0&&u.indexOf(M)<0&&u.push(M)}}++f,c=u,u=[]}for(var d=0;d<o.length;d++)if(o[d]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var N=h>f-1?h:f-1;s&&s!=="left"&&b7e(r,s,a,N);var L=a==="vertical"?(i-t)/N:(n-t)/N;w7e(r,L,a)}function s0e(r){var e=r.hostGraph.data.getRawDataItem(r.dataIndex);return e.depth!=null&&e.depth>=0}function b7e(r,e,t,n){if(e==="right"){for(var i=[],a=r,s=0;a.length;){for(var o=0;o<a.length;o++){var l=a[o];l.setLayout({skNodeHeight:s},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];i.indexOf(u.node1)<0&&i.push(u.node1)}}a=i,i=[],++s}he(r,function(f){s0e(f)||f.setLayout({depth:Math.max(0,n-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&_7e(r,n)}function _7e(r,e){he(r,function(t){!s0e(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function w7e(r,e,t){he(r,function(n){var i=n.getLayout().depth*e;t==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function S7e(r,e,t,n,i,a,s){var o=T7e(r,s);A7e(o,e,t,n,i,s),p8(o,i,t,n,s);for(var l=1;a>0;a--)l*=.99,E7e(o,l,s),p8(o,i,t,n,s),L7e(o,l,s),p8(o,i,t,n,s)}function T7e(r,e){var t=[],n=e==="vertical"?"y":"x",i=N7(r,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,s){return a-s}),he(i.keys,function(a){t.push(i.buckets.get(a))}),t}function A7e(r,e,t,n,i,a){var s=1/0;he(r,function(o){var l=o.length,c=0;he(o,function(f){c+=f.getLayout().value});var u=a==="vertical"?(n-(l-1)*i)/c:(t-(l-1)*i)/c;u<s&&(s=u)}),he(r,function(o){he(o,function(l,c){var u=l.getLayout().value*s;a==="vertical"?(l.setLayout({x:c},!0),l.setLayout({dx:u},!0)):(l.setLayout({y:c},!0),l.setLayout({dy:u},!0))})}),he(e,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function p8(r,e,t,n,i){var a=i==="vertical"?"x":"y";he(r,function(s){s.sort(function(v,x){return v.getLayout()[a]-x.getLayout()[a]});for(var o,l,c,u=0,f=s.length,d=i==="vertical"?"dx":"dy",h=0;h<f;h++)l=s[h],c=u-l.getLayout()[a],c>0&&(o=l.getLayout()[a]+c,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),u=l.getLayout()[a]+l.getLayout()[d]+e;var p=i==="vertical"?n:t;if(c=u-e-p,c>0){o=l.getLayout()[a]-c,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),u=o;for(var h=f-2;h>=0;--h)l=s[h],c=l.getLayout()[a]+l.getLayout()[d]+e-u,c>0&&(o=l.getLayout()[a]-c,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),u=l.getLayout()[a]}})}function E7e(r,e,t){he(r.slice().reverse(),function(n){he(n,function(i){if(i.outEdges.length){var a=ey(i.outEdges,M7e,t)/ey(i.outEdges,VL);if(isNaN(a)){var s=i.outEdges.length;a=s?ey(i.outEdges,C7e,t)/s:0}if(t==="vertical"){var o=i.getLayout().x+(a-ly(i,t))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-ly(i,t))*e;i.setLayout({y:l},!0)}}})})}function M7e(r,e){return ly(r.node2,e)*r.getValue()}function C7e(r,e){return ly(r.node2,e)}function N7e(r,e){return ly(r.node1,e)*r.getValue()}function D7e(r,e){return ly(r.node1,e)}function ly(r,e){return e==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function VL(r){return r.getValue()}function ey(r,e,t){for(var n=0,i=r.length,a=-1;++a<i;){var s=+e(r[a],t);isNaN(s)||(n+=s)}return n}function L7e(r,e,t){he(r,function(n){he(n,function(i){if(i.inEdges.length){var a=ey(i.inEdges,N7e,t)/ey(i.inEdges,VL);if(isNaN(a)){var s=i.inEdges.length;a=s?ey(i.inEdges,D7e,t)/s:0}if(t==="vertical"){var o=i.getLayout().x+(a-ly(i,t))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-ly(i,t))*e;i.setLayout({y:l},!0)}}})})}function R7e(r,e){var t=e==="vertical"?"x":"y";he(r,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[t]-a.node2.getLayout()[t]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[t]-a.node1.getLayout()[t]})}),he(r,function(n){var i=0,a=0;he(n.outEdges,function(s){s.setLayout({sy:i},!0),i+=s.getLayout().dy}),he(n.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function k7e(r){r.eachSeriesByType("sankey",function(e){var t=e.getGraph(),n=t.nodes,i=t.edges;if(n.length){var a=1/0,s=-1/0;he(n,function(o){var l=o.getLayout().value;l<a&&(a=l),l>s&&(s=l)}),he(n,function(o){var l=new Sl({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:e.get("color")}),c=l.mapValueToVisual(o.getLayout().value),u=o.getModel().get(["itemStyle","color"]);u!=null?(o.setVisual("color",u),o.setVisual("style",{fill:u})):(o.setVisual("color",c),o.setVisual("style",{fill:c}))})}i.length&&he(i,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function I7e(r){r.registerChartView(d7e),r.registerSeriesModel(v7e),r.registerLayout(m7e),r.registerVisual(k7e),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(n){n.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),r.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){var a=i.coordinateSystem,s=cI(a,e,i.get("scaleLimit"));i.setCenter(s.center),i.setZoom(s.zoom)})})}var o0e=(function(){function r(){}return r.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},r.prototype.getInitialData=function(e,t){var n,i=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),o=a.get("type"),l;s==="category"?(e.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(e.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var c=["x","y"],u=e.layout==="horizontal"?0:1,f=this._baseAxisDim=c[u],d=c[1-u],h=[i,a],p=h[u].get("type"),v=h[1-u].get("type"),x=e.data;if(x&&l){var g=[];he(x,function(A,M){var C;Ut(A)?(C=A.slice(),A.unshift(M)):Ut(A.value)?(C=It({},A),C.value=C.value.slice(),A.value.unshift(M)):C=A,g.push(C)}),e.data=g}var _=this.defaultValueDimensions,w=[{name:f,type:AL(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:AL(v),dimsDef:_.slice()}];return eT(this,{coordDimensions:w,dimensionsCount:_.length+1,encodeDefaulter:cn(gfe,w,this)})},r.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},r})(),l0e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:ut.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:ut.color.shadow}},animationDuration:800},e})(la);qs(l0e,o0e,!0);var O7e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=t.get("layout")==="horizontal"?1:0;a.diff(o).add(function(c){if(a.hasValue(c)){var u=a.getItemLayout(c),f=qJ(u,a,c,l,!0);a.setItemGraphicEl(c,f),s.add(f)}}).update(function(c,u){var f=o.getItemGraphicEl(u);if(!a.hasValue(c)){s.remove(f);return}var d=a.getItemLayout(c);f?(zd(f),c0e(d,f,a,c)):f=qJ(d,a,c,l),s.add(f),a.setItemGraphicEl(c,f)}).remove(function(c){var u=o.getItemGraphicEl(c);u&&s.remove(u)}).execute(),this._data=a},e.prototype.remove=function(t){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},e.type="boxplot",e})(Zi),P7e=(function(){function r(){}return r})(),F7e=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n.type="boxplotBoxPath",n}return e.prototype.getDefaultShape=function(){return new P7e},e.prototype.buildPath=function(t,n){var i=n.points,a=0;for(t.moveTo(i[a][0],i[a][1]),a++;a<4;a++)t.lineTo(i[a][0],i[a][1]);for(t.closePath();a<i.length;a++)t.moveTo(i[a][0],i[a][1]),a++,t.lineTo(i[a][0],i[a][1])},e})(Rn);function qJ(r,e,t,n,i){var a=r.ends,s=new F7e({shape:{points:i?B7e(a,n,r):a}});return c0e(r,s,e,t,i),s}function c0e(r,e,t,n,i){var a=t.hostModel,s=pb[i?"initProps":"updateProps"];s(e,{shape:{points:r.ends}},a,n),e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.z2=100;var o=t.getItemModel(n),l=o.getModel("emphasis");nl(e,o),ss(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function B7e(r,e,t){return Gt(r,function(n){return n=n.slice(),n[e]=t.initBaseline,n})}var OA=he;function z7e(r){var e=j7e(r);OA(e,function(t){var n=t.seriesModels;n.length&&(U7e(t),OA(n,function(i,a){V7e(i,t.boxOffsetList[a],t.boxWidthList[a])}))})}function j7e(r){var e=[],t=[];return r.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=hn(t,i);a<0&&(a=t.length,t[a]=i,e[a]={axis:i,seriesModels:[]}),e[a].seriesModels.push(n)}),e}function U7e(r){var e=r.axis,t=r.seriesModels,n=t.length,i=r.boxWidthList=[],a=r.boxOffsetList=[],s=[],o;if(e.type==="category")o=e.getBandWidth();else{var l=0;OA(t,function(p){l=Math.max(l,p.getData().count())});var c=e.getExtent();o=Math.abs(c[1]-c[0])/l}OA(t,function(p){var v=p.get("boxWidth");Ut(v)||(v=[v,v]),s.push([ur(v[0],o)||0,ur(v[1],o)||0])});var u=o*.8-2,f=u/n*.3,d=(u-f*(n-1))/n,h=d/2-u/2;OA(t,function(p,v){a.push(h),h+=f+d,i.push(Math.min(Math.max(d,s[v][0]),s[v][1]))})}function V7e(r,e,t){var n=r.coordinateSystem,i=r.getData(),a=t/2,s=r.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],c=i.mapDimension(l[s]),u=i.mapDimensionsAll(l[o]);if(c==null||u.length<5)return;for(var f=0;f<i.count();f++){var d=i.get(c,f),h=w(d,u[2],f),p=w(d,u[0],f),v=w(d,u[1],f),x=w(d,u[3],f),g=w(d,u[4],f),_=[];A(_,v,!1),A(_,x,!0),_.push(p,v,g,x),M(_,p),M(_,g),M(_,h),i.setItemLayout(f,{initBaseline:h[o],ends:_})}function w(C,N,L){var D=i.get(N,L),k=[];k[s]=C,k[o]=D;var O;return isNaN(C)||isNaN(D)?O=[NaN,NaN]:(O=n.dataToPoint(k),O[s]+=e),O}function A(C,N,L){var D=N.slice(),k=N.slice();D[s]+=a,k[s]-=a,L?C.push(D,k):C.push(k,D)}function M(C,N){var L=N.slice(),D=N.slice();L[s]-=a,D[s]+=a,C.push(L,D)}}function H7e(r,e){e=e||{};for(var t=[],n=[],i=e.boundIQR,a=i==="none"||i===0,s=0;s<r.length;s++){var o=Dh(r[s].slice()),l=hD(o,.25),c=hD(o,.5),u=hD(o,.75),f=o[0],d=o[o.length-1],h=(i??1.5)*(u-l),p=a?f:Math.max(f,l-h),v=a?d:Math.min(d,u+h),x=e.itemNameFormatter,g=Tr(x)?x({value:s}):fr(x)?x.replace("{value}",s+""):s+"";t.push([g,p,l,c,u,v]);for(var _=0;_<o.length;_++){var w=o[_];if(w<p||w>v){var A=[g,w];n.push(A)}}}return{boxData:t,outliers:n}}var G7e={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==$l){var n="";Ai(n)}var i=H7e(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function W7e(r){r.registerSeriesModel(l0e),r.registerChartView(O7e),r.registerLayout(z7e),r.registerTransform(G7e)}var Y7e=["itemStyle","borderColor"],q7e=["itemStyle","borderColor0"],X7e=["itemStyle","borderColorDoji"],Z7e=["itemStyle","color"],K7e=["itemStyle","color0"];function jV(r,e){return e.get(r>0?Z7e:K7e)}function UV(r,e){return e.get(r===0?X7e:r>0?Y7e:q7e)}var $7e={seriesType:"candlestick",plan:qS(),performRawSeries:!0,reset:function(r,e){if(!e.isSeriesFiltered(r)){var t=r.pipelineContext.large;return!t&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var s=i.getItemModel(a),o=i.getItemLayout(a).sign,l=s.getItemStyle();l.fill=jV(o,s),l.stroke=UV(o,s)||l.fill;var c=i.ensureUniqueItemVisual(a,"style");It(c,l)}}}}}},J7e=["color","borderColor"],Q7e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,n,i){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,n):this._incrementalRenderNormal(t,n)},e.prototype.eachRendered=function(t){Ty(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t){var n=t.getData(),i=this._data,a=this.group,s=n.getLayout("isSimpleBox"),o=t.get("clip",!0),l=t.coordinateSystem,c=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(i).add(function(u){if(n.hasValue(u)){var f=n.getItemLayout(u);if(o&&XJ(c,f))return;var d=v8(f,u,!0);Ua(d,{shape:{points:f.ends}},t,u),m8(d,n,u,s),a.add(d),n.setItemGraphicEl(u,d)}}).update(function(u,f){var d=i.getItemGraphicEl(f);if(!n.hasValue(u)){a.remove(d);return}var h=n.getItemLayout(u);if(o&&XJ(c,h)){a.remove(d);return}d?(si(d,{shape:{points:h.ends}},t,u),zd(d)):d=v8(h),m8(d,n,u,s),a.add(d),n.setItemGraphicEl(u,d)}).remove(function(u){var f=i.getItemGraphicEl(u);f&&a.remove(f)}).execute(),this._data=n},e.prototype._renderLarge=function(t){this._clear(),ZJ(t,this.group);var n=t.get("clip",!0)?JE(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),s;(s=t.next())!=null;){var o=i.getItemLayout(s),l=v8(o);m8(l,i,s,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,n){ZJ(n,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e})(Zi),eze=(function(){function r(){}return r})(),tze=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n.type="normalCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new eze},e.prototype.buildPath=function(t,n){var i=n.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},e})(Rn);function v8(r,e,t){var n=r.ends;return new tze({shape:{points:t?rze(n,r):n},z2:100})}function XJ(r,e){for(var t=!0,n=0;n<e.ends.length;n++)if(r.contain(e.ends[n][0],e.ends[n][1])){t=!1;break}return t}function m8(r,e,t,n){var i=e.getItemModel(t);r.useStyle(e.getItemVisual(t,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,nl(r,i);var a=e.getItemLayout(t).sign;he(r.states,function(o,l){var c=i.getModel(l),u=jV(a,c),f=UV(a,c)||u,d=o.style||(o.style={});u&&(d.fill=u),f&&(d.stroke=f)});var s=i.getModel("emphasis");ss(r,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function rze(r,e){return Gt(r,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var nze=(function(){function r(){}return r})(),g8=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new nze},e.prototype.buildPath=function(t,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var s=i[a++];t.moveTo(s,i[a++]),t.lineTo(s,i[a++])}else a+=3},e})(Rn);function ZJ(r,e,t,n){var i=r.getData(),a=i.getLayout("largePoints"),s=new g8({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(s);var o=new g8({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(o);var l=new g8({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),x8(1,s,r),x8(-1,o,r),x8(0,l,r),n&&(s.incremental=!0,o.incremental=!0),t&&t.push(s,o)}function x8(r,e,t,n){var i=UV(r,t)||jV(r,t),a=t.getModel("itemStyle").getItemStyle(J7e);e.useStyle(a),e.style.fill=null,e.style.stroke=i}var u0e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,n,i){var a=n.getItemLayout(t);return a&&i.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e})(la);qs(u0e,o0e,!0);function ize(r){!r||!Ut(r.series)||he(r.series,function(e){kr(e)&&e.type==="k"&&(e.type="candlestick")})}var aze={seriesType:"candlestick",plan:qS(),reset:function(r){var e=r.coordinateSystem,t=r.getData(),n=sze(r,t),i=0,a=1,s=["x","y"],o=t.getDimensionIndex(t.mapDimension(s[i])),l=Gt(t.mapDimensionsAll(s[a]),t.getDimensionIndex,t),c=l[0],u=l[1],f=l[2],d=l[3];if(t.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),o<0||l.length<4)return;return{progress:r.pipelineContext.large?p:h};function h(v,x){for(var g,_=x.getStore();(g=v.next())!=null;){var w=_.get(o,g),A=_.get(c,g),M=_.get(u,g),C=_.get(f,g),N=_.get(d,g),L=Math.min(A,M),D=Math.max(A,M),k=Z(L,w),O=Z(D,w),I=Z(C,w),j=Z(N,w),B=[];Y(B,O,0),Y(B,k,1),B.push(oe(j),oe(O),oe(I),oe(k));var K=x.getItemModel(g),H=!!K.get(["itemStyle","borderColorDoji"]);x.setItemLayout(g,{sign:KJ(_,g,A,M,u,H),initBaseline:A>M?O[a]:k[a],ends:B,brushRect:J(C,N,w)})}function Z(X,F){var W=[];return W[i]=F,W[a]=X,isNaN(F)||isNaN(X)?[NaN,NaN]:e.dataToPoint(W)}function Y(X,F,W){var Q=F.slice(),re=F.slice();Q[i]=pD(Q[i]+n/2,1,!1),re[i]=pD(re[i]-n/2,1,!0),W?X.push(Q,re):X.push(re,Q)}function J(X,F,W){var Q=Z(X,W),re=Z(F,W);return Q[i]-=n/2,re[i]-=n/2,{x:Q[0],y:Q[1],width:n,height:re[1]-Q[1]}}function oe(X){return X[i]=pD(X[i],1),X}}function p(v,x){for(var g=tv(v.count*4),_=0,w,A=[],M=[],C,N=x.getStore(),L=!!r.get(["itemStyle","borderColorDoji"]);(C=v.next())!=null;){var D=N.get(o,C),k=N.get(c,C),O=N.get(u,C),I=N.get(f,C),j=N.get(d,C);if(isNaN(D)||isNaN(I)||isNaN(j)){g[_++]=NaN,_+=3;continue}g[_++]=KJ(N,C,k,O,u,L),A[i]=D,A[a]=I,w=e.dataToPoint(A,null,M),g[_++]=w?w[0]:NaN,g[_++]=w?w[1]:NaN,A[a]=j,w=e.dataToPoint(A,null,M),g[_++]=w?w[1]:NaN}x.setLayout("largePoints",g)}}};function KJ(r,e,t,n,i,a){var s;return t>n?s=-1:t<n?s=1:s=a?0:e>0?r.get(i,e-1)<=n?1:-1:1,s}function sze(r,e){var t=r.getBaseAxis(),n,i=t.type==="category"?t.getBandWidth():(n=t.getExtent(),Math.abs(n[1]-n[0])/e.count()),a=ur(wr(r.get("barMaxWidth"),i),i),s=ur(wr(r.get("barMinWidth"),1),i),o=r.get("barWidth");return o!=null?ur(o,i):Math.max(Math.min(i/2,a),s)}function oze(r){r.registerChartView(Q7e),r.registerSeriesModel(u0e),r.registerPreprocessor(ize),r.registerVisual($7e),r.registerLayout(aze)}function $J(r,e){var t=e.rippleEffectColor||e.color;r.eachChild(function(n){n.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var lze=(function(r){dt(e,r);function e(t,n){var i=r.call(this)||this,a=new KE(t,n),s=new Nr;return i.add(a),i.add(s),i.updateData(t,n),i}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var n=t.symbolType,i=t.color,a=t.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var l=xo(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var c=-o/a*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(c).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(c).start(),s.add(l)}$J(s,t)},e.prototype.updateEffectAnimation=function(t){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(n[o]!==t[o]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}$J(i,t)},e.prototype.highlight=function(){ng(this)},e.prototype.downplay=function(){ig(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,n){var i=this,a=t.hostModel;this.childAt(0).updateData(t,n);var s=this.childAt(1),o=t.getItemModel(n),l=t.getItemVisual(n,"symbol"),c=ZS(t.getItemVisual(n,"symbolSize")),u=t.getItemVisual(n,"style"),f=u&&u.fill,d=o.getModel("emphasis");s.setScale(c),s.traverse(function(x){x.setStyle("fill",f)});var h=gb(t.getItemVisual(n,"symbolOffset"),c);h&&(s.x=h[0],s.y=h[1]);var p=t.getItemVisual(n,"symbolRotate");s.rotation=(p||0)*Math.PI/180||0;var v={};v.showEffectOn=a.get("showEffectOn"),v.rippleScale=o.get(["rippleEffect","scale"]),v.brushType=o.get(["rippleEffect","brushType"]),v.period=o.get(["rippleEffect","period"])*1e3,v.effectOffset=n/t.count(),v.z=a.getShallow("z")||0,v.zlevel=a.getShallow("zlevel")||0,v.symbolType=l,v.color=f,v.rippleEffectColor=o.get(["rippleEffect","color"]),v.rippleNumber=o.get(["rippleEffect","number"]),v.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(x){x==="emphasis"?v.showEffectOn!=="render"&&i.startEffectAnimation(v):x==="normal"&&v.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=v,ss(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e})(Nr),cze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new $E(lze)},e.prototype.render=function(t,n,i){var a=t.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(s.group)},e.prototype._getClipShape=function(t){var n=t.coordinateSystem,i=n&&n.getArea&&n.getArea();return t.get("clip",!0)?i:null},e.prototype.updateTransform=function(t,n,i){var a=t.getData();this.group.dirty();var s=QE("").reset(t,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var n=t.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=xce(n.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e})(Zi),uze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return Mv(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,n,i){return i.point(n.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e})(la);function fze(r){r.registerChartView(cze),r.registerSeriesModel(uze),r.registerLayout(QE("effectScatter"))}var f0e=(function(r){dt(e,r);function e(t,n,i){var a=r.call(this)||this;return a.add(a.createLine(t,n,i)),a._updateEffectSymbol(t,n),a}return e.prototype.createLine=function(t,n,i){return new DV(t,n,i)},e.prototype._updateEffectSymbol=function(t,n){var i=t.getItemModel(n),a=i.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");Ut(s)||(s=[s,s]);var l=t.getItemVisual(n,"style"),c=a.get("color")||l&&l.stroke,u=this.childAt(1);this._symbolType!==o&&(this.remove(u),u=xo(o,-.5,-.5,1,1,c),u.z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",c),u.setStyle(a.getItemStyle(["color"])),u.scaleX=s[0],u.scaleY=s[1],u.setColor(c),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(t,a,n))},e.prototype._updateEffectAnimation=function(t,n,i){var a=this.childAt(1);if(a){var s=t.getItemLayout(i),o=n.get("period")*1e3,l=n.get("loop"),c=n.get("roundTrip"),u=n.get("constantSpeed"),f=Xl(n.get("delay"),function(h){return h/t.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),u>0&&(o=this._getLineLength(a)/u*1e3),o!==this._period||l!==this._loop||c!==this._roundTrip){a.stopAnimation();var d=void 0;Tr(f)?d=f(i):d=f,a.__t>0&&(d=-o*a.__t),this._animateSymbol(a,o,d,l,c)}this._period=o,this._loop=l,this._roundTrip=c}},e.prototype._animateSymbol=function(t,n,i,a,s){if(n>0){t.__t=0;var o=this,l=t.animate("",a).when(s?n*2:n,{__t:s?2:1}).delay(i).during(function(){o._updateSymbolPosition(t)});a||l.done(function(){o.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return Pm(t.__p1,t.__cp1)+Pm(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,n){t.__p1=n[0],t.__p2=n[1],t.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},e.prototype.updateData=function(t,n,i){this.childAt(0).updateData(t,n,i),this._updateEffectSymbol(t,n)},e.prototype._updateSymbolPosition=function(t){var n=t.__p1,i=t.__p2,a=t.__cp1,s=t.__t<1?t.__t:2-t.__t,o=[t.x,t.y],l=o.slice(),c=Yl,u=d7;o[0]=c(n[0],a[0],i[0],s),o[1]=c(n[1],a[1],i[1],s);var f=t.__t<1?u(n[0],a[0],i[0],s):u(i[0],a[0],n[0],1-s),d=t.__t<1?u(n[1],a[1],i[1],s):u(i[1],a[1],n[1],1-s);t.rotation=-Math.atan2(d,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=Pm(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*Pm(n,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,n){this.childAt(0).updateLayout(t,n);var i=t.getItemModel(n).getModel("effect");this._updateEffectAnimation(t,i,n)},e})(Nr),h0e=(function(r){dt(e,r);function e(t,n,i){var a=r.call(this)||this;return a._createPolyline(t,n,i),a}return e.prototype._createPolyline=function(t,n,i){var a=t.getItemLayout(n),s=new Kl({shape:{points:a}});this.add(s),this._updateCommonStl(t,n,i)},e.prototype.updateData=function(t,n,i){var a=t.hostModel,s=this.childAt(0),o={shape:{points:t.getItemLayout(n)}};si(s,o,a,n),this._updateCommonStl(t,n,i)},e.prototype._updateCommonStl=function(t,n,i){var a=this.childAt(0),s=t.getItemModel(n),o=i&&i.emphasisLineStyle,l=i&&i.focus,c=i&&i.blurScope,u=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var f=s.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),u=f.get("disabled"),l=f.get("focus"),c=f.get("blurScope")}a.useStyle(t.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var d=a.ensureState("emphasis");d.style=o,ss(this,l,c,u)},e.prototype.updateLayout=function(t,n){var i=this.childAt(0);i.setShape("points",t.getItemLayout(n))},e})(Nr),hze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,n,i){return new h0e(t,n,i)},e.prototype._updateAnimationPoints=function(t,n){this._points=n;for(var i=[0],a=0,s=1;s<n.length;s++){var o=n[s-1],l=n[s];a+=Pm(o,l),i.push(a)}if(a===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=a;this._offsets=i,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var n=t.__t<1?t.__t:2-t.__t,i=this._points,a=this._offsets,s=i.length;if(a){var o=this._lastFrame,l;if(n<this._lastFramePercent){var c=Math.min(o+1,s-1);for(l=c;l>=0&&!(a[l]<=n);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(a[l]>n);l++);l=Math.min(l-1,s-2)}var u=(n-a[l])/(a[l+1]-a[l]),f=i[l],d=i[l+1];t.x=f[0]*(1-u)+u*d[0],t.y=f[1]*(1-u)+u*d[1];var h=t.__t<1?d[0]-f[0]:f[0]-d[0],p=t.__t<1?d[1]-f[1]:f[1]-d[1];t.rotation=-Math.atan2(p,h)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,t.ignore=!1}},e})(f0e),dze=(function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r})(),pze=(function(r){dt(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:ut.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new dze},e.prototype.buildPath=function(t,n){var i=n.segs,a=n.curveness,s;if(n.polyline)for(s=this._off;s<i.length;){var o=i[s++];if(o>0){t.moveTo(i[s++],i[s++]);for(var l=1;l<o;l++)t.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var c=i[s++],u=i[s++],f=i[s++],d=i[s++];if(t.moveTo(c,u),a>0){var h=(c+f)/2-(u-d)*a,p=(u+d)/2-(f-c)*a;t.quadraticCurveTo(h,p,f,d)}else t.lineTo(f,d)}this.incremental&&(this._off=s,this.notClear=!0)},e.prototype.findDataIndex=function(t,n){var i=this.shape,a=i.segs,s=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var l=0,c=0;c<a.length;){var u=a[c++];if(u>0)for(var f=a[c++],d=a[c++],h=1;h<u;h++){var p=a[c++],v=a[c++];if(Ex(f,d,p,v,o,t,n))return l}l++}else for(var l=0,c=0;c<a.length;){var f=a[c++],d=a[c++],p=a[c++],v=a[c++];if(s>0){var x=(f+p)/2-(d-v)*s,g=(d+v)/2-(p-f)*s;if(hue(f,d,x,g,p,v,o,t,n))return l}else if(Ex(f,d,p,v,o,t,n))return l;l++}return-1},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(t=i[0],n=i[1],a.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,i=n.segs,a=1/0,s=1/0,o=-1/0,l=-1/0,c=0;c<i.length;){var u=i[c++],f=i[c++];a=Math.min(u,a),o=Math.max(u,o),s=Math.min(f,s),l=Math.max(f,l)}t=this._rect=new Br(a,s,o,l)}return t},e})(Rn),vze=(function(){function r(){this.group=new Nr}return r.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},r.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],i=t.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+i.length);o.set(a),o.set(i,s),n.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,t),l.__startIndex=e.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new pze({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},r.prototype._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var s=Vr(e);s.seriesIndex=i.seriesIndex,e.on("mousemove",function(o){s.dataIndex=null;var l=e.hoverDataIdx;l>0&&(s.dataIndex=l+e.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),d0e={seriesType:"lines",plan:qS(),reset:function(r){var e=r.coordinateSystem;if(e){var t=r.get("polyline"),n=r.pipelineContext.large;return{progress:function(i,a){var s=[];if(n){var o=void 0,l=i.end-i.start;if(t){for(var c=0,u=i.start;u<i.end;u++)c+=r.getLineCoordsCount(u);o=new Float32Array(l+c*2)}else o=new Float32Array(l*4);for(var f=0,d=[],u=i.start;u<i.end;u++){var h=r.getLineCoords(u,s);t&&(o[f++]=h);for(var p=0;p<h;p++)d=e.dataToPoint(s[p],!1,d),o[f++]=d[0],o[f++]=d[1]}a.setLayout("linesPoints",o)}else for(var u=i.start;u<i.end;u++){var v=a.getItemModel(u),h=r.getLineCoords(u,s),x=[];if(t)for(var g=0;g<h;g++)x.push(e.dataToPoint(s[g]));else{x[0]=e.dataToPoint(s[0]),x[1]=e.dataToPoint(s[1]);var _=v.get(["lineStyle","curveness"]);+_&&(x[2]=[(x[0][0]+x[1][0])/2-(x[0][1]-x[1][1])*_,(x[0][1]+x[1][1])/2-(x[1][0]-x[0][0])*_])}a.setItemLayout(u,x)}}}}}},mze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._updateLineDraw(a,t),o=t.get("zlevel"),l=t.get(["effect","trailLength"]),c=i.getZr(),u=c.painter.getType()==="svg";u||c.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!u&&c.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(u||c.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(a);var f=t.get("clip",!0)&&JE(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,i){var a=t.getData(),s=this._updateLineDraw(a,t);s.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(t,n,i){this._lineDraw.incrementalUpdate(t,n.getData()),this._finished=t.end===n.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,n,i){var a=t.getData(),s=t.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=d0e.reset(t,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(t,n){var i=this._lineDraw,a=this._showEffect(n),s=!!n.get("polyline"),o=n.pipelineContext,l=o.large;return(!i||a!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new vze:new LV(s?a?hze:h0e:a?f0e:DV),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(i.group),i},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var n=t.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.type="lines",e})(Zi),gze=typeof Uint32Array>"u"?Array:Uint32Array,xze=typeof Float64Array>"u"?Array:Float64Array;function JJ(r){var e=r.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(r.data=Gt(e,function(t){var n=[t[0].coord,t[1].coord],i={coords:n};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),kk([i,t[0],t[1]])}))}var yze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],JJ(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),r.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(JJ(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}r.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var n=this._processFlatCoordsArray(t.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=$w(this._flatCoords,n.flatCoords),this._flatCoordsOffset=$w(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),t.data=new Float32Array(n.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var n=this.getData().getItemModel(t),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[t*2],a=this._flatCoordsOffset[t*2+1],s=0;s<a;s++)n[s]=n[s]||[],n[s][0]=this._flatCoords[i+s*2],n[s][1]=this._flatCoords[i+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(t),s=0;s<o.length;s++)n[s]=n[s]||[],n[s][0]=o[s][0],n[s][1]=o[s][1];return o.length}},e.prototype._processFlatCoordsArray=function(t){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),Jn(t[0])){for(var i=t.length,a=new gze(i),s=new xze(i),o=0,l=0,c=0,u=0;u<i;){c++;var f=t[u++];a[l++]=o+n,a[l++]=f;for(var d=0;d<f;d++){var h=t[u++],p=t[u++];s[o++]=h,s[o++]=p}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:s,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,n){var i=new lu(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(a,s,o,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var c=a.value;if(c!=null)return c instanceof Array?c[l]:c}),i},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=a.getItemModel(t),o=s.get("name");if(o)return o;var l=s.get("fromName"),c=s.get("toName"),u=[];return l!=null&&u.push(l),c!=null&&u.push(c),Uo("nameValue",{name:u.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),n=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&n>0?n+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e})(la);function _N(r){return r instanceof Array||(r=[r,r]),r}var bze={seriesType:"lines",reset:function(r){var e=_N(r.get("symbol")),t=_N(r.get("symbolSize")),n=r.getData();n.setVisual("fromSymbol",e&&e[0]),n.setVisual("toSymbol",e&&e[1]),n.setVisual("fromSymbolSize",t&&t[0]),n.setVisual("toSymbolSize",t&&t[1]);function i(a,s){var o=a.getItemModel(s),l=_N(o.getShallow("symbol",!0)),c=_N(o.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(s,"fromSymbol",l[0]),l[1]&&a.setItemVisual(s,"toSymbol",l[1]),c[0]&&a.setItemVisual(s,"fromSymbolSize",c[0]),c[1]&&a.setItemVisual(s,"toSymbolSize",c[1])}return{dataEach:n.hasItemOption?i:null}}};function _ze(r){r.registerChartView(mze),r.registerSeriesModel(yze),r.registerLayout(d0e),r.registerVisual(bze)}var wze=256,Sze=(function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Yf.createCanvas();this.canvas=e}return r.prototype.update=function(e,t,n,i,a,s){var o=this._getBrush(),l=this._getGradient(a,"inRange"),c=this._getGradient(a,"outOfRange"),u=this.pointSize+this.blurSize,f=this.canvas,d=f.getContext("2d"),h=e.length;f.width=t,f.height=n;for(var p=0;p<h;++p){var v=e[p],x=v[0],g=v[1],_=v[2],w=i(_);d.globalAlpha=w,d.drawImage(o,x-u,g-u)}if(!f.width||!f.height)return f;for(var A=d.getImageData(0,0,f.width,f.height),M=A.data,C=0,N=M.length,L=this.minOpacity,D=this.maxOpacity,k=D-L;C<N;){var w=M[C+3]/256,O=Math.floor(w*(wze-1))*4;if(w>0){var I=s(w)?l:c;w>0&&(w=w*k+L),M[C++]=I[O],M[C++]=I[O+1],M[C++]=I[O+2],M[C++]=I[O+3]*w*256}else C+=4}return d.putImageData(A,0,0),f},r.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Yf.createCanvas()),t=this.pointSize+this.blurSize,n=t*2;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor=ut.color.neutral99,i.beginPath(),i.arc(-t,t,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),e},r.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,i=n[t]||(n[t]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)e[t](o/255,!0,a),i[s++]=a[0],i[s++]=a[1],i[s++]=a[2],i[s++]=a[3];return i},r})();function Tze(r,e,t){var n=r[1]-r[0];e=Gt(e,function(s){return{interval:[(s.interval[0]-r[0])/n,(s.interval[1]-r[0])/n]}});var i=e.length,a=0;return function(s){var o;for(o=a;o<i;o++){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}if(o===i)for(o=a-1;o>=0;o--){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}return o>=0&&o<i&&t[o]}}function Aze(r,e){var t=r[1]-r[0];return e=[(e[0]-r[0])/t,(e[1]-r[0])/t],function(n){return n>=e[0]&&n<=e[1]}}function QJ(r){var e=r.dimensions;return e[0]==="lng"&&e[1]==="lat"}var Eze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a;n.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===t&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=t.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"||s.type==="matrix"?this._renderOnGridLike(t,i,0,t.getData().count()):QJ(s)&&this._renderOnGeo(s,t,a,i)},e.prototype.incrementalPrepareRender=function(t,n,i){this.group.removeAll()},e.prototype.incrementalRender=function(t,n,i,a){var s=n.coordinateSystem;s&&(QJ(s)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnGridLike(n,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Ty(this._progressiveEls||this.group,t)},e.prototype._renderOnGridLike=function(t,n,i,a,s){var o=t.coordinateSystem,l=sy(o,"cartesian2d"),c=sy(o,"matrix"),u,f,d,h;if(l){var p=o.getAxis("x"),v=o.getAxis("y");u=p.getBandWidth()+.5,f=v.getBandWidth()+.5,d=p.scale.getExtent(),h=v.scale.getExtent()}for(var x=this.group,g=t.getData(),_=t.getModel(["emphasis","itemStyle"]).getItemStyle(),w=t.getModel(["blur","itemStyle"]).getItemStyle(),A=t.getModel(["select","itemStyle"]).getItemStyle(),M=t.get(["itemStyle","borderRadius"]),C=il(t),N=t.getModel("emphasis"),L=N.get("focus"),D=N.get("blurScope"),k=N.get("disabled"),O=l||c?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],I=i;I<a;I++){var j=void 0,B=g.getItemVisual(I,"style");if(l){var K=g.get(O[0],I),H=g.get(O[1],I);if(isNaN(g.get(O[2],I))||isNaN(K)||isNaN(H)||K<d[0]||K>d[1]||H<h[0]||H>h[1])continue;var Z=o.dataToPoint([K,H]);j=new _n({shape:{x:Z[0]-u/2,y:Z[1]-f/2,width:u,height:f},style:B})}else if(c){var Y=o.dataToLayout([g.get(O[0],I),g.get(O[1],I)]).rect;if(mc(Y.x))continue;j=new _n({z2:1,shape:Y,style:B})}else{if(isNaN(g.get(O[1],I)))continue;var J=o.dataToLayout([g.get(O[0],I)]),Y=J.contentRect||J.rect;if(mc(Y.x)||mc(Y.y))continue;j=new _n({z2:1,shape:Y,style:B})}if(g.hasItemOption){var oe=g.getItemModel(I),X=oe.getModel("emphasis");_=X.getModel("itemStyle").getItemStyle(),w=oe.getModel(["blur","itemStyle"]).getItemStyle(),A=oe.getModel(["select","itemStyle"]).getItemStyle(),M=oe.get(["itemStyle","borderRadius"]),L=X.get("focus"),D=X.get("blurScope"),k=X.get("disabled"),C=il(oe)}j.shape.r=M;var F=t.getRawValue(I),W="-";F&&F[2]!=null&&(W=F[2]+""),Al(j,C,{labelFetcher:t,labelDataIndex:I,defaultOpacity:B.opacity,defaultText:W}),j.ensureState("emphasis").style=_,j.ensureState("blur").style=w,j.ensureState("select").style=A,ss(j,L,D,k),j.incremental=s,s&&(j.states.emphasis.hoverLayer=!0),x.add(j),g.setItemGraphicEl(I,j),this._progressiveEls&&this._progressiveEls.push(j)}},e.prototype._renderOnGeo=function(t,n,i,a){var s=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,l=n.getData(),c=this._hmLayer||this._hmLayer||new Sze;c.blurSize=n.get("blurSize"),c.pointSize=n.get("pointSize"),c.minOpacity=n.get("minOpacity"),c.maxOpacity=n.get("maxOpacity");var u=t.getViewRect().clone(),f=t.getRoamTransform();u.applyTransform(f);var d=Math.max(u.x,0),h=Math.max(u.y,0),p=Math.min(u.width+u.x,a.getWidth()),v=Math.min(u.height+u.y,a.getHeight()),x=p-d,g=v-h,_=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],w=l.mapArray(_,function(N,L,D){var k=t.dataToPoint([N,L]);return k[0]-=d,k[1]-=h,k.push(D),k}),A=i.getExtent(),M=i.type==="visualMap.continuous"?Aze(A,i.option.range):Tze(A,i.getPieceList(),i.option.selected);c.update(w,x,g,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},M);var C=new Nl({style:{width:x,height:g,x:d,y:h,image:c.canvas},silent:!0});this.group.add(C)},e.type="heatmap",e})(Zi),Mze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return Mv(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=YS.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:ut.color.primary}}},e})(la);function Cze(r){r.registerChartView(Eze),r.registerSeriesModel(Mze)}var Nze=["itemStyle","borderWidth"],eQ=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],y8=new Ev,Dze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group,s=t.getData(),o=this._data,l=t.coordinateSystem,c=l.getBaseAxis(),u=c.isHorizontal(),f=l.master.getRect(),d={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:u,valueDim:eQ[+u],categoryDim:eQ[1-+u]};s.diff(o).add(function(p){if(s.hasValue(p)){var v=rQ(s,p),x=tQ(s,p,v,d),g=nQ(s,d,x);s.setItemGraphicEl(p,g),a.add(g),aQ(g,d,x)}}).update(function(p,v){var x=o.getItemGraphicEl(v);if(!s.hasValue(p)){a.remove(x);return}var g=rQ(s,p),_=tQ(s,p,g,d),w=y0e(s,_);x&&w!==x.__pictorialShapeStr&&(a.remove(x),s.setItemGraphicEl(p,null),x=null),x?Fze(x,d,_):x=nQ(s,d,_,!0),s.setItemGraphicEl(p,x),x.__pictorialSymbolMeta=_,a.add(x),aQ(x,d,_)}).remove(function(p){var v=o.getItemGraphicEl(p);v&&iQ(o,p,v.__pictorialSymbolMeta.animationModel,v)}).execute();var h=t.get("clip",!0)?JE(t.coordinateSystem,!1,t):null;return h?a.setClipPath(h):a.removeClipPath(),this._data=s,this.group},e.prototype.remove=function(t,n){var i=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(s){iQ(a,Vr(s).dataIndex,t,s)}):i.removeAll()},e.type="pictorialBar",e})(Zi);function tQ(r,e,t,n){var i=r.getItemLayout(e),a=t.get("symbolRepeat"),s=t.get("symbolClip"),o=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),c=(l||0)*Math.PI/180||0,u=t.get("symbolPatternSize")||2,f=t.isAnimationEnabled(),d={dataIndex:e,layout:i,itemModel:t,symbolType:r.getItemVisual(e,"symbol")||"circle",style:r.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:c,animationModel:f?t:null,hoverScale:f&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};Lze(t,a,i,n,d),Rze(r,e,i,a,s,d.boundingLength,d.pxSign,u,n,d),kze(t,d.symbolScale,c,n,d);var h=d.symbolSize,p=gb(t.get("symbolOffset"),h);return Ize(t,h,i,a,s,p,o,d.valueLineWidth,d.boundingLength,d.repeatCutLength,n,d),d}function Lze(r,e,t,n,i){var a=n.valueDim,s=r.get("symbolBoundingData"),o=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),c=1-+(t[a.wh]<=0),u;if(Ut(s)){var f=[b8(o,s[0])-l,b8(o,s[1])-l];f[1]<f[0]&&f.reverse(),u=f[c]}else s!=null?u=b8(o,s)-l:e?u=n.coordSysExtent[a.index][c]-l:u=t[a.wh];i.boundingLength=u,e&&(i.repeatCutLength=t[a.wh]);var d=a.xy==="x",h=o.inverse;i.pxSign=d&&!h||!d&&h?u>=0?1:-1:u>0?1:-1}function b8(r,e){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(e)))}function Rze(r,e,t,n,i,a,s,o,l,c){var u=l.valueDim,f=l.categoryDim,d=Math.abs(t[f.wh]),h=r.getItemVisual(e,"symbolSize"),p;Ut(h)?p=h.slice():h==null?p=["100%","100%"]:p=[h,h],p[f.index]=ur(p[f.index],d),p[u.index]=ur(p[u.index],n?d:Math.abs(a)),c.symbolSize=p;var v=c.symbolScale=[p[0]/o,p[1]/o];v[u.index]*=(l.isHorizontal?-1:1)*s}function kze(r,e,t,n,i){var a=r.get(Nze)||0;a&&(y8.attr({scaleX:e[0],scaleY:e[1],rotation:t}),y8.updateTransform(),a/=y8.getLineScale(),a*=e[n.valueDim.index]),i.valueLineWidth=a||0}function Ize(r,e,t,n,i,a,s,o,l,c,u,f){var d=u.categoryDim,h=u.valueDim,p=f.pxSign,v=Math.max(e[h.index]+o,0),x=v;if(n){var g=Math.abs(l),_=Xl(r.get("symbolMargin"),"15%")+"",w=!1;_.lastIndexOf("!")===_.length-1&&(w=!0,_=_.slice(0,_.length-1));var A=ur(_,e[h.index]),M=Math.max(v+A*2,0),C=w?0:A*2,N=$U(n),L=N?n:sQ((g+C)/M),D=g-L*v;A=D/2/(w?L:Math.max(L-1,1)),M=v+A*2,C=w?0:A*2,!N&&n!=="fixed"&&(L=c?sQ((Math.abs(c)+C)/M):0),x=L*M-C,f.repeatTimes=L,f.symbolMargin=A}var k=p*(x/2),O=f.pathPosition=[];O[d.index]=t[d.wh]/2,O[h.index]=s==="start"?k:s==="end"?l-k:l/2,a&&(O[0]+=a[0],O[1]+=a[1]);var I=f.bundlePosition=[];I[d.index]=t[d.xy],I[h.index]=t[h.xy];var j=f.barRectShape=It({},t);j[h.wh]=p*Math.max(Math.abs(t[h.wh]),Math.abs(O[h.index]+k)),j[d.wh]=t[d.wh];var B=f.clipShape={};B[d.xy]=-t[d.xy],B[d.wh]=u.ecSize[d.wh],B[h.xy]=0,B[h.wh]=t[h.wh]}function p0e(r){var e=r.symbolPatternSize,t=xo(r.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function v0e(r,e,t,n){var i=r.__pictorialBundle,a=t.symbolSize,s=t.valueLineWidth,o=t.pathPosition,l=e.valueDim,c=t.repeatTimes||0,u=0,f=a[e.valueDim.index]+s+t.symbolMargin*2;for(VV(r,function(v){v.__pictorialAnimationIndex=u,v.__pictorialRepeatTimes=c,u<c?Vw(v,null,p(u),t,n):Vw(v,null,{scaleX:0,scaleY:0},t,n,function(){i.remove(v)}),u++});u<c;u++){var d=p0e(t);d.__pictorialAnimationIndex=u,d.__pictorialRepeatTimes=c,i.add(d);var h=p(u);Vw(d,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},t,n)}function p(v){var x=o.slice(),g=t.pxSign,_=v;return(t.symbolRepeatDirection==="start"?g>0:g<0)&&(_=c-1-v),x[l.index]=f*(_-c/2+.5)+o[l.index],{x:x[0],y:x[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function m0e(r,e,t,n){var i=r.__pictorialBundle,a=r.__pictorialMainPath;a?Vw(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,n):(a=r.__pictorialMainPath=p0e(t),i.add(a),Vw(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,n))}function g0e(r,e,t){var n=It({},e.barRectShape),i=r.__pictorialBarRect;i?Vw(i,null,{shape:n},e,t):(i=r.__pictorialBarRect=new _n({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,r.add(i))}function x0e(r,e,t,n){if(t.symbolClip){var i=r.__pictorialClipPath,a=It({},t.clipShape),s=e.valueDim,o=t.animationModel,l=t.dataIndex;if(i)si(i,{shape:a},o,l);else{a[s.wh]=0,i=new _n({shape:a}),r.__pictorialBundle.setClipPath(i),r.__pictorialClipPath=i;var c={};c[s.wh]=t.clipShape[s.wh],pb[n?"updateProps":"initProps"](i,{shape:c},o,l)}}}function rQ(r,e){var t=r.getItemModel(e);return t.getAnimationDelayParams=Oze,t.isAnimationEnabled=Pze,t}function Oze(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function Pze(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function nQ(r,e,t,n){var i=new Nr,a=new Nr;return i.add(a),i.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?v0e(i,e,t):m0e(i,e,t),g0e(i,t,n),x0e(i,e,t,n),i.__pictorialShapeStr=y0e(r,t),i.__pictorialSymbolMeta=t,i}function Fze(r,e,t){var n=t.animationModel,i=t.dataIndex,a=r.__pictorialBundle;si(a,{x:t.bundlePosition[0],y:t.bundlePosition[1]},n,i),t.symbolRepeat?v0e(r,e,t,!0):m0e(r,e,t,!0),g0e(r,t,!0),x0e(r,e,t,!0)}function iQ(r,e,t,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];VV(n,function(s){a.push(s)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(t=null),he(a,function(s){ay(s,{scaleX:0,scaleY:0},t,e,function(){n.parent&&n.parent.remove(n)})}),r.setItemGraphicEl(e,null)}function y0e(r,e){return[r.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function VV(r,e,t){he(r.__pictorialBundle.children(),function(n){n!==r.__pictorialBarRect&&e.call(t,n)})}function Vw(r,e,t,n,i,a){e&&r.attr(e),n.symbolClip&&!i?t&&r.attr(t):t&&pb[i?"updateProps":"initProps"](r,t,n.animationModel,n.dataIndex,a)}function aQ(r,e,t){var n=t.dataIndex,i=t.itemModel,a=i.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),c=i.getShallow("cursor"),u=a.get("focus"),f=a.get("blurScope"),d=a.get("scale");VV(r,function(v){if(v instanceof Nl){var x=v.style;v.useStyle(It({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},t.style))}else v.useStyle(t.style);var g=v.ensureState("emphasis");g.style=s,d&&(g.scaleX=v.scaleX*1.1,g.scaleY=v.scaleY*1.1),v.ensureState("blur").style=o,v.ensureState("select").style=l,c&&(v.cursor=c),v.z2=t.z2});var h=e.valueDim.posDesc[+(t.boundingLength>0)],p=r.__pictorialBarRect;p.ignoreClip=!0,Al(p,il(i),{labelFetcher:e.seriesModel,labelDataIndex:n,defaultText:lS(e.seriesModel.getData(),n),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:h}),ss(r,u,f,a.get("disabled"))}function sQ(r){var e=Math.round(r);return Math.abs(r-e)<1e-4?e:Math.ceil(r)}var Bze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,r.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Ay(B3.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:ut.color.primary}}}),e})(B3);function zze(r){r.registerChartView(Dze),r.registerSeriesModel(Bze),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,cn(zhe,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,jhe("pictorialBar"))}var jze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this,o=this.group,l=t.getLayerSeries(),c=a.getLayout("layoutInfo"),u=c.rect,f=c.boundaryGap;o.x=0,o.y=u.y+f[0];function d(x){return x.name}var h=new ag(this._layersSeries||[],l,d,d),p=[];h.add(hr(v,this,"add")).update(hr(v,this,"update")).remove(hr(v,this,"remove")).execute();function v(x,g,_){var w=s._layers;if(x==="remove"){o.remove(w[g]);return}for(var A=[],M=[],C,N=l[g].indices,L=0;L<N.length;L++){var D=a.getItemLayout(N[L]),k=D.x,O=D.y0,I=D.y;A.push(k,O),M.push(k,O+I),C=a.getItemVisual(N[L],"style")}var j,B=a.getItemLayout(N[0]),K=t.getModel("label"),H=K.get("margin"),Z=t.getModel("emphasis");if(x==="add"){var Y=p[g]=new Nr;j=new Dde({shape:{points:A,stackedOnPoints:M,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Y.add(j),o.add(Y),t.isAnimationEnabled()&&j.setClipPath(Uze(j.getBoundingRect(),t,function(){j.removeClipPath()}))}else{var Y=w[_];j=Y.childAt(0),o.add(Y),p[g]=Y,si(j,{shape:{points:A,stackedOnPoints:M}},t),zd(j)}Al(j,il(t),{labelDataIndex:N[L-1],defaultText:a.getName(N[L-1]),inheritColor:C.fill},{normal:{verticalAlign:"middle"}}),j.setTextConfig({position:null,local:!0});var J=j.getTextContent();J&&(J.x=B.x-H,J.y=B.y0+B.y/2),j.useStyle(C),a.setItemGraphicEl(g,j),nl(j,t),ss(j,Z.get("focus"),Z.get("blurScope"),Z.get("disabled"))}this._layersSeries=l,this._layers=p},e.type="themeRiver",e})(Zi);function Uze(r,e,t){var n=new _n({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return Ua(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},e,t),n}var _8=2,Vze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new tT(hr(this.getData,this),hr(this.getRawData,this))},e.prototype.fixData=function(t){var n=t.length,i={},a=N7(t,function(d){return i.hasOwnProperty(d[0]+"")||(i[d[0]+""]=-1),d[2]}),s=[];a.buckets.each(function(d,h){s.push({name:h,dataList:d})});for(var o=s.length,l=0;l<o;++l){for(var c=s[l].name,u=0;u<s[l].dataList.length;++u){var f=s[l].dataList[u][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,t[n]=[f,0,c],n++)}return t},e.prototype.getInitialData=function(t,n){for(var i=this.getReferringComponents("singleAxis",Ls).models[0],a=i.get("type"),s=bi(t.data,function(p){return p[2]!==void 0}),o=this.fixData(s||[]),l=[],c=this.nameMap=br(),u=0,f=0;f<o.length;++f)l.push(o[f][_8]),c.get(o[f][_8])||(c.set(o[f][_8],u),u++);var d=KS(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:AL(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new lu(d,this);return h.initData(o),h},e.prototype.getLayerSeries=function(){for(var t=this.getData(),n=t.count(),i=[],a=0;a<n;++a)i[a]=a;var s=t.mapDimension("single"),o=N7(i,function(c){return t.get("name",c)}),l=[];return o.buckets.each(function(c,u){c.sort(function(f,d){return t.get(s,f)-t.get(s,d)}),l.push({name:u,indices:c})}),l},e.prototype.getAxisTooltipData=function(t,n,i){Ut(t)||(t=t?[t]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,c,u=0;u<l;++u){for(var f=Number.MAX_VALUE,d=-1,h=s[u].indices.length,p=0;p<h;++p){var v=a.get(t[0],s[u].indices[p]),x=Math.abs(v-n);x<=f&&(c=v,f=x,d=s[u].indices[p])}o.push(d)}return{dataIndices:o,nestestValue:c}},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=a.getName(t),o=a.get(a.mapDimension("value"),t);return Uo("nameValue",{name:s,value:o})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e})(la);function Hze(r,e){r.eachSeriesByType("themeRiver",function(t){var n=t.getData(),i=t.coordinateSystem,a={},s=i.getRect();a.rect=s;var o=t.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=o,l.orient==="horizontal"){o[0]=ur(o[0],s.height),o[1]=ur(o[1],s.height);var c=s.height-o[0]-o[1];oQ(n,t,c)}else{o[0]=ur(o[0],s.width),o[1]=ur(o[1],s.width);var u=s.width-o[0]-o[1];oQ(n,t,u)}n.setLayout("layoutInfo",a)})}function oQ(r,e,t){if(r.count())for(var n=e.coordinateSystem,i=e.getLayerSeries(),a=r.mapDimension("single"),s=r.mapDimension("value"),o=Gt(i,function(x){return Gt(x.indices,function(g){var _=n.dataToPoint(r.get(a,g));return _[1]=r.get(s,g),_})}),l=Gze(o),c=l.y0,u=t/l.max,f=i.length,d=i[0].indices.length,h,p=0;p<d;++p){h=c[p]*u,r.setItemLayout(i[0].indices[p],{layerIndex:0,x:o[0][p][0],y0:h,y:o[0][p][1]*u});for(var v=1;v<f;++v)h+=o[v-1][p][1]*u,r.setItemLayout(i[v].indices[p],{layerIndex:v,x:o[v][p][0],y0:h,y:o[v][p][1]*u})}}function Gze(r){for(var e=r.length,t=r[0].length,n=[],i=[],a=0,s=0;s<t;++s){for(var o=0,l=0;l<e;++l)o+=r[l][s][1];o>a&&(a=o),n.push(o)}for(var c=0;c<t;++c)i[c]=(a-n[c])/2;a=0;for(var u=0;u<t;++u){var f=n[u]+i[u];f>a&&(a=f)}return{y0:i,max:a}}function Wze(r){r.registerChartView(jze),r.registerSeriesModel(Vze),r.registerLayout(Hze),r.registerProcessor(QS("themeRiver"))}var Yze=2,qze=4,lQ=(function(r){dt(e,r);function e(t,n,i,a){var s=r.call(this)||this;s.z2=Yze,s.textConfig={inside:!0},Vr(s).seriesIndex=n.seriesIndex;var o=new $n({z2:qze,silent:t.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,t,n,i,a),s}return e.prototype.updateData=function(t,n,i,a,s){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var o=this;Vr(o).dataIndex=n.dataIndex;var l=n.getModel(),c=l.getModel("emphasis"),u=n.getLayout(),f=It({},u);f.label=null;var d=n.getVisual("style");d.lineJoin="bevel";var h=n.getVisual("decal");h&&(d.decal=aS(h,s));var p=nv(l.getModel("itemStyle"),f,!0);It(f,p),he(Qu,function(_){var w=o.ensureState(_),A=l.getModel([_,"itemStyle"]);w.style=A.getItemStyle();var M=nv(A,f);M&&(w.shape=M)}),t?(o.setShape(f),o.shape.r=u.r0,Ua(o,{shape:{r:u.r}},i,n.dataIndex)):(si(o,{shape:f},i),zd(o)),o.useStyle(d),this._updateLabel(i);var v=l.getShallow("cursor");v&&o.attr("cursor",v),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var x=c.get("focus"),g=x==="relative"?$w(n.getAncestorsIndices(),n.getDescendantIndices()):x==="ancestor"?n.getAncestorsIndices():x==="descendant"?n.getDescendantIndices():x;ss(this,g,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t){var n=this,i=this.node.getModel(),a=i.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,c=Math.cos(l),u=Math.sin(l),f=this,d=f.getTextContent(),h=this.node.dataIndex,p=a.get("minAngle")/180*Math.PI,v=a.get("show")&&!(p!=null&&Math.abs(o)<p);d.ignore=!v,he(T3,function(g){var _=g==="normal"?i.getModel("label"):i.getModel([g,"label"]),w=g==="normal",A=w?d:d.ensureState(g),M=t.getFormattedLabel(h,g);w&&(M=M||n.node.name),A.style=Sa(_,{},null,g!=="normal",!0),M&&(A.style.text=M);var C=_.get("show");C!=null&&!w&&(A.ignore=!C);var N=x(_,"position"),L=w?f:f.states[g],D=L.style.fill;L.textConfig={outsideFill:_.get("color")==="inherit"?D:null,inside:N!=="outside"};var k,O=x(_,"distance")||0,I=x(_,"align"),j=x(_,"rotate"),B=Math.PI*.5,K=Math.PI*1.5,H=Lh(j==="tangential"?Math.PI/2-l:l),Z=H>B&&!eS(H-B)&&H<K;N==="outside"?(k=s.r+O,I=Z?"right":"left"):!I||I==="center"?(o===2*Math.PI&&s.r0===0?k=0:k=(s.r+s.r0)/2,I="center"):I==="left"?(k=s.r0+O,I=Z?"right":"left"):I==="right"&&(k=s.r-O,I=Z?"left":"right"),A.style.align=I,A.style.verticalAlign=x(_,"verticalAlign")||"middle",A.x=k*c+s.cx,A.y=k*u+s.cy;var Y=0;j==="radial"?Y=Lh(-l)+(Z?Math.PI:0):j==="tangential"?Y=Lh(Math.PI/2-l)+(Z?Math.PI:0):Jn(j)&&(Y=j*Math.PI/180),A.rotation=Lh(Y)});function x(g,_){var w=g.get(_);return w??a.get(_)}d.dirtyStyle()},e})(Sc),Wz="sunburstRootToNode",cQ="sunburstHighlight",Xze="sunburstUnhighlight";function Zze(r){r.registerAction({type:Wz,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},n);function n(i,a){var s=j3(e,[Wz],i);if(s){var o=i.getViewRoot();o&&(e.direction=AV(o,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}}),r.registerAction({type:cQ,update:"none"},function(e,t,n){e=It({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(a){var s=j3(e,[cQ],a);s&&(e.dataIndex=s.node.dataIndex)}n.dispatchAction(It(e,{type:"highlight"}))}),r.registerAction({type:Xze,update:"updateView"},function(e,t,n){e=It({},e),n.dispatchAction(It(e,{type:"downplay"}))})}var Kze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){var s=this;this.seriesModel=t,this.api=i,this.ecModel=n;var o=t.getData(),l=o.tree.root,c=t.getViewRoot(),u=this.group,f=t.get("renderLabelForZeroData"),d=[];c.eachNode(function(_){d.push(_)});var h=this._oldChildren||[];p(d,h),g(l,c),this._initEvents(),this._oldChildren=d;function p(_,w){if(_.length===0&&w.length===0)return;new ag(w,_,A,A).add(M).update(M).remove(cn(M,null)).execute();function A(C){return C.getId()}function M(C,N){var L=C==null?null:_[C],D=N==null?null:w[N];v(L,D)}}function v(_,w){if(!f&&_&&!_.getValue()&&(_=null),_!==l&&w!==l){if(w&&w.piece)_?(w.piece.updateData(!1,_,t,n,i),o.setItemGraphicEl(_.dataIndex,w.piece)):x(w);else if(_){var A=new lQ(_,t,n,i);u.add(A),o.setItemGraphicEl(_.dataIndex,A)}}}function x(_){_&&_.piece&&(u.remove(_.piece),_.piece=null)}function g(_,w){w.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,_,t,n,i):(s.virtualPiece=new lQ(_,t,n,i),u.add(s.virtualPiece)),w.piece.off("click"),s.virtualPiece.on("click",function(A){s._rootToNode(w.parentNode)})):s.virtualPiece&&(u.remove(s.virtualPiece),s.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=t.seriesModel.getViewRoot();a.eachNode(function(s){if(!i&&s.piece&&s.piece===n.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")t._rootToNode(s);else if(o==="link"){var l=s.getModel(),c=l.get("link");if(c){var u=l.get("target",!0)||"_blank";vL(c,u)}}i=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Wz,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="sunburst",e})(Zi),$ze=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,n){var i={name:t.name,children:t.data};b0e(i);var a=this._levelModels=Gt(t.levels||[],function(l){return new Ln(l,this,n)},this),s=TV.createTree(i,this,o);function o(l){l.wrapMethod("getItemModel",function(c,u){var f=s.getNodeByDataIndex(u),d=a[f.depth];return d&&(c.parentModel=d),c})}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=fI(i,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){Tpe(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e})(la);function b0e(r){var e=0;he(r.children,function(n){b0e(n);var i=n.value;Ut(i)&&(i=i[0]),e+=i});var t=r.value;Ut(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),Ut(r.value)?r.value[0]=t:r.value=t}var uQ=Math.PI/180;function Jze(r,e,t){e.eachSeriesByType(r,function(n){var i=n.get("center"),a=n.get("radius");Ut(a)||(a=[0,a]),Ut(i)||(i=[i,i]);var s=t.getWidth(),o=t.getHeight(),l=Math.min(s,o),c=ur(i[0],s),u=ur(i[1],o),f=ur(a[0],l/2),d=ur(a[1],l/2),h=-n.get("startAngle")*uQ,p=n.get("minAngle")*uQ,v=n.getData().tree.root,x=n.getViewRoot(),g=x.depth,_=n.get("sort");_!=null&&_0e(x,_);var w=0;he(x.children,function(H){!isNaN(H.getValue())&&w++});var A=x.getValue(),M=Math.PI/(A||w)*2,C=x.depth>0,N=x.height-(C?-1:1),L=(d-f)/(N||1),D=n.get("clockwise"),k=n.get("stillShowZeroSum"),O=D?1:-1,I=function(H,Z){if(H){var Y=Z;if(H!==v){var J=H.getValue(),oe=A===0&&k?M:J*M;oe<p&&(oe=p),Y=Z+O*oe;var X=H.depth-g-(C?-1:1),F=f+L*X,W=f+L*(X+1),Q=n.getLevelModel(H);if(Q){var re=Q.get("r0",!0),ae=Q.get("r",!0),ce=Q.get("radius",!0);ce!=null&&(re=ce[0],ae=ce[1]),re!=null&&(F=ur(re,l/2)),ae!=null&&(W=ur(ae,l/2))}H.setLayout({angle:oe,startAngle:Z,endAngle:Y,clockwise:D,cx:c,cy:u,r0:F,r:W})}if(H.children&&H.children.length){var ye=0;he(H.children,function(fe){ye+=I(fe,Z+ye)})}return Y-Z}};if(C){var j=f,B=f+L,K=Math.PI*2;v.setLayout({angle:K,startAngle:h,endAngle:h+K,clockwise:D,cx:c,cy:u,r0:j,r:B})}I(x,h)})}function _0e(r,e){var t=r.children||[];r.children=Qze(t,e),t.length&&he(r.children,function(n){_0e(n,e)})}function Qze(r,e){if(Tr(e)){var t=Gt(r,function(i,a){var s=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return s}},index:a}});return t.sort(function(i,a){return e(i.params,a.params)}),Gt(t,function(i){return r[i.index]})}else{var n=e==="asc";return r.sort(function(i,a){var s=(i.getValue()-a.getValue())*(n?1:-1);return s===0?(i.dataIndex-a.dataIndex)*(n?-1:1):s})}}function eje(r){var e={};function t(n,i,a){if(n.depth===0)return ut.color.neutral50;for(var s=n;s&&s.depth>1;)s=s.parentNode;var o=i.getColorFromPalette(s.name||s.dataIndex+"",e);return n.depth>1&&fr(o)&&(o=tL(o,(n.depth-1)/(a-1)*.5)),o}r.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(s,n,a.root.height));var c=i.ensureUniqueItemVisual(s.dataIndex,"style");It(c,l)})})}function tje(r){r.registerChartView(Kze),r.registerSeriesModel($ze),r.registerLayout(cn(Jze,"sunburst")),r.registerProcessor(cn(QS,"sunburst")),r.registerVisual(eje),Zze(r)}var fQ={color:"fill",borderColor:"stroke"},rje={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Xm=Mn(),nje=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,n){return Mv(null,this)},e.prototype.getDataParams=function(t,n,i){var a=r.prototype.getDataParams.call(this,t,n);return i&&(a.info=Xm(i).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e})(la);function ije(r,e){return e=e||[0,0],Gt(["x","y"],function(t,n){var i=this.getAxis(t),a=e[n],s=r[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s))},this)}function aje(r){var e=r.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return r.dataToPoint(t)},size:hr(ije,r)}}}function sje(r,e){return e=e||[0,0],Gt([0,1],function(t){var n=e[t],i=r[t]/2,a=[],s=[];return a[t]=n-i,s[t]=n+i,a[1-t]=s[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(s)[t])},this)}function oje(r){var e=r.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:r.getZoom()},api:{coord:function(t){return r.dataToPoint(t)},size:hr(sje,r)}}}function lje(r,e){var t=this.getAxis(),n=e instanceof Array?e[0]:e,i=(r instanceof Array?r[0]:r)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(n-i)-t.dataToCoord(n+i))}function cje(r){var e=r.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return r.dataToPoint(t)},size:hr(lje,r)}}}function uje(r,e){return e=e||[0,0],Gt(["Radius","Angle"],function(t,n){var i="get"+t+"Axis",a=this[i](),s=e[n],o=r[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function fje(r){var e=r.getRadiusAxis(),t=r.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]),s=t.dataToAngle(i[1]),o=r.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:hr(uje,r)}}}function hje(r){var e=r.getRect(),t=r.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(n,i){return r.dataToPoint(n,i)},layout:function(n,i){return r.dataToLayout(n,i)}}}}function dje(r){var e=r.getRect();return{coordSys:{type:"matrix",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t,n){return r.dataToPoint(t,n)},layout:function(t,n){return r.dataToLayout(t,n)}}}}function w0e(r,e,t,n){return r&&(r.legacy||r.legacy!==!1&&!t&&!n&&e!=="tspan"&&(e==="text"||gr(r,"text")))}function S0e(r,e,t){var n=r,i,a,s;if(e==="text")s=n;else{s={},gr(n,"text")&&(s.text=n.text),gr(n,"rich")&&(s.rich=n.rich),gr(n,"textFill")&&(s.fill=n.textFill),gr(n,"textStroke")&&(s.stroke=n.textStroke),gr(n,"fontFamily")&&(s.fontFamily=n.fontFamily),gr(n,"fontSize")&&(s.fontSize=n.fontSize),gr(n,"fontStyle")&&(s.fontStyle=n.fontStyle),gr(n,"fontWeight")&&(s.fontWeight=n.fontWeight),a={type:"text",style:s,silent:!0},i={};var o=gr(n,"textPosition");t?i.position=o?n.textPosition:"inside":o&&(i.position=n.textPosition),gr(n,"textPosition")&&(i.position=n.textPosition),gr(n,"textOffset")&&(i.offset=n.textOffset),gr(n,"textRotation")&&(i.rotation=n.textRotation),gr(n,"textDistance")&&(i.distance=n.textDistance)}return hQ(s,r),he(s.rich,function(l){hQ(l,l)}),{textConfig:i,textContent:a}}function hQ(r,e){e&&(e.font=e.textFont||e.font,gr(e,"textStrokeWidth")&&(r.lineWidth=e.textStrokeWidth),gr(e,"textAlign")&&(r.align=e.textAlign),gr(e,"textVerticalAlign")&&(r.verticalAlign=e.textVerticalAlign),gr(e,"textLineHeight")&&(r.lineHeight=e.textLineHeight),gr(e,"textWidth")&&(r.width=e.textWidth),gr(e,"textHeight")&&(r.height=e.textHeight),gr(e,"textBackgroundColor")&&(r.backgroundColor=e.textBackgroundColor),gr(e,"textPadding")&&(r.padding=e.textPadding),gr(e,"textBorderColor")&&(r.borderColor=e.textBorderColor),gr(e,"textBorderWidth")&&(r.borderWidth=e.textBorderWidth),gr(e,"textBorderRadius")&&(r.borderRadius=e.textBorderRadius),gr(e,"textBoxShadowColor")&&(r.shadowColor=e.textBoxShadowColor),gr(e,"textBoxShadowBlur")&&(r.shadowBlur=e.textBoxShadowBlur),gr(e,"textBoxShadowOffsetX")&&(r.shadowOffsetX=e.textBoxShadowOffsetX),gr(e,"textBoxShadowOffsetY")&&(r.shadowOffsetY=e.textBoxShadowOffsetY))}function dQ(r,e,t){var n=r;n.textPosition=n.textPosition||t.position||"inside",t.offset!=null&&(n.textOffset=t.offset),t.rotation!=null&&(n.textRotation=t.rotation),t.distance!=null&&(n.textDistance=t.distance);var i=n.textPosition.indexOf("inside")>=0,a=r.fill||ut.color.neutral99;pQ(n,e);var s=n.textFill==null;return i?s&&(n.textFill=t.insideFill||ut.color.neutral00,!n.textStroke&&t.insideStroke&&(n.textStroke=t.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(s&&(n.textFill=r.fill||t.outsideFill||ut.color.neutral00),!n.textStroke&&t.outsideStroke&&(n.textStroke=t.outsideStroke)),n.text=e.text,n.rich=e.rich,he(e.rich,function(o){pQ(o,o)}),n}function pQ(r,e){e&&(gr(e,"fill")&&(r.textFill=e.fill),gr(e,"stroke")&&(r.textStroke=e.fill),gr(e,"lineWidth")&&(r.textStrokeWidth=e.lineWidth),gr(e,"font")&&(r.font=e.font),gr(e,"fontStyle")&&(r.fontStyle=e.fontStyle),gr(e,"fontWeight")&&(r.fontWeight=e.fontWeight),gr(e,"fontSize")&&(r.fontSize=e.fontSize),gr(e,"fontFamily")&&(r.fontFamily=e.fontFamily),gr(e,"align")&&(r.textAlign=e.align),gr(e,"verticalAlign")&&(r.textVerticalAlign=e.verticalAlign),gr(e,"lineHeight")&&(r.textLineHeight=e.lineHeight),gr(e,"width")&&(r.textWidth=e.width),gr(e,"height")&&(r.textHeight=e.height),gr(e,"backgroundColor")&&(r.textBackgroundColor=e.backgroundColor),gr(e,"padding")&&(r.textPadding=e.padding),gr(e,"borderColor")&&(r.textBorderColor=e.borderColor),gr(e,"borderWidth")&&(r.textBorderWidth=e.borderWidth),gr(e,"borderRadius")&&(r.textBorderRadius=e.borderRadius),gr(e,"shadowColor")&&(r.textBoxShadowColor=e.shadowColor),gr(e,"shadowBlur")&&(r.textBoxShadowBlur=e.shadowBlur),gr(e,"shadowOffsetX")&&(r.textBoxShadowOffsetX=e.shadowOffsetX),gr(e,"shadowOffsetY")&&(r.textBoxShadowOffsetY=e.shadowOffsetY),gr(e,"textShadowColor")&&(r.textShadowColor=e.textShadowColor),gr(e,"textShadowBlur")&&(r.textShadowBlur=e.textShadowBlur),gr(e,"textShadowOffsetX")&&(r.textShadowOffsetX=e.textShadowOffsetX),gr(e,"textShadowOffsetY")&&(r.textShadowOffsetY=e.textShadowOffsetY))}var T0e={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},vQ=Wn(T0e);Pd(mv,function(r,e){return r[e]=1,r},{});mv.join(", ");var HL=["","style","shape","extra"],hS=Mn();function HV(r,e,t,n,i){var a=r+"Animation",s=US(r,n,i)||{},o=hS(e).userDuring;return s.duration>0&&(s.during=o?hr(xje,{el:e,userDuring:o}):null,s.setToFinal=!0,s.scope=r),It(s,t[a]),s}function wD(r,e,t,n){n=n||{};var i=n.dataIndex,a=n.isInit,s=n.clearStyle,o=t.isAnimationEnabled(),l=hS(r),c=e.style;l.userDuring=e.during;var u={},f={};if(bje(r,e,f),r.type==="compound")for(var d=r.shape.paths,h=e.shape.paths,p=0;p<h.length;p++){var v=h[p];w8("shape",v,d[p])}else w8("shape",e,f),w8("extra",e,f);if(!a&&o&&(yje(r,e,u),mQ("shape",r,e,u),mQ("extra",r,e,u),_je(r,e,c,u)),f.style=c,pje(r,f,s),mje(r,e),o)if(a){var x={};he(HL,function(_){var w=_?e[_]:e;w&&w.enterFrom&&(_&&(x[_]=x[_]||{}),It(_?x[_]:x,w.enterFrom))});var g=HV("enter",r,e,t,i);g.duration>0&&r.animateFrom(x,g)}else vje(r,e,i||0,t,u);A0e(r,e),c?r.dirty():r.markRedraw()}function A0e(r,e){for(var t=hS(r).leaveToProps,n=0;n<HL.length;n++){var i=HL[n],a=i?e[i]:e;a&&a.leaveTo&&(t||(t=hS(r).leaveToProps={}),i&&(t[i]=t[i]||{}),It(i?t[i]:t,a.leaveTo))}}function pI(r,e,t,n){if(r){var i=r.parent,a=hS(r).leaveToProps;if(a){var s=HV("update",r,e,t,0);s.done=function(){i&&i.remove(r)},r.animateTo(a,s)}else i&&i.remove(r)}}function P2(r){return r==="all"}function pje(r,e,t){var n=e.style;if(!r.isGroup&&n){if(t){r.useStyle({});for(var i=r.animators,a=0;a<i.length;a++){var s=i[a];s.targetName==="style"&&s.changeTarget(r.style)}}r.setStyle(n)}e&&(e.style=null,e&&r.attr(e),e.style=n)}function vje(r,e,t,n,i){if(i){var a=HV("update",r,e,n,t);a.duration>0&&r.animateFrom(i,a)}}function mje(r,e){gr(e,"silent")&&(r.silent=e.silent),gr(e,"ignore")&&(r.ignore=e.ignore),r instanceof Bd&&gr(e,"invisible")&&(r.invisible=e.invisible),r instanceof Rn&&gr(e,"autoBatch")&&(r.autoBatch=e.autoBatch)}var H0={},gje={setTransform:function(r,e){return H0.el[r]=e,this},getTransform:function(r){return H0.el[r]},setShape:function(r,e){var t=H0.el,n=t.shape||(t.shape={});return n[r]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(r){var e=H0.el.shape;if(e)return e[r]},setStyle:function(r,e){var t=H0.el,n=t.style;return n&&(n[r]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(r){var e=H0.el.style;if(e)return e[r]},setExtra:function(r,e){var t=H0.el.extra||(H0.el.extra={});return t[r]=e,this},getExtra:function(r){var e=H0.el.extra;if(e)return e[r]}};function xje(){var r=this,e=r.el;if(e){var t=hS(e).userDuring,n=r.userDuring;if(t!==n){r.el=r.userDuring=null;return}H0.el=e,n(gje)}}function mQ(r,e,t,n){var i=t[r];if(i){var a=e[r],s;if(a){var o=t.transition,l=i.transition;if(l)if(!s&&(s=n[r]={}),P2(l))It(s,a);else for(var c=Ta(l),u=0;u<c.length;u++){var f=c[u],d=a[f];s[f]=d}else if(P2(o)||hn(o,r)>=0){!s&&(s=n[r]={});for(var h=Wn(a),u=0;u<h.length;u++){var f=h[u],d=a[f];wje(i[f],d)&&(s[f]=d)}}}}}function w8(r,e,t){var n=e[r];if(n)for(var i=t[r]={},a=Wn(n),s=0;s<a.length;s++){var o=a[s];i[o]=CA(n[o])}}function yje(r,e,t){for(var n=e.transition,i=P2(n)?mv:Ta(n||[]),a=0;a<i.length;a++){var s=i[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=r[s];t[s]=o}}}function bje(r,e,t){for(var n=0;n<vQ.length;n++){var i=vQ[n],a=T0e[i],s=e[i];s&&(t[a[0]]=s[0],t[a[1]]=s[1])}for(var n=0;n<mv.length;n++){var o=mv[n];e[o]!=null&&(t[o]=e[o])}}function _je(r,e,t,n){if(t){var i=r.style,a;if(i){var s=t.transition,o=e.transition;if(s&&!P2(s)){var l=Ta(s);!a&&(a=n.style={});for(var c=0;c<l.length;c++){var u=l[c],f=i[u];a[u]=f}}else if(r.getAnimationStyleProps&&(P2(o)||P2(s)||hn(o,"style")>=0)){var d=r.getAnimationStyleProps(),h=d?d.style:null;if(h){!a&&(a=n.style={});for(var p=Wn(t),c=0;c<p.length;c++){var u=p[c];if(h[u]){var f=i[u];a[u]=f}}}}}}}function wje(r,e){return _c(r)?r!==e:r!=null&&isFinite(r)}var E0e=Mn(),Sje=["percent","easing","shape","style","extra"];function M0e(r){r.stopAnimation("keyframe"),r.attr(E0e(r))}function GL(r,e,t){if(!(!t.isAnimationEnabled()||!e)){if(Ut(e)){he(e,function(o){GL(r,o,t)});return}var n=e.keyframes,i=e.duration;if(t&&i==null){var a=US("enter",t,0);i=a&&a.duration}if(!(!n||!i)){var s=E0e(r);he(HL,function(o){if(!(o&&!r[o])){var l;n.sort(function(c,u){return c.percent-u.percent}),he(n,function(c){var u=r.animators,f=o?c[o]:c;if(f){var d=Wn(f);if(o||(d=bi(d,function(v){return hn(Sje,v)<0})),!!d.length){l||(l=r.animate(o,e.loop,!0),l.scope="keyframe");for(var h=0;h<u.length;h++)u[h]!==l&&u[h].targetName===l.targetName&&u[h].stopTracks(d);o&&(s[o]=s[o]||{});var p=o?s[o]:s;he(d,function(v){p[v]=((o?r[o]:r)||{})[v]}),l.whenWithKeys(i*c.percent,f,d,c.easing)}}}),l&&l.delay(e.delay||0).duration(i).start(e.easing)}})}}}var Zm="emphasis",Bx="normal",GV="blur",WV="select",cy=[Bx,Zm,GV,WV],S8={normal:["itemStyle"],emphasis:[Zm,"itemStyle"],blur:[GV,"itemStyle"],select:[WV,"itemStyle"]},T8={normal:["label"],emphasis:[Zm,"label"],blur:[GV,"label"],select:[WV,"label"]},Tje=["x","y"],Aje="e\0\0",pd={normal:{},emphasis:{},blur:{},select:{}},Eje={cartesian2d:aje,geo:oje,single:cje,polar:fje,calendar:hje,matrix:dje};function Yz(r){return r instanceof Rn}function qz(r){return r instanceof Bd}function Mje(r,e){e.copyTransform(r),qz(e)&&qz(r)&&(e.setStyle(r.style),e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel,e.invisible=r.invisible,e.ignore=r.ignore,Yz(e)&&Yz(r)&&e.setShape(r.shape))}var Cje=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this._progressiveEls=null;var s=this._data,o=t.getData(),l=this.group,c=gQ(t,o,n,i);s||l.removeAll(),o.diff(s).add(function(f){A8(i,null,f,c(f,a),t,l,o)}).remove(function(f){var d=s.getItemGraphicEl(f);d&&pI(d,Xm(d).option,t)}).update(function(f,d){var h=s.getItemGraphicEl(d);A8(i,h,f,c(f,a),t,l,o)}).execute();var u=t.get("clip",!0)?JE(t.coordinateSystem,!1,t):null;u?l.setClipPath(u):l.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,n,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,n,i,a,s){var o=n.getData(),l=gQ(n,o,i,a),c=this._progressiveEls=[];function u(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var f=t.start;f<t.end;f++){var d=A8(null,null,f,l(f,s),n,this.group,o);d&&(d.traverse(u),c.push(d))}},e.prototype.eachRendered=function(t){Ty(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,n,i,a){var s=n.element;if(s==null||i.name===s)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===s)return!0;return!1},e.type="custom",e})(Zi);function YV(r){var e=r.type,t;if(e==="path"){var n=r.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=D0e(n);t=rS(a,null,i,n.layout||"center"),Xm(t).customPathData=a}else if(e==="image")t=new Nl({}),Xm(t).customImagePath=r.style.image;else if(e==="text")t=new $n({});else if(e==="group")t=new Nr;else if(e==="compoundPath"){var n=r.shape;if(!n||!n.paths){var s="";Ai(s)}var o=Gt(n.paths,function(u){if(u.type==="path")return rS(u.shape.pathData,u,null);var f=E3(u.type);if(!f){var d="";Ai(d)}return new f});t=new GE({shape:{paths:o}})}else{var l=E3(e);if(!l){var s="";Ai(s)}t=new l}return Xm(t).customGraphicType=e,t.name=r.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function qV(r,e,t,n,i,a,s){M0e(e);var o=i&&i.normal.cfg;o&&e.setTextConfig(o),n&&n.transition==null&&(n.transition=Tje);var l=n&&n.style;if(l){if(e.type==="text"){var c=l;gr(c,"textFill")&&(c.fill=c.textFill),gr(c,"textStroke")&&(c.stroke=c.textStroke)}var u=void 0,f=Yz(e)?l.decal:null;r&&f&&(f.dirty=!0,u=aS(f,r)),l.__decalPattern=u}if(qz(e)&&l){var u=l.__decalPattern;u&&(l.decal=u)}wD(e,n,a,{dataIndex:t,isInit:s,clearStyle:!0}),GL(e,n.keyframeAnimation,a)}function C0e(r,e,t,n,i){var a=e.isGroup?null:e,s=i&&i[r].cfg;if(a){var o=a.ensureState(r);if(n===!1){var l=a.getState(r);l&&(l.style=null)}else o.style=n||null;s&&(o.textConfig=s),K2(a)}}function Nje(r,e,t){if(!r.isGroup){var n=r,i=t.currentZ,a=t.currentZLevel;n.z=i,n.zlevel=a;var s=e.z2;s!=null&&(n.z2=s||0);for(var o=0;o<cy.length;o++)Dje(n,e,cy[o])}}function Dje(r,e,t){var n=t===Bx,i=n?e:WL(e,t),a=i?i.z2:null,s;a!=null&&(s=n?r:r.ensureState(t),s.z2=a||0)}function gQ(r,e,t,n){var i=r.get("renderItem");if(typeof i=="string"){var a=SRe(i);a&&(i=a)}var s=r.coordinateSystem,o={};s&&(o=s.prepareCustoms?s.prepareCustoms(s):Eje[s.type](s));for(var l=Rr({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:M,style:N,ordinalRawValue:C,styleEmphasis:L,visual:O,barLayout:I,currentSeriesIndices:j,font:B},o.api||{}),c={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:Lje(r.getData()),itemPayload:r.get("itemPayload")||{}},u,f,d={},h={},p={},v={},x=0;x<cy.length;x++){var g=cy[x];p[g]=r.getModel(S8[g]),v[g]=r.getModel(T8[g])}function _(K){return K===u?f||(f=e.getItemModel(K)):e.getItemModel(K)}function w(K,H){return e.hasItemOption?K===u?d[H]||(d[H]=_(K).getModel(S8[H])):_(K).getModel(S8[H]):p[H]}function A(K,H){return e.hasItemOption?K===u?h[H]||(h[H]=_(K).getModel(T8[H])):_(K).getModel(T8[H]):v[H]}return function(K,H){return u=K,f=null,d={},h={},i&&i(Rr({dataIndexInside:K,dataIndex:e.getRawIndex(K),actionType:H?H.type:null},c),l)};function M(K,H){return H==null&&(H=u),e.getStore().get(e.getDimensionIndex(K||0),H)}function C(K,H){H==null&&(H=u),K=K||0;var Z=e.getDimensionInfo(K);if(!Z){var Y=e.getDimensionIndex(K);return Y>=0?e.getStore().get(Y,H):void 0}var J=e.get(Z.name,H),oe=Z&&Z.ordinalMeta;return oe?oe.categories[J]:J}function N(K,H){H==null&&(H=u);var Z=e.getItemVisual(H,"style"),Y=Z&&Z.fill,J=Z&&Z.opacity,oe=w(H,Bx).getItemStyle();Y!=null&&(oe.fill=Y),J!=null&&(oe.opacity=J);var X={inheritColor:fr(Y)?Y:ut.color.neutral99},F=A(H,Bx),W=Sa(F,null,X,!1,!0);W.text=F.getShallow("show")?wr(r.getFormattedLabel(H,Bx),lS(e,H)):null;var Q=hL(F,X,!1);return k(K,oe),oe=dQ(oe,W,Q),K&&D(oe,K),oe.legacy=!0,oe}function L(K,H){H==null&&(H=u);var Z=w(H,Zm).getItemStyle(),Y=A(H,Zm),J=Sa(Y,null,null,!0,!0);J.text=Y.getShallow("show")?Hf(r.getFormattedLabel(H,Zm),r.getFormattedLabel(H,Bx),lS(e,H)):null;var oe=hL(Y,null,!0);return k(K,Z),Z=dQ(Z,J,oe),K&&D(Z,K),Z.legacy=!0,Z}function D(K,H){for(var Z in H)gr(H,Z)&&(K[Z]=H[Z])}function k(K,H){K&&(K.textFill&&(H.textFill=K.textFill),K.textPosition&&(H.textPosition=K.textPosition))}function O(K,H){if(H==null&&(H=u),gr(fQ,K)){var Z=e.getItemVisual(H,"style");return Z?Z[fQ[K]]:null}if(gr(rje,K))return e.getItemVisual(H,K)}function I(K){if(s.type==="cartesian2d"){var H=s.getBaseAxis();return Eke(Rr({axis:H},K))}}function j(){return t.getCurrentSeriesIndices()}function B(K){return g9(K,t)}}function Lje(r){var e={};return he(r.dimensions,function(t){var n=r.getDimensionInfo(t);if(!n.isExtraCoord){var i=n.coordDim,a=e[i]=e[i]||[];a[n.coordDimIndex]=r.getDimensionIndex(t)}}),e}function A8(r,e,t,n,i,a,s){if(!n){a.remove(e);return}var o=XV(r,e,t,n,i,a);return o&&s.setItemGraphicEl(t,o),o&&ss(o,n.focus,n.blurScope,n.emphasisDisabled),o}function XV(r,e,t,n,i,a){var s=-1,o=e;e&&N0e(e,n,i)&&(s=hn(a.childrenRef(),e),e=null);var l=!e,c=e;c?c.clearStates():(c=YV(n),o&&Mje(o,c)),n.morph===!1?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),n.tooltipDisabled&&(c.tooltipDisabled=!0),pd.normal.cfg=pd.normal.conOpt=pd.emphasis.cfg=pd.emphasis.conOpt=pd.blur.cfg=pd.blur.conOpt=pd.select.cfg=pd.select.conOpt=null,pd.isLegacy=!1,kje(c,t,n,i,l,pd),Rje(c,t,n,i,l),qV(r,c,t,n,pd,i,l),gr(n,"info")&&(Xm(c).info=n.info);for(var u=0;u<cy.length;u++){var f=cy[u];if(f!==Bx){var d=WL(n,f),h=ZV(n,d,f);C0e(f,c,d,h,pd)}}return Nje(c,n,i),n.type==="group"&&Ije(r,c,t,n,i),s>=0?a.replaceAt(c,s):a.add(c),c}function N0e(r,e,t){var n=Xm(r),i=e.type,a=e.shape,s=e.style;return t.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&Bje(a)&&D0e(a)!==n.customPathData||i==="image"&&gr(s,"image")&&s.image!==n.customImagePath}function Rje(r,e,t,n,i){var a=t.clipPath;if(a===!1)r&&r.getClipPath()&&r.removeClipPath();else if(a){var s=r.getClipPath();s&&N0e(s,a,n)&&(s=null),s||(s=YV(a),r.setClipPath(s)),qV(null,s,e,a,null,n,i)}}function kje(r,e,t,n,i,a){if(!(r.isGroup||r.type==="compoundPath")){xQ(t,null,a),xQ(t,Zm,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,l=a.blur.conOpt,c=a.select.conOpt;if(s!=null||o!=null||c!=null||l!=null){var u=r.getTextContent();if(s===!1)u&&r.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},u?u.clearStates():(u=YV(s),r.setTextContent(u)),qV(null,u,e,s,null,n,i);for(var f=s&&s.style,d=0;d<cy.length;d++){var h=cy[d];if(h!==Bx){var p=a[h].conOpt;C0e(h,u,p,ZV(s,p,h),null)}}f?u.dirty():u.markRedraw()}}}}function xQ(r,e,t){var n=e?WL(r,e):r,i=e?ZV(r,n,Zm):r.style,a=r.type,s=n?n.textConfig:null,o=r.textContent,l=o?e?WL(o,e):o:null;if(i&&(t.isLegacy||w0e(i,a,!!s,!!l))){t.isLegacy=!0;var c=S0e(i,a,!e);!s&&c.textConfig&&(s=c.textConfig),!l&&c.textContent&&(l=c.textContent)}if(!e&&l){var u=l;!u.type&&(u.type="text")}var f=e?t[e]:t.normal;f.cfg=s,f.conOpt=l}function WL(r,e){return e?r?r[e]:null:r}function ZV(r,e,t){var n=e&&e.style;return n==null&&t===Zm&&r&&(n=r.styleEmphasis),n}function Ije(r,e,t,n,i){var a=n.children,s=a?a.length:0,o=n.$mergeChildren,l=o==="byName"||n.diffChildrenByName,c=o===!1;if(!(!s&&!l&&!c)){if(l){Pje({api:r,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:i,group:e});return}c&&e.removeAll();for(var u=0;u<s;u++){var f=a[u],d=e.childAt(u);f?(f.ignore==null&&(f.ignore=!1),XV(r,d,t,f,i,e)):d.ignore=!0}for(var h=e.childCount()-1;h>=u;h--){var p=e.childAt(h);Oje(e,p,i)}}}function Oje(r,e,t){e&&pI(e,Xm(r).option,t)}function Pje(r){new ag(r.oldChildren,r.newChildren,yQ,yQ,r).add(bQ).update(bQ).remove(Fje).execute()}function yQ(r,e){var t=r&&r.name;return t??Aje+e}function bQ(r,e){var t=this.context,n=r!=null?t.newChildren[r]:null,i=e!=null?t.oldChildren[e]:null;XV(t.api,i,t.dataIndex,n,t.seriesModel,t.group)}function Fje(r){var e=this.context,t=e.oldChildren[r];t&&pI(t,Xm(t).option,e.seriesModel)}function D0e(r){return r&&(r.pathData||r.d)}function Bje(r){return r&&(gr(r,"pathData")||gr(r,"d"))}function zje(r){r.registerChartView(Cje),r.registerSeriesModel(nje)}var c2=Mn(),_Q=Cr,E8=hr,KV=(function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(e,t,n,i){var a=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var c={};this.makeElOption(c,a,e,t,n);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var f=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new Nr,this.createPointerEl(o,c,e,t),this.createLabelEl(o,c,e,t),n.getZr().add(o);else{var d=cn(wQ,t,f);this.updatePointerEl(o,c,d),this.updateLabelEl(o,c,d,t)}TQ(o,t,!0),this._renderHandle(a)}},r.prototype.remove=function(e){this.clear(e)},r.prototype.dispose=function(e){this.clear(e)},r.prototype.determineAnimation=function(e,t){var n=t.get("animation"),i=e.axis,a=i.type==="category",s=t.get("snap");if(!s&&!a)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=gV(e).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>o}return!1}return n===!0},r.prototype.makeElOption=function(e,t,n,i,a){},r.prototype.createPointerEl=function(e,t,n,i){var a=t.pointer;if(a){var s=c2(e).pointerEl=new pb[a.type](_Q(t.pointer));e.add(s)}},r.prototype.createLabelEl=function(e,t,n,i){if(t.label){var a=c2(e).labelEl=new $n(_Q(t.label));e.add(a),SQ(a,i)}},r.prototype.updatePointerEl=function(e,t,n){var i=c2(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},r.prototype.updateLabelEl=function(e,t,n,i){var a=c2(e).labelEl;a&&(a.setStyle(t.label.style),n(a,{x:t.label.x,y:t.label.y}),SQ(a,i))},r.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=t.getModel("handle"),s=t.get("status");if(!a.get("show")||!s||s==="hide"){i&&n.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=VS(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){rg(c.event)},onmousedown:E8(this._onHandleDragMove,this,0,0),drift:E8(this._onHandleDragMove,this),ondragend:E8(this._onHandleDragEnd,this)}),n.add(i)),TQ(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");Ut(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,XS(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},r.prototype._moveHandleToValue=function(e,t){wQ(this._axisPointerModel,!t&&this._moveAnimation,this._handle,M8(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(M8(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(M8(i)),c2(n).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),D3(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},r})();function wQ(r,e,t,n){L0e(c2(t).lastProp,n)||(c2(t).lastProp=n,e?si(t,n,r):(t.stopAnimation(),t.attr(n)))}function L0e(r,e){if(kr(r)&&kr(e)){var t=!0;return he(e,function(n,i){t=t&&L0e(r[i],n)}),!!t}else return r===e}function SQ(r,e){r[e.get(["label","show"])?"show":"hide"]()}function M8(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function TQ(r,e,t){var n=e.get("z"),i=e.get("zlevel");r&&r.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=t)})}function $V(r){var e=r.get("type"),t=r.getModel(e+"Style"),n;return e==="line"?(n=t.getLineStyle(),n.fill=null):e==="shadow"&&(n=t.getAreaStyle(),n.stroke=null),n}function R0e(r,e,t,n,i){var a=t.get("value"),s=k0e(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=WS(o.get("padding")||0),c=o.getFont(),u=Bk(s,c),f=i.position,d=u.width+l[1]+l[3],h=u.height+l[0]+l[2],p=i.align;p==="right"&&(f[0]-=d),p==="center"&&(f[0]-=d/2);var v=i.verticalAlign;v==="bottom"&&(f[1]-=h),v==="middle"&&(f[1]-=h/2),jje(f,d,h,n);var x=o.get("backgroundColor");(!x||x==="auto")&&(x=e.get(["axisLine","lineStyle","color"])),r.label={x:f[0],y:f[1],style:Sa(o,{text:s,font:c,fill:o.getTextColor(),padding:l,backgroundColor:x}),z2:10}}function jje(r,e,t,n){var i=n.getWidth(),a=n.getHeight();r[0]=Math.min(r[0]+e,i)-e,r[1]=Math.min(r[1]+t,a)-t,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function k0e(r,e,t,n,i){r=e.scale.parse(r);var a=e.scale.getLabel({value:r},{precision:i.precision}),s=i.formatter;if(s){var o={value:EL(e,{value:r}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};he(n,function(l){var c=t.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,f=c&&c.getDataParams(u);f&&o.seriesData.push(f)}),fr(s)?a=s.replace("{value}",a):Tr(s)&&(a=s(o))}return a}function JV(r,e,t){var n=wl();return xg(n,n,t.rotation),Zp(n,n,t.position),Gp([r.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],n)}function I0e(r,e,t,n,i,a){var s=Xu.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),R0e(e,n,i,a,{position:JV(n.axis,r,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function QV(r,e,t){return t=t||0,{x1:r[t],y1:r[1-t],x2:e[t],y2:e[1-t]}}function O0e(r,e,t){return t=t||0,{x:r[t],y:r[1-t],width:e[t],height:e[1-t]}}function AQ(r,e,t,n,i,a){return{cx:r,cy:e,r0:t,r:n,startAngle:i,endAngle:a,clockwise:!0}}var Uje=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis,l=o.grid,c=a.get("type"),u=EQ(l,o).getOtherAxis(o).getGlobalExtent(),f=o.toGlobalCoord(o.dataToCoord(n,!0));if(c&&c!=="none"){var d=$V(a),h=Vje[c](o,f,u);h.style=d,t.graphicKey=h.type,t.pointer=h}var p=PL(l.getRect(),i);I0e(n,t,p,i,a,s)},e.prototype.getHandleTransform=function(t,n,i){var a=PL(n.axis.grid.getRect(),n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=JV(n.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),c=EQ(o,s).getOtherAxis(s).getGlobalExtent(),u=s.dim==="x"?0:1,f=[t.x,t.y];f[u]+=n[u],f[u]=Math.min(l[1],f[u]),f[u]=Math.max(l[0],f[u]);var d=(c[1]+c[0])/2,h=[d,d];h[u]=f[u];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:h,tooltipOption:p[u]}},e})(KV);function EQ(r,e){var t={};return t[e.dim+"AxisIndex"]=e.index,r.getCartesian(t)}var Vje={line:function(r,e,t){var n=QV([e,t[0]],[e,t[1]],MQ(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=Math.max(1,r.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:O0e([e-n/2,t[0]],[n,i],MQ(r))}}};function MQ(r){return r.dim==="x"?0:1}var Hje=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:ut.color.border,width:1,type:"dashed"},shadowStyle:{color:ut.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:ut.color.neutral00,padding:[5,7,5,7],backgroundColor:ut.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:ut.color.accent40,throttle:40}},e})(En),jm=Mn(),Gje=he;function P0e(r,e,t){if(!Un.node){var n=e.getZr();jm(n).records||(jm(n).records={}),Wje(n,e);var i=jm(n).records[r]||(jm(n).records[r]={});i.handler=t}}function Wje(r,e){if(jm(r).initialized)return;jm(r).initialized=!0,t("click",cn(CQ,"click")),t("mousemove",cn(CQ,"mousemove")),t("globalout",qje);function t(n,i){r.on(n,function(a){var s=Xje(e);Gje(jm(r).records,function(o){o&&i(o,a,s.dispatchAction)}),Yje(s.pendings,e)})}}function Yje(r,e){var t=r.showTip.length,n=r.hideTip.length,i;t?i=r.showTip[t-1]:n&&(i=r.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function qje(r,e,t){r.handler("leave",null,t)}function CQ(r,e,t,n){e.handler(r,t,n)}function Xje(r){var e={showTip:[],hideTip:[]},t=function(n){var i=e[n.type];i?i.push(n):(n.dispatchAction=t,r.dispatchAction(n))};return{dispatchAction:t,pendings:e}}function Xz(r,e){if(!Un.node){var t=e.getZr(),n=(jm(t).records||{})[r];n&&(jm(t).records[r]=null)}}var Zje=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=n.getComponent("tooltip"),s=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";P0e("axisPointer",i,function(o,l,c){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&c({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,n){Xz("axisPointer",n)},e.prototype.dispose=function(t,n){Xz("axisPointer",n)},e.type="axisPointer",e})(Aa);function F0e(r,e){var t=[],n=r.seriesIndex,i;if(n==null||!(i=e.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),s=X2(a,r);if(s==null||s<0||Ut(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(r.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),f=u.dim,d=c.dim,h=f==="x"||f==="radius"?1:0,p=a.mapDimension(d),v=[];v[h]=a.get(p,s),v[1-h]=a.get(a.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(v)||[]}else t=l.dataToPoint(a.getValues(Gt(l.dimensions,function(g){return a.mapDimension(g)}),s))||[];else if(o){var x=o.getBoundingRect().clone();x.applyTransform(o.transform),t=[x.x+x.width/2,x.y+x.height/2]}return{point:t,el:o}}var NQ=Mn();function Kje(r,e,t){var n=r.currTrigger,i=[r.x,r.y],a=r,s=r.dispatchAction||hr(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){SD(i)&&(i=F0e({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=SD(i),c=a.axesInfo,u=o.axesInfo,f=n==="leave"||SD(i),d={},h={},p={list:[],map:{}},v={showPointer:cn(Jje,h),showTooltip:cn(Qje,p)};he(o.coordSysMap,function(g,_){var w=l||g.containPoint(i);he(o.coordSysAxesInfo[_],function(A,M){var C=A.axis,N=nUe(c,A);if(!f&&w&&(!c||N)){var L=N&&N.value;L==null&&!l&&(L=C.pointToData(i)),L!=null&&DQ(A,L,v,!1,d)}})});var x={};return he(u,function(g,_){var w=g.linkGroup;w&&!h[_]&&he(w.axesInfo,function(A,M){var C=h[M];if(A!==g&&C){var N=C.value;w.mapper&&(N=g.axis.scale.parse(w.mapper(N,LQ(A),LQ(g)))),x[g.key]=N}})}),he(x,function(g,_){DQ(u[_],g,v,!0,d)}),eUe(h,u,d),tUe(p,i,r,s),rUe(u,s,t),d}}function DQ(r,e,t,n,i){var a=r.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!r.involveSeries){t.showPointer(r,e);return}var s=$je(e,r),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&It(i,o[0]),!n&&r.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(r,e,o),t.showTooltip(r,s,l)}}function $je(r,e){var t=e.axis,n=t.dim,i=r,a=[],s=Number.MAX_VALUE,o=-1;return he(e.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(n),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(u,r,t);d=h.dataIndices,f=h.nestestValue}else{if(d=l.indicesOfNearest(n,u[0],r,t.type==="category"?.5:null),!d.length)return;f=l.getData().get(u[0],d[0])}if(!(f==null||!isFinite(f))){var p=r-f,v=Math.abs(p);v<=s&&((v<s||p>=0&&o<0)&&(s=v,o=p,i=f,a.length=0),he(d,function(x){a.push({seriesIndex:l.seriesIndex,dataIndexInside:x,dataIndex:l.getData().getRawIndex(x)})}))}}),{payloadBatch:a,snapToValue:i}}function Jje(r,e,t,n){r[e.key]={value:t,payloadBatch:n}}function Qje(r,e,t,n){var i=t.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,c=z3(l),u=r.map[c];u||(u=r.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function eUe(r,e,t){var n=t.axesInfo=[];he(e,function(i,a){var s=i.axisPointerModel.option,o=r[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function tUe(r,e,t,n){if(SD(e)||!r.list.length){n({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function rUe(r,e,t){var n=t.getZr(),i="axisPointerLastHighlights",a=NQ(n)[i]||{},s=NQ(n)[i]={};he(r,function(c,u){var f=c.axisPointerModel.option;f.status==="show"&&c.triggerEmphasis&&he(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;s[h]=d})});var o=[],l=[];he(a,function(c,u){!s[u]&&l.push(c)}),he(s,function(c,u){!a[u]&&o.push(c)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function nUe(r,e){for(var t=0;t<(r||[]).length;t++){var n=r[t];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function LQ(r){var e=r.axis.model,t={},n=t.axisDim=r.axis.dim;return t.axisIndex=t[n+"AxisIndex"]=e.componentIndex,t.axisName=t[n+"AxisName"]=e.name,t.axisId=t[n+"AxisId"]=e.id,t}function SD(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function tM(r){xb.registerAxisPointerClass("CartesianAxisPointer",Uje),r.registerComponentModel(Hje),r.registerComponentView(Zje),r.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Ut(t)&&(e.axisPointer.link=[t])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=iPe(e,t)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Kje)}function iUe(r){xn(ope),xn(tM)}var aUe=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,c=l.getOtherAxis(o),u=c.getExtent(),f=o.dataToCoord(n),d=a.get("type");if(d&&d!=="none"){var h=$V(a),p=oUe[d](o,l,f,u);p.style=h,t.graphicKey=p.type,t.pointer=p}var v=a.get(["label","margin"]),x=sUe(n,i,a,l,v);R0e(t,i,a,s,x)},e})(KV);function sUe(r,e,t,n,i){var a=e.axis,s=a.dataToCoord(r),o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=n.getRadiusAxis().getExtent(),c,u,f;if(a.dim==="radius"){var d=wl();xg(d,d,o),Zp(d,d,[n.cx,n.cy]),c=Gp([s,-i],d);var h=e.getModel("axisLabel").get("rotate")||0,p=Xu.innerTextLayout(o,h*Math.PI/180,-1);u=p.textAlign,f=p.textVerticalAlign}else{var v=l[1];c=n.coordToPoint([v+i,s]);var x=n.cx,g=n.cy;u=Math.abs(c[0]-x)/v<.3?"center":c[0]>x?"left":"right",f=Math.abs(c[1]-g)/v<.3?"middle":c[1]>g?"top":"bottom"}return{position:c,align:u,verticalAlign:f}}var oUe={line:function(r,e,t,n){return r.dim==="angle"?{type:"Line",shape:QV(e.coordToPoint([n[0],t]),e.coordToPoint([n[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(r,e,t,n){var i=Math.max(1,r.getBandWidth()),a=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:AQ(e.cx,e.cy,n[0],n[1],(-t-i/2)*a,(-t+i/2)*a)}:{type:"Sector",shape:AQ(e.cx,e.cy,t-i/2,t+i/2,0,Math.PI*2)}}},lUe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var n,i=this.ecModel;return i.eachComponent(t,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e})(En),eH=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Ls).models[0]},e.type="polarAxis",e})(En);qs(eH,JS);var cUe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e})(eH),uUe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e})(eH),tH=(function(r){dt(e,r);function e(t,n){return r.call(this,"radius",t,n)||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e})(Gd);tH.prototype.dataToRadius=Gd.prototype.dataToCoord;tH.prototype.radiusToData=Gd.prototype.coordToData;var fUe=Mn(),rH=(function(r){dt(e,r);function e(t,n){return r.call(this,"angle",t,n||[0,360])||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,n=t.getLabelModel(),i=t.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=a[0],l=t.dataToCoord(o+1)-t.dataToCoord(o),c=Math.abs(l),u=Bk(o==null?"":o+"",n.getFont(),"center","top"),f=Math.max(u.height,7),d=f/c;isNaN(d)&&(d=1/0);var h=Math.max(0,Math.floor(d)),p=fUe(t.model),v=p.lastAutoInterval,x=p.lastTickCount;return v!=null&&x!=null&&Math.abs(v-h)<=1&&Math.abs(x-s)<=1&&v>h?h=v:(p.lastTickCount=s,p.lastAutoInterval=h),h},e})(Gd);rH.prototype.dataToAngle=Gd.prototype.dataToCoord;rH.prototype.angleToData=Gd.prototype.coordToData;var B0e=["radius","angle"],hUe=(function(){function r(e){this.dimensions=B0e,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new tH,this._angleAxis=new rH,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},r.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},r.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},r.prototype.dataToPoint=function(e,t,n){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)],n)},r.prototype.pointToData=function(e,t,n){n=n||[];var i=this.pointToCoord(e);return n[0]=this._radiusAxis.radiusToData(i[0],t),n[1]=this._angleAxis.angleToData(i[1],t),n},r.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);i.inverse?s=o-360:o=s+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var c=Math.atan2(-n,t)/Math.PI*180,u=c<s?1:-1;c<s||c>o;)c+=u*360;return[l,c]},r.prototype.coordToPoint=function(e,t){t=t||[];var n=e[0],i=e[1]/180*Math.PI;return t[0]=Math.cos(i)*n+this.cx,t[1]=-Math.sin(i)*n+this.cy,t},r.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),n=t.getExtent().slice();n[0]>n[1]&&n.reverse();var i=e.getExtent(),a=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:e.inverse,contain:function(o,l){var c=o-this.cx,u=l-this.cy,f=c*c+u*u,d=this.r,h=this.r0;return d!==h&&f-s<=d*d&&f+s>=h*h},x:this.cx-n[1],y:this.cy-n[1],width:n[1]*2,height:n[1]*2}},r.prototype.convertToPixel=function(e,t,n){var i=RQ(t);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=RQ(t);return i===this?this.pointToData(n):null},r})();function RQ(r){var e=r.seriesModel,t=r.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function dUe(r,e,t){var n=e.get("center"),i=al(e,t).refContainer;r.cx=ur(n[0],i.width)+i.x,r.cy=ur(n[1],i.height)+i.y;var a=r.getRadiusAxis(),s=Math.min(i.width,i.height)/2,o=e.get("radius");o==null?o=[0,"100%"]:Ut(o)||(o=[0,o]);var l=[ur(o[0],s),ur(o[1],s)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}function pUe(r,e){var t=this,n=t.getAngleAxis(),i=t.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),r.eachSeries(function(o){if(o.coordinateSystem===t){var l=o.getData();he(ML(l,"radius"),function(c){i.scale.unionExtentFromData(l,c)}),he(ML(l,"angle"),function(c){n.scale.unionExtentFromData(l,c)})}}),eb(n.scale,n.model),eb(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),s=360/n.scale.count();n.inverse?a[1]+=s:a[1]-=s,n.setExtent(a[0],a[1])}}function vUe(r){return r.mainType==="angleAxis"}function kQ(r,e){var t;if(r.type=e.get("type"),r.scale=ZE(e),r.onBand=e.get("boundaryGap")&&r.type==="category",r.inverse=e.get("inverse"),vUe(e)){r.inverse=r.inverse!==e.get("clockwise");var n=e.get("startAngle"),i=(t=e.get("endAngle"))!==null&&t!==void 0?t:n+(r.inverse?-360:360);r.setExtent(n,i)}e.axis=r,r.model=e}var mUe={dimensions:B0e,create:function(r,e){var t=[];return r.eachComponent("polar",function(n,i){var a=new hUe(i+"");a.update=pUe;var s=a.getRadiusAxis(),o=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),c=n.findAxisModel("angleAxis");kQ(s,l),kQ(o,c),dUe(a,n,e),t.push(a),n.coordinateSystem=a,a.model=n}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",Ls).models[0];n.coordinateSystem=i.coordinateSystem}}),t}},gUe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function wN(r,e,t){e[1]>e[0]&&(e=e.slice().reverse());var n=r.coordToPoint([e[0],t]),i=r.coordToPoint([e[1],t]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function SN(r){var e=r.getRadiusAxis();return e.inverse?0:1}function IQ(r){var e=r[0],t=r[r.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&r.pop()}var xUe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,a=i.polar,s=a.getRadiusAxis().getExtent(),o=i.getTicksCoords({breakTicks:"none"}),l=i.getMinorTicksCoords(),c=Gt(i.getViewLabels(),function(u){u=Cr(u);var f=i.scale,d=f.type==="ordinal"?f.getRawOrdinalNumber(u.tickValue):u.tickValue;return u.coord=i.dataToCoord(d),u});IQ(c),IQ(o),he(gUe,function(u){t.get([u,"show"])&&(!i.scale.isBlank()||u==="axisLine")&&yUe[u](this.group,t,a,o,l,s,c)},this)}},e.type="angleAxis",e})(xb),yUe={axisLine:function(r,e,t,n,i,a){var s=e.getModel(["axisLine","lineStyle"]),o=t.getAngleAxis(),l=Math.PI/180,c=o.getExtent(),u=SN(t),f=u?0:1,d,h=Math.abs(c[1]-c[0])===360?"Circle":"Arc";a[f]===0?d=new pb[h]({shape:{cx:t.cx,cy:t.cy,r:a[u],startAngle:-c[0]*l,endAngle:-c[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):d=new zS({shape:{cx:t.cx,cy:t.cy,r:a[u],r0:a[f]},style:s.getLineStyle(),z2:1,silent:!0}),d.style.fill=null,r.add(d)},axisTick:function(r,e,t,n,i,a){var s=e.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=a[SN(t)],c=Gt(n,function(u){return new mo({shape:wN(t,[l,l+o],u.coord)})});r.add(Eh(c,{style:Rr(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,e,t,n,i,a){if(i.length){for(var s=e.getModel("axisTick"),o=e.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),c=a[SN(t)],u=[],f=0;f<i.length;f++)for(var d=0;d<i[f].length;d++)u.push(new mo({shape:wN(t,[c,c+l],i[f][d].coord)}));r.add(Eh(u,{style:Rr(o.getModel("lineStyle").getLineStyle(),Rr(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,e,t,n,i,a,s){var o=e.getCategories(!0),l=e.getModel("axisLabel"),c=l.get("margin"),u=e.get("triggerEvent");he(s,function(f,d){var h=l,p=f.tickValue,v=a[SN(t)],x=t.coordToPoint([v+c,f.coord]),g=t.cx,_=t.cy,w=Math.abs(x[0]-g)/v<.3?"center":x[0]>g?"left":"right",A=Math.abs(x[1]-_)/v<.3?"middle":x[1]>_?"top":"bottom";if(o&&o[p]){var M=o[p];kr(M)&&M.textStyle&&(h=new Ln(M.textStyle,l,l.ecModel))}var C=new $n({silent:Xu.isLabelSilent(e),style:Sa(h,{x:x[0],y:x[1],fill:h.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:w,verticalAlign:A})});if(r.add(C),bg({el:C,componentModel:e,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return C.isTruncated},value:f.rawLabel,tickIndex:d}}),u){var N=Xu.makeAxisEventDataBase(e);N.targetType="axisLabel",N.value=f.rawLabel,Vr(C).eventData=N}},this)},splitLine:function(r,e,t,n,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],f=0;f<n.length;f++){var d=c++%l.length;u[d]=u[d]||[],u[d].push(new mo({shape:wN(t,a,n[f].coord)}))}for(var f=0;f<u.length;f++)r.add(Eh(u[f],{style:Rr({stroke:l[f%l.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(r,e,t,n,i,a){if(i.length){for(var s=e.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],c=0;c<i.length;c++)for(var u=0;u<i[c].length;u++)l.push(new mo({shape:wN(t,a,i[c][u].coord)}));r.add(Eh(l,{style:o.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(r,e,t,n,i,a){if(n.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],f=Math.PI/180,d=-n[0].coord*f,h=Math.min(a[0],a[1]),p=Math.max(a[0],a[1]),v=e.get("clockwise"),x=1,g=n.length;x<=g;x++){var _=x===g?n[0].coord:n[x].coord,w=c++%l.length;u[w]=u[w]||[],u[w].push(new Sc({shape:{cx:t.cx,cy:t.cy,r0:h,r:p,startAngle:d,endAngle:-_*f,clockwise:v},silent:!0})),d=-_*f}for(var x=0;x<u.length;x++)r.add(Eh(u[x],{style:Rr({fill:l[x%l.length]},o.getAreaStyle()),silent:!0}))}}},bUe=["splitLine","splitArea","minorSplitLine"],_Ue=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n,i){if(this.group.removeAll(),!!t.get("show")){var a=this._axisGroup,s=this._axisGroup=new Nr;this.group.add(s);var o=t.axis,l=o.polar,c=l.getAngleAxis(),u=o.getTicksCoords(),f=o.getMinorTicksCoords(),d=c.getExtent()[0],h=o.getExtent(),p=SUe(l,t,d),v=new Xu(t,i,p);v.build(),s.add(v.group),WE(a,s,t),he(bUe,function(x){t.get([x,"show"])&&!o.scale.isBlank()&&wUe[x](this.group,t,l,d,h,u,f)},this)}},e.type="radiusAxis",e})(xb),wUe={splitLine:function(r,e,t,n,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),c=0,u=t.getAngleAxis(),f=Math.PI/180,d=u.getExtent(),h=Math.abs(d[1]-d[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],v=0;v<a.length;v++){var x=c++%l.length;p[x]=p[x]||[],p[x].push(new pb[h]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[v].coord,0),startAngle:-d[0]*f,endAngle:-d[1]*f,clockwise:u.inverse}}))}for(var v=0;v<p.length;v++)r.add(Eh(p[v],{style:Rr({stroke:l[v%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(r,e,t,n,i,a,s){if(s.length){for(var o=e.getModel("minorSplitLine"),l=o.getModel("lineStyle"),c=[],u=0;u<s.length;u++)for(var f=0;f<s[u].length;f++)c.push(new Ev({shape:{cx:t.cx,cy:t.cy,r:s[u][f].coord}}));r.add(Eh(c,{style:Rr({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(r,e,t,n,i,a){if(a.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],f=a[0].coord,d=1;d<a.length;d++){var h=c++%l.length;u[h]=u[h]||[],u[h].push(new Sc({shape:{cx:t.cx,cy:t.cy,r0:f,r:a[d].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[d].coord}for(var d=0;d<u.length;d++)r.add(Eh(u[d],{style:Rr({fill:l[d%l.length]},o.getAreaStyle()),silent:!0}))}}};function SUe(r,e,t){return{position:[r.cx,r.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function z0e(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function j0e(r,e){return e.dim+r.model.componentIndex}function TUe(r,e,t){var n={},i=AUe(bi(e.getSeriesByType(r),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(r,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,l=o.getBaseAxis(),c=j0e(o,l),u=z0e(a),f=i[c][u],d=f.offset,h=f.width,p=o.getOtherAxis(l),v=a.coordinateSystem.cx,x=a.coordinateSystem.cy,g=a.get("barMinHeight")||0,_=a.get("barMinAngle")||0;n[u]=n[u]||[];for(var w=s.mapDimension(p.dim),A=s.mapDimension(l.dim),M=sg(s,w),C=l.dim!=="radius"||!a.get("roundCap",!0),N=p.model,L=N.get("startValue"),D=p.dataToCoord(L||0),k=0,O=s.count();k<O;k++){var I=s.get(w,k),j=s.get(A,k),B=I>=0?"p":"n",K=D;M&&(n[u][j]||(n[u][j]={p:D,n:D}),K=n[u][j][B]);var H=void 0,Z=void 0,Y=void 0,J=void 0;if(p.dim==="radius"){var oe=p.dataToCoord(I)-D,X=l.dataToCoord(j);Math.abs(oe)<g&&(oe=(oe<0?-1:1)*g),H=K,Z=K+oe,Y=X-d,J=Y-h,M&&(n[u][j][B]=Z)}else{var F=p.dataToCoord(I,C)-D,W=l.dataToCoord(j);Math.abs(F)<_&&(F=(F<0?-1:1)*_),H=W+d,Z=H+h,Y=K,J=K+F,M&&(n[u][j][B]=J)}s.setItemLayout(k,{cx:v,cy:x,r0:H,r:Z,startAngle:-Y*Math.PI/180,endAngle:-J*Math.PI/180,clockwise:Y>=J})}}})}function AUe(r){var e={};he(r,function(n,i){var a=n.getData(),s=n.coordinateSystem,o=s.getBaseAxis(),l=j0e(s,o),c=o.getExtent(),u=o.type==="category"?o.getBandWidth():Math.abs(c[1]-c[0])/a.count(),f=e[l]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=f.stacks;e[l]=f;var h=z0e(n);d[h]||f.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var p=ur(n.get("barWidth"),u),v=ur(n.get("barMaxWidth"),u),x=n.get("barGap"),g=n.get("barCategoryGap");p&&!d[h].width&&(p=Math.min(f.remainedWidth,p),d[h].width=p,f.remainedWidth-=p),v&&(d[h].maxWidth=v),x!=null&&(f.gap=x),g!=null&&(f.categoryGap=g)});var t={};return he(e,function(n,i){t[i]={};var a=n.stacks,s=n.bandWidth,o=ur(n.categoryGap,s),l=ur(n.gap,1),c=n.remainedWidth,u=n.autoWidthCount,f=(c-o)/(u+(u-1)*l);f=Math.max(f,0),he(a,function(v,x){var g=v.maxWidth;g&&g<f&&(g=Math.min(g,c),v.width&&(g=Math.min(g,v.width)),c-=g,v.width=g,u--)}),f=(c-o)/(u+(u-1)*l),f=Math.max(f,0);var d=0,h;he(a,function(v,x){v.width||(v.width=f),h=v,d+=v.width*(1+l)}),h&&(d-=h.width*l);var p=-d/2;he(a,function(v,x){t[i][x]=t[i][x]||{offset:p,width:v.width},p+=v.width*(1+l)})}),t}var EUe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},MUe={splitNumber:5},CUe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e})(Aa);function NUe(r){xn(tM),xb.registerAxisPointerClass("PolarAxisPointer",aUe),r.registerCoordinateSystem("polar",mUe),r.registerComponentModel(lUe),r.registerComponentView(CUe),cS(r,"angle",cUe,EUe),cS(r,"radius",uUe,MUe),r.registerComponentView(xUe),r.registerComponentView(_Ue),r.registerLayout(cn(TUe,"bar"))}function Zz(r,e){e=e||{};var t=r.coordinateSystem,n=r.axis,i={},a=n.position,s=n.orient,o=t.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[s==="vertical"?c.vertical[a]:l[0],s==="horizontal"?c.horizontal[a]:l[3]];var u={horizontal:0,vertical:1};i.rotation=Math.PI/2*u[s];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[a],r.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Xl(e.labelInside,r.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var d=r.get(["axisLabel","rotate"]);return i.labelRotate=a==="top"?-d:d,i.z2=1,i}var DUe=["splitArea","splitLine","breakArea"],LUe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,n,i,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new Nr;var l=Zz(t),c=new Xu(t,i,l);c.build(),s.add(this._axisGroup),s.add(c.group),he(DUe,function(u){t.get([u,"show"])&&RUe[u](this,this.group,this._axisGroup,t,i)},this),WE(o,this._axisGroup,t),r.prototype.render.call(this,t,n,i,a)},e.prototype.remove=function(){ipe(this)},e.type="singleAxis",e})(xb),RUe={splitLine:function(r,e,t,n,i){var a=n.axis;if(!a.scale.isBlank()){var s=n.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color");l=l instanceof Array?l:[l];for(var c=o.get("width"),u=n.coordinateSystem.getRect(),f=a.isHorizontal(),d=[],h=0,p=a.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),v=[],x=[],g=0;g<p.length;++g){var _=a.toGlobalCoord(p[g].coord);f?(v[0]=_,v[1]=u.y,x[0]=_,x[1]=u.y+u.height):(v[0]=u.x,v[1]=_,x[0]=u.x+u.width,x[1]=_);var w=new mo({shape:{x1:v[0],y1:v[1],x2:x[0],y2:x[1]},silent:!0});nS(w.shape,c);var A=h++%l.length;d[A]=d[A]||[],d[A].push(w)}for(var M=o.getLineStyle(["color"]),g=0;g<d.length;++g)e.add(Eh(d[g],{style:Rr({stroke:l[g%l.length]},M),silent:!0}))}},splitArea:function(r,e,t,n,i){npe(r,t,n,n)},breakArea:function(r,e,t,n,i){var a=eM(),s=n.axis.scale;a&&s.type!=="ordinal"&&a.rectCoordBuildBreakAxis(e,r,n,n.coordinateSystem.getRect(),i)}},TD=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},e})(En);qs(TD,JS.prototype);var kUe=(function(r){dt(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,n){return this.coordinateSystem.pointToData(t)[0]},e})(Gd),U0e=["single"],IUe=(function(){function r(e,t,n){this.type="single",this.dimension="single",this.dimensions=U0e,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return r.prototype._init=function(e,t,n){var i=this.dimension,a=new kUe(i,ZE(e),[0,0],e.get("type"),e.get("position")),s=a.type==="category";a.onBand=s&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},r.prototype.update=function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();he(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),eb(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(e,t){var n=al(e,t).refContainer;this._rect=Ja(e.getBoxLayoutParams(),n),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(i[a],i[1-a]),this._updateAxisTransform(t,n?e.x:e.y)},r.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),i=n[0]+n[1],a=e.isHorizontal();e.toGlobalCoord=a?function(s){return s+t}:function(s){return i-s+t},e.toLocalCoord=a?function(s){return s-t}:function(s){return i-s+t}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},r.prototype.pointToData=function(e,t,n){n=n||[];var i=this.getAxis();return n[0]=i.coordToData(i.toLocalCoord(e[i.orient==="horizontal"?0:1])),n},r.prototype.dataToPoint=function(e,t,n){var i=this.getAxis(),a=this.getRect();n=n||[];var s=i.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),n[s]=i.toGlobalCoord(i.dataToCoord(+e)),n[1-s]=s===0?a.y+a.height/2:a.x+a.width/2,n},r.prototype.convertToPixel=function(e,t,n){var i=OQ(t);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=OQ(t);return i===this?this.pointToData(n):null},r})();function OQ(r){var e=r.seriesModel,t=r.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function OUe(r,e){var t=[];return r.eachComponent("singleAxis",function(n,i){var a=new IUe(n,r,e);a.name="single_"+i,a.resize(n,e),n.coordinateSystem=a,t.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",Ls).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),t}var PUe={create:OUe,dimensions:U0e},PQ=["x","y"],FUe=["width","height"],BUe=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis,l=o.coordinateSystem,c=C8(l,1-YL(o)),u=l.dataToPoint(n)[0],f=a.get("type");if(f&&f!=="none"){var d=$V(a),h=zUe[f](o,u,c);h.style=d,t.graphicKey=h.type,t.pointer=h}var p=Zz(i);I0e(n,t,p,i,a,s)},e.prototype.getHandleTransform=function(t,n,i){var a=Zz(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=JV(n.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,i,a){var s=i.axis,o=s.coordinateSystem,l=YL(s),c=C8(o,l),u=[t.x,t.y];u[l]+=n[l],u[l]=Math.min(c[1],u[l]),u[l]=Math.max(c[0],u[l]);var f=C8(o,1-l),d=(f[1]+f[0])/2,h=[d,d];return h[l]=u[l],{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},e})(KV),zUe={line:function(r,e,t){var n=QV([e,t[0]],[e,t[1]],YL(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=r.getBandWidth(),i=t[1]-t[0];return{type:"Rect",shape:O0e([e-n/2,t[0]],[n,i],YL(r))}}};function YL(r){return r.isHorizontal()?0:1}function C8(r,e){var t=r.getRect();return[t[PQ[e]],t[PQ[e]]+t[FUe[e]]]}var jUe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e})(Aa);function UUe(r){xn(tM),xb.registerAxisPointerClass("SingleAxisPointer",BUe),r.registerComponentView(jUe),r.registerComponentView(LUe),r.registerComponentModel(TD),cS(r,"single",TD,TD.defaultOption),r.registerCoordinateSystem("single",PUe)}var VUe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,i){var a=vb(t);r.prototype.init.apply(this,arguments),FQ(t,a)},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),FQ(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.layoutMode="box",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:ut.color.axisLine,width:1,type:"solid"}},itemStyle:{color:ut.color.neutral00,borderWidth:1,borderColor:ut.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:ut.size.s,color:ut.color.secondary},monthLabel:{show:!0,position:"start",margin:ut.size.s,align:"center",formatter:null,color:ut.color.secondary},yearLabel:{show:!0,position:null,margin:ut.size.xl,formatter:null,color:ut.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e})(En);function FQ(r,e){var t=r.cellSize,n;Ut(t)?n=t:n=r.cellSize=[t,t],n.length===1&&(n[1]=n[0]);var i=Gt([0,1],function(a){return uDe(e,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});yv(r,e,{type:"box",ignoreSize:i})}var HUe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group;a.removeAll();var s=t.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),c=n.getLocaleModel();this._renderDayRect(t,o,a),this._renderLines(t,o,l,a),this._renderYearText(t,o,l,a),this._renderMonthText(t,c,l,a),this._renderWeekText(t,c,o,l,a)},e.prototype._renderDayRect=function(t,n,i){for(var a=t.coordinateSystem,s=t.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),l=a.getCellHeight(),c=n.start.time;c<=n.end.time;c=a.getNextNDay(c,1).time){var u=a.dataToCalendarLayout([c],!1).tl,f=new _n({shape:{x:u[0],y:u[1],width:o,height:l},cursor:"default",style:s});i.add(f)}},e.prototype._renderLines=function(t,n,i,a){var s=this,o=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),c=t.get(["splitLine","show"]),u=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=n.start,d=0;f.time<=n.end.time;d++){p(f.formatedDate),d===0&&(f=o.getDateInfo(n.start.y+"-"+n.start.m));var h=f.date;h.setMonth(h.getMonth()+1),f=o.getDateInfo(h)}p(o.getNextNDay(n.end.time,1).formatedDate);function p(v){s._firstDayOfMonth.push(o.getDateInfo(v)),s._firstDayPoints.push(o.dataToCalendarLayout([v],!1).tl);var x=s._getLinePointsOfOneWeek(t,v,i);s._tlpoints.push(x[0]),s._blpoints.push(x[x.length-1]),c&&s._drawSplitline(x,l,a)}c&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,u,i),l,a),c&&this._drawSplitline(s._getEdgesPoints(s._blpoints,u,i),l,a)},e.prototype._getEdgesPoints=function(t,n,i){var a=[t[0].slice(),t[t.length-1].slice()],s=i==="horizontal"?0:1;return a[0][s]=a[0][s]-n/2,a[1][s]=a[1][s]+n/2,a},e.prototype._drawSplitline=function(t,n,i){var a=new Kl({z2:20,shape:{points:t},style:n});i.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,n,i){for(var a=t.coordinateSystem,s=a.getDateInfo(n),o=[],l=0;l<7;l++){var c=a.getNextNDay(s.time,l),u=a.dataToCalendarLayout([c.time],!1);o[2*c.day]=u.tl,o[2*c.day+1]=u[i==="horizontal"?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,n){return fr(t)&&t?nDe(t,n):Tr(t)?t(n):n.nameMap},e.prototype._yearTextPositionControl=function(t,n,i,a,s){var o=n[0],l=n[1],c=["center","bottom"];a==="bottom"?(l+=s,c=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,c=["center","top"]):l-=s;var u=0;return(a==="left"||a==="right")&&(u=Math.PI/2),{rotation:u,x:o,y:l,style:{align:c[0],verticalAlign:c[1]}}},e.prototype._renderYearText=function(t,n,i,a){var s=t.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=i!=="horizontal"?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(c[0][0]+c[1][0])/2,f=(c[0][1]+c[1][1])/2,d=i==="horizontal"?0:1,h={top:[u,c[d][1]],bottom:[u,c[1-d][1]],left:[c[1-d][0],f],right:[c[d][0],f]},p=n.start.y;+n.end.y>+n.start.y&&(p=p+"-"+n.end.y);var v=s.get("formatter"),x={start:n.start.y,end:n.end.y,nameMap:p},g=this._formatterLabel(v,x),_=new $n({z2:30,style:Sa(s,{text:g}),silent:s.get("silent")});_.attr(this._yearTextPositionControl(_,h[l],i,l,o)),a.add(_)}},e.prototype._monthTextPositionControl=function(t,n,i,a,s){var o="left",l="top",c=t[0],u=t[1];return i==="horizontal"?(u=u+s,n&&(o="center"),a==="start"&&(l="bottom")):(c=c+s,n&&(l="middle"),a==="start"&&(o="right")),{x:c,y:u,align:o,verticalAlign:l}},e.prototype._renderMonthText=function(t,n,i,a){var s=t.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),c=s.get("position"),u=s.get("align"),f=[this._tlpoints,this._blpoints];(!o||fr(o))&&(o&&(n=G7(o)||n),o=n.get(["time","monthAbbr"])||[]);var d=c==="start"?0:1,h=i==="horizontal"?0:1;l=c==="start"?-l:l;for(var p=u==="center",v=s.get("silent"),x=0;x<f[d].length-1;x++){var g=f[d][x].slice(),_=this._firstDayOfMonth[x];if(p){var w=this._firstDayPoints[x];g[h]=(w[h]+f[0][x+1][h])/2}var A=s.get("formatter"),M=o[+_.m-1],C={yyyy:_.y,yy:(_.y+"").slice(2),MM:_.m,M:+_.m,nameMap:M},N=this._formatterLabel(A,C),L=new $n({z2:30,style:It(Sa(s,{text:N}),this._monthTextPositionControl(g,p,i,c,l)),silent:v});a.add(L)}}},e.prototype._weekTextPositionControl=function(t,n,i,a,s){var o="center",l="middle",c=t[0],u=t[1],f=i==="start";return n==="horizontal"?(c=c+a+(f?1:-1)*s[0]/2,o=f?"right":"left"):(u=u+a+(f?1:-1)*s[1]/2,l=f?"bottom":"top"),{x:c,y:u,align:o,verticalAlign:l}},e.prototype._renderWeekText=function(t,n,i,a,s){var o=t.getModel("dayLabel");if(o.get("show")){var l=t.coordinateSystem,c=o.get("position"),u=o.get("nameMap"),f=o.get("margin"),d=l.getFirstDayOfWeek();if(!u||fr(u)){u&&(n=G7(u)||n);var h=n.get(["time","dayOfWeekShort"]);u=h||Gt(n.get(["time","dayOfWeekAbbr"]),function(C){return C[0]})}var p=l.getNextNDay(i.end.time,7-i.lweek).time,v=[l.getCellWidth(),l.getCellHeight()];f=ur(f,Math.min(v[1],v[0])),c==="start"&&(p=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var x=o.get("silent"),g=0;g<7;g++){var _=l.getNextNDay(p,g),w=l.dataToCalendarLayout([_.time],!1).center,A=g;A=Math.abs((g+d)%7);var M=new $n({z2:30,style:It(Sa(o,{text:u[A]}),this._weekTextPositionControl(w,a,c,f,v)),silent:x});s.add(M)}}},e.type="calendar",e})(Aa),N8=864e5,GUe=(function(){function r(e,t,n){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=e,this._update(t,n)}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(e){e=Av(e);var t=e.getFullYear(),n=e.getMonth()+1,i=n<10?"0"+n:""+n,a=e.getDate(),s=a<10?"0"+a:""+a,o=e.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:s,day:o,time:e.getTime(),formatedDate:t+"-"+i+"-"+s,date:e}},r.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},r.prototype._update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[n,7]:[7,n];he([0,1],function(f){u(a,f)&&(s[i[f]]=a[f]*o[f])});var l={width:t.getWidth(),height:t.getHeight()},c=this._rect=Ja(s,l);he([0,1],function(f){u(a,f)||(a[f]=c[i[f]]/o[f])});function u(f,d){return f[d]!=null&&f[d]!=="auto"}this._sw=a[0],this._sh=a[1]},r.prototype.dataToPoint=function(e,t,n){n=n||[],Ut(e)&&(e=e[0]),t==null&&(t=!0);var i=this.getDateInfo(e),a=this._rangeInfo,s=i.formatedDate;if(t&&!(i.time>=a.start.time&&i.time<a.end.time+N8))return n[0]=n[1]=NaN,n;var o=i.day,l=this._getRangeInfo([a.start.time,s]).nthWeek;return this._orient==="vertical"?(n[0]=this._rect.x+o*this._sw+this._sw/2,n[1]=this._rect.y+l*this._sh+this._sh/2):(n[0]=this._rect.x+l*this._sw+this._sw/2,n[1]=this._rect.y+o*this._sh+this._sh/2),n},r.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},r.prototype.dataToLayout=function(e,t,n){n=n||{};var i=n.rect=n.rect||{},a=n.contentRect=n.contentRect||{},s=this.dataToPoint(e,t);return i.x=s[0]-this._sw/2,i.y=s[1]-this._sh/2,i.width=this._sw,i.height=this._sh,Br.copy(a,i),$2(a,this._lineWidth/2,!0,!0),n},r.prototype.dataToCalendarLayout=function(e,t){var n=this.dataToPoint(e,t);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},r.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},r.prototype.convertToPixel=function(e,t,n){var i=D8(t);return i===this?i.dataToPoint(n):null},r.prototype.convertToLayout=function(e,t,n){var i=D8(t);return i===this?i.dataToLayout(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=D8(t);return i===this?i.pointToData(n):null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(Ut(e)&&e.length===1&&(e=e[0]),Ut(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);t=[i.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},r.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],n;t[0].time>t[1].time&&(n=!0,t.reverse());var i=Math.floor(t[1].time/N8)-Math.floor(t[0].time/N8)+1,a=new Date(t[0].time),s=a.getDate(),o=t[1].date.getDate();a.setDate(s+i-1);var l=a.getDate();if(l!==o)for(var c=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==o&&(a.getTime()-t[1].time)*c>0;)i-=c,a.setDate(l-c);var u=Math.floor((i+t[0].day+6)/7),f=n?-u+1:u-1;return n&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:u,nthWeek:f,fweek:t[0].day,lweek:t[1].day}},r.prototype._getDateByWeeksAndDay=function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var a=(e-1)*7-i.fweek+t,s=new Date(i.start.time);return s.setDate(+i.start.d+a),this.getDateInfo(s)},r.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var a=new r(i,e,t);n.push(a),i.coordinateSystem=a}),e.eachComponent(function(i,a){qE({targetModel:a,coordSysType:"calendar",coordSysProvider:sfe})}),n},r.dimensions=["time","value"],r})();function D8(r){var e=r.calendarModel,t=r.seriesModel,n=e?e.coordinateSystem:t?t.coordinateSystem:null;return n}function WUe(r){r.registerComponentModel(VUe),r.registerComponentView(HUe),r.registerCoordinateSystem("calendar",GUe)}var km={level:1,leaf:2,nonLeaf:3},Km={none:0,all:1,body:2,corner:3};function Kz(r,e,t){var n=e[nn[t]].getCell(r);return!n&&Jn(r)&&r<0&&(n=e[nn[1-t]].getUnitLayoutInfo(t,Math.round(r))),n}function V0e(r){var e=r||[];return e[0]=e[0]||[],e[1]=e[1]||[],e[0][0]=e[0][1]=e[1][0]=e[1][1]=NaN,e}function H0e(r,e,t,n,i){BQ(r[0],e,i,t,n,0),BQ(r[1],e,i,t,n,1)}function BQ(r,e,t,n,i,a){r[0]=1/0,r[1]=-1/0;var s=n[a],o=Ut(s)?s:[s],l=o.length,c=!!t;if(l>=1?(zQ(r,e,o,c,i,a,0),l>1&&zQ(r,e,o,c,i,a,l-1)):r[0]=r[1]=NaN,c){var u=-i[nn[1-a]].getLocatorCount(a),f=i[nn[a]].getLocatorCount(a)-1;t===Km.body?u=po(0,u):t===Km.corner&&(f=Oh(-1,f)),f<u&&(u=f=NaN),mc(r[0])&&(r[0]=u),mc(r[1])&&(r[1]=f),r[0]=po(Oh(r[0],f),u),r[1]=po(Oh(r[1],f),u)}}function zQ(r,e,t,n,i,a,s){var o=Kz(t[s],i,a);if(!o){r[0]=r[1]=NaN;return}var l=o.id[nn[a]],c=l,u=ZUe(o);u&&(c+=u.span[nn[a]]-1),r[0]=Oh(r[0],l,c),r[1]=po(r[1],l,c)}function TN(r,e){return mc(r[e][0])||mc(r[e][1])}function jQ(r,e,t,n){e=e||YUe;for(var i=0;i<n;i++)e[i]=!1;for(;;){for(var a=!1,i=0;i<n;i++){var s=t[i];!e[i]&&s.cellMergeOwner&&qUe(r,s.locatorRange)&&(e[i]=!0,a=!0)}if(!a)break}}var YUe=[];function qUe(r,e){return!UQ(r[0],e[0])||!UQ(r[1],e[1])?!1:(r[0][0]=Oh(r[0][0],e[0][0]),r[0][1]=po(r[0][1],e[0][1]),r[1][0]=Oh(r[1][0],e[1][0]),r[1][1]=po(r[1][1],e[1][1]),!0)}function UQ(r,e){return r[1]>=e[0]&&r[0]<=e[1]}function VQ(r,e){r.id.set(e[0][0],e[1][0]),r.span.set(e[0][1]-r.id.x+1,e[1][1]-r.id.y+1)}function XUe(r,e){r[0][0]=e[0][0],r[0][1]=e[0][1],r[1][0]=e[1][0],r[1][1]=e[1][1]}function HQ(r,e,t,n){var i=Kz(e[n][0],t,n),a=Kz(e[n][1],t,n);r[nn[n]]=r[jo[n]]=NaN,i&&a&&(r[nn[n]]=i.xy,r[jo[n]]=a.xy+a.wh-i.xy)}function y5(r,e,t,n){return r[nn[e]]=t,r[nn[1-e]]=n,r}function ZUe(r){return r&&(r.type===km.leaf||r.type===km.nonLeaf)?r:null}function qL(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var GQ=(function(){function r(e,t){this._cells=[],this._levels=[],this.dim=e,this.dimIdx=e==="x"?0:1,this._model=t,this._uniqueValueGen=KUe(e);var n=t.get("data",!0);n!=null&&!Ut(n)&&(n=[]),n?this._initByDimModelData(n):this._initBySeriesData()}return r.prototype._initByDimModelData=function(e){var t=this,n=t._cells,i=t._levels,a=[],s=0;t._leavesCount=o(e,0,0),l();return;function o(c,u,f){var d=0;return c&&he(c,function(h,p){var v;fr(h)?v={value:h}:kr(h)?(v=h,h.value!=null&&!fr(h.value)&&(v={value:null})):v={value:null};var x={type:km.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:u,id:new Fr,span:y5(new Fr,t.dimIdx,1,1),option:v,xy:NaN,wh:NaN,dim:t,rect:qL()};s++,(a[u]||(a[u]=[])).push(x),i[f]||(i[f]={type:km.level,xy:NaN,wh:NaN,option:null,id:new Fr,dim:t});var g=o(v.children,u,f+1),_=Math.max(1,g);x.span[nn[t.dimIdx]]=_,d+=_,u+=_}),d}function l(){for(var c=[];n.length<s;)for(var u=0;u<a.length;u++){var f=a[u].pop();if(f){f.ordinal=c.length;var d=f.option.value;c.push(d),n.push(f),t._uniqueValueGen.calcDupBase(d)}}t._uniqueValueGen.ensureValueUnique(c,n);var h=t._ordinalMeta=new I3({categories:c,needCollect:!1,deduplication:!1});t._scale=new sS({ordinalMeta:h});for(var p=0;p<t._leavesCount;p++){var v=t._cells[p];v.type=km.leaf,v.span[nn[1-t.dimIdx]]=t._levels.length-v.level}t._initCellsId(),t._initLevelIdOptions()}},r.prototype._initBySeriesData=function(){var e=this;e._leavesCount=0,e._levels=[{type:km.level,xy:NaN,wh:NaN,option:null,id:new Fr,dim:e}],e._initLevelIdOptions();var t=e._ordinalMeta=new I3({needCollect:!0,deduplication:!0,onCollect:function(n,i){var a=e._cells[i]={type:km.leaf,ordinal:i,level:0,firstLeafLocator:i,id:new Fr,span:y5(new Fr,e.dimIdx,1,1),option:{value:n+""},xy:NaN,wh:NaN,dim:e,rect:qL()};e._leavesCount++,e._setCellId(a)}});e._scale=new sS({ordinalMeta:t})},r.prototype._setCellId=function(e){var t=this._levels.length,n=this.dimIdx;y5(e.id,n,e.firstLeafLocator,e.level-t)},r.prototype._initCellsId=function(){var e=this._levels.length,t=this.dimIdx;he(this._cells,function(n){y5(n.id,t,n.firstLeafLocator,n.level-e)})},r.prototype._initLevelIdOptions=function(){var e=this._levels.length,t=this.dimIdx,n=this._model.get("levels",!0);n=Ut(n)?n:[],he(this._levels,function(i,a){y5(i.id,t,0,a-e),i.option=n[a]})},r.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},r.prototype.resetLayoutIterator=function(e,t,n,i){if(e=e||new Zx,t===this.dimIdx){var a=this._leavesCount,s=n!=null?Math.max(0,n):0;i=i!=null?Math.min(i,a):a,e.reset(this._cells,s,s+i)}else{var a=this._levels.length,s=n!=null?Math.max(0,n+a):0;i=i!=null?Math.min(i,a):a,e.reset(this._levels,s,s+i)}return e},r.prototype.resetCellIterator=function(e){return(e||new Zx).reset(this._cells,0)},r.prototype.resetLevelIterator=function(e){return(e||new Zx).reset(this._levels,0)},r.prototype.getLayout=function(e,t,n){var i=this.getUnitLayoutInfo(t,n);e[nn[t]]=i?i.xy:NaN,e[jo[t]]=i?i.wh:NaN},r.prototype.getUnitLayoutInfo=function(e,t){return e===this.dimIdx?t<this._leavesCount?this._cells[t]:void 0:this._levels[t+this._levels.length]},r.prototype.getCell=function(e){var t=this._scale.parse(e);return mc(t)?void 0:this._cells[t]},r.prototype.getLocatorCount=function(e){return e===this.dimIdx?this._leavesCount:this._levels.length},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r})();function KUe(r){var e=r.toUpperCase(),t=new RegExp("^"+e+"([0-9]+)$"),n=0;function i(o){var l;o!=null&&(l=o.match(t))&&(n=po(n,+l[1]+1))}function a(){return""+e+n++}function s(o,l){for(var c=br(),u=0;u<o.length;u++){var f=o[u];(f==null||c.get(f)!=null)&&(o[u]=f=a(),l[u].option=Rr({value:f},l[u].option)),c.set(f,!0)}}return{calcDupBase:i,ensureValueUnique:s}}var WQ=(function(){function r(e,t,n){this._model=t,this._dims=n,this._kind=e,this._cellMergeOwnerList=[]}return r.prototype._ensureCellMap=function(){var e=this,t=e._cellMap;return t||(t=e._cellMap=br(),n()),t;function n(){var a=[],s=e._model.getShallow("data");s&&!Ut(s)&&(s=null),he(s,function(p,v){if(!(!kr(p)||!Ut(p.coord))){var x=V0e([]),g=null;if(H0e(x,g,p.coord,e._dims,p.coordClamp?Km[e._kind]:Km.none),!(TN(x,0)||TN(x,1))){var _=p&&p.mergeCells,w={id:new Fr,span:new Fr,locatorRange:x,option:p,cellMergeOwner:_};VQ(w,x),a.push(w)}}});for(var o=[],l=0;l<a.length;l++){var c=a[l];if(c.cellMergeOwner){var u=c.locatorRange;jQ(u,o,a,l);for(var f=0;f<l;f++)o[f]&&(a[f].cellMergeOwner=!1);if(u[0][0]!==c.id.x||u[1][0]!==c.id.y){c.cellMergeOwner=!1;var d=It({},c.option);d.coord=null;var h={id:new Fr,span:new Fr,locatorRange:u,option:d,cellMergeOwner:!0};VQ(h,u),a.push(h)}}}he(a,function(p){var v=i(p.id.x,p.id.y);if(p.cellMergeOwner&&(v.cellMergeOwner=!0,v.span=p.span,v.locatorRange=p.locatorRange,v.spanRect=qL(),e._cellMergeOwnerList.push(v)),!(!p.cellMergeOwner&&!p.option))for(var x=0;x<p.span.y;x++)for(var g=0;g<p.span.x;g++){var _=i(p.id.x+g,p.id.y+x);_.option=p.option,p.cellMergeOwner&&(_.inSpanOf=v)}})}function i(a,s){var o=YQ(a,s),l=t.get(o);return l||(l=t.set(o,{id:new Fr(a,s),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},r.prototype.getCell=function(e){return this._ensureCellMap().get(YQ(e[0],e[1]))},r.prototype.travelExistingCells=function(e){this._ensureCellMap().each(e)},r.prototype.expandRangeByCellMerge=function(e){if(!TN(e,0)&&!TN(e,1)&&e[0][0]===e[0][1]&&e[1][0]===e[1][1]){L8[0]=e[0][0],L8[1]=e[1][0];var t=this.getCell(L8),n=t&&t.inSpanOf;if(n){XUe(e,n.locatorRange);return}}var i=this._cellMergeOwnerList;jQ(e,null,i,i.length)},r})(),L8=[];function YQ(r,e){return r+"|"+e}var nH={show:!0,color:ut.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function iH(r){return{color:"none",borderWidth:1,borderColor:r?"none":ut.color.borderTint}}var qQ={show:!0,label:nH,itemStyle:iH(!1),silent:void 0,dividerLineStyle:{width:1,color:ut.color.border}},$Ue={label:nH,itemStyle:iH(!1),silent:void 0},JUe={label:nH,itemStyle:iH(!0),silent:void 0},QUe={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:qQ,y:qQ,body:$Ue,corner:JUe,backgroundStyle:{color:"none",borderColor:ut.color.axisLine,borderWidth:1}},e9e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this._dimModels={x:new XQ(this.get("x",!0)||{}),y:new XQ(this.get("y",!0)||{})};t.x.option.type=t.y.option.type="category";var n=t.x.dim=new GQ("x",t.x),i=t.y.dim=new GQ("y",t.y),a={x:n,y:i};this._body=new WQ("body",new Ln(this.getShallow("body")),a),this._corner=new WQ("corner",new Ln(this.getShallow("corner")),a)},e.prototype.getDimensionModel=function(t){return this._dimModels[t]},e.prototype.getBody=function(){return this._body},e.prototype.getCorner=function(){return this._corner},e.type="matrix",e.layoutMode="box",e.defaultOption=QUe,e})(En),XQ=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},e})(Ln),AN=Math.round,t9e=0,r9e=99,n9e={normal:25,special:100},i9e={normal:50,special:125},a9e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n){this.group.removeAll();var i=this.group,a=t.coordinateSystem,s=a.getRect(),o=t.getDimensionModel("x"),l=t.getDimensionModel("y"),c=o.dim,u=l.dim;s9e(i,t,n),o9e(i,t,c,u,n);var f=t.getShallow("borderZ2",!0),d=wr(f,r9e),h=d-1,p=t.getModel("backgroundStyle").getItemStyle(["borderWidth"]);p.lineWidth=0;var v=t.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);v.fill="none";var x=$z(s.clone(),p,t9e),g=$z(s.clone(),v,d);x.silent=!0,g.silent=!0,i.add(x),i.add(g);var _=c.getUnitLayoutInfo(0,0),w=u.getUnitLayoutInfo(1,0);_&&w&&(c.shouldShow()&&i.add(ZQ({x1:s.x,y1:w.xy,x2:s.x+s.width,y2:w.xy},o.getModel("dividerLineStyle").getLineStyle(),h)),u.shouldShow()&&i.add(ZQ({x1:_.xy,y1:s.y,x2:_.xy,y2:s.y+s.height},l.getModel("dividerLineStyle").getLineStyle(),h)))},e.type="matrix",e})(Aa);function s9e(r,e,t){n(0),n(1);function n(i){var a=e.getDimensionModel(nn[i]),s=a.dim;if(s.shouldShow())for(var o=a.getModel("itemStyle"),l=a.getModel("label"),c=e.getShallow("tooltip",!0),u=[],f=s.resetCellIterator();f.next();){var d=f.item,h={};Br.copy(h,d.rect),Ok(u,d.id.x,d.id.y),G0e(u,e,r,t,d.option,o,l,a,h,d.option.value,i9e,c)}}}function o9e(r,e,t,n,i){a("body",e.getBody(),t,n),t.shouldShow()&&n.shouldShow()&&a("corner",e.getCorner(),n,t);function a(s,o,l,c){var u=new Ln(e.getShallow(s,!0)),f=u.getModel("itemStyle"),d=u.getModel("label"),h=new Zx,p=new Zx,v=[],x=e.getShallow("tooltip",!0);for(c.resetLayoutIterator(p,1);p.next();)for(l.resetLayoutIterator(h,0);h.next();){var g=h.item,_=p.item;Ok(v,g.id.x,_.id.y);var w=o.getCell(v);if(!(w&&w.inSpanOf&&w.inSpanOf!==w)){var A={};w&&w.span?Br.copy(A,w.spanRect):(g.dim.getLayout(A,0,v[0]),_.dim.getLayout(A,1,v[1]));var M=w?w.option:null;G0e(v,e,r,i,M,f,d,u,A,M?M.value:null,n9e,x)}}}}function G0e(r,e,t,n,i,a,s,o,l,c,u,f){var d;EN.option=i?i.itemStyle:null,EN.parentModel=a,C_.option=i,C_.parentModel=o;var h=wr(C_.getShallow("z2"),i&&i.itemStyle?u.special:u.normal),p=f&&f.show,v=$z(l,EN.getItemStyle(),h);t.add(v);var x=C_.get("cursor");x!=null&&v.attr("cursor",x);var g;if(c!=null){var _=c+"";if(N_.option=i?i.label:null,N_.parentModel=s,N_.ecModel=n,Al(v,{normal:N_},{defaultText:_,autoOverflowArea:!0,layoutRect:Cr(v.shape)}),g=v.getTextContent(),g){g.z2=h+1;var w=g.style;if(w&&w.overflow&&w.overflow!=="none"&&w.lineOverflow){var A={};Br.copy(A,l),$2(A,(((d=v.style)===null||d===void 0?void 0:d.lineWidth)||0)/2,!0,!0),v.updateInnerText(),g.getLocalTransform(MN),Fd(MN,MN),Br.applyTransform(A,A,MN),g.setClipPath(new _n({shape:A}))}}bg({el:v,componentModel:e,itemName:_,itemTooltipOption:f,formatterParamsExtra:{xyLocator:r.slice()}})}if(g){var M=N_.get("silent");M==null&&(M=!p),g.silent=M,g.ignoreHostSilent=!0}var C=C_.get("silent");C==null&&(C=!v.style||v.style.fill==="none"||!v.style.fill),v.silent=C,GO(C_),GO(EN),GO(N_)}var C_=new Ln,EN=new Ln,N_=new Ln,MN=[];function $z(r,e,t){var n=e.lineWidth;if(n){var i=r.x+r.width,a=r.y+r.height;r.x=Rh(r.x,n,!0),r.y=Rh(r.y,n,!0),r.width=Rh(i,n,!0)-r.x,r.height=Rh(a,n,!0)-r.y}return new _n({shape:r,style:e,z2:t})}function ZQ(r,e,t){var n=e.lineWidth;return n&&(AN(r.x1*2)===AN(r.x2*2)&&(r.x1=r.x2=Rh(r.x1,n,!0)),AN(r.y1*2)===AN(r.y2*2)&&(r.y1=r.y2=Rh(r.y1,n,!0))),new mo({shape:r,style:e,silent:!0,z2:t})}var l9e=(function(){function r(e,t,n){this.dimensions=r.dimensions,this.type="matrix",this._model=e;var i=this._dimModels={x:e.getDimensionModel("x"),y:e.getDimensionModel("y")};this._dims={x:i.x.dim,y:i.y.dim},this._resize(e,n)}return r.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},r.create=function(e,t){var n=[];return e.eachComponent("matrix",function(i){var a=new r(i,e,t);n.push(a),i.coordinateSystem=a}),e.eachComponent(function(i,a){qE({targetModel:a,coordSysType:"matrix",coordSysProvider:sfe})}),n},r.prototype.getRect=function(){return this._rect},r.prototype._resize=function(e,t){var n=this._dims,i=this._dimModels,a=this._rect=Ja(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});KQ(i,n,a,0),KQ(i,n,a,1),$Q(0,n),$Q(1,n),JQ(this._model.getBody(),n),JQ(this._model.getCorner(),n)},r.prototype.dataToPoint=function(e,t,n){return n=n||[],this.dataToLayout(e,t,b5),n[0]=b5.rect.x+b5.rect.width/2,n[1]=b5.rect.y+b5.rect.height/2,n},r.prototype.dataToLayout=function(e,t,n){var i=this._dims;n=n||{};var a=n.rect=n.rect||{};a.x=a.y=a.width=a.height=NaN;var s=n.matrixXYLocatorRange=V0e(n.matrixXYLocatorRange);return Ut(e)&&(H0e(s,null,e,i,wr(t&&t.clamp,Km.none)),(!t||!t.ignoreMergeCells)&&((!t||t.clamp!==Km.corner)&&this._model.getBody().expandRangeByCellMerge(s),(!t||t.clamp!==Km.body)&&this._model.getCorner().expandRangeByCellMerge(s)),HQ(a,s,i,0),HQ(a,s,i,1)),n},r.prototype.pointToData=function(e,t,n){var i=this._dims;return QQ(P0,0,i,e,t&&t.clamp),QQ(P0,1,i,e,t&&t.clamp),n=n||[],n[0]=n[1]=NaN,P0.y===pc.inCorner&&P0.x===pc.inBody?eee(P0,n,0,i):P0.x===pc.inCorner&&P0.y===pc.inBody?eee(P0,n,1,i):(tee(P0,n,0,i),tee(P0,n,1,i)),n},r.prototype.convertToPixel=function(e,t,n,i){var a=k8(t);return a===this?a.dataToPoint(n,i):void 0},r.prototype.convertToLayout=function(e,t,n,i){var a=k8(t);return a===this?a.dataToLayout(n,i):void 0},r.prototype.convertFromPixel=function(e,t,n,i){var a=k8(t);return a===this?a.pointToData(n,i):void 0},r.prototype.containPoint=function(e){return this._rect.contain(e[0],e[1])},r.dimensions=["x","y","value"],r})(),b5={rect:qL()},CN=new Zx,R8=new Zx;function KQ(r,e,t,n){for(var i=1-n,a=e[nn[n]],s=e[nn[i]],o=s.shouldShow(),l=a.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var c=s.resetLayoutIterator(null,n);c.next();)c.item.wh=c.item.xy=NaN;for(var u=t[jo[n]],f=a.getLocatorCount(n)+s.getLocatorCount(n),d=new Ln,h=s.resetLevelIterator();h.next();)d.option=h.item.option,d.parentModel=r[nn[i]],x(h.item,o?d.get("levelSize"):0);for(var p=new Ln,v=a.resetCellIterator();v.next();)v.item.type===km.leaf&&(p.option=v.item.option,p.parentModel=void 0,x(v.item,p.get("size")));function x(N,L){var D=c9e(L,n,t);mc(D)||(N.wh=Jz(D,u),u=Jz(u-N.wh),f--)}var g=f?u/f:0,_=!f&&u>=1,w=t[nn[n]],A=a.getLocatorCount(n)-1,M=new Zx;for(s.resetLayoutIterator(M,n);M.next();)C(M.item);for(a.resetLayoutIterator(M,n);M.next();)C(M.item);function C(N){mc(N.wh)&&(N.wh=g),N.xy=w,N.id[nn[n]]===A&&!_&&(N.wh=t[nn[n]]+t[jo[n]]-N.xy),w+=N.wh}}function $Q(r,e){for(var t=e[nn[r]].resetCellIterator();t.next();){var n=t.item;XL(n.rect,r,n.id,n.span,e),XL(n.rect,1-r,n.id,n.span,e),n.type===km.nonLeaf&&(n.xy=n.rect[nn[r]],n.wh=n.rect[jo[r]])}}function JQ(r,e){r.travelExistingCells(function(t){var n=t.span;if(n){var i=t.spanRect,a=t.id;XL(i,0,a,n,e),XL(i,1,a,n,e)}})}function XL(r,e,t,n,i){r[jo[e]]=0;var a=t[nn[e]],s=a<0?i[nn[1-e]]:i[nn[e]],o=s.getUnitLayoutInfo(e,t[nn[e]]);if(r[nn[e]]=o.xy,r[jo[e]]=o.wh,n[nn[e]]>1){var l=s.getUnitLayoutInfo(e,t[nn[e]]+n[nn[e]]-1);r[jo[e]]=l.xy+l.wh-o.xy}}function c9e(r,e,t){var n=oL(r,t[jo[e]]);return Jz(n,t[jo[e]])}function Jz(r,e){return Math.max(Math.min(r,wr(e,1/0)),0)}function k8(r){var e=r.matrixModel,t=r.seriesModel,n=e?e.coordinateSystem:t?t.coordinateSystem:null;return n}var pc={inBody:1,inCorner:2,outside:3},P0={x:null,y:null,point:[]};function QQ(r,e,t,n,i){var a=t[nn[e]],s=t[nn[1-e]],o=a.getUnitLayoutInfo(e,a.getLocatorCount(e)-1),l=a.getUnitLayoutInfo(e,0),c=s.getUnitLayoutInfo(e,-s.getLocatorCount(e)),u=s.shouldShow()?s.getUnitLayoutInfo(e,-1):null,f=r.point[e]=n[e];if(!l&&!u){r[nn[e]]=pc.outside;return}if(i===Km.body){l?(r[nn[e]]=pc.inBody,f=Oh(o.xy+o.wh,po(l.xy,f)),r.point[e]=f):r[nn[e]]=pc.outside;return}else if(i===Km.corner){u?(r[nn[e]]=pc.inCorner,f=Oh(u.xy+u.wh,po(c.xy,f)),r.point[e]=f):r[nn[e]]=pc.outside;return}var d=l?l.xy:u?u.xy+u.wh:NaN,h=c?c.xy:d,p=o?o.xy+o.wh:d;if(f<h){if(!i){r[nn[e]]=pc.outside;return}f=h}else if(f>p){if(!i){r[nn[e]]=pc.outside;return}f=p}r.point[e]=f,r[nn[e]]=d<=f&&f<=p?pc.inBody:h<=f&&f<=d?pc.inCorner:pc.outside}function eee(r,e,t,n){var i=1-t;if(r[nn[t]]!==pc.outside)for(n[nn[t]].resetCellIterator(R8);R8.next();){var a=R8.item;if(ree(r.point[t],a.rect,t)&&ree(r.point[i],a.rect,i)){e[t]=a.ordinal,e[i]=a.id[nn[i]];return}}}function tee(r,e,t,n){if(r[nn[t]]!==pc.outside){var i=r[nn[t]]===pc.inCorner?n[nn[1-t]]:n[nn[t]];for(i.resetLayoutIterator(CN,t);CN.next();)if(u9e(r.point[t],CN.item)){e[t]=CN.item.id[nn[t]];return}}}function u9e(r,e){return e.xy<=r&&r<=e.xy+e.wh}function ree(r,e,t){return e[nn[t]]<=r&&r<=e[nn[t]]+e[jo[t]]}function f9e(r){r.registerComponentModel(e9e),r.registerComponentView(a9e),r.registerCoordinateSystem("matrix",l9e)}function h9e(r,e){var t=r.existing;if(e.id=r.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var n=e.parentOption;n?e.parentId=n.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function nee(r,e){var t;return he(e,function(n){r[n]!=null&&r[n]!=="auto"&&(t=!0)}),t}function d9e(r,e,t){var n=It({},t),i=r[e],a=t.$action||"merge";a==="merge"?i?(pn(i,n,!0),yv(i,n,{ignoreSize:!0}),ffe(t,i),NN(t,i),NN(t,i,"shape"),NN(t,i,"style"),NN(t,i,"extra"),t.clipPath=i.clipPath):r[e]=n:a==="replace"?r[e]=n:a==="remove"&&i&&(r[e]=null)}var W0e=["transition","enterFrom","leaveTo"],p9e=W0e.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function NN(r,e,t){if(t&&(!r[t]&&e[t]&&(r[t]={}),r=r[t],e=e[t]),!(!r||!e))for(var n=t?W0e:p9e,i=0;i<n.length;i++){var a=n[i];r[a]==null&&e[a]!=null&&(r[a]=e[a])}}function v9e(r,e){if(r&&(r.hv=e.hv=[nee(e,["left","right"]),nee(e,["top","bottom"])],r.type==="group")){var t=r,n=e;t.width==null&&(t.width=n.width=0),t.height==null&&(t.height=n.height=0)}}var m9e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,n){var i=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,t,n),this.option.elements=i},e.prototype.optionUpdated=function(t,n){var i=this.option,a=(n?i:t).elements,s=i.elements=n?[]:i.elements,o=[];this._flatten(a,o,null);var l=tue(s,o,"normalMerge"),c=this._elOptionsToUpdate=[];he(l,function(u,f){var d=u.newOption;d&&(c.push(d),h9e(u,d),d9e(s,f,d),v9e(s[f],d))},this),i.elements=bi(s,function(u){return u&&delete u.$action,u!=null})},e.prototype._flatten=function(t,n,i){he(t,function(a){if(a){i&&(a.parentOption=i),n.push(a);var s=a.children;s&&s.length&&this._flatten(s,n,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e})(En),iee={path:null,compoundPath:null,group:Nr,image:Nl,text:$n},Ad=Mn(),g9e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=br()},e.prototype.render=function(t,n,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var n=t.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,s=t.get("z"),o=t.get("zlevel");he(n,function(l){var c=rl(l.id,null),u=c!=null?i.get(c):null,f=rl(l.parentId,null),d=f!=null?i.get(f):a,h=l.type,p=l.style;h==="text"&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var v=l.textContent,x=l.textConfig;if(p&&w0e(p,h,!!x,!!v)){var g=S0e(p,h,!0);!x&&g.textConfig&&(x=l.textConfig=g.textConfig),!v&&g.textContent&&(v=g.textContent)}var _=x9e(l),w=l.$action||"merge",A=w==="merge",M=w==="replace";if(A){var C=!u,N=u;C?N=aee(c,d,l.type,i):(N&&(Ad(N).isNew=!1),M0e(N)),N&&(wD(N,_,t,{isInit:C}),see(N,l,s,o))}else if(M){AD(u,l,i,t);var L=aee(c,d,l.type,i);L&&(wD(L,_,t,{isInit:!0}),see(L,l,s,o))}else w==="remove"&&(A0e(u,l),AD(u,l,i,t));var D=i.get(c);if(D&&v)if(A){var k=D.getTextContent();k?k.attr(v):D.setTextContent(new $n(v))}else M&&D.setTextContent(new $n(v));if(D){var O=l.clipPath;if(O){var I=O.type,j=void 0,C=!1;if(A){var B=D.getClipPath();C=!B||Ad(B).type!==I,j=C?Qz(I):B}else M&&(C=!0,j=Qz(I));D.setClipPath(j),wD(j,O,t,{isInit:C}),GL(j,O.keyframeAnimation,t)}var K=Ad(D);D.setTextConfig(x),K.option=l,y9e(D,t,l),bg({el:D,componentModel:t,itemName:D.name,itemTooltipOption:l.tooltip}),GL(D,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,n){for(var i=t.option.elements,a=this.group,s=this._elMap,o=n.getWidth(),l=n.getHeight(),c=["x","y"],u=0;u<i.length;u++){var f=i[u],d=rl(f.id,null),h=d!=null?s.get(d):null;if(!(!h||!h.isGroup)){var p=h.parent,v=p===a,x=Ad(h),g=Ad(p);x.width=ur(x.option.width,v?o:g.width)||0,x.height=ur(x.option.height,v?l:g.height)||0}}for(var u=i.length-1;u>=0;u--){var f=i[u],d=rl(f.id,null),h=d!=null?s.get(d):null;if(h){var p=h.parent,g=Ad(p),_=p===a?{width:o,height:l}:{width:g.width,height:g.height},w={},A=Jk(h,f,_,null,{hv:f.hv,boundingMode:f.bounding},w);if(!Ad(h).isNew&&A){for(var M=f.transition,C={},N=0;N<c.length;N++){var L=c[N],D=w[L];M&&(P2(M)||hn(M,L)>=0)?C[L]=D:h[L]=D}si(h,C,t,0)}else h.attr(w)}}},e.prototype._clear=function(){var t=this,n=this._elMap;n.each(function(i){AD(i,Ad(i).option,n,t._lastGraphicModel)}),this._elMap=br()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e})(Aa);function Qz(r){var e=gr(iee,r)?iee[r]:E3(r),t=new e({});return Ad(t).type=r,t}function aee(r,e,t,n){var i=Qz(t);return e.add(i),n.set(r,i),Ad(i).id=r,Ad(i).isNew=!0,i}function AD(r,e,t,n){var i=r&&r.parent;i&&(r.type==="group"&&r.traverse(function(a){AD(a,e,t,n)}),pI(r,e,n),t.removeKey(Ad(r).id))}function see(r,e,t,n){r.isGroup||he([["cursor",Bd.prototype.cursor],["zlevel",n||0],["z",t||0],["z2",0]],function(i){var a=i[0];gr(e,a)?r[a]=wr(e[a],i[1]):r[a]==null&&(r[a]=i[1])}),he(Wn(e),function(i){if(i.indexOf("on")===0){var a=e[i];r[i]=Tr(a)?a:null}}),gr(e,"draggable")&&(r.draggable=e.draggable),e.name!=null&&(r.name=e.name),e.id!=null&&(r.id=e.id)}function x9e(r){return r=It({},r),he(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(ofe),function(e){delete r[e]}),r}function y9e(r,e,t){var n=Vr(r).eventData;!r.silent&&!r.ignore&&!n&&(n=Vr(r).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:r.name}),n&&(n.info=t.info)}function b9e(r){r.registerComponentModel(m9e),r.registerComponentView(g9e),r.registerPreprocessor(function(e){var t=e.graphic;Ut(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var oee=["x","y","radius","angle","single"],_9e=["cartesian2d","polar","singleAxis"];function w9e(r){var e=r.get("coordinateSystem");return hn(_9e,e)>=0}function zx(r){return r+"Axis"}function S9e(r,e){var t=br(),n=[],i=br();r.eachComponent({mainType:"dataZoom",query:e},function(u){i.get(u.uid)||o(u)});var a;do a=!1,r.eachComponent("dataZoom",s);while(a);function s(u){!i.get(u.uid)&&l(u)&&(o(u),a=!0)}function o(u){i.set(u.uid,!0),n.push(u),c(u)}function l(u){var f=!1;return u.eachTargetAxis(function(d,h){var p=t.get(d);p&&p[h]&&(f=!0)}),f}function c(u){u.eachTargetAxis(function(f,d){(t.get(f)||t.set(f,[]))[d]=!0})}return n}function Y0e(r){var e=r.ecModel,t={infoList:[],infoMap:br()};return r.eachTargetAxis(function(n,i){var a=e.getComponent(zx(n),i);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,l=t.infoMap.get(o);l||(l={model:s,axisModels:[]},t.infoList.push(l),t.infoMap.set(o,l)),l.axisModels.push(a)}}}),t}var I8=(function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},r})(),W3=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,n,i){var a=lee(t);this.settledOption=a,this.mergeDefaultAndTheme(t,i),this._doInit(a)},e.prototype.mergeOption=function(t){var n=lee(t);pn(this.option,t,!0),pn(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(t){var n=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;he([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),n=this._targetAxisInfoMap=br(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var n=!1;return he(oee,function(i){var a=this.getReferringComponents(zx(i),UCe);if(a.specified){n=!0;var s=new I8;he(a.models,function(o){s.add(o.componentIndex)}),t.set(i,s)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(t,n){var i=this.ecModel,a=!0;if(a){var s=n==="vertical"?"y":"x",o=i.findComponents({mainType:s+"Axis"});l(o,s)}if(a){var o=i.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===n}});l(o,"single")}function l(c,u){var f=c[0];if(f){var d=new I8;if(d.add(f.componentIndex),t.set(u,d),a=!1,u==="x"||u==="y"){var h=f.getReferringComponents("grid",Ls).models[0];h&&he(c,function(p){f.componentIndex!==p.componentIndex&&h===p.getReferringComponents("grid",Ls).models[0]&&d.add(p.componentIndex)})}}}a&&he(oee,function(c){if(a){var u=i.findComponents({mainType:zx(c),filter:function(d){return d.get("type",!0)==="category"}});if(u[0]){var f=new I8;f.add(u[0].componentIndex),t.set(c,f),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(n){!t&&(t=n)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var n=this._rangePropMode,i=this.get("rangeMode");he([["start","startValue"],["end","endValue"]],function(a,s){var o=t[a[0]]!=null,l=t[a[1]]!=null;o&&!l?n[s]="percent":!o&&l?n[s]="value":i?n[s]=i[s]:o&&(n[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(n,i){t==null&&(t=this.ecModel.getComponent(zx(n),i))},this),t},e.prototype.eachTargetAxis=function(t,n){this._targetAxisInfoMap.each(function(i,a){he(i.indexList,function(s){t.call(n,a,s)})})},e.prototype.getAxisProxy=function(t,n){var i=this.getAxisModel(t,n);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,n){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[n])return this.ecModel.getComponent(zx(t),n)},e.prototype.setRawRange=function(t){var n=this.option,i=this.settledOption;he([["start","startValue"],["end","endValue"]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(n[a[0]]=i[a[0]]=t[a[0]],n[a[1]]=i[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var n=this.option;he(["start","startValue","end","endValue"],function(i){n[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,n){if(t==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,n).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var s=i[a],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var c=this.getAxisProxy(s,o.indexList[l]);if(c.hostedBy(this))return c;n||(n=c)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e})(En);function lee(r){var e={};return he(["start","end","startValue","endValue","throttle"],function(t){r.hasOwnProperty(t)&&(e[t]=r[t])}),e}var T9e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(W3),aH=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this.dataZoomModel=t,this.ecModel=n,this.api=i},e.type="dataZoom",e})(Aa),A9e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(aH),hw=he,cee=Dh,E9e=(function(){function r(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}return r.prototype.hostedBy=function(e){return this._dataZoomModel===e},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(w9e(t)){var n=zx(this._dimName),i=t.getReferringComponents(n,Ls).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return Cr(this._minMaxSpan)},r.prototype.calculateDataWindow=function(e){var t=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],c;hw(["start","end"],function(d,h){var p=e[d],v=e[d+"Value"];a[h]==="percent"?(p==null&&(p=s[h]),v=i.parse(Ti(p,s,t))):(c=!0,v=v==null?t[h]:i.parse(v),p=Ti(v,t,s)),l[h]=v==null||isNaN(v)?t[h]:v,o[h]=p==null||isNaN(p)?s[h]:p}),cee(l),cee(o);var u=this._minMaxSpan;c?f(l,o,t,s,!1):f(o,l,s,t,!0);function f(d,h,p,v,x){var g=x?"Span":"ValueSpan";oy(0,d,p,"all",u["min"+g],u["max"+g]);for(var _=0;_<2;_++)h[_]=Ti(d[_],p,v,!0),x&&(h[_]=i.parse(h[_]))}return{valueWindow:l,percentWindow:o}},r.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=M9e(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),s=this._valueWindow;if(a==="none")return;hw(i,function(l){var c=l.getData(),u=c.mapDimensionsAll(n);if(u.length){if(a==="weakFilter"){var f=c.getStore(),d=Gt(u,function(h){return c.getDimensionIndex(h)},c);c.filterSelf(function(h){for(var p,v,x,g=0;g<u.length;g++){var _=f.get(d[g],h),w=!isNaN(_),A=_<s[0],M=_>s[1];if(w&&!A&&!M)return!0;w&&(x=!0),A&&(p=!0),M&&(v=!0)}return x&&p&&v})}else hw(u,function(h){if(a==="empty")l.setData(c=c.map(h,function(v){return o(v)?v:NaN}));else{var p={};p[h]=s,c.selectRange(p)}});hw(u,function(h){c.setApproximateExtent(s,h)})}});function o(l){return l>=s[0]&&l<=s[1]}},r.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;hw(["min","max"],function(i){var a=t.get(i+"Span"),s=t.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=Ti(n[0]+s,n,[0,100],!0):a!=null&&(s=Ti(a,[0,100],n,!0)-n[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=s},this)},r.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var i=XU(n,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;t[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),t[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},r})();function M9e(r,e,t){var n=[1/0,-1/0];hw(t,function(s){Wke(n,s.getData(),e)});var i=r.getAxisModel(),a=Whe(i.axis.scale,i,n).calculate();return[a.min,a.max]}var C9e={getTargetSeries:function(r){function e(i){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var l=r.getComponent(zx(s),o);i(s,o,l,a)})})}e(function(i,a,s,o){s.__dzAxisProxy=null});var t=[];e(function(i,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new E9e(i,a,o,r),t.push(s.__dzAxisProxy))});var n=br();return he(t,function(i){he(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(r,e){r.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(n,i){t.getAxisProxy(n,i).reset(t)}),t.eachTargetAxis(function(n,i){t.getAxisProxy(n,i).filterData(t,e)})}),r.eachComponent("dataZoom",function(t){var n=t.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function N9e(r){r.registerAction("dataZoom",function(e,t){var n=S9e(t,e);he(n,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var uee=!1;function sH(r){uee||(uee=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,C9e),N9e(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function D9e(r){r.registerComponentModel(T9e),r.registerComponentView(A9e),sH(r)}var Cd=(function(){function r(){}return r})(),q0e={};function dw(r,e){q0e[r]=e}function X0e(r){return q0e[r]}var L9e=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;he(this.option.feature,function(n,i){var a=X0e(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),pn(n,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:ut.color.border,borderRadius:0,borderWidth:0,padding:ut.size.m,itemSize:15,itemGap:ut.size.s,showTitle:!0,iconStyle:{borderColor:ut.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:ut.color.accent50}},tooltip:{show:!1,position:"bottom"}},e})(En);function Z0e(r,e){var t=WS(e.get("padding")),n=e.getItemStyle(["color","opacity"]);n.fill=e.get("backgroundColor");var i=new _n({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1});return i}var R9e=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i,a){var s=this.group;if(s.removeAll(),!t.get("show"))return;var o=+t.get("itemSize"),l=t.get("orient")==="vertical",c=t.get("feature")||{},u=this._features||(this._features={}),f=[];he(c,function(_,w){f.push(w)}),new ag(this._featureNames||[],f).add(d).update(d).remove(cn(d,null)).execute(),this._featureNames=f;function d(_,w){var A=f[_],M=f[w],C=c[A],N=new Ln(C,t,t.ecModel),L;if(a&&a.newTitle!=null&&a.featureName===A&&(C.title=a.newTitle),A&&!M){if(k9e(A))L={onclick:N.option.onclick,featureName:A};else{var D=X0e(A);if(!D)return;L=new D}u[A]=L}else if(L=u[M],!L)return;L.uid=GS("toolbox-feature"),L.model=N,L.ecModel=n,L.api=i;var k=L instanceof Cd;if(!A&&M){k&&L.dispose&&L.dispose(n,i);return}if(!N.get("show")||k&&L.unusable){k&&L.remove&&L.remove(n,i);return}h(N,L,A),N.setIconStatus=function(O,I){var j=this.option,B=this.iconPaths;j.iconStatus=j.iconStatus||{},j.iconStatus[O]=I,B[O]&&(I==="emphasis"?ng:ig)(B[O])},L instanceof Cd&&L.render&&L.render(N,n,i,a)}function h(_,w,A){var M=_.getModel("iconStyle"),C=_.getModel(["emphasis","iconStyle"]),N=w instanceof Cd&&w.getIcons?w.getIcons():_.get("icon"),L=_.get("title")||{},D,k;fr(N)?(D={},D[A]=N):D=N,fr(L)?(k={},k[A]=L):k=L;var O=_.iconPaths={};he(D,function(I,j){var B=VS(I,{},{x:-o/2,y:-o/2,width:o,height:o});B.setStyle(M.getItemStyle());var K=B.ensureState("emphasis");K.style=C.getItemStyle();var H=new $n({style:{text:k[j],align:C.get("textAlign"),borderRadius:C.get("textBorderRadius"),padding:C.get("textPadding"),fill:null,font:g9({fontStyle:C.get("textFontStyle"),fontFamily:C.get("textFontFamily"),fontSize:C.get("textFontSize"),fontWeight:C.get("textFontWeight")},n)},ignore:!0});B.setTextContent(H),bg({el:B,componentModel:t,itemName:j,formatterParamsExtra:{title:k[j]}}),B.__title=k[j],B.on("mouseover",function(){var Z=C.getItemStyle(),Y=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";H.setStyle({fill:C.get("textFill")||Z.fill||Z.stroke||ut.color.neutral99,backgroundColor:C.get("textBackgroundColor")}),B.setTextConfig({position:C.get("textPosition")||Y}),H.ignore=!t.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){_.get(["iconStatus",j])!=="emphasis"&&i.leaveEmphasis(this),H.hide()}),(_.get(["iconStatus",j])==="emphasis"?ng:ig)(B),s.add(B),B.on("click",hr(w.onclick,w,n,i,j)),O[j]=B})}var p=al(t,i).refContainer,v=t.getBoxLayoutParams(),x=t.get("padding"),g=Ja(v,p,x);k2(t.get("orient"),s,t.get("itemGap"),g.width,g.height),Jk(s,v,p,x),s.add(Z0e(s.getBoundingRect(),t)),l||s.eachChild(function(_){var w=_.__title,A=_.ensureState("emphasis"),M=A.textConfig||(A.textConfig={}),C=_.getTextContent(),N=C&&C.ensureState("emphasis");if(N&&!Tr(N)&&w){var L=N.style||(N.style={}),D=Bk(w,$n.makeFont(L)),k=_.x+s.x,O=_.y+s.y+o,I=!1;O+D.height>i.getHeight()&&(M.position="top",I=!0);var j=I?-5-D.height:o+10;k+D.width/2>i.getWidth()?(M.position=["100%",j],L.align="right"):k-D.width/2<0&&(M.position=[0,j],L.align="left")}})},e.prototype.updateView=function(t,n,i,a){he(this._features,function(s){s instanceof Cd&&s.updateView&&s.updateView(s.model,n,i,a)})},e.prototype.remove=function(t,n){he(this._features,function(i){i instanceof Cd&&i.remove&&i.remove(t,n)}),this.group.removeAll()},e.prototype.dispose=function(t,n){he(this._features,function(i){i instanceof Cd&&i.dispose&&i.dispose(t,n)})},e.type="toolbox",e})(Aa);function k9e(r){return r.indexOf("my")===0}var I9e=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){var i=this.model,a=i.get("name")||t.get("title.0.text")||"echarts",s=n.getZr().painter.getType()==="svg",o=s?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||ut.color.neutral00,connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),c=Un.browser;if(typeof MouseEvent=="function"&&(c.newEdge||!c.ie&&!c.edge)){var u=document.createElement("a");u.download=a+"."+o,u.target="_blank",u.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||s){var d=l.split(","),h=d[0].indexOf("base64")>-1,p=s?decodeURIComponent(d[1]):d[1];h&&(p=window.atob(p));var v=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var x=p.length,g=new Uint8Array(x);x--;)g[x]=p.charCodeAt(x);var _=new Blob([g]);window.navigator.msSaveOrOpenBlob(_,v)}else{var w=document.createElement("iframe");document.body.appendChild(w);var A=w.contentWindow,M=A.document;M.open("image/svg+xml","replace"),M.write(p),M.close(),A.focus(),M.execCommand("SaveAs",!0,v),document.body.removeChild(w)}}else{var C=i.get("lang"),N='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(C&&C[0]||"")+'" /></body>',L=window.open();L.document.write(N),L.document.title=a}},e.getDefaultOption=function(t){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:ut.color.neutral00,name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},e})(Cd),fee="__ec_magicType_stack__",O9e=[["line","bar"],["stack"]],P9e=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,n=t.get("icon"),i={};return he(t.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},e.getDefaultOption=function(t){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},e.prototype.onclick=function(t,n,i){var a=this.model,s=a.get(["seriesIndex",i]);if(hee[i]){var o={series:[]},l=function(f){var d=f.subType,h=f.id,p=hee[i](d,h,f,a);p&&(Rr(p,f.option),o.series.push(p));var v=f.coordinateSystem;if(v&&v.type==="cartesian2d"&&(i==="line"||i==="bar")){var x=v.getAxesByScale("ordinal")[0];if(x){var g=x.dim,_=g+"Axis",w=f.getReferringComponents(_,Ls).models[0],A=w.componentIndex;o[_]=o[_]||[];for(var M=0;M<=A;M++)o[_][A]=o[_][A]||{};o[_][A].boundaryGap=i==="bar"}}};he(O9e,function(f){hn(f,i)>=0&&he(f,function(d){a.setIconStatus(d,"normal")})}),a.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var c,u=i;i==="stack"&&(c=pn({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(u="tiled")),n.dispatchAction({type:"changeMagicType",currentType:u,newOption:o,newTitle:c,featureName:"magicType"})}},e})(Cd),hee={line:function(r,e,t,n){if(r==="bar")return pn({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,e,t,n){if(r==="line")return pn({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,e,t,n){var i=t.get("stack")===fee;if(r==="line"||r==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),pn({id:e,stack:i?"":fee},n.get(["option","stack"])||{},!0)}};n0({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,e){e.mergeOption(r.newOption)});var vI=new Array(60).join("-"),dS="	";function F9e(r){var e={},t=[],n=[];return r.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;e[o]||(e[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},n.push({axisDim:s.dim,axisIndex:s.index})),e[o].series.push(i)}else t.push(i)}else t.push(i)}),{seriesGroupByCategoryAxis:e,other:t,meta:n}}function B9e(r){var e=[];return he(r,function(t,n){var i=t.categoryAxis,a=t.valueAxis,s=a.dim,o=[" "].concat(Gt(t.series,function(h){return h.name})),l=[i.model.getCategories()];he(t.series,function(h){var p=h.getRawData();l.push(h.getRawData().mapArray(p.mapDimension(s),function(v){return v}))});for(var c=[o.join(dS)],u=0;u<l[0].length;u++){for(var f=[],d=0;d<l.length;d++)f.push(l[d][u]);c.push(f.join(dS))}e.push(c.join(`
`))}),e.join(`

`+vI+`

`)}function z9e(r){return Gt(r,function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=t.getName(s),l=0;l<a-1;l++)i[l]=arguments[l];n.push((o?o+dS:"")+i.join(dS))}),n.join(`
`)}).join(`

`+vI+`

`)}function j9e(r){var e=F9e(r);return{value:bi([B9e(e.seriesGroupByCategoryAxis),z9e(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+vI+`

`),meta:e.meta}}function ZL(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function U9e(r){var e=r.slice(0,r.indexOf(`
`));if(e.indexOf(dS)>=0)return!0}var ej=new RegExp("["+dS+"]+","g");function V9e(r){for(var e=r.split(/\n+/g),t=ZL(e.shift()).split(ej),n=[],i=Gt(t,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var s=ZL(e[a]).split(ej);n.push(s.shift());for(var o=0;o<s.length;o++)i[o]&&(i[o].data[a]=s[o])}return{series:i,categories:n}}function H9e(r){for(var e=r.split(/\n+/g),t=ZL(e.shift()),n=[],i=0;i<e.length;i++){var a=ZL(e[i]);if(a){var s=a.split(ej),o="",l=void 0,c=!1;isNaN(s[0])?(c=!0,o=s[0],s=s.slice(1),n[i]={name:o,value:[]},l=n[i].value):l=n[i]=[];for(var u=0;u<s.length;u++)l.push(+s[u]);l.length===1&&(c?n[i].value=l[0]:n[i]=l[0])}}return{name:t,data:n}}function G9e(r,e){var t=r.split(new RegExp(`
*`+vI+`
*`,"g")),n={series:[]};return he(t,function(i,a){if(U9e(i)){var s=V9e(i),o=e[a],l=o.axisDim+"Axis";o&&(n[l]=n[l]||[],n[l][o.axisIndex]={data:s.categories},n.series=n.series.concat(s.series))}else{var s=H9e(i);n.series.push(s)}}),n}var W9e=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||ut.color.neutral00;var o=document.createElement("h4"),l=a.get("lang")||[];o.innerHTML=l[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var c=document.createElement("div"),u=document.createElement("textarea");c.style.cssText="overflow:auto";var f=a.get("optionToContent"),d=a.get("contentToOption"),h=j9e(t);if(Tr(f)){var p=f(n.getOption());fr(p)?c.innerHTML=p:Y2(p)&&c.appendChild(p)}else{u.readOnly=a.get("readOnly");var v=u.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=a.get("textColor"),v.borderColor=a.get("textareaBorderColor"),v.backgroundColor=a.get("textareaColor"),u.value=h.value,c.appendChild(u)}var x=h.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var _="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),A=document.createElement("div");_+=";background-color:"+a.get("buttonColor"),_+=";color:"+a.get("buttonTextColor");var M=this;function C(){i.removeChild(s),M._dom=null}u7(w,"click",C),u7(A,"click",function(){if(d==null&&f!=null||d!=null&&f==null){C();return}var N;try{Tr(d)?N=d(c,n.getOption()):N=G9e(u.value,x)}catch(L){throw C(),new Error("Data view format error "+L)}N&&n.dispatchAction({type:"changeDataView",newOption:N}),C()}),w.innerHTML=l[1],A.innerHTML=l[2],A.style.cssText=w.style.cssText=_,!a.get("readOnly")&&g.appendChild(A),g.appendChild(w),s.appendChild(o),s.appendChild(c),s.appendChild(g),c.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},e.prototype.remove=function(t,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.getDefaultOption=function(t){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:ut.color.background,textColor:ut.color.primary,textareaColor:ut.color.background,textareaBorderColor:ut.color.border,buttonColor:ut.color.accent50,buttonTextColor:ut.color.neutral00};return n},e})(Cd);function Y9e(r,e){return Gt(r,function(t,n){var i=e&&e[n];if(kr(i)&&!Ut(i)){var a=kr(t)&&!Ut(t);a||(t={value:t});var s=i.name!=null&&t.name==null;return t=Rr(t,i),s&&delete t.name,t}else return t})}n0({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,e){var t=[];he(r.newOption.series,function(n){var i=e.getSeriesByName(n.name)[0];if(!i)t.push(It({type:"scatter"},n));else{var a=i.get("data");t.push({name:n.name,data:Y9e(n.data,a)})}}),e.mergeOption(Rr({series:t},r.newOption))});var K0e=he,$0e=Mn();function q9e(r,e){var t=oH(r);K0e(e,function(n,i){for(var a=t.length-1;a>=0;a--){var s=t[a];if(s[i])break}if(a<0){var o=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var l=o.getPercentRange();t[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),t.push(e)}function X9e(r){var e=oH(r),t=e[e.length-1];e.length>1&&e.pop();var n={};return K0e(t,function(i,a){for(var s=e.length-1;s>=0;s--)if(i=e[s][a],i){n[a]=i;break}}),n}function Z9e(r){$0e(r).snapshots=null}function K9e(r){return oH(r).length}function oH(r){var e=$0e(r);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var $9e=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){Z9e(t),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return n},e})(Cd);n0({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,e){e.resetOption("recreate")});var J9e=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],lH=(function(){function r(e,t,n){var i=this;this._targetInfoList=[];var a=dee(t,e);he(Q9e,function(s,o){(!n||!n.include||hn(n.include,o)>=0)&&s(a,i._targetInfoList)})}return r.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var s=O8[n.brushType](0,a,i);n.__rangeOffset={offset:gee[n.brushType](s.values,n.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},r.prototype.matchOutputRanges=function(e,t,n){he(e,function(i){var a=this.findTargetInfo(i,t);a&&a!==!0&&he(a.coordSyses,function(s){var o=O8[i.brushType](1,s,i.range,!0);n(i,o.values,s,t)})},this)},r.prototype.setInputRanges=function(e,t){he(e,function(n){var i=this.findTargetInfo(n,t);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=O8[n.brushType](0,i.coordSys,n.coordRange),s=n.__rangeOffset;n.range=s?gee[n.brushType](a.values,s.offset,eVe(a.xyMinMax,s.xyMinMax)):a.values}},this)},r.prototype.makePanelOpts=function(e,t){return Gt(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:r0e(i),isTargetByCursor:i0e(i,e,n.coordSysModel),getLinearBrushOtherExtent:n0e(i)}})},r.prototype.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return i===!0||i&&hn(i.coordSyses,t.coordinateSystem)>=0},r.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=dee(t,e),a=0;a<n.length;a++){var s=n[a],o=e.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<pee.length;l++)if(pee[l](i,s))return s}return!0},r})();function tj(r){return r[0]>r[1]&&r.reverse(),r}function dee(r,e){return zw(r,e,{includeMainTypes:J9e})}var Q9e={grid:function(r,e){var t=r.xAxisModels,n=r.yAxisModels,i=r.gridModels,a=br(),s={},o={};!t&&!n&&!i||(he(t,function(l){var c=l.axis.grid.model;a.set(c.id,c),s[c.id]=!0}),he(n,function(l){var c=l.axis.grid.model;a.set(c.id,c),o[c.id]=!0}),he(i,function(l){a.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),a.each(function(l){var c=l.coordinateSystem,u=[];he(c.getCartesians(),function(f,d){(hn(t,f.getAxis("x").model)>=0||hn(n,f.getAxis("y").model)>=0)&&u.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:u[0],coordSyses:u,getPanelRect:vee.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(r,e){he(r.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:vee.geo})})}},pee=[function(r,e){var t=r.xAxisModel,n=r.yAxisModel,i=r.gridModel;return!i&&t&&(i=t.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===e.gridModel},function(r,e){var t=r.geoModel;return t&&t===e.geoModel}],vee={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,e=r.getBoundingRect().clone();return e.applyTransform($x(r)),e}},O8={lineX:cn(mee,0),lineY:cn(mee,1),rect:function(r,e,t,n){var i=r?e.pointToData([t[0][0],t[1][0]],n):e.dataToPoint([t[0][0],t[1][0]],n),a=r?e.pointToData([t[0][1],t[1][1]],n):e.dataToPoint([t[0][1],t[1][1]],n),s=[tj([i[0],a[0]]),tj([i[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(r,e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=Gt(t,function(s){var o=r?e.pointToData(s,n):e.dataToPoint(s,n);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o});return{values:a,xyMinMax:i}}};function mee(r,e,t,n){var i=t.getAxis(["x","y"][r]),a=tj(Gt([0,1],function(o){return e?i.coordToData(i.toLocalCoord(n[o]),!0):i.toGlobalCoord(i.dataToCoord(n[o]))})),s=[];return s[r]=a,s[1-r]=[NaN,NaN],{values:a,xyMinMax:s}}var gee={lineX:cn(xee,0),lineY:cn(xee,1),rect:function(r,e,t){return[[r[0][0]-t[0]*e[0][0],r[0][1]-t[0]*e[0][1]],[r[1][0]-t[1]*e[1][0],r[1][1]-t[1]*e[1][1]]]},polygon:function(r,e,t){return Gt(r,function(n,i){return[n[0]-t[0]*e[i][0],n[1]-t[1]*e[i][1]]})}};function xee(r,e,t,n){return[e[0]-n[r]*t[0],e[1]-n[r]*t[1]]}function eVe(r,e){var t=yee(r),n=yee(e),i=[t[0]/n[0],t[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function yee(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var rj=he,tVe=PCe("toolbox-dataZoom_"),rVe=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i,a){this._brushController||(this._brushController=new kV(i.getZr()),this._brushController.on("brush",hr(this._onBrush,this)).mount()),aVe(t,n,this,a,i),iVe(t,n)},e.prototype.onclick=function(t,n,i){nVe[i].call(this)},e.prototype.remove=function(t,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var n=t.areas;if(!t.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var s=new lH(cH(this.model),a,{include:["grid"]});s.matchOutputRanges(n,a,function(c,u,f){if(f.type==="cartesian2d"){var d=c.brushType;d==="rect"?(o("x",f,u[0]),o("y",f,u[1])):o({lineX:"x",lineY:"y"}[d],f,u)}}),q9e(a,i),this._dispatchZoomAction(i);function o(c,u,f){var d=u.getAxis(c),h=d.model,p=l(c,h,a),v=p.findRepresentativeAxisProxy(h).getMinMaxSpan();(v.minValueSpan!=null||v.maxValueSpan!=null)&&(f=oy(0,f.slice(),d.scale.getExtent(),0,v.minValueSpan,v.maxValueSpan)),p&&(i[p.id]={dataZoomId:p.id,startValue:f[0],endValue:f[1]})}function l(c,u,f){var d;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(h){var p=h.getAxisModel(c,u.componentIndex);p&&(d=h)}),d}},e.prototype._dispatchZoomAction=function(t){var n=[];rj(t,function(i,a){n.push(Cr(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(t){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:ut.color.backgroundTint}};return n},e})(Cd),nVe={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(X9e(this.ecModel))}};function cH(r){var e={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function iVe(r,e){r.setIconStatus("back",K9e(e)>1?"emphasis":"normal")}function aVe(r,e,t,n,i){var a=t._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),t._isZoomActive=a,r.setIconStatus("zoom",a?"emphasis":"normal");var s=new lH(cH(r),e,{include:["grid"]}),o=s.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}gDe("dataZoom",function(r){var e=r.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var n=e.getModel(t),i=[],a=cH(n),s=zw(r,a);rj(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),rj(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,c,u){var f=l.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:tVe+c+f};d[u]=f,i.push(d)}return i});function sVe(r){r.registerComponentModel(L9e),r.registerComponentView(R9e),dw("saveAsImage",I9e),dw("magicType",P9e),dw("dataView",W9e),dw("dataZoom",rVe),dw("restore",$9e),xn(D9e)}var oVe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:ut.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:ut.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:ut.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:ut.color.tertiary,fontSize:14}},e})(En);function J0e(r){var e=r.get("confine");return e!=null?!!e:r.get("renderMode")==="richText"}function Q0e(r){if(Un.domSupported){for(var e=document.documentElement.style,t=0,n=r.length;t<n;t++)if(r[t]in e)return r[t]}}var eve=Q0e(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),lVe=Q0e(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function tve(r,e){if(!r)return e;e=D9(e,!0);var t=r.indexOf(e);return r=t===-1?e:"-"+r.slice(0,t)+"-"+e,r.toLowerCase()}function cVe(r,e){var t=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return t?t[e]:null}var uVe=tve(lVe,"transition"),uH=tve(eve,"transform"),fVe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Un.transform3dSupported?"will-change:transform;":"");function hVe(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function dVe(r,e,t){if(!fr(t)||t==="inside")return"";var n=r.get("backgroundColor"),i=r.get("borderWidth");e=Q2(e);var a=hVe(t),s=Math.max(Math.round(i)*1.5,6),o="",l=uH+":",c;hn(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(c=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(c=a==="top"?225:45)+"deg)");var u=c*Math.PI/180,f=s+i,d=f*Math.abs(Math.cos(u))+f*Math.abs(Math.sin(u)),h=Math.round(((d-Math.SQRT2*i)/2+Math.SQRT2*i-(d-f)/2)*100)/100;o+=";"+a+":-"+h+"px";var p=e+" solid "+i+"px;",v=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+n+";"];return'<div style="'+v.join("")+'"></div>'}function pVe(r,e,t){var n="cubic-bezier(0.23,1,0.32,1)",i="",a="";return t&&(i=" "+r/2+"s "+n,a="opacity"+i+",visibility"+i),e||(i=" "+r+"s "+n,a+=(a.length?",":"")+(Un.transformSupported?""+uH+i:",left"+i+",top"+i)),uVe+":"+a}function bee(r,e,t){var n=r.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Un.transformSupported)return t?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=Un.transform3dSupported,s="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+uH+":"+s+";":[["top",0],["left",0],[eve,s]]}function vVe(r){var e=[],t=r.get("fontSize"),n=r.getTextColor();n&&e.push("color:"+n),e.push("font:"+r.getFont());var i=wr(r.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+i+"px");var a=r.get("textShadowColor"),s=r.get("textShadowBlur")||0,o=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return a&&s&&e.push("text-shadow:"+o+"px "+l+"px "+s+"px "+a),he(["decoration","align"],function(c){var u=r.get(c);u&&e.push("text-"+c+":"+u)}),e.join(";")}function mVe(r,e,t,n){var i=[],a=r.get("transitionDuration"),s=r.get("backgroundColor"),o=r.get("shadowBlur"),l=r.get("shadowColor"),c=r.get("shadowOffsetX"),u=r.get("shadowOffsetY"),f=r.getModel("textStyle"),d=Hfe(r,"html"),h=c+"px "+u+"px "+o+"px "+l;return i.push("box-shadow:"+h),e&&a>0&&i.push(pVe(a,t,n)),s&&i.push("background-color:"+s),he(["width","color","radius"],function(p){var v="border-"+p,x=D9(v),g=r.get(x);g!=null&&i.push(v+":"+g+(p==="color"?"":"px"))}),i.push(vVe(f)),d!=null&&i.push("padding:"+WS(d).join("px ")+"px"),i.join(";")+";"}function _ee(r,e,t,n,i){var a=e&&e.painter;if(t){var s=a&&a.getViewportRoot();s&&tMe(r,s,t,n,i)}else{r[0]=n,r[1]=i;var o=a&&a.getViewportRootOffset();o&&(r[0]+=o.offsetLeft,r[1]+=o.offsetTop)}r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var gVe=(function(){function r(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Un.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=e.getZr(),a=t.appendTo,s=a&&(fr(a)?document.querySelector(a):Y2(a)?a:Tr(a)&&a(e.getDom()));_ee(this._styleCoord,i,s,e.getWidth()/2,e.getHeight()/2),(s||e.getDom()).appendChild(n),this._api=e,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var c=i.handler,u=i.painter.getViewportRoot();_d(u,l,!0),c.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return r.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),n=cVe(t,"position"),i=t.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},r.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=fVe+mVe(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+bee(a[0],a[1],!0)+("border-color:"+Q2(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(e,t,n,i,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(fr(a)&&n.get("trigger")==="item"&&!J0e(n)&&(o=dVe(n,i,a)),fr(e))s.innerHTML=e+o;else if(e){s.innerHTML="",Ut(e)||(e=[e]);for(var l=0;l<e.length;l++)Y2(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var c=document.createElement("div");c.innerHTML=o,s.appendChild(c)}}},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},r.prototype.moveTo=function(e,t){if(this.el){var n=this._styleCoord;if(_ee(n,this._zr,this._container,e,t),n[0]!=null&&n[1]!=null){var i=this.el.style,a=bee(n[0],n[1]);he(a,function(s){i[s[0]]=s[1]})}}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility="hidden",t.opacity="0"):t.display="none",Un.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(hr(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;rMe(e&&e.painter&&e.painter.getViewportRoot(),this._container);var t=this.el;if(t){t.onmouseenter=t.onmousemove=t.onmouseleave=null;var n=t.parentNode;n&&n.removeChild(t)}this.el=this._container=null},r})(),xVe=(function(){function r(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),See(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return r.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(e,t,n,i,a){var s=this;kr(e)&&Ai(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new $n({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Hfe(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),he(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){s.el.style[c]=n.get(c)}),he(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){s.el.style[c]=o.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=wee(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},r.prototype.moveTo=function(e,t){var n=this.el;if(n){var i=this._styleCoord;See(i,this._zr,e,t),e=i[0],t=i[1];var a=n.style,s=Tx(a.borderWidth||0),o=wee(a);n.x=e+s+o.left,n.y=t+s+o.top,n.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(hr(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r})();function Tx(r){return Math.max(0,r)}function wee(r){var e=Tx(r.shadowBlur||0),t=Tx(r.shadowOffsetX||0),n=Tx(r.shadowOffsetY||0);return{left:Tx(e-t),right:Tx(e+t),top:Tx(e-n),bottom:Tx(e+n)}}function See(r,e,t,n){r[0]=t,r[1]=n,r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var yVe=new _n({shape:{x:-1,y:-1,width:2,height:2}}),bVe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){if(!(Un.node||!n.getDom())){var i=t.getComponent("tooltip"),a=this._renderMode=HCe(i.get("renderMode"));this._tooltipContent=a==="richText"?new xVe(n):new gVe(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,n,i){if(!(Un.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?XS(this,"_updatePosition",50,"fixRate"):D3(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,n=t.get("triggerOn");P0e("itemTooltip",this._api,hr(function(i,a,s){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,n=this._ecModel,i=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(t,n,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,n,i,a){if(!(a.from===this.uid||Un.node||!i.getDom())){var s=Tee(a,i);this._ticket="";var o=a.dataByCoordSys,l=TVe(a,n,i);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var u=yVe;u.x=a.x,u.y=a.y,u.update(),Vr(u).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:u},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,n,i,a))return;var f=F0e(a,n),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(t,n,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Tee(a,i))},e.prototype._manuallyAxisShowTip=function(t,n,i,a){var s=a.seriesIndex,o=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var c=n.getSeriesByIndex(s);if(c){var u=c.getData(),f=_5([u.getItemModel(o),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(t,n){var i=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(i){var o=Vr(i);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,c;y2(i,function(u){if(u.tooltipDisabled)return l=c=null,!0;l||c||(Vr(u).dataIndex!=null?l=u:Vr(u).tooltipConfig!=null&&(c=u))},!0),l?this._showSeriesItemTooltip(t,l,n):c?this._showComponentItemTooltip(t,c,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(t,n){var i=t.get("showDelay");n=hr(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},e.prototype._showAxisTooltip=function(t,n){var i=this._ecModel,a=this._tooltipModel,s=[n.offsetX,n.offsetY],o=_5([n.tooltipOption],a),l=this._renderMode,c=[],u=Uo("section",{blocks:[],noHeader:!0}),f=[],d=new mP;he(t,function(_){he(_.dataByAxis,function(w){var A=i.getComponent(w.axisDim+"Axis",w.axisIndex),M=w.value;if(!(!A||M==null)){var C=k0e(M,A.axis,i,w.seriesDataIndices,w.valueLabelOpt),N=Uo("section",{header:C,noHeader:!Nh(C),sortBlocks:!0,blocks:[]});u.blocks.push(N),he(w.seriesDataIndices,function(L){var D=i.getSeriesByIndex(L.seriesIndex),k=L.dataIndexInside,O=D.getDataParams(k);if(!(O.dataIndex<0)){O.axisDim=w.axisDim,O.axisIndex=w.axisIndex,O.axisType=w.axisType,O.axisId=w.axisId,O.axisValue=EL(A.axis,{value:M}),O.axisValueLabel=C,O.marker=d.makeTooltipMarker("item",Q2(O.color),l);var I=jZ(D.formatTooltip(k,!0,null)),j=I.frag;if(j){var B=_5([D],a).get("valueFormatter");N.blocks.push(B?It({valueFormatter:B},j):j)}I.text&&f.push(I.text),c.push(O)}})}})}),u.blocks.reverse(),f.reverse();var h=n.position,p=o.get("order"),v=YZ(u,d,l,p,i.get("useUTC"),o.get("textStyle"));v&&f.unshift(v);var x=l==="richText"?`

`:"<br/>",g=f.join(x);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(o,h,s[0],s[1],this._tooltipContent,c):this._showTooltipContent(o,g,c,Math.random()+"",s[0],s[1],h,null,d)})},e.prototype._showSeriesItemTooltip=function(t,n,i){var a=this._ecModel,s=Vr(n),o=s.seriesIndex,l=a.getSeriesByIndex(o),c=s.dataModel||l,u=s.dataIndex,f=s.dataType,d=c.getData(f),h=this._renderMode,p=t.positionDefault,v=_5([d.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),x=v.get("trigger");if(!(x!=null&&x!=="item")){var g=c.getDataParams(u,f),_=new mP;g.marker=_.makeTooltipMarker("item",Q2(g.color),h);var w=jZ(c.formatTooltip(u,!1,f)),A=v.get("order"),M=v.get("valueFormatter"),C=w.frag,N=C?YZ(M?It({valueFormatter:M},C):C,_,h,A,a.get("useUTC"),v.get("textStyle")):w.text,L="item_"+c.name+"_"+u;this._showOrMove(v,function(){this._showTooltipContent(v,N,g,L,t.offsetX,t.offsetY,t.position,t.target,_)}),i({type:"showTip",dataIndexInside:u,dataIndex:d.getRawIndex(u),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,n,i){var a=this._renderMode==="html",s=Vr(n),o=s.tooltipConfig,l=o.option||{},c=l.encodeHTMLContent;if(fr(l)){var u=l;l={content:u,formatter:u},c=!0}c&&a&&l.content&&(l=Cr(l),l.content=tu(l.content));var f=[l],d=this._ecModel.getComponent(s.componentMainType,s.componentIndex);d&&f.push(d),f.push({formatter:l.content});var h=t.positionDefault,p=_5(f,this._tooltipModel,h?{position:h}:null),v=p.get("content"),x=Math.random()+"",g=new mP;this._showOrMove(p,function(){var _=Cr(p.get("formatterParams")||{});this._showTooltipContent(p,v,_,x,t.offsetX,t.offsetY,t.position,n,g)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,n,i,a,s,o,l,c,u){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var d=t.get("formatter");l=l||t.get("position");var h=n,p=this._getNearestPoint([s,o],i,t.get("trigger"),t.get("borderColor"),t.get("defaultBorderColor",!0)),v=p.color;if(d)if(fr(d)){var x=t.ecModel.get("useUTC"),g=Ut(i)?i[0]:i,_=g&&g.axisType&&g.axisType.indexOf("time")>=0;h=d,_&&(h=YE(g.axisValue,h,x)),h=L9(h,i,!0)}else if(Tr(d)){var w=hr(function(A,M){A===this._ticket&&(f.setContent(M,u,t,v,l),this._updatePosition(t,l,s,o,f,i,c))},this);this._ticket=a,h=d(i,a,w)}else h=d;f.setContent(h,u,t,v,l),f.show(t,v),this._updatePosition(t,l,s,o,f,i,c)}},e.prototype._getNearestPoint=function(t,n,i,a,s){if(i==="axis"||Ut(n))return{color:a||s};if(!Ut(n))return{color:a||n.color||n.borderColor}},e.prototype._updatePosition=function(t,n,i,a,s,o,l){var c=this._api.getWidth(),u=this._api.getHeight();n=n||t.get("position");var f=s.getSize(),d=t.get("align"),h=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),Tr(n)&&(n=n([i,a],o,s.el,p,{viewSize:[c,u],contentSize:f.slice()})),Ut(n))i=ur(n[0],c),a=ur(n[1],u);else if(kr(n)){var v=n;v.width=f[0],v.height=f[1];var x=Ja(v,{width:c,height:u});i=x.x,a=x.y,d=null,h=null}else if(fr(n)&&l){var g=SVe(n,p,f,t.get("borderWidth"));i=g[0],a=g[1]}else{var g=_Ve(i,a,s,c,u,d?null:20,h?null:20);i=g[0],a=g[1]}if(d&&(i-=Aee(d)?f[0]/2:d==="right"?f[0]:0),h&&(a-=Aee(h)?f[1]/2:h==="bottom"?f[1]:0),J0e(t)){var g=wVe(i,a,s,c,u);i=g[0],a=g[1]}s.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===t.length;return s&&he(i,function(o,l){var c=o.dataByAxis||[],u=t[l]||{},f=u.dataByAxis||[];s=s&&c.length===f.length,s&&he(c,function(d,h){var p=f[h]||{},v=d.seriesDataIndices||[],x=p.seriesDataIndices||[];s=s&&d.value===p.value&&d.axisType===p.axisType&&d.axisId===p.axisId&&v.length===x.length,s&&he(v,function(g,_){var w=x[_];s=s&&g.seriesIndex===w.seriesIndex&&g.dataIndex===w.dataIndex}),a&&he(d.seriesDataIndices,function(g){var _=g.seriesIndex,w=n[_],A=a[_];w&&A&&A.data!==w.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=n,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,n){Un.node||!n.getDom()||(D3(this,"_updatePosition"),this._tooltipContent.dispose(),Xz("itemTooltip",n))},e.type="tooltip",e})(Aa);function _5(r,e,t){var n=e.ecModel,i;t?(i=new Ln(t,n,n),i=new Ln(e.option,i,n)):i=e;for(var a=r.length-1;a>=0;a--){var s=r[a];s&&(s instanceof Ln&&(s=s.get("tooltip",!0)),fr(s)&&(s={formatter:s}),s&&(i=new Ln(s,i,n)))}return i}function Tee(r,e){return r.dispatchAction||hr(e.dispatchAction,e)}function _Ve(r,e,t,n,i,a,s){var o=t.getSize(),l=o[0],c=o[1];return a!=null&&(r+l+a+2>n?r-=l+a:r+=a),s!=null&&(e+c+s>i?e-=c+s:e+=s),[r,e]}function wVe(r,e,t,n,i){var a=t.getSize(),s=a[0],o=a[1];return r=Math.min(r+s,n)-s,e=Math.min(e+o,i)-o,r=Math.max(r,0),e=Math.max(e,0),[r,e]}function SVe(r,e,t,n){var i=t[0],a=t[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,c=e.width,u=e.height;switch(r){case"inside":o=e.x+c/2-i/2,l=e.y+u/2-a/2;break;case"top":o=e.x+c/2-i/2,l=e.y-a-s;break;case"bottom":o=e.x+c/2-i/2,l=e.y+u+s;break;case"left":o=e.x-i-s,l=e.y+u/2-a/2;break;case"right":o=e.x+c+s,l=e.y+u/2-a/2}return[o,l]}function Aee(r){return r==="center"||r==="middle"}function TVe(r,e,t){var n=QU(r).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=FS(e,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(c){var u=Vr(c).tooltipConfig;if(u&&u.name===r.name)return l=c,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}function AVe(r){xn(tM),r.registerComponentModel(oVe),r.registerComponentView(bVe),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ws),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ws)}var EVe=["rect","polygon","keep","clear"];function MVe(r,e){var t=Ta(r?r.brush:[]);if(t.length){var n=[];he(t,function(l){var c=l.hasOwnProperty("toolbox")?l.toolbox:[];c instanceof Array&&(n=n.concat(c))});var i=r&&r.toolbox;Ut(i)&&(i=i[0]),i||(i={feature:{}},r.toolbox=[i]);var a=i.feature||(i.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,n),CVe(o),e&&!o.length&&o.push.apply(o,EVe)}}function CVe(r){var e={};he(r,function(t){e[t]=1}),r.length=0,he(e,function(t,n){r.push(n)})}var Eee=he;function Mee(r){if(r){for(var e in r)if(r.hasOwnProperty(e))return!0}}function nj(r,e,t){var n={};return Eee(e,function(a){var s=n[a]=i();Eee(r[a],function(o,l){if(Sl.isValidType(l)){var c={type:l,visual:o};t&&t(c,a),s[l]=new Sl(c),l==="opacity"&&(c=Cr(c),c.type="colorAlpha",s.__hidden.__alphaForOpacity=new Sl(c))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function rve(r,e,t){var n;he(t,function(i){e.hasOwnProperty(i)&&Mee(e[i])&&(n=!0)}),n&&he(t,function(i){e.hasOwnProperty(i)&&Mee(e[i])?r[i]=Cr(e[i]):delete r[i]})}function NVe(r,e,t,n,i,a){var s={};he(r,function(f){var d=Sl.prepareVisualTypes(e[f]);s[f]=d});var o;function l(f){return U9(t,o,f)}function c(f,d){Qfe(t,o,f,d)}t.each(u);function u(f,d){o=f;var h=t.getRawDataItem(o);if(!(h&&h.visualMap===!1))for(var p=n.call(i,f),v=e[p],x=s[p],g=0,_=x.length;g<_;g++){var w=x[g];v[w]&&v[w].applyVisual(f,l,c)}}}function DVe(r,e,t,n){var i={};return he(r,function(a){var s=Sl.prepareVisualTypes(e[a]);i[a]=s}),{progress:function(s,o){var l;n!=null&&(l=o.getDimensionIndex(n));function c(M){return U9(o,f,M)}function u(M,C){Qfe(o,f,M,C)}for(var f,d=o.getStore();(f=s.next())!=null;){var h=o.getRawDataItem(f);if(!(h&&h.visualMap===!1))for(var p=n!=null?d.get(l,f):f,v=t(p),x=e[v],g=i[v],_=0,w=g.length;_<w;_++){var A=g[_];x[A]&&x[A].applyVisual(p,c,u)}}}}}function LVe(r){var e=r.brushType,t={point:function(n){return Cee[e].point(n,t,r)},rect:function(n){return Cee[e].rect(n,t,r)}};return t}var Cee={lineX:Nee(0),lineY:Nee(1),rect:{point:function(r,e,t){return r&&t.boundingRect.contain(r[0],r[1])},rect:function(r,e,t){return r&&t.boundingRect.intersect(r)}},polygon:{point:function(r,e,t){return r&&t.boundingRect.contain(r[0],r[1])&&o2(t.range,r[0],r[1])},rect:function(r,e,t){var n=t.range;if(!r||n.length<=1)return!1;var i=r.x,a=r.y,s=r.width,o=r.height,l=n[0];if(o2(n,i,a)||o2(n,i+s,a)||o2(n,i,a+o)||o2(n,i+s,a+o)||Br.create(r).contain(l[0],l[1])||eA(i,a,i+s,a,n)||eA(i,a,i,a+o,n)||eA(i+s,a,i+s,a+o,n)||eA(i,a+o,i+s,a+o,n))return!0}}};function Nee(r){var e=["x","y"],t=["width","height"];return{point:function(n,i,a){if(n){var s=a.range,o=n[r];return w5(o,s)}},rect:function(n,i,a){if(n){var s=a.range,o=[n[e[r]],n[e[r]]+n[t[r]]];return o[1]<o[0]&&o.reverse(),w5(o[0],s)||w5(o[1],s)||w5(s[0],o)||w5(s[1],o)}}}}function w5(r,e){return e[0]<=r&&r<=e[1]}var Dee=["inBrush","outOfBrush"],P8="__ecBrushSelect",ij="__ecInBrushSelectEvent";function nve(r){r.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new lH(e.option,r);t.setInputRanges(e.areas,r)})}function RVe(r,e,t){var n=[],i,a;r.eachComponent({mainType:"brush"},function(s){t&&t.type==="takeGlobalCursor"&&s.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),nve(r),r.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:Cr(s.areas),selected:[]};n.push(l);var c=s.option,u=c.brushLink,f=[],d=[],h=[],p=!1;o||(i=c.throttleType,a=c.throttleDelay);var v=Gt(s.areas,function(M){var C=PVe[M.brushType],N=Rr({boundingRect:C?C(M):void 0},M);return N.selectors=LVe(N),N}),x=nj(s.option,Dee,function(M){M.mappingMethod="fixed"});Ut(u)&&he(u,function(M){f[M]=1});function g(M){return u==="all"||!!f[M]}function _(M){return!!M.length}r.eachSeries(function(M,C){var N=h[C]=[];M.subType==="parallel"?w(M,C):A(M,C,N)});function w(M,C){var N=M.coordinateSystem;p=p||N.hasAxisBrushed(),g(C)&&N.eachActiveState(M.getData(),function(L,D){L==="active"&&(d[D]=1)})}function A(M,C,N){if(!(!M.brushSelector||OVe(s,C))&&(he(v,function(D){s.brushTargetManager.controlSeries(D,M,r)&&N.push(D),p=p||_(N)}),g(C)&&_(N))){var L=M.getData();L.each(function(D){Lee(M,N,L,D)&&(d[D]=1)})}}r.eachSeries(function(M,C){var N={seriesId:M.id,seriesIndex:C,seriesName:M.name,dataIndex:[]};l.selected.push(N);var L=h[C],D=M.getData(),k=g(C)?function(O){return d[O]?(N.dataIndex.push(D.getRawIndex(O)),"inBrush"):"outOfBrush"}:function(O){return Lee(M,L,D,O)?(N.dataIndex.push(D.getRawIndex(O)),"inBrush"):"outOfBrush"};(g(C)?p:_(L))&&NVe(Dee,x,D,k)})}),kVe(e,i,a,n,t)}function kVe(r,e,t,n,i){if(i){var a=r.getZr();if(!a[ij]){a[P8]||(a[P8]=IVe);var s=XS(a,P8,t,e);s(r,n)}}}function IVe(r,e){if(!r.isDisposed()){var t=r.getZr();t[ij]=!0,r.dispatchAction({type:"brushSelect",batch:e}),t[ij]=!1}}function Lee(r,e,t,n){for(var i=0,a=e.length;i<a;i++){var s=e[i];if(r.brushSelector(n,t,s.selectors,s))return!0}}function OVe(r,e){var t=r.option.seriesIndex;return t!=null&&t!=="all"&&(Ut(t)?hn(t,e)<0:e!==t)}var PVe={rect:function(r){return Ree(r.range)},polygon:function(r){for(var e,t=r.range,n=0,i=t.length;n<i;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=t[n];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&Ree(e)}};function Ree(r){return new Br(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var FVe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n,this.model,(this._brushController=new kV(n.getZr())).on("brush",hr(this._onBrush,this)).mount()},e.prototype.render=function(t,n,i,a){this.model=t,this._updateController(t,n,i,a)},e.prototype.updateTransform=function(t,n,i,a){nve(n),this._updateController(t,n,i,a)},e.prototype.updateVisual=function(t,n,i,a){this.updateTransform(t,n,i,a)},e.prototype.updateView=function(t,n,i,a){this._updateController(t,n,i,a)},e.prototype._updateController=function(t,n,i,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Cr(i),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Cr(i),$from:n})},e.type="brush",e})(Aa),BVe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,n){var i=this.option;!n&&rve(i,t,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=Gt(t,function(n){return kee(this.option,n)},this))},e.prototype.setBrushOption=function(t){this.brushOption=kee(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:ut.color.backgroundTint,borderColor:ut.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:ut.color.disabled},e})(En);function kee(r,e){return pn({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new Ln(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},e,!0)}var zVe=["rect","polygon","lineX","lineY","keep","clear"],jVe=(function(r){dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i){var a,s,o;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=a,this._brushMode=s,he(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,n,i){this.render(t,n,i)},e.prototype.getIcons=function(){var t=this.model,n=t.get("icon",!0),i={};return he(t.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},e.prototype.onclick=function(t,n,i){var a=this._brushType,s=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?s==="multiple"?"single":"multiple":s}})},e.getDefaultOption=function(t){var n={show:!0,type:zVe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return n},e})(Cd);function UVe(r){r.registerComponentView(FVe),r.registerComponentModel(BVe),r.registerPreprocessor(MVe),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,RVe),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Ws),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Ws),dw("brush",jVe)}var VVe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:ut.size.m,backgroundColor:ut.color.transparent,borderColor:ut.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:ut.color.primary},subtextStyle:{fontSize:12,color:ut.color.quaternary}},e})(En),HVe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,s=t.getModel("textStyle"),o=t.getModel("subtextStyle"),l=t.get("textAlign"),c=wr(t.get("textBaseline"),t.get("textVerticalAlign")),u=new $n({style:Sa(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),f=u.getBoundingRect(),d=t.get("subtext"),h=new $n({style:Sa(o,{text:d,fill:o.getTextColor(),y:f.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),v=t.get("sublink"),x=t.get("triggerEvent",!0);u.silent=!p&&!x,h.silent=!v&&!x,p&&u.on("click",function(){vL(p,"_"+t.get("target"))}),v&&h.on("click",function(){vL(v,"_"+t.get("subtarget"))}),Vr(u).eventData=Vr(h).eventData=x?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(u),d&&a.add(h);var g=a.getBoundingRect(),_=t.getBoxLayoutParams();_.width=g.width,_.height=g.height;var w=al(t,i),A=Ja(_,w.refContainer,t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?A.x+=A.width:l==="center"&&(A.x+=A.width/2)),c||(c=t.get("top")||t.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?A.y+=A.height:c==="middle"&&(A.y+=A.height/2),c=c||"top"),a.x=A.x,a.y=A.y,a.markRedraw();var M={align:l,verticalAlign:c};u.setStyle(M),h.setStyle(M),g=a.getBoundingRect();var C=A.margin,N=t.getItemStyle(["color","opacity"]);N.fill=t.get("backgroundColor");var L=new _n({shape:{x:g.x-C[3],y:g.y-C[0],width:g.width+C[1]+C[3],height:g.height+C[0]+C[2],r:t.get("borderRadius")},style:N,subPixelOptimize:!0,silent:!0});a.add(L)}},e.type="title",e})(Aa);function GVe(r){r.registerComponentModel(VVe),r.registerComponentView(HVe)}var Iee=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var n=this._data.count();this.option.loop?t=(t%n+n)%n:(t>=n&&(t=n-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,n=t.data||[],i=t.axisType,a=this._names=[],s;i==="category"?(s=[],he(n,function(c,u){var f=rl(PS(c),""),d;kr(c)?(d=Cr(c),d.value=u):d=u,s.push(d),a.push(f)})):s=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new lu([{name:"value",type:o}],this);l.initData(s,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:ut.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:ut.color.secondary},data:[]},e})(En),ive=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Ay(Iee.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:ut.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:ut.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:ut.color.tertiary},itemStyle:{color:ut.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:ut.color.accent50,borderColor:ut.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:ut.color.accent50,borderColor:ut.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:ut.color.accent60},itemStyle:{color:ut.color.accent60,borderColor:ut.color.accent60},controlStyle:{color:ut.color.accent70,borderColor:ut.color.accent70}},progress:{lineStyle:{color:ut.color.accent30},itemStyle:{color:ut.color.accent40}},data:[]}),e})(Iee);qs(ive,eI.prototype);var WVe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e})(Aa),YVe=(function(r){dt(e,r);function e(t,n,i,a){var s=r.call(this,t,n,i)||this;return s.type=a||"value",s}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e})(Gd),F8=Math.PI,Oee=Mn(),qVe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.api=n},e.prototype.render=function(t,n,i){if(this.model=t,this.api=i,this.ecModel=n,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,i),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,t);t.formatTooltip=function(c){var u=l.scale.getLabel({value:c});return Uo("nameValue",{noName:!0,value:u})},he(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](a,s,l,t)},this),this._renderAxisLabel(a,o,l,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,n){var i=t.get(["label","position"]),a=t.get("orient"),s=ZVe(t,n),o;i==null||i==="auto"?o=a==="horizontal"?s.y+s.height/2<n.getHeight()/2?"-":"+":s.x+s.width/2<n.getWidth()/2?"+":"-":fr(i)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:o=i;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},c={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},u={horizontal:0,vertical:F8/2},f=a==="vertical"?s.height:s.width,d=t.getModel("controlStyle"),h=d.get("show",!0),p=h?d.get("itemSize"):0,v=h?d.get("itemGap"):0,x=p+v,g=t.get(["label","rotate"])||0;g=g*F8/180;var _,w,A,M=d.get("position",!0),C=h&&d.get("showPlayBtn",!0),N=h&&d.get("showPrevBtn",!0),L=h&&d.get("showNextBtn",!0),D=0,k=f;M==="left"||M==="bottom"?(C&&(_=[0,0],D+=x),N&&(w=[D,0],D+=x),L&&(A=[k-p,0],k-=x)):(C&&(_=[k-p,0],k-=x),N&&(w=[0,0],D+=x),L&&(A=[k-p,0],k-=x));var O=[D,k];return t.get("inverse")&&O.reverse(),{viewRect:s,mainLength:f,orient:a,rotation:u[a],labelRotation:g,labelPosOpt:o,labelAlign:t.get(["label","align"])||l[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||c[a],playPosition:_,prevBtnPosition:w,nextBtnPosition:A,axisExtent:O,controlSize:p,controlGap:v}},e.prototype._position=function(t,n){var i=this._mainGroup,a=this._labelGroup,s=t.viewRect;if(t.orient==="vertical"){var o=wl(),l=s.x,c=s.y+s.height;Zp(o,o,[-l,-c]),xg(o,o,-F8/2),Zp(o,o,[l,c]),s=s.clone(),s.applyTransform(o)}var u=_(s),f=_(i.getBoundingRect()),d=_(a.getBoundingRect()),h=[i.x,i.y],p=[a.x,a.y];p[0]=h[0]=u[0][0];var v=t.labelPosOpt;if(v==null||fr(v)){var x=v==="+"?0:1;w(h,f,u,1,x),w(p,d,u,1,1-x)}else{var x=v>=0?0:1;w(h,f,u,1,x),p[1]=h[1]+v}i.setPosition(h),a.setPosition(p),i.rotation=a.rotation=t.rotation,g(i),g(a);function g(A){A.originX=u[0][0]-A.x,A.originY=u[1][0]-A.y}function _(A){return[[A.x,A.x+A.width],[A.y,A.y+A.height]]}function w(A,M,C,N,L){A[N]+=C[N][L]-M[N][L]}},e.prototype._createAxis=function(t,n){var i=n.getData(),a=n.get("axisType"),s=XVe(n,a);s.getTicks=function(){return i.mapArray(["value"],function(c){return{value:c}})};var o=i.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new YVe("value",s,t.axisExtent,a);return l.model=n,l},e.prototype._createGroup=function(t){var n=this[t]=new Nr;return this.group.add(n),n},e.prototype._renderAxisLine=function(t,n,i,a){var s=i.getExtent();if(a.get(["lineStyle","show"])){var o=new mo({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:It({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(o);var l=this._progressLine=new mo({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:Rr({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},e.prototype._renderAxisTick=function(t,n,i,a){var s=this,o=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],he(l,function(c){var u=i.dataToCoord(c.value),f=o.getItemModel(c.value),d=f.getModel("itemStyle"),h=f.getModel(["emphasis","itemStyle"]),p=f.getModel(["progress","itemStyle"]),v={x:u,y:0,onclick:hr(s._changeTimeline,s,c.value)},x=Pee(f,d,n,v);x.ensureState("emphasis").style=h.getItemStyle(),x.ensureState("progress").style=p.getItemStyle(),Kx(x);var g=Vr(x);f.get("tooltip")?(g.dataIndex=c.value,g.dataModel=a):g.dataIndex=g.dataModel=null,s._tickSymbols.push(x)})},e.prototype._renderAxisLabel=function(t,n,i,a){var s=this,o=i.getLabelModel();if(o.get("show")){var l=a.getData(),c=i.getViewLabels();this._tickLabels=[],he(c,function(u){var f=u.tickValue,d=l.getItemModel(f),h=d.getModel("label"),p=d.getModel(["emphasis","label"]),v=d.getModel(["progress","label"]),x=i.dataToCoord(u.tickValue),g=new $n({x,y:0,rotation:t.labelRotation-t.rotation,onclick:hr(s._changeTimeline,s,f),silent:!1,style:Sa(h,{text:u.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});g.ensureState("emphasis").style=Sa(p),g.ensureState("progress").style=Sa(v),n.add(g),Kx(g),Oee(g).dataIndex=f,s._tickLabels.push(g)})}},e.prototype._renderControl=function(t,n,i,a){var s=t.controlSize,o=t.rotation,l=a.getModel("controlStyle").getItemStyle(),c=a.getModel(["emphasis","controlStyle"]).getItemStyle(),u=a.getPlayState(),f=a.get("inverse",!0);d(t.nextBtnPosition,"next",hr(this._changeTimeline,this,f?"-":"+")),d(t.prevBtnPosition,"prev",hr(this._changeTimeline,this,f?"+":"-")),d(t.playPosition,u?"stop":"play",hr(this._handlePlayClick,this,!u),!0);function d(h,p,v,x){if(h){var g=Kp(wr(a.get(["controlStyle",p+"BtnSize"]),s),s),_=[0,-g/2,g,g],w=KVe(a,p+"Icon",_,{x:h[0],y:h[1],originX:s/2,originY:0,rotation:x?-o:0,rectHover:!0,style:l,onclick:v});w.ensureState("emphasis").style=c,n.add(w),Kx(w)}}},e.prototype._renderCurrentPointer=function(t,n,i,a){var s=a.getData(),o=a.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),c=this,u={onCreate:function(f){f.draggable=!0,f.drift=hr(c._handlePointerDrag,c),f.ondragend=hr(c._handlePointerDragend,c),Fee(f,c._progressLine,o,i,a,!0)},onUpdate:function(f){Fee(f,c._progressLine,o,i,a)}};this._currentPointer=Pee(l,l,this._mainGroup,{},this._currentPointer,u)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,n){var i=this._toAxisCoord(t)[0],a=this._axis,s=Dh(a.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=i,o.dirty());var l=this._findNearestTick(i),c=this.model;(n||l!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=t.model;t._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var n=this._mainGroup.getLocalTransform();return Gp(t,n,!0)},e.prototype._findNearestTick=function(t){var n=this.model.getData(),i=1/0,a,s=this._axis;return n.each(["value"],function(o,l){var c=s.dataToCoord(o),u=Math.abs(c-t);u<i&&(i=u,a=l)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var n=this.model.getCurrentIndex();t==="+"?t=n+1:t==="-"&&(t=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<t);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",Oee(i[a]).dataIndex<=t)},e.type="timeline.slider",e})(WVe);function XVe(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new sS({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new nV({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new og}}function ZVe(r,e){return Ja(r.getBoxLayoutParams(),al(r,e).refContainer,r.get("padding"))}function KVe(r,e,t,n){var i=n.style,a=VS(r.get(["controlStyle",e]),n||{},new Br(t[0],t[1],t[2],t[3]));return i&&a.setStyle(i),a}function Pee(r,e,t,n,i,a){var s=e.get("color");if(i)i.setColor(s),t.add(i),a&&a.onUpdate(i);else{var o=r.get("symbol");i=xo(o,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),t.add(i),a&&a.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),n=pn({rectHover:!0,z2:100},n,!0);var c=ZS(r.get("symbolSize"));n.scaleX=c[0]/2,n.scaleY=c[1]/2;var u=gb(r.get("symbolOffset"),c);u&&(n.x=(n.x||0)+u[0],n.y=(n.y||0)+u[1]);var f=r.get("symbolRotate");return n.rotation=(f||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function Fee(r,e,t,n,i,a){if(!r.dragging){var s=i.getModel("checkpointStyle"),o=n.dataToCoord(i.getData().get("value",t));if(a||!s.get("animation",!0))r.attr({x:o,y:0}),e&&e.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:o,y:0},l),e&&e.animateTo({shape:{x2:o}},l)}}}function $Ve(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,n){var i=t.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Rr({currentIndex:i.option.currentIndex},e)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&e.playState!=null&&n.setPlayState(e.playState)})}function JVe(r){var e=r&&r.timeline;Ut(e)||(e=e?[e]:[]),he(e,function(t){t&&QVe(t)})}function QVe(r){var e=r.type,t={number:"value",time:"time"};if(t[e]&&(r.axisType=t[e],delete r.type),Bee(r),u2(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});u2(n,"position")||(n.position=r.controlPosition),n.position==="none"&&!u2(n,"show")&&(n.show=!1,delete n.position),delete r.controlPosition}he(r.data||[],function(i){kr(i)&&!Ut(i)&&(!u2(i,"value")&&u2(i,"name")&&(i.value=i.name),Bee(i))})}function Bee(r){var e=r.itemStyle||(r.itemStyle={}),t=e.emphasis||(e.emphasis={}),n=r.label||r.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};he(n,function(s,o){!a[o]&&!u2(i,o)&&(i[o]=s)}),t.label&&!u2(n,"emphasis")&&(n.emphasis=t.label,delete t.label)}function u2(r,e){return r.hasOwnProperty(e)}function eHe(r){r.registerComponentModel(ive),r.registerComponentView(qVe),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),$Ve(r),r.registerPreprocessor(JVe)}function fH(r,e){if(!r)return!1;for(var t=Ut(r)?r:[r],n=0;n<t.length;n++)if(t[n]&&t[n][e])return!0;return!1}function DN(r){q2(r,"label",["show"])}var LN=Mn(),_v=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t.preventAutoZ=!0,t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Un.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,n){this._mergeOption(t,n,!1,!1)},e.prototype._mergeOption=function(t,n,i,a){var s=this.mainType;i||n.eachSeries(function(o){var l=o.get(this.mainType,!0),c=LN(o)[s];if(!l||!l.data){LN(o)[s]=null;return}c?c._mergeOption(l,n,!0):(a&&DN(l),he(l.data,function(u){u instanceof Array?(DN(u[0]),DN(u[1])):DN(u)}),c=this.createMarkerModelFromSeries(l,this,n),It(c,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),c.__hostSeries=o),LN(o)[s]=c},this)},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return Uo("section",{header:this.name,blocks:[Uo("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,n){var i=eI.prototype.getDataParams.call(this,t,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},e.getMarkerModelFromSeries=function(t,n){return LN(t)[n]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e})(En);qs(_v,eI.prototype);var tHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e})(_v);function aj(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function rHe(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function RN(r,e,t,n,i,a,s){var o=[],l=sg(e,i),c=l?e.getCalculationInfo("stackResultDimension"):i,u=KL(e,c,r),f=e.hostModel,d=f.indicesOfNearest(t,c,u)[0];o[a]=e.get(n,d),o[s]=e.get(c,d);var h=e.get(i,d),p=Pp(e.get(i,d));return p=Math.min(p,20),p>=0&&(o[s]=+o[s].toFixed(p)),[o,h]}var kN={min:cn(RN,"min"),max:cn(RN,"max"),average:cn(RN,"average"),median:cn(RN,"median")};function Y3(r,e){if(e){var t=r.getData(),n=r.coordinateSystem,i=n&&n.dimensions;if(!rHe(e)&&!Ut(e.coord)&&Ut(i)){var a=ave(e,t,n,r);if(e=Cr(e),e.type&&kN[e.type]&&a.baseAxis&&a.valueAxis){var s=hn(i,a.baseAxis.dim),o=hn(i,a.valueAxis.dim),l=kN[e.type](t,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,s,o);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!Ut(i)){e.coord=[];var c=r.getBaseAxis();if(c&&e.type&&kN[e.type]){var u=n.getOtherAxis(c);u&&(e.value=KL(t,t.mapDimension(u.dim),e.type))}}else for(var f=e.coord,d=0;d<2;d++)kN[f[d]]&&(f[d]=KL(t,t.mapDimension(i[d]),f[d]));return e}}function ave(r,e,t,n){var i={};return r.valueIndex!=null||r.valueDim!=null?(i.valueDataDim=r.valueIndex!=null?e.getDimension(r.valueIndex):r.valueDim,i.valueAxis=t.getAxis(nHe(n,i.valueDataDim)),i.baseAxis=t.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=t.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function nHe(r,e){var t=r.getData().getDimensionInfo(e);return t&&t.coordDim}function q3(r,e){return r&&r.containData&&e.coord&&!aj(e)?r.containData(e.coord):!0}function iHe(r,e,t){return r&&r.containZone&&e.coord&&t.coord&&!aj(e)&&!aj(t)?r.containZone(e.coord,t.coord):!0}function sve(r,e){return r?function(t,n,i,a){var s=a<2?t.coord&&t.coord[a]:t.value;return Qx(s,e[a])}:function(t,n,i,a){return Qx(t.value,e[a])}}function KL(r,e,t){if(t==="average"){var n=0,i=0;return r.each(e,function(a,s){isNaN(a)||(n+=a,i++)}),n/i}else return t==="median"?r.getMedian(e):r.getDataExtent(e)[t==="max"?1:0]}var B8=Mn(),hH=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=br()},e.prototype.render=function(t,n,i){var a=this,s=this.markerGroupMap;s.each(function(o){B8(o).keep=!1}),n.eachSeries(function(o){var l=_v.getMarkerModelFromSeries(o,a.type);l&&a.renderSeries(o,l,n,i)}),s.each(function(o){!B8(o).keep&&a.group.remove(o.group)}),aHe(n,s,this.type)},e.prototype.markKeep=function(t){B8(t).keep=!0},e.prototype.toggleBlurSeries=function(t,n){var i=this;he(t,function(a){var s=_v.getMarkerModelFromSeries(a,i.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(n?_ue(l):o9(l))})}})},e.type="marker",e})(Aa);function aHe(r,e,t){r.eachSeries(function(n){var i=_v.getMarkerModelFromSeries(n,t),a=e.get(n.id);if(i&&a&&a.group){var s=J2(i),o=s.z,l=s.zlevel;Kk(a.group,o,l)}})}function zee(r,e,t){var n=e.coordinateSystem,i=t.getWidth(),a=t.getHeight(),s=n&&n.getArea&&n.getArea();r.each(function(o){var l=r.getItemModel(o),c=l.get("relativeTo")==="coordinate",u=c?s?s.width:0:i,f=c?s?s.height:0:a,d=c&&s?s.x:0,h=c&&s?s.y:0,p,v=ur(l.get("x"),u)+d,x=ur(l.get("y"),f)+h;if(!isNaN(v)&&!isNaN(x))p=[v,x];else if(e.getMarkerPosition)p=e.getMarkerPosition(r.getValues(r.dimensions,o));else if(n){var g=r.get(n.dimensions[0],o),_=r.get(n.dimensions[1],o);p=n.dataToPoint([g,_])}isNaN(v)||(p[0]=v),isNaN(x)||(p[1]=x),r.setItemLayout(o,p)})}var sHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=_v.getMarkerModelFromSeries(a,"markPoint");s&&(zee(s.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(o)||c.set(o,new $E),f=oHe(s,t,n);n.setData(f),zee(n.getData(),t,a),f.each(function(d){var h=f.getItemModel(d),p=h.getShallow("symbol"),v=h.getShallow("symbolSize"),x=h.getShallow("symbolRotate"),g=h.getShallow("symbolOffset"),_=h.getShallow("symbolKeepAspect");if(Tr(p)||Tr(v)||Tr(x)||Tr(g)){var w=n.getRawValue(d),A=n.getDataParams(d);Tr(p)&&(p=p(w,A)),Tr(v)&&(v=v(w,A)),Tr(x)&&(x=x(w,A)),Tr(g)&&(g=g(w,A))}var M=h.getModel("itemStyle").getItemStyle(),C=h.get("z2"),N=XE(l,"color");M.fill||(M.fill=N),f.setItemVisual(d,{z2:wr(C,0),symbol:p,symbolSize:v,symbolRotate:x,symbolOffset:g,symbolKeepAspect:_,style:M})}),u.updateData(f),this.group.add(u.group),f.eachItemGraphicEl(function(d){d.traverse(function(h){Vr(h).dataModel=n})}),this.markKeep(u),u.group.silent=n.get("silent")||t.get("silent")},e.type="markPoint",e})(hH);function oHe(r,e,t){var n;r?n=Gt(r&&r.dimensions,function(o){var l=e.getData().getDimensionInfo(e.getData().mapDimension(o))||{};return It(It({},l),{name:o,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new lu(n,t),a=Gt(t.get("data"),cn(Y3,e));r&&(a=bi(a,cn(q3,r)));var s=sve(!!r,n);return i.initData(a,null,s),i}function lHe(r){r.registerComponentModel(tHe),r.registerComponentView(sHe),r.registerPreprocessor(function(e){fH(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var cHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e})(_v),IN=Mn(),uHe=function(r,e,t,n){var i=r.getData(),a;if(Ut(n))a=n;else{var s=n.type;if(s==="min"||s==="max"||s==="average"||s==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)o=e.getAxis(n.yAxis!=null?"y":"x"),l=Xl(n.yAxis,n.xAxis);else{var c=ave(n,i,e,r);o=c.valueAxis;var u=eV(i,c.valueDataDim);l=KL(i,u,s)}var f=o.dim==="x"?0:1,d=1-f,h=Cr(n),p={coord:[]};h.type=null,h.coord=[],h.coord[d]=-1/0,p.coord[d]=1/0;var v=t.get("precision");v>=0&&Jn(l)&&(l=+l.toFixed(Math.min(v,20))),h.coord[f]=p.coord[f]=l,a=[h,p,{type:s,valueIndex:n.valueIndex,value:l}]}else a=[]}var x=[Y3(r,a[0]),Y3(r,a[1]),It({},a[2])];return x[2].type=x[2].type||null,pn(x[2],x[0]),pn(x[2],x[1]),x};function $L(r){return!isNaN(r)&&!isFinite(r)}function jee(r,e,t,n){var i=1-r,a=n.dimensions[r];return $L(e[i])&&$L(t[i])&&e[r]===t[r]&&n.getAxis(a).containData(e[r])}function fHe(r,e){if(r.type==="cartesian2d"){var t=e[0].coord,n=e[1].coord;if(t&&n&&(jee(1,t,n,r)||jee(0,t,n,r)))return!0}return q3(r,e[0])&&q3(r,e[1])}function z8(r,e,t,n,i){var a=n.coordinateSystem,s=r.getItemModel(e),o,l=ur(s.get("x"),i.getWidth()),c=ur(s.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(c))o=[l,c];else{if(n.getMarkerPosition)o=n.getMarkerPosition(r.getValues(r.dimensions,e));else{var u=a.dimensions,f=r.get(u[0],e),d=r.get(u[1],e);o=a.dataToPoint([f,d])}if(sy(a,"cartesian2d")){var h=a.getAxis("x"),p=a.getAxis("y"),u=a.dimensions;$L(r.get(u[0],e))?o[0]=h.toGlobalCoord(h.getExtent()[t?0:1]):$L(r.get(u[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[t?0:1]))}isNaN(l)||(o[0]=l),isNaN(c)||(o[1]=c)}r.setItemLayout(e,o)}var hHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=_v.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),l=IN(s).from,c=IN(s).to;l.each(function(u){z8(l,u,!0,a,i),z8(c,u,!1,a,i)}),o.each(function(u){o.setItemLayout(u,[l.getItemLayout(u),c.getItemLayout(u)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(o)||c.set(o,new LV);this.group.add(u.group);var f=dHe(s,t,n),d=f.from,h=f.to,p=f.line;IN(n).from=d,IN(n).to=h,n.setData(p);var v=n.get("symbol"),x=n.get("symbolSize"),g=n.get("symbolRotate"),_=n.get("symbolOffset");Ut(v)||(v=[v,v]),Ut(x)||(x=[x,x]),Ut(g)||(g=[g,g]),Ut(_)||(_=[_,_]),f.from.each(function(A){w(d,A,!0),w(h,A,!1)}),p.each(function(A){var M=p.getItemModel(A),C=M.getModel("lineStyle").getLineStyle();p.setItemLayout(A,[d.getItemLayout(A),h.getItemLayout(A)]);var N=M.get("z2");C.stroke==null&&(C.stroke=d.getItemVisual(A,"style").fill),p.setItemVisual(A,{z2:wr(N,0),fromSymbolKeepAspect:d.getItemVisual(A,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(A,"symbolOffset"),fromSymbolRotate:d.getItemVisual(A,"symbolRotate"),fromSymbolSize:d.getItemVisual(A,"symbolSize"),fromSymbol:d.getItemVisual(A,"symbol"),toSymbolKeepAspect:h.getItemVisual(A,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(A,"symbolOffset"),toSymbolRotate:h.getItemVisual(A,"symbolRotate"),toSymbolSize:h.getItemVisual(A,"symbolSize"),toSymbol:h.getItemVisual(A,"symbol"),style:C})}),u.updateData(p),f.line.eachItemGraphicEl(function(A){Vr(A).dataModel=n,A.traverse(function(M){Vr(M).dataModel=n})});function w(A,M,C){var N=A.getItemModel(M);z8(A,M,C,t,a);var L=N.getModel("itemStyle").getItemStyle();L.fill==null&&(L.fill=XE(l,"color")),A.setItemVisual(M,{symbolKeepAspect:N.get("symbolKeepAspect"),symbolOffset:wr(N.get("symbolOffset",!0),_[C?0:1]),symbolRotate:wr(N.get("symbolRotate",!0),g[C?0:1]),symbolSize:wr(N.get("symbolSize"),x[C?0:1]),symbol:wr(N.get("symbol",!0),v[C?0:1]),style:L})}this.markKeep(u),u.group.silent=n.get("silent")||t.get("silent")},e.type="markLine",e})(hH);function dHe(r,e,t){var n;r?n=Gt(r&&r.dimensions,function(c){var u=e.getData().getDimensionInfo(e.getData().mapDimension(c))||{};return It(It({},u),{name:c,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new lu(n,t),a=new lu(n,t),s=new lu([],t),o=Gt(t.get("data"),cn(uHe,e,r,t));r&&(o=bi(o,cn(fHe,r)));var l=sve(!!r,n);return i.initData(Gt(o,function(c){return c[0]}),null,l),a.initData(Gt(o,function(c){return c[1]}),null,l),s.initData(Gt(o,function(c){return c[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}function pHe(r){r.registerComponentModel(cHe),r.registerComponentView(hHe),r.registerPreprocessor(function(e){fH(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var vHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e})(_v),ON=Mn(),mHe=function(r,e,t,n){var i=n[0],a=n[1];if(!(!i||!a)){var s=Y3(r,i),o=Y3(r,a),l=s.coord,c=o.coord;l[0]=Xl(l[0],-1/0),l[1]=Xl(l[1],-1/0),c[0]=Xl(c[0],1/0),c[1]=Xl(c[1],1/0);var u=kk([{},s,o]);return u.coord=[s.coord,o.coord],u.x0=s.x,u.y0=s.y,u.x1=o.x,u.y1=o.y,u}};function JL(r){return!isNaN(r)&&!isFinite(r)}function Uee(r,e,t,n){var i=1-r;return JL(e[i])&&JL(t[i])}function gHe(r,e){var t=e.coord[0],n=e.coord[1],i={coord:t,x:e.x0,y:e.y0},a={coord:n,x:e.x1,y:e.y1};return sy(r,"cartesian2d")?t&&n&&(Uee(1,t,n)||Uee(0,t,n))?!0:iHe(r,i,a):q3(r,i)||q3(r,a)}function Vee(r,e,t,n,i){var a=n.coordinateSystem,s=r.getItemModel(e),o,l=ur(s.get(t[0]),i.getWidth()),c=ur(s.get(t[1]),i.getHeight());if(!isNaN(l)&&!isNaN(c))o=[l,c];else{if(n.getMarkerPosition){var u=r.getValues(["x0","y0"],e),f=r.getValues(["x1","y1"],e),d=a.clampData(u),h=a.clampData(f),p=[];t[0]==="x0"?p[0]=d[0]>h[0]?f[0]:u[0]:p[0]=d[0]>h[0]?u[0]:f[0],t[1]==="y0"?p[1]=d[1]>h[1]?f[1]:u[1]:p[1]=d[1]>h[1]?u[1]:f[1],o=n.getMarkerPosition(p,t,!0)}else{var v=r.get(t[0],e),x=r.get(t[1],e),g=[v,x];a.clampData&&a.clampData(g,g),o=a.dataToPoint(g,!0)}if(sy(a,"cartesian2d")){var _=a.getAxis("x"),w=a.getAxis("y"),v=r.get(t[0],e),x=r.get(t[1],e);JL(v)?o[0]=_.toGlobalCoord(_.getExtent()[t[0]==="x0"?0:1]):JL(x)&&(o[1]=w.toGlobalCoord(w.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(c)||(o[1]=c)}return o}var Hee=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],xHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=_v.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(l){var c=Gt(Hee,function(f){return Vee(o,l,f,a,i)});o.setItemLayout(l,c);var u=o.getItemGraphicEl(l);u.setShape("points",c)})}},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(o)||c.set(o,{group:new Nr});this.group.add(u.group),this.markKeep(u);var f=yHe(s,t,n);n.setData(f),f.each(function(d){var h=Gt(Hee,function(k){return Vee(f,d,k,t,a)}),p=s.getAxis("x").scale,v=s.getAxis("y").scale,x=p.getExtent(),g=v.getExtent(),_=[p.parse(f.get("x0",d)),p.parse(f.get("x1",d))],w=[v.parse(f.get("y0",d)),v.parse(f.get("y1",d))];Dh(_),Dh(w);var A=!(x[0]>_[1]||x[1]<_[0]||g[0]>w[1]||g[1]<w[0]),M=!A;f.setItemLayout(d,{points:h,allClipped:M});var C=f.getItemModel(d),N=C.getModel("itemStyle").getItemStyle(),L=C.get("z2"),D=XE(l,"color");N.fill||(N.fill=D,fr(N.fill)&&(N.fill=b3(N.fill,.4))),N.stroke||(N.stroke=D),f.setItemVisual(d,"style",N),f.setItemVisual(d,"z2",wr(L,0))}),f.diff(ON(u).data).add(function(d){var h=f.getItemLayout(d),p=f.getItemVisual(d,"z2");if(!h.allClipped){var v=new Tc({z2:wr(p,0),shape:{points:h.points}});f.setItemGraphicEl(d,v),u.group.add(v)}}).update(function(d,h){var p=ON(u).data.getItemGraphicEl(h),v=f.getItemLayout(d),x=f.getItemVisual(d,"z2");v.allClipped?p&&u.group.remove(p):(p?si(p,{z2:wr(x,0),shape:{points:v.points}},n,d):p=new Tc({shape:{points:v.points}}),f.setItemGraphicEl(d,p),u.group.add(p))}).remove(function(d){var h=ON(u).data.getItemGraphicEl(d);u.group.remove(h)}).execute(),f.eachItemGraphicEl(function(d,h){var p=f.getItemModel(h),v=f.getItemVisual(h,"style");d.useStyle(f.getItemVisual(h,"style")),Al(d,il(p),{labelFetcher:n,labelDataIndex:h,defaultText:f.getName(h)||"",inheritColor:fr(v.fill)?b3(v.fill,1):ut.color.neutral99}),nl(d,p),ss(d,null,null,p.get(["emphasis","disabled"])),Vr(d).dataModel=n}),ON(u).data=f,u.group.silent=n.get("silent")||t.get("silent")},e.type="markArea",e})(hH);function yHe(r,e,t){var n,i,a=["x0","y0","x1","y1"];if(r){var s=Gt(r&&r.dimensions,function(c){var u=e.getData(),f=u.getDimensionInfo(u.mapDimension(c))||{};return It(It({},f),{name:c,ordinalMeta:null})});i=Gt(a,function(c,u){return{name:c,type:s[u%2].type}}),n=new lu(i,t)}else i=[{name:"value",type:"float"}],n=new lu(i,t);var o=Gt(t.get("data"),cn(mHe,e,r,t));r&&(o=bi(o,cn(gHe,r)));var l=r?function(c,u,f,d){var h=c.coord[Math.floor(d/2)][d%2];return Qx(h,i[d])}:function(c,u,f,d){return Qx(c.value,i[d])};return n.initData(o,null,l),n.hasItemOption=!0,n}function bHe(r){r.registerComponentModel(vHe),r.registerComponentView(xHe),r.registerPreprocessor(function(e){fH(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var _He=function(r,e){if(e==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},sj=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},e.prototype._updateSelector=function(t){var n=t.selector,i=this.ecModel;n===!0&&(n=t.selector=["all","inverse"]),Ut(n)&&he(n,function(a,s){fr(a)&&(a={type:a}),n[s]=pn(a,_He(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var n=[],i=[];t.eachRawSeries(function(l){var c=l.name;i.push(c);var u;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(d)),d.length?n=n.concat(d):u=!0}else u=!0;u&&JU(l)&&n.push(l.name)}),this._availableNames=i;var a=this.get("data")||n,s=br(),o=Gt(a,function(l){return(fr(l)||Jn(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new Ln(l,this,this.ecModel))},this);this._data=bi(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;he(a,function(s){n[s.get("name")]=!1})}n[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,n=this.option.selected;he(t,function(i){n[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,n=this.option.selected;he(t,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},e.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&hn(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:ut.size.m,align:"auto",backgroundColor:ut.color.transparent,borderColor:ut.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:ut.color.disabled,inactiveBorderColor:ut.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:ut.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:ut.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:ut.color.tertiary,borderWidth:1,borderColor:ut.color.border},emphasis:{selectorLabel:{show:!0,color:ut.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(En),D_=cn,oj=he,PN=Nr,ove=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new PN),this.group.add(this._selectorGroup=new PN),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=o==="horizontal"?"end":"start"),this.renderInner(s,t,n,i,l,o,c);var u=al(t,i).refContainer,f=t.getBoxLayoutParams(),d=t.get("padding"),h=Ja(f,u,d),p=this.layoutInner(t,s,h,a,l,c),v=Ja(Rr({width:p.width,height:p.height},f),u,d);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Z0e(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,n,i,a,s,o,l){var c=this.getContentGroup(),u=br(),f=n.get("selectedMode"),d=n.get("triggerEvent"),h=[];i.eachRawSeries(function(p){!p.get("legendHoverLink")&&h.push(p.id)}),oj(n.getData(),function(p,v){var x=this,g=p.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var _=new PN;_.newline=!0,c.add(_);return}var w=i.getSeriesByName(g)[0];if(!u.get(g))if(w){var A=w.getData(),M=A.getVisual("legendLineStyle")||{},C=A.getVisual("legendIcon"),N=A.getVisual("style"),L=this._createItem(w,g,v,p,n,t,M,N,C,f,a);L.on("click",D_(Gee,g,null,a,h)).on("mouseover",D_(lj,w.name,null,a,h)).on("mouseout",D_(cj,w.name,null,a,h)),i.ssr&&L.eachChild(function(D){var k=Vr(D);k.seriesIndex=w.seriesIndex,k.dataIndex=v,k.ssrType="legend"}),d&&L.eachChild(function(D){x.packEventData(D,n,w,v,g)}),u.set(g,!0)}else i.eachRawSeries(function(D){var k=this;if(!u.get(g)&&D.legendVisualProvider){var O=D.legendVisualProvider;if(!O.containName(g))return;var I=O.indexOfName(g),j=O.getItemVisual(I,"style"),B=O.getItemVisual(I,"legendIcon"),K=ou(j.fill);K&&K[3]===0&&(K[3]=.2,j=It(It({},j),{fill:Rd(K,"rgba")}));var H=this._createItem(D,g,v,p,n,t,{},j,B,f,a);H.on("click",D_(Gee,null,g,a,h)).on("mouseover",D_(lj,null,g,a,h)).on("mouseout",D_(cj,null,g,a,h)),i.ssr&&H.eachChild(function(Z){var Y=Vr(Z);Y.seriesIndex=D.seriesIndex,Y.dataIndex=v,Y.ssrType="legend"}),d&&H.eachChild(function(Z){k.packEventData(Z,n,D,v,g)}),u.set(g,!0)}},this)},this),s&&this._createSelector(s,n,a,o,l)},e.prototype.packEventData=function(t,n,i,a,s){var o={componentType:"legend",componentIndex:n.componentIndex,dataIndex:a,value:s,seriesIndex:i.seriesIndex};Vr(t).eventData=o},e.prototype._createSelector=function(t,n,i,a,s){var o=this.getSelectorGroup();oj(t,function(c){var u=c.type,f=new $n({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(f);var d=n.getModel("selectorLabel"),h=n.getModel(["emphasis","selectorLabel"]);Al(f,{normal:d,emphasis:h},{defaultText:c.title}),Kx(f)})},e.prototype._createItem=function(t,n,i,a,s,o,l,c,u,f,d){var h=t.visualDrawType,p=s.get("itemWidth"),v=s.get("itemHeight"),x=s.isSelected(n),g=a.get("symbolRotate"),_=a.get("symbolKeepAspect"),w=a.get("icon");u=w||u||"roundRect";var A=wHe(u,a,l,c,h,x,d),M=new PN,C=a.getModel("textStyle");if(Tr(t.getLegendIcon)&&(!w||w==="inherit"))M.add(t.getLegendIcon({itemWidth:p,itemHeight:v,icon:u,iconRotate:g,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:_}));else{var N=w==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;M.add(SHe({itemWidth:p,itemHeight:v,icon:u,iconRotate:N,itemStyle:A.itemStyle,symbolKeepAspect:_}))}var L=o==="left"?p+5:-5,D=o,k=s.get("formatter"),O=n;fr(k)&&k?O=k.replace("{name}",n??""):Tr(k)&&(O=k(n));var I=x?C.getTextColor():a.get("inactiveColor");M.add(new $n({style:Sa(C,{text:O,x:L,y:v/2,fill:I,align:D,verticalAlign:"middle"},{inheritColor:I})}));var j=new _n({shape:M.getBoundingRect(),style:{fill:"transparent"}}),B=a.getModel("tooltip");return B.get("show")&&bg({el:j,componentModel:s,itemName:n,itemTooltipOption:B.option}),M.add(j),M.eachChild(function(K){K.silent=!0}),j.silent=!f,this.getContentGroup().add(M),Kx(M),M.__legendDataIndex=i,M},e.prototype.layoutInner=function(t,n,i,a,s,o){var l=this.getContentGroup(),c=this.getSelectorGroup();k2(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var u=l.getBoundingRect(),f=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),s){k2("horizontal",c,t.get("selectorItemGap",!0));var d=c.getBoundingRect(),h=[-d.x,-d.y],p=t.get("selectorButtonGap",!0),v=t.getOrient().index,x=v===0?"width":"height",g=v===0?"height":"width",_=v===0?"y":"x";o==="end"?h[v]+=u[x]+p:f[v]+=d[x]+p,h[1-v]+=u[g]/2-d[g]/2,c.x=h[0],c.y=h[1],l.x=f[0],l.y=f[1];var w={x:0,y:0};return w[x]=u[x]+p+d[x],w[g]=Math.max(u[g],d[g]),w[_]=Math.min(0,d[_]+h[1-v]),w}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(Aa);function wHe(r,e,t,n,i,a,s){function o(x,g){x.lineWidth==="auto"&&(x.lineWidth=g.lineWidth>0?2:0),oj(x,function(_,w){x[w]==="inherit"&&(x[w]=g[w])})}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=r.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");c.decal=!f||f==="inherit"?n.decal:aS(f,s),c.fill==="inherit"&&(c.fill=n[i]),c.stroke==="inherit"&&(c.stroke=n[u]),c.opacity==="inherit"&&(c.opacity=(i==="fill"?n:t).opacity),o(c,n);var d=e.getModel("lineStyle"),h=d.getLineStyle();if(o(h,t),c.fill==="auto"&&(c.fill=n.fill),c.stroke==="auto"&&(c.stroke=n.fill),h.stroke==="auto"&&(h.stroke=n.fill),!a){var p=e.get("inactiveBorderWidth"),v=c[u];c.lineWidth=p==="auto"?n.lineWidth>0&&v?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:c,lineStyle:h}}function SHe(r){var e=r.icon||"roundRect",t=xo(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill=ut.color.neutral00,t.style.lineWidth=2),t}function Gee(r,e,t,n){cj(r,e,t,n),t.dispatchAction({type:"legendToggleSelect",name:r??e}),lj(r,e,t,n)}function lve(r){for(var e=r.getZr().storage.getDisplayList(),t,n=0,i=e.length;n<i&&!(t=e[n].states.emphasis);)n++;return t&&t.hoverLayer}function lj(r,e,t,n){lve(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:n})}function cj(r,e,t,n){lve(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:n})}function THe(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function S5(r,e,t){var n=r==="allSelect"||r==="inverseSelect",i={},a=[];t.eachComponent({mainType:"legend",query:e},function(o){n?o[r]():o[r](e.name),Wee(o,i),a.push(o.componentIndex)});var s={};return t.eachComponent("legend",function(o){he(i,function(l,c){o[l?"select":"unSelect"](c)}),Wee(o,s)}),n?{selected:s,legendIndex:a}:{name:e.name,selected:s}}function Wee(r,e){var t=e||{};return he(r.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=r.isSelected(i);gr(t,i)?t[i]=t[i]&&a:t[i]=a}}),t}function AHe(r){r.registerAction("legendToggleSelect","legendselectchanged",cn(S5,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",cn(S5,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",cn(S5,"inverseSelect")),r.registerAction("legendSelect","legendselected",cn(S5,"select")),r.registerAction("legendUnSelect","legendunselected",cn(S5,"unSelect"))}function cve(r){r.registerComponentModel(sj),r.registerComponentView(ove),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,THe),r.registerSubTypeDefaulter("legend",function(){return"plain"}),AHe(r)}var EHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,n,i){var a=vb(t);r.prototype.init.call(this,t,n,i),Yee(this,t,a)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),Yee(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Ay(sj.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:ut.color.accent50,pageIconInactiveColor:ut.color.accent10,pageIconSize:15,pageTextStyle:{color:ut.color.tertiary},animationDurationUpdate:800}),e})(sj);function Yee(r,e,t){var n=r.getOrient(),i=[1,1];i[n.index]=0,yv(e,t,{type:"box",ignoreSize:!!i})}var qee=Nr,j8=["width","height"],U8=["x","y"],MHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new qee),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new qee)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,n,i,a,s,o,l){var c=this;r.prototype.renderInner.call(this,t,n,i,a,s,o,l);var u=this._controllerGroup,f=n.get("pageIconSize",!0),d=Ut(f)?f:[f,f];p("pagePrev",0);var h=n.getModel("pageTextStyle");u.add(new $n({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,x){var g=v+"DataIndex",_=VS(n.get("pageIcons",!0)[n.getOrient().name][x],{onclick:hr(c._pageGo,c,g,n,a)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});_.name=v,u.add(_)}},e.prototype.layoutInner=function(t,n,i,a,s,o){var l=this.getSelectorGroup(),c=t.getOrient().index,u=j8[c],f=U8[c],d=j8[1-c],h=U8[1-c];s&&k2("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),v=l.getBoundingRect(),x=[-v.x,-v.y],g=Cr(i);s&&(g[u]=i[u]-v[u]-p);var _=this._layoutContentAndController(t,a,g,c,u,d,h,f);if(s){if(o==="end")x[c]+=_[u]+p;else{var w=v[u]+p;x[c]-=w,_[f]-=w}_[u]+=v[u]+p,x[1-c]+=_[h]+_[d]/2-v[d]/2,_[d]=Math.max(_[d],v[d]),_[h]=Math.min(_[h],v[h]+x[1-c]),l.x=x[0],l.y=x[1],l.markRedraw()}return _},e.prototype._layoutContentAndController=function(t,n,i,a,s,o,l,c){var u=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;k2(t.get("orient"),u,t.get("itemGap"),a?i.width:null,a?null:i.height),k2("horizontal",d,t.get("pageButtonItemGap",!0));var h=u.getBoundingRect(),p=d.getBoundingRect(),v=this._showController=h[s]>i[s],x=[-h.x,-h.y];n||(x[a]=u[c]);var g=[0,0],_=[-p.x,-p.y],w=wr(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(v){var A=t.get("pageButtonPosition",!0);A==="end"?_[a]+=i[s]-p[s]:g[a]+=p[s]+w}_[1-a]+=h[o]/2-p[o]/2,u.setPosition(x),f.setPosition(g),d.setPosition(_);var M={x:0,y:0};if(M[s]=v?i[s]:h[s],M[o]=Math.max(h[o],p[o]),M[l]=Math.min(0,p[l]+_[1-a]),f.__rectSize=i[s],v){var C={x:0,y:0};C[s]=Math.max(i[s]-p[s]-w,0),C[o]=M[o],f.setClipPath(new _n({shape:C})),f.__rectSize=C[s]}else d.eachChild(function(L){L.attr({invisible:!0,silent:!0})});var N=this._getPageInfo(t);return N.pageIndex!=null&&si(u,{x:N.contentPosition[0],y:N.contentPosition[1]},v?t:null),this._updatePageInfoView(t,N),M},e.prototype._pageGo=function(t,n,i){var a=this._getPageInfo(n)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},e.prototype._updatePageInfoView=function(t,n){var i=this._controllerGroup;he(["pagePrev","pageNext"],function(u){var f=u+"DataIndex",d=n[f]!=null,h=i.childOfName(u);h&&(h.setStyle("fill",d?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var a=i.childOfName("pageText"),s=t.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,c=n.pageCount;a&&s&&a.setStyle("text",fr(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):s({current:l,total:c}))},e.prototype._getPageInfo=function(t){var n=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=t.getOrient().index,o=j8[s],l=U8[s],c=this._findTargetItemIndex(n),u=i.children(),f=u[c],d=u.length,h=d?1:0,p={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return p;var v=A(f);p.contentPosition[s]=-v.s;for(var x=c+1,g=v,_=v,w=null;x<=d;++x)w=A(u[x]),(!w&&_.e>g.s+a||w&&!M(w,g.s))&&(_.i>g.i?g=_:g=w,g&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=g.i),++p.pageCount)),_=w;for(var x=c-1,g=v,_=v,w=null;x>=-1;--x)w=A(u[x]),(!w||!M(_,w.s))&&g.i<_.i&&(_=g,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=g.i),++p.pageCount,++p.pageIndex),g=w;return p;function A(C){if(C){var N=C.getBoundingRect(),L=N[l]+C[l];return{s:L,e:L+N[o],i:C.__legendDataIndex}}}function M(C,N){return C.e>=N&&C.s<=N+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===t&&(n=o)}),n??a},e.type="legend.scroll",e})(ove);function CHe(r){r.registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;n!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})})}function NHe(r){xn(cve),r.registerComponentModel(EHe),r.registerComponentView(MHe),CHe(r)}function DHe(r){xn(cve),xn(NHe)}var LHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Ay(W3.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e})(W3),dH=Mn();function RHe(r,e,t){dH(r).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function kHe(r,e){for(var t=dH(r).coordSysRecordMap,n=t.keys(),i=0;i<n.length;i++){var a=n[i],s=t.get(a),o=s.dataZoomInfoMap;if(o){var l=e.uid,c=o.get(l);c&&(o.removeKey(l),o.keys().length||uve(t,s))}}}function uve(r,e){if(e){r.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function IHe(r,e){var t={model:e,containsPoint:cn(PHe,e),dispatchAction:cn(OHe,r),dataZoomInfoMap:null,controller:null},n=t.controller=new yb(r.getZr());return he(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var s=[];t.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[i],c=l&&l(o.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!o.model.get("disabled",!0)&&c&&s.push({dataZoomId:o.model.id,start:c[0],end:c[1]})}}),s.length&&t.dispatchAction(s)})}),t}function OHe(r,e){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function PHe(r,e,t,n){return r.coordinateSystem.containPoint([t,n])}function FHe(r,e,t){var n,i="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},s=!0;return r.each(function(o){var l=o.model,c=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;a[i+c]>a[i+n]&&(n=c),s=s&&l.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!s,api:t,zInfo:{component:e.model},triggerInfo:{roamTrigger:null,isInSelf:e.containsPoint}}}}function BHe(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(e,t){var n=dH(t),i=n.coordSysRecordMap||(n.coordSysRecordMap=br());i.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=Y0e(a);he(s.infoList,function(o){var l=o.model.uid,c=i.get(l)||i.set(l,IHe(t,o.model)),u=c.dataZoomInfoMap||(c.dataZoomInfoMap=br());u.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),i.each(function(a){var s=a.controller,o,l=a.dataZoomInfoMap;if(l){var c=l.keys()[0];c!=null&&(o=l.get(c))}if(!o){uve(i,a);return}var u=FHe(l,a,t);s.enable(u.controlType,u.opt),XS(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var zHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,n,i){if(r.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),RHe(i,t,{pan:hr(V8.pan,this),zoom:hr(V8.zoom,this),scrollMove:hr(V8.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){kHe(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e})(aH),V8={zoom:function(r,e,t,n){var i=this.range,a=i.slice(),s=r.axisModels[0];if(s){var o=H8[e](null,[n.originX,n.originY],s,t,r),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/n.scale,0);a[0]=(a[0]-l)*c+l,a[1]=(a[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(oy(0,a,[0,100],0,u.minSpan,u.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:Xee(function(r,e,t,n,i,a){var s=H8[n]([a.oldX,a.oldY],[a.newX,a.newY],e,i,t);return s.signal*(r[1]-r[0])*s.pixel/s.pixelLength}),scrollMove:Xee(function(r,e,t,n,i,a){var s=H8[n]([0,0],[a.scrollDelta,a.scrollDelta],e,i,t);return s.signal*(r[1]-r[0])*a.scrollDelta})};function Xee(r){return function(e,t,n,i){var a=this.range,s=a.slice(),o=e.axisModels[0];if(o){var l=r(s,o,e,t,n,i);if(oy(l,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var H8={grid:function(r,e,t,n,i){var a=t.axis,s={},o=i.model.coordinateSystem.getRect();return r=r||[0,0],a.dim==="x"?(s.pixel=e[0]-r[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(r,e,t,n,i){var a=t.axis,s={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),c=o.getAngleAxis().getExtent();return r=r?o.pointToCoord(r):[0,0],e=o.pointToCoord(e),t.mainType==="radiusAxis"?(s.pixel=e[0]-r[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=a.inverse?-1:1),s},singleAxis:function(r,e,t,n,i){var a=t.axis,s=i.model.coordinateSystem.getRect(),o={};return r=r||[0,0],a.orient==="horizontal"?(o.pixel=e[0]-r[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-r[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function fve(r){sH(r),r.registerComponentModel(LHe),r.registerComponentView(zHe),BHe(r)}var jHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Ay(W3.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:ut.color.accent10,borderRadius:0,backgroundColor:ut.color.transparent,dataBackground:{lineStyle:{color:ut.color.accent30,width:.5},areaStyle:{color:ut.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:ut.color.accent40,width:.5},areaStyle:{color:ut.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:ut.color.neutral00,borderColor:ut.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:ut.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:ut.color.tertiary},brushSelect:!0,brushStyle:{color:ut.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:ut.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),e})(W3),T5=_n,UHe=1,G8=30,VHe=7,A5="horizontal",Zee="vertical",HHe=5,GHe=["line","bar","candlestick","scatter"],WHe={easing:"cubicOut",duration:100,delay:0},YHe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,n){this.api=n,this._onBrush=hr(this._onBrush,this),this._onBrushEnd=hr(this._onBrushEnd,this)},e.prototype.render=function(t,n,i,a){if(r.prototype.render.apply(this,arguments),XS(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){D3(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new Nr;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(n),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,n=this.api,i=t.get("brushSelect"),a=i?VHe:0,s=al(t,n).refContainer,o=this._findCoordRect(),l=t.get("defaultLocationEdgeGap",!0)||0,c=this._orient===A5?{right:s.width-o.x-o.width,top:s.height-G8-l-a,width:o.width,height:G8}:{right:l,top:o.y,width:G8,height:o.height},u=vb(t.option);he(["right","top","width","height"],function(d){u[d]==="ph"&&(u[d]=c[d])});var f=Ja(u,s);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===Zee&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i===A5&&!s?{scaleY:l?1:-1,scaleX:1}:i===A5&&s?{scaleY:l?1:-1,scaleX:-1}:i===Zee&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var c=t.getBoundingRect([o]);t.x=n.x-c.x,t.y=n.y-c.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=t.get("brushSelect");i.add(new T5({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var s=new T5({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:hr(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(s)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var n=this._size,i=this._shadowSize||[],a=t.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),l=o&&s.getDimensionInfo(o)?a.getShadowDim():t.otherDim;if(l==null)return;var c=this._shadowPolygonPts,u=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var f=s.getDataExtent(t.thisDim),d=s.getDataExtent(l),h=(d[1]-d[0])*.3;d=[d[0]-h,d[1]+h];var p=[0,n[1]],v=[0,n[0]],x=[[n[0],0],[0,0]],g=[],_=v[1]/Math.max(1,s.count()-1),w=n[0]/(f[1]-f[0]),A=t.thisAxis.type==="time",M=-_,C=Math.round(s.count()/n[0]),N;s.each([t.thisDim,l],function(I,j,B){if(C>0&&B%C){A||(M+=_);return}M=A?(+I-f[0])*w:M+_;var K=j==null||isNaN(j)||j==="",H=K?0:Ti(j,d,p,!0);K&&!N&&B?(x.push([x[x.length-1][0],0]),g.push([g[g.length-1][0],0])):!K&&N&&(x.push([M,0]),g.push([M,0])),K||(x.push([M,H]),g.push([M,H])),N=K}),c=this._shadowPolygonPts=x,u=this._shadowPolylinePts=g}this._shadowData=s,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var L=this.dataZoomModel;function D(I){var j=L.getModel(I?"selectedDataBackground":"dataBackground"),B=new Nr,K=new Tc({shape:{points:c},segmentIgnoreThreshold:1,style:j.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),H=new Kl({shape:{points:u},segmentIgnoreThreshold:1,style:j.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return B.add(K),B.add(H),B}for(var k=0;k<3;k++){var O=D(k===1);this._displayables.sliderGroup.add(O),this._displayables.dataShadowSegs.push(O)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,n=t.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return t.eachTargetAxis(function(s,o){var l=t.getAxisProxy(s,o).getTargetSeriesModels();he(l,function(c){if(!i&&!(n!==!0&&hn(GHe,c.get("type"))<0)){var u=a.getComponent(zx(s),o).axis,f=qHe(s),d,h=c.coordinateSystem;f!=null&&h.getOtherAxis&&(d=h.getOtherAxis(u).inverse),f=c.getData().mapDimension(f);var p=c.getData().mapDimension(s);i={thisAxis:u,series:c,thisDim:p,otherDim:f,otherAxisInverse:d}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,c=this.api,u=l.get("borderRadius")||0,f=l.get("brushSelect"),d=n.filler=new T5({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(d),s.add(new T5({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:u},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:UHe,fill:ut.color.transparent}})),he([0,1],function(w){var A=l.get("handleIcon");!xL[A]&&A.indexOf("path://")<0&&A.indexOf("image://")<0&&(A="path://"+A);var M=xo(A,-1,0,2,2,null,!0);M.attr({cursor:XHe(this._orient),draggable:!0,drift:hr(this._onDragMove,this,w),ondragend:hr(this._onDragEnd,this),onmouseover:hr(this._showDataInfo,this,!0),onmouseout:hr(this._showDataInfo,this,!1),z2:5});var C=M.getBoundingRect(),N=l.get("handleSize");this._handleHeight=ur(N,this._size[1]),this._handleWidth=C.width/C.height*this._handleHeight,M.setStyle(l.getModel("handleStyle").getItemStyle()),M.style.strokeNoScale=!0,M.rectHover=!0,M.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Kx(M);var L=l.get("handleColor");L!=null&&(M.style.fill=L),s.add(i[w]=M);var D=l.getModel("textStyle"),k=l.get("handleLabel")||{},O=k.show||!1;t.add(a[w]=new $n({silent:!0,invisible:!O,style:Sa(D,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:D.getTextColor(),font:D.getFont()}),z2:10}))},this);var h=d;if(f){var p=ur(l.get("moveHandleSize"),o[1]),v=n.moveHandle=new _n({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:p}}),x=p*.8,g=n.moveHandleIcon=xo(l.get("moveHandleIcon"),-x/2,-x/2,x,x,ut.color.neutral00,!0);g.silent=!0,g.y=o[1]+p/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var _=Math.min(o[1]/2,Math.max(p,10));h=n.moveZone=new _n({invisible:!0,shape:{y:o[1]-_,height:p+_}}),h.on("mouseover",function(){c.enterEmphasis(v)}).on("mouseout",function(){c.leaveEmphasis(v)}),s.add(v),s.add(g),s.add(h)}h.attr({draggable:!0,cursor:"default",drift:hr(this._onDragMove,this,"all"),ondragstart:hr(this._showDataInfo,this,!0),ondragend:hr(this._onDragEnd,this),onmouseover:hr(this._showDataInfo,this,!0),onmouseout:hr(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[Ti(t[0],[0,100],n,!0),Ti(t[1],[0,100],n,!0)]},e.prototype._updateInterval=function(t,n){var i=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];oy(n,a,s,i.get("zoomLock")?"all":t,o.minSpan!=null?Ti(o.minSpan,l,s,!0):null,o.maxSpan!=null?Ti(o.maxSpan,l,s,!0):null);var c=this._range,u=this._range=Dh([Ti(a[0],s,l,!0),Ti(a[1],s,l,!0)]);return!c||c[0]!==u[0]||c[1]!==u[1]},e.prototype._updateView=function(t){var n=this._displayables,i=this._handleEnds,a=Dh(i.slice()),s=this._size;he([0,1],function(h){var p=n.handles[h],v=this._handleHeight;p.attr({scaleX:v/2,scaleY:v/2,x:i[h]+(h?-1:1),y:s[1]/2-v/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(o),n.moveZone.setShape(o),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=n.dataShadowSegs,c=[0,a[0],a[1],s[0]],u=0;u<l.length;u++){var f=l[u],d=f.getClipPath();d||(d=new _n,f.setClipPath(d)),d.setShape({x:c[u],y:0,width:c[u+1]-c[u],height:s[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,s=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var c=l.getAxisModel().axis,u=this._range,f=t?l.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(f[0],c),this._formatLabel(f[1],c)]}}var d=Dh(this._handleEnds.slice());h.call(this,0),h.call(this,1);function h(p){var v=$x(i.handles[p].parent,this.group),x=Zk(p===0?"right":"left",v),g=this._handleWidth/2+HHe,_=Gp([d[p]+(p===0?-g:g),this._size[1]/2],v);a[p].setStyle({x:_[0],y:_[1],verticalAlign:s===A5?"middle":x,align:s===A5?x:"center",text:o[p]})}},e.prototype._formatLabel=function(t,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=n.getPixelPrecision());var o=t==null||isNaN(t)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(s,20));return Tr(a)?a(t,o):fr(a)?a.replace("{value}",o):o},e.prototype._showDataInfo=function(t){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=a.get("show")||!1,o=t||this._dragging?s:i,l=this._displayables,c=l.handleLabels;c[0].attr("invisible",!o),c[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,n,i,a){this._dragging=!0,rg(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=Gp([n,i],s,!0),l=this._updateInterval(t,o[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",i[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var n=t.offsetX,i=t.offsetY;this._brushStart=new Fr(n,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),o=[0,100],l=this._handleEnds=[i.x,i.x+i.width],c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();oy(0,l,s,0,c.minSpan!=null?Ti(c.minSpan,o,s,!0):null,c.maxSpan!=null?Ti(c.maxSpan,o,s,!0):null),this._range=Dh([Ti(l[0],s,o,!0),Ti(l[1],s,o,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(rg(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,n){var i=this._displayables,a=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new T5({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,c=l.transformCoordToLocal(t,n),u=l.transformCoordToLocal(o.x,o.y),f=this._size;c[0]=Math.max(Math.min(f[0],c[0]),0),s.setShape({x:u[0],y:0,width:c[0]-u[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?WHe:null,start:n[0],end:n[1]})},e.prototype._findCoordRect=function(){var t,n=Y0e(this.dataZoomModel).infoList;if(!t&&n.length){var i=n[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var a=this.api.getWidth(),s=this.api.getHeight();t={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return t},e.type="dataZoom.slider",e})(aH);function qHe(r){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[r]}function XHe(r){return r==="vertical"?"ns-resize":"ew-resize"}function hve(r){r.registerComponentModel(jHe),r.registerComponentView(YHe),sH(r)}function ZHe(r){xn(fve),xn(hve)}var dve={get:function(r,e,t){var n=Cr((KHe[r]||{})[e]);return t&&Ut(n)?n[n.length-1]:n}},KHe={color:{active:["#006edd","#e0ffff"],inactive:[ut.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Kee=Sl.mapVisual,$He=Sl.eachVisual,JHe=Ut,$ee=he,QHe=Dh,eGe=Ti,QL=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,n){var i=this.option;!n&&rve(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var n=this.stateList;t=hr(t,this),this.controllerVisuals=nj(this.option.controller,n,t),this.targetVisuals=nj(this.option.target,n,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesId,n=this.option.seriesIndex;n==null&&t==null&&(n="all");var i=FS(this.ecModel,"series",{index:n,id:t},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return Gt(i,function(a){return a.componentIndex})},e.prototype.eachTargetSeries=function(t,n){he(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&t.call(n,a)},this)},e.prototype.isTargetSeries=function(t){var n=!1;return this.eachTargetSeries(function(i){i===t&&(n=!0)}),n},e.prototype.formatValueText=function(t,n,i){var a=this.option,s=a.precision,o=this.dataBound,l=a.formatter,c;i=i||["<",">"],Ut(t)&&(t=t.slice(),c=!0);var u=n?t:c?[f(t[0]),f(t[1])]:f(t);if(fr(l))return l.replace("{value}",c?u[0]:u).replace("{value2}",c?u[1]:u);if(Tr(l))return c?l(t[0],t[1]):l(t);if(c)return t[0]===o[0]?i[0]+" "+u[1]:t[1]===o[1]?i[1]+" "+u[0]:u[0]+" - "+u[1];return u;function f(d){return d===o[0]?"min":d===o[1]?"max":(+d).toFixed(Math.min(s,20))}},e.prototype.resetExtent=function(){var t=this.option,n=QHe([t.min,t.max]);this._dataExtent=n},e.prototype.getDataDimensionIndex=function(t){var n=this.option.dimension;if(n!=null)return t.getDimensionIndex(n);for(var i=t.dimensions,a=i.length-1;a>=0;a--){var s=i[a],o=t.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),s=n.controller||(n.controller={});pn(a,i),pn(s,i);var o=this.isCategory();l.call(this,a),l.call(this,s),c.call(this,a,"inRange","outOfRange"),u.call(this,s);function l(f){JHe(n.color)&&!f.inRange&&(f.inRange={color:n.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}function c(f,d,h){var p=f[d],v=f[h];p&&!v&&(v=f[h]={},$ee(p,function(x,g){if(Sl.isValidType(g)){var _=dve.get(g,"inactive",o);_!=null&&(v[g]=_,g==="color"&&!v.hasOwnProperty("opacity")&&!v.hasOwnProperty("colorAlpha")&&(v.opacity=[0,0]))}}))}function u(f){var d=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,h=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),v=this.getItemSymbol(),x=v||"roundRect";$ee(this.stateList,function(g){var _=this.itemSize,w=f[g];w||(w=f[g]={color:o?p:[p]}),w.symbol==null&&(w.symbol=d&&Cr(d)||(o?x:[x])),w.symbolSize==null&&(w.symbolSize=h&&Cr(h)||(o?_[0]:[_[0],_[0]])),w.symbol=Kee(w.symbol,function(C){return C==="none"?x:C});var A=w.symbolSize;if(A!=null){var M=-1/0;$He(A,function(C){C>M&&(M=C)}),w.symbolSize=Kee(A,function(C){return eGe(C,[0,M],[0,_[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:ut.color.transparent,borderColor:ut.color.borderTint,contentColor:ut.color.theme[0],inactiveColor:ut.color.disabled,borderWidth:0,padding:ut.size.m,textGap:10,precision:0,textStyle:{color:ut.color.secondary}},e})(En),Jee=[20,140],tGe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=Jee[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=Jee[1])},e.prototype._resetRange=function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):Ut(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},e.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),he(this.stateList,function(t){var n=this.option.controller[t].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),n=Dh((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},e.prototype.getValueState=function(t){var n=this.option.range,i=this.getExtent(),a=wr(this.option.unboundedRange,!0);return(a&&n[0]<=i[0]||n[0]<=t)&&(a&&n[1]>=i[1]||t<=n[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[];return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(o,l){t[0]<=o&&o<=t[1]&&a.push(l)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},e.prototype.getVisualMeta=function(t){var n=Qee(this,"outOfRange",this.getExtent()),i=Qee(this,"inRange",this.option.range.slice()),a=[];function s(h,p){a.push({value:h,color:t(h,p)})}for(var o=0,l=0,c=i.length,u=n.length;l<u&&(!i.length||n[l]<=i[0]);l++)n[l]<i[o]&&s(n[l],"outOfRange");for(var f=1;o<c;o++,f=0)f&&a.length&&s(i[o],"outOfRange"),s(i[o],"inRange");for(var f=1;l<u;l++)(!i.length||i[i.length-1]<n[l])&&(f&&(a.length&&s(a[a.length-1].value,"outOfRange"),f=0),s(n[l],"outOfRange"));var d=a.length;return{stops:a,outerColors:[d?a[0].color:"transparent",d?a[d-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Ay(QL.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:ut.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:ut.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:ut.color.shadow}}),e})(QL);function Qee(r,e,t){if(t[0]===t[1])return t.slice();for(var n=200,i=(t[1]-t[0])/n,a=t[0],s=[],o=0;o<=n&&a<t[1];o++)s.push(a),a+=i;return s.push(t[1]),s}var pve=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n},e.prototype.render=function(t,n,i,a){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,n,i,a)},e.prototype.renderBackground=function(t){var n=this.visualMapModel,i=WS(n.get("padding")||0),a=t.getBoundingRect();t.add(new _n({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,n,i){i=i||{};var a=i.forceState,s=this.visualMapModel,o={};if(n==="color"){var l=s.get("contentColor");o.color=l}function c(h){return o[h]}function u(h,p){o[h]=p}var f=s.controllerVisuals[a||s.getValueState(t)],d=Sl.prepareVisualTypes(f);return he(d,function(h){var p=f[h];i.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",p=f.__alphaForOpacity),Sl.dependsOn(h,n)&&p&&p.applyVisual(t,c,u)}),o[n]},e.prototype.positionGroup=function(t){var n=this.visualMapModel,i=this.api,a=al(n,i).refContainer;Jk(t,n.getBoxLayoutParams(),a)},e.prototype.doRender=function(t,n,i,a){},e.type="visualMap",e})(Aa),ete=[["left","right","width"],["top","bottom","height"]];function vve(r,e,t){var n=r.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:e.getWidth(),height:e.getHeight()},s=n.orient==="horizontal"?1:0,o=ete[s],l=[0,null,10],c={},u=0;u<3;u++)c[ete[1-s][u]]=l[u],c[o[u]]=u===2?t[0]:n[o[u]];var f=[["x","width",3],["y","height",0]][s],d=Ja(c,a,n.padding);return o[(d.margin[f[2]]||0)+d[f[0]]+d[f[1]]*.5<a[f[1]]*.5?0:1]}function ED(r,e){return he(r||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),r}var G0=Ti,rGe=he,tte=Math.min,W8=Math.max,nGe=12,iGe=6,aGe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,n){r.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=hr(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=hr(this._hideIndicator,this)},e.prototype.doRender=function(t,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,n=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(n);var i=t.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},e.prototype._renderEndsText=function(t,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,c=this._shapes.mainGroup,u=this._applyTransform([l[0]/2,i===0?-o:l[1]+o],c),f=this._applyTransform(i===0?"bottom":"top",c),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new $n({style:Sa(h,{x:u[0],y:u[1],verticalAlign:h.get("verticalAlign")||(d==="horizontal"?"middle":f),align:h.get("align")||(d==="horizontal"?f:"center"),text:a})}))}},e.prototype._renderBar=function(t){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,s=this._orient,o=this._useHandle,l=vve(n,this.api,a),c=i.mainGroup=this._createBarGroup(l),u=new Nr;c.add(u),u.add(i.outOfRange=rte()),u.add(i.inRange=rte(null,o?ite(this._orient):null,hr(this._dragHandle,this,"all",!1),hr(this._dragHandle,this,"all",!0))),u.setClipPath(new _n({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=n.textStyleModel.getTextRect(""),d=W8(f.width,f.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,c,0,a,d,s),this._createHandle(n,c,1,a,d,s)),this._createIndicator(n,c,a,d,s),t.add(c)},e.prototype._createHandle=function(t,n,i,a,s,o){var l=hr(this._dragHandle,this,i,!1),c=hr(this._dragHandle,this,i,!0),u=Kp(t.get("handleSize"),a[0]),f=xo(t.get("handleIcon"),-u/2,-u/2,u,u,null,!0),d=ite(this._orient);f.attr({cursor:d,draggable:!0,drift:l,ondragend:c,onmousemove:function(g){rg(g.event)}}),f.x=a[0]/2,f.useStyle(t.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),g2(f,!0),n.add(f);var h=this.visualMapModel.textStyleModel,p=new $n({cursor:d,draggable:!0,drift:l,onmousemove:function(g){rg(g.event)},ondragend:c,style:Sa(h,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var v=[u,0],x=this._shapes;x.handleThumbs[i]=f,x.handleLabelPoints[i]=v,x.handleLabels[i]=p},e.prototype._createIndicator=function(t,n,i,a,s){var o=Kp(t.get("indicatorSize"),i[0]),l=xo(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var c=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Nl){var u=l.style;l.useStyle(It({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},c))}else l.useStyle(c);n.add(l);var f=this.visualMapModel.textStyleModel,d=new $n({silent:!0,invisible:!0,style:Sa(f,{x:0,y:0,text:""})});this.group.add(d);var h=[(s==="horizontal"?a/2:iGe)+i[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=d,p.indicatorLabelPoint=h,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var s=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(t,s[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():nte(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,n=this._dataInterval=t.getSelected(),i=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[G0(n[0],i,a,!0),G0(n[1],i,a,!0)]},e.prototype._updateInterval=function(t,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,s=[0,i.itemSize[1]];oy(n,a,s,t,0);var o=i.getExtent();this._dataInterval=[G0(a[0],s,o,!0),G0(a[1],s,o,!0)]},e.prototype._updateView=function(t){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,s=[0,n.itemSize[1]],o=t?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,o,"inRange"),c=this._createBarVisual(i,i,s,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(o,l)},e.prototype._createBarVisual=function(t,n,i,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,s),l=[this.getControllerVisual(t[0],"symbolSize",s),this.getControllerVisual(t[1],"symbolSize",s)],c=this._createBarPoints(i,l);return{barColor:new db(0,0,0,1,o),barPoints:c,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,n){var i=100,a=[],s=(t[1]-t[0])/i;a.push({color:this.getControllerVisual(t[0],"color",n),offset:0});for(var o=1;o<i;o++){var l=t[0]+s*o;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:o/i})}return a.push({color:this.getControllerVisual(t[1],"color",n),offset:1}),a},e.prototype._createBarPoints=function(t,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-n[1],t[1]]]},e.prototype._createBarGroup=function(t){var n=this._orient,i=this.visualMapModel.get("inverse");return new Nr(n==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,s=i.handleThumbs,o=i.handleLabels,l=a.itemSize,c=a.getExtent(),u=this._applyTransform("left",i.mainGroup);rGe([0,1],function(f){var d=s[f];d.setStyle("fill",n.handlesColor[f]),d.y=t[f];var h=G0(t[f],[0,l[1]],c,!0),p=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=p/l[0],d.x=l[0]-p/2;var v=Gp(i.handleLabelPoints[f],$x(d,this.group));if(this._orient==="horizontal"){var x=u==="left"||u==="top"?(l[0]-p)/2:(l[0]-p)/-2;v[1]+=x}o[f].setStyle({x:v[0],y:v[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,n,i,a){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,c=[0,l[1]],u=this._shapes,f=u.indicator;if(f){f.attr("invisible",!1);var d={convertOpacityToAlpha:!0},h=this.getControllerVisual(t,"color",d),p=this.getControllerVisual(t,"symbolSize"),v=G0(t,o,c,!0),x=l[0]-p/2,g={x:f.x,y:f.y};f.y=v,f.x=x;var _=Gp(u.indicatorLabelPoint,$x(f,this.group)),w=u.indicatorLabel;w.attr("invisible",!1);var A=this._applyTransform("left",u.mainGroup),M=this._orient,C=M==="horizontal";w.setStyle({text:(i||"")+s.formatValueText(n),verticalAlign:C?A:"middle",align:C?"center":A});var N={x,y:v,style:{fill:h}},L={style:{x:_[0],y:_[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var D={duration:100,easing:"cubicInOut",additive:!0};f.x=g.x,f.y=g.y,f.animateTo(N,D),w.animateTo(L,D)}else f.attr(N),w.attr(L);this._firstShowIndicator=!1;var k=this._shapes.handleLabels;if(k)for(var O=0;O<k.length;O++)this.api.enterBlur(k[O])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(n){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,a=t._applyTransform([n.offsetX,n.offsetY],t._shapes.mainGroup,!0,!0);a[1]=tte(W8(0,a[1]),i[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var s=[0,a[1]],o=i.getExtent();t=tte(W8(s[0],t),s[1]);var l=sGe(i,o,s),c=[t-l,t+l],u=G0(t,s,o,!0),f=[G0(c[0],s,o,!0),G0(c[1],s,o,!0)];c[0]<s[0]&&(f[0]=-1/0),c[1]>s[1]&&(f[1]=1/0),n&&(f[0]===-1/0?this._showIndicator(u,f[1],"< ",l):f[1]===1/0?this._showIndicator(u,f[0],"> ",l):this._showIndicator(u,u," ",l));var d=this._hoverLinkDataIndices,h=[];(n||nte(i))&&(h=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var p=zCe(d,h);this._dispatchHighDown("downplay",ED(p[0],i)),this._dispatchHighDown("highlight",ED(p[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var n;if(y2(t.target,function(l){var c=Vr(l);if(c.dataIndex!=null)return n=c,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var s=i.getData(n.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),n.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",ED(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,n,i,a){var s=$x(n,a?null:this.group);return Ut(t)?Gp(t,s,i):Zk(t,s,i)},e.prototype._dispatchHighDown=function(t,n){n&&n.length&&this.api.dispatchAction({type:t,batch:n})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e})(pve);function rte(r,e,t,n){return new Tc({shape:{points:r},draggable:!!t,cursor:e,drift:t,onmousemove:function(i){rg(i.event)},ondragend:n})}function sGe(r,e,t){var n=nGe/2,i=r.get("hoverLinkDataSize");return i&&(n=G0(i,e,t,!0)/2),n}function nte(r){var e=r.get("hoverLinkOnHandle");return!!(e??r.get("realtime"))}function ite(r){return r==="vertical"?"ns-resize":"ew-resize"}var oGe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},lGe=function(r,e){e.eachComponent({mainType:"visualMap",query:r},function(t){t.setSelected(r.selected)})},cGe=[{createOnAllSeries:!0,reset:function(r,e){var t=[];return e.eachComponent("visualMap",function(n){var i=r.pipelineContext;!n.isTargetSeries(r)||i&&i.large||t.push(DVe(n.stateList,n.targetVisuals,hr(n.getValueState,n),n.getDataDimensionIndex(r.getData())))}),t}},{createOnAllSeries:!0,reset:function(r,e){var t=r.getData(),n=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(r)){var a=i.getVisualMeta(hr(uGe,null,r,i))||{stops:[],outerColors:[]},s=i.getDataDimensionIndex(t);s>=0&&(a.dimension=s,n.push(a))}}),r.getData().setVisual("visualMeta",n)}}];function uGe(r,e,t,n){for(var i=e.targetVisuals[n],a=Sl.prepareVisualTypes(i),s={color:XE(r.getData(),"color")},o=0,l=a.length;o<l;o++){var c=a[o],u=i[c==="opacity"?"__alphaForOpacity":c];u&&u.applyVisual(t,f,d)}return s.color;function f(h){return s[h]}function d(h,p){s[h]=p}}var ate=he;function fGe(r){var e=r&&r.visualMap;Ut(e)||(e=e?[e]:[]),ate(e,function(t){if(t){L_(t,"splitList")&&!L_(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var n=t.pieces;n&&Ut(n)&&ate(n,function(i){kr(i)&&(L_(i,"start")&&!L_(i,"min")&&(i.min=i.start),L_(i,"end")&&!L_(i,"max")&&(i.max=i.end))})}})}function L_(r,e){return r&&r.hasOwnProperty&&r.hasOwnProperty(e)}var ste=!1;function mve(r){ste||(ste=!0,r.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),r.registerAction(oGe,lGe),he(cGe,function(e){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,e)}),r.registerPreprocessor(fGe))}function gve(r){r.registerComponentModel(tGe),r.registerComponentView(aGe),mve(r)}var hGe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],dGe[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var a=this.option.categories;this.resetVisual(function(s,o){i==="categories"?(s.mappingMethod="category",s.categories=Cr(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=Gt(this._pieceList,function(l){return l=Cr(l),o!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,n={},i=Sl.listVisualTypes(),a=this.isCategory();he(t.pieces,function(o){he(i,function(l){o.hasOwnProperty(l)&&(n[l]=1)})}),he(n,function(o,l){var c=!1;he(this.stateList,function(u){c=c||s(t,u,l)||s(t.target,u,l)},this),!c&&he(this.stateList,function(u){(t[u]||(t[u]={}))[l]=dve.get(l,u==="inRange"?"active":"inactive",a)})},this);function s(o,l,c){return o&&o[l]&&o[l].hasOwnProperty(c)}r.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,n){var i=this.option,a=this._pieceList,s=(n?i:t).selected||{};if(i.selected=s,he(a,function(l,c){var u=this.getSelectedMapKey(l);s.hasOwnProperty(u)||(s[u]=!0)},this),i.selectedMode==="single"){var o=!1;he(a,function(l,c){var u=this.getSelectedMapKey(l);s[u]&&(o?s[u]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Cr(t)},e.prototype.getValueState=function(t){var n=Sl.findPieceIndex(t,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(l,c){var u=Sl.findPieceIndex(l,i);u===t&&s.push(c)},this),n.push({seriesId:a.id,dataIndex:s})},this),n},e.prototype.getRepresentValue=function(t){var n;if(this.isCategory())n=t.value;else if(t.value!=null)n=t.value;else{var i=t.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var n=[],i=["",""],a=this;function s(u,f){var d=a.getRepresentValue({interval:u});f||(f=a.getValueState(d));var h=t(d,f);u[0]===-1/0?i[0]=h:u[1]===1/0?i[1]=h:n.push({value:u[0],color:h},{value:u[1],color:h})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var c=-1/0;return he(o,function(u){var f=u.interval;f&&(f[0]>c&&s([c,f[0]],"outOfRange"),s(f.slice()),c=f[1])},this),{stops:n,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=Ay(QL.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e})(QL),dGe={splitNumber:function(r){var e=this.option,t=Math.min(e.precision,20),n=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&r.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,o=n[0];s<i;o+=a,s++){var l=s===i-1?n[1]:o+a;r.push({interval:[o,l],close:[1,1]})}e.maxOpen&&r.push({interval:[n[1],1/0],close:[0,0]}),C7(r),he(r,function(c,u){c.index=u,c.text=this.formatValueText(c.interval)},this)},categories:function(r){var e=this.option;he(e.categories,function(t){r.push({text:this.formatValueText(t,!0),value:t})},this),ote(e,r)},pieces:function(r){var e=this.option;he(e.pieces,function(t,n){kr(t)||(t={value:t});var i={text:"",index:n};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var a=i.value=t.value;i.interval=[a,a],i.close=[1,1]}else{for(var s=i.interval=[],o=i.close=[0,0],l=[1,0,1],c=[-1/0,1/0],u=[],f=0;f<2;f++){for(var d=[["gte","gt","min"],["lte","lt","max"]][f],h=0;h<3&&s[f]==null;h++)s[f]=t[d[h]],o[f]=l[h],u[f]=h===2;s[f]==null&&(s[f]=c[f])}u[0]&&s[1]===1/0&&(o[0]=0),u[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(i.value=s[0])}i.visual=Sl.retrieveVisuals(t),r.push(i)},this),ote(e,r),C7(r),he(r,function(t){var n=t.close,i=[["<",""][n[1]],[">",""][n[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function ote(r,e){var t=r.inverse;(r.orient==="vertical"?!t:t)&&e.reverse()}var pGe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,s=this._getItemAlign(),o=n.itemSize,l=this._getViewData(),c=l.endsText,u=Xl(n.get("showLabel",!0),!c),f=!n.get("selectedMode");c&&this._renderEndsText(t,c[0],o,u,s),he(l.viewPieceList,function(d){var h=d.piece,p=new Nr;p.onclick=hr(this._onItemClick,this,h),this._enableHoverLink(p,d.indexInModelPieceList);var v=n.getRepresentValue(h);if(this._createItemSymbol(p,v,[0,0,o[0],o[1]],f),u){var x=this.visualMapModel.getValueState(v),g=a.get("align")||s;p.add(new $n({style:Sa(a,{x:g==="right"?-i:o[0]+i,y:o[1]/2,text:h.text,verticalAlign:a.get("verticalAlign")||"middle",align:g,opacity:wr(a.get("opacity"),x==="outOfRange"?.5:1)}),silent:f}))}t.add(p)},this),c&&this._renderEndsText(t,c[1],o,u,s),k2(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,n){var i=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=i.visualMapModel;o.option.hoverLink&&i.api.dispatchAction({type:s,batch:ED(o.findTargetDataIndices(n),o)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,n=t.option;if(n.orient==="vertical")return vve(t,this.api,t.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(t,n,i,a,s){if(n){var o=new Nr,l=this.visualMapModel.textStyleModel;o.add(new $n({style:Sa(l,{x:a?s==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?s:"center",text:n})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,n=Gt(t.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),i=t.get("text"),a=t.get("orient"),s=t.get("inverse");return(a==="horizontal"?s:!s)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},e.prototype._createItemSymbol=function(t,n,i,a){var s=xo(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));s.silent=a,t.add(s)},e.prototype._onItemClick=function(t){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var s=Cr(i.selected),o=n.getSelectedMapKey(t);a==="single"||a===!0?(s[o]=!0,he(s,function(l,c){s[c]=c===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},e.type="visualMap.piecewise",e})(pve);function xve(r){r.registerComponentModel(hGe),r.registerComponentView(pGe),mve(r)}function vGe(r){xn(gve),xn(xve)}var mGe=(function(){function r(e){this._thumbnailModel=e}return r.prototype.reset=function(e){this._renderVersion=e.getMainProcessVersion()},r.prototype.renderContent=function(e){var t=e.api.getViewOfComponentModel(this._thumbnailModel);t&&(e.group.silent=!0,t.renderContent({group:e.group,targetTrans:e.targetTrans,z2Range:Vue(e.group),roamType:e.roamType,viewportRect:e.viewportRect,renderVersion:this._renderVersion}))},r.prototype.updateWindow=function(e,t){var n=t.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:e,renderVersion:this._renderVersion})},r})(),gGe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.optionUpdated=function(t,n){this._updateBridge()},e.prototype._updateBridge=function(){var t=this._birdge=this._birdge||new mGe(this);if(this._target=null,this.ecModel.eachSeries(function(i){RJ(i,null)}),this.shouldShow()){var n=this.getTarget();RJ(n.baseMapProvider,t)}},e.prototype.shouldShow=function(){return this.getShallow("show",!0)},e.prototype.getBridge=function(){return this._birdge},e.prototype.getTarget=function(){if(this._target)return this._target;var t=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return t?t.subType!=="graph"&&(t=null):t=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:t},this._target},e.type="thumbnail",e.layoutMode="box",e.dependencies=["series","geo"],e.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:ut.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:ut.color.neutral30,borderColor:ut.color.neutral40,opacity:.3},z:10},e})(En),xGe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){if(this._api=i,this._model=t,this._coordSys||(this._coordSys=new bb),!this._isEnabled()){this._clear();return}this._renderVersion=i.getMainProcessVersion();var a=this.group;a.removeAll();var s=t.getModel("itemStyle"),o=s.getItemStyle();o.fill==null&&(o.fill=n.get("backgroundColor")||ut.color.neutral00);var l=al(t,i).refContainer,c=Ja(lfe(t,!0),l),u=o.lineWidth||0,f=this._contentRect=$2(c.clone(),u/2,!0,!0),d=new Nr;a.add(d),d.setClipPath(new _n({shape:f.plain()}));var h=this._targetGroup=new Nr;d.add(h);var p=c.plain();p.r=s.getShallow("borderRadius",!0),a.add(this._bgRect=new _n({style:o,shape:p,silent:!1,cursor:"grab"}));var v=t.getModel("windowStyle"),x=v.getShallow("borderRadius",!0);d.add(this._windowRect=new _n({shape:{x:0,y:0,width:0,height:0,r:x},style:v.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),cte(t,this)},e.prototype.renderContent=function(t){this._bridgeRendered=t,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),cte(this._model,this))},e.prototype._dealRenderContent=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var n=this._targetGroup,i=this._coordSys,a=this._contentRect;if(n.removeAll(),!!t){var s=t.group,o=s.getBoundingRect();n.add(s),this._bgRect.z2=t.z2Range.min-10,i.setBoundingRect(o.x,o.y,o.width,o.height);var l=Ja({left:"center",top:"center",aspect:o.width/o.height},a);i.setViewRect(l.x,l.y,l.width,l.height),s.attr(i.getTransformInfo().raw),this._windowRect.z2=t.z2Range.max+10,this._resetRoamController(t.roamType)}}},e.prototype.updateWindow=function(t){var n=this._bridgeRendered;n&&n.renderVersion===t.renderVersion&&(n.targetTrans=t.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},e.prototype._dealUpdateWindow=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var n=Fd([],t.targetTrans),i=Vp([],this._coordSys.transform,n);this._transThisToTarget=Fd([],i);var a=t.viewportRect;a?a=a.clone():a=new Br(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(i);var s=this._windowRect,o=s.shape.r;s.setShape(Rr({r:o},a))}},e.prototype._resetRoamController=function(t){var n=this,i=this._api,a=this._roamController;if(a||(a=this._roamController=new yb(i.getZr())),!t||!this._isEnabled()){a.disable();return}a.enable(t,{api:i,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(s,o,l){return n._contentRect.contain(o,l)}}}),a.off("pan").off("zoom").on("pan",hr(this._onPan,this)).on("zoom",hr(this._onZoom,this))},e.prototype._onPan=function(t){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=Ys([],[t.oldX,t.oldY],n),a=Ys([],[t.oldX-t.dx,t.oldY-t.dy],n);this._api.dispatchAction(lte(this._model.getTarget().baseMapProvider,{dx:a[0]-i[0],dy:a[1]-i[1]}))}},e.prototype._onZoom=function(t){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=Ys([],[t.originX,t.originY],n);this._api.dispatchAction(lte(this._model.getTarget().baseMapProvider,{zoom:1/t.scale,originX:i[0],originY:i[1]}))}},e.prototype._isEnabled=function(){var t=this._model;if(!t||!t.shouldShow())return!1;var n=t.getTarget().baseMapProvider;return!!n},e.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},e.prototype.remove=function(){this._clear()},e.prototype.dispose=function(){this._clear()},e.type="thumbnail",e})(Aa);function lte(r,e){var t=r.mainType==="series"?r.subType+"Roam":r.mainType+"Roam",n={type:t};return n[r.mainType+"Id"]=r.id,It(n,e),n}function cte(r,e){var t=J2(r);Kk(e.group,t.z,t.zlevel)}function yGe(r){r.registerComponentModel(gGe),r.registerComponentView(xGe)}var bGe={label:{enabled:!0},decal:{show:!1}},ute=Mn(),_Ge={};function wGe(r,e){var t=r.getModel("aria");if(!t.get("enabled"))return;var n=Cr(bGe);pn(n.label,r.getLocaleModel().get("aria"),!1),pn(t.option,n,!1),i(),a();function i(){var c=t.getModel("decal"),u=c.get("show");if(u){var f=br();r.eachSeries(function(d){if(!d.isColorBySeries()){var h=f.get(d.type);h||(h={},f.set(d.type,h)),ute(d).scope=h}}),r.eachRawSeries(function(d){if(r.isSeriesFiltered(d))return;if(Tr(d.enableAriaDecal)){d.enableAriaDecal();return}var h=d.getData();if(d.isColorBySeries()){var _=Z7(d.ecModel,d.name,_Ge,r.getSeriesCount()),w=h.getVisual("decal");h.setVisual("decal",A(w,_))}else{var p=d.getRawData(),v={},x=ute(d).scope;h.each(function(M){var C=h.getRawIndex(M);v[C]=M});var g=p.count();p.each(function(M){var C=v[M],N=p.getName(M)||M+"",L=Z7(d.ecModel,N,x,g),D=h.getItemVisual(C,"decal");h.setItemVisual(C,"decal",A(D,L))})}function A(M,C){var N=M?It(It({},C),M):C;return N.dirty=!0,N}})}}function a(){var c=e.getZr().dom;if(c){var u=r.getLocaleModel().get("aria"),f=t.getModel("label");if(f.option=Rr(f.option,u),!!f.get("enabled")){if(c.setAttribute("role","img"),f.get("description")){c.setAttribute("aria-label",f.get("description"));return}var d=r.getSeriesCount(),h=f.get(["data","maxCount"])||10,p=f.get(["series","maxCount"])||10,v=Math.min(d,p),x;if(!(d<1)){var g=o();if(g){var _=f.get(["general","withTitle"]);x=s(_,{title:g})}else x=f.get(["general","withoutTitle"]);var w=[],A=d>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);x+=s(A,{seriesCount:d}),r.eachSeries(function(L,D){if(D<v){var k=void 0,O=L.get("name"),I=O?"withName":"withoutName";k=d>1?f.get(["series","multiple",I]):f.get(["series","single",I]),k=s(k,{seriesId:L.seriesIndex,seriesName:L.get("name"),seriesType:l(L.subType)});var j=L.getData();if(j.count()>h){var B=f.get(["data","partialData"]);k+=s(B,{displayCnt:h})}else k+=f.get(["data","allData"]);for(var K=f.get(["data","separator","middle"]),H=f.get(["data","separator","end"]),Z=f.get(["data","excludeDimensionId"]),Y=[],J=0;J<j.count();J++)if(J<h){var oe=j.getName(J),X=Z?bi(j.getValues(J),function(W,Q){return hn(Z,Q)===-1}):j.getValues(J),F=f.get(["data",oe?"withName":"withoutName"]);Y.push(s(F,{name:oe,value:X.join(K)}))}k+=Y.join(K)+H,w.push(k)}});var M=f.getModel(["series","multiple","separator"]),C=M.get("middle"),N=M.get("end");x+=w.join(C)+N,c.setAttribute("aria-label",x)}}}}function s(c,u){if(!fr(c))return c;var f=c;return he(u,function(d,h){f=f.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),d)}),f}function o(){var c=r.get("title");return c&&c.length&&(c=c[0]),c&&c.text}function l(c){var u=r.getLocaleModel().get(["series","typeNames"]);return u[c]||u.chart}}function SGe(r){if(!(!r||!r.aria)){var e=r.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},he(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function TGe(r){r.registerPreprocessor(SGe),r.registerVisual(r.PRIORITY.VISUAL.ARIA,wGe)}var fte={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},AGe=(function(){function r(e){var t=this._condVal=fr(e)?new RegExp(e):hce(e)?e:null;if(t==null){var n="";Ai(n)}}return r.prototype.evaluate=function(e){var t=typeof e;return fr(t)?this._condVal.test(e):Jn(t)?this._condVal.test(e+""):!1},r})(),EGe=(function(){function r(){}return r.prototype.evaluate=function(){return this.value},r})(),MGe=(function(){function r(){}return r.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},r})(),CGe=(function(){function r(){}return r.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},r})(),NGe=(function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r})(),DGe=(function(){function r(){}return r.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,n=t(this.valueGetterParam),i=e?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:n))return!1;return!0},r})();function pH(r,e){if(r===!0||r===!1){var t=new EGe;return t.value=r,t}var n="";return yve(r)||Ai(n),r.and?hte("and",r,e):r.or?hte("or",r,e):r.not?LGe(r,e):RGe(r,e)}function hte(r,e,t){var n=e[r],i="";Ut(n)||Ai(i),n.length||Ai(i);var a=r==="and"?new MGe:new CGe;return a.children=Gt(n,function(s){return pH(s,t)}),a.children.length||Ai(i),a}function LGe(r,e){var t=r.not,n="";yve(t)||Ai(n);var i=new NGe;return i.child=pH(t,e),i.child||Ai(n),i}function RGe(r,e){for(var t="",n=e.prepareGetValue(r),i=[],a=Wn(r),s=r.parser,o=s?Dfe(s):null,l=0;l<a.length;l++){var c=a[l];if(!(c==="parser"||e.valueGetterAttrMap.get(c))){var u=gr(fte,c)?fte[c]:c,f=r[c],d=o?o(f):f,h=JDe(u,d)||u==="reg"&&new AGe(d);h||Ai(t),i.push(h)}}i.length||Ai(t);var p=new DGe;return p.valueGetterParam=n,p.valueParser=o,p.getValue=e.getValue,p.subCondList=i,p}function yve(r){return kr(r)&&!_c(r)}var kGe=(function(){function r(e,t){this._cond=pH(e,t)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r})();function IGe(r,e){return new kGe(r,e)}var OGe={type:"echarts:filter",transform:function(r){for(var e=r.upstream,t,n=IGe(r.config,{valueGetterAttrMap:br({dimension:!0}),prepareGetValue:function(o){var l="",c=o.dimension;gr(o,"dimension")||Ai(l);var u=e.getDimensionInfo(c);return u||Ai(l),{dimIdx:u.index}},getValue:function(o){return e.retrieveValueFromItem(t,o.dimIdx)}}),i=[],a=0,s=e.count();a<s;a++)t=e.getRawDataItem(a),n.evaluate()&&i.push(t);return{data:i}}},PGe={type:"echarts:sort",transform:function(r){var e=r.upstream,t=r.config,n="",i=Ta(t);i.length||Ai(n);var a=[];he(i,function(u){var f=u.dimension,d=u.order,h=u.parser,p=u.incomparable;if(f==null&&Ai(n),d!=="asc"&&d!=="desc"&&Ai(n),p&&p!=="min"&&p!=="max"){var v="";Ai(v)}if(d!=="asc"&&d!=="desc"){var x="";Ai(x)}var g=e.getDimensionInfo(f);g||Ai(n);var _=h?Dfe(h):null;h&&!_&&Ai(n),a.push({dimIdx:g.index,parser:_,comparator:new Rfe(d,p)})});var s=e.sourceFormat;s!==$l&&s!==Gh&&Ai(n);for(var o=[],l=0,c=e.count();l<c;l++)o.push(e.getRawDataItem(l));return o.sort(function(u,f){for(var d=0;d<a.length;d++){var h=a[d],p=e.retrieveValueFromItem(u,h.dimIdx),v=e.retrieveValueFromItem(f,h.dimIdx);h.parser&&(p=h.parser(p),v=h.parser(v));var x=h.comparator.evaluate(p,v);if(x!==0)return x}return 0}),{data:o}}};function FGe(r){r.registerTransform(OGe),r.registerTransform(PGe)}var BGe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,n,i){r.prototype.init.call(this,t,n,i),this._sourceManager=new Pfe(this),GZ(this)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),GZ(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Wp},e})(En),zGe=(function(r){dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e})(Aa);function jGe(r){r.registerComponentModel(BGe),r.registerComponentView(zGe)}var F0=xv.CMD;function ww(r,e){return Math.abs(r-e)<1e-5}function uj(r){var e=r.data,t=r.len(),n=[],i,a=0,s=0,o=0,l=0;function c(j,B){i&&i.length>2&&n.push(i),i=[j,B]}function u(j,B,K,H){ww(j,K)&&ww(B,H)||i.push(j,B,K,H,K,H)}function f(j,B,K,H,Z,Y){var J=Math.abs(B-j),oe=Math.tan(J/4)*4/3,X=B<j?-1:1,F=Math.cos(j),W=Math.sin(j),Q=Math.cos(B),re=Math.sin(B),ae=F*Z+K,ce=W*Y+H,ye=Q*Z+K,fe=re*Y+H,be=Z*oe*X,Oe=Y*oe*X;i.push(ae-be*W,ce+Oe*F,ye+be*re,fe-Oe*Q,ye,fe)}for(var d,h,p,v,x=0;x<t;){var g=e[x++],_=x===1;switch(_&&(a=e[x],s=e[x+1],o=a,l=s,(g===F0.L||g===F0.C||g===F0.Q)&&(i=[o,l])),g){case F0.M:a=o=e[x++],s=l=e[x++],c(o,l);break;case F0.L:d=e[x++],h=e[x++],u(a,s,d,h),a=d,s=h;break;case F0.C:i.push(e[x++],e[x++],e[x++],e[x++],a=e[x++],s=e[x++]);break;case F0.Q:d=e[x++],h=e[x++],p=e[x++],v=e[x++],i.push(a+2/3*(d-a),s+2/3*(h-s),p+2/3*(d-p),v+2/3*(h-v),p,v),a=p,s=v;break;case F0.A:var w=e[x++],A=e[x++],M=e[x++],C=e[x++],N=e[x++],L=e[x++]+N;x+=1;var D=!e[x++];d=Math.cos(N)*M+w,h=Math.sin(N)*C+A,_?(o=d,l=h,c(o,l)):u(a,s,d,h),a=Math.cos(L)*M+w,s=Math.sin(L)*C+A;for(var k=(D?-1:1)*Math.PI/2,O=N;D?O>L:O<L;O+=k){var I=D?Math.max(O+k,L):Math.min(O+k,L);f(O,I,w,A,M,C)}break;case F0.R:o=a=e[x++],l=s=e[x++],d=o+e[x++],h=l+e[x++],c(d,l),u(d,l,d,h),u(d,h,o,h),u(o,h,o,l),u(o,l,d,l);break;case F0.Z:i&&u(a,s,o,l),a=o,s=l;break}}return i&&i.length>2&&n.push(i),n}function fj(r,e,t,n,i,a,s,o,l,c){if(ww(r,t)&&ww(e,n)&&ww(i,s)&&ww(a,o)){l.push(s,o);return}var u=2/c,f=u*u,d=s-r,h=o-e,p=Math.sqrt(d*d+h*h);d/=p,h/=p;var v=t-r,x=n-e,g=i-s,_=a-o,w=v*v+x*x,A=g*g+_*_;if(w<f&&A<f){l.push(s,o);return}var M=d*v+h*x,C=-d*g-h*_,N=w-M*M,L=A-C*C;if(N<f&&M>=0&&L<f&&C>=0){l.push(s,o);return}var D=[],k=[];iy(r,t,i,s,.5,D),iy(e,n,a,o,.5,k),fj(D[0],k[0],D[1],k[1],D[2],k[2],D[3],k[3],l,c),fj(D[4],k[4],D[5],k[5],D[6],k[6],D[7],k[7],l,c)}function UGe(r,e){var t=uj(r),n=[];e=e||1;for(var i=0;i<t.length;i++){var a=t[i],s=[],o=a[0],l=a[1];s.push(o,l);for(var c=2;c<a.length;){var u=a[c++],f=a[c++],d=a[c++],h=a[c++],p=a[c++],v=a[c++];fj(o,l,u,f,d,h,p,v,s,e),o=p,l=v}n.push(s)}return n}function bve(r,e,t){var n=r[e],i=r[1-e],a=Math.abs(n/i),s=Math.ceil(Math.sqrt(a*t)),o=Math.floor(t/s);o===0&&(o=1,s=t);for(var l=[],c=0;c<s;c++)l.push(o);var u=s*o,f=t-u;if(f>0)for(var c=0;c<f;c++)l[c%s]+=1;return l}function dte(r,e,t){for(var n=r.r0,i=r.r,a=r.startAngle,s=r.endAngle,o=Math.abs(s-a),l=o*i,c=i-n,u=l>Math.abs(c),f=bve([l,c],u?0:1,e),d=(u?o:c)/f.length,h=0;h<f.length;h++)for(var p=(u?c:o)/f[h],v=0;v<f[h];v++){var x={};u?(x.startAngle=a+d*h,x.endAngle=a+d*(h+1),x.r0=n+p*v,x.r=n+p*(v+1)):(x.startAngle=a+p*v,x.endAngle=a+p*(v+1),x.r0=n+d*h,x.r=n+d*(h+1)),x.clockwise=r.clockwise,x.cx=r.cx,x.cy=r.cy,t.push(x)}}function VGe(r,e,t){for(var n=r.width,i=r.height,a=n>i,s=bve([n,i],a?0:1,e),o=a?"width":"height",l=a?"height":"width",c=a?"x":"y",u=a?"y":"x",f=r[o]/s.length,d=0;d<s.length;d++)for(var h=r[l]/s[d],p=0;p<s[d];p++){var v={};v[c]=d*f,v[u]=p*h,v[o]=f,v[l]=h,v.x+=r.x,v.y+=r.y,t.push(v)}}function pte(r,e,t,n){return r*n-t*e}function HGe(r,e,t,n,i,a,s,o){var l=t-r,c=n-e,u=s-i,f=o-a,d=pte(u,f,l,c);if(Math.abs(d)<1e-6)return null;var h=r-i,p=e-a,v=pte(h,p,u,f)/d;return v<0||v>1?null:new Fr(v*l+r,v*c+e)}function GGe(r,e,t){var n=new Fr;Fr.sub(n,t,e),n.normalize();var i=new Fr;Fr.sub(i,r,e);var a=i.dot(n);return a}function R_(r,e){var t=r[r.length-1];t&&t[0]===e[0]&&t[1]===e[1]||r.push(e)}function WGe(r,e,t){for(var n=r.length,i=[],a=0;a<n;a++){var s=r[a],o=r[(a+1)%n],l=HGe(s[0],s[1],o[0],o[1],e.x,e.y,t.x,t.y);l&&i.push({projPt:GGe(l,e,t),pt:l,idx:a})}if(i.length<2)return[{points:r},{points:r}];i.sort(function(x,g){return x.projPt-g.projPt});var c=i[0],u=i[i.length-1];if(u.idx<c.idx){var f=c;c=u,u=f}for(var d=[c.pt.x,c.pt.y],h=[u.pt.x,u.pt.y],p=[d],v=[h],a=c.idx+1;a<=u.idx;a++)R_(p,r[a].slice());R_(p,h),R_(p,d);for(var a=u.idx+1;a<=c.idx+n;a++)R_(v,r[a%n].slice());return R_(v,d),R_(v,h),[{points:p},{points:v}]}function vte(r){var e=r.points,t=[],n=[];Gk(e,t,n);var i=new Br(t[0],t[1],n[0]-t[0],n[1]-t[1]),a=i.width,s=i.height,o=i.x,l=i.y,c=new Fr,u=new Fr;return a>s?(c.x=u.x=o+a/2,c.y=l,u.y=l+s):(c.y=u.y=l+s/2,c.x=o,u.x=o+a),WGe(e,c,u)}function eR(r,e,t,n){if(t===1)n.push(e);else{var i=Math.floor(t/2),a=r(e);eR(r,a[0],i,n),eR(r,a[1],t-i,n)}return n}function YGe(r,e){for(var t=[],n=0;n<e;n++)t.push(c9(r));return t}function qGe(r,e){e.setStyle(r.style),e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel}function XGe(r){for(var e=[],t=0;t<r.length;)e.push([r[t++],r[t++]]);return e}function ZGe(r,e){var t=[],n=r.shape,i;switch(r.type){case"rect":VGe(n,e,t),i=_n;break;case"sector":dte(n,e,t),i=Sc;break;case"circle":dte({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,t),i=Sc;break;default:var a=r.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=Gt(UGe(r.getUpdatedPathProxy(),s),function(g){return XGe(g)}),l=o.length;if(l===0)eR(vte,{points:o[0]},e,t);else if(l===e)for(var c=0;c<l;c++)t.push({points:o[c]});else{var u=0,f=Gt(o,function(g){var _=[],w=[];Gk(g,_,w);var A=(w[1]-_[1])*(w[0]-_[0]);return u+=A,{poly:g,area:A}});f.sort(function(g,_){return _.area-g.area});for(var d=e,c=0;c<l;c++){var h=f[c];if(d<=0)break;var p=c===l-1?d:Math.ceil(h.area/u*e);p<0||(eR(vte,{points:h.poly},p,t),d-=p)}}i=Tc;break}if(!i)return YGe(r,e);for(var v=[],c=0;c<t.length;c++){var x=new i;x.setShape(t[c]),qGe(r,x),v.push(x)}return v}function KGe(r,e){var t=r.length,n=e.length;if(t===n)return[r,e];for(var i=[],a=[],s=t<n?r:e,o=Math.min(t,n),l=Math.abs(n-t)/6,c=(o-2)/6,u=Math.ceil(l/c)+1,f=[s[0],s[1]],d=l,h=2;h<o;){var p=s[h-2],v=s[h-1],x=s[h++],g=s[h++],_=s[h++],w=s[h++],A=s[h++],M=s[h++];if(d<=0){f.push(x,g,_,w,A,M);continue}for(var C=Math.min(d,u-1)+1,N=1;N<=C;N++){var L=N/C;iy(p,x,_,A,L,i),iy(v,g,w,M,L,a),p=i[3],v=a[3],f.push(i[1],a[1],i[2],a[2],p,v),x=i[5],g=a[5],_=i[6],w=a[6]}d-=C-1}return s===r?[f,e]:[r,f]}function mte(r,e){for(var t=r.length,n=r[t-2],i=r[t-1],a=[],s=0;s<e.length;)a[s++]=n,a[s++]=i;return a}function $Ge(r,e){for(var t,n,i,a=[],s=[],o=0;o<Math.max(r.length,e.length);o++){var l=r[o],c=e[o],u=void 0,f=void 0;l?c?(t=KGe(l,c),u=t[0],f=t[1],n=u,i=f):(f=mte(i||l,l),u=l):(u=mte(n||c,c),f=c),a.push(u),s.push(f)}return[a,s]}function gte(r){for(var e=0,t=0,n=0,i=r.length,a=0,s=i-2;a<i;s=a,a+=2){var o=r[s],l=r[s+1],c=r[a],u=r[a+1],f=o*u-c*l;e+=f,t+=(o+c)*f,n+=(l+u)*f}return e===0?[r[0]||0,r[1]||0]:[t/e/3,n/e/3,e]}function JGe(r,e,t,n){for(var i=(r.length-2)/6,a=1/0,s=0,o=r.length,l=o-2,c=0;c<i;c++){for(var u=c*6,f=0,d=0;d<o;d+=2){var h=d===0?u:(u+d-2)%l+2,p=r[h]-t[0],v=r[h+1]-t[1],x=e[d]-n[0],g=e[d+1]-n[1],_=x-p,w=g-v;f+=_*_+w*w}f<a&&(a=f,s=c)}return s}function QGe(r){for(var e=[],t=r.length,n=0;n<t;n+=2)e[n]=r[t-n-2],e[n+1]=r[t-n-1];return e}function eWe(r,e,t,n){for(var i=[],a,s=0;s<r.length;s++){var o=r[s],l=e[s],c=gte(o),u=gte(l);a==null&&(a=c[2]<0!=u[2]<0);var f=[],d=[],h=0,p=1/0,v=[],x=o.length;a&&(o=QGe(o));for(var g=JGe(o,l,c,u)*6,_=x-2,w=0;w<_;w+=2){var A=(g+w)%_+2;f[w+2]=o[A]-c[0],f[w+3]=o[A+1]-c[1]}f[0]=o[g]-c[0],f[1]=o[g+1]-c[1];for(var M=n/t,C=-n/2;C<=n/2;C+=M){for(var N=Math.sin(C),L=Math.cos(C),D=0,w=0;w<o.length;w+=2){var k=f[w],O=f[w+1],I=l[w]-u[0],j=l[w+1]-u[1],B=I*L-j*N,K=I*N+j*L;v[w]=B,v[w+1]=K;var H=B-k,Z=K-O;D+=H*H+Z*Z}if(D<p){p=D,h=C;for(var Y=0;Y<v.length;Y++)d[Y]=v[Y]}}i.push({from:f,to:d,fromCp:c,toCp:u,rotation:-h})}return i}function tR(r){return r.__isCombineMorphing}var _ve="__mOriginal_";function rR(r,e,t){var n=_ve+e,i=r[n]||r[e];r[n]||(r[n]=r[e]);var a=t.replace,s=t.after,o=t.before;r[e]=function(){var l=arguments,c;return o&&o.apply(this,l),a?c=a.apply(this,l):c=i.apply(this,l),s&&s.apply(this,l),c}}function PA(r,e){var t=_ve+e;r[t]&&(r[e]=r[t],r[t]=null)}function xte(r,e){for(var t=0;t<r.length;t++)for(var n=r[t],i=0;i<n.length;){var a=n[i],s=n[i+1];n[i++]=e[0]*a+e[2]*s+e[4],n[i++]=e[1]*a+e[3]*s+e[5]}}function wve(r,e){var t=r.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),i=$Ge(uj(t),uj(n)),a=i[0],s=i[1],o=r.getComputedTransform(),l=e.getComputedTransform();function c(){this.transform=null}o&&xte(a,o),l&&xte(s,l),rR(e,"updateTransform",{replace:c}),e.transform=null;var u=eWe(a,s,10,Math.PI),f=[];rR(e,"buildPath",{replace:function(d){for(var h=e.__morphT,p=1-h,v=[],x=0;x<u.length;x++){var g=u[x],_=g.from,w=g.to,A=g.rotation*h,M=g.fromCp,C=g.toCp,N=Math.sin(A),L=Math.cos(A);TA(v,M,C,h);for(var D=0;D<_.length;D+=2){var k=_[D],O=_[D+1],I=w[D],j=w[D+1],B=k*p+I*h,K=O*p+j*h;f[D]=B*L-K*N+v[0],f[D+1]=B*N+K*L+v[1]}var H=f[0],Z=f[1];d.moveTo(H,Z);for(var D=2;D<_.length;){var I=f[D++],j=f[D++],Y=f[D++],J=f[D++],oe=f[D++],X=f[D++];H===I&&Z===j&&Y===oe&&J===X?d.lineTo(oe,X):d.bezierCurveTo(I,j,Y,J,oe,X),H=oe,Z=X}}}})}function vH(r,e,t){if(!r||!e)return e;var n=t.done,i=t.during;wve(r,e),e.__morphT=0;function a(){PA(e,"buildPath"),PA(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},Rr({during:function(s){e.dirtyShape(),i&&i(s)},done:function(){a(),n&&n()}},t)),e}function tWe(r,e,t,n,i,a){var s=16;r=i===t?0:Math.round(32767*(r-t)/(i-t)),e=a===n?0:Math.round(32767*(e-n)/(a-n));for(var o=0,l,c=(1<<s)/2;c>0;c/=2){var u=0,f=0;(r&c)>0&&(u=1),(e&c)>0&&(f=1),o+=c*c*(3*u^f),f===0&&(u===1&&(r=c-1-r,e=c-1-e),l=r,r=e,e=l)}return o}function nR(r){var e=1/0,t=1/0,n=-1/0,i=-1/0,a=Gt(r,function(o){var l=o.getBoundingRect(),c=o.getComputedTransform(),u=l.x+l.width/2+(c?c[4]:0),f=l.y+l.height/2+(c?c[5]:0);return e=Math.min(u,e),t=Math.min(f,t),n=Math.max(u,n),i=Math.max(f,i),[u,f]}),s=Gt(a,function(o,l){return{cp:o,z:tWe(o[0],o[1],e,t,n,i),path:r[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function Sve(r){return ZGe(r.path,r.count)}function hj(){return{fromIndividuals:[],toIndividuals:[],count:0}}function rWe(r,e,t){var n=[];function i(M){for(var C=0;C<M.length;C++){var N=M[C];tR(N)?i(N.childrenRef()):N instanceof Rn&&n.push(N)}}i(r);var a=n.length;if(!a)return hj();var s=t.dividePath||Sve,o=s({path:e,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),hj();n=nR(n),o=nR(o);for(var l=t.done,c=t.during,u=t.individualDelay,f=new zm,d=0;d<a;d++){var h=n[d],p=o[d];p.parent=e,p.copyTransform(f),u||wve(h,p)}e.__isCombineMorphing=!0,e.childrenRef=function(){return o};function v(M){for(var C=0;C<o.length;C++)o[C].addSelfToZr(M)}rR(e,"addSelfToZr",{after:function(M){v(M)}}),rR(e,"removeSelfFromZr",{after:function(M){for(var C=0;C<o.length;C++)o[C].removeSelfFromZr(M)}});function x(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,PA(e,"addSelfToZr"),PA(e,"removeSelfFromZr")}var g=o.length;if(u)for(var _=g,w=function(){_--,_===0&&(x(),l&&l())},d=0;d<g;d++){var A=u?Rr({delay:(t.delay||0)+u(d,g,n[d],o[d]),done:w},t):t;vH(n[d],o[d],A)}else e.__morphT=0,e.animateTo({__morphT:1},Rr({during:function(M){for(var C=0;C<g;C++){var N=o[C];N.__morphT=e.__morphT,N.dirtyShape()}c&&c(M)},done:function(){x();for(var M=0;M<r.length;M++)PA(r[M],"updateTransform");l&&l()}},t));return e.__zr&&v(e.__zr),{fromIndividuals:n,toIndividuals:o,count:g}}function nWe(r,e,t){var n=e.length,i=[],a=t.dividePath||Sve;function s(h){for(var p=0;p<h.length;p++){var v=h[p];tR(v)?s(v.childrenRef()):v instanceof Rn&&i.push(v)}}if(tR(r)){s(r.childrenRef());var o=i.length;if(o<n)for(var l=0,c=o;c<n;c++)i.push(c9(i[l++%o]));i.length=n}else{i=a({path:r,count:n});for(var u=r.getComputedTransform(),c=0;c<i.length;c++)i[c].setLocalTransform(u);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),hj()}i=nR(i),e=nR(e);for(var f=t.individualDelay,c=0;c<n;c++){var d=f?Rr({delay:(t.delay||0)+f(c,n,i[c],e[c])},t):t;vH(i[c],e[c],d)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function yte(r){return Ut(r[0])}function bte(r,e){for(var t=[],n=r.length,i=0;i<n;i++)t.push({one:r[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,s=void 0;for(s=0;s<a;s++)t[s%n].many.push(e[i][s])}for(var o=0,i=n-1;i>=0;i--)if(!t[i].many.length){var l=t[o].many;if(l.length<=1)if(o)o=0;else return t;var a=l.length,c=Math.ceil(a/2);t[i].many=l.slice(c,a),t[o].many=l.slice(0,c),o++}return t}var iWe={clone:function(r){for(var e=[],t=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var i=c9(r.path);i.setStyle("opacity",t),e.push(i)}return e},split:null};function Y8(r,e,t,n,i,a){if(!r.length||!e.length)return;var s=US("update",n,i);if(!(s&&s.duration>0))return;var o=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),c,u;yte(r)&&(c=r,u=e),yte(e)&&(c=e,u=r);function f(g,_,w,A,M){var C=g.many,N=g.one;if(C.length===1&&!M){var L=_?C[0]:N,D=_?N:C[0];if(tR(L))f({many:[L],one:D},!0,w,A,!0);else{var k=o?Rr({delay:o(w,A)},l):l;vH(L,D,k),a(L,D,L,D,k)}}else for(var O=Rr({dividePath:iWe[t],individualDelay:o&&function(Z,Y,J,oe){return o(Z+w,A)}},l),I=_?rWe(C,N,O):nWe(N,C,O),j=I.fromIndividuals,B=I.toIndividuals,K=j.length,H=0;H<K;H++){var k=o?Rr({delay:o(H,K)},l):l;a(j[H],B[H],_?C[H]:g.one,_?g.one:C[H],k)}}for(var d=c?c===r:r.length>e.length,h=c?bte(u,c):bte(d?e:r,[d?r:e]),p=0,v=0;v<h.length;v++)p+=h[v].many.length;for(var x=0,v=0;v<h.length;v++)f(h[v],d,x,p),x+=h[v].many.length}function e2(r){if(!r)return[];if(Ut(r)){for(var e=[],t=0;t<r.length;t++)e.push(e2(r[t]));return e}var n=[];return r.traverse(function(i){i instanceof Rn&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var Tve=1e4,aWe=0,_te=1,wte=2,sWe=Mn();function oWe(r,e){for(var t=r.dimensions,n=0;n<t.length;n++){var i=r.getDimensionInfo(t[n]);if(i&&i.otherDims[e]===0)return t[n]}}function lWe(r,e,t){var n=r.getDimensionInfo(t),i=n&&n.ordinalMeta;if(n){var a=r.get(n.name,e);return i&&i.categories[a]||a+""}}function Ste(r,e,t,n){var i=n?"itemChildGroupId":"itemGroupId",a=oWe(r,i);if(a){var s=lWe(r,e,a);return s}var o=r.getRawDataItem(e),l=n?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!n)return t||r.getId(e)}function Tte(r){var e=[];return he(r,function(t){var n=t.data,i=t.dataGroupId;if(!(n.count()>Tve))for(var a=n.getIndices(),s=0;s<a.length;s++)e.push({data:n,groupId:Ste(n,s,i,!1),childGroupId:Ste(n,s,i,!0),divide:t.divide,dataIndex:s})}),e}function q8(r,e,t){r.traverse(function(n){n instanceof Rn&&Ua(n,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function X8(r){if(r.parent){var e=r.getComputedTransform();r.setLocalTransform(e),r.parent.remove(r)}}function k_(r){r.stopAnimation(),r.isGroup&&r.traverse(function(e){e.stopAnimation()})}function cWe(r,e,t){var n=US("update",t,e);n&&r.traverse(function(i){if(i instanceof Bd){var a=E4e(i);a&&i.animateFrom({style:a},n)}})}function uWe(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++){var i=r[n],a=e[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function Ave(r,e,t){var n=Tte(r),i=Tte(e);function a(w,A,M,C,N){(M||w)&&A.animateFrom({style:M&&M!==w?It(It({},M.style),w.style):w.style},N)}var s=!1,o=aWe,l=br(),c=br();n.forEach(function(w){w.groupId&&l.set(w.groupId,!0),w.childGroupId&&c.set(w.childGroupId,!0)});for(var u=0;u<i.length;u++){var f=i[u].groupId;if(c.get(f)){o=_te;break}var d=i[u].childGroupId;if(d&&l.get(d)){o=wte;break}}function h(w,A){return function(M){var C=M.data,N=M.dataIndex;return A?C.getId(N):w?o===_te?M.childGroupId:M.groupId:o===wte?M.childGroupId:M.groupId}}var p=uWe(n,i),v={};if(!p)for(var u=0;u<i.length;u++){var x=i[u],g=x.data.getItemGraphicEl(x.dataIndex);g&&(v[g.id]=!0)}function _(w,A){var M=n[A],C=i[w],N=C.data.hostModel,L=M.data.getItemGraphicEl(M.dataIndex),D=C.data.getItemGraphicEl(C.dataIndex);if(L===D){D&&cWe(D,C.dataIndex,N);return}L&&v[L.id]||D&&(k_(D),L?(k_(L),X8(L),s=!0,Y8(e2(L),e2(D),C.divide,N,w,a)):q8(D,N,w))}new ag(n,i,h(!0,p),h(!1,p),null,"multiple").update(_).updateManyToOne(function(w,A){var M=i[w],C=M.data,N=C.hostModel,L=C.getItemGraphicEl(M.dataIndex),D=bi(Gt(A,function(k){return n[k].data.getItemGraphicEl(n[k].dataIndex)}),function(k){return k&&k!==L&&!v[k.id]});L&&(k_(L),D.length?(he(D,function(k){k_(k),X8(k)}),s=!0,Y8(e2(D),e2(L),M.divide,N,w,a)):q8(L,N,M.dataIndex))}).updateOneToMany(function(w,A){var M=n[A],C=M.data.getItemGraphicEl(M.dataIndex);if(!(C&&v[C.id])){var N=bi(Gt(w,function(D){return i[D].data.getItemGraphicEl(i[D].dataIndex)}),function(D){return D&&D!==C}),L=i[w[0]].data.hostModel;N.length&&(he(N,function(D){return k_(D)}),C?(k_(C),X8(C),s=!0,Y8(e2(C),e2(N),M.divide,L,w[0],a)):he(N,function(D){return q8(D,L,w[0])}))}}).updateManyToMany(function(w,A){new ag(A,w,function(M){return n[M].data.getId(n[M].dataIndex)},function(M){return i[M].data.getId(i[M].dataIndex)}).update(function(M,C){_(w[M],A[C])}).execute()}).execute(),s&&he(e,function(w){var A=w.data,M=A.hostModel,C=M&&t.getViewOfSeriesModel(M),N=US("update",M,0);C&&M.isAnimationEnabled()&&N&&N.duration>0&&C.group.traverse(function(L){L instanceof Rn&&!L.animators.length&&L.animateFrom({style:{opacity:0}},N)})})}function Ate(r){var e=r.getModel("universalTransition").get("seriesKey");return e||r.id}function Ete(r){return Ut(r)?r.sort().join(","):r}function Mx(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function fWe(r,e){var t=br(),n=br(),i=br();return he(r.oldSeries,function(a,s){var o=r.oldDataGroupIds[s],l=r.oldData[s],c=Ate(a),u=Ete(c);n.set(u,{dataGroupId:o,data:l}),Ut(c)&&he(c,function(f){i.set(f,{key:u,dataGroupId:o,data:l})})}),he(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),l=Ate(a),c=Ete(l),u=n.get(c);if(u)t.set(c,{oldSeries:[{dataGroupId:u.dataGroupId,divide:Mx(u.data),data:u.data}],newSeries:[{dataGroupId:s,divide:Mx(o),data:o}]});else if(Ut(l)){var f=[];he(l,function(p){var v=n.get(p);v.data&&f.push({dataGroupId:v.dataGroupId,divide:Mx(v.data),data:v.data})}),f.length&&t.set(c,{oldSeries:f,newSeries:[{dataGroupId:s,data:o,divide:Mx(o)}]})}else{var d=i.get(l);if(d){var h=t.get(d.key);h||(h={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:Mx(d.data)}],newSeries:[]},t.set(d.key,h)),h.newSeries.push({dataGroupId:s,data:o,divide:Mx(o)})}}}}),t}function Mte(r,e){for(var t=0;t<r.length;t++){var n=e.seriesIndex!=null&&e.seriesIndex===r[t].seriesIndex||e.seriesId!=null&&e.seriesId===r[t].id;if(n)return t}}function hWe(r,e,t,n){var i=[],a=[];he(Ta(r.from),function(s){var o=Mte(e.oldSeries,s);o>=0&&i.push({dataGroupId:e.oldDataGroupIds[o],data:e.oldData[o],divide:Mx(e.oldData[o]),groupIdDim:s.dimension})}),he(Ta(r.to),function(s){var o=Mte(t.updatedSeries,s);if(o>=0){var l=t.updatedSeries[o].getData();a.push({dataGroupId:e.oldDataGroupIds[o],data:l,divide:Mx(l),groupIdDim:s.dimension})}}),i.length>0&&a.length>0&&Ave(i,a,n)}function dWe(r){r.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){he(Ta(n.seriesTransition),function(i){he(Ta(i.to),function(a){for(var s=n.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][yD]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(e,t,n){var i=sWe(t);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)he(Ta(a),function(h){hWe(h,i,n,t)});else{var s=fWe(i,n);he(s.keys(),function(h){var p=s.get(h);Ave(p.oldSeries,p.newSeries,t)})}he(n.updatedSeries,function(h){h[yD]&&(h[yD]=!1)})}for(var o=e.getSeries(),l=i.oldSeries=[],c=i.oldDataGroupIds=[],u=i.oldData=[],f=0;f<o.length;f++){var d=o[f].getData();d.count()<Tve&&(l.push(o[f]),c.push(o[f].get("dataGroupId")),u.push(d))}})}var pWe=(function(){function r(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return r.prototype.setBreaks=function(e){this.breaks=e.breaks},r.prototype.update=function(e){mWe(this,e);var t=this._elapsedExtent;t[0]=this.elapse(e[0]),t[1]=this.elapse(e[1])},r.prototype.hasBreaks=function(){return!!this.breaks.length},r.prototype.calcNiceTickMultiple=function(e,t){for(var n=0;n<this.breaks.length;n++){var i=this.breaks[n];if(i.vmin<e&&e<i.vmax){var a=t(e,i.vmax);return a}}return 0},r.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},r.prototype.normalize=function(e){var t=this._elapsedExtent[1]-this._elapsedExtent[0];return t===0?.5:(this.elapse(e)-this._elapsedExtent[0])/t},r.prototype.scale=function(e){return this.unelapse(e*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},r.prototype.elapse=function(e){for(var t=Cte,n=Nte,i=!0,a=0;a<this.breaks.length;a++){var s=this.breaks[a];if(e<=s.vmax){e>s.vmin?t+=s.vmin-n+(e-s.vmin)/(s.vmax-s.vmin)*s.gapReal:t+=e-n,n=s.vmax,i=!1;break}t+=s.vmin-n+s.gapReal,n=s.vmax}return i&&(t+=e-n),t},r.prototype.unelapse=function(e){for(var t=Cte,n=Nte,i=!0,a=0,s=0;s<this.breaks.length;s++){var o=this.breaks[s],l=t+o.vmin-n,c=l+o.gapReal;if(e<=c){e>l?a=o.vmin+(e-l)/(c-l)*(o.vmax-o.vmin):a=n+e-t,n=o.vmax,i=!1;break}t=c,n=o.vmax}return i&&(a=n+e-t),a},r})();function vWe(){return new pWe}var Cte=0,Nte=0;function mWe(r,e){var t=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},i=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:i(),tpPrct:i()},E:{tpAbs:i(),tpPrct:i()}};he(r.breaks,function(o){var l=o.gapParsed;l.type==="tpPrct"&&(t+=l.val);var c=mH(o,e);if(c){var u=c.vmin!==o.vmin,f=c.vmax!==o.vmax,d=c.vmax-c.vmin;if(!(u&&f))if(u||f){var h=u?"S":"E";a[h][l.type].has=!0,a[h][l.type].span=d,a[h][l.type].inExtFrac=d/(o.vmax-o.vmin),a[h][l.type].val=l.val}else n[l.type].span+=d,n[l.type].val+=l.val}});var s=t*(0+(e[1]-e[0])+(n.tpAbs.val-n.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));he(r.breaks,function(o){var l=o.gapParsed;l.type==="tpPrct"&&(o.gapReal=t!==0?Math.max(s,0)*l.val/t:0),l.type==="tpAbs"&&(o.gapReal=l.val),o.gapReal==null&&(o.gapReal=0)})}function gWe(r,e,t,n,i,a){r!=="no"&&he(t,function(s){var o=mH(s,a);if(o)for(var l=e.length-1;l>=0;l--){var c=e[l],u=n(c),f=i*3/4;u>o.vmin-f&&u<o.vmax+f&&(r!=="preserve_extent_bound"||u!==a[0]&&u!==a[1])&&e.splice(l,1)}})}function xWe(r,e,t,n){he(e,function(i){var a=mH(i,t);a&&(r.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:n?n(a):void 0}),r.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:n?n(a):void 0}))}),e.length&&r.sort(function(i,a){return i.value-a.value})}function mH(r,e){var t=Math.max(r.vmin,e[0]),n=Math.min(r.vmax,e[1]);return t<n||t===n&&t>e[0]&&t<e[1]?{vmin:t,vmax:n,breakOption:r.breakOption,gapParsed:r.gapParsed,gapReal:r.gapReal}:null}function dj(r,e,t){var n=[];if(!r)return{breaks:n};function i(s,o){return s>=0&&s<1-1e-5}he(r,function(s){if(!(!s||s.start==null||s.end==null)&&!s.isExpanded){var o={breakOption:Cr(s),vmin:e(s.start),vmax:e(s.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(s.gap!=null){var l=!1;if(fr(s.gap)){var c=Nh(s.gap);if(c.match(/%$/)){var u=parseFloat(c)/100;i(u)||(u=0),o.gapParsed.type="tpPrct",o.gapParsed.val=u,l=!0}}if(!l){var f=e(s.gap);(!isFinite(f)||f<0)&&(f=0),o.gapParsed.type="tpAbs",o.gapParsed.val=f}}if(o.vmin===o.vmax&&(o.gapParsed.type="tpAbs",o.gapParsed.val=0),t&&t.noNegative&&he(["vmin","vmax"],function(h){o[h]<0&&(o[h]=0)}),o.vmin>o.vmax){var d=o.vmax;o.vmax=o.vmin,o.vmin=d}n.push(o)}}),n.sort(function(s,o){return s.vmin-o.vmin});var a=-1/0;return he(n,function(s,o){a>s.vmin&&(n[o]=null),a=s.vmax}),{breaks:n.filter(function(s){return!!s})}}function gH(r,e){return pj(e)===pj(r)}function pj(r){return r.start+"_\0_"+r.end}function yWe(r,e,t){var n=[];he(r,function(a,s){var o=e(a);o&&o.type==="vmin"&&n.push([s])}),he(r,function(a,s){var o=e(a);if(o&&o.type==="vmax"){var l=wy(n,function(c){return gH(e(r[c[0]]).parsedBreak.breakOption,o.parsedBreak.breakOption)});l&&l.push(s)}});var i=[];return he(n,function(a){a.length===2&&i.push(t?a:[r[a[0]],r[a[1]]])}),i}function bWe(r,e,t,n){var i,a;if(r.break){var s=r.break.parsedBreak,o=wy(t,function(f){return gH(f.breakOption,r.break.parsedBreak.breakOption)}),l=n(Math.pow(e,s.vmin),o.vmin),c=n(Math.pow(e,s.vmax),o.vmax),u={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?vo(Math.pow(e,s.vmin+s.gapParsed.val))-l:s.gapParsed.val};i={type:r.break.type,parsedBreak:{breakOption:s.breakOption,vmin:l,vmax:c,gapParsed:u,gapReal:s.gapReal}},a=o[r.break.type]}return{brkRoundingCriterion:a,vBreak:i}}function _We(r,e,t){var n={noNegative:!0},i=dj(r,t,n),a=dj(r,t,n),s=Math.log(e);return a.breaks=Gt(a.breaks,function(o){var l=Math.log(o.vmin)/s,c=Math.log(o.vmax)/s,u={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Math.log(o.vmin+o.gapParsed.val)/s-l:o.gapParsed.val};return{vmin:l,vmax:c,gapParsed:u,gapReal:o.gapReal,breakOption:o.breakOption}}),{parsedOriginal:i,parsedLogged:a}}var wWe={vmin:"start",vmax:"end"};function SWe(r,e){return e&&(r=r||{},r.break={type:wWe[e.type],start:e.parsedBreak.vmin,end:e.parsedBreak.vmax}),r}function TWe(){Y4e({createScaleBreakContext:vWe,pruneTicksByBreak:gWe,addBreaksToTicks:xWe,parseAxisBreakOption:dj,identifyAxisBreak:gH,serializeAxisBreakIdentifier:pj,retrieveAxisBreakPairs:yWe,getTicksLogTransformBreak:bWe,logarithmicParseBreaksFromOption:_We,makeAxisLabelFormatterParamBreak:SWe})}var Dte=Mn();function AWe(r,e){var t=wy(r,function(n){return Bo().identifyAxisBreak(n.parsedBreak.breakOption,e.breakOption)});return t||r.push(t={zigzagRandomList:[],parsedBreak:e,shouldRemove:!1}),t}function EWe(r){he(r,function(e){return e.shouldRemove=!0})}function MWe(r){for(var e=r.length-1;e>=0;e--)r[e].shouldRemove&&r.splice(e,1)}function CWe(r,e,t,n,i){var a=t.axis;if(a.scale.isBlank()||!Bo())return;var s=Bo().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(D){return D.break},!1);if(!s.length)return;var o=t.getModel("breakArea"),l=o.get("zigzagAmplitude"),c=o.get("zigzagMinSpan"),u=o.get("zigzagMaxSpan");c=Math.max(2,c||0),u=Math.max(c,u||0);var f=o.get("expandOnClick"),d=o.get("zigzagZ"),h=o.getModel("itemStyle"),p=h.getItemStyle(),v=p.stroke,x=p.lineWidth,g=p.lineDash,_=p.fill,w=new Nr({ignoreModelZ:!0}),A=a.isHorizontal(),M=Dte(e).visualList||(Dte(e).visualList=[]);EWe(M);for(var C=function(D){var k=s[D][0].break.parsedBreak,O=[];O[0]=a.toGlobalCoord(a.dataToCoord(k.vmin,!0)),O[1]=a.toGlobalCoord(a.dataToCoord(k.vmax,!0)),O[1]<O[0]&&O.reverse();var I=AWe(M,k);I.shouldRemove=!1;var j=new Nr;L(I.zigzagRandomList,j,O[0],O[1],A,k),f&&j.on("click",function(){var B={type:oI,breaks:[{start:k.breakOption.start,end:k.breakOption.end}]};B[a.dim+"AxisIndex"]=t.componentIndex,i.dispatchAction(B)}),j.silent=!f,w.add(j)},N=0;N<s.length;N++)C(N);r.add(w),MWe(M);function L(D,k,O,I,j,B){var K={stroke:v,lineWidth:x,lineDash:g,fill:"none"},H=j?0:1,Z=1-H,Y=n[nn[Z]]+n[jo[Z]];function J(Qe){var ne=[],te=[];ne[H]=te[H]=Qe,ne[Z]=n[nn[Z]],te[Z]=Y;var Me={x1:ne[0],y1:ne[1],x2:te[0],y2:te[1]};return Yk(Me,Me,{lineWidth:1}),ne[0]=Me.x1,ne[1]=Me.y1,ne[H]}O=J(O),I=J(I);for(var oe=[],X=[],F=!0,W=n[nn[Z]],Q=0;;Q++){var re=W===n[nn[Z]],ae=W>=Y;ae&&(W=Y);var ce=[],ye=[];ce[H]=O,ye[H]=I,!re&&!ae&&(ce[H]+=F?-l:l,ye[H]-=F?l:-l),ce[Z]=W,ye[Z]=W,oe.push(ce),X.push(ye);var fe=void 0;if(Q<D.length?fe=D[Q]:(fe=Math.random(),D.push(fe)),W+=fe*(u-c)+c,F=!F,ae)break}var be=Bo().serializeAxisBreakIdentifier(B.breakOption);if(k.add(new Kl({anid:"break_a_"+be,shape:{points:oe},style:K,z:d})),B.gapReal!==0){k.add(new Kl({anid:"break_b_"+be,shape:{points:X},style:K,z:d}));var Oe=X.slice();Oe.reverse();var xe=oe.concat(Oe);k.add(new Tc({anid:"break_c_"+be,shape:{points:xe},style:{fill:_,opacity:p.opacity},z:d}))}}}function NWe(r,e,t,n){var i=r.axis,a=t.transform;wc(n.style);var s=i.getExtent();i.inverse&&(s=s.slice(),s.reverse());var o=Bo().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(x){return x.break},!1),l=Gt(o,function(x){var g=x[0].break.parsedBreak,_=[i.dataToCoord(g.vmin,!0),i.dataToCoord(g.vmax,!0)];return _[0]>_[1]&&_.reverse(),{coordPair:_,brkId:Bo().serializeAxisBreakIdentifier(g.breakOption)}});l.sort(function(x,g){return x.coordPair[0]-g.coordPair[0]});for(var c=s[0],u=null,f=0;f<l.length;f++){var d=l[f],h=Math.max(d.coordPair[0],s[0]),p=Math.min(d.coordPair[1],s[1]);c<=h&&v(c,h,u,d),c=p,u=d}c<=s[1]&&v(c,s[1],u,null);function v(x,g,_,w){function A(O,I){a&&(Ys(O,O,a),Ys(I,I,a))}function M(O,I){var j={x1:O[0],y1:O[1],x2:I[0],y2:I[1]};Yk(j,j,n.style),O[0]=j.x1,O[1]=j.y1,I[0]=j.x2,I[1]=j.y2}var C=[x,0],N=[g,0],L=[x,5],D=[g,5];A(C,L),M(C,L),A(N,D),M(N,D),M(C,N);var k=new mo(It({shape:{x1:C[0],y1:C[1],x2:N[0],y2:N[1]}},n));e.add(k),k.anid="breakLine_"+(_?_.brkId:"\0")+"_\0_"+(w?w.brkId:"\0")}}function DWe(r,e,t){if(wy(t,function(_){return!_}))return;var n=new Fr;if(!aI(t[0],t[1],n,{direction:-(r?e+Math.PI:e),touchThreshold:0,bidirectional:!1}))return;var i=wl();xg(i,i,-e);var a=Gt(t,function(_){return _.transform?Vp(wl(),i,_.transform):i});function s(_){var w=t[0].localRect,A=new Fr(w[jo[_]]*a[0][0],w[jo[_]]*a[0][1]);return Math.abs(A.y)<1e-5}var o=.5;if(s(0)||s(1)){var l=Gt(t,function(_,w){var A=_.localRect.clone();return A.applyTransform(a[w]),A}),c=new Fr;c.copy(t[0].label).add(t[1].label).scale(.5),c.transform(i);var u=n.clone().transform(i),f=l[0].x+l[1].x+(u.x>=0?l[0].width:l[1].width),d=(f+u.x)/2-c.x,h=Math.min(d,d-u.x),p=Math.max(d,d-u.x),v=p<0?p:h>0?h:0;o=(d-v)/u.x}var x=new Fr,g=new Fr;Fr.scale(x,n,-o),Fr.scale(g,n,1-o),vz(t[0],x),vz(t[1],g)}function LWe(r,e){var t={breaks:[]};return he(e.breaks,function(n){if(n){var i=wy(r.get("breaks",!0),function(o){return Bo().identifyAxisBreak(o,n)});if(i){var a=e.type,s={isExpanded:!!i.isExpanded};i.isExpanded=a===oI?!0:a===Yde?!1:a===qde?!i.isExpanded:i.isExpanded,t.breaks.push({start:i.start,end:i.end,isExpanded:!!i.isExpanded,old:s})}}}),t}function RWe(){MOe({adjustBreakLabelPair:DWe,buildAxisBreakLine:NWe,rectCoordBuildBreakAxis:CWe,updateModelAxisBreak:LWe})}function kWe(r){kOe(r),TWe(),RWe()}function IWe(){ePe(OWe)}function OWe(r,e){he(r,function(t){if(!t.model.get(["axisLabel","inside"])){var n=PWe(t);if(n){var i=t.isHorizontal()?"height":"width",a=t.model.get(["axisLabel","margin"]);e[i]-=n[i]+a,t.position==="top"?e.y+=n.height+a:t.position==="left"&&(e.x+=n.width+a)}}})}function PWe(r){var e=r.model,t=r.scale;if(!e.get(["axisLabel","show"])||t.isBlank())return;var n,i,a=t.getExtent();t instanceof sS?i=t.count():(n=t.getTicks(),i=n.length);var s=r.getLabelModel(),o=$S(r),l,c=1;i>40&&(c=Math.ceil(i/40));for(var u=0;u<i;u+=c){var f=n?n[u]:{value:a[0]+u},d=o(f,u),h=s.getTextRect(d),p=v(h,s.get("rotate")||0);l?l.union(p):l=p}return l;function v(x,g){var _=g*Math.PI/180,w=x.width,A=x.height,M=w*Math.abs(Math.cos(_))+Math.abs(A*Math.sin(_)),C=w*Math.abs(Math.sin(_))+Math.abs(A*Math.cos(_)),N=new Br(x.x,x.y,M,C);return N}}xn([A6e]);xn([b6e]);xn([W6e,sOe,mOe,yPe,DPe,y8e,Y8e,NFe,KFe,nBe,cBe,gBe,u7e,I7e,W7e,oze,fze,_ze,Cze,zze,Wze,tje,zje]);xn(iUe);xn(NUe);xn(ype);xn(UUe);xn(a0e);xn(WUe);xn(f9e);xn(b9e);xn(sVe);xn(AVe);xn(tM);xn(UVe);xn(GVe);xn(eHe);xn(lHe);xn(pHe);xn(bHe);xn(DHe);xn(ZHe);xn(fve);xn(hve);xn(vGe);xn(gve);xn(xve);xn(yGe);xn(TGe);xn(FGe);xn(jGe);xn(dWe);xn(jIe);xn(kWe);xn(IWe);xn(bPe);const FWe=Object.freeze(Object.defineProperty({__proto__:null,Axis:Gd,ChartView:Zi,ComponentModel:En,ComponentView:Aa,List:lu,Model:Ln,PRIORITY:dhe,SeriesModel:la,color:BMe,connect:HRe,dataTool:$Re,dependencies:ARe,disConnect:GRe,disconnect:_he,dispose:WRe,env:Un,extendChartView:AIe,extendComponentModel:wIe,extendComponentView:SIe,extendSeriesModel:TIe,format:oIe,getCoordinateSystemDimensions:qRe,getInstanceByDom:q9,getInstanceById:YRe,getMap:KRe,graphic:sIe,helper:Jke,init:VRe,innerDrawElementOnCanvas:H9,matrix:dMe,number:iIe,parseGeoJSON:dz,parseGeoJson:dz,registerAction:n0,registerCoordinateSystem:The,registerCustomSeries:XRe,registerLayout:Ahe,registerLoading:J9,registerLocale:b9,registerMap:Ehe,registerPostInit:whe,registerPostUpdate:She,registerPreprocessor:Z9,registerProcessor:K9,registerTheme:X9,registerTransform:Mhe,registerUpdateLifecycle:iI,registerVisual:Ey,setCanvasCreator:ZRe,setPlatformAPI:lce,throttle:rI,time:aIe,use:xn,util:lIe,vector:JEe,version:TRe,zrUtil:WEe,zrender:bCe},Symbol.toStringTag,{value:"Module"}));var mm={},gm={},Z8={},Lte;function BWe(){return Lte||(Lte=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=1,t=function(){return"".concat(e++)};r.default=t})(Z8)),Z8}var E5={},M5={},K8={},Rte;function Eve(){return Rte||(Rte=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=null;return function(){for(var s=this,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];clearTimeout(a),a=setTimeout(function(){n.apply(s,l)},i)}};r.default=e})(K8)),K8}var xm={},kte;function xH(){if(kte)return xm;kte=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.SizeSensorId=xm.SensorTabIndex=xm.SensorClassName=void 0;var r="size-sensor-id";xm.SizeSensorId=r;var e="size-sensor-object";xm.SensorClassName=e;var t="-1";return xm.SensorTabIndex=t,xm}var Ite;function zWe(){if(Ite)return M5;Ite=1,Object.defineProperty(M5,"__esModule",{value:!0}),M5.createSensor=void 0;var r=t(Eve()),e=xH();function t(i){return i&&i.__esModule?i:{default:i}}var n=function(a,s){var o=void 0,l=[],c=function(){getComputedStyle(a).position==="static"&&(a.style.position="relative");var v=document.createElement("object");return v.onload=function(){v.contentDocument.defaultView.addEventListener("resize",u),u()},v.style.display="block",v.style.position="absolute",v.style.top="0",v.style.left="0",v.style.height="100%",v.style.width="100%",v.style.overflow="hidden",v.style.pointerEvents="none",v.style.zIndex="-1",v.style.opacity="0",v.setAttribute("class",e.SensorClassName),v.setAttribute("tabindex",e.SensorTabIndex),v.type="text/html",a.appendChild(v),v.data="about:blank",v},u=(0,r.default)(function(){l.forEach(function(p){p(a)})}),f=function(v){o||(o=c()),l.indexOf(v)===-1&&l.push(v)},d=function(){o&&o.parentNode&&(o.contentDocument&&o.contentDocument.defaultView.removeEventListener("resize",u),o.parentNode.removeChild(o),a.removeAttribute(e.SizeSensorId),o=void 0,l=[],s&&s())},h=function(v){var x=l.indexOf(v);x!==-1&&l.splice(x,1),l.length===0&&o&&d()};return{element:a,bind:f,destroy:d,unbind:h}};return M5.createSensor=n,M5}var C5={},Ote;function jWe(){if(Ote)return C5;Ote=1,Object.defineProperty(C5,"__esModule",{value:!0}),C5.createSensor=void 0;var r=xH(),e=t(Eve());function t(i){return i&&i.__esModule?i:{default:i}}var n=function(a,s){var o=void 0,l=[],c=(0,e.default)(function(){l.forEach(function(p){p(a)})}),u=function(){var v=new ResizeObserver(c);return v.observe(a),c(),v},f=function(v){o||(o=u()),l.indexOf(v)===-1&&l.push(v)},d=function(){o.disconnect(),l=[],o=void 0,a.removeAttribute(r.SizeSensorId),s&&s()},h=function(v){var x=l.indexOf(v);x!==-1&&l.splice(x,1),l.length===0&&o&&d()};return{element:a,bind:f,destroy:d,unbind:h}};return C5.createSensor=n,C5}var Pte;function UWe(){if(Pte)return E5;Pte=1,Object.defineProperty(E5,"__esModule",{value:!0}),E5.createSensor=void 0;var r=zWe(),e=jWe(),t=typeof ResizeObserver<"u"?e.createSensor:r.createSensor;return E5.createSensor=t,E5}var Fte;function VWe(){if(Fte)return gm;Fte=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.removeSensor=gm.getSensor=gm.Sensors=void 0;var r=n(BWe()),e=UWe(),t=xH();function n(l){return l&&l.__esModule?l:{default:l}}var i={};gm.Sensors=i;function a(l){l&&i[l]&&delete i[l]}var s=function(c){var u=c.getAttribute(t.SizeSensorId);if(u&&i[u])return i[u];var f=(0,r.default)();c.setAttribute(t.SizeSensorId,f);var d=(0,e.createSensor)(c,function(){return a(f)});return i[f]=d,d};gm.getSensor=s;var o=function(c){var u=c.element.getAttribute(t.SizeSensorId);c.destroy(),a(u)};return gm.removeSensor=o,gm}var Bte;function HWe(){if(Bte)return mm;Bte=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.ver=mm.clear=mm.bind=void 0;var r=VWe(),e=function(a,s){var o=(0,r.getSensor)(a);return o.bind(s),function(){o.unbind(s)}};mm.bind=e;var t=function(a){var s=(0,r.getSensor)(a);(0,r.removeSensor)(s)};mm.clear=t;var n="1.0.2";return mm.ver=n,mm}var zte=HWe();function jte(r,e){var t={};return e.forEach(function(n){t[n]=r[n]}),t}function $8(r){return typeof r=="function"}function Ute(r){return typeof r=="string"}var J8,Vte;function GWe(){return Vte||(Vte=1,J8=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!r(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}),J8}var WWe=GWe();const I_=LS(WWe);var YWe=(function(r){sce(e,r);function e(t){var n=r.call(this,t)||this;return n.echarts=t.echarts,n.ele=null,n.isInitialResize=!0,n}return e.prototype.componentDidMount=function(){this.renderNewEcharts()},e.prototype.componentDidUpdate=function(t){var n=this.props.shouldSetOption;if(!($8(n)&&!n(t,this.props))){if(!I_(t.theme,this.props.theme)||!I_(t.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var i=this.getEchartsInstance();I_(t.onEvents,this.props.onEvents)||(this.offEvents(i,t.onEvents),this.bindEvents(i,this.props.onEvents));var a=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];I_(jte(this.props,a),jte(t,a))||this.updateEChartsOption(),(!I_(t.style,this.props.style)||!I_(t.className,this.props.className))&&this.resize()}},e.prototype.componentWillUnmount=function(){this.dispose()},e.prototype.initEchartsInstance=function(){return eX(this,void 0,void 0,function(){var t=this;return tX(this,function(n){return[2,new Promise(function(i){t.echarts.init(t.ele,t.props.theme,t.props.opts);var a=t.getEchartsInstance();a.on("finished",function(){var s=t.ele.clientWidth,o=t.ele.clientHeight;t.echarts.dispose(t.ele);var l=_A({width:s,height:o},t.props.opts);i(t.echarts.init(t.ele,t.props.theme,l))})})]})})},e.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},e.prototype.dispose=function(){if(this.ele){try{zte.clear(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},e.prototype.renderNewEcharts=function(){return eX(this,void 0,void 0,function(){var t,n,i,a,s,o,l=this;return tX(this,function(c){switch(c.label){case 0:return t=this.props,n=t.onEvents,i=t.onChartReady,a=t.autoResize,s=a===void 0?!0:a,[4,this.initEchartsInstance()];case 1:return c.sent(),o=this.updateEChartsOption(),this.bindEvents(o,n||{}),$8(i)&&i(o),this.ele&&s&&zte.bind(this.ele,function(){l.resize()}),[2]}})})},e.prototype.bindEvents=function(t,n){function i(s,o){Ute(s)&&$8(o)&&t.on(s,function(l){o(l,t)})}for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i(a,n[a])},e.prototype.offEvents=function(t,n){if(n)for(var i in n)Ute(i)&&t.off(i,n[i])},e.prototype.updateEChartsOption=function(){var t=this.props,n=t.option,i=t.notMerge,a=i===void 0?!1:i,s=t.replaceMerge,o=s===void 0?null:s,l=t.lazyUpdate,c=l===void 0?!1:l,u=t.showLoading,f=t.loadingOption,d=f===void 0?null:f,h=this.getEchartsInstance();return h.setOption(n,{notMerge:a,replaceMerge:o,lazyUpdate:c}),u?h.showLoading(d):h.hideLoading(),h},e.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize({width:"auto",height:"auto"})}catch(n){console.warn(n)}this.isInitialResize=!1},e.prototype.render=function(){var t=this,n=this.props,i=n.style,a=n.className,s=a===void 0?"":a;n.echarts,n.option,n.theme,n.notMerge,n.replaceMerge,n.lazyUpdate,n.showLoading,n.loadingOption,n.opts,n.onChartReady,n.onEvents,n.shouldSetOption,n.autoResize;var o=MEe(n,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"]),l=_A({height:300},i);return yi.createElement("div",_A({ref:function(c){t.ele=c},style:l,className:"echarts-for-react ".concat(s)},o))},e})(me.PureComponent),qWe=(function(r){sce(e,r);function e(t){var n=r.call(this,t)||this;return n.echarts=FWe,n}return e})(YWe);const Mve=({title:r,type:e,data:t,isEmpty:n,onConnect:i,onTitleChange:a})=>{const[s,o]=yi.useState(!1),[l,c]=yi.useState(r);yi.useEffect(()=>{c(r)},[r]);const u=()=>{o(!1),l.trim()!==r&&a?a(l.trim()):c(r)};if(n)return y.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-dashed border-gray-300 shadow-sm flex flex-col items-center justify-center h-full min-h-[300px] hover:bg-gray-50 transition-colors cursor-pointer group",onClick:i,children:[y.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-100 transition-colors",children:y.jsx(jD,{size:24,className:"text-gray-400 group-hover:text-blue-500"})}),y.jsx("span",{className:"text-sm font-medium text-gray-500 group-hover:text-blue-600",children:"Connect Data Source"})]});const f=()=>{const h=t||{categories:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],values:[120,200,150,80,70,110,130]},p={title:{text:r,left:"center",textStyle:{fontSize:14,fontWeight:"normal",color:"#6b7280"},show:!1},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:h.categories,axisLine:{lineStyle:{color:"#e5e7eb"}},axisLabel:{color:"#6b7280"}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#f3f4f6"}},axisLabel:{color:"#6b7280"}},series:[{data:h.values,type:e,smooth:!0,itemStyle:{color:"#3b82f6"},areaStyle:e==="line"?{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(59, 130, 246, 0.3)"},{offset:1,color:"rgba(59, 130, 246, 0)"}]}}:void 0}]};return e==="pie"?{...p,tooltip:{trigger:"item"},xAxis:void 0,yAxis:void 0,grid:void 0,series:[{name:r,type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"}},data:h.values.map((v,x)=>({value:v,name:h.categories[x]}))}]}:p};return y.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm h-full min-h-[300px] flex flex-col",children:[y.jsx("div",{className:"flex justify-center mb-2",children:s?y.jsx("input",{type:"text",value:l,onChange:d=>c(d.target.value),onBlur:u,onKeyDown:d=>d.key==="Enter"&&u(),className:"text-sm font-normal text-gray-900 text-center border-b border-blue-500 outline-none bg-transparent",autoFocus:!0}):y.jsx("h3",{className:"text-sm font-normal text-gray-500 cursor-text hover:text-blue-600 transition-colors text-center",onClick:()=>{a&&o(!0)},children:r})}),y.jsx("div",{className:"flex-1 w-full h-full",children:y.jsx(qWe,{option:f(),style:{height:"100%",width:"100%"}})})]})},Xf=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:a,placeholderTitle:s="Department Analytics",placeholderDescription:o='Manage your department data and analytics here. Use the "Insert" menu to add custom tables and charts.',defaultStats:l=[]})=>{var N,L,D,k,O;const[c,u]=me.useState(null),[f,d]=me.useState("select-table"),[h,p]=me.useState(null),[v,x]=me.useState({}),g=()=>{if(r.includes("/analytics")){const I=r.replace("/analytics","/data");return(e[I]||[]).filter(B=>B.type==="custom-table")}return[]},_=I=>{u(I),d("select-table"),p(null),x({})},w=I=>{p(I),d("configure");const j=g().find(B=>B.id===I);if(j){const B=j.columns.find(H=>H.type==="text"),K=j.columns.find(H=>H.type==="number");x({xAxisColumn:(B==null?void 0:B.id)||"",yAxisColumn:(K==null?void 0:K.id)||"",aggregation:"count"})}},A=()=>{if(c&&h){const I=g().find(j=>j.id===h);i&&i(c,{sourceTableId:h,title:(I==null?void 0:I.title)||"Connected Widget",config:v,subtext:v.aggregation==="sum"?"Total Value":"Count of records",trend:{value:"+12.5%",direction:"up"}})}u(null)},M=()=>g().find(I=>I.id===h),C=()=>t.find(I=>I.id===c);return t.filter(I=>I.type==="chart").length,y.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50/50 overflow-y-auto relative",children:[c&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-200 animate-in zoom-in-95 duration-200 flex flex-col max-h-[80vh]",children:[y.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:f==="select-table"?"Select Data Source":"Configure Data"}),y.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:y.jsx(Gm,{size:18,className:"rotate-45"})})]}),y.jsx("div",{className:"p-0 overflow-y-auto flex-1",children:f==="select-table"?y.jsx("div",{className:"p-2",children:g().length===0?y.jsxs("div",{className:"p-8 text-center flex flex-col items-center text-gray-500",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:y.jsx(sv,{size:24,className:"text-gray-400"})}),y.jsx("p",{className:"font-medium",children:"No tables found"}),y.jsx("p",{className:"text-sm mt-1",children:"Create a table in the Data section first."})]}):y.jsx("div",{className:"space-y-1",children:g().map(I=>{var j;return y.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-blue-50 rounded-lg group transition-colors flex items-center justify-between border border-transparent hover:border-blue-100",onClick:()=>w(I.id),children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center mr-3 group-hover:bg-blue-200 transition-colors",children:y.jsx(d3,{size:16})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:I.title||"Untitled Table"}),y.jsxs("div",{className:"text-xs text-gray-500",children:[((j=I.rows)==null?void 0:j.length)||0," records"]})]})]}),y.jsx("div",{className:"opacity-0 group-hover:opacity-100 text-blue-600 transition-opacity",children:y.jsx($u,{size:16})})]},I.id)})})}):y.jsxs("div",{className:"p-6 space-y-6",children:[((N=C())==null?void 0:N.type)==="chart"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X Axis (Category)"}),y.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:v.xAxisColumn,onChange:I=>x({...v,xAxisColumn:I.target.value}),children:[y.jsx("option",{value:"",children:"Select Column..."}),(L=M())==null?void 0:L.columns.map(I=>y.jsx("option",{value:I.id,children:I.name},I.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y Axis (Value)"}),y.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:v.yAxisColumn,onChange:I=>x({...v,yAxisColumn:I.target.value}),children:[y.jsx("option",{value:"",children:"Select Column..."}),(D=M())==null?void 0:D.columns.map(I=>y.jsx("option",{value:I.id,children:I.name},I.id))]})]})]}),((k=C())==null?void 0:k.type)==="kpi-card"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metric"}),y.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:v.aggregation,onChange:I=>x({...v,aggregation:I.target.value}),children:[y.jsx("option",{value:"count",children:"Count of Records"}),y.jsx("option",{value:"sum",children:"Sum of Column"}),y.jsx("option",{value:"avg",children:"Average of Column"})]})]}),v.aggregation!=="count"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Column"}),y.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:v.yAxisColumn,onChange:I=>x({...v,yAxisColumn:I.target.value}),children:[y.jsx("option",{value:"",children:"Select Column..."}),(O=M())==null?void 0:O.columns.filter(I=>I.type==="number").map(I=>y.jsx("option",{value:I.id,children:I.name},I.id))]})]})]})]})}),y.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 text-xs text-gray-500 flex justify-between items-center",children:f==="select-table"?y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"Select a table to link."}),y.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>u(null),children:"Cancel"})]}):y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>d("select-table"),children:"Back"}),y.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",onClick:A,children:"Finish"})]})})]})}),y.jsxs("div",{className:"p-8 w-full overflow-x-auto",children:[y.jsx("div",{className:"grid grid-cols-12 gap-4 min-w-[1000px] grid-auto-rows-[minmax(175px,auto)]",children:t.map(I=>{const j=t.filter(K=>K.type==="chart").map(K=>K.id),B=j.length;if(I.type==="custom-table")return y.jsx("div",{className:"col-span-12",children:y.jsx(ice,{...I,onDelete:()=>n&&n(I.id),onRenameTable:K=>i&&i(I.id,{title:K}),onRenameColumn:(K,H)=>{const Z=I.columns.map(Y=>Y.id===K?{...Y,name:H}:Y);i&&i(I.id,{columns:Z})},onAddColumn:()=>{const K={id:Math.random().toString(36).substr(2,9),name:"New Column",type:"text",width:150};i&&i(I.id,{columns:[...I.columns,K]})},onUpdateColumnType:(K,H)=>{const Z=I.columns.map(Y=>Y.id===K?{...Y,type:H}:Y);i&&i(I.id,{columns:Z})},onDeleteColumn:K=>{const H=I.columns.filter(Z=>Z.id!==K);i&&i(I.id,{columns:H})},onUpdateColumnColor:(K,H)=>{const Z=I.columns.map(Y=>Y.id===K?{...Y,color:H}:Y);i&&i(I.id,{columns:Z})},onUpdateRow:(K,H)=>{const Z=I.rows||[],Y=Z.some(oe=>oe.id===K);let J;Y?J=Z.map(oe=>oe.id===K?{...oe,data:H}:oe):J=[...Z,{id:K,data:H}],i&&i(I.id,{rows:J})}})},I.id);if(I.type==="kpi-card"){const H={DollarSign:H2,Users:ru,ShoppingBag:MU,Activity:sv}[I.icon]||sv;let Z=I.value;if(I.sourceTableId){const oe=r.replace("/analytics","/data"),F=(e[oe]||[]).find(W=>W.id===I.sourceTableId);if(F){const W=I.config||{aggregation:"count"};if(W.aggregation==="count")Z=(F.rows||[]).length.toString();else if(W.aggregation==="sum"&&W.yAxisColumn)Z=(F.rows||[]).reduce((re,ae)=>{const ce=parseFloat(ae.data[W.yAxisColumn])||0;return re+ce},0).toLocaleString();else if(W.aggregation==="avg"&&W.yAxisColumn){const Q=F.rows||[];Q.length>0?Z=(Q.reduce((ae,ce)=>{const ye=parseFloat(ce.data[W.yAxisColumn])||0;return ae+ye},0)/Q.length).toFixed(1):Z="0"}else Z=(F.rows||[]).length.toString()}}const Y=I.layoutGroup&&I.layoutPosition<=4;let J={};return Y&&(J={1:{gridColumn:"1 / 4",gridRow:"1"},2:{gridColumn:"4 / 7",gridRow:"1"},3:{gridColumn:"1 / 4",gridRow:"2"},4:{gridColumn:"4 / 7",gridRow:"2"}}[I.layoutPosition]),y.jsxs("div",{className:`relative group w-full h-full ${Y?"":"col-span-3"}`,style:Y?J:{},children:[y.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:y.jsx("button",{onClick:()=>n&&n(I.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:y.jsx(Gm,{size:12})})}),y.jsx(ace,{title:I.title,value:Z,icon:H,trend:I.trend,subtext:I.subtext,isEmpty:!I.value&&!I.sourceTableId,onConnect:()=>_(I.id),onTitleChange:oe=>i&&i(I.id,{title:oe})})]},I.id)}if(I.type==="chart"){let K=null;if(I.sourceTableId){const oe=r.replace("/analytics","/data"),F=(e[oe]||[]).find(W=>W.id===I.sourceTableId);if(F&&F.rows&&F.rows.length>0){const W=I.config||{},Q=W.xAxisColumn,re=W.yAxisColumn,ae=F.columns||[],ce=Q?ae.find(fe=>fe.id===Q):ae.find(fe=>fe.type==="text"),ye=re?ae.find(fe=>fe.id===re):ae.find(fe=>fe.type==="number");if(ce){const fe=F.rows.map(Oe=>Oe.data[ce.id]||"Unknown");let be;ye?be=F.rows.map(Oe=>parseFloat(Oe.data[ye.id])||0):be=F.rows.map(()=>1),K={categories:fe,values:be}}}}const H=B>=3?4:6,Z=I.id===j[0],Y=I.layoutGroup&&I.layoutPosition===5;let J={};return Y?J={gridColumn:"7 / 13",gridRow:"1 / 3"}:Z&&B>=3?J={gridColumn:`1 / span ${H}`}:J={gridColumn:`span ${H} / span ${H}`},y.jsxs("div",{className:`row-span-2 min-h-[350px] relative group transition-all duration-300 ${Z&&B>=3&&!Y?"col-start-1":""}`,style:J,children:[y.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:y.jsx("button",{onClick:()=>n&&n(I.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:y.jsx(Gm,{size:12})})}),y.jsx(Mve,{title:I.title,type:I.chartType||"bar",data:K,isEmpty:!I.sourceTableId,onConnect:()=>_(I.id),onTitleChange:oe=>i&&i(I.id,{title:oe})})]},I.id)}return null})}),t.length===0&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a&&y.jsx("div",{className:"bg-indigo-50 p-6 rounded-full mb-6",children:yi.isValidElement(a)?yi.cloneElement(a,{className:"text-indigo-600",size:48}):a}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s}),y.jsx("p",{className:"text-gray-500 max-w-md mb-8",children:o}),l.length>0&&y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:l.map((I,j)=>y.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("span",{className:"text-gray-500 text-sm font-medium",children:I.label}),y.jsx(I.icon,{className:I.color,size:20})]}),y.jsx("div",{className:"text-3xl font-bold text-gray-900",children:I.value})]},j))})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Cve=1252,XWe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],yH={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},bH=function(r){XWe.indexOf(r)!=-1&&(Cve=yH[0]=r)};function ZWe(){bH(1252)}var Bp=function(r){bH(r)};function Nve(){Bp(1200),ZWe()}function Hte(r){for(var e=[],t=0,n=r.length;t<n;++t)e[t]=r.charCodeAt(t);return e}function KWe(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function Dve(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var cA=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?KWe(r.slice(2)):e==254&&t==255?Dve(r.slice(2)):e==65279?r.slice(1):r},FN=function(e){return String.fromCharCode(e)},Gte=function(e){return String.fromCharCode(e)},X3,jx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Wte(r){for(var e="",t=0,n=0,i=0,a=0,s=0,o=0,l=0,c=0;c<r.length;)t=r.charCodeAt(c++),a=t>>2,n=r.charCodeAt(c++),s=(t&3)<<4|n>>4,i=r.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=jx.charAt(a)+jx.charAt(s)+jx.charAt(o)+jx.charAt(l);return e}function Bh(r){var e="",t=0,n=0,i=0,a=0,s=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<r.length;)a=jx.indexOf(r.charAt(c++)),s=jx.indexOf(r.charAt(c++)),t=a<<2|s>>4,e+=String.fromCharCode(t),o=jx.indexOf(r.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=jx.indexOf(r.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var Xi=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),_b=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function uy(r){return Xi?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function Yte(r){return Xi?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Op=function(e){return Xi?_b(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function wb(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function _H(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return _H(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var Nx=Xi?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:_b(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function $We(r){for(var e=[],t=0,n=r.length+250,i=uy(r.length+255),a=0;a<r.length;++a){var s=r.charCodeAt(a);if(s<128)i[t++]=s;else if(s<2048)i[t++]=192|s>>6&31,i[t++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=r.charCodeAt(++a)&1023;i[t++]=240|s>>8&7,i[t++]=128|s>>2&63,i[t++]=128|o>>6&15|(s&3)<<4,i[t++]=128|o&63}else i[t++]=224|s>>12&15,i[t++]=128|s>>6&63,i[t++]=128|s&63;t>n&&(e.push(i.slice(0,t)),t=0,i=uy(65535),n=65530)}return e.push(i.slice(0,t)),Nx(e)}var Zu=/\u0000/g,uA=/[\u0001-\u0006]/g;function Hw(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function zp(r,e){var t=""+r;return t.length>=e?t:ho("0",e-t.length)+t}function wH(r,e){var t=""+r;return t.length>=e?t:ho(" ",e-t.length)+t}function iR(r,e){var t=""+r;return t.length>=e?t:t+ho(" ",e-t.length)}function JWe(r,e){var t=""+Math.round(r);return t.length>=e?t:ho("0",e-t.length)+t}function QWe(r,e){var t=""+r;return t.length>=e?t:ho("0",e-t.length)+t}var qte=Math.pow(2,32);function O_(r,e){if(r>qte||r<-qte)return JWe(r,e);var t=Math.round(r);return QWe(t,e)}function aR(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var Xte=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Q8=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function eYe(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var Zn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Zte={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},tYe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function sR(r,e,t){for(var n=r<0?-1:1,i=r*n,a=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*s+a,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=a):(u=c,o=s)),!t)return[0,n*o,u];var d=Math.floor(n*o/u);return[d,n*o-d*u,u]}function Ux(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),a=0,s=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=t?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=t?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),t&&(a=oYe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var Lve=new Date(1899,11,31,0,0,0),rYe=Lve.getTime(),nYe=new Date(1900,2,1,0,0,0);function Rve(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=nYe&&(t+=1440*60*1e3),(t-(rYe+(r.getTimezoneOffset()-Lve.getTimezoneOffset())*6e4))/(1440*60*1e3)}function SH(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function iYe(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function aYe(r){var e=r<0?12:11,t=SH(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function sYe(r){var e=SH(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function Z3(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=aYe(r):e===10?t=r.toFixed(10).substr(0,12):t=sYe(r),SH(iYe(t.toUpperCase()))}function nb(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):Z3(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return zh(14,Rve(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function oYe(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function lYe(r,e,t,n){var i="",a=0,s=0,o=t.y,l,c=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,c=e.length;break;case 3:return Q8[t.m-1][1];case 5:return Q8[t.m-1][0];default:return Q8[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,c=e.length;break;case 3:return Xte[t.q][0];default:return Xte[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?zp(t.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(t.S+t.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=zp(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?zp(l,c):"";return u}function Vx(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var kve=/%/g;function cYe(r,e,t){var n=e.replace(kve,""),i=e.length-n.length;return $m(r,n,t*Math.pow(10,2*i))+ho("%",i)}function uYe(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return $m(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function Ive(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Ive(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),t.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var Ove=/# (\?+)( ?)\/( ?)(\d+)/;function fYe(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,o=n;return t+(a===0?"":""+a)+" "+(s===0?ho(" ",r[1].length+1+r[4].length):wH(s,r[1].length)+r[2]+"/"+r[3]+zp(o,r[4].length))}function hYe(r,e,t){return t+(e===0?"":""+e)+ho(" ",r[1].length+2+r[4].length)}var Pve=/^#*0*\.([0#]+)/,Fve=/\).*[0#]/,Bve=/\(###\) ###\\?-####/;function Hu(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function Kte(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function $te(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function dYe(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function pYe(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function yd(r,e,t){if(r.charCodeAt(0)===40&&!e.match(Fve)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?yd("n",n,t):"("+yd("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return uYe(r,e,t);if(e.indexOf("%")!==-1)return cYe(r,e,t);if(e.indexOf("E")!==-1)return Ive(e,t);if(e.charCodeAt(0)===36)return"$"+yd(r,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),c=t<0?"-":"";if(e.match(/^00+$/))return c+O_(l,e.length);if(e.match(/^[#?]+$/))return i=O_(t,0),i==="0"&&(i=""),i.length>e.length?i:Hu(e.substr(0,e.length-i.length))+i;if(a=e.match(Ove))return fYe(a,l,c);if(e.match(/^#+0+$/))return c+O_(l,e.length-e.indexOf("0"));if(a=e.match(Pve))return i=Kte(t,a[1].length).replace(/^([^\.]+)$/,"$1."+Hu(a[1])).replace(/\.$/,"."+Hu(a[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+ho("0",Hu(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+Kte(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+Vx(O_(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+yd(r,e,-t):Vx(""+(Math.floor(t)+dYe(t,a[1].length)))+"."+zp($te(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return yd(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Hw(yd(r,e.replace(/[\\-]/g,""),t)),s=0,Hw(Hw(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<i.length?i.charAt(s++):p==="0"?"0":""}));if(e.match(Bve))return i=yd(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=sR(l,Math.pow(10,s)-1,!1),i=""+c,u=$m("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=iR(o[2],s),u.length<a[4].length&&(u=Hu(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=sR(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?wH(o[1],s)+a[2]+"/"+a[3]+iR(o[2],s):ho(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=O_(t,0),e.length<=i.length?i:Hu(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return Hu(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=$te(t,a[1].length),t<0?"-"+yd(r,e,-t):Vx(pYe(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?zp(0,3-p.length):"")+p})+"."+zp(s,a[1].length);switch(e){case"###,##0.00":return yd(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var h=Vx(O_(l,0));return h!=="0"?c+h:"";case"###,###.00":return yd(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return yd(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function vYe(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return $m(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function mYe(r,e,t){var n=e.replace(kve,""),i=e.length-n.length;return $m(r,n,t*Math.pow(10,2*i))+ho("%",i)}function zve(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+zve(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!t.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function W0(r,e,t){if(r.charCodeAt(0)===40&&!e.match(Fve)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?W0("n",n,t):"("+W0("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return vYe(r,e,t);if(e.indexOf("%")!==-1)return mYe(r,e,t);if(e.indexOf("E")!==-1)return zve(e,t);if(e.charCodeAt(0)===36)return"$"+W0(r,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),c=t<0?"-":"";if(e.match(/^00+$/))return c+zp(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Hu(e.substr(0,e.length-i.length))+i;if(a=e.match(Ove))return hYe(a,l,c);if(e.match(/^#+0+$/))return c+zp(l,e.length-e.indexOf("0"));if(a=e.match(Pve))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Hu(a[1])).replace(/\.$/,"."+Hu(a[1])),i=i.replace(/\.(\d*)$/,function(p,v){return"."+v+ho("0",Hu(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+Vx(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+W0(r,e,-t):Vx(""+t)+"."+ho("0",a[1].length);if(a=e.match(/^#,#*,#0/))return W0(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Hw(W0(r,e.replace(/[\\-]/g,""),t)),s=0,Hw(Hw(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<i.length?i.charAt(s++):p==="0"?"0":""}));if(e.match(Bve))return i=W0(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=sR(l,Math.pow(10,s)-1,!1),i=""+c,u=$m("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=iR(o[2],s),u.length<a[4].length&&(u=Hu(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=sR(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?wH(o[1],s)+a[2]+"/"+a[3]+iR(o[2],s):ho(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Hu(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return Hu(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+W0(r,e,-t):Vx(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?zp(0,3-p.length):"")+p})+"."+zp(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=Vx(""+l);return h!=="0"?c+h:"";default:if(e.match(/\.[0#?]*$/))return W0(r,e.slice(0,e.lastIndexOf(".")),t)+Hu(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function $m(r,e,t){return(t|0)===t?W0(r,e,t):yd(r,e,t)}function gYe(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var jve=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Sb(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":aR(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(jve))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function xYe(r,e,t,n){for(var i=[],a="",s=0,o="",l="t",c,u,f,d="H";s<r.length;)switch(o=r.charAt(s)){case"G":if(!aR(r,s))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=r.charCodeAt(++s))!==34&&s<r.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var h=r.charAt(++s),p=h==="("||h===")"?h:"t";i[i.length]={t:p,v:h},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(r.charAt(s+1)==="1"||r.charAt(s+1)==="2"){if(c==null&&(c=Ux(e,t,r.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:r.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Ux(e,t),c==null))return"";for(a=o;++s<r.length&&r.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(c==null&&(c=Ux(e,t)),r.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",d="h",s+=3):r.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",s+=5,d="h"):r.substr(s,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",s+=5,d="h"):(v.t="t",++s),c==null&&v.t==="T")return"";i[i.length]=v,l=o;break;case"[":for(a=o;r.charAt(s++)!=="]"&&s<r.length;)a+=r.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(jve)){if(c==null&&(c=Ux(e,t),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Sb(r)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<r.length&&(o=r.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;r.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(r.charAt(s)==" "||r.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;)a+=r.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++s;break}var x=0,g=0,_;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=d,l="h",x<1&&(x=1);break;case"s":(_=i[s].v.match(/\.0+$/))&&(g=Math.max(g,_[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[s].v.match(/[Hh]/)&&(x=1),x<2&&i[s].v.match(/[Mm]/)&&(x=2),x<3&&i[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",A;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=lYe(i[s].t.charCodeAt(0),i[s].v,c,g),i[s].t="t";break;case"n":case"?":for(A=s+1;i[A]!=null&&((o=i[A].t)==="?"||o==="D"||(o===" "||o==="t")&&i[A+1]!=null&&(i[A+1].t==="?"||i[A+1].t==="t"&&i[A+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[A].v==="/"||i[A].v===" "&&i[A+1]!=null&&i[A+1].t=="?"));)i[s].v+=i[A].v,i[A]={v:"",t:";"},++A;w+=i[s].v,s=A-1;break;case"G":i[s].t="t",i[s].v=nb(e,t);break}var M="",C,N;if(w.length>0){w.charCodeAt(0)==40?(C=e<0&&w.charCodeAt(0)===45?-e:e,N=$m("n",w,C)):(C=e<0&&n>1?-e:e,N=$m("n",w,C),C<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),A=N.length-1;var L=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){L=s;break}var D=i.length;if(L===i.length&&N.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(A>=i[s].v.length-1?(A-=i[s].v.length,i[s].v=N.substr(A+1,i[s].v.length)):A<0?i[s].v="":(i[s].v=N.substr(0,A+1),A=-1),i[s].t="t",D=s);A>=0&&D<i.length&&(i[D].v=N.substr(0,A+1)+i[D].v)}else if(L!==i.length&&N.indexOf("E")===-1){for(A=N.indexOf(".")-1,s=L;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(u=i[s].v.indexOf(".")>-1&&s===L?i[s].v.indexOf(".")-1:i[s].v.length-1,M=i[s].v.substr(u+1);u>=0;--u)A>=0&&(i[s].v.charAt(u)==="0"||i[s].v.charAt(u)==="#")&&(M=N.charAt(A--)+M);i[s].v=M,i[s].t="t",D=s}for(A>=0&&D<i.length&&(i[D].v=N.substr(0,A+1)+i[D].v),A=N.indexOf(".")+1,s=L;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==L)){for(u=i[s].v.indexOf(".")>-1&&s===L?i[s].v.indexOf(".")+1:0,M=i[s].v.substr(0,u);u<i[s].v.length;++u)A<N.length&&(M+=N.charAt(A++));i[s].v=M,i[s].t="t",D=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(C=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=$m(i[s].t,i[s].v,C),i[s].t="t");var k="";for(s=0;s!==i.length;++s)i[s]!=null&&(k+=i[s].v);return k}var Jte=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Qte(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function yYe(r,e){var t=gYe(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match(Jte),o=t[1].match(Jte);return Qte(e,s)?[n,t[0]]:Qte(e,o)?[n,t[1]]:[n,t[s!=null&&o!=null?2:1]]}return[n,a]}function zh(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:Zn)[r],n==null&&(n=t.table&&t.table[Zte[r]]||Zn[Zte[r]]),n==null&&(n=tYe[r]||"General");break}if(aR(n,0))return nb(e,t);e instanceof Date&&(e=Rve(e,t.date1904));var i=yYe(n,e);if(aR(i[1]))return nb(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return xYe(i[1],e,t,i[0])}function Jm(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Zn[t]==null){e<0&&(e=t);continue}if(Zn[t]==r){e=t;break}}e<0&&(e=391)}return Zn[e]=r,e}function bYe(r){for(var e=0;e!=392;++e)r[e]!==void 0&&Jm(r[e],e)}function Uve(){Zn=eYe()}var Vve={format:zh,load:Jm,_table:Zn,load_table:bYe,parse_date_code:Ux,is_date:Sb,get_table:function(){return Vve._table=Zn}},_Ye={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Hve=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function wYe(r){var e=typeof r=="number"?Zn[r]:r;return e=e.replace(Hve,"(\\d+)"),new RegExp("^"+e+"$")}function SYe(r,e,t){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(Hve)||[]).forEach(function(f,d){var h=parseInt(t[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":a=h;break;case"h":s=h;break;case"s":l=h;break;case"m":s>=0?o=h:i=h;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&a==-1?u:c+"T"+u}var TYe=(function(){var r={};r.version="1.2.0";function e(){for(var N=0,L=new Array(256),D=0;D!=256;++D)N=D,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,L[D]=N;return typeof Int32Array<"u"?new Int32Array(L):L}var t=e();function n(N){var L=0,D=0,k=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)O[k]=N[k];for(k=0;k!=256;++k)for(D=N[k],L=256+k;L<4096;L+=256)D=O[L]=D>>>8^N[D&255];var I=[];for(k=1;k!=16;++k)I[k-1]=typeof Int32Array<"u"?O.subarray(k*256,k*256+256):O.slice(k*256,k*256+256);return I}var i=n(t),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],p=i[9],v=i[10],x=i[11],g=i[12],_=i[13],w=i[14];function A(N,L){for(var D=L^-1,k=0,O=N.length;k<O;)D=D>>>8^t[(D^N.charCodeAt(k++))&255];return~D}function M(N,L){for(var D=L^-1,k=N.length-15,O=0;O<k;)D=w[N[O++]^D&255]^_[N[O++]^D>>8&255]^g[N[O++]^D>>16&255]^x[N[O++]^D>>>24]^v[N[O++]]^p[N[O++]]^h[N[O++]]^d[N[O++]]^f[N[O++]]^u[N[O++]]^c[N[O++]]^l[N[O++]]^o[N[O++]]^s[N[O++]]^a[N[O++]]^t[N[O++]];for(k+=15;O<k;)D=D>>>8^t[(D^N[O++])&255];return~D}function C(N,L){for(var D=L^-1,k=0,O=N.length,I=0,j=0;k<O;)I=N.charCodeAt(k++),I<128?D=D>>>8^t[(D^I)&255]:I<2048?(D=D>>>8^t[(D^(192|I>>6&31))&255],D=D>>>8^t[(D^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,j=N.charCodeAt(k++)&1023,D=D>>>8^t[(D^(240|I>>8&7))&255],D=D>>>8^t[(D^(128|I>>2&63))&255],D=D>>>8^t[(D^(128|j>>6&15|(I&3)<<4))&255],D=D>>>8^t[(D^(128|j&63))&255]):(D=D>>>8^t[(D^(224|I>>12&15))&255],D=D>>>8^t[(D^(128|I>>6&63))&255],D=D>>>8^t[(D^(128|I&63))&255]);return~D}return r.table=t,r.bstr=A,r.buf=M,r.str=C,r})(),$i=(function(){var e={};e.version="1.2.1";function t(Ee,He){for(var ke=Ee.split("/"),Re=He.split("/"),Ve=0,qe=0,wt=Math.min(ke.length,Re.length);Ve<wt;++Ve){if(qe=ke[Ve].length-Re[Ve].length)return qe;if(ke[Ve]!=Re[Ve])return ke[Ve]<Re[Ve]?-1:1}return ke.length-Re.length}function n(Ee){if(Ee.charAt(Ee.length-1)=="/")return Ee.slice(0,-1).indexOf("/")===-1?Ee:n(Ee.slice(0,-1));var He=Ee.lastIndexOf("/");return He===-1?Ee:Ee.slice(0,He+1)}function i(Ee){if(Ee.charAt(Ee.length-1)=="/")return i(Ee.slice(0,-1));var He=Ee.lastIndexOf("/");return He===-1?Ee:Ee.slice(He+1)}function a(Ee,He){typeof He=="string"&&(He=new Date(He));var ke=He.getHours();ke=ke<<6|He.getMinutes(),ke=ke<<5|He.getSeconds()>>>1,Ee.write_shift(2,ke);var Re=He.getFullYear()-1980;Re=Re<<4|He.getMonth()+1,Re=Re<<5|He.getDate(),Ee.write_shift(2,Re)}function s(Ee){var He=Ee.read_shift(2)&65535,ke=Ee.read_shift(2)&65535,Re=new Date,Ve=ke&31;ke>>>=5;var qe=ke&15;ke>>>=4,Re.setMilliseconds(0),Re.setFullYear(ke+1980),Re.setMonth(qe-1),Re.setDate(Ve);var wt=He&31;He>>>=5;var Vt=He&63;return He>>>=6,Re.setHours(He),Re.setMinutes(Vt),Re.setSeconds(wt<<1),Re}function o(Ee){vc(Ee,0);for(var He={},ke=0;Ee.l<=Ee.length-4;){var Re=Ee.read_shift(2),Ve=Ee.read_shift(2),qe=Ee.l+Ve,wt={};switch(Re){case 21589:ke=Ee.read_shift(1),ke&1&&(wt.mtime=Ee.read_shift(4)),Ve>5&&(ke&2&&(wt.atime=Ee.read_shift(4)),ke&4&&(wt.ctime=Ee.read_shift(4))),wt.mtime&&(wt.mt=new Date(wt.mtime*1e3));break}Ee.l=qe,He[Re]=wt}return He}var l;function c(){return l||(l={})}function u(Ee,He){if(Ee[0]==80&&Ee[1]==75)return Ft(Ee,He);if((Ee[0]|32)==109&&(Ee[1]|32)==105)return xr(Ee,He);if(Ee.length<512)throw new Error("CFB file size "+Ee.length+" < 512");var ke=3,Re=512,Ve=0,qe=0,wt=0,Vt=0,At=0,St=[],Mt=Ee.slice(0,512);vc(Mt,0);var sr=f(Mt);switch(ke=sr[0],ke){case 3:Re=512;break;case 4:Re=4096;break;case 0:if(sr[1]==0)return Ft(Ee,He);default:throw new Error("Major Version: Expected 3 or 4 saw "+ke)}Re!==512&&(Mt=Ee.slice(0,Re),vc(Mt,28));var or=Ee.slice(0,Re);d(Mt,ke);var Se=Mt.read_shift(4,"i");if(ke===3&&Se!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Se);Mt.l+=4,wt=Mt.read_shift(4,"i"),Mt.l+=4,Mt.chk("00100000","Mini Stream Cutoff Size: "),Vt=Mt.read_shift(4,"i"),Ve=Mt.read_shift(4,"i"),At=Mt.read_shift(4,"i"),qe=Mt.read_shift(4,"i");for(var Ke=-1,et=0;et<109&&(Ke=Mt.read_shift(4,"i"),!(Ke<0));++et)St[et]=Ke;var ot=h(Ee,Re);x(At,qe,ot,Re,St);var st=_(ot,wt,St,Re);st[wt].name="!Directory",Ve>0&&Vt!==j&&(st[Vt].name="!MiniFAT"),st[St[0]].name="!FAT",st.fat_addrs=St,st.ssz=Re;var Xt={},lr=[],_r=[],Sr=[];w(wt,st,ot,lr,Ve,Xt,_r,Vt),p(_r,Sr,lr),lr.shift();var qr={FileIndex:_r,FullPaths:Sr};return He&&He.raw&&(qr.raw={header:or,sectors:ot}),qr}function f(Ee){if(Ee[Ee.l]==80&&Ee[Ee.l+1]==75)return[0,0];Ee.chk(B,"Header Signature: "),Ee.l+=16;var He=Ee.read_shift(2,"u");return[Ee.read_shift(2,"u"),He]}function d(Ee,He){var ke=9;switch(Ee.l+=2,ke=Ee.read_shift(2)){case 9:if(He!=3)throw new Error("Sector Shift: Expected 9 saw "+ke);break;case 12:if(He!=4)throw new Error("Sector Shift: Expected 12 saw "+ke);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ke)}Ee.chk("0600","Mini Sector Shift: "),Ee.chk("000000000000","Reserved: ")}function h(Ee,He){for(var ke=Math.ceil(Ee.length/He)-1,Re=[],Ve=1;Ve<ke;++Ve)Re[Ve-1]=Ee.slice(Ve*He,(Ve+1)*He);return Re[ke-1]=Ee.slice(ke*He),Re}function p(Ee,He,ke){for(var Re=0,Ve=0,qe=0,wt=0,Vt=0,At=ke.length,St=[],Mt=[];Re<At;++Re)St[Re]=Mt[Re]=Re,He[Re]=ke[Re];for(;Vt<Mt.length;++Vt)Re=Mt[Vt],Ve=Ee[Re].L,qe=Ee[Re].R,wt=Ee[Re].C,St[Re]===Re&&(Ve!==-1&&St[Ve]!==Ve&&(St[Re]=St[Ve]),qe!==-1&&St[qe]!==qe&&(St[Re]=St[qe])),wt!==-1&&(St[wt]=Re),Ve!==-1&&Re!=St[Re]&&(St[Ve]=St[Re],Mt.lastIndexOf(Ve)<Vt&&Mt.push(Ve)),qe!==-1&&Re!=St[Re]&&(St[qe]=St[Re],Mt.lastIndexOf(qe)<Vt&&Mt.push(qe));for(Re=1;Re<At;++Re)St[Re]===Re&&(qe!==-1&&St[qe]!==qe?St[Re]=St[qe]:Ve!==-1&&St[Ve]!==Ve&&(St[Re]=St[Ve]));for(Re=1;Re<At;++Re)if(Ee[Re].type!==0){if(Vt=Re,Vt!=St[Vt])do Vt=St[Vt],He[Re]=He[Vt]+"/"+He[Re];while(Vt!==0&&St[Vt]!==-1&&Vt!=St[Vt]);St[Re]=-1}for(He[0]+="/",Re=1;Re<At;++Re)Ee[Re].type!==2&&(He[Re]+="/")}function v(Ee,He,ke){for(var Re=Ee.start,Ve=Ee.size,qe=[],wt=Re;ke&&Ve>0&&wt>=0;)qe.push(He.slice(wt*I,wt*I+I)),Ve-=I,wt=f2(ke,wt*4);return qe.length===0?gl(0):Nx(qe).slice(0,Ee.size)}function x(Ee,He,ke,Re,Ve){var qe=j;if(Ee===j){if(He!==0)throw new Error("DIFAT chain shorter than expected")}else if(Ee!==-1){var wt=ke[Ee],Vt=(Re>>>2)-1;if(!wt)return;for(var At=0;At<Vt&&(qe=f2(wt,At*4))!==j;++At)Ve.push(qe);x(f2(wt,Re-4),He-1,ke,Re,Ve)}}function g(Ee,He,ke,Re,Ve){var qe=[],wt=[];Ve||(Ve=[]);var Vt=Re-1,At=0,St=0;for(At=He;At>=0;){Ve[At]=!0,qe[qe.length]=At,wt.push(Ee[At]);var Mt=ke[Math.floor(At*4/Re)];if(St=At*4&Vt,Re<4+St)throw new Error("FAT boundary crossed: "+At+" 4 "+Re);if(!Ee[Mt])break;At=f2(Ee[Mt],St)}return{nodes:qe,data:cre([wt])}}function _(Ee,He,ke,Re){var Ve=Ee.length,qe=[],wt=[],Vt=[],At=[],St=Re-1,Mt=0,sr=0,or=0,Se=0;for(Mt=0;Mt<Ve;++Mt)if(Vt=[],or=Mt+He,or>=Ve&&(or-=Ve),!wt[or]){At=[];var Ke=[];for(sr=or;sr>=0;){Ke[sr]=!0,wt[sr]=!0,Vt[Vt.length]=sr,At.push(Ee[sr]);var et=ke[Math.floor(sr*4/Re)];if(Se=sr*4&St,Re<4+Se)throw new Error("FAT boundary crossed: "+sr+" 4 "+Re);if(!Ee[et]||(sr=f2(Ee[et],Se),Ke[sr]))break}qe[or]={nodes:Vt,data:cre([At])}}return qe}function w(Ee,He,ke,Re,Ve,qe,wt,Vt){for(var At=0,St=Re.length?2:0,Mt=He[Ee].data,sr=0,or=0,Se;sr<Mt.length;sr+=128){var Ke=Mt.slice(sr,sr+128);vc(Ke,64),or=Ke.read_shift(2),Se=CH(Ke,0,or-St),Re.push(Se);var et={name:Se,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},ot=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);ot!==0&&(et.ct=A(Ke,Ke.l-8));var st=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);st!==0&&(et.mt=A(Ke,Ke.l-8)),et.start=Ke.read_shift(4,"i"),et.size=Ke.read_shift(4,"i"),et.size<0&&et.start<0&&(et.size=et.type=0,et.start=j,et.name=""),et.type===5?(At=et.start,Ve>0&&At!==j&&(He[At].name="!StreamData")):et.size>=4096?(et.storage="fat",He[et.start]===void 0&&(He[et.start]=g(ke,et.start,He.fat_addrs,He.ssz)),He[et.start].name=et.name,et.content=He[et.start].data.slice(0,et.size)):(et.storage="minifat",et.size<0?et.size=0:At!==j&&et.start!==j&&He[At]&&(et.content=v(et,He[At].data,(He[Vt]||{}).data))),et.content&&vc(et.content,0),qe[Se]=et,wt.push(et)}}function A(Ee,He){return new Date((Th(Ee,He+4)/1e7*Math.pow(2,32)+Th(Ee,He)/1e7-11644473600)*1e3)}function M(Ee,He){return c(),u(l.readFileSync(Ee),He)}function C(Ee,He){var ke=He&&He.type;switch(ke||Xi&&Buffer.isBuffer(Ee)&&(ke="buffer"),ke||"base64"){case"file":return M(Ee,He);case"base64":return u(Op(Bh(Ee)),He);case"binary":return u(Op(Ee),He)}return u(Ee,He)}function N(Ee,He){var ke=He||{},Re=ke.root||"Root Entry";if(Ee.FullPaths||(Ee.FullPaths=[]),Ee.FileIndex||(Ee.FileIndex=[]),Ee.FullPaths.length!==Ee.FileIndex.length)throw new Error("inconsistent CFB structure");Ee.FullPaths.length===0&&(Ee.FullPaths[0]=Re+"/",Ee.FileIndex[0]={name:Re,type:5}),ke.CLSID&&(Ee.FileIndex[0].clsid=ke.CLSID),L(Ee)}function L(Ee){var He="Sh33tJ5";if(!$i.find(Ee,"/"+He)){var ke=gl(4);ke[0]=55,ke[1]=ke[3]=50,ke[2]=54,Ee.FileIndex.push({name:He,type:2,content:ke,size:4,L:69,R:69,C:69}),Ee.FullPaths.push(Ee.FullPaths[0]+He),D(Ee)}}function D(Ee,He){N(Ee);for(var ke=!1,Re=!1,Ve=Ee.FullPaths.length-1;Ve>=0;--Ve){var qe=Ee.FileIndex[Ve];switch(qe.type){case 0:Re?ke=!0:(Ee.FileIndex.pop(),Ee.FullPaths.pop());break;case 1:case 2:case 5:Re=!0,isNaN(qe.R*qe.L*qe.C)&&(ke=!0),qe.R>-1&&qe.L>-1&&qe.R==qe.L&&(ke=!0);break;default:ke=!0;break}}if(!(!ke&&!He)){var wt=new Date(1987,1,19),Vt=0,At=Object.create?Object.create(null):{},St=[];for(Ve=0;Ve<Ee.FullPaths.length;++Ve)At[Ee.FullPaths[Ve]]=!0,Ee.FileIndex[Ve].type!==0&&St.push([Ee.FullPaths[Ve],Ee.FileIndex[Ve]]);for(Ve=0;Ve<St.length;++Ve){var Mt=n(St[Ve][0]);Re=At[Mt],Re||(St.push([Mt,{name:i(Mt).replace("/",""),type:1,clsid:H,ct:wt,mt:wt,content:null}]),At[Mt]=!0)}for(St.sort(function(Se,Ke){return t(Se[0],Ke[0])}),Ee.FullPaths=[],Ee.FileIndex=[],Ve=0;Ve<St.length;++Ve)Ee.FullPaths[Ve]=St[Ve][0],Ee.FileIndex[Ve]=St[Ve][1];for(Ve=0;Ve<St.length;++Ve){var sr=Ee.FileIndex[Ve],or=Ee.FullPaths[Ve];if(sr.name=i(or).replace("/",""),sr.L=sr.R=sr.C=-(sr.color=1),sr.size=sr.content?sr.content.length:0,sr.start=0,sr.clsid=sr.clsid||H,Ve===0)sr.C=St.length>1?1:-1,sr.size=0,sr.type=5;else if(or.slice(-1)=="/"){for(Vt=Ve+1;Vt<St.length&&n(Ee.FullPaths[Vt])!=or;++Vt);for(sr.C=Vt>=St.length?-1:Vt,Vt=Ve+1;Vt<St.length&&n(Ee.FullPaths[Vt])!=n(or);++Vt);sr.R=Vt>=St.length?-1:Vt,sr.type=1}else n(Ee.FullPaths[Ve+1]||"")==n(or)&&(sr.R=Ve+1),sr.type=2}}}function k(Ee,He){var ke=He||{};if(ke.fileType=="mad")return wn(Ee,ke);switch(D(Ee),ke.fileType){case"zip":return Lt(Ee,ke)}var Re=(function(Se){for(var Ke=0,et=0,ot=0;ot<Se.FileIndex.length;++ot){var st=Se.FileIndex[ot];if(st.content){var Xt=st.content.length;Xt>0&&(Xt<4096?Ke+=Xt+63>>6:et+=Xt+511>>9)}}for(var lr=Se.FullPaths.length+3>>2,_r=Ke+7>>3,Sr=Ke+127>>7,qr=_r+et+lr+Sr,Xr=qr+127>>7,Gr=Xr<=109?0:Math.ceil((Xr-109)/127);qr+Xr+Gr+127>>7>Xr;)Gr=++Xr<=109?0:Math.ceil((Xr-109)/127);var Zr=[1,Gr,Xr,Sr,lr,et,Ke,0];return Se.FileIndex[0].size=Ke<<6,Zr[7]=(Se.FileIndex[0].start=Zr[0]+Zr[1]+Zr[2]+Zr[3]+Zr[4]+Zr[5])+(Zr[6]+7>>3),Zr})(Ee),Ve=gl(Re[7]<<9),qe=0,wt=0;{for(qe=0;qe<8;++qe)Ve.write_shift(1,K[qe]);for(qe=0;qe<8;++qe)Ve.write_shift(2,0);for(Ve.write_shift(2,62),Ve.write_shift(2,3),Ve.write_shift(2,65534),Ve.write_shift(2,9),Ve.write_shift(2,6),qe=0;qe<3;++qe)Ve.write_shift(2,0);for(Ve.write_shift(4,0),Ve.write_shift(4,Re[2]),Ve.write_shift(4,Re[0]+Re[1]+Re[2]+Re[3]-1),Ve.write_shift(4,0),Ve.write_shift(4,4096),Ve.write_shift(4,Re[3]?Re[0]+Re[1]+Re[2]-1:j),Ve.write_shift(4,Re[3]),Ve.write_shift(-4,Re[1]?Re[0]-1:j),Ve.write_shift(4,Re[1]),qe=0;qe<109;++qe)Ve.write_shift(-4,qe<Re[2]?Re[1]+qe:-1)}if(Re[1])for(wt=0;wt<Re[1];++wt){for(;qe<236+wt*127;++qe)Ve.write_shift(-4,qe<Re[2]?Re[1]+qe:-1);Ve.write_shift(-4,wt===Re[1]-1?j:wt+1)}var Vt=function(Se){for(wt+=Se;qe<wt-1;++qe)Ve.write_shift(-4,qe+1);Se&&(++qe,Ve.write_shift(-4,j))};for(wt=qe=0,wt+=Re[1];qe<wt;++qe)Ve.write_shift(-4,Z.DIFSECT);for(wt+=Re[2];qe<wt;++qe)Ve.write_shift(-4,Z.FATSECT);Vt(Re[3]),Vt(Re[4]);for(var At=0,St=0,Mt=Ee.FileIndex[0];At<Ee.FileIndex.length;++At)Mt=Ee.FileIndex[At],Mt.content&&(St=Mt.content.length,!(St<4096)&&(Mt.start=wt,Vt(St+511>>9)));for(Vt(Re[6]+7>>3);Ve.l&511;)Ve.write_shift(-4,Z.ENDOFCHAIN);for(wt=qe=0,At=0;At<Ee.FileIndex.length;++At)Mt=Ee.FileIndex[At],Mt.content&&(St=Mt.content.length,!(!St||St>=4096)&&(Mt.start=wt,Vt(St+63>>6)));for(;Ve.l&511;)Ve.write_shift(-4,Z.ENDOFCHAIN);for(qe=0;qe<Re[4]<<2;++qe){var sr=Ee.FullPaths[qe];if(!sr||sr.length===0){for(At=0;At<17;++At)Ve.write_shift(4,0);for(At=0;At<3;++At)Ve.write_shift(4,-1);for(At=0;At<12;++At)Ve.write_shift(4,0);continue}Mt=Ee.FileIndex[qe],qe===0&&(Mt.start=Mt.size?Mt.start-1:j);var or=qe===0&&ke.root||Mt.name;if(St=2*(or.length+1),Ve.write_shift(64,or,"utf16le"),Ve.write_shift(2,St),Ve.write_shift(1,Mt.type),Ve.write_shift(1,Mt.color),Ve.write_shift(-4,Mt.L),Ve.write_shift(-4,Mt.R),Ve.write_shift(-4,Mt.C),Mt.clsid)Ve.write_shift(16,Mt.clsid,"hex");else for(At=0;At<4;++At)Ve.write_shift(4,0);Ve.write_shift(4,Mt.state||0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,Mt.start),Ve.write_shift(4,Mt.size),Ve.write_shift(4,0)}for(qe=1;qe<Ee.FileIndex.length;++qe)if(Mt=Ee.FileIndex[qe],Mt.size>=4096)if(Ve.l=Mt.start+1<<9,Xi&&Buffer.isBuffer(Mt.content))Mt.content.copy(Ve,Ve.l,0,Mt.size),Ve.l+=Mt.size+511&-512;else{for(At=0;At<Mt.size;++At)Ve.write_shift(1,Mt.content[At]);for(;At&511;++At)Ve.write_shift(1,0)}for(qe=1;qe<Ee.FileIndex.length;++qe)if(Mt=Ee.FileIndex[qe],Mt.size>0&&Mt.size<4096)if(Xi&&Buffer.isBuffer(Mt.content))Mt.content.copy(Ve,Ve.l,0,Mt.size),Ve.l+=Mt.size+63&-64;else{for(At=0;At<Mt.size;++At)Ve.write_shift(1,Mt.content[At]);for(;At&63;++At)Ve.write_shift(1,0)}if(Xi)Ve.l=Ve.length;else for(;Ve.l<Ve.length;)Ve.write_shift(1,0);return Ve}function O(Ee,He){var ke=Ee.FullPaths.map(function(At){return At.toUpperCase()}),Re=ke.map(function(At){var St=At.split("/");return St[St.length-(At.slice(-1)=="/"?2:1)]}),Ve=!1;He.charCodeAt(0)===47?(Ve=!0,He=ke[0].slice(0,-1)+He):Ve=He.indexOf("/")!==-1;var qe=He.toUpperCase(),wt=Ve===!0?ke.indexOf(qe):Re.indexOf(qe);if(wt!==-1)return Ee.FileIndex[wt];var Vt=!qe.match(uA);for(qe=qe.replace(Zu,""),Vt&&(qe=qe.replace(uA,"!")),wt=0;wt<ke.length;++wt)if((Vt?ke[wt].replace(uA,"!"):ke[wt]).replace(Zu,"")==qe||(Vt?Re[wt].replace(uA,"!"):Re[wt]).replace(Zu,"")==qe)return Ee.FileIndex[wt];return null}var I=64,j=-2,B="d0cf11e0a1b11ae1",K=[208,207,17,224,161,177,26,225],H="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:H,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(Ee,He,ke){c();var Re=k(Ee,ke);l.writeFileSync(He,Re)}function J(Ee){for(var He=new Array(Ee.length),ke=0;ke<Ee.length;++ke)He[ke]=String.fromCharCode(Ee[ke]);return He.join("")}function oe(Ee,He){var ke=k(Ee,He);switch(He&&He.type||"buffer"){case"file":return c(),l.writeFileSync(He.filename,ke),ke;case"binary":return typeof ke=="string"?ke:J(ke);case"base64":return Wte(typeof ke=="string"?ke:J(ke));case"buffer":if(Xi)return Buffer.isBuffer(ke)?ke:_b(ke);case"array":return typeof ke=="string"?Op(ke):ke}return ke}var X;function F(Ee){try{var He=Ee.InflateRaw,ke=new He;if(ke._processChunk(new Uint8Array([3,0]),ke._finishFlushFlag),ke.bytesRead)X=Ee;else throw new Error("zlib does not expose bytesRead")}catch(Re){console.error("cannot use native zlib: "+(Re.message||Re))}}function W(Ee,He){if(!X)return Wt(Ee,He);var ke=X.InflateRaw,Re=new ke,Ve=Re._processChunk(Ee.slice(Ee.l),Re._finishFlushFlag);return Ee.l+=Re.bytesRead,Ve}function Q(Ee){return X?X.deflateRawSync(Ee):bt(Ee)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ye(Ee){var He=(Ee<<1|Ee<<11)&139536|(Ee<<5|Ee<<15)&558144;return(He>>16|He>>8|He)&255}for(var fe=typeof Uint8Array<"u",be=fe?new Uint8Array(256):[],Oe=0;Oe<256;++Oe)be[Oe]=ye(Oe);function xe(Ee,He){var ke=be[Ee&255];return He<=8?ke>>>8-He:(ke=ke<<8|be[Ee>>8&255],He<=16?ke>>>16-He:(ke=ke<<8|be[Ee>>16&255],ke>>>24-He))}function Qe(Ee,He){var ke=He&7,Re=He>>>3;return(Ee[Re]|(ke<=6?0:Ee[Re+1]<<8))>>>ke&3}function ne(Ee,He){var ke=He&7,Re=He>>>3;return(Ee[Re]|(ke<=5?0:Ee[Re+1]<<8))>>>ke&7}function te(Ee,He){var ke=He&7,Re=He>>>3;return(Ee[Re]|(ke<=4?0:Ee[Re+1]<<8))>>>ke&15}function Me(Ee,He){var ke=He&7,Re=He>>>3;return(Ee[Re]|(ke<=3?0:Ee[Re+1]<<8))>>>ke&31}function ge(Ee,He){var ke=He&7,Re=He>>>3;return(Ee[Re]|(ke<=1?0:Ee[Re+1]<<8))>>>ke&127}function de(Ee,He,ke){var Re=He&7,Ve=He>>>3,qe=(1<<ke)-1,wt=Ee[Ve]>>>Re;return ke<8-Re||(wt|=Ee[Ve+1]<<8-Re,ke<16-Re)||(wt|=Ee[Ve+2]<<16-Re,ke<24-Re)||(wt|=Ee[Ve+3]<<24-Re),wt&qe}function _e(Ee,He,ke){var Re=He&7,Ve=He>>>3;return Re<=5?Ee[Ve]|=(ke&7)<<Re:(Ee[Ve]|=ke<<Re&255,Ee[Ve+1]=(ke&7)>>8-Re),He+3}function je(Ee,He,ke){var Re=He&7,Ve=He>>>3;return ke=(ke&1)<<Re,Ee[Ve]|=ke,He+1}function Be(Ee,He,ke){var Re=He&7,Ve=He>>>3;return ke<<=Re,Ee[Ve]|=ke&255,ke>>>=8,Ee[Ve+1]=ke,He+8}function Fe(Ee,He,ke){var Re=He&7,Ve=He>>>3;return ke<<=Re,Ee[Ve]|=ke&255,ke>>>=8,Ee[Ve+1]=ke&255,Ee[Ve+2]=ke>>>8,He+16}function we(Ee,He){var ke=Ee.length,Re=2*ke>He?2*ke:He+5,Ve=0;if(ke>=He)return Ee;if(Xi){var qe=Yte(Re);if(Ee.copy)Ee.copy(qe);else for(;Ve<Ee.length;++Ve)qe[Ve]=Ee[Ve];return qe}else if(fe){var wt=new Uint8Array(Re);if(wt.set)wt.set(Ee);else for(;Ve<ke;++Ve)wt[Ve]=Ee[Ve];return wt}return Ee.length=Re,Ee}function pe(Ee){for(var He=new Array(Ee),ke=0;ke<Ee;++ke)He[ke]=0;return He}function ze(Ee,He,ke){var Re=1,Ve=0,qe=0,wt=0,Vt=0,At=Ee.length,St=fe?new Uint16Array(32):pe(32);for(qe=0;qe<32;++qe)St[qe]=0;for(qe=At;qe<ke;++qe)Ee[qe]=0;At=Ee.length;var Mt=fe?new Uint16Array(At):pe(At);for(qe=0;qe<At;++qe)St[Ve=Ee[qe]]++,Re<Ve&&(Re=Ve),Mt[qe]=0;for(St[0]=0,qe=1;qe<=Re;++qe)St[qe+16]=Vt=Vt+St[qe-1]<<1;for(qe=0;qe<At;++qe)Vt=Ee[qe],Vt!=0&&(Mt[qe]=St[Vt+16]++);var sr=0;for(qe=0;qe<At;++qe)if(sr=Ee[qe],sr!=0)for(Vt=xe(Mt[qe],Re)>>Re-sr,wt=(1<<Re+4-sr)-1;wt>=0;--wt)He[Vt|wt<<sr]=sr&15|qe<<4;return Re}var $e=fe?new Uint16Array(512):pe(512),ht=fe?new Uint16Array(32):pe(32);if(!fe){for(var Je=0;Je<512;++Je)$e[Je]=0;for(Je=0;Je<32;++Je)ht[Je]=0}(function(){for(var Ee=[],He=0;He<32;He++)Ee.push(5);ze(Ee,ht,32);var ke=[];for(He=0;He<=143;He++)ke.push(8);for(;He<=255;He++)ke.push(9);for(;He<=279;He++)ke.push(7);for(;He<=287;He++)ke.push(8);ze(ke,$e,288)})();var Ot=(function(){for(var He=fe?new Uint8Array(32768):[],ke=0,Re=0;ke<ce.length-1;++ke)for(;Re<ce[ke+1];++Re)He[Re]=ke;for(;Re<32768;++Re)He[Re]=29;var Ve=fe?new Uint8Array(259):[];for(ke=0,Re=0;ke<ae.length-1;++ke)for(;Re<ae[ke+1];++Re)Ve[Re]=ke;function qe(Vt,At){for(var St=0;St<Vt.length;){var Mt=Math.min(65535,Vt.length-St),sr=St+Mt==Vt.length;for(At.write_shift(1,+sr),At.write_shift(2,Mt),At.write_shift(2,~Mt&65535);Mt-- >0;)At[At.l++]=Vt[St++]}return At.l}function wt(Vt,At){for(var St=0,Mt=0,sr=fe?new Uint16Array(32768):[];Mt<Vt.length;){var or=Math.min(65535,Vt.length-Mt);if(or<10){for(St=_e(At,St,+(Mt+or==Vt.length)),St&7&&(St+=8-(St&7)),At.l=St/8|0,At.write_shift(2,or),At.write_shift(2,~or&65535);or-- >0;)At[At.l++]=Vt[Mt++];St=At.l*8;continue}St=_e(At,St,+(Mt+or==Vt.length)+2);for(var Se=0;or-- >0;){var Ke=Vt[Mt];Se=(Se<<5^Ke)&32767;var et=-1,ot=0;if((et=sr[Se])&&(et|=Mt&-32768,et>Mt&&(et-=32768),et<Mt))for(;Vt[et+ot]==Vt[Mt+ot]&&ot<250;)++ot;if(ot>2){Ke=Ve[ot],Ke<=22?St=Be(At,St,be[Ke+1]>>1)-1:(Be(At,St,3),St+=5,Be(At,St,be[Ke-23]>>5),St+=3);var st=Ke<8?0:Ke-4>>2;st>0&&(Fe(At,St,ot-ae[Ke]),St+=st),Ke=He[Mt-et],St=Be(At,St,be[Ke]>>3),St-=3;var Xt=Ke<4?0:Ke-2>>1;Xt>0&&(Fe(At,St,Mt-et-ce[Ke]),St+=Xt);for(var lr=0;lr<ot;++lr)sr[Se]=Mt&32767,Se=(Se<<5^Vt[Mt])&32767,++Mt;or-=ot-1}else Ke<=143?Ke=Ke+48:St=je(At,St,1),St=Be(At,St,be[Ke]),sr[Se]=Mt&32767,++Mt}St=Be(At,St,0)-1}return At.l=(St+7)/8|0,At.l}return function(At,St){return At.length<8?qe(At,St):wt(At,St)}})();function bt(Ee){var He=gl(50+Math.floor(Ee.length*1.1)),ke=Ot(Ee,He);return He.slice(0,ke)}var Nt=fe?new Uint16Array(32768):pe(32768),ir=fe?new Uint16Array(32768):pe(32768),ft=fe?new Uint16Array(128):pe(128),Dt=1,tr=1;function Ze(Ee,He){var ke=Me(Ee,He)+257;He+=5;var Re=Me(Ee,He)+1;He+=5;var Ve=te(Ee,He)+4;He+=4;for(var qe=0,wt=fe?new Uint8Array(19):pe(19),Vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],At=1,St=fe?new Uint8Array(8):pe(8),Mt=fe?new Uint8Array(8):pe(8),sr=wt.length,or=0;or<Ve;++or)wt[re[or]]=qe=ne(Ee,He),At<qe&&(At=qe),St[qe]++,He+=3;var Se=0;for(St[0]=0,or=1;or<=At;++or)Mt[or]=Se=Se+St[or-1]<<1;for(or=0;or<sr;++or)(Se=wt[or])!=0&&(Vt[or]=Mt[Se]++);var Ke=0;for(or=0;or<sr;++or)if(Ke=wt[or],Ke!=0){Se=be[Vt[or]]>>8-Ke;for(var et=(1<<7-Ke)-1;et>=0;--et)ft[Se|et<<Ke]=Ke&7|or<<3}var ot=[];for(At=1;ot.length<ke+Re;)switch(Se=ft[ge(Ee,He)],He+=Se&7,Se>>>=3){case 16:for(qe=3+Qe(Ee,He),He+=2,Se=ot[ot.length-1];qe-- >0;)ot.push(Se);break;case 17:for(qe=3+ne(Ee,He),He+=3;qe-- >0;)ot.push(0);break;case 18:for(qe=11+ge(Ee,He),He+=7;qe-- >0;)ot.push(0);break;default:ot.push(Se),At<Se&&(At=Se);break}var st=ot.slice(0,ke),Xt=ot.slice(ke);for(or=ke;or<286;++or)st[or]=0;for(or=Re;or<30;++or)Xt[or]=0;return Dt=ze(st,Nt,286),tr=ze(Xt,ir,30),He}function it(Ee,He){if(Ee[0]==3&&!(Ee[1]&3))return[uy(He),2];for(var ke=0,Re=0,Ve=Yte(He||1<<18),qe=0,wt=Ve.length>>>0,Vt=0,At=0;(Re&1)==0;){if(Re=ne(Ee,ke),ke+=3,Re>>>1)Re>>1==1?(Vt=9,At=5):(ke=Ze(Ee,ke),Vt=Dt,At=tr);else{ke&7&&(ke+=8-(ke&7));var St=Ee[ke>>>3]|Ee[(ke>>>3)+1]<<8;if(ke+=32,St>0)for(!He&&wt<qe+St&&(Ve=we(Ve,qe+St),wt=Ve.length);St-- >0;)Ve[qe++]=Ee[ke>>>3],ke+=8;continue}for(;;){!He&&wt<qe+32767&&(Ve=we(Ve,qe+32767),wt=Ve.length);var Mt=de(Ee,ke,Vt),sr=Re>>>1==1?$e[Mt]:Nt[Mt];if(ke+=sr&15,sr>>>=4,(sr>>>8&255)===0)Ve[qe++]=sr;else{if(sr==256)break;sr-=257;var or=sr<8?0:sr-4>>2;or>5&&(or=0);var Se=qe+ae[sr];or>0&&(Se+=de(Ee,ke,or),ke+=or),Mt=de(Ee,ke,At),sr=Re>>>1==1?ht[Mt]:ir[Mt],ke+=sr&15,sr>>>=4;var Ke=sr<4?0:sr-2>>1,et=ce[sr];for(Ke>0&&(et+=de(Ee,ke,Ke),ke+=Ke),!He&&wt<Se&&(Ve=we(Ve,Se+100),wt=Ve.length);qe<Se;)Ve[qe]=Ve[qe-et],++qe}}}return He?[Ve,ke+7>>>3]:[Ve.slice(0,qe),ke+7>>>3]}function Wt(Ee,He){var ke=Ee.slice(Ee.l||0),Re=it(ke,He);return Ee.l+=Re[1],Re[0]}function Ue(Ee,He){if(Ee)typeof console<"u"&&console.error(He);else throw new Error(He)}function Ft(Ee,He){var ke=Ee;vc(ke,0);var Re=[],Ve=[],qe={FileIndex:Re,FullPaths:Ve};N(qe,{root:He.root});for(var wt=ke.length-4;(ke[wt]!=80||ke[wt+1]!=75||ke[wt+2]!=5||ke[wt+3]!=6)&&wt>=0;)--wt;ke.l=wt+4,ke.l+=4;var Vt=ke.read_shift(2);ke.l+=6;var At=ke.read_shift(4);for(ke.l=At,wt=0;wt<Vt;++wt){ke.l+=20;var St=ke.read_shift(4),Mt=ke.read_shift(4),sr=ke.read_shift(2),or=ke.read_shift(2),Se=ke.read_shift(2);ke.l+=8;var Ke=ke.read_shift(4),et=o(ke.slice(ke.l+sr,ke.l+sr+or));ke.l+=sr+or+Se;var ot=ke.l;ke.l=Ke+4,qt(ke,St,Mt,qe,et),ke.l=ot}return qe}function qt(Ee,He,ke,Re,Ve){Ee.l+=2;var qe=Ee.read_shift(2),wt=Ee.read_shift(2),Vt=s(Ee);if(qe&8257)throw new Error("Unsupported ZIP encryption");for(var At=Ee.read_shift(4),St=Ee.read_shift(4),Mt=Ee.read_shift(4),sr=Ee.read_shift(2),or=Ee.read_shift(2),Se="",Ke=0;Ke<sr;++Ke)Se+=String.fromCharCode(Ee[Ee.l++]);if(or){var et=o(Ee.slice(Ee.l,Ee.l+or));(et[21589]||{}).mt&&(Vt=et[21589].mt),((Ve||{})[21589]||{}).mt&&(Vt=Ve[21589].mt)}Ee.l+=or;var ot=Ee.slice(Ee.l,Ee.l+St);switch(wt){case 8:ot=W(Ee,Mt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+wt)}var st=!1;qe&8&&(At=Ee.read_shift(4),At==134695760&&(At=Ee.read_shift(4),st=!0),St=Ee.read_shift(4),Mt=Ee.read_shift(4)),St!=He&&Ue(st,"Bad compressed size: "+He+" != "+St),Mt!=ke&&Ue(st,"Bad uncompressed size: "+ke+" != "+Mt),Ei(Re,Se,ot,{unsafe:!0,mt:Vt})}function Lt(Ee,He){var ke=He||{},Re=[],Ve=[],qe=gl(1),wt=ke.compression?8:0,Vt=0,At=0,St=0,Mt=0,sr=0,or=Ee.FullPaths[0],Se=or,Ke=Ee.FileIndex[0],et=[],ot=0;for(At=1;At<Ee.FullPaths.length;++At)if(Se=Ee.FullPaths[At].slice(or.length),Ke=Ee.FileIndex[At],!(!Ke.size||!Ke.content||Se=="Sh33tJ5")){var st=Mt,Xt=gl(Se.length);for(St=0;St<Se.length;++St)Xt.write_shift(1,Se.charCodeAt(St)&127);Xt=Xt.slice(0,Xt.l),et[sr]=TYe.buf(Ke.content,0);var lr=Ke.content;wt==8&&(lr=Q(lr)),qe=gl(30),qe.write_shift(4,67324752),qe.write_shift(2,20),qe.write_shift(2,Vt),qe.write_shift(2,wt),Ke.mt?a(qe,Ke.mt):qe.write_shift(4,0),qe.write_shift(-4,et[sr]),qe.write_shift(4,lr.length),qe.write_shift(4,Ke.content.length),qe.write_shift(2,Xt.length),qe.write_shift(2,0),Mt+=qe.length,Re.push(qe),Mt+=Xt.length,Re.push(Xt),Mt+=lr.length,Re.push(lr),qe=gl(46),qe.write_shift(4,33639248),qe.write_shift(2,0),qe.write_shift(2,20),qe.write_shift(2,Vt),qe.write_shift(2,wt),qe.write_shift(4,0),qe.write_shift(-4,et[sr]),qe.write_shift(4,lr.length),qe.write_shift(4,Ke.content.length),qe.write_shift(2,Xt.length),qe.write_shift(2,0),qe.write_shift(2,0),qe.write_shift(2,0),qe.write_shift(2,0),qe.write_shift(4,0),qe.write_shift(4,st),ot+=qe.l,Ve.push(qe),ot+=Xt.length,Ve.push(Xt),++sr}return qe=gl(22),qe.write_shift(4,101010256),qe.write_shift(2,0),qe.write_shift(2,0),qe.write_shift(2,sr),qe.write_shift(2,sr),qe.write_shift(4,ot),qe.write_shift(4,Mt),qe.write_shift(2,0),Nx([Nx(Re),Nx(Ve),qe])}var vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Et(Ee,He){if(Ee.ctype)return Ee.ctype;var ke=Ee.name||"",Re=ke.match(/\.([^\.]+)$/);return Re&&vt[Re[1]]||He&&(Re=(ke=He).match(/[\.\\]([^\.\\])+$/),Re&&vt[Re[1]])?vt[Re[1]]:"application/octet-stream"}function dr(Ee){for(var He=Wte(Ee),ke=[],Re=0;Re<He.length;Re+=76)ke.push(He.slice(Re,Re+76));return ke.join(`\r
`)+`\r
`}function vr(Ee){var He=Ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(St){var Mt=St.charCodeAt(0).toString(16).toUpperCase();return"="+(Mt.length==1?"0"+Mt:Mt)});He=He.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),He.charAt(0)==`
`&&(He="=0D"+He.slice(1)),He=He.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ke=[],Re=He.split(`\r
`),Ve=0;Ve<Re.length;++Ve){var qe=Re[Ve];if(qe.length==0){ke.push("");continue}for(var wt=0;wt<qe.length;){var Vt=76,At=qe.slice(wt,wt+Vt);At.charAt(Vt-1)=="="?Vt--:At.charAt(Vt-2)=="="?Vt-=2:At.charAt(Vt-3)=="="&&(Vt-=3),At=qe.slice(wt,wt+Vt),wt+=Vt,wt<qe.length&&(At+="="),ke.push(At)}}return ke.join(`\r
`)}function Yr(Ee){for(var He=[],ke=0;ke<Ee.length;++ke){for(var Re=Ee[ke];ke<=Ee.length&&Re.charAt(Re.length-1)=="=";)Re=Re.slice(0,Re.length-1)+Ee[++ke];He.push(Re)}for(var Ve=0;Ve<He.length;++Ve)He[Ve]=He[Ve].replace(/[=][0-9A-Fa-f]{2}/g,function(qe){return String.fromCharCode(parseInt(qe.slice(1),16))});return Op(He.join(`\r
`))}function Hr(Ee,He,ke){for(var Re="",Ve="",qe="",wt,Vt=0;Vt<10;++Vt){var At=He[Vt];if(!At||At.match(/^\s*$/))break;var St=At.match(/^(.*?):\s*([^\s].*)$/);if(St)switch(St[1].toLowerCase()){case"content-location":Re=St[2].trim();break;case"content-type":qe=St[2].trim();break;case"content-transfer-encoding":Ve=St[2].trim();break}}switch(++Vt,Ve.toLowerCase()){case"base64":wt=Op(Bh(He.slice(Vt).join("")));break;case"quoted-printable":wt=Yr(He.slice(Vt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ve)}var Mt=Ei(Ee,Re.slice(ke.length),wt,{unsafe:!0});qe&&(Mt.ctype=qe)}function xr(Ee,He){if(J(Ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ke=He&&He.root||"",Re=(Xi&&Buffer.isBuffer(Ee)?Ee.toString("binary"):J(Ee)).split(`\r
`),Ve=0,qe="";for(Ve=0;Ve<Re.length;++Ve)if(qe=Re[Ve],!!/^Content-Location:/i.test(qe)&&(qe=qe.slice(qe.indexOf("file")),ke||(ke=qe.slice(0,qe.lastIndexOf("/")+1)),qe.slice(0,ke.length)!=ke))for(;ke.length>0&&(ke=ke.slice(0,ke.length-1),ke=ke.slice(0,ke.lastIndexOf("/")+1),qe.slice(0,ke.length)!=ke););var wt=(Re[1]||"").match(/boundary="(.*?)"/);if(!wt)throw new Error("MAD cannot find boundary");var Vt="--"+(wt[1]||""),At=[],St=[],Mt={FileIndex:At,FullPaths:St};N(Mt);var sr,or=0;for(Ve=0;Ve<Re.length;++Ve){var Se=Re[Ve];Se!==Vt&&Se!==Vt+"--"||(or++&&Hr(Mt,Re.slice(sr,Ve),ke),sr=Ve)}return Mt}function wn(Ee,He){var ke=He||{},Re=ke.boundary||"SheetJS";Re="------="+Re;for(var Ve=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Re.slice(2)+'"',"","",""],qe=Ee.FullPaths[0],wt=qe,Vt=Ee.FileIndex[0],At=1;At<Ee.FullPaths.length;++At)if(wt=Ee.FullPaths[At].slice(qe.length),Vt=Ee.FileIndex[At],!(!Vt.size||!Vt.content||wt=="Sh33tJ5")){wt=wt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ot){return"_x"+ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ot){return"_u"+ot.charCodeAt(0).toString(16)+"_"});for(var St=Vt.content,Mt=Xi&&Buffer.isBuffer(St)?St.toString("binary"):J(St),sr=0,or=Math.min(1024,Mt.length),Se=0,Ke=0;Ke<=or;++Ke)(Se=Mt.charCodeAt(Ke))>=32&&Se<128&&++sr;var et=sr>=or*4/5;Ve.push(Re),Ve.push("Content-Location: "+(ke.root||"file:///C:/SheetJS/")+wt),Ve.push("Content-Transfer-Encoding: "+(et?"quoted-printable":"base64")),Ve.push("Content-Type: "+Et(Vt,wt)),Ve.push(""),Ve.push(et?vr(Mt):dr(Mt))}return Ve.push(Re+`--\r
`),Ve.join(`\r
`)}function Va(Ee){var He={};return N(He,Ee),He}function Ei(Ee,He,ke,Re){var Ve=Re&&Re.unsafe;Ve||N(Ee);var qe=!Ve&&$i.find(Ee,He);if(!qe){var wt=Ee.FullPaths[0];He.slice(0,wt.length)==wt?wt=He:(wt.slice(-1)!="/"&&(wt+="/"),wt=(wt+He).replace("//","/")),qe={name:i(He),type:2},Ee.FileIndex.push(qe),Ee.FullPaths.push(wt),Ve||$i.utils.cfb_gc(Ee)}return qe.content=ke,qe.size=ke?ke.length:0,Re&&(Re.CLSID&&(qe.clsid=Re.CLSID),Re.mt&&(qe.mt=Re.mt),Re.ct&&(qe.ct=Re.ct)),qe}function Ki(Ee,He){N(Ee);var ke=$i.find(Ee,He);if(ke){for(var Re=0;Re<Ee.FileIndex.length;++Re)if(Ee.FileIndex[Re]==ke)return Ee.FileIndex.splice(Re,1),Ee.FullPaths.splice(Re,1),!0}return!1}function Sn(Ee,He,ke){N(Ee);var Re=$i.find(Ee,He);if(Re){for(var Ve=0;Ve<Ee.FileIndex.length;++Ve)if(Ee.FileIndex[Ve]==Re)return Ee.FileIndex[Ve].name=i(ke),Ee.FullPaths[Ve]=ke,!0}return!1}function Mi(Ee){D(Ee,!0)}return e.find=O,e.read=C,e.parse=u,e.write=oe,e.writeFile=Y,e.utils={cfb_new:Va,cfb_add:Ei,cfb_del:Ki,cfb_mov:Sn,cfb_gc:Mi,ReadShift:FA,CheckField:fme,prep_blob:vc,bconcat:Nx,use_zlib:F,_deflateRaw:bt,_inflateRaw:Wt,consts:Z},e})();function AYe(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function wv(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function TH(r){for(var e=[],t=wv(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}var oR=new Date(1899,11,30,0,0,0);function ef(r,e){var t=r.getTime(),n=oR.getTime()+(r.getTimezoneOffset()-oR.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var Gve=new Date,EYe=oR.getTime()+(Gve.getTimezoneOffset()-oR.getTimezoneOffset())*6e4,ere=Gve.getTimezoneOffset();function mI(r){var e=new Date;return e.setTime(r*24*60*60*1e3+EYe),e.getTimezoneOffset()!==ere&&e.setTime(e.getTime()+(e.getTimezoneOffset()-ere)*6e4),e}function MYe(r){var e=0,t=0,n=!1,i=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(t=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":t*=24;case"H":t*=60;case"M":if(n)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[a],10)}return e}var tre=new Date("2017-02-19T19:06:09.000Z"),Wve=isNaN(tre.getFullYear())?new Date("2/19/17"):tre,CYe=Wve.getFullYear()==2017;function Zl(r,e){var t=new Date(r);if(CYe)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(Wve.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ib(r,e){if(Xi&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return hA(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return hA(Dve(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return hA(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return hA(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(a){return t[a]||a})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function gc(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=gc(r[t]));return e}function ho(r,e){for(var t="";t.length<e;)t+=r;return t}function Yp(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return t=-t,a}),!isNaN(e=Number(n)))?e/t:e}var NYe=["january","february","march","april","may","june","july","august","september","october","november","december"];function pS(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var s=r.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&NYe.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||a>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var DYe=(function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,n,i){if(r||typeof n=="string")return t.split(n);for(var a=t.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}})();function Yve(r){return r?r.content&&r.type?ib(r.content,!0):r.data?cA(r.data):r.asNodeBuffer&&Xi?cA(r.asNodeBuffer().toString("binary")):r.asBinary?cA(r.asBinary()):r._data&&r._data.getContent?cA(ib(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function qve(r){if(!r)return null;if(r.data)return Hte(r.data);if(r.asNodeBuffer&&Xi)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?Hte(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function LYe(r){return r&&r.name.slice(-4)===".bin"?qve(r):Yve(r)}function Sd(r,e){for(var t=r.FullPaths||wv(r.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<t.length;++a){var s=t[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return r.files?r.files[t[a]]:r.FileIndex[a]}return null}function AH(r,e){var t=Sd(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function Jo(r,e,t){if(!t)return LYe(AH(r,e));if(!e)return null;try{return Jo(r,e)}catch{return null}}function Mh(r,e,t){if(!t)return Yve(AH(r,e));if(!e)return null;try{return Mh(r,e)}catch{return null}}function RYe(r,e,t){return qve(AH(r,e))}function rre(r){for(var e=r.FullPaths||wv(r.files),t=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&t.push(e[n].replace(/^Root Entry[\/]/,""));return t.sort()}function kYe(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Xi?n=_b(t):n=$We(t),$i.utils.cfb_add(r,e,n)}$i.utils.cfb_add(r,e,t)}else r.file(e,t)}function Xve(r,e){switch(e.type){case"base64":return $i.read(r,{type:"base64"});case"binary":return $i.read(r,{type:"binary"});case"buffer":case"array":return $i.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function fA(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var n=r.split("/");n.length!==0;){var i=n.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var Zve=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,IYe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,nre=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,OYe=/<[^>]*>/g,du=Zve.match(nre)?nre:OYe,PYe=/<\w*:/,FYe=/<(\/?)\w+:/;function On(r,e,t){for(var n={},i=0,a=0;i!==r.length&&!((a=r.charCodeAt(i))===32||a===10||a===13);++i);if(e||(n[0]=r.slice(0,i)),i===r.length)return n;var s=r.match(IYe),o=0,l="",c=0,u="",f="",d=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(u=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(d=(i=f.charCodeAt(a+1))==34||i==39?1:0,l=f.slice(a+1+d,f.length-d),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var h=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[h]&&u.slice(o-3,o)=="ext")continue;n[h]=l,n[h.toLowerCase()]=l}}return n}function Cv(r){return r.replace(FYe,"<$1")}var Kve={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},BYe=TH(Kve),oa=(function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(r,function(o,l){return Kve[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return t(i.slice(0,a))+i.slice(a+9,s)+t(i.slice(s+3))}})(),zYe=/[&<>'"]/g,jYe=/[\u0000-\u001f]/g;function EH(r){var e=r+"";return e.replace(zYe,function(t){return BYe[t]}).replace(/\n/g,"<br/>").replace(jYe,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var ire=(function(){var r=/&#(\d+);/g;function e(t,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,e)}})();function Ds(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function eF(r){for(var e="",t=0,n=0,i=0,a=0,s=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=r.charCodeAt(t++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function are(r){var e=uy(2*r.length),t,n,i=1,a=0,s=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,s=55296+(t>>>10&1023),t=56320+(t&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function sre(r){return _b(r,"binary").toString("utf8")}var BN="foo bar baz",ds=Xi&&(sre(BN)==eF(BN)&&sre||are(BN)==eF(BN)&&are)||eF,hA=Xi?function(r){return _b(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},K3=(function(){var r={};return function(t,n){var i=t+"|"+(n||"");return r[i]?r[i]:r[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}})(),$ve=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}})(),UYe=(function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),VYe=/<\/?(?:vt:)?variant>/g,HYe=/<(?:vt:)([^>]*)>([\s\S]*)</;function ore(r,e){var t=On(r),n=r.match(UYe(t.baseType))||[],i=[];if(n.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+t.size);return i}return n.forEach(function(a){var s=a.replace(VYe,"").match(HYe);s&&i.push({v:ds(s[2]),t:s[1]})}),i}var GYe=/(^\s|\s$|\n)/;function WYe(r){return wv(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function YYe(r,e,t){return"<"+r+(t!=null?WYe(t):"")+(e!=null?(e.match(GYe)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function MH(r){if(Xi&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return ds(wb(_H(r)));throw new Error("Bad input format: expected Buffer or string")}var $3=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,qYe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},XYe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function ZYe(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,a=5;a>=0;--a)i=i*256+r[e+a];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function KYe(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)r[t+o]=a&255;r[t+6]=(i&15)<<4|a&15,r[t+7]=i>>4|n}var lre=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,a=r[0][n].length;i<a;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},cre=Xi?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:_b(e)})):lre(r)}:lre,ure=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(Um(r,i)));return n.join("").replace(Zu,"")},CH=Xi?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(Zu,""):ure(r,e,t)}:ure,fre=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},Jve=Xi?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):fre(r,e,t)}:fre,hre=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(pw(r,i)));return n.join("")},rM=Xi?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):hre(e,t,n)}:hre,Qve=function(r,e){var t=Th(r,e);return t>0?rM(r,e+4,e+4+t-1):""},eme=Qve,tme=function(r,e){var t=Th(r,e);return t>0?rM(r,e+4,e+4+t-1):""},rme=tme,nme=function(r,e){var t=2*Th(r,e);return t>0?rM(r,e+4,e+4+t-1):""},ime=nme,ame=function(e,t){var n=Th(e,t);return n>0?CH(e,t+4,t+4+n):""},sme=ame,ome=function(r,e){var t=Th(r,e);return t>0?rM(r,e+4,e+4+t):""},lme=ome,cme=function(r,e){return ZYe(r,e)},lR=cme,ume=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Xi&&(eme=function(e,t){if(!Buffer.isBuffer(e))return Qve(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},rme=function(e,t){if(!Buffer.isBuffer(e))return tme(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},ime=function(e,t){if(!Buffer.isBuffer(e))return nme(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},sme=function(e,t){if(!Buffer.isBuffer(e))return ame(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},lme=function(e,t){if(!Buffer.isBuffer(e))return ome(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},lR=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):cme(e,t)},ume=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var pw=function(r,e){return r[e]},Um=function(r,e){return r[e+1]*256+r[e]},$Ye=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Th=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},f2=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},JYe=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function FA(r,e){var t="",n,i,a=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,Xi&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)t+=String.fromCharCode(Um(this,c)),c+=2;r*=2;break;case"utf8":t=rM(this,this.l,this.l+r);break;case"utf16le":r*=2,t=CH(this,this.l,this.l+r);break;case"wstr":return FA.call(this,r,"dbcs");case"lpstr-ansi":t=eme(this,this.l),r=4+Th(this,this.l);break;case"lpstr-cp":t=rme(this,this.l),r=4+Th(this,this.l);break;case"lpwstr":t=ime(this,this.l),r=4+2*Th(this,this.l);break;case"lpp4":r=4+Th(this,this.l),t=sme(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Th(this,this.l),t=lme(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(s=pw(this,this.l+r++))!==0;)a.push(FN(s));t=a.join("");break;case"_wstr":for(r=0,t="";(s=Um(this,this.l+r))!==0;)a.push(FN(s)),r+=2;r+=2,t=a.join("");break;case"dbcs-cont":for(t="",c=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=pw(this,c),this.l=c+1,o=FA.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(FN(Um(this,c))),c+=2}t=a.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",c=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=pw(this,c),this.l=c+1,o=FA.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(FN(pw(this,c))),c+=1}t=a.join("");break;default:switch(r){case 1:return n=pw(this,this.l),this.l++,n;case 2:return n=(e==="i"?$Ye:Um)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?f2:JYe)(this,this.l),this.l+=4,n):(i=Th(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=lR(this,this.l):i=lR([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=Jve(this,this.l,r);break}}return this.l+=r,t}var QYe=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},eqe=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},tqe=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function rqe(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)tqe(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,QYe(this,e,this.l);break;case 8:if(n=8,t==="f"){KYe(this,e,this.l);break}case 16:break;case-4:n=4,eqe(this,e,this.l);break}return this.l+=n,this}function fme(r,e){var t=Jve(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function vc(r,e){r.l=e,r.read_shift=FA,r.chk=fme,r.write_shift=rqe}function hu(r,e){r.l+=e}function gl(r){var e=uy(r);return vc(e,0),e}function _g(r,e,t){if(r){var n,i,a;vc(r,r.l||0);for(var s=r.length,o=0,l=0;r.l<s;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var c=pR[o]||pR[65535];for(n=r.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=r.read_shift(1))&127)<<7*i;l=r.l+a;var u=c.f&&c.f(r,a,t);if(r.l=l,e(u,c,o))return}}}function vj(){var r=[],e=Xi?256:2048,t=function(c){var u=gl(c);return vc(u,0),u},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},a=function(c){return n&&c<n.length-n.l?n:(i(),n=t(Math.max(c+1,e)))},s=function(){return i(),Nx(r)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:o,end:s,_bufs:r}}function BA(r,e,t){var n=gc(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function dre(r,e,t){var n=gc(r);return n.s=BA(n.s,e.s,t),n.e=BA(n.e,e.s,t),n}function zA(r,e){if(r.cRel&&r.c<0)for(r=gc(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=gc(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Kn(r);return!r.cRel&&r.cRel!=null&&(t=aqe(t)),!r.rRel&&r.rRel!=null&&(t=nqe(t)),t}function tF(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+_l(r.s.c)+":"+(r.e.cRel?"":"$")+_l(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+xc(r.s.r)+":"+(r.e.rRel?"":"$")+xc(r.e.r):zA(r.s,e.biff)+":"+zA(r.e,e.biff)}function NH(r){return parseInt(iqe(r),10)-1}function xc(r){return""+(r+1)}function nqe(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function iqe(r){return r.replace(/\$(\d+)$/,"$1")}function DH(r){for(var e=sqe(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function _l(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function aqe(r){return r.replace(/^([A-Z])/,"$$$1")}function sqe(r){return r.replace(/^\$([A-Z])/,"$1")}function oqe(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Yu(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Kn(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function rT(r){var e=r.indexOf(":");return e==-1?{s:Yu(r),e:Yu(r)}:{s:Yu(r.slice(0,e)),e:Yu(r.slice(e+1))}}function Ji(r,e){return typeof e>"u"||typeof e=="number"?Ji(r.s,r.e):(typeof r!="string"&&(r=Kn(r)),typeof e!="string"&&(e=Kn(e)),r==e?r:r+":"+e)}function yo(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,a=r.length;for(t=0;n<a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function pre(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=zh(r.z,t?ef(e):e)}catch{}try{return r.w=zh((r.XF||{}).numFmtId||(t?14:0),t?ef(e):e)}catch{return""+e}}function cg(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Eb[r.v]||r.v:e==null?pre(r,r.v):pre(r,e))}function Cy(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function hme(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,a=r||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Yu(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=yo(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var h={v:e[f][d]},p=s+f,v=o+d;if(c.s.r>p&&(c.s.r=p),c.s.c>v&&(c.s.c=v),c.e.r<p&&(c.e.r=p),c.e.c<v&&(c.e.c=v),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))h=e[f][d];else if(Array.isArray(h.v)&&(h.f=e[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Zn[14],n.cellDates?(h.t="d",h.w=zh(h.z,ef(h.v))):(h.t="n",h.v=ef(h.v),h.w=zh(h.z,h.v))):h.t="s";if(i)a[p]||(a[p]=[]),a[p][v]&&a[p][v].z&&(h.z=a[p][v].z),a[p][v]=h;else{var x=Kn({c:v,r:p});a[x]&&a[x].z&&(h.z=a[x].z),a[x]=h}}}return c.s.c<1e7&&(a["!ref"]=Ji(c)),a}function nT(r,e){return hme(null,r,e)}function lqe(r){return r.read_shift(4,"i")}function cu(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function cqe(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function LH(r,e){var t=r.l,n=r.read_shift(1),i=cu(r),a=[],s={t:i,h:i};if((n&1)!==0){for(var o=r.read_shift(4),l=0;l!=o;++l)a.push(cqe(r));s.r=a}else s.r=[{ich:0,ifnt:0}];return r.l=t+e,s}var uqe=LH;function Wd(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Tb(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}var fqe=cu;function RH(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}var hqe=cu,mj=RH;function kH(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?lR([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):f2(e,0)>>2;return t?i/100:i}function dme(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}var Ab=dme;function nu(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function dqe(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),a=r.read_shift(2,"i"),s=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=F2[i];c&&(e.rgb=Q3(c));break;case 2:e.rgb=Q3([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function pqe(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function pme(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function vqe(r){return pme(r,1)}function mqe(r){return pme(r,2)}var IH=2,If=3,zN=11,vre=12,cR=19,jN=64,gqe=65,xqe=71,yqe=4108,bqe=4126,Gl=80,vme=81,_qe=[Gl,vme],wqe={1:{n:"CodePage",t:IH},2:{n:"Category",t:Gl},3:{n:"PresentationFormat",t:Gl},4:{n:"ByteCount",t:If},5:{n:"LineCount",t:If},6:{n:"ParagraphCount",t:If},7:{n:"SlideCount",t:If},8:{n:"NoteCount",t:If},9:{n:"HiddenCount",t:If},10:{n:"MultimediaClipCount",t:If},11:{n:"ScaleCrop",t:zN},12:{n:"HeadingPairs",t:yqe},13:{n:"TitlesOfParts",t:bqe},14:{n:"Manager",t:Gl},15:{n:"Company",t:Gl},16:{n:"LinksUpToDate",t:zN},17:{n:"CharacterCount",t:If},19:{n:"SharedDoc",t:zN},22:{n:"HyperlinksChanged",t:zN},23:{n:"AppVersion",t:If,p:"version"},24:{n:"DigSig",t:gqe},26:{n:"ContentType",t:Gl},27:{n:"ContentStatus",t:Gl},28:{n:"Language",t:Gl},29:{n:"Version",t:Gl},255:{},2147483648:{n:"Locale",t:cR},2147483651:{n:"Behavior",t:cR},1919054434:{}},Sqe={1:{n:"CodePage",t:IH},2:{n:"Title",t:Gl},3:{n:"Subject",t:Gl},4:{n:"Author",t:Gl},5:{n:"Keywords",t:Gl},6:{n:"Comments",t:Gl},7:{n:"Template",t:Gl},8:{n:"LastAuthor",t:Gl},9:{n:"RevNumber",t:Gl},10:{n:"EditTime",t:jN},11:{n:"LastPrinted",t:jN},12:{n:"CreatedDate",t:jN},13:{n:"ModifiedDate",t:jN},14:{n:"PageCount",t:If},15:{n:"WordCount",t:If},16:{n:"CharCount",t:If},17:{n:"Thumbnail",t:xqe},18:{n:"Application",t:Gl},19:{n:"DocSecurity",t:If},255:{},2147483648:{n:"Locale",t:cR},2147483651:{n:"Behavior",t:cR},1919054434:{}},mre={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Tqe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Aqe(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Eqe=Aqe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),F2=gc(Eqe),Eb={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},mme={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},gre={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Mqe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Cqe(r){var e=Mqe();if(!r||!r.match)return e;var t={};if((r.match(du)||[]).forEach(function(n){var i=On(n);switch(i[0].replace(PYe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[gre[i.ContentType]]!==void 0&&e[gre[i.ContentType]].push(i.PartName);break}}),e.xmlns!==qYe.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var Sw={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function gj(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function jA(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(r.match(du)||[]).forEach(function(i){var a=On(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:fA(a.Target,e);t[o]=s,n[a.Id]=s}}),t["!id"]=n,t}var Nqe="application/vnd.oasis.opendocument.spreadsheet";function Dqe(r,e){for(var t=MH(r),n,i;n=$3.exec(t);)switch(n[3]){case"manifest":break;case"file-entry":if(i=On(n[0],!1),i.path=="/"&&i.type!==Nqe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var UA=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Lqe=(function(){for(var r=new Array(UA.length),e=0;e<UA.length;++e){var t=UA[e],n="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r})();function gme(r){var e={};r=ds(r);for(var t=0;t<UA.length;++t){var n=UA[t],i=r.match(Lqe[t]);i!=null&&i.length>0&&(e[n[1]]=oa(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Zl(e[n[1]]))}return e}var Rqe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function xme(r,e,t,n){var i=[];if(typeof r=="string")i=ore(r,n);else for(var a=0;a<r.length;++a)i=i.concat(r[a].map(function(u){return{v:u}}));var s=typeof e=="string"?ore(e,n).map(function(u){return u.v}):e,o=0,l=0;if(s.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=l,t.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=l,t.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":t.Chartsheets=l,t.ChartNames=s.slice(o,o+l);break}o+=l}}function kqe(r,e,t){var n={};return e||(e={}),r=ds(r),Rqe.forEach(function(i){var a=(r.match(K3(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=oa(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=r.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&xme(n.HeadingPairs,n.TitlesOfParts,e,t),e}var Iqe=/<[^>]+>[^<]*/g;function Oqe(r,e){var t={},n="",i=r.match(Iqe);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=On(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=oa(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":t[n]=oa(u);break;case"bool":t[n]=Ds(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":t[n]=parseFloat(u);break;case"filetime":case"date":t[n]=Zl(u);break;case"cy":case"error":t[n]=oa(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return t}var Pqe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},rF;function Fqe(r,e,t){rF||(rF=TH(Pqe)),e=rF[e]||e,r[e]=t}function OH(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function yme(r,e,t){var n=r.l,i=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-n&3;)++r.l;return i}function bme(r,e,t){var n=r.read_shift(0,"lpwstr");return n}function _me(r,e,t){return e===31?bme(r):yme(r,e,t)}function xj(r,e,t){return _me(r,e,t===!1?0:4)}function Bqe(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return _me(r,e,0)}function zqe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n){var i=r.l;t[n]=r.read_shift(0,"lpwstr").replace(Zu,""),r.l-i&2&&(r.l+=2)}return t}function jqe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n)t[n]=r.read_shift(0,"lpstr-cp").replace(Zu,"");return t}function Uqe(r){var e=r.l,t=uR(r,vme);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var n=uR(r,If);return[t,n]}function Vqe(r){for(var e=r.read_shift(4),t=[],n=0;n<e/2;++n)t.push(Uqe(r));return t}function xre(r,e){for(var t=r.read_shift(4),n={},i=0;i!=t;++i){var a=r.read_shift(4),s=r.read_shift(4);n[a]=r.read_shift(s,e===1200?"utf16le":"utf8").replace(Zu,"").replace(uA,"!"),e===1200&&s%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function wme(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function Hqe(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function uR(r,e,t){var n=r.read_shift(2),i,a=t||{};if(r.l+=2,e!==vre&&n!==e&&_qe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===vre?n:e){case 2:return i=r.read_shift(2,"i"),a.raw||(r.l+=2),i;case 3:return i=r.read_shift(4,"i"),i;case 11:return r.read_shift(4)!==0;case 19:return i=r.read_shift(4),i;case 30:return yme(r,n,4).replace(Zu,"");case 31:return bme(r);case 64:return OH(r);case 65:return wme(r);case 71:return Hqe(r);case 80:return xj(r,n,!a.raw).replace(Zu,"");case 81:return Bqe(r,n).replace(Zu,"");case 4108:return Vqe(r);case 4126:case 4127:return n==4127?zqe(r):jqe(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function yre(r,e){var t=r.l,n=r.read_shift(4),i=r.read_shift(4),a=[],s=0,o=0,l=-1,c={};for(s=0;s!=i;++s){var u=r.read_shift(4),f=r.read_shift(4);a[s]=[u,f+t]}a.sort(function(_,w){return _[1]-w[1]});var d={};for(s=0;s!=i;++s){if(r.l!==a[s][1]){var h=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:r.l+2===a[s][1]&&(r.l+=2,h=!1);break;case 80:r.l<=a[s][1]&&(r.l=a[s][1],h=!1);break;case 4108:r.l<=a[s][1]&&(r.l=a[s][1],h=!1);break}if((!e||s==0)&&r.l<=a[s][1]&&(h=!1,r.l=a[s][1]),h)throw new Error("Read Error: Expected address "+a[s][1]+" at "+r.l+" :"+s)}if(e){var p=e[a[s][0]];if(d[p.n]=uR(r,p.t,{raw:!0}),p.p==="version"&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(d[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Bp(o=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(a[s][0]===1){if(o=d.CodePage=uR(r,IH),Bp(o),l!==-1){var v=r.l;r.l=a[l][1],c=xre(r,o),r.l=v}}else if(a[s][0]===0){if(o===0){l=s,r.l=a[s+1][1];continue}c=xre(r,o)}else{var x=c[a[s][0]],g;switch(r[r.l]){case 65:r.l+=4,g=wme(r);break;case 30:r.l+=4,g=xj(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,g=xj(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,g=r.read_shift(4,"i");break;case 19:r.l+=4,g=r.read_shift(4);break;case 5:r.l+=4,g=r.read_shift(8,"f");break;case 11:r.l+=4,g=Lo(r,4);break;case 64:r.l+=4,g=Zl(OH(r));break;default:throw new Error("unparsed value: "+r[r.l])}d[x]=g}}return r.l=t+n,d}function bre(r,e,t){var n=r.content;if(!n)return{};vc(n,0);var i,a,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==$i.utils.consts.HEADER_CLSID&&u!==t)throw new Error("Bad PropertySet CLSID "+u);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=yre(n,e),d={SystemIdentifier:c};for(var h in f)d[h]=f[h];if(d.FMTID=a,i===1)return d;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var p;try{p=yre(n,null)}catch{}for(h in p)d[h]=p[h];return d.FMTID=[a,s],d}function fx(r,e){return r.read_shift(e),null}function Gqe(r,e,t){for(var n=[],i=r.l+e;r.l<i;)n.push(t(r,i-r.l));if(i!==r.l)throw new Error("Slurp error");return n}function Lo(r,e){return r.read_shift(e)===1}function Qo(r){return r.read_shift(2,"u")}function Sme(r,e){return Gqe(r,e,Qo)}function Wqe(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function nM(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=r.read_shift(1);a&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var s=n?r.read_shift(n,i):"";return s}function Yqe(r){var e=r.read_shift(2),t=r.read_shift(1),n=t&4,i=t&8,a=1+(t&1),s=0,o,l={};i&&(s=r.read_shift(2)),n&&(o=r.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",u=e===0?"":r.read_shift(e,c);return i&&(r.l+=4*s),n&&(r.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function ab(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function iM(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):ab(r,n,t)}function Mb(r,e,t){if(t.biff>5)return iM(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function qqe(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function Xqe(r){var e=r.read_shift(4),t=r.l,n=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=t);var i=r.read_shift((n?e-24:e)>>1,"utf16le").replace(Zu,"");return n&&(r.l+=24),i}function Zqe(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=r.read_shift(4);if(i===0)return t+n.replace(/\\/g,"/");var a=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=r.read_shift(a>>1,"utf16le").replace(Zu,"");return t+s}function Kqe(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return Xqe(r);case"0303000000000000c000000000000046":return Zqe(r);default:throw new Error("Unsupported Moniker "+t)}}function UN(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(Zu,""):"";return t}function $qe(r,e){var t=r.l+e,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=r.read_shift(2);r.l+=2;var a,s,o,l,c="",u,f;i&16&&(a=UN(r,t-r.l)),i&128&&(s=UN(r,t-r.l)),(i&257)===257&&(o=UN(r,t-r.l)),(i&257)===1&&(l=Kqe(r,t-r.l)),i&8&&(c=UN(r,t-r.l)),i&32&&(u=r.read_shift(16)),i&64&&(f=OH(r)),r.l=t;var d=s||o||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return u&&(h.guid=u),f&&(h.time=f),a&&(h.Tooltip=a),h}function Tme(r){var e=r.read_shift(1),t=r.read_shift(1),n=r.read_shift(1),i=r.read_shift(1);return[e,t,n,i]}function Ame(r,e){var t=Tme(r);return t[3]=0,t}function Nv(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return{r:e,c:t,ixfe:n}}function Jqe(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function Qqe(r,e,t){return e===0?"":Mb(r,e,t)}function eXe(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),a=r.read_shift(n,"i"),s=r.read_shift(n,"i");return[i,a,s]}function Eme(r){var e=r.read_shift(2),t=kH(r);return[e,t]}function tXe(r,e,t){r.l+=4,e-=4;var n=r.l+e,i=nM(r,e,t),a=r.read_shift(2);if(n-=r.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return r.l+=a,i}function gI(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function Mme(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(1),i=r.read_shift(1);return{s:{c:n,r:e},e:{c:i,r:t}}}var rXe=Mme;function Cme(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[t,e,n]}function nXe(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function iXe(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function qc(r){r.l+=2,r.l+=r.read_shift(2)}var aXe={0:qc,4:qc,5:qc,6:qc,7:iXe,8:qc,9:qc,10:qc,11:qc,12:qc,13:nXe,14:qc,15:qc,16:qc,17:qc,18:qc,19:qc,20:qc,21:Cme};function sXe(r,e){for(var t=r.l+e,n=[];r.l<t;){var i=r.read_shift(2);r.l-=2;try{n.push(aXe[i](r,t-r.l))}catch{return r.l=t,n}}return r.l!=t&&(r.l=t),n}function VN(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function oXe(r,e){return e===0||r.read_shift(2),1200}function lXe(r,e,t){if(t.enc)return r.l+=e,"";var n=r.l,i=Mb(r,0,t);return r.read_shift(e+n-r.l),i}function cXe(r,e,t){var n=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function uXe(r,e,t){var n=r.read_shift(4),i=r.read_shift(1)&3,a=r.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=nM(r,0,t);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function fXe(r,e){for(var t=r.l+e,n=r.read_shift(4),i=r.read_shift(4),a=[],s=0;s!=i&&r.l<t;++s)a.push(Yqe(r));return a.Count=n,a.Unique=i,a}function hXe(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function dXe(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=t/20),e}function pXe(r){var e=Jqe(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function vXe(r){return r.read_shift(2),r.read_shift(4)}function _re(r,e,t){var n=0;t&&t.biff==2||(n=r.read_shift(2));var i=r.read_shift(2);t&&t.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function mXe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),s=r.read_shift(2),o=r.read_shift(2),l=r.read_shift(2),c=r.read_shift(2);return{Pos:[e,t],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function gXe(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function xXe(){}function yXe(r,e,t){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=nM(r,0,t),n}function bXe(r){var e=Nv(r);return e.isst=r.read_shift(4),e}function _Xe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=r.l+e,i=Nv(r);t.biff==2&&r.l++;var a=iM(r,n-r.l,t);return i.val=a,i}function wXe(r,e,t){var n=r.read_shift(2),i=Mb(r,0,t);return[n,i]}var SXe=Mb;function wre(r,e,t){var n=r.l+e,i=t.biff==8||!t.biff?4:2,a=r.read_shift(i),s=r.read_shift(i),o=r.read_shift(2),l=r.read_shift(2);return r.l=n,{s:{r:a,c:o},e:{r:s,c:l}}}function TXe(r){var e=r.read_shift(2),t=r.read_shift(2),n=Eme(r);return{r:e,c:t,ixfe:n[0],rknum:n[1]}}function AXe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),a=[];r.l<t;)a.push(Eme(r));if(r.l!==t)throw new Error("MulRK read error");var s=r.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function EXe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),a=[];r.l<t;)a.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var s=r.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function MXe(r,e,t,n){var i={},a=r.read_shift(4),s=r.read_shift(4),o=r.read_shift(4),l=r.read_shift(2);return i.patternType=Tqe[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function CXe(r,e,t){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=MXe(r,e,n.fStyle,t),n}function NXe(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function Sre(r,e,t){var n=Nv(r);(t.biff==2||e==9)&&++r.l;var i=Wqe(r);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function DXe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=Nv(r),i=nu(r);return n.val=i,n}var Tre=Qqe;function LXe(r,e,t){var n=r.l+e,i=r.read_shift(2),a=r.read_shift(2);if(t.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=ab(r,a),o=[];n>r.l;)o.push(iM(r));return[a,i,s,o]}function Are(r,e,t){var n=r.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return t.sbcch===14849&&(i=tXe(r,e-2,t)),a.body=i||r.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var RXe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Ere(r,e,t){var n=r.l+e,i=r.read_shift(2),a=r.read_shift(1),s=r.read_shift(1),o=r.read_shift(t&&t.biff==2?1:2),l=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),l=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var c=ab(r,s,t);i&32&&(c=RXe[c.charCodeAt(0)]);var u=n-r.l;t&&t.biff==2&&--u;var f=n==r.l||o===0||!(u>0)?[]:dJe(r,u,t,o);return{chKey:a,Name:c,itab:l,rgce:f}}function Nme(r,e,t){if(t.biff<8)return kXe(r,e,t);for(var n=[],i=r.l+e,a=r.read_shift(t.biff>8?4:2);a--!==0;)n.push(eXe(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function kXe(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=nM(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function IXe(r,e,t){if(t.biff<8){r.l+=e;return}var n=r.read_shift(2),i=r.read_shift(2),a=ab(r,n,t),s=ab(r,i,t);return[a,s]}function OXe(r,e,t){var n=Mme(r);r.l++;var i=r.read_shift(1);return e-=8,[pJe(r,e,t),i,n]}function Mre(r,e,t){var n=rXe(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[n,fJe(r,e,t)]}function PXe(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,n=r.read_shift(4);return[e,t,n]}function FXe(r,e,t){if(!(t.biff<8)){var n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),s=r.read_shift(2),o=Mb(r,0,t);return t.biff<8&&r.read_shift(1),[{r:n,c:i},o,s,a]}}function BXe(r,e,t){return FXe(r,e,t)}function zXe(r,e){for(var t=[],n=r.read_shift(2);n--;)t.push(gI(r));return t}function jXe(r,e,t){if(t&&t.biff<8)return VXe(r,e,t);var n=Cme(r),i=sXe(r,e-22,n[1]);return{cmo:n,ft:i}}var UXe={8:function(r,e){var t=r.l+e;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var i=r.read_shift(1);return r.l+=i,r.l=t,{fmt:n}}};function VXe(r,e,t){r.l+=4;var n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var s=[];return s.push((UXe[n]||hu)(r,e,t)),{cmo:[i,n,a],ft:s}}function HXe(r,e,t){var n=r.l,i="";try{r.l+=4;var a=(t.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?r.l+=6:s=qqe(r,6,t);var o=r.read_shift(2);r.read_shift(2),Qo(r,2);var l=r.read_shift(2);r.l+=l;for(var c=1;c<r.lens.length-1;++c){if(r.l-n!=r.lens[c])throw new Error("TxO: bad continue record");var u=r[r.l],f=ab(r,r.lens[c+1]-r.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return r.l=n+e,{t:i}}catch{return r.l=n+e,{t:i}}}function GXe(r,e){var t=gI(r);r.l+=16;var n=$qe(r,e-24);return[t,n]}function WXe(r,e){r.read_shift(2);var t=gI(r),n=r.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Zu,""),[t,n]}function YXe(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=mre[t]||t,t=r.read_shift(2),e[1]=mre[t]||t,e}function qXe(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(Ame(r));return t}function XXe(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(Ame(r));return t}function ZXe(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function Dme(r,e,t){if(!t.cellStyles)return hu(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),a=r.read_shift(n),s=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(2);n==2&&(r.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(c.level=l>>8&7),c}function KXe(r,e){var t={};return e<32||(r.l+=16,t.header=nu(r),t.footer=nu(r),r.l+=2),t}function $Xe(r,e,t){var n={area:!1};if(t.biff!=5)return r.l+=e,n;var i=r.read_shift(1);return r.l+=3,i&16&&(n.area=!0),n}var JXe=Nv,QXe=Sme,eZe=iM;function tZe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i={fmt:e,env:t,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,i}function rZe(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var n=Nv(r);++r.l;var i=Mb(r,e-7,t);return n.t="str",n.val=i,n}function nZe(r){var e=Nv(r);++r.l;var t=nu(r);return e.t="n",e.val=t,e}function iZe(r){var e=Nv(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function aZe(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function sZe(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function oZe(r,e,t){var n=r.l+e,i=Nv(r),a=r.read_shift(2),s=ab(r,a,t);return r.l=n,i.t="str",i.val=s,i}var lZe=[2,3,48,49,131,139,140,245],Cre=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=TH({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var c=[],u=uy(1);switch(l.type){case"base64":u=Op(Bh(o));break;case"binary":u=Op(o);break;case"buffer":case"array":u=o;break}vc(u,0);var f=u.read_shift(1),d=!!(f&136),h=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,x=521;f==2&&(v=u.read_shift(2)),u.l+=3,f!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(x=u.read_shift(2));var g=u.read_shift(2),_=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(_=r[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var w=[],A={},M=Math.min(u.length,f==2?521:x-10-(h?264:0)),C=p?32:11;u.l<M&&u[u.l]!=13;)switch(A={},A.name=X3.utils.decode(_,u.slice(u.l,u.l+C)).replace(/[\u0000\r\n].*$/g,""),u.l+=C,A.type=String.fromCharCode(u.read_shift(1)),f!=2&&!p&&(A.offset=u.read_shift(4)),A.len=u.read_shift(1),f==2&&(A.offset=u.read_shift(2)),A.dec=u.read_shift(1),A.name.length&&w.push(A),f!=2&&(u.l+=p?13:14),A.type){case"B":(!h||A.len!=8)&&l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var N=0,L=0;for(c[0]=[],L=0;L!=w.length;++L)c[0][L]=w[L].name;for(;v-- >0;){if(u[u.l]===42){u.l+=g;continue}for(++u.l,c[++N]=[],L=0,L=0;L!=w.length;++L){var D=u.slice(u.l,u.l+w[L].len);u.l+=w[L].len,vc(D,0);var k=X3.utils.decode(_,D);switch(w[L].type){case"C":k.trim().length&&(c[N][L]=k.replace(/\s+$/,""));break;case"D":k.length===8?c[N][L]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):c[N][L]=k;break;case"F":c[N][L]=parseFloat(k.trim());break;case"+":case"I":c[N][L]=p?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":c[N][L]=!0;break;case"N":case"F":c[N][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[N][L]="##MEMO##"+(p?parseInt(k.trim(),10):D.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(c[N][L]=+k||0);break;case"@":c[N][L]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":c[N][L]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":c[N][L]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[N][L]=-D.read_shift(-8,"f");break;case"B":if(h&&w[L].len==8){c[N][L]=D.read_shift(8,"f");break}case"G":case"P":D.l+=w[L].len;break;case"0":if(w[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[L].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=nT(t(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return Cy(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Bp(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=vj(),f=Aj(o,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),p=o["!cols"]||[],v=0,x=0,g=0,_=1;for(v=0;v<d.length;++v){if(((p[v]||{}).DBF||{}).name){d[v]=p[v].DBF.name,++g;continue}if(d[v]!=null){if(++g,typeof d[v]=="number"&&(d[v]=d[v].toString(10)),typeof d[v]!="string")throw new Error("DBF Invalid column name "+d[v]+" |"+typeof d[v]+"|");if(d.indexOf(d[v])!==v){for(x=0;x<1024;++x)if(d.indexOf(d[v]+"_"+x)==-1){d[v]+="_"+x;break}}}}var w=yo(o["!ref"]),A=[],M=[],C=[];for(v=0;v<=w.e.c-w.s.c;++v){var N="",L="",D=0,k=[];for(x=0;x<h.length;++x)h[x][v]!=null&&k.push(h[x][v]);if(k.length==0||d[v]==null){A[v]="?";continue}for(x=0;x<k.length;++x){switch(typeof k[x]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=k[x]instanceof Date?"D":"C";break;default:L="C"}D=Math.max(D,String(k[x]).length),N=N&&N!=L?"C":L}D>250&&(D=250),L=((p[v]||{}).DBF||{}).type,L=="C"&&p[v].DBF.len>D&&(D=p[v].DBF.len),N=="B"&&L=="N"&&(N="N",C[v]=p[v].DBF.dec,D=p[v].DBF.len),M[v]=N=="C"||L=="N"?D:a[N]||0,_+=M[v],A[v]=N}var O=u.next(32);for(O.write_shift(4,318902576),O.write_shift(4,h.length),O.write_shift(2,296+32*g),O.write_shift(2,_),v=0;v<4;++v)O.write_shift(4,0);for(O.write_shift(4,0|(+e[Cve]||3)<<8),v=0,x=0;v<d.length;++v)if(d[v]!=null){var I=u.next(32),j=(d[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,j,"sbcs"),I.write_shift(1,A[v]=="?"?"C":A[v],"sbcs"),I.write_shift(4,x),I.write_shift(1,M[v]||a[A[v]]||0),I.write_shift(1,C[v]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),x+=M[v]||a[A[v]]||0}var B=u.next(264);for(B.write_shift(4,13),v=0;v<65;++v)B.write_shift(4,0);for(v=0;v<h.length;++v){var K=u.next(_);for(K.write_shift(1,0),x=0;x<d.length;++x)if(d[x]!=null)switch(A[x]){case"L":K.write_shift(1,h[v][x]==null?63:h[v][x]?84:70);break;case"B":K.write_shift(8,h[v][x]||0,"f");break;case"N":var H="0";for(typeof h[v][x]=="number"&&(H=h[v][x].toFixed(C[x]||0)),g=0;g<M[x]-H.length;++g)K.write_shift(1,32);K.write_shift(1,H,"sbcs");break;case"D":h[v][x]?(K.write_shift(4,("0000"+h[v][x].getFullYear()).slice(-4),"sbcs"),K.write_shift(2,("00"+(h[v][x].getMonth()+1)).slice(-2),"sbcs"),K.write_shift(2,("00"+h[v][x].getDate()).slice(-2),"sbcs")):K.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(h[v][x]!=null?h[v][x]:"").slice(0,M[x]);for(K.write_shift(1,Z,"sbcs"),g=0;g<M[x]-Z.length;++g)K.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),cZe=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+wv(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(d,h){var p=r[h];return typeof p=="number"?Gte(p):p},n=function(d,h,p){var v=h.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?d:Gte(v)};r["|"]=254;function i(d,h){switch(h.type){case"base64":return a(Bh(d),h);case"binary":return a(d,h);case"buffer":return a(Xi&&Buffer.isBuffer(d)?d.toString("binary"):wb(d),h);case"array":return a(ib(d),h)}throw new Error("Unrecognized type "+h.type)}function a(d,h){var p=d.split(/[\n\r]+/),v=-1,x=-1,g=0,_=0,w=[],A=[],M=null,C={},N=[],L=[],D=[],k=0,O;for(+h.codepage>=0&&Bp(+h.codepage);g!==p.length;++g){k=0;var I=p[g].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),j=I.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),B=j[0],K;if(I.length>0)switch(B){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&A.push(I.slice(3).replace(/;;/g,";"));break;case"C":var H=!1,Z=!1,Y=!1,J=!1,oe=-1,X=-1;for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"A":break;case"X":x=parseInt(j[_].slice(1))-1,Z=!0;break;case"Y":for(v=parseInt(j[_].slice(1))-1,Z||(x=0),O=w.length;O<=v;++O)w[O]=[];break;case"K":K=j[_].slice(1),K.charAt(0)==='"'?K=K.slice(1,K.length-1):K==="TRUE"?K=!0:K==="FALSE"?K=!1:isNaN(Yp(K))?isNaN(pS(K).getDate())||(K=Zl(K)):(K=Yp(K),M!==null&&Sb(M)&&(K=mI(K))),H=!0;break;case"E":J=!0;var F=Gw(j[_].slice(1),{r:v,c:x});w[v][x]=[w[v][x],F];break;case"S":Y=!0,w[v][x]=[w[v][x],"S5S"];break;case"G":break;case"R":oe=parseInt(j[_].slice(1))-1;break;case"C":X=parseInt(j[_].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}if(H&&(w[v][x]&&w[v][x].length==2?w[v][x][0]=K:w[v][x]=K,M=null),Y){if(J)throw new Error("SYLK shared formula cannot have own formula");var W=oe>-1&&w[oe][X];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");w[v][x][1]=jme(W[1],{r:v-oe,c:x-X})}break;case"F":var Q=0;for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"X":x=parseInt(j[_].slice(1))-1,++Q;break;case"Y":for(v=parseInt(j[_].slice(1))-1,O=w.length;O<=v;++O)w[O]=[];break;case"M":k=parseInt(j[_].slice(1))/20;break;case"F":break;case"G":break;case"P":M=A[parseInt(j[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=j[_].slice(1).split(" "),O=parseInt(D[0],10);O<=parseInt(D[1],10);++O)k=parseInt(D[2],10),L[O-1]=k===0?{hidden:!0}:{wch:k},vS(L[O-1]);break;case"C":x=parseInt(j[_].slice(1))-1,L[x]||(L[x]={});break;case"R":v=parseInt(j[_].slice(1))-1,N[v]||(N[v]={}),k>0?(N[v].hpt=k,N[v].hpx=eE(k)):k===0&&(N[v].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}Q<1&&(M=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}}return N.length>0&&(C["!rows"]=N),L.length>0&&(C["!cols"]=L),h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),[w,C]}function s(d,h){var p=i(d,h),v=p[0],x=p[1],g=nT(v,h);return wv(x).forEach(function(_){g[_]=x[_]}),g}function o(d,h){return Cy(s(d,h),h)}function l(d,h,p,v){var x="C;Y"+(p+1)+";X"+(v+1)+";K";switch(d.t){case"n":x+=d.v||0,d.f&&!d.F&&(x+=";E"+ZKe(d.f,{r:p,c:v}));break;case"b":x+=d.v?"TRUE":"FALSE";break;case"e":x+=d.w||d.v;break;case"d":x+='"'+(d.w||d.v)+'"';break;case"s":x+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function c(d,h){h.forEach(function(p,v){var x="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?x+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=hR(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=dR(p.wpx)),typeof p.wch=="number"&&(x+=Math.round(p.wch))),x.charAt(x.length-1)!=" "&&d.push(x)})}function u(d,h){h.forEach(function(p,v){var x="F;";p.hidden?x+="M0;":p.hpt?x+="M"+20*p.hpt+";":p.hpx&&(x+="M"+20*Fme(p.hpx)+";"),x.length>2&&d.push(x+"R"+(v+1))})}function f(d,h){var p=["ID;PWXL;N;E"],v=[],x=yo(d["!ref"]),g,_=Array.isArray(d),w=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),d["!cols"]&&c(p,d["!cols"]),d["!rows"]&&u(p,d["!rows"]),p.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var A=x.s.r;A<=x.e.r;++A)for(var M=x.s.c;M<=x.e.c;++M){var C=Kn({r:A,c:M});g=_?(d[A]||[])[M]:d[C],!(!g||g.v==null&&(!g.f||g.F))&&v.push(l(g,d,A,M))}return p.join(w)+w+v.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}})(),uZe=(function(){function r(a,s){switch(s.type){case"base64":return e(Bh(a),s);case"binary":return e(a,s);case"buffer":return e(Xi&&Buffer.isBuffer(a)?a.toString("binary"):wb(a),s);case"array":return e(ib(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=o[u].trim().split(","),h=d[0],p=d[1];++u;for(var v=o[u]||"";(v.match(/["]/g)||[]).length&1&&u<o.length-1;)v+=`
`+o[++u];switch(v=v.trim(),+h){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(Yp(p))?isNaN(pS(p).getDate())?f[l][c]=p:f[l][c]=Zl(p):f[l][c]=Yp(p),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function t(a,s){return nT(r(a,s),s)}function n(a,s){return Cy(t(a,s),s)}var i=(function(){var a=function(l,c,u,f,d){l.push(c),l.push(u+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=yo(l["!ref"]),f,d=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,u.e.r-u.s.r+1,""),a(c,"TUPLES",0,u.e.c-u.s.c+1,""),a(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){s(c,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var v=Kn({r:h,c:p});if(f=d?(l[h]||[])[p]:l[v],!f){s(c,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,x,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=zh(f.z||Zn[14],ef(Zl(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var g=`\r
`,_=c.join(g);return _}})();return{to_workbook:n,to_sheet:t,from_sheet:i}})(),fZe=(function(){function r(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(f,d){for(var h=f.split(`
`),p=-1,v=-1,x=0,g=[];x!==h.length;++x){var _=h[x].trim().split(":");if(_[0]==="cell"){var w=Yu(_[1]);if(g.length<=w.r)for(p=g.length;p<=w.r;++p)g[p]||(g[p]=[]);switch(p=w.r,v=w.c,_[2]){case"t":g[p][v]=r(_[3]);break;case"v":g[p][v]=+_[3];break;case"vtf":var A=_[_.length-1];case"vtc":switch(_[3]){case"nl":g[p][v]=!!+_[4];break;default:g[p][v]=+_[4];break}_[2]=="vtf"&&(g[p][v]=[g[p][v],A])}}}return d&&d.sheetRows&&(g=g.slice(0,d.sheetRows)),g}function n(f,d){return nT(t(f,d),d)}function i(f,d){return Cy(n(f,d),d)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],p,v="",x=rT(f["!ref"]),g=Array.isArray(f),_=x.s.r;_<=x.e.r;++_)for(var w=x.s.c;w<=x.e.c;++w)if(v=Kn({r:_,c:w}),p=g?(f[_]||[])[w]:f[v],!(!p||p.v==null||p.t==="z")){switch(h=["cell",v,"t"],p.t){case"s":case"str":h.push(e(p.v));break;case"n":p.f?(h[2]="vtf",h[3]="n",h[4]=p.v,h[5]=e(p.f)):(h[2]="v",h[3]=p.v);break;case"b":h[2]="vt"+(p.f?"f":"c"),h[3]="nl",h[4]=p.v?"1":"0",h[5]=e(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var A=ef(Zl(p.v));h[2]="vtc",h[3]="nd",h[4]=""+A,h[5]=p.w||zh(p.z||Zn[14],A);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(f){return[a,s,o,s,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}})(),J3=(function(){function r(u,f,d,h,p){p.raw?f[d][h]=u:u===""||(u==="TRUE"?f[d][h]=!0:u==="FALSE"?f[d][h]=!1:isNaN(Yp(u))?isNaN(pS(u).getDate())?f[d][h]=u:f[d][h]=Zl(u):f[d][h]=Yp(u))}function e(u,f){var d=f||{},h=[];if(!u||u.length===0)return h;for(var p=u.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var x=10,g=0,_=0;_<=v;++_)g=p[_].indexOf(" "),g==-1?g=p[_].length:g++,x=Math.max(x,g);for(_=0;_<=v;++_){h[_]=[];var w=0;for(r(p[_].slice(0,x).trim(),h,_,w,d),w=1;w<=(p[_].length-x)/10+1;++w)r(p[_].slice(x+(w-1)*10,x+w*10).trim(),h,_,w,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var f={},d=!1,h=0,p=0;h<u.length;++h)(p=u.charCodeAt(h))==34?d=!d:!d&&p in t&&(f[p]=(f[p]||0)+1);p=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h]);if(!p.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h])}return p.sort(function(v,x){return v[0]-x[0]||n[v[1]]-n[x[1]]}),t[p.pop()[1]]||44}function a(u,f){var d=f||{},h="",p=d.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=i(u.slice(0,1024)):d&&d.FS?h=d.FS:h=i(u.slice(0,1024));var x=0,g=0,_=0,w=0,A=0,M=h.charCodeAt(0),C=!1,N=0,L=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var D=d.dateNF!=null?wYe(d.dateNF):null;function k(){var O=u.slice(w,A),I={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)I.t="z";else if(d.raw)I.t="s",I.v=O;else if(O.trim().length===0)I.t="s",I.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(I.t="s",I.v=O.slice(2,-1).replace(/""/g,'"')):$Ke(O)?(I.t="n",I.f=O.slice(1)):(I.t="s",I.v=O);else if(O=="TRUE")I.t="b",I.v=!0;else if(O=="FALSE")I.t="b",I.v=!1;else if(!isNaN(_=Yp(O)))I.t="n",d.cellText!==!1&&(I.w=O),I.v=_;else if(!isNaN(pS(O).getDate())||D&&O.match(D)){I.z=d.dateNF||Zn[14];var j=0;D&&O.match(D)&&(O=SYe(O,d.dateNF,O.match(D)||[]),j=1),d.cellDates?(I.t="d",I.v=Zl(O,j)):(I.t="n",I.v=ef(Zl(O,j))),d.cellText!==!1&&(I.w=zh(I.z,I.v instanceof Date?ef(I.v):I.v)),d.cellNF||delete I.z}else I.t="s",I.v=O;if(I.t=="z"||(d.dense?(p[x]||(p[x]=[]),p[x][g]=I):p[Kn({c:g,r:x})]=I),w=A+1,L=u.charCodeAt(w),v.e.c<g&&(v.e.c=g),v.e.r<x&&(v.e.r=x),N==M)++g;else if(g=0,++x,d.sheetRows&&d.sheetRows<=x)return!0}e:for(;A<u.length;++A)switch(N=u.charCodeAt(A)){case 34:L===34&&(C=!C);break;case M:case 10:case 13:if(!C&&k())break e;break}return A-w>0&&k(),p["!ref"]=Ji(v),p}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,f):nT(e(u,f),f)}function o(u,f){var d="",h=f.type=="string"?[0,0,0,0]:HH(u,f);switch(f.type){case"base64":d=Bh(u);break;case"binary":d=u;break;case"buffer":f.codepage==65001?d=u.toString("utf8"):f.codepage&&typeof X3<"u"||(d=Xi&&Buffer.isBuffer(u)?u.toString("binary"):wb(u));break;case"array":d=ib(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=ds(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=ds(d):f.type=="binary"&&typeof X3<"u",d.slice(0,19)=="socialcalc:version:"?fZe.to_sheet(f.type=="string"?d:ds(d),f):s(d,f)}function l(u,f){return Cy(o(u,f),f)}function c(u){for(var f=[],d=yo(u["!ref"]),h,p=Array.isArray(u),v=d.s.r;v<=d.e.r;++v){for(var x=[],g=d.s.c;g<=d.e.c;++g){var _=Kn({r:v,c:g});if(h=p?(u[v]||[])[g]:u[_],!h||h.v==null){x.push("          ");continue}for(var w=(h.w||(cg(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";x.push(w+(g===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function hZe(r,e){var t=e||{},n=!!t.WTF;t.WTF=!0;try{var i=cZe.to_workbook(r,t);return t.WTF=n,i}catch(a){if(t.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return J3.to_workbook(r,e)}}var VA=(function(){function r(F,W,Q){if(F){vc(F,F.l||0);for(var re=Q.Enum||oe;F.l<F.length;){var ae=F.read_shift(2),ce=re[ae]||re[65535],ye=F.read_shift(2),fe=F.l+ye,be=ce.f&&ce.f(F,ye,Q);if(F.l=fe,W(be,ce,ae))return}}}function e(F,W){switch(W.type){case"base64":return t(Op(Bh(F)),W);case"binary":return t(Op(F),W);case"buffer":case"array":return t(F,W)}throw"Unsupported type "+W.type}function t(F,W){if(!F)return F;var Q=W||{},re=Q.dense?[]:{},ae="Sheet1",ce="",ye=0,fe={},be=[],Oe=[],xe={s:{r:0,c:0},e:{r:0,c:0}},Qe=Q.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)Q.Enum=oe,r(F,function(ge,de,_e){switch(_e){case 0:Q.vers=ge,ge>=4096&&(Q.qpro=!0);break;case 6:xe=ge;break;case 204:ge&&(ce=ge);break;case 222:ce=ge;break;case 15:case 51:Q.qpro||(ge[1].v=ge[1].v.slice(1));case 13:case 14:case 16:_e==14&&(ge[2]&112)==112&&(ge[2]&15)>1&&(ge[2]&15)<15&&(ge[1].z=Q.dateNF||Zn[14],Q.cellDates&&(ge[1].t="d",ge[1].v=mI(ge[1].v))),Q.qpro&&ge[3]>ye&&(re["!ref"]=Ji(xe),fe[ae]=re,be.push(ae),re=Q.dense?[]:{},xe={s:{r:0,c:0},e:{r:0,c:0}},ye=ge[3],ae=ce||"Sheet"+(ye+1),ce="");var je=Q.dense?(re[ge[0].r]||[])[ge[0].c]:re[Kn(ge[0])];if(je){je.t=ge[1].t,je.v=ge[1].v,ge[1].z!=null&&(je.z=ge[1].z),ge[1].f!=null&&(je.f=ge[1].f);break}Q.dense?(re[ge[0].r]||(re[ge[0].r]=[]),re[ge[0].r][ge[0].c]=ge[1]):re[Kn(ge[0])]=ge[1];break}},Q);else if(F[2]==26||F[2]==14)Q.Enum=X,F[2]==14&&(Q.qpro=!0,F.l=0),r(F,function(ge,de,_e){switch(_e){case 204:ae=ge;break;case 22:ge[1].v=ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ge[3]>ye&&(re["!ref"]=Ji(xe),fe[ae]=re,be.push(ae),re=Q.dense?[]:{},xe={s:{r:0,c:0},e:{r:0,c:0}},ye=ge[3],ae="Sheet"+(ye+1)),Qe>0&&ge[0].r>=Qe)break;Q.dense?(re[ge[0].r]||(re[ge[0].r]=[]),re[ge[0].r][ge[0].c]=ge[1]):re[Kn(ge[0])]=ge[1],xe.e.c<ge[0].c&&(xe.e.c=ge[0].c),xe.e.r<ge[0].r&&(xe.e.r=ge[0].r);break;case 27:ge[14e3]&&(Oe[ge[14e3][0]]=ge[14e3][1]);break;case 1537:Oe[ge[0]]=ge[1],ge[0]==ye&&(ae=ge[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(re["!ref"]=Ji(xe),fe[ce||ae]=re,be.push(ce||ae),!Oe.length)return{SheetNames:be,Sheets:fe};for(var ne={},te=[],Me=0;Me<Oe.length;++Me)fe[be[Me]]?(te.push(Oe[Me]||be[Me]),ne[Oe[Me]]=fe[Oe[Me]]||fe[be[Me]]):(te.push(Oe[Me]),ne[Oe[Me]]={"!ref":"A1"});return{SheetNames:te,Sheets:ne}}function n(F,W){var Q=W||{};if(+Q.codepage>=0&&Bp(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var re=vj(),ae=yo(F["!ref"]),ce=Array.isArray(F),ye=[];Sp(re,0,a(1030)),Sp(re,6,l(ae));for(var fe=Math.min(ae.e.r,8191),be=ae.s.r;be<=fe;++be)for(var Oe=xc(be),xe=ae.s.c;xe<=ae.e.c;++xe){be===ae.s.r&&(ye[xe]=_l(xe));var Qe=ye[xe]+Oe,ne=ce?(F[be]||[])[xe]:F[Qe];if(!(!ne||ne.t=="z"))if(ne.t=="n")(ne.v|0)==ne.v&&ne.v>=-32768&&ne.v<=32767?Sp(re,13,h(be,xe,ne.v)):Sp(re,14,v(be,xe,ne.v));else{var te=cg(ne);Sp(re,15,f(be,xe,te.slice(0,239)))}}return Sp(re,1),re.end()}function i(F,W){var Q=W||{};if(+Q.codepage>=0&&Bp(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var re=vj();Sp(re,0,s(F));for(var ae=0,ce=0;ae<F.SheetNames.length;++ae)(F.Sheets[F.SheetNames[ae]]||{})["!ref"]&&Sp(re,27,J(F.SheetNames[ae],ce++));var ye=0;for(ae=0;ae<F.SheetNames.length;++ae){var fe=F.Sheets[F.SheetNames[ae]];if(!(!fe||!fe["!ref"])){for(var be=yo(fe["!ref"]),Oe=Array.isArray(fe),xe=[],Qe=Math.min(be.e.r,8191),ne=be.s.r;ne<=Qe;++ne)for(var te=xc(ne),Me=be.s.c;Me<=be.e.c;++Me){ne===be.s.r&&(xe[Me]=_l(Me));var ge=xe[Me]+te,de=Oe?(fe[ne]||[])[Me]:fe[ge];if(!(!de||de.t=="z"))if(de.t=="n")Sp(re,23,k(ne,Me,ye,de.v));else{var _e=cg(de);Sp(re,22,N(ne,Me,ye,_e.slice(0,239)))}}++ye}}return Sp(re,1),re.end()}function a(F){var W=gl(2);return W.write_shift(2,F),W}function s(F){var W=gl(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var Q=0,re=0,ae=0,ce=0;ce<F.SheetNames.length;++ce){var ye=F.SheetNames[ce],fe=F.Sheets[ye];if(!(!fe||!fe["!ref"])){++ae;var be=rT(fe["!ref"]);Q<be.e.r&&(Q=be.e.r),re<be.e.c&&(re=be.e.c)}}return Q>8191&&(Q=8191),W.write_shift(2,Q),W.write_shift(1,ae),W.write_shift(1,re),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(F,W,Q){var re={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&Q.qpro?(re.s.c=F.read_shift(1),F.l++,re.s.r=F.read_shift(2),re.e.c=F.read_shift(1),F.l++,re.e.r=F.read_shift(2),re):(re.s.c=F.read_shift(2),re.s.r=F.read_shift(2),W==12&&Q.qpro&&(F.l+=2),re.e.c=F.read_shift(2),re.e.r=F.read_shift(2),W==12&&Q.qpro&&(F.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function l(F){var W=gl(8);return W.write_shift(2,F.s.c),W.write_shift(2,F.s.r),W.write_shift(2,F.e.c),W.write_shift(2,F.e.r),W}function c(F,W,Q){var re=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(re[0].c=F.read_shift(1),re[3]=F.read_shift(1),re[0].r=F.read_shift(2),F.l+=2):(re[2]=F.read_shift(1),re[0].c=F.read_shift(2),re[0].r=F.read_shift(2)),re}function u(F,W,Q){var re=F.l+W,ae=c(F,W,Q);if(ae[1].t="s",Q.vers==20768){F.l++;var ce=F.read_shift(1);return ae[1].v=F.read_shift(ce,"utf8"),ae}return Q.qpro&&F.l++,ae[1].v=F.read_shift(re-F.l,"cstr"),ae}function f(F,W,Q){var re=gl(7+Q.length);re.write_shift(1,255),re.write_shift(2,W),re.write_shift(2,F),re.write_shift(1,39);for(var ae=0;ae<re.length;++ae){var ce=Q.charCodeAt(ae);re.write_shift(1,ce>=128?95:ce)}return re.write_shift(1,0),re}function d(F,W,Q){var re=c(F,W,Q);return re[1].v=F.read_shift(2,"i"),re}function h(F,W,Q){var re=gl(7);return re.write_shift(1,255),re.write_shift(2,W),re.write_shift(2,F),re.write_shift(2,Q,"i"),re}function p(F,W,Q){var re=c(F,W,Q);return re[1].v=F.read_shift(8,"f"),re}function v(F,W,Q){var re=gl(13);return re.write_shift(1,255),re.write_shift(2,W),re.write_shift(2,F),re.write_shift(8,Q,"f"),re}function x(F,W,Q){var re=F.l+W,ae=c(F,W,Q);if(ae[1].v=F.read_shift(8,"f"),Q.qpro)F.l=re;else{var ce=F.read_shift(2);A(F.slice(F.l,F.l+ce),ae),F.l+=ce}return ae}function g(F,W,Q){var re=W&32768;return W&=-32769,W=(re?F:0)+(W>=8192?W-16384:W),(re?"":"$")+(Q?_l(W):xc(W))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(F,W){vc(F,0);for(var Q=[],re=0,ae="",ce="",ye="",fe="";F.l<F.length;){var be=F[F.l++];switch(be){case 0:Q.push(F.read_shift(8,"f"));break;case 1:ce=g(W[0].c,F.read_shift(2),!0),ae=g(W[0].r,F.read_shift(2),!1),Q.push(ce+ae);break;case 2:{var Oe=g(W[0].c,F.read_shift(2),!0),xe=g(W[0].r,F.read_shift(2),!1);ce=g(W[0].c,F.read_shift(2),!0),ae=g(W[0].r,F.read_shift(2),!1),Q.push(Oe+xe+":"+ce+ae)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(F.read_shift(2));break;case 6:{for(var Qe="";be=F[F.l++];)Qe+=String.fromCharCode(be);Q.push('"'+Qe.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:fe=Q.pop(),ye=Q.pop(),Q.push(["AND","OR"][be-20]+"("+ye+","+fe+")");break;default:if(be<32&&w[be])fe=Q.pop(),ye=Q.pop(),Q.push(ye+w[be]+fe);else if(_[be]){if(re=_[be][1],re==69&&(re=F[F.l++]),re>Q.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+Q.join("|")+"|");return}var ne=Q.slice(-re);Q.length-=re,Q.push(_[be][0]+"("+ne.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}Q.length==1?W[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function M(F){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=F.read_shift(2),W[3]=F[F.l++],W[0].c=F[F.l++],W}function C(F,W){var Q=M(F);return Q[1].t="s",Q[1].v=F.read_shift(W-4,"cstr"),Q}function N(F,W,Q,re){var ae=gl(6+re.length);ae.write_shift(2,F),ae.write_shift(1,Q),ae.write_shift(1,W),ae.write_shift(1,39);for(var ce=0;ce<re.length;++ce){var ye=re.charCodeAt(ce);ae.write_shift(1,ye>=128?95:ye)}return ae.write_shift(1,0),ae}function L(F,W){var Q=M(F);Q[1].v=F.read_shift(2);var re=Q[1].v>>1;if(Q[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return Q[1].v=re,Q}function D(F,W){var Q=M(F),re=F.read_shift(4),ae=F.read_shift(4),ce=F.read_shift(2);if(ce==65535)return re===0&&ae===3221225472?(Q[1].t="e",Q[1].v=15):re===0&&ae===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var ye=ce&32768;return ce=(ce&32767)-16446,Q[1].v=(1-ye*2)*(ae*Math.pow(2,ce+32)+re*Math.pow(2,ce)),Q}function k(F,W,Q,re){var ae=gl(14);if(ae.write_shift(2,F),ae.write_shift(1,Q),ae.write_shift(1,W),re==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var ce=0,ye=0,fe=0,be=0;return re<0&&(ce=1,re=-re),ye=Math.log2(re)|0,re/=Math.pow(2,ye-31),be=re>>>0,(be&2147483648)==0&&(re/=2,++ye,be=re>>>0),re-=be,be|=2147483648,be>>>=0,re*=Math.pow(2,32),fe=re>>>0,ae.write_shift(4,fe),ae.write_shift(4,be),ye+=16383+(ce?32768:0),ae.write_shift(2,ye),ae}function O(F,W){var Q=D(F);return F.l+=W-14,Q}function I(F,W){var Q=M(F),re=F.read_shift(4);return Q[1].v=re>>6,Q}function j(F,W){var Q=M(F),re=F.read_shift(8,"f");return Q[1].v=re,Q}function B(F,W){var Q=j(F);return F.l+=W-10,Q}function K(F,W){return F[F.l+W-1]==0?F.read_shift(W,"cstr"):""}function H(F,W){var Q=F[F.l++];Q>W-1&&(Q=W-1);for(var re="";re.length<Q;)re+=String.fromCharCode(F[F.l++]);return re}function Z(F,W,Q){if(!(!Q.qpro||W<21)){var re=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var ae=F.read_shift(W-21,"cstr");return[re,ae]}}function Y(F,W){for(var Q={},re=F.l+W;F.l<re;){var ae=F.read_shift(2);if(ae==14e3){for(Q[ae]=[0,""],Q[ae][0]=F.read_shift(2);F[F.l];)Q[ae][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return Q}function J(F,W){var Q=gl(5+F.length);Q.write_shift(2,14e3),Q.write_shift(2,W);for(var re=0;re<F.length;++re){var ae=F.charCodeAt(re);Q[Q.l++]=ae>127?95:ae}return Q[Q.l++]=0,Q}var oe={0:{n:"BOF",f:Qo},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:K},222:{n:"SHEETNAMELP",f:H},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:B},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:K},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function dZe(r){var e={},t=r.match(du),n=0,i=!1;if(t)for(;n!=t.length;++n){var a=On(t[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=yH[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var pZe=(function(){var r=K3("t"),e=K3("rPr");function t(a){var s=a.match(r);if(!s)return{t:"s",v:""};var o={t:"s",v:oa(s[1])},l=a.match(e);return l&&(o.s=dZe(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(t).filter(function(o){return o.v})}})(),vZe=(function(){var e=/(\r\n|\n)/g;function t(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&t(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),mZe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,gZe=/<(?:\w+:)?r>/,xZe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function PH(r,e){var t=e?e.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=oa(ds(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ds(r),t&&(n.h=EH(n.t))):r.match(gZe)&&(n.r=ds(r),n.t=oa(ds((r.replace(xZe,"").match(mZe)||[]).join("").replace(du,""))),t&&(n.h=vZe(pZe(n.r)))),n):{t:""}}var yZe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,bZe=/<(?:\w+:)?(?:si|sstItem)>/g,_Ze=/<\/(?:\w+:)?(?:si|sstItem)>/;function wZe(r,e){var t=[],n="";if(!r)return t;var i=r.match(yZe);if(i){n=i[2].replace(bZe,"").split(_Ze);for(var a=0;a!=n.length;++a){var s=PH(n[a].trim(),e);s!=null&&(t[t.length]=s)}i=On(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}function SZe(r){return[r.read_shift(4),r.read_shift(4)]}function TZe(r,e){var t=[],n=!1;return _g(r,function(a,s,o){switch(o){case 159:t.Count=a[0],t.Unique=a[1];break;case 19:t.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function Lme(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function Qm(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function AZe(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=Qm(r,4),e.U=Qm(r,4),e.W=Qm(r,4),e}function EZe(r){for(var e=r.read_shift(4),t=r.l+e-4,n={},i=r.read_shift(4),a=[];i-- >0;)a.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=a,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return n}function MZe(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(EZe(r));return e}function CZe(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function NZe(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=Qm(r,4),e.U=Qm(r,4),e.W=Qm(r,4),e}function DZe(r){var e=NZe(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function Rme(r,e){var t=r.l+e,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,n}function kme(r,e){var t={},n=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,n),r.l=n,t}function LZe(r){var e=Qm(r);switch(e.Minor){case 2:return[e.Minor,RZe(r)];case 3:return[e.Minor,kZe()];case 4:return[e.Minor,IZe(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function RZe(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),n=Rme(r,t),i=kme(r,r.length-r.l);return{t:"Std",h:n,v:i}}function kZe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function IZe(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),n={};return t.replace(du,function(a){var s=On(a);switch(Cv(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function OZe(r,e){var t={},n=t.EncryptionVersionInfo=Qm(r,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);t.Flags=r.read_shift(4),e-=4;var i=r.read_shift(4);return e-=4,t.EncryptionHeader=Rme(r,i),e-=i,t.EncryptionVerifier=kme(r,e),t}function PZe(r){var e={},t=e.EncryptionVersionInfo=Qm(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function FZe(r){var e=0,t,n=Lme(r),i=n.length+1,a,s,o,l,c;for(t=uy(i),t[0]=n.length,a=1;a!=i;++a)t[a]=n[a-1];for(a=i-1;a>=0;--a)s=t[a],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var Ime=(function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=e[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=t[l]),u*=2,--l;return o};return function(s){for(var o=Lme(s),l=a(o),c=o.length,u=uy(16),f=0;f!=16;++f)u[f]=0;var d,h,p;for((c&1)===1&&(d=l>>8,u[c]=i(r[0],d),--c,d=l&255,h=o[o.length-1],u[c]=i(h,d));c>0;)--c,d=l>>8,u[c]=i(o[c],d),--c,d=l&255,u[c]=i(o[c],d);for(c=15,p=15-o.length;p>0;)d=l>>8,u[c]=i(r[p],d),--c,--p,d=l&255,u[c]=i(o[c],d),--c,--p;return u}})(),BZe=function(r,e,t,n,i){i||(i=e),n||(n=Ime(r));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=n[t],s=(s>>5|s<<3)&255,i[a]=s,++t;return[i,t,n]},zZe=function(r){var e=0,t=Ime(r);return function(n){var i=BZe("",n,e,t);return e=i[1],i[0]}};function jZe(r,e,t,n){var i={key:Qo(r),verificationBytes:Qo(r)};return t.password&&(i.verifier=FZe(t.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=zZe(t.password)),i}function UZe(r,e,t){var n=t||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=PZe(r):n.Data=OZe(r,e),n}function VZe(r,e,t){var n={Type:t.biff>=8?r.read_shift(2):0};return n.Type?UZe(r,e-2,n):jZe(r,t.biff>=8?e:e-2,t,n),n}var HZe=(function(){function r(i,a){switch(a.type){case"base64":return e(Bh(i),a);case"binary":return e(i,a);case"buffer":return e(Xi&&Buffer.isBuffer(i)?i.toString("binary"):wb(i),a);case"array":return e(ib(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,h=0,p,v=-1;p=d.exec(u);){switch(p[0]){case"\\cell":var x=u.slice(h,d.lastIndex-p[0].length);if(x[0]==" "&&(x=x.slice(1)),++v,x.length){var g={v:x,t:"s"};Array.isArray(o)?o[f][v]=g:o[Kn({r:f,c:v})]=g}break}h=d.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=Ji(c),o}function t(i,a){return Cy(r(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=yo(i["!ref"]),o,l=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=Kn({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(cg(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function GZe(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Q3(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function WZe(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.max(e,t,n),a=Math.min(e,t,n),s=i-a;if(s===0)return[0,0,e];var o=0,l=0,c=i+a;switch(l=s/(c>1?2-c:c),i){case e:o=((t-n)/s+6)%6;break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break}return[o/6,l,c/2]}function YZe(r){var e=r[0],t=r[1],n=r[2],i=t*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*e,l;if(t!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function fR(r,e){if(e===0)return r;var t=WZe(GZe(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),Q3(YZe(t))}var Ome=6,qZe=15,XZe=1,Gu=Ome;function hR(r){return Math.floor((r+Math.round(128/Gu)/256)*Gu)}function dR(r){return Math.floor((r-5)/Gu*100+.5)/100}function yj(r){return Math.round((r*Gu+5)/Gu*256)/256}function nF(r){return yj(dR(hR(r)))}function FH(r){var e=Math.abs(r-nF(r)),t=Gu;if(e>.005)for(Gu=XZe;Gu<qZe;++Gu)Math.abs(r-nF(r))<=e&&(e=Math.abs(r-nF(r)),t=Gu);Gu=t}function vS(r){r.width?(r.wpx=hR(r.width),r.wch=dR(r.wpx),r.MDW=Gu):r.wpx?(r.wch=dR(r.wpx),r.width=yj(r.wch),r.MDW=Gu):typeof r.wch=="number"&&(r.width=yj(r.wch),r.wpx=hR(r.width),r.MDW=Gu),r.customWidth&&delete r.customWidth}var ZZe=96,Pme=ZZe;function Fme(r){return r*96/Pme}function eE(r){return r*Pme/96}var KZe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function $Ze(r,e,t,n){e.Borders=[];var i={},a=!1;(r[0].match(du)||[]).forEach(function(s){var o=On(s);switch(Cv(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Ds(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Ds(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function JZe(r,e,t,n){e.Fills=[];var i={},a=!1;(r[0].match(du)||[]).forEach(function(s){var o=On(s);switch(Cv(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function QZe(r,e,t,n){e.Fonts=[];var i={},a=!1;(r[0].match(du)||[]).forEach(function(s){var o=On(s);switch(Cv(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=ds(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Ds(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Ds(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Ds(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Ds(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Ds(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Ds(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Ds(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=yH[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Ds(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=F2[i.color.index];i.color.index==81&&(l=F2[1]),l||(l=F2[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=fR(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function eKe(r,e,t){e.NumberFmt=[];for(var n=wv(Zn),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Zn[n[i]];var a=r[0].match(du);if(a)for(i=0;i<a.length;++i){var s=On(a[i]);switch(Cv(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=oa(ds(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Jm(o,l)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var HN=["numFmtId","fillId","fontId","borderId","xfId"],GN=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function tKe(r,e,t){e.CellXf=[];var n,i=!1;(r[0].match(du)||[]).forEach(function(a){var s=On(a),o=0;switch(Cv(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<HN.length;++o)n[HN[o]]&&(n[HN[o]]=parseInt(n[HN[o]],10));for(o=0;o<GN.length;++o)n[GN[o]]&&(n[GN[o]]=Ds(n[GN[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Ds(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var rKe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&eKe(f,u,c),(f=o.match(i))&&QZe(f,u,l,c),(f=o.match(n))&&JZe(f,u,l,c),(f=o.match(a))&&$Ze(f,u,l,c),(f=o.match(t))&&tKe(f,u,c),u}})();function nKe(r,e){var t=r.read_shift(2),n=cu(r);return[t,n]}function iKe(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=pqe(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=r.read_shift(2);switch(a===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=r.read_shift(1);s!=0&&(n.underline=s);var o=r.read_shift(1);o>0&&(n.family=o);var l=r.read_shift(1);switch(l>0&&(n.charset=l),r.l++,n.color=dqe(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=cu(r),n}var aKe=hu;function sKe(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}var oKe=hu;function lKe(r,e,t){var n={};n.NumberFmt=[];for(var i in Zn)n.NumberFmt[i]=Zn[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return _g(r,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Jm(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=fR(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(u),s=!0;break;case 38:a.pop(),s=!1;break;default:if(c.T>0)a.push(u);else if(c.T<0)a.pop();else if(!s||t.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var cKe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function uKe(r,e,t){e.themeElements.clrScheme=[];var n={};(r[0].match(du)||[]).forEach(function(i){var a=On(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[cKe.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function fKe(){}function hKe(){}var dKe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,pKe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,vKe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function mKe(r,e,t){e.themeElements={};var n;[["clrScheme",dKe,uKe],["fontScheme",pKe,fKe],["fmtScheme",vKe,hKe]].forEach(function(i){if(!(n=r.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,t)})}var gKe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Bme(r,e){(!r||r.length===0)&&(r=xKe());var t,n={};if(!(t=r.match(gKe)))throw new Error("themeElements not found in theme");return mKe(t[0],n,e),n.raw=r,n}function xKe(r,e){var t=[Zve];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function yKe(r,e,t){var n=r.l+e,i=r.read_shift(4);if(i!==124226){if(!t.cellStyles){r.l=n;return}var a=r.slice(r.l);r.l=n;var s;try{s=Xve(a,{type:"array"})}catch{return}var o=Mh(s,"theme/theme/theme1.xml",!0);if(o)return Bme(o,t)}}function bKe(r){return r.read_shift(4)}function _Ke(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=wKe(r,4);break;case 2:e.xclrValue=Tme(r);break;case 3:e.xclrValue=bKe(r);break;case 4:r.l+=4;break}return r.l+=8,e}function wKe(r,e){return hu(r,e)}function SKe(r,e){return hu(r,e)}function TKe(r){var e=r.read_shift(2),t=r.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=_Ke(r);break;case 6:n[1]=SKe(r,t);break;case 14:case 15:n[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return n}function AKe(r,e){var t=r.l+e;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var i=r.read_shift(2),a=[];i-- >0;)a.push(TKe(r,t-r.l));return{ixfe:n,ext:a}}function EKe(r,e){e.forEach(function(t){t[0]})}function MKe(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:cu(r)}}function CKe(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function NKe(r){return r.l+=4,r.read_shift(4)!=0}function DKe(r,e,t){var n={Types:[],Cell:[],Value:[]},i=t||{},a=[],s=!1,o=2;return _g(r,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(u),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!c.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function LKe(r,e,t){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var i=!1,a=2,s;return r.replace(du,function(o){var l=On(o);switch(Cv(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function RKe(r){var e=[];if(!r)return e;var t=1;return(r.match(du)||[]).forEach(function(n){var i=On(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function kKe(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Kn(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function IKe(r,e,t){var n=[];return _g(r,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function OKe(r,e,t,n){if(!r)return r;var i=n||{},a=!1;_g(r,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function PKe(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function Nre(r,e,t,n){var i=Array.isArray(r),a;e.forEach(function(s){var o=Yu(s.ref);if(i?(r[o.r]||(r[o.r]=[]),a=r[o.r][o.c]):a=r[s.ref],!a){a={t:"z"},i?r[o.r][o.c]=a:r[s.ref]=a;var l=yo(r["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Ji(l);c!==r["!ref"]&&(r["!ref"]=c)}a.c||(a.c=[]);var u={a:s.author,t:s.t,r:s.r,T:t};s.h&&(u.h=s.h);for(var f=a.c.length-1;f>=0;--f){if(!t&&a.c[f].T)return;t&&!a.c[f].T&&a.c.splice(f,1)}if(t&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}a.c.push(u)})}function FKe(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],n=[],i=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var a=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=On(o[0]),c={author:l.authorId&&t[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Yu(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&PH(f[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=d.h),n.push(c)}}}}),n}function BKe(r,e){var t=[],n=!1,i={},a=0;return r.replace(du,function(o,l){var c=On(o);switch(Cv(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=r.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),t}function zKe(r,e){var t=[],n=!1;return r.replace(du,function(a){var s=On(a);switch(Cv(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),t}function jKe(r){var e={};e.iauthor=r.read_shift(4);var t=Ab(r);return e.rfx=t.s,e.ref=Kn(t.s),r.l+=16,e}var UKe=cu;function VKe(r,e){var t=[],n=[],i={},a=!1;return _g(r,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),t}var HKe="application/vnd.ms-office.vbaProject";function GKe(r){var e=$i.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,n){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");$i.utils.cfb_add(e,i,r.FileIndex[n].content)}}),$i.write(e)}function WKe(){return{"!type":"dialog"}}function YKe(){return{"!type":"dialog"}}function qKe(){return{"!type":"macro"}}function XKe(){return{"!type":"macro"}}var Gw=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+_l(u)+(l?"":"$")+xc(c)}return function(i,a){return e=a,i.replace(r,t)}})(),zme=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ZKe=(function(){return function(e,t){return e.replace(zme,function(n,i,a,s,o,l){var c=DH(s)-(a?0:t.c),u=NH(l)-(o?0:t.r),f=u==0?"":o?u+1:"["+u+"]",d=c==0?"":a?c+1:"["+c+"]";return i+"R"+f+"C"+d})}})();function jme(r,e){return r.replace(zme,function(t,n,i,a,s,o){return n+(i=="$"?i+a:_l(DH(a)+e.c))+(s=="$"?s+o:xc(NH(o)+e.r))})}function KKe(r,e,t){var n=rT(e),i=n.s,a=Yu(t),s={r:a.r-i.r,c:a.c-i.c};return jme(r,s)}function $Ke(r){return r.length!=1}function Dre(r){return r.replace(/_xlfn\./g,"")}function Ko(r){r.l+=1}function fy(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Ume(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return Vme(r);t.biff==12&&(n=4)}var i=r.read_shift(n),a=r.read_shift(n),s=fy(r),o=fy(r);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Vme(r){var e=fy(r),t=fy(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function JKe(r,e,t){if(t.biff<8)return Vme(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),a=fy(r),s=fy(r);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Hme(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return QKe(r);var n=r.read_shift(t&&t.biff==12?4:2),i=fy(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function QKe(r){var e=fy(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function e$e(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function t$e(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return r$e(r);var i=r.read_shift(n>=12?4:2),a=r.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function r$e(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function n$e(r,e,t){var n=(r[r.l++]&96)>>5,i=Ume(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function i$e(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}var s=Ume(r,a,t);return[n,i,s]}function a$e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function s$e(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}return r.l+=a,[n,i]}function o$e(r,e,t){var n=(r[r.l++]&96)>>5,i=JKe(r,e-1,t);return[n,i]}function l$e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function Lre(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function c$e(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function u$e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function f$e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function h$e(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function d$e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function Gme(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function p$e(r){return r.read_shift(2),Gme(r)}function v$e(r){return r.read_shift(2),Gme(r)}function m$e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=Hme(r,0,t);return[n,i]}function g$e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=t$e(r,0,t);return[n,i]}function x$e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var a=Hme(r,0,t);return[n,i,a]}function y$e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[bJe[i],qme[i],n]}function b$e(r,e,t){var n=r[r.l++],i=r.read_shift(1),a=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:_$e(r);return[i,(a[0]===0?qme:yJe)[a[1]]]}function _$e(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function w$e(r,e,t){r.l+=t&&t.biff==2?3:4}function S$e(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function T$e(r){return r.l++,Eb[r.read_shift(1)]}function A$e(r){return r.l++,r.read_shift(2)}function E$e(r){return r.l++,r.read_shift(1)!==0}function M$e(r){return r.l++,nu(r)}function C$e(r,e,t){return r.l++,nM(r,e-1,t)}function N$e(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Lo(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Eb[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=nu(r);break;case 2:t[1]=Mb(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function D$e(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((t.biff==12?Ab:gI)(r));return i}function L$e(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=N$e(r,t.biff);return s}function R$e(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,a=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,a]}function k$e(r,e,t){if(t.biff==5)return I$e(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),a=r.read_shift(4);return[n,i,a]}function I$e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function O$e(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function P$e(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function F$e(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function B$e(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return r.l+=a,[n,i]}var z$e=hu,j$e=hu,U$e=hu;function aM(r,e,t){return r.l+=2,[e$e(r)]}function BH(r){return r.l+=6,[]}var V$e=aM,H$e=BH,G$e=BH,W$e=aM;function Wme(r){return r.l+=2,[Qo(r),r.read_shift(2)&1]}var Y$e=aM,q$e=Wme,X$e=BH,Z$e=aM,K$e=aM,$$e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function J$e(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),a=r.read_shift(2),s=$$e[t>>2&31];return{ixti:e,coltype:t&3,rt:s,idx:n,c:i,C:a}}function Q$e(r){return r.l+=2,[r.read_shift(4)]}function eJe(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function tJe(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function rJe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function nJe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function iJe(r){return r.l+=4,[0,0]}var Rre={1:{n:"PtgExp",f:S$e},2:{n:"PtgTbl",f:U$e},3:{n:"PtgAdd",f:Ko},4:{n:"PtgSub",f:Ko},5:{n:"PtgMul",f:Ko},6:{n:"PtgDiv",f:Ko},7:{n:"PtgPower",f:Ko},8:{n:"PtgConcat",f:Ko},9:{n:"PtgLt",f:Ko},10:{n:"PtgLe",f:Ko},11:{n:"PtgEq",f:Ko},12:{n:"PtgGe",f:Ko},13:{n:"PtgGt",f:Ko},14:{n:"PtgNe",f:Ko},15:{n:"PtgIsect",f:Ko},16:{n:"PtgUnion",f:Ko},17:{n:"PtgRange",f:Ko},18:{n:"PtgUplus",f:Ko},19:{n:"PtgUminus",f:Ko},20:{n:"PtgPercent",f:Ko},21:{n:"PtgParen",f:Ko},22:{n:"PtgMissArg",f:Ko},23:{n:"PtgStr",f:C$e},26:{n:"PtgSheet",f:eJe},27:{n:"PtgEndSheet",f:tJe},28:{n:"PtgErr",f:T$e},29:{n:"PtgBool",f:E$e},30:{n:"PtgInt",f:A$e},31:{n:"PtgNum",f:M$e},32:{n:"PtgArray",f:l$e},33:{n:"PtgFunc",f:y$e},34:{n:"PtgFuncVar",f:b$e},35:{n:"PtgName",f:R$e},36:{n:"PtgRef",f:m$e},37:{n:"PtgArea",f:n$e},38:{n:"PtgMemArea",f:O$e},39:{n:"PtgMemErr",f:z$e},40:{n:"PtgMemNoMem",f:j$e},41:{n:"PtgMemFunc",f:P$e},42:{n:"PtgRefErr",f:F$e},43:{n:"PtgAreaErr",f:a$e},44:{n:"PtgRefN",f:g$e},45:{n:"PtgAreaN",f:o$e},46:{n:"PtgMemAreaN",f:rJe},47:{n:"PtgMemNoMemN",f:nJe},57:{n:"PtgNameX",f:k$e},58:{n:"PtgRef3d",f:x$e},59:{n:"PtgArea3d",f:i$e},60:{n:"PtgRefErr3d",f:B$e},61:{n:"PtgAreaErr3d",f:s$e},255:{}},aJe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},sJe={1:{n:"PtgElfLel",f:Wme},2:{n:"PtgElfRw",f:Z$e},3:{n:"PtgElfCol",f:V$e},6:{n:"PtgElfRwV",f:K$e},7:{n:"PtgElfColV",f:W$e},10:{n:"PtgElfRadical",f:Y$e},11:{n:"PtgElfRadicalS",f:X$e},13:{n:"PtgElfColS",f:H$e},15:{n:"PtgElfColSV",f:G$e},16:{n:"PtgElfRadicalLel",f:q$e},25:{n:"PtgList",f:J$e},29:{n:"PtgSxName",f:Q$e},255:{}},oJe={0:{n:"PtgAttrNoop",f:iJe},1:{n:"PtgAttrSemi",f:d$e},2:{n:"PtgAttrIf",f:f$e},4:{n:"PtgAttrChoose",f:c$e},8:{n:"PtgAttrGoto",f:u$e},16:{n:"PtgAttrSum",f:w$e},32:{n:"PtgAttrBaxcel",f:Lre},33:{n:"PtgAttrBaxcel",f:Lre},64:{n:"PtgAttrSpace",f:p$e},65:{n:"PtgAttrSpaceSemi",f:v$e},128:{n:"PtgAttrIfError",f:h$e},255:{}};function sM(r,e,t,n){if(n.biff<8)return hu(r,e);for(var i=r.l+e,a=[],s=0;s!==t.length;++s)switch(t[s][0]){case"PtgArray":t[s][1]=L$e(r,0,n),a.push(t[s][1]);break;case"PtgMemArea":t[s][2]=D$e(r,t[s][1],n),a.push(t[s][2]);break;case"PtgExp":n&&n.biff==12&&(t[s][1][1]=r.read_shift(4),a.push(t[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[s][0]}return e=i-r.l,e!==0&&a.push(hu(r,e)),a}function oM(r,e,t){for(var n=r.l+e,i,a,s=[];n!=r.l;)e=n-r.l,a=r[r.l],i=Rre[a]||Rre[aJe[a]],(a===24||a===25)&&(i=(a===24?sJe:oJe)[r[r.l+1]]),!i||!i.f?hu(r,e):s.push([i.n,i.f(r,e,t)]);return s}function lJe(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var cJe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function uJe(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function Yme(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function kre(r,e,t){var n=Yme(r,e,t);return n=="#REF"?n:uJe(n,t)}function Qc(r,e,t,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,d=0,h,p="";if(!r[0]||!r[0][0])return"";for(var v=-1,x="",g=0,_=r[0].length;g<_;++g){var w=r[0][g];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),v>=0){switch(r[0][v][1][0]){case 0:x=ho(" ",r[0][v][1][1]);break;case 1:x=ho("\r",r[0][v][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][v][1][0])}c=c+x,v=-1}o.push(c+cJe[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=BA(w[1][1],s,i),o.push(zA(u,a));break;case"PtgRefN":u=t?BA(w[1][1],t,i):w[1][1],o.push(zA(u,a));break;case"PtgRef3d":f=w[1][1],u=BA(w[1][2],s,i),p=kre(n,f,i),o.push(p+"!"+zA(u,a));break;case"PtgFunc":case"PtgFuncVar":var A=w[1][0],M=w[1][1];A||(A=0),A&=127;var C=A==0?[]:o.slice(-A);o.length-=A,M==="User"&&(M=C.shift()),o.push(M+"("+C.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":h=dre(w[1][1],t?{s:t}:s,i),o.push(tF(h,i));break;case"PtgArea":h=dre(w[1][1],s,i),o.push(tF(h,i));break;case"PtgArea3d":f=w[1][1],h=w[1][2],p=kre(n,f,i),o.push(p+"!"+tF(h,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=w[1][2];var N=(n.names||[])[d-1]||(n[0]||[])[d],L=N?N.Name:"SH33TJSNAME"+String(d);L&&L.slice(0,6)=="_xlfn."&&!i.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var D=w[1][1];d=w[1][2];var k;if(i.biff<=5)D<0&&(D=-D),n[D]&&(k=n[D][d]);else{var O="";if(((n[D]||[])[0]||[])[0]==14849||(((n[D]||[])[0]||[])[0]==1025?n[D][d]&&n[D][d].itab>0&&(O=n.SheetNames[n[D][d].itab-1]+"!"):O=n.SheetNames[d-1]+"!"),n[D]&&n[D][d])O+=n[D][d].Name;else if(n[0]&&n[0][d])O+=n[0][d].Name;else{var I=(Yme(n,D,i)||"").split(";;");I[d-1]?O=I[d-1]:O+="SH33TJSERRX"}o.push(O);break}k||(k={Name:"SH33TJSERRY"}),o.push(k.Name);break;case"PtgParen":var j="(",B=")";if(v>=0){switch(x="",r[0][v][1][0]){case 2:j=ho(" ",r[0][v][1][1])+j;break;case 3:j=ho("\r",r[0][v][1][1])+j;break;case 4:B=ho(" ",r[0][v][1][1])+B;break;case 5:B=ho("\r",r[0][v][1][1])+B;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][v][1][0])}v=-1}o.push(j+o.pop()+B);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var K={c:t.c,r:t.r};if(n.sharedf[Kn(u)]){var H=n.sharedf[Kn(u)];o.push(Qc(H,s,K,n,i))}else{var Z=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Qc(c[1],s,K,n,i)),Z=!0;break}Z||o.push(w[1])}break;case"PtgArray":o.push("{"+lJe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&Y.indexOf(r[0][g][0])==-1){w=r[0][v];var J=!0;switch(w[1][0]){case 4:J=!1;case 0:x=ho(" ",w[1][1]);break;case 5:J=!1;case 1:x=ho("\r",w[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((J?x:"")+o.pop()+(J?"":x)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function fJe(r,e,t){var n=r.l+e,i=t.biff==2?1:2,a,s=r.read_shift(i);if(s==65535)return[[],hu(r,e-2)];var o=oM(r,s,t);return e!==s+i&&(a=sM(r,e-s-i,o,t)),r.l=n,[o,a]}function hJe(r,e,t){var n=r.l+e,i=t.biff==2?1:2,a,s=r.read_shift(i);if(s==65535)return[[],hu(r,e-2)];var o=oM(r,s,t);return e!==s+i&&(a=sM(r,e-s-i,o,t)),r.l=n,[o,a]}function dJe(r,e,t,n){var i=r.l+e,a=oM(r,n,t),s;return i!==r.l&&(s=sM(r,i-r.l,a,t)),[a,s]}function pJe(r,e,t){var n=r.l+e,i,a=r.read_shift(2),s=oM(r,a,t);return a==65535?[[],hu(r,e-2)]:(e!==a+2&&(i=sM(r,n-a-2,s,t)),[s,i])}function vJe(r){var e;if(Um(r,r.l+6)!==65535)return[nu(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function iF(r,e,t){var n=r.l+e,i=Nv(r);t.biff==2&&++r.l;var a=vJe(r),s=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var o=hJe(r,n-r.l,t);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function xI(r,e,t){var n=r.read_shift(4),i=oM(r,n,t),a=r.read_shift(4),s=a>0?sM(r,a,i,t):null;return[i,s]}var mJe=xI,yI=xI,gJe=xI,xJe=xI,yJe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},qme={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},bJe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Ire(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function aF(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var HA={},Ww={};function GA(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Xme(r,e,t,n,i,a){try{n.cellNF&&(r.z=Zn[e])}catch(o){if(n.WTF)throw o}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=Zl(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(Zn[e]==null&&Jm(_Ye[e]||"General",e),r.t==="e")r.w=r.w||Eb[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Z3(r.v);else if(r.t==="d"){var s=ef(r.v);(s|0)===s?r.w=s.toString(10):r.w=Z3(s)}else{if(r.v===void 0)return"";r.w=nb(r.v,Ww)}else r.t==="d"?r.w=zh(e,ef(r.v),Ww):r.w=zh(e,r.v,Ww)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&t!=null)try{r.s=a.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=fR(i.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=i.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=fR(i.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=i.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function _Je(r,e){var t=yo(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=Ji(t))}var wJe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,SJe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,TJe=/<(?:\w:)?hyperlink [^>]*>/mg,AJe=/"(\w*:\w*)"/,EJe=/<(?:\w:)?col\b[^>]*[\/]?>/g,MJe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,CJe=/<(?:\w:)?pageMargins[^>]*\/>/g,Zme=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,NJe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,DJe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function LJe(r,e,t,n,i,a,s){if(!r)return r;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=r.match(SJe);f?(c=r.slice(0,f.index),u=r.slice(f.index+f[0].length)):c=u=r;var d=c.match(Zme);d?zH(d[0],o,i,t):(d=c.match(NJe))&&RJe(d[0],d[1]||"",o,i,t);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var p=c.slice(h,h+50).match(AJe);p&&_Je(o,p[1])}var v=c.match(DJe);v&&v[1]&&BJe(v[1],i);var x=[];if(e.cellStyles){var g=c.match(EJe);g&&OJe(x,g)}f&&zJe(f[1],o,e,l,a,s);var _=u.match(MJe);_&&(o["!autofilter"]=PJe(_[0]));var w=[],A=u.match(wJe);if(A)for(h=0;h!=A.length;++h)w[h]=yo(A[h].slice(A[h].indexOf('"')+1));var M=u.match(TJe);M&&kJe(o,M,n);var C=u.match(CJe);if(C&&(o["!margins"]=IJe(On(C[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Ji(l)),e.sheetRows>0&&o["!ref"]){var N=yo(o["!ref"]);e.sheetRows<=+N.e.r&&(N.e.r=e.sheetRows-1,N.e.r>l.e.r&&(N.e.r=l.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>l.e.c&&(N.e.c=l.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Ji(N))}return x.length>0&&(o["!cols"]=x),w.length>0&&(o["!merges"]=w),o}function zH(r,e,t,n){var i=On(r);t.Sheets[n]||(t.Sheets[n]={}),i.codeName&&(t.Sheets[n].CodeName=oa(ds(i.codeName)))}function RJe(r,e,t,n,i){zH(r.slice(0,r.indexOf(">")),t,n,i)}function kJe(r,e,t){for(var n=Array.isArray(r),i=0;i!=e.length;++i){var a=On(ds(e[i]),!0);if(!a.ref)return;var s=((t||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+oa(a.location))):(a.Target="#"+oa(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=yo(a.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Kn({c,r:l});n?(r[l]||(r[l]=[]),r[l][c]||(r[l][c]={t:"z",v:void 0}),r[l][c].l=a):(r[u]||(r[u]={t:"z",v:void 0}),r[u].l=a)}}}function IJe(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function OJe(r,e){for(var t=!1,n=0;n!=e.length;++n){var i=On(e[n],!0);i.hidden&&(i.hidden=Ds(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,FH(i.width)),vS(i);a<=s;)r[a++]=gc(i)}}function PJe(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}var FJe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function BJe(r,e){e.Views||(e.Views=[{}]),(r.match(FJe)||[]).forEach(function(t,n){var i=On(t);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),Ds(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var zJe=(function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=K3("v"),s=K3("f");return function(l,c,u,f,d,h){for(var p=0,v="",x=[],g=[],_=0,w=0,A=0,M="",C,N,L=0,D=0,k,O,I=0,j=0,B=Array.isArray(h.CellXf),K,H=[],Z=[],Y=Array.isArray(c),J=[],oe={},X=!1,F=!!u.sheetStubs,W=l.split(e),Q=0,re=W.length;Q!=re;++Q){v=W[Q].trim();var ae=v.length;if(ae!==0){var ce=0;e:for(p=0;p<ae;++p)switch(v[p]){case">":if(v[p-1]!="/"){++p;break e}if(u&&u.cellStyles){if(N=On(v.slice(ce,p),!0),L=N.r!=null?parseInt(N.r,10):L+1,D=-1,u.sheetRows&&u.sheetRows<L)continue;oe={},X=!1,N.ht&&(X=!0,oe.hpt=parseFloat(N.ht),oe.hpx=eE(oe.hpt)),N.hidden=="1"&&(X=!0,oe.hidden=!0),N.outlineLevel!=null&&(X=!0,oe.level=+N.outlineLevel),X&&(J[L-1]=oe)}break;case"<":ce=p;break}if(ce>=p)break;if(N=On(v.slice(ce,p),!0),L=N.r!=null?parseInt(N.r,10):L+1,D=-1,!(u.sheetRows&&u.sheetRows<L)){f.s.r>L-1&&(f.s.r=L-1),f.e.r<L-1&&(f.e.r=L-1),u&&u.cellStyles&&(oe={},X=!1,N.ht&&(X=!0,oe.hpt=parseFloat(N.ht),oe.hpx=eE(oe.hpt)),N.hidden=="1"&&(X=!0,oe.hidden=!0),N.outlineLevel!=null&&(X=!0,oe.level=+N.outlineLevel),X&&(J[L-1]=oe)),x=v.slice(p).split(r);for(var ye=0;ye!=x.length&&x[ye].trim().charAt(0)=="<";++ye);for(x=x.slice(ye),p=0;p!=x.length;++p)if(v=x[p].trim(),v.length!==0){if(g=v.match(t),_=p,w=0,A=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,g!=null&&g.length===2){for(_=0,M=g[1],w=0;w!=M.length&&!((A=M.charCodeAt(w)-64)<1||A>26);++w)_=26*_+A;--_,D=_}else++D;for(w=0;w!=v.length&&v.charCodeAt(w)!==62;++w);if(++w,N=On(v.slice(0,w),!0),N.r||(N.r=Kn({r:L-1,c:D})),M=v.slice(w),C={t:""},(g=M.match(a))!=null&&g[1]!==""&&(C.v=oa(g[1])),u.cellFormula){if((g=M.match(s))!=null&&g[1]!==""){if(C.f=oa(ds(g[1])).replace(/\r\n/g,`
`),u.xlfn||(C.f=Dre(C.f)),g[0].indexOf('t="array"')>-1)C.F=(M.match(i)||[])[1],C.F.indexOf(":")>-1&&H.push([yo(C.F),C.F]);else if(g[0].indexOf('t="shared"')>-1){O=On(g[0]);var fe=oa(ds(g[1]));u.xlfn||(fe=Dre(fe)),Z[parseInt(O.si,10)]=[O,fe,N.r]}}else(g=M.match(/<f[^>]*\/>/))&&(O=On(g[0]),Z[O.si]&&(C.f=KKe(Z[O.si][1],Z[O.si][2],N.r)));var be=Yu(N.r);for(w=0;w<H.length;++w)be.r>=H[w][0].s.r&&be.r<=H[w][0].e.r&&be.c>=H[w][0].s.c&&be.c<=H[w][0].e.c&&(C.F=H[w][1])}if(N.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(F)C.t="z";else continue;else C.t=N.t||"n";switch(f.s.c>D&&(f.s.c=D),f.e.c<D&&(f.e.c=D),C.t){case"n":if(C.v==""||C.v==null){if(!F)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!F)continue;C.t="z"}else k=HA[parseInt(C.v,10)],C.v=k.t,C.r=k.r,u.cellHTML&&(C.h=k.h);break;case"str":C.t="s",C.v=C.v!=null?ds(C.v):"",u.cellHTML&&(C.h=EH(C.v));break;case"inlineStr":g=M.match(n),C.t="s",g!=null&&(k=PH(g[1]))?(C.v=k.t,u.cellHTML&&(C.h=k.h)):C.v="";break;case"b":C.v=Ds(C.v);break;case"d":u.cellDates?C.v=Zl(C.v,1):(C.v=ef(Zl(C.v,1)),C.t="n");break;case"e":(!u||u.cellText!==!1)&&(C.w=C.v),C.v=mme[C.v];break}if(I=j=0,K=null,B&&N.s!==void 0&&(K=h.CellXf[N.s],K!=null&&(K.numFmtId!=null&&(I=K.numFmtId),u.cellStyles&&K.fillId!=null&&(j=K.fillId))),Xme(C,I,j,u,d,h),u.cellDates&&B&&C.t=="n"&&Sb(Zn[I])&&(C.t="d",C.v=mI(C.v)),N.cm&&u.xlmeta){var Oe=(u.xlmeta.Cell||[])[+N.cm-1];Oe&&Oe.type=="XLDAPR"&&(C.D=!0)}if(Y){var xe=Yu(N.r);c[xe.r]||(c[xe.r]=[]),c[xe.r][xe.c]=C}else c[N.r]=C}}}}J.length>0&&(c["!rows"]=J)}})();function jJe(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var a=r.read_shift(1);return r.l=n,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=i/20),t}var UJe=Ab;function VJe(){}function HJe(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=fqe(r),t}function GJe(r){var e=Wd(r);return[e]}function WJe(r){var e=Tb(r);return[e]}function YJe(r){var e=Wd(r),t=r.read_shift(1);return[e,t,"b"]}function qJe(r){var e=Tb(r),t=r.read_shift(1);return[e,t,"b"]}function XJe(r){var e=Wd(r),t=r.read_shift(1);return[e,t,"e"]}function ZJe(r){var e=Tb(r),t=r.read_shift(1);return[e,t,"e"]}function KJe(r){var e=Wd(r),t=r.read_shift(4);return[e,t,"s"]}function $Je(r){var e=Tb(r),t=r.read_shift(4);return[e,t,"s"]}function JJe(r){var e=Wd(r),t=nu(r);return[e,t,"n"]}function Kme(r){var e=Tb(r),t=nu(r);return[e,t,"n"]}function QJe(r){var e=Wd(r),t=kH(r);return[e,t,"n"]}function eQe(r){var e=Tb(r),t=kH(r);return[e,t,"n"]}function tQe(r){var e=Wd(r),t=LH(r);return[e,t,"is"]}function rQe(r){var e=Wd(r),t=cu(r);return[e,t,"str"]}function nQe(r){var e=Tb(r),t=cu(r);return[e,t,"str"]}function iQe(r,e,t){var n=r.l+e,i=Wd(r);i.r=t["!row"];var a=r.read_shift(1),s=[i,a,"b"];if(t.cellFormula){r.l+=2;var o=yI(r,n-r.l,t);s[3]=Qc(o,null,i,t.supbooks,t)}else r.l=n;return s}function aQe(r,e,t){var n=r.l+e,i=Wd(r);i.r=t["!row"];var a=r.read_shift(1),s=[i,a,"e"];if(t.cellFormula){r.l+=2;var o=yI(r,n-r.l,t);s[3]=Qc(o,null,i,t.supbooks,t)}else r.l=n;return s}function sQe(r,e,t){var n=r.l+e,i=Wd(r);i.r=t["!row"];var a=nu(r),s=[i,a,"n"];if(t.cellFormula){r.l+=2;var o=yI(r,n-r.l,t);s[3]=Qc(o,null,i,t.supbooks,t)}else r.l=n;return s}function oQe(r,e,t){var n=r.l+e,i=Wd(r);i.r=t["!row"];var a=cu(r),s=[i,a,"str"];if(t.cellFormula){r.l+=2;var o=yI(r,n-r.l,t);s[3]=Qc(o,null,i,t.supbooks,t)}else r.l=n;return s}var lQe=Ab;function cQe(r,e){var t=r.l+e,n=Ab(r),i=RH(r),a=cu(r),s=cu(r),o=cu(r);r.l=t;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function uQe(){}function fQe(r,e,t){var n=r.l+e,i=dme(r),a=r.read_shift(1),s=[i];if(s[2]=a,t.cellFormula){var o=mJe(r,n-r.l,t);s[1]=o}else r.l=n;return s}function hQe(r,e,t){var n=r.l+e,i=Ab(r),a=[i];if(t.cellFormula){var s=xJe(r,n-r.l,t);a[1]=s,r.l=n}else r.l=n;return a}var dQe=["left","right","top","bottom","header","footer"];function pQe(r){var e={};return dQe.forEach(function(t){e[t]=nu(r)}),e}function vQe(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function mQe(){}function gQe(){}function xQe(r,e,t,n,i,a,s){if(!r)return r;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,p,v,x,g,_,w,A,M,C=[];o.biff=12,o["!row"]=0;var N=0,L=!1,D=[],k={},O=o.supbooks||i.supbooks||[[]];if(O.sharedf=k,O.arrayf=D,O.SheetNames=i.SheetNames||i.Sheets.map(function(Y){return Y.name}),!o.supbooks&&(o.supbooks=O,i.Names))for(var I=0;I<i.Names.length;++I)O[0][I+1]=i.Names[I];var j=[],B=[],K=!1;pR[16]={n:"BrtShortReal",f:Kme};var H;if(_g(r,function(J,oe,X){if(!d)switch(X){case 148:c=J;break;case 0:h=J,o.sheetRows&&o.sheetRows<=h.r&&(d=!0),A=xc(x=h.r),o["!row"]=h.r,(J.hidden||J.hpt||J.level!=null)&&(J.hpt&&(J.hpx=eE(J.hpt)),B[J.r]=J);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:J[2]},J[2]){case"n":p.v=J[1];break;case"s":w=HA[J[1]],p.v=w.t,p.r=w.r;break;case"b":p.v=!!J[1];break;case"e":p.v=J[1],o.cellText!==!1&&(p.w=Eb[p.v]);break;case"str":p.t="s",p.v=J[1];break;case"is":p.t="s",p.v=J[1].t;break}if((v=s.CellXf[J[0].iStyleRef])&&Xme(p,v.numFmtId,null,o,a,s),g=J[0].c==-1?g+1:J[0].c,o.dense?(l[x]||(l[x]=[]),l[x][g]=p):l[_l(g)+A]=p,o.cellFormula){for(L=!1,N=0;N<D.length;++N){var F=D[N];h.r>=F[0].s.r&&h.r<=F[0].e.r&&g>=F[0].s.c&&g<=F[0].e.c&&(p.F=Ji(F[0]),L=!0)}!L&&J.length>3&&(p.f=J[3])}if(u.s.r>h.r&&(u.s.r=h.r),u.s.c>g&&(u.s.c=g),u.e.r<h.r&&(u.e.r=h.r),u.e.c<g&&(u.e.c=g),o.cellDates&&v&&p.t=="n"&&Sb(Zn[v.numFmtId])){var W=Ux(p.v);W&&(p.t="d",p.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}H&&(H.type=="XLDAPR"&&(p.D=!0),H=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;p={t:"z",v:void 0},g=J[0].c==-1?g+1:J[0].c,o.dense?(l[x]||(l[x]=[]),l[x][g]=p):l[_l(g)+A]=p,u.s.r>h.r&&(u.s.r=h.r),u.s.c>g&&(u.s.c=g),u.e.r<h.r&&(u.e.r=h.r),u.e.c<g&&(u.e.c=g),H&&(H.type=="XLDAPR"&&(p.D=!0),H=void 0);break;case 176:C.push(J);break;case 49:H=((o.xlmeta||{}).Cell||[])[J-1];break;case 494:var Q=n["!id"][J.relId];for(Q?(J.Target=Q.Target,J.loc&&(J.Target+="#"+J.loc),J.Rel=Q):J.relId==""&&(J.Target="#"+J.loc),x=J.rfx.s.r;x<=J.rfx.e.r;++x)for(g=J.rfx.s.c;g<=J.rfx.e.c;++g)o.dense?(l[x]||(l[x]=[]),l[x][g]||(l[x][g]={t:"z",v:void 0}),l[x][g].l=J):(_=Kn({c:g,r:x}),l[_]||(l[_]={t:"z",v:void 0}),l[_].l=J);break;case 426:if(!o.cellFormula)break;D.push(J),M=o.dense?l[x][g]:l[_l(g)+A],M.f=Qc(J[1],u,{r:h.r,c:g},O,o),M.F=Ji(J[0]);break;case 427:if(!o.cellFormula)break;k[Kn(J[0].s)]=J[1],M=o.dense?l[x][g]:l[_l(g)+A],M.f=Qc(J[1],u,{r:h.r,c:g},O,o);break;case 60:if(!o.cellStyles)break;for(;J.e>=J.s;)j[J.e--]={width:J.w/256,hidden:!!(J.flags&1),level:J.level},K||(K=!0,FH(J.w/256)),vS(j[J.e+1]);break;case 161:l["!autofilter"]={ref:Ji(J)};break;case 476:l["!margins"]=J;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),J.name&&(i.Sheets[t].CodeName=J.name),(J.above||J.left)&&(l["!outline"]={above:J.above,left:J.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),J.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!oe.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+X.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Ji(c||u)),o.sheetRows&&l["!ref"]){var Z=yo(l["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>u.e.r&&(Z.e.r=u.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>u.e.c&&(Z.e.c=u.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ji(Z))}return C.length>0&&(l["!merges"]=C),j.length>0&&(l["!cols"]=j),B.length>0&&(l["!rows"]=B),l}function yQe(r){var e=[],t=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=t?+s[2]:s[2])});var i=oa((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,i,n]}function bQe(r,e,t,n,i,a){var s=a||{"!type":"chart"};if(!r)return a;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=yQe(f);u.s.r=u.s.c=0,u.e.c=o,c=_l(o),d[0].forEach(function(h,p){s[c+xc(p)]={t:"n",v:h,z:d[1]},l=p}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=Ji(u)),s}function _Qe(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=r.match(Zme);return o&&zH(o[0],a,i,t),(s=r.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function wQe(r,e){r.l+=10;var t=cu(r);return{name:t}}function SQe(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return _g(r,function(l,c,u){switch(u){case 550:a["!rel"]=l;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),l.name&&(i.Sheets[t].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var $me=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],TQe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],AQe=[],EQe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Ore(r,e){for(var t=0;t!=r.length;++t)for(var n=r[t],i=0;i!=e.length;++i){var a=e[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=Ds(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function Pre(r,e){for(var t=0;t!=e.length;++t){var n=e[t];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=Ds(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function Jme(r){Pre(r.WBProps,$me),Pre(r.CalcPr,EQe),Ore(r.WBView,TQe),Ore(r.Sheets,AQe),Ww.date1904=Ds(r.WBProps.date1904)}var MQe="][*?/\\".split("");function CQe(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return MQe.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var NQe=/<\w+:workbook/;function DQe(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(r.replace(du,function(l,c){var u=On(l);switch(Cv(u[0])){case"<?xml":break;case"<workbook":l.match(NQe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),t.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],t.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":$me.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":t.WBProps[f[0]]=Ds(u[f[0]]);break;case"int":t.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:t.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(t.WBProps.CodeName=ds(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],t.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=oa(ds(u.name)),delete u[0],t.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=ds(u.name),u.comment&&(a.Comment=u.comment),u.localSheetId&&(a.Sheet=+u.localSheetId),Ds(u.hidden||"0")&&(a.Hidden=!0),s=c+l.length;break;case"</definedName>":a.Ref=oa(ds(r.slice(s,c))),t.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete u[0],t.CalcPr=u;break;case"<calcPr/>":delete u[0],t.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),XYe.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return Jme(t),t}function LQe(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=mj(r),t.name=cu(r),t}function RQe(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?cu(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function kQe(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function IQe(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),a=hqe(r),s=gJe(r,0,t),o=RH(r);r.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function OQe(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],pR[16]={n:"BrtFRTArchID$",f:kQe},_g(r,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),t.Sheets.push(l);break;case 153:t.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Qc(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(u),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),Jme(t),t.Names=a,t.supbooks=s,t}function PQe(r,e,t){return e.slice(-4)===".bin"?OQe(r,t):DQe(r,t)}function FQe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?xQe(r,n,t,i,a,s,o):LJe(r,n,t,i,a,s,o)}function BQe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?SQe(r,n,t,i,a):_Qe(r,n,t,i,a)}function zQe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?qKe():XKe()}function jQe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?WKe():YKe()}function UQe(r,e,t,n){return e.slice(-4)===".bin"?lKe(r,t,n):rKe(r,t,n)}function VQe(r,e,t){return Bme(r,t)}function HQe(r,e,t){return e.slice(-4)===".bin"?TZe(r,t):wZe(r,t)}function GQe(r,e,t){return e.slice(-4)===".bin"?VKe(r,t):FKe(r,t)}function WQe(r,e,t){return e.slice(-4)===".bin"?IKe(r):RKe(r)}function YQe(r,e,t,n){return t.slice(-4)===".bin"?OKe(r,e,t,n):void 0}function qQe(r,e,t){return e.slice(-4)===".bin"?DKe(r,e,t):LKe(r,e,t)}var Qme=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,ege=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function wp(r,e){var t=r.split(/\s+/),n=[];if(n[0]=t[0],t.length===1)return n;var i=r.match(Qme),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(ege),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function XQe(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var n=r.match(Qme),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(ege),(a=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),t[s]=i[2].slice(1,i[2].length-1));return t}var WA;function ZQe(r,e){var t=WA[r]||oa(r);return t==="General"?nb(e):zh(t,e)}function KQe(r,e,t,n){var i=n;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Ds(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Zl(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[oa(e)]=i}function $Qe(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Eb[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Z3(r.v):r.w=nb(r.v):r.w=ZQe(e||"General",r.v)}catch(a){if(t.WTF)throw a}try{var n=WA[e]||e||"General";if(t.cellNF&&(r.z=n),t.cellDates&&r.t=="n"&&Sb(n)){var i=Ux(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(t.WTF)throw a}}}function JQe(r,e,t){if(t.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=KZe[n.Pattern]||n.Pattern)}r[e.ID]=e}function QQe(r,e,t,n,i,a,s,o,l,c){var u="General",f=n.StyleID,d={};c=c||{};var h=[],p=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);a[f]!==void 0&&(a[f].nf&&(u=a[f].nf),a[f].Interior&&h.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(t.Type){case"Boolean":n.t="b",n.v=Ds(r);break;case"String":n.t="s",n.r=ire(oa(r)),n.v=r.indexOf("<")>-1?oa(e||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(Zl(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=oa(r):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=mme[r],c.cellText!==!1&&(n.w=r);break;default:r==""&&e==""?n.t="z":(n.t="s",n.v=ire(e||r));break}if($Qe(n,u,c),c.cellFormula!==!1)if(n.Formula){var v=oa(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=Gw(v,i),delete n.Formula,n.ArrayRange=="RC"?n.F=Gw("RC:RC",i):n.ArrayRange&&(n.F=Gw(n.ArrayRange,i),l.push([yo(n.F),n.F]))}else for(p=0;p<l.length;++p)i.r>=l[p][0].s.r&&i.r<=l[p][0].e.r&&i.c>=l[p][0].s.c&&i.c<=l[p][0].e.c&&(n.F=l[p][1]);c.cellStyles&&(h.forEach(function(x){!d.patternType&&x.patternType&&(d.patternType=x.patternType)}),n.s=d),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function eet(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function sF(r,e){var t=e||{};Uve();var n=cA(MH(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(n=ds(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=gc(t);return s.type="string",J3.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(de){i.indexOf("<"+de)>=0&&(a=!0)}),a)return uet(n,t);WA={"General Number":"General","General Date":Zn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Zn[15],"Short Date":Zn[14],"Long Time":Zn[19],"Medium Time":Zn[18],"Short Time":Zn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Zn[2],Standard:Zn[4],Percent:Zn[10],Scientific:Zn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],d=t.dense?[]:{},h="",p={},v={},x=wp('<Data ss:Type="String">'),g=0,_=0,w=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},M={},C={},N="",L=0,D=[],k={},O={},I=0,j=[],B=[],K={},H=[],Z,Y=!1,J=[],oe=[],X={},F=0,W=0,Q={Sheets:[],WBProps:{date1904:!1}},re={};$3.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";o=$3.exec(n);)switch(o[3]=(ae=o[3]).toLowerCase()){case"data":if(ae=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?QQe(n.slice(g,o.index),N,x,l[l.length-1][0]=="comment"?K:p,{c:_,r:w},M,H[_],v,J,t):(N="",x=wp(o[0]),g=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(B.length>0&&(p.c=B),(!t.sheetRows||t.sheetRows>w)&&p.v!==void 0&&(t.dense?(d[w]||(d[w]=[]),d[w][_]=p):d[_l(_)+xc(w)]=p),p.HRef&&(p.l={Target:oa(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(F=_+(parseInt(p.MergeAcross,10)|0),W=w+(parseInt(p.MergeDown,10)|0),D.push({s:{c:_,r:w},e:{c:F,r:W}})),!t.sheetStubs)p.MergeAcross?_=F+1:++_;else if(p.MergeAcross||p.MergeDown){for(var ce=_;ce<=F;++ce)for(var ye=w;ye<=W;++ye)(ce>_||ye>w)&&(t.dense?(d[ye]||(d[ye]=[]),d[ye][ce]={t:"z"}):d[_l(ce)+xc(ye)]={t:"z"});_=F+1}else++_;else p=XQe(o[0]),p.Index&&(_=+p.Index-1),_<A.s.c&&(A.s.c=_),_>A.e.c&&(A.e.c=_),o[0].slice(-2)==="/>"&&++_,B=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<A.s.r&&(A.s.r=w),w>A.e.r&&(A.e.r=w),o[0].slice(-2)==="/>"&&(v=wp(o[0]),v.Index&&(w=+v.Index-1)),_=0,++w):(v=wp(o[0]),v.Index&&(w=+v.Index-1),X={},(v.AutoFitHeight=="0"||v.Height)&&(X.hpx=parseInt(v.Height,10),X.hpt=Fme(X.hpx),oe[w]=X),v.Hidden=="1"&&(X.hidden=!0,oe[w]=X));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(h),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(d["!ref"]=Ji(A),t.sheetRows&&t.sheetRows<=A.e.r&&(d["!fullref"]=d["!ref"],A.e.r=t.sheetRows-1,d["!ref"]=Ji(A))),D.length&&(d["!merges"]=D),H.length>0&&(d["!cols"]=H),oe.length>0&&(d["!rows"]=oe),u[h]=d}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=_=0,l.push([o[3],!1]),c=wp(o[0]),h=oa(c.Name),d=t.dense?[]:{},D=[],J=[],oe=[],re={name:h,Hidden:0},Q.Sheets.push(re);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),H=[],Y=!1}break;case"style":o[1]==="/"?JQe(M,C,t):C=wp(o[0]);break;case"numberformat":C.nf=oa(wp(o[0]).Format||"General"),WA[C.nf]&&(C.nf=WA[C.nf]);for(var fe=0;fe!=392&&Zn[fe]!=C.nf;++fe);if(fe==392){for(fe=57;fe!=392;++fe)if(Zn[fe]==null){Jm(C.nf,fe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Z=wp(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!Y&&Z.wpx>10){Y=!0,Gu=Ome;for(var be=0;be<H.length;++be)H[be]&&vS(H[be])}Y&&vS(Z),H[Z.Index-1||H.length]=Z;for(var Oe=0;Oe<+Z.Span;++Oe)H[H.length]=gc(Z);break;case"namedrange":if(o[1]==="/")break;Q.Names||(Q.Names=[]);var xe=On(o[0]),Qe={Name:xe.Name,Ref:Gw(xe.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(Qe.Sheet=Q.Sheets.length-1),Q.Names.push(Qe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?N+=n.slice(L,o.index):L=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;C.Interior=wp(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Fqe(k,ae,n.slice(I,o.index)):I=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));eet(K),B.push(K)}else l.push([o[3],!1]),c=wp(o[0]),K={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ne=wp(o[0]);d["!autofilter"]={ref:Gw(ne.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return Vre(n,t);var te=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:te=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:te=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:te=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:te=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(I,o.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else I=o.index+o[0].length;break;case"header":d["!margins"]||GA(d["!margins"]={},"xlml"),isNaN(+On(o[0]).Margin)||(d["!margins"].header=+On(o[0]).Margin);break;case"footer":d["!margins"]||GA(d["!margins"]={},"xlml"),isNaN(+On(o[0]).Margin)||(d["!margins"].footer=+On(o[0]).Margin);break;case"pagemargins":var Me=On(o[0]);d["!margins"]||GA(d["!margins"]={},"xlml"),isNaN(+Me.Top)||(d["!margins"].top=+Me.Top),isNaN(+Me.Left)||(d["!margins"].left=+Me.Left),isNaN(+Me.Right)||(d["!margins"].right=+Me.Right),isNaN(+Me.Bottom)||(d["!margins"].bottom=+Me.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:te=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:te=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:te=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:te=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:te=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:te=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:te=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:te=!1}break;case"smarttags":break;default:te=!1;break}if(te||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?KQe(O,ae,j,n.slice(I,o.index)):(j=o,I=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ge={};return!t.bookSheets&&!t.bookProps&&(ge.Sheets=u),ge.SheetNames=f,ge.Workbook=Q,ge.SSF=gc(Zn),ge.Props=k,ge.Custprops=O,ge}function bj(r,e){switch(VH(e=e||{}),e.type||"base64"){case"base64":return sF(Bh(r),e);case"binary":case"buffer":case"file":return sF(r,e);case"array":return sF(wb(r),e)}}function tet(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=vqe(t),t.length-t.l<=4)return e;var n=t.read_shift(4);if(n==0||n>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(n=t.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=mqe(t),n=t.read_shift(4),n==0||n>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var ret=[60,1084,2066,2165,2175];function net(r,e,t,n,i){var a=n,s=[],o=t.slice(t.l,t.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),t.l+=a;for(var l=Um(t,t.l),c=_j[l],u=0;c!=null&&ret.indexOf(l)>-1;)a=Um(t,t.l+2),u=t.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=t.slice(u,t.l+4+a),s.push(o),t.l+=4+a,c=_j[l=Um(t,t.l)];var f=Nx(s);vc(f,0);var d=0;f.lens=[];for(var h=0;h<s.length;++h)f.lens.push(d),d+=s[h].length;if(f.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+f.length+" < "+n;return e.f(f,f.length,i)}function B0(r,e,t){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=Zn[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Eb[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Z3(r.v):r.w=nb(r.v):r.w=zh(n,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&r.t=="n"&&Sb(Zn[n]||String(n))){var i=Ux(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function WN(r,e,t){return{v:r,ixfe:e,t}}function iet(r,e){var t={opts:{}},n={},i=e.dense?[]:{},a={},s={},o=null,l=[],c="",u={},f,d="",h,p,v,x,g={},_=[],w,A,M=[],C=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},D=function(bt){return bt<8?F2[bt]:bt<64&&C[bt-8]||F2[bt]},k=function(bt,Nt,ir){var ft=Nt.XF.data;if(!(!ft||!ft.patternType||!ir||!ir.cellStyles)){Nt.s={},Nt.s.patternType=ft.patternType;var Dt;(Dt=Q3(D(ft.icvFore)))&&(Nt.s.fgColor={rgb:Dt}),(Dt=Q3(D(ft.icvBack)))&&(Nt.s.bgColor={rgb:Dt})}},O=function(bt,Nt,ir){if(!(X>1)&&!(ir.sheetRows&&bt.r>=ir.sheetRows)){if(ir.cellStyles&&Nt.XF&&Nt.XF.data&&k(bt,Nt,ir),delete Nt.ixfe,delete Nt.XF,f=bt,d=Kn(bt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),bt.r<s.s.r&&(s.s.r=bt.r),bt.c<s.s.c&&(s.s.c=bt.c),bt.r+1>s.e.r&&(s.e.r=bt.r+1),bt.c+1>s.e.c&&(s.e.c=bt.c+1),ir.cellFormula&&Nt.f){for(var ft=0;ft<_.length;++ft)if(!(_[ft][0].s.c>bt.c||_[ft][0].s.r>bt.r)&&!(_[ft][0].e.c<bt.c||_[ft][0].e.r<bt.r)){Nt.F=Ji(_[ft][0]),(_[ft][0].s.c!=bt.c||_[ft][0].s.r!=bt.r)&&delete Nt.f,Nt.f&&(Nt.f=""+Qc(_[ft][1],s,bt,J,I));break}}ir.dense?(i[bt.r]||(i[bt.r]=[]),i[bt.r][bt.c]=Nt):i[d]=Nt}},I={enc:!1,sbcch:0,snames:[],sharedf:g,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(I.password=e.password);var j,B=[],K=[],H=[],Z=[],Y=!1,J=[];J.SheetNames=I.snames,J.sharedf=I.sharedf,J.arrayf=I.arrayf,J.names=[],J.XTI=[];var oe=0,X=0,F=0,W=[],Q=[],re;I.codepage=1200,Bp(1200);for(var ae=!1;r.l<r.length-1;){var ce=r.l,ye=r.read_shift(2);if(ye===0&&oe===10)break;var fe=r.l===r.length?0:r.read_shift(2),be=_j[ye];if(be&&be.f){if(e.bookSheets&&oe===133&&ye!==133)break;if(oe=ye,be.r===2||be.r==12){var Oe=r.read_shift(2);if(fe-=2,!I.enc&&Oe!==ye&&((Oe&255)<<8|Oe>>8)!==ye)throw new Error("rt mismatch: "+Oe+"!="+ye);be.r==12&&(r.l+=10,fe-=10)}var xe={};if(ye===10?xe=be.f(r,fe,I):xe=net(ye,be,r,fe,I),X==0&&[9,521,1033,2057].indexOf(oe)===-1)continue;switch(ye){case 34:t.opts.Date1904=N.WBProps.date1904=xe;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(I.enc||(r.l=0),I.enc=xe,!e.password)throw new Error("File is password-protected");if(xe.valid==null)throw new Error("Encryption scheme unsupported");if(!xe.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=xe;break;case 66:var Qe=Number(xe);switch(Qe){case 21010:Qe=1200;break;case 32768:Qe=1e4;break;case 32769:Qe=1252;break}Bp(I.codepage=Qe),ae=!0;break;case 317:I.rrtabid=xe;break;case 25:I.winlocked=xe;break;case 439:t.opts.RefreshAll=xe;break;case 12:t.opts.CalcCount=xe;break;case 16:t.opts.CalcDelta=xe;break;case 17:t.opts.CalcIter=xe;break;case 13:t.opts.CalcMode=xe;break;case 14:t.opts.CalcPrecision=xe;break;case 95:t.opts.CalcSaveRecalc=xe;break;case 15:I.CalcRefMode=xe;break;case 2211:t.opts.FullCalc=xe;break;case 129:xe.fDialog&&(i["!type"]="dialog"),xe.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),xe.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:M.push(xe);break;case 430:J.push([xe]),J[J.length-1].XTI=[];break;case 35:case 547:J[J.length-1].push(xe);break;case 24:case 536:re={Name:xe.Name,Ref:Qc(xe.rgce,s,null,J,I)},xe.itab>0&&(re.Sheet=xe.itab-1),J.names.push(re),J[0]||(J[0]=[],J[0].XTI=[]),J[J.length-1].push(xe),xe.Name=="_xlnm._FilterDatabase"&&xe.itab>0&&xe.rgce&&xe.rgce[0]&&xe.rgce[0][0]&&xe.rgce[0][0][0]=="PtgArea3d"&&(Q[xe.itab-1]={ref:Ji(xe.rgce[0][0][1][2])});break;case 22:I.ExternCount=xe;break;case 23:J.length==0&&(J[0]=[],J[0].XTI=[]),J[J.length-1].XTI=J[J.length-1].XTI.concat(xe),J.XTI=J.XTI.concat(xe);break;case 2196:if(I.biff<8)break;re!=null&&(re.Comment=xe[1]);break;case 18:i["!protect"]=xe;break;case 19:xe!==0&&I.WTF&&console.error("Password verifier: "+xe);break;case 133:a[xe.pos]=xe,I.snames.push(xe.name);break;case 10:{if(--X)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=Ji(s),e.sheetRows&&e.sheetRows<=s.e.r){var ne=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ji(s),s.e.r=ne}s.e.r++,s.e.c++}B.length>0&&(i["!merges"]=B),K.length>0&&(i["!objects"]=K),H.length>0&&(i["!cols"]=H),Z.length>0&&(i["!rows"]=Z),N.Sheets.push(L)}c===""?u=i:n[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[ye]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[xe.BIFFVer]||8),I.biffguess=xe.BIFFVer==0,xe.BIFFVer==0&&xe.dt==4096&&(I.biff=5,ae=!0,Bp(I.codepage=28591)),I.biff==8&&xe.BIFFVer==0&&xe.dt==16&&(I.biff=2),X++)break;if(i=e.dense?[]:{},I.biff<8&&!ae&&(ae=!0,Bp(I.codepage=e.codepage||1252)),I.biff<5||xe.BIFFVer==0&&xe.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var te={pos:r.l-fe,name:c};a[te.pos]=te,I.snames.push(c)}else c=(a[ce]||{name:""}).name;xe.dt==32&&(i["!type"]="chart"),xe.dt==64&&(i["!type"]="macro"),B=[],K=[],I.arrayf=_=[],H=[],Z=[],Y=!1,L={Hidden:(a[ce]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[xe.r]||[])[xe.c]:i[Kn({c:xe.c,r:xe.r})])&&++xe.c,w={ixfe:xe.ixfe,XF:M[xe.ixfe]||{},v:xe.val,t:"n"},F>0&&(w.z=W[w.ixfe>>8&63]),B0(w,e,t.opts.Date1904),O({c:xe.c,r:xe.r},w,e);break;case 5:case 517:w={ixfe:xe.ixfe,XF:M[xe.ixfe],v:xe.val,t:xe.t},F>0&&(w.z=W[w.ixfe>>8&63]),B0(w,e,t.opts.Date1904),O({c:xe.c,r:xe.r},w,e);break;case 638:w={ixfe:xe.ixfe,XF:M[xe.ixfe],v:xe.rknum,t:"n"},F>0&&(w.z=W[w.ixfe>>8&63]),B0(w,e,t.opts.Date1904),O({c:xe.c,r:xe.r},w,e);break;case 189:for(var Me=xe.c;Me<=xe.C;++Me){var ge=xe.rkrec[Me-xe.c][0];w={ixfe:ge,XF:M[ge],v:xe.rkrec[Me-xe.c][1],t:"n"},F>0&&(w.z=W[w.ixfe>>8&63]),B0(w,e,t.opts.Date1904),O({c:Me,r:xe.r},w,e)}break;case 6:case 518:case 1030:{if(xe.val=="String"){o=xe;break}if(w=WN(xe.val,xe.cell.ixfe,xe.tt),w.XF=M[w.ixfe],e.cellFormula){var de=xe.formula;if(de&&de[0]&&de[0][0]&&de[0][0][0]=="PtgExp"){var _e=de[0][0][1][0],je=de[0][0][1][1],Be=Kn({r:_e,c:je});g[Be]?w.f=""+Qc(xe.formula,s,xe.cell,J,I):w.F=((e.dense?(i[_e]||[])[je]:i[Be])||{}).F}else w.f=""+Qc(xe.formula,s,xe.cell,J,I)}F>0&&(w.z=W[w.ixfe>>8&63]),B0(w,e,t.opts.Date1904),O(xe.cell,w,e),o=xe}break;case 7:case 519:if(o)o.val=xe,w=WN(xe,o.cell.ixfe,"s"),w.XF=M[w.ixfe],e.cellFormula&&(w.f=""+Qc(o.formula,s,o.cell,J,I)),F>0&&(w.z=W[w.ixfe>>8&63]),B0(w,e,t.opts.Date1904),O(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(xe);var Fe=Kn(xe[0].s);if(h=e.dense?(i[xe[0].s.r]||[])[xe[0].s.c]:i[Fe],e.cellFormula&&h){if(!o||!Fe||!h)break;h.f=""+Qc(xe[1],s,xe[0],J,I),h.F=Ji(xe[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!o)break;g[Kn(o.cell)]=xe[0],h=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Kn(o.cell)],(h||{}).f=""+Qc(xe[0],s,f,J,I)}}break;case 253:w=WN(l[xe.isst].t,xe.ixfe,"s"),l[xe.isst].h&&(w.h=l[xe.isst].h),w.XF=M[w.ixfe],F>0&&(w.z=W[w.ixfe>>8&63]),B0(w,e,t.opts.Date1904),O({c:xe.c,r:xe.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:xe.ixfe,XF:M[xe.ixfe],t:"z"},F>0&&(w.z=W[w.ixfe>>8&63]),B0(w,e,t.opts.Date1904),O({c:xe.c,r:xe.r},w,e));break;case 190:if(e.sheetStubs)for(var we=xe.c;we<=xe.C;++we){var pe=xe.ixfe[we-xe.c];w={ixfe:pe,XF:M[pe],t:"z"},F>0&&(w.z=W[w.ixfe>>8&63]),B0(w,e,t.opts.Date1904),O({c:we,r:xe.r},w,e)}break;case 214:case 516:case 4:w=WN(xe.val,xe.ixfe,"s"),w.XF=M[w.ixfe],F>0&&(w.z=W[w.ixfe>>8&63]),B0(w,e,t.opts.Date1904),O({c:xe.c,r:xe.r},w,e);break;case 0:case 512:X===1&&(s=xe);break;case 252:l=xe;break;case 1054:if(I.biff==4){W[F++]=xe[1];for(var ze=0;ze<F+163&&Zn[ze]!=xe[1];++ze);ze>=163&&Jm(xe[1],F+163)}else Jm(xe[1],xe[0]);break;case 30:{W[F++]=xe;for(var $e=0;$e<F+163&&Zn[$e]!=xe;++$e);$e>=163&&Jm(xe,F+163)}break;case 229:B=B.concat(xe);break;case 93:K[xe.cmo[0]]=I.lastobj=xe;break;case 438:I.lastobj.TxO=xe;break;case 127:I.lastobj.ImData=xe;break;case 440:for(x=xe[0].s.r;x<=xe[0].e.r;++x)for(v=xe[0].s.c;v<=xe[0].e.c;++v)h=e.dense?(i[x]||[])[v]:i[Kn({c:v,r:x})],h&&(h.l=xe[1]);break;case 2048:for(x=xe[0].s.r;x<=xe[0].e.r;++x)for(v=xe[0].s.c;v<=xe[0].e.c;++v)h=e.dense?(i[x]||[])[v]:i[Kn({c:v,r:x})],h&&h.l&&(h.l.Tooltip=xe[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;h=e.dense?(i[xe[0].r]||[])[xe[0].c]:i[Kn(xe[0])];var ht=K[xe[2]];h||(e.dense?(i[xe[0].r]||(i[xe[0].r]=[]),h=i[xe[0].r][xe[0].c]={t:"z"}):h=i[Kn(xe[0])]={t:"z"},s.e.r=Math.max(s.e.r,xe[0].r),s.s.r=Math.min(s.s.r,xe[0].r),s.e.c=Math.max(s.e.c,xe[0].c),s.s.c=Math.min(s.s.c,xe[0].c)),h.c||(h.c=[]),p={a:xe[1],t:ht.TxO.t},h.c.push(p)}break;case 2173:EKe(M[xe.ixfe],xe.ext);break;case 125:{if(!I.cellStyles)break;for(;xe.e>=xe.s;)H[xe.e--]={width:xe.w/256,level:xe.level||0,hidden:!!(xe.flags&1)},Y||(Y=!0,FH(xe.w/256)),vS(H[xe.e+1])}break;case 520:{var Je={};xe.level!=null&&(Z[xe.r]=Je,Je.level=xe.level),xe.hidden&&(Z[xe.r]=Je,Je.hidden=!0),xe.hpt&&(Z[xe.r]=Je,Je.hpt=xe.hpt,Je.hpx=eE(xe.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||GA(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ye]]=xe;break;case 161:i["!margins"]||GA(i["!margins"]={}),i["!margins"].header=xe.header,i["!margins"].footer=xe.footer;break;case 574:xe.RTL&&(N.Views[0].RTL=!0);break;case 146:C=xe;break;case 2198:j=xe;break;case 140:A=xe;break;case 442:c?L.CodeName=xe||L.name:N.WBProps.CodeName=xe||"ThisWorkbook";break}}else be||console.error("Missing Info for XLS Record 0x"+ye.toString(16)),r.l+=fe}return t.SheetNames=wv(a).sort(function(Ot,bt){return Number(Ot)-Number(bt)}).map(function(Ot){return a[Ot].name}),e.bookSheets||(t.Sheets=n),!t.SheetNames.length&&u["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=u)):t.Preamble=u,t.Sheets&&Q.forEach(function(Ot,bt){t.Sheets[t.SheetNames[bt]]["!autofilter"]=Ot}),t.Strings=l,t.SSF=gc(Zn),I.enc&&(t.Encryption=I.enc),j&&(t.Themes=j),t.Metadata={},A!==void 0&&(t.Metadata.Country=A),J.names.length>0&&(N.Names=J.names),t.Workbook=N,t}var Fre={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function aet(r,e,t){var n=$i.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=bre(n,wqe,Fre.DSI);for(var a in i)e[a]=i[a]}catch(c){if(t.WTF)throw c}var s=$i.find(r,"/!SummaryInformation");if(s&&s.size>0)try{var o=bre(s,Sqe,Fre.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(t.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(xme(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function tge(r,e){e||(e={}),VH(e),Nve(),e.codepage&&bH(e.codepage);var t,n;if(r.FullPaths){if($i.find(r,"/encryption"))throw new Error("File is password-protected");t=$i.find(r,"!CompObj"),n=$i.find(r,"/Workbook")||$i.find(r,"/Book")}else{switch(e.type){case"base64":r=Op(Bh(r));break;case"binary":r=Op(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}vc(r,0),n={content:r}}var i,a;if(t&&tet(t),e.bookProps&&!e.bookSheets)i={};else{var s=Xi?"buffer":"array";if(n&&n.content)i=iet(n.content,e);else if((a=$i.find(r,"PerfectOffice_MAIN"))&&a.content)i=VA.to_workbook(a.content,(e.type=s,e));else if((a=$i.find(r,"NativeContent_MAIN"))&&a.content)i=VA.to_workbook(a.content,(e.type=s,e));else throw(a=$i.find(r,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&$i.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=GKe(r))}var o={};return r.FullPaths&&aet(r,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=r),i}var pR={0:{f:jJe},1:{f:GJe},2:{f:QJe},3:{f:XJe},4:{f:YJe},5:{f:JJe},6:{f:rQe},7:{f:KJe},8:{f:oQe},9:{f:sQe},10:{f:iQe},11:{f:aQe},12:{f:WJe},13:{f:eQe},14:{f:ZJe},15:{f:qJe},16:{f:Kme},17:{f:nQe},18:{f:$Je},19:{f:LH},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:IQe},40:{},42:{},43:{f:iKe},44:{f:nKe},45:{f:aKe},46:{f:oKe},47:{f:sKe},48:{},49:{f:lqe},50:{},51:{f:CKe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Dme},62:{f:tQe},63:{f:kKe},64:{f:mQe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:hu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vQe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:HJe},148:{f:UJe,p:16},151:{f:uQe},152:{},153:{f:RQe},154:{},155:{},156:{f:LQe},157:{},158:{},159:{T:1,f:SZe},160:{T:-1},161:{T:1,f:Ab},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:lQe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:MKe},336:{T:-1},337:{f:NKe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:mj},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Nme},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:fQe},427:{f:hQe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:pQe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:VJe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:cQe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:mj},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:UKe},633:{T:1},634:{T:-1},635:{T:1,f:jKe},636:{T:-1},637:{f:uqe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:wQe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:gQe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},_j={6:{f:iF},10:{f:fx},12:{f:Qo},13:{f:Qo},14:{f:Lo},15:{f:Lo},16:{f:nu},17:{f:Lo},18:{f:Lo},19:{f:Qo},20:{f:Tre},21:{f:Tre},23:{f:Nme},24:{f:Ere},25:{f:Lo},26:{},27:{},28:{f:BXe},29:{},34:{f:Lo},35:{f:Are},38:{f:nu},39:{f:nu},40:{f:nu},41:{f:nu},42:{f:Lo},43:{f:Lo},47:{f:VZe},49:{f:yXe},51:{f:Qo},60:{},61:{f:mXe},64:{f:Lo},65:{f:xXe},66:{f:Qo},77:{},80:{},81:{},82:{},85:{f:Qo},89:{},90:{},91:{},92:{f:lXe},93:{f:jXe},94:{},95:{f:Lo},96:{},97:{},99:{f:Lo},125:{f:Dme},128:{f:NXe},129:{f:cXe},130:{f:Qo},131:{f:Lo},132:{f:Lo},133:{f:uXe},134:{},140:{f:YXe},141:{f:Qo},144:{},146:{f:XXe},151:{},152:{},153:{},154:{},155:{},156:{f:Qo},157:{},158:{},160:{f:QXe},161:{f:KXe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:AXe},190:{f:EXe},193:{f:fx},197:{},198:{},199:{},200:{},201:{},202:{f:Lo},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Qo},220:{},221:{f:Lo},222:{},224:{f:CXe},225:{f:oXe},226:{f:fx},227:{},229:{f:zXe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:fXe},253:{f:bXe},255:{f:hXe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Sme},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Lo},353:{f:fx},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:LXe},431:{f:Lo},432:{},433:{},434:{},437:{},438:{f:HXe},439:{f:Lo},440:{f:GXe},441:{},442:{f:iM},443:{},444:{f:Qo},445:{},446:{},448:{f:fx},449:{f:vXe,r:2},450:{f:fx},512:{f:wre},513:{f:JXe},515:{f:DXe},516:{f:_Xe},517:{f:Sre},519:{f:eZe},520:{f:dXe},523:{},545:{f:Mre},549:{f:_re},566:{},574:{f:gXe},638:{f:TXe},659:{},1048:{},1054:{f:wXe},1084:{},1212:{f:OXe},2048:{f:WXe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:VN},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:fx},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:ZXe,r:12},2173:{f:AKe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Lo,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:IXe,r:12},2197:{},2198:{f:yKe,r:12},2199:{},2200:{},2201:{},2202:{f:PXe,r:12},2203:{f:fx},2204:{},2205:{},2206:{},2207:{},2211:{f:pXe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Qo},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:$Xe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:qXe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:wre},1:{},2:{f:iZe},3:{f:nZe},4:{f:rZe},5:{f:Sre},7:{f:aZe},8:{},9:{f:VN},11:{},22:{f:Qo},30:{f:SXe},31:{},32:{},33:{f:Mre},36:{},37:{f:_re},50:{f:sZe},62:{},52:{},67:{},68:{f:Qo},69:{},86:{},126:{},127:{f:tZe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:oZe},223:{},234:{},354:{},421:{},518:{f:iF},521:{f:VN},536:{f:Ere},547:{f:Are},561:{},579:{},1030:{f:iF},1033:{f:VN},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Sp(r,e,t,n){var i=e;if(!isNaN(i)){var a=(t||[]).length||0,s=r.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&ume(t)&&r.push(t)}}function Bre(r,e){var t=e||{},n=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var i=r.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=r.match(/<\/table/i),s=i.index,o=a&&a.index||r.length,l=DYe(r.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var v=l[s].trim(),x=v.slice(0,3).toLowerCase();if(x=="<tr"){if(++c,t.sheetRows&&t.sheetRows<=c){--c;break}u=0;continue}if(!(x!="<td"&&x!="<th")){var g=v.split(/<\/t[dh]>/i);for(o=0;o<g.length;++o){var _=g[o].trim();if(_.match(/<t[dh]/i)){for(var w=_,A=0;w.charAt(0)=="<"&&(A=w.indexOf(">"))>-1;)w=w.slice(A+1);for(var M=0;M<p.length;++M){var C=p[M];C.s.c==u&&C.s.r<c&&c<=C.e.r&&(u=C.e.c+1,M=-1)}var N=On(_.slice(0,_.indexOf(">")));d=N.colspan?+N.colspan:1,((f=+N.rowspan)>1||d>1)&&p.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+d-1}});var L=N.t||N["data-t"]||"";if(!w.length){u+=d;continue}if(w=$ve(w),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>u&&(h.s.c=u),h.e.c<u&&(h.e.c=u),!w.length){u+=d;continue}var D={t:"s",v:w};t.raw||!w.trim().length||L=="s"||(w==="TRUE"?D={t:"b",v:!0}:w==="FALSE"?D={t:"b",v:!1}:isNaN(Yp(w))?isNaN(pS(w).getDate())||(D={t:"d",v:Zl(w)},t.cellDates||(D={t:"n",v:ef(D.v)}),D.z=t.dateNF||Zn[14]):D={t:"n",v:Yp(w)}),t.dense?(n[c]||(n[c]=[]),n[c][u]=D):n[Kn({r:c,c:u})]=D,u+=d}}}}return n["!ref"]=Ji(h),p.length&&(n["!merges"]=p),n}function set(r,e,t,n){for(var i=r["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>t||i[c].s.c>s)&&!(i[c].e.r<t||i[c].e.c<s)){if(i[c].s.r<t||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Kn({r:t,c:s}),f=n.dense?(r[t]||[])[s]:r[u],d=f&&f.v!=null&&(f.h||EH(f.w||(cg(f),f.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(n.id||"sjs")+"-"+u,a.push(YYe("td",d,h))}}var p="<tr>";return p+a.join("")+"</tr>"}var oet='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',cet="</body></html>";function uet(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return Cy(Bre(t[0],e),e);var n=GH();return t.forEach(function(i,a){WH(n,Bre(i,e),"Sheet"+(a+1))}),n}function fet(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function het(r,e){var t=e||{},n=t.header!=null?t.header:oet,i=t.footer!=null?t.footer:cet,a=[n],s=rT(r["!ref"]);t.dense=Array.isArray(r),a.push(fet(r,s,t));for(var o=s.s.r;o<=s.e.r;++o)a.push(set(r,s,o,t));return a.push("</table>"+i),a.join("")}function rge(r,e,t){var n=t||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Yu(n.origin):n.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(r["!ref"]){var u=rT(r["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],d=0,h=r["!rows"]||(r["!rows"]=[]),p=0,v=0,x=0,g=0,_=0,w=0;for(r["!cols"]||(r["!cols"]=[]);p<o.length&&v<l;++p){var A=o[p];if(zre(A)){if(n.display)continue;h[v]={hidden:!0}}var M=A.children;for(x=g=0;x<M.length;++x){var C=M[x];if(!(n.display&&zre(C))){var N=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):$ve(C.innerHTML),L=C.getAttribute("data-z")||C.getAttribute("z");for(d=0;d<f.length;++d){var D=f[d];D.s.c==g+a&&D.s.r<v+i&&v+i<=D.e.r&&(g=D.e.c+1-a,d=-1)}w=+C.getAttribute("colspan")||1,((_=+C.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:v+i,c:g+a},e:{r:v+i+(_||1)-1,c:g+a+(w||1)-1}});var k={t:"s",v:N},O=C.getAttribute("data-t")||C.getAttribute("t")||"";N!=null&&(N.length==0?k.t=O||"z":n.raw||N.trim().length==0||O=="s"||(N==="TRUE"?k={t:"b",v:!0}:N==="FALSE"?k={t:"b",v:!1}:isNaN(Yp(N))?isNaN(pS(N).getDate())||(k={t:"d",v:Zl(N)},n.cellDates||(k={t:"n",v:ef(k.v)}),k.z=n.dateNF||Zn[14]):k={t:"n",v:Yp(N)})),k.z===void 0&&L!=null&&(k.z=L);var I="",j=C.getElementsByTagName("A");if(j&&j.length)for(var B=0;B<j.length&&!(j[B].hasAttribute("href")&&(I=j[B].getAttribute("href"),I.charAt(0)!="#"));++B);I&&I.charAt(0)!="#"&&(k.l={Target:I}),n.dense?(r[v+i]||(r[v+i]=[]),r[v+i][g+a]=k):r[Kn({c:g+a,r:v+i})]=k,c.e.c<g+a&&(c.e.c=g+a),g+=w}}++v}return f.length&&(r["!merges"]=(r["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+i),r["!ref"]=Ji(c),v>=l&&(r["!fullref"]=Ji((c.e.r=o.length-p+v-1+i,c))),r}function nge(r,e){var t=e||{},n=t.dense?[]:{};return rge(n,r,e)}function det(r,e){return Cy(nge(r,e),e)}function zre(r){var e="",t=pet(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function pet(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function vet(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=oa(e.replace(/<[^>]*>/g,""));return[t]}var jre={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function ige(r,e){var t=e||{},n=MH(r),i=[],a,s,o={name:""},l="",c=0,u,f,d={},h=[],p=t.dense?[]:{},v,x,g={value:""},_="",w=0,A=[],M=-1,C=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,D={},k=[],O={},I=0,j=0,B=[],K=1,H=1,Z=[],Y={Names:[]},J={},oe=["",""],X=[],F={},W="",Q=0,re=!1,ae=!1,ce=0;for($3.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=$3.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?p["!ref"]=Ji(N):p["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=N.e.r&&(p["!fullref"]=p["!ref"],N.e.r=t.sheetRows-1,p["!ref"]=Ji(N)),k.length&&(p["!merges"]=k),B.length&&(p["!rows"]=B),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),h.push(u.name),d[u.name]=p,ae=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=On(v[0],!1),M=C=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,p=t.dense?[]:{},k=[],B=[],ae=!0);break;case"table-row-group":v[1]==="/"?--L:++L;break;case"table-row":case"":if(v[1]==="/"){M+=K,K=1;break}if(f=On(v[0],!1),f.?M=f.-1:M==-1&&(M=0),K=+f["number-rows-repeated"]||1,K<10)for(ce=0;ce<K;++ce)L>0&&(B[M+ce]={level:L});C=-1;break;case"covered-table-cell":v[1]!=="/"&&++C,t.sheetStubs&&(t.dense?(p[M]||(p[M]=[]),p[M][C]={t:"z"}):p[Kn({r:M,c:C})]={t:"z"}),_="",A=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++C,g=On(v[0],!1),H=parseInt(g["number-columns-repeated"]||"1",10),x={t:"z",v:null},g.formula&&t.cellFormula!=!1&&(x.f=Ire(oa(g.formula))),(g.||g["value-type"])=="string"&&(x.t="s",x.v=oa(g["string-value"]||""),t.dense?(p[M]||(p[M]=[]),p[M][C]=x):p[Kn({r:M,c:C})]=x),C+=H-1;else if(v[1]!=="/"){++C,_="",w=0,A=[],H=1;var ye=K?M+K-1:M;if(C>N.e.c&&(N.e.c=C),C<N.s.c&&(N.s.c=C),M<N.s.r&&(N.s.r=M),ye>N.e.r&&(N.e.r=ye),g=On(v[0],!1),X=[],F={},x={t:g.||g["value-type"],v:null},t.cellFormula)if(g.formula&&(g.formula=oa(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(I=parseInt(g["number-matrix-rows-spanned"],10)||0,j=parseInt(g["number-matrix-columns-spanned"],10)||0,O={s:{r:M,c:C},e:{r:M+I-1,c:C+j-1}},x.F=Ji(O),Z.push([O,x.F])),g.formula)x.f=Ire(g.formula);else for(ce=0;ce<Z.length;++ce)M>=Z[ce][0].s.r&&M<=Z[ce][0].e.r&&C>=Z[ce][0].s.c&&C<=Z[ce][0].e.c&&(x.F=Z[ce][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(I=parseInt(g["number-rows-spanned"],10)||0,j=parseInt(g["number-columns-spanned"],10)||0,O={s:{r:M,c:C},e:{r:M+I-1,c:C+j-1}},k.push(O)),g["number-columns-repeated"]&&(H=parseInt(g["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Ds(g["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(g.value);break;case"percentage":x.t="n",x.v=parseFloat(g.value);break;case"currency":x.t="n",x.v=parseFloat(g.value);break;case"date":x.t="d",x.v=Zl(g["date-value"]),t.cellDates||(x.t="n",x.v=ef(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=MYe(g["time-value"])/86400,t.cellDates&&(x.t="d",x.v=mI(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(g.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",g["string-value"]!=null&&(_=oa(g["string-value"]),A=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(re=!1,x.t==="s"&&(x.v=_||"",A.length&&(x.R=A),re=w==0),J.Target&&(x.l=J),X.length>0&&(x.c=X,X=[]),_&&t.cellText!==!1&&(x.w=_),re&&(x.t="z",delete x.v),(!re||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=M))for(var fe=0;fe<K;++fe){if(H=parseInt(g["number-columns-repeated"]||"1",10),t.dense)for(p[M+fe]||(p[M+fe]=[]),p[M+fe][C]=fe==0?x:gc(x);--H>0;)p[M+fe][C+H]=gc(x);else for(p[Kn({r:M+fe,c:C})]=x;--H>0;)p[Kn({r:M+fe,c:C+H})]=gc(x);N.e.c<=C&&(N.e.c=C)}H=parseInt(g["number-columns-repeated"]||"1",10),C+=H-1,H=0,x={},_="",A=[]}J={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a;F.t=_,A.length&&(F.R=A),F.a=W,X.push(F)}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);W="",Q=0,_="",w=0,A=[];break;case"creator":v[1]==="/"?W=n.slice(Q,v.index):Q=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);_="",w=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(D[o.name]=l,(a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&(l="",o=On(v[0],!1),i.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=On(v[0],!1),l+=jre[v[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=On(v[0],!1),l+=jre[v[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":s=On(v[0],!1),oe=aF(s["cell-range-address"]);var be={Name:s.name,Ref:oe[0]+"!"+oe[1]};ae&&(be.Sheet=h.length),Y.Names.push(be);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(v[1]==="/"&&(!g||!g["string-value"])){var Oe=vet(n.slice(w,v.index));_=(_.length>0?_+`
`:"")+Oe[0]}else On(v[0],!1),w=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{oe=aF(On(v[0])["target-range-address"]),d[oe[0]]["!autofilter"]={ref:oe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(J=On(v[0],!1),!J.href)break;J.Target=oa(J.href),delete J.href,J.Target.charAt(0)=="#"&&J.Target.indexOf(".")>-1?(oe=aF(J.Target.slice(1)),J.Target="#"+oe[0]+"!"+oe[1]):J.Target.match(/^\.\.[\\\/]/)&&(J.Target=J.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(v)}}var xe={Sheets:d,SheetNames:h,Workbook:Y};return t.bookSheets&&delete xe.Sheets,xe}function Ure(r,e){e=e||{},Sd(r,"META-INF/manifest.xml")&&Dqe(Jo(r,"META-INF/manifest.xml"),e);var t=Mh(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var n=ige(ds(t),e);return Sd(r,"meta.xml")&&(n.Props=gme(Jo(r,"meta.xml"))),n}function Vre(r,e){return ige(r,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function jH(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function wj(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):ds(wb(r))}function Sj(r){var e=r.reduce(function(i,a){return i+a.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function Hre(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function met(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,n=r[e+14]&1,i=e+13;i>=e;--i)n=n*256+r[i];return(r[e+15]&128?-n:n)*Math.pow(10,t-6176)}function tE(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Tl(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function iu(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=tE(r,t),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=t[0];r[t[0]++]>=128;);o=r.slice(l,t[0])}break;case 5:s=4,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 1:s=8,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 2:s=tE(r,t),o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:a};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function UH(r,e){return(r==null?void 0:r.map(function(t){return e(t.data)}))||[]}function get(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=tE(r,n),a=iu(r.slice(n[0],n[0]+i));n[0]+=i;var s={id:Tl(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=iu(o.data),c=Tl(l[3][0].data);s.messages.push({meta:l,data:r.slice(n[0],n[0]+c)}),n[0]+=c}),(e=a[3])!=null&&e[0]&&(s.merge=Tl(a[3][0].data)>>>0>0),t.push(s)}return t}function xet(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=tE(e,t),i=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var s=e[t[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[t[0]],o>1&&(s|=e[t[0]+1]<<8),o>2&&(s|=e[t[0]+2]<<16),o>3&&(s|=e[t[0]+3]<<24),s>>>=0,s++,t[0]+=o}i.push(e.slice(t[0],t[0]+s)),t[0]+=s;continue}else{var l=0,c=0;if(a==1?(c=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(c=(e[t[0]++]>>2)+1,a==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Sj(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Sj(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function yet(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(xet(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return Sj(e)}function bet(r,e,t,n){var i=jH(r),a=i.getUint32(4,!0),s=(n>1?12:8)+Hre(a&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=Hre(a&(n>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(c=i.getFloat64(s,!0),s+=8),a&64&&(u.setTime(u.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var f;switch(r[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:t[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return f}function _et(r,e,t){var n=jH(r),i=n.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=met(r,a),a+=16),i&2&&(c=n.getFloat64(a,!0),a+=8),i&4&&(u.setTime(u.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var f;switch(r[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:t[s]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)))}return f}function wet(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return bet(r,e,t,r[0]);case 5:return _et(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function ty(r){var e=iu(r);return tE(e[1][0].data)}function Gre(r,e){var t=iu(e.data),n=Tl(t[1][0].data),i=t[3],a=[];return(i||[]).forEach(function(s){var o=iu(s.data),l=Tl(o[1][0].data)>>>0;switch(n){case 1:a[l]=wj(o[3][0].data);break;case 8:{var c=r[ty(o[9][0].data)][0],u=iu(c.data),f=r[ty(u[1][0].data)][0],d=Tl(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=iu(f.data);a[l]=h[3].map(function(p){return wj(p.data)}).join("")}break}}),a}function Tet(r,e){var t,n,i,a,s,o,l,c,u,f,d,h,p,v,x=iu(r),g=Tl(x[1][0].data)>>>0,_=Tl(x[2][0].data)>>>0,w=((n=(t=x[8])==null?void 0:t[0])==null?void 0:n.data)&&Tl(x[8][0].data)>0||!1,A,M;if((a=(i=x[7])==null?void 0:i[0])!=null&&a.data&&e!=0)A=(o=(s=x[7])==null?void 0:s[0])==null?void 0:o.data,M=(c=(l=x[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=x[4])==null?void 0:u[0])!=null&&f.data&&e!=1)A=(h=(d=x[4])==null?void 0:d[0])==null?void 0:h.data,M=(v=(p=x[3])==null?void 0:p[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var C=w?4:1,N=jH(A),L=[],D=0;D<A.length/2;++D){var k=N.getUint16(D*2,!0);k<65535&&L.push([D,k])}if(L.length!=_)throw"Expected ".concat(_," cells, found ").concat(L.length);var O=[];for(D=0;D<L.length-1;++D)O[L[D][0]]=M.subarray(L[D][1]*C,L[D+1][1]*C);return L.length>=1&&(O[L[L.length-1][0]]=M.subarray(L[L.length-1][1]*C)),{R:g,cells:O}}function Aet(r,e){var t,n=iu(e.data),i=(t=n==null?void 0:n[7])!=null&&t[0]?Tl(n[7][0].data)>>>0>0?1:0:-1,a=UH(n[5],function(s){return Tet(s,i)});return{nrows:Tl(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function Eet(r,e,t){var n,i=iu(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Tl(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Tl(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Ji(a);var s=iu(i[4][0].data),o=Gre(r,r[ty(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?Gre(r,r[ty(s[17][0].data)][0]):[],c=iu(s[3][0].data),u=0;c[1].forEach(function(f){var d=iu(f.data),h=r[ty(d[2][0].data)][0],p=Tl(h.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var v=Aet(r,h);v.data.forEach(function(x,g){x.forEach(function(_,w){var A=Kn({r:u+g,c:w}),M=wet(_,o,l);M&&(t[A]=M)})}),u+=v.nrows})}function Met(r,e){var t=iu(e.data),n={"!ref":"A1"},i=r[ty(t[2][0].data)],a=Tl(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Eet(r,i[0],n),n}function Cet(r,e){var t,n=iu(e.data),i={name:(t=n[1])!=null&&t[0]?wj(n[1][0].data):"",sheets:[]},a=UH(n[2],ty);return a.forEach(function(s){r[s].forEach(function(o){var l=Tl(o.meta[1][0].data);l==6e3&&i.sheets.push(Met(r,o))})}),i}function Net(r,e){var t=GH(),n=iu(e.data),i=UH(n[1],ty);if(i.forEach(function(a){r[a].forEach(function(s){var o=Tl(s.meta[1][0].data);if(o==2){var l=Cet(r,s);l.sheets.forEach(function(c,u){WH(t,c,u==0?l.name:l.name+"_"+u,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function oF(r){var e,t,n,i,a={},s=[];if(r.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=yet(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=get(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){a[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(t=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Tl(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(c){var u=Tl(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Net(a,o)}function Det(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function VH(r){Det([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function Let(r){return Sw.WS.indexOf(r)>-1?"sheet":r==Sw.CS?"chart":r==Sw.DS?"dialog":r==Sw.MS?"macro":r&&r.length?r:"sheet"}function Ret(r,e){if(!r)return 0;try{r=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,Let(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function ket(r,e,t,n,i,a,s,o,l,c,u,f){try{a[n]=jA(Mh(r,t,!0),e);var d=Jo(r,e),h;switch(o){case"sheet":h=FQe(d,e,i,l,a[n],c,u,f);break;case"chart":if(h=BQe(d,e,i,l,a[n],c,u,f),!h||!h["!drawel"])break;var p=fA(h["!drawel"].Target,e),v=gj(p),x=PKe(Mh(r,p,!0),jA(Mh(r,v,!0),p)),g=fA(x,p),_=gj(g);h=bQe(Mh(r,g,!0),g,l,jA(Mh(r,_,!0),g),c,h);break;case"macro":h=zQe(d,e,i,l,a[n],c,u,f);break;case"dialog":h=jQe(d,e,i,l,a[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=h;var w=[];a&&a[n]&&wv(a[n]).forEach(function(A){var M="";if(a[n][A].Type==Sw.CMNT){M=fA(a[n][A].Target,e);var C=GQe(Jo(r,M,!0),M,l);if(!C||!C.length)return;Nre(h,C,!1)}a[n][A].Type==Sw.TCMNT&&(M=fA(a[n][A].Target,e),w=w.concat(BKe(Jo(r,M,!0),l)))}),w&&w.length&&Nre(h,w,!0,l.people||[])}catch(A){if(l.WTF)throw A}}function vd(r){return r.charAt(0)=="/"?r.slice(1):r}function Iet(r,e){if(Uve(),e=e||{},VH(e),Sd(r,"META-INF/manifest.xml")||Sd(r,"objectdata.xml"))return Ure(r,e);if(Sd(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof oF<"u"){if(r.FileIndex)return oF(r);var t=$i.utils.cfb_new();return rre(r).forEach(function(B){kYe(t,B,RYe(r,B))}),oF(t)}throw new Error("Unsupported NUMBERS file")}if(!Sd(r,"[Content_Types].xml"))throw Sd(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Sd(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=rre(r),i=Cqe(Mh(r,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Jo(r,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Jo(r,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(HA=[],i.sst)try{HA=HQe(Jo(r,vd(i.sst)),i.sst,e)}catch(B){if(e.WTF)throw B}e.cellStyles&&i.themes.length&&(l=VQe(Mh(r,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=UQe(Jo(r,vd(i.style)),i.style,l,e))}i.links.map(function(B){try{var K=jA(Mh(r,gj(vd(B))),B);return YQe(Jo(r,vd(B)),K,B,e)}catch{}});var u=PQe(Jo(r,vd(i.workbooks[0])),i.workbooks[0],e),f={},d="";i.coreprops.length&&(d=Jo(r,vd(i.coreprops[0]),!0),d&&(f=gme(d)),i.extprops.length!==0&&(d=Jo(r,vd(i.extprops[0]),!0),d&&kqe(d,f,e)));var h={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(d=Mh(r,vd(i.custprops[0]),!0),d&&(h=Oqe(d,e)));var p={};if((e.bookSheets||e.bookProps)&&(u.Sheets?s=u.Sheets.map(function(K){return K.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),e.bookProps&&(p.Props=f,p.Custprops=h),e.bookSheets&&typeof s<"u"&&(p.SheetNames=s),e.bookSheets?p.SheetNames:e.bookProps))return p;s={};var v={};e.bookDeps&&i.calcchain&&(v=WQe(Jo(r,vd(i.calcchain)),i.calcchain));var x=0,g={},_,w;{var A=u.Sheets;f.Worksheets=A.length,f.SheetNames=[];for(var M=0;M!=A.length;++M)f.SheetNames[M]=A[M].name}var C=a?"bin":"xml",N=i.workbooks[0].lastIndexOf("/"),L=(i.workbooks[0].slice(0,N+1)+"_rels/"+i.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");Sd(r,L)||(L="xl/_rels/workbook."+C+".rels");var D=jA(Mh(r,L,!0),L.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=qQe(Jo(r,vd(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=zKe(Jo(r,vd(i.people[0])),e)),D&&(D=Ret(D,u.Sheets));var k=Jo(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var O="sheet";if(D&&D[x]?(_="xl/"+D[x][1].replace(/[\/]?xl\//,""),Sd(r,_)||(_=D[x][1]),Sd(r,_)||(_=L.replace(/_rels\/.*$/,"")+D[x][1]),O=D[x][2]):(_="xl/worksheets/sheet"+(x+1-k)+"."+C,_=_.replace(/sheet0\./,"sheet.")),w=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(x!=e.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var I=!1,j=0;j!=e.sheets.length;++j)typeof e.sheets[j]=="number"&&e.sheets[j]==x&&(I=1),typeof e.sheets[j]=="string"&&e.sheets[j].toLowerCase()==f.SheetNames[x].toLowerCase()&&(I=1);if(!I)continue e}}ket(r,_,w,f.SheetNames[x],x,g,s,O,e,u,l,c)}return p={Directory:i,Workbook:u,Props:f,Custprops:h,Deps:v,Sheets:s,SheetNames:f.SheetNames,Strings:HA,Styles:c,Themes:l,SSF:gc(Zn)},e&&e.bookFiles&&(r.files?(p.keys=n,p.files=r.files):(p.keys=[],p.files={},r.FullPaths.forEach(function(B,K){B=B.replace(/^Root Entry[\/]/,""),p.keys.push(B),p.files[B]=r.FileIndex[K]}))),e&&e.bookVBA&&(i.vba.length>0?p.vbaraw=Jo(r,vd(i.vba[0]),!0):i.defaults&&i.defaults.bin===HKe&&(p.vbaraw=Jo(r,"xl/vbaProject.bin",!0))),p}function Oet(r,e){var t=e||{},n="Workbook",i=$i.find(r,n);try{if(n="/!DataSpaces/Version",i=$i.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(AZe(i.content),n="/!DataSpaces/DataSpaceMap",i=$i.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=MZe(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=$i.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=CZe(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=$i.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);DZe(i.content)}catch{}if(n="/EncryptionInfo",i=$i.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=LZe(i.content);if(n="/EncryptedPackage",i=$i.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function HH(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=Bh(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function Pet(r,e){return $i.find(r,"EncryptedPackage")?Oet(r,e):tge(r,e)}function Fet(r,e){var t,n=r,i=e||{};return i.type||(i.type=Xi&&Buffer.isBuffer(r)?"buffer":"base64"),t=Xve(n,i),Iet(t,i)}function age(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return bj(r.slice(t),e);default:break e}return J3.to_workbook(r,e)}function Bet(r,e){var t="",n=HH(r,e);switch(e.type){case"base64":t=Bh(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=ib(r);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(t=ds(t)),e.type="binary",age(t,e)}function zet(r,e){var t=r;return e.type=="base64"&&(t=Bh(t)),t=X3.utils.decode(1200,t.slice(2),"str"),e.type="binary",age(t,e)}function jet(r){return r.match(/[^\x00-\x7F]/)?hA(r):r}function lF(r,e,t,n){return n?(t.type="string",J3.to_workbook(r,t)):J3.to_workbook(e,t)}function Tj(r,e){Nve();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return Tj(new Uint8Array(r),(t=gc(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var n=r,i=[0,0,0,0],a=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Ww={},t.dateNF&&(Ww.dateNF=t.dateNF),t.type||(t.type=Xi&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=Xi?"buffer":"binary",n=AYe(r),typeof Uint8Array<"u"&&!Xi&&(t.type="array")),t.type=="string"&&(a=!0,t.type="binary",t.codepage=65001,n=jet(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return t=gc(t),t.type="array",Tj(_H(n),t)}switch((i=HH(n,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Pet($i.read(n,t),t);break;case 9:if(i[1]<=8)return tge(n,t);break;case 60:return bj(n,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return hZe(n,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return uZe.to_workbook(n,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Fet(n,t):lF(r,n,t,a);case 239:return i[3]===60?bj(n,t):lF(r,n,t,a);case 255:if(i[1]===254)return zet(n,t);if(i[1]===0&&i[2]===2&&i[3]===0)return VA.to_workbook(n,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return VA.to_workbook(n,t);break;case 3:case 131:case 139:case 140:return Cre.to_workbook(n,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return HZe.to_workbook(n,t);break;case 10:case 13:case 32:return Bet(n,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return lZe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?Cre.to_workbook(n,t):lF(r,n,t,a)}function Uet(r,e,t,n,i,a,s,o){var l=xc(t),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:t,enumerable:!1})}catch{d.__rowNum__=t}else d.__rowNum__=t;if(!s||r[t])for(var h=e.s.c;h<=e.e.c;++h){var p=s?r[t][h]:r[n[h]+l];if(p===void 0||p.t===void 0){if(c===void 0)continue;a[h]!=null&&(d[a[h]]=c);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(a[h]!=null){if(v==null)if(p.t=="e"&&v===null)d[a[h]]=null;else if(c!==void 0)d[a[h]]=c;else if(u&&v===null)d[a[h]]=null;else continue;else d[a[h]]=u&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?v:cg(p,v,o);v!=null&&(f=!1)}}return{row:d,isempty:f}}function Aj(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:r["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=yo(u);break;case"number":l=yo(r["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var f=xc(l.s.r),d=[],h=[],p=0,v=0,x=Array.isArray(r),g=l.s.r,_=0,w={};x&&!r[g]&&(r[g]=[]);var A=c.skipHidden&&r["!cols"]||[],M=c.skipHidden&&r["!rows"]||[];for(_=l.s.c;_<=l.e.c;++_)if(!(A[_]||{}).hidden)switch(d[_]=_l(_),t=x?r[g][_]:r[d[_]+f],n){case 1:a[_]=_-l.s.c;break;case 2:a[_]=d[_];break;case 3:a[_]=c.header[_-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=s=cg(t,null,c),v=w[s]||0,!v)w[s]=1;else{do o=s+"_"+v++;while(w[o]);w[s]=v,w[o]=1}a[_]=o}for(g=l.s.r+i;g<=l.e.r;++g)if(!(M[g]||{}).hidden){var C=Uet(r,l,g,d,n,a,x,c);(C.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(h[p++]=C.row)}return h.length=p,h}var Wre=/"/g;function Vet(r,e,t,n,i,a,s,o){for(var l=!0,c=[],u="",f=xc(t),d=e.s.c;d<=e.e.c;++d)if(n[d]){var h=o.dense?(r[t]||[])[d]:r[n[d]+f];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:cg(h,null,o));for(var p=0,v=0;p!==u.length;++p)if((v=u.charCodeAt(p))===i||v===a||v===34||o.forceQuotes){u='"'+u.replace(Wre,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(Wre,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function sge(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=yo(r["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),u="",f=[];n.dense=Array.isArray(r);for(var d=n.skipHidden&&r["!cols"]||[],h=n.skipHidden&&r["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(d[p]||{}).hidden||(f[p]=_l(p));for(var v=0,x=i.s.r;x<=i.e.r;++x)(h[x]||{}).hidden||(u=Vet(r,i,x,f,s,l,a,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&t.push((v++?o:"")+u)));return delete n.dense,t.join("")}function Het(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=sge(r,e);return t}function Get(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=yo(r["!ref"]),a="",s=[],o,l=[],c=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)s[o]=_l(o);for(var u=i.s.r;u<=i.e.r;++u)for(a=xc(u),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,t=c?(r[u]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}l[l.length]=e+"="+n}return l}function oge(r,e,t){var n=t||{},i=+!n.skipHeader,a=r||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Yu(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var f=yo(a["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+e.length-1+i)}else s==-1&&(s=0,u.e.r=e.length-1+i);var d=n.header||[],h=0;e.forEach(function(v,x){wv(v).forEach(function(g){(h=d.indexOf(g))==-1&&(d[h=d.length]=g);var _=v[g],w="z",A="",M=Kn({c:o+h,r:s+x+i});c=rE(a,M),_&&typeof _=="object"&&!(_ instanceof Date)?a[M]=_:(typeof _=="number"?w="n":typeof _=="boolean"?w="b":typeof _=="string"?w="s":_ instanceof Date?(w="d",n.cellDates||(w="n",_=ef(_)),A=n.dateNF||Zn[14]):_===null&&n.nullError&&(w="e",_=0),c?(c.t=w,c.v=_,delete c.w,delete c.R,A&&(c.z=A)):a[M]=c={t:w,v:_},A&&(c.z=A))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var p=xc(s);if(i)for(h=0;h<d.length;++h)a[_l(h+o)+p]={t:"s",v:d[h]};return a["!ref"]=Ji(u),a}function Wet(r,e){return oge(null,r,e)}function rE(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Yu(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?rE(r,Kn(e)):rE(r,Kn({r:e,c:t||0}))}function Yet(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function GH(){return{SheetNames:[],Sheets:{}}}function WH(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=s+i)!=-1;++i);}if(CQe(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function qet(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=Yet(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function Xet(r,e){return r.z=e,r}function lge(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function Zet(r,e,t){return lge(r,"#"+e,t)}function Ket(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function $et(r,e,t,n){for(var i=typeof e!="string"?e:yo(e),a=typeof e=="string"?e:Ji(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=rE(r,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=t,n&&(l.D=!0))}return r}var Jet={encode_col:_l,encode_row:xc,encode_cell:Kn,encode_range:Ji,decode_col:DH,decode_row:NH,split_cell:oqe,decode_cell:Yu,decode_range:rT,format_cell:cg,sheet_add_aoa:hme,sheet_add_json:oge,sheet_add_dom:rge,aoa_to_sheet:nT,json_to_sheet:Wet,table_to_sheet:nge,table_to_book:det,sheet_to_csv:sge,sheet_to_txt:Het,sheet_to_json:Aj,sheet_to_html:het,sheet_to_formulae:Get,sheet_to_row_object_array:Aj,sheet_get_cell:rE,book_new:GH,book_append_sheet:WH,book_set_sheet_visibility:qet,cell_set_number_format:Xet,cell_set_hyperlink:lge,cell_set_internal_link:Zet,cell_add_comment:Ket,sheet_set_array_formula:$et,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Qet=({isOpen:r,onClose:e,onAdd:t})=>{const[n,i]=me.useState("New Table"),[a,s]=me.useState([{id:"1",name:"Column 1",type:"text",width:150},{id:"2",name:"Column 2",type:"text",width:150}]),[o,l]=me.useState(!0),[c,u]=me.useState("#f3f4f6"),[f,d]=me.useState([]),h=me.useRef(null);if(!r)return null;const p=async w=>{var C;const A=(C=w.target.files)==null?void 0:C[0];if(!A)return;const M=new FileReader;M.onload=N=>{var L;try{const D=(L=N.target)==null?void 0:L.result,k=Tj(D,{type:"binary"}),O=k.SheetNames[0],I=k.Sheets[O],j=Jet.sheet_to_json(I,{header:1});if(j.length===0){alert("Excel file is empty!");return}const B=j[0],K=j.slice(1).filter(J=>J&&J.some(oe=>oe!=null&&oe!==""));if(K.length===0){alert("No data rows found in Excel file!");return}const H=A.name.replace(/\.(xlsx|xls)$/i,"");i(H);const Z=B.map((J,oe)=>{var W;const X=(W=K[0])==null?void 0:W[oe];let F="text";return typeof X=="number"?F="number":X instanceof Date||typeof X=="number"&&X>4e4&&X<5e4?F="date":(X===!0||X===!1||X==="true"||X==="false")&&(F="checkbox"),{id:Math.random().toString(36).substr(2,9),name:(J==null?void 0:J.toString())||`Column ${oe+1}`,type:F,width:150}});s(Z);const Y=K.map((J,oe)=>{const X=`imported-${Date.now()}-${oe}`,F={};return J.forEach((W,Q)=>{const re=Z[Q];if(re)if(re.type==="checkbox")F[re.id]=W===!0||W==="true"||W==="TRUE"||W===1||W==="1";else if(re.type==="number"){const ae=Number(W);F[re.id]=isNaN(ae)?W:ae}else if(re.type==="date")if(typeof W=="number"){const ae=Vve.parse_date_code(W),ce=new Date(ae.y,ae.m-1,ae.d);F[re.id]=ce.toISOString().split("T")[0]}else{const ae=new Date(W);F[re.id]=isNaN(ae.getTime())?(W==null?void 0:W.toString())||"":ae.toISOString().split("T")[0]}else F[re.id]=W!=null?W.toString():""}),{id:X,data:F}});d(Y),alert(` Imported ${Y.length} rows from Excel!`)}catch(D){alert(`Failed to import Excel file: ${D instanceof Error?D.message:"Unknown error"}`)}},M.readAsBinaryString(A),h.current&&(h.current.value="")},v=()=>{const w=Math.random().toString(36).substr(2,9);s([...a,{id:w,name:`Column ${a.length+1}`,type:"text",width:150}])},x=w=>{s(a.filter(A=>A.id!==w))},g=(w,A,M)=>{s(a.map(C=>C.id===w?{...C,[A]:M}:C))},_=()=>{const w={title:n,columns:a,showBorder:o,headerColor:c,...f.length>0&&{rows:f}};t(w),e(),i("New Table"),s([{id:"1",name:"Column 1",type:"text",width:150},{id:"2",name:"Column 2",type:"text",width:150}]),d([])};return y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-[800px] max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[y.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(Xoe,{className:"text-indigo-600",size:20}),y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Custom Table Builder"})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("input",{ref:h,type:"file",accept:".xlsx, .xls",onChange:p,className:"hidden"}),y.jsxs("button",{onClick:()=>{var w;return(w=h.current)==null?void 0:w.click()},className:"flex items-center space-x-2 px-3 py-1.5 bg-green-50 hover:bg-green-100 text-green-700 rounded-lg transition-colors border border-green-200 text-sm font-medium",title:"Import from Excel",children:[y.jsx(Vwe,{size:16}),y.jsx("span",{children:"Import from Excel"})]}),f.length>0&&y.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[" ",f.length," rows imported"]})]})]}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:y.jsx(Wf,{size:20})})]}),y.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-8",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Table Title"}),y.jsx("input",{type:"text",value:n,onChange:w=>i(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"Enter table name..."})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Header Style"}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"color",value:c,onChange:w=>u(w.target.value),className:"h-9 w-16 rounded cursor-pointer border border-gray-300 p-1"}),y.jsx("span",{className:"text-xs text-gray-500",children:"Color"})]}),y.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:o,onChange:w=>l(w.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),y.jsx("span",{className:"text-sm text-gray-700",children:"Show Borders"})]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Columns Configuration"}),y.jsxs("button",{onClick:v,className:"text-sm flex items-center space-x-1 text-indigo-600 hover:text-indigo-700 font-medium",children:[y.jsx(ui,{size:16}),y.jsx("span",{children:"Add Column"})]})]}),y.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[y.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-2 bg-gray-100 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[y.jsx("div",{className:"col-span-5",children:"Name"}),y.jsx("div",{className:"col-span-3",children:"Type"}),y.jsx("div",{className:"col-span-3",children:"Width (px)"}),y.jsx("div",{className:"col-span-1"})]}),y.jsx("div",{className:"divide-y divide-gray-200",children:a.map(w=>y.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-3 items-center hover:bg-white transition-colors",children:[y.jsx("div",{className:"col-span-5",children:y.jsx("input",{type:"text",value:w.name,onChange:A=>g(w.id,"name",A.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none"})}),y.jsx("div",{className:"col-span-3",children:y.jsxs("select",{value:w.type,onChange:A=>g(w.id,"type",A.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none bg-white",children:[y.jsx("option",{value:"text",children:"Text"}),y.jsx("option",{value:"number",children:"Number"}),y.jsx("option",{value:"date",children:"Date"}),y.jsx("option",{value:"checkbox",children:"Checkbox"})]})}),y.jsx("div",{className:"col-span-3",children:y.jsx("input",{type:"number",value:w.width,onChange:A=>g(w.id,"width",parseInt(A.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none"})}),y.jsx("div",{className:"col-span-1 flex justify-end",children:y.jsx("button",{onClick:()=>x(w.id),className:"text-gray-400 hover:text-red-500 transition-colors",disabled:a.length<=1,children:y.jsx(Ih,{size:16})})})]},w.id))})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Live Preview"}),y.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:o?"#e5e7eb":"transparent"},children:[y.jsx("div",{className:"flex",style:{backgroundColor:c},children:a.map(w=>y.jsx("div",{className:`px-4 py-2 text-sm font-semibold text-gray-700 ${o?"border-r border-gray-200 last:border-r-0":""}`,style:{width:w.width},children:y.jsxs("div",{className:"flex items-center space-x-2",children:[w.type==="text"&&y.jsx(NU,{size:12,className:"text-gray-400"}),w.type==="number"&&y.jsx(d2,{size:12,className:"text-gray-400"}),w.type==="date"&&y.jsx(Fh,{size:12,className:"text-gray-400"}),w.type==="checkbox"&&y.jsx(Q4,{size:12,className:"text-gray-400"}),y.jsx("span",{children:w.name})]})},w.id))}),y.jsx("div",{className:"bg-white",children:y.jsx("div",{className:"flex border-t border-gray-100",children:a.map(w=>y.jsx("div",{className:`px-4 py-3 text-sm text-gray-400 italic ${o?"border-r border-gray-100 last:border-r-0":""}`,style:{width:w.width},children:"Sample Data"},w.id))})})]})]})]}),y.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50 flex justify-end space-x-3",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),y.jsxs("button",{onClick:_,className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-colors flex items-center space-x-2",children:[y.jsx(ui,{size:16}),y.jsx("span",{children:"Add Table"})]})]})]})})},ett=({user:r,onLogout:e,onActivate:t})=>{const{setBrainOpen:n}=DU(),{showToast:i}=Vh(),[a,s]=me.useState(!1),o=me.useRef(null);return me.useEffect(()=>{const l=c=>{o.current&&!o.current.contains(c.target)&&s(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]),y.jsxs("div",{className:"h-12 bg-clickup-sidebar flex items-center justify-between px-4 flex-shrink-0 z-40 text-gray-300 shadow-md select-none",children:[y.jsx("div",{className:"flex items-center w-[280px] shrink-0",children:y.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:opacity-90 transition-opacity group",children:[y.jsx("img",{src:"/nabd_logo_icon.png",alt:"Icon",className:"w-8 h-8 rounded-lg shadow-lg shadow-brand-primary/20 group-hover:shadow-brand-primary/40 transition-all"}),y.jsx("span",{className:"font-bold text-white tracking-tight hidden md:block group-hover:text-brand-accent transition-colors",children:"NABD Chain System"})]})}),y.jsx("div",{className:"flex-1 flex justify-center px-4 min-w-0",children:y.jsx("div",{className:"w-full max-w-xl relative group",children:y.jsxs("div",{className:"flex items-center bg-[#3E4147] hover:bg-[#4B4E55] transition-colors rounded-lg px-3 py-1.5 cursor-text border border-transparent group-focus-within:border-brand-primary/50 group-focus-within:bg-[#2B2D31] h-8 shadow-inner",children:[y.jsx(vv,{size:14,className:"text-gray-400 group-focus-within:text-brand-primary mr-2 transition-colors"}),y.jsx("input",{type:"text",placeholder:"Search",className:"bg-transparent border-none outline-none text-sm text-gray-200 placeholder-gray-400 w-full group-focus-within:text-white",onKeyDown:l=>l.key==="Enter"&&i("Global Search...","info")}),y.jsx("div",{className:"flex items-center space-x-1 ml-2",children:y.jsxs("div",{className:"hidden md:flex items-center space-x-1 bg-gray-600/50 px-1.5 py-0.5 rounded text-[10px] text-gray-300 border border-gray-500/30 shadow-sm",children:[y.jsx(Twe,{size:10}),y.jsx("span",{children:"K"})]})})]})})}),y.jsx("div",{className:"flex items-center justify-end w-[280px] shrink-0 space-x-1 md:space-x-3",children:y.jsxs("div",{className:"relative",ref:o,children:[r?y.jsx("div",{className:"ml-2 w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white cursor-pointer hover:border-white transition-all shadow-md ring-2 ring-transparent hover:ring-gray-500/50 bg-gray-900 hover:bg-black border border-gray-700",title:r.name,onClick:()=>s(!a),children:r.avatar}):y.jsx("div",{className:"ml-2 w-8 h-8 rounded-full bg-gray-600 animate-pulse"}),a&&y.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-xl z-50 py-1 animate-in fade-in slide-in-from-top-2",children:[y.jsxs("div",{className:"px-4 py-2 border-b border-gray-700/50",children:[y.jsx("p",{className:"text-sm font-medium text-white",children:r==null?void 0:r.name}),y.jsx("p",{className:"text-xs text-gray-500 truncate",children:(r==null?void 0:r.email)||"user@example.com"})]}),y.jsxs("div",{className:"py-1",children:[y.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white flex items-center space-x-2 transition-colors",onClick:()=>{s(!1),t&&t()},children:[y.jsx(C2,{size:14,className:"text-yellow-400"}),y.jsx("span",{children:"Activate"})]}),y.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 flex items-center space-x-2 transition-colors",onClick:()=>{s(!1),e&&e()},children:[y.jsx(tle,{size:14}),y.jsx("span",{children:"Sign Out"})]})]})]})]})})]})};var Yw=(r=>(r.Urgent="Urgent",r.High="High",r.Normal="Normal",r.Low="Low",r.None="None",r))(Yw||{}),lM=(r=>(r.Todo="To do",r.InProgress="In Progress",r.Review="Review",r.Complete="Complete",r))(lM||{});const bI={"To do":"#87909e","In Progress":"#3b82f6",Review:"#eab308",Complete:"#22c55e"},mS={Urgent:"#e44356",High:"#ffcc00",Normal:"#6fddff",Low:"#87909e",None:"#d1d5db"};var Vm=Boe();function ttt(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return me.useMemo(()=>n=>{e.forEach(i=>i(n))},e)}const _I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iT(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function YH(r){return"nodeType"in r}function tf(r){var e,t;return r?iT(r)?r:YH(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function qH(r){const{Document:e}=tf(r);return r instanceof e}function cM(r){return iT(r)?!1:r instanceof tf(r).HTMLElement}function cge(r){return r instanceof tf(r).SVGElement}function aT(r){return r?iT(r)?r.document:YH(r)?qH(r)?r:cM(r)||cge(r)?r.ownerDocument:document:document:document}const Jp=_I?me.useLayoutEffect:me.useEffect;function wI(r){const e=me.useRef(r);return Jp(()=>{e.current=r}),me.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function rtt(){const r=me.useRef(null),e=me.useCallback((n,i)=>{r.current=setInterval(n,i)},[]),t=me.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function nE(r,e){e===void 0&&(e=[r]);const t=me.useRef(r);return Jp(()=>{t.current!==r&&(t.current=r)},e),t}function uM(r,e){const t=me.useRef();return me.useMemo(()=>{const n=r(t.current);return t.current=n,n},[...e])}function vR(r){const e=wI(r),t=me.useRef(null),n=me.useCallback(i=>{i!==t.current&&(e==null||e(i,t.current)),t.current=i},[]);return[t,n]}function mR(r){const e=me.useRef();return me.useEffect(()=>{e.current=r},[r]),e.current}let cF={};function fM(r,e){return me.useMemo(()=>{if(e)return e;const t=cF[r]==null?0:cF[r]+1;return cF[r]=t,r+"-"+t},[r,e])}function uge(r){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((a,s)=>{const o=Object.entries(s);for(const[l,c]of o){const u=a[l];u!=null&&(a[l]=u+r*c)}return a},{...e})}}const qw=uge(1),iE=uge(-1);function ntt(r){return"clientX"in r&&"clientY"in r}function SI(r){if(!r)return!1;const{KeyboardEvent:e}=tf(r.target);return e&&r instanceof e}function itt(r){if(!r)return!1;const{TouchEvent:e}=tf(r.target);return e&&r instanceof e}function gR(r){if(itt(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return ntt(r)?{x:r.clientX,y:r.clientY}:null}const ug=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[ug.Translate.toString(r),ug.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:n}=r;return e+" "+t+"ms "+n}}}),Yre="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function att(r){return r.matches(Yre)?r:r.querySelector(Yre)}const stt={display:"none"};function ott(r){let{id:e,value:t}=r;return yi.createElement("div",{id:e,style:stt},t)}function ltt(r){let{id:e,announcement:t,ariaLiveType:n="assertive"}=r;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return yi.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},t)}function ctt(){const[r,e]=me.useState("");return{announce:me.useCallback(n=>{n!=null&&e(n)},[]),announcement:r}}const fge=me.createContext(null);function utt(r){const e=me.useContext(fge);me.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function ftt(){const[r]=me.useState(()=>new Set),e=me.useCallback(n=>(r.add(n),()=>r.delete(n)),[r]);return[me.useCallback(n=>{let{type:i,event:a}=n;r.forEach(s=>{var o;return(o=s[i])==null?void 0:o.call(s,a)})},[r]),e]}const htt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},dtt={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function ptt(r){let{announcements:e=dtt,container:t,hiddenTextDescribedById:n,screenReaderInstructions:i=htt}=r;const{announce:a,announcement:s}=ctt(),o=fM("DndLiveRegion"),[l,c]=me.useState(!1);if(me.useEffect(()=>{c(!0)},[]),utt(me.useMemo(()=>({onDragStart(f){let{active:d}=f;a(e.onDragStart({active:d}))},onDragMove(f){let{active:d,over:h}=f;e.onDragMove&&a(e.onDragMove({active:d,over:h}))},onDragOver(f){let{active:d,over:h}=f;a(e.onDragOver({active:d,over:h}))},onDragEnd(f){let{active:d,over:h}=f;a(e.onDragEnd({active:d,over:h}))},onDragCancel(f){let{active:d,over:h}=f;a(e.onDragCancel({active:d,over:h}))}}),[a,e])),!l)return null;const u=yi.createElement(yi.Fragment,null,yi.createElement(ott,{id:n,value:i.draggable}),yi.createElement(ltt,{id:o,announcement:s}));return t?Vm.createPortal(u,t):u}var yl;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(yl||(yl={}));function xR(){}function yR(r,e){return me.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function XH(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return me.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Qp=Object.freeze({x:0,y:0});function vtt(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function mtt(r,e){const t=gR(r);if(!t)return"0 0";const n={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function gtt(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return t-n}function xtt(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return n-t}function qre(r){let{left:e,top:t,height:n,width:i}=r;return[{x:e,y:t},{x:e+i,y:t},{x:e,y:t+n},{x:e+i,y:t+n}]}function hge(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}const ZH=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const i=qre(e),a=[];for(const s of n){const{id:o}=s,l=t.get(o);if(l){const c=qre(l),u=i.reduce((d,h,p)=>d+vtt(c[p],h),0),f=Number((u/4).toFixed(4));a.push({id:o,data:{droppableContainer:s,value:f}})}}return a.sort(gtt)};function ytt(r,e){const t=Math.max(e.top,r.top),n=Math.max(e.left,r.left),i=Math.min(e.left+e.width,r.left+r.width),a=Math.min(e.top+e.height,r.top+r.height),s=i-n,o=a-t;if(n<i&&t<a){const l=e.width*e.height,c=r.width*r.height,u=s*o,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const btt=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const i=[];for(const a of n){const{id:s}=a,o=t.get(s);if(o){const l=ytt(o,e);l>0&&i.push({id:s,data:{droppableContainer:a,value:l}})}}return i.sort(xtt)};function _tt(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function dge(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:Qp}function wtt(r){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((s,o)=>({...s,top:s.top+r*o.y,bottom:s.bottom+r*o.y,left:s.left+r*o.x,right:s.right+r*o.x}),{...t})}}const Stt=wtt(1);function pge(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Ttt(r,e,t){const n=pge(e);if(!n)return r;const{scaleX:i,scaleY:a,x:s,y:o}=n,l=r.left-s-(1-i)*parseFloat(t),c=r.top-o-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),u=i?r.width/i:r.width,f=a?r.height/a:r.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const Att={ignoreTransform:!1};function sT(r,e){e===void 0&&(e=Att);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=tf(r).getComputedStyle(r);c&&(t=Ttt(t,c,u))}const{top:n,left:i,width:a,height:s,bottom:o,right:l}=t;return{top:n,left:i,width:a,height:s,bottom:o,right:l}}function Xre(r){return sT(r,{ignoreTransform:!0})}function Ett(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Mtt(r,e){return e===void 0&&(e=tf(r).getComputedStyle(r)),e.position==="fixed"}function Ctt(r,e){e===void 0&&(e=tf(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?t.test(a):!1})}function TI(r,e){const t=[];function n(i){if(e!=null&&t.length>=e||!i)return t;if(qH(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!cM(i)||cge(i)||t.includes(i))return t;const a=tf(r).getComputedStyle(i);return i!==r&&Ctt(i,a)&&t.push(i),Mtt(i,a)?t:n(i.parentNode)}return r?n(r):t}function vge(r){const[e]=TI(r,1);return e??null}function uF(r){return!_I||!r?null:iT(r)?r:YH(r)?qH(r)||r===aT(r).scrollingElement?window:cM(r)?r:null:null}function mge(r){return iT(r)?r.scrollX:r.scrollLeft}function gge(r){return iT(r)?r.scrollY:r.scrollTop}function Ej(r){return{x:mge(r),y:gge(r)}}var ql;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(ql||(ql={}));function xge(r){return!_I||!r?!1:r===document.scrollingElement}function yge(r){const e={x:0,y:0},t=xge(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},n={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},i=r.scrollTop<=e.y,a=r.scrollLeft<=e.x,s=r.scrollTop>=n.y,o=r.scrollLeft>=n.x;return{isTop:i,isLeft:a,isBottom:s,isRight:o,maxScroll:n,minScroll:e}}const Ntt={x:.2,y:.2};function Dtt(r,e,t,n,i){let{top:a,left:s,right:o,bottom:l}=t;n===void 0&&(n=10),i===void 0&&(i=Ntt);const{isTop:c,isBottom:u,isLeft:f,isRight:d}=yge(r),h={x:0,y:0},p={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!c&&a<=e.top+v.height?(h.y=ql.Backward,p.y=n*Math.abs((e.top+v.height-a)/v.height)):!u&&l>=e.bottom-v.height&&(h.y=ql.Forward,p.y=n*Math.abs((e.bottom-v.height-l)/v.height)),!d&&o>=e.right-v.width?(h.x=ql.Forward,p.x=n*Math.abs((e.right-v.width-o)/v.width)):!f&&s<=e.left+v.width&&(h.x=ql.Backward,p.x=n*Math.abs((e.left+v.width-s)/v.width)),{direction:h,speed:p}}function Ltt(r){if(r===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:e,left:t,right:n,bottom:i}=r.getBoundingClientRect();return{top:e,left:t,right:n,bottom:i,width:r.clientWidth,height:r.clientHeight}}function bge(r){return r.reduce((e,t)=>qw(e,Ej(t)),Qp)}function Rtt(r){return r.reduce((e,t)=>e+mge(t),0)}function ktt(r){return r.reduce((e,t)=>e+gge(t),0)}function _ge(r,e){if(e===void 0&&(e=sT),!r)return;const{top:t,left:n,bottom:i,right:a}=e(r);vge(r)&&(i<=0||a<=0||t>=window.innerHeight||n>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const Itt=[["x",["left","right"],Rtt],["y",["top","bottom"],ktt]];class KH{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=TI(t),i=bge(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,s,o]of Itt)for(const l of s)Object.defineProperty(this,l,{get:()=>{const c=o(n),u=i[a]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class YA{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=e}add(e,t,n){var i;(i=this.target)==null||i.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Ott(r){const{EventTarget:e}=tf(r);return r instanceof e?r:aT(r)}function fF(r,e){const t=Math.abs(r.x),n=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+n**2)>e:"x"in e&&"y"in e?t>e.x&&n>e.y:"x"in e?t>e.x:"y"in e?n>e.y:!1}var Ed;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(Ed||(Ed={}));function Zre(r){r.preventDefault()}function Ptt(r){r.stopPropagation()}var Yi;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Yi||(Yi={}));const wge={start:[Yi.Space,Yi.Enter],cancel:[Yi.Esc],end:[Yi.Space,Yi.Enter,Yi.Tab]},Ftt=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case Yi.Right:return{...t,x:t.x+25};case Yi.Left:return{...t,x:t.x-25};case Yi.Down:return{...t,y:t.y+25};case Yi.Up:return{...t,y:t.y-25}}};class $H{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new YA(aT(t)),this.windowListeners=new YA(tf(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ed.Resize,this.handleCancel),this.windowListeners.add(Ed.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ed.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&_ge(n),t(Qp)}handleKeyDown(e){if(SI(e)){const{active:t,context:n,options:i}=this.props,{keyboardCodes:a=wge,coordinateGetter:s=Ftt,scrollBehavior:o="smooth"}=i,{code:l}=e;if(a.end.includes(l)){this.handleEnd(e);return}if(a.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=n.current,u=c?{x:c.left,y:c.top}:Qp;this.referenceCoordinates||(this.referenceCoordinates=u);const f=s(e,{active:t,context:n.current,currentCoordinates:u});if(f){const d=iE(f,u),h={x:0,y:0},{scrollableAncestors:p}=n.current;for(const v of p){const x=e.code,{isTop:g,isRight:_,isLeft:w,isBottom:A,maxScroll:M,minScroll:C}=yge(v),N=Ltt(v),L={x:Math.min(x===Yi.Right?N.right-N.width/2:N.right,Math.max(x===Yi.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(x===Yi.Down?N.bottom-N.height/2:N.bottom,Math.max(x===Yi.Down?N.top:N.top+N.height/2,f.y))},D=x===Yi.Right&&!_||x===Yi.Left&&!w,k=x===Yi.Down&&!A||x===Yi.Up&&!g;if(D&&L.x!==f.x){const O=v.scrollLeft+d.x,I=x===Yi.Right&&O<=M.x||x===Yi.Left&&O>=C.x;if(I&&!d.y){v.scrollTo({left:O,behavior:o});return}I?h.x=v.scrollLeft-O:h.x=x===Yi.Right?v.scrollLeft-M.x:v.scrollLeft-C.x,h.x&&v.scrollBy({left:-h.x,behavior:o});break}else if(k&&L.y!==f.y){const O=v.scrollTop+d.y,I=x===Yi.Down&&O<=M.y||x===Yi.Up&&O>=C.y;if(I&&!d.x){v.scrollTo({top:O,behavior:o});return}I?h.y=v.scrollTop-O:h.y=x===Yi.Down?v.scrollTop-M.y:v.scrollTop-C.y,h.y&&v.scrollBy({top:-h.y,behavior:o});break}}this.handleMove(e,qw(iE(f,this.referenceCoordinates),h))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$H.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:n=wge,onActivation:i}=e,{active:a}=t;const{code:s}=r.nativeEvent;if(n.start.includes(s)){const o=a.activatorNode.current;return o&&r.target!==o?!1:(r.preventDefault(),i==null||i({event:r.nativeEvent}),!0)}return!1}}];function Kre(r){return!!(r&&"distance"in r)}function $re(r){return!!(r&&"delay"in r)}class JH{constructor(e,t,n){var i;n===void 0&&(n=Ott(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:s}=a;this.props=e,this.events=t,this.document=aT(s),this.documentListeners=new YA(this.document),this.listeners=new YA(n),this.windowListeners=new YA(tf(s)),this.initialCoordinates=(i=gR(a))!=null?i:Qp,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ed.Resize,this.handleCancel),this.windowListeners.add(Ed.DragStart,Zre),this.windowListeners.add(Ed.VisibilityChange,this.handleCancel),this.windowListeners.add(Ed.ContextMenu,Zre),this.documentListeners.add(Ed.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($re(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Kre(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ed.Click,Ptt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ed.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:i,props:a}=this,{onMove:s,options:{activationConstraint:o}}=a;if(!i)return;const l=(t=gR(e))!=null?t:Qp,c=iE(i,l);if(!n&&o){if(Kre(o)){if(o.tolerance!=null&&fF(c,o.tolerance))return this.handleCancel();if(fF(c,o.distance))return this.handleStart()}if($re(o)&&fF(c,o.tolerance))return this.handleCancel();this.handlePending(o,c);return}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Yi.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Btt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class hM extends JH{constructor(e){const{event:t}=e,n=aT(t.target);super(e,Btt,n)}}hM.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return!t.isPrimary||t.button!==0?!1:(n==null||n({event:t}),!0)}}];const ztt={move:{name:"mousemove"},end:{name:"mouseup"}};var Mj;(function(r){r[r.RightClick=2]="RightClick"})(Mj||(Mj={}));class jtt extends JH{constructor(e){super(e,ztt,aT(e.event.target))}}jtt.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return t.button===Mj.RightClick?!1:(n==null||n({event:t}),!0)}}];const hF={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Utt extends JH{constructor(e){super(e,hF)}static setup(){return window.addEventListener(hF.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(hF.move.name,e)};function e(){}}}Utt.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;const{touches:i}=t;return i.length>1?!1:(n==null||n({event:t}),!0)}}];var qA;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(qA||(qA={}));var bR;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(bR||(bR={}));function Vtt(r){let{acceleration:e,activator:t=qA.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:s=5,order:o=bR.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:d}=r;const h=Gtt({delta:f,disabled:!a}),[p,v]=rtt(),x=me.useRef({x:0,y:0}),g=me.useRef({x:0,y:0}),_=me.useMemo(()=>{switch(t){case qA.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case qA.DraggableRect:return i}},[t,i,l]),w=me.useRef(null),A=me.useCallback(()=>{const C=w.current;if(!C)return;const N=x.current.x*g.current.x,L=x.current.y*g.current.y;C.scrollBy(N,L)},[]),M=me.useMemo(()=>o===bR.TreeOrder?[...c].reverse():c,[o,c]);me.useEffect(()=>{if(!a||!c.length||!_){v();return}for(const C of M){if((n==null?void 0:n(C))===!1)continue;const N=c.indexOf(C),L=u[N];if(!L)continue;const{direction:D,speed:k}=Dtt(C,L,_,e,d);for(const O of["x","y"])h[O][D[O]]||(k[O]=0,D[O]=0);if(k.x>0||k.y>0){v(),w.current=C,p(A,s),x.current=k,g.current=D;return}}x.current={x:0,y:0},g.current={x:0,y:0},v()},[e,A,n,v,a,s,JSON.stringify(_),JSON.stringify(h),p,c,M,u,JSON.stringify(d)])}const Htt={x:{[ql.Backward]:!1,[ql.Forward]:!1},y:{[ql.Backward]:!1,[ql.Forward]:!1}};function Gtt(r){let{delta:e,disabled:t}=r;const n=mR(e);return uM(i=>{if(t||!n||!i)return Htt;const a={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[ql.Backward]:i.x[ql.Backward]||a.x===-1,[ql.Forward]:i.x[ql.Forward]||a.x===1},y:{[ql.Backward]:i.y[ql.Backward]||a.y===-1,[ql.Forward]:i.y[ql.Forward]||a.y===1}}},[t,e,n])}function Wtt(r,e){const t=e!=null?r.get(e):void 0,n=t?t.node.current:null;return uM(i=>{var a;return e==null?null:(a=n??i)!=null?a:null},[n,e])}function Ytt(r,e){return me.useMemo(()=>r.reduce((t,n)=>{const{sensor:i}=n,a=i.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,n)}));return[...t,...a]},[]),[r,e])}var aE;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(aE||(aE={}));var Cj;(function(r){r.Optimized="optimized"})(Cj||(Cj={}));const Jre=new Map;function qtt(r,e){let{dragging:t,dependencies:n,config:i}=e;const[a,s]=me.useState(null),{frequency:o,measure:l,strategy:c}=i,u=me.useRef(r),f=x(),d=nE(f),h=me.useCallback(function(g){g===void 0&&(g=[]),!d.current&&s(_=>_===null?g:_.concat(g.filter(w=>!_.includes(w))))},[d]),p=me.useRef(null),v=uM(g=>{if(f&&!t)return Jre;if(!g||g===Jre||u.current!==r||a!=null){const _=new Map;for(let w of r){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){_.set(w.id,w.rect.current);continue}const A=w.node.current,M=A?new KH(l(A),A):null;w.rect.current=M,M&&_.set(w.id,M)}return _}return g},[r,a,t,f,l]);return me.useEffect(()=>{u.current=r},[r]),me.useEffect(()=>{f||h()},[t,f]),me.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),me.useEffect(()=>{f||typeof o!="number"||p.current!==null||(p.current=setTimeout(()=>{h(),p.current=null},o))},[o,f,h,...n]),{droppableRects:v,measureDroppableContainers:h,measuringScheduled:a!=null};function x(){switch(c){case aE.Always:return!1;case aE.BeforeDragging:return t;default:return!t}}}function QH(r,e){return uM(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function Xtt(r,e){return QH(r,e)}function Ztt(r){let{callback:e,disabled:t}=r;const n=wI(e),i=me.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,t]);return me.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function AI(r){let{callback:e,disabled:t}=r;const n=wI(e),i=me.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[t]);return me.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Ktt(r){return new KH(sT(r),r)}function Qre(r,e,t){e===void 0&&(e=Ktt);const[n,i]=me.useState(null);function a(){i(l=>{if(!r)return null;if(r.isConnected===!1){var c;return(c=l??t)!=null?c:null}const u=e(r);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const s=Ztt({callback(l){if(r)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(r)){a();break}}}}),o=AI({callback:a});return Jp(()=>{a(),r?(o==null||o.observe(r),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[r]),n}function $tt(r){const e=QH(r);return dge(r,e)}const ene=[];function Jtt(r){const e=me.useRef(r),t=uM(n=>r?n&&n!==ene&&r&&e.current&&r.parentNode===e.current.parentNode?n:TI(r):ene,[r]);return me.useEffect(()=>{e.current=r},[r]),t}function Qtt(r){const[e,t]=me.useState(null),n=me.useRef(r),i=me.useCallback(a=>{const s=uF(a.target);s&&t(o=>o?(o.set(s,Ej(s)),new Map(o)):null)},[]);return me.useEffect(()=>{const a=n.current;if(r!==a){s(a);const o=r.map(l=>{const c=uF(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,Ej(c)]):null}).filter(l=>l!=null);t(o.length?new Map(o):null),n.current=r}return()=>{s(r),s(a)};function s(o){o.forEach(l=>{const c=uF(l);c==null||c.removeEventListener("scroll",i)})}},[i,r]),me.useMemo(()=>r.length?e?Array.from(e.values()).reduce((a,s)=>qw(a,s),Qp):bge(r):Qp,[r,e])}function tne(r,e){e===void 0&&(e=[]);const t=me.useRef(null);return me.useEffect(()=>{t.current=null},e),me.useEffect(()=>{const n=r!==Qp;n&&!t.current&&(t.current=r),!n&&t.current&&(t.current=null)},[r]),t.current?iE(r,t.current):Qp}function ert(r){me.useEffect(()=>{if(!_I)return;const e=r.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of e)t==null||t()}},r.map(e=>{let{sensor:t}=e;return t}))}function trt(r,e){return me.useMemo(()=>r.reduce((t,n)=>{let{eventName:i,handler:a}=n;return t[i]=s=>{a(s,e)},t},{}),[r,e])}function Sge(r){return me.useMemo(()=>r?Ett(r):null,[r])}const rne=[];function rrt(r,e){e===void 0&&(e=sT);const[t]=r,n=Sge(t?tf(t):null),[i,a]=me.useState(rne);function s(){a(()=>r.length?r.map(l=>xge(l)?n:new KH(e(l),l)):rne)}const o=AI({callback:s});return Jp(()=>{o==null||o.disconnect(),s(),r.forEach(l=>o==null?void 0:o.observe(l))},[r]),i}function Tge(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return cM(e)?e:r}function nrt(r){let{measure:e}=r;const[t,n]=me.useState(null),i=me.useCallback(c=>{for(const{target:u}of c)if(cM(u)){n(f=>{const d=e(u);return f?{...f,width:d.width,height:d.height}:d});break}},[e]),a=AI({callback:i}),s=me.useCallback(c=>{const u=Tge(c);a==null||a.disconnect(),u&&(a==null||a.observe(u)),n(u?e(u):null)},[e,a]),[o,l]=vR(s);return me.useMemo(()=>({nodeRef:o,rect:t,setRef:l}),[t,o,l])}const irt=[{sensor:hM,options:{}},{sensor:$H,options:{}}],art={current:{}},MD={draggable:{measure:Xre},droppable:{measure:Xre,strategy:aE.WhileDragging,frequency:Cj.Optimized},dragOverlay:{measure:sT}};class XA extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return(t=(n=this.get(e))==null?void 0:n.node.current)!=null?t:void 0}}const srt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new XA,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xR},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:MD,measureDroppableContainers:xR,windowRect:null,measuringScheduled:!1},Age={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xR,draggableNodes:new Map,over:null,measureDroppableContainers:xR},dM=me.createContext(Age),Ege=me.createContext(srt);function ort(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new XA}}}function lrt(r,e){switch(e.type){case yl.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case yl.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case yl.DragEnd:case yl.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case yl.RegisterDroppable:{const{element:t}=e,{id:n}=t,i=new XA(r.droppable.containers);return i.set(n,t),{...r,droppable:{...r.droppable,containers:i}}}case yl.SetDroppableDisabled:{const{id:t,key:n,disabled:i}=e,a=r.droppable.containers.get(t);if(!a||n!==a.key)return r;const s=new XA(r.droppable.containers);return s.set(t,{...a,disabled:i}),{...r,droppable:{...r.droppable,containers:s}}}case yl.UnregisterDroppable:{const{id:t,key:n}=e,i=r.droppable.containers.get(t);if(!i||n!==i.key)return r;const a=new XA(r.droppable.containers);return a.delete(t),{...r,droppable:{...r.droppable,containers:a}}}default:return r}}function crt(r){let{disabled:e}=r;const{active:t,activatorEvent:n,draggableNodes:i}=me.useContext(dM),a=mR(n),s=mR(t==null?void 0:t.id);return me.useEffect(()=>{if(!e&&!n&&a&&s!=null){if(!SI(a)||document.activeElement===a.target)return;const o=i.get(s);if(!o)return;const{activatorNode:l,node:c}=o;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=att(u);if(f){f.focus();break}}})}},[n,e,i,s,a]),null}function Mge(r,e){let{transform:t,...n}=e;return r!=null&&r.length?r.reduce((i,a)=>a({transform:i,...n}),t):t}function urt(r){return me.useMemo(()=>({draggable:{...MD.draggable,...r==null?void 0:r.draggable},droppable:{...MD.droppable,...r==null?void 0:r.droppable},dragOverlay:{...MD.dragOverlay,...r==null?void 0:r.dragOverlay}}),[r==null?void 0:r.draggable,r==null?void 0:r.droppable,r==null?void 0:r.dragOverlay])}function frt(r){let{activeNode:e,measure:t,initialRect:n,config:i=!0}=r;const a=me.useRef(!1),{x:s,y:o}=typeof i=="boolean"?{x:i,y:i}:i;Jp(()=>{if(!s&&!o||!e){a.current=!1;return}if(a.current||!n)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=t(c),f=dge(u,n);if(s||(f.x=0),o||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const d=vge(c);d&&d.scrollBy({top:f.y,left:f.x})}},[e,s,o,n,t])}const EI=me.createContext({...Qp,scaleX:1,scaleY:1});var Cx;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Cx||(Cx={}));const eG=me.memo(function(e){var t,n,i,a;let{id:s,accessibility:o,autoScroll:l=!0,children:c,sensors:u=irt,collisionDetection:f=btt,measuring:d,modifiers:h,...p}=e;const v=me.useReducer(lrt,void 0,ort),[x,g]=v,[_,w]=ftt(),[A,M]=me.useState(Cx.Uninitialized),C=A===Cx.Initialized,{draggable:{active:N,nodes:L,translate:D},droppable:{containers:k}}=x,O=N!=null?L.get(N):null,I=me.useRef({initial:null,translated:null}),j=me.useMemo(()=>{var Lt;return N!=null?{id:N,data:(Lt=O==null?void 0:O.data)!=null?Lt:art,rect:I}:null},[N,O]),B=me.useRef(null),[K,H]=me.useState(null),[Z,Y]=me.useState(null),J=nE(p,Object.values(p)),oe=fM("DndDescribedBy",s),X=me.useMemo(()=>k.getEnabled(),[k]),F=urt(d),{droppableRects:W,measureDroppableContainers:Q,measuringScheduled:re}=qtt(X,{dragging:C,dependencies:[D.x,D.y],config:F.droppable}),ae=Wtt(L,N),ce=me.useMemo(()=>Z?gR(Z):null,[Z]),ye=qt(),fe=Xtt(ae,F.draggable.measure);frt({activeNode:N!=null?L.get(N):null,config:ye.layoutShiftCompensation,initialRect:fe,measure:F.draggable.measure});const be=Qre(ae,F.draggable.measure,fe),Oe=Qre(ae?ae.parentElement:null),xe=me.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Qe=k.getNodeFor((t=xe.current.over)==null?void 0:t.id),ne=nrt({measure:F.dragOverlay.measure}),te=(n=ne.nodeRef.current)!=null?n:ae,Me=C?(i=ne.rect)!=null?i:be:null,ge=!!(ne.nodeRef.current&&ne.rect),de=$tt(ge?null:be),_e=Sge(te?tf(te):null),je=Jtt(C?Qe??ae:null),Be=rrt(je),Fe=Mge(h,{transform:{x:D.x-de.x,y:D.y-de.y,scaleX:1,scaleY:1},activatorEvent:Z,active:j,activeNodeRect:be,containerNodeRect:Oe,draggingNodeRect:Me,over:xe.current.over,overlayNodeRect:ne.rect,scrollableAncestors:je,scrollableAncestorRects:Be,windowRect:_e}),we=ce?qw(ce,D):null,pe=Qtt(je),ze=tne(pe),$e=tne(pe,[be]),ht=qw(Fe,ze),Je=Me?Stt(Me,Fe):null,Ot=j&&Je?f({active:j,collisionRect:Je,droppableRects:W,droppableContainers:X,pointerCoordinates:we}):null,bt=hge(Ot,"id"),[Nt,ir]=me.useState(null),ft=ge?Fe:qw(Fe,$e),Dt=_tt(ft,(a=Nt==null?void 0:Nt.rect)!=null?a:null,be),tr=me.useRef(null),Ze=me.useCallback((Lt,vt)=>{let{sensor:Et,options:dr}=vt;if(B.current==null)return;const vr=L.get(B.current);if(!vr)return;const Yr=Lt.nativeEvent,Hr=new Et({active:B.current,activeNode:vr,event:Yr,options:dr,context:xe,onAbort(wn){if(!L.get(wn))return;const{onDragAbort:Ei}=J.current,Ki={id:wn};Ei==null||Ei(Ki),_({type:"onDragAbort",event:Ki})},onPending(wn,Va,Ei,Ki){if(!L.get(wn))return;const{onDragPending:Mi}=J.current,Ee={id:wn,constraint:Va,initialCoordinates:Ei,offset:Ki};Mi==null||Mi(Ee),_({type:"onDragPending",event:Ee})},onStart(wn){const Va=B.current;if(Va==null)return;const Ei=L.get(Va);if(!Ei)return;const{onDragStart:Ki}=J.current,Sn={activatorEvent:Yr,active:{id:Va,data:Ei.data,rect:I}};Vm.unstable_batchedUpdates(()=>{Ki==null||Ki(Sn),M(Cx.Initializing),g({type:yl.DragStart,initialCoordinates:wn,active:Va}),_({type:"onDragStart",event:Sn}),H(tr.current),Y(Yr)})},onMove(wn){g({type:yl.DragMove,coordinates:wn})},onEnd:xr(yl.DragEnd),onCancel:xr(yl.DragCancel)});tr.current=Hr;function xr(wn){return async function(){const{active:Ei,collisions:Ki,over:Sn,scrollAdjustedTranslate:Mi}=xe.current;let Ee=null;if(Ei&&Mi){const{cancelDrop:He}=J.current;Ee={activatorEvent:Yr,active:Ei,collisions:Ki,delta:Mi,over:Sn},wn===yl.DragEnd&&typeof He=="function"&&await Promise.resolve(He(Ee))&&(wn=yl.DragCancel)}B.current=null,Vm.unstable_batchedUpdates(()=>{g({type:wn}),M(Cx.Uninitialized),ir(null),H(null),Y(null),tr.current=null;const He=wn===yl.DragEnd?"onDragEnd":"onDragCancel";if(Ee){const ke=J.current[He];ke==null||ke(Ee),_({type:He,event:Ee})}})}}},[L]),it=me.useCallback((Lt,vt)=>(Et,dr)=>{const vr=Et.nativeEvent,Yr=L.get(dr);if(B.current!==null||!Yr||vr.dndKit||vr.defaultPrevented)return;const Hr={active:Yr};Lt(Et,vt.options,Hr)===!0&&(vr.dndKit={capturedBy:vt.sensor},B.current=dr,Ze(Et,vt))},[L,Ze]),Wt=Ytt(u,it);ert(u),Jp(()=>{be&&A===Cx.Initializing&&M(Cx.Initialized)},[be,A]),me.useEffect(()=>{const{onDragMove:Lt}=J.current,{active:vt,activatorEvent:Et,collisions:dr,over:vr}=xe.current;if(!vt||!Et)return;const Yr={active:vt,activatorEvent:Et,collisions:dr,delta:{x:ht.x,y:ht.y},over:vr};Vm.unstable_batchedUpdates(()=>{Lt==null||Lt(Yr),_({type:"onDragMove",event:Yr})})},[ht.x,ht.y]),me.useEffect(()=>{const{active:Lt,activatorEvent:vt,collisions:Et,droppableContainers:dr,scrollAdjustedTranslate:vr}=xe.current;if(!Lt||B.current==null||!vt||!vr)return;const{onDragOver:Yr}=J.current,Hr=dr.get(bt),xr=Hr&&Hr.rect.current?{id:Hr.id,rect:Hr.rect.current,data:Hr.data,disabled:Hr.disabled}:null,wn={active:Lt,activatorEvent:vt,collisions:Et,delta:{x:vr.x,y:vr.y},over:xr};Vm.unstable_batchedUpdates(()=>{ir(xr),Yr==null||Yr(wn),_({type:"onDragOver",event:wn})})},[bt]),Jp(()=>{xe.current={activatorEvent:Z,active:j,activeNode:ae,collisionRect:Je,collisions:Ot,droppableRects:W,draggableNodes:L,draggingNode:te,draggingNodeRect:Me,droppableContainers:k,over:Nt,scrollableAncestors:je,scrollAdjustedTranslate:ht},I.current={initial:Me,translated:Je}},[j,ae,Ot,Je,L,te,Me,W,k,Nt,je,ht]),Vtt({...ye,delta:D,draggingRect:Je,pointerCoordinates:we,scrollableAncestors:je,scrollableAncestorRects:Be});const Ue=me.useMemo(()=>({active:j,activeNode:ae,activeNodeRect:be,activatorEvent:Z,collisions:Ot,containerNodeRect:Oe,dragOverlay:ne,draggableNodes:L,droppableContainers:k,droppableRects:W,over:Nt,measureDroppableContainers:Q,scrollableAncestors:je,scrollableAncestorRects:Be,measuringConfiguration:F,measuringScheduled:re,windowRect:_e}),[j,ae,be,Z,Ot,Oe,ne,L,k,W,Nt,Q,je,Be,F,re,_e]),Ft=me.useMemo(()=>({activatorEvent:Z,activators:Wt,active:j,activeNodeRect:be,ariaDescribedById:{draggable:oe},dispatch:g,draggableNodes:L,over:Nt,measureDroppableContainers:Q}),[Z,Wt,j,be,g,oe,L,Nt,Q]);return yi.createElement(fge.Provider,{value:w},yi.createElement(dM.Provider,{value:Ft},yi.createElement(Ege.Provider,{value:Ue},yi.createElement(EI.Provider,{value:Dt},c)),yi.createElement(crt,{disabled:(o==null?void 0:o.restoreFocus)===!1})),yi.createElement(ptt,{...o,hiddenTextDescribedById:oe}));function qt(){const Lt=(K==null?void 0:K.autoScrollEnabled)===!1,vt=typeof l=="object"?l.enabled===!1:l===!1,Et=C&&!Lt&&!vt;return typeof l=="object"?{...l,enabled:Et}:{enabled:Et}}}),hrt=me.createContext(null),nne="button",drt="Draggable";function Cge(r){let{id:e,data:t,disabled:n=!1,attributes:i}=r;const a=fM(drt),{activators:s,activatorEvent:o,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:d}=me.useContext(dM),{role:h=nne,roleDescription:p="draggable",tabIndex:v=0}=i??{},x=(l==null?void 0:l.id)===e,g=me.useContext(x?EI:hrt),[_,w]=vR(),[A,M]=vR(),C=trt(s,e),N=nE(t);Jp(()=>(f.set(e,{id:e,key:a,node:_,activatorNode:A,data:N}),()=>{const D=f.get(e);D&&D.key===a&&f.delete(e)}),[f,e]);const L=me.useMemo(()=>({role:h,tabIndex:v,"aria-disabled":n,"aria-pressed":x&&h===nne?!0:void 0,"aria-roledescription":p,"aria-describedby":u.draggable}),[n,h,v,x,p,u.draggable]);return{active:l,activatorEvent:o,activeNodeRect:c,attributes:L,isDragging:x,listeners:n?void 0:C,node:_,over:d,setNodeRef:w,setActivatorNodeRef:M,transform:g}}function Nge(){return me.useContext(Ege)}const prt="Droppable",vrt={timeout:25};function tG(r){let{data:e,disabled:t=!1,id:n,resizeObserverConfig:i}=r;const a=fM(prt),{active:s,dispatch:o,over:l,measureDroppableContainers:c}=me.useContext(dM),u=me.useRef({disabled:t}),f=me.useRef(!1),d=me.useRef(null),h=me.useRef(null),{disabled:p,updateMeasurementsFor:v,timeout:x}={...vrt,...i},g=nE(v??n),_=me.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{c(Array.isArray(g.current)?g.current:[g.current]),h.current=null},x)},[x]),w=AI({callback:_,disabled:p||!s}),A=me.useCallback((L,D)=>{w&&(D&&(w.unobserve(D),f.current=!1),L&&w.observe(L))},[w]),[M,C]=vR(A),N=nE(e);return me.useEffect(()=>{!w||!M.current||(w.disconnect(),f.current=!1,w.observe(M.current))},[M,w]),me.useEffect(()=>(o({type:yl.RegisterDroppable,element:{id:n,key:a,disabled:t,node:M,rect:d,data:N}}),()=>o({type:yl.UnregisterDroppable,key:a,id:n})),[n]),me.useEffect(()=>{t!==u.current.disabled&&(o({type:yl.SetDroppableDisabled,id:n,key:a,disabled:t}),u.current.disabled=t)},[n,a,t,o]),{active:s,rect:d,isOver:(l==null?void 0:l.id)===n,node:M,over:l,setNodeRef:C}}function mrt(r){let{animation:e,children:t}=r;const[n,i]=me.useState(null),[a,s]=me.useState(null),o=mR(t);return!t&&!n&&o&&i(o),Jp(()=>{if(!a)return;const l=n==null?void 0:n.key,c=n==null?void 0:n.props.id;if(l==null||c==null){i(null);return}Promise.resolve(e(c,a)).then(()=>{i(null)})},[e,n,a]),yi.createElement(yi.Fragment,null,t,n?me.cloneElement(n,{ref:s}):null)}const grt={x:0,y:0,scaleX:1,scaleY:1};function xrt(r){let{children:e}=r;return yi.createElement(dM.Provider,{value:Age},yi.createElement(EI.Provider,{value:grt},e))}const yrt={position:"fixed",touchAction:"none"},brt=r=>SI(r)?"transform 250ms ease":void 0,_rt=me.forwardRef((r,e)=>{let{as:t,activatorEvent:n,adjustScale:i,children:a,className:s,rect:o,style:l,transform:c,transition:u=brt}=r;if(!o)return null;const f=i?c:{...c,scaleX:1,scaleY:1},d={...yrt,width:o.width,height:o.height,top:o.top,left:o.left,transform:ug.Transform.toString(f),transformOrigin:i&&n?mtt(n,o):void 0,transition:typeof u=="function"?u(n):u,...l};return yi.createElement(t,{className:s,style:d,ref:e},a)}),rG=r=>e=>{let{active:t,dragOverlay:n}=e;const i={},{styles:a,className:s}=r;if(a!=null&&a.active)for(const[o,l]of Object.entries(a.active))l!==void 0&&(i[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,l));if(a!=null&&a.dragOverlay)for(const[o,l]of Object.entries(a.dragOverlay))l!==void 0&&n.node.style.setProperty(o,l);return s!=null&&s.active&&t.node.classList.add(s.active),s!=null&&s.dragOverlay&&n.node.classList.add(s.dragOverlay),function(){for(const[l,c]of Object.entries(i))t.node.style.setProperty(l,c);s!=null&&s.active&&t.node.classList.remove(s.active)}},wrt=r=>{let{transform:{initial:e,final:t}}=r;return[{transform:ug.Transform.toString(e)},{transform:ug.Transform.toString(t)}]},Srt={duration:250,easing:"ease",keyframes:wrt,sideEffects:rG({styles:{active:{opacity:"0"}}})};function Trt(r){let{config:e,draggableNodes:t,droppableContainers:n,measuringConfiguration:i}=r;return wI((a,s)=>{if(e===null)return;const o=t.get(a);if(!o)return;const l=o.node.current;if(!l)return;const c=Tge(s);if(!c)return;const{transform:u}=tf(s).getComputedStyle(s),f=pge(u);if(!f)return;const d=typeof e=="function"?e:Art(e);return _ge(l,i.draggable.measure),d({active:{id:a,data:o.data,node:l,rect:i.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:s,rect:i.dragOverlay.measure(c)},droppableContainers:n,measuringConfiguration:i,transform:f})})}function Art(r){const{duration:e,easing:t,sideEffects:n,keyframes:i}={...Srt,...r};return a=>{let{active:s,dragOverlay:o,transform:l,...c}=a;if(!e)return;const u={x:o.rect.left-s.rect.left,y:o.rect.top-s.rect.top},f={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/o.rect.height:1},d={x:l.x-u.x,y:l.y-u.y,...f},h=i({...c,active:s,dragOverlay:o,transform:{initial:l,final:d}}),[p]=h,v=h[h.length-1];if(JSON.stringify(p)===JSON.stringify(v))return;const x=n==null?void 0:n({active:s,dragOverlay:o,...c}),g=o.node.animate(h,{duration:e,easing:t,fill:"forwards"});return new Promise(_=>{g.onfinish=()=>{x==null||x(),_()}})}}let ine=0;function Ert(r){return me.useMemo(()=>{if(r!=null)return ine++,ine},[r])}const nG=yi.memo(r=>{let{adjustScale:e=!1,children:t,dropAnimation:n,style:i,transition:a,modifiers:s,wrapperElement:o="div",className:l,zIndex:c=999}=r;const{activatorEvent:u,active:f,activeNodeRect:d,containerNodeRect:h,draggableNodes:p,droppableContainers:v,dragOverlay:x,over:g,measuringConfiguration:_,scrollableAncestors:w,scrollableAncestorRects:A,windowRect:M}=Nge(),C=me.useContext(EI),N=Ert(f==null?void 0:f.id),L=Mge(s,{activatorEvent:u,active:f,activeNodeRect:d,containerNodeRect:h,draggingNodeRect:x.rect,over:g,overlayNodeRect:x.rect,scrollableAncestors:w,scrollableAncestorRects:A,transform:C,windowRect:M}),D=QH(d),k=Trt({config:n,draggableNodes:p,droppableContainers:v,measuringConfiguration:_}),O=D?x.setRef:void 0;return yi.createElement(xrt,null,yi.createElement(mrt,{animation:k},f&&N?yi.createElement(_rt,{key:N,id:f.id,ref:O,as:o,activatorEvent:u,adjustScale:e,className:l,transition:a,rect:D,style:{zIndex:c,...i},transform:L},t):null))});function Dge(r,e,t){const n=r.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}function Mrt(r,e){return r.reduce((t,n,i)=>{const a=e.get(n);return a&&(t[i]=a),t},Array(r.length))}function YN(r){return r!==null&&r>=0}function Crt(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Nrt(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const Lge=r=>{let{rects:e,activeIndex:t,overIndex:n,index:i}=r;const a=Dge(e,n,t),s=e[i],o=a[i];return!o||!s?null:{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}},qN={scaleX:1,scaleY:1},Rge=r=>{var e;let{activeIndex:t,activeNodeRect:n,index:i,rects:a,overIndex:s}=r;const o=(e=a[t])!=null?e:n;if(!o)return null;if(i===t){const c=a[s];return c?{x:0,y:t<s?c.top+c.height-(o.top+o.height):c.top-o.top,...qN}:null}const l=Drt(a,i,t);return i>t&&i<=s?{x:0,y:-o.height-l,...qN}:i<t&&i>=s?{x:0,y:o.height+l,...qN}:{x:0,y:0,...qN}};function Drt(r,e,t){const n=r[e],i=r[e-1],a=r[e+1];return n?t<e?i?n.top-(i.top+i.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const kge="Sortable",Ige=yi.createContext({activeIndex:-1,containerId:kge,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Lge,disabled:{draggable:!1,droppable:!1}});function Oge(r){let{children:e,id:t,items:n,strategy:i=Lge,disabled:a=!1}=r;const{active:s,dragOverlay:o,droppableRects:l,over:c,measureDroppableContainers:u}=Nge(),f=fM(kge,t),d=o.rect!==null,h=me.useMemo(()=>n.map(C=>typeof C=="object"&&"id"in C?C.id:C),[n]),p=s!=null,v=s?h.indexOf(s.id):-1,x=c?h.indexOf(c.id):-1,g=me.useRef(h),_=!Crt(h,g.current),w=x!==-1&&v===-1||_,A=Nrt(a);Jp(()=>{_&&p&&u(h)},[_,h,p,u]),me.useEffect(()=>{g.current=h},[h]);const M=me.useMemo(()=>({activeIndex:v,containerId:f,disabled:A,disableTransforms:w,items:h,overIndex:x,useDragOverlay:d,sortedRects:Mrt(h,l),strategy:i}),[v,f,A.draggable,A.droppable,w,h,x,l,d,i]);return yi.createElement(Ige.Provider,{value:M},e)}const Lrt=r=>{let{id:e,items:t,activeIndex:n,overIndex:i}=r;return Dge(t,n,i).indexOf(e)},Rrt=r=>{let{containerId:e,isSorting:t,wasDragging:n,index:i,items:a,newIndex:s,previousItems:o,previousContainerId:l,transition:c}=r;return!c||!n||o!==a&&i===s?!1:t?!0:s!==i&&e===l},krt={duration:200,easing:"ease"},Pge="transform",Irt=ug.Transition.toString({property:Pge,duration:0,easing:"linear"}),Ort={roleDescription:"sortable"};function Prt(r){let{disabled:e,index:t,node:n,rect:i}=r;const[a,s]=me.useState(null),o=me.useRef(t);return Jp(()=>{if(!e&&t!==o.current&&n.current){const l=i.current;if(l){const c=sT(n.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&s(u)}}t!==o.current&&(o.current=t)},[e,t,n,i]),me.useEffect(()=>{a&&s(null)},[a]),a}function Fge(r){let{animateLayoutChanges:e=Rrt,attributes:t,disabled:n,data:i,getNewIndex:a=Lrt,id:s,strategy:o,resizeObserverConfig:l,transition:c=krt}=r;const{items:u,containerId:f,activeIndex:d,disabled:h,disableTransforms:p,sortedRects:v,overIndex:x,useDragOverlay:g,strategy:_}=me.useContext(Ige),w=Frt(n,h),A=u.indexOf(s),M=me.useMemo(()=>({sortable:{containerId:f,index:A,items:u},...i}),[f,i,A,u]),C=me.useMemo(()=>u.slice(u.indexOf(s)),[u,s]),{rect:N,node:L,isOver:D,setNodeRef:k}=tG({id:s,data:M,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...l}}),{active:O,activatorEvent:I,activeNodeRect:j,attributes:B,setNodeRef:K,listeners:H,isDragging:Z,over:Y,setActivatorNodeRef:J,transform:oe}=Cge({id:s,data:M,attributes:{...Ort,...t},disabled:w.draggable}),X=ttt(k,K),F=!!O,W=F&&!p&&YN(d)&&YN(x),Q=!g&&Z,re=Q&&W?oe:null,ce=W?re??(o??_)({rects:v,activeNodeRect:j,activeIndex:d,overIndex:x,index:A}):null,ye=YN(d)&&YN(x)?a({id:s,items:u,activeIndex:d,overIndex:x}):A,fe=O==null?void 0:O.id,be=me.useRef({activeId:fe,items:u,newIndex:ye,containerId:f}),Oe=u!==be.current.items,xe=e({active:O,containerId:f,isDragging:Z,isSorting:F,id:s,index:A,items:u,newIndex:be.current.newIndex,previousItems:be.current.items,previousContainerId:be.current.containerId,transition:c,wasDragging:be.current.activeId!=null}),Qe=Prt({disabled:!xe,index:A,node:L,rect:N});return me.useEffect(()=>{F&&be.current.newIndex!==ye&&(be.current.newIndex=ye),f!==be.current.containerId&&(be.current.containerId=f),u!==be.current.items&&(be.current.items=u)},[F,ye,f,u]),me.useEffect(()=>{if(fe===be.current.activeId)return;if(fe!=null&&be.current.activeId==null){be.current.activeId=fe;return}const te=setTimeout(()=>{be.current.activeId=fe},50);return()=>clearTimeout(te)},[fe]),{active:O,activeIndex:d,attributes:B,data:M,rect:N,index:A,newIndex:ye,items:u,isOver:D,isSorting:F,isDragging:Z,listeners:H,node:L,overIndex:x,over:Y,setNodeRef:X,setActivatorNodeRef:J,setDroppableNodeRef:k,setDraggableNodeRef:K,transform:Qe??ce,transition:ne()};function ne(){if(Qe||Oe&&be.current.newIndex===A)return Irt;if(!(Q&&!SI(I)||!c)&&(F||xe))return ug.Transition.toString({...c,property:Pge})}}function Frt(r,e){var t,n;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r==null?void 0:r.draggable)!=null?t:e.draggable,droppable:(n=r==null?void 0:r.droppable)!=null?n:e.droppable}}function _R(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Brt=[Yi.Down,Yi.Right,Yi.Up,Yi.Left],zrt=(r,e)=>{let{context:{active:t,collisionRect:n,droppableRects:i,droppableContainers:a,over:s,scrollableAncestors:o}}=e;if(Brt.includes(r.code)){if(r.preventDefault(),!t||!n)return;const l=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const d=i.get(f.id);if(d)switch(r.code){case Yi.Down:n.top<d.top&&l.push(f);break;case Yi.Up:n.top>d.top&&l.push(f);break;case Yi.Left:n.left>d.left&&l.push(f);break;case Yi.Right:n.left<d.left&&l.push(f);break}});const c=ZH({collisionRect:n,droppableRects:i,droppableContainers:l});let u=hge(c,"id");if(u===(s==null?void 0:s.id)&&c.length>1&&(u=c[1].id),u!=null){const f=a.get(t.id),d=a.get(u),h=d?i.get(d.id):null,p=d==null?void 0:d.node.current;if(p&&h&&f&&d){const x=TI(p).some((C,N)=>o[N]!==C),g=Bge(f,d),_=jrt(f,d),w=x||!g?{x:0,y:0}:{x:_?n.width-h.width:0,y:_?n.height-h.height:0},A={x:h.left,y:h.top};return w.x&&w.y?A:iE(A,w)}}}};function Bge(r,e){return!_R(r)||!_R(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function jrt(r,e){return!_R(r)||!_R(e)||!Bge(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const Urt=(r,e)=>{const t=new Array(r.length+e.length);for(let n=0;n<r.length;n++)t[n]=r[n];for(let n=0;n<e.length;n++)t[r.length+n]=e[n];return t},Vrt=(r,e)=>({classGroupId:r,validator:e}),zge=(r=new Map,e=null,t)=>({nextPart:r,validators:e,classGroupId:t}),wR="-",ane=[],Hrt="arbitrary..",Grt=r=>{const e=Yrt(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return Wrt(s);const o=s.split(wR),l=o[0]===""&&o.length>1?1:0;return jge(o,l,e)},getConflictingClassGroupIds:(s,o)=>{if(o){const l=n[s],c=t[s];return l?c?Urt(c,l):l:c||ane}return t[s]||ane}}},jge=(r,e,t)=>{if(r.length-e===0)return t.classGroupId;const i=r[e],a=t.nextPart.get(i);if(a){const c=jge(r,e+1,a);if(c)return c}const s=t.validators;if(s===null)return;const o=e===0?r.join(wR):r.slice(e).join(wR),l=s.length;for(let c=0;c<l;c++){const u=s[c];if(u.validator(o))return u.classGroupId}},Wrt=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),t=e.indexOf(":"),n=e.slice(0,t);return n?Hrt+n:void 0})(),Yrt=r=>{const{theme:e,classGroups:t}=r;return qrt(t,e)},qrt=(r,e)=>{const t=zge();for(const n in r){const i=r[n];iG(i,t,n,e)}return t},iG=(r,e,t,n)=>{const i=r.length;for(let a=0;a<i;a++){const s=r[a];Xrt(s,e,t,n)}},Xrt=(r,e,t,n)=>{if(typeof r=="string"){Zrt(r,e,t);return}if(typeof r=="function"){Krt(r,e,t,n);return}$rt(r,e,t,n)},Zrt=(r,e,t)=>{const n=r===""?e:Uge(e,r);n.classGroupId=t},Krt=(r,e,t,n)=>{if(Jrt(r)){iG(r(n),e,t,n);return}e.validators===null&&(e.validators=[]),e.validators.push(Vrt(t,r))},$rt=(r,e,t,n)=>{const i=Object.entries(r),a=i.length;for(let s=0;s<a;s++){const[o,l]=i[s];iG(l,Uge(e,o),t,n)}},Uge=(r,e)=>{let t=r;const n=e.split(wR),i=n.length;for(let a=0;a<i;a++){const s=n[a];let o=t.nextPart.get(s);o||(o=zge(),t.nextPart.set(s,o)),t=o}return t},Jrt=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,Qrt=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),n=Object.create(null);const i=(a,s)=>{t[a]=s,e++,e>r&&(e=0,n=t,t=Object.create(null))};return{get(a){let s=t[a];if(s!==void 0)return s;if((s=n[a])!==void 0)return i(a,s),s},set(a,s){a in t?t[a]=s:i(a,s)}}},Nj="!",sne=":",ent=[],one=(r,e,t,n,i)=>({modifiers:r,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:n,isExternal:i}),tnt=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=i=>{const a=[];let s=0,o=0,l=0,c;const u=i.length;for(let v=0;v<u;v++){const x=i[v];if(s===0&&o===0){if(x===sne){a.push(i.slice(l,v)),l=v+1;continue}if(x==="/"){c=v;continue}}x==="["?s++:x==="]"?s--:x==="("?o++:x===")"&&o--}const f=a.length===0?i:i.slice(l);let d=f,h=!1;f.endsWith(Nj)?(d=f.slice(0,-1),h=!0):f.startsWith(Nj)&&(d=f.slice(1),h=!0);const p=c&&c>l?c-l:void 0;return one(a,h,d,p)};if(e){const i=e+sne,a=n;n=s=>s.startsWith(i)?a(s.slice(i.length)):one(ent,!1,s,void 0,!0)}if(t){const i=n;n=a=>t({className:a,parseClassName:i})}return n},rnt=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((t,n)=>{e.set(t,1e6+n)}),t=>{const n=[];let i=[];for(let a=0;a<t.length;a++){const s=t[a],o=s[0]==="[",l=e.has(s);o||l?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(s)):i.push(s)}return i.length>0&&(i.sort(),n.push(...i)),n}},nnt=r=>({cache:Qrt(r.cacheSize),parseClassName:tnt(r),sortModifiers:rnt(r),...Grt(r)}),int=/\s+/,ant=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=e,s=[],o=r.trim().split(int);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:f,modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:v}=t(u);if(f){l=u+(l.length>0?" "+l:l);continue}let x=!!v,g=n(x?p.substring(0,v):p);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(p),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const _=d.length===0?"":d.length===1?d[0]:a(d).join(":"),w=h?_+Nj:_,A=w+g;if(s.indexOf(A)>-1)continue;s.push(A);const M=i(g,x);for(let C=0;C<M.length;++C){const N=M[C];s.push(w+N)}l=u+(l.length>0?" "+l:l)}return l},snt=(...r)=>{let e=0,t,n,i="";for(;e<r.length;)(t=r[e++])&&(n=Vge(t))&&(i&&(i+=" "),i+=n);return i},Vge=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=Vge(r[n]))&&(t&&(t+=" "),t+=e);return t},ont=(r,...e)=>{let t,n,i,a;const s=l=>{const c=e.reduce((u,f)=>f(u),r());return t=nnt(c),n=t.cache.get,i=t.cache.set,a=o,o(l)},o=l=>{const c=n(l);if(c)return c;const u=ant(l,t);return i(l,u),u};return a=s,(...l)=>a(snt(...l))},lnt=[],ml=r=>{const e=t=>t[r]||lnt;return e.isThemeGetter=!0,e},Hge=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Gge=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cnt=/^\d+\/\d+$/,unt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fnt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hnt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,dnt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pnt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,P_=r=>cnt.test(r),xi=r=>!!r&&!Number.isNaN(Number(r)),hx=r=>!!r&&Number.isInteger(Number(r)),dF=r=>r.endsWith("%")&&xi(r.slice(0,-1)),ym=r=>unt.test(r),vnt=()=>!0,mnt=r=>fnt.test(r)&&!hnt.test(r),Wge=()=>!1,gnt=r=>dnt.test(r),xnt=r=>pnt.test(r),ynt=r=>!Qr(r)&&!en(r),bnt=r=>oT(r,Xge,Wge),Qr=r=>Hge.test(r),R1=r=>oT(r,Zge,mnt),pF=r=>oT(r,Ant,xi),lne=r=>oT(r,Yge,Wge),_nt=r=>oT(r,qge,xnt),XN=r=>oT(r,Kge,gnt),en=r=>Gge.test(r),N5=r=>lT(r,Zge),wnt=r=>lT(r,Ent),cne=r=>lT(r,Yge),Snt=r=>lT(r,Xge),Tnt=r=>lT(r,qge),ZN=r=>lT(r,Kge,!0),oT=(r,e,t)=>{const n=Hge.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},lT=(r,e,t=!1)=>{const n=Gge.exec(r);return n?n[1]?e(n[1]):t:!1},Yge=r=>r==="position"||r==="percentage",qge=r=>r==="image"||r==="url",Xge=r=>r==="length"||r==="size"||r==="bg-size",Zge=r=>r==="length",Ant=r=>r==="number",Ent=r=>r==="family-name",Kge=r=>r==="shadow",Mnt=()=>{const r=ml("color"),e=ml("font"),t=ml("text"),n=ml("font-weight"),i=ml("tracking"),a=ml("leading"),s=ml("breakpoint"),o=ml("container"),l=ml("spacing"),c=ml("radius"),u=ml("shadow"),f=ml("inset-shadow"),d=ml("text-shadow"),h=ml("drop-shadow"),p=ml("blur"),v=ml("perspective"),x=ml("aspect"),g=ml("ease"),_=ml("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...A(),en,Qr],C=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],L=()=>[en,Qr,l],D=()=>[P_,"full","auto",...L()],k=()=>[hx,"none","subgrid",en,Qr],O=()=>["auto",{span:["full",hx,en,Qr]},hx,en,Qr],I=()=>[hx,"auto",en,Qr],j=()=>["auto","min","max","fr",en,Qr],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...L()],Z=()=>[P_,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],Y=()=>[r,en,Qr],J=()=>[...A(),cne,lne,{position:[en,Qr]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",Snt,bnt,{size:[en,Qr]}],F=()=>[dF,N5,R1],W=()=>["","none","full",c,en,Qr],Q=()=>["",xi,N5,R1],re=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[xi,dF,cne,lne],ye=()=>["","none",p,en,Qr],fe=()=>["none",xi,en,Qr],be=()=>["none",xi,en,Qr],Oe=()=>[xi,en,Qr],xe=()=>[P_,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ym],breakpoint:[ym],color:[vnt],container:[ym],"drop-shadow":[ym],ease:["in","out","in-out"],font:[ynt],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ym],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ym],shadow:[ym],spacing:["px",xi],text:[ym],"text-shadow":[ym],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",P_,Qr,en,x]}],container:["container"],columns:[{columns:[xi,Qr,en,o]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[hx,"auto",en,Qr]}],basis:[{basis:[P_,"full","auto",o,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xi,P_,"auto","initial","none",Qr]}],grow:[{grow:["",xi,en,Qr]}],shrink:[{shrink:["",xi,en,Qr]}],order:[{order:[hx,"first","last","none",en,Qr]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[o,"screen",...Z()]}],"min-w":[{"min-w":[o,"screen","none",...Z()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",t,N5,R1]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,en,pF]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dF,Qr]}],"font-family":[{font:[wnt,Qr,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,en,Qr]}],"line-clamp":[{"line-clamp":[xi,"none",en,pF]}],leading:[{leading:[a,...L()]}],"list-image":[{"list-image":["none",en,Qr]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",en,Qr]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[xi,"from-font","auto",en,R1]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[xi,"auto",en,Qr]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",en,Qr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",en,Qr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hx,en,Qr],radial:["",en,Qr],conic:[hx,en,Qr]},Tnt,_nt]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xi,en,Qr]}],"outline-w":[{outline:["",xi,N5,R1]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",u,ZN,XN]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",f,ZN,XN]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[xi,R1]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",d,ZN,XN]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[xi,en,Qr]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xi]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[en,Qr]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[xi]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",en,Qr]}],filter:[{filter:["","none",en,Qr]}],blur:[{blur:ye()}],brightness:[{brightness:[xi,en,Qr]}],contrast:[{contrast:[xi,en,Qr]}],"drop-shadow":[{"drop-shadow":["","none",h,ZN,XN]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",xi,en,Qr]}],"hue-rotate":[{"hue-rotate":[xi,en,Qr]}],invert:[{invert:["",xi,en,Qr]}],saturate:[{saturate:[xi,en,Qr]}],sepia:[{sepia:["",xi,en,Qr]}],"backdrop-filter":[{"backdrop-filter":["","none",en,Qr]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[xi,en,Qr]}],"backdrop-contrast":[{"backdrop-contrast":[xi,en,Qr]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xi,en,Qr]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xi,en,Qr]}],"backdrop-invert":[{"backdrop-invert":["",xi,en,Qr]}],"backdrop-opacity":[{"backdrop-opacity":[xi,en,Qr]}],"backdrop-saturate":[{"backdrop-saturate":[xi,en,Qr]}],"backdrop-sepia":[{"backdrop-sepia":["",xi,en,Qr]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",en,Qr]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xi,"initial",en,Qr]}],ease:[{ease:["linear","initial",g,en,Qr]}],delay:[{delay:[xi,en,Qr]}],animate:[{animate:["none",_,en,Qr]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,en,Qr]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[en,Qr,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",en,Qr]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",en,Qr]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[xi,N5,R1,pF]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Cnt=ont(Mnt),Nnt=()=>y.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-gray-100 animate-pulse",children:[y.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-sm mr-3"}),y.jsx("div",{className:"flex-1 h-4 bg-gray-200 rounded mr-4"}),y.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded ml-2"}),y.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded ml-2"}),y.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded ml-2"}),y.jsx("div",{className:"w-32 h-6 bg-gray-200 rounded ml-2"})]}),Dnt=({task:r,onStatusChange:e,onUpdateTask:t,showToast:n})=>{const{attributes:i,listeners:a,setNodeRef:s,transform:o,transition:l,isDragging:c}=Fge({id:r.id,data:{type:"Task",task:r}}),u={transform:ug.Translate.toString(o),transition:l},[f,d]=me.useState(!1),[h,p]=me.useState(r.title),v=()=>{h.trim()!==r.title&&(t==null||t(r.id,{title:h})),d(!1)},x=_=>{_.key==="Enter"?v():_.key==="Escape"&&(p(r.title),d(!1))},g=_=>{_.stopPropagation();const w=Object.values(lM),A=w.indexOf(r.status),M=w[(A+1)%w.length];e(r.id,M),n(`Status changed to ${M}`,"success")};return c?y.jsx("div",{ref:s,style:u,className:"opacity-30 bg-gray-50 border border-dashed border-gray-300 h-10 rounded my-1"}):y.jsxs("div",{ref:s,style:u,className:Cnt("group flex items-center px-4 py-1.5 border-b border-gray-100 hover:bg-gray-50 transition-colors text-sm bg-white",c&&"z-50 shadow-xl"),children:[y.jsx("div",{...i,...a,className:"mr-2 cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(wU,{size:14})}),y.jsxs("div",{className:"flex-1 flex items-center min-w-0 pr-4",children:[y.jsx("div",{className:"mr-3 relative flex-shrink-0",children:y.jsx("div",{className:"w-4 h-4 rounded-sm border border-gray-300 hover:border-gray-500 transition-colors flex items-center justify-center cursor-pointer hover:bg-gray-100",onClick:_=>{_.stopPropagation(),n(`Marked ${r.id} complete`,"success")},children:y.jsx($u,{size:12,className:"opacity-0 group-hover:opacity-100 text-gray-700"})})}),f?y.jsx("input",{autoFocus:!0,value:h,onChange:_=>p(_.target.value),onBlur:v,onKeyDown:x,className:"flex-1 bg-white border border-clickup-purple rounded px-1 py-0.5 outline-none text-sm text-gray-900",onClick:_=>_.stopPropagation()}):y.jsx("span",{className:"truncate text-gray-700 cursor-text hover:text-clickup-purple font-medium",onClick:_=>{_.stopPropagation(),d(!0)},children:r.title}),y.jsx("div",{className:"ml-2 opacity-0 group-hover:opacity-100 flex items-center space-x-1 transition-opacity",children:y.jsx("button",{className:"p-1 hover:bg-gray-200 rounded text-gray-500 hover:text-black transition-colors",onClick:_=>{_.stopPropagation(),n("Timer started","success")},children:y.jsx(cwe,{size:12})})})]}),y.jsx("div",{className:"w-32 flex items-center pl-2 cursor-pointer min-h-[24px]",onClick:()=>n("Assign People","info"),children:r.assignees.length>0?y.jsx("div",{className:"flex -space-x-1 hover:space-x-0.5 transition-all",children:r.assignees.map(_=>y.jsx("div",{className:"w-6 h-6 rounded-full border border-white flex items-center justify-center text-[10px] text-white font-bold shadow-sm",style:{backgroundColor:_.color},title:_.name,children:_.avatar},_.id))}):y.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300 border-dashed flex items-center justify-center text-gray-300 opacity-0 group-hover:opacity-100 hover:border-clickup-purple hover:text-clickup-purple transition-all",children:y.jsx(xA,{size:12})})}),y.jsx("div",{className:"w-32 pl-2 text-xs text-gray-400 flex items-center group-hover:text-gray-600 cursor-pointer min-h-[24px]",onClick:()=>n("Open Date Picker","info"),children:r.dueDate?y.jsx("span",{className:new Date(r.dueDate)<new Date?"text-red-500":"",children:new Date(r.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}):y.jsx(Fh,{size:14,className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-black transition-colors"})}),y.jsx("div",{className:"w-24 pl-2 cursor-pointer min-h-[24px] flex items-center",onClick:()=>n("Change Priority","info"),children:y.jsxs("div",{className:"flex items-center group/priority",children:[y.jsx(Ak,{size:14,fill:r.priority===Yw.None?"none":mS[r.priority],color:r.priority===Yw.None?"#d1d5db":mS[r.priority],className:"transition-colors"}),y.jsx("span",{className:`ml-1.5 text-xs ${r.priority===Yw.None?"text-gray-400 opacity-0 group-hover:opacity-100":"text-gray-500"} transition-opacity`,children:r.priority})]})}),y.jsx("div",{className:"w-32 pl-2",children:y.jsx("button",{className:"px-2 py-0.5 text-[10px] uppercase font-bold text-white rounded-sm truncate max-w-full transition-all hover:scale-105 hover:opacity-90 shadow-sm",style:{backgroundColor:bI[r.status]},onClick:g,children:r.status})})]})},Lnt=({tasks:r,isLoading:e,onStatusChange:t,onAddTask:n,onReorder:i,onUpdateTask:a})=>{var v;const{showToast:s}=Vh(),[o,l]=me.useState(null),c=XH(yR(hM,{activationConstraint:{distance:8}}),yR($H,{coordinateGetter:zrt})),u=me.useMemo(()=>Object.values(lM).reduce((g,_)=>(g[_]=r.filter(w=>w.status===_).sort((w,A)=>(w.order||0)-(A.order||0)),g),{}),[r]),f=x=>{l(x.active.id)},d=x=>{const{active:g,over:_}=x;if(!_)return;const w=r.find(M=>M.id===g.id),A=r.find(M=>M.id===_.id);w&&A&&(w.status,A.status)},h=x=>{const{active:g,over:_}=x;if(l(null),!_)return;const w=r.find(M=>M.id===g.id),A=r.find(M=>M.id===_.id);if(w&&A){if(w.status!==A.status)t(w.id,A.status);else if(g.id!==_.id){const M=r.findIndex(D=>D.id===g.id),C=r.findIndex(D=>D.id===_.id),N=[...r],[L]=N.splice(M,1);N.splice(C,0,L),i==null||i(N)}}},p={sideEffects:rG({styles:{active:{opacity:"0.5"}}})};return e?y.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar p-4",children:[1,2,3,4,5].map(x=>y.jsx(Nnt,{},x))}):r.length===0?y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white text-center p-8 animate-in fade-in duration-500",children:[y.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-6 border border-dashed border-gray-200",children:y.jsx(ui,{size:40,className:"text-gray-300"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No tasks found"}),y.jsxs("button",{onClick:n,className:"px-6 py-2 bg-gray-900 hover:bg-black text-white rounded-lg font-medium transition-colors shadow-md flex items-center",children:[y.jsx(ui,{size:18,className:"mr-2"})," Create Task"]})]}):y.jsxs(eG,{sensors:c,collisionDetection:ZH,onDragStart:f,onDragOver:d,onDragEnd:h,children:[y.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar h-full",children:y.jsxs("div",{className:"min-w-[800px] pb-10",children:[y.jsxs("div",{className:"flex items-center px-8 py-2 border-b border-gray-200 text-xs font-semibold text-gray-400 sticky top-0 bg-white z-20 select-none shadow-sm",children:[y.jsx("div",{className:"w-6 mr-2"})," ",y.jsx("div",{className:"flex-1",children:"NAME"}),y.jsx("div",{className:"w-32 pl-2",children:"ASSIGNEE"}),y.jsx("div",{className:"w-32 pl-2",children:"DUE DATE"}),y.jsx("div",{className:"w-24 pl-2",children:"PRIORITY"}),y.jsx("div",{className:"w-32 pl-2",children:"STATUS"})]}),Object.entries(u).map(([x,g])=>y.jsxs("div",{className:"mb-2",children:[y.jsxs("div",{className:"group sticky top-[33px] z-10 bg-white/95 backdrop-blur-sm flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",children:[y.jsx(tl,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),y.jsx("span",{className:"px-2 py-0.5 rounded text-white text-xs uppercase font-bold mr-2 shadow-sm",style:{backgroundColor:bI[x]},children:x}),y.jsxs("span",{className:"text-gray-400 text-xs font-normal ml-1",children:[g.length," tasks"]}),y.jsxs("div",{className:"ml-auto opacity-0 group-hover:opacity-100 flex items-center space-x-2 transition-opacity",children:[y.jsx(ui,{size:14,className:"text-gray-500 hover:text-black",onClick:_=>{_.stopPropagation(),n()}}),y.jsx(gg,{size:14,className:"text-gray-400 hover:text-gray-600",onClick:_=>{_.stopPropagation(),s("Group Settings","info")}})]})]}),y.jsx(Oge,{items:g.map(_=>_.id),strategy:Rge,children:y.jsx("div",{className:"flex flex-col",children:g.map(_=>y.jsx(Dnt,{task:_,onStatusChange:t,onUpdateTask:a,showToast:s},_.id))})}),y.jsxs("div",{className:"flex items-center px-4 py-2 border-b border-transparent hover:bg-gray-50 group cursor-pointer transition-colors ml-8",onClick:n,children:[y.jsx("div",{className:"mr-3 w-4 h-4 flex items-center justify-center",children:y.jsx(ui,{size:14,className:"text-gray-400 group-hover:text-black transition-colors"})}),y.jsx("span",{className:"text-sm text-gray-400 group-hover:text-gray-600 italic",children:"+ New Task..."})]})]},x))]})}),y.jsx(nG,{dropAnimation:p,children:o?y.jsx("div",{className:"bg-white shadow-2xl border border-clickup-purple/20 rounded p-2 opacity-90",children:y.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700",children:[y.jsx(wU,{size:14,className:"mr-2 text-clickup-purple"}),(v=r.find(x=>x.id===o))==null?void 0:v.title]})}):null})]})},Rnt=({task:r,onClick:e})=>{const{attributes:t,listeners:n,setNodeRef:i,isDragging:a}=Cge({id:r.id,data:{task:r}});return a?y.jsx("div",{ref:i,className:"bg-gray-50 p-3 rounded-lg border-2 border-dashed border-gray-200 h-24 opacity-50"}):y.jsxs("div",{ref:i,...n,...t,className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm hover:shadow-md hover:border-gray-300 transition-all cursor-grab active:cursor-grabbing group relative select-none touch-none",onClick:e,children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{className:"text-xs font-medium text-gray-400 hover:underline",children:["#",r.id.substring(5)]}),y.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",children:y.jsx(gg,{size:14,className:"text-gray-400"})})]}),y.jsx("h3",{className:"text-sm text-gray-800 font-medium mb-3 leading-snug group-hover:text-clickup-purple transition-colors",children:r.title}),y.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[r.priority!==Yw.None&&y.jsx("div",{className:"p-0.5 rounded hover:bg-gray-100 transition-colors",title:`Priority: ${r.priority}`,children:y.jsx(Ak,{size:12,fill:mS[r.priority],color:mS[r.priority]})}),r.dueDate&&y.jsxs("div",{className:`flex items-center text-[10px] px-1.5 py-0.5 bg-gray-50 rounded border border-gray-100 ${new Date(r.dueDate)<new Date?"text-red-500 border-red-100 bg-red-50":"text-gray-400"}`,children:[y.jsx(Fh,{size:10,className:"mr-1"}),new Date(r.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]}),y.jsx("div",{className:"flex -space-x-1",children:r.assignees.map(s=>y.jsx("div",{className:"w-5 h-5 rounded-full border border-white flex items-center justify-center text-[9px] text-white font-bold shadow-sm",style:{backgroundColor:s.color},title:s.name,children:s.avatar},s.id))})]})]})},knt=({status:r,tasks:e,isLoading:t,onAddTask:n,showToast:i})=>{const{setNodeRef:a,isOver:s}=tG({id:r});return y.jsxs("div",{ref:a,className:`flex-shrink-0 w-72 flex flex-col h-full animate-in fade-in duration-500 rounded-xl transition-colors ${s?"bg-indigo-50/50 ring-2 ring-indigo-100":""}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-3 px-1 group",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("span",{className:"text-[10px] uppercase font-bold px-1.5 py-0.5 rounded text-white shadow-sm cursor-pointer hover:opacity-90",style:{backgroundColor:bI[r]},onClick:()=>i(`Status: ${r}`,"info"),children:r}),y.jsx("span",{className:"text-xs text-gray-500 font-medium",children:t?"...":e.length})]}),y.jsxs("div",{className:"flex space-x-1 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx(ui,{size:14,className:"cursor-pointer hover:text-gray-600",onClick:n}),y.jsx(gg,{size:14,className:"cursor-pointer hover:text-gray-600",onClick:()=>i("Column Settings","info")})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2.5 pb-10 custom-scrollbar",children:t?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm h-28 animate-pulse"}),y.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm h-28 animate-pulse"})]}):y.jsxs(y.Fragment,{children:[e.map(o=>y.jsx(Rnt,{task:o,onClick:()=>i(`Opening ${o.title}`,"info")},o.id)),y.jsxs("button",{className:"w-full py-2 rounded-md border border-transparent hover:bg-gray-200/50 hover:border-gray-300 text-gray-400 text-sm flex items-center justify-center transition-all group",onClick:n,children:[y.jsx(ui,{size:14,className:"mr-1 group-hover:text-clickup-purple transition-colors"}),y.jsx("span",{className:"group-hover:text-clickup-purple transition-colors",children:"New Task"})]})]})})]})},Int=({tasks:r,isLoading:e,onAddTask:t,onStatusChange:n})=>{const{showToast:i}=Vh(),[a,s]=me.useState(null),o=XH(yR(hM,{activationConstraint:{distance:5}})),l=Object.values(lM).reduce((d,h)=>(d[h]=r.filter(p=>p.status===h),d),{}),c=d=>{const{active:h}=d,p=r.find(v=>v.id===h.id);p&&s(p)},u=d=>{const{active:h,over:p}=d;if(s(null),!p)return;const v=h.id,x=p.id,g=r.find(_=>_.id===v);g&&g.status!==x&&n(v,x)},f={sideEffects:rG({styles:{active:{opacity:"0.5"}}})};return!e&&r.length===0?y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-clickup-light p-8 animate-in fade-in duration-500",children:[y.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 border border-dashed border-gray-300 shadow-sm",children:y.jsx(ale,{size:40,className:"text-gray-300"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Board is empty"}),y.jsx("p",{className:"text-gray-500 max-w-sm mb-8 text-center",children:"Visualise your workflow here. Start by creating a new task."}),y.jsxs("button",{onClick:t,className:"px-6 py-2 bg-clickup-purple text-white rounded-lg font-medium hover:bg-indigo-600 transition-colors shadow-lg shadow-purple-200 flex items-center",children:[y.jsx(ui,{size:18,className:"mr-2"}),"Create Task"]})]}):y.jsxs(eG,{sensors:o,onDragStart:c,onDragEnd:u,children:[y.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden bg-clickup-light p-6 custom-scrollbar h-full",children:y.jsxs("div",{className:"flex h-full space-x-4",children:[Object.entries(l).map(([d,h])=>y.jsx(knt,{status:d,tasks:h,isLoading:e,onAddTask:t,showToast:i},d)),y.jsx("div",{className:"w-8 flex-shrink-0"})]})}),Vm.createPortal(y.jsx(nG,{dropAnimation:f,children:a?y.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-xl w-72 cursor-grabbing rotate-2 opacity-90",children:[y.jsx("div",{className:"flex justify-between items-start mb-2",children:y.jsxs("div",{className:"text-xs font-medium text-gray-400",children:["#",a.id.substring(5)]})}),y.jsx("h3",{className:"text-sm text-gray-800 font-medium mb-3 leading-snug",children:a.title}),y.jsx("div",{className:"flex items-center justify-between mt-auto",children:y.jsx("div",{className:"flex items-center space-x-2",children:a.priority!==Yw.None&&y.jsx("div",{className:"p-0.5 rounded",title:`Priority: ${a.priority}`,children:y.jsx(Ak,{size:12,fill:mS[a.priority],color:mS[a.priority]})})})})]}):null}),document.body)]})},$ge=6048e5,Ont=864e5,une=Symbol.for("constructDateFrom");function jd(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&une in r?r[une](e):r instanceof Date?new r.constructor(e):new Date(e)}function pu(r,e){return jd(e||r,r)}function KN(r,e,t){const n=pu(r,t==null?void 0:t.in);return isNaN(e)?jd(r,NaN):(e&&n.setDate(n.getDate()+e),n)}function aG(r,e,t){const n=pu(r,t==null?void 0:t.in);if(isNaN(e))return jd(r,NaN);if(!e)return n;const i=n.getDate(),a=jd(r,n.getTime());a.setMonth(n.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}let Pnt={};function pM(){return Pnt}function hy(r,e){var o,l,c,u;const t=pM(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=pu(r,e==null?void 0:e.in),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function SR(r,e){return hy(r,{...e,weekStartsOn:1})}function Jge(r,e){const t=pu(r,e==null?void 0:e.in),n=t.getFullYear(),i=jd(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=SR(i),s=jd(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=SR(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function fne(r){const e=pu(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function MI(r,...e){const t=jd.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function TR(r,e){const t=pu(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Fnt(r,e,t){const[n,i]=MI(t==null?void 0:t.in,r,e),a=TR(n),s=TR(i),o=+a-fne(a),l=+s-fne(s);return Math.round((o-l)/Ont)}function Bnt(r,e){const t=Jge(r,e),n=jd(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),SR(n)}function AR(r,e,t){const[n,i]=MI(t==null?void 0:t.in,r,e);return+TR(n)==+TR(i)}function znt(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function jnt(r){return!(!znt(r)&&typeof r!="number"||isNaN(+pu(r)))}function Qge(r,e){const t=pu(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Unt(r,e){const[t,n]=MI(r,e.start,e.end);return{start:t,end:n}}function exe(r,e){const{start:t,end:n}=Unt(e==null?void 0:e.in,r);let i=+t>+n;const a=i?+t:+n,s=i?n:t;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(jd(t,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function txe(r,e){const t=pu(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Vnt(r,e){const t=pu(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Dj(r,e){var o,l;const t=pM(),n=t.weekStartsOn??((l=(o=t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,i=pu(r,e==null?void 0:e.in),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const Hnt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gnt=(r,e,t)=>{let n;const i=Hnt[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function vF(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Wnt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ynt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qnt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xnt={date:vF({formats:Wnt,defaultWidth:"full"}),time:vF({formats:Ynt,defaultWidth:"full"}),dateTime:vF({formats:qnt,defaultWidth:"full"})},Znt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Knt=(r,e,t,n)=>Znt[r];function D5(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const s=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):s;i=r.formattingValues[o]||r.formattingValues[s]}else{const s=r.defaultWidth,o=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[o]||r.values[s]}const a=r.argumentCallback?r.argumentCallback(e):e;return i[a]}}const $nt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jnt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qnt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eit={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tit={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rit={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nit=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},iit={ordinalNumber:nit,era:D5({values:$nt,defaultWidth:"wide"}),quarter:D5({values:Jnt,defaultWidth:"wide",argumentCallback:r=>r-1}),month:D5({values:Qnt,defaultWidth:"wide"}),day:D5({values:eit,defaultWidth:"wide"}),dayPeriod:D5({values:tit,defaultWidth:"wide",formattingValues:rit,defaultFormattingWidth:"wide"})};function L5(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(o)?sit(o,f=>f.test(s)):ait(o,f=>f.test(s));let c;c=r.valueCallback?r.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function ait(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function sit(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function oit(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],a=e.match(r.parsePattern);if(!a)return null;let s=r.valueCallback?r.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const lit=/^(\d+)(th|st|nd|rd)?/i,cit=/\d+/i,uit={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fit={any:[/^b/i,/^(a|c)/i]},hit={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dit={any:[/1/i,/2/i,/3/i,/4/i]},pit={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vit={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mit={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},git={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xit={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yit={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bit={ordinalNumber:oit({matchPattern:lit,parsePattern:cit,valueCallback:r=>parseInt(r,10)}),era:L5({matchPatterns:uit,defaultMatchWidth:"wide",parsePatterns:fit,defaultParseWidth:"any"}),quarter:L5({matchPatterns:hit,defaultMatchWidth:"wide",parsePatterns:dit,defaultParseWidth:"any",valueCallback:r=>r+1}),month:L5({matchPatterns:pit,defaultMatchWidth:"wide",parsePatterns:vit,defaultParseWidth:"any"}),day:L5({matchPatterns:mit,defaultMatchWidth:"wide",parsePatterns:git,defaultParseWidth:"any"}),dayPeriod:L5({matchPatterns:xit,defaultMatchWidth:"any",parsePatterns:yit,defaultParseWidth:"any"})},_it={code:"en-US",formatDistance:Gnt,formatLong:Xnt,formatRelative:Knt,localize:iit,match:bit,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wit(r,e){const t=pu(r,e==null?void 0:e.in);return Fnt(t,Vnt(t))+1}function Sit(r,e){const t=pu(r,e==null?void 0:e.in),n=+SR(t)-+Bnt(t);return Math.round(n/$ge)+1}function rxe(r,e){var u,f,d,h;const t=pu(r,e==null?void 0:e.in),n=t.getFullYear(),i=pM(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=jd((e==null?void 0:e.in)||r,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=hy(s,e),l=jd((e==null?void 0:e.in)||r,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=hy(l,e);return+t>=+o?n+1:+t>=+c?n:n-1}function Tit(r,e){var o,l,c,u;const t=pM(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=rxe(r,e),a=jd((e==null?void 0:e.in)||r,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),hy(a,e)}function Ait(r,e){const t=pu(r,e==null?void 0:e.in),n=+hy(t,e)-+Tit(t,e);return Math.round(n/$ge)+1}function Ba(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const dx={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return Ba(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Ba(t+1,2)},d(r,e){return Ba(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Ba(r.getHours()%12||12,e.length)},H(r,e){return Ba(r.getHours(),e.length)},m(r,e){return Ba(r.getMinutes(),e.length)},s(r,e){return Ba(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return Ba(i,e.length)}},F_={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hne={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return dx.y(r,e)},Y:function(r,e,t,n){const i=rxe(r,n),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Ba(s,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Ba(a,e.length)},R:function(r,e){const t=Jge(r);return Ba(t,e.length)},u:function(r,e){const t=r.getFullYear();return Ba(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ba(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ba(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return dx.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ba(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=Ait(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Ba(i,e.length)},I:function(r,e,t){const n=Sit(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Ba(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):dx.d(r,e)},D:function(r,e,t){const n=wit(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Ba(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ba(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ba(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Ba(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=F_.noon:n===0?i=F_.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=F_.evening:n>=12?i=F_.afternoon:n>=4?i=F_.morning:i=F_.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return dx.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):dx.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Ba(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Ba(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):dx.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):dx.s(r,e)},S:function(r,e){return dx.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return pne(n);case"XXXX":case"XX":return t2(n);case"XXXXX":case"XXX":default:return t2(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return pne(n);case"xxxx":case"xx":return t2(n);case"xxxxx":case"xxx":default:return t2(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dne(n,":");case"OOOO":default:return"GMT"+t2(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dne(n,":");case"zzzz":default:return"GMT"+t2(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return Ba(n,e.length)},T:function(r,e,t){return Ba(+r,e.length)}};function dne(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),a=n%60;return a===0?t+String(i):t+String(i)+e+Ba(a,2)}function pne(r,e){return r%60===0?(r>0?"-":"+")+Ba(Math.abs(r)/60,2):t2(r,e)}function t2(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Ba(Math.trunc(n/60),2),a=Ba(n%60,2);return t+i+e+a}const vne=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nxe=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Eit=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return vne(r,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",vne(n,e)).replace("{{time}}",nxe(i,e))},Mit={p:nxe,P:Eit},Cit=/^D+$/,Nit=/^Y+$/,Dit=["D","DD","YY","YYYY"];function Lit(r){return Cit.test(r)}function Rit(r){return Nit.test(r)}function kit(r,e,t){const n=Iit(r,e,t);if(console.warn(n),Dit.includes(r))throw new RangeError(n)}function Iit(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Oit=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pit=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fit=/^'([^]*?)'?$/,Bit=/''/g,zit=/[a-zA-Z]/;function _h(r,e,t){var u,f,d,h;const n=pM(),i=n.locale??_it,a=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,o=pu(r,t==null?void 0:t.in);if(!jnt(o))throw new RangeError("Invalid time value");let l=e.match(Pit).map(p=>{const v=p[0];if(v==="p"||v==="P"){const x=Mit[v];return x(p,i.formatLong)}return p}).join("").match(Oit).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const v=p[0];if(v==="'")return{isToken:!1,value:jit(p)};if(hne[v])return{isToken:!0,value:p};if(v.match(zit))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(p=>{if(!p.isToken)return p.value;const v=p.value;(Rit(v)||Lit(v))&&kit(v,e,String(r));const x=hne[v[0]];return x(o,v,i.localize,c)}).join("")}function jit(r){const e=r.match(Fit);return e?e[1].replace(Bit,"'"):r}function ixe(r,e,t){const[n,i]=MI(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function axe(r,e,t){return aG(r,-1,t)}const Uit=({tasks:r,isLoading:e,onAddTask:t})=>{const[n,i]=me.useState(new Date),a=()=>i(aG(n,1)),s=()=>i(axe(n)),o=()=>i(new Date),l=txe(n),c=Qge(l),u=hy(l),f=Dj(c),d=exe({start:u,end:f}),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=v=>r.filter(x=>x.dueDate?AR(new Date(x.dueDate),v):!1);return e?y.jsx("div",{className:"flex-1 flex items-center justify-center",children:"Loading calendar..."}):y.jsxs("div",{className:"flex-1 flex flex-col bg-white overflow-hidden h-full",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-800",children:_h(n,"MMMM yyyy")}),y.jsxs("div",{className:"flex items-center bg-gray-100 rounded-md p-0.5",children:[y.jsx("button",{onClick:s,className:"p-1 hover:bg-white rounded shadow-sm transition-all",children:y.jsx(u3,{size:16,className:"text-gray-600"})}),y.jsx("button",{onClick:o,className:"px-3 py-1 text-xs font-medium text-gray-600 hover:bg-white rounded shadow-sm transition-all mx-1",children:"Today"}),y.jsx("button",{onClick:a,className:"p-1 hover:bg-white rounded shadow-sm transition-all",children:y.jsx(zu,{size:16,className:"text-gray-600"})})]})]}),y.jsxs("button",{onClick:t,className:"px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors flex items-center",children:[y.jsx(ui,{size:16,className:"mr-2"})," Add Task"]})]}),y.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto",children:[y.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:h.map(v=>y.jsx("div",{className:"py-2 text-center text-xs font-semibold text-gray-400 uppercase",children:v},v))}),y.jsx("div",{className:"grid grid-cols-7 flex-1 auto-rows-fr bg-gray-200 gap-px border-b border-gray-200",children:d.map((v,x)=>{const g=p(v),_=ixe(v,l),w=AR(v,new Date);return y.jsxs("div",{className:`bg-white min-h-[100px] p-2 flex flex-col group relative hover:bg-gray-50 transition-colors ${_?"":"bg-gray-50/50 text-gray-400"}`,onClick:()=>{},children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("span",{className:`text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full ${w?"bg-clickup-purple text-white shadow-md":"text-gray-700"}`,children:_h(v,"d")}),y.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 rounded text-gray-400 transition-opacity",children:y.jsx(ui,{size:12})})]}),y.jsx("div",{className:"flex-1 flex flex-col gap-1 overflow-y-auto custom-scrollbar",children:g.map(A=>y.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium truncate border-l-2 shadow-sm cursor-pointer hover:opacity-80 transition-opacity bg-white border-gray-200",style:{borderLeftColor:bI[A.status]},children:A.title},A.id))})]},v.toString())})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mne;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(mne||(mne={}));var gne;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(gne||(gne={}));var xne;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(xne||(xne={}));var Dm;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(Dm||(Dm={}));var yne;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(yne||(yne={}));var bne;(function(r){r.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",r.SIMPLE_SEARCH="SIMPLE_SEARCH",r.ELASTIC_SEARCH="ELASTIC_SEARCH"})(bne||(bne={}));var _ne;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(_ne||(_ne={}));var wne;(function(r){r.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",r.HTTP_IN_QUERY="HTTP_IN_QUERY",r.HTTP_IN_HEADER="HTTP_IN_HEADER",r.HTTP_IN_PATH="HTTP_IN_PATH",r.HTTP_IN_BODY="HTTP_IN_BODY",r.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(wne||(wne={}));var Sne;(function(r){r.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",r.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",r.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",r.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Sne||(Sne={}));var Tne;(function(r){r.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",r.LOW="LOW",r.HIGH="HIGH"})(Tne||(Tne={}));var Ane;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",r.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",r.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",r.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",r.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ane||(Ane={}));var Ene;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(Ene||(Ene={}));var Mne;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(Mne||(Mne={}));var Cne;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY",r.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",r.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",r.NO_IMAGE="NO_IMAGE"})(Cne||(Cne={}));var Nne;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(Nne||(Nne={}));var Dne;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Dne||(Dne={}));var Lne;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",r.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",r.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Lne||(Lne={}));var Rne;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.IMAGE_SAFETY="IMAGE_SAFETY",r.MODEL_ARMOR="MODEL_ARMOR",r.JAILBREAK="JAILBREAK"})(Rne||(Rne={}));var kne;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(kne||(kne={}));var Ine;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(Ine||(Ine={}));var One;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(One||(One={}));var Pne;(function(r){r.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",r.TUNING_MODE_FULL="TUNING_MODE_FULL",r.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Pne||(Pne={}));var Fne;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Fne||(Fne={}));var Bne;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bne||(Bne={}));var zne;(function(r){r.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",r.TUNING_TASK_I2V="TUNING_TASK_I2V",r.TUNING_TASK_T2V="TUNING_TASK_T2V",r.TUNING_TASK_R2V="TUNING_TASK_R2V"})(zne||(zne={}));var jne;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jne||(jne={}));var Une;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(Une||(Une={}));var Vne;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(Vne||(Vne={}));var Hne;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(Hne||(Hne={}));var Gne;(function(r){r.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",r.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Gne||(Gne={}));var Wne;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE",r.VALIDATED="VALIDATED"})(Wne||(Wne={}));var Yne;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(Yne||(Yne={}));var qne;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})(qne||(qne={}));var Xne;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi",r.zh="zh",r.pt="pt",r.es="es"})(Xne||(Xne={}));var Zne;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Zne||(Zne={}));var Kne;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Kne||(Kne={}));var $ne;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($ne||($ne={}));var Jne;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jne||(Jne={}));var Qne;(function(r){r.FOREGROUND="FOREGROUND",r.BACKGROUND="BACKGROUND",r.PROMPT="PROMPT",r.SEMANTIC="SEMANTIC",r.INTERACTIVE="INTERACTIVE"})(Qne||(Qne={}));var eie;(function(r){r.ASSET="ASSET",r.STYLE="STYLE"})(eie||(eie={}));var tie;(function(r){r.INSERT="INSERT",r.REMOVE="REMOVE",r.REMOVE_STATIC="REMOVE_STATIC",r.OUTPAINT="OUTPAINT"})(tie||(tie={}));var rie;(function(r){r.OPTIMIZED="OPTIMIZED",r.LOSSLESS="LOSSLESS"})(rie||(rie={}));var nie;(function(r){r.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",r.PREFERENCE_TUNING="PREFERENCE_TUNING"})(nie||(nie={}));var iie;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.STATE_PENDING="STATE_PENDING",r.STATE_ACTIVE="STATE_ACTIVE",r.STATE_FAILED="STATE_FAILED"})(iie||(iie={}));var aie;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(aie||(aie={}));var sie;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED"})(sie||(sie={}));var oie;(function(r){r.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.RESPONSE_REJECTED="RESPONSE_REJECTED",r.NEED_MORE_INPUT="NEED_MORE_INPUT"})(oie||(oie={}));var lie;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(lie||(lie={}));var cie;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(cie||(cie={}));var uie;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(uie||(uie={}));var fie;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(fie||(fie={}));var hie;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(hie||(hie={}));var die;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(die||(die={}));var pie;(function(r){r.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",r.QUALITY="QUALITY",r.DIVERSITY="DIVERSITY",r.VOCALIZATION="VOCALIZATION"})(pie||(pie={}));var vie;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(vie||(vie={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mie;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents",r.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",r.PAGED_ITEM_DOCUMENTS="documents"})(mie||(mie={}));const Vit=async r=>"API Key is missing. Please check your configuration.",Hit=async(r,e)=>"API Key is missing.",Git=({isOpen:r,onClose:e,tasks:t})=>{const[n,i]=me.useState(""),[a,s]=me.useState([{role:"ai",text:"Hi! I'm ClickUp Brain. I can help you summarize tasks, suggest priorities, or answer questions about your workspace."}]),[o,l]=me.useState(!1),c=me.useRef(null);me.useEffect(()=>{c.current&&c.current.scrollIntoView({behavior:"smooth"})},[a]);const u=async()=>{if(!n.trim())return;const d=n;i(""),s(p=>[...p,{role:"user",text:d}]),l(!0);const h=await Hit();s(p=>[...p,{role:"ai",text:h}]),l(!1)},f=async d=>{l(!0),s(h=>[...h,{role:"user",text:"Generate a summary of my tasks."}]);{const h=await Vit();s(p=>[...p,{role:"ai",text:h}])}l(!1)};return r?y.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[1px] z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl h-[600px] flex flex-col border border-gray-200 overflow-hidden",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-gradient-to-r from-white to-purple-50/30",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"bg-clickup-purple/10 p-1.5 rounded-lg",children:y.jsx(k_e,{className:"text-clickup-purple",size:20})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-800",children:"ClickUp Brain"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Powered by Gemini 2.5 Flash"})]})]}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Wf,{size:20})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#fdfdfd]",children:[a.map((d,h)=>y.jsx("div",{className:`flex ${d.role==="user"?"justify-end":"justify-start"}`,children:y.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 text-sm leading-relaxed shadow-sm ${d.role==="user"?"bg-clickup-purple text-white rounded-br-none":"bg-white border border-gray-200 text-gray-700 rounded-bl-none"}`,children:d.text})},h)),o&&y.jsx("div",{className:"flex justify-start",children:y.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl rounded-bl-none px-4 py-3 flex items-center space-x-2 shadow-sm",children:[y.jsx(AU,{size:16,className:"animate-spin text-clickup-purple"}),y.jsx("span",{className:"text-xs text-gray-500",children:"Brain is thinking..."})]})}),y.jsx("div",{ref:c})]}),a.length===1&&y.jsxs("div",{className:"px-4 pb-2 flex gap-2 overflow-x-auto",children:[y.jsxs("button",{onClick:()=>f(),className:"flex items-center space-x-1.5 px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg text-xs font-medium transition-colors border border-purple-200/50",children:[y.jsx(Ld,{size:14}),y.jsx("span",{children:"Summarize Tasks"})]}),y.jsx("button",{onClick:()=>{i("What tasks are high priority?"),u()},className:"flex items-center space-x-1.5 px-3 py-2 bg-gray-50 hover:bg-gray-100 text-gray-600 rounded-lg text-xs font-medium transition-colors border border-gray-200/50",children:y.jsx("span",{children:"High Priority Items?"})})]}),y.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[y.jsxs("div",{className:"relative flex items-center",children:[y.jsx("input",{type:"text",value:n,onChange:d=>i(d.target.value),onKeyDown:d=>d.key==="Enter"&&u(),placeholder:"Ask AI anything about your tasks...",className:"w-full pl-4 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple transition-all text-sm"}),y.jsx("button",{onClick:u,disabled:!n.trim()||o,className:"absolute right-2 p-1.5 bg-clickup-purple text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",children:y.jsx(Mk,{size:16})})]}),y.jsx("div",{className:"mt-2 text-center",children:y.jsx("p",{className:"text-[10px] text-gray-400",children:"AI can make mistakes. Please review generated responses."})})]})]})}):null},Wit=[{id:"standup",title:"AI StandUp",desc:"AI generated standup.",icon:Ld,color:"bg-gradient-to-br from-indigo-500 to-purple-600",isNew:!0},{id:"recents",title:"Recents",desc:"A list of all the ClickUp objects and locations you've recently viewed.",icon:SU,color:"bg-sky-500"},{id:"agenda",title:"Agenda",desc:"Visualize tasks and events on your different calendars in one place.",icon:Fh,color:"bg-pink-500"},{id:"mywork",title:"My Work",desc:"A list for all of your assigned tasks and reminders.",icon:Kw,color:"bg-blue-500"},{id:"assigned",title:"Assigned to me",desc:"Consolidate your tasks across different lists that you have as an assignee.",icon:Kw,color:"bg-blue-400"},{id:"personal",title:"Personal List",desc:"Keep track of your personal tasks in a list that is only visible to you.",icon:Yoe,color:"bg-purple-500"},{id:"comments",title:"Assigned Comments",desc:"Resolve and view any comment that has been assigned to you.",icon:kE,color:"bg-teal-500"},{id:"lineup",title:"Priorities (LineUp)",desc:"Prioritize your most important tasks into one concise list.",icon:Qoe,color:"bg-indigo-500"},{id:"reminders",title:"Reminders",desc:"Organize and keep on top of all your reminders.",icon:_y,color:"bg-orange-500"}],Yit=({isOpen:r,onClose:e,onAddCard:t,onRemoveCard:n,addedCardTypes:i})=>{const{showToast:a}=Vh();return r?y.jsxs("div",{className:"absolute top-0 right-0 bottom-0 w-96 bg-white border-l border-gray-200 shadow-2xl z-[2147483647] flex flex-col animate-in slide-in-from-right duration-300",children:[y.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[y.jsx("h2",{className:"text-base font-bold text-gray-800",children:"Add Cards"}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Wf,{size:18})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-4 bg-gray-50/50 custom-scrollbar",children:Wit.map(s=>{const o=i.includes(s.id);return y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsx("div",{className:`w-10 h-10 rounded-lg ${s.color} flex items-center justify-center text-white shadow-md`,children:y.jsx(s.icon,{size:20})}),y.jsx("button",{className:`flex items-center space-x-1.5 border text-[10px] font-bold px-3 py-1.5 rounded-md transition-all active:scale-95 ${o?"bg-green-50 border-green-200 text-green-600 hover:bg-red-50 hover:border-red-200 hover:text-red-600":"bg-white hover:bg-gray-50 border-gray-200 text-gray-600 hover:text-brand-primary hover:border-brand-primary"}`,onClick:()=>{o?(n(s.id),a(`Removed ${s.title} from Home`,"info")):(t({id:s.id,title:s.title,color:s.color}),a(`Added ${s.title} to Home`,"success"))},children:o?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"group-hover:hidden flex items-center space-x-1",children:y.jsx("span",{children:"ADDED"})}),y.jsx("span",{className:"hidden group-hover:flex items-center space-x-1",children:y.jsx("span",{children:"REMOVE"})})]}):y.jsxs(y.Fragment,{children:[y.jsx(ui,{size:12}),y.jsx("span",{children:"ADD"})]})})]}),y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx("h3",{className:"text-sm font-bold text-gray-800 group-hover:text-brand-primary transition-colors",children:s.title}),s.isNew&&y.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white text-[9px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wide shadow-sm",children:"New"})]}),y.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:s.desc})]},s.id)})})]}):null},qit=({onLoginClick:r})=>{const[e,t]=me.useState(null),n=a=>{t(e===a?null:a)},i=[{q:"Is this really a full replacement for my current stack?",a:"Yes! We combine tasks, docs, chat, and goals into one unified platform, so you don't need to switch between apps."},{q:"How does the AI Brain work?",a:"Our AI analyzes your entire workspacetasks, docs, and conversationsto answer questions, summarize threads, and automate work."},{q:"Can I import data from other tools?",a:"Absolutely. We offer one-click imports from Trello, Asana, Monday, and Jira."},{q:"Is there a free plan?",a:"Yes, our 'Free Forever' plan includes unlimited tasks and members. It's perfect for personal use and small teams."}];return y.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white font-sans selection:bg-brand-primary selection:text-white overflow-x-hidden",children:[y.jsxs("nav",{className:"flex items-center justify-between px-6 py-6 max-w-7xl mx-auto relative z-20",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-brand-primary to-indigo-500 rounded-lg flex items-center justify-center shadow-lg shadow-brand-primary/20",children:y.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),y.jsx("path",{d:"M2 17L12 22L22 17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),y.jsx("path",{d:"M2 12L12 17L22 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),y.jsx("span",{className:"text-xl font-bold tracking-tight",children:"ClickUp Clone"})]}),y.jsxs("div",{className:"flex items-center space-x-6",children:[y.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Product"}),y.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Solutions"}),y.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Pricing"}),y.jsx("button",{onClick:r,className:"bg-white text-black px-5 py-2 rounded-full text-sm font-bold hover:bg-gray-200 transition-colors",children:"Log in"}),y.jsx("button",{className:"bg-gray-900 hover:bg-black px-5 py-2 rounded-full text-sm font-bold transition-all shadow-md text-white",children:"Sign Up"})]})]}),y.jsxs("div",{className:"relative pt-20 pb-32 px-6",children:[y.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[600px] bg-brand-primary/20 blur-[120px] rounded-full pointer-events-none z-0"}),y.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[y.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/5 border border-white/10 rounded-full px-3 py-1 mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[y.jsx(Ld,{size:14,className:"text-brand-accent"}),y.jsx("span",{className:"text-xs font-medium text-brand-accent tracking-wide uppercase",children:"ClickUp Brain 3.0 is here"})]}),y.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight mb-6 leading-tight animate-in fade-in slide-in-from-bottom-6 duration-1000 delay-100",children:["One app to ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary via-purple-400 to-brand-accent",children:"replace them all."})]}),y.jsx("p",{className:"text-lg md:text-xl text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200",children:"All your work in one place: Tasks, Docs, Chat, Goals, & more. Boost productivity with the power of Gemini AI integrated directly into your workflow."}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4 animate-in fade-in slide-in-from-bottom-10 duration-1000 delay-300",children:[y.jsxs("button",{className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-gray-900 hover:bg-black text-white font-bold text-lg hover:shadow-lg transition-all hover:-translate-y-1 flex items-center justify-center",children:["Get Started",y.jsx(M_e,{size:18,className:"ml-2"})]}),y.jsx("button",{className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-white/5 border border-white/10 text-white font-bold text-lg hover:bg-white/10 transition-all",children:"See Demo"})]})]}),y.jsxs("div",{className:"mt-20 max-w-6xl mx-auto relative z-10 animate-in fade-in zoom-in duration-1000 delay-500",children:[y.jsxs("div",{className:"rounded-xl border border-white/10 bg-[#1a1b21]/80 backdrop-blur-xl shadow-2xl overflow-hidden",children:[y.jsxs("div",{className:"h-10 border-b border-white/5 flex items-center space-x-2 px-4",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20"})]}),y.jsxs("div",{className:"aspect-[16/9] relative bg-[#0a0a0a] flex items-center justify-center group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1a1b21] to-[#0a0a0a] opacity-50"}),y.jsxs("div",{className:"text-center z-10",children:[y.jsx(Yx,{size:64,className:"mx-auto text-brand-primary mb-4 opacity-50"}),y.jsx("p",{className:"text-gray-500 font-medium",children:"Interactive Dashboard Experience"})]}),y.jsx("div",{className:"absolute bottom-0 w-full h-1/2 bg-gradient-to-t from-[#0a0a0a] to-transparent"})]})]}),y.jsx("div",{className:"absolute -right-12 top-20 bg-[#24272e] p-4 rounded-lg border border-gray-700 shadow-2xl animate-bounce duration-[3000ms]",children:y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"p-2 bg-green-500/20 rounded text-green-400",children:y.jsx($u,{size:20})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-bold text-white",children:"Task Complete"}),y.jsx("div",{className:"text-xs text-gray-400",children:"Launch Website"})]})]})}),y.jsx("div",{className:"absolute -left-8 bottom-20 bg-[#24272e] p-4 rounded-lg border border-gray-700 shadow-2xl animate-pulse duration-[4000ms]",children:y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"p-2 bg-purple-500/20 rounded text-purple-400",children:y.jsx(Ld,{size:20})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-bold text-white",children:"AI Summary"}),y.jsx("div",{className:"text-xs text-gray-400",children:"Generated 3 subtasks"})]})]})})]})]}),y.jsx("div",{className:"py-12 border-y border-white/5 bg-[#0f1014]/50",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[y.jsx("p",{className:"text-sm font-medium text-gray-500 mb-8 uppercase tracking-widest",children:"Trusted by innovative teams at"}),y.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-12 opacity-50 grayscale hover:grayscale-0 transition-all duration-500",children:[y.jsx("span",{className:"text-xl font-bold text-white",children:"ACME Corp"}),y.jsx("span",{className:"text-xl font-bold text-white",children:"Globex"}),y.jsx("span",{className:"text-xl font-bold text-white",children:"Soylent"}),y.jsx("span",{className:"text-xl font-bold text-white",children:"Initech"}),y.jsx("span",{className:"text-xl font-bold text-white",children:"Umbrella"}),y.jsx("span",{className:"text-xl font-bold text-white",children:"Stark Ind"})]})]})}),y.jsx("div",{className:"py-24 bg-[#0a0a0a]",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6 space-y-32",children:[y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-16",children:[y.jsxs("div",{className:"flex-1 space-y-6",children:[y.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center",children:y.jsx(Joe,{className:"text-blue-400",size:24})}),y.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Simplify your project management."}),y.jsx("p",{className:"text-lg text-gray-400 leading-relaxed",children:"Plan, track, and manage any type of work with project management that flexes to your team's needs. Switch between List, Board, Gantt, and Calendar views instantly."}),y.jsxs("ul",{className:"space-y-3",children:[y.jsxs("li",{className:"flex items-center space-x-3 text-gray-300",children:[y.jsx(U0,{className:"text-blue-500",size:18}),y.jsx("span",{children:"Customizable workflows and statuses"})]}),y.jsxs("li",{className:"flex items-center space-x-3 text-gray-300",children:[y.jsx(U0,{className:"text-blue-500",size:18}),y.jsx("span",{children:"Automated sprint management"})]}),y.jsxs("li",{className:"flex items-center space-x-3 text-gray-300",children:[y.jsx(U0,{className:"text-blue-500",size:18}),y.jsx("span",{children:"Real-time reporting and dashboards"})]})]})]}),y.jsx("div",{className:"flex-1 relative",children:y.jsx("div",{className:"aspect-square rounded-2xl bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-white/10 p-8 flex items-center justify-center",children:y.jsxs("div",{className:"w-full h-full bg-[#1a1b21] rounded-xl shadow-2xl border border-white/5 p-4 space-y-4",children:[y.jsx("div",{className:"h-8 w-1/3 bg-white/10 rounded"}),y.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(a=>y.jsxs("div",{className:"h-12 bg-white/5 rounded flex items-center px-4 justify-between",children:[y.jsx("div",{className:"w-4 h-4 rounded-full border border-white/20"}),y.jsx("div",{className:"w-2/3 h-2 bg-white/10 rounded"})]},a))})]})})})]}),y.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-16",children:[y.jsxs("div",{className:"flex-1 space-y-6",children:[y.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-500/20 flex items-center justify-center",children:y.jsx(kE,{className:"text-purple-400",size:24})}),y.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Collaboration without chaos."}),y.jsx("p",{className:"text-lg text-gray-400 leading-relaxed",children:"Bring your team together with Docs, Whiteboards, and Chat all in one place. No more switching tabs to find the context you need."}),y.jsxs("ul",{className:"space-y-3",children:[y.jsxs("li",{className:"flex items-center space-x-3 text-gray-300",children:[y.jsx(U0,{className:"text-purple-500",size:18}),y.jsx("span",{children:"Real-time collaborative editing"})]}),y.jsxs("li",{className:"flex items-center space-x-3 text-gray-300",children:[y.jsx(U0,{className:"text-purple-500",size:18}),y.jsx("span",{children:"Linked tasks and documents"})]}),y.jsxs("li",{className:"flex items-center space-x-3 text-gray-300",children:[y.jsx(U0,{className:"text-purple-500",size:18}),y.jsx("span",{children:"Integrated chat channels"})]})]})]}),y.jsx("div",{className:"flex-1 relative",children:y.jsx("div",{className:"aspect-square rounded-2xl bg-gradient-to-bl from-purple-500/10 to-pink-500/10 border border-white/10 p-8 flex items-center justify-center",children:y.jsxs("div",{className:"w-full h-full bg-[#1a1b21] rounded-xl shadow-2xl border border-white/5 p-6 relative",children:[y.jsxs("div",{className:"absolute top-4 right-4 flex -space-x-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 border-2 border-[#1a1b21]"}),y.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 border-2 border-[#1a1b21]"})]}),y.jsxs("div",{className:"mt-8 space-y-4",children:[y.jsx("div",{className:"h-4 w-3/4 bg-white/10 rounded"}),y.jsx("div",{className:"h-4 w-full bg-white/10 rounded"}),y.jsx("div",{className:"h-4 w-5/6 bg-white/10 rounded"}),y.jsx("div",{className:"h-32 w-full bg-white/5 rounded mt-4 border border-white/5 flex items-center justify-center",children:y.jsx("span",{className:"text-xs text-gray-500",children:"Live Document"})})]})]})})})]}),y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-16",children:[y.jsxs("div",{className:"flex-1 space-y-6",children:[y.jsx("div",{className:"w-12 h-12 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:y.jsx(Nwe,{className:"text-brand-primary",size:24})}),y.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Powered by Intelligence."}),y.jsx("p",{className:"text-lg text-gray-400 leading-relaxed",children:"Let AI handle the busy work. Summarize threads, generate subtasks, and ask questions about your workspace data instantly."}),y.jsxs("ul",{className:"space-y-3",children:[y.jsxs("li",{className:"flex items-center space-x-3 text-gray-300",children:[y.jsx(U0,{className:"text-brand-primary",size:18}),y.jsx("span",{children:"AI Knowledge Manager"})]}),y.jsxs("li",{className:"flex items-center space-x-3 text-gray-300",children:[y.jsx(U0,{className:"text-brand-primary",size:18}),y.jsx("span",{children:"Automated status updates"})]}),y.jsxs("li",{className:"flex items-center space-x-3 text-gray-300",children:[y.jsx(U0,{className:"text-brand-primary",size:18}),y.jsx("span",{children:"Smart writing assistant"})]})]})]}),y.jsx("div",{className:"flex-1 relative",children:y.jsx("div",{className:"aspect-square rounded-2xl bg-gradient-to-tr from-brand-primary/10 to-blue-500/10 border border-white/10 p-8 flex items-center justify-center",children:y.jsxs("div",{className:"w-full h-full bg-[#1a1b21] rounded-xl shadow-2xl border border-white/5 flex flex-col",children:[y.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center space-x-3",children:[y.jsx(Ld,{size:16,className:"text-brand-primary"}),y.jsx("span",{className:"text-sm font-medium",children:"Ask AI..."})]}),y.jsxs("div",{className:"flex-1 p-4 space-y-4",children:[y.jsx("div",{className:"bg-white/5 rounded-lg p-3 text-sm text-gray-300 self-end max-w-[80%] ml-auto",children:"Summarize the Q3 marketing goals."}),y.jsxs("div",{className:"bg-brand-primary/10 rounded-lg p-3 text-sm text-gray-200 self-start max-w-[90%] border border-brand-primary/20",children:["Here are the key Q3 goals based on your docs:",y.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-400",children:[y.jsx("li",{children:"Increase organic traffic by 25%"}),y.jsx("li",{children:"Launch the new referral program"}),y.jsx("li",{children:"Optimize onboarding flow"})]})]})]})]})})})]})]})}),y.jsx("div",{className:"py-24 bg-[#0f1014] border-y border-white/5",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Loved by teams everywhere"}),y.jsx("p",{className:"text-gray-400",children:"Join thousands of teams who have transformed how they work."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Sarah J.",role:"Product Manager",text:"It replaced 4 other tools for us. The AI features are actually useful, not just a gimmick."},{name:"Mike T.",role:"Engineering Lead",text:"Finally, a tool that developers and marketing can agree on. The GitHub integration is flawless."},{name:"Elena R.",role:"Operations Director",text:"The customizability is unmatched. We built our entire CRM right inside the platform."}].map((a,s)=>y.jsxs("div",{className:"p-8 rounded-2xl bg-[#1a1b21] border border-white/5 hover:border-brand-primary/30 transition-colors",children:[y.jsx("div",{className:"flex text-yellow-500 mb-4",children:[1,2,3,4,5].map(o=>y.jsx(Up,{size:16,fill:"currentColor"},o))}),y.jsxs("p",{className:"text-gray-300 mb-6 leading-relaxed",children:['"',a.text,'"']}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-700 to-gray-600"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-sm",children:a.name}),y.jsx("div",{className:"text-xs text-gray-500",children:a.role})]})]})]},s))})]})}),y.jsx("div",{className:"py-24 bg-[#0a0a0a]",children:y.jsxs("div",{className:"max-w-3xl mx-auto px-6",children:[y.jsx("div",{className:"text-center mb-16",children:y.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Frequently Asked Questions"})}),y.jsx("div",{className:"space-y-4",children:i.map((a,s)=>y.jsxs("div",{className:"border border-white/10 rounded-xl bg-[#1a1b21] overflow-hidden",children:[y.jsxs("button",{onClick:()=>n(s),className:"w-full flex items-center justify-between p-6 text-left hover:bg-white/5 transition-colors",children:[y.jsx("span",{className:"font-medium text-lg",children:a.q}),e===s?y.jsx(Hoe,{size:20,className:"text-gray-400"}):y.jsx(tl,{size:20,className:"text-gray-400"})]}),e===s&&y.jsx("div",{className:"px-6 pb-6 pt-0 text-gray-400 leading-relaxed animate-in fade-in slide-in-from-top-2",children:a.a})]},s))})]})}),y.jsxs("div",{className:"py-32 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-brand-primary/10"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0a0a0a] via-transparent to-[#0a0a0a]"}),y.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center relative z-10",children:[y.jsx("h2",{className:"text-4xl md:text-6xl font-bold mb-8",children:"Ready to unleash your team's potential?"}),y.jsx("p",{className:"text-xl text-gray-400 mb-10 max-w-2xl mx-auto",children:"Join the future of work today. No credit card required."}),y.jsx("button",{className:"h-14 px-10 rounded-full bg-white text-black font-bold text-xl hover:bg-gray-200 transition-all hover:scale-105 shadow-[0_0_40px_-10px_rgba(255,255,255,0.3)]",children:"Get Started for Free"})]})]}),y.jsxs("footer",{className:"py-12 border-t border-white/10 bg-[#0f1014] text-sm",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-white mb-4",children:"Product"}),y.jsxs("ul",{className:"space-y-2 text-gray-500",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Tasks"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Docs"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Goals"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Whiteboards"})})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-white mb-4",children:"Resources"}),y.jsxs("ul",{className:"space-y-2 text-gray-500",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Help Center"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Blog"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Community"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Webinars"})})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-white mb-4",children:"Company"}),y.jsxs("ul",{className:"space-y-2 text-gray-500",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"About Us"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Careers"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Press"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Contact"})})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-white mb-4",children:"Legal"}),y.jsxs("ul",{className:"space-y-2 text-gray-500",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Privacy"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Terms"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-white",children:"Security"})})]})]})]}),y.jsx("div",{className:"text-center text-gray-600 pt-8 border-t border-white/5",children:y.jsx("p",{children:" 2024 ClickUp Clone by Gemini. All rights reserved."})})]})]})},Xit=[{email:"max@nabdchain.com",password:"1",user:{id:"u1",name:"Max Nabd",avatar:"MN",color:"#7B61FF"}},{email:"hasan@nabdchain.com",password:"1",user:{id:"u2",name:"Hasan Nabd",avatar:"HN",color:"#00E1D4"}}],Lj={login:async(r,e)=>{await new Promise(n=>setTimeout(n,800));const t=Xit.find(n=>n.email.toLowerCase()===r.toLowerCase()&&n.password===e);return t?(localStorage.setItem("clickup_user",JSON.stringify(t.user)),t.user):null},logout:()=>{localStorage.removeItem("clickup_user")},getCurrentUser:()=>{const r=localStorage.getItem("clickup_user");return r?JSON.parse(r):null}},Zit=({onLoginSuccess:r,onBack:e})=>{const[t,n]=me.useState(""),[i,a]=me.useState(""),[s,o]=me.useState(!1),[l,c]=me.useState(""),u=async f=>{f.preventDefault(),c(""),o(!0);try{const d=await Lj.login(t,i);d?r(d):c("Invalid email or password. Try max@nabdchain.com / 1")}catch{c("Something went wrong. Please try again.")}finally{o(!1)}};return y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f7f8f9] px-4 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-64 bg-brand-primary skew-y-3 origin-top-left transform -translate-y-20 z-0"}),y.jsxs("button",{onClick:e,className:"absolute top-6 left-6 flex items-center text-white z-10 hover:opacity-80 transition-opacity font-medium",children:[y.jsx(Uoe,{size:18,className:"mr-2"}),"Back to Home"]}),y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md z-10 animate-in fade-in zoom-in duration-300",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-12 h-12 bg-brand-primary rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-brand-primary/30",children:y.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome back!"}),y.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Enter your credentials to access your workspace."})]}),y.jsxs("form",{onSubmit:u,className:"space-y-5",children:[l&&y.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-600 p-3 rounded-lg text-sm flex items-start",children:[y.jsx(by,{size:16,className:"mr-2 mt-0.5 shrink-0"}),l]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wide mb-1.5",children:"Email"}),y.jsx("input",{type:"email",value:t,onChange:f=>n(f.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-all text-gray-800",placeholder:"name@work-email.com",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wide mb-1.5",children:"Password"}),y.jsx("input",{type:"password",value:i,onChange:f=>a(f.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-all text-gray-800",placeholder:"Enter your password",required:!0})]}),y.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gray-900 hover:bg-black text-white font-bold py-3.5 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center",children:s?y.jsx(AU,{className:"animate-spin"}):"Login"})]}),y.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:y.jsxs("p",{children:["Use ",y.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded text-gray-600",children:"max@nabdchain.com"})," and password ",y.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded text-gray-600",children:"1"})]})})]}),y.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 z-10",children:" 2024 ClickUp Clone. Secure Login."})]})},Kit=JSON.parse(`[{"id":1,"level":"Basic","title":"Daily Open PR List","description":"Tracks all Purchase Requests (PRs) waiting for action to prevent requests from getting lost.","category":"Procurements / Requests","chartType":"table","dataFields":["PR Date","PR #","Requestor","Status"]},{"id":2,"level":"Basic","title":"Open POs by Vendor","description":"Shows what has been ordered but not yet delivered. Essential for expediting.","category":"Procurements / Orders","chartType":"bar","dataFields":["PO Date","PO #","Vendor Name","Delivery Due Date"]},{"id":3,"level":"Basic","title":"Pending Approvals Log","description":"Identifies who is holding up the process (Bottleneck identification).","category":"Procurements / Requests","chartType":"bar","dataFields":["PR/PO #","Current Approver Name","Days Pending"]},{"id":4,"level":"Basic","title":"Daily Goods Receipt Log","description":"Confirms what physically arrived at the warehouse today.","category":"Warehouse / Inventory","chartType":"table","dataFields":["GRN Date","PO #","Item Name","Qty Received"]},{"id":5,"level":"Basic","title":"Expediting List (Overdue)","description":"Highlights orders that are past their promised delivery date. Immediate action required.","category":"Procurements / Orders","chartType":"table","dataFields":["Vendor","PO #","Due Date","Days Overdue"]},{"id":6,"level":"Basic","title":"Rejected PRs Report","description":"Tracks why requests are rejected to train staff on proper ordering.","category":"Procurements / Requests","chartType":"pie","dataFields":["PR #","Requestor","Rejection Reason"]},{"id":7,"level":"Basic","title":"Invoice vs. PO Discrepancies","description":"Flags invoices that don't match the order price or quantity (accounts payable blocker).","category":"Procurements / Orders","chartType":"bar","dataFields":["PO Price","Invoice Price","PO Qty","Invoice Qty"]},{"id":8,"level":"Basic","title":"New Vendor Creations","description":"Tracks how many new suppliers are being added to the system monthly.","category":"Procurements / Vendors","chartType":"line","dataFields":["Vendor Name","Creation Date","Category"]},{"id":9,"level":"Basic","title":"Items Below Reorder Point","description":"Alerts the buyer to restock specific inventory items immediately.","category":"Warehouse / Inventory","chartType":"table","dataFields":["Item SKU","Current Stock","Reorder Level"]},{"id":10,"level":"Basic","title":"Cancelled Orders Log","description":"Keeps a record of orders cancelled after being placed.","category":"Procurements / Orders","chartType":"doughnut","dataFields":["PO #","Vendor","Cancellation Reason","Date"]},{"id":11,"level":"Intermediate","title":"PR to PO Cycle Time","description":"Measures internal team speed. How long does it take to process a request?","category":"Procurements / Requests","chartType":"histogram","dataFields":["PR Creation Date","PO Creation Date"]},{"id":12,"level":"Intermediate","title":"Top 10 Suppliers by Spend","description":"Identifies key strategic partners where you spend the most money (Pareto Principle).","category":"Procurements / Vendors","chartType":"bar","dataFields":["Vendor Name","Total Spend Amount (YTD)"]},{"id":13,"level":"Intermediate","title":"Spend by Department","description":"Shows which internal department is consuming the most budget.","category":"Procurements / Requests","chartType":"pie","dataFields":["Dept Name","Cost Center","Total Spend"]},{"id":14,"level":"Intermediate","title":"Spend by Category","description":"Breaks down spend by commodity (e.g., IT, Raw Materials, Office Supplies).","category":"Full Procurements","chartType":"bar","dataFields":["Commodity Code/Category","Total Spend"]},{"id":15,"level":"Intermediate","title":"Vendor Fill Rate","description":"Measures if vendors are delivering the full quantity ordered or partials.","category":"Procurements / Vendors","chartType":"gauge","dataFields":["Qty Ordered","Qty Received"]},{"id":16,"level":"Intermediate","title":"On-Time Delivery (OTD)","description":"The percentage of orders arriving exactly on the promised date.","category":"Procurements / Vendors","chartType":"line","dataFields":["Delivery Due Date","Actual Receipt Date"]},{"id":17,"level":"Intermediate","title":"Price Variance (Standard vs Actual)","description":"Tracks if we are paying more than the standard/expected price for items.","category":"Procurements / Orders","chartType":"line","dataFields":["Item Standard Cost","Actual PO Price","Qty"]},{"id":18,"level":"Intermediate","title":"Buyer Workload Analysis","description":"Compares how many POs/Lines each buyer processes.","category":"Full Procurements","chartType":"bar","dataFields":["Buyer Name","Count of POs","Count of Lines"]},{"id":19,"level":"Intermediate","title":"Payment Terms Analysis","description":"Tracks average days to pay suppliers (e.g., Net 30 vs Net 60).","category":"Procurements / Vendors","chartType":"bar","dataFields":["Vendor Name","Payment Term Days"]},{"id":20,"level":"Intermediate","title":"Emergency / Rush Orders","description":"Tracks percentage of orders marked 'Urgent' (indicates poor planning).","category":"Procurements / Requests","chartType":"bar","dataFields":["Order Type (Standard/Rush)","Date"]},{"id":21,"level":"Advanced","title":"Total Cost Savings (Hard/Soft)","description":"The ROI of the procurement team. Tracks negotiated discounts.","category":"Full Procurements","chartType":"waterfall","dataFields":["Baseline Price","Final PO Price","Volume"]},{"id":22,"level":"Advanced","title":"Supplier Quality Defect Rate (PPM)","description":"Tracks quality issues per million parts. Critical for manufacturing.","category":"Procurements / Vendors","chartType":"line","dataFields":["Total Units Received","Rejected/Defective Units"]},{"id":23,"level":"Advanced","title":"Maverick Spend Analysis","description":"Spend that happens outside of approved contracts or vendors.","category":"Procurements / Orders","chartType":"area","dataFields":["Contracted Vendors","Non-Contracted Spend"]},{"id":24,"level":"Advanced","title":"Supplier Risk/Concentration","description":"Calculates risk if a top supplier fails. How much spend is tied to one vendor?","category":"Procurements / Vendors","chartType":"scatter","dataFields":["Vendor Spend","Total Spend","Risk Score"]},{"id":25,"level":"Advanced","title":"Cash Flow Forecasting","description":"Predicts future cash outflows based on open POs and due dates.","category":"Planning","chartType":"line","dataFields":["PO Open Value","Payment Terms","Due Date"]},{"id":26,"level":"Advanced","title":"Contract Utilization Rate","description":"Are we buying off the contracts we negotiated? (Compliance).","category":"Procurements / Vendors","chartType":"pie","dataFields":["Contracted Spend","Off-Contract Spend"]},{"id":27,"level":"Advanced","title":"Lead Time Variability","description":"Tracks how consistent a vendor is. Do they take 5 days once, then 15 days next time?","category":"Procurements / Vendors","chartType":"boxplot","dataFields":["PO Date","Receipt Date (Historical Variance)"]},{"id":28,"level":"Advanced","title":"Cost of Acquisition","description":"The administrative cost to process a single PO (Salaries + Tech / Total POs).","category":"Full Procurements","chartType":"gauge","dataFields":["Total Dept OpEx","Total PO Count"]},{"id":29,"level":"Advanced","title":"Tail Spend Analysis","description":"Analysis of the bottom 20% of spend (usually hundreds of small vendors).","category":"Procurements / Vendors","chartType":"bar","dataFields":["Vendor Name","Spend (Low Value Vendors)"]},{"id":30,"level":"Advanced","title":"Inflation Impact Report","description":"Measures price increases of specific SKUs year-over-year.","category":"Planning","chartType":"line","dataFields":["SKU Price (Year A)","SKU Price (Year B)"]},{"id":31,"level":"Advanced","title":"Single vs. Multi-Sourced Ratio","description":"Highlights items that only have ONE supplier (High Risk).","category":"Procurements / Vendors","chartType":"doughnut","dataFields":["SKU","Count of Approved Vendors"]},{"id":32,"level":"Advanced","title":"Supplier Scorecard Aggregate","description":"Combines Price, Quality, Delivery, and Service into one score (0-100).","category":"Procurements / Vendors","chartType":"radar","dataFields":["OTD %","Defect %","Cost %","Service Score"]}]`),$it=({isOpen:r,onClose:e})=>{const[t,n]=me.useState("full-supply-chain"),{showToast:i}=Vh();if(!r)return null;const a=[{id:"full-supply-chain",label:"Full Supply Chain",icon:y.jsx(UB,{size:18})},{id:"full-procurements",label:"Full Procurements",icon:y.jsx(Rw,{size:18})},{id:"procurements-requests",label:"Procurments / Requests",icon:y.jsx(Rw,{size:18}),indent:!0},{id:"procurements-orders",label:"Procurments / Orders",icon:y.jsx(Rw,{size:18}),indent:!0},{id:"procurements-vendors",label:"Procurments / Vendors",icon:y.jsx(ru,{size:18}),indent:!0},{id:"full-warehouse",label:"Full Warehouse",icon:y.jsx(f3,{size:18})},{id:"warehouse-inventory",label:"Warehouse / Inventory",icon:y.jsx(f3,{size:18}),indent:!0},{id:"warehouse-shipping",label:"Warehouse / Shipping",icon:y.jsx(HD,{size:18}),indent:!0},{id:"fleet",label:"Fleet",icon:y.jsx(__e,{size:18})},{id:"planning",label:"Planning",icon:y.jsx(Fh,{size:18})}],o=(()=>{const c=Kit;if(t==="full-supply-chain")return c;switch(t){case"full-procurements":return c.filter(u=>u.category.includes("Procurements"));case"procurements-requests":return c.filter(u=>u.category==="Procurements / Requests");case"procurements-orders":return c.filter(u=>u.category==="Procurements / Orders");case"procurements-vendors":return c.filter(u=>u.category==="Procurements / Vendors");case"full-warehouse":return c.filter(u=>u.category.includes("Warehouse"));case"warehouse-inventory":return c.filter(u=>u.category==="Warehouse / Inventory");case"warehouse-shipping":return c.filter(u=>u.category==="Warehouse / Shipping");case"fleet":return c.filter(u=>u.category==="Fleet");case"planning":return c.filter(u=>u.category==="Planning");default:return[]}})(),l=c=>{i(`Report "${c.title}" selected! Feature coming soon.`,"success"),e()};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl h-[80vh] flex flex-col overflow-hidden",children:[y.jsxs("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6 bg-white flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-black rounded-lg",children:y.jsx(UB,{className:"text-white",size:20})}),y.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add Report"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:y.jsx(Wf,{size:20})})]}),y.jsxs("div",{className:"flex-1 flex min-h-0",children:[y.jsx("div",{className:"w-72 border-r border-gray-200 bg-gray-50 overflow-y-auto p-4 space-y-1 flex-shrink-0",children:a.map(c=>y.jsxs("button",{onClick:()=>n(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all ${t===c.id?"bg-black text-white shadow-lg":"text-gray-600 hover:bg-gray-200 hover:text-gray-900"} ${c.indent?"pl-8":""}`,children:[c.icon,c.label]},c.id))}),y.jsx("div",{className:"flex-1 bg-white p-8 overflow-y-auto",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[o.map(c=>y.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden bg-white hover:border-black transition-colors cursor-pointer flex flex-col h-64",onClick:()=>l(c),children:[y.jsx("div",{className:"h-32 bg-gray-50 border-b border-gray-100 flex items-center justify-center",children:y.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:c.chartType})}),y.jsxs("div",{className:"flex-1 p-4 flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("h3",{className:"font-bold text-gray-900 text-sm line-clamp-1",children:c.title}),y.jsx("span",{className:"text-[10px] uppercase tracking-wider font-bold text-gray-400 border border-gray-200 px-1.5 py-0.5 rounded whitespace-nowrap ml-2",children:c.level})]}),y.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 leading-relaxed",children:c.description})]}),y.jsx("div",{className:"mt-2",children:y.jsx("span",{className:"text-[10px] text-gray-400 font-medium bg-gray-50 px-2 py-1 rounded-full truncate block",children:c.category})})]})]},c.id)),o.length===0&&y.jsx("div",{className:"col-span-full text-center py-20 text-gray-400",children:y.jsx("p",{children:"No reports found for this category."})})]})})]})]})})},Jit=(r,e)=>{const[t,n]=me.useState([]),[i,a]=me.useState(!0),{showToast:s}=Vh(),o=me.useCallback(async()=>{try{a(!0);const h=(await p2.getTasks()).sort((p,v)=>(p.order||0)-(v.order||0));n(h)}catch{s("Failed to load tasks from backend","error")}finally{a(!1)}},[s]);return me.useEffect(()=>{r==="app"&&o()},[r,o]),{tasks:t,isLoading:i,handleStatusChange:async(d,h)=>{const p=[...t];n(v=>v.map(x=>x.id===d?{...x,status:h}:x));try{await p2.updateTask(d,{status:h})}catch{n(p),s("Failed to update task status","error")}},handleUpdateTask:async(d,h)=>{const p=[...t];n(v=>v.map(x=>x.id===d?{...x,...h}:x));try{await p2.updateTask(d,h),s("Task updated","success")}catch{n(p),s("Failed to update task","error")}},handleReorder:d=>{n(d)},handleQuickCreate:async()=>{const d=prompt("Enter task title:");if(d){s("Creating task...","info");try{const h=await p2.createTask({title:d,status:lM.Todo,priority:"None",assignees:[],tags:e==="backend"?["Backend"]:[],description:"",order:t.length,spaceId:"default"});n(p=>[...p,h]),s("Task created successfully","success")}catch{s("Failed to create task","error")}}},fetchTasks:o}},Qit=()=>{const[r,e]=me.useState([]);return{homeCards:r,handleAddHomeCard:s=>{let o=600,l=400;s.id==="agenda"?l=500:s.id==="lineup"&&(l=400);const c=30,u=32,d=r.reduce((g,_)=>Math.max(g,_.y+_.h),20-c),h=u,p=d+c,v=r.reduce((g,_)=>Math.max(g,_.zIndex||0),0),x={instanceId:Date.now().toString(),typeId:s.id,title:s.title,color:s.color,x:h,y:p,w:o,h:l,zIndex:v+1};e(g=>[...g,x])},handleUpdateHomeCard:s=>{e(o=>o.map(l=>l.instanceId===s.instanceId?s:l))},handleRemoveHomeCard:s=>{e(o=>o.filter(l=>l.instanceId!==s))},handleRemoveHomeCardByType:s=>{e(o=>o.filter(l=>l.typeId!==s))}}},gie="http://localhost:3001",xie={getWidgets:async()=>(await fetch(`${gie}/widgets`)).json(),updateWidgets:async r=>{await fetch(`${gie}/widgets`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}},eat=r=>{const[e,t]=me.useState({}),n=me.useCallback(async()=>{try{const a=await xie.getWidgets();a&&t(a)}catch(a){console.error("Failed to fetch widgets:",a)}},[]);return me.useEffect(()=>{r==="app"&&n()},[r,n]),{pageWidgets:e,setPageWidgets:t,onUpdateWidget:(a,s)=>{const o={...e,[a]:s};t(o),xie.updateWidgets(o).catch(l=>console.error("Failed to save widgets:",l))}}},tat=[],dy={u1:{id:"u1",name:"Max Nabd",avatar:"MN",color:"#7B61FF",email:"max@nabdchain.com"},u2:{id:"u2",name:"Hasan Nabd",avatar:"HN",color:"#00E1D4",email:"hasan@nabdchain.com"},me:{id:"me",name:"You",avatar:"YOU",color:"#7b68ee",email:"me@workspace.local"}},rat=()=>y.jsx("div",{className:"space-y-2 text-sm",children:["Q4 Strategy Doc","Backend Sprint List","Design System Board","Marketing Campaign","User Research 2024","Deployment Scripts"].map((r,e)=>y.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer transition-colors group border border-transparent hover:border-gray-100",children:[y.jsx("div",{className:"w-8 h-8 bg-blue-50/50 rounded-md text-blue-500 flex items-center justify-center text-[10px] font-bold border border-blue-100 group-hover:bg-blue-100 group-hover:border-blue-200 transition-all",children:r[0]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-gray-700 font-medium truncate group-hover:text-brand-primary transition-colors",children:r}),y.jsxs("p",{className:"text-xs text-gray-400",children:["Accessed ",e+1," hour",e!==0?"s":""," ago"]})]})]},e))}),nat=()=>y.jsxs("div",{className:"space-y-3",children:[tat.filter(r=>r.priority==="Urgent"||r.priority==="High").slice(0,5).map((r,e)=>y.jsxs("div",{className:"flex items-start space-x-3 group cursor-pointer",children:[y.jsx("div",{className:"mt-1 text-xs font-bold text-gray-300 w-4 text-right",children:e+1}),y.jsxs("div",{className:"flex-1 bg-white border border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md hover:border-brand-primary/30 transition-all",children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsx("span",{className:"text-xs font-semibold px-1.5 py-0.5 rounded bg-red-50 text-red-500 border border-red-100",children:r.priority}),y.jsx("span",{className:"text-[10px] text-gray-400",children:r.dueDate?new Date(r.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"No Date"})]}),y.jsx("p",{className:"text-sm font-medium text-gray-800 leading-tight group-hover:text-brand-primary transition-colors",children:r.title})]})]},r.id)),y.jsxs("button",{className:"w-full py-2.5 text-xs font-medium text-gray-400 border border-dashed border-gray-200 rounded-lg hover:bg-gray-50 hover:text-brand-primary hover:border-brand-primary/30 transition-colors flex items-center justify-center space-x-1",children:[y.jsx(ui,{size:12}),y.jsx("span",{children:"Add Task to LineUp"})]})]}),iat=()=>y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4 p-4",children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-full flex items-center justify-center shadow-inner border border-white",children:y.jsx(Ld,{className:"text-brand-primary",size:28})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-800",children:"Daily Standup"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-[200px] mx-auto leading-relaxed",children:"Brain analyzes your activity to generate a smart status report."})]}),y.jsx("button",{className:"bg-gray-900 hover:bg-black text-white px-5 py-2 rounded-lg text-sm font-bold transition-all shadow-md hover:shadow-lg active:scale-95",children:"Generate with AI"})]}),aat=()=>{const e=[{time:"09:30",end:"10:00",title:"Daily Standup",type:"meeting",color:"bg-blue-50 border-blue-100 text-blue-700",icon:HB},{time:"11:00",end:"12:30",title:"Design Review: Mobile App",type:"work",color:"bg-purple-50 border-purple-100 text-purple-700",icon:EU},{time:"14:00",end:"15:00",title:"Customer Sync",type:"meeting",color:"bg-green-50 border-green-100 text-green-700",icon:HB},{time:"16:30",end:"17:00",title:"Wrap up & Planning",type:"task",color:"bg-gray-50 border-gray-100 text-gray-600",icon:Kw}];return y.jsxs("div",{className:"relative h-full flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-100",children:[y.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Today, Oct 24"}),y.jsx("button",{className:"text-[10px] bg-gray-50 border border-gray-200 px-2 py-1 rounded hover:bg-gray-100 text-gray-600 transition-colors",children:"Sync Calendar"})]}),y.jsxs("div",{className:"flex-1 relative overflow-y-auto scrollbar-hide pl-2 pr-2 space-y-4",children:[y.jsx("div",{className:"absolute left-[48px] top-0 bottom-0 w-[1px] bg-gray-200 z-0"}),y.jsxs("div",{className:"absolute left-[42px] w-full flex items-center z-10",style:{top:"45%"},children:[y.jsx("div",{className:"w-3 h-3 bg-brand-urgent rounded-full border-2 border-white shadow-sm"}),y.jsx("div",{className:"flex-1 h-[1px] bg-brand-urgent ml-1 opacity-50"}),y.jsx("span",{className:"text-[10px] text-brand-urgent font-bold bg-white px-1 ml-auto mr-2 shadow-sm rounded border border-red-100",children:"12:45 PM"})]}),e.map((t,n)=>y.jsxs("div",{className:"relative flex z-20 group",children:[y.jsxs("div",{className:"w-12 text-[10px] text-gray-400 text-right pr-3 pt-1 font-mono",children:[y.jsx("div",{children:t.time}),y.jsx("div",{className:"text-gray-300",children:t.end})]}),y.jsxs("div",{className:`flex-1 p-3 rounded-lg border ${t.color} shadow-sm hover:shadow-md transition-all cursor-pointer relative overflow-hidden hover:-translate-y-0.5`,children:[y.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${t.color.replace("bg-","bg-opacity-100 bg-").split(" ")[0].replace("50","500")}`}),y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("div",{className:"font-semibold text-sm mb-1",children:t.title}),y.jsx(t.icon,{size:14,className:"opacity-70"})]}),y.jsx("div",{className:"text-xs opacity-80",children:"Zoom  3 participants"})]})]},n)),y.jsxs("div",{className:"relative flex z-20 opacity-50 hover:opacity-100 transition-opacity cursor-pointer group",children:[y.jsx("div",{className:"w-12 text-[10px] text-gray-300 text-right pr-3 pt-2",children:"13:00"}),y.jsx("div",{className:"flex-1 p-3 rounded-lg border border-dashed border-gray-300 flex items-center justify-center text-xs text-gray-400 group-hover:bg-gray-50 h-16 transition-colors",children:"+ Schedule block"})]})]})]})},sat=({title:r})=>y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-300 space-y-3",children:[y.jsx("div",{className:"p-4 rounded-full bg-gray-50 border border-gray-100",children:y.jsx(TU,{size:24,className:"opacity-30 text-gray-400"})}),y.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["No items in ",r]}),y.jsx("button",{className:"text-xs text-brand-primary font-semibold hover:underline",children:"Connect Source"})]}),oat=({card:r,allCards:e,onUpdate:t,onRemove:n,containerWidth:i})=>{const[a,s]=me.useState(!1),[o,l]=me.useState(!1),c=me.useRef(null),u=24,f=50,d=me.useRef({x:0,y:0,initialX:0,initialY:0,initialW:0,initialH:0}),h=(g,_)=>{g.stopPropagation();const w=Math.max(...e.map(M=>M.zIndex||0),0);t({...r,zIndex:w+1}),d.current={x:g.clientX,y:g.clientY,initialX:r.x,initialY:r.y,initialW:r.w,initialH:r.h};const A=c.current;A&&A.setPointerCapture(g.pointerId),_==="drag"&&s(!0),_==="resize"&&l(!0)},p=g=>{if(!a&&!o)return;g.stopPropagation();const _=g.clientX-d.current.x,w=g.clientY-d.current.y;if(a&&c.current){let A=d.current.initialX+_,M=d.current.initialY+w;const C=i;A=Math.max(32,A),M=Math.max(0,M);const N=20;Math.abs(A%N)<f&&(A=Math.round(A/N)*N),Math.abs(M%N)<f&&(M=Math.round(M/N)*N),A=Math.max(32,Math.min(A,C-d.current.initialW-32)),M=Math.max(0,M),c.current.style.transform=`translate(${A-d.current.initialX}px, ${M-d.current.initialY}px)`,c.current.style.zIndex="100",c.current.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)";const L=c.current.getBoundingClientRect(),D=c.current.offsetParent;if(!D)return;const k=D.getBoundingClientRect(),O=L.left-k.left,I=L.top-k.left,j=L.width,B=L.height;e.forEach(K=>{if(K.instanceId!==r.instanceId)if(O<K.x+K.w&&O+j>K.x&&I<K.y+K.h&&I+B>K.y){const H=document.getElementById(`card-${K.instanceId}`);H&&(H.style.transform=`translateY(${B+u}px)`,H.style.transition="transform 0.2s cubic-bezier(0.2, 0, 0, 1)")}else{const H=document.getElementById(`card-${K.instanceId}`);H&&(H.style.transform="")}})}if(o&&c.current){let A=Math.max(300,d.current.initialW+_);const M=Math.max(200,d.current.initialH+w),C=i-r.x-32;A=Math.min(A,C),c.current.style.width=`${A}px`,c.current.style.height=`${M}px`}},v=g=>{if(!a&&!o)return;g.stopPropagation();const _=c.current;if(_){_.releasePointerCapture(g.pointerId);const w=_.getBoundingClientRect(),A=_.offsetParent;if(A){const M=A.getBoundingClientRect();let C=w.left-M.left,N=w.top-M.top,L=w.width,D=w.height;if(a){C=Math.round(C/20)*20,N=Math.round(N/20)*20,C=Math.max(32,Math.min(C,i-L-32)),N=Math.max(0,N);const O=[],I={x:C,y:N,w:L,h:D};e.filter(B=>B.instanceId!==r.instanceId).sort((B,K)=>B.y-K.y).forEach(B=>{if(I.x<B.x+B.w&&I.x+I.w>B.x&&I.y<B.y+B.h&&I.y+I.h>B.y){const H=I.y+I.h+u;O.push({...B,y:H}),B.y=H}const K=document.getElementById(`card-${B.instanceId}`);K&&(K.style.transform="")}),t({...r,x:C,y:N,w:L,h:D},O)}else if(o){const k=i-C-32;L=Math.min(L,k),t({...r,x:C,y:N,w:L,h:D})}}}s(!1),l(!1)},x={standup:Ld,recents:SU,agenda:Fh,mywork:Kw,assigned:Kw,personal:Yoe,comments:kE,lineup:Qoe,reminders:_y}[r.typeId]||TU;return y.jsxs("div",{id:`card-${r.instanceId}`,ref:c,className:`absolute bg-white rounded-xl flex flex-col overflow-hidden group transition-shadow duration-200 ${a?"shadow-2xl cursor-grabbing z-50 scale-[1.02] ring-2 ring-brand-primary ring-opacity-50":"shadow-card hover:shadow-card-hover z-10 border border-gray-200/60"}`,style:{left:r.x,top:r.y,width:r.w,height:r.h,zIndex:a?9999:r.zIndex,transition:a||o?"none":"box-shadow 0.2s, transform 0.3s ease-out, left 0.3s cubic-bezier(0.2, 0, 0, 1), top 0.3s cubic-bezier(0.2, 0, 0, 1)"},onPointerMove:p,onPointerUp:v,children:[y.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-50/80 cursor-grab active:cursor-grabbing bg-gradient-to-b from-white to-gray-50/50 select-none h-12",onPointerDown:g=>h(g,"drag"),children:[y.jsxs("div",{className:"flex items-center space-x-2.5 pointer-events-none",children:[y.jsx("div",{className:`w-7 h-7 rounded-lg ${r.color} flex items-center justify-center text-white shadow-md shadow-gray-200`,children:y.jsx(x,{size:14})}),y.jsx("span",{className:"text-sm font-bold text-gray-800 tracking-tight",children:r.title})]}),y.jsx("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx("button",{onClick:g=>{g.stopPropagation(),n(r.instanceId)},className:"p-1.5 hover:bg-red-50 rounded-md text-gray-400 hover:text-red-500 transition-colors",children:y.jsx(Wf,{size:14})})})]}),y.jsxs("div",{className:"flex-1 p-4 overflow-y-auto scrollbar-hide bg-white select-text cursor-auto",onPointerDown:g=>g.stopPropagation(),children:[r.typeId==="recents"&&y.jsx(rat,{}),r.typeId==="lineup"&&y.jsx(nat,{}),r.typeId==="standup"&&y.jsx(iat,{}),r.typeId==="agenda"&&y.jsx(aat,{}),!["recents","lineup","standup","agenda"].includes(r.typeId)&&y.jsx(sat,{title:r.title})]}),y.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-nwse-resize flex items-end justify-end p-1 opacity-0 group-hover:opacity-100 transition-opacity",onPointerDown:g=>h(g,"resize"),children:y.jsx("div",{className:"w-2.5 h-2.5 border-r-2 border-b-2 border-gray-300 rounded-br-[2px] hover:border-brand-primary transition-colors"})})]})},lat=({cards:r=[],onUpdateCard:e=a=>{},onRemoveCard:t=a=>{},onOpenCustomize:n=()=>{},userName:i="User"})=>{const{showToast:a}=Vh(),s=new Date().getHours(),o=me.useRef(null),[l,c]=me.useState(1600);me.useEffect(()=>{o.current&&c(o.current.clientWidth);const d=()=>{o.current&&c(o.current.clientWidth)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);let u="Good morning";s>=12&&s<17?u="Good afternoon":s>=17&&(u="Good evening");const f=(d,h=[])=>{e(d),h.forEach(p=>e(p))};return r.length>0?y.jsx("div",{className:"flex-1 bg-brand-surface flex flex-col h-full overflow-hidden relative",children:y.jsxs("div",{className:"flex-1 relative overflow-auto scrollbar-hide w-full h-full",style:{backgroundImage:"radial-gradient(#E5E7EB 1.5px, transparent 1.5px)",backgroundSize:"32px 32px"},children:[y.jsx("div",{className:"px-8 py-6 mb-4",children:y.jsxs("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:[u,", ",i]})}),y.jsxs("div",{ref:o,className:"w-full h-full min-h-[1000px] relative",children:[r.map(d=>y.jsx(oat,{card:d,allCards:r,onUpdate:f,onRemove:t,containerWidth:l},d.instanceId)),y.jsx("div",{className:"absolute inset-0 z-0",onDoubleClick:n,title:"Double click to add card"})]})]})}):y.jsx("div",{className:"flex-1 bg-brand-surface flex flex-col h-full overflow-y-auto scrollbar-hide animate-in fade-in duration-500",children:y.jsxs("div",{className:"w-full mx-auto p-8 md:p-12 flex flex-col h-full",children:[y.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-8 tracking-tight",children:[u,", ",i]}),y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[400px]",children:[y.jsxs("div",{className:"relative w-80 h-64 mb-12 opacity-90 hover:opacity-100 transition-all duration-500 cursor-pointer group",onClick:n,children:[y.jsxs("div",{className:"absolute top-0 left-6 w-52 h-32 bg-white border border-gray-200 rounded-2xl shadow-card transform -rotate-6 z-10 flex flex-col p-4 space-y-3 transition-transform group-hover:-translate-y-3 group-hover:-rotate-12",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full"}),y.jsx("div",{className:"w-24 h-2.5 bg-gray-100 rounded-full"})]}),y.jsxs("div",{className:"space-y-2 mt-2",children:[y.jsx("div",{className:"w-full h-2 bg-gray-50 rounded-full"}),y.jsx("div",{className:"w-3/4 h-2 bg-gray-50 rounded-full"})]})]}),y.jsxs("div",{className:"absolute top-8 right-6 w-52 h-32 bg-white border border-gray-200 rounded-2xl shadow-card transform rotate-6 z-0 flex flex-col p-4 items-end justify-between transition-transform group-hover:translate-x-3 group-hover:rotate-12",children:[y.jsx("div",{className:"w-10 h-2.5 bg-gray-100 rounded-full mb-2"}),y.jsx("div",{className:"w-full h-14 bg-gray-50 rounded-xl border border-gray-100 border-dashed flex items-center justify-center",children:y.jsx(TU,{size:20,className:"text-gray-200"})})]}),y.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-64 h-36 bg-white border border-gray-200 rounded-2xl shadow-2xl shadow-indigo-100 z-20 flex flex-col p-5 transition-transform group-hover:scale-105 ring-1 ring-black/5",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-primary"}),y.jsx("div",{className:"w-28 h-2.5 bg-gray-100 rounded-full"})]})}),y.jsx("div",{className:"flex-1 space-y-3",children:y.jsxs("div",{className:"flex items-center justify-between px-2",children:[y.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"}),y.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"}),y.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"})]})})]}),y.jsx("div",{className:"absolute -top-4 right-10 w-12 h-12 bg-white border border-gray-100 rounded-2xl shadow-lg flex items-center justify-center z-30 animate-bounce duration-[2000ms]",children:y.jsx(ui,{className:"text-brand-primary",size:24})})]}),y.jsxs("h2",{className:"text-gray-500 text-center max-w-md mb-8 leading-relaxed text-lg font-medium",children:["Customize your workspace with drag-and-drop cards. ",y.jsx("br",{}),y.jsx("span",{className:"text-sm text-gray-400",children:"Build your perfect dashboard in seconds."})]}),y.jsx("button",{className:"bg-gray-900 hover:bg-black text-white px-8 py-3.5 rounded-xl font-bold text-sm transition-all shadow-md hover:shadow-lg active:scale-95 tracking-wide",onClick:n,children:"Customize Home"})]})]})})},$N="http://localhost:3001",Hx={getMessages:async()=>(await fetch(`${$N}/messages`)).json(),markMessageRead:async r=>{await fetch(`${$N}/messages/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isRead:!0})})},sendMessage:async(r,e,t,n=[])=>{const i={id:`MSG-${Date.now()}`,senderId:"u1",recipientId:t,subject:r,preview:e.substring(0,50)+"...",content:e,timestamp:new Date().toISOString(),isRead:!1,tags:["inbox"],attachments:n,tasks:[],notes:[]};return(await fetch(`${$N}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json()},updateMessage:async(r,e)=>(await fetch(`${$N}/messages/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()},cat=({isLoading:r,messages:e,selectedId:t,filter:n,currentUser:i,onLoadMessages:a,onSetFilter:s,onSelectMessage:o})=>{const l=e.filter(f=>n==="inbox"?f.recipientId===i.id&&!f.tags.includes("archived"):f.senderId===i.id),c=f=>dy[f]||{name:"Unknown",color:"#999",avatar:"?"},u=f=>{const d=new Date(f),h=new Date;return d.toDateString()===h.toDateString()?d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):d.toLocaleDateString([],{month:"short",day:"numeric"})};return y.jsxs("div",{className:"w-96 border-r border-gray-200 flex flex-col bg-gray-50/50",children:[y.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between bg-white",children:[y.jsxs("h2",{className:"font-bold text-lg flex items-center text-gray-700",children:[y.jsx(Ek,{className:"mr-2 text-clickup-purple",size:20}),"Inbox"]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",onClick:a,children:y.jsx(AU,{size:16,className:r?"animate-spin":""})}),y.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",children:y.jsx(Fwe,{size:16})})]})]}),y.jsx("div",{className:"p-3",children:y.jsxs("div",{className:"relative",children:[y.jsx(vv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),y.jsx("input",{type:"text",placeholder:"Search messages...",className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple"})]})}),y.jsxs("div",{className:"flex px-3 border-b border-gray-200 bg-white",children:[y.jsx("button",{onClick:()=>s("inbox"),className:`flex-1 pb-2 text-sm font-medium border-b-2 transition-colors ${n==="inbox"?"border-clickup-purple text-clickup-purple":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Primary"}),y.jsx("button",{onClick:()=>s("sent"),className:`flex-1 pb-2 text-sm font-medium border-b-2 transition-colors ${n==="sent"?"border-clickup-purple text-clickup-purple":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Sent"})]}),y.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:r&&e.length===0?y.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"Loading..."}):l.length===0?y.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No messages here."}):l.map(f=>{const d=c(f.senderId);return y.jsxs("div",{onClick:()=>o(f.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors group relative ${t===f.id?"bg-purple-50 border-purple-100":"bg-white hover:bg-gray-50"} ${f.isRead?"":"bg-gray-50"}`,children:[!f.isRead&&y.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-clickup-purple rounded-full"}),y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white",style:{backgroundColor:d.color},children:d.avatar}),y.jsx("span",{className:`text-sm truncate max-w-[120px] ${f.isRead?"text-gray-600":"font-bold text-gray-900"}`,children:d.name})]}),y.jsx("span",{className:"text-[10px] text-gray-400",children:u(f.timestamp)})]}),y.jsx("div",{className:`text-sm mb-1 truncate ${f.isRead?"text-gray-700":"font-semibold text-gray-800"}`,children:f.subject}),y.jsx("div",{className:"text-xs text-gray-400 truncate",children:f.preview})]},f.id)})})]})},uat=({selectedMessage:r,currentUser:e,replyText:t,onReplyChange:n,onSendReply:i,onOpenCompose:a,onUpdateMessage:s})=>{const o=M=>dy[M]||{name:"Unknown",color:"#999",avatar:"?"},[l,c]=me.useState(!1),[u,f]=me.useState(""),[d,h]=me.useState(""),p=me.useRef(null),v=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),x=async()=>{if(!u.trim()&&!d.trim()||!r)return;const C=[{id:v(),title:u.trim()||"Untitled",description:d.trim()},...r.notes||[]];await Hx.updateMessage(r.id,{notes:C}),s(),f(""),h(""),c(!1)},g=async()=>{if(!r)return;const C=[{id:v(),title:r.subject||"Email task",description:r.preview||r.content.slice(0,140),status:"todo",sourceEmailId:r.id},...r.tasks||[]];await Hx.updateMessage(r.id,{tasks:C}),s()},_=async(M,C)=>{if(!r)return;const N=(r.tasks||[]).map(L=>L.id===M?{...L,status:C}:L);await Hx.updateMessage(r.id,{tasks:N}),s()},w=async M=>{if(r&&M.target.files&&M.target.files[0]){const C=M.target.files[0],N={id:v(),name:C.name,type:C.type,url:URL.createObjectURL(C)},L=[...r.attachments||[],N];await Hx.updateMessage(r.id,{attachments:L}),s()}},A=me.useMemo(()=>({todo:((r==null?void 0:r.tasks)||[]).filter(M=>M.status==="todo"),inProgress:((r==null?void 0:r.tasks)||[]).filter(M=>M.status==="inProgress"),done:((r==null?void 0:r.tasks)||[]).filter(M=>M.status==="done")}),[r]);return y.jsxs("div",{className:"flex-1 flex flex-col bg-white h-full min-w-0",children:[y.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:r?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"p-6 border-b border-gray-200",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("h1",{className:"text-xl font-bold text-gray-800 leading-tight",children:r.subject}),y.jsxs("div",{className:"flex space-x-2 text-gray-400",children:[y.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",title:"Archive",children:y.jsx(joe,{size:18})}),y.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full hover:text-red-500",title:"Delete",children:y.jsx(Ih,{size:18})})]})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white shadow-sm",style:{backgroundColor:o(r.senderId).color},children:o(r.senderId).avatar}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-baseline space-x-2",children:[y.jsx("span",{className:"font-bold text-gray-900",children:o(r.senderId).name}),y.jsxs("span",{className:"text-xs text-gray-500",children:["<user@",r.senderId,".com>"]})]}),y.jsxs("div",{className:"text-xs text-gray-400",children:["To: Me  ",new Date(r.timestamp).toLocaleString()]})]})]})]}),y.jsxs("div",{className:"flex-1 p-8 overflow-y-auto text-gray-800 leading-relaxed whitespace-pre-wrap font-sans text-sm",children:[r.content,r.attachments&&r.attachments.length>0&&y.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[y.jsx("h3",{className:"text-xs font-semibold text-gray-500 mb-2",children:"Attachments"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:r.attachments.map(M=>y.jsxs("div",{className:"flex items-center p-2 bg-gray-50 border border-gray-200 rounded-lg text-sm",children:[y.jsx(Hm,{size:16,className:"text-gray-400 mr-2"}),y.jsx("span",{className:"text-gray-700",children:M.name})]},M.id))})]})]}),y.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:y.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm focus-within:ring-2 focus-within:ring-purple-100 focus-within:border-clickup-purple transition-all",children:[y.jsxs("div",{className:"p-2 border-b border-gray-100 bg-gray-50/50 flex items-center space-x-2 text-gray-400",children:[y.jsx(oTe,{size:14}),y.jsxs("span",{className:"text-xs font-medium",children:["Replying to ",o(r.senderId).name,"..."]})]}),y.jsx("textarea",{className:"w-full p-3 min-h-[80px] focus:outline-none text-sm resize-none",placeholder:"Write your reply...",value:t,onChange:M=>n(M.target.value)}),y.jsxs("div",{className:"flex items-center justify-between p-2",children:[y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("input",{type:"file",ref:p,className:"hidden",onChange:w}),y.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded hover:bg-gray-100",title:"Attach file",onClick:()=>{var M;return(M=p.current)==null?void 0:M.click()},children:y.jsx(rle,{size:16})})]}),y.jsxs("button",{onClick:i,disabled:!t.trim(),className:"bg-clickup-purple text-white px-4 py-1.5 rounded text-sm font-medium flex items-center space-x-2 disabled:opacity-50 hover:brightness-110 transition-all",children:[y.jsx("span",{children:"Send"}),y.jsx(Mk,{size:14})]})]})]})})]}):y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300 bg-gray-50/30",children:[y.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:y.jsx(Ek,{size:48,className:"text-gray-300"})}),y.jsx("p",{className:"text-lg font-medium text-gray-400",children:"Select a message to read"}),y.jsx("p",{className:"text-sm max-w-xs text-center mt-2",children:"Stay on top of your communications directly within your workspace."}),y.jsxs("button",{onClick:a,className:"mt-6 px-6 py-2 bg-clickup-purple text-white rounded-full font-medium shadow-lg shadow-purple-200 hover:shadow-xl hover:scale-105 transition-all flex items-center",children:[y.jsx(ui,{size:16,className:"mr-2"}),"New Message"]})]})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 border-t border-gray-100 p-4 bg-transparent",children:[y.jsxs("div",{className:"col-span-1 md:col-span-2 border border-gray-200 rounded-lg p-4 bg-white/50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Reminders & Notes"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Lightweight scratchpad under your inbox."})]}),y.jsx("button",{onClick:()=>c(M=>!M),className:"flex items-center justify-center w-8 h-8 rounded-full border border-gray-200 text-gray-600 hover:bg-gray-100 transition",title:"Add reminder or note",children:y.jsx(ui,{size:14})})]}),l&&y.jsxs("div",{className:"space-y-2 mb-3",children:[y.jsx("input",{className:"w-full border border-gray-200 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple",placeholder:"Headline",value:u,onChange:M=>f(M.target.value)}),y.jsx("textarea",{className:"w-full border border-gray-200 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple resize-none",placeholder:"Description",rows:3,value:d,onChange:M=>h(M.target.value)}),y.jsxs("div",{className:"flex items-center justify-end gap-2",children:[y.jsx("button",{className:"text-xs text-gray-500 px-3 py-1 rounded hover:bg-gray-100",onClick:()=>{c(!1),f(""),h("")},children:"Cancel"}),y.jsx("button",{className:"text-xs bg-clickup-purple text-white px-3 py-1 rounded hover:brightness-110 disabled:opacity-50",onClick:x,disabled:!u.trim()&&!d.trim(),children:"Add"})]})]}),!(r!=null&&r.notes)||r.notes.length===0?y.jsx("p",{className:"text-xs text-gray-500",children:"No reminders yet. Use the + to add one."}):y.jsx("ul",{className:"list-disc pl-4 space-y-2 text-sm text-gray-700",children:r.notes.map(M=>y.jsxs("li",{children:[y.jsx("div",{className:"font-semibold text-gray-800",children:M.title}),M.description&&y.jsx("p",{className:"text-xs text-gray-600",children:M.description})]},M.id))})]}),y.jsxs("div",{className:"col-span-1 md:col-span-3 border border-gray-200 rounded-lg p-4 bg-white/50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Mini tasks from email"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Turn messages into actionable tasks."})]}),y.jsxs("button",{onClick:g,disabled:!r,className:"flex items-center gap-2 text-xs px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:[y.jsx(ui,{size:12}),"Add from email"]})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{key:"todo",label:"To Do"},{key:"inProgress",label:"In Progress"},{key:"done",label:"Done"}].map(M=>y.jsxs("div",{className:"border border-dashed border-gray-200 rounded-md p-3 bg-white/70 flex flex-col min-h-[140px]",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-xs font-semibold text-gray-700",children:M.label}),y.jsx("span",{className:"text-[10px] text-gray-500",children:A[M.key].length})]}),y.jsx("div",{className:"space-y-2 overflow-y-auto max-h-52 pr-1",children:A[M.key].length===0?y.jsx("p",{className:"text-[11px] text-gray-400",children:"No tasks"}):A[M.key].map(C=>y.jsxs("div",{className:"border border-gray-200 rounded p-2 bg-white shadow-sm",children:[y.jsx("div",{className:"text-sm font-semibold text-gray-800",children:C.title}),C.description&&y.jsx("p",{className:"text-[11px] text-gray-500 mt-1 overflow-hidden text-ellipsis",children:C.description}),y.jsx("div",{className:"mt-2",children:y.jsxs("select",{value:C.status,onChange:N=>_(C.id,N.target.value),className:"w-full text-[11px] border border-gray-200 rounded px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple",children:[y.jsx("option",{value:"todo",children:"To Do"}),y.jsx("option",{value:"inProgress",children:"In Progress"}),y.jsx("option",{value:"done",children:"Done"})]})})]},C.id))})]},M.key))})]})]})]})},fat=({currentUser:r,onClose:e,onSend:t})=>{const[n,i]=me.useState("u2"),[a,s]=me.useState(""),[o,l]=me.useState(""),[c,u]=me.useState(!1),[f,d]=me.useState([]),h=me.useRef(null),p=_=>{if(_.target.files&&_.target.files[0]){const w=_.target.files[0],A={id:Math.random().toString(36).slice(2),name:w.name,type:w.type,url:URL.createObjectURL(w)};d(M=>[...M,A])}},v=_=>{d(w=>w.filter(A=>A.id!==_))},x=async()=>{if(!(!a.trim()||!o.trim())){u(!0);try{await Hx.sendMessage(a,o,n,f),t(),e()}catch(_){console.error("Failed to send message",_)}finally{u(!1)}}},g=Object.values(dy).filter(_=>_.id!=="me"&&_.id!==r.id);return y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:"New Message"}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-200 transition",children:y.jsx(Wf,{size:18})})]}),y.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"To"}),y.jsx("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple",value:n,onChange:_=>i(_.target.value),children:g.map(_=>y.jsxs("option",{value:_.id,children:[_.name," (",_.email,")"]},_.id))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Subject"}),y.jsx("input",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple",placeholder:"What's this about?",value:a,onChange:_=>s(_.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Message"}),y.jsx("textarea",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple min-h-[150px] resize-none",placeholder:"Write your message...",value:o,onChange:_=>l(_.target.value)})]}),f.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(_=>y.jsxs("div",{className:"flex items-center p-2 bg-gray-50 border border-gray-200 rounded-lg text-xs group",children:[y.jsx(Hm,{size:14,className:"text-gray-400 mr-2"}),y.jsx("span",{className:"text-gray-700 max-w-[150px] truncate",children:_.name}),y.jsx("button",{onClick:()=>v(_.id),className:"ml-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition",children:y.jsx(Ih,{size:12})})]},_.id))})]}),y.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex items-center justify-between",children:[y.jsx("input",{type:"file",ref:h,className:"hidden",onChange:p}),y.jsx("button",{className:"text-gray-500 hover:text-gray-700 p-2 rounded hover:bg-gray-200 transition",title:"Attach file",onClick:()=>{var _;return(_=h.current)==null?void 0:_.click()},children:y.jsx(rle,{size:18})}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-200 rounded-lg transition",children:"Cancel"}),y.jsx("button",{onClick:x,disabled:!a.trim()||!o.trim()||c,className:"px-4 py-2 text-sm font-medium bg-clickup-purple text-white rounded-lg hover:brightness-110 transition flex items-center disabled:opacity-50 disabled:cursor-not-allowed shadow-sm shadow-purple-200",children:c?"Sending...":y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"Send"}),y.jsx(Mk,{size:14,className:"ml-2"})]})})]})]})]})})},hat=()=>{const[r,e]=me.useState([]),[t,n]=me.useState(null),[i,a]=me.useState(!0),[s,o]=me.useState(""),[l,c]=me.useState("inbox"),{showToast:u}=Vh(),f=dy.u1,[d,h]=me.useState(!1);me.useEffect(()=>{p()},[]);const p=async()=>{a(!0);try{const _=await Hx.getMessages();e(_.sort((w,A)=>new Date(A.timestamp).getTime()-new Date(w.timestamp).getTime()))}catch(_){console.error(_)}finally{a(!1)}},v=async _=>{n(_);const w=r.find(A=>A.id===_);w&&!w.isRead&&w.recipientId===f.id&&(e(A=>A.map(M=>M.id===_?{...M,isRead:!0}:M)),await Hx.markMessageRead(_))},x=async()=>{if(!s.trim())return;const _=r.find(M=>M.id===t);if(!_)return;const w=`Re: ${_.subject}`,A=_.senderId===f.id?_.recipientId:_.senderId;u("Sending...","info");try{await Hx.sendMessage(w,s,A),o(""),u("Reply sent!","success"),p()}catch{u("Failed to send","error")}},g=r.find(_=>_.id===t);return y.jsxs("div",{className:"flex h-full bg-white overflow-hidden animate-in fade-in duration-300 relative",children:[y.jsx(cat,{isLoading:i,messages:r,selectedId:t,filter:l,currentUser:f,onLoadMessages:p,onSetFilter:c,onSelectMessage:v}),y.jsx(uat,{selectedMessage:g,currentUser:f,replyText:s,onReplyChange:o,onSendReply:x,onOpenCompose:()=>h(!0),onUpdateMessage:p}),d&&y.jsx(fat,{currentUser:f,onClose:()=>h(!1),onSend:()=>{u("Message sent!","success"),p()}})]})},dat=({isOpen:r,onClose:e,onCreate:t})=>{const[n,i]=me.useState(""),[a,s]=me.useState([]);if(!r)return null;const o=u=>{u.preventDefault(),n.trim()&&(t(n,a),i(""),s([]),e())},l=u=>{s(f=>f.includes(u)?f.filter(d=>d!==u):[...f,u])},c=Object.values(dy).filter(u=>u.id!=="me");return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:"Start New Discussion"}),y.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Wf,{size:20,className:"text-gray-500"})})]}),y.jsxs("form",{onSubmit:o,className:"p-4 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discussion Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(d2,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),y.jsx("input",{type:"text",value:n,onChange:u=>i(u.target.value),placeholder:"e.g. Project Alpha",className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",autoFocus:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Participants"}),y.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border border-gray-100 rounded-lg p-2",children:c.map(u=>y.jsxs("div",{onClick:()=>l(u.id),className:`flex items-center p-2 rounded-md cursor-pointer transition-colors ${a.includes(u.id)?"bg-blue-50 border-blue-100":"hover:bg-gray-50"}`,children:[y.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3",style:{backgroundColor:u.color},children:u.avatar}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.name}),y.jsx("p",{className:"text-xs text-gray-500",children:u.email})]}),a.includes(u.id)&&y.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})]},u.id))})]}),y.jsxs("div",{className:"flex justify-end pt-2",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 mr-2",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:!n.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Discussion"})]})]})]})})},R5="http://localhost:3001",k5={getChannels:async()=>{try{const r=await fetch(`${R5}/channels`);if(!r.ok)throw new Error("Failed to fetch channels");return r.json()}catch(r){return console.error("Error fetching channels:",r),[]}},createChannel:async(r,e)=>{const t={id:Date.now().toString(),name:r,type:"public",participants:e};return(await fetch(`${R5}/channels`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()},deleteChannel:async r=>{await fetch(`${R5}/channels/${r}`,{method:"DELETE"})},getMessages:async r=>{try{const e=await fetch(`${R5}/discussion_messages?channelId=${r}`);if(!e.ok)throw new Error("Failed to fetch messages");return e.json()}catch(e){return console.error("Error fetching messages:",e),[]}},sendMessage:async(r,e,t="me")=>{const n=Object.values(dy).find(s=>s.id===t)||dy.me,i={id:Date.now().toString(),sender:n.name,senderId:n.id,content:e,timestamp:new Date().toISOString(),avatar:n.avatar,channelId:r};return(await fetch(`${R5}/discussion_messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json()}},pat=()=>{const[r,e]=me.useState(null),[t,n]=me.useState(""),[i,a]=me.useState(!1),[s,o]=me.useState([]),[l,c]=me.useState({});me.useEffect(()=>{u()},[]),me.useEffect(()=>{if(r){f(r);const g=setInterval(()=>f(r),3e3);return()=>clearInterval(g)}},[r]);const u=async()=>{const g=await k5.getChannels();o(g)},f=async g=>{const _=await k5.getMessages(g);c(w=>({...w,[g]:_}))},d=async(g,_)=>{const w=await k5.createChannel(g,_);o(A=>[...A,w]),e(w.id)},h=async(g,_)=>{if(g.stopPropagation(),window.confirm("Are you sure you want to delete this discussion?"))try{await k5.deleteChannel(_),o(w=>w.filter(A=>A.id!==_)),r===_&&e(null)}catch(w){console.error("Failed to delete channel:",w)}},p=async g=>{if(g.preventDefault(),!(!t.trim()||!r))try{const _={id:`temp-${Date.now()}`,sender:"You",senderId:"me",content:t,timestamp:new Date().toISOString(),channelId:r};c(w=>({...w,[r]:[...w[r]||[],_]})),n(""),await k5.sendMessage(r,_.content),f(r)}catch(_){console.error("Failed to send message:",_)}},v=s.find(g=>g.id===r),x=r?l[r]||[]:[];return y.jsxs("div",{className:"flex h-full bg-white overflow-hidden",children:[y.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 flex flex-col",children:[y.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[y.jsx("h2",{className:"font-bold text-gray-800",children:"Discussions"}),y.jsx("button",{onClick:()=>a(!0),className:"p-1 hover:bg-gray-200 rounded-md text-gray-500 transition-colors",title:"New Discussion",children:y.jsx(ui,{size:18})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-1",children:y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 px-2",children:"Channels"}),s.length===0&&y.jsx("div",{className:"px-2 text-sm text-gray-400 italic",children:"No discussions yet. Start one!"}),s.map(g=>y.jsxs("button",{onClick:()=>e(g.id),className:`w-full flex items-center justify-between px-2 py-1.5 rounded-md text-sm transition-colors group ${r===g.id?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[y.jsxs("div",{className:"flex items-center truncate",children:[y.jsx(d2,{size:16,className:"mr-2 opacity-70 flex-shrink-0"}),y.jsx("span",{className:"truncate",children:g.name})]}),y.jsx("div",{onClick:_=>h(_,g.id),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-all",title:"Delete Discussion",children:y.jsx(Ih,{size:14})})]},g.id))]})})]}),y.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-white",children:r?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"h-14 border-b border-gray-200 flex items-center justify-between px-4 bg-white flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center min-w-0",children:[y.jsx(d2,{size:20,className:"text-gray-400 mr-2 flex-shrink-0"}),y.jsx("h3",{className:"font-bold text-gray-800 truncate",children:v==null?void 0:v.name}),(v==null?void 0:v.participants)&&v.participants.length>0&&y.jsx("div",{className:"ml-4 flex items-center space-x-1 overflow-hidden",children:v.participants.map(g=>{const _=dy[g];return _?y.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[10px] text-white font-bold ring-2 ring-white",style:{backgroundColor:_.color},title:_.name,children:_.avatar},g):null})})]}),y.jsxs("div",{className:"flex items-center space-x-3 text-gray-500 flex-shrink-0 ml-2",children:[y.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-md",children:y.jsx(vv,{size:18})}),y.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-md",children:y.jsx(KSe,{size:18})}),y.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-md",children:y.jsx(HB,{size:18})}),y.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-md",children:y.jsx(Koe,{size:18})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[x.length===0&&y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[y.jsx(d2,{size:48,className:"mb-4 opacity-20"}),y.jsxs("p",{children:["Start the conversation in #",v==null?void 0:v.name,"!"]})]}),x.map((g,_)=>{const w=g.senderId==="me"||g.sender==="You",A=_===0||x[_-1].sender!==g.sender;return y.jsxs("div",{className:`flex ${w?"justify-end":"justify-start"} group`,children:[!w&&y.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 text-xs font-bold mr-3 flex-shrink-0 mt-1",children:A?g.avatar:""}),y.jsxs("div",{className:`max-w-[70%] ${w?"items-end":"items-start"} flex flex-col`,children:[A&&y.jsxs("div",{className:"flex items-baseline mb-1",children:[y.jsx("span",{className:"font-semibold text-sm text-gray-900 mr-2",children:g.sender}),y.jsx("span",{className:"text-xs text-gray-400",children:new Date(g.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),y.jsx("div",{className:`px-4 py-2 rounded-lg text-sm shadow-sm ${w?"bg-blue-600 text-white rounded-tr-none":"bg-gray-100 text-gray-800 rounded-tl-none"}`,children:g.content})]}),w&&y.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs font-bold ml-3 flex-shrink-0 mt-1",children:"You"})]},g.id)})]}),y.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white",children:[y.jsxs("form",{onSubmit:p,className:"relative rounded-lg border border-gray-300 shadow-sm focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent transition-all",children:[y.jsx("input",{type:"text",value:t,onChange:g=>n(g.target.value),placeholder:`Message #${v==null?void 0:v.name}`,className:"w-full py-3 pl-4 pr-12 bg-transparent border-none focus:ring-0 text-sm"}),y.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[y.jsx("button",{type:"button",className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-md transition-colors",children:y.jsx(ui,{size:18})}),y.jsx("button",{type:"submit",disabled:!t.trim(),className:`p-1.5 rounded-md transition-colors ${t.trim()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:y.jsx(Mk,{size:16})})]})]}),y.jsxs("div",{className:"mt-2 text-xs text-gray-400 flex justify-between px-1",children:[y.jsxs("span",{children:[y.jsx("strong",{children:"Return"})," to send"]}),y.jsxs("span",{children:[y.jsx("strong",{children:"Shift + Return"})," for new line"]})]})]})]}):y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:y.jsx(d2,{size:32,className:"text-gray-300"})}),y.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No Discussion Selected"}),y.jsx("p",{className:"max-w-xs text-center text-sm",children:"Select a channel from the sidebar or start a new discussion to get chatting."}),y.jsx("button",{onClick:()=>a(!0),className:"mt-6 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Start New Discussion"})]})}),y.jsx(dat,{isOpen:i,onClose:()=>a(!1),onCreate:d})]})};var mF={exports:{}},bm={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yie;function vat(){return yie||(yie=1,bm.ConcurrentRoot=1,bm.ContinuousEventPriority=8,bm.DefaultEventPriority=32,bm.DiscreteEventPriority=2,bm.IdleEventPriority=268435456,bm.LegacyRoot=0,bm.NoEventPriority=0),bm}var bie;function mat(){return bie||(bie=1,mF.exports=vat()),mF.exports}var CD=mat();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const vM="181",r2={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},n2={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},sxe=0,Rj=1,oxe=2,gat=3,lxe=0,CI=1,ZA=2,kp=3,fg=0,Ku=1,K0=2,uv=0,B2=1,sE=2,kj=3,Ij=4,cxe=5,Dx=100,uxe=101,fxe=102,hxe=103,dxe=104,pxe=200,vxe=201,mxe=202,gxe=203,ER=204,MR=205,xxe=206,yxe=207,bxe=208,_xe=209,wxe=210,Sxe=211,Txe=212,Axe=213,Exe=214,CR=0,NR=1,DR=2,sb=3,LR=4,RR=5,kR=6,IR=7,mM=0,Mxe=1,Cxe=2,fv=0,Nxe=1,Dxe=2,Lxe=3,sG=4,Rxe=5,kxe=6,Ixe=7,Oj="attached",Oxe="detached",NI=300,hg=301,py=302,oE=303,lE=304,cT=306,cE=1e3,jf=1001,uE=1002,yc=1003,oG=1004,xat=1004,Tw=1005,yat=1005,zo=1006,KA=1007,bat=1007,iv=1008,_at=1008,Ud=1009,lG=1010,cG=1011,gS=1012,DI=1013,dg=1014,Uf=1015,Cb=1016,LI=1017,RI=1018,xS=1020,uG=35902,fG=35899,hG=1021,dG=1022,au=1023,yS=1026,bS=1027,kI=1028,gM=1029,II=1030,OI=1031,wat=1032,PI=1033,$A=33776,JA=33777,QA=33778,e3=33779,OR=35840,PR=35841,FR=35842,BR=35843,zR=36196,jR=37492,UR=37496,VR=37808,HR=37809,GR=37810,WR=37811,YR=37812,qR=37813,XR=37814,ZR=37815,KR=37816,$R=37817,JR=37818,QR=37819,ek=37820,tk=37821,rk=36492,nk=36494,ik=36495,ak=36283,sk=36284,ok=36285,lk=36286,Pxe=2200,Fxe=2201,Bxe=2202,fE=2300,ck=2301,ND=2302,w2=2400,S2=2401,hE=2402,FI=2500,pG=2501,Sat=0,Tat=1,Aat=2,zxe=3200,jxe=3201,Eat=3202,Mat=3203,Ny=0,Uxe=1,Im="",eu="srgb",vy="srgb-linear",dE="linear",Fa="srgb",Cat=0,i2=7680,Nat=7681,Dat=7682,Lat=7683,Rat=34055,kat=34056,Iat=5386,Oat=512,Pat=513,Fat=514,Bat=515,zat=516,jat=517,Uat=518,Pj=519,Vxe=512,Hxe=513,Gxe=514,vG=515,Wxe=516,Yxe=517,qxe=518,Xxe=519,pE=35044,Vat=35048,Hat=35040,Gat=35045,Wat=35049,Yat=35041,qat=35046,Xat=35050,Zat=35042,Kat="100",Fj="300 es",kh=2e3,_S=2001,$at={COMPUTE:"compute",RENDER:"render"},Jat={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Qat={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function Zxe(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const est={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Aw(r,e){return new est[r](e)}function vE(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function Kxe(){const r=vE("canvas");return r.style.display="block",r}const _ie={};let my=null;function tst(r){my=r}function rst(){return my}function mE(...r){const e="THREE."+r.shift();my?my("log",e,...r):console.log(e,...r)}function Mr(...r){const e="THREE."+r.shift();my?my("warn",e,...r):console.warn(e,...r)}function jn(...r){const e="THREE."+r.shift();my?my("error",e,...r):console.error(e,...r)}function wS(...r){const e=r.join(" ");e in _ie||(_ie[e]=!0,Mr(...r))}function nst(r,e,t){return new Promise(function(n,i){function a(){switch(r.clientWaitSync(e,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:i();break;case r.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:n()}}setTimeout(a,t)})}let Dv=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const i=n[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}};const Xc=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let wie=1234567;const z2=Math.PI/180,SS=180/Math.PI;function Ph(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Xc[r&255]+Xc[r>>8&255]+Xc[r>>16&255]+Xc[r>>24&255]+"-"+Xc[e&255]+Xc[e>>8&255]+"-"+Xc[e>>16&15|64]+Xc[e>>24&255]+"-"+Xc[t&63|128]+Xc[t>>8&255]+"-"+Xc[t>>16&255]+Xc[t>>24&255]+Xc[n&255]+Xc[n>>8&255]+Xc[n>>16&255]+Xc[n>>24&255]).toLowerCase()}function Dn(r,e,t){return Math.max(e,Math.min(t,r))}function mG(r,e){return(r%e+e)%e}function ist(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function ast(r,e,t){return r!==e?(t-r)/(e-r):0}function t3(r,e,t){return(1-t)*r+t*e}function sst(r,e,t,n){return t3(r,e,1-Math.exp(-t*n))}function ost(r,e=1){return e-Math.abs(mG(r,e*2)-e)}function lst(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function cst(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function ust(r,e){return r+Math.floor(Math.random()*(e-r+1))}function fst(r,e){return r+Math.random()*(e-r)}function hst(r){return r*(.5-Math.random())}function dst(r){r!==void 0&&(wie=r);let e=wie+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function pst(r){return r*z2}function vst(r){return r*SS}function mst(r){return(r&r-1)===0&&r!==0}function gst(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function xst(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function yst(r,e,t,n,i){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),c=a((e+n)/2),u=s((e+n)/2),f=a((e-n)/2),d=s((e-n)/2),h=a((n-e)/2),p=s((n-e)/2);switch(i){case"XYX":r.set(o*u,l*f,l*d,o*c);break;case"YZY":r.set(l*d,o*u,l*f,o*c);break;case"ZXZ":r.set(l*f,l*d,o*u,o*c);break;case"XZX":r.set(o*u,l*p,l*h,o*c);break;case"YXY":r.set(l*h,o*u,l*p,o*c);break;case"ZYZ":r.set(l*p,l*h,o*u,o*c);break;default:Mr("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Wu(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function ai(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const bst={DEG2RAD:z2,RAD2DEG:SS,generateUUID:Ph,clamp:Dn,euclideanModulo:mG,mapLinear:ist,inverseLerp:ast,lerp:t3,damp:sst,pingpong:ost,smoothstep:lst,smootherstep:cst,randInt:ust,randFloat:fst,randFloatSpread:hst,seededRandom:dst,degToRad:pst,radToDeg:vst,isPowerOfTwo:mst,ceilPowerOfTwo:gst,floorPowerOfTwo:xst,setQuaternionFromProperEuler:yst,normalize:ai,denormalize:Wu};class er{constructor(e=0,t=0){er.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Dn(this.x,e.x,t.x),this.y=Dn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Dn(this.x,e,t),this.y=Dn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Dn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Dn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*n-s*i+e.x,this.y=a*i+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class uu{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,a,s,o){let l=n[i+0],c=n[i+1],u=n[i+2],f=n[i+3],d=a[s+0],h=a[s+1],p=a[s+2],v=a[s+3];if(o<=0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(o>=1){e[t+0]=d,e[t+1]=h,e[t+2]=p,e[t+3]=v;return}if(f!==v||l!==d||c!==h||u!==p){let x=l*d+c*h+u*p+f*v;x<0&&(d=-d,h=-h,p=-p,v=-v,x=-x);let g=1-o;if(x<.9995){const _=Math.acos(x),w=Math.sin(_);g=Math.sin(g*_)/w,o=Math.sin(o*_)/w,l=l*g+d*o,c=c*g+h*o,u=u*g+p*o,f=f*g+v*o}else{l=l*g+d*o,c=c*g+h*o,u=u*g+p*o,f=f*g+v*o;const _=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=_,c*=_,u*=_,f*=_}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,n,i,a,s){const o=n[i],l=n[i+1],c=n[i+2],u=n[i+3],f=a[s],d=a[s+1],h=a[s+2],p=a[s+3];return e[t]=o*p+u*f+l*h-c*d,e[t+1]=l*p+u*d+c*f-o*h,e[t+2]=c*p+u*h+o*d-l*f,e[t+3]=u*p-o*f-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(n/2),u=o(i/2),f=o(a/2),d=l(n/2),h=l(i/2),p=l(a/2);switch(s){case"XYZ":this._x=d*u*f+c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f-d*h*p;break;case"YXZ":this._x=d*u*f+c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f+d*h*p;break;case"ZXY":this._x=d*u*f-c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f-d*h*p;break;case"ZYX":this._x=d*u*f-c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f+d*h*p;break;case"YZX":this._x=d*u*f+c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f-d*h*p;break;case"XZY":this._x=d*u*f-c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f+d*h*p;break;default:Mr("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],a=t[8],s=t[1],o=t[5],l=t[9],c=t[2],u=t[6],f=t[10],d=n+o+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-i)*h}else if(n>o&&n>f){const h=2*Math.sqrt(1+n-o-f);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+c)/h}else if(o>f){const h=2*Math.sqrt(1+o-n-f);this._w=(a-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+f-n-o);this._w=(s-i)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Dn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,a=e._z,s=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=n*u+s*o+i*c-a*l,this._y=i*u+s*l+a*o-n*c,this._z=a*u+s*c+n*l-i*o,this._w=s*u-n*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,i=e._y,a=e._z,s=e._w,o=this.dot(e);o<0&&(n=-n,i=-i,a=-a,s=-s,o=-o);let l=1-t;if(o<.9995){const c=Math.acos(o),u=Math.sin(c);l=Math.sin(l*c)/u,t=Math.sin(t*c)/u,this._x=this._x*l+n*t,this._y=this._y*l+i*t,this._z=this._z*l+a*t,this._w=this._w*l+s*t,this._onChangeCallback()}else this._x=this._x*l+n*t,this._y=this._y*l+i*t,this._z=this._z*l+a*t,this._w=this._w*l+s*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ye{constructor(e=0,t=0,n=0){Ye.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Sie.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Sie.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*i,this.y=a[1]*t+a[4]*n+a[7]*i,this.z=a[2]*t+a[5]*n+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*n+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*n+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*n+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*i-o*n),u=2*(o*t-a*i),f=2*(a*n-s*t);return this.x=t+l*c+s*f-o*u,this.y=n+l*u+o*c-a*f,this.z=i+l*f+a*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i,this.y=a[1]*t+a[5]*n+a[9]*i,this.z=a[2]*t+a[6]*n+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Dn(this.x,e.x,t.x),this.y=Dn(this.y,e.y,t.y),this.z=Dn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Dn(this.x,e,t),this.y=Dn(this.y,e,t),this.z=Dn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Dn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=i*l-a*o,this.y=a*s-n*l,this.z=n*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return gF.copy(this).projectOnVector(e),this.sub(gF)}reflect(e){return this.sub(gF.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Dn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const gF=new Ye,Sie=new uu;class ni{constructor(e,t,n,i,a,s,o,l,c){ni.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,a,s,o,l,c)}set(e,t,n,i,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=a,u[5]=l,u[6]=n,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,s=n[0],o=n[3],l=n[6],c=n[1],u=n[4],f=n[7],d=n[2],h=n[5],p=n[8],v=i[0],x=i[3],g=i[6],_=i[1],w=i[4],A=i[7],M=i[2],C=i[5],N=i[8];return a[0]=s*v+o*_+l*M,a[3]=s*x+o*w+l*C,a[6]=s*g+o*A+l*N,a[1]=c*v+u*_+f*M,a[4]=c*x+u*w+f*C,a[7]=c*g+u*A+f*N,a[2]=d*v+h*_+p*M,a[5]=d*x+h*w+p*C,a[8]=d*g+h*A+p*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*o*c-n*a*u+n*o*l+i*a*c-i*s*l}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=u*s-o*c,d=o*l-u*a,h=c*a-s*l,p=t*f+n*d+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/p;return e[0]=f*v,e[1]=(i*c-u*n)*v,e[2]=(o*n-i*s)*v,e[3]=d*v,e[4]=(u*t-i*l)*v,e[5]=(i*a-o*t)*v,e[6]=h*v,e[7]=(n*l-c*t)*v,e[8]=(s*t-n*a)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(n*l,n*c,-n*(l*s+c*o)+s+e,-i*c,i*l,-i*(-c*s+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(xF.makeScale(e,t)),this}rotate(e){return this.premultiply(xF.makeRotation(-e)),this}translate(e,t){return this.premultiply(xF.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const xF=new ni,Tie=new ni().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Aie=new ni().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function _st(){const r={enabled:!0,workingColorSpace:vy,spaces:{},convert:function(i,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===Fa&&(i.r=eg(i.r),i.g=eg(i.g),i.b=eg(i.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Fa&&(i.r=Xw(i.r),i.g=Xw(i.g),i.b=Xw(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Im?dE:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,s){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return wS("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),r.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return wS("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),r.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return r.define({[vy]:{primaries:e,whitePoint:n,transfer:dE,toXYZ:Tie,fromXYZ:Aie,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:eu},outputColorSpaceConfig:{drawingBufferColorSpace:eu}},[eu]:{primaries:e,whitePoint:n,transfer:Fa,toXYZ:Tie,fromXYZ:Aie,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:eu}}}),r}const qi=_st();function eg(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function Xw(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let B_;class $xe{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{B_===void 0&&(B_=vE("canvas")),B_.width=e.width,B_.height=e.height;const i=B_.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=B_}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=vE("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=eg(a[s]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(eg(t[n]/255)*255):t[n]=eg(t[n]);return{data:t,width:e.width,height:e.height}}else return Mr("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let wst=0;class Gx{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:wst++}),this.uuid=Ph(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(yF(i[s].image)):a.push(yF(i[s]))}else a=yF(i);n.url=a}return t||(e.images[this.uuid]=n),n}}function yF(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?$xe.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(Mr("Texture: Unable to serialize Texture."),{})}let Sst=0;const bF=new Ye;class go extends Dv{constructor(e=go.DEFAULT_IMAGE,t=go.DEFAULT_MAPPING,n=jf,i=jf,a=zo,s=iv,o=au,l=Ud,c=go.DEFAULT_ANISOTROPY,u=Im){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sst++}),this.uuid=Ph(),this.name="",this.source=new Gx(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new er(0,0),this.repeat=new er(1,1),this.center=new er(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ni,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(bF).x}get height(){return this.source.getSize(bF).y}get depth(){return this.source.getSize(bF).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){Mr(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Mr(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&n&&i.isVector2&&n.isVector2||i&&n&&i.isVector3&&n.isVector3||i&&n&&i.isMatrix3&&n.isMatrix3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==NI)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case cE:e.x=e.x-Math.floor(e.x);break;case jf:e.x=e.x<0?0:1;break;case uE:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case cE:e.y=e.y-Math.floor(e.y);break;case jf:e.y=e.y<0?0:1;break;case uE:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}go.DEFAULT_IMAGE=null;go.DEFAULT_MAPPING=NI;go.DEFAULT_ANISOTROPY=1;class sa{constructor(e=0,t=0,n=0,i=1){sa.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,a;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],h=l[5],p=l[9],v=l[2],x=l[6],g=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-v)<.01&&Math.abs(p-x)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+v)<.1&&Math.abs(p+x)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,A=(h+1)/2,M=(g+1)/2,C=(u+d)/4,N=(f+v)/4,L=(p+x)/4;return w>A&&w>M?w<.01?(n=0,i=.707106781,a=.707106781):(n=Math.sqrt(w),i=C/n,a=N/n):A>M?A<.01?(n=.707106781,i=0,a=.707106781):(i=Math.sqrt(A),n=C/i,a=L/i):M<.01?(n=.707106781,i=.707106781,a=0):(a=Math.sqrt(M),n=N/a,i=L/a),this.set(n,i,a,t),this}let _=Math.sqrt((x-p)*(x-p)+(f-v)*(f-v)+(d-u)*(d-u));return Math.abs(_)<.001&&(_=1),this.x=(x-p)/_,this.y=(f-v)/_,this.z=(d-u)/_,this.w=Math.acos((c+h+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Dn(this.x,e.x,t.x),this.y=Dn(this.y,e.y,t.y),this.z=Dn(this.z,e.z,t.z),this.w=Dn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Dn(this.x,e,t),this.y=Dn(this.y,e,t),this.z=Dn(this.z,e,t),this.w=Dn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Dn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class gG extends Dv{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:zo,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new sa(0,0,e,t),this.scissorTest=!1,this.viewport=new sa(0,0,e,t);const i={width:e,height:t,depth:n.depth},a=new go(i);this.textures=[];const s=n.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:zo,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new Gx(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sv extends gG{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class BI extends go{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=yc,this.minFilter=yc,this.wrapR=jf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Tst extends Sv{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new BI(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class zI extends go{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=yc,this.minFilter=yc,this.wrapR=jf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ast extends Sv{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new zI(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class fu{constructor(e=new Ye(1/0,1/0,1/0),t=new Ye(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Tp.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Tp.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Tp.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const a=n.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Tp):Tp.fromBufferAttribute(a,s),Tp.applyMatrix4(e.matrixWorld),this.expandByPoint(Tp);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),JN.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),JN.copy(n.boundingBox)),JN.applyMatrix4(e.matrixWorld),this.union(JN)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Tp),Tp.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(I5),QN.subVectors(this.max,I5),z_.subVectors(e.a,I5),j_.subVectors(e.b,I5),U_.subVectors(e.c,I5),px.subVectors(j_,z_),vx.subVectors(U_,j_),k1.subVectors(z_,U_);let t=[0,-px.z,px.y,0,-vx.z,vx.y,0,-k1.z,k1.y,px.z,0,-px.x,vx.z,0,-vx.x,k1.z,0,-k1.x,-px.y,px.x,0,-vx.y,vx.x,0,-k1.y,k1.x,0];return!_F(t,z_,j_,U_,QN)||(t=[1,0,0,0,1,0,0,0,1],!_F(t,z_,j_,U_,QN))?!1:(e4.crossVectors(px,vx),t=[e4.x,e4.y,e4.z],_F(t,z_,j_,U_,QN))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Tp).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Tp).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_m[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_m[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_m[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_m[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_m[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_m[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_m[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_m[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_m),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const _m=[new Ye,new Ye,new Ye,new Ye,new Ye,new Ye,new Ye,new Ye],Tp=new Ye,JN=new fu,z_=new Ye,j_=new Ye,U_=new Ye,px=new Ye,vx=new Ye,k1=new Ye,I5=new Ye,QN=new Ye,e4=new Ye,I1=new Ye;function _F(r,e,t,n,i){for(let a=0,s=r.length-3;a<=s;a+=3){I1.fromArray(r,a);const o=i.x*Math.abs(I1.x)+i.y*Math.abs(I1.y)+i.z*Math.abs(I1.z),l=e.dot(I1),c=t.dot(I1),u=n.dot(I1);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const Est=new fu,O5=new Ye,wF=new Ye;class bc{constructor(e=new Ye,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Est.setFromPoints(e).getCenter(n);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;O5.subVectors(e,this.center);const t=O5.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(O5,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(wF.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(O5.copy(e.center).add(wF)),this.expandByPoint(O5.copy(e.center).sub(wF))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const wm=new Ye,SF=new Ye,t4=new Ye,mx=new Ye,TF=new Ye,r4=new Ye,AF=new Ye;class Nb{constructor(e=new Ye,t=new Ye(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wm)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=wm.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wm.copy(this.origin).addScaledVector(this.direction,t),wm.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){SF.copy(e).add(t).multiplyScalar(.5),t4.copy(t).sub(e).normalize(),mx.copy(this.origin).sub(SF);const a=e.distanceTo(t)*.5,s=-this.direction.dot(t4),o=mx.dot(this.direction),l=-mx.dot(t4),c=mx.lengthSq(),u=Math.abs(1-s*s);let f,d,h,p;if(u>0)if(f=s*l-o,d=s*o-l,p=a*u,f>=0)if(d>=-p)if(d<=p){const v=1/u;f*=v,d*=v,h=f*(f+s*d+2*o)+d*(s*f+d+2*l)+c}else d=a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+c;else d=-a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+c;else d<=-p?(f=Math.max(0,-(-s*a+o)),d=f>0?-a:Math.min(Math.max(-a,-l),a),h=-f*f+d*(d+2*l)+c):d<=p?(f=0,d=Math.min(Math.max(-a,-l),a),h=d*(d+2*l)+c):(f=Math.max(0,-(s*a+o)),d=f>0?a:Math.min(Math.max(-a,-l),a),h=-f*f+d*(d+2*l)+c);else d=s>0?-a:a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(SF).addScaledVector(t4,d),h}intersectSphere(e,t){wm.subVectors(e.center,this.origin);const n=wm.dot(this.direction),i=wm.dot(wm)-n*n,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=n-s,l=n+s;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(n=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(n=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(a=(e.min.y-d.y)*u,s=(e.max.y-d.y)*u):(a=(e.max.y-d.y)*u,s=(e.min.y-d.y)*u),n>s||a>i||((a>n||isNaN(n))&&(n=a),(s<i||isNaN(i))&&(i=s),f>=0?(o=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(o=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),n>l||o>i)||((o>n||n!==n)&&(n=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,wm)!==null}intersectTriangle(e,t,n,i,a){TF.subVectors(t,e),r4.subVectors(n,e),AF.crossVectors(TF,r4);let s=this.direction.dot(AF),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;mx.subVectors(this.origin,e);const l=o*this.direction.dot(r4.crossVectors(mx,r4));if(l<0)return null;const c=o*this.direction.dot(TF.cross(mx));if(c<0||l+c>s)return null;const u=-o*mx.dot(AF);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pn{constructor(e,t,n,i,a,s,o,l,c,u,f,d,h,p,v,x){Pn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,a,s,o,l,c,u,f,d,h,p,v,x)}set(e,t,n,i,a,s,o,l,c,u,f,d,h,p,v,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=a,g[5]=s,g[9]=o,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=d,g[3]=h,g[7]=p,g[11]=v,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/V_.setFromMatrixColumn(e,0).length(),a=1/V_.setFromMatrixColumn(e,1).length(),s=1/V_.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,a=e.z,s=Math.cos(n),o=Math.sin(n),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const d=s*u,h=s*f,p=o*u,v=o*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=h+p*c,t[5]=d-v*c,t[9]=-o*l,t[2]=v-d*c,t[6]=p+h*c,t[10]=s*l}else if(e.order==="YXZ"){const d=l*u,h=l*f,p=c*u,v=c*f;t[0]=d+v*o,t[4]=p*o-h,t[8]=s*c,t[1]=s*f,t[5]=s*u,t[9]=-o,t[2]=h*o-p,t[6]=v+d*o,t[10]=s*l}else if(e.order==="ZXY"){const d=l*u,h=l*f,p=c*u,v=c*f;t[0]=d-v*o,t[4]=-s*f,t[8]=p+h*o,t[1]=h+p*o,t[5]=s*u,t[9]=v-d*o,t[2]=-s*c,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const d=s*u,h=s*f,p=o*u,v=o*f;t[0]=l*u,t[4]=p*c-h,t[8]=d*c+v,t[1]=l*f,t[5]=v*c+d,t[9]=h*c-p,t[2]=-c,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const d=s*l,h=s*c,p=o*l,v=o*c;t[0]=l*u,t[4]=v-d*f,t[8]=p*f+h,t[1]=f,t[5]=s*u,t[9]=-o*u,t[2]=-c*u,t[6]=h*f+p,t[10]=d-v*f}else if(e.order==="XZY"){const d=s*l,h=s*c,p=o*l,v=o*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=d*f+v,t[5]=s*u,t[9]=h*f-p,t[2]=p*f-h,t[6]=o*u,t[10]=v*f+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Mst,e,Cst)}lookAt(e,t,n){const i=this.elements;return yh.subVectors(e,t),yh.lengthSq()===0&&(yh.z=1),yh.normalize(),gx.crossVectors(n,yh),gx.lengthSq()===0&&(Math.abs(n.z)===1?yh.x+=1e-4:yh.z+=1e-4,yh.normalize(),gx.crossVectors(n,yh)),gx.normalize(),n4.crossVectors(yh,gx),i[0]=gx.x,i[4]=n4.x,i[8]=yh.x,i[1]=gx.y,i[5]=n4.y,i[9]=yh.y,i[2]=gx.z,i[6]=n4.z,i[10]=yh.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,s=n[0],o=n[4],l=n[8],c=n[12],u=n[1],f=n[5],d=n[9],h=n[13],p=n[2],v=n[6],x=n[10],g=n[14],_=n[3],w=n[7],A=n[11],M=n[15],C=i[0],N=i[4],L=i[8],D=i[12],k=i[1],O=i[5],I=i[9],j=i[13],B=i[2],K=i[6],H=i[10],Z=i[14],Y=i[3],J=i[7],oe=i[11],X=i[15];return a[0]=s*C+o*k+l*B+c*Y,a[4]=s*N+o*O+l*K+c*J,a[8]=s*L+o*I+l*H+c*oe,a[12]=s*D+o*j+l*Z+c*X,a[1]=u*C+f*k+d*B+h*Y,a[5]=u*N+f*O+d*K+h*J,a[9]=u*L+f*I+d*H+h*oe,a[13]=u*D+f*j+d*Z+h*X,a[2]=p*C+v*k+x*B+g*Y,a[6]=p*N+v*O+x*K+g*J,a[10]=p*L+v*I+x*H+g*oe,a[14]=p*D+v*j+x*Z+g*X,a[3]=_*C+w*k+A*B+M*Y,a[7]=_*N+w*O+A*K+M*J,a[11]=_*L+w*I+A*H+M*oe,a[15]=_*D+w*j+A*Z+M*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],h=e[14],p=e[3],v=e[7],x=e[11],g=e[15];return p*(+a*l*f-i*c*f-a*o*d+n*c*d+i*o*h-n*l*h)+v*(+t*l*h-t*c*d+a*s*d-i*s*h+i*c*u-a*l*u)+x*(+t*c*f-t*o*h-a*s*f+n*s*h+a*o*u-n*c*u)+g*(-i*o*u-t*l*f+t*o*d+i*s*f-n*s*d+n*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],x=e[14],g=e[15],_=f*x*c-v*d*c+v*l*h-o*x*h-f*l*g+o*d*g,w=p*d*c-u*x*c-p*l*h+s*x*h+u*l*g-s*d*g,A=u*v*c-p*f*c+p*o*h-s*v*h-u*o*g+s*f*g,M=p*f*l-u*v*l-p*o*d+s*v*d+u*o*x-s*f*x,C=t*_+n*w+i*A+a*M;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/C;return e[0]=_*N,e[1]=(v*d*a-f*x*a-v*i*h+n*x*h+f*i*g-n*d*g)*N,e[2]=(o*x*a-v*l*a+v*i*c-n*x*c-o*i*g+n*l*g)*N,e[3]=(f*l*a-o*d*a-f*i*c+n*d*c+o*i*h-n*l*h)*N,e[4]=w*N,e[5]=(u*x*a-p*d*a+p*i*h-t*x*h-u*i*g+t*d*g)*N,e[6]=(p*l*a-s*x*a-p*i*c+t*x*c+s*i*g-t*l*g)*N,e[7]=(s*d*a-u*l*a+u*i*c-t*d*c-s*i*h+t*l*h)*N,e[8]=A*N,e[9]=(p*f*a-u*v*a-p*n*h+t*v*h+u*n*g-t*f*g)*N,e[10]=(s*v*a-p*o*a+p*n*c-t*v*c-s*n*g+t*o*g)*N,e[11]=(u*o*a-s*f*a-u*n*c+t*f*c+s*n*h-t*o*h)*N,e[12]=M*N,e[13]=(u*v*i-p*f*i+p*n*d-t*v*d-u*n*x+t*f*x)*N,e[14]=(p*o*i-s*v*i-p*n*l+t*v*l+s*n*x-t*o*x)*N,e[15]=(s*f*i-u*o*i+u*n*l-t*f*l-s*n*d+t*o*d)*N,this}scale(e){const t=this.elements,n=e.x,i=e.y,a=e.z;return t[0]*=n,t[4]*=i,t[8]*=a,t[1]*=n,t[5]*=i,t[9]*=a,t[2]*=n,t[6]*=i,t[10]*=a,t[3]*=n,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),a=1-n,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+n,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+n,u*l-i*s,0,c*l-i*o,u*l+i*s,a*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,a,s){return this.set(1,n,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,c=a+a,u=s+s,f=o+o,d=a*c,h=a*u,p=a*f,v=s*u,x=s*f,g=o*f,_=l*c,w=l*u,A=l*f,M=n.x,C=n.y,N=n.z;return i[0]=(1-(v+g))*M,i[1]=(h+A)*M,i[2]=(p-w)*M,i[3]=0,i[4]=(h-A)*C,i[5]=(1-(d+g))*C,i[6]=(x+_)*C,i[7]=0,i[8]=(p+w)*N,i[9]=(x-_)*N,i[10]=(1-(d+v))*N,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let a=V_.set(i[0],i[1],i[2]).length();const s=V_.set(i[4],i[5],i[6]).length(),o=V_.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Ap.copy(this);const c=1/a,u=1/s,f=1/o;return Ap.elements[0]*=c,Ap.elements[1]*=c,Ap.elements[2]*=c,Ap.elements[4]*=u,Ap.elements[5]*=u,Ap.elements[6]*=u,Ap.elements[8]*=f,Ap.elements[9]*=f,Ap.elements[10]*=f,t.setFromRotationMatrix(Ap),n.x=a,n.y=s,n.z=o,this}makePerspective(e,t,n,i,a,s,o=kh,l=!1){const c=this.elements,u=2*a/(t-e),f=2*a/(n-i),d=(t+e)/(t-e),h=(n+i)/(n-i);let p,v;if(l)p=a/(s-a),v=s*a/(s-a);else if(o===kh)p=-(s+a)/(s-a),v=-2*s*a/(s-a);else if(o===_S)p=-s/(s-a),v=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=d,c[12]=0,c[1]=0,c[5]=f,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=p,c[14]=v,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,i,a,s,o=kh,l=!1){const c=this.elements,u=2/(t-e),f=2/(n-i),d=-(t+e)/(t-e),h=-(n+i)/(n-i);let p,v;if(l)p=1/(s-a),v=s/(s-a);else if(o===kh)p=-2/(s-a),v=-(s+a)/(s-a);else if(o===_S)p=-1/(s-a),v=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=0,c[12]=d,c[1]=0,c[5]=f,c[9]=0,c[13]=h,c[2]=0,c[6]=0,c[10]=p,c[14]=v,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const V_=new Ye,Ap=new Pn,Mst=new Ye(0,0,0),Cst=new Ye(1,1,1),gx=new Ye,n4=new Ye,yh=new Ye,Eie=new Pn,Mie=new uu;class jh{constructor(e=0,t=0,n=0,i=jh.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Dn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Dn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(Dn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Dn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Dn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Dn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:Mr("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Eie.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Eie,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Mie.setFromEuler(this),this.setFromQuaternion(Mie,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}jh.DEFAULT_ORDER="XYZ";class TS{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Nst=0;const Cie=new Ye,H_=new uu,Sm=new Pn,i4=new Ye,P5=new Ye,Dst=new Ye,Lst=new uu,Nie=new Ye(1,0,0),Die=new Ye(0,1,0),Lie=new Ye(0,0,1),Rie={type:"added"},Rst={type:"removed"},G_={type:"childadded",child:null},EF={type:"childremoved",child:null};class Qi extends Dv{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Nst++}),this.uuid=Ph(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qi.DEFAULT_UP.clone();const e=new Ye,t=new jh,n=new uu,i=new Ye(1,1,1);function a(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Pn},normalMatrix:{value:new ni}}),this.matrix=new Pn,this.matrixWorld=new Pn,this.matrixAutoUpdate=Qi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Qi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new TS,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return H_.setFromAxisAngle(e,t),this.quaternion.multiply(H_),this}rotateOnWorldAxis(e,t){return H_.setFromAxisAngle(e,t),this.quaternion.premultiply(H_),this}rotateX(e){return this.rotateOnAxis(Nie,e)}rotateY(e){return this.rotateOnAxis(Die,e)}rotateZ(e){return this.rotateOnAxis(Lie,e)}translateOnAxis(e,t){return Cie.copy(e).applyQuaternion(this.quaternion),this.position.add(Cie.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Nie,e)}translateY(e){return this.translateOnAxis(Die,e)}translateZ(e){return this.translateOnAxis(Lie,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Sm.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?i4.copy(e):i4.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),P5.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Sm.lookAt(P5,i4,this.up):Sm.lookAt(i4,P5,this.up),this.quaternion.setFromRotationMatrix(Sm),i&&(Sm.extractRotation(i.matrixWorld),H_.setFromRotationMatrix(Sm),this.quaternion.premultiply(H_.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(jn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Rie),G_.child=e,this.dispatchEvent(G_),G_.child=null):jn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Rst),EF.child=e,this.dispatchEvent(EF),EF.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Sm.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Sm.multiply(e.parent.matrixWorld)),e.applyMatrix4(Sm),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Rie),G_.child=e,this.dispatchEvent(G_),G_.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(P5,e,Dst),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(P5,Lst,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),f=s(e.shapes),d=s(e.skeletons),h=s(e.animations),p=s(e.nodes);o.length>0&&(n.geometries=o),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),u.length>0&&(n.images=u),f.length>0&&(n.shapes=f),d.length>0&&(n.skeletons=d),h.length>0&&(n.animations=h),p.length>0&&(n.nodes=p)}return n.object=i,n;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}Qi.DEFAULT_UP=new Ye(0,1,0);Qi.DEFAULT_MATRIX_AUTO_UPDATE=!0;Qi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ep=new Ye,Tm=new Ye,MF=new Ye,Am=new Ye,W_=new Ye,Y_=new Ye,kie=new Ye,CF=new Ye,NF=new Ye,DF=new Ye,LF=new sa,RF=new sa,kF=new sa;class zf{constructor(e=new Ye,t=new Ye,n=new Ye){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Ep.subVectors(e,t),i.cross(Ep);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,n,i,a){Ep.subVectors(i,t),Tm.subVectors(n,t),MF.subVectors(e,t);const s=Ep.dot(Ep),o=Ep.dot(Tm),l=Ep.dot(MF),c=Tm.dot(Tm),u=Tm.dot(MF),f=s*c-o*o;if(f===0)return a.set(0,0,0),null;const d=1/f,h=(c*l-o*u)*d,p=(s*u-o*l)*d;return a.set(1-h-p,p,h)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Am)===null?!1:Am.x>=0&&Am.y>=0&&Am.x+Am.y<=1}static getInterpolation(e,t,n,i,a,s,o,l){return this.getBarycoord(e,t,n,i,Am)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Am.x),l.addScaledVector(s,Am.y),l.addScaledVector(o,Am.z),l)}static getInterpolatedAttribute(e,t,n,i,a,s){return LF.setScalar(0),RF.setScalar(0),kF.setScalar(0),LF.fromBufferAttribute(e,t),RF.fromBufferAttribute(e,n),kF.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(LF,a.x),s.addScaledVector(RF,a.y),s.addScaledVector(kF,a.z),s}static isFrontFacing(e,t,n,i){return Ep.subVectors(n,t),Tm.subVectors(e,t),Ep.cross(Tm).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ep.subVectors(this.c,this.b),Tm.subVectors(this.a,this.b),Ep.cross(Tm).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zf.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return zf.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,a){return zf.getInterpolation(e,this.a,this.b,this.c,t,n,i,a)}containsPoint(e){return zf.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zf.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,a=this.c;let s,o;W_.subVectors(i,n),Y_.subVectors(a,n),CF.subVectors(e,n);const l=W_.dot(CF),c=Y_.dot(CF);if(l<=0&&c<=0)return t.copy(n);NF.subVectors(e,i);const u=W_.dot(NF),f=Y_.dot(NF);if(u>=0&&f<=u)return t.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(n).addScaledVector(W_,s);DF.subVectors(e,a);const h=W_.dot(DF),p=Y_.dot(DF);if(p>=0&&h<=p)return t.copy(a);const v=h*c-l*p;if(v<=0&&c>=0&&p<=0)return o=c/(c-p),t.copy(n).addScaledVector(Y_,o);const x=u*p-h*f;if(x<=0&&f-u>=0&&h-p>=0)return kie.subVectors(a,i),o=(f-u)/(f-u+(h-p)),t.copy(i).addScaledVector(kie,o);const g=1/(x+v+d);return s=v*g,o=d*g,t.copy(n).addScaledVector(W_,s).addScaledVector(Y_,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Jxe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xx={h:0,s:0,l:0},a4={h:0,s:0,l:0};function IF(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}class Lr{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=eu){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,qi.colorSpaceToWorking(this,t),this}setRGB(e,t,n,i=qi.workingColorSpace){return this.r=e,this.g=t,this.b=n,qi.colorSpaceToWorking(this,i),this}setHSL(e,t,n,i=qi.workingColorSpace){if(e=mG(e,1),t=Dn(t,0,1),n=Dn(n,0,1),t===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+t):n+t-n*t,s=2*n-a;this.r=IF(s,a,e+1/3),this.g=IF(s,a,e),this.b=IF(s,a,e-1/3)}return qi.colorSpaceToWorking(this,i),this}setStyle(e,t=eu){function n(a){a!==void 0&&parseFloat(a)<1&&Mr("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:Mr("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);Mr("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=eu){const n=Jxe[e.toLowerCase()];return n!==void 0?this.setHex(n,t):Mr("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=eg(e.r),this.g=eg(e.g),this.b=eg(e.b),this}copyLinearToSRGB(e){return this.r=Xw(e.r),this.g=Xw(e.g),this.b=Xw(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=eu){return qi.workingToColorSpace(Zc.copy(this),e),Math.round(Dn(Zc.r*255,0,255))*65536+Math.round(Dn(Zc.g*255,0,255))*256+Math.round(Dn(Zc.b*255,0,255))}getHexString(e=eu){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=qi.workingColorSpace){qi.workingToColorSpace(Zc.copy(this),t);const n=Zc.r,i=Zc.g,a=Zc.b,s=Math.max(n,i,a),o=Math.min(n,i,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const f=s-o;switch(c=u<=.5?f/(s+o):f/(2-s-o),s){case n:l=(i-a)/f+(i<a?6:0);break;case i:l=(a-n)/f+2;break;case a:l=(n-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=qi.workingColorSpace){return qi.workingToColorSpace(Zc.copy(this),t),e.r=Zc.r,e.g=Zc.g,e.b=Zc.b,e}getStyle(e=eu){qi.workingToColorSpace(Zc.copy(this),e);const t=Zc.r,n=Zc.g,i=Zc.b;return e!==eu?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(xx),this.setHSL(xx.h+e,xx.s+t,xx.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(xx),e.getHSL(a4);const n=t3(xx.h,a4.h,t),i=t3(xx.s,a4.s,t),a=t3(xx.l,a4.l,t);return this.setHSL(n,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*i,this.g=a[1]*t+a[4]*n+a[7]*i,this.b=a[2]*t+a[5]*n+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Zc=new Lr;Lr.NAMES=Jxe;let kst=0;class vu extends Dv{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:kst++}),this.uuid=Ph(),this.name="",this.type="Material",this.blending=B2,this.side=fg,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ER,this.blendDst=MR,this.blendEquation=Dx,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Lr(0,0,0),this.blendAlpha=0,this.depthFunc=sb,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Pj,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=i2,this.stencilZFail=i2,this.stencilZPass=i2,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){Mr(`Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Mr(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==B2&&(n.blending=this.blending),this.side!==fg&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==ER&&(n.blendSrc=this.blendSrc),this.blendDst!==MR&&(n.blendDst=this.blendDst),this.blendEquation!==Dx&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==sb&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Pj&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==i2&&(n.stencilFail=this.stencilFail),this.stencilZFail!==i2&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==i2&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(n.textures=a),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let a=0;a!==i;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Dy extends vu{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jh,this.combine=mM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Om=Ist();function Ist(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),n=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(n[l]=0,n[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(n[l]=1024>>-c-14,n[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(n[l]=c+15<<10,n[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(n[l]=31744,n[l|256]=64512,i[l]=24,i[l|256]=24):(n[l]=31744,n[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;(c&8388608)===0;)c<<=1,u-=8388608;c&=-8388609,u+=947912704,a[l]=c|u}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function kf(r){Math.abs(r)>65504&&Mr("DataUtils.toHalfFloat(): Value out of range."),r=Dn(r,-65504,65504),Om.floatView[0]=r;const e=Om.uint32View[0],t=e>>23&511;return Om.baseTable[t]+((e&8388607)>>Om.shiftTable[t])}function dA(r){const e=r>>10;return Om.uint32View[0]=Om.mantissaTable[Om.offsetTable[e]+(r&1023)]+Om.exponentTable[e],Om.floatView[0]}class Ost{static toHalfFloat(e){return kf(e)}static fromHalfFloat(e){return dA(e)}}const $o=new Ye,s4=new er;let Pst=0;class Ka{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Pst++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=pE,this.updateRanges=[],this.gpuType=Uf,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)s4.fromBufferAttribute(this,t),s4.applyMatrix3(e),this.setXY(t,s4.x,s4.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)$o.fromBufferAttribute(this,t),$o.applyMatrix3(e),this.setXYZ(t,$o.x,$o.y,$o.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)$o.fromBufferAttribute(this,t),$o.applyMatrix4(e),this.setXYZ(t,$o.x,$o.y,$o.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)$o.fromBufferAttribute(this,t),$o.applyNormalMatrix(e),this.setXYZ(t,$o.x,$o.y,$o.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)$o.fromBufferAttribute(this,t),$o.transformDirection(e),this.setXYZ(t,$o.x,$o.y,$o.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Wu(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ai(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Wu(t,this.array)),t}setX(e,t){return this.normalized&&(t=ai(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Wu(t,this.array)),t}setY(e,t){return this.normalized&&(t=ai(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Wu(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ai(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Wu(t,this.array)),t}setW(e,t){return this.normalized&&(t=ai(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=ai(t,this.array),n=ai(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=ai(t,this.array),n=ai(n,this.array),i=ai(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.normalized&&(t=ai(t,this.array),n=ai(n,this.array),i=ai(i,this.array),a=ai(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==pE&&(e.usage=this.usage),e}}class Fst extends Ka{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Bst extends Ka{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class zst extends Ka{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class jst extends Ka{constructor(e,t,n){super(new Int16Array(e),t,n)}}class xG extends Ka{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Ust extends Ka{constructor(e,t,n){super(new Int32Array(e),t,n)}}class yG extends Ka{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Vst extends Ka{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=dA(this.array[e*this.itemSize]);return this.normalized&&(t=Wu(t,this.array)),t}setX(e,t){return this.normalized&&(t=ai(t,this.array)),this.array[e*this.itemSize]=kf(t),this}getY(e){let t=dA(this.array[e*this.itemSize+1]);return this.normalized&&(t=Wu(t,this.array)),t}setY(e,t){return this.normalized&&(t=ai(t,this.array)),this.array[e*this.itemSize+1]=kf(t),this}getZ(e){let t=dA(this.array[e*this.itemSize+2]);return this.normalized&&(t=Wu(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ai(t,this.array)),this.array[e*this.itemSize+2]=kf(t),this}getW(e){let t=dA(this.array[e*this.itemSize+3]);return this.normalized&&(t=Wu(t,this.array)),t}setW(e,t){return this.normalized&&(t=ai(t,this.array)),this.array[e*this.itemSize+3]=kf(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=ai(t,this.array),n=ai(n,this.array)),this.array[e+0]=kf(t),this.array[e+1]=kf(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=ai(t,this.array),n=ai(n,this.array),i=ai(i,this.array)),this.array[e+0]=kf(t),this.array[e+1]=kf(n),this.array[e+2]=kf(i),this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.normalized&&(t=ai(t,this.array),n=ai(n,this.array),i=ai(i,this.array),a=ai(a,this.array)),this.array[e+0]=kf(t),this.array[e+1]=kf(n),this.array[e+2]=kf(i),this.array[e+3]=kf(a),this}}class rn extends Ka{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Hst=0;const md=new Pn,OF=new Qi,q_=new Ye,bh=new fu,F5=new fu,Vl=new Ye;class ii extends Dv{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Hst++}),this.uuid=Ph(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Zxe(e)?yG:xG)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new ni().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return md.makeRotationFromQuaternion(e),this.applyMatrix4(md),this}rotateX(e){return md.makeRotationX(e),this.applyMatrix4(md),this}rotateY(e){return md.makeRotationY(e),this.applyMatrix4(md),this}rotateZ(e){return md.makeRotationZ(e),this.applyMatrix4(md),this}translate(e,t,n){return md.makeTranslation(e,t,n),this.applyMatrix4(md),this}scale(e,t,n){return md.makeScale(e,t,n),this.applyMatrix4(md),this}lookAt(e){return OF.lookAt(e),OF.updateMatrix(),this.applyMatrix4(OF.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(q_).negate(),this.translate(q_.x,q_.y,q_.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}this.setAttribute("position",new rn(n,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&Mr("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fu);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){jn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Ye(-1/0,-1/0,-1/0),new Ye(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const a=t[n];bh.setFromBufferAttribute(a),this.morphTargetsRelative?(Vl.addVectors(this.boundingBox.min,bh.min),this.boundingBox.expandByPoint(Vl),Vl.addVectors(this.boundingBox.max,bh.max),this.boundingBox.expandByPoint(Vl)):(this.boundingBox.expandByPoint(bh.min),this.boundingBox.expandByPoint(bh.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&jn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new bc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){jn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Ye,1/0);return}if(e){const n=this.boundingSphere.center;if(bh.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];F5.setFromBufferAttribute(o),this.morphTargetsRelative?(Vl.addVectors(bh.min,F5.min),bh.expandByPoint(Vl),Vl.addVectors(bh.max,F5.max),bh.expandByPoint(Vl)):(bh.expandByPoint(F5.min),bh.expandByPoint(F5.max))}bh.getCenter(n);let i=0;for(let a=0,s=e.count;a<s;a++)Vl.fromBufferAttribute(e,a),i=Math.max(i,n.distanceToSquared(Vl));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Vl.fromBufferAttribute(o,c),l&&(q_.fromBufferAttribute(e,c),Vl.add(q_)),i=Math.max(i,n.distanceToSquared(Vl))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&jn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){jn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ka(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let L=0;L<n.count;L++)o[L]=new Ye,l[L]=new Ye;const c=new Ye,u=new Ye,f=new Ye,d=new er,h=new er,p=new er,v=new Ye,x=new Ye;function g(L,D,k){c.fromBufferAttribute(n,L),u.fromBufferAttribute(n,D),f.fromBufferAttribute(n,k),d.fromBufferAttribute(a,L),h.fromBufferAttribute(a,D),p.fromBufferAttribute(a,k),u.sub(c),f.sub(c),h.sub(d),p.sub(d);const O=1/(h.x*p.y-p.x*h.y);isFinite(O)&&(v.copy(u).multiplyScalar(p.y).addScaledVector(f,-h.y).multiplyScalar(O),x.copy(f).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(O),o[L].add(v),o[D].add(v),o[k].add(v),l[L].add(x),l[D].add(x),l[k].add(x))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let L=0,D=_.length;L<D;++L){const k=_[L],O=k.start,I=k.count;for(let j=O,B=O+I;j<B;j+=3)g(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const w=new Ye,A=new Ye,M=new Ye,C=new Ye;function N(L){M.fromBufferAttribute(i,L),C.copy(M);const D=o[L];w.copy(D),w.sub(M.multiplyScalar(M.dot(D))).normalize(),A.crossVectors(C,D);const O=A.dot(l[L])<0?-1:1;s.setXYZW(L,w.x,w.y,w.z,O)}for(let L=0,D=_.length;L<D;++L){const k=_[L],O=k.start,I=k.count;for(let j=O,B=O+I;j<B;j+=3)N(e.getX(j+0)),N(e.getX(j+1)),N(e.getX(j+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Ka(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let d=0,h=n.count;d<h;d++)n.setXYZ(d,0,0,0);const i=new Ye,a=new Ye,s=new Ye,o=new Ye,l=new Ye,c=new Ye,u=new Ye,f=new Ye;if(e)for(let d=0,h=e.count;d<h;d+=3){const p=e.getX(d+0),v=e.getX(d+1),x=e.getX(d+2);i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,v),s.fromBufferAttribute(t,x),u.subVectors(s,a),f.subVectors(i,a),u.cross(f),o.fromBufferAttribute(n,p),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,x),o.add(u),l.add(u),c.add(u),n.setXYZ(p,o.x,o.y,o.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(x,c.x,c.y,c.z)}else for(let d=0,h=t.count;d<h;d+=3)i.fromBufferAttribute(t,d+0),a.fromBufferAttribute(t,d+1),s.fromBufferAttribute(t,d+2),u.subVectors(s,a),f.subVectors(i,a),u.cross(f),n.setXYZ(d+0,u.x,u.y,u.z),n.setXYZ(d+1,u.x,u.y,u.z),n.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Vl.fromBufferAttribute(e,t),Vl.normalize(),e.setXYZ(t,Vl.x,Vl.y,Vl.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,f=o.normalized,d=new c.constructor(l.length*u);let h=0,p=0;for(let v=0,x=l.length;v<x;v++){o.isInterleavedBufferAttribute?h=l[v]*o.data.stride+o.offset:h=l[v]*u;for(let g=0;g<u;g++)d[p++]=c[h++]}return new Ka(d,u,f)}if(this.index===null)return Mr("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ii,n=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,n);t.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,f=c.length;u<f;u++){const d=c[u],h=e(d,n);l.push(h)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const a=e.morphAttributes;for(const c in a){const u=[],f=a[c];for(let d=0,h=f.length;d<h;d++)u.push(f[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const f=s[c];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Iie=new Pn,O1=new Nb,o4=new bc,Oie=new Ye,l4=new Ye,c4=new Ye,u4=new Ye,PF=new Ye,f4=new Ye,Pie=new Ye,h4=new Ye;class El extends Qi{constructor(e=new ii,t=new Dy){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,a=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){f4.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const u=o[l],f=a[l];u!==0&&(PF.fromBufferAttribute(f,e),s?f4.addScaledVector(PF,u):f4.addScaledVector(PF.sub(t),u))}t.add(f4)}return t}raycast(e,t){const n=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),o4.copy(n.boundingSphere),o4.applyMatrix4(a),O1.copy(e.ray).recast(e.near),!(o4.containsPoint(O1.origin)===!1&&(O1.intersectSphere(o4,Oie)===null||O1.origin.distanceToSquared(Oie)>(e.far-e.near)**2))&&(Iie.copy(a).invert(),O1.copy(e.ray).applyMatrix4(Iie),!(n.boundingBox!==null&&O1.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,O1)))}_computeIntersections(e,t,n){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,u=a.attributes.uv1,f=a.attributes.normal,d=a.groups,h=a.drawRange;if(o!==null)if(Array.isArray(s))for(let p=0,v=d.length;p<v;p++){const x=d[p],g=s[x.materialIndex],_=Math.max(x.start,h.start),w=Math.min(o.count,Math.min(x.start+x.count,h.start+h.count));for(let A=_,M=w;A<M;A+=3){const C=o.getX(A),N=o.getX(A+1),L=o.getX(A+2);i=d4(this,g,e,n,c,u,f,C,N,L),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=x.materialIndex,t.push(i))}}else{const p=Math.max(0,h.start),v=Math.min(o.count,h.start+h.count);for(let x=p,g=v;x<g;x+=3){const _=o.getX(x),w=o.getX(x+1),A=o.getX(x+2);i=d4(this,s,e,n,c,u,f,_,w,A),i&&(i.faceIndex=Math.floor(x/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let p=0,v=d.length;p<v;p++){const x=d[p],g=s[x.materialIndex],_=Math.max(x.start,h.start),w=Math.min(l.count,Math.min(x.start+x.count,h.start+h.count));for(let A=_,M=w;A<M;A+=3){const C=A,N=A+1,L=A+2;i=d4(this,g,e,n,c,u,f,C,N,L),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=x.materialIndex,t.push(i))}}else{const p=Math.max(0,h.start),v=Math.min(l.count,h.start+h.count);for(let x=p,g=v;x<g;x+=3){const _=x,w=x+1,A=x+2;i=d4(this,s,e,n,c,u,f,_,w,A),i&&(i.faceIndex=Math.floor(x/3),t.push(i))}}}}function Gst(r,e,t,n,i,a,s,o){let l;if(e.side===Ku?l=n.intersectTriangle(s,a,i,!0,o):l=n.intersectTriangle(i,a,s,e.side===fg,o),l===null)return null;h4.copy(o),h4.applyMatrix4(r.matrixWorld);const c=t.ray.origin.distanceTo(h4);return c<t.near||c>t.far?null:{distance:c,point:h4.clone(),object:r}}function d4(r,e,t,n,i,a,s,o,l,c){r.getVertexPosition(o,l4),r.getVertexPosition(l,c4),r.getVertexPosition(c,u4);const u=Gst(r,e,t,n,l4,c4,u4,Pie);if(u){const f=new Ye;zf.getBarycoord(Pie,l4,c4,u4,f),i&&(u.uv=zf.getInterpolatedAttribute(i,o,l,c,f,new er)),a&&(u.uv1=zf.getInterpolatedAttribute(a,o,l,c,f,new er)),s&&(u.normal=zf.getInterpolatedAttribute(s,o,l,c,f,new Ye),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const d={a:o,b:l,c,normal:new Ye,materialIndex:0};zf.getNormal(l4,c4,u4,d.normal),u.face=d,u.barycoord=f}return u}class Db extends ii{constructor(e=1,t=1,n=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],f=[];let d=0,h=0;p("z","y","x",-1,-1,n,t,e,s,a,0),p("z","y","x",1,-1,n,t,-e,s,a,1),p("x","z","y",1,1,e,n,t,i,s,2),p("x","z","y",1,-1,e,n,-t,i,s,3),p("x","y","z",1,-1,e,t,n,i,a,4),p("x","y","z",-1,-1,e,t,-n,i,a,5),this.setIndex(l),this.setAttribute("position",new rn(c,3)),this.setAttribute("normal",new rn(u,3)),this.setAttribute("uv",new rn(f,2));function p(v,x,g,_,w,A,M,C,N,L,D){const k=A/N,O=M/L,I=A/2,j=M/2,B=C/2,K=N+1,H=L+1;let Z=0,Y=0;const J=new Ye;for(let oe=0;oe<H;oe++){const X=oe*O-j;for(let F=0;F<K;F++){const W=F*k-I;J[v]=W*_,J[x]=X*w,J[g]=B,c.push(J.x,J.y,J.z),J[v]=0,J[x]=0,J[g]=C>0?1:-1,u.push(J.x,J.y,J.z),f.push(F/N),f.push(1-oe/L),Z+=1}}for(let oe=0;oe<L;oe++)for(let X=0;X<N;X++){const F=d+X+K*oe,W=d+X+K*(oe+1),Q=d+(X+1)+K*(oe+1),re=d+(X+1)+K*oe;l.push(F,W,re),l.push(W,Q,re),Y+=6}o.addGroup(h,Y,D),h+=Y,d+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Db(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function AS(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Mr("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function Bu(r){const e={};for(let t=0;t<r.length;t++){const n=AS(r[t]);for(const i in n)e[i]=n[i]}return e}function Wst(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function Qxe(r){const e=r.getRenderTarget();return e===null?r.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:qi.workingColorSpace}const eye={clone:AS,merge:Bu};var Yst=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qst=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Uh extends vu{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Yst,this.fragmentShader=qst,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=AS(e.uniforms),this.uniformsGroups=Wst(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class jI extends Qi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pn,this.projectionMatrix=new Pn,this.projectionMatrixInverse=new Pn,this.coordinateSystem=kh,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const yx=new Ye,Fie=new er,Bie=new er;class Fo extends jI{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=SS*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(z2*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return SS*2*Math.atan(Math.tan(z2*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){yx.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(yx.x,yx.y).multiplyScalar(-e/yx.z),yx.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(yx.x,yx.y).multiplyScalar(-e/yx.z)}getViewSize(e,t){return this.getViewBounds(e,Fie,Bie),t.subVectors(Bie,Fie)}setViewOffset(e,t,n,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(z2*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/l,t-=s.offsetY*n/c,i*=s.width/l,n*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const X_=-90,Z_=1;class tye extends Qi{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Fo(X_,Z_,e,t);i.layers=this.layers,this.add(i);const a=new Fo(X_,Z_,e,t);a.layers=this.layers,this.add(a);const s=new Fo(X_,Z_,e,t);s.layers=this.layers,this.add(s);const o=new Fo(X_,Z_,e,t);o.layers=this.layers,this.add(o);const l=new Fo(X_,Z_,e,t);l.layers=this.layers,this.add(l);const c=new Fo(X_,Z_,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,a,s,o,l]=t;for(const c of t)this.remove(c);if(e===kh)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===_S)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,u]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,a),e.setRenderTarget(n,1,i),e.render(t,s),e.setRenderTarget(n,2,i),e.render(t,o),e.setRenderTarget(n,3,i),e.render(t,l),e.setRenderTarget(n,4,i),e.render(t,c),n.texture.generateMipmaps=v,e.setRenderTarget(n,5,i),e.render(t,u),e.setRenderTarget(f,d,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class xM extends go{constructor(e=[],t=hg,n,i,a,s,o,l,c,u){super(e,t,n,i,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class rye extends Sv{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new xM(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Db(5,5,5),a=new Uh({name:"CubemapFromEquirect",uniforms:AS(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Ku,blending:uv});a.uniforms.tEquirect.value=t;const s=new El(i,a),o=t.minFilter;return t.minFilter===iv&&(t.minFilter=zo),new tye(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,n=!0,i=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,i);e.setRenderTarget(a)}}class Ew extends Qi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Xst={type:"move"};class DD{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ew,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ew,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ye,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ye),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ew,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ye,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ye),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const v of e.hand.values()){const x=t.getJointPose(v,n),g=this._getHandJoint(c,v);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),h=.02,p=.005;c.inputState.pinching&&d>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Xst)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Ew;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class UI{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Lr(e),this.density=t}clone(){return new UI(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class VI{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Lr(e),this.near=t,this.far=n}clone(){return new VI(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class bG extends Qi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new jh,this.environmentIntensity=1,this.environmentRotation=new jh,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class HI{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=pE,this.updateRanges=[],this.version=0,this.uuid=Ph()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ph()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ph()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fu=new Ye;class ob{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Fu.fromBufferAttribute(this,t),Fu.applyMatrix4(e),this.setXYZ(t,Fu.x,Fu.y,Fu.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Fu.fromBufferAttribute(this,t),Fu.applyNormalMatrix(e),this.setXYZ(t,Fu.x,Fu.y,Fu.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Fu.fromBufferAttribute(this,t),Fu.transformDirection(e),this.setXYZ(t,Fu.x,Fu.y,Fu.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Wu(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ai(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=ai(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ai(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ai(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ai(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Wu(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Wu(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Wu(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Wu(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=ai(t,this.array),n=ai(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ai(t,this.array),n=ai(n,this.array),i=ai(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=ai(t,this.array),n=ai(n,this.array),i=ai(i,this.array),a=ai(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){mE("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Ka(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ob(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){mE("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class _G extends vu{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Lr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let K_;const B5=new Ye,$_=new Ye,J_=new Ye,Q_=new er,z5=new er,nye=new Pn,p4=new Ye,j5=new Ye,v4=new Ye,zie=new er,FF=new er,jie=new er;class iye extends Qi{constructor(e=new _G){if(super(),this.isSprite=!0,this.type="Sprite",K_===void 0){K_=new ii;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new HI(t,5);K_.setIndex([0,1,2,0,2,3]),K_.setAttribute("position",new ob(n,3,0,!1)),K_.setAttribute("uv",new ob(n,2,3,!1))}this.geometry=K_,this.material=e,this.center=new er(.5,.5),this.count=1}raycast(e,t){e.camera===null&&jn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),$_.setFromMatrixScale(this.matrixWorld),nye.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),J_.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&$_.multiplyScalar(-J_.z);const n=this.material.rotation;let i,a;n!==0&&(a=Math.cos(n),i=Math.sin(n));const s=this.center;m4(p4.set(-.5,-.5,0),J_,s,$_,i,a),m4(j5.set(.5,-.5,0),J_,s,$_,i,a),m4(v4.set(.5,.5,0),J_,s,$_,i,a),zie.set(0,0),FF.set(1,0),jie.set(1,1);let o=e.ray.intersectTriangle(p4,j5,v4,!1,B5);if(o===null&&(m4(j5.set(-.5,.5,0),J_,s,$_,i,a),FF.set(0,1),o=e.ray.intersectTriangle(p4,v4,j5,!1,B5),o===null))return;const l=e.ray.origin.distanceTo(B5);l<e.near||l>e.far||t.push({distance:l,point:B5.clone(),uv:zf.getInterpolation(B5,p4,j5,v4,zie,FF,jie,new er),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function m4(r,e,t,n,i,a){Q_.subVectors(r,t).addScalar(.5).multiply(n),i!==void 0?(z5.x=a*Q_.x-i*Q_.y,z5.y=i*Q_.x+a*Q_.y):z5.copy(Q_),r.copy(e),r.x+=z5.x,r.y+=z5.y,r.applyMatrix4(nye)}const g4=new Ye,Uie=new Ye;class aye extends Qi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const i=t.splice(n,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){g4.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(g4);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){g4.setFromMatrixPosition(e.matrixWorld),Uie.setFromMatrixPosition(this.matrixWorld);const n=g4.distanceTo(Uie)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),n>=s)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,a=n.length;i<a;i++){const s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const Vie=new Ye,Hie=new sa,Gie=new sa,Zst=new Ye,Wie=new Pn,x4=new Ye,BF=new bc,Yie=new Pn,zF=new Nb;class sye extends El{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Oj,this.bindMatrix=new Pn,this.bindMatrixInverse=new Pn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new fu),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,x4),this.boundingBox.expandByPoint(x4)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new bc),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,x4),this.boundingSphere.expandByPoint(x4)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),BF.copy(this.boundingSphere),BF.applyMatrix4(i),e.ray.intersectsSphere(BF)!==!1&&(Yie.copy(i).invert(),zF.copy(e.ray).applyMatrix4(Yie),!(this.boundingBox!==null&&zF.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,zF)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new sa,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Oj?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Oxe?this.bindMatrixInverse.copy(this.bindMatrix).invert():Mr("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;Hie.fromBufferAttribute(i.attributes.skinIndex,e),Gie.fromBufferAttribute(i.attributes.skinWeight,e),Vie.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=Gie.getComponent(a);if(s!==0){const o=Hie.getComponent(a);Wie.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(Zst.copy(Vie).applyMatrix4(Wie),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class wG extends Qi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qp extends go{constructor(e=null,t=1,n=1,i,a,s,o,l,c=yc,u=yc,f,d){super(null,s,o,l,c,u,i,a,f,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const qie=new Pn,Kst=new Pn;class GI{constructor(e=[],t=[]){this.uuid=Ph(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Mr("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Pn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Pn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:Kst;qie.multiplyMatrices(o,t[a]),qie.toArray(n,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new GI(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new qp(t,e,e,au,Uf);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const a=e.bones[n];let s=t[a];s===void 0&&(Mr("Skeleton: No bone found with UUID:",a),s=new wG),this.bones.push(s),this.boneInverses.push(new Pn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const s=t[i];e.bones.push(s.uuid);const o=n[i];e.boneInverses.push(o.toArray())}return e}}class ES extends Ka{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ew=new Pn,Xie=new Pn,y4=[],Zie=new fu,$st=new Pn,U5=new El,V5=new bc;class oye extends El{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ES(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,$st)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new fu),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,ew),Zie.copy(e.boundingBox).applyMatrix4(ew),this.boundingBox.union(Zie)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new bc),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,ew),V5.copy(e.boundingSphere).applyMatrix4(ew),this.boundingSphere.union(V5)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=n.length+1,s=e*a+1;for(let o=0;o<n.length;o++)n[o]=i[s+o]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(U5.geometry=this.geometry,U5.material=this.material,U5.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),V5.copy(this.boundingSphere),V5.applyMatrix4(n),e.ray.intersectsSphere(V5)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,ew),Xie.multiplyMatrices(n,ew),U5.matrixWorld=Xie,U5.raycast(e,y4);for(let s=0,o=y4.length;s<o;s++){const l=y4[s];l.instanceId=a,l.object=this,t.push(l)}y4.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ES(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new qp(new Float32Array(i*this.count),i,this.count,kI,Uf));const a=this.morphTexture.source.data.data;let s=0;for(let c=0;c<n.length;c++)s+=n[c];const o=this.geometry.morphTargetsRelative?1:1-s,l=i*e;a[l]=o,a.set(n,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const jF=new Ye,Jst=new Ye,Qst=new ni;class Rm{constructor(e=new Ye(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=jF.subVectors(n,t).cross(Jst.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(jF),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Qst.getNormalMatrix(e),i=this.coplanarPoint(jF).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const P1=new bc,eot=new er(.5,.5),b4=new Ye;class uT{constructor(e=new Rm,t=new Rm,n=new Rm,i=new Rm,a=new Rm,s=new Rm){this.planes=[e,t,n,i,a,s]}set(e,t,n,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=kh,n=!1){const i=this.planes,a=e.elements,s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],f=a[5],d=a[6],h=a[7],p=a[8],v=a[9],x=a[10],g=a[11],_=a[12],w=a[13],A=a[14],M=a[15];if(i[0].setComponents(c-s,h-u,g-p,M-_).normalize(),i[1].setComponents(c+s,h+u,g+p,M+_).normalize(),i[2].setComponents(c+o,h+f,g+v,M+w).normalize(),i[3].setComponents(c-o,h-f,g-v,M-w).normalize(),n)i[4].setComponents(l,d,x,A).normalize(),i[5].setComponents(c-l,h-d,g-x,M-A).normalize();else if(i[4].setComponents(c-l,h-d,g-x,M-A).normalize(),t===kh)i[5].setComponents(c+l,h+d,g+x,M+A).normalize();else if(t===_S)i[5].setComponents(l,d,x,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),P1.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),P1.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(P1)}intersectsSprite(e){P1.center.set(0,0,0);const t=eot.distanceTo(e.center);return P1.radius=.7071067811865476+t,P1.applyMatrix4(e.matrixWorld),this.intersectsSphere(P1)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(b4.x=i.normal.x>0?e.max.x:e.min.x,b4.y=i.normal.y>0?e.max.y:e.min.y,b4.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(b4)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const z0=new Pn,j0=new uT;class WI{constructor(){this.coordinateSystem=kh}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(z0.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),j0.setFromProjectionMatrix(z0,i.coordinateSystem,i.reversedDepth),j0.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(z0.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),j0.setFromProjectionMatrix(z0,i.coordinateSystem,i.reversedDepth),j0.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(z0.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),j0.setFromProjectionMatrix(z0,i.coordinateSystem,i.reversedDepth),j0.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(z0.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),j0.setFromProjectionMatrix(z0,i.coordinateSystem,i.reversedDepth),j0.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(z0.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),j0.setFromProjectionMatrix(z0,i.coordinateSystem,i.reversedDepth),j0.containsPoint(e))return!0}return!1}clone(){return new WI}}function UF(r,e){return r-e}function tot(r,e){return r.z-e.z}function rot(r,e){return e.z-r.z}class not{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=t,o.z=n,o.index=i}reset(){this.list.length=0,this.index=0}}const Rf=new Pn,iot=new Lr(1,1,1),Kie=new uT,aot=new WI,_4=new fu,F1=new bc,H5=new Ye,$ie=new Ye,sot=new Ye,VF=new not,Kc=new El,w4=[];function oot(r,e,t=0){const n=e.itemSize;if(r.isInterleavedBufferAttribute||r.array.constructor!==e.array.constructor){const i=r.count;for(let a=0;a<i;a++)for(let s=0;s<n;s++)e.setComponent(a+t,s,r.getComponent(a,s))}else e.array.set(r.array,t*n);e.needsUpdate=!0}function B1(r,e){if(r.constructor!==e.constructor){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)e[n]=r[n]}else{const t=Math.min(r.length,e.length);e.set(new r.constructor(r.buffer,0,t))}}class lye extends El{constructor(e,t,n=t*2,i){super(new ii,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new qp(t,e,e,au,Uf);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new qp(t,e,e,gM,dg);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new qp(t,e,e,au,Uf);n.colorSpace=qi.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:l,normalized:c}=s,u=new o.constructor(n*l),f=new Ka(u,l,c);t.setAttribute(a,f)}if(e.getIndex()!==null){const a=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Ka(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),a=t.getAttribute(n);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fu);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Rf),this.getBoundingBoxAt(a,_4).applyMatrix4(Rf),e.union(_4)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new bc);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Rf),this.getBoundingSphereAt(a,F1).applyMatrix4(Rf),e.union(F1)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(UF),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=n):(i=this._instanceInfo.length,this._instanceInfo.push(n));const a=this._matricesTexture;Rf.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(iot.toArray(s.image.data,i*4),s.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=n===-1?s.count:n),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(UF),l=this._availableGeometryIds.shift(),a[l]=i):(l=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=n.getIndex()!==null,a=n.getIndex(),s=t.getIndex(),o=this._geometryInfo[e];if(i&&s.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const u in n.attributes){const f=t.getAttribute(u),d=n.getAttribute(u);oot(f,d,l);const h=f.itemSize;for(let p=f.count,v=c;p<v;p++){const x=l+p;for(let g=0;g<h;g++)d.setComponent(x,g,0)}d.needsUpdate=!0,d.addUpdateRange(l*h,c*h)}if(i){const u=o.indexStart,f=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let d=0;d<s.count;d++)a.setX(u+d,l+s.getX(d));for(let d=s.count,h=f;d<h;d++)a.setX(u+d,l);a.needsUpdate=!0,a.addUpdateRange(u,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let i=0,a=n.length;i<a;i++)n[i].active&&n[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,i=n.map((s,o)=>o).sort((s,o)=>n[s].vertexStart-n[o].vertexStart),a=this.geometry;for(let s=0,o=n.length;s<o;s++){const l=i[s],c=n[l];if(c.active!==!1){if(a.index!==null){if(c.indexStart!==t){const{indexStart:u,vertexStart:f,reservedIndexCount:d}=c,h=a.index,p=h.array,v=e-f;for(let x=u;x<u+d;x++)p[x]=p[x]+v;h.array.copyWithin(t,u,u+d),h.addUpdateRange(t,d),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:f}=c,d=a.attributes;for(const h in d){const p=d[h],{array:v,itemSize:x}=p;v.copyWithin(e*x,u*x,(u+f)*x),p.addUpdateRange(e*x,f*x)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=a.index?c.indexStart:c.vertexStart,this._nextIndexStart=a.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new fu,s=n.index,o=n.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let u=l;s&&(u=s.getX(u)),a.expandByPoint(H5.fromBufferAttribute(o,u))}i.boundingBox=a}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new bc;this.getBoundingBoxAt(e,_4),_4.getCenter(a.center);const s=n.index,o=n.attributes.position;let l=0;for(let c=i.start,u=i.start+i.count;c<u;c++){let f=c;s&&(f=s.getX(f)),H5.fromBufferAttribute(o,f),l=Math.max(l,a.center.distanceToSquared(H5))}a.radius=Math.sqrt(l),i.boundingSphere=a}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(UF);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);B1(this._multiDrawCounts,i),B1(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),B1(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),B1(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),B1(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...n.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new ii,this._initializeGeometry(a));const s=this.geometry;a.index&&B1(a.index.array,s.index.array);for(const o in a.attributes)B1(a.attributes[o].array,s.attributes[o].array)}raycast(e,t){const n=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Kc.material=this.material,Kc.geometry.index=s.index,Kc.geometry.attributes=s.attributes,Kc.geometry.boundingBox===null&&(Kc.geometry.boundingBox=new fu),Kc.geometry.boundingSphere===null&&(Kc.geometry.boundingSphere=new bc);for(let o=0,l=n.length;o<l;o++){if(!n[o].visible||!n[o].active)continue;const c=n[o].geometryIndex,u=i[c];Kc.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,Kc.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Kc.geometry.boundingBox),this.getBoundingSphereAt(c,Kc.geometry.boundingSphere),Kc.raycast(e,w4);for(let f=0,d=w4.length;f<d;f++){const h=w4[f];h.object=this,h.batchId=o,t.push(h)}w4.length=0}Kc.material=null,Kc.geometry.index=null,Kc.geometry.attributes={},Kc.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,p=h.image.data,v=n.isArrayCamera?aot:Kie;d&&!n.isArrayCamera&&(Rf.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),Kie.setFromProjectionMatrix(Rf,n.coordinateSystem,n.reversedDepth));let x=0;if(this.sortObjects){Rf.copy(this.matrixWorld).invert(),H5.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Rf),$ie.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Rf);for(let w=0,A=l.length;w<A;w++)if(l[w].visible&&l[w].active){const M=l[w].geometryIndex;this.getMatrixAt(w,Rf),this.getBoundingSphereAt(M,F1).applyMatrix4(Rf);let C=!1;if(d&&(C=!v.intersectsSphere(F1,n)),!C){const N=f[M],L=sot.subVectors(F1.center,H5).dot($ie);VF.push(N.start,N.count,L,w)}}const g=VF.list,_=this.customSort;_===null?g.sort(a.transparent?rot:tot):_.call(this,g,n);for(let w=0,A=g.length;w<A;w++){const M=g[w];c[x]=M.start*o,u[x]=M.count,p[x]=M.index,x++}VF.reset()}else for(let g=0,_=l.length;g<_;g++)if(l[g].visible&&l[g].active){const w=l[g].geometryIndex;let A=!1;if(d&&(this.getMatrixAt(g,Rf),this.getBoundingSphereAt(w,F1).applyMatrix4(Rf),A=!v.intersectsSphere(F1,n)),!A){const M=f[w];c[x]=M.start*o,u[x]=M.count,p[x]=g,x++}}h.needsUpdate=!0,this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,a,s){this.onBeforeRender(e,null,i,a,s)}}class rf extends vu{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Lr(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const uk=new Ye,fk=new Ye,Jie=new Pn,G5=new Nb,S4=new bc,HF=new Ye,Qie=new Ye;class gy extends Qi{constructor(e=new ii,t=new rf){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,a=t.count;i<a;i++)uk.fromBufferAttribute(t,i-1),fk.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=uk.distanceTo(fk);e.setAttribute("lineDistance",new rn(n,1))}else Mr("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),S4.copy(n.boundingSphere),S4.applyMatrix4(i),S4.radius+=a,e.ray.intersectsSphere(S4)===!1)return;Jie.copy(i).invert(),G5.copy(e.ray).applyMatrix4(Jie);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=n.index,d=n.attributes.position;if(u!==null){const h=Math.max(0,s.start),p=Math.min(u.count,s.start+s.count);for(let v=h,x=p-1;v<x;v+=c){const g=u.getX(v),_=u.getX(v+1),w=T4(this,e,G5,l,g,_,v);w&&t.push(w)}if(this.isLineLoop){const v=u.getX(p-1),x=u.getX(h),g=T4(this,e,G5,l,v,x,p-1);g&&t.push(g)}}else{const h=Math.max(0,s.start),p=Math.min(d.count,s.start+s.count);for(let v=h,x=p-1;v<x;v+=c){const g=T4(this,e,G5,l,v,v+1,v);g&&t.push(g)}if(this.isLineLoop){const v=T4(this,e,G5,l,p-1,h,p-1);v&&t.push(v)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function T4(r,e,t,n,i,a,s){const o=r.geometry.attributes.position;if(uk.fromBufferAttribute(o,i),fk.fromBufferAttribute(o,a),t.distanceSqToSegment(uk,fk,HF,Qie)>n)return;HF.applyMatrix4(r.matrixWorld);const c=e.ray.origin.distanceTo(HF);if(!(c<e.near||c>e.far))return{distance:c,point:Qie.clone().applyMatrix4(r.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:r}}const eae=new Ye,tae=new Ye;class Lv extends gy{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,a=t.count;i<a;i+=2)eae.fromBufferAttribute(t,i),tae.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+eae.distanceTo(tae);e.setAttribute("lineDistance",new rn(n,1))}else Mr("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class cye extends gy{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class SG extends vu{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Lr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const rae=new Pn,Bj=new Nb,A4=new bc,E4=new Ye;class uye extends Qi{constructor(e=new ii,t=new SG){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),A4.copy(n.boundingSphere),A4.applyMatrix4(i),A4.radius+=a,e.ray.intersectsSphere(A4)===!1)return;rae.copy(i).invert(),Bj.copy(e.ray).applyMatrix4(rae);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=n.index,f=n.attributes.position;if(c!==null){const d=Math.max(0,s.start),h=Math.min(c.count,s.start+s.count);for(let p=d,v=h;p<v;p++){const x=c.getX(p);E4.fromBufferAttribute(f,x),nae(E4,x,l,i,e,t,this)}}else{const d=Math.max(0,s.start),h=Math.min(f.count,s.start+s.count);for(let p=d,v=h;p<v;p++)E4.fromBufferAttribute(f,p),nae(E4,p,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function nae(r,e,t,n,i,a,s){const o=Bj.distanceSqToPoint(r);if(o<t){const l=new Ye;Bj.closestPointToPoint(r,l),l.applyMatrix4(n);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class fye extends go{constructor(e,t,n,i,a=zo,s=zo,o,l,c){super(e,t,n,i,a,s,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const u=this;function f(){u.needsUpdate=!0,u._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class lot extends fye{constructor(e,t,n,i,a,s,o,l){super({},e,t,n,i,a,s,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class cot extends go{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=yc,this.minFilter=yc,this.generateMipmaps=!1,this.needsUpdate=!0}}class YI extends go{constructor(e,t,n,i,a,s,o,l,c,u,f,d){super(null,s,o,l,c,u,i,a,f,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class uot extends YI{constructor(e,t,n,i,a,s){super(e,t,n,a,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=jf,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class fot extends YI{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,hg),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class hot extends go{constructor(e,t,n,i,a,s,o,l,c){super(e,t,n,i,a,s,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class TG extends go{constructor(e,t,n=dg,i,a,s,o=yc,l=yc,c,u=yS,f=1){if(u!==yS&&u!==bS)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const d={width:e,height:t,depth:f};super(d,i,a,s,o,l,u,n,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Gx(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class AG extends go{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class qI extends ii{constructor(e=1,t=1,n=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:i,heightSegments:a},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const s=[],o=[],l=[],c=[],u=t/2,f=Math.PI/2*e,d=t,h=2*f+d,p=n*2+a,v=i+1,x=new Ye,g=new Ye;for(let _=0;_<=p;_++){let w=0,A=0,M=0,C=0;if(_<=n){const D=_/n,k=D*Math.PI/2;A=-u-e*Math.cos(k),M=e*Math.sin(k),C=-e*Math.cos(k),w=D*f}else if(_<=n+a){const D=(_-n)/a;A=-u+D*t,M=e,C=0,w=f+D*d}else{const D=(_-n-a)/n,k=D*Math.PI/2;A=u+e*Math.sin(k),M=e*Math.cos(k),C=e*Math.sin(k),w=f+d+D*f}const N=Math.max(0,Math.min(1,w/h));let L=0;_===0?L=.5/i:_===p&&(L=-.5/i);for(let D=0;D<=i;D++){const k=D/i,O=k*Math.PI*2,I=Math.sin(O),j=Math.cos(O);g.x=-M*j,g.y=A,g.z=M*I,o.push(g.x,g.y,g.z),x.set(-M*j,C,M*I),x.normalize(),l.push(x.x,x.y,x.z),c.push(k+L,N)}if(_>0){const D=(_-1)*v;for(let k=0;k<i;k++){const O=D+k,I=D+k+1,j=_*v+k,B=_*v+k+1;s.push(O,I,j),s.push(I,B,j)}}}this.setIndex(s),this.setAttribute("position",new rn(o,3)),this.setAttribute("normal",new rn(l,3)),this.setAttribute("uv",new rn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qI(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class XI extends ii{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const a=[],s=[],o=[],l=[],c=new Ye,u=new er;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=t;f++,d+=3){const h=n+f/t*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(s[d]/e+1)/2,u.y=(s[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new rn(s,3)),this.setAttribute("normal",new rn(o,3)),this.setAttribute("uv",new rn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XI(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class yM extends ii{constructor(e=1,t=1,n=1,i=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const u=[],f=[],d=[],h=[];let p=0;const v=[],x=n/2;let g=0;_(),s===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new rn(f,3)),this.setAttribute("normal",new rn(d,3)),this.setAttribute("uv",new rn(h,2));function _(){const A=new Ye,M=new Ye;let C=0;const N=(t-e)/n;for(let L=0;L<=a;L++){const D=[],k=L/a,O=k*(t-e)+e;for(let I=0;I<=i;I++){const j=I/i,B=j*l+o,K=Math.sin(B),H=Math.cos(B);M.x=O*K,M.y=-k*n+x,M.z=O*H,f.push(M.x,M.y,M.z),A.set(K,N,H).normalize(),d.push(A.x,A.y,A.z),h.push(j,1-k),D.push(p++)}v.push(D)}for(let L=0;L<i;L++)for(let D=0;D<a;D++){const k=v[D][L],O=v[D+1][L],I=v[D+1][L+1],j=v[D][L+1];(e>0||D!==0)&&(u.push(k,O,j),C+=3),(t>0||D!==a-1)&&(u.push(O,I,j),C+=3)}c.addGroup(g,C,0),g+=C}function w(A){const M=p,C=new er,N=new Ye;let L=0;const D=A===!0?e:t,k=A===!0?1:-1;for(let I=1;I<=i;I++)f.push(0,x*k,0),d.push(0,k,0),h.push(.5,.5),p++;const O=p;for(let I=0;I<=i;I++){const B=I/i*l+o,K=Math.cos(B),H=Math.sin(B);N.x=D*H,N.y=x*k,N.z=D*K,f.push(N.x,N.y,N.z),d.push(0,k,0),C.x=K*.5+.5,C.y=H*.5*k+.5,h.push(C.x,C.y),p++}for(let I=0;I<i;I++){const j=M+I,B=O+I;A===!0?u.push(B,B+1,j):u.push(B+1,B,j),L+=3}c.addGroup(g,L,A===!0?1:2),g+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yM(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bM extends yM{constructor(e=1,t=1,n=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,n,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new bM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ly extends ii{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const a=[],s=[];o(i),c(n),u(),this.setAttribute("position",new rn(a,3)),this.setAttribute("normal",new rn(a.slice(),3)),this.setAttribute("uv",new rn(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(_){const w=new Ye,A=new Ye,M=new Ye;for(let C=0;C<t.length;C+=3)h(t[C+0],w),h(t[C+1],A),h(t[C+2],M),l(w,A,M,_)}function l(_,w,A,M){const C=M+1,N=[];for(let L=0;L<=C;L++){N[L]=[];const D=_.clone().lerp(A,L/C),k=w.clone().lerp(A,L/C),O=C-L;for(let I=0;I<=O;I++)I===0&&L===C?N[L][I]=D:N[L][I]=D.clone().lerp(k,I/O)}for(let L=0;L<C;L++)for(let D=0;D<2*(C-L)-1;D++){const k=Math.floor(D/2);D%2===0?(d(N[L][k+1]),d(N[L+1][k]),d(N[L][k])):(d(N[L][k+1]),d(N[L+1][k+1]),d(N[L+1][k]))}}function c(_){const w=new Ye;for(let A=0;A<a.length;A+=3)w.x=a[A+0],w.y=a[A+1],w.z=a[A+2],w.normalize().multiplyScalar(_),a[A+0]=w.x,a[A+1]=w.y,a[A+2]=w.z}function u(){const _=new Ye;for(let w=0;w<a.length;w+=3){_.x=a[w+0],_.y=a[w+1],_.z=a[w+2];const A=x(_)/2/Math.PI+.5,M=g(_)/Math.PI+.5;s.push(A,1-M)}p(),f()}function f(){for(let _=0;_<s.length;_+=6){const w=s[_+0],A=s[_+2],M=s[_+4],C=Math.max(w,A,M),N=Math.min(w,A,M);C>.9&&N<.1&&(w<.2&&(s[_+0]+=1),A<.2&&(s[_+2]+=1),M<.2&&(s[_+4]+=1))}}function d(_){a.push(_.x,_.y,_.z)}function h(_,w){const A=_*3;w.x=e[A+0],w.y=e[A+1],w.z=e[A+2]}function p(){const _=new Ye,w=new Ye,A=new Ye,M=new Ye,C=new er,N=new er,L=new er;for(let D=0,k=0;D<a.length;D+=9,k+=6){_.set(a[D+0],a[D+1],a[D+2]),w.set(a[D+3],a[D+4],a[D+5]),A.set(a[D+6],a[D+7],a[D+8]),C.set(s[k+0],s[k+1]),N.set(s[k+2],s[k+3]),L.set(s[k+4],s[k+5]),M.copy(_).add(w).add(A).divideScalar(3);const O=x(M);v(C,k+0,_,O),v(N,k+2,w,O),v(L,k+4,A,O)}}function v(_,w,A,M){M<0&&_.x===1&&(s[w]=_.x-1),A.x===0&&A.z===0&&(s[w]=M/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ly(e.vertices,e.indices,e.radius,e.details)}}class ZI extends Ly{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ZI(e.radius,e.detail)}}const M4=new Ye,C4=new Ye,GF=new Ye,N4=new zf;class hye extends ii{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(z2*t),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},h=[];for(let p=0;p<l;p+=3){s?(c[0]=s.getX(p),c[1]=s.getX(p+1),c[2]=s.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:v,b:x,c:g}=N4;if(v.fromBufferAttribute(o,c[0]),x.fromBufferAttribute(o,c[1]),g.fromBufferAttribute(o,c[2]),N4.getNormal(GF),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const w=(_+1)%3,A=f[_],M=f[w],C=N4[u[_]],N=N4[u[w]],L=`${A}_${M}`,D=`${M}_${A}`;D in d&&d[D]?(GF.dot(d[D].normal)<=a&&(h.push(C.x,C.y,C.z),h.push(N.x,N.y,N.z)),d[D]=null):L in d||(d[L]={index0:c[_],index1:c[w],normal:GF.clone()})}}for(const p in d)if(d[p]){const{index0:v,index1:x}=d[p];M4.fromBufferAttribute(o,v),C4.fromBufferAttribute(o,x),h.push(M4.x,M4.y,M4.z),h.push(C4.x,C4.y,C4.z)}this.setAttribute("position",new rn(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class i0{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Mr("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),a+=n.distanceTo(i),t.push(a),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let i=0;const a=n.length;let s;t?s=t:s=e*n[a-1];let o=0,l=a-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=n[i]-s,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,n[i]===s)return i/(a-1);const u=n[i],d=n[i+1]-u,h=(s-u)/d;return(i+h)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),l=t||(s.isVector2?new er:new Ye);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new Ye,i=[],a=[],s=[],o=new Ye,l=new Pn;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new Ye)}a[0]=new Ye,s[0]=new Ye;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let h=1;h<=e;h++){if(a[h]=a[h-1].clone(),s[h]=s[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(Dn(i[h-1].dot(i[h]),-1,1));a[h].applyMatrix4(l.makeRotationAxis(o,p))}s[h].crossVectors(i[h],a[h])}if(t===!0){let h=Math.acos(Dn(a[0].dot(a[e]),-1,1));h/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(h=-h);for(let p=1;p<=e;p++)a[p].applyMatrix4(l.makeRotationAxis(i[p],h*p)),s[p].crossVectors(i[p],a[p])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class KI extends i0{constructor(e=0,t=0,n=1,i=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new er){const n=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,h=c-this.aY;l=d*u-h*f+this.aX,c=d*f+h*u+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class dye extends KI{constructor(e,t,n,i,a,s){super(e,t,n,n,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function EG(){let r=0,e=0,t=0,n=0;function i(a,s,o,l){r=a,e=o,t=-3*a+3*s-2*o-l,n=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,c){i(s,o,c*(o-a),c*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,c,u,f){let d=(s-a)/c-(o-a)/(c+u)+(o-s)/u,h=(o-s)/u-(l-s)/(u+f)+(l-o)/f;d*=u,h*=u,i(s,o,d,h)},calc:function(a){const s=a*a,o=s*a;return r+e*a+t*s+n*o}}}const D4=new Ye,WF=new EG,YF=new EG,qF=new EG;class pye extends i0{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new Ye){const n=t,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let c,u;this.closed||o>0?c=i[(o-1)%a]:(D4.subVectors(i[0],i[1]).add(i[0]),c=D4);const f=i[o%a],d=i[(o+1)%a];if(this.closed||o+2<a?u=i[(o+2)%a]:(D4.subVectors(i[a-1],i[a-2]).add(i[a-1]),u=D4),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(f),h),v=Math.pow(f.distanceToSquared(d),h),x=Math.pow(d.distanceToSquared(u),h);v<1e-4&&(v=1),p<1e-4&&(p=v),x<1e-4&&(x=v),WF.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,p,v,x),YF.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,p,v,x),qF.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,p,v,x)}else this.curveType==="catmullrom"&&(WF.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),YF.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),qF.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return n.set(WF.calc(l),YF.calc(l),qF.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Ye().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function iae(r,e,t,n,i){const a=(n-e)*.5,s=(i-t)*.5,o=r*r,l=r*o;return(2*t-2*n+a+s)*l+(-3*t+3*n-2*a-s)*o+a*r+t}function dot(r,e){const t=1-r;return t*t*e}function pot(r,e){return 2*(1-r)*r*e}function vot(r,e){return r*r*e}function r3(r,e,t,n){return dot(r,e)+pot(r,t)+vot(r,n)}function mot(r,e){const t=1-r;return t*t*t*e}function got(r,e){const t=1-r;return 3*t*t*r*e}function xot(r,e){return 3*(1-r)*r*r*e}function yot(r,e){return r*r*r*e}function n3(r,e,t,n,i){return mot(r,e)+got(r,t)+xot(r,n)+yot(r,i)}class MG extends i0{constructor(e=new er,t=new er,n=new er,i=new er){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new er){const n=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(n3(e,i.x,a.x,s.x,o.x),n3(e,i.y,a.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vye extends i0{constructor(e=new Ye,t=new Ye,n=new Ye,i=new Ye){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Ye){const n=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(n3(e,i.x,a.x,s.x,o.x),n3(e,i.y,a.y,s.y,o.y),n3(e,i.z,a.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CG extends i0{constructor(e=new er,t=new er){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new er){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new er){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mye extends i0{constructor(e=new Ye,t=new Ye){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Ye){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ye){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NG extends i0{constructor(e=new er,t=new er,n=new er){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new er){const n=t,i=this.v0,a=this.v1,s=this.v2;return n.set(r3(e,i.x,a.x,s.x),r3(e,i.y,a.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DG extends i0{constructor(e=new Ye,t=new Ye,n=new Ye){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ye){const n=t,i=this.v0,a=this.v1,s=this.v2;return n.set(r3(e,i.x,a.x,s.x),r3(e,i.y,a.y,s.y),r3(e,i.z,a.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LG extends i0{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new er){const n=t,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,l=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],f=i[s>i.length-3?i.length-1:s+2];return n.set(iae(o,l.x,c.x,u.x,f.x),iae(o,l.y,c.y,u.y,f.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new er().fromArray(i))}return this}}var hk=Object.freeze({__proto__:null,ArcCurve:dye,CatmullRomCurve3:pye,CubicBezierCurve:MG,CubicBezierCurve3:vye,EllipseCurve:KI,LineCurve:CG,LineCurve3:mye,QuadraticBezierCurve:NG,QuadraticBezierCurve3:DG,SplineCurve:LG});class gye extends i0{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new hk[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=n){const s=i[a]-n,o=this.curves[a],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];n&&n.equals(u)||(t.push(u),n=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new hk[i.type]().fromJSON(i))}return this}}class dk extends gye{constructor(e){super(),this.type="Path",this.currentPoint=new er,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new CG(this.currentPoint.clone(),new er(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const a=new NG(this.currentPoint.clone(),new er(e,t),new er(n,i));return this.curves.push(a),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,a,s){const o=new MG(this.currentPoint.clone(),new er(e,t),new er(n,i),new er(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new LG(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,n,i,a,s),this}absarc(e,t,n,i,a,s){return this.absellipse(e,t,n,n,i,a,s),this}ellipse(e,t,n,i,a,s,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,n,i,a,s,o,l),this}absellipse(e,t,n,i,a,s,o,l){const c=new KI(e,t,n,i,a,s,o,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class j2 extends dk{constructor(e){super(e),this.uuid=Ph(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new dk().fromJSON(i))}return this}}function bot(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let a=xye(r,0,i,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c;if(n&&(a=Aot(r,e,a,t)),r.length>80*t){o=r[0],l=r[1];let u=o,f=l;for(let d=t;d<i;d+=t){const h=r[d],p=r[d+1];h<o&&(o=h),p<l&&(l=p),h>u&&(u=h),p>f&&(f=p)}c=Math.max(u-o,f-l),c=c!==0?32767/c:0}return gE(a,s,t,o,l,c,0),s}function xye(r,e,t,n,i){let a;if(i===Pot(r,e,t,n)>0)for(let s=e;s<t;s+=n)a=aae(s/n|0,r[s],r[s+1],a);else for(let s=t-n;s>=e;s-=n)a=aae(s/n|0,r[s],r[s+1],a);return a&&MS(a,a.next)&&(yE(a),a=a.next),a}function lb(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(MS(t,t.next)||Hs(t.prev,t,t.next)===0)){if(yE(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function gE(r,e,t,n,i,a,s){if(!r)return;!s&&a&&Dot(r,n,i,a);let o=r;for(;r.prev!==r.next;){const l=r.prev,c=r.next;if(a?wot(r,n,i,a):_ot(r)){e.push(l.i,r.i,c.i),yE(r),r=c.next,o=c.next;continue}if(r=c,r===o){s?s===1?(r=Sot(lb(r),e),gE(r,e,t,n,i,a,2)):s===2&&Tot(r,e,t,n,i,a):gE(lb(r),e,t,n,i,a,1);break}}}function _ot(r){const e=r.prev,t=r,n=r.next;if(Hs(e,t,n)>=0)return!1;const i=e.x,a=t.x,s=n.x,o=e.y,l=t.y,c=n.y,u=Math.min(i,a,s),f=Math.min(o,l,c),d=Math.max(i,a,s),h=Math.max(o,l,c);let p=n.next;for(;p!==e;){if(p.x>=u&&p.x<=d&&p.y>=f&&p.y<=h&&pA(i,o,a,l,s,c,p.x,p.y)&&Hs(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function wot(r,e,t,n){const i=r.prev,a=r,s=r.next;if(Hs(i,a,s)>=0)return!1;const o=i.x,l=a.x,c=s.x,u=i.y,f=a.y,d=s.y,h=Math.min(o,l,c),p=Math.min(u,f,d),v=Math.max(o,l,c),x=Math.max(u,f,d),g=zj(h,p,e,t,n),_=zj(v,x,e,t,n);let w=r.prevZ,A=r.nextZ;for(;w&&w.z>=g&&A&&A.z<=_;){if(w.x>=h&&w.x<=v&&w.y>=p&&w.y<=x&&w!==i&&w!==s&&pA(o,u,l,f,c,d,w.x,w.y)&&Hs(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=h&&A.x<=v&&A.y>=p&&A.y<=x&&A!==i&&A!==s&&pA(o,u,l,f,c,d,A.x,A.y)&&Hs(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=g;){if(w.x>=h&&w.x<=v&&w.y>=p&&w.y<=x&&w!==i&&w!==s&&pA(o,u,l,f,c,d,w.x,w.y)&&Hs(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=_;){if(A.x>=h&&A.x<=v&&A.y>=p&&A.y<=x&&A!==i&&A!==s&&pA(o,u,l,f,c,d,A.x,A.y)&&Hs(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function Sot(r,e){let t=r;do{const n=t.prev,i=t.next.next;!MS(n,i)&&bye(n,t,t.next,i)&&xE(n,i)&&xE(i,n)&&(e.push(n.i,t.i,i.i),yE(t),yE(t.next),t=r=i),t=t.next}while(t!==r);return lb(t)}function Tot(r,e,t,n,i,a){let s=r;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&kot(s,o)){let l=_ye(s,o);s=lb(s,s.next),l=lb(l,l.next),gE(s,e,t,n,i,a,0),gE(l,e,t,n,i,a,0);return}o=o.next}s=s.next}while(s!==r)}function Aot(r,e,t,n){const i=[];for(let a=0,s=e.length;a<s;a++){const o=e[a]*n,l=a<s-1?e[a+1]*n:r.length,c=xye(r,o,l,n,!1);c===c.next&&(c.steiner=!0),i.push(Rot(c))}i.sort(Eot);for(let a=0;a<i.length;a++)t=Mot(i[a],t);return t}function Eot(r,e){let t=r.x-e.x;if(t===0&&(t=r.y-e.y,t===0)){const n=(r.next.y-r.y)/(r.next.x-r.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=n-i}return t}function Mot(r,e){const t=Cot(r,e);if(!t)return e;const n=_ye(t,r);return lb(n,n.next),lb(t,t.next)}function Cot(r,e){let t=e;const n=r.x,i=r.y;let a=-1/0,s;if(MS(r,t))return t;do{if(MS(r,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const f=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=n&&f>a&&(a=f,s=t.x<t.next.x?t:t.next,f===n))return s}t=t.next}while(t!==e);if(!s)return null;const o=s,l=s.x,c=s.y;let u=1/0;t=s;do{if(n>=t.x&&t.x>=l&&n!==t.x&&yye(i<c?n:a,i,l,c,i<c?a:n,i,t.x,t.y)){const f=Math.abs(i-t.y)/(n-t.x);xE(t,r)&&(f<u||f===u&&(t.x>s.x||t.x===s.x&&Not(s,t)))&&(s=t,u=f)}t=t.next}while(t!==o);return s}function Not(r,e){return Hs(r.prev,r,e.prev)<0&&Hs(e.next,r,r.next)<0}function Dot(r,e,t,n){let i=r;do i.z===0&&(i.z=zj(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,Lot(i)}function Lot(r){let e,t=1;do{let n=r,i;r=null;let a=null;for(e=0;n;){e++;let s=n,o=0;for(let c=0;c<t&&(o++,s=s.nextZ,!!s);c++);let l=t;for(;o>0||l>0&&s;)o!==0&&(l===0||!s||n.z<=s.z)?(i=n,n=n.nextZ,o--):(i=s,s=s.nextZ,l--),a?a.nextZ=i:r=i,i.prevZ=a,a=i;n=s}a.nextZ=null,t*=2}while(e>1);return r}function zj(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function Rot(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function yye(r,e,t,n,i,a,s,o){return(i-s)*(e-o)>=(r-s)*(a-o)&&(r-s)*(n-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(i-s)*(n-o)}function pA(r,e,t,n,i,a,s,o){return!(r===s&&e===o)&&yye(r,e,t,n,i,a,s,o)}function kot(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!Iot(r,e)&&(xE(r,e)&&xE(e,r)&&Oot(r,e)&&(Hs(r.prev,r,e.prev)||Hs(r,e.prev,e))||MS(r,e)&&Hs(r.prev,r,r.next)>0&&Hs(e.prev,e,e.next)>0)}function Hs(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function MS(r,e){return r.x===e.x&&r.y===e.y}function bye(r,e,t,n){const i=R4(Hs(r,e,t)),a=R4(Hs(r,e,n)),s=R4(Hs(t,n,r)),o=R4(Hs(t,n,e));return!!(i!==a&&s!==o||i===0&&L4(r,t,e)||a===0&&L4(r,n,e)||s===0&&L4(t,r,n)||o===0&&L4(t,e,n))}function L4(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function R4(r){return r>0?1:r<0?-1:0}function Iot(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&bye(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function xE(r,e){return Hs(r.prev,r,r.next)<0?Hs(r,e,r.next)>=0&&Hs(r,r.prev,e)>=0:Hs(r,e,r.prev)<0||Hs(r,r.next,e)<0}function Oot(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,a=(r.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function _ye(r,e){const t=jj(r.i,r.x,r.y),n=jj(e.i,e.x,e.y),i=r.next,a=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function aae(r,e,t,n){const i=jj(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function yE(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function jj(r,e,t){return{i:r,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Pot(r,e,t,n){let i=0;for(let a=e,s=t-n;a<t;a+=n)i+=(r[s]-r[a])*(r[a+1]+r[s+1]),s=a;return i}class Fot{static triangulate(e,t,n=2){return bot(e,t,n)}}class jp{static area(e){const t=e.length;let n=0;for(let i=t-1,a=0;a<t;i=a++)n+=e[i].x*e[a].y-e[a].x*e[i].y;return n*.5}static isClockWise(e){return jp.area(e)<0}static triangulateShape(e,t){const n=[],i=[],a=[];sae(e),oae(n,e);let s=e.length;t.forEach(sae);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,oae(n,t[l]);const o=Fot.triangulate(n,i);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function sae(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function oae(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class $I extends ii{constructor(e=new j2([new er(.5,.5),new er(-.5,.5),new er(-.5,-.5),new er(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new rn(i,3)),this.setAttribute("uv",new rn(a,2)),this.computeVertexNormals();function s(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,h=t.bevelThickness!==void 0?t.bevelThickness:.2,p=t.bevelSize!==void 0?t.bevelSize:h-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:Bot;let w,A=!1,M,C,N,L;g&&(w=g.getSpacedPoints(u),A=!0,d=!1,M=g.computeFrenetFrames(u,!1),C=new Ye,N=new Ye,L=new Ye),d||(x=0,h=0,p=0,v=0);const D=o.extractPoints(c);let k=D.shape;const O=D.holes;if(!jp.isClockWise(k)){k=k.reverse();for(let ne=0,te=O.length;ne<te;ne++){const Me=O[ne];jp.isClockWise(Me)&&(O[ne]=Me.reverse())}}function j(ne){const Me=10000000000000001e-36;let ge=ne[0];for(let de=1;de<=ne.length;de++){const _e=de%ne.length,je=ne[_e],Be=je.x-ge.x,Fe=je.y-ge.y,we=Be*Be+Fe*Fe,pe=Math.max(Math.abs(je.x),Math.abs(je.y),Math.abs(ge.x),Math.abs(ge.y)),ze=Me*pe*pe;if(we<=ze){ne.splice(_e,1),de--;continue}ge=je}}j(k),O.forEach(j);const B=O.length,K=k;for(let ne=0;ne<B;ne++){const te=O[ne];k=k.concat(te)}function H(ne,te,Me){return te||jn("ExtrudeGeometry: vec does not exist"),ne.clone().addScaledVector(te,Me)}const Z=k.length;function Y(ne,te,Me){let ge,de,_e;const je=ne.x-te.x,Be=ne.y-te.y,Fe=Me.x-ne.x,we=Me.y-ne.y,pe=je*je+Be*Be,ze=je*we-Be*Fe;if(Math.abs(ze)>Number.EPSILON){const $e=Math.sqrt(pe),ht=Math.sqrt(Fe*Fe+we*we),Je=te.x-Be/$e,Ot=te.y+je/$e,bt=Me.x-we/ht,Nt=Me.y+Fe/ht,ir=((bt-Je)*we-(Nt-Ot)*Fe)/(je*we-Be*Fe);ge=Je+je*ir-ne.x,de=Ot+Be*ir-ne.y;const ft=ge*ge+de*de;if(ft<=2)return new er(ge,de);_e=Math.sqrt(ft/2)}else{let $e=!1;je>Number.EPSILON?Fe>Number.EPSILON&&($e=!0):je<-Number.EPSILON?Fe<-Number.EPSILON&&($e=!0):Math.sign(Be)===Math.sign(we)&&($e=!0),$e?(ge=-Be,de=je,_e=Math.sqrt(pe)):(ge=je,de=Be,_e=Math.sqrt(pe/2))}return new er(ge/_e,de/_e)}const J=[];for(let ne=0,te=K.length,Me=te-1,ge=ne+1;ne<te;ne++,Me++,ge++)Me===te&&(Me=0),ge===te&&(ge=0),J[ne]=Y(K[ne],K[Me],K[ge]);const oe=[];let X,F=J.concat();for(let ne=0,te=B;ne<te;ne++){const Me=O[ne];X=[];for(let ge=0,de=Me.length,_e=de-1,je=ge+1;ge<de;ge++,_e++,je++)_e===de&&(_e=0),je===de&&(je=0),X[ge]=Y(Me[ge],Me[_e],Me[je]);oe.push(X),F=F.concat(X)}let W;if(x===0)W=jp.triangulateShape(K,O);else{const ne=[],te=[];for(let Me=0;Me<x;Me++){const ge=Me/x,de=h*Math.cos(ge*Math.PI/2),_e=p*Math.sin(ge*Math.PI/2)+v;for(let je=0,Be=K.length;je<Be;je++){const Fe=H(K[je],J[je],_e);fe(Fe.x,Fe.y,-de),ge===0&&ne.push(Fe)}for(let je=0,Be=B;je<Be;je++){const Fe=O[je];X=oe[je];const we=[];for(let pe=0,ze=Fe.length;pe<ze;pe++){const $e=H(Fe[pe],X[pe],_e);fe($e.x,$e.y,-de),ge===0&&we.push($e)}ge===0&&te.push(we)}}W=jp.triangulateShape(ne,te)}const Q=W.length,re=p+v;for(let ne=0;ne<Z;ne++){const te=d?H(k[ne],F[ne],re):k[ne];A?(N.copy(M.normals[0]).multiplyScalar(te.x),C.copy(M.binormals[0]).multiplyScalar(te.y),L.copy(w[0]).add(N).add(C),fe(L.x,L.y,L.z)):fe(te.x,te.y,0)}for(let ne=1;ne<=u;ne++)for(let te=0;te<Z;te++){const Me=d?H(k[te],F[te],re):k[te];A?(N.copy(M.normals[ne]).multiplyScalar(Me.x),C.copy(M.binormals[ne]).multiplyScalar(Me.y),L.copy(w[ne]).add(N).add(C),fe(L.x,L.y,L.z)):fe(Me.x,Me.y,f/u*ne)}for(let ne=x-1;ne>=0;ne--){const te=ne/x,Me=h*Math.cos(te*Math.PI/2),ge=p*Math.sin(te*Math.PI/2)+v;for(let de=0,_e=K.length;de<_e;de++){const je=H(K[de],J[de],ge);fe(je.x,je.y,f+Me)}for(let de=0,_e=O.length;de<_e;de++){const je=O[de];X=oe[de];for(let Be=0,Fe=je.length;Be<Fe;Be++){const we=H(je[Be],X[Be],ge);A?fe(we.x,we.y+w[u-1].y,w[u-1].x+Me):fe(we.x,we.y,f+Me)}}}ae(),ce();function ae(){const ne=i.length/3;if(d){let te=0,Me=Z*te;for(let ge=0;ge<Q;ge++){const de=W[ge];be(de[2]+Me,de[1]+Me,de[0]+Me)}te=u+x*2,Me=Z*te;for(let ge=0;ge<Q;ge++){const de=W[ge];be(de[0]+Me,de[1]+Me,de[2]+Me)}}else{for(let te=0;te<Q;te++){const Me=W[te];be(Me[2],Me[1],Me[0])}for(let te=0;te<Q;te++){const Me=W[te];be(Me[0]+Z*u,Me[1]+Z*u,Me[2]+Z*u)}}n.addGroup(ne,i.length/3-ne,0)}function ce(){const ne=i.length/3;let te=0;ye(K,te),te+=K.length;for(let Me=0,ge=O.length;Me<ge;Me++){const de=O[Me];ye(de,te),te+=de.length}n.addGroup(ne,i.length/3-ne,1)}function ye(ne,te){let Me=ne.length;for(;--Me>=0;){const ge=Me;let de=Me-1;de<0&&(de=ne.length-1);for(let _e=0,je=u+x*2;_e<je;_e++){const Be=Z*_e,Fe=Z*(_e+1),we=te+ge+Be,pe=te+de+Be,ze=te+de+Fe,$e=te+ge+Fe;Oe(we,pe,ze,$e)}}}function fe(ne,te,Me){l.push(ne),l.push(te),l.push(Me)}function be(ne,te,Me){xe(ne),xe(te),xe(Me);const ge=i.length/3,de=_.generateTopUV(n,i,ge-3,ge-2,ge-1);Qe(de[0]),Qe(de[1]),Qe(de[2])}function Oe(ne,te,Me,ge){xe(ne),xe(te),xe(ge),xe(te),xe(Me),xe(ge);const de=i.length/3,_e=_.generateSideWallUV(n,i,de-6,de-3,de-2,de-1);Qe(_e[0]),Qe(_e[1]),Qe(_e[3]),Qe(_e[1]),Qe(_e[2]),Qe(_e[3])}function xe(ne){i.push(l[ne*3+0]),i.push(l[ne*3+1]),i.push(l[ne*3+2])}function Qe(ne){a.push(ne.x),a.push(ne.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return zot(t,n,e)}static fromJSON(e,t){const n=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];n.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new hk[i.type]().fromJSON(i)),new $I(n,e.options)}}const Bot={generateTopUV:function(r,e,t,n,i){const a=e[t*3],s=e[t*3+1],o=e[n*3],l=e[n*3+1],c=e[i*3],u=e[i*3+1];return[new er(a,s),new er(o,l),new er(c,u)]},generateSideWallUV:function(r,e,t,n,i,a){const s=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[n*3],u=e[n*3+1],f=e[n*3+2],d=e[i*3],h=e[i*3+1],p=e[i*3+2],v=e[a*3],x=e[a*3+1],g=e[a*3+2];return Math.abs(o-u)<Math.abs(s-c)?[new er(s,1-l),new er(c,1-f),new er(d,1-p),new er(v,1-g)]:[new er(o,1-l),new er(u,1-f),new er(h,1-p),new er(x,1-g)]}};function zot(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const a=r[n];t.shapes.push(a.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class JI extends Ly{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new JI(e.radius,e.detail)}}class QI extends ii{constructor(e=[new er(0,-.5),new er(.5,0),new er(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Dn(i,0,Math.PI*2);const a=[],s=[],o=[],l=[],c=[],u=1/t,f=new Ye,d=new er,h=new Ye,p=new Ye,v=new Ye;let x=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,h.x=g*1,h.y=-x,h.z=g*0,v.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,h.x=g*1,h.y=-x,h.z=g*0,p.copy(h),h.x+=v.x,h.y+=v.y,h.z+=v.z,h.normalize(),l.push(h.x,h.y,h.z),v.copy(p)}for(let _=0;_<=t;_++){const w=n+_*u*i,A=Math.sin(w),M=Math.cos(w);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*A,f.y=e[C].y,f.z=e[C].x*M,s.push(f.x,f.y,f.z),d.x=_/t,d.y=C/(e.length-1),o.push(d.x,d.y);const N=l[3*C+0]*A,L=l[3*C+1],D=l[3*C+0]*M;c.push(N,L,D)}}for(let _=0;_<t;_++)for(let w=0;w<e.length-1;w++){const A=w+_*e.length,M=A,C=A+e.length,N=A+e.length+1,L=A+1;a.push(M,C,L),a.push(N,L,C)}this.setIndex(a),this.setAttribute("position",new rn(s,3)),this.setAttribute("uv",new rn(o,2)),this.setAttribute("normal",new rn(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QI(e.points,e.segments,e.phiStart,e.phiLength)}}class _M extends Ly{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _M(e.radius,e.detail)}}class fT extends ii{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(n),l=Math.floor(i),c=o+1,u=l+1,f=e/o,d=t/l,h=[],p=[],v=[],x=[];for(let g=0;g<u;g++){const _=g*d-s;for(let w=0;w<c;w++){const A=w*f-a;p.push(A,-_,0),v.push(0,0,1),x.push(w/o),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<o;_++){const w=_+c*g,A=_+c*(g+1),M=_+1+c*(g+1),C=_+1+c*g;h.push(w,A,C),h.push(A,M,C)}this.setIndex(h),this.setAttribute("position",new rn(p,3)),this.setAttribute("normal",new rn(v,3)),this.setAttribute("uv",new rn(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fT(e.width,e.height,e.widthSegments,e.heightSegments)}}class e6 extends ii{constructor(e=.5,t=1,n=32,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:a,thetaLength:s},n=Math.max(3,n),i=Math.max(1,i);const o=[],l=[],c=[],u=[];let f=e;const d=(t-e)/i,h=new Ye,p=new er;for(let v=0;v<=i;v++){for(let x=0;x<=n;x++){const g=a+x/n*s;h.x=f*Math.cos(g),h.y=f*Math.sin(g),l.push(h.x,h.y,h.z),c.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,u.push(p.x,p.y)}f+=d}for(let v=0;v<i;v++){const x=v*(n+1);for(let g=0;g<n;g++){const _=g+x,w=_,A=_+n+1,M=_+n+2,C=_+1;o.push(w,A,C),o.push(A,M,C)}}this.setIndex(o),this.setAttribute("position",new rn(l,3)),this.setAttribute("normal",new rn(c,3)),this.setAttribute("uv",new rn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e6(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class t6 extends ii{constructor(e=new j2([new er(0,.5),new er(-.5,-.5),new er(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(n),this.setAttribute("position",new rn(i,3)),this.setAttribute("normal",new rn(a,3)),this.setAttribute("uv",new rn(s,2));function c(u){const f=i.length/3,d=u.extractPoints(t);let h=d.shape;const p=d.holes;jp.isClockWise(h)===!1&&(h=h.reverse());for(let x=0,g=p.length;x<g;x++){const _=p[x];jp.isClockWise(_)===!0&&(p[x]=_.reverse())}const v=jp.triangulateShape(h,p);for(let x=0,g=p.length;x<g;x++){const _=p[x];h=h.concat(_)}for(let x=0,g=h.length;x<g;x++){const _=h[x];i.push(_.x,_.y,0),a.push(0,0,1),s.push(_.x,_.y)}for(let x=0,g=v.length;x<g;x++){const _=v[x],w=_[0]+f,A=_[1]+f,M=_[2]+f;n.push(w,A,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return jot(t,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=t[e.shapes[i]];n.push(s)}return new t6(n,e.curveSegments)}}function jot(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}class wM extends ii{constructor(e=1,t=32,n=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(s+o,Math.PI);let c=0;const u=[],f=new Ye,d=new Ye,h=[],p=[],v=[],x=[];for(let g=0;g<=n;g++){const _=[],w=g/n;let A=0;g===0&&s===0?A=.5/t:g===n&&l===Math.PI&&(A=-.5/t);for(let M=0;M<=t;M++){const C=M/t;f.x=-e*Math.cos(i+C*a)*Math.sin(s+w*o),f.y=e*Math.cos(s+w*o),f.z=e*Math.sin(i+C*a)*Math.sin(s+w*o),p.push(f.x,f.y,f.z),d.copy(f).normalize(),v.push(d.x,d.y,d.z),x.push(C+A,1-w),_.push(c++)}u.push(_)}for(let g=0;g<n;g++)for(let _=0;_<t;_++){const w=u[g][_+1],A=u[g][_],M=u[g+1][_],C=u[g+1][_+1];(g!==0||s>0)&&h.push(w,A,C),(g!==n-1||l<Math.PI)&&h.push(A,M,C)}this.setIndex(h),this.setAttribute("position",new rn(p,3)),this.setAttribute("normal",new rn(v,3)),this.setAttribute("uv",new rn(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wM(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class r6 extends Ly{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new r6(e.radius,e.detail)}}class n6 extends ii{constructor(e=1,t=.4,n=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:a},n=Math.floor(n),i=Math.floor(i);const s=[],o=[],l=[],c=[],u=new Ye,f=new Ye,d=new Ye;for(let h=0;h<=n;h++)for(let p=0;p<=i;p++){const v=p/i*a,x=h/n*Math.PI*2;f.x=(e+t*Math.cos(x))*Math.cos(v),f.y=(e+t*Math.cos(x))*Math.sin(v),f.z=t*Math.sin(x),o.push(f.x,f.y,f.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(p/i),c.push(h/n)}for(let h=1;h<=n;h++)for(let p=1;p<=i;p++){const v=(i+1)*h+p-1,x=(i+1)*(h-1)+p-1,g=(i+1)*(h-1)+p,_=(i+1)*h+p;s.push(v,x,_),s.push(x,g,_)}this.setIndex(s),this.setAttribute("position",new rn(o,3)),this.setAttribute("normal",new rn(l,3)),this.setAttribute("uv",new rn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n6(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class i6 extends ii{constructor(e=1,t=.4,n=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:a,q:s},n=Math.floor(n),i=Math.floor(i);const o=[],l=[],c=[],u=[],f=new Ye,d=new Ye,h=new Ye,p=new Ye,v=new Ye,x=new Ye,g=new Ye;for(let w=0;w<=n;++w){const A=w/n*a*Math.PI*2;_(A,a,s,e,h),_(A+.01,a,s,e,p),x.subVectors(p,h),g.addVectors(p,h),v.crossVectors(x,g),g.crossVectors(v,x),v.normalize(),g.normalize();for(let M=0;M<=i;++M){const C=M/i*Math.PI*2,N=-t*Math.cos(C),L=t*Math.sin(C);f.x=h.x+(N*g.x+L*v.x),f.y=h.y+(N*g.y+L*v.y),f.z=h.z+(N*g.z+L*v.z),l.push(f.x,f.y,f.z),d.subVectors(f,h).normalize(),c.push(d.x,d.y,d.z),u.push(w/n),u.push(M/i)}}for(let w=1;w<=n;w++)for(let A=1;A<=i;A++){const M=(i+1)*(w-1)+(A-1),C=(i+1)*w+(A-1),N=(i+1)*w+A,L=(i+1)*(w-1)+A;o.push(M,C,L),o.push(C,N,L)}this.setIndex(o),this.setAttribute("position",new rn(l,3)),this.setAttribute("normal",new rn(c,3)),this.setAttribute("uv",new rn(u,2));function _(w,A,M,C,N){const L=Math.cos(w),D=Math.sin(w),k=M/A*w,O=Math.cos(k);N.x=C*(2+O)*.5*L,N.y=C*(2+O)*D*.5,N.z=C*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i6(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class a6 extends ii{constructor(e=new DG(new Ye(-1,-1,0),new Ye(-1,1,0),new Ye(1,1,0)),t=64,n=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new Ye,l=new Ye,c=new er;let u=new Ye;const f=[],d=[],h=[],p=[];v(),this.setIndex(p),this.setAttribute("position",new rn(f,3)),this.setAttribute("normal",new rn(d,3)),this.setAttribute("uv",new rn(h,2));function v(){for(let w=0;w<t;w++)x(w);x(a===!1?t:0),_(),g()}function x(w){u=e.getPointAt(w/t,u);const A=s.normals[w],M=s.binormals[w];for(let C=0;C<=i;C++){const N=C/i*Math.PI*2,L=Math.sin(N),D=-Math.cos(N);l.x=D*A.x+L*M.x,l.y=D*A.y+L*M.y,l.z=D*A.z+L*M.z,l.normalize(),d.push(l.x,l.y,l.z),o.x=u.x+n*l.x,o.y=u.y+n*l.y,o.z=u.z+n*l.z,f.push(o.x,o.y,o.z)}}function g(){for(let w=1;w<=t;w++)for(let A=1;A<=i;A++){const M=(i+1)*(w-1)+(A-1),C=(i+1)*w+(A-1),N=(i+1)*w+A,L=(i+1)*(w-1)+A;p.push(M,C,L),p.push(C,N,L)}}function _(){for(let w=0;w<=t;w++)for(let A=0;A<=i;A++)c.x=w/t,c.y=A/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new a6(new hk[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class wye extends ii{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new Ye,a=new Ye;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,h=f.count;for(let p=d,v=d+h;p<v;p+=3)for(let x=0;x<3;x++){const g=o.getX(p+x),_=o.getX(p+(x+1)%3);i.fromBufferAttribute(s,g),a.fromBufferAttribute(s,_),lae(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,f=3*o+(c+1)%3;i.fromBufferAttribute(s,u),a.fromBufferAttribute(s,f),lae(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new rn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function lae(r,e,t){const n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var cae=Object.freeze({__proto__:null,BoxGeometry:Db,CapsuleGeometry:qI,CircleGeometry:XI,ConeGeometry:bM,CylinderGeometry:yM,DodecahedronGeometry:ZI,EdgesGeometry:hye,ExtrudeGeometry:$I,IcosahedronGeometry:JI,LatheGeometry:QI,OctahedronGeometry:_M,PlaneGeometry:fT,PolyhedronGeometry:Ly,RingGeometry:e6,ShapeGeometry:t6,SphereGeometry:wM,TetrahedronGeometry:r6,TorusGeometry:n6,TorusKnotGeometry:i6,TubeGeometry:a6,WireframeGeometry:wye});class Sye extends vu{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Lr(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Tye extends Uh{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class RG extends vu{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Lr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ny,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jh,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Aye extends RG{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new er(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Dn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Lr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Lr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Lr(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Eye extends vu{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Lr(16777215),this.specular=new Lr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ny,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jh,this.combine=mM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Mye extends vu{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Lr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ny,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Cye extends vu{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ny,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Nye extends vu{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Lr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ny,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jh,this.combine=mM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kG extends vu{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=zxe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class IG extends vu{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Dye extends vu{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Lr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ny,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lye extends rf{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function T2(r,e){return!r||r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function Rye(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function kye(r){function e(i,a){return r[i]-r[a]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function Uj(r,e,t){const n=r.length,i=new r.constructor(n);for(let a=0,s=0;s!==n;++a){const o=t[a]*e;for(let l=0;l!==e;++l)i[s++]=r[o+l]}return i}function OG(r,e,t,n){let i=1,a=r[0];for(;a!==void 0&&a[n]===void 0;)a=r[i++];if(a===void 0)return;let s=a[n];if(s!==void 0)if(Array.isArray(s))do s=a[n],s!==void 0&&(e.push(a.time),t.push(...s)),a=r[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[n],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=r[i++];while(a!==void 0);else do s=a[n],s!==void 0&&(e.push(a.time),t.push(s)),a=r[i++];while(a!==void 0)}function Uot(r,e,t,n,i=30){const a=r.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const c=a.tracks[l],u=c.getValueSize(),f=[],d=[];for(let h=0;h<c.times.length;++h){const p=c.times[h]*i;if(!(p<t||p>=n)){f.push(c.times[h]);for(let v=0;v<u;++v)d.push(c.values[h*u+v])}}f.length!==0&&(c.times=T2(f,c.times.constructor),c.values=T2(d,c.values.constructor),s.push(c))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function Vot(r,e=0,t=r,n=30){n<=0&&(n=30);const i=t.tracks.length,a=e/n;for(let s=0;s<i;++s){const o=t.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=r.tracks.find(function(g){return g.name===o.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);const p=o.times.length-1;let v;if(a<=o.times[0]){const g=u,_=f-u;v=o.values.slice(g,_)}else if(a>=o.times[p]){const g=p*f+u,_=g+f-u;v=o.values.slice(g,_)}else{const g=o.createInterpolant(),_=u,w=f-u;g.evaluate(a),v=g.resultBuffer.slice(_,w)}l==="quaternion"&&new uu().fromArray(v).normalize().conjugate().toArray(v);const x=c.times.length;for(let g=0;g<x;++g){const _=g*h+d;if(l==="quaternion")uu.multiplyQuaternionsFlat(c.values,_,v,0,c.values,_);else{const w=h-d*2;for(let A=0;A<w;++A)c.values[_+A]-=v[A]}}}return r.blendMode=pG,r}class Hot{static convertArray(e,t){return T2(e,t)}static isTypedArray(e){return Rye(e)}static getKeyframeOrder(e){return kye(e)}static sortedArray(e,t,n){return Uj(e,t,n)}static flattenJSON(e,t,n,i){OG(e,t,n,i)}static subclip(e,t,n,i,a=30){return Uot(e,t,n,i,a)}static makeClipAdditive(e,t=0,n=e,i=30){return Vot(e,t,n,i)}}class SM{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],a=t[n-1];e:{t:{let s;r:{i:if(!(e<i)){for(let o=n+2;;){if(i===void 0){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(a=i,i=t[++n],e<i)break t}s=t.length;break r}if(!(e>=a)){const o=t[1];e<o&&(n=2,a=o);for(let l=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(i=a,a=t[--n-1],e>=a)break t}s=n,n=0;break r}break e}for(;n<s;){const o=n+s>>>1;e<t[o]?s=o:n=o+1}if(i=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,i)}return this.interpolate_(n,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)t[s]=n[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Iye extends SM{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:w2,endingEnd:w2}}intervalChanged_(e,t,n){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],l=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case S2:a=e,o=2*t-n;break;case hE:a=i.length-2,o=t+i[a]-i[a+1];break;default:a=e,o=n}if(l===void 0)switch(this.getSettings_().endingEnd){case S2:s=e,l=2*n-t;break;case hE:s=1,l=n+i[1]-i[0];break;default:s=e-1,l=t}const c=(n-t)*.5,u=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-n),this._offsetPrev=a*u,this._offsetNext=s*u}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),v=p*p,x=v*p,g=-d*x+2*d*v-d*p,_=(1+d)*x+(-1.5-2*d)*v+(-.5+d)*p+1,w=(-1-h)*x+(1.5+h)*v+.5*p,A=h*x-h*v;for(let M=0;M!==o;++M)a[M]=g*s[u+M]+_*s[c+M]+w*s[l+M]+A*s[f+M];return a}}class PG extends SM{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(n-t)/(i-t),f=1-u;for(let d=0;d!==o;++d)a[d]=s[c+d]*f+s[l+d]*u;return a}}class Oye extends SM{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Yd{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=T2(t,this.TimeBufferType),this.values=T2(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:T2(e.times,Array),values:T2(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Oye(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new PG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Iye(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case fE:t=this.InterpolantFactoryMethodDiscrete;break;case ck:t=this.InterpolantFactoryMethodLinear;break;case ND:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return Mr("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return fE;case this.InterpolantFactoryMethodLinear:return ck;case this.InterpolantFactoryMethodSmooth:return ND}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let a=0,s=i-1;for(;a!==i&&n[a]<e;)++a;for(;s!==-1&&n[s]>t;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=n.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(jn("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,a=n.length;a===0&&(jn("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=n[o];if(typeof l=="number"&&isNaN(l)){jn("KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){jn("KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(i!==void 0&&Rye(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){jn("KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===ND,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(i)l=!0;else{const f=o*n,d=f-n,h=f+n;for(let p=0;p!==n;++p){const v=t[f+p];if(v!==t[d+p]||v!==t[h+p]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const f=o*n,d=s*n;for(let h=0;h!==n;++h)t[d+h]=t[f+h]}++s}}if(a>0){e[s]=e[a];for(let o=a*n,l=s*n,c=0;c!==n;++c)t[l+c]=t[o+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Yd.prototype.ValueTypeName="";Yd.prototype.TimeBufferType=Float32Array;Yd.prototype.ValueBufferType=Float32Array;Yd.prototype.DefaultInterpolation=ck;class Lb extends Yd{constructor(e,t,n){super(e,t,n)}}Lb.prototype.ValueTypeName="bool";Lb.prototype.ValueBufferType=Array;Lb.prototype.DefaultInterpolation=fE;Lb.prototype.InterpolantFactoryMethodLinear=void 0;Lb.prototype.InterpolantFactoryMethodSmooth=void 0;class FG extends Yd{constructor(e,t,n,i){super(e,t,n,i)}}FG.prototype.ValueTypeName="color";class bE extends Yd{constructor(e,t,n,i){super(e,t,n,i)}}bE.prototype.ValueTypeName="number";class Pye extends SM{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(n-t)/(i-t);let c=e*o;for(let u=c+o;c!==u;c+=4)uu.slerpFlat(a,0,s,c-o,s,c,l);return a}}class TM extends Yd{constructor(e,t,n,i){super(e,t,n,i)}InterpolantFactoryMethodLinear(e){return new Pye(this.times,this.values,this.getValueSize(),e)}}TM.prototype.ValueTypeName="quaternion";TM.prototype.InterpolantFactoryMethodSmooth=void 0;class Rb extends Yd{constructor(e,t,n){super(e,t,n)}}Rb.prototype.ValueTypeName="string";Rb.prototype.ValueBufferType=Array;Rb.prototype.DefaultInterpolation=fE;Rb.prototype.InterpolantFactoryMethodLinear=void 0;Rb.prototype.InterpolantFactoryMethodSmooth=void 0;class _E extends Yd{constructor(e,t,n,i){super(e,t,n,i)}}_E.prototype.ValueTypeName="vector";class wE{constructor(e="",t=-1,n=[],i=FI){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Ph(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let s=0,o=n.length;s!==o;++s)t.push(Wot(n[s]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=n.length;a!==s;++a)t.push(Yd.toJSON(n[a]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const a=t.length,s=[];for(let o=0;o<a;o++){let l=[],c=[];l.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const u=kye(l);l=Uj(l,1,u),c=Uj(c,1,u),!i&&l[0]===0&&(l.push(a),c.push(c[0])),s.push(new bE(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(a);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],t,n));return s}static parseAnimation(e,t){if(Mr("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return jn("AnimationClip: No animation in JSONLoader data."),null;const n=function(f,d,h,p,v){if(h.length!==0){const x=[],g=[];OG(h,x,g,p),x.length!==0&&v.push(new f(d,x,g))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let p;for(p=0;p<d.length;p++)if(d[p].morphTargets)for(let v=0;v<d[p].morphTargets.length;v++)h[d[p].morphTargets[v]]=-1;for(const v in h){const x=[],g=[];for(let _=0;_!==d[p].morphTargets.length;++_){const w=d[p];x.push(w.time),g.push(w.morphTarget===v?1:0)}i.push(new bE(".morphTargetInfluence["+v+"]",x,g))}l=h.length*s}else{const h=".bones["+t[f].name+"]";n(_E,h+".position",d,"pos",i),n(TM,h+".quaternion",d,"rot",i),n(_E,h+".scale",d,"scl",i)}}return i.length===0?null:new this(a,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function Got(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return bE;case"vector":case"vector2":case"vector3":case"vector4":return _E;case"color":return FG;case"quaternion":return TM;case"bool":case"boolean":return Lb;case"string":return Rb}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function Wot(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Got(r.type);if(r.times===void 0){const t=[],n=[];OG(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const av={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class BG{constructor(e,t,n){const i=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(u){o++,a===!1&&i.onStart!==void 0&&i.onStart(u,s,o),a=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const h=c[f],p=c[f+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Fye=new BG;class Zf{constructor(e){this.manager=e!==void 0?e:Fye,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,a){n.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Zf.DEFAULT_MATERIAL_NAME="__DEFAULT";const Em={};class Yot extends Error{constructor(e,t){super(e),this.response=t}}class pg extends Zf{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=av.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Em[e]!==void 0){Em[e].push({onLoad:t,onProgress:n,onError:i});return}Em[e]=[],Em[e].push({onLoad:t,onProgress:n,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&Mr("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Em[e],f=c.body.getReader(),d=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),h=d?parseInt(d):0,p=h!==0;let v=0;const x=new ReadableStream({start(g){_();function _(){f.read().then(({done:w,value:A})=>{if(w)g.close();else{v+=A.byteLength;const M=new ProgressEvent("progress",{lengthComputable:p,loaded:v,total:h});for(let C=0,N=u.length;C<N;C++){const L=u[C];L.onProgress&&L.onProgress(M)}g.enqueue(A),_()}},w=>{g.error(w)})}}});return new Response(x)}else throw new Yot(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o==="")return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),d=f&&f[1]?f[1].toLowerCase():void 0,h=new TextDecoder(d);return c.arrayBuffer().then(p=>h.decode(p))}}}).then(c=>{av.add(`file:${e}`,c);const u=Em[e];delete Em[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=Em[e];if(u===void 0)throw this.manager.itemError(e),c;delete Em[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class qot extends Zf{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new pg(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):jn(l),a.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=wE.parse(e[n]);t.push(i)}return t}}class Xot extends Zf{constructor(e){super(e)}load(e,t,n,i){const a=this,s=[],o=new YI,l=new pg(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const h=a.parse(d,!0);s[f]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(o.minFilter=zo),o.image=s,o.format=h.format,o.needsUpdate=!0,t&&t(o))},n,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=a.parse(f,!0);if(d.isCubemap){const h=d.mipmaps.length/d.mipmapCount;for(let p=0;p<h;p++){s[p]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)s[p].mipmaps.push(d.mipmaps[p*d.mipmapCount+v]),s[p].format=d.format,s[p].width=d.width,s[p].height=d.height}o.image=s}else o.image.width=d.width,o.image.height=d.height,o.mipmaps=d.mipmaps;d.mipmapCount===1&&(o.minFilter=zo),o.format=d.format,o.needsUpdate=!0,t&&t(o)},n,i);return o}}const tw=new WeakMap;class SE extends Zf{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=av.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0);else{let f=tw.get(s);f===void 0&&(f=[],tw.set(s,f)),f.push({onLoad:t,onError:i})}return s}const o=vE("img");function l(){u(),t&&t(this);const f=tw.get(this)||[];for(let d=0;d<f.length;d++){const h=f[d];h.onLoad&&h.onLoad(this)}tw.delete(this),a.manager.itemEnd(e)}function c(f){u(),i&&i(f),av.remove(`image:${e}`);const d=tw.get(this)||[];for(let h=0;h<d.length;h++){const p=d[h];p.onError&&p.onError(f)}tw.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),av.add(`image:${e}`,o),a.manager.itemStart(e),o.src=e,o}}class Zot extends Zf{constructor(e){super(e)}load(e,t,n,i){const a=new xM;a.colorSpace=eu;const s=new SE(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(c){s.load(e[c],function(u){a.images[c]=u,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return a}}class Kot extends Zf{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new qp,o=new pg(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let c;try{c=a.parse(l)}catch(u){if(i!==void 0)i(u);else{u(u);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:jf,s.wrapT=c.wrapT!==void 0?c.wrapT:jf,s.magFilter=c.magFilter!==void 0?c.magFilter:zo,s.minFilter=c.minFilter!==void 0?c.minFilter:zo,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=iv),c.mipmapCount===1&&(s.minFilter=zo),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c)},n,i),s}}class $ot extends Zf{constructor(e){super(e)}load(e,t,n,i){const a=new go,s=new SE(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},n,i),a}}class Ry extends Qi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Lr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class Bye extends Ry{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Qi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Lr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const XF=new Pn,uae=new Ye,fae=new Ye;class zG{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new er(512,512),this.mapType=Ud,this.map=null,this.mapPass=null,this.matrix=new Pn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new uT,this._frameExtents=new er(1,1),this._viewportCount=1,this._viewports=[new sa(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;uae.setFromMatrixPosition(e.matrixWorld),t.position.copy(uae),fae.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(fae),t.updateMatrixWorld(),XF.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XF,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(XF)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Jot extends zG{constructor(){super(new Fo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=SS*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(n!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class zye extends Ry{constructor(e,t,n=0,i=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Qi.DEFAULT_UP),this.updateMatrix(),this.target=new Qi,this.distance=n,this.angle=i,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new Jot}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const hae=new Pn,W5=new Ye,ZF=new Ye;class Qot extends zG{constructor(){super(new Fo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new er(4,2),this._viewportCount=6,this._viewports=[new sa(2,1,1,1),new sa(0,1,1,1),new sa(3,1,1,1),new sa(1,1,1,1),new sa(3,0,1,1),new sa(1,0,1,1)],this._cubeDirections=[new Ye(1,0,0),new Ye(-1,0,0),new Ye(0,0,1),new Ye(0,0,-1),new Ye(0,1,0),new Ye(0,-1,0)],this._cubeUps=[new Ye(0,1,0),new Ye(0,1,0),new Ye(0,1,0),new Ye(0,1,0),new Ye(0,0,1),new Ye(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),W5.setFromMatrixPosition(e.matrixWorld),n.position.copy(W5),ZF.copy(n.position),ZF.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(ZF),n.updateMatrixWorld(),i.makeTranslation(-W5.x,-W5.y,-W5.z),hae.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hae,n.coordinateSystem,n.reversedDepth)}}class jye extends Ry{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Qot}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ry extends jI{constructor(e=-1,t=1,n=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=n-e,s=n+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class elt extends zG{constructor(){super(new ry(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Uye extends Ry{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Qi.DEFAULT_UP),this.updateMatrix(),this.target=new Qi,this.shadow=new elt}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Vye extends Ry{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Hye extends Ry{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Gye{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ye)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*i)),t.addScaledVector(s[5],1.092548*(i*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(n*a)),t.addScaledVector(s[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*i),t.addScaledVector(s[5],2*.429043*i*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*n*a),t.addScaledVector(s[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-i*i)}}class Wye extends Ry{constructor(e=new Gye,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class s6 extends Zf{constructor(e){super(e),this.textures={}}load(e,t,n,i){const a=this,s=new pg(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):jn(l),a.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(a){return t[a]===void 0&&Mr("MaterialLoader: Undefined texture",a),t[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Lr().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=n(s.value);break;case"c":i.uniforms[a].value=new Lr().setHex(s.value);break;case"v2":i.uniforms[a].value=new er().fromArray(s.value);break;case"v3":i.uniforms[a].value=new Ye().fromArray(s.value);break;case"v4":i.uniforms[a].value=new sa().fromArray(s.value);break;case"m3":i.uniforms[a].value=new ni().fromArray(s.value);break;case"m4":i.uniforms[a].value=new Pn().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new er().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new er().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return s6.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Sye,SpriteMaterial:_G,RawShaderMaterial:Tye,ShaderMaterial:Uh,PointsMaterial:SG,MeshPhysicalMaterial:Aye,MeshStandardMaterial:RG,MeshPhongMaterial:Eye,MeshToonMaterial:Mye,MeshNormalMaterial:Cye,MeshLambertMaterial:Nye,MeshDepthMaterial:kG,MeshDistanceMaterial:IG,MeshBasicMaterial:Dy,MeshMatcapMaterial:Dye,LineDashedMaterial:Lye,LineBasicMaterial:rf,Material:vu};return new t[e]}}class Vj{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Yye extends ii{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class qye extends Zf{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new pg(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):jn(l),a.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(h,p){if(t[p]!==void 0)return t[p];const x=h.interleavedBuffers[p],g=a(h,x.buffer),_=Aw(x.type,g),w=new HI(_,x.stride);return w.uuid=x.uuid,t[p]=w,w}function a(h,p){if(n[p]!==void 0)return n[p];const x=h.arrayBuffers[p],g=new Uint32Array(x).buffer;return n[p]=g,g}const s=e.isInstancedBufferGeometry?new Yye:new ii,o=e.data.index;if(o!==void 0){const h=Aw(o.type,o.array);s.setIndex(new Ka(h,1))}const l=e.data.attributes;for(const h in l){const p=l[h];let v;if(p.isInterleavedBufferAttribute){const x=i(e.data,p.data);v=new ob(x,p.itemSize,p.offset,p.normalized)}else{const x=Aw(p.type,p.array),g=p.isInstancedBufferAttribute?ES:Ka;v=new g(x,p.itemSize,p.normalized)}p.name!==void 0&&(v.name=p.name),p.usage!==void 0&&v.setUsage(p.usage),s.setAttribute(h,v)}const c=e.data.morphAttributes;if(c)for(const h in c){const p=c[h],v=[];for(let x=0,g=p.length;x<g;x++){const _=p[x];let w;if(_.isInterleavedBufferAttribute){const A=i(e.data,_.data);w=new ob(A,_.itemSize,_.offset,_.normalized)}else{const A=Aw(_.type,_.array);w=new Ka(A,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),v.push(w)}s.morphAttributes[h]=v}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let h=0,p=f.length;h!==p;++h){const v=f[h];s.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;return d!==void 0&&(s.boundingSphere=new bc().fromJSON(d)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class tlt extends Zf{constructor(e){super(e)}load(e,t,n,i){const a=this,s=this.path===""?Vj.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new pg(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),jn("ObjectLoader: Can't load "+e);return}a.parse(c,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?Vj.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new pg(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,n),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),t!==void 0){let f=!1;for(const d in s)if(s[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const a=new j2().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new GI().fromJSON(e[a],i);n[o.uuid]=o}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new qye;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in cae?o=cae[l.type].fromJSON(l,t):Mr(`ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),n[l.uuid]=o}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const a=new s6;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const l=e[s];n[l.uuid]===void 0&&(n[l.uuid]=a.parse(l)),i[l.uuid]=n[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],a=wE.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const n=this,i={};let a;function s(l){return n.manager.itemStart(l),a.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:n.resourcePath+c;return s(u)}else return l.data?{data:Aw(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new BG(t);a=new SE(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const h=[];for(let p=0,v=d.length;p<v;p++){const x=d[p],g=o(x);g!==null&&(g instanceof HTMLImageElement?h.push(g):h.push(new qp(g.data,g.width,g.height)))}i[f.uuid]=new Gx(h)}else{const h=o(f.url);i[f.uuid]=new Gx(h)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return s.data?{data:Aw(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new SE(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f],p=await a(h);p!==null&&(p instanceof HTMLImageElement?u.push(p):u.push(new qp(p.data,p.width,p.height)))}n[l.uuid]=new Gx(u)}else{const u=await a(l.url);n[l.uuid]=new Gx(u)}}}return n}parseTextures(e,t){function n(a,s){return typeof a=="number"?a:(Mr("ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&Mr('ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&Mr("ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let u;Array.isArray(c)?(u=new xM,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new qp:u=new go,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=n(o.mapping,rlt)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=n(o.wrap[0],dae),u.wrapT=n(o.wrap[1],dae)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.minFilter!==void 0&&(u.minFilter=n(o.minFilter,pae)),o.magFilter!==void 0&&(u.magFilter=n(o.magFilter,pae)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),i[o.uuid]=u}return i}parseObject(e,t,n,i,a){let s;function o(d){return t[d]===void 0&&Mr("ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const h=[];for(let p=0,v=d.length;p<v;p++){const x=d[p];n[x]===void 0&&Mr("ObjectLoader: Undefined material",x),h.push(n[x])}return h}return n[d]===void 0&&Mr("ObjectLoader: Undefined material",d),n[d]}}function c(d){return i[d]===void 0&&Mr("ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":s=new bG,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Lr(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new VI(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new UI(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Fo(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new ry(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Vye(e.color,e.intensity);break;case"DirectionalLight":s=new Uye(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new jye(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Hye(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new zye(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new Bye(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Wye().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),f=l(e.material),s=new sye(u,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),f=l(e.material),s=new El(u,f);break;case"InstancedMesh":u=o(e.geometry),f=l(e.material);const d=e.count,h=e.instanceMatrix,p=e.instanceColor;s=new oye(u,f,d),s.instanceMatrix=new ES(new Float32Array(h.array),16),p!==void 0&&(s.instanceColor=new ES(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":u=o(e.geometry),f=l(e.material),s=new lye(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),s.geometry=u,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(v=>{let x=null,g=null;return v.boundingBox!==void 0&&(x=new fu().fromJSON(v.boundingBox)),v.boundingSphere!==void 0&&(g=new bc().fromJSON(v.boundingSphere)),{...v,boundingBox:x,boundingSphere:g}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=c(e.matricesTexture.uuid),s._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new bc().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new fu().fromJSON(e.boundingBox));break;case"LOD":s=new aye;break;case"Line":s=new gy(o(e.geometry),l(e.material));break;case"LineLoop":s=new cye(o(e.geometry),l(e.material));break;case"LineSegments":s=new Lv(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new uye(o(e.geometry),l(e.material));break;case"Sprite":s=new iye(l(e.material));break;case"Group":s=new Ew;break;case"Bone":s=new wG;break;default:s=new Qi}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let h=0;h<d.length;h++)s.add(this.parseObject(d[h],t,n,i,a))}if(e.animations!==void 0){const d=e.animations;for(let h=0;h<d.length;h++){const p=d[h];s.animations.push(a[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const d=e.levels;for(let h=0;h<d.length;h++){const p=d[h],v=s.getObjectByProperty("uuid",p.object);v!==void 0&&s.addLevel(v,p.distance,p.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?Mr("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);i!==void 0?t.target=i:t.target=new Qi}})}}const rlt={UVMapping:NI,CubeReflectionMapping:hg,CubeRefractionMapping:py,EquirectangularReflectionMapping:oE,EquirectangularRefractionMapping:lE,CubeUVReflectionMapping:cT},dae={RepeatWrapping:cE,ClampToEdgeWrapping:jf,MirroredRepeatWrapping:uE},pae={NearestFilter:yc,NearestMipmapNearestFilter:oG,NearestMipmapLinearFilter:Tw,LinearFilter:zo,LinearMipmapNearestFilter:KA,LinearMipmapLinearFilter:iv},KF=new WeakMap;class nlt extends Zf{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Mr("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Mr("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=av.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(c=>{if(KF.has(s)===!0)i&&i(KF.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(c),a.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return av.add(`image-bitmap:${e}`,c),t&&t(c),a.manager.itemEnd(e),c}).catch(function(c){i&&i(c),KF.set(l,c),av.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});av.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let k4;class jG{static getContext(){return k4===void 0&&(k4=new(window.AudioContext||window.webkitAudioContext)),k4}static setContext(e){k4=e}}class ilt extends Zf{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new pg(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);jG.getContext().decodeAudioData(c,function(f){t(f)}).catch(o)}catch(c){o(c)}},n,i);function o(l){i?i(l):jn(l),a.manager.itemError(e)}}}const vae=new Pn,mae=new Pn,z1=new Pn;class alt{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Fo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Fo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,z1.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,s=t.near*Math.tan(z2*t.fov*.5)/t.zoom;let o,l;mae.elements[12]=-i,vae.elements[12]=i,o=-s*t.aspect+a,l=s*t.aspect+a,z1.elements[0]=2*t.near/(l-o),z1.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(z1),o=-s*t.aspect-a,l=s*t.aspect-a,z1.elements[0]=2*t.near/(l-o),z1.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(z1)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(mae),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(vae)}}class Xye extends Fo{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class UG{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const j1=new Ye,$F=new uu,slt=new Ye,U1=new Ye,V1=new Ye;class olt extends Qi{constructor(){super(),this.type="AudioListener",this.context=jG.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new UG}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(j1,$F,slt),U1.set(0,0,-1).applyQuaternion($F),V1.set(0,1,0).applyQuaternion($F),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(j1.x,n),t.positionY.linearRampToValueAtTime(j1.y,n),t.positionZ.linearRampToValueAtTime(j1.z,n),t.forwardX.linearRampToValueAtTime(U1.x,n),t.forwardY.linearRampToValueAtTime(U1.y,n),t.forwardZ.linearRampToValueAtTime(U1.z,n),t.upX.linearRampToValueAtTime(V1.x,n),t.upY.linearRampToValueAtTime(V1.y,n),t.upZ.linearRampToValueAtTime(V1.z,n)}else t.setPosition(j1.x,j1.y,j1.z),t.setOrientation(U1.x,U1.y,U1.z,V1.x,V1.y,V1.z)}}class Zye extends Qi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Mr("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Mr("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Mr("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Mr("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Mr("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Mr("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Mr("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(Mr("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const H1=new Ye,gae=new uu,llt=new Ye,G1=new Ye;class clt extends Zye{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(H1,gae,llt),G1.set(0,0,1).applyQuaternion(gae);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(H1.x,n),t.positionY.linearRampToValueAtTime(H1.y,n),t.positionZ.linearRampToValueAtTime(H1.z,n),t.orientationX.linearRampToValueAtTime(G1.x,n),t.orientationY.linearRampToValueAtTime(G1.y,n),t.orientationZ.linearRampToValueAtTime(G1.z,n)}else t.setPosition(H1.x,H1.y,H1.z),t.setOrientation(G1.x,G1.y,G1.z)}}class ult{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Kye{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,a,s;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)n[a+o]=n[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(n,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(n,i,l,1-a,t)}s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){o.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let a=n,s=i;a!==s;++a)t[a]=t[i+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[t+s]=e[n+s]}_slerp(e,t,n,i){uu.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,a){const s=this._workIndex*a;uu.multiplyQuaternionsFlat(e,s,e,t,e,n),uu.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,n,i,a){const s=1-i;for(let o=0;o!==a;++o){const l=t+o;e[l]=e[l]*s+e[n+o]*i}}_lerpAdditive(e,t,n,i,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[n+s]*i}}}const VG="\\[\\]\\.:\\/",flt=new RegExp("["+VG+"]","g"),HG="[^"+VG+"]",hlt="[^"+VG.replace("\\.","")+"]",dlt=/((?:WC+[\/:])*)/.source.replace("WC",HG),plt=/(WCOD+)?/.source.replace("WCOD",hlt),vlt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",HG),mlt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",HG),glt=new RegExp("^"+dlt+plt+vlt+mlt+"$"),xlt=["material","materials","bones","map"];class ylt{constructor(e,t,n){const i=n||aa.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=n.length;i!==a;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class aa{constructor(e,t,n){this.path=t,this.parsedPath=n||aa.parseTrackName(t),this.node=aa.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new aa.Composite(e,t,n):new aa(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(flt,"")}static parseTrackName(e){const t=glt.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=n.nodeName.substring(i+1);xlt.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const l=n(o.children);if(l)return l}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=aa.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Mr("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){jn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){jn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){jn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){jn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){jn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){jn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){jn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=t.nodeName;jn("PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){jn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){jn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}aa.Composite=ylt;aa.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};aa.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};aa.prototype.GetterByBindingType=[aa.prototype._getValue_direct,aa.prototype._getValue_array,aa.prototype._getValue_arrayElement,aa.prototype._getValue_toArray];aa.prototype.SetterByBindingTypeAndVersioning=[[aa.prototype._setValue_direct,aa.prototype._setValue_direct_setNeedsUpdate,aa.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[aa.prototype._setValue_array,aa.prototype._setValue_array_setNeedsUpdate,aa.prototype._setValue_array_setMatrixWorldNeedsUpdate],[aa.prototype._setValue_arrayElement,aa.prototype._setValue_arrayElement_setNeedsUpdate,aa.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[aa.prototype._setValue_fromArray,aa.prototype._setValue_fromArray_setNeedsUpdate,aa.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class blt{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ph(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],h=d.uuid;let p=t[h];if(p===void 0){p=l++,t[h]=p,e.push(d);for(let v=0,x=s;v!==x;++v)a[v].push(new aa(d,n[v],i[v]))}else if(p<c){o=e[p];const v=--c,x=e[v];t[x.uuid]=p,e[p]=x,t[h]=v,e[v]=d;for(let g=0,_=s;g!==_;++g){const w=a[g],A=w[v];let M=w[p];w[p]=A,M===void 0&&(M=new aa(d,n[g],i[g])),w[v]=M}}else e[p]!==o&&jn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],c=l.uuid,u=t[c];if(u!==void 0&&u>=a){const f=a++,d=e[f];t[d.uuid]=u,e[u]=d,t[c]=f,e[f]=l;for(let h=0,p=i;h!==p;++h){const v=n[h],x=v[f],g=v[u];v[u]=x,v[f]=g}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<a){const d=--a,h=e[d],p=--s,v=e[p];t[h.uuid]=f,e[f]=h,t[v.uuid]=d,e[d]=v,e.pop();for(let x=0,g=i;x!==g;++x){const _=n[x],w=_[d],A=_[p];_[f]=w,_[d]=A,_.pop()}}else{const d=--s,h=e[d];d>0&&(t[h.uuid]=f),e[f]=h,e.pop();for(let p=0,v=i;p!==v;++p){const x=n[p];x[f]=x[d],x.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const a=this._bindings;if(i!==void 0)return a[i];const s=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=a.length,n[e]=i,s.push(e),o.push(t),a.push(f);for(let d=u,h=l.length;d!==h;++d){const p=l[d];f[d]=new aa(p,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],c=e[o];t[c]=n,s[n]=l,s.pop(),a[n]=a[o],a.pop(),i[n]=i[o],i.pop()}}}class $ye{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const a=t.tracks,s=a.length,o=new Array(s),l={endingStart:w2,endingEnd:w2};for(let c=0;c!==s;++c){const u=a[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Fxe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,l[1]=a+n,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case pG:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(s),c[u].accumulateAdditive(o);break;case FI:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(s),c[u].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,a=this._loopCount;const s=n===Bxe;if(e===0)return a===-1?i:s&&(a&1)===1?t-i:i;if(n===Pxe){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=S2,i.endingEnd=S2):(e?i.endingStart=this.zeroSlopeAtStart?S2:w2:i.endingStart=hE,t?i.endingEnd=this.zeroSlopeAtEnd?S2:w2:i.endingEnd=hE)}_scheduleFading(e,t,n){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=t,o[1]=a+e,l[1]=n,this}}const _lt=new Float32Array(1);class wlt extends Dv{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==a;++f){const d=i[f],h=d.name;let p=u[h];if(p!==void 0)++p.referenceCount,s[f]=p;else{if(p=s[f],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,h));continue}const v=t&&t._propertyBindings[f].binding.parsedPath;p=new Kye(aa.create(n,h,v),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,h),s[f]=p}o[f].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,a=n.path,s=this._bindingsByRootAndName,o=s[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new PG(new Float32Array(2),new Float32Array(2),1,_lt),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){const i=t||this._root,a=i.uuid;let s=typeof e=="string"?wE.findByName(i,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(n===void 0&&(s!==null?n=s.blendMode:n=FI),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===n)return f;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new $ye(this,s,t,n);return this._bindAction(u,c),this._addInactiveAction(u,o,a),u}existingAction(e,t){const n=t||this._root,i=n.uuid,a=typeof e=="string"?wE.findByName(n,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(i,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,a=i[n];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const o=n[s].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Slt extends gG{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new zI(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class GG{constructor(e){this.value=e}clone(){return new GG(this.value.clone===void 0?this.value:this.value.clone())}}let Tlt=0;class Alt extends Dv{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Tlt++}),this.name="",this.usage=pE,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++){const a=Array.isArray(t[n])?t[n]:[t[n]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class Elt extends HI{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Mlt{constructor(e,t,n,i,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const xae=new Pn;class Jye{constructor(e,t,n=0,i=1/0){this.ray=new Nb(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new TS,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):jn("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return xae.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(xae),this}intersectObject(e,t=!0,n=[]){return Hj(e,this,n,t),n.sort(yae),n}intersectObjects(e,t=!0,n=[]){for(let i=0,a=e.length;i<a;i++)Hj(e[i],this,n,t);return n.sort(yae),n}}function yae(r,e){return r.distance-e.distance}function Hj(r,e,t,n){let i=!0;if(r.layers.test(e.layers)&&r.raycast(e,t)===!1&&(i=!1),i===!0&&n===!0){const a=r.children;for(let s=0,o=a.length;s<o;s++)Hj(a[s],e,t,!0)}}class Clt{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Nlt.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function Nlt(){this._document.hidden===!1&&this.reset()}class pk{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Dn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Dn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Dlt{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class WG{constructor(e,t,n,i){WG.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const a=this.elements;return a[0]=e,a[2]=t,a[1]=n,a[3]=i,this}}const bae=new er;class Llt{constructor(e=new er(1/0,1/0),t=new er(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=bae.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,bae).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _ae=new Ye,I4=new Ye,rw=new Ye,nw=new Ye,JF=new Ye,Rlt=new Ye,klt=new Ye;class Ilt{constructor(e=new Ye,t=new Ye){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){_ae.subVectors(e,this.start),I4.subVectors(this.end,this.start);const n=I4.dot(I4);let a=I4.dot(_ae)/n;return t&&(a=Dn(a,0,1)),a}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=Rlt,n=klt){const i=10000000000000001e-32;let a,s;const o=this.start,l=e.start,c=this.end,u=e.end;rw.subVectors(c,o),nw.subVectors(u,l),JF.subVectors(o,l);const f=rw.dot(rw),d=nw.dot(nw),h=nw.dot(JF);if(f<=i&&d<=i)return t.copy(o),n.copy(l),t.sub(n),t.dot(t);if(f<=i)a=0,s=h/d,s=Dn(s,0,1);else{const p=rw.dot(JF);if(d<=i)s=0,a=Dn(-p/f,0,1);else{const v=rw.dot(nw),x=f*d-v*v;x!==0?a=Dn((v*h-p*d)/x,0,1):a=0,s=(v*a+h)/d,s<0?(s=0,a=Dn(-p/f,0,1)):s>1&&(s=1,a=Dn((v-p)/f,0,1))}}return t.copy(o).add(rw.multiplyScalar(a)),n.copy(l).add(nw.multiplyScalar(s)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const wae=new Ye;class Olt extends Qi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new ii,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const c=s/l*Math.PI*2,u=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}n.setAttribute("position",new rn(i,3));const a=new rf({fog:!1,toneMapped:!1});this.cone=new Lv(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),wae.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(wae),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const bx=new Ye,O4=new Pn,QF=new Pn;class Plt extends Lv{constructor(e){const t=Qye(e),n=new ii,i=[],a=[];for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}n.setAttribute("position",new rn(i,3)),n.setAttribute("color",new rn(a,3));const s=new rf({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Lr(255),l=new Lr(65280);this.setColors(o,l)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");QF.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const o=t[a];o.parent&&o.parent.isBone&&(O4.multiplyMatrices(QF,o.matrixWorld),bx.setFromMatrixPosition(O4),i.setXYZ(s,bx.x,bx.y,bx.z),O4.multiplyMatrices(QF,o.parent.matrixWorld),bx.setFromMatrixPosition(O4),i.setXYZ(s+1,bx.x,bx.y,bx.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Qye(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push(...Qye(r.children[t]));return e}class Flt extends El{constructor(e,t,n){const i=new wM(t,4,2),a=new Dy({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Blt=new Ye,Sae=new Lr,Tae=new Lr;class zlt extends Qi{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new _M(t);i.rotateY(Math.PI*.5),this.material=new Dy({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),s=new Float32Array(a.count*3);i.setAttribute("color",new Ka(s,3)),this.add(new El(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Sae.copy(this.light.color),Tae.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const a=n<i/2?Sae:Tae;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Blt.setFromMatrixPosition(this.light.matrixWorld).negate())}}class jlt extends Lv{constructor(e=10,t=10,n=4473924,i=8947848){n=new Lr(n),i=new Lr(i);const a=t/2,s=e/t,o=e/2,l=[],c=[];for(let d=0,h=0,p=-o;d<=t;d++,p+=s){l.push(-o,0,p,o,0,p),l.push(p,0,-o,p,0,o);const v=d===a?n:i;v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3}const u=new ii;u.setAttribute("position",new rn(l,3)),u.setAttribute("color",new rn(c,3));const f=new rf({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ult extends Lv{constructor(e=10,t=16,n=8,i=64,a=4473924,s=8947848){a=new Lr(a),s=new Lr(s);const o=[],l=[];if(t>1)for(let f=0;f<t;f++){const d=f/t*(Math.PI*2),h=Math.sin(d)*e,p=Math.cos(d)*e;o.push(0,0,0),o.push(h,0,p);const v=f&1?a:s;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<n;f++){const d=f&1?a:s,h=e-e/n*f;for(let p=0;p<i;p++){let v=p/i*(Math.PI*2),x=Math.sin(v)*h,g=Math.cos(v)*h;o.push(x,0,g),l.push(d.r,d.g,d.b),v=(p+1)/i*(Math.PI*2),x=Math.sin(v)*h,g=Math.cos(v)*h,o.push(x,0,g),l.push(d.r,d.g,d.b)}}const c=new ii;c.setAttribute("position",new rn(o,3)),c.setAttribute("color",new rn(l,3));const u=new rf({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Aae=new Ye,P4=new Ye,Eae=new Ye;class Vlt extends Qi{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new ii;i.setAttribute("position",new rn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new rf({fog:!1,toneMapped:!1});this.lightPlane=new gy(i,a),this.add(this.lightPlane),i=new ii,i.setAttribute("position",new rn([0,0,0,0,0,1],3)),this.targetLine=new gy(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Aae.setFromMatrixPosition(this.light.matrixWorld),P4.setFromMatrixPosition(this.light.target.matrixWorld),Eae.subVectors(P4,Aae),this.lightPlane.lookAt(P4),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(P4),this.targetLine.scale.z=Eae.length()}}const F4=new Ye,oo=new jI;class Hlt extends Lv{constructor(e){const t=new ii,n=new rf({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(p,v){l(p),l(v)}function l(p){i.push(0,0,0),a.push(0,0,0),s[p]===void 0&&(s[p]=[]),s[p].push(i.length/3-1)}t.setAttribute("position",new rn(i,3)),t.setAttribute("color",new rn(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new Lr(16755200),u=new Lr(16711680),f=new Lr(43775),d=new Lr(16777215),h=new Lr(3355443);this.setColors(c,u,f,d,h)}setColors(e,t,n,i,a){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;let a,s;if(oo.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===kh)a=-1,s=1;else if(this.camera.coordinateSystem===_S)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Do("c",t,e,oo,0,0,a),Do("t",t,e,oo,0,0,s),Do("n1",t,e,oo,-n,-i,a),Do("n2",t,e,oo,n,-i,a),Do("n3",t,e,oo,-n,i,a),Do("n4",t,e,oo,n,i,a),Do("f1",t,e,oo,-n,-i,s),Do("f2",t,e,oo,n,-i,s),Do("f3",t,e,oo,-n,i,s),Do("f4",t,e,oo,n,i,s),Do("u1",t,e,oo,n*.7,i*1.1,a),Do("u2",t,e,oo,-n*.7,i*1.1,a),Do("u3",t,e,oo,0,i*2,a),Do("cf1",t,e,oo,-n,0,s),Do("cf2",t,e,oo,n,0,s),Do("cf3",t,e,oo,0,-i,s),Do("cf4",t,e,oo,0,i,s),Do("cn1",t,e,oo,-n,0,a),Do("cn2",t,e,oo,n,0,a),Do("cn3",t,e,oo,0,-i,a),Do("cn4",t,e,oo,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Do(r,e,t,n,i,a,s){F4.set(i,a,s).unproject(n);const o=e[r];if(o!==void 0){const l=t.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],F4.x,F4.y,F4.z)}}const B4=new fu;class Glt extends Lv{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new ii;a.setIndex(new Ka(n,1)),a.setAttribute("position",new Ka(i,3)),super(a,new rf({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&B4.setFromObject(this.object),B4.isEmpty())return;const e=B4.min,t=B4.max,n=this.geometry.attributes.position,i=n.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Wlt extends Lv{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new ii;a.setIndex(new Ka(n,1)),a.setAttribute("position",new rn(i,3)),super(a,new rf({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ylt extends gy{constructor(e,t=1,n=16776960){const i=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new ii;s.setAttribute("position",new rn(a,3)),s.computeBoundingSphere(),super(s,new rf({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ii;l.setAttribute("position",new rn(o,3)),l.computeBoundingSphere(),this.add(new El(l,new Dy({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Mae=new Ye;let z4,eB;class qlt extends Qi{constructor(e=new Ye(0,0,1),t=new Ye(0,0,0),n=1,i=16776960,a=n*.2,s=a*.2){super(),this.type="ArrowHelper",z4===void 0&&(z4=new ii,z4.setAttribute("position",new rn([0,0,0,0,1,0],3)),eB=new bM(.5,1,5,1),eB.translate(0,-.5,0)),this.position.copy(t),this.line=new gy(z4,new rf({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new El(eB,new Dy({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Mae.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Mae,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Xlt extends Lv{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new ii;i.setAttribute("position",new rn(t,3)),i.setAttribute("color",new rn(n,3));const a=new rf({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,n){const i=new Lr,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(n),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zlt{constructor(){this.type="ShapePath",this.color=new Lr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new dk,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,a,s){return this.currentPath.bezierCurveTo(e,t,n,i,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const _=[];for(let w=0,A=g.length;w<A;w++){const M=g[w],C=new j2;C.curves=M.curves,_.push(C)}return _}function n(g,_){const w=_.length;let A=!1;for(let M=w-1,C=0;C<w;M=C++){let N=_[M],L=_[C],D=L.x-N.x,k=L.y-N.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(N=_[C],D=-D,L=_[M],k=-k),g.y<N.y||g.y>L.y)continue;if(g.y===N.y){if(g.x===N.x)return!0}else{const O=k*(g.x-N.x)-D*(g.y-N.y);if(O===0)return!0;if(O<0)continue;A=!A}}else{if(g.y!==N.y)continue;if(L.x<=g.x&&g.x<=N.x||N.x<=g.x&&g.x<=L.x)return!0}}return A}const i=jp.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const c=[];if(a.length===1)return o=a[0],l=new j2,l.curves=o.curves,c.push(l),c;let u=!i(a[0].getPoints());u=e?!u:u;const f=[],d=[];let h=[],p=0,v;d[p]=void 0,h[p]=[];for(let g=0,_=a.length;g<_;g++)o=a[g],v=o.getPoints(),s=i(v),s=e?!s:s,s?(!u&&d[p]&&p++,d[p]={s:new j2,p:v},d[p].s.curves=o.curves,u&&p++,h[p]=[]):h[p].push({h:o,p:v[0]});if(!d[0])return t(a);if(d.length>1){let g=!1,_=0;for(let w=0,A=d.length;w<A;w++)f[w]=[];for(let w=0,A=d.length;w<A;w++){const M=h[w];for(let C=0;C<M.length;C++){const N=M[C];let L=!0;for(let D=0;D<d.length;D++)n(N.p,d[D].p)&&(w!==D&&_++,L?(L=!1,f[D].push(N)):g=!0);L&&f[w].push(N)}}_>0&&g===!1&&(h=f)}let x;for(let g=0,_=d.length;g<_;g++){l=d[g].s,c.push(l),x=h[g];for(let w=0,A=x.length;w<A;w++)l.holes.push(x[w].h)}return c}}class Klt extends Dv{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Mr("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function $lt(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2):(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0),r}function Jlt(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0):(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2),r}function Qlt(r){return r.repeat.x=1,r.repeat.y=1,r.offset.x=0,r.offset.y=0,r}function Gj(r,e,t,n){const i=ect(n);switch(t){case hG:return r*e;case kI:return r*e/i.components*i.byteLength;case gM:return r*e/i.components*i.byteLength;case II:return r*e*2/i.components*i.byteLength;case OI:return r*e*2/i.components*i.byteLength;case dG:return r*e*3/i.components*i.byteLength;case au:return r*e*4/i.components*i.byteLength;case PI:return r*e*4/i.components*i.byteLength;case $A:case JA:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case QA:case e3:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case PR:case BR:return Math.max(r,16)*Math.max(e,8)/4;case OR:case FR:return Math.max(r,8)*Math.max(e,8)/2;case zR:case jR:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case UR:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case VR:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case HR:return Math.floor((r+4)/5)*Math.floor((e+3)/4)*16;case GR:return Math.floor((r+4)/5)*Math.floor((e+4)/5)*16;case WR:return Math.floor((r+5)/6)*Math.floor((e+4)/5)*16;case YR:return Math.floor((r+5)/6)*Math.floor((e+5)/6)*16;case qR:return Math.floor((r+7)/8)*Math.floor((e+4)/5)*16;case XR:return Math.floor((r+7)/8)*Math.floor((e+5)/6)*16;case ZR:return Math.floor((r+7)/8)*Math.floor((e+7)/8)*16;case KR:return Math.floor((r+9)/10)*Math.floor((e+4)/5)*16;case $R:return Math.floor((r+9)/10)*Math.floor((e+5)/6)*16;case JR:return Math.floor((r+9)/10)*Math.floor((e+7)/8)*16;case QR:return Math.floor((r+9)/10)*Math.floor((e+9)/10)*16;case ek:return Math.floor((r+11)/12)*Math.floor((e+9)/10)*16;case tk:return Math.floor((r+11)/12)*Math.floor((e+11)/12)*16;case rk:case nk:case ik:return Math.ceil(r/4)*Math.ceil(e/4)*16;case ak:case sk:return Math.ceil(r/4)*Math.ceil(e/4)*8;case ok:case lk:return Math.ceil(r/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function ect(r){switch(r){case Ud:case lG:return{byteLength:1,components:1};case gS:case cG:case Cb:return{byteLength:2,components:1};case LI:case RI:return{byteLength:2,components:4};case dg:case DI:case Uf:return{byteLength:4,components:1};case uG:case fG:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${r}.`)}class tct{static contain(e,t){return $lt(e,t)}static cover(e,t){return Jlt(e,t)}static fill(e){return Qlt(e)}static getByteLength(e,t,n,i){return Gj(e,t,n,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:vM}}));typeof window<"u"&&(window.__THREE__?Mr("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=vM);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function e1e(){let r=null,e=!1,t=null,n=null;function i(a,s){t(a,s),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){r=a}}}function rct(r){const e=new WeakMap;function t(o,l){const c=o.array,u=o.usage,f=c.byteLength,d=r.createBuffer();r.bindBuffer(l,d),r.bufferData(l,c,u),o.onUploadCallback();let h;if(c instanceof Float32Array)h=r.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)h=r.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?h=r.HALF_FLOAT:h=r.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=r.SHORT;else if(c instanceof Uint32Array)h=r.UNSIGNED_INT;else if(c instanceof Int32Array)h=r.INT;else if(c instanceof Int8Array)h=r.BYTE;else if(c instanceof Uint8Array)h=r.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:f}}function n(o,l,c){const u=l.array,f=l.updateRanges;if(r.bindBuffer(c,o),f.length===0)r.bufferSubData(c,0,u);else{f.sort((h,p)=>h.start-p.start);let d=0;for(let h=1;h<f.length;h++){const p=f[d],v=f[h];v.start<=p.start+p.count+1?p.count=Math.max(p.count,v.start+v.count-p.start):(++d,f[d]=v)}f.length=d+1;for(let h=0,p=f.length;h<p;h++){const v=f[h];r.bufferSubData(c,v.start*u.BYTES_PER_ELEMENT,u,v.start,v.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(r.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(c.buffer,o,l),c.version=o.version}}return{get:i,remove:a,update:s}}var nct=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ict=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,act=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,sct=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oct=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,lct=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,cct=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,uct=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,fct=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,hct=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,dct=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,pct=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,vct=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,mct=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,gct=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,xct=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,yct=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,bct=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,_ct=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,wct=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Sct=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Tct=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Act=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Ect=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Mct=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Cct=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Nct=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Dct=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Lct=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Rct=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,kct="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ict=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Oct=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Pct=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,Fct=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Bct=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zct=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,jct=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Uct=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Vct=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Hct=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Gct=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Wct=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Yct=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,qct=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Xct=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Zct=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Kct=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$ct=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Jct=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Qct=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,eut=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,tut=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,rut=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nut=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,iut=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,aut=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,sut=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,out=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,lut=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,cut=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,uut=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,fut=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,hut=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dut=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,put=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,vut=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,mut=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,gut=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,xut=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,yut=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,but=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,_ut=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,wut=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Sut=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Tut=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Aut=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Eut=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Mut=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Cut=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Nut=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Dut=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Lut=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Rut=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,kut=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Iut=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Out=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Put=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Fut=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,But=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,zut=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,jut=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Uut=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Vut=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Hut=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Gut=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Wut=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Yut=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,qut=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Xut=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Zut=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Kut=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,$ut=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Jut=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Qut=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,eft=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,tft=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const rft=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nft=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ift=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aft=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sft=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oft=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lft=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,cft=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,uft=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fft=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,hft=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dft=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pft=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vft=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mft=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,gft=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xft=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yft=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bft=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,_ft=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wft=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Sft=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Tft=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Aft=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Eft=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Mft=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cft=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nft=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dft=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Lft=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Rft=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kft=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ift=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Oft=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ci={alphahash_fragment:nct,alphahash_pars_fragment:ict,alphamap_fragment:act,alphamap_pars_fragment:sct,alphatest_fragment:oct,alphatest_pars_fragment:lct,aomap_fragment:cct,aomap_pars_fragment:uct,batching_pars_vertex:fct,batching_vertex:hct,begin_vertex:dct,beginnormal_vertex:pct,bsdfs:vct,iridescence_fragment:mct,bumpmap_pars_fragment:gct,clipping_planes_fragment:xct,clipping_planes_pars_fragment:yct,clipping_planes_pars_vertex:bct,clipping_planes_vertex:_ct,color_fragment:wct,color_pars_fragment:Sct,color_pars_vertex:Tct,color_vertex:Act,common:Ect,cube_uv_reflection_fragment:Mct,defaultnormal_vertex:Cct,displacementmap_pars_vertex:Nct,displacementmap_vertex:Dct,emissivemap_fragment:Lct,emissivemap_pars_fragment:Rct,colorspace_fragment:kct,colorspace_pars_fragment:Ict,envmap_fragment:Oct,envmap_common_pars_fragment:Pct,envmap_pars_fragment:Fct,envmap_pars_vertex:Bct,envmap_physical_pars_fragment:Zct,envmap_vertex:zct,fog_vertex:jct,fog_pars_vertex:Uct,fog_fragment:Vct,fog_pars_fragment:Hct,gradientmap_pars_fragment:Gct,lightmap_pars_fragment:Wct,lights_lambert_fragment:Yct,lights_lambert_pars_fragment:qct,lights_pars_begin:Xct,lights_toon_fragment:Kct,lights_toon_pars_fragment:$ct,lights_phong_fragment:Jct,lights_phong_pars_fragment:Qct,lights_physical_fragment:eut,lights_physical_pars_fragment:tut,lights_fragment_begin:rut,lights_fragment_maps:nut,lights_fragment_end:iut,logdepthbuf_fragment:aut,logdepthbuf_pars_fragment:sut,logdepthbuf_pars_vertex:out,logdepthbuf_vertex:lut,map_fragment:cut,map_pars_fragment:uut,map_particle_fragment:fut,map_particle_pars_fragment:hut,metalnessmap_fragment:dut,metalnessmap_pars_fragment:put,morphinstance_vertex:vut,morphcolor_vertex:mut,morphnormal_vertex:gut,morphtarget_pars_vertex:xut,morphtarget_vertex:yut,normal_fragment_begin:but,normal_fragment_maps:_ut,normal_pars_fragment:wut,normal_pars_vertex:Sut,normal_vertex:Tut,normalmap_pars_fragment:Aut,clearcoat_normal_fragment_begin:Eut,clearcoat_normal_fragment_maps:Mut,clearcoat_pars_fragment:Cut,iridescence_pars_fragment:Nut,opaque_fragment:Dut,packing:Lut,premultiplied_alpha_fragment:Rut,project_vertex:kut,dithering_fragment:Iut,dithering_pars_fragment:Out,roughnessmap_fragment:Put,roughnessmap_pars_fragment:Fut,shadowmap_pars_fragment:But,shadowmap_pars_vertex:zut,shadowmap_vertex:jut,shadowmask_pars_fragment:Uut,skinbase_vertex:Vut,skinning_pars_vertex:Hut,skinning_vertex:Gut,skinnormal_vertex:Wut,specularmap_fragment:Yut,specularmap_pars_fragment:qut,tonemapping_fragment:Xut,tonemapping_pars_fragment:Zut,transmission_fragment:Kut,transmission_pars_fragment:$ut,uv_pars_fragment:Jut,uv_pars_vertex:Qut,uv_vertex:eft,worldpos_vertex:tft,background_vert:rft,background_frag:nft,backgroundCube_vert:ift,backgroundCube_frag:aft,cube_vert:sft,cube_frag:oft,depth_vert:lft,depth_frag:cft,distanceRGBA_vert:uft,distanceRGBA_frag:fft,equirect_vert:hft,equirect_frag:dft,linedashed_vert:pft,linedashed_frag:vft,meshbasic_vert:mft,meshbasic_frag:gft,meshlambert_vert:xft,meshlambert_frag:yft,meshmatcap_vert:bft,meshmatcap_frag:_ft,meshnormal_vert:wft,meshnormal_frag:Sft,meshphong_vert:Tft,meshphong_frag:Aft,meshphysical_vert:Eft,meshphysical_frag:Mft,meshtoon_vert:Cft,meshtoon_frag:Nft,points_vert:Dft,points_frag:Lft,shadow_vert:Rft,shadow_frag:kft,sprite_vert:Ift,sprite_frag:Oft},Er={common:{diffuse:{value:new Lr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ni},alphaMap:{value:null},alphaMapTransform:{value:new ni},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ni}},envmap:{envMap:{value:null},envMapRotation:{value:new ni},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ni}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ni}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ni},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ni},normalScale:{value:new er(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ni},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ni}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ni}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ni}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ni},alphaTest:{value:0},uvTransform:{value:new ni}},sprite:{diffuse:{value:new Lr(16777215)},opacity:{value:1},center:{value:new er(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ni},alphaMap:{value:null},alphaMapTransform:{value:new ni},alphaTest:{value:0}}},Ip={basic:{uniforms:Bu([Er.common,Er.specularmap,Er.envmap,Er.aomap,Er.lightmap,Er.fog]),vertexShader:ci.meshbasic_vert,fragmentShader:ci.meshbasic_frag},lambert:{uniforms:Bu([Er.common,Er.specularmap,Er.envmap,Er.aomap,Er.lightmap,Er.emissivemap,Er.bumpmap,Er.normalmap,Er.displacementmap,Er.fog,Er.lights,{emissive:{value:new Lr(0)}}]),vertexShader:ci.meshlambert_vert,fragmentShader:ci.meshlambert_frag},phong:{uniforms:Bu([Er.common,Er.specularmap,Er.envmap,Er.aomap,Er.lightmap,Er.emissivemap,Er.bumpmap,Er.normalmap,Er.displacementmap,Er.fog,Er.lights,{emissive:{value:new Lr(0)},specular:{value:new Lr(1118481)},shininess:{value:30}}]),vertexShader:ci.meshphong_vert,fragmentShader:ci.meshphong_frag},standard:{uniforms:Bu([Er.common,Er.envmap,Er.aomap,Er.lightmap,Er.emissivemap,Er.bumpmap,Er.normalmap,Er.displacementmap,Er.roughnessmap,Er.metalnessmap,Er.fog,Er.lights,{emissive:{value:new Lr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ci.meshphysical_vert,fragmentShader:ci.meshphysical_frag},toon:{uniforms:Bu([Er.common,Er.aomap,Er.lightmap,Er.emissivemap,Er.bumpmap,Er.normalmap,Er.displacementmap,Er.gradientmap,Er.fog,Er.lights,{emissive:{value:new Lr(0)}}]),vertexShader:ci.meshtoon_vert,fragmentShader:ci.meshtoon_frag},matcap:{uniforms:Bu([Er.common,Er.bumpmap,Er.normalmap,Er.displacementmap,Er.fog,{matcap:{value:null}}]),vertexShader:ci.meshmatcap_vert,fragmentShader:ci.meshmatcap_frag},points:{uniforms:Bu([Er.points,Er.fog]),vertexShader:ci.points_vert,fragmentShader:ci.points_frag},dashed:{uniforms:Bu([Er.common,Er.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ci.linedashed_vert,fragmentShader:ci.linedashed_frag},depth:{uniforms:Bu([Er.common,Er.displacementmap]),vertexShader:ci.depth_vert,fragmentShader:ci.depth_frag},normal:{uniforms:Bu([Er.common,Er.bumpmap,Er.normalmap,Er.displacementmap,{opacity:{value:1}}]),vertexShader:ci.meshnormal_vert,fragmentShader:ci.meshnormal_frag},sprite:{uniforms:Bu([Er.sprite,Er.fog]),vertexShader:ci.sprite_vert,fragmentShader:ci.sprite_frag},background:{uniforms:{uvTransform:{value:new ni},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ci.background_vert,fragmentShader:ci.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ni}},vertexShader:ci.backgroundCube_vert,fragmentShader:ci.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ci.cube_vert,fragmentShader:ci.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ci.equirect_vert,fragmentShader:ci.equirect_frag},distanceRGBA:{uniforms:Bu([Er.common,Er.displacementmap,{referencePosition:{value:new Ye},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ci.distanceRGBA_vert,fragmentShader:ci.distanceRGBA_frag},shadow:{uniforms:Bu([Er.lights,Er.fog,{color:{value:new Lr(0)},opacity:{value:1}}]),vertexShader:ci.shadow_vert,fragmentShader:ci.shadow_frag}};Ip.physical={uniforms:Bu([Ip.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ni},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ni},clearcoatNormalScale:{value:new er(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ni},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ni},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ni},sheen:{value:0},sheenColor:{value:new Lr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ni},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ni},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ni},transmissionSamplerSize:{value:new er},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ni},attenuationDistance:{value:0},attenuationColor:{value:new Lr(0)},specularColor:{value:new Lr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ni},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ni},anisotropyVector:{value:new er},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ni}}]),vertexShader:ci.meshphysical_vert,fragmentShader:ci.meshphysical_frag};const j4={r:0,b:0,g:0},W1=new jh,Pft=new Pn;function Fft(r,e,t,n,i,a,s){const o=new Lr(0);let l=a===!0?0:1,c,u,f=null,d=0,h=null;function p(w){let A=w.isScene===!0?w.background:null;return A&&A.isTexture&&(A=(w.backgroundBlurriness>0?t:e).get(A)),A}function v(w){let A=!1;const M=p(w);M===null?g(o,l):M&&M.isColor&&(g(M,1),A=!0);const C=r.xr.getEnvironmentBlendMode();C==="additive"?n.buffers.color.setClear(0,0,0,1,s):C==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,s),(r.autoClear||A)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))}function x(w,A){const M=p(A);M&&(M.isCubeTexture||M.mapping===cT)?(u===void 0&&(u=new El(new Db(1,1,1),new Uh({name:"BackgroundCubeMaterial",uniforms:AS(Ip.backgroundCube.uniforms),vertexShader:Ip.backgroundCube.vertexShader,fragmentShader:Ip.backgroundCube.fragmentShader,side:Ku,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,N,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),W1.copy(A.backgroundRotation),W1.x*=-1,W1.y*=-1,W1.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(W1.y*=-1,W1.z*=-1),u.material.uniforms.envMap.value=M,u.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Pft.makeRotationFromEuler(W1)),u.material.toneMapped=qi.getTransfer(M.colorSpace)!==Fa,(f!==M||d!==M.version||h!==r.toneMapping)&&(u.material.needsUpdate=!0,f=M,d=M.version,h=r.toneMapping),u.layers.enableAll(),w.unshift(u,u.geometry,u.material,0,0,null)):M&&M.isTexture&&(c===void 0&&(c=new El(new fT(2,2),new Uh({name:"BackgroundMaterial",uniforms:AS(Ip.background.uniforms),vertexShader:Ip.background.vertexShader,fragmentShader:Ip.background.fragmentShader,side:fg,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=M,c.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,c.material.toneMapped=qi.getTransfer(M.colorSpace)!==Fa,M.matrixAutoUpdate===!0&&M.updateMatrix(),c.material.uniforms.uvTransform.value.copy(M.matrix),(f!==M||d!==M.version||h!==r.toneMapping)&&(c.material.needsUpdate=!0,f=M,d=M.version,h=r.toneMapping),c.layers.enableAll(),w.unshift(c,c.geometry,c.material,0,0,null))}function g(w,A){w.getRGB(j4,Qxe(r)),n.buffers.color.setClear(j4.r,j4.g,j4.b,A,s)}function _(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(w,A=1){o.set(w),l=A,g(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,g(o,l)},render:v,addToRenderList:x,dispose:_}}function Bft(r,e){const t=r.getParameter(r.MAX_VERTEX_ATTRIBS),n={},i=d(null);let a=i,s=!1;function o(k,O,I,j,B){let K=!1;const H=f(j,I,O);a!==H&&(a=H,c(a.object)),K=h(k,j,I,B),K&&p(k,j,I,B),B!==null&&e.update(B,r.ELEMENT_ARRAY_BUFFER),(K||s)&&(s=!1,A(k,O,I,j),B!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.get(B).buffer))}function l(){return r.createVertexArray()}function c(k){return r.bindVertexArray(k)}function u(k){return r.deleteVertexArray(k)}function f(k,O,I){const j=I.wireframe===!0;let B=n[k.id];B===void 0&&(B={},n[k.id]=B);let K=B[O.id];K===void 0&&(K={},B[O.id]=K);let H=K[j];return H===void 0&&(H=d(l()),K[j]=H),H}function d(k){const O=[],I=[],j=[];for(let B=0;B<t;B++)O[B]=0,I[B]=0,j[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:I,attributeDivisors:j,object:k,attributes:{},index:null}}function h(k,O,I,j){const B=a.attributes,K=O.attributes;let H=0;const Z=I.getAttributes();for(const Y in Z)if(Z[Y].location>=0){const oe=B[Y];let X=K[Y];if(X===void 0&&(Y==="instanceMatrix"&&k.instanceMatrix&&(X=k.instanceMatrix),Y==="instanceColor"&&k.instanceColor&&(X=k.instanceColor)),oe===void 0||oe.attribute!==X||X&&oe.data!==X.data)return!0;H++}return a.attributesNum!==H||a.index!==j}function p(k,O,I,j){const B={},K=O.attributes;let H=0;const Z=I.getAttributes();for(const Y in Z)if(Z[Y].location>=0){let oe=K[Y];oe===void 0&&(Y==="instanceMatrix"&&k.instanceMatrix&&(oe=k.instanceMatrix),Y==="instanceColor"&&k.instanceColor&&(oe=k.instanceColor));const X={};X.attribute=oe,oe&&oe.data&&(X.data=oe.data),B[Y]=X,H++}a.attributes=B,a.attributesNum=H,a.index=j}function v(){const k=a.newAttributes;for(let O=0,I=k.length;O<I;O++)k[O]=0}function x(k){g(k,0)}function g(k,O){const I=a.newAttributes,j=a.enabledAttributes,B=a.attributeDivisors;I[k]=1,j[k]===0&&(r.enableVertexAttribArray(k),j[k]=1),B[k]!==O&&(r.vertexAttribDivisor(k,O),B[k]=O)}function _(){const k=a.newAttributes,O=a.enabledAttributes;for(let I=0,j=O.length;I<j;I++)O[I]!==k[I]&&(r.disableVertexAttribArray(I),O[I]=0)}function w(k,O,I,j,B,K,H){H===!0?r.vertexAttribIPointer(k,O,I,B,K):r.vertexAttribPointer(k,O,I,j,B,K)}function A(k,O,I,j){v();const B=j.attributes,K=I.getAttributes(),H=O.defaultAttributeValues;for(const Z in K){const Y=K[Z];if(Y.location>=0){let J=B[Z];if(J===void 0&&(Z==="instanceMatrix"&&k.instanceMatrix&&(J=k.instanceMatrix),Z==="instanceColor"&&k.instanceColor&&(J=k.instanceColor)),J!==void 0){const oe=J.normalized,X=J.itemSize,F=e.get(J);if(F===void 0)continue;const W=F.buffer,Q=F.type,re=F.bytesPerElement,ae=Q===r.INT||Q===r.UNSIGNED_INT||J.gpuType===DI;if(J.isInterleavedBufferAttribute){const ce=J.data,ye=ce.stride,fe=J.offset;if(ce.isInstancedInterleavedBuffer){for(let be=0;be<Y.locationSize;be++)g(Y.location+be,ce.meshPerAttribute);k.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let be=0;be<Y.locationSize;be++)x(Y.location+be);r.bindBuffer(r.ARRAY_BUFFER,W);for(let be=0;be<Y.locationSize;be++)w(Y.location+be,X/Y.locationSize,Q,oe,ye*re,(fe+X/Y.locationSize*be)*re,ae)}else{if(J.isInstancedBufferAttribute){for(let ce=0;ce<Y.locationSize;ce++)g(Y.location+ce,J.meshPerAttribute);k.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let ce=0;ce<Y.locationSize;ce++)x(Y.location+ce);r.bindBuffer(r.ARRAY_BUFFER,W);for(let ce=0;ce<Y.locationSize;ce++)w(Y.location+ce,X/Y.locationSize,Q,oe,X*re,X/Y.locationSize*ce*re,ae)}}else if(H!==void 0){const oe=H[Z];if(oe!==void 0)switch(oe.length){case 2:r.vertexAttrib2fv(Y.location,oe);break;case 3:r.vertexAttrib3fv(Y.location,oe);break;case 4:r.vertexAttrib4fv(Y.location,oe);break;default:r.vertexAttrib1fv(Y.location,oe)}}}}_()}function M(){L();for(const k in n){const O=n[k];for(const I in O){const j=O[I];for(const B in j)u(j[B].object),delete j[B];delete O[I]}delete n[k]}}function C(k){if(n[k.id]===void 0)return;const O=n[k.id];for(const I in O){const j=O[I];for(const B in j)u(j[B].object),delete j[B];delete O[I]}delete n[k.id]}function N(k){for(const O in n){const I=n[O];if(I[k.id]===void 0)continue;const j=I[k.id];for(const B in j)u(j[B].object),delete j[B];delete I[k.id]}}function L(){D(),s=!0,a!==i&&(a=i,c(a.object))}function D(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:L,resetDefaultState:D,dispose:M,releaseStatesOfGeometry:C,releaseStatesOfProgram:N,initAttributes:v,enableAttribute:x,disableUnusedAttributes:_}}function zft(r,e,t){let n;function i(c){n=c}function a(c,u){r.drawArrays(n,c,u),t.update(u,n,1)}function s(c,u,f){f!==0&&(r.drawArraysInstanced(n,c,u,f),t.update(u,n,f))}function o(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,u,0,f);let h=0;for(let p=0;p<f;p++)h+=u[p];t.update(h,n,1)}function l(c,u,f,d){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<c.length;p++)s(c[p],u[p],d[p]);else{h.multiDrawArraysInstancedWEBGL(n,c,0,u,0,d,0,f);let p=0;for(let v=0;v<f;v++)p+=u[v]*d[v];t.update(p,n,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function jft(r,e,t,n){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=r.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(N){return!(N!==au&&n.convert(N)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(N){const L=N===Cb&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==Ud&&n.convert(N)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==Uf&&!L)}function l(N){if(N==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(Mr("WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=t.logarithmicDepthBuffer===!0,d=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),h=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),p=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=r.getParameter(r.MAX_TEXTURE_SIZE),x=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),g=r.getParameter(r.MAX_VERTEX_ATTRIBS),_=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),w=r.getParameter(r.MAX_VARYING_VECTORS),A=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),M=p>0,C=r.getParameter(r.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:f,reversedDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:v,maxCubemapSize:x,maxAttributes:g,maxVertexUniforms:_,maxVaryings:w,maxFragmentUniforms:A,vertexTextures:M,maxSamples:C}}function Uft(r){const e=this;let t=null,n=0,i=!1,a=!1;const s=new Rm,o=new ni,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||n!==0||i;return i=d,n=f.length,h},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,d){t=u(f,d,0)},this.setState=function(f,d,h){const p=f.clippingPlanes,v=f.clipIntersection,x=f.clipShadows,g=r.get(f);if(!i||p===null||p.length===0||a&&!x)a?u(null):c();else{const _=a?0:n,w=_*4;let A=g.clippingState||null;l.value=A,A=u(p,d,w,h);for(let M=0;M!==w;++M)A[M]=t[M];g.clippingState=A,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(f,d,h,p){const v=f!==null?f.length:0;let x=null;if(v!==0){if(x=l.value,p!==!0||x===null){const g=h+v*4,_=d.matrixWorldInverse;o.getNormalMatrix(_),(x===null||x.length<g)&&(x=new Float32Array(g));for(let w=0,A=h;w!==v;++w,A+=4)s.copy(f[w]).applyMatrix4(_,o),s.normal.toArray(x,A),x[A+3]=s.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,x}}function Vft(r){let e=new WeakMap;function t(s,o){return o===oE?s.mapping=hg:o===lE&&(s.mapping=py),s}function n(s){if(s&&s.isTexture){const o=s.mapping;if(o===oE||o===lE)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new rye(l.height);return c.fromEquirectangularTexture(r,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}const Wx=4,Cae=[.125,.215,.35,.446,.526,.582],h2=20,Hft=256,Y5=new ry,Nae=new Lr;let tB=null,rB=0,nB=0,iB=!1;const Gft=new Ye;class Wj{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,i=100,a={}){const{size:s=256,position:o=Gft}=a;tB=this._renderer.getRenderTarget(),rB=this._renderer.getActiveCubeFace(),nB=this._renderer.getActiveMipmapLevel(),iB=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,n,i,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Rae(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Lae(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(tB,rB,nB),this._renderer.xr.enabled=iB,e.scissorTest=!1,iw(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===hg||e.mapping===py?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),tB=this._renderer.getRenderTarget(),rB=this._renderer.getActiveCubeFace(),nB=this._renderer.getActiveMipmapLevel(),iB=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:zo,minFilter:zo,generateMipmaps:!1,type:Cb,format:au,colorSpace:vy,depthBuffer:!1},i=Dae(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Dae(e,t,n);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Wft(a)),this._blurMaterial=qft(a,e,t),this._ggxMaterial=Yft(a,e,t)}return i}_compileMaterial(e){const t=new El(new ii,e);this._renderer.compile(t,Y5)}_sceneToCubeUV(e,t,n,i,a){const l=new Fo(90,1,t,n),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,h=f.toneMapping;f.getClearColor(Nae),f.toneMapping=fv,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(i),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new El(new Db,new Dy({name:"PMREM.Background",side:Ku,depthWrite:!1,depthTest:!1})));const v=this._backgroundBox,x=v.material;let g=!1;const _=e.background;_?_.isColor&&(x.color.copy(_),e.background=null,g=!0):(x.color.copy(Nae),g=!0);for(let w=0;w<6;w++){const A=w%3;A===0?(l.up.set(0,c[w],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+u[w],a.y,a.z)):A===1?(l.up.set(0,0,c[w]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+u[w],a.z)):(l.up.set(0,c[w],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+u[w]));const M=this._cubeSize;iw(i,A*M,w>2?M:0,M,M),f.setRenderTarget(i),g&&f.render(v,l),f.render(e,l)}f.toneMapping=h,f.autoClear=d,e.background=_}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===hg||e.mapping===py;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Rae()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Lae());const a=i?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;iw(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(s,Y5)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let a=1;a<i;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=n}_applyGGXFilter(e,t,n){const i=this._renderer,a=this._pingPongRenderTarget,s=this._ggxMaterial,o=this._lodMeshes[n];o.material=s;const l=s.uniforms,c=n/(this._lodMeshes.length-1),u=t/(this._lodMeshes.length-1),f=Math.sqrt(c*c-u*u),d=.05+c*.95,h=f*d,{_lodMax:p}=this,v=this._sizeLods[n],x=3*v*(n>p-Wx?n-p+Wx:0),g=4*(this._cubeSize-v);l.envMap.value=e.texture,l.roughness.value=h,l.mipInt.value=p-t,iw(a,x,g,3*v,2*v),i.setRenderTarget(a),i.render(o,Y5),l.envMap.value=a.texture,l.roughness.value=0,l.mipInt.value=p-n,iw(e,x,g,3*v,2*v),i.setRenderTarget(e),i.render(o,Y5)}_blur(e,t,n,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,i,"latitudinal",a),this._halfBlur(s,e,n,n,i,"longitudinal",a)}_halfBlur(e,t,n,i,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&jn("blur direction must be either latitudinal or longitudinal!");const u=3,f=this._lodMeshes[i];f.material=c;const d=c.uniforms,h=this._sizeLods[n]-1,p=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*h2-1),v=a/p,x=isFinite(a)?1+Math.floor(u*v):h2;x>h2&&Mr(`sigmaRadians, ${a}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${h2}`);const g=[];let _=0;for(let N=0;N<h2;++N){const L=N/v,D=Math.exp(-L*L/2);g.push(D),N===0?_+=D:N<x&&(_+=2*D)}for(let N=0;N<g.length;N++)g[N]=g[N]/_;d.envMap.value=e.texture,d.samples.value=x,d.weights.value=g,d.latitudinal.value=s==="latitudinal",o&&(d.poleAxis.value=o);const{_lodMax:w}=this;d.dTheta.value=p,d.mipInt.value=w-n;const A=this._sizeLods[i],M=3*A*(i>w-Wx?i-w+Wx:0),C=4*(this._cubeSize-A);iw(t,M,C,3*A,2*A),l.setRenderTarget(t),l.render(f,Y5)}}function Wft(r){const e=[],t=[],n=[];let i=r;const a=r-Wx+1+Cae.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);e.push(o);let l=1/o;s>r-Wx?l=Cae[s-r+Wx-1]:s===0&&(l=0),t.push(l);const c=1/(o-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],h=6,p=6,v=3,x=2,g=1,_=new Float32Array(v*p*h),w=new Float32Array(x*p*h),A=new Float32Array(g*p*h);for(let C=0;C<h;C++){const N=C%3*2/3-1,L=C>2?0:-1,D=[N,L,0,N+2/3,L,0,N+2/3,L+1,0,N,L,0,N+2/3,L+1,0,N,L+1,0];_.set(D,v*p*C),w.set(d,x*p*C);const k=[C,C,C,C,C,C];A.set(k,g*p*C)}const M=new ii;M.setAttribute("position",new Ka(_,v)),M.setAttribute("uv",new Ka(w,x)),M.setAttribute("faceIndex",new Ka(A,g)),n.push(new El(M,null)),i>Wx&&i--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function Dae(r,e,t){const n=new Sv(r,e,t);return n.texture.mapping=cT,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function iw(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function Yft(r,e,t){return new Uh({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Hft,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:o6(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:uv,depthTest:!1,depthWrite:!1})}function qft(r,e,t){const n=new Float32Array(h2),i=new Ye(0,1,0);return new Uh({name:"SphericalGaussianBlur",defines:{n:h2,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:o6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:uv,depthTest:!1,depthWrite:!1})}function Lae(){return new Uh({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:o6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:uv,depthTest:!1,depthWrite:!1})}function Rae(){return new Uh({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:o6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:uv,depthTest:!1,depthWrite:!1})}function o6(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Xft(r){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){const l=o.mapping,c=l===oE||l===lE,u=l===hg||l===py;if(c||u){let f=e.get(o);const d=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==d)return t===null&&(t=new Wj(r)),f=c?t.fromEquirectangular(o,f):t.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const h=o.image;return c&&h&&h.height>0||u&&h&&i(h)?(t===null&&(t=new Wj(r)),f=c?t.fromEquirectangular(o):t.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",a),f.texture):null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:s}}function Zft(r){const e={};function t(n){if(e[n]!==void 0)return e[n];const i=r.getExtension(n);return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const i=t(n);return i===null&&wS("WebGLRenderer: "+n+" extension not supported."),i}}}function Kft(r,e,t,n){const i={},a=new WeakMap;function s(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const p in d.attributes)e.remove(d.attributes[p]);d.removeEventListener("dispose",s),delete i[d.id];const h=a.get(d);h&&(e.remove(h),a.delete(d)),n.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function o(f,d){return i[d.id]===!0||(d.addEventListener("dispose",s),i[d.id]=!0,t.memory.geometries++),d}function l(f){const d=f.attributes;for(const h in d)e.update(d[h],r.ARRAY_BUFFER)}function c(f){const d=[],h=f.index,p=f.attributes.position;let v=0;if(h!==null){const _=h.array;v=h.version;for(let w=0,A=_.length;w<A;w+=3){const M=_[w+0],C=_[w+1],N=_[w+2];d.push(M,C,C,N,N,M)}}else if(p!==void 0){const _=p.array;v=p.version;for(let w=0,A=_.length/3-1;w<A;w+=3){const M=w+0,C=w+1,N=w+2;d.push(M,C,C,N,N,M)}}else return;const x=new(Zxe(d)?yG:xG)(d,1);x.version=v;const g=a.get(f);g&&e.remove(g),a.set(f,x)}function u(f){const d=a.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&c(f)}else c(f);return a.get(f)}return{get:o,update:l,getWireframeAttribute:u}}function $ft(r,e,t){let n;function i(d){n=d}let a,s;function o(d){a=d.type,s=d.bytesPerElement}function l(d,h){r.drawElements(n,h,a,d*s),t.update(h,n,1)}function c(d,h,p){p!==0&&(r.drawElementsInstanced(n,h,a,d*s,p),t.update(h,n,p))}function u(d,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,h,0,a,d,0,p);let x=0;for(let g=0;g<p;g++)x+=h[g];t.update(x,n,1)}function f(d,h,p,v){if(p===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let g=0;g<d.length;g++)c(d[g]/s,h[g],v[g]);else{x.multiDrawElementsInstancedWEBGL(n,h,0,a,d,0,v,0,p);let g=0;for(let _=0;_<p;_++)g+=h[_]*v[_];t.update(g,n,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function Jft(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,s,o){switch(t.calls++,s){case r.TRIANGLES:t.triangles+=o*(a/3);break;case r.LINES:t.lines+=o*(a/2);break;case r.LINE_STRIP:t.lines+=o*(a-1);break;case r.LINE_LOOP:t.lines+=o*a;break;case r.POINTS:t.points+=o*a;break;default:jn("WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function Qft(r,e,t){const n=new WeakMap,i=new sa;function a(s,o,l){const c=s.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=u!==void 0?u.length:0;let d=n.get(o);if(d===void 0||d.count!==f){let D=function(){N.dispose(),n.delete(o),o.removeEventListener("dispose",D)};d!==void 0&&d.texture.dispose();const h=o.morphAttributes.position!==void 0,p=o.morphAttributes.normal!==void 0,v=o.morphAttributes.color!==void 0,x=o.morphAttributes.position||[],g=o.morphAttributes.normal||[],_=o.morphAttributes.color||[];let w=0;h===!0&&(w=1),p===!0&&(w=2),v===!0&&(w=3);let A=o.attributes.position.count*w,M=1;A>e.maxTextureSize&&(M=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const C=new Float32Array(A*M*4*f),N=new BI(C,A,M,f);N.type=Uf,N.needsUpdate=!0;const L=w*4;for(let k=0;k<f;k++){const O=x[k],I=g[k],j=_[k],B=A*M*4*k;for(let K=0;K<O.count;K++){const H=K*L;h===!0&&(i.fromBufferAttribute(O,K),C[B+H+0]=i.x,C[B+H+1]=i.y,C[B+H+2]=i.z,C[B+H+3]=0),p===!0&&(i.fromBufferAttribute(I,K),C[B+H+4]=i.x,C[B+H+5]=i.y,C[B+H+6]=i.z,C[B+H+7]=0),v===!0&&(i.fromBufferAttribute(j,K),C[B+H+8]=i.x,C[B+H+9]=i.y,C[B+H+10]=i.z,C[B+H+11]=j.itemSize===4?i.w:1)}}d={count:f,texture:N,size:new er(A,M)},n.set(o,d),o.addEventListener("dispose",D)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(r,"morphTexture",s.morphTexture,t);else{let h=0;for(let v=0;v<c.length;v++)h+=c[v];const p=o.morphTargetsRelative?1:1-h;l.getUniforms().setValue(r,"morphTargetBaseInfluence",p),l.getUniforms().setValue(r,"morphTargetInfluences",c)}l.getUniforms().setValue(r,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(r,"morphTargetsTextureSize",d.size)}return{update:a}}function eht(r,e,t,n){let i=new WeakMap;function a(l){const c=n.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(t.update(l.instanceMatrix,r.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,r.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return f}function s(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:s}}const t1e=new go,kae=new TG(1,1),r1e=new BI,n1e=new zI,i1e=new xM,Iae=[],Oae=[],Pae=new Float32Array(16),Fae=new Float32Array(9),Bae=new Float32Array(4);function hT(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let a=Iae[i];if(a===void 0&&(a=new Float32Array(i),Iae[i]=a),e!==0){n.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,r[s].toArray(a,o)}return a}function Ml(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function Cl(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function l6(r,e){let t=Oae[e];t===void 0&&(t=new Int32Array(e),Oae[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function tht(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function rht(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ml(t,e))return;r.uniform2fv(this.addr,e),Cl(t,e)}}function nht(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ml(t,e))return;r.uniform3fv(this.addr,e),Cl(t,e)}}function iht(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ml(t,e))return;r.uniform4fv(this.addr,e),Cl(t,e)}}function aht(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ml(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),Cl(t,e)}else{if(Ml(t,n))return;Bae.set(n),r.uniformMatrix2fv(this.addr,!1,Bae),Cl(t,n)}}function sht(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ml(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),Cl(t,e)}else{if(Ml(t,n))return;Fae.set(n),r.uniformMatrix3fv(this.addr,!1,Fae),Cl(t,n)}}function oht(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ml(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),Cl(t,e)}else{if(Ml(t,n))return;Pae.set(n),r.uniformMatrix4fv(this.addr,!1,Pae),Cl(t,n)}}function lht(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function cht(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ml(t,e))return;r.uniform2iv(this.addr,e),Cl(t,e)}}function uht(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ml(t,e))return;r.uniform3iv(this.addr,e),Cl(t,e)}}function fht(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ml(t,e))return;r.uniform4iv(this.addr,e),Cl(t,e)}}function hht(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function dht(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ml(t,e))return;r.uniform2uiv(this.addr,e),Cl(t,e)}}function pht(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ml(t,e))return;r.uniform3uiv(this.addr,e),Cl(t,e)}}function vht(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ml(t,e))return;r.uniform4uiv(this.addr,e),Cl(t,e)}}function mht(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i);let a;this.type===r.SAMPLER_2D_SHADOW?(kae.compareFunction=vG,a=kae):a=t1e,t.setTexture2D(e||a,i)}function ght(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||n1e,i)}function xht(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||i1e,i)}function yht(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||r1e,i)}function bht(r){switch(r){case 5126:return tht;case 35664:return rht;case 35665:return nht;case 35666:return iht;case 35674:return aht;case 35675:return sht;case 35676:return oht;case 5124:case 35670:return lht;case 35667:case 35671:return cht;case 35668:case 35672:return uht;case 35669:case 35673:return fht;case 5125:return hht;case 36294:return dht;case 36295:return pht;case 36296:return vht;case 35678:case 36198:case 36298:case 36306:case 35682:return mht;case 35679:case 36299:case 36307:return ght;case 35680:case 36300:case 36308:case 36293:return xht;case 36289:case 36303:case 36311:case 36292:return yht}}function _ht(r,e){r.uniform1fv(this.addr,e)}function wht(r,e){const t=hT(e,this.size,2);r.uniform2fv(this.addr,t)}function Sht(r,e){const t=hT(e,this.size,3);r.uniform3fv(this.addr,t)}function Tht(r,e){const t=hT(e,this.size,4);r.uniform4fv(this.addr,t)}function Aht(r,e){const t=hT(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function Eht(r,e){const t=hT(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function Mht(r,e){const t=hT(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function Cht(r,e){r.uniform1iv(this.addr,e)}function Nht(r,e){r.uniform2iv(this.addr,e)}function Dht(r,e){r.uniform3iv(this.addr,e)}function Lht(r,e){r.uniform4iv(this.addr,e)}function Rht(r,e){r.uniform1uiv(this.addr,e)}function kht(r,e){r.uniform2uiv(this.addr,e)}function Iht(r,e){r.uniform3uiv(this.addr,e)}function Oht(r,e){r.uniform4uiv(this.addr,e)}function Pht(r,e,t){const n=this.cache,i=e.length,a=l6(t,i);Ml(n,a)||(r.uniform1iv(this.addr,a),Cl(n,a));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||t1e,a[s])}function Fht(r,e,t){const n=this.cache,i=e.length,a=l6(t,i);Ml(n,a)||(r.uniform1iv(this.addr,a),Cl(n,a));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||n1e,a[s])}function Bht(r,e,t){const n=this.cache,i=e.length,a=l6(t,i);Ml(n,a)||(r.uniform1iv(this.addr,a),Cl(n,a));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||i1e,a[s])}function zht(r,e,t){const n=this.cache,i=e.length,a=l6(t,i);Ml(n,a)||(r.uniform1iv(this.addr,a),Cl(n,a));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||r1e,a[s])}function jht(r){switch(r){case 5126:return _ht;case 35664:return wht;case 35665:return Sht;case 35666:return Tht;case 35674:return Aht;case 35675:return Eht;case 35676:return Mht;case 5124:case 35670:return Cht;case 35667:case 35671:return Nht;case 35668:case 35672:return Dht;case 35669:case 35673:return Lht;case 5125:return Rht;case 36294:return kht;case 36295:return Iht;case 36296:return Oht;case 35678:case 36198:case 36298:case 36306:case 35682:return Pht;case 35679:case 36299:case 36307:return Fht;case 35680:case 36300:case 36308:case 36293:return Bht;case 36289:case 36303:case 36311:case 36292:return zht}}class Uht{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=bht(t.type)}}class Vht{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=jht(t.type)}}class Hht{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],n)}}}const aB=/(\w+)(\])?(\[|\.)?/g;function zae(r,e){r.seq.push(e),r.map[e.id]=e}function Ght(r,e,t){const n=r.name,i=n.length;for(aB.lastIndex=0;;){const a=aB.exec(n),s=aB.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===i){zae(t,c===void 0?new Uht(o,r,e):new Vht(o,r,e));break}else{let f=t.map[o];f===void 0&&(f=new Hht(o),zae(t,f)),t=f}}}class LD{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);Ght(a,s,this)}}setValue(e,t,n,i){const a=this.map[t];a!==void 0&&a.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=n[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&n.push(s)}return n}}function jae(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}const Wht=37297;let Yht=0;function qht(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;n.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return n.join(`
`)}const Uae=new ni;function Xht(r){qi._getMatrix(Uae,qi.workingColorSpace,r);const e=`mat3( ${Uae.elements.map(t=>t.toFixed(4))} )`;switch(qi.getTransfer(r)){case dE:return[e,"LinearTransferOETF"];case Fa:return[e,"sRGBTransferOETF"];default:return Mr("WebGLProgram: Unsupported color space: ",r),[e,"LinearTransferOETF"]}}function Vae(r,e,t){const n=r.getShaderParameter(e,r.COMPILE_STATUS),a=(r.getShaderInfoLog(e)||"").trim();if(n&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+a+`

`+qht(r.getShaderSource(e),o)}else return a}function Zht(r,e){const t=Xht(e);return[`vec4 ${r}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Kht(r,e){let t;switch(e){case Nxe:t="Linear";break;case Dxe:t="Reinhard";break;case Lxe:t="Cineon";break;case sG:t="ACESFilmic";break;case kxe:t="AgX";break;case Ixe:t="Neutral";break;case Rxe:t="Custom";break;default:Mr("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const U4=new Ye;function $ht(){qi.getLuminanceCoefficients(U4);const r=U4.x.toFixed(4),e=U4.y.toFixed(4),t=U4.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${r}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Jht(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(vA).join(`
`)}function Qht(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function edt(r,e){const t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const a=r.getActiveAttrib(e,i),s=a.name;let o=1;a.type===r.FLOAT_MAT2&&(o=2),a.type===r.FLOAT_MAT3&&(o=3),a.type===r.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:r.getAttribLocation(e,s),locationSize:o}}return t}function vA(r){return r!==""}function Hae(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Gae(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const tdt=/^[ \t]*#include +<([\w\d./]+)>/gm;function Yj(r){return r.replace(tdt,ndt)}const rdt=new Map;function ndt(r,e){let t=ci[e];if(t===void 0){const n=rdt.get(e);if(n!==void 0)t=ci[n],Mr('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return Yj(t)}const idt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Wae(r){return r.replace(idt,adt)}function adt(r,e,t,n){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Yae(r){let e=`precision ${r.precision} float;
	precision ${r.precision} int;
	precision ${r.precision} sampler2D;
	precision ${r.precision} samplerCube;
	precision ${r.precision} sampler3D;
	precision ${r.precision} sampler2DArray;
	precision ${r.precision} sampler2DShadow;
	precision ${r.precision} samplerCubeShadow;
	precision ${r.precision} sampler2DArrayShadow;
	precision ${r.precision} isampler2D;
	precision ${r.precision} isampler3D;
	precision ${r.precision} isamplerCube;
	precision ${r.precision} isampler2DArray;
	precision ${r.precision} usampler2D;
	precision ${r.precision} usampler3D;
	precision ${r.precision} usamplerCube;
	precision ${r.precision} usampler2DArray;
	`;return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function sdt(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===CI?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===ZA?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===kp&&(e="SHADOWMAP_TYPE_VSM"),e}function odt(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case hg:case py:e="ENVMAP_TYPE_CUBE";break;case cT:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ldt(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case py:e="ENVMAP_MODE_REFRACTION";break}return e}function cdt(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case mM:e="ENVMAP_BLENDING_MULTIPLY";break;case Mxe:e="ENVMAP_BLENDING_MIX";break;case Cxe:e="ENVMAP_BLENDING_ADD";break}return e}function udt(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function fdt(r,e,t,n){const i=r.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=sdt(t),c=odt(t),u=ldt(t),f=cdt(t),d=udt(t),h=Jht(t),p=Qht(a),v=i.createProgram();let x,g,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(vA).join(`
`),x.length>0&&(x+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(vA).join(`
`),g.length>0&&(g+=`
`)):(x=[Yae(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(vA).join(`
`),g=[Yae(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==fv?"#define TONE_MAPPING":"",t.toneMapping!==fv?ci.tonemapping_pars_fragment:"",t.toneMapping!==fv?Kht("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ci.colorspace_pars_fragment,Zht("linearToOutputTexel",t.outputColorSpace),$ht(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(vA).join(`
`)),s=Yj(s),s=Hae(s,t),s=Gae(s,t),o=Yj(o),o=Hae(o,t),o=Gae(o,t),s=Wae(s),o=Wae(o),t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",t.glslVersion===Fj?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Fj?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const w=_+x+s,A=_+g+o,M=jae(i,i.VERTEX_SHADER,w),C=jae(i,i.FRAGMENT_SHADER,A);i.attachShader(v,M),i.attachShader(v,C),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function N(O){if(r.debug.checkShaderErrors){const I=i.getProgramInfoLog(v)||"",j=i.getShaderInfoLog(M)||"",B=i.getShaderInfoLog(C)||"",K=I.trim(),H=j.trim(),Z=B.trim();let Y=!0,J=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(Y=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(i,v,M,C);else{const oe=Vae(i,M,"vertex"),X=Vae(i,C,"fragment");jn("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+K+`
`+oe+`
`+X)}else K!==""?Mr("WebGLProgram: Program Info Log:",K):(H===""||Z==="")&&(J=!1);J&&(O.diagnostics={runnable:Y,programLog:K,vertexShader:{log:H,prefix:x},fragmentShader:{log:Z,prefix:g}})}i.deleteShader(M),i.deleteShader(C),L=new LD(i,v),D=edt(i,v)}let L;this.getUniforms=function(){return L===void 0&&N(this),L};let D;this.getAttributes=function(){return D===void 0&&N(this),D};let k=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=i.getProgramParameter(v,Wht)),k},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Yht++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=M,this.fragmentShader=C,this}let hdt=0;class ddt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new pdt(e),t.set(e,n)),n}}class pdt{constructor(e){this.id=hdt++,this.code=e,this.usedTimes=0}}function vdt(r,e,t,n,i,a,s){const o=new TS,l=new ddt,c=new Set,u=[],f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(D){return c.add(D),D===0?"uv":`uv${D}`}function x(D,k,O,I,j){const B=I.fog,K=j.geometry,H=D.isMeshStandardMaterial?I.environment:null,Z=(D.isMeshStandardMaterial?t:e).get(D.envMap||H),Y=Z&&Z.mapping===cT?Z.image.height:null,J=p[D.type];D.precision!==null&&(h=i.getMaxPrecision(D.precision),h!==D.precision&&Mr("WebGLProgram.getParameters:",D.precision,"not supported, using",h,"instead."));const oe=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,X=oe!==void 0?oe.length:0;let F=0;K.morphAttributes.position!==void 0&&(F=1),K.morphAttributes.normal!==void 0&&(F=2),K.morphAttributes.color!==void 0&&(F=3);let W,Q,re,ae;if(J){const Hr=Ip[J];W=Hr.vertexShader,Q=Hr.fragmentShader}else W=D.vertexShader,Q=D.fragmentShader,l.update(D),re=l.getVertexShaderID(D),ae=l.getFragmentShaderID(D);const ce=r.getRenderTarget(),ye=r.state.buffers.depth.getReversed(),fe=j.isInstancedMesh===!0,be=j.isBatchedMesh===!0,Oe=!!D.map,xe=!!D.matcap,Qe=!!Z,ne=!!D.aoMap,te=!!D.lightMap,Me=!!D.bumpMap,ge=!!D.normalMap,de=!!D.displacementMap,_e=!!D.emissiveMap,je=!!D.metalnessMap,Be=!!D.roughnessMap,Fe=D.anisotropy>0,we=D.clearcoat>0,pe=D.dispersion>0,ze=D.iridescence>0,$e=D.sheen>0,ht=D.transmission>0,Je=Fe&&!!D.anisotropyMap,Ot=we&&!!D.clearcoatMap,bt=we&&!!D.clearcoatNormalMap,Nt=we&&!!D.clearcoatRoughnessMap,ir=ze&&!!D.iridescenceMap,ft=ze&&!!D.iridescenceThicknessMap,Dt=$e&&!!D.sheenColorMap,tr=$e&&!!D.sheenRoughnessMap,Ze=!!D.specularMap,it=!!D.specularColorMap,Wt=!!D.specularIntensityMap,Ue=ht&&!!D.transmissionMap,Ft=ht&&!!D.thicknessMap,qt=!!D.gradientMap,Lt=!!D.alphaMap,vt=D.alphaTest>0,Et=!!D.alphaHash,dr=!!D.extensions;let vr=fv;D.toneMapped&&(ce===null||ce.isXRRenderTarget===!0)&&(vr=r.toneMapping);const Yr={shaderID:J,shaderType:D.type,shaderName:D.name,vertexShader:W,fragmentShader:Q,defines:D.defines,customVertexShaderID:re,customFragmentShaderID:ae,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:h,batching:be,batchingColor:be&&j._colorsTexture!==null,instancing:fe,instancingColor:fe&&j.instanceColor!==null,instancingMorph:fe&&j.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:ce===null?r.outputColorSpace:ce.isXRRenderTarget===!0?ce.texture.colorSpace:vy,alphaToCoverage:!!D.alphaToCoverage,map:Oe,matcap:xe,envMap:Qe,envMapMode:Qe&&Z.mapping,envMapCubeUVHeight:Y,aoMap:ne,lightMap:te,bumpMap:Me,normalMap:ge,displacementMap:d&&de,emissiveMap:_e,normalMapObjectSpace:ge&&D.normalMapType===Uxe,normalMapTangentSpace:ge&&D.normalMapType===Ny,metalnessMap:je,roughnessMap:Be,anisotropy:Fe,anisotropyMap:Je,clearcoat:we,clearcoatMap:Ot,clearcoatNormalMap:bt,clearcoatRoughnessMap:Nt,dispersion:pe,iridescence:ze,iridescenceMap:ir,iridescenceThicknessMap:ft,sheen:$e,sheenColorMap:Dt,sheenRoughnessMap:tr,specularMap:Ze,specularColorMap:it,specularIntensityMap:Wt,transmission:ht,transmissionMap:Ue,thicknessMap:Ft,gradientMap:qt,opaque:D.transparent===!1&&D.blending===B2&&D.alphaToCoverage===!1,alphaMap:Lt,alphaTest:vt,alphaHash:Et,combine:D.combine,mapUv:Oe&&v(D.map.channel),aoMapUv:ne&&v(D.aoMap.channel),lightMapUv:te&&v(D.lightMap.channel),bumpMapUv:Me&&v(D.bumpMap.channel),normalMapUv:ge&&v(D.normalMap.channel),displacementMapUv:de&&v(D.displacementMap.channel),emissiveMapUv:_e&&v(D.emissiveMap.channel),metalnessMapUv:je&&v(D.metalnessMap.channel),roughnessMapUv:Be&&v(D.roughnessMap.channel),anisotropyMapUv:Je&&v(D.anisotropyMap.channel),clearcoatMapUv:Ot&&v(D.clearcoatMap.channel),clearcoatNormalMapUv:bt&&v(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Nt&&v(D.clearcoatRoughnessMap.channel),iridescenceMapUv:ir&&v(D.iridescenceMap.channel),iridescenceThicknessMapUv:ft&&v(D.iridescenceThicknessMap.channel),sheenColorMapUv:Dt&&v(D.sheenColorMap.channel),sheenRoughnessMapUv:tr&&v(D.sheenRoughnessMap.channel),specularMapUv:Ze&&v(D.specularMap.channel),specularColorMapUv:it&&v(D.specularColorMap.channel),specularIntensityMapUv:Wt&&v(D.specularIntensityMap.channel),transmissionMapUv:Ue&&v(D.transmissionMap.channel),thicknessMapUv:Ft&&v(D.thicknessMap.channel),alphaMapUv:Lt&&v(D.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(ge||Fe),vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!K.attributes.uv&&(Oe||Lt),fog:!!B,useFog:D.fog===!0,fogExp2:!!B&&B.isFogExp2,flatShading:D.flatShading===!0&&D.wireframe===!1,sizeAttenuation:D.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:ye,skinning:j.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:F,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:D.dithering,shadowMapEnabled:r.shadowMap.enabled&&O.length>0,shadowMapType:r.shadowMap.type,toneMapping:vr,decodeVideoTexture:Oe&&D.map.isVideoTexture===!0&&qi.getTransfer(D.map.colorSpace)===Fa,decodeVideoTextureEmissive:_e&&D.emissiveMap.isVideoTexture===!0&&qi.getTransfer(D.emissiveMap.colorSpace)===Fa,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===K0,flipSided:D.side===Ku,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionClipCullDistance:dr&&D.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(dr&&D.extensions.multiDraw===!0||be)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:D.customProgramCacheKey()};return Yr.vertexUv1s=c.has(1),Yr.vertexUv2s=c.has(2),Yr.vertexUv3s=c.has(3),c.clear(),Yr}function g(D){const k=[];if(D.shaderID?k.push(D.shaderID):(k.push(D.customVertexShaderID),k.push(D.customFragmentShaderID)),D.defines!==void 0)for(const O in D.defines)k.push(O),k.push(D.defines[O]);return D.isRawShaderMaterial===!1&&(_(k,D),w(k,D),k.push(r.outputColorSpace)),k.push(D.customProgramCacheKey),k.join()}function _(D,k){D.push(k.precision),D.push(k.outputColorSpace),D.push(k.envMapMode),D.push(k.envMapCubeUVHeight),D.push(k.mapUv),D.push(k.alphaMapUv),D.push(k.lightMapUv),D.push(k.aoMapUv),D.push(k.bumpMapUv),D.push(k.normalMapUv),D.push(k.displacementMapUv),D.push(k.emissiveMapUv),D.push(k.metalnessMapUv),D.push(k.roughnessMapUv),D.push(k.anisotropyMapUv),D.push(k.clearcoatMapUv),D.push(k.clearcoatNormalMapUv),D.push(k.clearcoatRoughnessMapUv),D.push(k.iridescenceMapUv),D.push(k.iridescenceThicknessMapUv),D.push(k.sheenColorMapUv),D.push(k.sheenRoughnessMapUv),D.push(k.specularMapUv),D.push(k.specularColorMapUv),D.push(k.specularIntensityMapUv),D.push(k.transmissionMapUv),D.push(k.thicknessMapUv),D.push(k.combine),D.push(k.fogExp2),D.push(k.sizeAttenuation),D.push(k.morphTargetsCount),D.push(k.morphAttributeCount),D.push(k.numDirLights),D.push(k.numPointLights),D.push(k.numSpotLights),D.push(k.numSpotLightMaps),D.push(k.numHemiLights),D.push(k.numRectAreaLights),D.push(k.numDirLightShadows),D.push(k.numPointLightShadows),D.push(k.numSpotLightShadows),D.push(k.numSpotLightShadowsWithMaps),D.push(k.numLightProbes),D.push(k.shadowMapType),D.push(k.toneMapping),D.push(k.numClippingPlanes),D.push(k.numClipIntersection),D.push(k.depthPacking)}function w(D,k){o.disableAll(),k.supportsVertexTextures&&o.enable(0),k.instancing&&o.enable(1),k.instancingColor&&o.enable(2),k.instancingMorph&&o.enable(3),k.matcap&&o.enable(4),k.envMap&&o.enable(5),k.normalMapObjectSpace&&o.enable(6),k.normalMapTangentSpace&&o.enable(7),k.clearcoat&&o.enable(8),k.iridescence&&o.enable(9),k.alphaTest&&o.enable(10),k.vertexColors&&o.enable(11),k.vertexAlphas&&o.enable(12),k.vertexUv1s&&o.enable(13),k.vertexUv2s&&o.enable(14),k.vertexUv3s&&o.enable(15),k.vertexTangents&&o.enable(16),k.anisotropy&&o.enable(17),k.alphaHash&&o.enable(18),k.batching&&o.enable(19),k.dispersion&&o.enable(20),k.batchingColor&&o.enable(21),k.gradientMap&&o.enable(22),D.push(o.mask),o.disableAll(),k.fog&&o.enable(0),k.useFog&&o.enable(1),k.flatShading&&o.enable(2),k.logarithmicDepthBuffer&&o.enable(3),k.reversedDepthBuffer&&o.enable(4),k.skinning&&o.enable(5),k.morphTargets&&o.enable(6),k.morphNormals&&o.enable(7),k.morphColors&&o.enable(8),k.premultipliedAlpha&&o.enable(9),k.shadowMapEnabled&&o.enable(10),k.doubleSided&&o.enable(11),k.flipSided&&o.enable(12),k.useDepthPacking&&o.enable(13),k.dithering&&o.enable(14),k.transmission&&o.enable(15),k.sheen&&o.enable(16),k.opaque&&o.enable(17),k.pointsUvs&&o.enable(18),k.decodeVideoTexture&&o.enable(19),k.decodeVideoTextureEmissive&&o.enable(20),k.alphaToCoverage&&o.enable(21),D.push(o.mask)}function A(D){const k=p[D.type];let O;if(k){const I=Ip[k];O=eye.clone(I.uniforms)}else O=D.uniforms;return O}function M(D,k){let O;for(let I=0,j=u.length;I<j;I++){const B=u[I];if(B.cacheKey===k){O=B,++O.usedTimes;break}}return O===void 0&&(O=new fdt(r,k,D,a),u.push(O)),O}function C(D){if(--D.usedTimes===0){const k=u.indexOf(D);u[k]=u[u.length-1],u.pop(),D.destroy()}}function N(D){l.remove(D)}function L(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:A,acquireProgram:M,releaseProgram:C,releaseShaderCache:N,programs:u,dispose:L}}function mdt(){let r=new WeakMap;function e(s){return r.has(s)}function t(s){let o=r.get(s);return o===void 0&&(o={},r.set(s,o)),o}function n(s){r.delete(s)}function i(s,o,l){r.get(s)[o]=l}function a(){r=new WeakMap}return{has:e,get:t,remove:n,update:i,dispose:a}}function gdt(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function qae(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function Xae(){const r=[];let e=0;const t=[],n=[],i=[];function a(){e=0,t.length=0,n.length=0,i.length=0}function s(f,d,h,p,v,x){let g=r[e];return g===void 0?(g={id:f.id,object:f,geometry:d,material:h,groupOrder:p,renderOrder:f.renderOrder,z:v,group:x},r[e]=g):(g.id=f.id,g.object=f,g.geometry=d,g.material=h,g.groupOrder=p,g.renderOrder=f.renderOrder,g.z=v,g.group=x),e++,g}function o(f,d,h,p,v,x){const g=s(f,d,h,p,v,x);h.transmission>0?n.push(g):h.transparent===!0?i.push(g):t.push(g)}function l(f,d,h,p,v,x){const g=s(f,d,h,p,v,x);h.transmission>0?n.unshift(g):h.transparent===!0?i.unshift(g):t.unshift(g)}function c(f,d){t.length>1&&t.sort(f||gdt),n.length>1&&n.sort(d||qae),i.length>1&&i.sort(d||qae)}function u(){for(let f=e,d=r.length;f<d;f++){const h=r[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:n,transparent:i,init:a,push:o,unshift:l,finish:u,sort:c}}function xdt(){let r=new WeakMap;function e(n,i){const a=r.get(n);let s;return a===void 0?(s=new Xae,r.set(n,[s])):i>=a.length?(s=new Xae,a.push(s)):s=a[i],s}function t(){r=new WeakMap}return{get:e,dispose:t}}function ydt(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ye,color:new Lr};break;case"SpotLight":t={position:new Ye,direction:new Ye,color:new Lr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ye,color:new Lr,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ye,skyColor:new Lr,groundColor:new Lr};break;case"RectAreaLight":t={color:new Lr,position:new Ye,halfWidth:new Ye,halfHeight:new Ye};break}return r[e.id]=t,t}}}function bdt(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new er};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new er};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new er,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let _dt=0;function wdt(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function Sdt(r){const e=new ydt,t=bdt(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new Ye);const i=new Ye,a=new Pn,s=new Pn;function o(c){let u=0,f=0,d=0;for(let D=0;D<9;D++)n.probe[D].set(0,0,0);let h=0,p=0,v=0,x=0,g=0,_=0,w=0,A=0,M=0,C=0,N=0;c.sort(wdt);for(let D=0,k=c.length;D<k;D++){const O=c[D],I=O.color,j=O.intensity,B=O.distance,K=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)u+=I.r*j,f+=I.g*j,d+=I.b*j;else if(O.isLightProbe){for(let H=0;H<9;H++)n.probe[H].addScaledVector(O.sh.coefficients[H],j);N++}else if(O.isDirectionalLight){const H=e.get(O);if(H.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const Z=O.shadow,Y=t.get(O);Y.shadowIntensity=Z.intensity,Y.shadowBias=Z.bias,Y.shadowNormalBias=Z.normalBias,Y.shadowRadius=Z.radius,Y.shadowMapSize=Z.mapSize,n.directionalShadow[h]=Y,n.directionalShadowMap[h]=K,n.directionalShadowMatrix[h]=O.shadow.matrix,_++}n.directional[h]=H,h++}else if(O.isSpotLight){const H=e.get(O);H.position.setFromMatrixPosition(O.matrixWorld),H.color.copy(I).multiplyScalar(j),H.distance=B,H.coneCos=Math.cos(O.angle),H.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),H.decay=O.decay,n.spot[v]=H;const Z=O.shadow;if(O.map&&(n.spotLightMap[M]=O.map,M++,Z.updateMatrices(O),O.castShadow&&C++),n.spotLightMatrix[v]=Z.matrix,O.castShadow){const Y=t.get(O);Y.shadowIntensity=Z.intensity,Y.shadowBias=Z.bias,Y.shadowNormalBias=Z.normalBias,Y.shadowRadius=Z.radius,Y.shadowMapSize=Z.mapSize,n.spotShadow[v]=Y,n.spotShadowMap[v]=K,A++}v++}else if(O.isRectAreaLight){const H=e.get(O);H.color.copy(I).multiplyScalar(j),H.halfWidth.set(O.width*.5,0,0),H.halfHeight.set(0,O.height*.5,0),n.rectArea[x]=H,x++}else if(O.isPointLight){const H=e.get(O);if(H.color.copy(O.color).multiplyScalar(O.intensity),H.distance=O.distance,H.decay=O.decay,O.castShadow){const Z=O.shadow,Y=t.get(O);Y.shadowIntensity=Z.intensity,Y.shadowBias=Z.bias,Y.shadowNormalBias=Z.normalBias,Y.shadowRadius=Z.radius,Y.shadowMapSize=Z.mapSize,Y.shadowCameraNear=Z.camera.near,Y.shadowCameraFar=Z.camera.far,n.pointShadow[p]=Y,n.pointShadowMap[p]=K,n.pointShadowMatrix[p]=O.shadow.matrix,w++}n.point[p]=H,p++}else if(O.isHemisphereLight){const H=e.get(O);H.skyColor.copy(O.color).multiplyScalar(j),H.groundColor.copy(O.groundColor).multiplyScalar(j),n.hemi[g]=H,g++}}x>0&&(r.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Er.LTC_FLOAT_1,n.rectAreaLTC2=Er.LTC_FLOAT_2):(n.rectAreaLTC1=Er.LTC_HALF_1,n.rectAreaLTC2=Er.LTC_HALF_2)),n.ambient[0]=u,n.ambient[1]=f,n.ambient[2]=d;const L=n.hash;(L.directionalLength!==h||L.pointLength!==p||L.spotLength!==v||L.rectAreaLength!==x||L.hemiLength!==g||L.numDirectionalShadows!==_||L.numPointShadows!==w||L.numSpotShadows!==A||L.numSpotMaps!==M||L.numLightProbes!==N)&&(n.directional.length=h,n.spot.length=v,n.rectArea.length=x,n.point.length=p,n.hemi.length=g,n.directionalShadow.length=_,n.directionalShadowMap.length=_,n.pointShadow.length=w,n.pointShadowMap.length=w,n.spotShadow.length=A,n.spotShadowMap.length=A,n.directionalShadowMatrix.length=_,n.pointShadowMatrix.length=w,n.spotLightMatrix.length=A+M-C,n.spotLightMap.length=M,n.numSpotLightShadowsWithMaps=C,n.numLightProbes=N,L.directionalLength=h,L.pointLength=p,L.spotLength=v,L.rectAreaLength=x,L.hemiLength=g,L.numDirectionalShadows=_,L.numPointShadows=w,L.numSpotShadows=A,L.numSpotMaps=M,L.numLightProbes=N,n.version=_dt++)}function l(c,u){let f=0,d=0,h=0,p=0,v=0;const x=u.matrixWorldInverse;for(let g=0,_=c.length;g<_;g++){const w=c[g];if(w.isDirectionalLight){const A=n.directional[f];A.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(x),f++}else if(w.isSpotLight){const A=n.spot[h];A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(x),A.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(x),h++}else if(w.isRectAreaLight){const A=n.rectArea[p];A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(x),s.identity(),a.copy(w.matrixWorld),a.premultiply(x),s.extractRotation(a),A.halfWidth.set(w.width*.5,0,0),A.halfHeight.set(0,w.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),p++}else if(w.isPointLight){const A=n.point[d];A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(x),d++}else if(w.isHemisphereLight){const A=n.hemi[v];A.direction.setFromMatrixPosition(w.matrixWorld),A.direction.transformDirection(x),v++}}}return{setup:o,setupView:l,state:n}}function Zae(r){const e=new Sdt(r),t=[],n=[];function i(u){c.camera=u,t.length=0,n.length=0}function a(u){t.push(u)}function s(u){n.push(u)}function o(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function Tdt(r){let e=new WeakMap;function t(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new Zae(r),e.set(i,[o])):a>=s.length?(o=new Zae(r),s.push(o)):o=s[a],o}function n(){e=new WeakMap}return{get:t,dispose:n}}const Adt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Edt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Mdt(r,e,t){let n=new uT;const i=new er,a=new er,s=new sa,o=new kG({depthPacking:jxe}),l=new IG,c={},u=t.maxTextureSize,f={[fg]:Ku,[Ku]:fg,[K0]:K0},d=new Uh({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new er},radius:{value:4}},vertexShader:Adt,fragmentShader:Edt}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const p=new ii;p.setAttribute("position",new Ka(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new El(p,d),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=CI;let g=this.type;this.render=function(C,N,L){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||C.length===0)return;const D=r.getRenderTarget(),k=r.getActiveCubeFace(),O=r.getActiveMipmapLevel(),I=r.state;I.setBlending(uv),I.buffers.depth.getReversed()===!0?I.buffers.color.setClear(0,0,0,0):I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);const j=g!==kp&&this.type===kp,B=g===kp&&this.type!==kp;for(let K=0,H=C.length;K<H;K++){const Z=C[K],Y=Z.shadow;if(Y===void 0){Mr("WebGLShadowMap:",Z,"has no shadow.");continue}if(Y.autoUpdate===!1&&Y.needsUpdate===!1)continue;i.copy(Y.mapSize);const J=Y.getFrameExtents();if(i.multiply(J),a.copy(Y.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/J.x),i.x=a.x*J.x,Y.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/J.y),i.y=a.y*J.y,Y.mapSize.y=a.y)),Y.map===null||j===!0||B===!0){const X=this.type!==kp?{minFilter:yc,magFilter:yc}:{};Y.map!==null&&Y.map.dispose(),Y.map=new Sv(i.x,i.y,X),Y.map.texture.name=Z.name+".shadowMap",Y.camera.updateProjectionMatrix()}r.setRenderTarget(Y.map),r.clear();const oe=Y.getViewportCount();for(let X=0;X<oe;X++){const F=Y.getViewport(X);s.set(a.x*F.x,a.y*F.y,a.x*F.z,a.y*F.w),I.viewport(s),Y.updateMatrices(Z,X),n=Y.getFrustum(),A(N,L,Y.camera,Z,this.type)}Y.isPointLightShadow!==!0&&this.type===kp&&_(Y,L),Y.needsUpdate=!1}g=this.type,x.needsUpdate=!1,r.setRenderTarget(D,k,O)};function _(C,N){const L=e.update(v);d.defines.VSM_SAMPLES!==C.blurSamples&&(d.defines.VSM_SAMPLES=C.blurSamples,h.defines.VSM_SAMPLES=C.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Sv(i.x,i.y)),d.uniforms.shadow_pass.value=C.map.texture,d.uniforms.resolution.value=C.mapSize,d.uniforms.radius.value=C.radius,r.setRenderTarget(C.mapPass),r.clear(),r.renderBufferDirect(N,null,L,d,v,null),h.uniforms.shadow_pass.value=C.mapPass.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,r.setRenderTarget(C.map),r.clear(),r.renderBufferDirect(N,null,L,h,v,null)}function w(C,N,L,D){let k=null;const O=L.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(O!==void 0)k=O;else if(k=L.isPointLight===!0?l:o,r.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0||N.alphaToCoverage===!0){const I=k.uuid,j=N.uuid;let B=c[I];B===void 0&&(B={},c[I]=B);let K=B[j];K===void 0&&(K=k.clone(),B[j]=K,N.addEventListener("dispose",M)),k=K}if(k.visible=N.visible,k.wireframe=N.wireframe,D===kp?k.side=N.shadowSide!==null?N.shadowSide:N.side:k.side=N.shadowSide!==null?N.shadowSide:f[N.side],k.alphaMap=N.alphaMap,k.alphaTest=N.alphaToCoverage===!0?.5:N.alphaTest,k.map=N.map,k.clipShadows=N.clipShadows,k.clippingPlanes=N.clippingPlanes,k.clipIntersection=N.clipIntersection,k.displacementMap=N.displacementMap,k.displacementScale=N.displacementScale,k.displacementBias=N.displacementBias,k.wireframeLinewidth=N.wireframeLinewidth,k.linewidth=N.linewidth,L.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const I=r.properties.get(k);I.light=L}return k}function A(C,N,L,D,k){if(C.visible===!1)return;if(C.layers.test(N.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&k===kp)&&(!C.frustumCulled||n.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,C.matrixWorld);const j=e.update(C),B=C.material;if(Array.isArray(B)){const K=j.groups;for(let H=0,Z=K.length;H<Z;H++){const Y=K[H],J=B[Y.materialIndex];if(J&&J.visible){const oe=w(C,J,D,k);C.onBeforeShadow(r,C,N,L,j,oe,Y),r.renderBufferDirect(L,null,j,oe,C,Y),C.onAfterShadow(r,C,N,L,j,oe,Y)}}}else if(B.visible){const K=w(C,B,D,k);C.onBeforeShadow(r,C,N,L,j,K,null),r.renderBufferDirect(L,null,j,K,C,null),C.onAfterShadow(r,C,N,L,j,K,null)}}const I=C.children;for(let j=0,B=I.length;j<B;j++)A(I[j],N,L,D,k)}function M(C){C.target.removeEventListener("dispose",M);for(const L in c){const D=c[L],k=C.target.uuid;k in D&&(D[k].dispose(),delete D[k])}}}const Cdt={[CR]:NR,[DR]:kR,[LR]:IR,[sb]:RR,[NR]:CR,[kR]:DR,[IR]:LR,[RR]:sb};function Ndt(r,e){function t(){let Ue=!1;const Ft=new sa;let qt=null;const Lt=new sa(0,0,0,0);return{setMask:function(vt){qt!==vt&&!Ue&&(r.colorMask(vt,vt,vt,vt),qt=vt)},setLocked:function(vt){Ue=vt},setClear:function(vt,Et,dr,vr,Yr){Yr===!0&&(vt*=vr,Et*=vr,dr*=vr),Ft.set(vt,Et,dr,vr),Lt.equals(Ft)===!1&&(r.clearColor(vt,Et,dr,vr),Lt.copy(Ft))},reset:function(){Ue=!1,qt=null,Lt.set(-1,0,0,0)}}}function n(){let Ue=!1,Ft=!1,qt=null,Lt=null,vt=null;return{setReversed:function(Et){if(Ft!==Et){const dr=e.get("EXT_clip_control");Et?dr.clipControlEXT(dr.LOWER_LEFT_EXT,dr.ZERO_TO_ONE_EXT):dr.clipControlEXT(dr.LOWER_LEFT_EXT,dr.NEGATIVE_ONE_TO_ONE_EXT),Ft=Et;const vr=vt;vt=null,this.setClear(vr)}},getReversed:function(){return Ft},setTest:function(Et){Et?ce(r.DEPTH_TEST):ye(r.DEPTH_TEST)},setMask:function(Et){qt!==Et&&!Ue&&(r.depthMask(Et),qt=Et)},setFunc:function(Et){if(Ft&&(Et=Cdt[Et]),Lt!==Et){switch(Et){case CR:r.depthFunc(r.NEVER);break;case NR:r.depthFunc(r.ALWAYS);break;case DR:r.depthFunc(r.LESS);break;case sb:r.depthFunc(r.LEQUAL);break;case LR:r.depthFunc(r.EQUAL);break;case RR:r.depthFunc(r.GEQUAL);break;case kR:r.depthFunc(r.GREATER);break;case IR:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}Lt=Et}},setLocked:function(Et){Ue=Et},setClear:function(Et){vt!==Et&&(Ft&&(Et=1-Et),r.clearDepth(Et),vt=Et)},reset:function(){Ue=!1,qt=null,Lt=null,vt=null,Ft=!1}}}function i(){let Ue=!1,Ft=null,qt=null,Lt=null,vt=null,Et=null,dr=null,vr=null,Yr=null;return{setTest:function(Hr){Ue||(Hr?ce(r.STENCIL_TEST):ye(r.STENCIL_TEST))},setMask:function(Hr){Ft!==Hr&&!Ue&&(r.stencilMask(Hr),Ft=Hr)},setFunc:function(Hr,xr,wn){(qt!==Hr||Lt!==xr||vt!==wn)&&(r.stencilFunc(Hr,xr,wn),qt=Hr,Lt=xr,vt=wn)},setOp:function(Hr,xr,wn){(Et!==Hr||dr!==xr||vr!==wn)&&(r.stencilOp(Hr,xr,wn),Et=Hr,dr=xr,vr=wn)},setLocked:function(Hr){Ue=Hr},setClear:function(Hr){Yr!==Hr&&(r.clearStencil(Hr),Yr=Hr)},reset:function(){Ue=!1,Ft=null,qt=null,Lt=null,vt=null,Et=null,dr=null,vr=null,Yr=null}}}const a=new t,s=new n,o=new i,l=new WeakMap,c=new WeakMap;let u={},f={},d=new WeakMap,h=[],p=null,v=!1,x=null,g=null,_=null,w=null,A=null,M=null,C=null,N=new Lr(0,0,0),L=0,D=!1,k=null,O=null,I=null,j=null,B=null;const K=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,Z=0;const Y=r.getParameter(r.VERSION);Y.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(Y)[1]),H=Z>=1):Y.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),H=Z>=2);let J=null,oe={};const X=r.getParameter(r.SCISSOR_BOX),F=r.getParameter(r.VIEWPORT),W=new sa().fromArray(X),Q=new sa().fromArray(F);function re(Ue,Ft,qt,Lt){const vt=new Uint8Array(4),Et=r.createTexture();r.bindTexture(Ue,Et),r.texParameteri(Ue,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(Ue,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let dr=0;dr<qt;dr++)Ue===r.TEXTURE_3D||Ue===r.TEXTURE_2D_ARRAY?r.texImage3D(Ft,0,r.RGBA,1,1,Lt,0,r.RGBA,r.UNSIGNED_BYTE,vt):r.texImage2D(Ft+dr,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,vt);return Et}const ae={};ae[r.TEXTURE_2D]=re(r.TEXTURE_2D,r.TEXTURE_2D,1),ae[r.TEXTURE_CUBE_MAP]=re(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),ae[r.TEXTURE_2D_ARRAY]=re(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),ae[r.TEXTURE_3D]=re(r.TEXTURE_3D,r.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),ce(r.DEPTH_TEST),s.setFunc(sb),Me(!1),ge(Rj),ce(r.CULL_FACE),ne(uv);function ce(Ue){u[Ue]!==!0&&(r.enable(Ue),u[Ue]=!0)}function ye(Ue){u[Ue]!==!1&&(r.disable(Ue),u[Ue]=!1)}function fe(Ue,Ft){return f[Ue]!==Ft?(r.bindFramebuffer(Ue,Ft),f[Ue]=Ft,Ue===r.DRAW_FRAMEBUFFER&&(f[r.FRAMEBUFFER]=Ft),Ue===r.FRAMEBUFFER&&(f[r.DRAW_FRAMEBUFFER]=Ft),!0):!1}function be(Ue,Ft){let qt=h,Lt=!1;if(Ue){qt=d.get(Ft),qt===void 0&&(qt=[],d.set(Ft,qt));const vt=Ue.textures;if(qt.length!==vt.length||qt[0]!==r.COLOR_ATTACHMENT0){for(let Et=0,dr=vt.length;Et<dr;Et++)qt[Et]=r.COLOR_ATTACHMENT0+Et;qt.length=vt.length,Lt=!0}}else qt[0]!==r.BACK&&(qt[0]=r.BACK,Lt=!0);Lt&&r.drawBuffers(qt)}function Oe(Ue){return p!==Ue?(r.useProgram(Ue),p=Ue,!0):!1}const xe={[Dx]:r.FUNC_ADD,[uxe]:r.FUNC_SUBTRACT,[fxe]:r.FUNC_REVERSE_SUBTRACT};xe[hxe]=r.MIN,xe[dxe]=r.MAX;const Qe={[pxe]:r.ZERO,[vxe]:r.ONE,[mxe]:r.SRC_COLOR,[ER]:r.SRC_ALPHA,[wxe]:r.SRC_ALPHA_SATURATE,[bxe]:r.DST_COLOR,[xxe]:r.DST_ALPHA,[gxe]:r.ONE_MINUS_SRC_COLOR,[MR]:r.ONE_MINUS_SRC_ALPHA,[_xe]:r.ONE_MINUS_DST_COLOR,[yxe]:r.ONE_MINUS_DST_ALPHA,[Sxe]:r.CONSTANT_COLOR,[Txe]:r.ONE_MINUS_CONSTANT_COLOR,[Axe]:r.CONSTANT_ALPHA,[Exe]:r.ONE_MINUS_CONSTANT_ALPHA};function ne(Ue,Ft,qt,Lt,vt,Et,dr,vr,Yr,Hr){if(Ue===uv){v===!0&&(ye(r.BLEND),v=!1);return}if(v===!1&&(ce(r.BLEND),v=!0),Ue!==cxe){if(Ue!==x||Hr!==D){if((g!==Dx||A!==Dx)&&(r.blendEquation(r.FUNC_ADD),g=Dx,A=Dx),Hr)switch(Ue){case B2:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case sE:r.blendFunc(r.ONE,r.ONE);break;case kj:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case Ij:r.blendFuncSeparate(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE);break;default:jn("WebGLState: Invalid blending: ",Ue);break}else switch(Ue){case B2:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case sE:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE,r.ONE,r.ONE);break;case kj:jn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Ij:jn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:jn("WebGLState: Invalid blending: ",Ue);break}_=null,w=null,M=null,C=null,N.set(0,0,0),L=0,x=Ue,D=Hr}return}vt=vt||Ft,Et=Et||qt,dr=dr||Lt,(Ft!==g||vt!==A)&&(r.blendEquationSeparate(xe[Ft],xe[vt]),g=Ft,A=vt),(qt!==_||Lt!==w||Et!==M||dr!==C)&&(r.blendFuncSeparate(Qe[qt],Qe[Lt],Qe[Et],Qe[dr]),_=qt,w=Lt,M=Et,C=dr),(vr.equals(N)===!1||Yr!==L)&&(r.blendColor(vr.r,vr.g,vr.b,Yr),N.copy(vr),L=Yr),x=Ue,D=!1}function te(Ue,Ft){Ue.side===K0?ye(r.CULL_FACE):ce(r.CULL_FACE);let qt=Ue.side===Ku;Ft&&(qt=!qt),Me(qt),Ue.blending===B2&&Ue.transparent===!1?ne(uv):ne(Ue.blending,Ue.blendEquation,Ue.blendSrc,Ue.blendDst,Ue.blendEquationAlpha,Ue.blendSrcAlpha,Ue.blendDstAlpha,Ue.blendColor,Ue.blendAlpha,Ue.premultipliedAlpha),s.setFunc(Ue.depthFunc),s.setTest(Ue.depthTest),s.setMask(Ue.depthWrite),a.setMask(Ue.colorWrite);const Lt=Ue.stencilWrite;o.setTest(Lt),Lt&&(o.setMask(Ue.stencilWriteMask),o.setFunc(Ue.stencilFunc,Ue.stencilRef,Ue.stencilFuncMask),o.setOp(Ue.stencilFail,Ue.stencilZFail,Ue.stencilZPass)),_e(Ue.polygonOffset,Ue.polygonOffsetFactor,Ue.polygonOffsetUnits),Ue.alphaToCoverage===!0?ce(r.SAMPLE_ALPHA_TO_COVERAGE):ye(r.SAMPLE_ALPHA_TO_COVERAGE)}function Me(Ue){k!==Ue&&(Ue?r.frontFace(r.CW):r.frontFace(r.CCW),k=Ue)}function ge(Ue){Ue!==sxe?(ce(r.CULL_FACE),Ue!==O&&(Ue===Rj?r.cullFace(r.BACK):Ue===oxe?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):ye(r.CULL_FACE),O=Ue}function de(Ue){Ue!==I&&(H&&r.lineWidth(Ue),I=Ue)}function _e(Ue,Ft,qt){Ue?(ce(r.POLYGON_OFFSET_FILL),(j!==Ft||B!==qt)&&(r.polygonOffset(Ft,qt),j=Ft,B=qt)):ye(r.POLYGON_OFFSET_FILL)}function je(Ue){Ue?ce(r.SCISSOR_TEST):ye(r.SCISSOR_TEST)}function Be(Ue){Ue===void 0&&(Ue=r.TEXTURE0+K-1),J!==Ue&&(r.activeTexture(Ue),J=Ue)}function Fe(Ue,Ft,qt){qt===void 0&&(J===null?qt=r.TEXTURE0+K-1:qt=J);let Lt=oe[qt];Lt===void 0&&(Lt={type:void 0,texture:void 0},oe[qt]=Lt),(Lt.type!==Ue||Lt.texture!==Ft)&&(J!==qt&&(r.activeTexture(qt),J=qt),r.bindTexture(Ue,Ft||ae[Ue]),Lt.type=Ue,Lt.texture=Ft)}function we(){const Ue=oe[J];Ue!==void 0&&Ue.type!==void 0&&(r.bindTexture(Ue.type,null),Ue.type=void 0,Ue.texture=void 0)}function pe(){try{r.compressedTexImage2D(...arguments)}catch(Ue){Ue("WebGLState:",Ue)}}function ze(){try{r.compressedTexImage3D(...arguments)}catch(Ue){Ue("WebGLState:",Ue)}}function $e(){try{r.texSubImage2D(...arguments)}catch(Ue){Ue("WebGLState:",Ue)}}function ht(){try{r.texSubImage3D(...arguments)}catch(Ue){Ue("WebGLState:",Ue)}}function Je(){try{r.compressedTexSubImage2D(...arguments)}catch(Ue){Ue("WebGLState:",Ue)}}function Ot(){try{r.compressedTexSubImage3D(...arguments)}catch(Ue){Ue("WebGLState:",Ue)}}function bt(){try{r.texStorage2D(...arguments)}catch(Ue){Ue("WebGLState:",Ue)}}function Nt(){try{r.texStorage3D(...arguments)}catch(Ue){Ue("WebGLState:",Ue)}}function ir(){try{r.texImage2D(...arguments)}catch(Ue){Ue("WebGLState:",Ue)}}function ft(){try{r.texImage3D(...arguments)}catch(Ue){Ue("WebGLState:",Ue)}}function Dt(Ue){W.equals(Ue)===!1&&(r.scissor(Ue.x,Ue.y,Ue.z,Ue.w),W.copy(Ue))}function tr(Ue){Q.equals(Ue)===!1&&(r.viewport(Ue.x,Ue.y,Ue.z,Ue.w),Q.copy(Ue))}function Ze(Ue,Ft){let qt=c.get(Ft);qt===void 0&&(qt=new WeakMap,c.set(Ft,qt));let Lt=qt.get(Ue);Lt===void 0&&(Lt=r.getUniformBlockIndex(Ft,Ue.name),qt.set(Ue,Lt))}function it(Ue,Ft){const Lt=c.get(Ft).get(Ue);l.get(Ft)!==Lt&&(r.uniformBlockBinding(Ft,Lt,Ue.__bindingPointIndex),l.set(Ft,Lt))}function Wt(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),s.setReversed(!1),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),u={},J=null,oe={},f={},d=new WeakMap,h=[],p=null,v=!1,x=null,g=null,_=null,w=null,A=null,M=null,C=null,N=new Lr(0,0,0),L=0,D=!1,k=null,O=null,I=null,j=null,B=null,W.set(0,0,r.canvas.width,r.canvas.height),Q.set(0,0,r.canvas.width,r.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:ce,disable:ye,bindFramebuffer:fe,drawBuffers:be,useProgram:Oe,setBlending:ne,setMaterial:te,setFlipSided:Me,setCullFace:ge,setLineWidth:de,setPolygonOffset:_e,setScissorTest:je,activeTexture:Be,bindTexture:Fe,unbindTexture:we,compressedTexImage2D:pe,compressedTexImage3D:ze,texImage2D:ir,texImage3D:ft,updateUBOMapping:Ze,uniformBlockBinding:it,texStorage2D:bt,texStorage3D:Nt,texSubImage2D:$e,texSubImage3D:ht,compressedTexSubImage2D:Je,compressedTexSubImage3D:Ot,scissor:Dt,viewport:tr,reset:Wt}}function Ddt(r,e,t,n,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new er,u=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(we,pe){return h?new OffscreenCanvas(we,pe):vE("canvas")}function v(we,pe,ze){let $e=1;const ht=Fe(we);if((ht.width>ze||ht.height>ze)&&($e=ze/Math.max(ht.width,ht.height)),$e<1)if(typeof HTMLImageElement<"u"&&we instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&we instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&we instanceof ImageBitmap||typeof VideoFrame<"u"&&we instanceof VideoFrame){const Je=Math.floor($e*ht.width),Ot=Math.floor($e*ht.height);f===void 0&&(f=p(Je,Ot));const bt=pe?p(Je,Ot):f;return bt.width=Je,bt.height=Ot,bt.getContext("2d").drawImage(we,0,0,Je,Ot),Mr("WebGLRenderer: Texture has been resized from ("+ht.width+"x"+ht.height+") to ("+Je+"x"+Ot+")."),bt}else return"data"in we&&Mr("WebGLRenderer: Image in DataTexture is too big ("+ht.width+"x"+ht.height+")."),we;return we}function x(we){return we.generateMipmaps}function g(we){r.generateMipmap(we)}function _(we){return we.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:we.isWebGL3DRenderTarget?r.TEXTURE_3D:we.isWebGLArrayRenderTarget||we.isCompressedArrayTexture?r.TEXTURE_2D_ARRAY:r.TEXTURE_2D}function w(we,pe,ze,$e,ht=!1){if(we!==null){if(r[we]!==void 0)return r[we];Mr("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+we+"'")}let Je=pe;if(pe===r.RED&&(ze===r.FLOAT&&(Je=r.R32F),ze===r.HALF_FLOAT&&(Je=r.R16F),ze===r.UNSIGNED_BYTE&&(Je=r.R8)),pe===r.RED_INTEGER&&(ze===r.UNSIGNED_BYTE&&(Je=r.R8UI),ze===r.UNSIGNED_SHORT&&(Je=r.R16UI),ze===r.UNSIGNED_INT&&(Je=r.R32UI),ze===r.BYTE&&(Je=r.R8I),ze===r.SHORT&&(Je=r.R16I),ze===r.INT&&(Je=r.R32I)),pe===r.RG&&(ze===r.FLOAT&&(Je=r.RG32F),ze===r.HALF_FLOAT&&(Je=r.RG16F),ze===r.UNSIGNED_BYTE&&(Je=r.RG8)),pe===r.RG_INTEGER&&(ze===r.UNSIGNED_BYTE&&(Je=r.RG8UI),ze===r.UNSIGNED_SHORT&&(Je=r.RG16UI),ze===r.UNSIGNED_INT&&(Je=r.RG32UI),ze===r.BYTE&&(Je=r.RG8I),ze===r.SHORT&&(Je=r.RG16I),ze===r.INT&&(Je=r.RG32I)),pe===r.RGB_INTEGER&&(ze===r.UNSIGNED_BYTE&&(Je=r.RGB8UI),ze===r.UNSIGNED_SHORT&&(Je=r.RGB16UI),ze===r.UNSIGNED_INT&&(Je=r.RGB32UI),ze===r.BYTE&&(Je=r.RGB8I),ze===r.SHORT&&(Je=r.RGB16I),ze===r.INT&&(Je=r.RGB32I)),pe===r.RGBA_INTEGER&&(ze===r.UNSIGNED_BYTE&&(Je=r.RGBA8UI),ze===r.UNSIGNED_SHORT&&(Je=r.RGBA16UI),ze===r.UNSIGNED_INT&&(Je=r.RGBA32UI),ze===r.BYTE&&(Je=r.RGBA8I),ze===r.SHORT&&(Je=r.RGBA16I),ze===r.INT&&(Je=r.RGBA32I)),pe===r.RGB&&(ze===r.UNSIGNED_INT_5_9_9_9_REV&&(Je=r.RGB9_E5),ze===r.UNSIGNED_INT_10F_11F_11F_REV&&(Je=r.R11F_G11F_B10F)),pe===r.RGBA){const Ot=ht?dE:qi.getTransfer($e);ze===r.FLOAT&&(Je=r.RGBA32F),ze===r.HALF_FLOAT&&(Je=r.RGBA16F),ze===r.UNSIGNED_BYTE&&(Je=Ot===Fa?r.SRGB8_ALPHA8:r.RGBA8),ze===r.UNSIGNED_SHORT_4_4_4_4&&(Je=r.RGBA4),ze===r.UNSIGNED_SHORT_5_5_5_1&&(Je=r.RGB5_A1)}return(Je===r.R16F||Je===r.R32F||Je===r.RG16F||Je===r.RG32F||Je===r.RGBA16F||Je===r.RGBA32F)&&e.get("EXT_color_buffer_float"),Je}function A(we,pe){let ze;return we?pe===null||pe===dg||pe===xS?ze=r.DEPTH24_STENCIL8:pe===Uf?ze=r.DEPTH32F_STENCIL8:pe===gS&&(ze=r.DEPTH24_STENCIL8,Mr("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):pe===null||pe===dg||pe===xS?ze=r.DEPTH_COMPONENT24:pe===Uf?ze=r.DEPTH_COMPONENT32F:pe===gS&&(ze=r.DEPTH_COMPONENT16),ze}function M(we,pe){return x(we)===!0||we.isFramebufferTexture&&we.minFilter!==yc&&we.minFilter!==zo?Math.log2(Math.max(pe.width,pe.height))+1:we.mipmaps!==void 0&&we.mipmaps.length>0?we.mipmaps.length:we.isCompressedTexture&&Array.isArray(we.image)?pe.mipmaps.length:1}function C(we){const pe=we.target;pe.removeEventListener("dispose",C),L(pe),pe.isVideoTexture&&u.delete(pe)}function N(we){const pe=we.target;pe.removeEventListener("dispose",N),k(pe)}function L(we){const pe=n.get(we);if(pe.__webglInit===void 0)return;const ze=we.source,$e=d.get(ze);if($e){const ht=$e[pe.__cacheKey];ht.usedTimes--,ht.usedTimes===0&&D(we),Object.keys($e).length===0&&d.delete(ze)}n.remove(we)}function D(we){const pe=n.get(we);r.deleteTexture(pe.__webglTexture);const ze=we.source,$e=d.get(ze);delete $e[pe.__cacheKey],s.memory.textures--}function k(we){const pe=n.get(we);if(we.depthTexture&&(we.depthTexture.dispose(),n.remove(we.depthTexture)),we.isWebGLCubeRenderTarget)for(let $e=0;$e<6;$e++){if(Array.isArray(pe.__webglFramebuffer[$e]))for(let ht=0;ht<pe.__webglFramebuffer[$e].length;ht++)r.deleteFramebuffer(pe.__webglFramebuffer[$e][ht]);else r.deleteFramebuffer(pe.__webglFramebuffer[$e]);pe.__webglDepthbuffer&&r.deleteRenderbuffer(pe.__webglDepthbuffer[$e])}else{if(Array.isArray(pe.__webglFramebuffer))for(let $e=0;$e<pe.__webglFramebuffer.length;$e++)r.deleteFramebuffer(pe.__webglFramebuffer[$e]);else r.deleteFramebuffer(pe.__webglFramebuffer);if(pe.__webglDepthbuffer&&r.deleteRenderbuffer(pe.__webglDepthbuffer),pe.__webglMultisampledFramebuffer&&r.deleteFramebuffer(pe.__webglMultisampledFramebuffer),pe.__webglColorRenderbuffer)for(let $e=0;$e<pe.__webglColorRenderbuffer.length;$e++)pe.__webglColorRenderbuffer[$e]&&r.deleteRenderbuffer(pe.__webglColorRenderbuffer[$e]);pe.__webglDepthRenderbuffer&&r.deleteRenderbuffer(pe.__webglDepthRenderbuffer)}const ze=we.textures;for(let $e=0,ht=ze.length;$e<ht;$e++){const Je=n.get(ze[$e]);Je.__webglTexture&&(r.deleteTexture(Je.__webglTexture),s.memory.textures--),n.remove(ze[$e])}n.remove(we)}let O=0;function I(){O=0}function j(){const we=O;return we>=i.maxTextures&&Mr("WebGLTextures: Trying to use "+we+" texture units while this GPU supports only "+i.maxTextures),O+=1,we}function B(we){const pe=[];return pe.push(we.wrapS),pe.push(we.wrapT),pe.push(we.wrapR||0),pe.push(we.magFilter),pe.push(we.minFilter),pe.push(we.anisotropy),pe.push(we.internalFormat),pe.push(we.format),pe.push(we.type),pe.push(we.generateMipmaps),pe.push(we.premultiplyAlpha),pe.push(we.flipY),pe.push(we.unpackAlignment),pe.push(we.colorSpace),pe.join()}function K(we,pe){const ze=n.get(we);if(we.isVideoTexture&&je(we),we.isRenderTargetTexture===!1&&we.isExternalTexture!==!0&&we.version>0&&ze.__version!==we.version){const $e=we.image;if($e===null)Mr("WebGLRenderer: Texture marked for update but no image data found.");else if($e.complete===!1)Mr("WebGLRenderer: Texture marked for update but image is incomplete");else{ae(ze,we,pe);return}}else we.isExternalTexture&&(ze.__webglTexture=we.sourceTexture?we.sourceTexture:null);t.bindTexture(r.TEXTURE_2D,ze.__webglTexture,r.TEXTURE0+pe)}function H(we,pe){const ze=n.get(we);if(we.isRenderTargetTexture===!1&&we.version>0&&ze.__version!==we.version){ae(ze,we,pe);return}else we.isExternalTexture&&(ze.__webglTexture=we.sourceTexture?we.sourceTexture:null);t.bindTexture(r.TEXTURE_2D_ARRAY,ze.__webglTexture,r.TEXTURE0+pe)}function Z(we,pe){const ze=n.get(we);if(we.isRenderTargetTexture===!1&&we.version>0&&ze.__version!==we.version){ae(ze,we,pe);return}t.bindTexture(r.TEXTURE_3D,ze.__webglTexture,r.TEXTURE0+pe)}function Y(we,pe){const ze=n.get(we);if(we.version>0&&ze.__version!==we.version){ce(ze,we,pe);return}t.bindTexture(r.TEXTURE_CUBE_MAP,ze.__webglTexture,r.TEXTURE0+pe)}const J={[cE]:r.REPEAT,[jf]:r.CLAMP_TO_EDGE,[uE]:r.MIRRORED_REPEAT},oe={[yc]:r.NEAREST,[oG]:r.NEAREST_MIPMAP_NEAREST,[Tw]:r.NEAREST_MIPMAP_LINEAR,[zo]:r.LINEAR,[KA]:r.LINEAR_MIPMAP_NEAREST,[iv]:r.LINEAR_MIPMAP_LINEAR},X={[Vxe]:r.NEVER,[Xxe]:r.ALWAYS,[Hxe]:r.LESS,[vG]:r.LEQUAL,[Gxe]:r.EQUAL,[qxe]:r.GEQUAL,[Wxe]:r.GREATER,[Yxe]:r.NOTEQUAL};function F(we,pe){if(pe.type===Uf&&e.has("OES_texture_float_linear")===!1&&(pe.magFilter===zo||pe.magFilter===KA||pe.magFilter===Tw||pe.magFilter===iv||pe.minFilter===zo||pe.minFilter===KA||pe.minFilter===Tw||pe.minFilter===iv)&&Mr("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(we,r.TEXTURE_WRAP_S,J[pe.wrapS]),r.texParameteri(we,r.TEXTURE_WRAP_T,J[pe.wrapT]),(we===r.TEXTURE_3D||we===r.TEXTURE_2D_ARRAY)&&r.texParameteri(we,r.TEXTURE_WRAP_R,J[pe.wrapR]),r.texParameteri(we,r.TEXTURE_MAG_FILTER,oe[pe.magFilter]),r.texParameteri(we,r.TEXTURE_MIN_FILTER,oe[pe.minFilter]),pe.compareFunction&&(r.texParameteri(we,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(we,r.TEXTURE_COMPARE_FUNC,X[pe.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(pe.magFilter===yc||pe.minFilter!==Tw&&pe.minFilter!==iv||pe.type===Uf&&e.has("OES_texture_float_linear")===!1)return;if(pe.anisotropy>1||n.get(pe).__currentAnisotropy){const ze=e.get("EXT_texture_filter_anisotropic");r.texParameterf(we,ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(pe.anisotropy,i.getMaxAnisotropy())),n.get(pe).__currentAnisotropy=pe.anisotropy}}}function W(we,pe){let ze=!1;we.__webglInit===void 0&&(we.__webglInit=!0,pe.addEventListener("dispose",C));const $e=pe.source;let ht=d.get($e);ht===void 0&&(ht={},d.set($e,ht));const Je=B(pe);if(Je!==we.__cacheKey){ht[Je]===void 0&&(ht[Je]={texture:r.createTexture(),usedTimes:0},s.memory.textures++,ze=!0),ht[Je].usedTimes++;const Ot=ht[we.__cacheKey];Ot!==void 0&&(ht[we.__cacheKey].usedTimes--,Ot.usedTimes===0&&D(pe)),we.__cacheKey=Je,we.__webglTexture=ht[Je].texture}return ze}function Q(we,pe,ze){return Math.floor(Math.floor(we/ze)/pe)}function re(we,pe,ze,$e){const Je=we.updateRanges;if(Je.length===0)t.texSubImage2D(r.TEXTURE_2D,0,0,0,pe.width,pe.height,ze,$e,pe.data);else{Je.sort((ft,Dt)=>ft.start-Dt.start);let Ot=0;for(let ft=1;ft<Je.length;ft++){const Dt=Je[Ot],tr=Je[ft],Ze=Dt.start+Dt.count,it=Q(tr.start,pe.width,4),Wt=Q(Dt.start,pe.width,4);tr.start<=Ze+1&&it===Wt&&Q(tr.start+tr.count-1,pe.width,4)===it?Dt.count=Math.max(Dt.count,tr.start+tr.count-Dt.start):(++Ot,Je[Ot]=tr)}Je.length=Ot+1;const bt=r.getParameter(r.UNPACK_ROW_LENGTH),Nt=r.getParameter(r.UNPACK_SKIP_PIXELS),ir=r.getParameter(r.UNPACK_SKIP_ROWS);r.pixelStorei(r.UNPACK_ROW_LENGTH,pe.width);for(let ft=0,Dt=Je.length;ft<Dt;ft++){const tr=Je[ft],Ze=Math.floor(tr.start/4),it=Math.ceil(tr.count/4),Wt=Ze%pe.width,Ue=Math.floor(Ze/pe.width),Ft=it,qt=1;r.pixelStorei(r.UNPACK_SKIP_PIXELS,Wt),r.pixelStorei(r.UNPACK_SKIP_ROWS,Ue),t.texSubImage2D(r.TEXTURE_2D,0,Wt,Ue,Ft,qt,ze,$e,pe.data)}we.clearUpdateRanges(),r.pixelStorei(r.UNPACK_ROW_LENGTH,bt),r.pixelStorei(r.UNPACK_SKIP_PIXELS,Nt),r.pixelStorei(r.UNPACK_SKIP_ROWS,ir)}}function ae(we,pe,ze){let $e=r.TEXTURE_2D;(pe.isDataArrayTexture||pe.isCompressedArrayTexture)&&($e=r.TEXTURE_2D_ARRAY),pe.isData3DTexture&&($e=r.TEXTURE_3D);const ht=W(we,pe),Je=pe.source;t.bindTexture($e,we.__webglTexture,r.TEXTURE0+ze);const Ot=n.get(Je);if(Je.version!==Ot.__version||ht===!0){t.activeTexture(r.TEXTURE0+ze);const bt=qi.getPrimaries(qi.workingColorSpace),Nt=pe.colorSpace===Im?null:qi.getPrimaries(pe.colorSpace),ir=pe.colorSpace===Im||bt===Nt?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,pe.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,pe.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,ir);let ft=v(pe.image,!1,i.maxTextureSize);ft=Be(pe,ft);const Dt=a.convert(pe.format,pe.colorSpace),tr=a.convert(pe.type);let Ze=w(pe.internalFormat,Dt,tr,pe.colorSpace,pe.isVideoTexture);F($e,pe);let it;const Wt=pe.mipmaps,Ue=pe.isVideoTexture!==!0,Ft=Ot.__version===void 0||ht===!0,qt=Je.dataReady,Lt=M(pe,ft);if(pe.isDepthTexture)Ze=A(pe.format===bS,pe.type),Ft&&(Ue?t.texStorage2D(r.TEXTURE_2D,1,Ze,ft.width,ft.height):t.texImage2D(r.TEXTURE_2D,0,Ze,ft.width,ft.height,0,Dt,tr,null));else if(pe.isDataTexture)if(Wt.length>0){Ue&&Ft&&t.texStorage2D(r.TEXTURE_2D,Lt,Ze,Wt[0].width,Wt[0].height);for(let vt=0,Et=Wt.length;vt<Et;vt++)it=Wt[vt],Ue?qt&&t.texSubImage2D(r.TEXTURE_2D,vt,0,0,it.width,it.height,Dt,tr,it.data):t.texImage2D(r.TEXTURE_2D,vt,Ze,it.width,it.height,0,Dt,tr,it.data);pe.generateMipmaps=!1}else Ue?(Ft&&t.texStorage2D(r.TEXTURE_2D,Lt,Ze,ft.width,ft.height),qt&&re(pe,ft,Dt,tr)):t.texImage2D(r.TEXTURE_2D,0,Ze,ft.width,ft.height,0,Dt,tr,ft.data);else if(pe.isCompressedTexture)if(pe.isCompressedArrayTexture){Ue&&Ft&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Lt,Ze,Wt[0].width,Wt[0].height,ft.depth);for(let vt=0,Et=Wt.length;vt<Et;vt++)if(it=Wt[vt],pe.format!==au)if(Dt!==null)if(Ue){if(qt)if(pe.layerUpdates.size>0){const dr=Gj(it.width,it.height,pe.format,pe.type);for(const vr of pe.layerUpdates){const Yr=it.data.subarray(vr*dr/it.data.BYTES_PER_ELEMENT,(vr+1)*dr/it.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,vt,0,0,vr,it.width,it.height,1,Dt,Yr)}pe.clearLayerUpdates()}else t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,vt,0,0,0,it.width,it.height,ft.depth,Dt,it.data)}else t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,vt,Ze,it.width,it.height,ft.depth,0,it.data,0,0);else Mr("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ue?qt&&t.texSubImage3D(r.TEXTURE_2D_ARRAY,vt,0,0,0,it.width,it.height,ft.depth,Dt,tr,it.data):t.texImage3D(r.TEXTURE_2D_ARRAY,vt,Ze,it.width,it.height,ft.depth,0,Dt,tr,it.data)}else{Ue&&Ft&&t.texStorage2D(r.TEXTURE_2D,Lt,Ze,Wt[0].width,Wt[0].height);for(let vt=0,Et=Wt.length;vt<Et;vt++)it=Wt[vt],pe.format!==au?Dt!==null?Ue?qt&&t.compressedTexSubImage2D(r.TEXTURE_2D,vt,0,0,it.width,it.height,Dt,it.data):t.compressedTexImage2D(r.TEXTURE_2D,vt,Ze,it.width,it.height,0,it.data):Mr("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ue?qt&&t.texSubImage2D(r.TEXTURE_2D,vt,0,0,it.width,it.height,Dt,tr,it.data):t.texImage2D(r.TEXTURE_2D,vt,Ze,it.width,it.height,0,Dt,tr,it.data)}else if(pe.isDataArrayTexture)if(Ue){if(Ft&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Lt,Ze,ft.width,ft.height,ft.depth),qt)if(pe.layerUpdates.size>0){const vt=Gj(ft.width,ft.height,pe.format,pe.type);for(const Et of pe.layerUpdates){const dr=ft.data.subarray(Et*vt/ft.data.BYTES_PER_ELEMENT,(Et+1)*vt/ft.data.BYTES_PER_ELEMENT);t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,Et,ft.width,ft.height,1,Dt,tr,dr)}pe.clearLayerUpdates()}else t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,ft.width,ft.height,ft.depth,Dt,tr,ft.data)}else t.texImage3D(r.TEXTURE_2D_ARRAY,0,Ze,ft.width,ft.height,ft.depth,0,Dt,tr,ft.data);else if(pe.isData3DTexture)Ue?(Ft&&t.texStorage3D(r.TEXTURE_3D,Lt,Ze,ft.width,ft.height,ft.depth),qt&&t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,ft.width,ft.height,ft.depth,Dt,tr,ft.data)):t.texImage3D(r.TEXTURE_3D,0,Ze,ft.width,ft.height,ft.depth,0,Dt,tr,ft.data);else if(pe.isFramebufferTexture){if(Ft)if(Ue)t.texStorage2D(r.TEXTURE_2D,Lt,Ze,ft.width,ft.height);else{let vt=ft.width,Et=ft.height;for(let dr=0;dr<Lt;dr++)t.texImage2D(r.TEXTURE_2D,dr,Ze,vt,Et,0,Dt,tr,null),vt>>=1,Et>>=1}}else if(Wt.length>0){if(Ue&&Ft){const vt=Fe(Wt[0]);t.texStorage2D(r.TEXTURE_2D,Lt,Ze,vt.width,vt.height)}for(let vt=0,Et=Wt.length;vt<Et;vt++)it=Wt[vt],Ue?qt&&t.texSubImage2D(r.TEXTURE_2D,vt,0,0,Dt,tr,it):t.texImage2D(r.TEXTURE_2D,vt,Ze,Dt,tr,it);pe.generateMipmaps=!1}else if(Ue){if(Ft){const vt=Fe(ft);t.texStorage2D(r.TEXTURE_2D,Lt,Ze,vt.width,vt.height)}qt&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,Dt,tr,ft)}else t.texImage2D(r.TEXTURE_2D,0,Ze,Dt,tr,ft);x(pe)&&g($e),Ot.__version=Je.version,pe.onUpdate&&pe.onUpdate(pe)}we.__version=pe.version}function ce(we,pe,ze){if(pe.image.length!==6)return;const $e=W(we,pe),ht=pe.source;t.bindTexture(r.TEXTURE_CUBE_MAP,we.__webglTexture,r.TEXTURE0+ze);const Je=n.get(ht);if(ht.version!==Je.__version||$e===!0){t.activeTexture(r.TEXTURE0+ze);const Ot=qi.getPrimaries(qi.workingColorSpace),bt=pe.colorSpace===Im?null:qi.getPrimaries(pe.colorSpace),Nt=pe.colorSpace===Im||Ot===bt?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,pe.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,pe.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,Nt);const ir=pe.isCompressedTexture||pe.image[0].isCompressedTexture,ft=pe.image[0]&&pe.image[0].isDataTexture,Dt=[];for(let Et=0;Et<6;Et++)!ir&&!ft?Dt[Et]=v(pe.image[Et],!0,i.maxCubemapSize):Dt[Et]=ft?pe.image[Et].image:pe.image[Et],Dt[Et]=Be(pe,Dt[Et]);const tr=Dt[0],Ze=a.convert(pe.format,pe.colorSpace),it=a.convert(pe.type),Wt=w(pe.internalFormat,Ze,it,pe.colorSpace),Ue=pe.isVideoTexture!==!0,Ft=Je.__version===void 0||$e===!0,qt=ht.dataReady;let Lt=M(pe,tr);F(r.TEXTURE_CUBE_MAP,pe);let vt;if(ir){Ue&&Ft&&t.texStorage2D(r.TEXTURE_CUBE_MAP,Lt,Wt,tr.width,tr.height);for(let Et=0;Et<6;Et++){vt=Dt[Et].mipmaps;for(let dr=0;dr<vt.length;dr++){const vr=vt[dr];pe.format!==au?Ze!==null?Ue?qt&&t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,dr,0,0,vr.width,vr.height,Ze,vr.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,dr,Wt,vr.width,vr.height,0,vr.data):Mr("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ue?qt&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,dr,0,0,vr.width,vr.height,Ze,it,vr.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,dr,Wt,vr.width,vr.height,0,Ze,it,vr.data)}}}else{if(vt=pe.mipmaps,Ue&&Ft){vt.length>0&&Lt++;const Et=Fe(Dt[0]);t.texStorage2D(r.TEXTURE_CUBE_MAP,Lt,Wt,Et.width,Et.height)}for(let Et=0;Et<6;Et++)if(ft){Ue?qt&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,0,0,0,Dt[Et].width,Dt[Et].height,Ze,it,Dt[Et].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,0,Wt,Dt[Et].width,Dt[Et].height,0,Ze,it,Dt[Et].data);for(let dr=0;dr<vt.length;dr++){const Yr=vt[dr].image[Et].image;Ue?qt&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,dr+1,0,0,Yr.width,Yr.height,Ze,it,Yr.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,dr+1,Wt,Yr.width,Yr.height,0,Ze,it,Yr.data)}}else{Ue?qt&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,0,0,0,Ze,it,Dt[Et]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,0,Wt,Ze,it,Dt[Et]);for(let dr=0;dr<vt.length;dr++){const vr=vt[dr];Ue?qt&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,dr+1,0,0,Ze,it,vr.image[Et]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Et,dr+1,Wt,Ze,it,vr.image[Et])}}}x(pe)&&g(r.TEXTURE_CUBE_MAP),Je.__version=ht.version,pe.onUpdate&&pe.onUpdate(pe)}we.__version=pe.version}function ye(we,pe,ze,$e,ht,Je){const Ot=a.convert(ze.format,ze.colorSpace),bt=a.convert(ze.type),Nt=w(ze.internalFormat,Ot,bt,ze.colorSpace),ir=n.get(pe),ft=n.get(ze);if(ft.__renderTarget=pe,!ir.__hasExternalTextures){const Dt=Math.max(1,pe.width>>Je),tr=Math.max(1,pe.height>>Je);ht===r.TEXTURE_3D||ht===r.TEXTURE_2D_ARRAY?t.texImage3D(ht,Je,Nt,Dt,tr,pe.depth,0,Ot,bt,null):t.texImage2D(ht,Je,Nt,Dt,tr,0,Ot,bt,null)}t.bindFramebuffer(r.FRAMEBUFFER,we),_e(pe)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,$e,ht,ft.__webglTexture,0,de(pe)):(ht===r.TEXTURE_2D||ht>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&ht<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,$e,ht,ft.__webglTexture,Je),t.bindFramebuffer(r.FRAMEBUFFER,null)}function fe(we,pe,ze){if(r.bindRenderbuffer(r.RENDERBUFFER,we),pe.depthBuffer){const $e=pe.depthTexture,ht=$e&&$e.isDepthTexture?$e.type:null,Je=A(pe.stencilBuffer,ht),Ot=pe.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,bt=de(pe);_e(pe)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,bt,Je,pe.width,pe.height):ze?r.renderbufferStorageMultisample(r.RENDERBUFFER,bt,Je,pe.width,pe.height):r.renderbufferStorage(r.RENDERBUFFER,Je,pe.width,pe.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,Ot,r.RENDERBUFFER,we)}else{const $e=pe.textures;for(let ht=0;ht<$e.length;ht++){const Je=$e[ht],Ot=a.convert(Je.format,Je.colorSpace),bt=a.convert(Je.type),Nt=w(Je.internalFormat,Ot,bt,Je.colorSpace),ir=de(pe);ze&&_e(pe)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,ir,Nt,pe.width,pe.height):_e(pe)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,ir,Nt,pe.width,pe.height):r.renderbufferStorage(r.RENDERBUFFER,Nt,pe.width,pe.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function be(we,pe){if(pe&&pe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,we),!(pe.depthTexture&&pe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const $e=n.get(pe.depthTexture);$e.__renderTarget=pe,(!$e.__webglTexture||pe.depthTexture.image.width!==pe.width||pe.depthTexture.image.height!==pe.height)&&(pe.depthTexture.image.width=pe.width,pe.depthTexture.image.height=pe.height,pe.depthTexture.needsUpdate=!0),K(pe.depthTexture,0);const ht=$e.__webglTexture,Je=de(pe);if(pe.depthTexture.format===yS)_e(pe)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,ht,0,Je):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,ht,0);else if(pe.depthTexture.format===bS)_e(pe)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,ht,0,Je):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,ht,0);else throw new Error("Unknown depthTexture format")}function Oe(we){const pe=n.get(we),ze=we.isWebGLCubeRenderTarget===!0;if(pe.__boundDepthTexture!==we.depthTexture){const $e=we.depthTexture;if(pe.__depthDisposeCallback&&pe.__depthDisposeCallback(),$e){const ht=()=>{delete pe.__boundDepthTexture,delete pe.__depthDisposeCallback,$e.removeEventListener("dispose",ht)};$e.addEventListener("dispose",ht),pe.__depthDisposeCallback=ht}pe.__boundDepthTexture=$e}if(we.depthTexture&&!pe.__autoAllocateDepthBuffer){if(ze)throw new Error("target.depthTexture not supported in Cube render targets");const $e=we.texture.mipmaps;$e&&$e.length>0?be(pe.__webglFramebuffer[0],we):be(pe.__webglFramebuffer,we)}else if(ze){pe.__webglDepthbuffer=[];for(let $e=0;$e<6;$e++)if(t.bindFramebuffer(r.FRAMEBUFFER,pe.__webglFramebuffer[$e]),pe.__webglDepthbuffer[$e]===void 0)pe.__webglDepthbuffer[$e]=r.createRenderbuffer(),fe(pe.__webglDepthbuffer[$e],we,!1);else{const ht=we.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Je=pe.__webglDepthbuffer[$e];r.bindRenderbuffer(r.RENDERBUFFER,Je),r.framebufferRenderbuffer(r.FRAMEBUFFER,ht,r.RENDERBUFFER,Je)}}else{const $e=we.texture.mipmaps;if($e&&$e.length>0?t.bindFramebuffer(r.FRAMEBUFFER,pe.__webglFramebuffer[0]):t.bindFramebuffer(r.FRAMEBUFFER,pe.__webglFramebuffer),pe.__webglDepthbuffer===void 0)pe.__webglDepthbuffer=r.createRenderbuffer(),fe(pe.__webglDepthbuffer,we,!1);else{const ht=we.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Je=pe.__webglDepthbuffer;r.bindRenderbuffer(r.RENDERBUFFER,Je),r.framebufferRenderbuffer(r.FRAMEBUFFER,ht,r.RENDERBUFFER,Je)}}t.bindFramebuffer(r.FRAMEBUFFER,null)}function xe(we,pe,ze){const $e=n.get(we);pe!==void 0&&ye($e.__webglFramebuffer,we,we.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),ze!==void 0&&Oe(we)}function Qe(we){const pe=we.texture,ze=n.get(we),$e=n.get(pe);we.addEventListener("dispose",N);const ht=we.textures,Je=we.isWebGLCubeRenderTarget===!0,Ot=ht.length>1;if(Ot||($e.__webglTexture===void 0&&($e.__webglTexture=r.createTexture()),$e.__version=pe.version,s.memory.textures++),Je){ze.__webglFramebuffer=[];for(let bt=0;bt<6;bt++)if(pe.mipmaps&&pe.mipmaps.length>0){ze.__webglFramebuffer[bt]=[];for(let Nt=0;Nt<pe.mipmaps.length;Nt++)ze.__webglFramebuffer[bt][Nt]=r.createFramebuffer()}else ze.__webglFramebuffer[bt]=r.createFramebuffer()}else{if(pe.mipmaps&&pe.mipmaps.length>0){ze.__webglFramebuffer=[];for(let bt=0;bt<pe.mipmaps.length;bt++)ze.__webglFramebuffer[bt]=r.createFramebuffer()}else ze.__webglFramebuffer=r.createFramebuffer();if(Ot)for(let bt=0,Nt=ht.length;bt<Nt;bt++){const ir=n.get(ht[bt]);ir.__webglTexture===void 0&&(ir.__webglTexture=r.createTexture(),s.memory.textures++)}if(we.samples>0&&_e(we)===!1){ze.__webglMultisampledFramebuffer=r.createFramebuffer(),ze.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,ze.__webglMultisampledFramebuffer);for(let bt=0;bt<ht.length;bt++){const Nt=ht[bt];ze.__webglColorRenderbuffer[bt]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,ze.__webglColorRenderbuffer[bt]);const ir=a.convert(Nt.format,Nt.colorSpace),ft=a.convert(Nt.type),Dt=w(Nt.internalFormat,ir,ft,Nt.colorSpace,we.isXRRenderTarget===!0),tr=de(we);r.renderbufferStorageMultisample(r.RENDERBUFFER,tr,Dt,we.width,we.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+bt,r.RENDERBUFFER,ze.__webglColorRenderbuffer[bt])}r.bindRenderbuffer(r.RENDERBUFFER,null),we.depthBuffer&&(ze.__webglDepthRenderbuffer=r.createRenderbuffer(),fe(ze.__webglDepthRenderbuffer,we,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(Je){t.bindTexture(r.TEXTURE_CUBE_MAP,$e.__webglTexture),F(r.TEXTURE_CUBE_MAP,pe);for(let bt=0;bt<6;bt++)if(pe.mipmaps&&pe.mipmaps.length>0)for(let Nt=0;Nt<pe.mipmaps.length;Nt++)ye(ze.__webglFramebuffer[bt][Nt],we,pe,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+bt,Nt);else ye(ze.__webglFramebuffer[bt],we,pe,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+bt,0);x(pe)&&g(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ot){for(let bt=0,Nt=ht.length;bt<Nt;bt++){const ir=ht[bt],ft=n.get(ir);let Dt=r.TEXTURE_2D;(we.isWebGL3DRenderTarget||we.isWebGLArrayRenderTarget)&&(Dt=we.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(Dt,ft.__webglTexture),F(Dt,ir),ye(ze.__webglFramebuffer,we,ir,r.COLOR_ATTACHMENT0+bt,Dt,0),x(ir)&&g(Dt)}t.unbindTexture()}else{let bt=r.TEXTURE_2D;if((we.isWebGL3DRenderTarget||we.isWebGLArrayRenderTarget)&&(bt=we.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(bt,$e.__webglTexture),F(bt,pe),pe.mipmaps&&pe.mipmaps.length>0)for(let Nt=0;Nt<pe.mipmaps.length;Nt++)ye(ze.__webglFramebuffer[Nt],we,pe,r.COLOR_ATTACHMENT0,bt,Nt);else ye(ze.__webglFramebuffer,we,pe,r.COLOR_ATTACHMENT0,bt,0);x(pe)&&g(bt),t.unbindTexture()}we.depthBuffer&&Oe(we)}function ne(we){const pe=we.textures;for(let ze=0,$e=pe.length;ze<$e;ze++){const ht=pe[ze];if(x(ht)){const Je=_(we),Ot=n.get(ht).__webglTexture;t.bindTexture(Je,Ot),g(Je),t.unbindTexture()}}}const te=[],Me=[];function ge(we){if(we.samples>0){if(_e(we)===!1){const pe=we.textures,ze=we.width,$e=we.height;let ht=r.COLOR_BUFFER_BIT;const Je=we.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ot=n.get(we),bt=pe.length>1;if(bt)for(let ir=0;ir<pe.length;ir++)t.bindFramebuffer(r.FRAMEBUFFER,Ot.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+ir,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,Ot.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+ir,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,Ot.__webglMultisampledFramebuffer);const Nt=we.texture.mipmaps;Nt&&Nt.length>0?t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ot.__webglFramebuffer[0]):t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ot.__webglFramebuffer);for(let ir=0;ir<pe.length;ir++){if(we.resolveDepthBuffer&&(we.depthBuffer&&(ht|=r.DEPTH_BUFFER_BIT),we.stencilBuffer&&we.resolveStencilBuffer&&(ht|=r.STENCIL_BUFFER_BIT)),bt){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Ot.__webglColorRenderbuffer[ir]);const ft=n.get(pe[ir]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,ft,0)}r.blitFramebuffer(0,0,ze,$e,0,0,ze,$e,ht,r.NEAREST),l===!0&&(te.length=0,Me.length=0,te.push(r.COLOR_ATTACHMENT0+ir),we.depthBuffer&&we.resolveDepthBuffer===!1&&(te.push(Je),Me.push(Je),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,Me)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,te))}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),bt)for(let ir=0;ir<pe.length;ir++){t.bindFramebuffer(r.FRAMEBUFFER,Ot.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+ir,r.RENDERBUFFER,Ot.__webglColorRenderbuffer[ir]);const ft=n.get(pe[ir]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,Ot.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+ir,r.TEXTURE_2D,ft,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ot.__webglMultisampledFramebuffer)}else if(we.depthBuffer&&we.resolveDepthBuffer===!1&&l){const pe=we.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[pe])}}}function de(we){return Math.min(i.maxSamples,we.samples)}function _e(we){const pe=n.get(we);return we.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&pe.__useRenderToTexture!==!1}function je(we){const pe=s.render.frame;u.get(we)!==pe&&(u.set(we,pe),we.update())}function Be(we,pe){const ze=we.colorSpace,$e=we.format,ht=we.type;return we.isCompressedTexture===!0||we.isVideoTexture===!0||ze!==vy&&ze!==Im&&(qi.getTransfer(ze)===Fa?($e!==au||ht!==Ud)&&Mr("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):jn("WebGLTextures: Unsupported texture color space:",ze)),pe}function Fe(we){return typeof HTMLImageElement<"u"&&we instanceof HTMLImageElement?(c.width=we.naturalWidth||we.width,c.height=we.naturalHeight||we.height):typeof VideoFrame<"u"&&we instanceof VideoFrame?(c.width=we.displayWidth,c.height=we.displayHeight):(c.width=we.width,c.height=we.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=I,this.setTexture2D=K,this.setTexture2DArray=H,this.setTexture3D=Z,this.setTextureCube=Y,this.rebindTextures=xe,this.setupRenderTarget=Qe,this.updateRenderTargetMipmap=ne,this.updateMultisampleRenderTarget=ge,this.setupDepthRenderbuffer=Oe,this.setupFrameBufferTexture=ye,this.useMultisampledRTT=_e}function a1e(r,e){function t(n,i=Im){let a;const s=qi.getTransfer(i);if(n===Ud)return r.UNSIGNED_BYTE;if(n===LI)return r.UNSIGNED_SHORT_4_4_4_4;if(n===RI)return r.UNSIGNED_SHORT_5_5_5_1;if(n===uG)return r.UNSIGNED_INT_5_9_9_9_REV;if(n===fG)return r.UNSIGNED_INT_10F_11F_11F_REV;if(n===lG)return r.BYTE;if(n===cG)return r.SHORT;if(n===gS)return r.UNSIGNED_SHORT;if(n===DI)return r.INT;if(n===dg)return r.UNSIGNED_INT;if(n===Uf)return r.FLOAT;if(n===Cb)return r.HALF_FLOAT;if(n===hG)return r.ALPHA;if(n===dG)return r.RGB;if(n===au)return r.RGBA;if(n===yS)return r.DEPTH_COMPONENT;if(n===bS)return r.DEPTH_STENCIL;if(n===kI)return r.RED;if(n===gM)return r.RED_INTEGER;if(n===II)return r.RG;if(n===OI)return r.RG_INTEGER;if(n===PI)return r.RGBA_INTEGER;if(n===$A||n===JA||n===QA||n===e3)if(s===Fa)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===$A)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===JA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===QA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===e3)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===$A)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===JA)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===QA)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===e3)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===OR||n===PR||n===FR||n===BR)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===OR)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===PR)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===FR)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===BR)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===zR||n===jR||n===UR)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(n===zR||n===jR)return s===Fa?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===UR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===VR||n===HR||n===GR||n===WR||n===YR||n===qR||n===XR||n===ZR||n===KR||n===$R||n===JR||n===QR||n===ek||n===tk)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(n===VR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===HR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===GR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===WR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===YR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===qR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===XR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ZR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===KR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===$R)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===JR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===QR)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===ek)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===tk)return s===Fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===rk||n===nk||n===ik)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(n===rk)return s===Fa?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===nk)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===ik)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===ak||n===sk||n===ok||n===lk)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(n===ak)return a.COMPRESSED_RED_RGTC1_EXT;if(n===sk)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===ok)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===lk)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===xS?r.UNSIGNED_INT_24_8:r[n]!==void 0?r[n]:null}return{convert:t}}const Ldt=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Rdt=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class kdt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new AG(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Uh({vertexShader:Ldt,fragmentShader:Rdt,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new El(new fT(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Idt extends Dv{constructor(e,t){super();const n=this;let i=null,a=1,s=null,o="local-floor",l=1,c=null,u=null,f=null,d=null,h=null,p=null;const v=typeof XRWebGLBinding<"u",x=new kdt,g={},_=t.getContextAttributes();let w=null,A=null;const M=[],C=[],N=new er;let L=null;const D=new Fo;D.viewport=new sa;const k=new Fo;k.viewport=new sa;const O=[D,k],I=new Xye;let j=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let ce=M[ae];return ce===void 0&&(ce=new DD,M[ae]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(ae){let ce=M[ae];return ce===void 0&&(ce=new DD,M[ae]=ce),ce.getGripSpace()},this.getHand=function(ae){let ce=M[ae];return ce===void 0&&(ce=new DD,M[ae]=ce),ce.getHandSpace()};function K(ae){const ce=C.indexOf(ae.inputSource);if(ce===-1)return;const ye=M[ce];ye!==void 0&&(ye.update(ae.inputSource,ae.frame,c||s),ye.dispatchEvent({type:ae.type,data:ae.inputSource}))}function H(){i.removeEventListener("select",K),i.removeEventListener("selectstart",K),i.removeEventListener("selectend",K),i.removeEventListener("squeeze",K),i.removeEventListener("squeezestart",K),i.removeEventListener("squeezeend",K),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",Z);for(let ae=0;ae<M.length;ae++){const ce=C[ae];ce!==null&&(C[ae]=null,M[ae].disconnect(ce))}j=null,B=null,x.reset();for(const ae in g)delete g[ae];e.setRenderTarget(w),h=null,d=null,f=null,i=null,A=null,re.stop(),n.isPresenting=!1,e.setPixelRatio(L),e.setSize(N.width,N.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){a=ae,n.isPresenting===!0&&Mr("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){o=ae,n.isPresenting===!0&&Mr("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(ae){c=ae},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f===null&&v&&(f=new XRWebGLBinding(i,t)),f},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(w=e.getRenderTarget(),i.addEventListener("select",K),i.addEventListener("selectstart",K),i.addEventListener("selectend",K),i.addEventListener("squeeze",K),i.addEventListener("squeezestart",K),i.addEventListener("squeezeend",K),i.addEventListener("end",H),i.addEventListener("inputsourceschange",Z),_.xrCompatible!==!0&&await t.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(N),v&&"createProjectionLayer"in XRWebGLBinding.prototype){let ye=null,fe=null,be=null;_.depth&&(be=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ye=_.stencil?bS:yS,fe=_.stencil?xS:dg);const Oe={colorFormat:t.RGBA8,depthFormat:be,scaleFactor:a};f=this.getBinding(),d=f.createProjectionLayer(Oe),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),A=new Sv(d.textureWidth,d.textureHeight,{format:au,type:Ud,depthTexture:new TG(d.textureWidth,d.textureHeight,fe,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}else{const ye={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:a};h=new XRWebGLLayer(i,t,ye),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),A=new Sv(h.framebufferWidth,h.framebufferHeight,{format:au,type:Ud,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(o),re.setContext(i),re.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function Z(ae){for(let ce=0;ce<ae.removed.length;ce++){const ye=ae.removed[ce],fe=C.indexOf(ye);fe>=0&&(C[fe]=null,M[fe].disconnect(ye))}for(let ce=0;ce<ae.added.length;ce++){const ye=ae.added[ce];let fe=C.indexOf(ye);if(fe===-1){for(let Oe=0;Oe<M.length;Oe++)if(Oe>=C.length){C.push(ye),fe=Oe;break}else if(C[Oe]===null){C[Oe]=ye,fe=Oe;break}if(fe===-1)break}const be=M[fe];be&&be.connect(ye)}}const Y=new Ye,J=new Ye;function oe(ae,ce,ye){Y.setFromMatrixPosition(ce.matrixWorld),J.setFromMatrixPosition(ye.matrixWorld);const fe=Y.distanceTo(J),be=ce.projectionMatrix.elements,Oe=ye.projectionMatrix.elements,xe=be[14]/(be[10]-1),Qe=be[14]/(be[10]+1),ne=(be[9]+1)/be[5],te=(be[9]-1)/be[5],Me=(be[8]-1)/be[0],ge=(Oe[8]+1)/Oe[0],de=xe*Me,_e=xe*ge,je=fe/(-Me+ge),Be=je*-Me;if(ce.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(Be),ae.translateZ(je),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),be[10]===-1)ae.projectionMatrix.copy(ce.projectionMatrix),ae.projectionMatrixInverse.copy(ce.projectionMatrixInverse);else{const Fe=xe+je,we=Qe+je,pe=de-Be,ze=_e+(fe-Be),$e=ne*Qe/we*Fe,ht=te*Qe/we*Fe;ae.projectionMatrix.makePerspective(pe,ze,$e,ht,Fe,we),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function X(ae,ce){ce===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(ce.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;let ce=ae.near,ye=ae.far;x.texture!==null&&(x.depthNear>0&&(ce=x.depthNear),x.depthFar>0&&(ye=x.depthFar)),I.near=k.near=D.near=ce,I.far=k.far=D.far=ye,(j!==I.near||B!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),j=I.near,B=I.far),I.layers.mask=ae.layers.mask|6,D.layers.mask=I.layers.mask&3,k.layers.mask=I.layers.mask&5;const fe=ae.parent,be=I.cameras;X(I,fe);for(let Oe=0;Oe<be.length;Oe++)X(be[Oe],fe);be.length===2?oe(I,D,k):I.projectionMatrix.copy(D.projectionMatrix),F(ae,I,fe)};function F(ae,ce,ye){ye===null?ae.matrix.copy(ce.matrixWorld):(ae.matrix.copy(ye.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(ce.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(ce.projectionMatrix),ae.projectionMatrixInverse.copy(ce.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=SS*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(ae){l=ae,d!==null&&(d.fixedFoveation=ae),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=ae)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(I)},this.getCameraTexture=function(ae){return g[ae]};let W=null;function Q(ae,ce){if(u=ce.getViewerPose(c||s),p=ce,u!==null){const ye=u.views;h!==null&&(e.setRenderTargetFramebuffer(A,h.framebuffer),e.setRenderTarget(A));let fe=!1;ye.length!==I.cameras.length&&(I.cameras.length=0,fe=!0);for(let Qe=0;Qe<ye.length;Qe++){const ne=ye[Qe];let te=null;if(h!==null)te=h.getViewport(ne);else{const ge=f.getViewSubImage(d,ne);te=ge.viewport,Qe===0&&(e.setRenderTargetTextures(A,ge.colorTexture,ge.depthStencilTexture),e.setRenderTarget(A))}let Me=O[Qe];Me===void 0&&(Me=new Fo,Me.layers.enable(Qe),Me.viewport=new sa,O[Qe]=Me),Me.matrix.fromArray(ne.transform.matrix),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale),Me.projectionMatrix.fromArray(ne.projectionMatrix),Me.projectionMatrixInverse.copy(Me.projectionMatrix).invert(),Me.viewport.set(te.x,te.y,te.width,te.height),Qe===0&&(I.matrix.copy(Me.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),fe===!0&&I.cameras.push(Me)}const be=i.enabledFeatures;if(be&&be.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&v){f=n.getBinding();const Qe=f.getDepthInformation(ye[0]);Qe&&Qe.isValid&&Qe.texture&&x.init(Qe,i.renderState)}if(be&&be.includes("camera-access")&&v){e.state.unbindTexture(),f=n.getBinding();for(let Qe=0;Qe<ye.length;Qe++){const ne=ye[Qe].camera;if(ne){let te=g[ne];te||(te=new AG,g[ne]=te);const Me=f.getCameraImage(ne);te.sourceTexture=Me}}}}for(let ye=0;ye<M.length;ye++){const fe=C[ye],be=M[ye];fe!==null&&be!==void 0&&be.update(fe,ce,c||s)}W&&W(ae,ce),ce.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:ce}),p=null}const re=new e1e;re.setAnimationLoop(Q),this.setAnimationLoop=function(ae){W=ae},this.dispose=function(){}}}const Y1=new jh,Odt=new Pn;function Pdt(r,e){function t(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function n(x,g){g.color.getRGB(x.fogColor.value,Qxe(r)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function i(x,g,_,w,A){g.isMeshBasicMaterial||g.isMeshLambertMaterial?a(x,g):g.isMeshToonMaterial?(a(x,g),f(x,g)):g.isMeshPhongMaterial?(a(x,g),u(x,g)):g.isMeshStandardMaterial?(a(x,g),d(x,g),g.isMeshPhysicalMaterial&&h(x,g,A)):g.isMeshMatcapMaterial?(a(x,g),p(x,g)):g.isMeshDepthMaterial?a(x,g):g.isMeshDistanceMaterial?(a(x,g),v(x,g)):g.isMeshNormalMaterial?a(x,g):g.isLineBasicMaterial?(s(x,g),g.isLineDashedMaterial&&o(x,g)):g.isPointsMaterial?l(x,g,_,w):g.isSpriteMaterial?c(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function a(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,t(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===Ku&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,t(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===Ku&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,t(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,t(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const _=e.get(g),w=_.envMap,A=_.envMapRotation;w&&(x.envMap.value=w,Y1.copy(A),Y1.x*=-1,Y1.y*=-1,Y1.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(Y1.y*=-1,Y1.z*=-1),x.envMapRotation.value.setFromMatrix4(Odt.makeRotationFromEuler(Y1)),x.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap&&(x.lightMap.value=g.lightMap,x.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,x.lightMapTransform)),g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,x.aoMapTransform))}function s(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform))}function o(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,_,w){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*_,x.scale.value=w*.5,g.map&&(x.map.value=g.map,t(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function u(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function f(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function d(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,x.roughnessMapTransform)),g.envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function h(x,g,_){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ku&&x.clearcoatNormalScale.value.negate())),g.dispersion>0&&(x.dispersion.value=g.dispersion),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=_.texture,x.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,x.specularIntensityMapTransform))}function p(x,g){g.matcap&&(x.matcap.value=g.matcap)}function v(x,g){const _=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(_.matrixWorld),x.nearDistance.value=_.shadow.camera.near,x.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function Fdt(r,e,t,n){let i={},a={},s=[];const o=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,w){const A=w.program;n.uniformBlockBinding(_,A)}function c(_,w){let A=i[_.id];A===void 0&&(p(_),A=u(_),i[_.id]=A,_.addEventListener("dispose",x));const M=w.program;n.updateUBOMapping(_,M);const C=e.render.frame;a[_.id]!==C&&(d(_),a[_.id]=C)}function u(_){const w=f();_.__bindingPointIndex=w;const A=r.createBuffer(),M=_.__size,C=_.usage;return r.bindBuffer(r.UNIFORM_BUFFER,A),r.bufferData(r.UNIFORM_BUFFER,M,C),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,w,A),A}function f(){for(let _=0;_<o;_++)if(s.indexOf(_)===-1)return s.push(_),_;return jn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const w=i[_.id],A=_.uniforms,M=_.__cache;r.bindBuffer(r.UNIFORM_BUFFER,w);for(let C=0,N=A.length;C<N;C++){const L=Array.isArray(A[C])?A[C]:[A[C]];for(let D=0,k=L.length;D<k;D++){const O=L[D];if(h(O,C,D,M)===!0){const I=O.__offset,j=Array.isArray(O.value)?O.value:[O.value];let B=0;for(let K=0;K<j.length;K++){const H=j[K],Z=v(H);typeof H=="number"||typeof H=="boolean"?(O.__data[0]=H,r.bufferSubData(r.UNIFORM_BUFFER,I+B,O.__data)):H.isMatrix3?(O.__data[0]=H.elements[0],O.__data[1]=H.elements[1],O.__data[2]=H.elements[2],O.__data[3]=0,O.__data[4]=H.elements[3],O.__data[5]=H.elements[4],O.__data[6]=H.elements[5],O.__data[7]=0,O.__data[8]=H.elements[6],O.__data[9]=H.elements[7],O.__data[10]=H.elements[8],O.__data[11]=0):(H.toArray(O.__data,B),B+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,I,O.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function h(_,w,A,M){const C=_.value,N=w+"_"+A;if(M[N]===void 0)return typeof C=="number"||typeof C=="boolean"?M[N]=C:M[N]=C.clone(),!0;{const L=M[N];if(typeof C=="number"||typeof C=="boolean"){if(L!==C)return M[N]=C,!0}else if(L.equals(C)===!1)return L.copy(C),!0}return!1}function p(_){const w=_.uniforms;let A=0;const M=16;for(let N=0,L=w.length;N<L;N++){const D=Array.isArray(w[N])?w[N]:[w[N]];for(let k=0,O=D.length;k<O;k++){const I=D[k],j=Array.isArray(I.value)?I.value:[I.value];for(let B=0,K=j.length;B<K;B++){const H=j[B],Z=v(H),Y=A%M,J=Y%Z.boundary,oe=Y+J;A+=J,oe!==0&&M-oe<Z.storage&&(A+=M-oe),I.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=A,A+=Z.storage}}}const C=A%M;return C>0&&(A+=M-C),_.__size=A,_.__cache={},this}function v(_){const w={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(w.boundary=4,w.storage=4):_.isVector2?(w.boundary=8,w.storage=8):_.isVector3||_.isColor?(w.boundary=16,w.storage=12):_.isVector4?(w.boundary=16,w.storage=16):_.isMatrix3?(w.boundary=48,w.storage=48):_.isMatrix4?(w.boundary=64,w.storage=64):_.isTexture?Mr("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Mr("WebGLRenderer: Unsupported uniform value type.",_),w}function x(_){const w=_.target;w.removeEventListener("dispose",x);const A=s.indexOf(w.__bindingPointIndex);s.splice(A,1),r.deleteBuffer(i[w.id]),delete i[w.id],delete a[w.id]}function g(){for(const _ in i)r.deleteBuffer(i[_]);s=[],i={},a={}}return{bind:l,update:c,dispose:g}}const Bdt=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let Mm=null;function zdt(){return Mm===null&&(Mm=new qp(Bdt,32,32,II,Cb),Mm.minFilter=zo,Mm.magFilter=zo,Mm.wrapS=jf,Mm.wrapT=jf,Mm.generateMipmaps=!1,Mm.needsUpdate=!0),Mm}class s1e{constructor(e={}){const{canvas:t=Kxe(),context:n=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:d=!1}=e;this.isWebGLRenderer=!0;let h;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=s;const p=new Set([PI,OI,gM]),v=new Set([Ud,dg,gS,xS,LI,RI]),x=new Uint32Array(4),g=new Int32Array(4);let _=null,w=null;const A=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=fv,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const C=this;let N=!1;this._outputColorSpace=eu;let L=0,D=0,k=null,O=-1,I=null;const j=new sa,B=new sa;let K=null;const H=new Lr(0);let Z=0,Y=t.width,J=t.height,oe=1,X=null,F=null;const W=new sa(0,0,Y,J),Q=new sa(0,0,Y,J);let re=!1;const ae=new uT;let ce=!1,ye=!1;const fe=new Pn,be=new Ye,Oe=new sa,xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Qe=!1;function ne(){return k===null?oe:1}let te=n;function Me(Se,Ke){return t.getContext(Se,Ke)}try{const Se={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${vM}`),t.addEventListener("webglcontextlost",vt,!1),t.addEventListener("webglcontextrestored",Et,!1),t.addEventListener("webglcontextcreationerror",dr,!1),te===null){const Ke="webgl2";if(te=Me(Ke,Se),te===null)throw Me(Ke)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Se){throw Se("WebGLRenderer: "+Se.message),Se}let ge,de,_e,je,Be,Fe,we,pe,ze,$e,ht,Je,Ot,bt,Nt,ir,ft,Dt,tr,Ze,it,Wt,Ue,Ft;function qt(){ge=new Zft(te),ge.init(),Wt=new a1e(te,ge),de=new jft(te,ge,e,Wt),_e=new Ndt(te,ge),de.reversedDepthBuffer&&d&&_e.buffers.depth.setReversed(!0),je=new Jft(te),Be=new mdt,Fe=new Ddt(te,ge,_e,Be,de,Wt,je),we=new Vft(C),pe=new Xft(C),ze=new rct(te),Ue=new Bft(te,ze),$e=new Kft(te,ze,je,Ue),ht=new eht(te,$e,ze,je),tr=new Qft(te,de,Fe),ir=new Uft(Be),Je=new vdt(C,we,pe,ge,de,Ue,ir),Ot=new Pdt(C,Be),bt=new xdt,Nt=new Tdt(ge),Dt=new Fft(C,we,pe,_e,ht,h,l),ft=new Mdt(C,ht,de),Ft=new Fdt(te,je,de,_e),Ze=new zft(te,ge,je),it=new $ft(te,ge,je),je.programs=Je.programs,C.capabilities=de,C.extensions=ge,C.properties=Be,C.renderLists=bt,C.shadowMap=ft,C.state=_e,C.info=je}qt();const Lt=new Idt(C,te);this.xr=Lt,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const Se=ge.get("WEBGL_lose_context");Se&&Se.loseContext()},this.forceContextRestore=function(){const Se=ge.get("WEBGL_lose_context");Se&&Se.restoreContext()},this.getPixelRatio=function(){return oe},this.setPixelRatio=function(Se){Se!==void 0&&(oe=Se,this.setSize(Y,J,!1))},this.getSize=function(Se){return Se.set(Y,J)},this.setSize=function(Se,Ke,et=!0){if(Lt.isPresenting){Mr("WebGLRenderer: Can't change size while VR device is presenting.");return}Y=Se,J=Ke,t.width=Math.floor(Se*oe),t.height=Math.floor(Ke*oe),et===!0&&(t.style.width=Se+"px",t.style.height=Ke+"px"),this.setViewport(0,0,Se,Ke)},this.getDrawingBufferSize=function(Se){return Se.set(Y*oe,J*oe).floor()},this.setDrawingBufferSize=function(Se,Ke,et){Y=Se,J=Ke,oe=et,t.width=Math.floor(Se*et),t.height=Math.floor(Ke*et),this.setViewport(0,0,Se,Ke)},this.getCurrentViewport=function(Se){return Se.copy(j)},this.getViewport=function(Se){return Se.copy(W)},this.setViewport=function(Se,Ke,et,ot){Se.isVector4?W.set(Se.x,Se.y,Se.z,Se.w):W.set(Se,Ke,et,ot),_e.viewport(j.copy(W).multiplyScalar(oe).round())},this.getScissor=function(Se){return Se.copy(Q)},this.setScissor=function(Se,Ke,et,ot){Se.isVector4?Q.set(Se.x,Se.y,Se.z,Se.w):Q.set(Se,Ke,et,ot),_e.scissor(B.copy(Q).multiplyScalar(oe).round())},this.getScissorTest=function(){return re},this.setScissorTest=function(Se){_e.setScissorTest(re=Se)},this.setOpaqueSort=function(Se){X=Se},this.setTransparentSort=function(Se){F=Se},this.getClearColor=function(Se){return Se.copy(Dt.getClearColor())},this.setClearColor=function(){Dt.setClearColor(...arguments)},this.getClearAlpha=function(){return Dt.getClearAlpha()},this.setClearAlpha=function(){Dt.setClearAlpha(...arguments)},this.clear=function(Se=!0,Ke=!0,et=!0){let ot=0;if(Se){let st=!1;if(k!==null){const Xt=k.texture.format;st=p.has(Xt)}if(st){const Xt=k.texture.type,lr=v.has(Xt),_r=Dt.getClearColor(),Sr=Dt.getClearAlpha(),qr=_r.r,Xr=_r.g,Gr=_r.b;lr?(x[0]=qr,x[1]=Xr,x[2]=Gr,x[3]=Sr,te.clearBufferuiv(te.COLOR,0,x)):(g[0]=qr,g[1]=Xr,g[2]=Gr,g[3]=Sr,te.clearBufferiv(te.COLOR,0,g))}else ot|=te.COLOR_BUFFER_BIT}Ke&&(ot|=te.DEPTH_BUFFER_BIT),et&&(ot|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(ot)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",vt,!1),t.removeEventListener("webglcontextrestored",Et,!1),t.removeEventListener("webglcontextcreationerror",dr,!1),Dt.dispose(),bt.dispose(),Nt.dispose(),Be.dispose(),we.dispose(),pe.dispose(),ht.dispose(),Ue.dispose(),Ft.dispose(),Je.dispose(),Lt.dispose(),Lt.removeEventListener("sessionstart",Ei),Lt.removeEventListener("sessionend",Ki),Sn.stop()};function vt(Se){Se.preventDefault(),mE("WebGLRenderer: Context Lost."),N=!0}function Et(){mE("WebGLRenderer: Context Restored."),N=!1;const Se=je.autoReset,Ke=ft.enabled,et=ft.autoUpdate,ot=ft.needsUpdate,st=ft.type;qt(),je.autoReset=Se,ft.enabled=Ke,ft.autoUpdate=et,ft.needsUpdate=ot,ft.type=st}function dr(Se){jn("WebGLRenderer: A WebGL context could not be created. Reason: ",Se.statusMessage)}function vr(Se){const Ke=Se.target;Ke.removeEventListener("dispose",vr),Yr(Ke)}function Yr(Se){Hr(Se),Be.remove(Se)}function Hr(Se){const Ke=Be.get(Se).programs;Ke!==void 0&&(Ke.forEach(function(et){Je.releaseProgram(et)}),Se.isShaderMaterial&&Je.releaseShaderCache(Se))}this.renderBufferDirect=function(Se,Ke,et,ot,st,Xt){Ke===null&&(Ke=xe);const lr=st.isMesh&&st.matrixWorld.determinant()<0,_r=Vt(Se,Ke,et,ot,st);_e.setMaterial(ot,lr);let Sr=et.index,qr=1;if(ot.wireframe===!0){if(Sr=$e.getWireframeAttribute(et),Sr===void 0)return;qr=2}const Xr=et.drawRange,Gr=et.attributes.position;let Zr=Xr.start*qr,Qn=(Xr.start+Xr.count)*qr;Xt!==null&&(Zr=Math.max(Zr,Xt.start*qr),Qn=Math.min(Qn,(Xt.start+Xt.count)*qr)),Sr!==null?(Zr=Math.max(Zr,0),Qn=Math.min(Qn,Sr.count)):Gr!=null&&(Zr=Math.max(Zr,0),Qn=Math.min(Qn,Gr.count));const fi=Qn-Zr;if(fi<0||fi===1/0)return;Ue.setup(st,ot,_r,et,Sr);let ln,Ci=Ze;if(Sr!==null&&(ln=ze.get(Sr),Ci=it,Ci.setIndex(ln)),st.isMesh)ot.wireframe===!0?(_e.setLineWidth(ot.wireframeLinewidth*ne()),Ci.setMode(te.LINES)):Ci.setMode(te.TRIANGLES);else if(st.isLine){let Wr=ot.linewidth;Wr===void 0&&(Wr=1),_e.setLineWidth(Wr*ne()),st.isLineSegments?Ci.setMode(te.LINES):st.isLineLoop?Ci.setMode(te.LINE_LOOP):Ci.setMode(te.LINE_STRIP)}else st.isPoints?Ci.setMode(te.POINTS):st.isSprite&&Ci.setMode(te.TRIANGLES);if(st.isBatchedMesh)if(st._multiDrawInstances!==null)wS("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Ci.renderMultiDrawInstances(st._multiDrawStarts,st._multiDrawCounts,st._multiDrawCount,st._multiDrawInstances);else if(ge.get("WEBGL_multi_draw"))Ci.renderMultiDraw(st._multiDrawStarts,st._multiDrawCounts,st._multiDrawCount);else{const Wr=st._multiDrawStarts,Ni=st._multiDrawCounts,ei=st._multiDrawCount,ji=Sr?ze.get(Sr).bytesPerElement:1,ga=Be.get(ot).currentProgram.getUniforms();for(let pi=0;pi<ei;pi++)ga.setValue(te,"_gl_DrawID",pi),Ci.render(Wr[pi]/ji,Ni[pi])}else if(st.isInstancedMesh)Ci.renderInstances(Zr,fi,st.count);else if(et.isInstancedBufferGeometry){const Wr=et._maxInstanceCount!==void 0?et._maxInstanceCount:1/0,Ni=Math.min(et.instanceCount,Wr);Ci.renderInstances(Zr,fi,Ni)}else Ci.render(Zr,fi)};function xr(Se,Ke,et){Se.transparent===!0&&Se.side===K0&&Se.forceSinglePass===!1?(Se.side=Ku,Se.needsUpdate=!0,Ve(Se,Ke,et),Se.side=fg,Se.needsUpdate=!0,Ve(Se,Ke,et),Se.side=K0):Ve(Se,Ke,et)}this.compile=function(Se,Ke,et=null){et===null&&(et=Se),w=Nt.get(et),w.init(Ke),M.push(w),et.traverseVisible(function(st){st.isLight&&st.layers.test(Ke.layers)&&(w.pushLight(st),st.castShadow&&w.pushShadow(st))}),Se!==et&&Se.traverseVisible(function(st){st.isLight&&st.layers.test(Ke.layers)&&(w.pushLight(st),st.castShadow&&w.pushShadow(st))}),w.setupLights();const ot=new Set;return Se.traverse(function(st){if(!(st.isMesh||st.isPoints||st.isLine||st.isSprite))return;const Xt=st.material;if(Xt)if(Array.isArray(Xt))for(let lr=0;lr<Xt.length;lr++){const _r=Xt[lr];xr(_r,et,st),ot.add(_r)}else xr(Xt,et,st),ot.add(Xt)}),w=M.pop(),ot},this.compileAsync=function(Se,Ke,et=null){const ot=this.compile(Se,Ke,et);return new Promise(st=>{function Xt(){if(ot.forEach(function(lr){Be.get(lr).currentProgram.isReady()&&ot.delete(lr)}),ot.size===0){st(Se);return}setTimeout(Xt,10)}ge.get("KHR_parallel_shader_compile")!==null?Xt():setTimeout(Xt,10)})};let wn=null;function Va(Se){wn&&wn(Se)}function Ei(){Sn.stop()}function Ki(){Sn.start()}const Sn=new e1e;Sn.setAnimationLoop(Va),typeof self<"u"&&Sn.setContext(self),this.setAnimationLoop=function(Se){wn=Se,Lt.setAnimationLoop(Se),Se===null?Sn.stop():Sn.start()},Lt.addEventListener("sessionstart",Ei),Lt.addEventListener("sessionend",Ki),this.render=function(Se,Ke){if(Ke!==void 0&&Ke.isCamera!==!0){jn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;if(Se.matrixWorldAutoUpdate===!0&&Se.updateMatrixWorld(),Ke.parent===null&&Ke.matrixWorldAutoUpdate===!0&&Ke.updateMatrixWorld(),Lt.enabled===!0&&Lt.isPresenting===!0&&(Lt.cameraAutoUpdate===!0&&Lt.updateCamera(Ke),Ke=Lt.getCamera()),Se.isScene===!0&&Se.onBeforeRender(C,Se,Ke,k),w=Nt.get(Se,M.length),w.init(Ke),M.push(w),fe.multiplyMatrices(Ke.projectionMatrix,Ke.matrixWorldInverse),ae.setFromProjectionMatrix(fe,kh,Ke.reversedDepth),ye=this.localClippingEnabled,ce=ir.init(this.clippingPlanes,ye),_=bt.get(Se,A.length),_.init(),A.push(_),Lt.enabled===!0&&Lt.isPresenting===!0){const Xt=C.xr.getDepthSensingMesh();Xt!==null&&Mi(Xt,Ke,-1/0,C.sortObjects)}Mi(Se,Ke,0,C.sortObjects),_.finish(),C.sortObjects===!0&&_.sort(X,F),Qe=Lt.enabled===!1||Lt.isPresenting===!1||Lt.hasDepthSensing()===!1,Qe&&Dt.addToRenderList(_,Se),this.info.render.frame++,ce===!0&&ir.beginShadows();const et=w.state.shadowsArray;ft.render(et,Se,Ke),ce===!0&&ir.endShadows(),this.info.autoReset===!0&&this.info.reset();const ot=_.opaque,st=_.transmissive;if(w.setupLights(),Ke.isArrayCamera){const Xt=Ke.cameras;if(st.length>0)for(let lr=0,_r=Xt.length;lr<_r;lr++){const Sr=Xt[lr];He(ot,st,Se,Sr)}Qe&&Dt.render(Se);for(let lr=0,_r=Xt.length;lr<_r;lr++){const Sr=Xt[lr];Ee(_,Se,Sr,Sr.viewport)}}else st.length>0&&He(ot,st,Se,Ke),Qe&&Dt.render(Se),Ee(_,Se,Ke);k!==null&&D===0&&(Fe.updateMultisampleRenderTarget(k),Fe.updateRenderTargetMipmap(k)),Se.isScene===!0&&Se.onAfterRender(C,Se,Ke),Ue.resetDefaultState(),O=-1,I=null,M.pop(),M.length>0?(w=M[M.length-1],ce===!0&&ir.setGlobalState(C.clippingPlanes,w.state.camera)):w=null,A.pop(),A.length>0?_=A[A.length-1]:_=null};function Mi(Se,Ke,et,ot){if(Se.visible===!1)return;if(Se.layers.test(Ke.layers)){if(Se.isGroup)et=Se.renderOrder;else if(Se.isLOD)Se.autoUpdate===!0&&Se.update(Ke);else if(Se.isLight)w.pushLight(Se),Se.castShadow&&w.pushShadow(Se);else if(Se.isSprite){if(!Se.frustumCulled||ae.intersectsSprite(Se)){ot&&Oe.setFromMatrixPosition(Se.matrixWorld).applyMatrix4(fe);const lr=ht.update(Se),_r=Se.material;_r.visible&&_.push(Se,lr,_r,et,Oe.z,null)}}else if((Se.isMesh||Se.isLine||Se.isPoints)&&(!Se.frustumCulled||ae.intersectsObject(Se))){const lr=ht.update(Se),_r=Se.material;if(ot&&(Se.boundingSphere!==void 0?(Se.boundingSphere===null&&Se.computeBoundingSphere(),Oe.copy(Se.boundingSphere.center)):(lr.boundingSphere===null&&lr.computeBoundingSphere(),Oe.copy(lr.boundingSphere.center)),Oe.applyMatrix4(Se.matrixWorld).applyMatrix4(fe)),Array.isArray(_r)){const Sr=lr.groups;for(let qr=0,Xr=Sr.length;qr<Xr;qr++){const Gr=Sr[qr],Zr=_r[Gr.materialIndex];Zr&&Zr.visible&&_.push(Se,lr,Zr,et,Oe.z,Gr)}}else _r.visible&&_.push(Se,lr,_r,et,Oe.z,null)}}const Xt=Se.children;for(let lr=0,_r=Xt.length;lr<_r;lr++)Mi(Xt[lr],Ke,et,ot)}function Ee(Se,Ke,et,ot){const{opaque:st,transmissive:Xt,transparent:lr}=Se;w.setupLightsView(et),ce===!0&&ir.setGlobalState(C.clippingPlanes,et),ot&&_e.viewport(j.copy(ot)),st.length>0&&ke(st,Ke,et),Xt.length>0&&ke(Xt,Ke,et),lr.length>0&&ke(lr,Ke,et),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1)}function He(Se,Ke,et,ot){if((et.isScene===!0?et.overrideMaterial:null)!==null)return;w.state.transmissionRenderTarget[ot.id]===void 0&&(w.state.transmissionRenderTarget[ot.id]=new Sv(1,1,{generateMipmaps:!0,type:ge.has("EXT_color_buffer_half_float")||ge.has("EXT_color_buffer_float")?Cb:Ud,minFilter:iv,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:qi.workingColorSpace}));const Xt=w.state.transmissionRenderTarget[ot.id],lr=ot.viewport||j;Xt.setSize(lr.z*C.transmissionResolutionScale,lr.w*C.transmissionResolutionScale);const _r=C.getRenderTarget(),Sr=C.getActiveCubeFace(),qr=C.getActiveMipmapLevel();C.setRenderTarget(Xt),C.getClearColor(H),Z=C.getClearAlpha(),Z<1&&C.setClearColor(16777215,.5),C.clear(),Qe&&Dt.render(et);const Xr=C.toneMapping;C.toneMapping=fv;const Gr=ot.viewport;if(ot.viewport!==void 0&&(ot.viewport=void 0),w.setupLightsView(ot),ce===!0&&ir.setGlobalState(C.clippingPlanes,ot),ke(Se,et,ot),Fe.updateMultisampleRenderTarget(Xt),Fe.updateRenderTargetMipmap(Xt),ge.has("WEBGL_multisampled_render_to_texture")===!1){let Zr=!1;for(let Qn=0,fi=Ke.length;Qn<fi;Qn++){const ln=Ke[Qn],{object:Ci,geometry:Wr,material:Ni,group:ei}=ln;if(Ni.side===K0&&Ci.layers.test(ot.layers)){const ji=Ni.side;Ni.side=Ku,Ni.needsUpdate=!0,Re(Ci,et,ot,Wr,Ni,ei),Ni.side=ji,Ni.needsUpdate=!0,Zr=!0}}Zr===!0&&(Fe.updateMultisampleRenderTarget(Xt),Fe.updateRenderTargetMipmap(Xt))}C.setRenderTarget(_r,Sr,qr),C.setClearColor(H,Z),Gr!==void 0&&(ot.viewport=Gr),C.toneMapping=Xr}function ke(Se,Ke,et){const ot=Ke.isScene===!0?Ke.overrideMaterial:null;for(let st=0,Xt=Se.length;st<Xt;st++){const lr=Se[st],{object:_r,geometry:Sr,group:qr}=lr;let Xr=lr.material;Xr.allowOverride===!0&&ot!==null&&(Xr=ot),_r.layers.test(et.layers)&&Re(_r,Ke,et,Sr,Xr,qr)}}function Re(Se,Ke,et,ot,st,Xt){Se.onBeforeRender(C,Ke,et,ot,st,Xt),Se.modelViewMatrix.multiplyMatrices(et.matrixWorldInverse,Se.matrixWorld),Se.normalMatrix.getNormalMatrix(Se.modelViewMatrix),st.onBeforeRender(C,Ke,et,ot,Se,Xt),st.transparent===!0&&st.side===K0&&st.forceSinglePass===!1?(st.side=Ku,st.needsUpdate=!0,C.renderBufferDirect(et,Ke,ot,st,Se,Xt),st.side=fg,st.needsUpdate=!0,C.renderBufferDirect(et,Ke,ot,st,Se,Xt),st.side=K0):C.renderBufferDirect(et,Ke,ot,st,Se,Xt),Se.onAfterRender(C,Ke,et,ot,st,Xt)}function Ve(Se,Ke,et){Ke.isScene!==!0&&(Ke=xe);const ot=Be.get(Se),st=w.state.lights,Xt=w.state.shadowsArray,lr=st.state.version,_r=Je.getParameters(Se,st.state,Xt,Ke,et),Sr=Je.getProgramCacheKey(_r);let qr=ot.programs;ot.environment=Se.isMeshStandardMaterial?Ke.environment:null,ot.fog=Ke.fog,ot.envMap=(Se.isMeshStandardMaterial?pe:we).get(Se.envMap||ot.environment),ot.envMapRotation=ot.environment!==null&&Se.envMap===null?Ke.environmentRotation:Se.envMapRotation,qr===void 0&&(Se.addEventListener("dispose",vr),qr=new Map,ot.programs=qr);let Xr=qr.get(Sr);if(Xr!==void 0){if(ot.currentProgram===Xr&&ot.lightsStateVersion===lr)return wt(Se,_r),Xr}else _r.uniforms=Je.getUniforms(Se),Se.onBeforeCompile(_r,C),Xr=Je.acquireProgram(_r,Sr),qr.set(Sr,Xr),ot.uniforms=_r.uniforms;const Gr=ot.uniforms;return(!Se.isShaderMaterial&&!Se.isRawShaderMaterial||Se.clipping===!0)&&(Gr.clippingPlanes=ir.uniform),wt(Se,_r),ot.needsLights=St(Se),ot.lightsStateVersion=lr,ot.needsLights&&(Gr.ambientLightColor.value=st.state.ambient,Gr.lightProbe.value=st.state.probe,Gr.directionalLights.value=st.state.directional,Gr.directionalLightShadows.value=st.state.directionalShadow,Gr.spotLights.value=st.state.spot,Gr.spotLightShadows.value=st.state.spotShadow,Gr.rectAreaLights.value=st.state.rectArea,Gr.ltc_1.value=st.state.rectAreaLTC1,Gr.ltc_2.value=st.state.rectAreaLTC2,Gr.pointLights.value=st.state.point,Gr.pointLightShadows.value=st.state.pointShadow,Gr.hemisphereLights.value=st.state.hemi,Gr.directionalShadowMap.value=st.state.directionalShadowMap,Gr.directionalShadowMatrix.value=st.state.directionalShadowMatrix,Gr.spotShadowMap.value=st.state.spotShadowMap,Gr.spotLightMatrix.value=st.state.spotLightMatrix,Gr.spotLightMap.value=st.state.spotLightMap,Gr.pointShadowMap.value=st.state.pointShadowMap,Gr.pointShadowMatrix.value=st.state.pointShadowMatrix),ot.currentProgram=Xr,ot.uniformsList=null,Xr}function qe(Se){if(Se.uniformsList===null){const Ke=Se.currentProgram.getUniforms();Se.uniformsList=LD.seqWithValue(Ke.seq,Se.uniforms)}return Se.uniformsList}function wt(Se,Ke){const et=Be.get(Se);et.outputColorSpace=Ke.outputColorSpace,et.batching=Ke.batching,et.batchingColor=Ke.batchingColor,et.instancing=Ke.instancing,et.instancingColor=Ke.instancingColor,et.instancingMorph=Ke.instancingMorph,et.skinning=Ke.skinning,et.morphTargets=Ke.morphTargets,et.morphNormals=Ke.morphNormals,et.morphColors=Ke.morphColors,et.morphTargetsCount=Ke.morphTargetsCount,et.numClippingPlanes=Ke.numClippingPlanes,et.numIntersection=Ke.numClipIntersection,et.vertexAlphas=Ke.vertexAlphas,et.vertexTangents=Ke.vertexTangents,et.toneMapping=Ke.toneMapping}function Vt(Se,Ke,et,ot,st){Ke.isScene!==!0&&(Ke=xe),Fe.resetTextureUnits();const Xt=Ke.fog,lr=ot.isMeshStandardMaterial?Ke.environment:null,_r=k===null?C.outputColorSpace:k.isXRRenderTarget===!0?k.texture.colorSpace:vy,Sr=(ot.isMeshStandardMaterial?pe:we).get(ot.envMap||lr),qr=ot.vertexColors===!0&&!!et.attributes.color&&et.attributes.color.itemSize===4,Xr=!!et.attributes.tangent&&(!!ot.normalMap||ot.anisotropy>0),Gr=!!et.morphAttributes.position,Zr=!!et.morphAttributes.normal,Qn=!!et.morphAttributes.color;let fi=fv;ot.toneMapped&&(k===null||k.isXRRenderTarget===!0)&&(fi=C.toneMapping);const ln=et.morphAttributes.position||et.morphAttributes.normal||et.morphAttributes.color,Ci=ln!==void 0?ln.length:0,Wr=Be.get(ot),Ni=w.state.lights;if(ce===!0&&(ye===!0||Se!==I)){const os=Se===I&&ot.id===O;ir.setState(ot,Se,os)}let ei=!1;ot.version===Wr.__version?(Wr.needsLights&&Wr.lightsStateVersion!==Ni.state.version||Wr.outputColorSpace!==_r||st.isBatchedMesh&&Wr.batching===!1||!st.isBatchedMesh&&Wr.batching===!0||st.isBatchedMesh&&Wr.batchingColor===!0&&st.colorTexture===null||st.isBatchedMesh&&Wr.batchingColor===!1&&st.colorTexture!==null||st.isInstancedMesh&&Wr.instancing===!1||!st.isInstancedMesh&&Wr.instancing===!0||st.isSkinnedMesh&&Wr.skinning===!1||!st.isSkinnedMesh&&Wr.skinning===!0||st.isInstancedMesh&&Wr.instancingColor===!0&&st.instanceColor===null||st.isInstancedMesh&&Wr.instancingColor===!1&&st.instanceColor!==null||st.isInstancedMesh&&Wr.instancingMorph===!0&&st.morphTexture===null||st.isInstancedMesh&&Wr.instancingMorph===!1&&st.morphTexture!==null||Wr.envMap!==Sr||ot.fog===!0&&Wr.fog!==Xt||Wr.numClippingPlanes!==void 0&&(Wr.numClippingPlanes!==ir.numPlanes||Wr.numIntersection!==ir.numIntersection)||Wr.vertexAlphas!==qr||Wr.vertexTangents!==Xr||Wr.morphTargets!==Gr||Wr.morphNormals!==Zr||Wr.morphColors!==Qn||Wr.toneMapping!==fi||Wr.morphTargetsCount!==Ci)&&(ei=!0):(ei=!0,Wr.__version=ot.version);let ji=Wr.currentProgram;ei===!0&&(ji=Ve(ot,Ke,st));let ga=!1,pi=!1,Jl=!1;const ea=ji.getUniforms(),ps=Wr.uniforms;if(_e.useProgram(ji.program)&&(ga=!0,pi=!0,Jl=!0),ot.id!==O&&(O=ot.id,pi=!0),ga||I!==Se){_e.buffers.depth.getReversed()&&Se.reversedDepth!==!0&&(Se._reversedDepth=!0,Se.updateProjectionMatrix()),ea.setValue(te,"projectionMatrix",Se.projectionMatrix),ea.setValue(te,"viewMatrix",Se.matrixWorldInverse);const Ra=ea.map.cameraPosition;Ra!==void 0&&Ra.setValue(te,be.setFromMatrixPosition(Se.matrixWorld)),de.logarithmicDepthBuffer&&ea.setValue(te,"logDepthBufFC",2/(Math.log(Se.far+1)/Math.LN2)),(ot.isMeshPhongMaterial||ot.isMeshToonMaterial||ot.isMeshLambertMaterial||ot.isMeshBasicMaterial||ot.isMeshStandardMaterial||ot.isShaderMaterial)&&ea.setValue(te,"isOrthographic",Se.isOrthographicCamera===!0),I!==Se&&(I=Se,pi=!0,Jl=!0)}if(st.isSkinnedMesh){ea.setOptional(te,st,"bindMatrix"),ea.setOptional(te,st,"bindMatrixInverse");const os=st.skeleton;os&&(os.boneTexture===null&&os.computeBoneTexture(),ea.setValue(te,"boneTexture",os.boneTexture,Fe))}st.isBatchedMesh&&(ea.setOptional(te,st,"batchingTexture"),ea.setValue(te,"batchingTexture",st._matricesTexture,Fe),ea.setOptional(te,st,"batchingIdTexture"),ea.setValue(te,"batchingIdTexture",st._indirectTexture,Fe),ea.setOptional(te,st,"batchingColorTexture"),st._colorsTexture!==null&&ea.setValue(te,"batchingColorTexture",st._colorsTexture,Fe));const ca=et.morphAttributes;if((ca.position!==void 0||ca.normal!==void 0||ca.color!==void 0)&&tr.update(st,et,ji),(pi||Wr.receiveShadow!==st.receiveShadow)&&(Wr.receiveShadow=st.receiveShadow,ea.setValue(te,"receiveShadow",st.receiveShadow)),ot.isMeshGouraudMaterial&&ot.envMap!==null&&(ps.envMap.value=Sr,ps.flipEnvMap.value=Sr.isCubeTexture&&Sr.isRenderTargetTexture===!1?-1:1),ot.isMeshStandardMaterial&&ot.envMap===null&&Ke.environment!==null&&(ps.envMapIntensity.value=Ke.environmentIntensity),ps.dfgLUT!==void 0&&(ps.dfgLUT.value=zdt()),pi&&(ea.setValue(te,"toneMappingExposure",C.toneMappingExposure),Wr.needsLights&&At(ps,Jl),Xt&&ot.fog===!0&&Ot.refreshFogUniforms(ps,Xt),Ot.refreshMaterialUniforms(ps,ot,oe,J,w.state.transmissionRenderTarget[Se.id]),LD.upload(te,qe(Wr),ps,Fe)),ot.isShaderMaterial&&ot.uniformsNeedUpdate===!0&&(LD.upload(te,qe(Wr),ps,Fe),ot.uniformsNeedUpdate=!1),ot.isSpriteMaterial&&ea.setValue(te,"center",st.center),ea.setValue(te,"modelViewMatrix",st.modelViewMatrix),ea.setValue(te,"normalMatrix",st.normalMatrix),ea.setValue(te,"modelMatrix",st.matrixWorld),ot.isShaderMaterial||ot.isRawShaderMaterial){const os=ot.uniformsGroups;for(let Ra=0,Vo=os.length;Ra<Vo;Ra++){const Xs=os[Ra];Ft.update(Xs,ji),Ft.bind(Xs,ji)}}return ji}function At(Se,Ke){Se.ambientLightColor.needsUpdate=Ke,Se.lightProbe.needsUpdate=Ke,Se.directionalLights.needsUpdate=Ke,Se.directionalLightShadows.needsUpdate=Ke,Se.pointLights.needsUpdate=Ke,Se.pointLightShadows.needsUpdate=Ke,Se.spotLights.needsUpdate=Ke,Se.spotLightShadows.needsUpdate=Ke,Se.rectAreaLights.needsUpdate=Ke,Se.hemisphereLights.needsUpdate=Ke}function St(Se){return Se.isMeshLambertMaterial||Se.isMeshToonMaterial||Se.isMeshPhongMaterial||Se.isMeshStandardMaterial||Se.isShadowMaterial||Se.isShaderMaterial&&Se.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return k},this.setRenderTargetTextures=function(Se,Ke,et){const ot=Be.get(Se);ot.__autoAllocateDepthBuffer=Se.resolveDepthBuffer===!1,ot.__autoAllocateDepthBuffer===!1&&(ot.__useRenderToTexture=!1),Be.get(Se.texture).__webglTexture=Ke,Be.get(Se.depthTexture).__webglTexture=ot.__autoAllocateDepthBuffer?void 0:et,ot.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Se,Ke){const et=Be.get(Se);et.__webglFramebuffer=Ke,et.__useDefaultFramebuffer=Ke===void 0};const Mt=te.createFramebuffer();this.setRenderTarget=function(Se,Ke=0,et=0){k=Se,L=Ke,D=et;let ot=!0,st=null,Xt=!1,lr=!1;if(Se){const Sr=Be.get(Se);if(Sr.__useDefaultFramebuffer!==void 0)_e.bindFramebuffer(te.FRAMEBUFFER,null),ot=!1;else if(Sr.__webglFramebuffer===void 0)Fe.setupRenderTarget(Se);else if(Sr.__hasExternalTextures)Fe.rebindTextures(Se,Be.get(Se.texture).__webglTexture,Be.get(Se.depthTexture).__webglTexture);else if(Se.depthBuffer){const Gr=Se.depthTexture;if(Sr.__boundDepthTexture!==Gr){if(Gr!==null&&Be.has(Gr)&&(Se.width!==Gr.image.width||Se.height!==Gr.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Fe.setupDepthRenderbuffer(Se)}}const qr=Se.texture;(qr.isData3DTexture||qr.isDataArrayTexture||qr.isCompressedArrayTexture)&&(lr=!0);const Xr=Be.get(Se).__webglFramebuffer;Se.isWebGLCubeRenderTarget?(Array.isArray(Xr[Ke])?st=Xr[Ke][et]:st=Xr[Ke],Xt=!0):Se.samples>0&&Fe.useMultisampledRTT(Se)===!1?st=Be.get(Se).__webglMultisampledFramebuffer:Array.isArray(Xr)?st=Xr[et]:st=Xr,j.copy(Se.viewport),B.copy(Se.scissor),K=Se.scissorTest}else j.copy(W).multiplyScalar(oe).floor(),B.copy(Q).multiplyScalar(oe).floor(),K=re;if(et!==0&&(st=Mt),_e.bindFramebuffer(te.FRAMEBUFFER,st)&&ot&&_e.drawBuffers(Se,st),_e.viewport(j),_e.scissor(B),_e.setScissorTest(K),Xt){const Sr=Be.get(Se.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,Sr.__webglTexture,et)}else if(lr){const Sr=Ke;for(let qr=0;qr<Se.textures.length;qr++){const Xr=Be.get(Se.textures[qr]);te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0+qr,Xr.__webglTexture,et,Sr)}}else if(Se!==null&&et!==0){const Sr=Be.get(Se.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Sr.__webglTexture,et)}O=-1},this.readRenderTargetPixels=function(Se,Ke,et,ot,st,Xt,lr,_r=0){if(!(Se&&Se.isWebGLRenderTarget)){jn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Sr=Be.get(Se).__webglFramebuffer;if(Se.isWebGLCubeRenderTarget&&lr!==void 0&&(Sr=Sr[lr]),Sr){_e.bindFramebuffer(te.FRAMEBUFFER,Sr);try{const qr=Se.textures[_r],Xr=qr.format,Gr=qr.type;if(!de.textureFormatReadable(Xr)){jn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!de.textureTypeReadable(Gr)){jn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ke>=0&&Ke<=Se.width-ot&&et>=0&&et<=Se.height-st&&(Se.textures.length>1&&te.readBuffer(te.COLOR_ATTACHMENT0+_r),te.readPixels(Ke,et,ot,st,Wt.convert(Xr),Wt.convert(Gr),Xt))}finally{const qr=k!==null?Be.get(k).__webglFramebuffer:null;_e.bindFramebuffer(te.FRAMEBUFFER,qr)}}},this.readRenderTargetPixelsAsync=async function(Se,Ke,et,ot,st,Xt,lr,_r=0){if(!(Se&&Se.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Sr=Be.get(Se).__webglFramebuffer;if(Se.isWebGLCubeRenderTarget&&lr!==void 0&&(Sr=Sr[lr]),Sr)if(Ke>=0&&Ke<=Se.width-ot&&et>=0&&et<=Se.height-st){_e.bindFramebuffer(te.FRAMEBUFFER,Sr);const qr=Se.textures[_r],Xr=qr.format,Gr=qr.type;if(!de.textureFormatReadable(Xr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!de.textureTypeReadable(Gr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Zr=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,Zr),te.bufferData(te.PIXEL_PACK_BUFFER,Xt.byteLength,te.STREAM_READ),Se.textures.length>1&&te.readBuffer(te.COLOR_ATTACHMENT0+_r),te.readPixels(Ke,et,ot,st,Wt.convert(Xr),Wt.convert(Gr),0);const Qn=k!==null?Be.get(k).__webglFramebuffer:null;_e.bindFramebuffer(te.FRAMEBUFFER,Qn);const fi=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),await nst(te,fi,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,Zr),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,Xt),te.deleteBuffer(Zr),te.deleteSync(fi),Xt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Se,Ke=null,et=0){const ot=Math.pow(2,-et),st=Math.floor(Se.image.width*ot),Xt=Math.floor(Se.image.height*ot),lr=Ke!==null?Ke.x:0,_r=Ke!==null?Ke.y:0;Fe.setTexture2D(Se,0),te.copyTexSubImage2D(te.TEXTURE_2D,et,0,0,lr,_r,st,Xt),_e.unbindTexture()};const sr=te.createFramebuffer(),or=te.createFramebuffer();this.copyTextureToTexture=function(Se,Ke,et=null,ot=null,st=0,Xt=null){Xt===null&&(st!==0?(wS("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Xt=st,st=0):Xt=0);let lr,_r,Sr,qr,Xr,Gr,Zr,Qn,fi;const ln=Se.isCompressedTexture?Se.mipmaps[Xt]:Se.image;if(et!==null)lr=et.max.x-et.min.x,_r=et.max.y-et.min.y,Sr=et.isBox3?et.max.z-et.min.z:1,qr=et.min.x,Xr=et.min.y,Gr=et.isBox3?et.min.z:0;else{const ca=Math.pow(2,-st);lr=Math.floor(ln.width*ca),_r=Math.floor(ln.height*ca),Se.isDataArrayTexture?Sr=ln.depth:Se.isData3DTexture?Sr=Math.floor(ln.depth*ca):Sr=1,qr=0,Xr=0,Gr=0}ot!==null?(Zr=ot.x,Qn=ot.y,fi=ot.z):(Zr=0,Qn=0,fi=0);const Ci=Wt.convert(Ke.format),Wr=Wt.convert(Ke.type);let Ni;Ke.isData3DTexture?(Fe.setTexture3D(Ke,0),Ni=te.TEXTURE_3D):Ke.isDataArrayTexture||Ke.isCompressedArrayTexture?(Fe.setTexture2DArray(Ke,0),Ni=te.TEXTURE_2D_ARRAY):(Fe.setTexture2D(Ke,0),Ni=te.TEXTURE_2D),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,Ke.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ke.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,Ke.unpackAlignment);const ei=te.getParameter(te.UNPACK_ROW_LENGTH),ji=te.getParameter(te.UNPACK_IMAGE_HEIGHT),ga=te.getParameter(te.UNPACK_SKIP_PIXELS),pi=te.getParameter(te.UNPACK_SKIP_ROWS),Jl=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,ln.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,ln.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,qr),te.pixelStorei(te.UNPACK_SKIP_ROWS,Xr),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Gr);const ea=Se.isDataArrayTexture||Se.isData3DTexture,ps=Ke.isDataArrayTexture||Ke.isData3DTexture;if(Se.isDepthTexture){const ca=Be.get(Se),os=Be.get(Ke),Ra=Be.get(ca.__renderTarget),Vo=Be.get(os.__renderTarget);_e.bindFramebuffer(te.READ_FRAMEBUFFER,Ra.__webglFramebuffer),_e.bindFramebuffer(te.DRAW_FRAMEBUFFER,Vo.__webglFramebuffer);for(let Xs=0;Xs<Sr;Xs++)ea&&(te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Be.get(Se).__webglTexture,st,Gr+Xs),te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Be.get(Ke).__webglTexture,Xt,fi+Xs)),te.blitFramebuffer(qr,Xr,lr,_r,Zr,Qn,lr,_r,te.DEPTH_BUFFER_BIT,te.NEAREST);_e.bindFramebuffer(te.READ_FRAMEBUFFER,null),_e.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else if(st!==0||Se.isRenderTargetTexture||Be.has(Se)){const ca=Be.get(Se),os=Be.get(Ke);_e.bindFramebuffer(te.READ_FRAMEBUFFER,sr),_e.bindFramebuffer(te.DRAW_FRAMEBUFFER,or);for(let Ra=0;Ra<Sr;Ra++)ea?te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,ca.__webglTexture,st,Gr+Ra):te.framebufferTexture2D(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,ca.__webglTexture,st),ps?te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,os.__webglTexture,Xt,fi+Ra):te.framebufferTexture2D(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,os.__webglTexture,Xt),st!==0?te.blitFramebuffer(qr,Xr,lr,_r,Zr,Qn,lr,_r,te.COLOR_BUFFER_BIT,te.NEAREST):ps?te.copyTexSubImage3D(Ni,Xt,Zr,Qn,fi+Ra,qr,Xr,lr,_r):te.copyTexSubImage2D(Ni,Xt,Zr,Qn,qr,Xr,lr,_r);_e.bindFramebuffer(te.READ_FRAMEBUFFER,null),_e.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else ps?Se.isDataTexture||Se.isData3DTexture?te.texSubImage3D(Ni,Xt,Zr,Qn,fi,lr,_r,Sr,Ci,Wr,ln.data):Ke.isCompressedArrayTexture?te.compressedTexSubImage3D(Ni,Xt,Zr,Qn,fi,lr,_r,Sr,Ci,ln.data):te.texSubImage3D(Ni,Xt,Zr,Qn,fi,lr,_r,Sr,Ci,Wr,ln):Se.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,Xt,Zr,Qn,lr,_r,Ci,Wr,ln.data):Se.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,Xt,Zr,Qn,ln.width,ln.height,Ci,ln.data):te.texSubImage2D(te.TEXTURE_2D,Xt,Zr,Qn,lr,_r,Ci,Wr,ln);te.pixelStorei(te.UNPACK_ROW_LENGTH,ei),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,ji),te.pixelStorei(te.UNPACK_SKIP_PIXELS,ga),te.pixelStorei(te.UNPACK_SKIP_ROWS,pi),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Jl),Xt===0&&Ke.generateMipmaps&&te.generateMipmap(Ni),_e.unbindTexture()},this.initRenderTarget=function(Se){Be.get(Se).__webglFramebuffer===void 0&&Fe.setupRenderTarget(Se)},this.initTexture=function(Se){Se.isCubeTexture?Fe.setTextureCube(Se,0):Se.isData3DTexture?Fe.setTexture3D(Se,0):Se.isDataArrayTexture||Se.isCompressedArrayTexture?Fe.setTexture2DArray(Se,0):Fe.setTexture2D(Se,0),_e.unbindTexture()},this.resetState=function(){L=0,D=0,k=null,_e.reset(),Ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return kh}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=qi._getDrawingBufferColorSpace(e),t.unpackColorSpace=qi._getUnpackColorSpace()}}const jdt=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:sG,AddEquation:Dx,AddOperation:Cxe,AdditiveAnimationBlendMode:pG,AdditiveBlending:sE,AgXToneMapping:kxe,AlphaFormat:hG,AlwaysCompare:Xxe,AlwaysDepth:NR,AlwaysStencilFunc:Pj,AmbientLight:Vye,AnimationAction:$ye,AnimationClip:wE,AnimationLoader:qot,AnimationMixer:wlt,AnimationObjectGroup:blt,AnimationUtils:Hot,ArcCurve:dye,ArrayCamera:Xye,ArrowHelper:qlt,AttachedBindMode:Oj,Audio:Zye,AudioAnalyser:ult,AudioContext:jG,AudioListener:olt,AudioLoader:ilt,AxesHelper:Xlt,BackSide:Ku,BasicDepthPacking:zxe,BasicShadowMap:lxe,BatchedMesh:lye,Bone:wG,BooleanKeyframeTrack:Lb,Box2:Llt,Box3:fu,Box3Helper:Wlt,BoxGeometry:Db,BoxHelper:Glt,BufferAttribute:Ka,BufferGeometry:ii,BufferGeometryLoader:qye,ByteType:lG,Cache:av,Camera:jI,CameraHelper:Hlt,CanvasTexture:hot,CapsuleGeometry:qI,CatmullRomCurve3:pye,CineonToneMapping:Lxe,CircleGeometry:XI,ClampToEdgeWrapping:jf,Clock:UG,Color:Lr,ColorKeyframeTrack:FG,ColorManagement:qi,CompressedArrayTexture:uot,CompressedCubeTexture:fot,CompressedTexture:YI,CompressedTextureLoader:Xot,ConeGeometry:bM,ConstantAlphaFactor:Axe,ConstantColorFactor:Sxe,Controls:Klt,CubeCamera:tye,CubeReflectionMapping:hg,CubeRefractionMapping:py,CubeTexture:xM,CubeTextureLoader:Zot,CubeUVReflectionMapping:cT,CubicBezierCurve:MG,CubicBezierCurve3:vye,CubicInterpolant:Iye,CullFaceBack:Rj,CullFaceFront:oxe,CullFaceFrontBack:gat,CullFaceNone:sxe,Curve:i0,CurvePath:gye,CustomBlending:cxe,CustomToneMapping:Rxe,CylinderGeometry:yM,Cylindrical:Dlt,Data3DTexture:zI,DataArrayTexture:BI,DataTexture:qp,DataTextureLoader:Kot,DataUtils:Ost,DecrementStencilOp:Lat,DecrementWrapStencilOp:kat,DefaultLoadingManager:Fye,DepthFormat:yS,DepthStencilFormat:bS,DepthTexture:TG,DetachedBindMode:Oxe,DirectionalLight:Uye,DirectionalLightHelper:Vlt,DiscreteInterpolant:Oye,DodecahedronGeometry:ZI,DoubleSide:K0,DstAlphaFactor:xxe,DstColorFactor:bxe,DynamicCopyUsage:Xat,DynamicDrawUsage:Vat,DynamicReadUsage:Wat,EdgesGeometry:hye,EllipseCurve:KI,EqualCompare:Gxe,EqualDepth:LR,EqualStencilFunc:Fat,EquirectangularReflectionMapping:oE,EquirectangularRefractionMapping:lE,Euler:jh,EventDispatcher:Dv,ExternalTexture:AG,ExtrudeGeometry:$I,FileLoader:pg,Float16BufferAttribute:Vst,Float32BufferAttribute:rn,FloatType:Uf,Fog:VI,FogExp2:UI,FramebufferTexture:cot,FrontSide:fg,Frustum:uT,FrustumArray:WI,GLBufferAttribute:Mlt,GLSL1:Kat,GLSL3:Fj,GreaterCompare:Wxe,GreaterDepth:kR,GreaterEqualCompare:qxe,GreaterEqualDepth:RR,GreaterEqualStencilFunc:Uat,GreaterStencilFunc:zat,GridHelper:jlt,Group:Ew,HalfFloatType:Cb,HemisphereLight:Bye,HemisphereLightHelper:zlt,IcosahedronGeometry:JI,ImageBitmapLoader:nlt,ImageLoader:SE,ImageUtils:$xe,IncrementStencilOp:Dat,IncrementWrapStencilOp:Rat,InstancedBufferAttribute:ES,InstancedBufferGeometry:Yye,InstancedInterleavedBuffer:Elt,InstancedMesh:oye,Int16BufferAttribute:jst,Int32BufferAttribute:Ust,Int8BufferAttribute:Fst,IntType:DI,InterleavedBuffer:HI,InterleavedBufferAttribute:ob,Interpolant:SM,InterpolateDiscrete:fE,InterpolateLinear:ck,InterpolateSmooth:ND,InterpolationSamplingMode:Qat,InterpolationSamplingType:Jat,InvertStencilOp:Iat,KeepStencilOp:i2,KeyframeTrack:Yd,LOD:aye,LatheGeometry:QI,Layers:TS,LessCompare:Hxe,LessDepth:DR,LessEqualCompare:vG,LessEqualDepth:sb,LessEqualStencilFunc:Bat,LessStencilFunc:Pat,Light:Ry,LightProbe:Wye,Line:gy,Line3:Ilt,LineBasicMaterial:rf,LineCurve:CG,LineCurve3:mye,LineDashedMaterial:Lye,LineLoop:cye,LineSegments:Lv,LinearFilter:zo,LinearInterpolant:PG,LinearMipMapLinearFilter:_at,LinearMipMapNearestFilter:bat,LinearMipmapLinearFilter:iv,LinearMipmapNearestFilter:KA,LinearSRGBColorSpace:vy,LinearToneMapping:Nxe,LinearTransfer:dE,Loader:Zf,LoaderUtils:Vj,LoadingManager:BG,LoopOnce:Pxe,LoopPingPong:Bxe,LoopRepeat:Fxe,MOUSE:r2,Material:vu,MaterialLoader:s6,MathUtils:bst,Matrix2:WG,Matrix3:ni,Matrix4:Pn,MaxEquation:dxe,Mesh:El,MeshBasicMaterial:Dy,MeshDepthMaterial:kG,MeshDistanceMaterial:IG,MeshLambertMaterial:Nye,MeshMatcapMaterial:Dye,MeshNormalMaterial:Cye,MeshPhongMaterial:Eye,MeshPhysicalMaterial:Aye,MeshStandardMaterial:RG,MeshToonMaterial:Mye,MinEquation:hxe,MirroredRepeatWrapping:uE,MixOperation:Mxe,MultiplyBlending:Ij,MultiplyOperation:mM,NearestFilter:yc,NearestMipMapLinearFilter:yat,NearestMipMapNearestFilter:xat,NearestMipmapLinearFilter:Tw,NearestMipmapNearestFilter:oG,NeutralToneMapping:Ixe,NeverCompare:Vxe,NeverDepth:CR,NeverStencilFunc:Oat,NoBlending:uv,NoColorSpace:Im,NoToneMapping:fv,NormalAnimationBlendMode:FI,NormalBlending:B2,NotEqualCompare:Yxe,NotEqualDepth:IR,NotEqualStencilFunc:jat,NumberKeyframeTrack:bE,Object3D:Qi,ObjectLoader:tlt,ObjectSpaceNormalMap:Uxe,OctahedronGeometry:_M,OneFactor:vxe,OneMinusConstantAlphaFactor:Exe,OneMinusConstantColorFactor:Txe,OneMinusDstAlphaFactor:yxe,OneMinusDstColorFactor:_xe,OneMinusSrcAlphaFactor:MR,OneMinusSrcColorFactor:gxe,OrthographicCamera:ry,PCFShadowMap:CI,PCFSoftShadowMap:ZA,PMREMGenerator:Wj,Path:dk,PerspectiveCamera:Fo,Plane:Rm,PlaneGeometry:fT,PlaneHelper:Ylt,PointLight:jye,PointLightHelper:Flt,Points:uye,PointsMaterial:SG,PolarGridHelper:Ult,PolyhedronGeometry:Ly,PositionalAudio:clt,PropertyBinding:aa,PropertyMixer:Kye,QuadraticBezierCurve:NG,QuadraticBezierCurve3:DG,Quaternion:uu,QuaternionKeyframeTrack:TM,QuaternionLinearInterpolant:Pye,RED_GREEN_RGTC2_Format:ok,RED_RGTC1_Format:ak,REVISION:vM,RGBADepthPacking:jxe,RGBAFormat:au,RGBAIntegerFormat:PI,RGBA_ASTC_10x10_Format:QR,RGBA_ASTC_10x5_Format:KR,RGBA_ASTC_10x6_Format:$R,RGBA_ASTC_10x8_Format:JR,RGBA_ASTC_12x10_Format:ek,RGBA_ASTC_12x12_Format:tk,RGBA_ASTC_4x4_Format:VR,RGBA_ASTC_5x4_Format:HR,RGBA_ASTC_5x5_Format:GR,RGBA_ASTC_6x5_Format:WR,RGBA_ASTC_6x6_Format:YR,RGBA_ASTC_8x5_Format:qR,RGBA_ASTC_8x6_Format:XR,RGBA_ASTC_8x8_Format:ZR,RGBA_BPTC_Format:rk,RGBA_ETC2_EAC_Format:UR,RGBA_PVRTC_2BPPV1_Format:BR,RGBA_PVRTC_4BPPV1_Format:FR,RGBA_S3TC_DXT1_Format:JA,RGBA_S3TC_DXT3_Format:QA,RGBA_S3TC_DXT5_Format:e3,RGBDepthPacking:Eat,RGBFormat:dG,RGBIntegerFormat:wat,RGB_BPTC_SIGNED_Format:nk,RGB_BPTC_UNSIGNED_Format:ik,RGB_ETC1_Format:zR,RGB_ETC2_Format:jR,RGB_PVRTC_2BPPV1_Format:PR,RGB_PVRTC_4BPPV1_Format:OR,RGB_S3TC_DXT1_Format:$A,RGDepthPacking:Mat,RGFormat:II,RGIntegerFormat:OI,RawShaderMaterial:Tye,Ray:Nb,Raycaster:Jye,RectAreaLight:Hye,RedFormat:kI,RedIntegerFormat:gM,ReinhardToneMapping:Dxe,RenderTarget:gG,RenderTarget3D:Slt,RepeatWrapping:cE,ReplaceStencilOp:Nat,ReverseSubtractEquation:fxe,RingGeometry:e6,SIGNED_RED_GREEN_RGTC2_Format:lk,SIGNED_RED_RGTC1_Format:sk,SRGBColorSpace:eu,SRGBTransfer:Fa,Scene:bG,ShaderChunk:ci,ShaderLib:Ip,ShaderMaterial:Uh,ShadowMaterial:Sye,Shape:j2,ShapeGeometry:t6,ShapePath:Zlt,ShapeUtils:jp,ShortType:cG,Skeleton:GI,SkeletonHelper:Plt,SkinnedMesh:sye,Source:Gx,Sphere:bc,SphereGeometry:wM,Spherical:pk,SphericalHarmonics3:Gye,SplineCurve:LG,SpotLight:zye,SpotLightHelper:Olt,Sprite:iye,SpriteMaterial:_G,SrcAlphaFactor:ER,SrcAlphaSaturateFactor:wxe,SrcColorFactor:mxe,StaticCopyUsage:qat,StaticDrawUsage:pE,StaticReadUsage:Gat,StereoCamera:alt,StreamCopyUsage:Zat,StreamDrawUsage:Hat,StreamReadUsage:Yat,StringKeyframeTrack:Rb,SubtractEquation:uxe,SubtractiveBlending:kj,TOUCH:n2,TangentSpaceNormalMap:Ny,TetrahedronGeometry:r6,Texture:go,TextureLoader:$ot,TextureUtils:tct,Timer:Clt,TimestampQuery:$at,TorusGeometry:n6,TorusKnotGeometry:i6,Triangle:zf,TriangleFanDrawMode:Aat,TriangleStripDrawMode:Tat,TrianglesDrawMode:Sat,TubeGeometry:a6,UVMapping:NI,Uint16BufferAttribute:xG,Uint32BufferAttribute:yG,Uint8BufferAttribute:Bst,Uint8ClampedBufferAttribute:zst,Uniform:GG,UniformsGroup:Alt,UniformsLib:Er,UniformsUtils:eye,UnsignedByteType:Ud,UnsignedInt101111Type:fG,UnsignedInt248Type:xS,UnsignedInt5999Type:uG,UnsignedIntType:dg,UnsignedShort4444Type:LI,UnsignedShort5551Type:RI,UnsignedShortType:gS,VSMShadowMap:kp,Vector2:er,Vector3:Ye,Vector4:sa,VectorKeyframeTrack:_E,VideoFrameTexture:lot,VideoTexture:fye,WebGL3DRenderTarget:Ast,WebGLArrayRenderTarget:Tst,WebGLCoordinateSystem:kh,WebGLCubeRenderTarget:rye,WebGLRenderTarget:Sv,WebGLRenderer:s1e,WebGLUtils:a1e,WebGPUCoordinateSystem:_S,WebXRController:DD,WireframeGeometry:wye,WrapAroundEnding:hE,ZeroCurvatureEnding:w2,ZeroFactor:pxe,ZeroSlopeEnding:S2,ZeroStencilOp:Cat,createCanvasElement:Kxe,error:jn,getConsoleFunction:rst,log:mE,setConsoleFunction:tst,warn:Mr,warnOnce:wS},Symbol.toStringTag,{value:"Module"}));var sB={exports:{}},oB={},lB={exports:{}},cB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kae;function Udt(){if(Kae)return cB;Kae=1;var r=RS();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,i=r.useEffect,a=r.useLayoutEffect,s=r.useDebugValue;function o(f,d){var h=d(),p=n({inst:{value:h,getSnapshot:d}}),v=p[0].inst,x=p[1];return a(function(){v.value=h,v.getSnapshot=d,l(v)&&x({inst:v})},[f,h,d]),i(function(){return l(v)&&x({inst:v}),f(function(){l(v)&&x({inst:v})})},[f]),s(h),h}function l(f){var d=f.getSnapshot;f=f.value;try{var h=d();return!t(f,h)}catch{return!0}}function c(f,d){return d()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return cB.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:u,cB}var $ae;function Vdt(){return $ae||($ae=1,lB.exports=Udt()),lB.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jae;function Hdt(){if(Jae)return oB;Jae=1;var r=RS(),e=Vdt();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=r.useRef,s=r.useEffect,o=r.useMemo,l=r.useDebugValue;return oB.useSyncExternalStoreWithSelector=function(c,u,f,d,h){var p=a(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=o(function(){function g(C){if(!_){if(_=!0,w=C,C=d(C),h!==void 0&&v.hasValue){var N=v.value;if(h(N,C))return A=N}return A=C}if(N=A,n(w,C))return N;var L=d(C);return h!==void 0&&h(N,L)?(w=C,N):(w=C,A=L)}var _=!1,w,A,M=f===void 0?null:f;return[function(){return g(u())},M===null?void 0:function(){return g(M())}]},[u,f,d,h]);var x=i(c,p[0],p[1]);return s(function(){v.hasValue=!0,v.value=x},[x]),l(x),x},oB}var Qae;function Gdt(){return Qae||(Qae=1,sB.exports=Hdt()),sB.exports}var Wdt=Gdt();const Ydt=LS(Wdt),ese=r=>{let e;const t=new Set,n=(c,u)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const d=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(h=>h(e,d))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=r(n,i,o);return o},qdt=(r=>r?ese(r):ese),{useSyncExternalStoreWithSelector:Xdt}=Ydt,Zdt=r=>r;function Kdt(r,e=Zdt,t){const n=Xdt(r.subscribe,r.getState,r.getInitialState,e,t);return yi.useDebugValue(n),n}const tse=(r,e)=>{const t=qdt(r),n=(i,a=e)=>Kdt(t,i,a);return Object.assign(n,t),n},$dt=((r,e)=>r?tse(r,e):tse);var uB={exports:{}},fB={exports:{}},hB={exports:{}},dB={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rse;function Jdt(){return rse||(rse=1,(function(r){function e(H,Z){var Y=H.length;H.push(Z);e:for(;0<Y;){var J=Y-1>>>1,oe=H[J];if(0<i(oe,Z))H[J]=Z,H[Y]=oe,Y=J;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Z=H[0],Y=H.pop();if(Y!==Z){H[0]=Y;e:for(var J=0,oe=H.length,X=oe>>>1;J<X;){var F=2*(J+1)-1,W=H[F],Q=F+1,re=H[Q];if(0>i(W,Y))Q<oe&&0>i(re,W)?(H[J]=re,H[Q]=Y,J=Q):(H[J]=W,H[F]=Y,J=F);else if(Q<oe&&0>i(re,Y))H[J]=re,H[Q]=Y,J=Q;else break e}}return Z}function i(H,Z){var Y=H.sortIndex-Z.sortIndex;return Y!==0?Y:H.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var Z=t(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=H)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function A(H){if(v=!1,w(H),!p)if(t(l)!==null)p=!0,B();else{var Z=t(c);Z!==null&&K(A,Z.startTime-H)}}var M=!1,C=-1,N=5,L=-1;function D(){return!(r.unstable_now()-L<N)}function k(){if(M){var H=r.unstable_now();L=H;var Z=!0;try{e:{p=!1,v&&(v=!1,g(C),C=-1),h=!0;var Y=d;try{t:{for(w(H),f=t(l);f!==null&&!(f.expirationTime>H&&D());){var J=f.callback;if(typeof J=="function"){f.callback=null,d=f.priorityLevel;var oe=J(f.expirationTime<=H);if(H=r.unstable_now(),typeof oe=="function"){f.callback=oe,w(H),Z=!0;break t}f===t(l)&&n(l),w(H)}else n(l);f=t(l)}if(f!==null)Z=!0;else{var X=t(c);X!==null&&K(A,X.startTime-H),Z=!1}}break e}finally{f=null,d=Y,h=!1}Z=void 0}}finally{Z?O():M=!1}}}var O;if(typeof _=="function")O=function(){_(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,j=I.port2;I.port1.onmessage=k,O=function(){j.postMessage(null)}}else O=function(){x(k,0)};function B(){M||(M=!0,O())}function K(H,Z){C=x(function(){H(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_continueExecution=function(){p||h||(p=!0,B())},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(H){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var Y=d;d=Z;try{return H()}finally{d=Y}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=d;d=H;try{return Z()}finally{d=Y}},r.unstable_scheduleCallback=function(H,Z,Y){var J=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?J+Y:J):Y=J,H){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Y+oe,H={id:u++,callback:Z,priorityLevel:H,startTime:Y,expirationTime:oe,sortIndex:-1},Y>J?(H.sortIndex=Y,e(c,H),t(l)===null&&H===t(c)&&(v?(g(C),C=-1):v=!0,K(A,Y-J))):(H.sortIndex=oe,e(l,H),p||h||(p=!0,B())),H},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(H){var Z=d;return function(){var Y=d;d=Z;try{return H.apply(this,arguments)}finally{d=Y}}}})(dB)),dB}var nse;function o1e(){return nse||(nse=1,hB.exports=Jdt()),hB.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ise;function Qdt(){return ise||(ise=1,(function(r){r.exports=function(e){function t(S,T,P,V){return new Ag(S,T,P,V)}function n(){}function i(S){var T="https://react.dev/errors/"+S;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var P=2;P<arguments.length;P++)T+="&args[]="+encodeURIComponent(arguments[P])}return"Minified React error #"+S+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(S){return S===null||typeof S!="object"?null:(S=Yt&&S[Yt]||S["@@iterator"],typeof S=="function"?S:null)}function s(S){if(S==null)return null;if(typeof S=="function")return S.$$typeof===Tt?null:S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case se:return"Fragment";case G:return"Portal";case Ae:return"Profiler";case ue:return"StrictMode";case We:return"Suspense";case at:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case Le:return(S.displayName||"Context")+".Provider";case Ne:return(S._context.displayName||"Context")+".Consumer";case Pe:var T=S.render;return S=S.displayName,S||(S=T.displayName||T.name||"",S=S!==""?"ForwardRef("+S+")":"ForwardRef"),S;case Ct:return T=S.displayName||null,T!==null?T:s(S.type)||"Memo";case Ge:T=S._payload,S=S._init;try{return s(S(T))}catch{}}return null}function o(S){if(Zt===void 0)try{throw Error()}catch(P){var T=P.stack.trim().match(/\n( *(at )?)/);Zt=T&&T[1]||"",cr=-1<P.stack.indexOf(`
    at`)?" (<anonymous>)":-1<P.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+S+cr}function l(S,T){if(!S||rr)return"";rr=!0;var P=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var V={DetermineComponentFrameRoot:function(){try{if(T){var Ar=function(){throw Error()};if(Object.defineProperty(Ar.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ar,[])}catch(Bn){var Dr=Bn}Reflect.construct(S,[],Ar)}else{try{Ar.call()}catch(Bn){Dr=Bn}S.call(Ar.prototype)}}else{try{throw Error()}catch(Bn){Dr=Bn}(Ar=S())&&typeof Ar.catch=="function"&&Ar.catch(function(){})}}catch(Bn){if(Bn&&Dr&&typeof Bn.stack=="string")return[Bn.stack,Dr.stack]}return[null,null]}};V.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var ee=Object.getOwnPropertyDescriptor(V.DetermineComponentFrameRoot,"name");ee&&ee.configurable&&Object.defineProperty(V.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var le=V.DetermineComponentFrameRoot(),Ie=le[0],tt=le[1];if(Ie&&tt){var yt=Ie.split(`
`),Jt=tt.split(`
`);for(ee=V=0;V<yt.length&&!yt[V].includes("DetermineComponentFrameRoot");)V++;for(;ee<Jt.length&&!Jt[ee].includes("DetermineComponentFrameRoot");)ee++;if(V===yt.length||ee===Jt.length)for(V=yt.length-1,ee=Jt.length-1;1<=V&&0<=ee&&yt[V]!==Jt[ee];)ee--;for(;1<=V&&0<=ee;V--,ee--)if(yt[V]!==Jt[ee]){if(V!==1||ee!==1)do if(V--,ee--,0>ee||yt[V]!==Jt[ee]){var mr=`
`+yt[V].replace(" at new "," at ");return S.displayName&&mr.includes("<anonymous>")&&(mr=mr.replace("<anonymous>",S.displayName)),mr}while(1<=V&&0<=ee);break}}}finally{rr=!1,Error.prepareStackTrace=P}return(P=S?S.displayName||S.name:"")?o(P):""}function c(S){switch(S.tag){case 26:case 27:case 5:return o(S.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return S=l(S.type,!1),S;case 11:return S=l(S.type.render,!1),S;case 1:return S=l(S.type,!0),S;default:return""}}function u(S){try{var T="";do T+=c(S),S=S.return;while(S);return T}catch(P){return`
Error generating stack: `+P.message+`
`+P.stack}}function f(S){var T=S,P=S;if(S.alternate)for(;T.return;)T=T.return;else{S=T;do T=S,(T.flags&4098)!==0&&(P=T.return),S=T.return;while(S)}return T.tag===3?P:null}function d(S){if(f(S)!==S)throw Error(i(188))}function h(S){var T=S.alternate;if(!T){if(T=f(S),T===null)throw Error(i(188));return T!==S?null:S}for(var P=S,V=T;;){var ee=P.return;if(ee===null)break;var le=ee.alternate;if(le===null){if(V=ee.return,V!==null){P=V;continue}break}if(ee.child===le.child){for(le=ee.child;le;){if(le===P)return d(ee),S;if(le===V)return d(ee),T;le=le.sibling}throw Error(i(188))}if(P.return!==V.return)P=ee,V=le;else{for(var Ie=!1,tt=ee.child;tt;){if(tt===P){Ie=!0,P=ee,V=le;break}if(tt===V){Ie=!0,V=ee,P=le;break}tt=tt.sibling}if(!Ie){for(tt=le.child;tt;){if(tt===P){Ie=!0,P=le,V=ee;break}if(tt===V){Ie=!0,V=le,P=ee;break}tt=tt.sibling}if(!Ie)throw Error(i(189))}}if(P.alternate!==V)throw Error(i(190))}if(P.tag!==3)throw Error(i(188));return P.stateNode.current===P?S:T}function p(S){var T=S.tag;if(T===5||T===26||T===27||T===6)return S;for(S=S.child;S!==null;){if(T=p(S),T!==null)return T;S=S.sibling}return null}function v(S){var T=S.tag;if(T===5||T===26||T===27||T===6)return S;for(S=S.child;S!==null;){if(S.tag!==4&&(T=v(S),T!==null))return T;S=S.sibling}return null}function x(S){return{current:S}}function g(S){0>fp||(S.current=Wy[fp],Wy[fp]=null,fp--)}function _(S,T){fp++,Wy[fp]=S.current,S.current=T}function w(S){return S>>>=0,S===0?32:31-(Yy(S)/PM|0)|0}function A(S){var T=S&42;if(T!==0)return T;switch(S&-S){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return S&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return S}}function M(S,T){var P=S.pendingLanes;if(P===0)return 0;var V=0,ee=S.suspendedLanes,le=S.pingedLanes,Ie=S.warmLanes;S=S.finishedLanes!==0;var tt=P&134217727;return tt!==0?(P=tt&~ee,P!==0?V=A(P):(le&=tt,le!==0?V=A(le):S||(Ie=tt&~Ie,Ie!==0&&(V=A(Ie))))):(tt=P&~ee,tt!==0?V=A(tt):le!==0?V=A(le):S||(Ie=P&~Ie,Ie!==0&&(V=A(Ie)))),V===0?0:T!==0&&T!==V&&(T&ee)===0&&(ee=V&-V,Ie=T&-T,ee>=Ie||ee===32&&(Ie&4194176)!==0)?T:V}function C(S,T){return(S.pendingLanes&~(S.suspendedLanes&~S.pingedLanes)&T)===0}function N(S,T){switch(S){case 1:case 2:case 4:case 8:return T+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return T+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var S=Fg;return Fg<<=1,(Fg&4194176)===0&&(Fg=128),S}function D(){var S=qy;return qy<<=1,(qy&62914560)===0&&(qy=4194304),S}function k(S){for(var T=[],P=0;31>P;P++)T.push(S);return T}function O(S,T){S.pendingLanes|=T,T!==268435456&&(S.suspendedLanes=0,S.pingedLanes=0,S.warmLanes=0)}function I(S,T,P,V,ee,le){var Ie=S.pendingLanes;S.pendingLanes=P,S.suspendedLanes=0,S.pingedLanes=0,S.warmLanes=0,S.expiredLanes&=P,S.entangledLanes&=P,S.errorRecoveryDisabledLanes&=P,S.shellSuspendCounter=0;var tt=S.entanglements,yt=S.expirationTimes,Jt=S.hiddenUpdates;for(P=Ie&~P;0<P;){var mr=31-Ic(P),Ar=1<<mr;tt[mr]=0,yt[mr]=-1;var Dr=Jt[mr];if(Dr!==null)for(Jt[mr]=null,mr=0;mr<Dr.length;mr++){var Bn=Dr[mr];Bn!==null&&(Bn.lane&=-536870913)}P&=~Ar}V!==0&&j(S,V,0),le!==0&&ee===0&&S.tag!==0&&(S.suspendedLanes|=le&~(Ie&~T))}function j(S,T,P){S.pendingLanes|=T,S.suspendedLanes&=~T;var V=31-Ic(T);S.entangledLanes|=T,S.entanglements[V]=S.entanglements[V]|1073741824|P&4194218}function B(S,T){var P=S.entangledLanes|=T;for(S=S.entanglements;P;){var V=31-Ic(P),ee=1<<V;ee&T|S[V]&T&&(S[V]|=T),P&=~ee}}function K(S){return S&=-S,2<S?8<S?(S&134217727)!==0?32:268435456:8:2}function H(S){if(Oc&&typeof Oc.onCommitFiberRoot=="function")try{Oc.onCommitFiberRoot(zg,S,void 0,(S.current.flags&128)===128)}catch{}}function Z(S){if(typeof jM=="function"&&DT(S),Oc&&typeof Oc.setStrictMode=="function")try{Oc.setStrictMode(zg,S)}catch{}}function Y(S,T){return S===T&&(S!==0||1/S===1/T)||S!==S&&T!==T}function J(S,T){if(typeof S=="object"&&S!==null){var P=Hb.get(S);return P!==void 0?P:(T={value:S,source:T,stack:u(T)},Hb.set(S,T),T)}return{value:S,source:T,stack:u(T)}}function oe(S,T){ns[As++]=Ky,ns[As++]=Zy,Zy=S,Ky=T}function X(S,T,P){Eu[Mu++]=ad,Eu[Mu++]=Af,Eu[Mu++]=fh,fh=S;var V=ad;S=Af;var ee=32-Ic(V)-1;V&=~(1<<ee),P+=1;var le=32-Ic(T)+ee;if(30<le){var Ie=ee-ee%5;le=(V&(1<<Ie)-1).toString(32),V>>=Ie,ee-=Ie,ad=1<<32-Ic(T)+ee|P<<ee|V,Af=le+S}else ad=1<<le|P<<ee|V,Af=S}function F(S){S.return!==null&&(oe(S,1),X(S,1,0))}function W(S){for(;S===Zy;)Zy=ns[--As],ns[As]=null,Ky=ns[--As],ns[As]=null;for(;S===fh;)fh=Eu[--Mu],Eu[Mu]=null,Af=Eu[--Mu],Eu[Mu]=null,ad=Eu[--Mu],Eu[Mu]=null}function Q(S,T){_(hh,T),_($y,S),_(Xo,null),S=Ia(T),g(Xo),_(Xo,S)}function re(){g(Xo),g($y),g(hh)}function ae(S){S.memoizedState!==null&&_(jg,S);var T=Xo.current,P=Vn(T,S.type);T!==P&&(_($y,S),_(Xo,P))}function ce(S){$y.current===S&&(g(Xo),g($y)),jg.current===S&&(g(jg),Wa?Jr._currentValue=_a:Jr._currentValue2=_a)}function ye(S){var T=Error(i(418,""));throw Qe(J(T,S)),Jy}function fe(S,T){if(!Fn)throw Error(i(175));Ig(S.stateNode,S.type,S.memoizedProps,T,S)||ye(S)}function be(S){for(Fl=S.return;Fl;)switch(Fl.tag){case 3:case 27:Ef=!0;return;case 5:case 13:Ef=!1;return;default:Fl=Fl.return}}function Oe(S){if(!Fn||S!==Fl)return!1;if(!Vi)return be(S),Vi=!0,!1;var T=!1;if(dl?S.tag!==3&&S.tag!==27&&(S.tag!==5||LM(S.type)&&!ki(S.type,S.memoizedProps))&&(T=!0):S.tag!==3&&(S.tag!==5||LM(S.type)&&!ki(S.type,S.memoizedProps))&&(T=!0),T&&vl&&ye(S),be(S),S.tag===13){if(!Fn)throw Error(i(316));if(S=S.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));vl=Bb(S)}else vl=Fl?Gy(S.stateNode):null;return!0}function xe(){Fn&&(vl=Fl=null,Vi=!1)}function Qe(S){Cu===null?Cu=[S]:Cu.push(S)}function ne(){for(var S=w0,T=Ug=w0=0;T<S;){var P=Nu[T];Nu[T++]=null;var V=Nu[T];Nu[T++]=null;var ee=Nu[T];Nu[T++]=null;var le=Nu[T];if(Nu[T++]=null,V!==null&&ee!==null){var Ie=V.pending;Ie===null?ee.next=ee:(ee.next=Ie.next,Ie.next=ee),V.pending=ee}le!==0&&de(P,ee,le)}}function te(S,T,P,V){Nu[w0++]=S,Nu[w0++]=T,Nu[w0++]=P,Nu[w0++]=V,Ug|=V,S.lanes|=V,S=S.alternate,S!==null&&(S.lanes|=V)}function Me(S,T,P,V){return te(S,T,P,V),_e(S)}function ge(S,T){return te(S,null,null,T),_e(S)}function de(S,T,P){S.lanes|=P;var V=S.alternate;V!==null&&(V.lanes|=P);for(var ee=!1,le=S.return;le!==null;)le.childLanes|=P,V=le.alternate,V!==null&&(V.childLanes|=P),le.tag===22&&(S=le.stateNode,S===null||S._visibility&1||(ee=!0)),S=le,le=le.return;ee&&T!==null&&S.tag===3&&(le=S.stateNode,ee=31-Ic(P),le=le.hiddenUpdates,S=le[ee],S===null?le[ee]=[T]:S.push(T),T.lane=P|536870912)}function _e(S){if(50<sm)throw sm=0,cc=null,Error(i(185));for(var T=S.return;T!==null;)S=T,T=S.return;return S.tag===3?S.stateNode:null}function je(S){S!==Qv&&S.next===null&&(Qv===null?Vg=Qv=S:Qv=Qv.next=S),e1=!0,Qy||(Qy=!0,$e(Fe))}function Be(S,T){if(!dh&&e1){dh=!0;do for(var P=!1,V=Vg;V!==null;){if(S!==0){var ee=V.pendingLanes;if(ee===0)var le=0;else{var Ie=V.suspendedLanes,tt=V.pingedLanes;le=(1<<31-Ic(42|S)+1)-1,le&=ee&~(Ie&~tt),le=le&201326677?le&201326677|1:le?le|2:0}le!==0&&(P=!0,ze(V,le))}else le=oi,le=M(V,V===di?le:0),(le&3)===0||C(V,le)||(P=!0,ze(V,le));V=V.next}while(P);dh=!1}}function Fe(){e1=Qy=!1;var S=0;S0!==0&&(ms()&&(S=S0),S0=0);for(var T=pl(),P=null,V=Vg;V!==null;){var ee=V.next,le=we(V,T);le===0?(V.next=null,P===null?Vg=ee:P.next=ee,ee===null&&(Qv=P)):(P=V,(S!==0||(le&3)!==0)&&(e1=!0)),V=ee}Be(S)}function we(S,T){for(var P=S.suspendedLanes,V=S.pingedLanes,ee=S.expirationTimes,le=S.pendingLanes&-62914561;0<le;){var Ie=31-Ic(le),tt=1<<Ie,yt=ee[Ie];yt===-1?((tt&P)===0||(tt&V)!==0)&&(ee[Ie]=N(tt,T)):yt<=T&&(S.expiredLanes|=tt),le&=~tt}if(T=di,P=oi,P=M(S,S===T?P:0),V=S.callbackNode,P===0||S===T&&Da===2||S.cancelPendingCommit!==null)return V!==null&&V!==null&&Xy(V),S.callbackNode=null,S.callbackPriority=0;if((P&3)===0||C(S,P)){if(T=P&-P,T===S.callbackPriority)return T;switch(V!==null&&Xy(V),K(P)){case 2:case 8:P=zM;break;case 32:P=Ub;break;case 268435456:P=Vb;break;default:P=Ub}return V=pe.bind(null,S),P=Bg(P,V),S.callbackPriority=T,S.callbackNode=P,T}return V!==null&&V!==null&&Xy(V),S.callbackPriority=2,S.callbackNode=null,2}function pe(S,T){var P=S.callbackNode;if(fa()&&S.callbackNode!==P)return null;var V=oi;return V=M(S,S===di?V:0),V===0?null:(sp(S,V,T),we(S,pl()),S.callbackNode!=null&&S.callbackNode===P?pe.bind(null,S):null)}function ze(S,T){if(fa())return null;sp(S,T,!0)}function $e(S){Pi?Pl(function(){(un&6)!==0?Bg(NT,S):S()}):Bg(NT,S)}function ht(){return S0===0&&(S0=L()),S0}function Je(S,T){if(t1===null){var P=t1=[];Gb=0,Pc=ht(),T0={status:"pending",value:void 0,then:function(V){P.push(V)}}}return Gb++,T.then(Ot,Ot),T}function Ot(){if(--Gb===0&&t1!==null){T0!==null&&(T0.status="fulfilled");var S=t1;t1=null,Pc=0,T0=null;for(var T=0;T<S.length;T++)(0,S[T])()}}function bt(S,T){var P=[],V={status:"pending",value:null,reason:null,then:function(ee){P.push(ee)}};return S.then(function(){V.status="fulfilled",V.value=T;for(var ee=0;ee<P.length;ee++)(0,P[ee])(T)},function(ee){for(V.status="rejected",V.reason=ee,ee=0;ee<P.length;ee++)(0,P[ee])(void 0)}),V}function Nt(S){S.updateQueue={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ir(S,T){S=S.updateQueue,T.updateQueue===S&&(T.updateQueue={baseState:S.baseState,firstBaseUpdate:S.firstBaseUpdate,lastBaseUpdate:S.lastBaseUpdate,shared:S.shared,callbacks:null})}function ft(S){return{lane:S,tag:0,payload:null,callback:null,next:null}}function Dt(S,T,P){var V=S.updateQueue;if(V===null)return null;if(V=V.shared,(un&2)!==0){var ee=V.pending;return ee===null?T.next=T:(T.next=ee.next,ee.next=T),V.pending=T,T=_e(S),de(S,null,P),T}return te(S,V,T,P),_e(S)}function tr(S,T,P){if(T=T.updateQueue,T!==null&&(T=T.shared,(P&4194176)!==0)){var V=T.lanes;V&=S.pendingLanes,P|=V,T.lanes=P,B(S,P)}}function Ze(S,T){var P=S.updateQueue,V=S.alternate;if(V!==null&&(V=V.updateQueue,P===V)){var ee=null,le=null;if(P=P.firstBaseUpdate,P!==null){do{var Ie={lane:P.lane,tag:P.tag,payload:P.payload,callback:null,next:null};le===null?ee=le=Ie:le=le.next=Ie,P=P.next}while(P!==null);le===null?ee=le=T:le=le.next=T}else ee=le=T;P={baseState:V.baseState,firstBaseUpdate:ee,lastBaseUpdate:le,shared:V.shared,callbacks:V.callbacks},S.updateQueue=P;return}S=P.lastBaseUpdate,S===null?P.firstBaseUpdate=T:S.next=T,P.lastBaseUpdate=T}function it(){if(Hg){var S=T0;if(S!==null)throw S}}function Wt(S,T,P,V){Hg=!1;var ee=S.updateQueue;hp=!1;var le=ee.firstBaseUpdate,Ie=ee.lastBaseUpdate,tt=ee.shared.pending;if(tt!==null){ee.shared.pending=null;var yt=tt,Jt=yt.next;yt.next=null,Ie===null?le=Jt:Ie.next=Jt,Ie=yt;var mr=S.alternate;mr!==null&&(mr=mr.updateQueue,tt=mr.lastBaseUpdate,tt!==Ie&&(tt===null?mr.firstBaseUpdate=Jt:tt.next=Jt,mr.lastBaseUpdate=yt))}if(le!==null){var Ar=ee.baseState;Ie=0,mr=Jt=yt=null,tt=le;do{var Dr=tt.lane&-536870913,Bn=Dr!==tt.lane;if(Bn?(oi&Dr)===Dr:(V&Dr)===Dr){Dr!==0&&Dr===Pc&&(Hg=!0),mr!==null&&(mr=mr.next={lane:0,tag:tt.tag,payload:tt.payload,callback:null,next:null});e:{var jc=S,a1=tt;Dr=T;var om=P;switch(a1.tag){case 1:if(jc=a1.payload,typeof jc=="function"){Ar=jc.call(om,Ar,Dr);break e}Ar=jc;break e;case 3:jc.flags=jc.flags&-65537|128;case 0:if(jc=a1.payload,Dr=typeof jc=="function"?jc.call(om,Ar,Dr):jc,Dr==null)break e;Ar=lp({},Ar,Dr);break e;case 2:hp=!0}}Dr=tt.callback,Dr!==null&&(S.flags|=64,Bn&&(S.flags|=8192),Bn=ee.callbacks,Bn===null?ee.callbacks=[Dr]:Bn.push(Dr))}else Bn={lane:Dr,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},mr===null?(Jt=mr=Bn,yt=Ar):mr=mr.next=Bn,Ie|=Dr;if(tt=tt.next,tt===null){if(tt=ee.shared.pending,tt===null)break;Bn=tt,tt=Bn.next,Bn.next=null,ee.lastBaseUpdate=Bn,ee.shared.pending=null}}while(!0);mr===null&&(yt=Ar),ee.baseState=yt,ee.firstBaseUpdate=Jt,ee.lastBaseUpdate=mr,le===null&&(ee.shared.lanes=0),ku|=Ie,S.lanes=Ie,S.memoizedState=Ar}}function Ue(S,T){if(typeof S!="function")throw Error(i(191,S));S.call(T)}function Ft(S,T){var P=S.callbacks;if(P!==null)for(S.callbacks=null,S=0;S<P.length;S++)Ue(P[S],T)}function qt(S,T){if(Au(S,T))return!0;if(typeof S!="object"||S===null||typeof T!="object"||T===null)return!1;var P=Object.keys(S),V=Object.keys(T);if(P.length!==V.length)return!1;for(V=0;V<P.length;V++){var ee=P[V];if(!r1.call(T,ee)||!Au(S[ee],T[ee]))return!1}return!0}function Lt(S){return S=S.status,S==="fulfilled"||S==="rejected"}function vt(){}function Et(S,T,P){switch(P=S[P],P===void 0?S.push(T):P!==T&&(T.then(vt,vt),T=P),T.status){case"fulfilled":return T.value;case"rejected":throw S=T.reason,S===wa?Error(i(483)):S;default:if(typeof T.status=="string")T.then(vt,vt);else{if(S=di,S!==null&&100<S.shellSuspendCounter)throw Error(i(482));S=T,S.status="pending",S.then(function(V){if(T.status==="pending"){var ee=T;ee.status="fulfilled",ee.value=V}},function(V){if(T.status==="pending"){var ee=T;ee.status="rejected",ee.reason=V}})}switch(T.status){case"fulfilled":return T.value;case"rejected":throw S=T.reason,S===wa?Error(i(483)):S}throw em=T,wa}}function dr(){if(em===null)throw Error(i(459));var S=em;return em=null,S}function vr(S){var T=Mf;return Mf+=1,sd===null&&(sd=[]),Et(sd,S,T)}function Yr(S,T){T=T.props.ref,S.ref=T!==void 0?T:null}function Hr(S,T){throw T.$$typeof===Eg?Error(i(525)):(S=Object.prototype.toString.call(T),Error(i(31,S==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":S)))}function xr(S){var T=S._init;return T(S._payload)}function wn(S){function T(Pt,gt){if(S){var jt=Pt.deletions;jt===null?(Pt.deletions=[gt],Pt.flags|=16):jt.push(gt)}}function P(Pt,gt){if(!S)return null;for(;gt!==null;)T(Pt,gt),gt=gt.sibling;return null}function V(Pt){for(var gt=new Map;Pt!==null;)Pt.key!==null?gt.set(Pt.key,Pt):gt.set(Pt.index,Pt),Pt=Pt.sibling;return gt}function ee(Pt,gt){return Pt=Ao(Pt,gt),Pt.index=0,Pt.sibling=null,Pt}function le(Pt,gt,jt){return Pt.index=jt,S?(jt=Pt.alternate,jt!==null?(jt=jt.index,jt<gt?(Pt.flags|=33554434,gt):jt):(Pt.flags|=33554434,gt)):(Pt.flags|=1048576,gt)}function Ie(Pt){return S&&Pt.alternate===null&&(Pt.flags|=33554434),Pt}function tt(Pt,gt,jt,pr){return gt===null||gt.tag!==6?(gt=_f(jt,Pt.mode,pr),gt.return=Pt,gt):(gt=ee(gt,jt),gt.return=Pt,gt)}function yt(Pt,gt,jt,pr){var on=jt.type;return on===se?mr(Pt,gt,jt.props.children,pr,jt.key):gt!==null&&(gt.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===Ge&&xr(on)===gt.type)?(gt=ee(gt,jt.props),Yr(gt,jt),gt.return=Pt,gt):(gt=fl(jt.type,jt.key,jt.props,null,Pt.mode,pr),Yr(gt,jt),gt.return=Pt,gt)}function Jt(Pt,gt,jt,pr){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==jt.containerInfo||gt.stateNode.implementation!==jt.implementation?(gt=v0(jt,Pt.mode,pr),gt.return=Pt,gt):(gt=ee(gt,jt.children||[]),gt.return=Pt,gt)}function mr(Pt,gt,jt,pr,on){return gt===null||gt.tag!==7?(gt=Rc(jt,Pt.mode,pr,on),gt.return=Pt,gt):(gt=ee(gt,jt),gt.return=Pt,gt)}function Ar(Pt,gt,jt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return gt=_f(""+gt,Pt.mode,jt),gt.return=Pt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case z:return jt=fl(gt.type,gt.key,gt.props,null,Pt.mode,jt),Yr(jt,gt),jt.return=Pt,jt;case G:return gt=v0(gt,Pt.mode,jt),gt.return=Pt,gt;case Ge:var pr=gt._init;return gt=pr(gt._payload),Ar(Pt,gt,jt)}if(jr(gt)||a(gt))return gt=Rc(gt,Pt.mode,jt,null),gt.return=Pt,gt;if(typeof gt.then=="function")return Ar(Pt,vr(gt),jt);if(gt.$$typeof===Le)return Ar(Pt,vs(Pt,gt),jt);Hr(Pt,gt)}return null}function Dr(Pt,gt,jt,pr){var on=gt!==null?gt.key:null;if(typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint")return on!==null?null:tt(Pt,gt,""+jt,pr);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case z:return jt.key===on?yt(Pt,gt,jt,pr):null;case G:return jt.key===on?Jt(Pt,gt,jt,pr):null;case Ge:return on=jt._init,jt=on(jt._payload),Dr(Pt,gt,jt,pr)}if(jr(jt)||a(jt))return on!==null?null:mr(Pt,gt,jt,pr,null);if(typeof jt.then=="function")return Dr(Pt,gt,vr(jt),pr);if(jt.$$typeof===Le)return Dr(Pt,gt,vs(Pt,jt),pr);Hr(Pt,jt)}return null}function Bn(Pt,gt,jt,pr,on){if(typeof pr=="string"&&pr!==""||typeof pr=="number"||typeof pr=="bigint")return Pt=Pt.get(jt)||null,tt(gt,Pt,""+pr,on);if(typeof pr=="object"&&pr!==null){switch(pr.$$typeof){case z:return Pt=Pt.get(pr.key===null?jt:pr.key)||null,yt(gt,Pt,pr,on);case G:return Pt=Pt.get(pr.key===null?jt:pr.key)||null,Jt(gt,Pt,pr,on);case Ge:var qa=pr._init;return pr=qa(pr._payload),Bn(Pt,gt,jt,pr,on)}if(jr(pr)||a(pr))return Pt=Pt.get(jt)||null,mr(gt,Pt,pr,on,null);if(typeof pr.then=="function")return Bn(Pt,gt,jt,vr(pr),on);if(pr.$$typeof===Le)return Bn(Pt,gt,jt,vs(gt,pr),on);Hr(gt,pr)}return null}function jc(Pt,gt,jt,pr){for(var on=null,qa=null,An=gt,Gi=gt=0,No=null;An!==null&&Gi<jt.length;Gi++){An.index>Gi?(No=An,An=null):No=An.sibling;var Wi=Dr(Pt,An,jt[Gi],pr);if(Wi===null){An===null&&(An=No);break}S&&An&&Wi.alternate===null&&T(Pt,An),gt=le(Wi,gt,Gi),qa===null?on=Wi:qa.sibling=Wi,qa=Wi,An=No}if(Gi===jt.length)return P(Pt,An),Vi&&oe(Pt,Gi),on;if(An===null){for(;Gi<jt.length;Gi++)An=Ar(Pt,jt[Gi],pr),An!==null&&(gt=le(An,gt,Gi),qa===null?on=An:qa.sibling=An,qa=An);return Vi&&oe(Pt,Gi),on}for(An=V(An);Gi<jt.length;Gi++)No=Bn(An,Pt,Gi,jt[Gi],pr),No!==null&&(S&&No.alternate!==null&&An.delete(No.key===null?Gi:No.key),gt=le(No,gt,Gi),qa===null?on=No:qa.sibling=No,qa=No);return S&&An.forEach(function(yp){return T(Pt,yp)}),Vi&&oe(Pt,Gi),on}function a1(Pt,gt,jt,pr){if(jt==null)throw Error(i(151));for(var on=null,qa=null,An=gt,Gi=gt=0,No=null,Wi=jt.next();An!==null&&!Wi.done;Gi++,Wi=jt.next()){An.index>Gi?(No=An,An=null):No=An.sibling;var yp=Dr(Pt,An,Wi.value,pr);if(yp===null){An===null&&(An=No);break}S&&An&&yp.alternate===null&&T(Pt,An),gt=le(yp,gt,Gi),qa===null?on=yp:qa.sibling=yp,qa=yp,An=No}if(Wi.done)return P(Pt,An),Vi&&oe(Pt,Gi),on;if(An===null){for(;!Wi.done;Gi++,Wi=jt.next())Wi=Ar(Pt,Wi.value,pr),Wi!==null&&(gt=le(Wi,gt,Gi),qa===null?on=Wi:qa.sibling=Wi,qa=Wi);return Vi&&oe(Pt,Gi),on}for(An=V(An);!Wi.done;Gi++,Wi=jt.next())Wi=Bn(An,Pt,Gi,Wi.value,pr),Wi!==null&&(S&&Wi.alternate!==null&&An.delete(Wi.key===null?Gi:Wi.key),gt=le(Wi,gt,Gi),qa===null?on=Wi:qa.sibling=Wi,qa=Wi);return S&&An.forEach(function(Qb){return T(Pt,Qb)}),Vi&&oe(Pt,Gi),on}function om(Pt,gt,jt,pr){if(typeof jt=="object"&&jt!==null&&jt.type===se&&jt.key===null&&(jt=jt.props.children),typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case z:e:{for(var on=jt.key;gt!==null;){if(gt.key===on){if(on=jt.type,on===se){if(gt.tag===7){P(Pt,gt.sibling),pr=ee(gt,jt.props.children),pr.return=Pt,Pt=pr;break e}}else if(gt.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===Ge&&xr(on)===gt.type){P(Pt,gt.sibling),pr=ee(gt,jt.props),Yr(pr,jt),pr.return=Pt,Pt=pr;break e}P(Pt,gt);break}else T(Pt,gt);gt=gt.sibling}jt.type===se?(pr=Rc(jt.props.children,Pt.mode,pr,jt.key),pr.return=Pt,Pt=pr):(pr=fl(jt.type,jt.key,jt.props,null,Pt.mode,pr),Yr(pr,jt),pr.return=Pt,Pt=pr)}return Ie(Pt);case G:e:{for(on=jt.key;gt!==null;){if(gt.key===on)if(gt.tag===4&&gt.stateNode.containerInfo===jt.containerInfo&&gt.stateNode.implementation===jt.implementation){P(Pt,gt.sibling),pr=ee(gt,jt.children||[]),pr.return=Pt,Pt=pr;break e}else{P(Pt,gt);break}else T(Pt,gt);gt=gt.sibling}pr=v0(jt,Pt.mode,pr),pr.return=Pt,Pt=pr}return Ie(Pt);case Ge:return on=jt._init,jt=on(jt._payload),om(Pt,gt,jt,pr)}if(jr(jt))return jc(Pt,gt,jt,pr);if(a(jt)){if(on=a(jt),typeof on!="function")throw Error(i(150));return jt=on.call(jt),a1(Pt,gt,jt,pr)}if(typeof jt.then=="function")return om(Pt,gt,vr(jt),pr);if(jt.$$typeof===Le)return om(Pt,gt,vs(Pt,jt),pr);Hr(Pt,jt)}return typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint"?(jt=""+jt,gt!==null&&gt.tag===6?(P(Pt,gt.sibling),pr=ee(gt,jt),pr.return=Pt,Pt=pr):(P(Pt,gt),pr=_f(jt,Pt.mode,pr),pr.return=Pt,Pt=pr),Ie(Pt)):P(Pt,gt)}return function(Pt,gt,jt,pr){try{Mf=0;var on=om(Pt,gt,jt,pr);return sd=null,on}catch(An){if(An===wa)throw An;var qa=t(29,An,null,Pt.mode);return qa.lanes=pr,qa.return=Pt,qa}finally{}}}function Va(S,T){S=ph,_(Du,S),_(od,T),ph=S|T.baseLanes}function Ei(){_(Du,ph),_(od,od.current)}function Ki(){ph=Du.current,g(od),g(Du)}function Sn(S){var T=S.alternate;_(ao,ao.current&1),_(Lu,S),Cf===null&&(T===null||od.current!==null||T.memoizedState!==null)&&(Cf=S)}function Mi(S){if(S.tag===22){if(_(ao,ao.current),_(Lu,S),Cf===null){var T=S.alternate;T!==null&&T.memoizedState!==null&&(Cf=S)}}else Ee()}function Ee(){_(ao,ao.current),_(Lu,Lu.current)}function He(S){g(Lu),Cf===S&&(Cf=null),g(ao)}function ke(S){for(var T=S;T!==null;){if(T.tag===13){var P=T.memoizedState;if(P!==null&&(P=P.dehydrated,P===null||Kv(P)||Sf(P)))return T}else if(T.tag===19&&T.memoizedProps.revealOrder!==void 0){if((T.flags&128)!==0)return T}else if(T.child!==null){T.child.return=T,T=T.child;continue}if(T===S)break;for(;T.sibling===null;){if(T.return===null||T.return===S)return null;T=T.return}T.sibling.return=T.return,T=T.sibling}return null}function Re(){throw Error(i(321))}function Ve(S,T){if(T===null)return!1;for(var P=0;P<T.length&&P<S.length;P++)if(!Au(S[P],T[P]))return!1;return!0}function qe(S,T,P,V,ee,le){return ld=le,ti=T,T.memoizedState=null,T.updateQueue=null,T.lanes=0,mt.H=S===null||S.memoizedState===null?so:Bl,dp=!1,le=P(V,ee),dp=!1,is&&(le=Vt(T,P,V,ee)),wt(S),le}function wt(S){mt.H=Hi;var T=ia!==null&&ia.next!==null;if(ld=0,Bs=ia=ti=null,Nf=!1,Es=0,Gg=null,T)throw Error(i(300));S===null||zs||(S=S.dependencies,S!==null&&Rl(S)&&(zs=!0))}function Vt(S,T,P,V){ti=S;var ee=0;do{if(is&&(Gg=null),Es=0,is=!1,25<=ee)throw Error(i(301));if(ee+=1,Bs=ia=null,S.updateQueue!=null){var le=S.updateQueue;le.lastEffect=null,le.events=null,le.stores=null,le.memoCache!=null&&(le.memoCache.index=0)}mt.H=E0,le=T(P,V)}while(is);return le}function At(){var S=mt.H,T=S.useState()[0];return T=typeof T.then=="function"?Ke(T):T,S=S.useState()[0],(ia!==null?ia.memoizedState:null)!==S&&(ti.flags|=1024),T}function St(){var S=n1!==0;return n1=0,S}function Mt(S,T,P){T.updateQueue=S.updateQueue,T.flags&=-2053,S.lanes&=~P}function sr(S){if(Nf){for(S=S.memoizedState;S!==null;){var T=S.queue;T!==null&&(T.pending=null),S=S.next}Nf=!1}ld=0,Bs=ia=ti=null,is=!1,Es=n1=0,Gg=null}function or(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bs===null?ti.memoizedState=Bs=S:Bs=Bs.next=S,Bs}function Se(){if(ia===null){var S=ti.alternate;S=S!==null?S.memoizedState:null}else S=ia.next;var T=Bs===null?ti.memoizedState:Bs.next;if(T!==null)Bs=T,ia=S;else{if(S===null)throw ti.alternate===null?Error(i(467)):Error(i(310));ia=S,S={memoizedState:ia.memoizedState,baseState:ia.baseState,baseQueue:ia.baseQueue,queue:ia.queue,next:null},Bs===null?ti.memoizedState=Bs=S:Bs=Bs.next=S}return Bs}function Ke(S){var T=Es;return Es+=1,Gg===null&&(Gg=[]),S=Et(Gg,S,T),T=ti,(Bs===null?T.memoizedState:Bs.next)===null&&(T=T.alternate,mt.H=T===null||T.memoizedState===null?so:Bl),S}function et(S){if(S!==null&&typeof S=="object"){if(typeof S.then=="function")return Ke(S);if(S.$$typeof===Le)return Ga(S)}throw Error(i(438,String(S)))}function ot(S){var T=null,P=ti.updateQueue;if(P!==null&&(T=P.memoCache),T==null){var V=ti.alternate;V!==null&&(V=V.updateQueue,V!==null&&(V=V.memoCache,V!=null&&(T={data:V.data.map(function(ee){return ee.slice()}),index:0})))}if(T==null&&(T={data:[],index:0}),P===null&&(P=Yb(),ti.updateQueue=P),P.memoCache=T,P=T.data[T.index],P===void 0)for(P=T.data[T.index]=Array(S),V=0;V<S;V++)P[V]=_t;return T.index++,P}function st(S,T){return typeof T=="function"?T(S):T}function Xt(S){var T=Se();return lr(T,ia,S)}function lr(S,T,P){var V=S.queue;if(V===null)throw Error(i(311));V.lastRenderedReducer=P;var ee=S.baseQueue,le=V.pending;if(le!==null){if(ee!==null){var Ie=ee.next;ee.next=le.next,le.next=Ie}T.baseQueue=ee=le,V.pending=null}if(le=S.baseState,ee===null)S.memoizedState=le;else{T=ee.next;var tt=Ie=null,yt=null,Jt=T,mr=!1;do{var Ar=Jt.lane&-536870913;if(Ar!==Jt.lane?(oi&Ar)===Ar:(ld&Ar)===Ar){var Dr=Jt.revertLane;if(Dr===0)yt!==null&&(yt=yt.next={lane:0,revertLane:0,action:Jt.action,hasEagerState:Jt.hasEagerState,eagerState:Jt.eagerState,next:null}),Ar===Pc&&(mr=!0);else if((ld&Dr)===Dr){Jt=Jt.next,Dr===Pc&&(mr=!0);continue}else Ar={lane:0,revertLane:Jt.revertLane,action:Jt.action,hasEagerState:Jt.hasEagerState,eagerState:Jt.eagerState,next:null},yt===null?(tt=yt=Ar,Ie=le):yt=yt.next=Ar,ti.lanes|=Dr,ku|=Dr;Ar=Jt.action,dp&&P(le,Ar),le=Jt.hasEagerState?Jt.eagerState:P(le,Ar)}else Dr={lane:Ar,revertLane:Jt.revertLane,action:Jt.action,hasEagerState:Jt.hasEagerState,eagerState:Jt.eagerState,next:null},yt===null?(tt=yt=Dr,Ie=le):yt=yt.next=Dr,ti.lanes|=Ar,ku|=Ar;Jt=Jt.next}while(Jt!==null&&Jt!==T);if(yt===null?Ie=le:yt.next=tt,!Au(le,S.memoizedState)&&(zs=!0,mr&&(P=T0,P!==null)))throw P;S.memoizedState=le,S.baseState=Ie,S.baseQueue=yt,V.lastRenderedState=le}return ee===null&&(V.lanes=0),[S.memoizedState,V.dispatch]}function _r(S){var T=Se(),P=T.queue;if(P===null)throw Error(i(311));P.lastRenderedReducer=S;var V=P.dispatch,ee=P.pending,le=T.memoizedState;if(ee!==null){P.pending=null;var Ie=ee=ee.next;do le=S(le,Ie.action),Ie=Ie.next;while(Ie!==ee);Au(le,T.memoizedState)||(zs=!0),T.memoizedState=le,T.baseQueue===null&&(T.baseState=le),P.lastRenderedState=le}return[le,V]}function Sr(S,T,P){var V=ti,ee=Se(),le=Vi;if(le){if(P===void 0)throw Error(i(407));P=P()}else P=T();var Ie=!Au((ia||ee).memoizedState,P);if(Ie&&(ee.memoizedState=P,zs=!0),ee=ee.queue,Xd(Gr.bind(null,V,ee,S),[S]),ee.getSnapshot!==T||Ie||Bs!==null&&Bs.memoizedState.tag&1){if(V.flags|=2048,Ra(9,Xr.bind(null,V,ee,P,T),{destroy:void 0},null),di===null)throw Error(i(349));le||(ld&60)!==0||qr(V,T,P)}return P}function qr(S,T,P){S.flags|=16384,S={getSnapshot:T,value:P},T=ti.updateQueue,T===null?(T=Yb(),ti.updateQueue=T,T.stores=[S]):(P=T.stores,P===null?T.stores=[S]:P.push(S))}function Xr(S,T,P,V){T.value=P,T.getSnapshot=V,Zr(T)&&Qn(S)}function Gr(S,T,P){return P(function(){Zr(T)&&Qn(S)})}function Zr(S){var T=S.getSnapshot;S=S.value;try{var P=T();return!Au(S,P)}catch{return!0}}function Qn(S){var T=ge(S,2);T!==null&&Fs(T,S,2)}function fi(S){var T=or();if(typeof S=="function"){var P=S;if(S=P(),dp){Z(!0);try{P()}finally{Z(!1)}}}return T.memoizedState=T.baseState=S,T.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:S},T}function ln(S,T,P,V){return S.baseState=P,lr(S,ia,typeof V=="function"?V:st)}function Ci(S,T,P,V,ee){if(ll(S))throw Error(i(485));if(S=T.action,S!==null){var le={payload:ee,action:S,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ie){le.listeners.push(Ie)}};mt.T!==null?P(!0):le.isTransition=!1,V(le),P=T.pending,P===null?(le.next=T.pending=le,Wr(T,le)):(le.next=P.next,T.pending=P.next=le)}}function Wr(S,T){var P=T.action,V=T.payload,ee=S.state;if(T.isTransition){var le=mt.T,Ie={};mt.T=Ie;try{var tt=P(ee,V),yt=mt.S;yt!==null&&yt(Ie,tt),Ni(S,T,tt)}catch(Jt){ji(S,T,Jt)}finally{mt.T=le}}else try{le=P(ee,V),Ni(S,T,le)}catch(Jt){ji(S,T,Jt)}}function Ni(S,T,P){P!==null&&typeof P=="object"&&typeof P.then=="function"?P.then(function(V){ei(S,T,V)},function(V){return ji(S,T,V)}):ei(S,T,P)}function ei(S,T,P){T.status="fulfilled",T.value=P,ga(T),S.state=P,T=S.pending,T!==null&&(P=T.next,P===T?S.pending=null:(P=P.next,T.next=P,Wr(S,P)))}function ji(S,T,P){var V=S.pending;if(S.pending=null,V!==null){V=V.next;do T.status="rejected",T.reason=P,ga(T),T=T.next;while(T!==V)}S.action=null}function ga(S){S=S.listeners;for(var T=0;T<S.length;T++)(0,S[T])()}function pi(S,T){return T}function Jl(S,T){if(Vi){var P=di.formState;if(P!==null){e:{var V=ti;if(Vi){if(vl){var ee=Fb(vl,Ef);if(ee){vl=Gy(ee),V=Hy(ee);break e}}ye(V)}V=!1}V&&(T=P[0])}}P=or(),P.memoizedState=P.baseState=T,V={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:T},P.queue=V,P=Yh.bind(null,ti,V),V.dispatch=P,V=fi(!1);var le=l0.bind(null,ti,!1,V.queue);return V=or(),ee={state:T,dispatch:null,action:S,pending:null},V.queue=ee,P=Ci.bind(null,ti,ee,le,P),ee.dispatch=P,V.memoizedState=S,[T,P,!1]}function ea(S){var T=Se();return ps(T,ia,S)}function ps(S,T,P){T=lr(S,T,pi)[0],S=Xt(st)[0],T=typeof T=="object"&&T!==null&&typeof T.then=="function"?Ke(T):T;var V=Se(),ee=V.queue,le=ee.dispatch;return P!==V.memoizedState&&(ti.flags|=2048,Ra(9,ca.bind(null,ee,P),{destroy:void 0},null)),[T,le,S]}function ca(S,T){S.action=T}function os(S){var T=Se(),P=ia;if(P!==null)return ps(T,P,S);Se(),T=T.memoizedState,P=Se();var V=P.queue.dispatch;return P.memoizedState=S,[T,V,!1]}function Ra(S,T,P,V){return S={tag:S,create:T,inst:P,deps:V,next:null},T=ti.updateQueue,T===null&&(T=Yb(),ti.updateQueue=T),P=T.lastEffect,P===null?T.lastEffect=S.next=S:(V=P.next,P.next=S,S.next=V,T.lastEffect=S),S}function Vo(){return Se().memoizedState}function Xs(S,T,P,V){var ee=or();ti.flags|=S,ee.memoizedState=Ra(1|T,P,{destroy:void 0},V===void 0?null:V)}function qd(S,T,P,V){var ee=Se();V=V===void 0?null:V;var le=ee.memoizedState.inst;ia!==null&&V!==null&&Ve(V,ia.memoizedState.deps)?ee.memoizedState=Ra(T,P,le,V):(ti.flags|=S,ee.memoizedState=Ra(1|T,P,le,V))}function Rv(S,T){Xs(8390656,8,S,T)}function Xd(S,T){qd(2048,8,S,T)}function a0(S,T){return qd(4,2,S,T)}function kv(S,T){return qd(4,4,S,T)}function sl(S,T){if(typeof T=="function"){S=S();var P=T(S);return function(){typeof P=="function"?P():T(null)}}if(T!=null)return S=S(),T.current=S,function(){T.current=null}}function Ac(S,T,P){P=P!=null?P.concat([S]):null,qd(4,4,sl.bind(null,T,S),P)}function mu(){}function Wh(S,T){var P=Se();T=T===void 0?null:T;var V=P.memoizedState;return T!==null&&Ve(T,V[1])?V[0]:(P.memoizedState=[S,T],S)}function Kf(S,T){var P=Se();T=T===void 0?null:T;var V=P.memoizedState;if(T!==null&&Ve(T,V[1]))return V[0];if(V=S(),dp){Z(!0);try{S()}finally{Z(!1)}}return P.memoizedState=[V,T],V}function vn(S,T,P){return P===void 0||(ld&1073741824)!==0?S.memoizedState=T:(S.memoizedState=P,S=ac(),ti.lanes|=S,ku|=S,P)}function Iv(S,T,P,V){return Au(P,T)?P:od.current!==null?(S=vn(S,P,V),Au(S,T)||(zs=!0),S):(ld&42)===0?(zs=!0,S.memoizedState=P):(S=ac(),ti.lanes|=S,ku|=S,T)}function s0(S,T,P,V,ee){var le=ra();Ii(le!==0&&8>le?le:8);var Ie=mt.T,tt={};mt.T=tt,l0(S,!1,T,P);try{var yt=ee(),Jt=mt.S;if(Jt!==null&&Jt(tt,yt),yt!==null&&typeof yt=="object"&&typeof yt.then=="function"){var mr=bt(yt,V);Dl(S,T,mr,Go(S))}else Dl(S,T,V,Go(S))}catch(Ar){Dl(S,T,{then:function(){},status:"rejected",reason:Ar},Go())}finally{Ii(le),mt.T=Ie}}function Ov(S){var T=S.memoizedState;if(T!==null)return T;T={memoizedState:_a,baseState:_a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:_a},next:null};var P={};return T.next={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:P},next:null},S.memoizedState=T,S=S.alternate,S!==null&&(S.memoizedState=T),T}function ol(){return Ga(Jr)}function Zs(){return Se().memoizedState}function o0(){return Se().memoizedState}function Zd(S){for(var T=S.return;T!==null;){switch(T.tag){case 24:case 3:var P=Go();S=ft(P);var V=Dt(T,S,P);V!==null&&(Fs(V,T,P),tr(V,T,P)),T={cache:lf()},S.payload=T;return}T=T.return}}function Ql(S,T,P){var V=Go();P={lane:V,revertLane:0,action:P,hasEagerState:!1,eagerState:null,next:null},ll(S)?Kd(T,P):(P=Me(S,T,P,V),P!==null&&(Fs(P,S,V),$d(P,T,V)))}function Yh(S,T,P){var V=Go();Dl(S,T,P,V)}function Dl(S,T,P,V){var ee={lane:V,revertLane:0,action:P,hasEagerState:!1,eagerState:null,next:null};if(ll(S))Kd(T,ee);else{var le=S.alternate;if(S.lanes===0&&(le===null||le.lanes===0)&&(le=T.lastRenderedReducer,le!==null))try{var Ie=T.lastRenderedState,tt=le(Ie,P);if(ee.hasEagerState=!0,ee.eagerState=tt,Au(tt,Ie))return te(S,T,ee,0),di===null&&ne(),!1}catch{}finally{}if(P=Me(S,T,ee,V),P!==null)return Fs(P,S,V),$d(P,T,V),!0}return!1}function l0(S,T,P,V){if(V={lane:2,revertLane:ht(),action:V,hasEagerState:!1,eagerState:null,next:null},ll(S)){if(T)throw Error(i(479))}else T=Me(S,P,V,2),T!==null&&Fs(T,S,2)}function ll(S){var T=S.alternate;return S===ti||T!==null&&T===ti}function Kd(S,T){is=Nf=!0;var P=S.pending;P===null?T.next=T:(T.next=P.next,P.next=T),S.pending=T}function $d(S,T,P){if((P&4194176)!==0){var V=T.lanes;V&=S.pendingLanes,P|=V,T.lanes=P,B(S,P)}}function _s(S,T,P,V){T=S.memoizedState,P=P(V,T),P=P==null?T:lp({},T,P),S.memoizedState=P,S.lanes===0&&(S.updateQueue.baseState=P)}function gu(S,T,P,V,ee,le,Ie){return S=S.stateNode,typeof S.shouldComponentUpdate=="function"?S.shouldComponentUpdate(V,le,Ie):T.prototype&&T.prototype.isPureReactComponent?!qt(P,V)||!qt(ee,le):!0}function ec(S,T,P,V){S=T.state,typeof T.componentWillReceiveProps=="function"&&T.componentWillReceiveProps(P,V),typeof T.UNSAFE_componentWillReceiveProps=="function"&&T.UNSAFE_componentWillReceiveProps(P,V),T.state!==S&&qb.enqueueReplaceState(T,T.state,null)}function cl(S,T){var P=T;if("ref"in T){P={};for(var V in T)V!=="ref"&&(P[V]=T[V])}if(S=S.defaultProps){P===T&&(P=lp({},P));for(var ee in S)P[ee]===void 0&&(P[ee]=S[ee])}return P}function $f(S,T){try{var P=S.onUncaughtError;P(T.value,{componentStack:T.stack})}catch(V){setTimeout(function(){throw V})}}function qh(S,T,P){try{var V=S.onCaughtError;V(P.value,{componentStack:P.stack,errorBoundary:T.tag===1?T.stateNode:null})}catch(ee){setTimeout(function(){throw ee})}}function xu(S,T,P){return P=ft(P),P.tag=3,P.payload={element:null},P.callback=function(){$f(S,T)},P}function nf(S){return S=ft(S),S.tag=3,S}function Xh(S,T,P,V){var ee=P.type.getDerivedStateFromError;if(typeof ee=="function"){var le=V.value;S.payload=function(){return ee(le)},S.callback=function(){qh(T,P,V)}}var Ie=P.stateNode;Ie!==null&&typeof Ie.componentDidCatch=="function"&&(S.callback=function(){qh(T,P,V),typeof ee!="function"&&(Ou===null?Ou=new Set([this]):Ou.add(this));var tt=V.stack;this.componentDidCatch(V.value,{componentStack:tt!==null?tt:""})})}function Pv(S,T,P,V,ee){if(P.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){if(T=P.alternate,T!==null&&Ll(T,P,ee,!0),P=Lu.current,P!==null){switch(P.tag){case 13:return Cf===null?Ol():P.alternate===null&&Bi===0&&(Bi=3),P.flags&=-257,P.flags|=65536,P.lanes=ee,V===Wb?P.flags|=16384:(T=P.updateQueue,T===null?P.updateQueue=new Set([V]):T.add(V),Yv(S,V,ee)),!1;case 22:return P.flags|=65536,V===Wb?P.flags|=16384:(T=P.updateQueue,T===null?(T={transitions:null,markerInstances:null,retryQueue:new Set([V])},P.updateQueue=T):(P=T.retryQueue,P===null?T.retryQueue=new Set([V]):P.add(V)),Yv(S,V,ee)),!1}throw Error(i(435,P.tag))}return Yv(S,V,ee),Ol(),!1}if(Vi)return T=Lu.current,T!==null?((T.flags&65536)===0&&(T.flags|=256),T.flags|=65536,T.lanes=ee,V!==Jy&&(S=Error(i(422),{cause:V}),Qe(J(S,P)))):(V!==Jy&&(T=Error(i(423),{cause:V}),Qe(J(T,P))),S=S.current.alternate,S.flags|=65536,ee&=-ee,S.lanes|=ee,V=J(V,P),ee=xu(S.stateNode,V,ee),Ze(S,ee),Bi!==4&&(Bi=2)),!1;var le=Error(i(520),{cause:V});if(le=J(le,P),Yg===null?Yg=[le]:Yg.push(le),Bi!==4&&(Bi=2),T===null)return!0;V=J(V,P),P=T;do{switch(P.tag){case 3:return P.flags|=65536,S=ee&-ee,P.lanes|=S,S=xu(P.stateNode,V,S),Ze(P,S),!1;case 1:if(T=P.type,le=P.stateNode,(P.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Ou===null||!Ou.has(le))))return P.flags|=65536,ee&=-ee,P.lanes|=ee,ee=nf(ee),Xh(ee,S,P,V),Ze(P,ee),!1}P=P.return}while(P!==null);return!1}function ka(S,T,P,V){T.child=S===null?RT(T,null,P,V):A0(T,S.child,P,V)}function af(S,T,P,V,ee){P=P.render;var le=T.ref;if("ref"in V){var Ie={};for(var tt in V)tt!=="ref"&&(Ie[tt]=V[tt])}else Ie=V;return tc(T),V=qe(S,T,P,Ie,le,ee),tt=St(),S!==null&&!zs?(Mt(S,T,ee),ya(S,T,ee)):(Vi&&tt&&F(T),T.flags|=1,ka(S,T,V,ee),T.child)}function Fv(S,T,P,V,ee){if(S===null){var le=P.type;return typeof le=="function"&&!bf(le)&&le.defaultProps===void 0&&P.compare===null?(T.tag=15,T.type=le,sf(S,T,le,V,ee)):(S=fl(P.type,null,V,T,T.mode,ee),S.ref=T.ref,S.return=T,T.child=S)}if(le=S.child,!ls(S,ee)){var Ie=le.memoizedProps;if(P=P.compare,P=P!==null?P:qt,P(Ie,V)&&S.ref===T.ref)return ya(S,T,ee)}return T.flags|=1,S=Ao(le,V),S.ref=T.ref,S.return=T,T.child=S}function sf(S,T,P,V,ee){if(S!==null){var le=S.memoizedProps;if(qt(le,V)&&S.ref===T.ref)if(zs=!1,T.pendingProps=V=le,ls(S,ee))(S.flags&131072)!==0&&(zs=!0);else return T.lanes=S.lanes,ya(S,T,ee)}return Xe(S,T,P,V,ee)}function Bv(S,T,P){var V=T.pendingProps,ee=V.children,le=(T.stateNode._pendingVisibility&2)!==0,Ie=S!==null?S.memoizedState:null;if(Te(S,T),V.mode==="hidden"||le){if((T.flags&128)!==0){if(V=Ie!==null?Ie.baseLanes|P:P,S!==null){for(ee=T.child=S.child,le=0;ee!==null;)le=le|ee.lanes|ee.childLanes,ee=ee.sibling;T.childLanes=le&~V}else T.childLanes=0,T.child=null;return ie(S,T,V,P)}if((P&536870912)!==0)T.memoizedState={baseLanes:0,cachePool:null},S!==null&&$s(T,Ie!==null?Ie.cachePool:null),Ie!==null?Va(T,Ie):Ei(),Mi(T);else return T.lanes=T.childLanes=536870912,ie(S,T,Ie!==null?Ie.baseLanes|P:P,P)}else Ie!==null?($s(T,Ie.cachePool),Va(T,Ie),Ee(),T.memoizedState=null):(S!==null&&$s(T,null),Ei(),Ee());return ka(S,T,ee,P),T.child}function ie(S,T,P,V){var ee=Ec();return ee=ee===null?null:{parent:Wa?ha._currentValue:ha._currentValue2,pool:ee},T.memoizedState={baseLanes:P,cachePool:ee},S!==null&&$s(T,null),Ei(),Mi(T),S!==null&&Ll(S,T,V,!0),null}function Te(S,T){var P=T.ref;if(P===null)S!==null&&S.ref!==null&&(T.flags|=2097664);else{if(typeof P!="function"&&typeof P!="object")throw Error(i(284));(S===null||S.ref!==P)&&(T.flags|=2097664)}}function Xe(S,T,P,V,ee){return tc(T),P=qe(S,T,P,V,void 0,ee),V=St(),S!==null&&!zs?(Mt(S,T,ee),ya(S,T,ee)):(Vi&&V&&F(T),T.flags|=1,ka(S,T,P,ee),T.child)}function nt(S,T,P,V,ee,le){return tc(T),T.updateQueue=null,P=Vt(T,V,P,ee),wt(S),V=St(),S!==null&&!zs?(Mt(S,T,le),ya(S,T,le)):(Vi&&V&&F(T),T.flags|=1,ka(S,T,P,le),T.child)}function pt(S,T,P,V,ee){if(tc(T),T.stateNode===null){var le=Jv,Ie=P.contextType;typeof Ie=="object"&&Ie!==null&&(le=Ga(Ie)),le=new P(V,le),T.memoizedState=le.state!==null&&le.state!==void 0?le.state:null,le.updater=qb,T.stateNode=le,le._reactInternals=T,le=T.stateNode,le.props=V,le.state=T.memoizedState,le.refs={},Nt(T),Ie=P.contextType,le.context=typeof Ie=="object"&&Ie!==null?Ga(Ie):Jv,le.state=T.memoizedState,Ie=P.getDerivedStateFromProps,typeof Ie=="function"&&(_s(T,P,Ie,V),le.state=T.memoizedState),typeof P.getDerivedStateFromProps=="function"||typeof le.getSnapshotBeforeUpdate=="function"||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(Ie=le.state,typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount(),Ie!==le.state&&qb.enqueueReplaceState(le,le.state,null),Wt(T,V,le,ee),it(),le.state=T.memoizedState),typeof le.componentDidMount=="function"&&(T.flags|=4194308),V=!0}else if(S===null){le=T.stateNode;var tt=T.memoizedProps,yt=cl(P,tt);le.props=yt;var Jt=le.context,mr=P.contextType;Ie=Jv,typeof mr=="object"&&mr!==null&&(Ie=Ga(mr));var Ar=P.getDerivedStateFromProps;mr=typeof Ar=="function"||typeof le.getSnapshotBeforeUpdate=="function",tt=T.pendingProps!==tt,mr||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(tt||Jt!==Ie)&&ec(T,le,V,Ie),hp=!1;var Dr=T.memoizedState;le.state=Dr,Wt(T,V,le,ee),it(),Jt=T.memoizedState,tt||Dr!==Jt||hp?(typeof Ar=="function"&&(_s(T,P,Ar,V),Jt=T.memoizedState),(yt=hp||gu(T,P,yt,V,Dr,Jt,Ie))?(mr||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(T.flags|=4194308)):(typeof le.componentDidMount=="function"&&(T.flags|=4194308),T.memoizedProps=V,T.memoizedState=Jt),le.props=V,le.state=Jt,le.context=Ie,V=yt):(typeof le.componentDidMount=="function"&&(T.flags|=4194308),V=!1)}else{le=T.stateNode,ir(S,T),Ie=T.memoizedProps,mr=cl(P,Ie),le.props=mr,Ar=T.pendingProps,Dr=le.context,Jt=P.contextType,yt=Jv,typeof Jt=="object"&&Jt!==null&&(yt=Ga(Jt)),tt=P.getDerivedStateFromProps,(Jt=typeof tt=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ie!==Ar||Dr!==yt)&&ec(T,le,V,yt),hp=!1,Dr=T.memoizedState,le.state=Dr,Wt(T,V,le,ee),it();var Bn=T.memoizedState;Ie!==Ar||Dr!==Bn||hp||S!==null&&S.dependencies!==null&&Rl(S.dependencies)?(typeof tt=="function"&&(_s(T,P,tt,V),Bn=T.memoizedState),(mr=hp||gu(T,P,mr,V,Dr,Bn,yt)||S!==null&&S.dependencies!==null&&Rl(S.dependencies))?(Jt||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(V,Bn,yt),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(V,Bn,yt)),typeof le.componentDidUpdate=="function"&&(T.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(T.flags|=1024)):(typeof le.componentDidUpdate!="function"||Ie===S.memoizedProps&&Dr===S.memoizedState||(T.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ie===S.memoizedProps&&Dr===S.memoizedState||(T.flags|=1024),T.memoizedProps=V,T.memoizedState=Bn),le.props=V,le.state=Bn,le.context=yt,V=mr):(typeof le.componentDidUpdate!="function"||Ie===S.memoizedProps&&Dr===S.memoizedState||(T.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ie===S.memoizedProps&&Dr===S.memoizedState||(T.flags|=1024),V=!1)}return le=V,Te(S,T),V=(T.flags&128)!==0,le||V?(le=T.stateNode,P=V&&typeof P.getDerivedStateFromError!="function"?null:le.render(),T.flags|=1,S!==null&&V?(T.child=A0(T,S.child,null,ee),T.child=A0(T,null,P,ee)):ka(S,T,P,ee),T.memoizedState=le.state,S=T.child):S=ya(S,T,ee),S}function Kt(S,T,P,V){return xe(),T.flags|=256,ka(S,T,P,V),T.child}function ar(S){return{baseLanes:S,cachePool:uf()}}function zr(S,T,P){return S=S!==null?S.childLanes&~P:0,T&&(S|=zc),S}function $r(S,T,P){var V=T.pendingProps,ee=!1,le=(T.flags&128)!==0,Ie;if((Ie=le)||(Ie=S!==null&&S.memoizedState===null?!1:(ao.current&2)!==0),Ie&&(ee=!0,T.flags&=-129),Ie=(T.flags&32)!==0,T.flags&=-33,S===null){if(Vi){if(ee?Sn(T):Ee(),Vi){var tt=vl,yt;(yt=tt)&&(tt=uh(tt,Ef),tt!==null?(T.memoizedState={dehydrated:tt,treeContext:fh!==null?{id:ad,overflow:Af}:null,retryLane:536870912},yt=t(18,null,null,0),yt.stateNode=tt,yt.return=T,T.child=yt,Fl=T,vl=null,yt=!0):yt=!1),yt||ye(T)}if(tt=T.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null))return Sf(tt)?T.lanes=16:T.lanes=536870912,null;He(T)}return tt=V.children,V=V.fallback,ee?(Ee(),ee=T.mode,tt=kn({mode:"hidden",children:tt},ee),V=Rc(V,ee,P,null),tt.return=T,V.return=T,tt.sibling=V,T.child=tt,ee=T.child,ee.memoizedState=ar(P),ee.childLanes=zr(S,Ie,P),T.memoizedState=zl,V):(Sn(T),yn(T,tt))}if(yt=S.memoizedState,yt!==null&&(tt=yt.dehydrated,tt!==null)){if(le)T.flags&256?(Sn(T),T.flags&=-257,T=vi(S,T,P)):T.memoizedState!==null?(Ee(),T.child=S.child,T.flags|=128,T=null):(Ee(),ee=V.fallback,tt=T.mode,V=kn({mode:"visible",children:V.children},tt),ee=Rc(ee,tt,P,null),ee.flags|=2,V.return=T,ee.return=T,V.sibling=ee,T.child=V,A0(T,S.child,null,P),V=T.child,V.memoizedState=ar(P),V.childLanes=zr(S,Ie,P),T.memoizedState=zl,T=ee);else if(Sn(T),Sf(tt))Ie=Ob(tt).digest,V=Error(i(419)),V.stack="",V.digest=Ie,Qe({value:V,source:null,stack:null}),T=vi(S,T,P);else if(zs||Ll(S,T,P,!1),Ie=(P&S.childLanes)!==0,zs||Ie){if(Ie=di,Ie!==null){if(V=P&-P,(V&42)!==0)V=1;else switch(V){case 2:V=1;break;case 8:V=4;break;case 32:V=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:V=64;break;case 268435456:V=134217728;break;default:V=0}if(V=(V&(Ie.suspendedLanes|P))!==0?0:V,V!==0&&V!==yt.retryLane)throw yt.retryLane=V,ge(S,V),Fs(Ie,S,V),VM}Kv(tt)||Ol(),T=vi(S,T,P)}else Kv(tt)?(T.flags|=128,T.child=S.child,T=op.bind(null,S),Pb(tt,T),T=null):(S=yt.treeContext,Fn&&(vl=$v(tt),Fl=T,Vi=!0,Cu=null,Ef=!1,S!==null&&(Eu[Mu++]=ad,Eu[Mu++]=Af,Eu[Mu++]=fh,ad=S.id,Af=S.overflow,fh=T)),T=yn(T,V.children),T.flags|=4096);return T}return ee?(Ee(),ee=V.fallback,tt=T.mode,yt=S.child,le=yt.sibling,V=Ao(yt,{mode:"hidden",children:V.children}),V.subtreeFlags=yt.subtreeFlags&31457280,le!==null?ee=Ao(le,ee):(ee=Rc(ee,tt,P,null),ee.flags|=2),ee.return=T,V.return=T,V.sibling=ee,T.child=V,V=ee,ee=T.child,tt=S.child.memoizedState,tt===null?tt=ar(P):(yt=tt.cachePool,yt!==null?(le=Wa?ha._currentValue:ha._currentValue2,yt=yt.parent!==le?{parent:le,pool:le}:yt):yt=uf(),tt={baseLanes:tt.baseLanes|P,cachePool:yt}),ee.memoizedState=tt,ee.childLanes=zr(S,Ie,P),T.memoizedState=zl,V):(Sn(T),P=S.child,S=P.sibling,P=Ao(P,{mode:"visible",children:V.children}),P.return=T,P.sibling=null,S!==null&&(Ie=T.deletions,Ie===null?(T.deletions=[S],T.flags|=16):Ie.push(S)),T.child=P,T.memoizedState=null,P)}function yn(S,T){return T=kn({mode:"visible",children:T},S.mode),T.return=S,S.child=T}function kn(S,T){return ed(S,T,0,null)}function vi(S,T,P){return A0(T,S.child,null,P),S=yn(T,T.pendingProps.children),S.flags|=2,T.memoizedState=null,S}function Ha(S,T,P){S.lanes|=T;var V=S.alternate;V!==null&&(V.lanes|=T),Jd(S.return,T,P)}function Qa(S,T,P,V,ee){var le=S.memoizedState;le===null?S.memoizedState={isBackwards:T,rendering:null,renderingStartTime:0,last:V,tail:P,tailMode:ee}:(le.isBackwards=T,le.rendering=null,le.renderingStartTime=0,le.last=V,le.tail=P,le.tailMode=ee)}function xa(S,T,P){var V=T.pendingProps,ee=V.revealOrder,le=V.tail;if(ka(S,T,V.children,P),V=ao.current,(V&2)!==0)V=V&1|2,T.flags|=128;else{if(S!==null&&(S.flags&128)!==0)e:for(S=T.child;S!==null;){if(S.tag===13)S.memoizedState!==null&&Ha(S,P,T);else if(S.tag===19)Ha(S,P,T);else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===T)break e;for(;S.sibling===null;){if(S.return===null||S.return===T)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}V&=1}switch(_(ao,V),ee){case"forwards":for(P=T.child,ee=null;P!==null;)S=P.alternate,S!==null&&ke(S)===null&&(ee=P),P=P.sibling;P=ee,P===null?(ee=T.child,T.child=null):(ee=P.sibling,P.sibling=null),Qa(T,!1,ee,P,le);break;case"backwards":for(P=null,ee=T.child,T.child=null;ee!==null;){if(S=ee.alternate,S!==null&&ke(S)===null){T.child=ee;break}S=ee.sibling,ee.sibling=P,P=ee,ee=S}Qa(T,!0,P,null,le);break;case"together":Qa(T,!1,null,null,void 0);break;default:T.memoizedState=null}return T.child}function ya(S,T,P){if(S!==null&&(T.dependencies=S.dependencies),ku|=T.lanes,(P&T.childLanes)===0)if(S!==null){if(Ll(S,T,P,!1),(P&T.childLanes)===0)return null}else return null;if(S!==null&&T.child!==S.child)throw Error(i(153));if(T.child!==null){for(S=T.child,P=Ao(S,S.pendingProps),T.child=P,P.return=T;S.sibling!==null;)S=S.sibling,P=P.sibling=Ao(S,S.pendingProps),P.return=T;P.sibling=null}return T.child}function ls(S,T){return(S.lanes&T)!==0?!0:(S=S.dependencies,!!(S!==null&&Rl(S)))}function bo(S,T,P){switch(T.tag){case 3:Q(T,T.stateNode.containerInfo),Ks(T,ha,S.memoizedState.cache),xe();break;case 27:case 5:ae(T);break;case 4:Q(T,T.stateNode.containerInfo);break;case 10:Ks(T,T.type,T.memoizedProps.value);break;case 13:var V=T.memoizedState;if(V!==null)return V.dehydrated!==null?(Sn(T),T.flags|=128,null):(P&T.child.childLanes)!==0?$r(S,T,P):(Sn(T),S=ya(S,T,P),S!==null?S.sibling:null);Sn(T);break;case 19:var ee=(S.flags&128)!==0;if(V=(P&T.childLanes)!==0,V||(Ll(S,T,P,!1),V=(P&T.childLanes)!==0),ee){if(V)return xa(S,T,P);T.flags|=128}if(ee=T.memoizedState,ee!==null&&(ee.rendering=null,ee.tail=null,ee.lastEffect=null),_(ao,ao.current),V)break;return null;case 22:case 23:return T.lanes=0,Bv(S,T,P);case 24:Ks(T,ha,S.memoizedState.cache)}return ya(S,T,P)}function of(S,T,P){if(S!==null)if(S.memoizedProps!==T.pendingProps)zs=!0;else{if(!ls(S,P)&&(T.flags&128)===0)return zs=!1,bo(S,T,P);zs=(S.flags&131072)!==0}else zs=!1,Vi&&(T.flags&1048576)!==0&&X(T,Ky,T.index);switch(T.lanes=0,T.tag){case 16:e:{S=T.pendingProps;var V=T.elementType,ee=V._init;if(V=ee(V._payload),T.type=V,typeof V=="function")bf(V)?(S=cl(V,S),T.tag=1,T=pt(null,T,V,S,P)):(T.tag=0,T=Xe(null,T,V,S,P));else{if(V!=null){if(ee=V.$$typeof,ee===Pe){T.tag=11,T=af(null,T,V,S,P);break e}else if(ee===Ct){T.tag=14,T=Fv(null,T,V,S,P);break e}}throw T=s(V)||V,Error(i(306,T,""))}}return T;case 0:return Xe(S,T,T.type,T.pendingProps,P);case 1:return V=T.type,ee=cl(V,T.pendingProps),pt(S,T,V,ee,P);case 3:e:{if(Q(T,T.stateNode.containerInfo),S===null)throw Error(i(387));var le=T.pendingProps;ee=T.memoizedState,V=ee.element,ir(S,T),Wt(T,le,null,P);var Ie=T.memoizedState;if(le=Ie.cache,Ks(T,ha,le),le!==ee.cache&&Zh(T,[ha],P,!0),it(),le=Ie.element,Fn&&ee.isDehydrated)if(ee={element:le,isDehydrated:!1,cache:Ie.cache},T.updateQueue.baseState=ee,T.memoizedState=ee,T.flags&256){T=Kt(S,T,le,P);break e}else if(le!==V){V=J(Error(i(424)),T),Qe(V),T=Kt(S,T,le,P);break e}else for(Fn&&(vl=kg(T.stateNode.containerInfo),Fl=T,Vi=!0,Cu=null,Ef=!0),P=RT(T,null,le,P),T.child=P;P;)P.flags=P.flags&-3|4096,P=P.sibling;else{if(xe(),le===V){T=ya(S,T,P);break e}ka(S,T,le,P)}T=T.child}return T;case 26:if(Tu)return Te(S,T),S===null?(P=jb(T.type,null,T.pendingProps,null))?T.memoizedState=P:Vi||(T.stateNode=v6(T.type,T.pendingProps,hh.current,T)):T.memoizedState=jb(T.type,S.memoizedProps,T.pendingProps,S.memoizedState),null;case 27:if(dl)return ae(T),S===null&&dl&&Vi&&(V=T.stateNode=CT(T.type,T.pendingProps,hh.current,Xo.current,!1),Fl=T,Ef=!0,vl=id(V)),V=T.pendingProps.children,S!==null||Vi?ka(S,T,V,P):T.child=A0(T,null,V,P),Te(S,T),T.child;case 5:return S===null&&Vi&&(RM(T.type,T.pendingProps,Xo.current),(ee=V=vl)&&(V=Tf(V,T.type,T.pendingProps,Ef),V!==null?(T.stateNode=V,Fl=T,vl=id(V),Ef=!1,ee=!0):ee=!1),ee||ye(T)),ae(T),ee=T.type,le=T.pendingProps,Ie=S!==null?S.memoizedProps:null,V=le.children,ki(ee,le)?V=null:Ie!==null&&ki(ee,Ie)&&(T.flags|=32),T.memoizedState!==null&&(ee=qe(S,T,At,null,null,P),Wa?Jr._currentValue=ee:Jr._currentValue2=ee),Te(S,T),ka(S,T,V,P),T.child;case 6:return S===null&&Vi&&(kM(T.pendingProps,Xo.current),(S=P=vl)&&(P=ch(P,T.pendingProps,Ef),P!==null?(T.stateNode=P,Fl=T,vl=null,S=!0):S=!1),S||ye(T)),null;case 13:return $r(S,T,P);case 4:return Q(T,T.stateNode.containerInfo),V=T.pendingProps,S===null?T.child=A0(T,null,V,P):ka(S,T,V,P),T.child;case 11:return af(S,T,T.type,T.pendingProps,P);case 7:return ka(S,T,T.pendingProps,P),T.child;case 8:return ka(S,T,T.pendingProps.children,P),T.child;case 12:return ka(S,T,T.pendingProps.children,P),T.child;case 10:return V=T.pendingProps,Ks(T,T.type,V.value),ka(S,T,V.children,P),T.child;case 9:return ee=T.type._context,V=T.pendingProps.children,tc(T),ee=Ga(ee),V=V(ee),T.flags|=1,ka(S,T,V,P),T.child;case 14:return Fv(S,T,T.type,T.pendingProps,P);case 15:return sf(S,T,T.type,T.pendingProps,P);case 19:return xa(S,T,P);case 22:return Bv(S,T,P);case 24:return tc(T),V=Ga(ha),S===null?(ee=Ec(),ee===null&&(ee=di,le=lf(),ee.pooledCache=le,le.refCount++,le!==null&&(ee.pooledCacheLanes|=P),ee=le),T.memoizedState={parent:V,cache:ee},Nt(T),Ks(T,ha,ee)):((S.lanes&P)!==0&&(ir(S,T),Wt(T,null,null,P),it()),ee=S.memoizedState,le=T.memoizedState,ee.parent!==V?(ee={parent:V,cache:V},T.memoizedState=ee,T.lanes===0&&(T.memoizedState=T.updateQueue.baseState=ee),Ks(T,ha,V)):(V=le.cache,Ks(T,ha,V),V!==ee.cache&&Zh(T,[ha],P,!0))),ka(S,T,T.pendingProps.children,P),T.child;case 29:throw T.pendingProps}throw Error(i(156,T.tag))}function Ks(S,T,P){Wa?(_(Fc,T._currentValue),T._currentValue=P):(_(Fc,T._currentValue2),T._currentValue2=P)}function _o(S){var T=Fc.current;Wa?S._currentValue=T:S._currentValue2=T,g(Fc)}function Jd(S,T,P){for(;S!==null;){var V=S.alternate;if((S.childLanes&T)!==T?(S.childLanes|=T,V!==null&&(V.childLanes|=T)):V!==null&&(V.childLanes&T)!==T&&(V.childLanes|=T),S===P)break;S=S.return}}function Zh(S,T,P,V){var ee=S.child;for(ee!==null&&(ee.return=S);ee!==null;){var le=ee.dependencies;if(le!==null){var Ie=ee.child;le=le.firstContext;e:for(;le!==null;){var tt=le;le=ee;for(var yt=0;yt<T.length;yt++)if(tt.context===T[yt]){le.lanes|=P,tt=le.alternate,tt!==null&&(tt.lanes|=P),Jd(le.return,P,S),V||(Ie=null);break e}le=tt.next}}else if(ee.tag===18){if(Ie=ee.return,Ie===null)throw Error(i(341));Ie.lanes|=P,le=Ie.alternate,le!==null&&(le.lanes|=P),Jd(Ie,P,S),Ie=null}else Ie=ee.child;if(Ie!==null)Ie.return=ee;else for(Ie=ee;Ie!==null;){if(Ie===S){Ie=null;break}if(ee=Ie.sibling,ee!==null){ee.return=Ie.return,Ie=ee;break}Ie=Ie.return}ee=Ie}}function Ll(S,T,P,V){S=null;for(var ee=T,le=!1;ee!==null;){if(!le){if((ee.flags&524288)!==0)le=!0;else if((ee.flags&262144)!==0)break}if(ee.tag===10){var Ie=ee.alternate;if(Ie===null)throw Error(i(387));if(Ie=Ie.memoizedProps,Ie!==null){var tt=ee.type;Au(ee.pendingProps.value,Ie.value)||(S!==null?S.push(tt):S=[tt])}}else if(ee===jg.current){if(Ie=ee.alternate,Ie===null)throw Error(i(387));Ie.memoizedState.memoizedState!==ee.memoizedState.memoizedState&&(S!==null?S.push(Jr):S=[Jr])}ee=ee.return}S!==null&&Zh(T,S,P,V),T.flags|=262144}function Rl(S){for(S=S.firstContext;S!==null;){var T=S.context;if(!Au(Wa?T._currentValue:T._currentValue2,S.memoizedValue))return!0;S=S.next}return!1}function tc(S){M0=S,Ms=null,S=S.dependencies,S!==null&&(S.firstContext=null)}function Ga(S){return Jf(M0,S)}function vs(S,T){return M0===null&&tc(S),Jf(S,T)}function Jf(S,T){var P=Wa?T._currentValue:T._currentValue2;if(T={context:T,memoizedValue:P,next:null},Ms===null){if(S===null)throw Error(i(308));Ms=T,S.dependencies={lanes:0,firstContext:T},S.flags|=524288}else Ms=Ms.next=T;return P}function lf(){return{controller:new HM,data:new Map,refCount:0}}function cf(S){S.refCount--,S.refCount===0&&pp(tm,function(){S.controller.abort()})}function Ec(){var S=vp.current;return S!==null?S:di.pooledCache}function $s(S,T){T===null?_(vp,vp.current):_(vp,T.pool)}function uf(){var S=Ec();return S===null?null:{parent:Wa?ha._currentValue:ha._currentValue2,pool:S}}function Js(S){S.flags|=4}function c0(S,T){if(S!==null&&S.child===T.child)return!1;if((T.flags&16)!==0)return!0;for(S=T.child;S!==null;){if((S.flags&13878)!==0||(S.subtreeFlags&13878)!==0)return!0;S=S.sibling}return!1}function ul(S,T,P,V){if(gi)for(P=T.child;P!==null;){if(P.tag===5||P.tag===6)mn(S,P.stateNode);else if(!(P.tag===4||dl&&P.tag===27)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===T)break;for(;P.sibling===null;){if(P.return===null||P.return===T)return;P=P.return}P.sibling.return=P.return,P=P.sibling}else if(Nn)for(var ee=T.child;ee!==null;){if(ee.tag===5){var le=ee.stateNode;P&&V&&(le=Rg(le,ee.type,ee.memoizedProps)),mn(S,le)}else if(ee.tag===6)le=ee.stateNode,P&&V&&(le=Vy(le,ee.memoizedProps)),mn(S,le);else if(ee.tag!==4){if(ee.tag===22&&ee.memoizedState!==null)le=ee.child,le!==null&&(le.return=ee),ul(S,ee,!0,!0);else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}}if(ee===T)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===T)return;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}}function Mc(S,T,P,V){if(Nn)for(var ee=T.child;ee!==null;){if(ee.tag===5){var le=ee.stateNode;P&&V&&(le=Rg(le,ee.type,ee.memoizedProps)),Zv(S,le)}else if(ee.tag===6)le=ee.stateNode,P&&V&&(le=Vy(le,ee.memoizedProps)),Zv(S,le);else if(ee.tag!==4){if(ee.tag===22&&ee.memoizedState!==null)le=ee.child,le!==null&&(le.return=ee),Mc(S,ee,!(ee.memoizedProps!==null&&ee.memoizedProps.mode==="manual"),!0);else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}}if(ee===T)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===T)return;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}}function ff(S,T){if(Nn&&c0(S,T)){S=T.stateNode;var P=S.containerInfo,V=Xv();Mc(V,T,!1,!1),S.pendingChildren=V,Js(T),lh(P,V)}}function Qd(S,T,P,V){if(gi)S.memoizedProps!==V&&Js(T);else if(Nn){var ee=S.stateNode,le=S.memoizedProps;if((S=c0(S,T))||le!==V){var Ie=Xo.current;le=y0(ee,P,le,V,!S,null),le===ee?T.stateNode=ee:(Hn(le,P,V,Ie)&&Js(T),T.stateNode=le,S?ul(le,T,!1,!1):Js(T))}else T.stateNode=ee}}function rc(S,T,P){if(Ss(T,P)){if(S.flags|=16777216,!gs(T,P))if(Gv())S.flags|=8192;else throw em=Wb,LT}else S.flags&=-16777217}function Qf(S,T){if(IM(T)){if(S.flags|=16777216,!ET(T))if(Gv())S.flags|=8192;else throw em=Wb,LT}else S.flags&=-16777217}function wo(S,T){T!==null&&(S.flags|=4),S.flags&16384&&(T=S.tag!==22?D():536870912,S.lanes|=T,gp|=T)}function ks(S,T){if(!Vi)switch(S.tailMode){case"hidden":T=S.tail;for(var P=null;T!==null;)T.alternate!==null&&(P=T),T=T.sibling;P===null?S.tail=null:P.sibling=null;break;case"collapsed":P=S.tail;for(var V=null;P!==null;)P.alternate!==null&&(V=P),P=P.sibling;V===null?T||S.tail===null?S.tail=null:S.tail.sibling=null:V.sibling=null}}function Ri(S){var T=S.alternate!==null&&S.alternate.child===S.child,P=0,V=0;if(T)for(var ee=S.child;ee!==null;)P|=ee.lanes|ee.childLanes,V|=ee.subtreeFlags&31457280,V|=ee.flags&31457280,ee.return=S,ee=ee.sibling;else for(ee=S.child;ee!==null;)P|=ee.lanes|ee.childLanes,V|=ee.subtreeFlags,V|=ee.flags,ee.return=S,ee=ee.sibling;return S.subtreeFlags|=V,S.childLanes=P,T}function hf(S,T,P){var V=T.pendingProps;switch(W(T),T.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(T),null;case 1:return Ri(T),null;case 3:return P=T.stateNode,V=null,S!==null&&(V=S.memoizedState.cache),T.memoizedState.cache!==V&&(T.flags|=2048),_o(ha),re(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(S===null||S.child===null)&&(Oe(T)?Js(T):S===null||S.memoizedState.isDehydrated&&(T.flags&256)===0||(T.flags|=1024,Cu!==null&&(xf(Cu),Cu=null))),ff(S,T),Ri(T),null;case 26:if(Tu){P=T.type;var ee=T.memoizedState;return S===null?(Js(T),ee!==null?(Ri(T),Qf(T,ee)):(Ri(T),rc(T,P,V))):ee?ee!==S.memoizedState?(Js(T),Ri(T),Qf(T,ee)):(Ri(T),T.flags&=-16777217):(gi?S.memoizedProps!==V&&Js(T):Qd(S,T,P,V),Ri(T),rc(T,P,V)),null}case 27:if(dl){if(ce(T),P=hh.current,ee=T.type,S!==null&&T.stateNode!=null)gi?S.memoizedProps!==V&&Js(T):Qd(S,T,ee,V);else{if(!V){if(T.stateNode===null)throw Error(i(166));return Ri(T),null}S=Xo.current,Oe(T)?fe(T,S):(S=CT(ee,V,P,S,!0),T.stateNode=S,Js(T))}return Ri(T),null}case 5:if(ce(T),P=T.type,S!==null&&T.stateNode!=null)Qd(S,T,P,V);else{if(!V){if(T.stateNode===null)throw Error(i(166));return Ri(T),null}S=Xo.current,Oe(T)?fe(T,S):(ee=rs(P,V,hh.current,S,T),ul(ee,T,!1,!1),T.stateNode=ee,Hn(ee,P,V,S)&&Js(T))}return Ri(T),rc(T,T.type,T.pendingProps),null;case 6:if(S&&T.stateNode!=null)P=S.memoizedProps,gi?P!==V&&Js(T):Nn&&(P!==V?(T.stateNode=ws(V,hh.current,Xo.current,T),Js(T)):T.stateNode=S.stateNode);else{if(typeof V!="string"&&T.stateNode===null)throw Error(i(166));if(S=hh.current,P=Xo.current,Oe(T)){if(!Fn)throw Error(i(176));if(S=T.stateNode,P=T.memoizedProps,V=null,ee=Fl,ee!==null)switch(ee.tag){case 27:case 5:V=ee.memoizedProps}Og(S,P,T,V)||ye(T)}else T.stateNode=ws(V,S,P,T)}return Ri(T),null;case 13:if(V=T.memoizedState,S===null||S.memoizedState!==null&&S.memoizedState.dehydrated!==null){if(ee=Oe(T),V!==null&&V.dehydrated!==null){if(S===null){if(!ee)throw Error(i(318));if(!Fn)throw Error(i(344));if(ee=T.memoizedState,ee=ee!==null?ee.dehydrated:null,!ee)throw Error(i(317));up(ee,T)}else xe(),(T.flags&128)===0&&(T.memoizedState=null),T.flags|=4;Ri(T),ee=!1}else Cu!==null&&(xf(Cu),Cu=null),ee=!0;if(!ee)return T.flags&256?(He(T),T):(He(T),null)}if(He(T),(T.flags&128)!==0)return T.lanes=P,T;if(P=V!==null,S=S!==null&&S.memoizedState!==null,P){V=T.child,ee=null,V.alternate!==null&&V.alternate.memoizedState!==null&&V.alternate.memoizedState.cachePool!==null&&(ee=V.alternate.memoizedState.cachePool.pool);var le=null;V.memoizedState!==null&&V.memoizedState.cachePool!==null&&(le=V.memoizedState.cachePool.pool),le!==ee&&(V.flags|=2048)}return P!==S&&P&&(T.child.flags|=8192),wo(T,T.updateQueue),Ri(T),null;case 4:return re(),ff(S,T),S===null&&Ui(T.stateNode.containerInfo),Ri(T),null;case 10:return _o(T.type),Ri(T),null;case 19:if(g(ao),ee=T.memoizedState,ee===null)return Ri(T),null;if(V=(T.flags&128)!==0,le=ee.rendering,le===null)if(V)ks(ee,!1);else{if(Bi!==0||S!==null&&(S.flags&128)!==0)for(S=T.child;S!==null;){if(le=ke(S),le!==null){for(T.flags|=128,ks(ee,!1),S=le.updateQueue,T.updateQueue=S,wo(T,S),T.subtreeFlags=0,S=P,P=T.child;P!==null;)sh(P,S),P=P.sibling;return _(ao,ao.current&1|2),T.child}S=S.sibling}ee.tail!==null&&pl()>ys&&(T.flags|=128,V=!0,ks(ee,!1),T.lanes=4194304)}else{if(!V)if(S=ke(le),S!==null){if(T.flags|=128,V=!0,S=S.updateQueue,T.updateQueue=S,wo(T,S),ks(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!le.alternate&&!Vi)return Ri(T),null}else 2*pl()-ee.renderingStartTime>ys&&P!==536870912&&(T.flags|=128,V=!0,ks(ee,!1),T.lanes=4194304);ee.isBackwards?(le.sibling=T.child,T.child=le):(S=ee.last,S!==null?S.sibling=le:T.child=le,ee.last=le)}return ee.tail!==null?(T=ee.tail,ee.rendering=T,ee.tail=T.sibling,ee.renderingStartTime=pl(),T.sibling=null,S=ao.current,_(ao,V?S&1|2:S&1),T):(Ri(T),null);case 22:case 23:return He(T),Ki(),V=T.memoizedState!==null,S!==null?S.memoizedState!==null!==V&&(T.flags|=8192):V&&(T.flags|=8192),V?(P&536870912)!==0&&(T.flags&128)===0&&(Ri(T),T.subtreeFlags&6&&(T.flags|=8192)):Ri(T),P=T.updateQueue,P!==null&&wo(T,P.retryQueue),P=null,S!==null&&S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(P=S.memoizedState.cachePool.pool),V=null,T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(V=T.memoizedState.cachePool.pool),V!==P&&(T.flags|=2048),S!==null&&g(vp),null;case 24:return P=null,S!==null&&(P=S.memoizedState.cache),T.memoizedState.cache!==P&&(T.flags|=2048),_o(ha),Ri(T),null;case 25:return null}throw Error(i(156,T.tag))}function eh(S,T){switch(W(T),T.tag){case 1:return S=T.flags,S&65536?(T.flags=S&-65537|128,T):null;case 3:return _o(ha),re(),S=T.flags,(S&65536)!==0&&(S&128)===0?(T.flags=S&-65537|128,T):null;case 26:case 27:case 5:return ce(T),null;case 13:if(He(T),S=T.memoizedState,S!==null&&S.dehydrated!==null){if(T.alternate===null)throw Error(i(340));xe()}return S=T.flags,S&65536?(T.flags=S&-65537|128,T):null;case 19:return g(ao),null;case 4:return re(),null;case 10:return _o(T.type),null;case 22:case 23:return He(T),Ki(),S!==null&&g(vp),S=T.flags,S&65536?(T.flags=S&-65537|128,T):null;case 24:return _o(ha),null;case 25:return null;default:return null}}function ep(S,T){switch(W(T),T.tag){case 3:_o(ha),re();break;case 26:case 27:case 5:ce(T);break;case 4:re();break;case 13:He(T);break;case 19:g(ao);break;case 10:_o(T.type);break;case 22:case 23:He(T),Ki(),S!==null&&g(vp);break;case 24:_o(ha)}}function df(S,T){try{var P=T.updateQueue,V=P!==null?P.lastEffect:null;if(V!==null){var ee=V.next;P=ee;do{if((P.tag&S)===S){V=void 0;var le=P.create,Ie=P.inst;V=le(),Ie.destroy=V}P=P.next}while(P!==ee)}}catch(tt){hi(T,T.return,tt)}}function ua(S,T,P){try{var V=T.updateQueue,ee=V!==null?V.lastEffect:null;if(ee!==null){var le=ee.next;V=le;do{if((V.tag&S)===S){var Ie=V.inst,tt=Ie.destroy;if(tt!==void 0){Ie.destroy=void 0,ee=T;var yt=P;try{tt()}catch(Jt){hi(ee,yt,Jt)}}}V=V.next}while(V!==le)}}catch(Jt){hi(T,T.return,Jt)}}function zv(S){var T=S.updateQueue;if(T!==null){var P=S.stateNode;try{Ft(T,P)}catch(V){hi(S,S.return,V)}}}function yu(S,T,P){P.props=cl(S.type,S.memoizedProps),P.state=S.memoizedState;try{P.componentWillUnmount()}catch(V){hi(S,T,V)}}function Ho(S,T){try{var P=S.ref;if(P!==null){var V=S.stateNode;switch(S.tag){case 26:case 27:case 5:var ee=Yn(V);break;default:ee=V}typeof P=="function"?S.refCleanup=P(ee):P.current=ee}}catch(le){hi(S,T,le)}}function ta(S,T){var P=S.ref,V=S.refCleanup;if(P!==null)if(typeof V=="function")try{V()}catch(ee){hi(S,T,ee)}finally{S.refCleanup=null,S=S.alternate,S!=null&&(S.refCleanup=null)}else if(typeof P=="function")try{P(null)}catch(ee){hi(S,T,ee)}else P.current=null}function pf(S){var T=S.type,P=S.memoizedProps,V=S.stateNode;try{gT(V,T,P,S)}catch(ee){hi(S,S.return,ee)}}function tp(S,T,P){try{jy(S.stateNode,S.type,P,T,S)}catch(V){hi(S,S.return,V)}}function rp(S){return S.tag===5||S.tag===3||(Tu?S.tag===26:!1)||(dl?S.tag===27:!1)||S.tag===4}function bu(S){e:for(;;){for(;S.sibling===null;){if(S.return===null||rp(S.return))return null;S=S.return}for(S.sibling.return=S.return,S=S.sibling;S.tag!==5&&S.tag!==6&&(!dl||S.tag!==27)&&S.tag!==18;){if(S.flags&2||S.child===null||S.tag===4)continue e;S.child.return=S,S=S.child}if(!(S.flags&2))return S.stateNode}}function _u(S,T,P){var V=S.tag;if(V===5||V===6)S=S.stateNode,T?Ng(P,S,T):Cg(P,S);else if(!(V===4||dl&&V===27)&&(S=S.child,S!==null))for(_u(S,T,P),S=S.sibling;S!==null;)_u(S,T,P),S=S.sibling}function nc(S,T,P){var V=S.tag;if(V===5||V===6)S=S.stateNode,T?Uy(P,S,T):zy(P,S);else if(!(V===4||dl&&V===27)&&(S=S.child,S!==null))for(nc(S,T,P),S=S.sibling;S!==null;)nc(S,T,P),S=S.sibling}function Kh(S,T,P){S=S.containerInfo;try{Lg(S,P)}catch(V){hi(T,T.return,V)}}function ic(S,T){for(Or(S.containerInfo),Cs=T;Cs!==null;)if(S=Cs,T=S.child,(S.subtreeFlags&1028)!==0&&T!==null)T.return=S,Cs=T;else for(;Cs!==null;){S=Cs;var P=S.alternate;switch(T=S.flags,S.tag){case 0:break;case 11:case 15:break;case 1:if((T&1024)!==0&&P!==null){T=void 0;var V=S,ee=P.memoizedProps;P=P.memoizedState;var le=V.stateNode;try{var Ie=cl(V.type,ee,V.elementType===V.type);T=le.getSnapshotBeforeUpdate(Ie,P),le.__reactInternalSnapshotBeforeUpdate=T}catch(tt){hi(V,V.return,tt)}}break;case 3:(T&1024)!==0&&gi&&Dg(S.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((T&1024)!==0)throw Error(i(163))}if(T=S.sibling,T!==null){T.return=S.return,Cs=T;break}Cs=S.return}return Ie=rm,rm=!1,Ie}function vf(S,T,P){var V=P.flags;switch(P.tag){case 0:case 11:case 15:wu(S,P),V&4&&df(5,P);break;case 1:if(wu(S,P),V&4)if(S=P.stateNode,T===null)try{S.componentDidMount()}catch(tt){hi(P,P.return,tt)}else{var ee=cl(P.type,T.memoizedProps);T=T.memoizedState;try{S.componentDidUpdate(ee,T,S.__reactInternalSnapshotBeforeUpdate)}catch(tt){hi(P,P.return,tt)}}V&64&&zv(P),V&512&&Ho(P,P.return);break;case 3:if(wu(S,P),V&64&&(V=P.updateQueue,V!==null)){if(S=null,P.child!==null)switch(P.child.tag){case 27:case 5:S=Yn(P.child.stateNode);break;case 1:S=P.child.stateNode}try{Ft(V,S)}catch(tt){hi(P,P.return,tt)}}break;case 26:if(Tu){wu(S,P),V&512&&Ho(P,P.return);break}case 27:case 5:wu(S,P),T===null&&V&4&&pf(P),V&512&&Ho(P,P.return);break;case 12:wu(S,P);break;case 13:wu(S,P),V&4&&_i(S,P);break;case 22:if(ee=P.memoizedState!==null||Co,!ee){T=T!==null&&T.memoizedState!==null||xs;var le=Co,Ie=xs;Co=ee,(xs=T)&&!Ie?th(S,P,(P.subtreeFlags&8772)!==0):wu(S,P),Co=le,xs=Ie}V&512&&(P.memoizedProps.mode==="manual"?Ho(P,P.return):ta(P,P.return));break;default:wu(S,P)}}function So(S){var T=S.alternate;T!==null&&(S.alternate=null,So(T)),S.child=null,S.deletions=null,S.sibling=null,S.tag===5&&(T=S.stateNode,T!==null&&na(T)),S.stateNode=null,S.return=null,S.dependencies=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.stateNode=null,S.updateQueue=null}function cs(S,T,P){for(P=P.child;P!==null;)Di(S,T,P),P=P.sibling}function Di(S,T,P){if(Oc&&typeof Oc.onCommitFiberUnmount=="function")try{Oc.onCommitFiberUnmount(zg,P)}catch{}switch(P.tag){case 26:if(Tu){xs||ta(P,T),cs(S,T,P),P.memoizedState?_T(P.memoizedState):P.stateNode&&TT(P.stateNode);break}case 27:if(dl){xs||ta(P,T);var V=js,ee=Bc;js=P.stateNode,cs(S,T,P),OM(P.stateNode),js=V,Bc=ee;break}case 5:xs||ta(P,T);case 6:if(gi){if(V=js,ee=Bc,js=null,cs(S,T,P),js=V,Bc=ee,js!==null)if(Bc)try{fs(js,P.stateNode)}catch(le){hi(P,T,le)}else try{io(js,P.stateNode)}catch(le){hi(P,T,le)}}else cs(S,T,P);break;case 18:gi&&js!==null&&(Bc?xT(js,P.stateNode):DM(js,P.stateNode));break;case 4:gi?(V=js,ee=Bc,js=P.stateNode.containerInfo,Bc=!0,cs(S,T,P),js=V,Bc=ee):(Nn&&Kh(P.stateNode,P,Xv()),cs(S,T,P));break;case 0:case 11:case 14:case 15:xs||ua(2,P,T),xs||ua(4,P,T),cs(S,T,P);break;case 1:xs||(ta(P,T),V=P.stateNode,typeof V.componentWillUnmount=="function"&&yu(P,T,V)),cs(S,T,P);break;case 21:cs(S,T,P);break;case 22:xs||ta(P,T),xs=(V=xs)||P.memoizedState!==null,cs(S,T,P),xs=V;break;default:cs(S,T,P)}}function _i(S,T){if(Fn&&T.memoizedState===null&&(S=T.alternate,S!==null&&(S=S.memoizedState,S!==null&&(S=S.dehydrated,S!==null))))try{_0(S)}catch(P){hi(T,T.return,P)}}function Ea(S){switch(S.tag){case 13:case 19:var T=S.stateNode;return T===null&&(T=S.stateNode=new Wg),T;case 22:return S=S.stateNode,T=S._retryCache,T===null&&(T=S._retryCache=new Wg),T;default:throw Error(i(435,S.tag))}}function es(S,T){var P=Ea(S);T.forEach(function(V){var ee=Oy.bind(null,S,V);P.has(V)||(P.add(V),V.then(ee,ee))})}function ts(S,T){var P=T.deletions;if(P!==null)for(var V=0;V<P.length;V++){var ee=P[V],le=S,Ie=T;if(gi){var tt=Ie;e:for(;tt!==null;){switch(tt.tag){case 27:case 5:js=tt.stateNode,Bc=!1;break e;case 3:js=tt.stateNode.containerInfo,Bc=!0;break e;case 4:js=tt.stateNode.containerInfo,Bc=!0;break e}tt=tt.return}if(js===null)throw Error(i(160));Di(le,Ie,ee),js=null,Bc=!1}else Di(le,Ie,ee);le=ee.alternate,le!==null&&(le.return=null),ee.return=null}if(T.subtreeFlags&13878)for(T=T.child;T!==null;)Cc(T,S),T=T.sibling}function Cc(S,T){var P=S.alternate,V=S.flags;switch(S.tag){case 0:case 11:case 14:case 15:ts(T,S),Is(S),V&4&&(ua(3,S,S.return),df(3,S),ua(5,S,S.return));break;case 1:ts(T,S),Is(S),V&512&&(xs||P===null||ta(P,P.return)),V&64&&Co&&(S=S.updateQueue,S!==null&&(V=S.callbacks,V!==null&&(P=S.shared.hiddenCallbacks,S.shared.hiddenCallbacks=P===null?V:P.concat(V))));break;case 26:if(Tu){var ee=lc;ts(T,S),Is(S),V&512&&(xs||P===null||ta(P,P.return)),V&4&&(V=P!==null?P.memoizedState:null,T=S.memoizedState,P===null?T===null?S.stateNode===null?S.stateNode=wT(ee,S.type,S.memoizedProps,S):ST(ee,S.type,S.stateNode):S.stateNode=bT(ee,T,S.memoizedProps):V!==T?(V===null?P.stateNode!==null&&TT(P.stateNode):_T(V),T===null?ST(ee,S.type,S.stateNode):bT(ee,T,S.memoizedProps)):T===null&&S.stateNode!==null&&tp(S,S.memoizedProps,P.memoizedProps));break}case 27:if(dl&&V&4&&S.alternate===null){ee=S.stateNode;var le=S.memoizedProps;try{m6(ee),g6(S.type,le,ee,S)}catch(mr){hi(S,S.return,mr)}}case 5:if(ts(T,S),Is(S),V&512&&(xs||P===null||ta(P,P.return)),gi){if(S.flags&32){T=S.stateNode;try{g0(T)}catch(mr){hi(S,S.return,mr)}}V&4&&S.stateNode!=null&&(T=S.memoizedProps,tp(S,T,P!==null?P.memoizedProps:T)),V&1024&&(C0=!0)}break;case 6:if(ts(T,S),Is(S),V&4&&gi){if(S.stateNode===null)throw Error(i(162));V=S.memoizedProps,P=P!==null?P.memoizedProps:V,T=S.stateNode;try{oh(T,P,V)}catch(mr){hi(S,S.return,mr)}}break;case 3:if(Tu?(AT(),ee=lc,lc=zb(T.containerInfo),ts(T,S),lc=ee):ts(T,S),Is(S),V&4){if(gi&&Fn&&P!==null&&P.memoizedState.isDehydrated)try{b0(T.containerInfo)}catch(mr){hi(S,S.return,mr)}if(Nn){V=T.containerInfo,P=T.pendingChildren;try{Lg(V,P)}catch(mr){hi(S,S.return,mr)}}}C0&&(C0=!1,u0(S));break;case 4:Tu?(P=lc,lc=zb(S.stateNode.containerInfo),ts(T,S),Is(S),lc=P):(ts(T,S),Is(S)),V&4&&Nn&&Kh(S.stateNode,S,S.stateNode.pendingChildren);break;case 12:ts(T,S),Is(S);break;case 13:ts(T,S),Is(S),S.child.flags&8192&&S.memoizedState!==null!=(P!==null&&P.memoizedState!==null)&&(cd=pl()),V&4&&(V=S.updateQueue,V!==null&&(S.updateQueue=null,es(S,V)));break;case 22:V&512&&(xs||P===null||ta(P,P.return)),ee=S.memoizedState!==null;var Ie=P!==null&&P.memoizedState!==null,tt=Co,yt=xs;if(Co=tt||ee,xs=yt||Ie,ts(T,S),xs=yt,Co=tt,Is(S),T=S.stateNode,T._current=S,T._visibility&=-3,T._visibility|=T._pendingVisibility&2,V&8192&&(T._visibility=ee?T._visibility&-2:T._visibility|1,ee&&(T=Co||xs,P===null||Ie||T||np(S)),gi&&(S.memoizedProps===null||S.memoizedProps.mode!=="manual"))){e:if(P=null,gi)for(T=S;;){if(T.tag===5||Tu&&T.tag===26||dl&&T.tag===27){if(P===null){Ie=P=T;try{le=Ie.stateNode,ee?nd(le):cp(Ie.stateNode,Ie.memoizedProps)}catch(mr){hi(Ie,Ie.return,mr)}}}else if(T.tag===6){if(P===null){Ie=T;try{var Jt=Ie.stateNode;ee?x0(Jt):wf(Jt,Ie.memoizedProps)}catch(mr){hi(Ie,Ie.return,mr)}}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===S)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===S)break e;for(;T.sibling===null;){if(T.return===null||T.return===S)break e;P===T&&(P=null),T=T.return}P===T&&(P=null),T.sibling.return=T.return,T=T.sibling}}V&4&&(V=S.updateQueue,V!==null&&(P=V.retryQueue,P!==null&&(V.retryQueue=null,es(S,P))));break;case 19:ts(T,S),Is(S),V&4&&(V=S.updateQueue,V!==null&&(S.updateQueue=null,es(S,V)));break;case 21:break;default:ts(T,S),Is(S)}}function Is(S){var T=S.flags;if(T&2){try{if(gi&&(!dl||S.tag!==27)){e:{for(var P=S.return;P!==null;){if(rp(P)){var V=P;break e}P=P.return}throw Error(i(160))}switch(V.tag){case 27:if(dl){var ee=V.stateNode,le=bu(S);nc(S,le,ee);break}case 5:var Ie=V.stateNode;V.flags&32&&(g0(Ie),V.flags&=-33);var tt=bu(S);nc(S,tt,Ie);break;case 3:case 4:var yt=V.stateNode.containerInfo,Jt=bu(S);_u(S,Jt,yt);break;default:throw Error(i(161))}}}catch(mr){hi(S,S.return,mr)}S.flags&=-3}T&4096&&(S.flags&=-4097)}function u0(S){if(S.subtreeFlags&1024)for(S=S.child;S!==null;){var T=S;u0(T),T.tag===5&&T.flags&1024&&dn(T.stateNode),S=S.sibling}}function wu(S,T){if(T.subtreeFlags&8772)for(T=T.child;T!==null;)vf(S,T.alternate,T),T=T.sibling}function np(S){for(S=S.child;S!==null;){var T=S;switch(T.tag){case 0:case 11:case 14:case 15:ua(4,T,T.return),np(T);break;case 1:ta(T,T.return);var P=T.stateNode;typeof P.componentWillUnmount=="function"&&yu(T,T.return,P),np(T);break;case 26:case 27:case 5:ta(T,T.return),np(T);break;case 22:ta(T,T.return),T.memoizedState===null&&np(T);break;default:np(T)}S=S.sibling}}function th(S,T,P){for(P=P&&(T.subtreeFlags&8772)!==0,T=T.child;T!==null;){var V=T.alternate,ee=S,le=T,Ie=le.flags;switch(le.tag){case 0:case 11:case 15:th(ee,le,P),df(4,le);break;case 1:if(th(ee,le,P),V=le,ee=V.stateNode,typeof ee.componentDidMount=="function")try{ee.componentDidMount()}catch(Jt){hi(V,V.return,Jt)}if(V=le,ee=V.updateQueue,ee!==null){var tt=V.stateNode;try{var yt=ee.shared.hiddenCallbacks;if(yt!==null)for(ee.shared.hiddenCallbacks=null,ee=0;ee<yt.length;ee++)Ue(yt[ee],tt)}catch(Jt){hi(V,V.return,Jt)}}P&&Ie&64&&zv(le),Ho(le,le.return);break;case 26:case 27:case 5:th(ee,le,P),P&&V===null&&Ie&4&&pf(le),Ho(le,le.return);break;case 12:th(ee,le,P);break;case 13:th(ee,le,P),P&&Ie&4&&_i(ee,le);break;case 22:le.memoizedState===null&&th(ee,le,P),Ho(le,le.return);break;default:th(ee,le,P)}T=T.sibling}}function wg(S,T){var P=null;S!==null&&S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(P=S.memoizedState.cachePool.pool),S=null,T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(S=T.memoizedState.cachePool.pool),S!==P&&(S!=null&&S.refCount++,P!=null&&cf(P))}function jv(S,T){S=null,T.alternate!==null&&(S=T.alternate.memoizedState.cache),T=T.memoizedState.cache,T!==S&&(T.refCount++,S!=null&&cf(S))}function mf(S,T,P,V){if(T.subtreeFlags&10256)for(T=T.child;T!==null;)$h(S,T,P,V),T=T.sibling}function $h(S,T,P,V){var ee=T.flags;switch(T.tag){case 0:case 11:case 15:mf(S,T,P,V),ee&2048&&df(9,T);break;case 3:mf(S,T,P,V),ee&2048&&(S=null,T.alternate!==null&&(S=T.alternate.memoizedState.cache),T=T.memoizedState.cache,T!==S&&(T.refCount++,S!=null&&cf(S)));break;case 12:if(ee&2048){mf(S,T,P,V),S=T.stateNode;try{var le=T.memoizedProps,Ie=le.id,tt=le.onPostCommit;typeof tt=="function"&&tt(Ie,T.alternate===null?"mount":"update",S.passiveEffectDuration,-0)}catch(yt){hi(T,T.return,yt)}}else mf(S,T,P,V);break;case 23:break;case 22:le=T.stateNode,T.memoizedState!==null?le._visibility&4?mf(S,T,P,V):rh(S,T):le._visibility&4?mf(S,T,P,V):(le._visibility|=4,To(S,T,P,V,(T.subtreeFlags&10256)!==0)),ee&2048&&wg(T.alternate,T);break;case 24:mf(S,T,P,V),ee&2048&&jv(T.alternate,T);break;default:mf(S,T,P,V)}}function To(S,T,P,V,ee){for(ee=ee&&(T.subtreeFlags&10256)!==0,T=T.child;T!==null;){var le=S,Ie=T,tt=P,yt=V,Jt=Ie.flags;switch(Ie.tag){case 0:case 11:case 15:To(le,Ie,tt,yt,ee),df(8,Ie);break;case 23:break;case 22:var mr=Ie.stateNode;Ie.memoizedState!==null?mr._visibility&4?To(le,Ie,tt,yt,ee):rh(le,Ie):(mr._visibility|=4,To(le,Ie,tt,yt,ee)),ee&&Jt&2048&&wg(Ie.alternate,Ie);break;case 24:To(le,Ie,tt,yt,ee),ee&&Jt&2048&&jv(Ie.alternate,Ie);break;default:To(le,Ie,tt,yt,ee)}T=T.sibling}}function rh(S,T){if(T.subtreeFlags&10256)for(T=T.child;T!==null;){var P=S,V=T,ee=V.flags;switch(V.tag){case 22:rh(P,V),ee&2048&&wg(V.alternate,V);break;case 24:rh(P,V),ee&2048&&jv(V.alternate,V);break;default:rh(P,V)}T=T.sibling}}function Os(S){if(S.subtreeFlags&nm)for(S=S.child;S!==null;)Jh(S),S=S.sibling}function Jh(S){switch(S.tag){case 26:Os(S),S.flags&nm&&(S.memoizedState!==null?MT(lc,S.memoizedState,S.memoizedProps):wi(S.type,S.memoizedProps));break;case 5:Os(S),S.flags&nm&&wi(S.type,S.memoizedProps);break;case 3:case 4:if(Tu){var T=lc;lc=zb(S.stateNode.containerInfo),Os(S),lc=T}else Os(S);break;case 22:S.memoizedState===null&&(T=S.alternate,T!==null&&T.memoizedState!==null?(T=nm,nm=16777216,Os(S),nm=T):Os(S));break;default:Os(S)}}function Uv(S){var T=S.alternate;if(T!==null&&(S=T.child,S!==null)){T.child=null;do T=S.sibling,S.sibling=null,S=T;while(S!==null)}}function nh(S){var T=S.deletions;if((S.flags&16)!==0){if(T!==null)for(var P=0;P<T.length;P++){var V=T[P];Cs=V,gf(V,S)}Uv(S)}if(S.subtreeFlags&10256)for(S=S.child;S!==null;)f0(S),S=S.sibling}function f0(S){switch(S.tag){case 0:case 11:case 15:nh(S),S.flags&2048&&ua(9,S,S.return);break;case 3:nh(S);break;case 12:nh(S);break;case 22:var T=S.stateNode;S.memoizedState!==null&&T._visibility&4&&(S.return===null||S.return.tag!==13)?(T._visibility&=-5,ip(S)):nh(S);break;default:nh(S)}}function ip(S){var T=S.deletions;if((S.flags&16)!==0){if(T!==null)for(var P=0;P<T.length;P++){var V=T[P];Cs=V,gf(V,S)}Uv(S)}for(S=S.child;S!==null;){switch(T=S,T.tag){case 0:case 11:case 15:ua(8,T,T.return),ip(T);break;case 22:P=T.stateNode,P._visibility&4&&(P._visibility&=-5,ip(T));break;default:ip(T)}S=S.sibling}}function gf(S,T){for(;Cs!==null;){var P=Cs;switch(P.tag){case 0:case 11:case 15:ua(8,P,T);break;case 23:case 22:if(P.memoizedState!==null&&P.memoizedState.cachePool!==null){var V=P.memoizedState.cachePool.pool;V!=null&&V.refCount++}break;case 24:cf(P.memoizedState.cache)}if(V=P.child,V!==null)V.return=P,Cs=V;else e:for(P=S;Cs!==null;){V=Cs;var ee=V.sibling,le=V.return;if(So(V),V===P){Cs=null;break e}if(ee!==null){ee.return=le,Cs=ee;break e}Cs=le}}}function ap(S){var T=Ya(S);if(T!=null){if(typeof T.memoizedProps["data-testname"]!="string")throw Error(i(364));return T}if(S=hl(S),S===null)throw Error(i(362));return S.stateNode.current}function Qs(S,T){var P=S.tag;switch(T.$$typeof){case i1:if(S.type===T.value)return!0;break;case Kb:e:{for(T=T.value,S=[S,0],P=0;P<S.length;){var V=S[P++],ee=V.tag,le=S[P++],Ie=T[le];if(ee!==5&&ee!==26&&ee!==27||!kc(V)){for(;Ie!=null&&Qs(V,Ie);)le++,Ie=T[le];if(le===T.length){T=!0;break e}else for(V=V.child;V!==null;)S.push(V,le),V=V.sibling}}T=!1}return T;case $b:if((P===5||P===26||P===27)&&Mg(S.stateNode,T.value))return!0;break;case da:if((P===5||P===6||P===26||P===27)&&(S=rd(S),S!==null&&0<=S.indexOf(T.value)))return!0;break;case Fi:if((P===5||P===26||P===27)&&(S=S.memoizedProps["data-testname"],typeof S=="string"&&S.toLowerCase()===T.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Ps(S){switch(S.$$typeof){case i1:return"<"+(s(S.value)||"Unknown")+">";case Kb:return":has("+(Ps(S)||"")+")";case $b:return'[role="'+S.value+'"]';case da:return'"'+S.value+'"';case Fi:return'[data-testname="'+S.value+'"]';default:throw Error(i(365))}}function Vv(S,T){var P=[];S=[S,0];for(var V=0;V<S.length;){var ee=S[V++],le=ee.tag,Ie=S[V++],tt=T[Ie];if(le!==5&&le!==26&&le!==27||!kc(ee)){for(;tt!=null&&Qs(ee,tt);)Ie++,tt=T[Ie];if(Ie===T.length)P.push(ee);else for(ee=ee.child;ee!==null;)S.push(ee,Ie),ee=ee.sibling}}return P}function eo(S,T){if(!qo)throw Error(i(363));S=ap(S),S=Vv(S,T),T=[],S=Array.from(S);for(var P=0;P<S.length;){var V=S[P++],ee=V.tag;if(ee===5||ee===26||ee===27)kc(V)||T.push(V.stateNode);else for(V=V.child;V!==null;)S.push(V),V=V.sibling}return T}function Go(){if((un&2)!==0&&oi!==0)return oi&-oi;if(mt.T!==null){var S=Pc;return S!==0?S:ht()}return Oi()}function ac(){zc===0&&(zc=(oi&536870912)===0||Vi?L():536870912);var S=Lu.current;return S!==null&&(S.flags|=32),zc}function Fs(S,T,P){(S===di&&Da===2||S.cancelPendingCommit!==null)&&(Su(S,0),kl(S,oi,zc,!1)),O(S,P),((un&2)===0||S!==di)&&(S===di&&((un&2)===0&&(vh|=P),Bi===4&&kl(S,oi,zc,!1)),je(S))}function sp(S,T,P){if((un&6)!==0)throw Error(i(327));var V=!P&&(T&60)===0&&(T&S.expiredLanes)===0||C(S,T),ee=V?Dc(S,T):yf(S,T,!0),le=V;do{if(ee===0){Ru&&!V&&kl(S,T,0,!1);break}else if(ee===6)kl(S,T,0,!pa);else{if(P=S.current.alternate,le&&!Sg(P)){ee=yf(S,T,!1),le=!1;continue}if(ee===2){if(le=T,S.errorRecoveryDisabledLanes&le)var Ie=0;else Ie=S.pendingLanes&-536870913,Ie=Ie!==0?Ie:Ie&536870912?536870912:0;if(Ie!==0){T=Ie;e:{var tt=S;ee=Yg;var yt=Fn&&tt.current.memoizedState.isDehydrated;if(yt&&(Su(tt,Ie).flags|=256),Ie=yf(tt,Ie,!1),Ie!==2){if(mp&&!yt){tt.errorRecoveryDisabledLanes|=le,vh|=le,ee=4;break e}le=Iu,Iu=ee,le!==null&&xf(le)}ee=Ie}if(le=!1,ee!==2)continue}}if(ee===1){Su(S,0),kl(S,T,0,!0);break}e:{switch(V=S,ee){case 0:case 1:throw Error(i(345));case 4:if((T&4194176)===T){kl(V,T,zc,!pa);break e}break;case 2:Iu=null;break;case 3:case 5:break;default:throw Error(i(329))}if(V.finishedWork=P,V.finishedLanes=T,(T&62914560)===T&&(le=cd+300-pl(),10<le)){if(kl(V,T,zc,!pa),M(V,0)!==0)break e;V.timeoutHandle=Mo(h0.bind(null,V,P,Iu,mh,qg,T,zc,vh,gp,pa,2,-0,0),le);break e}h0(V,P,Iu,mh,qg,T,zc,vh,gp,pa,0,-0,0)}}break}while(!0);je(S)}function xf(S){Iu===null?Iu=S:Iu.push.apply(Iu,S)}function h0(S,T,P,V,ee,le,Ie,tt,yt,Jt,mr,Ar,Dr){var Bn=T.subtreeFlags;if((Bn&8192||(Bn&16785408)===16785408)&&(ba(),Jh(T),T=Yo(),T!==null)){S.cancelPendingCommit=T(Ma.bind(null,S,P,V,ee,Ie,tt,yt,1,Ar,Dr)),kl(S,le,Ie,!Jt);return}Ma(S,P,V,ee,Ie,tt,yt,mr,Ar,Dr)}function Sg(S){for(var T=S;;){var P=T.tag;if((P===0||P===11||P===15)&&T.flags&16384&&(P=T.updateQueue,P!==null&&(P=P.stores,P!==null)))for(var V=0;V<P.length;V++){var ee=P[V],le=ee.getSnapshot;ee=ee.value;try{if(!Au(le(),ee))return!1}catch{return!1}}if(P=T.child,T.subtreeFlags&16384&&P!==null)P.return=T,T=P;else{if(T===S)break;for(;T.sibling===null;){if(T.return===null||T.return===S)return!0;T=T.return}T.sibling.return=T.return,T=T.sibling}}return!0}function kl(S,T,P,V){T&=~jl,T&=~vh,S.suspendedLanes|=T,S.pingedLanes&=~T,V&&(S.warmLanes|=T),V=S.expirationTimes;for(var ee=T;0<ee;){var le=31-Ic(ee),Ie=1<<le;V[le]=-1,ee&=~Ie}P!==0&&j(S,P,T)}function Hv(){return(un&6)===0?(Be(0),!1):!0}function Il(){if(Gn!==null){if(Da===0)var S=Gn.return;else S=Gn,Ms=M0=null,sr(S),sd=null,Mf=0,S=Gn;for(;S!==null;)ep(S.alternate,S),S=S.return;Gn=null}}function Su(S,T){S.finishedWork=null,S.finishedLanes=0;var P=S.timeoutHandle;P!==us&&(S.timeoutHandle=us,Ca(P)),P=S.cancelPendingCommit,P!==null&&(S.cancelPendingCommit=null,P()),Il(),di=S,Gn=P=Ao(S.current,null),oi=T,Da=0,Us=null,pa=!1,Ru=C(S,T),mp=!1,gp=zc=jl=vh=ku=Bi=0,Iu=Yg=null,qg=!1,(T&8)!==0&&(T|=T&32);var V=S.entangledLanes;if(V!==0)for(S=S.entanglements,V&=T;0<V;){var ee=31-Ic(V),le=1<<ee;T|=S[ee],V&=~le}return ph=T,ne(),P}function Qh(S,T){ti=null,mt.H=Hi,T===wa?(T=dr(),Da=3):T===LT?(T=dr(),Da=4):Da=T===VM?8:T!==null&&typeof T=="object"&&typeof T.then=="function"?6:1,Us=T,Gn===null&&(Bi=1,$f(S,J(T,S.current)))}function Gv(){var S=Lu.current;return S===null?!0:(oi&4194176)===oi?Cf===null:(oi&62914560)===oi||(oi&536870912)!==0?S===Cf:!1}function d0(){var S=mt.H;return mt.H=Hi,S===null?Hi:S}function sc(){var S=mt.A;return mt.A=Zb,S}function Ol(){Bi=4,pa||(oi&4194176)!==oi&&Lu.current!==null||(Ru=!0),(ku&134217727)===0&&(vh&134217727)===0||di===null||kl(di,oi,zc,!1)}function yf(S,T,P){var V=un;un|=2;var ee=d0(),le=sc();(di!==S||oi!==T)&&(mh=null,Su(S,T)),T=!1;var Ie=Bi;e:do try{if(Da!==0&&Gn!==null){var tt=Gn,yt=Us;switch(Da){case 8:Il(),Ie=6;break e;case 3:case 2:case 6:Lu.current===null&&(T=!0);var Jt=Da;if(Da=0,Us=null,ih(S,tt,yt,Jt),P&&Ru){Ie=0;break e}break;default:Jt=Da,Da=0,Us=null,ih(S,tt,yt,Jt)}}Nc(),Ie=Bi;break}catch(mr){Qh(S,mr)}while(!0);return T&&S.shellSuspendCounter++,Ms=M0=null,un=V,mt.H=ee,mt.A=le,Gn===null&&(di=null,oi=0,ne()),Ie}function Nc(){for(;Gn!==null;)Iy(Gn)}function Dc(S,T){var P=un;un|=2;var V=d0(),ee=sc();di!==S||oi!==T?(mh=null,ys=pl()+500,Su(S,T)):Ru=C(S,T);e:do try{if(Da!==0&&Gn!==null){T=Gn;var le=Us;t:switch(Da){case 1:Da=0,Us=null,ih(S,T,le,1);break;case 2:if(Lt(le)){Da=0,Us=null,Tg(T);break}T=function(){Da===2&&di===S&&(Da=7),je(S)},le.then(T,T);break e;case 3:Da=7;break e;case 4:Da=5;break e;case 7:Lt(le)?(Da=0,Us=null,Tg(T)):(Da=0,Us=null,ih(S,T,le,7));break;case 5:var Ie=null;switch(Gn.tag){case 26:Ie=Gn.memoizedState;case 5:case 27:var tt=Gn,yt=tt.type,Jt=tt.pendingProps;if(Ie?ET(Ie):gs(yt,Jt)){Da=0,Us=null;var mr=tt.sibling;if(mr!==null)Gn=mr;else{var Ar=tt.return;Ar!==null?(Gn=Ar,Wv(Ar)):Gn=null}break t}}Da=0,Us=null,ih(S,T,le,5);break;case 6:Da=0,Us=null,ih(S,T,le,6);break;case 8:Il(),Bi=6;break e;default:throw Error(i(462))}}oc();break}catch(Dr){Qh(S,Dr)}while(!0);return Ms=M0=null,mt.H=V,mt.A=ee,un=P,Gn!==null?0:(di=null,oi=0,ne(),Bi)}function oc(){for(;Gn!==null&&!FM();)Iy(Gn)}function Iy(S){var T=of(S.alternate,S,ph);S.memoizedProps=S.pendingProps,T===null?Wv(S):Gn=T}function Tg(S){var T=S,P=T.alternate;switch(T.tag){case 15:case 0:T=nt(P,T,T.pendingProps,T.type,void 0,oi);break;case 11:T=nt(P,T,T.pendingProps,T.type.render,T.ref,oi);break;case 5:sr(T);default:ep(P,T),T=Gn=sh(T,ph),T=of(P,T,ph)}S.memoizedProps=S.pendingProps,T===null?Wv(S):Gn=T}function ih(S,T,P,V){Ms=M0=null,sr(T),sd=null,Mf=0;var ee=T.return;try{if(Pv(S,ee,T,P,oi)){Bi=1,$f(S,J(P,S.current)),Gn=null;return}}catch(le){if(ee!==null)throw Gn=ee,le;Bi=1,$f(S,J(P,S.current)),Gn=null;return}T.flags&32768?(Vi||V===1?S=!0:Ru||(oi&536870912)!==0?S=!1:(pa=S=!0,(V===2||V===3||V===6)&&(V=Lu.current,V!==null&&V.tag===13&&(V.flags|=16384))),to(T,S)):Wv(T)}function Wv(S){var T=S;do{if((T.flags&32768)!==0){to(T,pa);return}S=T.return;var P=hf(T.alternate,T,ph);if(P!==null){Gn=P;return}if(T=T.sibling,T!==null){Gn=T;return}Gn=T=S}while(T!==null);Bi===0&&(Bi=5)}function to(S,T){do{var P=eh(S.alternate,S);if(P!==null){P.flags&=32767,Gn=P;return}if(P=S.return,P!==null&&(P.flags|=32768,P.subtreeFlags=0,P.deletions=null),!T&&(S=S.sibling,S!==null)){Gn=S;return}Gn=S=P}while(S!==null);Bi=6,Gn=null}function Ma(S,T,P,V,ee,le,Ie,tt,yt,Jt){var mr=mt.T,Ar=ra();try{Ii(2),mt.T=null,mi(S,T,P,V,Ar,ee,le,Ie,tt,yt,Jt)}finally{mt.T=mr,Ii(Ar)}}function mi(S,T,P,V,ee,le,Ie,tt){do fa();while(xp!==null);if((un&6)!==0)throw Error(i(327));var yt=S.finishedWork;if(V=S.finishedLanes,yt===null)return null;if(S.finishedWork=null,S.finishedLanes=0,yt===S.current)throw Error(i(177));S.callbackNode=null,S.callbackPriority=0,S.cancelPendingCommit=null;var Jt=yt.lanes|yt.childLanes;if(Jt|=Ug,I(S,V,Jt,le,Ie,tt),S===di&&(Gn=di=null,oi=0),(yt.subtreeFlags&10256)===0&&(yt.flags&10256)===0||Df||(Df=!0,Jb=Jt,am=P,p0(Ub,function(){return fa(),null})),P=(yt.flags&15990)!==0,(yt.subtreeFlags&15990)!==0||P?(P=mt.T,mt.T=null,le=ra(),Ii(2),Ie=un,un|=4,ic(S,yt),Cc(yt,S),yr(S.containerInfo),S.current=yt,vf(S,yt.alternate,yt),BM(),un=Ie,Ii(le),mt.T=P):S.current=yt,Df?(Df=!1,xp=S,im=V):Wo(S,Jt),Jt=S.pendingLanes,Jt===0&&(Ou=null),H(yt.stateNode),je(S),T!==null)for(ee=S.onRecoverableError,yt=0;yt<T.length;yt++)Jt=T[yt],ee(Jt.value,{componentStack:Jt.stack});return(im&3)!==0&&fa(),Jt=S.pendingLanes,(V&4194218)!==0&&(Jt&42)!==0?S===cc?sm++:(sm=0,cc=S):sm=0,Be(0),null}function Wo(S,T){(S.pooledCacheLanes&=T)===0&&(T=S.pooledCache,T!=null&&(S.pooledCache=null,cf(T)))}function fa(){if(xp!==null){var S=xp,T=Jb;Jb=0;var P=K(im),V=32>P?32:P;P=mt.T;var ee=ra();try{if(Ii(V),mt.T=null,xp===null)var le=!1;else{V=am,am=null;var Ie=xp,tt=im;if(xp=null,im=0,(un&6)!==0)throw Error(i(331));var yt=un;if(un|=4,f0(Ie.current),$h(Ie,Ie.current,tt,V),un=yt,Be(0,!1),Oc&&typeof Oc.onPostCommitFiberRoot=="function")try{Oc.onPostCommitFiberRoot(zg,Ie)}catch{}le=!0}return le}finally{Ii(ee),mt.T=P,Wo(S,T)}}return!1}function Lc(S,T,P){T=J(P,T),T=xu(S.stateNode,T,2),S=Dt(S,T,2),S!==null&&(O(S,2),je(S))}function hi(S,T,P){if(S.tag===3)Lc(S,S,P);else for(;T!==null;){if(T.tag===3){Lc(T,S,P);break}else if(T.tag===1){var V=T.stateNode;if(typeof T.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(Ou===null||!Ou.has(V))){S=J(P,S),P=nf(2),V=Dt(T,P,2),V!==null&&(Xh(P,V,T,S),O(V,2),je(V));break}}T=T.return}}function Yv(S,T,P){var V=S.pingCache;if(V===null){V=S.pingCache=new Si;var ee=new Set;V.set(T,ee)}else ee=V.get(T),ee===void 0&&(ee=new Set,V.set(T,ee));ee.has(P)||(mp=!0,ee.add(P),S=ah.bind(null,S,T,P),T.then(S,S))}function ah(S,T,P){var V=S.pingCache;V!==null&&V.delete(T),S.pingedLanes|=S.suspendedLanes&P,S.warmLanes&=~P,di===S&&(oi&P)===P&&(Bi===4||Bi===3&&(oi&62914560)===oi&&300>pl()-cd?(un&2)===0&&Su(S,0):jl|=P,gp===oi&&(gp=0)),je(S)}function ro(S,T){T===0&&(T=D()),S=ge(S,T),S!==null&&(O(S,T),je(S))}function op(S){var T=S.memoizedState,P=0;T!==null&&(P=T.retryLane),ro(S,P)}function Oy(S,T){var P=0;switch(S.tag){case 13:var V=S.stateNode,ee=S.memoizedState;ee!==null&&(P=ee.retryLane);break;case 19:V=S.stateNode;break;case 22:V=S.stateNode._retryCache;break;default:throw Error(i(314))}V!==null&&V.delete(T),ro(S,P)}function p0(S,T){return Bg(S,T)}function Ag(S,T,P,V){this.tag=S,this.key=P,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=T,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bf(S){return S=S.prototype,!(!S||!S.isReactComponent)}function Ao(S,T){var P=S.alternate;return P===null?(P=t(S.tag,T,S.key,S.mode),P.elementType=S.elementType,P.type=S.type,P.stateNode=S.stateNode,P.alternate=S,S.alternate=P):(P.pendingProps=T,P.type=S.type,P.flags=0,P.subtreeFlags=0,P.deletions=null),P.flags=S.flags&31457280,P.childLanes=S.childLanes,P.lanes=S.lanes,P.child=S.child,P.memoizedProps=S.memoizedProps,P.memoizedState=S.memoizedState,P.updateQueue=S.updateQueue,T=S.dependencies,P.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext},P.sibling=S.sibling,P.index=S.index,P.ref=S.ref,P.refCleanup=S.refCleanup,P}function sh(S,T){S.flags&=31457282;var P=S.alternate;return P===null?(S.childLanes=0,S.lanes=T,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=P.childLanes,S.lanes=P.lanes,S.child=P.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=P.memoizedProps,S.memoizedState=P.memoizedState,S.updateQueue=P.updateQueue,S.type=P.type,T=P.dependencies,S.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),S}function fl(S,T,P,V,ee,le){var Ie=0;if(V=S,typeof S=="function")bf(S)&&(Ie=1);else if(typeof S=="string")Ie=Tu&&dl?yT(S,P,Xo.current)?26:Pg(S)?27:5:Tu?yT(S,P,Xo.current)?26:5:dl&&Pg(S)?27:5;else e:switch(S){case se:return Rc(P.children,ee,le,T);case ue:Ie=8,ee|=24;break;case Ae:return S=t(12,P,T,ee|2),S.elementType=Ae,S.lanes=le,S;case We:return S=t(13,P,T,ee),S.elementType=We,S.lanes=le,S;case at:return S=t(19,P,T,ee),S.elementType=at,S.lanes=le,S;case ct:return ed(P,ee,le,T);default:if(typeof S=="object"&&S!==null)switch(S.$$typeof){case Ce:case Le:Ie=10;break e;case Ne:Ie=9;break e;case Pe:Ie=11;break e;case Ct:Ie=14;break e;case Ge:Ie=16,V=null;break e}Ie=29,P=Error(i(130,S===null?"null":typeof S,"")),V=null}return T=t(Ie,P,T,ee),T.elementType=S,T.type=V,T.lanes=le,T}function Rc(S,T,P,V){return S=t(7,S,V,T),S.lanes=P,S}function ed(S,T,P,V){S=t(22,S,V,T),S.elementType=ct,S.lanes=P;var ee={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var le=ee._current;if(le===null)throw Error(i(456));if((ee._pendingVisibility&2)===0){var Ie=ge(le,2);Ie!==null&&(ee._pendingVisibility|=2,Fs(Ie,le,2))}},attach:function(){var le=ee._current;if(le===null)throw Error(i(456));if((ee._pendingVisibility&2)!==0){var Ie=ge(le,2);Ie!==null&&(ee._pendingVisibility&=-3,Fs(Ie,le,2))}}};return S.stateNode=ee,S}function _f(S,T,P){return S=t(6,S,null,T),S.lanes=P,S}function v0(S,T,P){return T=t(4,S.children!==null?S.children:[],S.key,T),T.lanes=P,T.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},T}function td(S,T,P,V,ee,le,Ie,tt){this.tag=1,this.containerInfo=S,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=us,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=V,this.onUncaughtError=ee,this.onCaughtError=le,this.onRecoverableError=Ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function no(S,T,P,V,ee,le,Ie,tt,yt,Jt,mr,Ar){return S=new td(S,T,P,Ie,tt,yt,Jt,Ar),T=1,le===!0&&(T|=24),le=t(3,null,null,T),S.current=le,le.stateNode=S,T=lf(),T.refCount++,S.pooledCache=T,T.refCount++,le.memoizedState={element:V,isDehydrated:P,cache:T},Nt(le),S}function qv(S){return S?(S=Jv,S):Jv}function Py(S){var T=S._reactInternals;if(T===void 0)throw typeof S.render=="function"?Error(i(188)):(S=Object.keys(S).join(","),Error(i(268,S)));return S=h(T),S=S!==null?p(S):null,S===null?null:Yn(S.stateNode)}function kb(S,T,P,V,ee,le){ee=qv(ee),V.context===null?V.context=ee:V.pendingContext=ee,V=ft(T),V.payload={element:P},le=le===void 0?null:le,le!==null&&(V.callback=le),P=Dt(S,V,T),P!==null&&(Fs(P,S,T),tr(P,S,T))}function Ib(S,T){if(S=S.memoizedState,S!==null&&S.dehydrated!==null){var P=S.retryLane;S.retryLane=P!==0&&P<T?P:T}}function Fy(S,T){Ib(S,T),(S=S.alternate)&&Ib(S,T)}var an={},m0=RS(),Eo=o1e(),lp=Object.assign,Eg=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),Ce=Symbol.for("react.provider"),Ne=Symbol.for("react.consumer"),Le=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),We=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),ct=Symbol.for("react.offscreen"),_t=Symbol.for("react.memo_cache_sentinel"),Yt=Symbol.iterator,Tt=Symbol.for("react.client.reference"),mt=m0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zt,cr,rr=!1,jr=Array.isArray,Ir=e.rendererVersion,Cn=e.rendererPackageName,Ur=e.extraDevToolsConfig,Yn=e.getPublicInstance,Ia=e.getRootHostContext,Vn=e.getChildHostContext,Or=e.prepareForCommit,yr=e.resetAfterCommit,rs=e.createInstance,mn=e.appendInitialChild,Hn=e.finalizeInitialChildren,ki=e.shouldSetTextContent,ws=e.createTextInstance,Mo=e.scheduleTimeout,Ca=e.cancelTimeout,us=e.noTimeout,Wa=e.isPrimaryRenderer;e.warnsIfNotActing;var gi=e.supportsMutation,Nn=e.supportsPersistence,Fn=e.supportsHydration,Ya=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Ui=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Ii=e.setCurrentUpdatePriority,ra=e.getCurrentUpdatePriority,Oi=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var ms=e.shouldAttemptEagerTransition,na=e.detachDeletedInstance;e.requestPostPaintCallback;var Ss=e.maySuspendCommit,gs=e.preloadInstance,ba=e.startSuspendingCommit,wi=e.suspendInstance,Yo=e.waitForCommitToBeReady,_a=e.NotPendingTransition,Jr=e.HostTransitionContext,dn=e.resetFormInstance;e.bindToConsole;var Pi=e.supportsMicrotasks,Pl=e.scheduleMicrotask,qo=e.supportsTestSelectors,hl=e.findFiberRoot,Ts=e.getBoundingRect,rd=e.getTextContent,kc=e.isHiddenSubtree,Mg=e.matchAccessibilityRole,Na=e.setFocusIfFocusable,By=e.setupIntersectionObserver,zy=e.appendChild,Cg=e.appendChildToContainer,oh=e.commitTextUpdate,gT=e.commitMount,jy=e.commitUpdate,Uy=e.insertBefore,Ng=e.insertInContainerBefore,io=e.removeChild,fs=e.removeChildFromContainer,g0=e.resetTextContent,nd=e.hideInstance,x0=e.hideTextInstance,cp=e.unhideInstance,wf=e.unhideTextInstance,Dg=e.clearContainer,y0=e.cloneInstance,Xv=e.createContainerChildSet,Zv=e.appendChildToContainerChildSet,lh=e.finalizeContainerChildren,Lg=e.replaceContainerChildren,Rg=e.cloneHiddenInstance,Vy=e.cloneHiddenTextInstance,Kv=e.isSuspenseInstancePending,Sf=e.isSuspenseInstanceFallback,Ob=e.getSuspenseInstanceFallbackErrorDetails,Pb=e.registerSuspenseInstanceRetry,Fb=e.canHydrateFormStateMarker,Hy=e.isFormStateMarkerMatching,Gy=e.getNextHydratableSibling,id=e.getFirstHydratableChild,kg=e.getFirstHydratableChildWithinContainer,$v=e.getFirstHydratableChildWithinSuspenseInstance,Tf=e.canHydrateInstance,ch=e.canHydrateTextInstance,uh=e.canHydrateSuspenseInstance,Ig=e.hydrateInstance,Og=e.hydrateTextInstance,up=e.hydrateSuspenseInstance,Bb=e.getNextHydratableInstanceAfterSuspenseInstance,b0=e.commitHydratedContainer,_0=e.commitHydratedSuspenseInstance,DM=e.clearSuspenseBoundary,xT=e.clearSuspenseBoundaryFromContainer,LM=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var RM=e.validateHydratableInstance,kM=e.validateHydratableTextInstance,Tu=e.supportsResources,yT=e.isHostHoistableType,zb=e.getHoistableRoot,jb=e.getResource,bT=e.acquireResource,_T=e.releaseResource,wT=e.hydrateHoistable,ST=e.mountHoistable,TT=e.unmountHoistable,v6=e.createHoistableInstance,AT=e.prepareToCommitHoistables,IM=e.mayResourceSuspendCommit,ET=e.preloadResource,MT=e.suspendResource,dl=e.supportsSingletons,CT=e.resolveSingletonInstance,m6=e.clearSingleton,g6=e.acquireSingletonInstance,OM=e.releaseSingletonInstance,Pg=e.isHostSingletonType,Wy=[],fp=-1,Jv={},Ic=Math.clz32?Math.clz32:w,Yy=Math.log,PM=Math.LN2,Fg=128,qy=4194304,Bg=Eo.unstable_scheduleCallback,Xy=Eo.unstable_cancelCallback,FM=Eo.unstable_shouldYield,BM=Eo.unstable_requestPaint,pl=Eo.unstable_now,NT=Eo.unstable_ImmediatePriority,zM=Eo.unstable_UserBlockingPriority,Ub=Eo.unstable_NormalPriority,Vb=Eo.unstable_IdlePriority,jM=Eo.log,DT=Eo.unstable_setDisableYieldValue,zg=null,Oc=null,Au=typeof Object.is=="function"?Object.is:Y,Hb=new WeakMap,ns=[],As=0,Zy=null,Ky=0,Eu=[],Mu=0,fh=null,ad=1,Af="",Xo=x(null),$y=x(null),hh=x(null),jg=x(null),Fl=null,vl=null,Vi=!1,Cu=null,Ef=!1,Jy=Error(i(519)),Nu=[],w0=0,Ug=0,Vg=null,Qv=null,Qy=!1,e1=!1,dh=!1,S0=0,t1=null,Gb=0,Pc=0,T0=null,hp=!1,Hg=!1,r1=Object.prototype.hasOwnProperty,wa=Error(i(460)),LT=Error(i(474)),Wb={then:function(){}},em=null,sd=null,Mf=0,A0=wn(!0),RT=wn(!1),od=x(null),Du=x(0),Lu=x(null),Cf=null,ao=x(0),ld=0,ti=null,ia=null,Bs=null,Nf=!1,is=!1,dp=!1,n1=0,Es=0,Gg=null,UM=0,Yb=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Hi={readContext:Ga,use:et,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re};Hi.useCacheRefresh=Re,Hi.useMemoCache=Re,Hi.useHostTransitionStatus=Re,Hi.useFormState=Re,Hi.useActionState=Re,Hi.useOptimistic=Re;var so={readContext:Ga,use:et,useCallback:function(S,T){return or().memoizedState=[S,T===void 0?null:T],S},useContext:Ga,useEffect:Rv,useImperativeHandle:function(S,T,P){P=P!=null?P.concat([S]):null,Xs(4194308,4,sl.bind(null,T,S),P)},useLayoutEffect:function(S,T){return Xs(4194308,4,S,T)},useInsertionEffect:function(S,T){Xs(4,2,S,T)},useMemo:function(S,T){var P=or();T=T===void 0?null:T;var V=S();if(dp){Z(!0);try{S()}finally{Z(!1)}}return P.memoizedState=[V,T],V},useReducer:function(S,T,P){var V=or();if(P!==void 0){var ee=P(T);if(dp){Z(!0);try{P(T)}finally{Z(!1)}}}else ee=T;return V.memoizedState=V.baseState=ee,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S,lastRenderedState:ee},V.queue=S,S=S.dispatch=Ql.bind(null,ti,S),[V.memoizedState,S]},useRef:function(S){var T=or();return S={current:S},T.memoizedState=S},useState:function(S){S=fi(S);var T=S.queue,P=Yh.bind(null,ti,T);return T.dispatch=P,[S.memoizedState,P]},useDebugValue:mu,useDeferredValue:function(S,T){var P=or();return vn(P,S,T)},useTransition:function(){var S=fi(!1);return S=s0.bind(null,ti,S.queue,!0,!1),or().memoizedState=S,[!1,S]},useSyncExternalStore:function(S,T,P){var V=ti,ee=or();if(Vi){if(P===void 0)throw Error(i(407));P=P()}else{if(P=T(),di===null)throw Error(i(349));(oi&60)!==0||qr(V,T,P)}ee.memoizedState=P;var le={value:P,getSnapshot:T};return ee.queue=le,Rv(Gr.bind(null,V,le,S),[S]),V.flags|=2048,Ra(9,Xr.bind(null,V,le,P,T),{destroy:void 0},null),P},useId:function(){var S=or(),T=di.identifierPrefix;if(Vi){var P=Af,V=ad;P=(V&~(1<<32-Ic(V)-1)).toString(32)+P,T=":"+T+"R"+P,P=n1++,0<P&&(T+="H"+P.toString(32)),T+=":"}else P=UM++,T=":"+T+"r"+P.toString(32)+":";return S.memoizedState=T},useCacheRefresh:function(){return or().memoizedState=Zd.bind(null,ti)}};so.useMemoCache=ot,so.useHostTransitionStatus=ol,so.useFormState=Jl,so.useActionState=Jl,so.useOptimistic=function(S){var T=or();T.memoizedState=T.baseState=S;var P={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return T.queue=P,T=l0.bind(null,ti,!0,P),P.dispatch=T,[S,T]};var Bl={readContext:Ga,use:et,useCallback:Wh,useContext:Ga,useEffect:Xd,useImperativeHandle:Ac,useInsertionEffect:a0,useLayoutEffect:kv,useMemo:Kf,useReducer:Xt,useRef:Vo,useState:function(){return Xt(st)},useDebugValue:mu,useDeferredValue:function(S,T){var P=Se();return Iv(P,ia.memoizedState,S,T)},useTransition:function(){var S=Xt(st)[0],T=Se().memoizedState;return[typeof S=="boolean"?S:Ke(S),T]},useSyncExternalStore:Sr,useId:Zs};Bl.useCacheRefresh=o0,Bl.useMemoCache=ot,Bl.useHostTransitionStatus=ol,Bl.useFormState=ea,Bl.useActionState=ea,Bl.useOptimistic=function(S,T){var P=Se();return ln(P,ia,S,T)};var E0={readContext:Ga,use:et,useCallback:Wh,useContext:Ga,useEffect:Xd,useImperativeHandle:Ac,useInsertionEffect:a0,useLayoutEffect:kv,useMemo:Kf,useReducer:_r,useRef:Vo,useState:function(){return _r(st)},useDebugValue:mu,useDeferredValue:function(S,T){var P=Se();return ia===null?vn(P,S,T):Iv(P,ia.memoizedState,S,T)},useTransition:function(){var S=_r(st)[0],T=Se().memoizedState;return[typeof S=="boolean"?S:Ke(S),T]},useSyncExternalStore:Sr,useId:Zs};E0.useCacheRefresh=o0,E0.useMemoCache=ot,E0.useHostTransitionStatus=ol,E0.useFormState=os,E0.useActionState=os,E0.useOptimistic=function(S,T){var P=Se();return ia!==null?ln(P,ia,S,T):(P.baseState=S,[S,P.queue.dispatch])};var qb={isMounted:function(S){return(S=S._reactInternals)?f(S)===S:!1},enqueueSetState:function(S,T,P){S=S._reactInternals;var V=Go(),ee=ft(V);ee.payload=T,P!=null&&(ee.callback=P),T=Dt(S,ee,V),T!==null&&(Fs(T,S,V),tr(T,S,V))},enqueueReplaceState:function(S,T,P){S=S._reactInternals;var V=Go(),ee=ft(V);ee.tag=1,ee.payload=T,P!=null&&(ee.callback=P),T=Dt(S,ee,V),T!==null&&(Fs(T,S,V),tr(T,S,V))},enqueueForceUpdate:function(S,T){S=S._reactInternals;var P=Go(),V=ft(P);V.tag=2,T!=null&&(V.callback=T),T=Dt(S,V,P),T!==null&&(Fs(T,S,P),tr(T,S,P))}},kT=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},VM=Error(i(461)),zs=!1,zl={dehydrated:null,treeContext:null,retryLane:0},Fc=x(null),M0=null,Ms=null,HM=typeof AbortController<"u"?AbortController:function(){var S=[],T=this.signal={aborted:!1,addEventListener:function(P,V){S.push(V)}};this.abort=function(){T.aborted=!0,S.forEach(function(P){return P()})}},pp=Eo.unstable_scheduleCallback,tm=Eo.unstable_NormalPriority,ha={$$typeof:Le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Xb=mt.S;mt.S=function(S,T){typeof T=="object"&&T!==null&&typeof T.then=="function"&&Je(S,T),Xb!==null&&Xb(S,T)};var vp=x(null),Co=!1,xs=!1,C0=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,Cs=null,rm=!1,js=null,Bc=!1,lc=null,nm=8192,Zb={getCacheForType:function(S){var T=Ga(ha),P=T.data.get(S);return P===void 0&&(P=S(),T.data.set(S,P)),P}},i1=0,Kb=1,$b=2,Fi=3,da=4;if(typeof Symbol=="function"&&Symbol.for){var ri=Symbol.for;i1=ri("selector.component"),Kb=ri("selector.has_pseudo_class"),$b=ri("selector.role"),Fi=ri("selector.test_id"),da=ri("selector.text")}var Si=typeof WeakMap=="function"?WeakMap:Map,un=0,di=null,Gn=null,oi=0,Da=0,Us=null,pa=!1,Ru=!1,mp=!1,ph=0,Bi=0,ku=0,vh=0,jl=0,zc=0,gp=0,Yg=null,Iu=null,qg=!1,cd=0,ys=1/0,mh=null,Ou=null,Df=!1,xp=null,im=0,Jb=0,am=null,sm=0,cc=null;return an.attemptContinuousHydration=function(S){if(S.tag===13){var T=ge(S,67108864);T!==null&&Fs(T,S,67108864),Fy(S,67108864)}},an.attemptHydrationAtCurrentPriority=function(S){if(S.tag===13){var T=Go(),P=ge(S,T);P!==null&&Fs(P,S,T),Fy(S,T)}},an.attemptSynchronousHydration=function(S){switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var T=A(S.pendingLanes);if(T!==0){for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var P=1<<31-Ic(T);S.entanglements[1]|=P,T&=~P}je(S),(un&6)===0&&(ys=pl()+500,Be(0))}}break;case 13:T=ge(S,2),T!==null&&Fs(T,S,2),Hv(),Fy(S,2)}},an.batchedUpdates=function(S,T){return S(T)},an.createComponentSelector=function(S){return{$$typeof:i1,value:S}},an.createContainer=function(S,T,P,V,ee,le,Ie,tt,yt,Jt){return no(S,T,!1,null,P,V,le,Ie,tt,yt,Jt,null)},an.createHasPseudoClassSelector=function(S){return{$$typeof:Kb,value:S}},an.createHydrationContainer=function(S,T,P,V,ee,le,Ie,tt,yt,Jt,mr,Ar,Dr){return S=no(P,V,!0,S,ee,le,tt,yt,Jt,mr,Ar,Dr),S.context=qv(null),P=S.current,V=Go(),ee=ft(V),ee.callback=T??null,Dt(P,ee,V),S.current.lanes=V,O(S,V),je(S),S},an.createPortal=function(S,T,P){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:V==null?null:""+V,children:S,containerInfo:T,implementation:P}},an.createRoleSelector=function(S){return{$$typeof:$b,value:S}},an.createTestNameSelector=function(S){return{$$typeof:Fi,value:S}},an.createTextSelector=function(S){return{$$typeof:da,value:S}},an.defaultOnCaughtError=function(S){console.error(S)},an.defaultOnRecoverableError=function(S){kT(S)},an.defaultOnUncaughtError=function(S){kT(S)},an.deferredUpdates=function(S){var T=mt.T,P=ra();try{return Ii(32),mt.T=null,S()}finally{Ii(P),mt.T=T}},an.discreteUpdates=function(S,T,P,V,ee){var le=mt.T,Ie=ra();try{return Ii(2),mt.T=null,S(T,P,V,ee)}finally{Ii(Ie),mt.T=le,un===0&&(ys=pl()+500)}},an.findAllNodes=eo,an.findBoundingRects=function(S,T){if(!qo)throw Error(i(363));T=eo(S,T),S=[];for(var P=0;P<T.length;P++)S.push(Ts(T[P]));for(T=S.length-1;0<T;T--){P=S[T];for(var V=P.x,ee=V+P.width,le=P.y,Ie=le+P.height,tt=T-1;0<=tt;tt--)if(T!==tt){var yt=S[tt],Jt=yt.x,mr=Jt+yt.width,Ar=yt.y,Dr=Ar+yt.height;if(V>=Jt&&le>=Ar&&ee<=mr&&Ie<=Dr){S.splice(T,1);break}else if(V!==Jt||P.width!==yt.width||Dr<le||Ar>Ie){if(!(le!==Ar||P.height!==yt.height||mr<V||Jt>ee)){Jt>V&&(yt.width+=Jt-V,yt.x=V),mr<ee&&(yt.width=ee-Jt),S.splice(T,1);break}}else{Ar>le&&(yt.height+=Ar-le,yt.y=le),Dr<Ie&&(yt.height=Ie-Ar),S.splice(T,1);break}}}return S},an.findHostInstance=Py,an.findHostInstanceWithNoPortals=function(S){return S=h(S),S=S!==null?v(S):null,S===null?null:Yn(S.stateNode)},an.findHostInstanceWithWarning=function(S){return Py(S)},an.flushPassiveEffects=fa,an.flushSyncFromReconciler=function(S){var T=un;un|=1;var P=mt.T,V=ra();try{if(Ii(2),mt.T=null,S)return S()}finally{Ii(V),mt.T=P,un=T,(un&6)===0&&Be(0)}},an.flushSyncWork=Hv,an.focusWithin=function(S,T){if(!qo)throw Error(i(363));for(S=ap(S),T=Vv(S,T),T=Array.from(T),S=0;S<T.length;){var P=T[S++],V=P.tag;if(!kc(P)){if((V===5||V===26||V===27)&&Na(P.stateNode))return!0;for(P=P.child;P!==null;)T.push(P),P=P.sibling}}return!1},an.getFindAllNodesFailureDescription=function(S,T){if(!qo)throw Error(i(363));var P=0,V=[];S=[ap(S),0];for(var ee=0;ee<S.length;){var le=S[ee++],Ie=le.tag,tt=S[ee++],yt=T[tt];if((Ie!==5&&Ie!==26&&Ie!==27||!kc(le))&&(Qs(le,yt)&&(V.push(Ps(yt)),tt++,tt>P&&(P=tt)),tt<T.length))for(le=le.child;le!==null;)S.push(le,tt),le=le.sibling}if(P<T.length){for(S=[];P<T.length;P++)S.push(Ps(T[P]));return`findAllNodes was able to match part of the selector:
  `+(V.join(" > ")+`

No matching component was found for:
  `)+S.join(" > ")}return null},an.getPublicRootInstance=function(S){if(S=S.current,!S.child)return null;switch(S.child.tag){case 27:case 5:return Yn(S.child.stateNode);default:return S.child.stateNode}},an.injectIntoDevTools=function(){var S={bundleType:0,version:Ir,rendererPackageName:Cn,currentDispatcherRef:mt,findFiberByHostInstance:Ya,reconcilerVersion:"19.0.0"};if(Ur!==null&&(S.rendererConfig=Ur),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")S=!1;else{var T=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(T.isDisabled||!T.supportsFiber)S=!0;else{try{zg=T.inject(S),Oc=T}catch{}S=!!T.checkDCE}}return S},an.isAlreadyRendering=function(){return!1},an.observeVisibleRects=function(S,T,P,V){if(!qo)throw Error(i(363));S=eo(S,T);var ee=By(S,P,V).disconnect;return{disconnect:function(){ee()}}},an.shouldError=function(){return null},an.shouldSuspend=function(){return!1},an.startHostTransition=function(S,T,P,V){if(S.tag!==5)throw Error(i(476));var ee=Ov(S).queue;s0(S,ee,T,_a,P===null?n:function(){var le=Ov(S).next.queue;return Dl(S,le,{},Go()),P(V)})},an.updateContainer=function(S,T,P,V){var ee=T.current,le=Go();return kb(ee,le,S,T,P,V),le},an.updateContainerSync=function(S,T,P,V){return T.tag===0&&fa(),kb(T.current,2,S,T,P,V),2},an},r.exports.default=r.exports,Object.defineProperty(r.exports,"__esModule",{value:!0})})(fB)),fB.exports}var ase;function ept(){return ase||(ase=1,uB.exports=Qdt()),uB.exports}var tpt=ept();const rpt=LS(tpt);var sse=o1e();function YG(r,e,t){if(!r)return;if(t(r)===!0)return r;let n=e?r.return:r.child;for(;n;){const i=YG(n,e,t);if(i)return i;n=e?null:n.sibling}}function l1e(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const qG=l1e(me.createContext(null));class c1e extends me.Component{render(){return me.createElement(qG.Provider,{value:this._reactInternals},this.props.children)}}function u1e(){const r=me.useContext(qG);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=me.useId();return me.useMemo(()=>{for(const t of[r,r==null?void 0:r.alternate]){if(!t)continue;const n=YG(t,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(n)return n}},[r,e])}const npt=Symbol.for("react.context"),ipt=r=>r!==null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===npt;function apt(){const r=u1e(),[e]=me.useState(()=>new Map);e.clear();let t=r;for(;t;){const n=t.type;ipt(n)&&n!==qG&&!e.has(n)&&e.set(n,me.use(l1e(n))),t=t.return}return e}function spt(){const r=apt();return me.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>me.createElement(e,null,me.createElement(t.Provider,{...n,value:r.get(t)})),e=>me.createElement(c1e,{...e})),[r])}function f1e(r){let e=r.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const h1e=r=>r&&r.isOrthographicCamera,opt=r=>r&&r.hasOwnProperty("current"),lpt=r=>r!=null&&(typeof r=="string"||typeof r=="number"||r.isColor),AM=((r,e)=>typeof window<"u"&&(((r=window.document)==null?void 0:r.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?me.useLayoutEffect:me.useEffect;function d1e(r){const e=me.useRef(r);return AM(()=>void(e.current=r),[r]),e}function cpt(){const r=u1e(),e=spt();return me.useMemo(()=>({children:t})=>{const i=!!YG(r,!0,a=>a.type===me.StrictMode)?me.StrictMode:me.Fragment;return y.jsx(i,{children:y.jsx(e,{children:t})})},[r,e])}function upt({set:r}){return AM(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}const fpt=(r=>(r=class extends me.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},r.getDerivedStateFromError=()=>({error:!0}),r))();function p1e(r){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}function aw(r){var e;return(e=r.__r3f)==null?void 0:e.root.getState()}const Vs={obj:r=>r===Object(r)&&!Vs.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,nul:r=>r===null,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:n="reference",strict:i=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(Vs.str(r)||Vs.num(r)||Vs.boo(r))return r===e;const a=Vs.obj(r);if(a&&n==="reference")return r===e;const s=Vs.arr(r);if(s&&t==="reference")return r===e;if((s||a)&&r===e)return!0;let o;for(o in r)if(!(o in e))return!1;if(a&&t==="shallow"&&n==="shallow"){for(o in i?e:r)if(!Vs.equ(r[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:r)if(r[o]!==e[o])return!1;if(Vs.und(o)){if(s&&r.length===0&&e.length===0||a&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function hpt(r){r.type!=="Scene"&&(r.dispose==null||r.dispose());for(const e in r){const t=r[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const v1e=["children","key","ref"];function dpt(r){const e={};for(const t in r)v1e.includes(t)||(e[t]=r[t]);return e}function vk(r,e,t,n){const i=r;let a=i==null?void 0:i.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:dpt(n),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function TE(r,e){if(!e.includes("-"))return{root:r,key:e,target:r[e]};if(e in r)return{root:r,key:e,target:r[e]};let t=r;const n=e.split("-");for(const i of n){if(typeof t!="object"||t===null){if(t!==void 0){const a=n.slice(n.indexOf(i)).join("-");return{root:t,key:a,target:void 0}}return{root:r,key:e,target:void 0}}e=i,r=t,t=t[e]}return{root:r,key:e,target:t}}const ose=/-\d+$/;function mk(r,e){if(Vs.str(e.props.attach)){if(ose.test(e.props.attach)){const i=e.props.attach.replace(ose,""),{root:a,key:s}=TE(r.object,i);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:n}=TE(r.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Vs.fun(e.props.attach)&&(e.previousAttach=e.props.attach(r.object,e.object))}function gk(r,e){if(Vs.str(e.props.attach)){const{root:t,key:n}=TE(r.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[n]:t[n]=i}else e.previousAttach==null||e.previousAttach(r.object,e.object);delete e.previousAttach}const qj=[...v1e,"args","dispose","attach","object","onUpdate","dispose"],lse=new Map;function ppt(r){let e=lse.get(r.constructor);try{e||(e=new r.constructor,lse.set(r.constructor,e))}catch{}return e}function vpt(r,e){const t={};for(const n in e)if(!qj.includes(n)&&!Vs.equ(e[n],r.props[n])){t[n]=e[n];for(const i in e)i.startsWith(`${n}-`)&&(t[i]=e[i])}for(const n in r.props){if(qj.includes(n)||e.hasOwnProperty(n))continue;const{root:i,key:a}=TE(r.object,n);if(i.constructor&&i.constructor.length===0){const s=ppt(i);Vs.und(s)||(t[a]=s[a])}else t[a]=0}return t}const mpt=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],gpt=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Lx(r,e){var t;const n=r.__r3f,i=n&&f1e(n).getState(),a=n==null?void 0:n.eventCount;for(const o in e){let l=e[o];if(qj.includes(o))continue;if(n&&gpt.test(o)){typeof l=="function"?n.handlers[o]=l:delete n.handlers[o],n.eventCount=Object.keys(n.handlers).length;continue}if(l===void 0)continue;let{root:c,key:u,target:f}=TE(r,o);if(f===void 0&&(typeof c!="object"||c===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${u}".`);if(f instanceof TS&&l instanceof TS)f.mask=l.mask;else if(f instanceof Lr&&lpt(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var s;c[u]=l,i&&!i.linear&&mpt.includes(u)&&(s=c[u])!=null&&s.isTexture&&c[u].format===au&&c[u].type===Ud&&(c[u].colorSpace=eu)}}if(n!=null&&n.parent&&i!=null&&i.internal&&(t=n.object)!=null&&t.isObject3D&&a!==n.eventCount){const o=n.object,l=i.internal.interaction.indexOf(o);l>-1&&i.internal.interaction.splice(l,1),n.eventCount&&o.raycast!==null&&i.internal.interaction.push(o)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&dT(n),r}function dT(r){var e;if(!r.parent)return;r.props.onUpdate==null||r.props.onUpdate(r.object);const t=(e=r.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function xpt(r,e){r.manual||(h1e(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix())}const Of=r=>r==null?void 0:r.isObject3D;function V4(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function m1e(r,e,t,n){const i=t.get(e);i&&(t.delete(e),t.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function ypt(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{m1e(t.capturedMap,e,n,i)})}function bpt(r){function e(l){const{internal:c}=r.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function n(l,c){const u=r.getState(),f=new Set,d=[],h=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<h.length;g++){const _=aw(h[g]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function p(g){const _=aw(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var w;_.events.compute==null||_.events.compute(l,_,(w=_.previousRoot)==null?void 0:w.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let v=h.flatMap(p).sort((g,_)=>{const w=aw(g.object),A=aw(_.object);return!w||!A?g.distance-_.distance:A.events.priority-w.events.priority||g.distance-_.distance}).filter(g=>{const _=V4(g);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const g of v){let _=g.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&d.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())f.has(V4(g.intersection))||d.push(g.intersection);return d}function i(l,c,u,f){if(l.length){const d={stopped:!1};for(const h of l){let p=aw(h.object);if(p||h.object.traverseAncestors(v=>{const x=aw(v);if(x)return p=x,!1}),p){const{raycaster:v,pointer:x,camera:g,internal:_}=p,w=new Ye(x.x,x.y,0).unproject(g),A=D=>{var k,O;return(k=(O=_.capturedMap.get(D))==null?void 0:O.has(h.eventObject))!=null?k:!1},M=D=>{const k={intersection:h,target:c.target};_.capturedMap.has(D)?_.capturedMap.get(D).set(h.eventObject,k):_.capturedMap.set(D,new Map([[h.eventObject,k]])),c.target.setPointerCapture(D)},C=D=>{const k=_.capturedMap.get(D);k&&m1e(_.capturedMap,h.eventObject,k,D)};let N={};for(let D in c){let k=c[D];typeof k!="function"&&(N[D]=k)}let L={...h,...N,pointer:x,intersections:l,stopped:d.stopped,delta:u,unprojectedPoint:w,ray:v.ray,camera:g,stopPropagation(){const D="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!D||D.has(h.eventObject))&&(L.stopped=d.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(k=>k.eventObject===h.eventObject))){const k=l.slice(0,l.indexOf(h));a([...k,h])}},target:{hasPointerCapture:A,setPointerCapture:M,releasePointerCapture:C},currentTarget:{hasPointerCapture:A,setPointerCapture:M,releasePointerCapture:C},nativeEvent:c};if(f(L),d.stopped===!0)break}}}return l}function a(l){const{internal:c}=r.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f;if(c.hovered.delete(V4(u)),d!=null&&d.eventCount){const h=d.handlers,p={...u,intersections:l};h.onPointerOut==null||h.onPointerOut(p),h.onPointerLeave==null||h.onPointerLeave(p)}}}function s(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:u}=r.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),a([]))})}}return function(u){const{onPointerMissed:f,internal:d}=r.getState();d.lastEvent.current=u;const h=l==="onPointerMove",p=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=n(u,h?t:void 0),g=p?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=x.map(w=>w.eventObject)),p&&!x.length&&g<=2&&(s(u,d.interaction),f&&f(u)),h&&a(x);function _(w){const A=w.eventObject,M=A.__r3f;if(!(M!=null&&M.eventCount))return;const C=M.handlers;if(h){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const N=V4(w),L=d.hovered.get(N);L?L.stopped&&w.stopPropagation():(d.hovered.set(N,w),C.onPointerOver==null||C.onPointerOver(w),C.onPointerEnter==null||C.onPointerEnter(w))}C.onPointerMove==null||C.onPointerMove(w)}else{const N=C[l];N?(!p||d.initialHits.includes(A))&&(s(u,d.interaction.filter(L=>!d.initialHits.includes(L))),N(w)):p&&d.initialHits.includes(A)&&s(u,d.interaction.filter(L=>!d.initialHits.includes(L)))}}i(x,u,g,_)}}return{handlePointer:o}}const cse=r=>!!(r!=null&&r.render),g1e=me.createContext(null),_pt=(r,e)=>{const t=$dt((o,l)=>{const c=new Ye,u=new Ye,f=new Ye;function d(g=l().camera,_=u,w=l().size){const{width:A,height:M,top:C,left:N}=w,L=A/M;_.isVector3?f.copy(_):f.set(..._);const D=g.getWorldPosition(c).distanceTo(f);if(h1e(g))return{width:A/g.zoom,height:M/g.zoom,top:C,left:N,factor:1,distance:D,aspect:L};{const k=g.fov*Math.PI/180,O=2*Math.tan(k/2)*D,I=O*(A/M);return{width:I,height:O,top:C,left:N,factor:A/I,distance:D,aspect:L}}}let h;const p=g=>o(_=>({performance:{..._.performance,current:g}})),v=new er;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(g=1)=>r(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new UG,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();h&&clearTimeout(h),g.performance.current!==g.performance.min&&p(g.performance.min),h=setTimeout(()=>p(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:g=>o(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,w=0,A=0)=>{const M=l().camera,C={width:g,height:_,top:w,left:A};o(N=>({size:C,viewport:{...N.viewport,...d(M,u,C)}}))},setDpr:g=>o(_=>{const w=p1e(g);return{viewport:{..._.viewport,dpr:w,initialDpr:_.viewport.initialDpr||w}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),o(()=>({frameloop:g}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:me.createRef(),active:!1,frames:0,priority:0,subscribe:(g,_,w)=>{const A=l().internal;return A.priority=A.priority+(_>0?1:0),A.subscribers.push({ref:g,priority:_,store:w}),A.subscribers=A.subscribers.sort((M,C)=>M.priority-C.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(_>0?1:0),M.subscribers=M.subscribers.filter(C=>C.ref!==g))}}}}}),n=t.getState();let i=n.size,a=n.viewport.dpr,s=n.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:u,set:f}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==a){i=l,a=c.dpr,xpt(o,l),c.dpr>0&&u.setPixelRatio(c.dpr);const d=typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,d)}o!==s&&(s=o,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>r(o)),t};function x1e(){const r=me.useContext(g1e);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function _x(r=t=>t,e){return x1e()(r,e)}function c6(r,e=0){const t=x1e(),n=t.getState().internal.subscribe,i=d1e(r);return AM(()=>n(i,e,t),[e,n,t]),null}function wpt(r){const e=rpt(r);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:me.version}),e}const y1e=0,CS={},Spt=/^three(?=[A-Z])/,u6=r=>`${r[0].toUpperCase()}${r.slice(1)}`;let Tpt=0;const Apt=r=>typeof r=="function";function Ept(r){if(Apt(r)){const e=`${Tpt++}`;return CS[e]=r,e}else Object.assign(CS,r)}function b1e(r,e){const t=u6(r),n=CS[t];if(r!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(r==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Mpt(r,e,t){var n;return r=u6(r)in CS?r:r.replace(Spt,""),b1e(r,e),r==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,vk(e.object,t,r,e)}function Cpt(r){if(!r.isHidden){var e;r.props.attach&&(e=r.parent)!=null&&e.object?gk(r.parent,r):Of(r.object)&&(r.object.visible=!1),r.isHidden=!0,dT(r)}}function _1e(r){if(r.isHidden){var e;r.props.attach&&(e=r.parent)!=null&&e.object?mk(r.parent,r):Of(r.object)&&r.props.visible!==!1&&(r.object.visible=!0),r.isHidden=!1,dT(r)}}function XG(r,e,t){const n=e.root.getState();if(!(!r.parent&&r.object!==n.scene)){if(!e.object){var i,a;const s=CS[u6(e.type)];e.object=(i=e.props.object)!=null?i:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Lx(e.object,e.props),e.props.attach)mk(r,e);else if(Of(e.object)&&Of(r.object)){const s=r.object.children.indexOf(t==null?void 0:t.object);if(t&&s!==-1){const o=r.object.children.indexOf(e.object);if(o!==-1){r.object.children.splice(o,1);const l=o<s?s-1:s;r.object.children.splice(l,0,e.object)}else e.object.parent=r.object,r.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),r.object.dispatchEvent({type:"childadded",child:e.object})}else r.object.add(e.object)}for(const s of e.children)XG(e,s);dT(e)}}function pB(r,e){e&&(e.parent=r,r.children.push(e),XG(r,e))}function use(r,e,t){if(!e||!t)return;e.parent=r;const n=r.children.indexOf(t);n!==-1?r.children.splice(n,0,e):r.children.push(e),XG(r,e,t)}function w1e(r){if(typeof r.dispose=="function"){const e=()=>{try{r.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():sse.unstable_scheduleCallback(sse.unstable_IdlePriority,e)}}function Xj(r,e,t){if(!e)return;e.parent=null;const n=r.children.indexOf(e);n!==-1&&r.children.splice(n,1),e.props.attach?gk(r,e):Of(e.object)&&Of(r.object)&&(r.object.remove(e.object),ypt(f1e(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];Xj(e,s,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&w1e(e.object),t===void 0&&dT(e)}function Npt(r,e){for(const t of[r,r.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const RD=[];function Dpt(){for(const[t]of RD){const n=t.parent;if(n){t.props.attach?gk(n,t):Of(t.object)&&Of(n.object)&&n.object.remove(t.object);for(const i of t.children)i.props.attach?gk(t,i):Of(i.object)&&Of(t.object)&&t.object.remove(i.object)}t.isHidden&&_1e(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&w1e(t.object)}for(const[t,n,i]of RD){t.props=n;const a=t.parent;if(a){var r,e;const s=CS[u6(t.type)];t.object=(r=t.props.object)!=null?r:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Npt(i,t.object),Lx(t.object,t.props),t.props.attach?mk(a,t):Of(t.object)&&Of(a.object)&&a.object.add(t.object);for(const o of t.children)o.props.attach?mk(t,o):Of(o.object)&&Of(t.object)&&t.object.add(o.object);dT(t)}}RD.length=0}const vB=()=>{},fse={};let H4=y1e;const Lpt=0,Rpt=4,Zj=wpt({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Mpt,removeChild:Xj,appendChild:pB,appendInitialChild:pB,insertBefore:use,appendChildToContainer(r,e){const t=r.getState().scene.__r3f;!e||!t||pB(t,e)},removeChildFromContainer(r,e){const t=r.getState().scene.__r3f;!e||!t||Xj(t,e)},insertInContainerBefore(r,e,t){const n=r.getState().scene.__r3f;!e||!t||!n||use(n,e,t)},getRootHostContext:()=>fse,getChildHostContext:()=>fse,commitUpdate(r,e,t,n,i){var a,s,o;b1e(e,n);let l=!1;if((r.type==="primitive"&&t.object!==n.object||((a=n.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(o=n.args)!=null&&o.some((u,f)=>{var d;return u!==((d=t.args)==null?void 0:d[f])}))&&(l=!0),l)RD.push([r,{...n},i]);else{const u=vpt(r,n);Object.keys(u).length&&(Object.assign(r.props,u),Lx(r.object,u))}(i.sibling===null||(i.flags&Rpt)===Lpt)&&Dpt()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:r=>r==null?void 0:r.object,prepareForCommit:()=>null,preparePortalMount:r=>vk(r.getState().scene,r,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Cpt,unhideInstance:_1e,createTextInstance:vB,hideTextInstance:vB,unhideTextInstance:vB,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:me.createContext(null),setCurrentUpdatePriority(r){H4=r},getCurrentUpdatePriority(){return H4},resolveUpdatePriority(){var r;if(H4!==y1e)return H4;switch(typeof window<"u"&&((r=window.event)==null?void 0:r.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return CD.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return CD.ContinuousEventPriority;default:return CD.DefaultEventPriority}},resetFormInstance(){}}),cb=new Map,sw={objects:"shallow",strict:!1};function kpt(r,e){if(!e&&typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:t,height:n,top:i,left:a}=r.parentElement.getBoundingClientRect();return{width:t,height:n,top:i,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Ipt(r){const e=cb.get(r),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=n||_pt(Jj,dse),s=t||Zj.createContainer(a,CD.ConcurrentRoot,null,!1,null,"",i,i,i,null);e||cb.set(r,{fiber:s,store:a});let o,l,c=!1,u=null;return{async configure(f={}){let d;u=new Promise(X=>d=X);let{gl:h,size:p,scene:v,events:x,onCreated:g,shadows:_=!1,linear:w=!1,flat:A=!1,legacy:M=!1,orthographic:C=!1,frameloop:N="always",dpr:L=[1,2],performance:D,raycaster:k,camera:O,onPointerMissed:I}=f,j=a.getState(),B=j.gl;if(!j.gl){const X={canvas:r,powerPreference:"high-performance",antialias:!0,alpha:!0},F=typeof h=="function"?await h(X):h;cse(F)?B=F:B=new s1e({...X,...h}),j.set({gl:B})}let K=j.raycaster;K||j.set({raycaster:K=new Jye});const{params:H,...Z}=k||{};if(Vs.equ(Z,K,sw)||Lx(K,{...Z}),Vs.equ(H,K.params,sw)||Lx(K,{params:{...K.params,...H}}),!j.camera||j.camera===l&&!Vs.equ(l,O,sw)){l=O;const X=O==null?void 0:O.isCamera,F=X?O:C?new ry(0,0,0,0,.1,1e3):new Fo(75,0,.1,1e3);X||(F.position.z=5,O&&(Lx(F,O),F.manual||("aspect"in O||"left"in O||"right"in O||"bottom"in O||"top"in O)&&(F.manual=!0,F.updateProjectionMatrix())),!j.camera&&!(O!=null&&O.rotation)&&F.lookAt(0,0,0)),j.set({camera:F}),K.camera=F}if(!j.scene){let X;v!=null&&v.isScene?(X=v,vk(X,a,"",{})):(X=new bG,vk(X,a,"",{}),v&&Lx(X,v)),j.set({scene:X})}x&&!j.events.handlers&&j.set({events:x(a)});const Y=kpt(r,p);if(Vs.equ(Y,j.size,sw)||j.setSize(Y.width,Y.height,Y.top,Y.left),L&&j.viewport.dpr!==p1e(L)&&j.setDpr(L),j.frameloop!==N&&j.setFrameloop(N),j.onPointerMissed||j.set({onPointerMissed:I}),D&&!Vs.equ(D,j.performance,sw)&&j.set(X=>({performance:{...X.performance,...D}})),!j.xr){var J;const X=(Q,re)=>{const ae=a.getState();ae.frameloop!=="never"&&dse(Q,!0,ae,re)},F=()=>{const Q=a.getState();Q.gl.xr.enabled=Q.gl.xr.isPresenting,Q.gl.xr.setAnimationLoop(Q.gl.xr.isPresenting?X:null),Q.gl.xr.isPresenting||Jj(Q)},W={connect(){const Q=a.getState().gl;Q.xr.addEventListener("sessionstart",F),Q.xr.addEventListener("sessionend",F)},disconnect(){const Q=a.getState().gl;Q.xr.removeEventListener("sessionstart",F),Q.xr.removeEventListener("sessionend",F)}};typeof((J=B.xr)==null?void 0:J.addEventListener)=="function"&&W.connect(),j.set({xr:W})}if(B.shadowMap){const X=B.shadowMap.enabled,F=B.shadowMap.type;if(B.shadowMap.enabled=!!_,Vs.boo(_))B.shadowMap.type=ZA;else if(Vs.str(_)){var oe;const W={basic:lxe,percentage:CI,soft:ZA,variance:kp};B.shadowMap.type=(oe=W[_])!=null?oe:ZA}else Vs.obj(_)&&Object.assign(B.shadowMap,_);(X!==B.shadowMap.enabled||F!==B.shadowMap.type)&&(B.shadowMap.needsUpdate=!0)}return qi.enabled=!M,c||(B.outputColorSpace=w?vy:eu,B.toneMapping=A?fv:sG),j.legacy!==M&&j.set(()=>({legacy:M})),j.linear!==w&&j.set(()=>({linear:w})),j.flat!==A&&j.set(()=>({flat:A})),h&&!Vs.fun(h)&&!cse(h)&&!Vs.equ(h,B,sw)&&Lx(B,h),o=g,c=!0,d(),this},render(f){return!c&&!u&&this.configure(),u.then(()=>{Zj.updateContainer(y.jsx(Opt,{store:a,children:f,onCreated:o,rootElement:r}),s,null,()=>{})}),a},unmount(){S1e(r)}}}function Opt({store:r,children:e,onCreated:t,rootElement:n}){return AM(()=>{const i=r.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),r.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),y.jsx(g1e.Provider,{value:r,children:e})}function S1e(r,e){const t=cb.get(r),n=t==null?void 0:t.fiber;if(n){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Zj.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var a,s,o,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),hpt(i.scene),cb.delete(r)}catch{}},500)})}}const Ppt=new Set,Fpt=new Set,Bpt=new Set;function mB(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function i3(r,e){switch(r){case"before":return mB(Ppt,e);case"after":return mB(Fpt,e);case"tail":return mB(Bpt,e)}}let gB,xB;function Kj(r,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),gB=e.internal.subscribers;for(let i=0;i<gB.length;i++)xB=gB[i],xB.ref.current(xB.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let xk=!1,$j=!1,yB,hse,ow;function T1e(r){hse=requestAnimationFrame(T1e),xk=!0,yB=0,i3("before",r),$j=!0;for(const t of cb.values()){var e;ow=t.store.getState(),ow.internal.active&&(ow.frameloop==="always"||ow.internal.frames>0)&&!((e=ow.gl.xr)!=null&&e.isPresenting)&&(yB+=Kj(r,ow))}if($j=!1,i3("after",r),yB===0)return i3("tail",r),xk=!1,cancelAnimationFrame(hse)}function Jj(r,e=1){var t;if(!r)return cb.forEach(n=>Jj(n.store.getState(),e));(t=r.gl.xr)!=null&&t.isPresenting||!r.internal.active||r.frameloop==="never"||(e>1?r.internal.frames=Math.min(60,r.internal.frames+e):$j?r.internal.frames=2:r.internal.frames=1,xk||(xk=!0,requestAnimationFrame(T1e)))}function dse(r,e=!0,t,n){if(e&&i3("before",r),t)Kj(r,t,n);else for(const i of cb.values())Kj(r,i.store.getState());e&&i3("after",r)}const bB={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function zpt(r){const{handlePointer:e}=bpt(r);return{priority:1,enabled:!0,compute(t,n,i){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(bB).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:i}=r.getState();(t=i.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:n,events:i}=r.getState();if(i.disconnect==null||i.disconnect(),n(a=>({events:{...a.events,connected:t}})),i.handlers)for(const a in i.handlers){const s=i.handlers[a],[o,l]=bB[a];t.addEventListener(o,s,{passive:l})}},disconnect:()=>{const{set:t,events:n}=r.getState();if(n.connected){if(n.handlers)for(const i in n.handlers){const a=n.handlers[i],[s]=bB[i];n.connected.removeEventListener(s,a)}t(i=>({events:{...i.events,connected:void 0}}))}}}}function pse(r,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>r(...n),e)}}function jpt({debounce:r,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=me.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=me.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=r?typeof r=="number"?r:r.scroll:null,c=r?typeof r=="number"?r:r.resize:null,u=me.useRef(!1);me.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,d,h]=me.useMemo(()=>{const g=()=>{if(!o.current.element)return;const{left:_,top:w,width:A,height:M,bottom:C,right:N,x:L,y:D}=o.current.element.getBoundingClientRect(),k={left:_,top:w,width:A,height:M,bottom:C,right:N,x:L,y:D};o.current.element instanceof HTMLElement&&n&&(k.height=o.current.element.offsetHeight,k.width=o.current.element.offsetWidth),Object.freeze(k),u.current&&!Gpt(o.current.lastBounds,k)&&s(o.current.lastBounds=k)};return[g,c?pse(g,c):g,l?pse(g,l):g]},[s,n,l,c]);function p(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",h,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function v(){o.current.element&&(o.current.resizeObserver=new i(h),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(g=>g.addEventListener("scroll",h,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const x=g=>{!g||g===o.current.element||(p(),o.current.element=g,o.current.scrollContainers=A1e(g),v())};return Vpt(h,!!e),Upt(d),me.useEffect(()=>{p(),v()},[e,h,d]),me.useEffect(()=>p,[]),[x,a,f]}function Upt(r){me.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function Vpt(r,e){me.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function A1e(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[t,n,i].some(a=>a==="auto"||a==="scroll")&&e.push(r),[...e,...A1e(r.parentElement)]}const Hpt=["x","y","top","bottom","left","right","width","height"],Gpt=(r,e)=>Hpt.every(t=>r[t]===e[t]);function Wpt({ref:r,children:e,fallback:t,resize:n,style:i,gl:a,events:s=zpt,eventSource:o,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:p,dpr:v,performance:x,raycaster:g,camera:_,scene:w,onPointerMissed:A,onCreated:M,...C}){me.useMemo(()=>Ept(jdt),[]);const N=cpt(),[L,D]=jpt({scroll:!0,debounce:{scroll:50,resize:0},...n}),k=me.useRef(null),O=me.useRef(null);me.useImperativeHandle(r,()=>k.current);const I=d1e(A),[j,B]=me.useState(!1),[K,H]=me.useState(!1);if(j)throw j;if(K)throw K;const Z=me.useRef(null);AM(()=>{const J=k.current;if(D.width>0&&D.height>0&&J){Z.current||(Z.current=Ipt(J));async function oe(){await Z.current.configure({gl:a,scene:w,events:s,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:p,dpr:v,performance:x,raycaster:g,camera:_,size:D,onPointerMissed:(...X)=>I.current==null?void 0:I.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(o?opt(o)?o.current:o:O.current),l&&X.setEvents({compute:(F,W)=>{const Q=F[l+"X"],re=F[l+"Y"];W.pointer.set(Q/W.size.width*2-1,-(re/W.size.height)*2+1),W.raycaster.setFromCamera(W.pointer,W.camera)}}),M==null||M(X)}}),Z.current.render(y.jsx(N,{children:y.jsx(fpt,{set:H,children:y.jsx(me.Suspense,{fallback:y.jsx(upt,{set:B}),children:e??null})})}))}oe()}}),me.useEffect(()=>{const J=k.current;if(J)return()=>S1e(J)},[]);const Y=o?"none":"auto";return y.jsx("div",{ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...i},...C,children:y.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:y.jsx("canvas",{ref:k,style:{display:"block"},children:t})})})}function E1e(r){return y.jsx(c1e,{children:y.jsx(Wpt,{...r})})}function Qj(){return Qj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Qj.apply(null,arguments)}var Ypt=Object.defineProperty,qpt=(r,e,t)=>e in r?Ypt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xpt=(r,e,t)=>(qpt(r,e+"",t),t);class Zpt{constructor(){Xpt(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}var Kpt=Object.defineProperty,$pt=(r,e,t)=>e in r?Kpt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bn=(r,e,t)=>($pt(r,typeof e!="symbol"?e+"":e,t),t);const G4=new Nb,vse=new Rm,Jpt=Math.cos(70*(Math.PI/180)),mse=(r,e)=>(r%e+e)%e;let Qpt=class extends Zpt{constructor(e,t){super(),bn(this,"object"),bn(this,"domElement"),bn(this,"enabled",!0),bn(this,"target",new Ye),bn(this,"minDistance",0),bn(this,"maxDistance",1/0),bn(this,"minZoom",0),bn(this,"maxZoom",1/0),bn(this,"minPolarAngle",0),bn(this,"maxPolarAngle",Math.PI),bn(this,"minAzimuthAngle",-1/0),bn(this,"maxAzimuthAngle",1/0),bn(this,"enableDamping",!1),bn(this,"dampingFactor",.05),bn(this,"enableZoom",!0),bn(this,"zoomSpeed",1),bn(this,"enableRotate",!0),bn(this,"rotateSpeed",1),bn(this,"enablePan",!0),bn(this,"panSpeed",1),bn(this,"screenSpacePanning",!0),bn(this,"keyPanSpeed",7),bn(this,"zoomToCursor",!1),bn(this,"autoRotate",!1),bn(this,"autoRotateSpeed",2),bn(this,"reverseOrbit",!1),bn(this,"reverseHorizontalOrbit",!1),bn(this,"reverseVerticalOrbit",!1),bn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),bn(this,"mouseButtons",{LEFT:r2.ROTATE,MIDDLE:r2.DOLLY,RIGHT:r2.PAN}),bn(this,"touches",{ONE:n2.ROTATE,TWO:n2.DOLLY_PAN}),bn(this,"target0"),bn(this,"position0"),bn(this,"zoom0"),bn(this,"_domElementKeyEvents",null),bn(this,"getPolarAngle"),bn(this,"getAzimuthalAngle"),bn(this,"setPolarAngle"),bn(this,"setAzimuthalAngle"),bn(this,"getDistance"),bn(this,"getZoomScale"),bn(this,"listenToKeyEvents"),bn(this,"stopListenToKeyEvents"),bn(this,"saveState"),bn(this,"reset"),bn(this,"update"),bn(this,"connect"),bn(this,"dispose"),bn(this,"dollyIn"),bn(this,"dollyOut"),bn(this,"getScale"),bn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Ze=>{let it=mse(Ze,2*Math.PI),Wt=u.phi;Wt<0&&(Wt+=2*Math.PI),it<0&&(it+=2*Math.PI);let Ue=Math.abs(it-Wt);2*Math.PI-Ue<Ue&&(it<Wt?it+=2*Math.PI:Wt+=2*Math.PI),f.phi=it-Wt,n.update()},this.setAzimuthalAngle=Ze=>{let it=mse(Ze,2*Math.PI),Wt=u.theta;Wt<0&&(Wt+=2*Math.PI),it<0&&(it+=2*Math.PI);let Ue=Math.abs(it-Wt);2*Math.PI-Ue<Ue&&(it<Wt?it+=2*Math.PI:Wt+=2*Math.PI),f.theta=it-Wt,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=Ze=>{Ze.addEventListener("keydown",Je),this._domElementKeyEvents=Ze},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Je),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),l=o.NONE},this.update=(()=>{const Ze=new Ye,it=new Ye(0,1,0),Wt=new uu().setFromUnitVectors(e.up,it),Ue=Wt.clone().invert(),Ft=new Ye,qt=new uu,Lt=2*Math.PI;return function(){const Et=n.object.position;Wt.setFromUnitVectors(e.up,it),Ue.copy(Wt).invert(),Ze.copy(Et).sub(n.target),Ze.applyQuaternion(Wt),u.setFromVector3(Ze),n.autoRotate&&l===o.NONE&&B(I()),n.enableDamping?(u.theta+=f.theta*n.dampingFactor,u.phi+=f.phi*n.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let dr=n.minAzimuthAngle,vr=n.maxAzimuthAngle;isFinite(dr)&&isFinite(vr)&&(dr<-Math.PI?dr+=Lt:dr>Math.PI&&(dr-=Lt),vr<-Math.PI?vr+=Lt:vr>Math.PI&&(vr-=Lt),dr<=vr?u.theta=Math.max(dr,Math.min(vr,u.theta)):u.theta=u.theta>(dr+vr)/2?Math.max(dr,u.theta):Math.min(vr,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),n.zoomToCursor&&D||n.object.isOrthographicCamera?u.radius=W(u.radius):u.radius=W(u.radius*d),Ze.setFromSpherical(u),Ze.applyQuaternion(Ue),Et.copy(n.target).add(Ze),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),h.set(0,0,0));let Yr=!1;if(n.zoomToCursor&&D){let Hr=null;if(n.object instanceof Fo&&n.object.isPerspectiveCamera){const xr=Ze.length();Hr=W(xr*d);const wn=xr-Hr;n.object.position.addScaledVector(N,wn),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const xr=new Ye(L.x,L.y,0);xr.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix(),Yr=!0;const wn=new Ye(L.x,L.y,0);wn.unproject(n.object),n.object.position.sub(wn).add(xr),n.object.updateMatrixWorld(),Hr=Ze.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Hr!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Hr).add(n.object.position):(G4.origin.copy(n.object.position),G4.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(G4.direction))<Jpt?e.lookAt(n.target):(vse.setFromNormalAndCoplanarPoint(n.object.up,n.target),G4.intersectPlane(vse,n.target))))}else n.object instanceof ry&&n.object.isOrthographicCamera&&(Yr=d!==1,Yr&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix()));return d=1,D=!1,Yr||Ft.distanceToSquared(n.object.position)>c||8*(1-qt.dot(n.object.quaternion))>c?(n.dispatchEvent(i),Ft.copy(n.object.position),qt.copy(n.object.quaternion),Yr=!1,!0):!1}})(),this.connect=Ze=>{n.domElement=Ze,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Nt),n.domElement.addEventListener("pointerdown",Fe),n.domElement.addEventListener("pointercancel",pe),n.domElement.addEventListener("wheel",ht)},this.dispose=()=>{var Ze,it,Wt,Ue,Ft,qt;n.domElement&&(n.domElement.style.touchAction="auto"),(Ze=n.domElement)==null||Ze.removeEventListener("contextmenu",Nt),(it=n.domElement)==null||it.removeEventListener("pointerdown",Fe),(Wt=n.domElement)==null||Wt.removeEventListener("pointercancel",pe),(Ue=n.domElement)==null||Ue.removeEventListener("wheel",ht),(Ft=n.domElement)==null||Ft.ownerDocument.removeEventListener("pointermove",we),(qt=n.domElement)==null||qt.ownerDocument.removeEventListener("pointerup",pe),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Je)};const n=this,i={type:"change"},a={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,u=new pk,f=new pk;let d=1;const h=new Ye,p=new er,v=new er,x=new er,g=new er,_=new er,w=new er,A=new er,M=new er,C=new er,N=new Ye,L=new er;let D=!1;const k=[],O={};function I(){return 2*Math.PI/60/60*n.autoRotateSpeed}function j(){return Math.pow(.95,n.zoomSpeed)}function B(Ze){n.reverseOrbit||n.reverseHorizontalOrbit?f.theta+=Ze:f.theta-=Ze}function K(Ze){n.reverseOrbit||n.reverseVerticalOrbit?f.phi+=Ze:f.phi-=Ze}const H=(()=>{const Ze=new Ye;return function(Wt,Ue){Ze.setFromMatrixColumn(Ue,0),Ze.multiplyScalar(-Wt),h.add(Ze)}})(),Z=(()=>{const Ze=new Ye;return function(Wt,Ue){n.screenSpacePanning===!0?Ze.setFromMatrixColumn(Ue,1):(Ze.setFromMatrixColumn(Ue,0),Ze.crossVectors(n.object.up,Ze)),Ze.multiplyScalar(Wt),h.add(Ze)}})(),Y=(()=>{const Ze=new Ye;return function(Wt,Ue){const Ft=n.domElement;if(Ft&&n.object instanceof Fo&&n.object.isPerspectiveCamera){const qt=n.object.position;Ze.copy(qt).sub(n.target);let Lt=Ze.length();Lt*=Math.tan(n.object.fov/2*Math.PI/180),H(2*Wt*Lt/Ft.clientHeight,n.object.matrix),Z(2*Ue*Lt/Ft.clientHeight,n.object.matrix)}else Ft&&n.object instanceof ry&&n.object.isOrthographicCamera?(H(Wt*(n.object.right-n.object.left)/n.object.zoom/Ft.clientWidth,n.object.matrix),Z(Ue*(n.object.top-n.object.bottom)/n.object.zoom/Ft.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function J(Ze){n.object instanceof Fo&&n.object.isPerspectiveCamera||n.object instanceof ry&&n.object.isOrthographicCamera?d=Ze:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function oe(Ze){J(d/Ze)}function X(Ze){J(d*Ze)}function F(Ze){if(!n.zoomToCursor||!n.domElement)return;D=!0;const it=n.domElement.getBoundingClientRect(),Wt=Ze.clientX-it.left,Ue=Ze.clientY-it.top,Ft=it.width,qt=it.height;L.x=Wt/Ft*2-1,L.y=-(Ue/qt)*2+1,N.set(L.x,L.y,1).unproject(n.object).sub(n.object.position).normalize()}function W(Ze){return Math.max(n.minDistance,Math.min(n.maxDistance,Ze))}function Q(Ze){p.set(Ze.clientX,Ze.clientY)}function re(Ze){F(Ze),A.set(Ze.clientX,Ze.clientY)}function ae(Ze){g.set(Ze.clientX,Ze.clientY)}function ce(Ze){v.set(Ze.clientX,Ze.clientY),x.subVectors(v,p).multiplyScalar(n.rotateSpeed);const it=n.domElement;it&&(B(2*Math.PI*x.x/it.clientHeight),K(2*Math.PI*x.y/it.clientHeight)),p.copy(v),n.update()}function ye(Ze){M.set(Ze.clientX,Ze.clientY),C.subVectors(M,A),C.y>0?oe(j()):C.y<0&&X(j()),A.copy(M),n.update()}function fe(Ze){_.set(Ze.clientX,Ze.clientY),w.subVectors(_,g).multiplyScalar(n.panSpeed),Y(w.x,w.y),g.copy(_),n.update()}function be(Ze){F(Ze),Ze.deltaY<0?X(j()):Ze.deltaY>0&&oe(j()),n.update()}function Oe(Ze){let it=!1;switch(Ze.code){case n.keys.UP:Y(0,n.keyPanSpeed),it=!0;break;case n.keys.BOTTOM:Y(0,-n.keyPanSpeed),it=!0;break;case n.keys.LEFT:Y(n.keyPanSpeed,0),it=!0;break;case n.keys.RIGHT:Y(-n.keyPanSpeed,0),it=!0;break}it&&(Ze.preventDefault(),n.update())}function xe(){if(k.length==1)p.set(k[0].pageX,k[0].pageY);else{const Ze=.5*(k[0].pageX+k[1].pageX),it=.5*(k[0].pageY+k[1].pageY);p.set(Ze,it)}}function Qe(){if(k.length==1)g.set(k[0].pageX,k[0].pageY);else{const Ze=.5*(k[0].pageX+k[1].pageX),it=.5*(k[0].pageY+k[1].pageY);g.set(Ze,it)}}function ne(){const Ze=k[0].pageX-k[1].pageX,it=k[0].pageY-k[1].pageY,Wt=Math.sqrt(Ze*Ze+it*it);A.set(0,Wt)}function te(){n.enableZoom&&ne(),n.enablePan&&Qe()}function Me(){n.enableZoom&&ne(),n.enableRotate&&xe()}function ge(Ze){if(k.length==1)v.set(Ze.pageX,Ze.pageY);else{const Wt=tr(Ze),Ue=.5*(Ze.pageX+Wt.x),Ft=.5*(Ze.pageY+Wt.y);v.set(Ue,Ft)}x.subVectors(v,p).multiplyScalar(n.rotateSpeed);const it=n.domElement;it&&(B(2*Math.PI*x.x/it.clientHeight),K(2*Math.PI*x.y/it.clientHeight)),p.copy(v)}function de(Ze){if(k.length==1)_.set(Ze.pageX,Ze.pageY);else{const it=tr(Ze),Wt=.5*(Ze.pageX+it.x),Ue=.5*(Ze.pageY+it.y);_.set(Wt,Ue)}w.subVectors(_,g).multiplyScalar(n.panSpeed),Y(w.x,w.y),g.copy(_)}function _e(Ze){const it=tr(Ze),Wt=Ze.pageX-it.x,Ue=Ze.pageY-it.y,Ft=Math.sqrt(Wt*Wt+Ue*Ue);M.set(0,Ft),C.set(0,Math.pow(M.y/A.y,n.zoomSpeed)),oe(C.y),A.copy(M)}function je(Ze){n.enableZoom&&_e(Ze),n.enablePan&&de(Ze)}function Be(Ze){n.enableZoom&&_e(Ze),n.enableRotate&&ge(Ze)}function Fe(Ze){var it,Wt;n.enabled!==!1&&(k.length===0&&((it=n.domElement)==null||it.ownerDocument.addEventListener("pointermove",we),(Wt=n.domElement)==null||Wt.ownerDocument.addEventListener("pointerup",pe)),ir(Ze),Ze.pointerType==="touch"?Ot(Ze):ze(Ze))}function we(Ze){n.enabled!==!1&&(Ze.pointerType==="touch"?bt(Ze):$e(Ze))}function pe(Ze){var it,Wt,Ue;ft(Ze),k.length===0&&((it=n.domElement)==null||it.releasePointerCapture(Ze.pointerId),(Wt=n.domElement)==null||Wt.ownerDocument.removeEventListener("pointermove",we),(Ue=n.domElement)==null||Ue.ownerDocument.removeEventListener("pointerup",pe)),n.dispatchEvent(s),l=o.NONE}function ze(Ze){let it;switch(Ze.button){case 0:it=n.mouseButtons.LEFT;break;case 1:it=n.mouseButtons.MIDDLE;break;case 2:it=n.mouseButtons.RIGHT;break;default:it=-1}switch(it){case r2.DOLLY:if(n.enableZoom===!1)return;re(Ze),l=o.DOLLY;break;case r2.ROTATE:if(Ze.ctrlKey||Ze.metaKey||Ze.shiftKey){if(n.enablePan===!1)return;ae(Ze),l=o.PAN}else{if(n.enableRotate===!1)return;Q(Ze),l=o.ROTATE}break;case r2.PAN:if(Ze.ctrlKey||Ze.metaKey||Ze.shiftKey){if(n.enableRotate===!1)return;Q(Ze),l=o.ROTATE}else{if(n.enablePan===!1)return;ae(Ze),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&n.dispatchEvent(a)}function $e(Ze){if(n.enabled!==!1)switch(l){case o.ROTATE:if(n.enableRotate===!1)return;ce(Ze);break;case o.DOLLY:if(n.enableZoom===!1)return;ye(Ze);break;case o.PAN:if(n.enablePan===!1)return;fe(Ze);break}}function ht(Ze){n.enabled===!1||n.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(Ze.preventDefault(),n.dispatchEvent(a),be(Ze),n.dispatchEvent(s))}function Je(Ze){n.enabled===!1||n.enablePan===!1||Oe(Ze)}function Ot(Ze){switch(Dt(Ze),k.length){case 1:switch(n.touches.ONE){case n2.ROTATE:if(n.enableRotate===!1)return;xe(),l=o.TOUCH_ROTATE;break;case n2.PAN:if(n.enablePan===!1)return;Qe(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(n.touches.TWO){case n2.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;te(),l=o.TOUCH_DOLLY_PAN;break;case n2.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Me(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&n.dispatchEvent(a)}function bt(Ze){switch(Dt(Ze),l){case o.TOUCH_ROTATE:if(n.enableRotate===!1)return;ge(Ze),n.update();break;case o.TOUCH_PAN:if(n.enablePan===!1)return;de(Ze),n.update();break;case o.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;je(Ze),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Be(Ze),n.update();break;default:l=o.NONE}}function Nt(Ze){n.enabled!==!1&&Ze.preventDefault()}function ir(Ze){k.push(Ze)}function ft(Ze){delete O[Ze.pointerId];for(let it=0;it<k.length;it++)if(k[it].pointerId==Ze.pointerId){k.splice(it,1);return}}function Dt(Ze){let it=O[Ze.pointerId];it===void 0&&(it=new er,O[Ze.pointerId]=it),it.set(Ze.pageX,Ze.pageY)}function tr(Ze){const it=Ze.pointerId===k[0].pointerId?k[1]:k[0];return O[it.pointerId]}this.dollyIn=(Ze=j())=>{X(Ze),n.update()},this.dollyOut=(Ze=j())=>{oe(Ze),n.update()},this.getScale=()=>d,this.setScale=Ze=>{J(Ze),n.update()},this.getZoomScale=()=>j(),t!==void 0&&this.connect(t),this.update()}};const e0t=()=>parseInt(vM.replace(/\D+/g,"")),t0t=e0t(),M1e=me.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:n,enableDamping:i=!0,keyEvents:a=!1,onChange:s,onStart:o,onEnd:l,...c},u)=>{const f=_x(C=>C.invalidate),d=_x(C=>C.camera),h=_x(C=>C.gl),p=_x(C=>C.events),v=_x(C=>C.setEvents),x=_x(C=>C.set),g=_x(C=>C.get),_=_x(C=>C.performance),w=e||d,A=n||p.connected||h.domElement,M=me.useMemo(()=>new Qpt(w),[w]);return c6(()=>{M.enabled&&M.update()},-1),me.useEffect(()=>(a&&M.connect(a===!0?A:a),M.connect(A),()=>void M.dispose()),[a,A,t,M,f]),me.useEffect(()=>{const C=D=>{f(),t&&_.regress(),s&&s(D)},N=D=>{o&&o(D)},L=D=>{l&&l(D)};return M.addEventListener("change",C),M.addEventListener("start",N),M.addEventListener("end",L),()=>{M.removeEventListener("start",N),M.removeEventListener("end",L),M.removeEventListener("change",C)}},[s,o,l,M,f,v]),me.useEffect(()=>{if(r){const C=g().controls;return x({controls:M}),()=>x({controls:C})}},[r,M]),me.createElement("primitive",Qj({ref:u,object:M,enableDamping:i},c))});class r0t extends Uh{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${t0t>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const n0t=r=>new Ye().setFromSpherical(new pk(r,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),C1e=me.forwardRef(({radius:r=100,depth:e=50,count:t=5e3,saturation:n=0,factor:i=4,fade:a=!1,speed:s=1},o)=>{const l=me.useRef(null),[c,u,f]=me.useMemo(()=>{const h=[],p=[],v=Array.from({length:t},()=>(.5+.5*Math.random())*i),x=new Lr;let g=r+e;const _=e/t;for(let w=0;w<t;w++)g-=_*Math.random(),h.push(...n0t(g).toArray()),x.setHSL(w/t,n,.9),p.push(x.r,x.g,x.b);return[new Float32Array(h),new Float32Array(p),new Float32Array(v)]},[t,e,i,r,n]);c6(h=>l.current&&(l.current.uniforms.time.value=h.clock.elapsedTime*s));const[d]=me.useState(()=>new r0t);return me.createElement("points",{ref:o},me.createElement("bufferGeometry",null,me.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),me.createElement("bufferAttribute",{attach:"attributes-color",args:[u,3]}),me.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]})),me.createElement("primitive",{ref:l,object:d,attach:"material",blending:sE,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),i0t=`
  attribute float scale;
  attribute vec3 customColor;
  varying vec3 vColor;
  
  void main() {
    vColor = customColor;
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    gl_PointSize = scale * (500.0 / -mvPosition.z);
    gl_Position = projectionMatrix * mvPosition;
  }
`,a0t=`
  varying vec3 vColor;
  
  void main() {
    // Circular particle
    float r = distance(gl_PointCoord, vec2(0.5));
    if (r > 0.5) discard;
    
    // Soft glow
    float strength = 1.0 - (r * 2.0);
    strength = pow(strength, 3.0);
    
    gl_FragColor = vec4(vColor, strength);
  }
`,s0t=()=>{const r=me.useRef(null),e={count:1e5,radius:20,branches:3,spin:1,randomness:.2,randomnessPower:3,insideColor:"#ff6030",outsideColor:"#1b3984"},t=me.useMemo(()=>{const n=new Float32Array(e.count*3),i=new Float32Array(e.count*3),a=new Float32Array(e.count),s=new Lr(e.insideColor),o=new Lr(e.outsideColor);for(let l=0;l<e.count;l++){const c=l*3,u=Math.random()*e.radius,f=u*e.spin,d=l%e.branches/e.branches*Math.PI*2,h=Math.pow(Math.random(),e.randomnessPower)*(Math.random()<.5?1:-1)*e.randomness*u,p=Math.pow(Math.random(),e.randomnessPower)*(Math.random()<.5?1:-1)*e.randomness*u,v=Math.pow(Math.random(),e.randomnessPower)*(Math.random()<.5?1:-1)*e.randomness*u;n[c]=Math.cos(d+f)*u+h,n[c+1]=p,n[c+2]=Math.sin(d+f)*u+v;const x=s.clone();x.lerp(o,u/e.radius),i[c]=x.r,i[c+1]=x.g,i[c+2]=x.b,a[l]=Math.random()}return{positions:n,colors:i,scales:a}},[]);return c6(n=>{r.current&&(r.current.rotation.y=n.clock.getElapsedTime()*.05)}),y.jsxs("points",{ref:r,children:[y.jsxs("bufferGeometry",{children:[y.jsx("bufferAttribute",{attach:"attributes-position",count:e.count,array:t.positions,itemSize:3}),y.jsx("bufferAttribute",{attach:"attributes-customColor",count:e.count,array:t.colors,itemSize:3}),y.jsx("bufferAttribute",{attach:"attributes-scale",count:e.count,array:t.scales,itemSize:1})]}),y.jsx("shaderMaterial",{depthWrite:!1,blending:sE,vertexColors:!0,vertexShader:i0t,fragmentShader:a0t,uniforms:{uTime:{value:0},uSize:{value:30*window.devicePixelRatio}}})]})},o0t=()=>{const[r,e]=me.useState(0),[t,n]=me.useState(!1),i=[{title:"Andromeda-X",description:"A rare barred spiral galaxy located in the Deep Field. Known for its vibrant high-energy core and extensive star-forming regions composed of exotic matter.",stats:[{label:"Star Count",value:"~400 Billion",icon:Ld,color:"text-purple-300",bg:"bg-purple-500/20"},{label:"Energy Output",value:"Type III Civilization",icon:C2,color:"text-blue-300",bg:"bg-blue-500/20"},{label:"Rotation Speed",value:"220 km/s",icon:Q6,color:"text-pink-300",bg:"bg-pink-500/20"}]},{title:"Milky Way Core",description:"The supermassive black hole Sagittarius A* resides here, surrounded by a dense cluster of ancient stars and high-velocity gas clouds orbiting at relativistic speeds.",stats:[{label:"Mass",value:"4.1 Million Suns",icon:C2,color:"text-yellow-300",bg:"bg-yellow-500/20"},{label:"Diameter",value:"100,000 Light Years",icon:Q6,color:"text-green-300",bg:"bg-green-500/20"},{label:"Age",value:"13.6 Billion Years",icon:Ld,color:"text-orange-300",bg:"bg-orange-500/20"}]},{title:"Nebula Cluster",description:"A stellar nursery where new stars are born from collapsing clouds of dust and hydrogen gas. The vibrant colors indicate different ionized elements like oxygen and sulfur.",stats:[{label:"Temperature",value:"10,000 K",icon:C2,color:"text-red-300",bg:"bg-red-500/20"},{label:"Span",value:"50 Light Years",icon:Q6,color:"text-cyan-300",bg:"bg-cyan-500/20"},{label:"Composition",value:"Hydrogen / Helium",icon:Ld,color:"text-indigo-300",bg:"bg-indigo-500/20"}]}];me.useEffect(()=>{const s=setInterval(()=>{n(!0),setTimeout(()=>{e(o=>(o+1)%i.length),n(!1)},500)},8e3);return()=>clearInterval(s)},[]);const a=i[r];return y.jsxs("div",{className:"absolute bottom-0 left-0 w-full pointer-events-none flex justify-center pb-6",children:[y.jsx("div",{className:"w-full max-w-7xl mx-6 pointer-events-auto",children:y.jsxs("div",{className:"bg-black/80 backdrop-blur-2xl border border-white/10 rounded-xl p-4 text-white shadow-2xl relative overflow-hidden group transition-all duration-500 hover:bg-black/90",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-30"}),y.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-white/5 rounded-full blur-3xl group-hover:bg-white/10 transition-colors duration-1000"}),y.jsxs("div",{className:`relative z-10 transition-opacity duration-500 ${t?"opacity-0 translate-y-2":"opacity-100 translate-y-0"}`,children:[y.jsxs("div",{className:"flex flex-row items-center justify-between gap-8",children:[y.jsxs("div",{className:"flex-1 text-left flex items-center gap-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight shrink-0 min-w-[200px]",children:a.title}),y.jsx("div",{className:"h-8 w-[1px] bg-white/10"}),y.jsx("p",{className:"text-xs text-gray-400 leading-relaxed font-light max-w-2xl line-clamp-2",children:a.description})]}),y.jsx("div",{className:"flex flex-row gap-4 shrink-0",children:a.stats.map((s,o)=>y.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 rounded-lg bg-white/5 border border-white/5 hover:bg-white/10 transition-colors",children:[y.jsx("div",{className:`p-1.5 rounded-md ${s.bg} ${s.color} shadow-inner`,children:y.jsx(s.icon,{size:14,className:"animate-pulse"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider font-bold",children:s.label}),y.jsx("p",{className:"text-xs font-bold text-gray-200",children:s.value})]})]},o))})]}),y.jsx("div",{className:"absolute bottom-0 left-0 h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent w-full opacity-20",children:y.jsx("div",{className:"h-full bg-white/40 w-full origin-left animate-[progress_8s_linear]"},r)})]})]})}),y.jsx("style",{children:`
                @keyframes progress {
                    from { transform: scaleX(0); }
                    to { transform: scaleX(1); }
                }
            `})]})},l0t=()=>y.jsxs("div",{className:"w-full h-full bg-[#050508] relative overflow-hidden",children:[y.jsxs(E1e,{camera:{position:[0,25,45],fov:40},children:[y.jsx("color",{attach:"background",args:["#020203"]}),y.jsx(M1e,{enableDamping:!0,dampingFactor:.05,minDistance:10,maxDistance:100,autoRotate:!1,autoRotateSpeed:.5}),y.jsx(C1e,{radius:200,depth:50,count:5e3,factor:4,saturation:.8,fade:!0,speed:.5}),y.jsx(s0t,{}),y.jsx("ambientLight",{intensity:.1}),y.jsx("pointLight",{position:[0,0,0],intensity:2,distance:30,color:"#ffccaa"})]}),y.jsx(o0t,{}),y.jsx("div",{className:"absolute top-8 right-8 text-right pointer-events-none select-none",children:y.jsx("h1",{className:"text-6xl font-thin tracking-[0.2em] text-white/10 uppercase",children:"Cosmos"})})]}),ZG=me.createContext({});function KG(r){const e=me.useRef(null);return e.current===null&&(e.current=r()),e.current}const $G=typeof window<"u",N1e=$G?me.useLayoutEffect:me.useEffect,f6=me.createContext(null);function JG(r,e){r.indexOf(e)===-1&&r.push(e)}function QG(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const vg=(r,e,t)=>t>e?e:t<r?r:t;let eW=()=>{};const mg={},D1e=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function L1e(r){return typeof r=="object"&&r!==null}const R1e=r=>/^0[^.\s]+$/u.test(r);function tW(r){let e;return()=>(e===void 0&&(e=r()),e)}const Id=r=>r,c0t=(r,e)=>t=>e(r(t)),EM=(...r)=>r.reduce(c0t),AE=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n};class rW{constructor(){this.subscriptions=[]}add(e){return JG(this.subscriptions,e),()=>QG(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hv=r=>r*1e3,Dd=r=>r/1e3;function k1e(r,e){return e?r*(1e3/e):0}const I1e=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,u0t=1e-7,f0t=12;function h0t(r,e,t,n,i){let a,s,o=0;do s=e+(t-e)/2,a=I1e(s,n,i)-r,a>0?t=s:e=s;while(Math.abs(a)>u0t&&++o<f0t);return s}function MM(r,e,t,n){if(r===e&&t===n)return Id;const i=a=>h0t(a,0,1,r,t);return a=>a===0||a===1?a:I1e(i(a),e,n)}const O1e=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,P1e=r=>e=>1-r(1-e),F1e=MM(.33,1.53,.69,.99),nW=P1e(F1e),B1e=O1e(nW),z1e=r=>(r*=2)<1?.5*nW(r):.5*(2-Math.pow(2,-10*(r-1))),iW=r=>1-Math.sin(Math.acos(r)),j1e=P1e(iW),U1e=O1e(iW),d0t=MM(.42,0,1,1),p0t=MM(0,0,.58,1),V1e=MM(.42,0,.58,1),v0t=r=>Array.isArray(r)&&typeof r[0]!="number",H1e=r=>Array.isArray(r)&&typeof r[0]=="number",m0t={linear:Id,easeIn:d0t,easeInOut:V1e,easeOut:p0t,circIn:iW,circInOut:U1e,circOut:j1e,backIn:nW,backInOut:B1e,backOut:F1e,anticipate:z1e},g0t=r=>typeof r=="string",gse=r=>{if(H1e(r)){eW(r.length===4);const[e,t,n,i]=r;return MM(e,t,n,i)}else if(g0t(r))return m0t[r];return r},W4=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function x0t(r,e){let t=new Set,n=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),r()),u(o)}const c={schedule:(u,f=!1,d=!1)=>{const p=d&&i?t:n;return f&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,i){a=!0;return}i=!0,[t,n]=[n,t],t.forEach(l),t.clear(),i=!1,a&&(a=!1,c.process(u))}};return c}const y0t=40;function G1e(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=W4.reduce((w,A)=>(w[A]=x0t(a),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:d,render:h,postRender:p}=s,v=()=>{const w=mg.useManualTiming?i.timestamp:performance.now();t=!1,mg.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,y0t),1)),i.timestamp=w,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),f.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,t&&e&&(n=!1,r(v))},x=()=>{t=!0,n=!0,i.isProcessing||r(v)};return{schedule:W4.reduce((w,A)=>{const M=s[A];return w[A]=(C,N=!1,L=!1)=>(t||x(),M.schedule(C,N,L)),w},{}),cancel:w=>{for(let A=0;A<W4.length;A++)s[W4[A]].cancel(w)},state:i,steps:s}}const{schedule:Rs,cancel:xy,state:dc,steps:_B}=G1e(typeof requestAnimationFrame<"u"?requestAnimationFrame:Id,!0);let kD;function b0t(){kD=void 0}const Vf={now:()=>(kD===void 0&&Vf.set(dc.isProcessing||mg.useManualTiming?dc.timestamp:performance.now()),kD),set:r=>{kD=r,queueMicrotask(b0t)}},W1e=r=>e=>typeof e=="string"&&e.startsWith(r),aW=W1e("--"),_0t=W1e("var(--"),sW=r=>_0t(r)?w0t.test(r.split("/*")[0].trim()):!1,w0t=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pT={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},EE={...pT,transform:r=>vg(0,1,r)},Y4={...pT,default:1},a3=r=>Math.round(r*1e5)/1e5,oW=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S0t(r){return r==null}const T0t=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lW=(r,e)=>t=>!!(typeof t=="string"&&T0t.test(t)&&t.startsWith(r)||e&&!S0t(t)&&Object.prototype.hasOwnProperty.call(t,e)),Y1e=(r,e,t)=>n=>{if(typeof n!="string")return n;const[i,a,s,o]=n.match(oW);return{[r]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},A0t=r=>vg(0,255,r),wB={...pT,transform:r=>Math.round(A0t(r))},A2={test:lW("rgb","red"),parse:Y1e("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+wB.transform(r)+", "+wB.transform(e)+", "+wB.transform(t)+", "+a3(EE.transform(n))+")"};function E0t(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const eU={test:lW("#"),parse:E0t,transform:A2.transform},CM=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),Ax=CM("deg"),dv=CM("%"),In=CM("px"),M0t=CM("vh"),C0t=CM("vw"),xse={...dv,parse:r=>dv.parse(r)/100,transform:r=>dv.transform(r*100)},Mw={test:lW("hsl","hue"),parse:Y1e("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+dv.transform(a3(e))+", "+dv.transform(a3(t))+", "+a3(EE.transform(n))+")"},el={test:r=>A2.test(r)||eU.test(r)||Mw.test(r),parse:r=>A2.test(r)?A2.parse(r):Mw.test(r)?Mw.parse(r):eU.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?A2.transform(r):Mw.transform(r),getAnimatableNone:r=>{const e=el.parse(r);return e.alpha=0,el.transform(e)}},N0t=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function D0t(r){var e,t;return isNaN(r)&&typeof r=="string"&&(((e=r.match(oW))==null?void 0:e.length)||0)+(((t=r.match(N0t))==null?void 0:t.length)||0)>0}const q1e="number",X1e="color",L0t="var",R0t="var(",yse="${}",k0t=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ME(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(k0t,l=>(el.test(l)?(n.color.push(a),i.push(X1e),t.push(el.parse(l))):l.startsWith(R0t)?(n.var.push(a),i.push(L0t),t.push(l)):(n.number.push(a),i.push(q1e),t.push(parseFloat(l))),++a,yse)).split(yse);return{values:t,split:o,indexes:n,types:i}}function Z1e(r){return ME(r).values}function K1e(r){const{split:e,types:t}=ME(r),n=e.length;return i=>{let a="";for(let s=0;s<n;s++)if(a+=e[s],i[s]!==void 0){const o=t[s];o===q1e?a+=a3(i[s]):o===X1e?a+=el.transform(i[s]):a+=i[s]}return a}}const I0t=r=>typeof r=="number"?0:el.test(r)?el.getAnimatableNone(r):r;function O0t(r){const e=Z1e(r);return K1e(r)(e.map(I0t))}const yy={test:D0t,parse:Z1e,createTransformer:K1e,getAnimatableNone:O0t};function SB(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function P0t({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,a=0,s=0;if(!e)i=a=s=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=SB(l,o,r+1/3),a=SB(l,o,r),s=SB(l,o,r-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function yk(r,e){return t=>t>0?e:r}const Gs=(r,e,t)=>r+(e-r)*t,TB=(r,e,t)=>{const n=r*r,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},F0t=[eU,A2,Mw],B0t=r=>F0t.find(e=>e.test(r));function bse(r){const e=B0t(r);if(!e)return!1;let t=e.parse(r);return e===Mw&&(t=P0t(t)),t}const _se=(r,e)=>{const t=bse(r),n=bse(e);if(!t||!n)return yk(r,e);const i={...t};return a=>(i.red=TB(t.red,n.red,a),i.green=TB(t.green,n.green,a),i.blue=TB(t.blue,n.blue,a),i.alpha=Gs(t.alpha,n.alpha,a),A2.transform(i))},tU=new Set(["none","hidden"]);function z0t(r,e){return tU.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function j0t(r,e){return t=>Gs(r,e,t)}function cW(r){return typeof r=="number"?j0t:typeof r=="string"?sW(r)?yk:el.test(r)?_se:H0t:Array.isArray(r)?$1e:typeof r=="object"?el.test(r)?_se:U0t:yk}function $1e(r,e){const t=[...r],n=t.length,i=r.map((a,s)=>cW(a)(a,e[s]));return a=>{for(let s=0;s<n;s++)t[s]=i[s](a);return t}}function U0t(r,e){const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=cW(r[i])(r[i],e[i]));return i=>{for(const a in n)t[a]=n[a](i);return t}}function V0t(r,e){const t=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=r.indexes[a][n[a]],o=r.values[s]??0;t[i]=o,n[a]++}return t}const H0t=(r,e)=>{const t=yy.createTransformer(e),n=ME(r),i=ME(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?tU.has(r)&&!i.values.length||tU.has(e)&&!n.values.length?z0t(r,e):EM($1e(V0t(n,i),i.values),t):yk(r,e)};function J1e(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?Gs(r,e,t):cW(r)(r,e)}const G0t=r=>{const e=({timestamp:t})=>r(t);return{start:(t=!0)=>Rs.update(e,t),stop:()=>xy(e),now:()=>dc.isProcessing?dc.timestamp:Vf.now()}},Q1e=(r,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)n+=Math.round(r(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},bk=2e4;function uW(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<bk;)e+=t,n=r.next(e);return e>=bk?1/0:e}function W0t(r,e=100,t){const n=t({...r,keyframes:[0,e]}),i=Math.min(uW(n),bk);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:Dd(i)}}const Y0t=5;function e2e(r,e,t){const n=Math.max(e-Y0t,0);return k1e(t-r(n),e-n)}const uo={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},AB=.001;function q0t({duration:r=uo.duration,bounce:e=uo.bounce,velocity:t=uo.velocity,mass:n=uo.mass}){let i,a,s=1-e;s=vg(uo.minDamping,uo.maxDamping,s),r=vg(uo.minDuration,uo.maxDuration,Dd(r)),s<1?(i=c=>{const u=c*s,f=u*r,d=u-t,h=rU(c,s),p=Math.exp(-f);return AB-d/h*p},a=c=>{const f=c*s*r,d=f*t+t,h=Math.pow(s,2)*Math.pow(c,2)*r,p=Math.exp(-f),v=rU(Math.pow(c,2),s);return(-i(c)+AB>0?-1:1)*((d-h)*p)/v}):(i=c=>{const u=Math.exp(-c*r),f=(c-t)*r+1;return-AB+u*f},a=c=>{const u=Math.exp(-c*r),f=(t-c)*(r*r);return u*f});const o=5/r,l=Z0t(i,a,o);if(r=hv(r),isNaN(l))return{stiffness:uo.stiffness,damping:uo.damping,duration:r};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:r}}}const X0t=12;function Z0t(r,e,t){let n=t;for(let i=1;i<X0t;i++)n=n-r(n)/e(n);return n}function rU(r,e){return r*Math.sqrt(1-e*e)}const K0t=["duration","bounce"],$0t=["stiffness","damping","mass"];function wse(r,e){return e.some(t=>r[t]!==void 0)}function J0t(r){let e={velocity:uo.velocity,stiffness:uo.stiffness,damping:uo.damping,mass:uo.mass,isResolvedFromDuration:!1,...r};if(!wse(r,$0t)&&wse(r,K0t))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,a=2*vg(.05,1,1-(r.bounce||0))*Math.sqrt(i);e={...e,mass:uo.mass,stiffness:i,damping:a}}else{const t=q0t(r);e={...e,...t,mass:uo.mass},e.isResolvedFromDuration=!0}return e}function _k(r=uo.visualDuration,e=uo.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:i}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:f,velocity:d,isResolvedFromDuration:h}=J0t({...t,velocity:-Dd(t.velocity||0)}),p=d||0,v=c/(2*Math.sqrt(l*u)),x=s-a,g=Dd(Math.sqrt(l/u)),_=Math.abs(x)<5;n||(n=_?uo.restSpeed.granular:uo.restSpeed.default),i||(i=_?uo.restDelta.granular:uo.restDelta.default);let w;if(v<1){const M=rU(g,v);w=C=>{const N=Math.exp(-v*g*C);return s-N*((p+v*g*x)/M*Math.sin(M*C)+x*Math.cos(M*C))}}else if(v===1)w=M=>s-Math.exp(-g*M)*(x+(p+g*x)*M);else{const M=g*Math.sqrt(v*v-1);w=C=>{const N=Math.exp(-v*g*C),L=Math.min(M*C,300);return s-N*((p+v*g*x)*Math.sinh(L)+M*x*Math.cosh(L))/M}}const A={calculatedDuration:h&&f||null,next:M=>{const C=w(M);if(h)o.done=M>=f;else{let N=M===0?p:0;v<1&&(N=M===0?hv(p):e2e(w,M,C));const L=Math.abs(N)<=n,D=Math.abs(s-C)<=i;o.done=L&&D}return o.value=o.done?s:C,o},toString:()=>{const M=Math.min(uW(A),bk),C=Q1e(N=>A.next(M*N).value,M,30);return M+"ms "+C},toTransition:()=>{}};return A}_k.applyToOptions=r=>{const e=W0t(r,100,_k);return r.ease=e.ease,r.duration=hv(e.duration),r.type="keyframes",r};function nU({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=r[0],d={done:!1,value:f},h=L=>o!==void 0&&L<o||l!==void 0&&L>l,p=L=>o===void 0?l:l===void 0||Math.abs(o-L)<Math.abs(l-L)?o:l;let v=t*e;const x=f+v,g=s===void 0?x:s(x);g!==x&&(v=g-f);const _=L=>-v*Math.exp(-L/n),w=L=>g+_(L),A=L=>{const D=_(L),k=w(L);d.done=Math.abs(D)<=c,d.value=d.done?g:k};let M,C;const N=L=>{h(d.value)&&(M=L,C=_k({keyframes:[d.value,p(d.value)],velocity:e2e(w,L,d.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return N(0),{calculatedDuration:null,next:L=>{let D=!1;return!C&&M===void 0&&(D=!0,A(L),N(L)),M!==void 0&&L>=M?C.next(L-M):(!D&&A(L),d)}}}function Q0t(r,e,t){const n=[],i=t||mg.mix||J1e,a=r.length-1;for(let s=0;s<a;s++){let o=i(r[s],r[s+1]);if(e){const l=Array.isArray(e)?e[s]||Id:e;o=EM(l,o)}n.push(o)}return n}function evt(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const a=r.length;if(eW(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=r[0]===r[1];r[0]>r[a-1]&&(r=[...r].reverse(),e=[...e].reverse());const o=Q0t(e,n,i),l=o.length,c=u=>{if(s&&u<r[0])return e[0];let f=0;if(l>1)for(;f<r.length-2&&!(u<r[f+1]);f++);const d=AE(r[f],r[f+1],u);return o[f](d)};return t?u=>c(vg(r[0],r[a-1],u)):c}function tvt(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=AE(0,e,n);r.push(Gs(t,1,i))}}function rvt(r){const e=[0];return tvt(e,r.length-1),e}function nvt(r,e){return r.map(t=>t*e)}function ivt(r,e){return r.map(()=>e||V1e).splice(0,r.length-1)}function s3({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=v0t(n)?n.map(gse):gse(n),a={done:!1,value:e[0]},s=nvt(t&&t.length===e.length?t:rvt(e),r),o=evt(s,e,{ease:Array.isArray(i)?i:ivt(e,i)});return{calculatedDuration:r,next:l=>(a.value=o(l),a.done=l>=r,a)}}const avt=r=>r!==null;function fW(r,{repeat:e,repeatType:t="loop"},n,i=1){const a=r.filter(avt),o=i<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||n===void 0?a[o]:n}const svt={decay:nU,inertia:nU,tween:s3,keyframes:s3,spring:_k};function t2e(r){typeof r.type=="string"&&(r.type=svt[r.type])}class hW{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const ovt=r=>r/100;class dW extends hW{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:t}=this.options;t&&t.updatedAt!==Vf.now()&&this.tick(Vf.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;t2e(e);const{type:t=s3,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const l=t||s3;l!==s3&&typeof o[0]!="number"&&(this.mixKeyframes=EM(ovt,J1e(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=uW(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:d,repeatDelay:h,type:p,onUpdate:v,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,A=n;if(f){const L=Math.min(this.currentTime,i)/o;let D=Math.floor(L),k=L%1;!k&&L>=1&&(k=1),k===1&&D--,D=Math.min(D,f+1),!!(D%2)&&(d==="reverse"?(k=1-k,h&&(k-=h/o)):d==="mirror"&&(A=s)),w=vg(0,1,k)*o}const M=_?{done:!1,value:u[0]}:A.next(w);a&&(M.value=a(M.value));let{done:C}=M;!_&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return N&&p!==nU&&(M.value=fW(u,this.options,x,this.speed)),v&&v(M.value),N&&this.finish(),M}then(e,t){return this.finished.then(e,t)}get duration(){return Dd(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dd(e)}get time(){return Dd(this.currentTime)}set time(e){var t;e=hv(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vf.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Dd(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=G0t,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(a=(i=this.options).onPlay)==null||a.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vf.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function lvt(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}const E2=r=>r*180/Math.PI,iU=r=>{const e=E2(Math.atan2(r[1],r[0]));return aU(e)},cvt={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:iU,rotateZ:iU,skewX:r=>E2(Math.atan(r[1])),skewY:r=>E2(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},aU=r=>(r=r%360,r<0&&(r+=360),r),Sse=iU,Tse=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),Ase=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),uvt={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tse,scaleY:Ase,scale:r=>(Tse(r)+Ase(r))/2,rotateX:r=>aU(E2(Math.atan2(r[6],r[5]))),rotateY:r=>aU(E2(Math.atan2(-r[2],r[0]))),rotateZ:Sse,rotate:Sse,skewX:r=>E2(Math.atan(r[4])),skewY:r=>E2(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function sU(r){return r.includes("scale")?1:0}function oU(r,e){if(!r||r==="none")return sU(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(t)n=uvt,i=t;else{const o=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=cvt,i=o}if(!i)return sU(e);const a=n[e],s=i[1].split(",").map(hvt);return typeof a=="function"?a(s):s[a]}const fvt=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return oU(t,e)};function hvt(r){return parseFloat(r.trim())}const vT=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mT=new Set(vT),Ese=r=>r===pT||r===In,dvt=new Set(["x","y","z"]),pvt=vT.filter(r=>!dvt.has(r));function vvt(r){const e=[];return pvt.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const U2={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>oU(e,"x"),y:(r,{transform:e})=>oU(e,"y")};U2.translateX=U2.x;U2.translateY=U2.y;const V2=new Set;let lU=!1,cU=!1,uU=!1;function r2e(){if(cU){const r=Array.from(V2).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=vvt(n);i.length&&(t.set(n,i),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([a,s])=>{var o;(o=n.getValue(a))==null||o.set(s)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}cU=!1,lU=!1,V2.forEach(r=>r.complete(uU)),V2.clear()}function n2e(){V2.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(cU=!0)})}function mvt(){uU=!0,n2e(),r2e(),uU=!1}class pW{constructor(e,t,n,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(V2.add(this),lU||(lU=!0,Rs.read(n2e),Rs.resolveKeyframes(r2e))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&t){const o=n.readValue(t,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}lvt(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),V2.delete(this)}cancel(){this.state==="scheduled"&&(V2.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gvt=r=>r.startsWith("--");function xvt(r,e,t){gvt(e)?r.style.setProperty(e,t):r.style[e]=t}const yvt=tW(()=>window.ScrollTimeline!==void 0),bvt={};function _vt(r,e){const t=tW(r);return()=>bvt[e]??t()}const i2e=_vt(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mA=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,Mse={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mA([0,.65,.55,1]),circOut:mA([.55,0,1,.45]),backIn:mA([.31,.01,.66,-.59]),backOut:mA([.33,1.53,.69,.99])};function a2e(r,e){if(r)return typeof r=="function"?i2e()?Q1e(r,e):"ease-out":H1e(r)?mA(r):Array.isArray(r)?r.map(t=>a2e(t,e)||Mse.easeOut):Mse[r]}function wvt(r,e,t,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[e]:t};l&&(u.offset=l);const f=a2e(o,i);Array.isArray(f)&&(u.easing=f);const d={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),r.animate(u,d)}function s2e(r){return typeof r=="function"&&"applyToOptions"in r}function Svt({type:r,...e}){return s2e(r)&&i2e()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Tvt extends hW{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,eW(typeof e.type!="string");const c=Svt(e);this.animation=wvt(t,n,i,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=fW(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):xvt(t,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,n;const e=((n=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:n.call(t).duration)||0;return Dd(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dd(e)}get time(){return Dd(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=hv(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&yvt()?(this.animation.timeline=e,Id):t(this)}}const o2e={anticipate:z1e,backInOut:B1e,circInOut:U1e};function Avt(r){return r in o2e}function Evt(r){typeof r.ease=="string"&&Avt(r.ease)&&(r.ease=o2e[r.ease])}const Cse=10;class Mvt extends Tvt{constructor(e){Evt(e),t2e(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:i,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new dW({...s,autoplay:!1}),l=hv(this.finishedTime??this.time);t.setWithVelocity(o.sample(l-Cse).value,o.sample(l).value,Cse),o.stop()}}const Nse=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(yy.test(r)||r==="0")&&!r.startsWith("url("));function Cvt(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function Nvt(r,e,t,n){const i=r[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=r[r.length-1],s=Nse(i,e),o=Nse(a,e);return!s||!o?!1:Cvt(r)||(t==="spring"||s2e(t))&&n}function fU(r){r.duration=0,r.type="keyframes"}const Dvt=new Set(["opacity","clipPath","filter","transform"]),Lvt=tW(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Rvt(r){var u;const{motionValue:e,name:t,repeatDelay:n,repeatType:i,damping:a,type:s}=r;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Lvt()&&t&&Dvt.has(t)&&(t!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&a!==0&&s!=="inertia"}const kvt=40;class Ivt extends hW{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var p;super(),this.stop=()=>{var v,x;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Vf.now();const d={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:a,repeatType:s,name:l,motionValue:c,element:u,...f},h=(u==null?void 0:u.KeyframeResolver)||pW;this.keyframeResolver=new h(o,(v,x,g)=>this.onKeyframesResolved(v,x,d,!g),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Vf.now(),Nvt(e,a,s,o)||((mg.instantAnimations||!l)&&(u==null||u(fW(e,n,t))),e[0]=e[e.length-1],fU(n),n.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>kvt?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},h=!c&&Rvt(d)?new Mvt({...d,element:d.motionValue.owner.current}):new dW(d);h.finished.then(()=>this.notifyFinished()).catch(Id),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),mvt()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Ovt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pvt(r){const e=Ovt.exec(r);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function l2e(r,e,t=1){const[n,i]=Pvt(r);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const s=a.trim();return D1e(s)?parseFloat(s):s}return sW(i)?l2e(i,e,t+1):i}function vW(r,e){return(r==null?void 0:r[e])??(r==null?void 0:r.default)??r}const c2e=new Set(["width","height","top","left","right","bottom",...vT]),Fvt={test:r=>r==="auto",parse:r=>r},u2e=r=>e=>e.test(r),f2e=[pT,In,dv,Ax,C0t,M0t,Fvt],Dse=r=>f2e.find(u2e(r));function Bvt(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||R1e(r):!0}const zvt=new Set(["brightness","contrast","saturate","opacity"]);function jvt(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(oW)||[];if(!n)return r;const i=t.replace(n,"");let a=zvt.has(e)?1:0;return n!==t&&(a*=100),e+"("+a+i+")"}const Uvt=/\b([a-z-]*)\(.*?\)/gu,hU={...yy,getAnimatableNone:r=>{const e=r.match(Uvt);return e?e.map(jvt).join(" "):r}},Lse={...pT,transform:Math.round},Vvt={rotate:Ax,rotateX:Ax,rotateY:Ax,rotateZ:Ax,scale:Y4,scaleX:Y4,scaleY:Y4,scaleZ:Y4,skew:Ax,skewX:Ax,skewY:Ax,distance:In,translateX:In,translateY:In,translateZ:In,x:In,y:In,z:In,perspective:In,transformPerspective:In,opacity:EE,originX:xse,originY:xse,originZ:In},mW={borderWidth:In,borderTopWidth:In,borderRightWidth:In,borderBottomWidth:In,borderLeftWidth:In,borderRadius:In,radius:In,borderTopLeftRadius:In,borderTopRightRadius:In,borderBottomRightRadius:In,borderBottomLeftRadius:In,width:In,maxWidth:In,height:In,maxHeight:In,top:In,right:In,bottom:In,left:In,padding:In,paddingTop:In,paddingRight:In,paddingBottom:In,paddingLeft:In,margin:In,marginTop:In,marginRight:In,marginBottom:In,marginLeft:In,backgroundPositionX:In,backgroundPositionY:In,...Vvt,zIndex:Lse,fillOpacity:EE,strokeOpacity:EE,numOctaves:Lse},Hvt={...mW,color:el,backgroundColor:el,outlineColor:el,fill:el,stroke:el,borderColor:el,borderTopColor:el,borderRightColor:el,borderBottomColor:el,borderLeftColor:el,filter:hU,WebkitFilter:hU},h2e=r=>Hvt[r];function d2e(r,e){let t=h2e(r);return t!==hU&&(t=yy),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Gvt=new Set(["auto","none","0"]);function Wvt(r,e,t){let n=0,i;for(;n<r.length&&!i;){const a=r[n];typeof a=="string"&&!Gvt.has(a)&&ME(a).values.length&&(i=r[n]),n++}if(i&&t)for(const a of e)r[a]=d2e(t,i)}class Yvt extends pW{constructor(e,t,n,i,a){super(e,t,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),sW(c))){const u=l2e(c,t.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!c2e.has(n)||e.length!==2)return;const[i,a]=e,s=Dse(i),o=Dse(a);if(s!==o)if(Ese(s)&&Ese(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else U2[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||Bvt(e[i]))&&n.push(i);n.length&&Wvt(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=U2[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=U2[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function qvt(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;const i=(t==null?void 0:t[r])??n.querySelectorAll(r);return i?Array.from(i):[]}return Array.from(r)}const p2e=(r,e)=>e&&typeof r=="number"?e.transform(r):r;function v2e(r){return L1e(r)&&"offsetHeight"in r}const Rse=30,Xvt=r=>!isNaN(parseFloat(r));class Zvt{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const i=Vf.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Vf.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Xvt(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new rW);const n=this.events[e].add(t);return e==="change"?()=>{n(),Rs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vf.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Rse)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Rse);return k1e(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function NS(r,e){return new Zvt(r,e)}const{schedule:gW}=G1e(queueMicrotask,!1),Lp={x:!1,y:!1};function m2e(){return Lp.x||Lp.y}function Kvt(r){return r==="x"||r==="y"?Lp[r]?null:(Lp[r]=!0,()=>{Lp[r]=!1}):Lp.x||Lp.y?null:(Lp.x=Lp.y=!0,()=>{Lp.x=Lp.y=!1})}function g2e(r,e){const t=qvt(r),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function kse(r){return!(r.pointerType==="touch"||m2e())}function $vt(r,e,t={}){const[n,i,a]=g2e(r,t),s=o=>{if(!kse(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const u=f=>{kse(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return n.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const x2e=(r,e)=>e?r===e?!0:x2e(r,e.parentElement):!1,xW=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,Jvt=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Qvt(r){return Jvt.has(r.tagName)||r.tabIndex!==-1}const ID=new WeakSet;function Ise(r){return e=>{e.key==="Enter"&&r(e)}}function EB(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const emt=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=Ise(()=>{if(ID.has(t))return;EB(t,"down");const i=Ise(()=>{EB(t,"up")}),a=()=>EB(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function Ose(r){return xW(r)&&!m2e()}function tmt(r,e,t={}){const[n,i,a]=g2e(r,t),s=o=>{const l=o.currentTarget;if(!Ose(o))return;ID.add(l);const c=e(l,o),u=(h,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),ID.has(l)&&ID.delete(l),Ose(h)&&typeof c=="function"&&c(h,{success:p})},f=h=>{u(h,l===window||l===document||t.useGlobalTarget||x2e(l,h.target))},d=h=>{u(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return n.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),v2e(o)&&(o.addEventListener("focus",c=>emt(c,i)),!Qvt(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function y2e(r){return L1e(r)&&"ownerSVGElement"in r}function rmt(r){return y2e(r)&&r.tagName==="svg"}const su=r=>!!(r&&r.getVelocity),nmt=[...f2e,el,yy],imt=r=>nmt.find(u2e(r)),yW=me.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function Pse(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function amt(...r){return e=>{let t=!1;const n=r.map(i=>{const a=Pse(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Pse(r[i],null)}}}}function smt(...r){return me.useCallback(amt(...r),r)}class omt extends me.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,i=v2e(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lmt({children:r,isPresent:e,anchorX:t,root:n}){const i=me.useId(),a=me.useRef(null),s=me.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=me.useContext(yW),l=smt(a,r==null?void 0:r.ref);return me.useInsertionEffect(()=>{const{width:c,height:u,top:f,left:d,right:h}=s.current;if(e||!a.current||!c||!u)return;const p=t==="left"?`left: ${d}`:`right: ${h}`;a.current.dataset.motionPopId=i;const v=document.createElement("style");o&&(v.nonce=o);const x=n??document.head;return x.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(v)&&x.removeChild(v)}},[e]),y.jsx(omt,{isPresent:e,childRef:a,sizeRef:s,children:me.cloneElement(r,{ref:l})})}const cmt=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,root:l})=>{const c=KG(umt),u=me.useId();let f=!0,d=me.useMemo(()=>(f=!1,{id:u,initial:e,isPresent:t,custom:i,onExitComplete:h=>{c.set(h,!0);for(const p of c.values())if(!p)return;n&&n()},register:h=>(c.set(h,!1),()=>c.delete(h))}),[t,c,n]);return a&&f&&(d={...d}),me.useMemo(()=>{c.forEach((h,p)=>c.set(p,!1))},[t]),me.useEffect(()=>{!t&&!c.size&&n&&n()},[t]),s==="popLayout"&&(r=y.jsx(lmt,{isPresent:t,anchorX:o,root:l,children:r})),y.jsx(f6.Provider,{value:d,children:r})};function umt(){return new Map}function b2e(r=!0){const e=me.useContext(f6);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,a=me.useId();me.useEffect(()=>{if(r)return i(a)},[r]);const s=me.useCallback(()=>r&&n&&n(a),[a,n,r]);return!t&&n?[!1,s]:[!0]}const q4=r=>r.key||"";function Fse(r){const e=[];return me.Children.forEach(r,t=>{me.isValidElement(t)&&e.push(t)}),e}const fmt=({children:r,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[c,u]=b2e(s),f=me.useMemo(()=>Fse(r),[r]),d=s&&!c?[]:f.map(q4),h=me.useRef(!0),p=me.useRef(f),v=KG(()=>new Map),[x,g]=me.useState(f),[_,w]=me.useState(f);N1e(()=>{h.current=!1,p.current=f;for(let C=0;C<_.length;C++){const N=q4(_[C]);d.includes(N)?v.delete(N):v.get(N)!==!0&&v.set(N,!1)}},[_,d.length,d.join("-")]);const A=[];if(f!==x){let C=[...f];for(let N=0;N<_.length;N++){const L=_[N],D=q4(L);d.includes(D)||(C.splice(N,0,L),A.push(L))}return a==="wait"&&A.length&&(C=A),w(Fse(C)),g(f),null}const{forceRender:M}=me.useContext(ZG);return y.jsx(y.Fragment,{children:_.map(C=>{const N=q4(C),L=s&&!c?!1:f===_||d.includes(N),D=()=>{if(v.has(N))v.set(N,!0);else return;let k=!0;v.forEach(O=>{O||(k=!1)}),k&&(M==null||M(),w(p.current),s&&(u==null||u()),n&&n())};return y.jsx(cmt,{isPresent:L,initial:!h.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:L?void 0:D,anchorX:o,children:C},N)})})},_2e=me.createContext({strict:!1}),Bse={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},DS={};for(const r in Bse)DS[r]={isEnabled:e=>Bse[r].some(t=>!!e[t])};function hmt(r){for(const e in r)DS[e]={...DS[e],...r[e]}}const dmt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wk(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||dmt.has(r)}let w2e=r=>!wk(r);function pmt(r){typeof r=="function"&&(w2e=e=>e.startsWith("on")?!wk(e):r(e))}try{pmt(require("@emotion/is-prop-valid").default)}catch{}function vmt(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(w2e(i)||t===!0&&wk(i)||!e&&!wk(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}const h6=me.createContext({});function d6(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function CE(r){return typeof r=="string"||Array.isArray(r)}const bW=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_W=["initial",...bW];function p6(r){return d6(r.animate)||_W.some(e=>CE(r[e]))}function S2e(r){return!!(p6(r)||r.variants)}function mmt(r,e){if(p6(r)){const{initial:t,animate:n}=r;return{initial:t===!1||CE(t)?t:void 0,animate:CE(n)?n:void 0}}return r.inherit!==!1?e:{}}function gmt(r){const{initial:e,animate:t}=mmt(r,me.useContext(h6));return me.useMemo(()=>({initial:e,animate:t}),[zse(e),zse(t)])}function zse(r){return Array.isArray(r)?r.join(" "):r}const NE={};function xmt(r){for(const e in r)NE[e]=r[e],aW(e)&&(NE[e].isCSSVariable=!0)}function T2e(r,{layout:e,layoutId:t}){return mT.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!NE[r]||r==="opacity")}const ymt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bmt=vT.length;function _mt(r,e,t){let n="",i=!0;for(let a=0;a<bmt;a++){const s=vT[a],o=r[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const c=p2e(o,mW[s]);if(!l){i=!1;const u=ymt[s]||s;n+=`${u}(${c}) `}t&&(e[s]=c)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function wW(r,e,t){const{style:n,vars:i,transformOrigin:a}=r;let s=!1,o=!1;for(const l in e){const c=e[l];if(mT.has(l)){s=!0;continue}else if(aW(l)){i[l]=c;continue}else{const u=p2e(c,mW[l]);l.startsWith("origin")?(o=!0,a[l]=u):n[l]=u}}if(e.transform||(s||t?n.transform=_mt(e,r.transform,t):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;n.transformOrigin=`${l} ${c} ${u}`}}const SW=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A2e(r,e,t){for(const n in e)!su(e[n])&&!T2e(n,t)&&(r[n]=e[n])}function wmt({transformTemplate:r},e){return me.useMemo(()=>{const t=SW();return wW(t,e,r),Object.assign({},t.vars,t.style)},[e])}function Smt(r,e){const t=r.style||{},n={};return A2e(n,t,r),Object.assign(n,wmt(r,e)),n}function Tmt(r,e){const t={},n=Smt(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}const Amt={offset:"stroke-dashoffset",array:"stroke-dasharray"},Emt={offset:"strokeDashoffset",array:"strokeDasharray"};function Mmt(r,e,t=1,n=0,i=!0){r.pathLength=1;const a=i?Amt:Emt;r[a.offset]=In.transform(-n);const s=In.transform(e),o=In.transform(t);r[a.array]=`${s} ${o}`}function E2e(r,{attrX:e,attrY:t,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,c,u){if(wW(r,o,c),l){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:f,style:d}=r;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),n!==void 0&&(f.scale=n),i!==void 0&&Mmt(f,i,a,s,!1)}const M2e=()=>({...SW(),attrs:{}}),C2e=r=>typeof r=="string"&&r.toLowerCase()==="svg";function Cmt(r,e,t,n){const i=me.useMemo(()=>{const a=M2e();return E2e(a,e,C2e(n),r.transformTemplate,r.style),{...a.attrs,style:{...a.style}}},[e]);if(r.style){const a={};A2e(a,r.style,r),i.style={...a,...i.style}}return i}const Nmt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TW(r){return typeof r!="string"||r.includes("-")?!1:!!(Nmt.indexOf(r)>-1||/[A-Z]/u.test(r))}function Dmt(r,e,t,{latestValues:n},i,a=!1){const o=(TW(r)?Cmt:Tmt)(e,n,i,r),l=vmt(e,typeof r=="string",a),c=r!==me.Fragment?{...l,...o,ref:t}:{},{children:u}=e,f=me.useMemo(()=>su(u)?u.get():u,[u]);return me.createElement(r,{...c,children:f})}function jse(r){const e=[{},{}];return r==null||r.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function AW(r,e,t,n){if(typeof e=="function"){const[i,a]=jse(n);e=e(t!==void 0?t:r.custom,i,a)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[i,a]=jse(n);e=e(t!==void 0?t:r.custom,i,a)}return e}function OD(r){return su(r)?r.get():r}function Lmt({scrapeMotionValuesFromProps:r,createRenderState:e},t,n,i){return{latestValues:Rmt(t,n,i,r),renderState:e()}}function Rmt(r,e,t,n){const i={},a=n(r,{});for(const d in a)i[d]=OD(a[d]);let{initial:s,animate:o}=r;const l=p6(r),c=S2e(r);e&&c&&!l&&r.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let u=t?t.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!d6(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const p=AW(r,d[h]);if(p){const{transitionEnd:v,transition:x,...g}=p;for(const _ in g){let w=g[_];if(Array.isArray(w)){const A=u?w.length-1:0;w=w[A]}w!==null&&(i[_]=w)}for(const _ in v)i[_]=v[_]}}}return i}const N2e=r=>(e,t)=>{const n=me.useContext(h6),i=me.useContext(f6),a=()=>Lmt(r,e,n,i);return t?a():KG(a)};function EW(r,e,t){var a;const{style:n}=r,i={};for(const s in n)(su(n[s])||e.style&&su(e.style[s])||T2e(s,r)||((a=t==null?void 0:t.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(i[s]=n[s]);return i}const kmt=N2e({scrapeMotionValuesFromProps:EW,createRenderState:SW});function D2e(r,e,t){const n=EW(r,e,t);for(const i in r)if(su(r[i])||su(e[i])){const a=vT.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=r[i]}return n}const Imt=N2e({scrapeMotionValuesFromProps:D2e,createRenderState:M2e}),Omt=Symbol.for("motionComponentSymbol");function Cw(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Pmt(r,e,t){return me.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Cw(t)&&(t.current=n))},[e])}const MW=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Fmt="framerAppearId",L2e="data-"+MW(Fmt),R2e=me.createContext({});function Bmt(r,e,t,n,i){var v,x;const{visualElement:a}=me.useContext(h6),s=me.useContext(_2e),o=me.useContext(f6),l=me.useContext(yW).reducedMotion,c=me.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(r,{visualState:e,parent:a,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=me.useContext(R2e);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&zmt(c.current,t,i,f);const d=me.useRef(!1);me.useInsertionEffect(()=>{u&&d.current&&u.update(t,o)});const h=t[L2e],p=me.useRef(!!h&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,h))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,h)));return N1e(()=>{u&&(d.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),me.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,h)}),p.current=!1),u.enteringChildren=void 0)}),u}function zmt(r,e,t,n){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:k2e(r.parent)),r.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&Cw(o),visualElement:r,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function k2e(r){if(r)return r.options.allowProjection!==!1?r.projection:k2e(r.parent)}function MB(r,{forwardMotionProps:e=!1}={},t,n){t&&hmt(t);const i=TW(r)?Imt:kmt;function a(o,l){let c;const u={...me.useContext(yW),...o,layoutId:jmt(o)},{isStatic:f}=u,d=gmt(o),h=i(o,f);if(!f&&$G){Umt();const p=Vmt(u);c=p.MeasureLayout,d.visualElement=Bmt(r,h,u,n,p.ProjectionNode)}return y.jsxs(h6.Provider,{value:d,children:[c&&d.visualElement?y.jsx(c,{visualElement:d.visualElement,...u}):null,Dmt(r,o,Pmt(h,d.visualElement,l),h,f,e)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const s=me.forwardRef(a);return s[Omt]=r,s}function jmt({layoutId:r}){const e=me.useContext(ZG).id;return e&&r!==void 0?e+"-"+r:r}function Umt(r,e){me.useContext(_2e).strict}function Vmt(r){const{drag:e,layout:t}=DS;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(r)||t!=null&&t.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Hmt(r,e){if(typeof Proxy>"u")return MB;const t=new Map,n=(a,s)=>MB(a,s,r,e),i=(a,s)=>n(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?n:(t.has(s)||t.set(s,MB(s,void 0,r,e)),t.get(s))})}function I2e({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function Gmt({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function Wmt(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function CB(r){return r===void 0||r===1}function dU({scale:r,scaleX:e,scaleY:t}){return!CB(r)||!CB(e)||!CB(t)}function a2(r){return dU(r)||O2e(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function O2e(r){return Use(r.x)||Use(r.y)}function Use(r){return r&&r!=="0%"}function Sk(r,e,t){const n=r-t,i=e*n;return t+i}function Vse(r,e,t,n,i){return i!==void 0&&(r=Sk(r,i,n)),Sk(r,t,n)+e}function pU(r,e=0,t=1,n,i){r.min=Vse(r.min,e,t,n,i),r.max=Vse(r.max,e,t,n,i)}function P2e(r,{x:e,y:t}){pU(r.x,e.translate,e.scale,e.originPoint),pU(r.y,t.translate,t.scale,t.originPoint)}const Hse=.999999999999,Gse=1.0000000000001;function Ymt(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=t[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Dw(r,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,P2e(r,s)),n&&a2(a.latestValues)&&Dw(r,a.latestValues))}e.x<Gse&&e.x>Hse&&(e.x=1),e.y<Gse&&e.y>Hse&&(e.y=1)}function Nw(r,e){r.min=r.min+e,r.max=r.max+e}function Wse(r,e,t,n,i=.5){const a=Gs(r.min,r.max,i);pU(r,e,t,a,n)}function Dw(r,e){Wse(r.x,e.x,e.scaleX,e.scale,e.originX),Wse(r.y,e.y,e.scaleY,e.scale,e.originY)}function F2e(r,e){return I2e(Wmt(r.getBoundingClientRect(),e))}function qmt(r,e,t){const n=F2e(r,t),{scroll:i}=e;return i&&(Nw(n.x,i.offset.x),Nw(n.y,i.offset.y)),n}const Yse=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lw=()=>({x:Yse(),y:Yse()}),qse=()=>({min:0,max:0}),Ro=()=>({x:qse(),y:qse()}),vU={current:null},B2e={current:!1};function Xmt(){if(B2e.current=!0,!!$G)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>vU.current=r.matches;r.addEventListener("change",e),e()}else vU.current=!1}const Zmt=new WeakMap;function Kmt(r,e,t){for(const n in e){const i=e[n],a=t[n];if(su(i))r.addValue(n,i);else if(su(a))r.addValue(n,NS(i,{owner:r}));else if(a!==i)if(r.hasValue(n)){const s=r.getValue(n);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=r.getStaticValue(n);r.addValue(n,NS(s!==void 0?s:i,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const Xse=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $mt{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pW,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Vf.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Rs.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=p6(t),this.isVariantNode=S2e(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in f){const h=f[d];l[d]!==void 0&&su(h)&&h.set(l[d])}}mount(e){var t;this.current=e,Zmt.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),B2e.current||Xmt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vU.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),xy(this.notifyUpdate),xy(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=mT.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Rs.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in DS){const t=DS[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ro()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Xse.length;n++){const i=Xse[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Kmt(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=NS(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(D1e(n)||R1e(n))?n=parseFloat(n):!imt(n)&&yy.test(t)&&(n=d2e(e,t)),this.setBaseTarget(e,su(n)?n.get():n)),su(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const s=AW(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);s&&(n=s[e])}if(t&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!su(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new rW),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){gW.render(this.render)}}class z2e extends $mt{constructor(){super(...arguments),this.KeyframeResolver=Yvt}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;su(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function j2e(r,{style:e,vars:t},n,i){const a=r.style;let s;for(s in e)a[s]=e[s];i==null||i.applyProjectionStyles(a,n);for(s in t)a.setProperty(s,t[s])}function Jmt(r){return window.getComputedStyle(r)}class Qmt extends z2e{constructor(){super(...arguments),this.type="html",this.renderInstance=j2e}readValueFromInstance(e,t){var n;if(mT.has(t))return(n=this.projection)!=null&&n.isProjecting?sU(t):fvt(e,t);{const i=Jmt(e),a=(aW(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return F2e(e,t)}build(e,t,n){wW(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return EW(e,t,n)}}const U2e=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function egt(r,e,t,n){j2e(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(U2e.has(i)?i:MW(i),e.attrs[i])}class tgt extends z2e{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ro}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(mT.has(t)){const n=h2e(t);return n&&n.default||0}return t=U2e.has(t)?t:MW(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return D2e(e,t,n)}build(e,t,n){E2e(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){egt(e,t,n,i)}mount(e){this.isSVGTag=C2e(e.tagName),super.mount(e)}}const rgt=(r,e)=>TW(r)?new tgt(e):new Qmt(e,{allowProjection:r!==me.Fragment});function Zw(r,e,t){const n=r.getProps();return AW(n,e,t!==void 0?t:n.custom,r)}const mU=r=>Array.isArray(r);function ngt(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,NS(t))}function igt(r){return mU(r)?r[r.length-1]||0:r}function agt(r,e){const t=Zw(r,e);let{transitionEnd:n={},transition:i={},...a}=t||{};a={...a,...n};for(const s in a){const o=igt(a[s]);ngt(r,s,o)}}function sgt(r){return!!(su(r)&&r.add)}function gU(r,e){const t=r.getValue("willChange");if(sgt(t))return t.add(e);if(!t&&mg.WillChange){const n=new mg.WillChange("auto");r.addValue("willChange",n),n.add(e)}}function V2e(r){return r.props[L2e]}const ogt=r=>r!==null;function lgt(r,{repeat:e,repeatType:t="loop"},n){const i=r.filter(ogt),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[a]}const cgt={type:"spring",stiffness:500,damping:25,restSpeed:10},ugt=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),fgt={type:"keyframes",duration:.8},hgt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dgt=(r,{keyframes:e})=>e.length>2?fgt:mT.has(r)?r.startsWith("scale")?ugt(e[1]):cgt:hgt;function pgt({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const CW=(r,e,t,n={},i,a)=>s=>{const o=vW(n,r)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-hv(l);const u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:r,motionValue:e,element:a?void 0:i};pgt(o)||Object.assign(u,dgt(r,u)),u.duration&&(u.duration=hv(u.duration)),u.repeatDelay&&(u.repeatDelay=hv(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(fU(u),u.delay===0&&(f=!0)),(mg.instantAnimations||mg.skipAnimations)&&(f=!0,fU(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!a&&e.get()!==void 0){const d=lgt(u.keyframes,o);if(d!==void 0){Rs.update(()=>{u.onUpdate(d),u.onComplete()});return}}return o.isSync?new dW(u):new Ivt(u)};function vgt({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function H2e(r,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:a=r.getDefaultTransition(),transitionEnd:s,...o}=e;n&&(a=n);const l=[],c=i&&r.animationState&&r.animationState.getState()[i];for(const u in o){const f=r.getValue(u,r.latestValues[u]??null),d=o[u];if(d===void 0||c&&vgt(c,u))continue;const h={delay:t,...vW(a||{},u)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===p&&!h.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=V2e(r);if(g){const _=window.MotionHandoffAnimation(g,u,Rs);_!==null&&(h.startTime=_,v=!0)}}gU(r,u),f.start(CW(u,f,d,r.shouldReduceMotion&&c2e.has(u)?{type:!1}:h,r,v));const x=f.animation;x&&l.push(x)}return s&&Promise.all(l).then(()=>{Rs.update(()=>{s&&agt(r,s)})}),l}function G2e(r,e,t,n=0,i=1){const a=Array.from(r).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),s=r.size,o=(s-1)*n;return typeof t=="function"?t(a,s):i===1?a*n:o-a*n}function xU(r,e,t={}){var l;const n=Zw(r,e,t.type==="exit"?(l=r.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const a=n?()=>Promise.all(H2e(r,n,t)):()=>Promise.resolve(),s=r.variantChildren&&r.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=i;return mgt(r,e,c,u,f,d,t)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[a,s]:[s,a];return c().then(()=>u())}else return Promise.all([a(),s(t.delay)])}function mgt(r,e,t=0,n=0,i=0,a=1,s){const o=[];for(const l of r.variantChildren)l.notify("AnimationStart",e),o.push(xU(l,e,{...s,delay:t+(typeof n=="function"?0:n)+G2e(r.variantChildren,l,n,i,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function ggt(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>xU(r,a,t));n=Promise.all(i)}else if(typeof e=="string")n=xU(r,e,t);else{const i=typeof e=="function"?Zw(r,e,t.custom):e;n=Promise.all(H2e(r,i,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}function W2e(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}const xgt=_W.length;function Y2e(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?Y2e(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<xgt;t++){const n=_W[t],i=r.props[n];(CE(i)||i===!1)&&(e[n]=i)}return e}const ygt=[...bW].reverse(),bgt=bW.length;function _gt(r){return e=>Promise.all(e.map(({animation:t,options:n})=>ggt(r,t,n)))}function wgt(r){let e=_gt(r),t=Zse(),n=!0;const i=l=>(c,u)=>{var d;const f=Zw(r,u,l==="exit"?(d=r.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...v}=f;c={...c,...v,...p}}return c};function a(l){e=l(r)}function s(l){const{props:c}=r,u=Y2e(r.parent)||{},f=[],d=new Set;let h={},p=1/0;for(let x=0;x<bgt;x++){const g=ygt[x],_=t[g],w=c[g]!==void 0?c[g]:u[g],A=CE(w),M=g===l?_.isActive:null;M===!1&&(p=x);let C=w===u[g]&&w!==c[g]&&A;if(C&&n&&r.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...h},!_.isActive&&M===null||!w&&!_.prevProp||d6(w)||typeof w=="boolean")continue;const N=Sgt(_.prevProp,w);let L=N||g===l&&_.isActive&&!C&&A||x>p&&A,D=!1;const k=Array.isArray(w)?w:[w];let O=k.reduce(i(g),{});M===!1&&(O={});const{prevResolvedValues:I={}}=_,j={...I,...O},B=Z=>{L=!0,d.has(Z)&&(D=!0,d.delete(Z)),_.needsAnimating[Z]=!0;const Y=r.getValue(Z);Y&&(Y.liveStyle=!1)};for(const Z in j){const Y=O[Z],J=I[Z];if(h.hasOwnProperty(Z))continue;let oe=!1;mU(Y)&&mU(J)?oe=!W2e(Y,J):oe=Y!==J,oe?Y!=null?B(Z):d.add(Z):Y!==void 0&&d.has(Z)?B(Z):_.protectedKeys[Z]=!0}_.prevProp=w,_.prevResolvedValues=O,_.isActive&&(h={...h,...O}),n&&r.blockInitialAnimation&&(L=!1);const K=C&&N;L&&(!K||D)&&f.push(...k.map(Z=>{const Y={type:g};if(typeof Z=="string"&&n&&!K&&r.manuallyAnimateOnMount&&r.parent){const{parent:J}=r,oe=Zw(J,Z);if(J.enteringChildren&&oe){const{delayChildren:X}=oe.transition||{};Y.delay=G2e(J.enteringChildren,r,X)}}return{animation:Z,options:Y}}))}if(d.size){const x={};if(typeof c.initial!="boolean"){const g=Zw(r,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(x.transition=g.transition)}d.forEach(g=>{const _=r.getBaseTarget(g),w=r.getValue(g);w&&(w.liveStyle=!0),x[g]=_??null}),f.push({animation:x})}let v=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!r.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(f):Promise.resolve()}function o(l,c){var f;if(t[l].isActive===c)return Promise.resolve();(f=r.variantChildren)==null||f.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.setActive(l,c)}),t[l].isActive=c;const u=s(l);for(const d in t)t[d].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>t,reset:()=>{t=Zse()}}}function Sgt(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!W2e(e,r):!1}function q1(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zse(){return{animate:q1(!0),whileInView:q1(),whileHover:q1(),whileTap:q1(),whileDrag:q1(),whileFocus:q1(),exit:q1()}}class ky{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Tgt extends ky{constructor(e){super(e),e.animationState||(e.animationState=wgt(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();d6(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Agt=0;class Egt extends ky{constructor(){super(...arguments),this.id=Agt++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Mgt={animation:{Feature:Tgt},exit:{Feature:Egt}};function DE(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function NM(r){return{point:{x:r.pageX,y:r.pageY}}}const Cgt=r=>e=>xW(e)&&r(e,NM(e));function o3(r,e,t,n){return DE(r,e,Cgt(t),n)}const q2e=1e-4,Ngt=1-q2e,Dgt=1+q2e,X2e=.01,Lgt=0-X2e,Rgt=0+X2e;function qu(r){return r.max-r.min}function kgt(r,e,t){return Math.abs(r-e)<=t}function Kse(r,e,t,n=.5){r.origin=n,r.originPoint=Gs(e.min,e.max,r.origin),r.scale=qu(t)/qu(e),r.translate=Gs(t.min,t.max,r.origin)-r.originPoint,(r.scale>=Ngt&&r.scale<=Dgt||isNaN(r.scale))&&(r.scale=1),(r.translate>=Lgt&&r.translate<=Rgt||isNaN(r.translate))&&(r.translate=0)}function l3(r,e,t,n){Kse(r.x,e.x,t.x,n?n.originX:void 0),Kse(r.y,e.y,t.y,n?n.originY:void 0)}function $se(r,e,t){r.min=t.min+e.min,r.max=r.min+qu(e)}function Igt(r,e,t){$se(r.x,e.x,t.x),$se(r.y,e.y,t.y)}function Jse(r,e,t){r.min=e.min-t.min,r.max=r.min+qu(e)}function c3(r,e,t){Jse(r.x,e.x,t.x),Jse(r.y,e.y,t.y)}function bd(r){return[r("x"),r("y")]}const Z2e=({current:r})=>r?r.ownerDocument.defaultView:null,Qse=(r,e)=>Math.abs(r-e);function Ogt(r,e){const t=Qse(r.x,e.x),n=Qse(r.y,e.y);return Math.sqrt(t**2+n**2)}class K2e{constructor(e,t,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=DB(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Ogt(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!p)return;const{point:v}=d,{timestamp:x}=dc;this.history.push({...v,timestamp:x});const{onStart:g,onMove:_}=this.handlers;h||(g&&g(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=NB(h,this.transformPagePoint),Rs.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=DB(d.type==="pointercancel"?this.lastMoveEventInfo:NB(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,g),v&&v(d,g)},!xW(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;const o=NM(e),l=NB(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=dc;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=t;f&&f(e,DB(l,this.history)),this.removeListeners=EM(o3(this.contextWindow,"pointermove",this.handlePointerMove),o3(this.contextWindow,"pointerup",this.handlePointerUp),o3(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xy(this.updatePoint)}}function NB(r,e){return e?{point:e(r.point)}:r}function eoe(r,e){return{x:r.x-e.x,y:r.y-e.y}}function DB({point:r},e){return{point:r,delta:eoe(r,$2e(e)),offset:eoe(r,Pgt(e)),velocity:Fgt(e,.1)}}function Pgt(r){return r[0]}function $2e(r){return r[r.length-1]}function Fgt(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=$2e(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>hv(e)));)t--;if(!n)return{x:0,y:0};const a=Dd(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Bgt(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?Gs(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?Gs(t,r,n.max):Math.min(r,t)),r}function toe(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function zgt(r,{top:e,left:t,bottom:n,right:i}){return{x:toe(r.x,t,i),y:toe(r.y,e,n)}}function roe(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function jgt(r,e){return{x:roe(r.x,e.x),y:roe(r.y,e.y)}}function Ugt(r,e){let t=.5;const n=qu(r),i=qu(e);return i>n?t=AE(e.min,e.max-n,r.min):n>i&&(t=AE(r.min,r.max-i,e.min)),vg(0,1,t)}function Vgt(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const yU=.35;function Hgt(r=yU){return r===!1?r=0:r===!0&&(r=yU),{x:noe(r,"left","right"),y:noe(r,"top","bottom")}}function noe(r,e,t){return{min:ioe(r,e),max:ioe(r,t)}}function ioe(r,e){return typeof r=="number"?r:r[e]||0}const Ggt=new WeakMap;class Wgt{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ro(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(NM(f).point)},s=(f,d)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Kvt(h),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bd(g=>{let _=this.getAxisMotionValue(g).get()||0;if(dv.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const A=w.layout.layoutBox[g];A&&(_=qu(A)*(parseFloat(_)/100))}}this.originPoint[g]=_}),v&&Rs.postRender(()=>v(f,d)),gU(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=d;if(p&&this.currentDirection===null){this.currentDirection=Ygt(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,g),this.updateAxis("y",d.point,g),this.visualElement.render(),x&&x(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>bd(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new K2e(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Z2e(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,i=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Rs.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!X4(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=Bgt(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&Cw(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=zgt(n.layoutBox,e):this.constraints=!1,this.elastic=Hgt(t),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&bd(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Vgt(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Cw(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=qmt(n,i.root,this.visualElement.getTransformPagePoint());let s=jgt(i.layout.layoutBox,a);if(t){const o=t(Gmt(s));this.hasMutatedConstraints=!!o,o&&(s=I2e(o))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=bd(u=>{if(!X4(u,t,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:n?e[u]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return gU(this.visualElement,e),n.start(CW(e,n,0,t,this.visualElement,!1))}stopAnimation(){bd(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bd(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){bd(t=>{const{drag:n}=this.getProps();if(!X4(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[t];a.set(e[t]-Gs(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Cw(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bd(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=Ugt({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),bd(s=>{if(!X4(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Gs(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Ggt.set(this.visualElement,this);const e=this.visualElement.current,t=o3(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Cw(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Rs.read(n);const s=DE(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(bd(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())}));return()=>{s(),t(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=yU,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function X4(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function Ygt(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class qgt extends ky{constructor(e){super(e),this.removeGroupControls=Id,this.removeListeners=Id,this.controls=new Wgt(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Id}unmount(){this.removeGroupControls(),this.removeListeners()}}const aoe=r=>(e,t)=>{r&&Rs.postRender(()=>r(e,t))};class Xgt extends ky{constructor(){super(...arguments),this.removePointerDownListener=Id}onPointerDown(e){this.session=new K2e(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z2e(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:aoe(e),onStart:aoe(t),onMove:n,onEnd:(a,s)=>{delete this.session,i&&Rs.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=o3(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const PD={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function soe(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const q5={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(In.test(r))r=parseFloat(r);else return r;const t=soe(r,e.target.x),n=soe(r,e.target.y);return`${t}% ${n}%`}},Zgt={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=yy.parse(r);if(i.length>5)return n;const a=yy.createTransformer(r),s=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const c=Gs(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};let LB=!1;class Kgt extends me.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;xmt($gt),a&&(t.group&&t.group.add(a),n&&n.register&&i&&n.register(a),LB&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),PD.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:a}=this.props,{projection:s}=n;return s&&(s.isPresent=a,LB=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Rs.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gW.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;LB=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function J2e(r){const[e,t]=b2e(),n=me.useContext(ZG);return y.jsx(Kgt,{...r,layoutGroup:n,switchLayoutGroup:me.useContext(R2e),isPresent:e,safeToRemove:t})}const $gt={borderRadius:{...q5,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:q5,borderTopRightRadius:q5,borderBottomLeftRadius:q5,borderBottomRightRadius:q5,boxShadow:Zgt};function Jgt(r,e,t){const n=su(r)?r:NS(r);return n.start(CW("",n,e,t)),n.animation}const Qgt=(r,e)=>r.depth-e.depth;class ext{constructor(){this.children=[],this.isDirty=!1}add(e){JG(this.children,e),this.isDirty=!0}remove(e){QG(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qgt),this.isDirty=!1,this.children.forEach(e)}}function txt(r,e){const t=Vf.now(),n=({timestamp:i})=>{const a=i-t;a>=e&&(xy(n),r(a-e))};return Rs.setup(n,!0),()=>xy(n)}const Q2e=["TopLeft","TopRight","BottomLeft","BottomRight"],rxt=Q2e.length,ooe=r=>typeof r=="string"?parseFloat(r):r,loe=r=>typeof r=="number"||In.test(r);function nxt(r,e,t,n,i,a){i?(r.opacity=Gs(0,t.opacity??1,ixt(n)),r.opacityExit=Gs(e.opacity??1,0,axt(n))):a&&(r.opacity=Gs(e.opacity??1,t.opacity??1,n));for(let s=0;s<rxt;s++){const o=`border${Q2e[s]}Radius`;let l=coe(e,o),c=coe(t,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||loe(l)===loe(c)?(r[o]=Math.max(Gs(ooe(l),ooe(c),n),0),(dv.test(c)||dv.test(l))&&(r[o]+="%")):r[o]=c}(e.rotate||t.rotate)&&(r.rotate=Gs(e.rotate||0,t.rotate||0,n))}function coe(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const ixt=ebe(0,.5,j1e),axt=ebe(.5,.95,Id);function ebe(r,e,t){return n=>n<r?0:n>e?1:t(AE(r,e,n))}function uoe(r,e){r.min=e.min,r.max=e.max}function gd(r,e){uoe(r.x,e.x),uoe(r.y,e.y)}function foe(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function hoe(r,e,t,n,i){return r-=e,r=Sk(r,1/t,n),i!==void 0&&(r=Sk(r,1/i,n)),r}function sxt(r,e=0,t=1,n=.5,i,a=r,s=r){if(dv.test(e)&&(e=parseFloat(e),e=Gs(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Gs(a.min,a.max,n);r===a&&(o-=e),r.min=hoe(r.min,e,t,o,i),r.max=hoe(r.max,e,t,o,i)}function doe(r,e,[t,n,i],a,s){sxt(r,e[t],e[n],e[i],e.scale,a,s)}const oxt=["x","scaleX","originX"],lxt=["y","scaleY","originY"];function poe(r,e,t,n){doe(r.x,e,oxt,t?t.x:void 0,n?n.x:void 0),doe(r.y,e,lxt,t?t.y:void 0,n?n.y:void 0)}function voe(r){return r.translate===0&&r.scale===1}function tbe(r){return voe(r.x)&&voe(r.y)}function moe(r,e){return r.min===e.min&&r.max===e.max}function cxt(r,e){return moe(r.x,e.x)&&moe(r.y,e.y)}function goe(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function rbe(r,e){return goe(r.x,e.x)&&goe(r.y,e.y)}function xoe(r){return qu(r.x)/qu(r.y)}function yoe(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class uxt{constructor(){this.members=[]}add(e){JG(this.members,e),e.scheduleRender()}remove(e){if(QG(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fxt(r,e,t){let n="";const i=r.x.translate/e.x,a=r.y.translate/e.y,s=(t==null?void 0:t.z)||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:d,skewX:h,skewY:p}=t;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),d&&(n+=`rotateY(${d}deg) `),h&&(n+=`skewX(${h}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=r.x.scale*e.x,l=r.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const RB=["","X","Y","Z"],hxt=1e3;let dxt=0;function kB(r,e,t,n){const{latestValues:i}=e;i[r]&&(t[r]=i[r],e.setStaticValue(r,0),n&&(n[r]=0))}function nbe(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=V2e(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",Rs,!(i||a))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&nbe(n)}function ibe({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=dxt++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mxt),this.nodes.forEach(bxt),this.nodes.forEach(_xt),this.nodes.forEach(gxt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ext)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new rW),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=y2e(s)&&!rmt(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),r){let u,f=0;const d=()=>this.root.updateBlockedByResize=!1;Rs.read(()=>{f=window.innerWidth}),r(s,()=>{const h=window.innerWidth;h!==f&&(f=h,this.root.updateBlockedByResize=!0,u&&u(),u=txt(d,250),PD.hasAnimatedSinceResize&&(PD.hasAnimatedSinceResize=!1,this.nodes.forEach(woe)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||Ext,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!rbe(this.targetLayout,h),_=!f&&d;if(this.options.layoutRoot||this.resumeFrom||_||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...vW(p,"layout"),onPlay:v,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,_)}else f||woe(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xy(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wxt),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nbe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(boe);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_oe);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yxt),this.nodes.forEach(pxt),this.nodes.forEach(vxt)):this.nodes.forEach(_oe),this.clearAllSnapshots();const o=Vf.now();dc.delta=vg(0,1e3/60,o-dc.timestamp),dc.timestamp=o,dc.isProcessing=!0,_B.update.process(dc),_B.preRender.process(dc),_B.render.process(dc),dc.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gW.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xxt),this.sharedNodes.forEach(Sxt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qu(this.snapshot.measuredBox.x)&&!qu(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ro(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!tbe(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||a2(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Mxt(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return Ro();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Cxt))){const{scroll:u}=this.root;u&&(Nw(o.x,u.offset.x),Nw(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=Ro();if(gd(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:d}=u;u!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&gd(o,s),Nw(o.x,f.offset.x),Nw(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=Ro();gd(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Dw(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),a2(u.latestValues)&&Dw(l,u.latestValues)}return a2(this.latestValues)&&Dw(l,this.latestValues),l}removeTransform(s){const o=Ro();gd(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!a2(c.latestValues))continue;dU(c.latestValues)&&c.updateSnapshot();const u=Ro(),f=c.measurePageBox();gd(u,f),poe(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return a2(this.latestValues)&&poe(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dc.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var d;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=dc.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ro(),this.relativeTargetOrigin=Ro(),c3(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),gd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ro(),this.targetWithTransforms=Ro()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Igt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gd(this.target,this.layout.layoutBox),P2e(this.target,this.targetDelta)):gd(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ro(),this.relativeTargetOrigin=Ro(),c3(this.relativeTargetOrigin,this.target,h.target),gd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dU(this.parent.latestValues)||O2e(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===dc.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;gd(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;Ymt(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ro());const{target:h}=s;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(foe(this.prevProjectionDelta.x,this.projectionDelta.x),foe(this.prevProjectionDelta.y,this.projectionDelta.y)),l3(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!yoe(this.projectionDelta.x,this.prevProjectionDelta.x)||!yoe(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lw(),this.projectionDelta=Lw(),this.projectionDeltaWithTransform=Lw()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Lw();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=Ro(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=h!==p,x=this.getStack(),g=!x||x.members.length<=1,_=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(Axt));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const M=A/1e3;Soe(f.x,s.x,M),Soe(f.y,s.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(c3(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Txt(this.relativeTarget,this.relativeTargetOrigin,d,M),w&&cxt(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ro()),gd(w,this.relativeTarget)),v&&(this.animationValues=u,nxt(u,c,this.latestValues,M,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(xy(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rs.update(()=>{PD.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=NS(0)),this.currentAnimation=Jgt(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hxt),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&abe(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ro();const f=qu(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=qu(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}gd(o,l),Dw(o,u),l3(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new uxt),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&kB("z",s,c,this.animationValues);for(let u=0;u<RB.length;u++)kB(`rotate${RB[u]}`,s,c,this.animationValues),kB(`skew${RB[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=OD(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=OD(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!a2(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=fxt(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),s.transform=f;const{x:d,y:h}=this.projectionDelta;s.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?s.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:s.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in NE){if(u[p]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:g}=NE[p],_=f==="none"?u[p]:v(u[p],c);if(x){const w=x.length;for(let A=0;A<w;A++)s[x[A]]=_}else g?this.options.visualElement.renderState.vars[p]=_:s[p]=_}this.options.layoutId&&(s.pointerEvents=c===this?OD(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(boe),this.root.sharedNodes.clear()}}}function pxt(r){r.updateLayout()}function vxt(r){var t;const e=((t=r.resumeFrom)==null?void 0:t.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:a}=r.options,s=e.source!==r.layout.source;a==="size"?bd(f=>{const d=s?e.measuredBox[f]:e.layoutBox[f],h=qu(d);d.min=n[f].min,d.max=d.min+h}):abe(a,e.layoutBox,n)&&bd(f=>{const d=s?e.measuredBox[f]:e.layoutBox[f],h=qu(n[f]);d.max=d.min+h,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[f].max=r.relativeTarget[f].min+h)});const o=Lw();l3(o,n,e.layoutBox);const l=Lw();s?l3(l,r.applyTransform(i,!0),e.measuredBox):l3(l,n,e.layoutBox);const c=!tbe(o);let u=!1;if(!r.resumeFrom){const f=r.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const p=Ro();c3(p,e.layoutBox,d.layoutBox);const v=Ro();c3(v,n,h.layoutBox),rbe(p,v)||(u=!0),f.options.layoutRoot&&(r.relativeTarget=v,r.relativeTargetOrigin=p,r.relativeParent=f)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function mxt(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function gxt(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function xxt(r){r.clearSnapshot()}function boe(r){r.clearMeasurements()}function _oe(r){r.isLayoutDirty=!1}function yxt(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function woe(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function bxt(r){r.resolveTargetDelta()}function _xt(r){r.calcProjection()}function wxt(r){r.resetSkewAndRotation()}function Sxt(r){r.removeLeadSnapshot()}function Soe(r,e,t){r.translate=Gs(e.translate,0,t),r.scale=Gs(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function Toe(r,e,t,n){r.min=Gs(e.min,t.min,n),r.max=Gs(e.max,t.max,n)}function Txt(r,e,t,n){Toe(r.x,e.x,t.x,n),Toe(r.y,e.y,t.y,n)}function Axt(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const Ext={duration:.45,ease:[.4,0,.1,1]},Aoe=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Eoe=Aoe("applewebkit/")&&!Aoe("chrome/")?Math.round:Id;function Moe(r){r.min=Eoe(r.min),r.max=Eoe(r.max)}function Mxt(r){Moe(r.x),Moe(r.y)}function abe(r,e,t){return r==="position"||r==="preserve-aspect"&&!kgt(xoe(e),xoe(t),.2)}function Cxt(r){var e;return r!==r.root&&((e=r.scroll)==null?void 0:e.wasRoot)}const Nxt=ibe({attachResizeListener:(r,e)=>DE(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),IB={current:void 0},sbe=ibe({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!IB.current){const r=new Nxt({});r.mount(window),r.setOptions({layoutScroll:!0}),IB.current=r}return IB.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),Dxt={pan:{Feature:Xgt},drag:{Feature:qgt,ProjectionNode:sbe,MeasureLayout:J2e}};function Coe(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=n[i];a&&Rs.postRender(()=>a(e,NM(e)))}class Lxt extends ky{mount(){const{current:e}=this.node;e&&(this.unmount=$vt(e,(t,n)=>(Coe(this.node,n,"Start"),i=>Coe(this.node,i,"End"))))}unmount(){}}class Rxt extends ky{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=EM(DE(this.node.current,"focus",()=>this.onFocus()),DE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Noe(r,e,t){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=n[i];a&&Rs.postRender(()=>a(e,NM(e)))}class kxt extends ky{mount(){const{current:e}=this.node;e&&(this.unmount=tmt(e,(t,n)=>(Noe(this.node,n,"Start"),(i,{success:a})=>Noe(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bU=new WeakMap,OB=new WeakMap,Ixt=r=>{const e=bU.get(r.target);e&&e(r)},Oxt=r=>{r.forEach(Ixt)};function Pxt({root:r,...e}){const t=r||document;OB.has(t)||OB.set(t,{});const n=OB.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Oxt,{root:r,...e})),n[i]}function Fxt(r,e,t){const n=Pxt(e);return bU.set(r,t),n.observe(r),()=>{bU.delete(r),n.unobserve(r)}}const Bxt={some:0,all:1};class zxt extends ky{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Bxt[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return Fxt(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(jxt(e,t))&&this.startObserver()}unmount(){}}function jxt({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const Uxt={inView:{Feature:zxt},tap:{Feature:kxt},focus:{Feature:Rxt},hover:{Feature:Lxt}},Vxt={layout:{ProjectionNode:sbe,MeasureLayout:J2e}},Hxt={...Mgt,...Uxt,...Dxt,...Vxt},Doe=Hmt(Hxt,rgt),fc=[];for(let r=0;r<256;++r)fc.push((r+256).toString(16).slice(1));function Gxt(r,e=0){return(fc[r[e+0]]+fc[r[e+1]]+fc[r[e+2]]+fc[r[e+3]]+"-"+fc[r[e+4]]+fc[r[e+5]]+"-"+fc[r[e+6]]+fc[r[e+7]]+"-"+fc[r[e+8]]+fc[r[e+9]]+"-"+fc[r[e+10]]+fc[r[e+11]]+fc[r[e+12]]+fc[r[e+13]]+fc[r[e+14]]+fc[r[e+15]]).toLowerCase()}let PB;const Wxt=new Uint8Array(16);function Yxt(){if(!PB){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");PB=crypto.getRandomValues.bind(crypto)}return PB(Wxt)}const qxt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Loe={randomUUID:qxt};function Xxt(r,e,t){var i;r=r||{};const n=r.random??((i=r.rng)==null?void 0:i.call(r))??Yxt();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Gxt(n)}function $0(r,e,t){return Loe.randomUUID&&!r?Loe.randomUUID():Xxt(r)}var pv=(r=>(r.Done="Done",r.Working="Working on it",r.Stuck="Stuck",r.Empty="",r))(pv||{}),LE=(r=>(r.High="High",r.Medium="Medium",r.Low="Low",r.Empty="",r))(LE||{});const FD={Done:"bg-[#00C875] hover:bg-[#00B66A] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]","Working on it":"bg-[#FDAB3D] hover:bg-[#E69A35] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]",Stuck:"bg-[#E2445C] hover:bg-[#CE3D53] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]","":"bg-[#C4C4C4] hover:bg-[#B0B0B0] text-white"},FB={High:"bg-[#333333] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]",Medium:"bg-[#401694] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]",Low:"bg-[#579BFC] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]","":"bg-[#C4C4C4] text-white"},Z4=["#579bfc","#00c875","#ffcb00","#ff5ac4","#a25ddc","#0086c0","#784bd1"],Roe=[{id:"p1",name:"Alex",initials:"AL",color:"bg-blue-500"},{id:"p2",name:"Sam",initials:"SA",color:"bg-amber-500"},{id:"p3",name:"Jordan",initials:"JO",color:"bg-purple-600"},{id:"p4",name:"Taylor",initials:"TA",color:"bg-emerald-500"},{id:"p5",name:"Casey",initials:"CA",color:"bg-rose-500"},{id:"p6",name:"Drew",initials:"DR",color:"bg-indigo-500"}],Zxt={id:"board-1",name:"Task Board",columns:[{id:"col_name",title:"Item",type:"name",width:"300px"},{id:"col_person",title:"Owner",type:"person",width:"96px"},{id:"col_status",title:"Status",type:"status",width:"128px"},{id:"col_priority",title:"Priority",type:"priority",width:"128px"},{id:"col_date",title:"Due Date",type:"date",width:"110px"}],groups:[]};Dm.OBJECT,Dm.ARRAY,Dm.OBJECT,Dm.STRING,Dm.STRING,Dm.INTEGER,Dm.STRING;const Kxt=async r=>(console.warn("Gemini API key is missing. AI features are disabled."),null),$xt=async r=>"AI features are disabled (missing API key).",obe=r=>{const[e,t]=me.useState(()=>{try{if(typeof window<"u"){const C=localStorage.getItem(r);if(C){const N=JSON.parse(C);if(N!=null&&N.columns&&(N!=null&&N.groups))return N}}}catch(C){console.warn("Failed to load saved board",C)}return Zxt}),[n,i]=me.useState(""),[a,s]=me.useState(!1),[o,l]=me.useState(null);me.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(e))}catch(C){console.warn("Failed to save board",C)}},[e,r]);const c=(C,N,L)=>{t(D=>({...D,groups:D.groups.map(k=>k.id!==C?k:{...k,tasks:k.tasks.map(O=>O.id===N?{...O,...L}:O)})}))};return{board:e,setBoard:t,aiPrompt:n,setAiPrompt:i,isAiLoading:a,aiAnalysis:o,setAiAnalysis:l,updateTask:c,toggleTaskSelection:(C,N,L)=>{c(C,N,{selected:L})},toggleGroupSelection:(C,N)=>{t(L=>({...L,groups:L.groups.map(D=>C!=="all"&&D.id!==C?D:{...D,tasks:D.tasks.map(k=>({...k,selected:N}))})}))},updateTaskTextValue:(C,N,L,D)=>{t(k=>({...k,groups:k.groups.map(O=>O.id!==C?O:{...O,tasks:O.tasks.map(I=>I.id!==N?I:{...I,textValues:{...I.textValues,[L]:D}})})}))},addTask:(C,N)=>{const L={id:$0(),name:(N==null?void 0:N.trim())||"New Item",status:pv.Empty,priority:LE.Empty,dueDate:"",personId:null,textValues:{},selected:!1};t(D=>({...D,groups:D.groups.map(k=>k.id===C?{...k,tasks:[...k.tasks,L]}:k)}))},deleteTask:(C,N)=>{t(L=>({...L,groups:L.groups.map(D=>D.id===C?{...D,tasks:D.tasks.filter(k=>k.id!==N)}:D)}))},addGroup:()=>{const C={id:$0(),title:"New Group",color:Z4[e.groups.length%Z4.length],tasks:[]};t(N=>({...N,groups:[C,...N.groups]}))},deleteGroup:C=>{t(N=>({...N,groups:N.groups.filter(L=>L.id!==C)}))},updateGroupTitle:(C,N)=>{t(L=>({...L,groups:L.groups.map(D=>D.id===C?{...D,title:N}:D)}))},addColumn:()=>{const N={id:`col_${$0().slice(0,4)}`,title:"New Text",type:"text",width:"140px"};t(L=>({...L,columns:[...L.columns,N]}))},updateColumnTitle:(C,N)=>{t(L=>({...L,columns:L.columns.map(D=>D.id===C?{...D,title:N}:D)}))},handleGeneratePlan:async()=>{if(!n.trim())return;s(!0),l(null);const C=await Kxt();if(C){const N=new Date,L=C.tasks.map(k=>{const O=new Date(N);return O.setDate(N.getDate()+k.dueDateOffsetDays),{id:$0(),name:k.name,status:pv.Empty,priority:k.priority||LE.Medium,dueDate:O.toISOString().split("T")[0],personId:null,textValues:{}}}),D={id:$0(),title:C.groupName||"AI Generated Plan",color:Z4[Math.floor(Math.random()*Z4.length)],tasks:L};t(k=>({...k,groups:[D,...k.groups]})),i("")}s(!1)},handleAnalyzeBoard:async()=>{s(!0),e.groups.map(N=>`Group: ${N.title}. Tasks: ${N.tasks.map(L=>`${L.name} (${L.status})`).join(", ")}`).join(`
`);const C=await $xt();l(C),s(!1)}}},koe=({className:r="w-6 h-6"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Jxt=({className:r="w-6 h-6"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),BB=({className:r="w-6 h-6"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})}),Qxt=({className:r="w-6 h-6"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:y.jsx("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"})}),eyt=({status:r,onChange:e})=>{const[t,n]=me.useState(!1),[i,a]=me.useState({top:0,left:0,width:0}),s=o=>{o.stopPropagation();const l=o.currentTarget.getBoundingClientRect();a({top:l.bottom+window.scrollY,left:l.left+window.scrollX,width:l.width}),n(!t)};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"relative w-full h-full",children:y.jsxs("div",{onClick:s,className:`w-full h-full flex items-center justify-center cursor-pointer transition-all duration-200 text-xs font-medium text-white relative group ${FD[r]||FD[pv.Empty]}`,children:[y.jsx("div",{className:"absolute right-0 bottom-0 w-3 h-3 bg-black/10 opacity-0 group-hover:opacity-100 clip-triangle transition-opacity"}),y.jsx("span",{className:"truncate px-1",children:r||y.jsx("span",{className:"opacity-0 group-hover:opacity-100 text-[10px] uppercase",children:"Set Status"})})]})}),t&&Vm.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>n(!1)}),y.jsx("div",{className:"fixed z-50 bg-white shadow-2xl rounded-lg border border-gray-200 p-1.5 overflow-hidden animate-in fade-in zoom-in-95 duration-100 flex flex-col gap-1",style:{top:i.top+4,left:i.left-(160-i.width)/2,width:"160px"},children:Object.values(pv).map(o=>y.jsx("div",{onClick:()=>{e(o),n(!1)},className:`px-3 py-2.5 text-xs cursor-pointer hover:brightness-95 rounded text-center font-medium transition-all shadow-sm ${FD[o]||"bg-gray-100 text-gray-600"}`,children:o||"Empty"},o))})]}),document.body)]})},tyt=({priority:r,onChange:e})=>{const[t,n]=me.useState(!1),[i,a]=me.useState({top:0,left:0,width:0}),s=o=>{o.stopPropagation();const l=o.currentTarget.getBoundingClientRect();a({top:l.bottom+window.scrollY,left:l.left+window.scrollX,width:l.width}),n(!t)};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"relative w-full h-full",children:y.jsxs("div",{onClick:s,className:`w-full h-full flex items-center justify-center cursor-pointer transition-all duration-200 text-xs font-medium relative group ${FB[r]||FB[LE.Empty]}`,children:[y.jsx("div",{className:"absolute right-0 bottom-0 w-3 h-3 bg-black/10 opacity-0 group-hover:opacity-100 clip-triangle transition-opacity"}),y.jsx("span",{className:"truncate px-1",children:r||y.jsx("span",{className:"opacity-0 group-hover:opacity-100 text-[10px] uppercase",children:"Set"})})]})}),t&&Vm.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>n(!1)}),y.jsx("div",{className:"fixed z-50 bg-white shadow-2xl rounded-lg border border-gray-200 p-1.5 animate-in fade-in zoom-in-95 duration-100 flex flex-col gap-1",style:{top:i.top+4,left:i.left-(140-i.width)/2,width:"140px"},children:Object.values(LE).map(o=>y.jsx("div",{onClick:()=>{e(o),n(!1)},className:`px-2 py-2 text-xs cursor-pointer hover:brightness-90 rounded text-center font-medium transition-all shadow-sm ${FB[o]||"bg-gray-100 text-gray-600"}`,children:o||"Empty"},o))})]}),document.body)]})},ryt=({personId:r,onChange:e})=>{const[t,n]=me.useState(!1),[i,a]=me.useState({top:0,left:0}),s=Roe.find(l=>l.id===r),o=l=>{l.stopPropagation();const c=l.currentTarget.getBoundingClientRect();a({top:c.bottom+window.scrollY+5,left:c.left+window.scrollX-90}),n(!t)};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"relative w-full h-full flex justify-center items-center group",children:y.jsxs("div",{onClick:o,className:"cursor-pointer hover:scale-110 transition-transform duration-200 active:scale-95",children:[s?y.jsx("div",{className:`w-7 h-7 rounded-full ${s.color} text-white text-[10px] flex items-center justify-center font-bold border-2 border-white shadow-sm`,title:s.name,children:s.initials}):y.jsx("div",{className:"w-7 h-7 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center hover:bg-gray-200 border border-transparent hover:border-gray-300 transition-colors",children:y.jsx(Qxt,{className:"w-4 h-4"})}),!s&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 pointer-events-none",children:y.jsx("div",{className:"w-7 h-7 rounded-full bg-black/5 flex items-center justify-center",children:y.jsx("span",{className:"text-black/50 text-lg leading-none pb-1",children:"+"})})})]})}),t&&Vm.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>n(!1)}),y.jsxs("div",{className:"fixed z-50 bg-white shadow-2xl rounded-xl border border-gray-200 p-2 animate-in fade-in zoom-in-95 duration-100 flex flex-col gap-1 min-w-[180px]",style:{top:i.top,left:i.left},children:[y.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-1 px-2 uppercase tracking-wider py-1",children:"Select Person"}),Roe.map(l=>y.jsxs("div",{onClick:()=>{e(l.id),n(!1)},className:`flex items-center gap-3 px-3 py-2 hover:bg-blue-50 rounded-lg cursor-pointer transition-colors ${r===l.id?"bg-blue-50":""}`,children:[y.jsx("div",{className:`w-6 h-6 rounded-full ${l.color} text-white text-[10px] flex items-center justify-center font-bold`,children:l.initials}),y.jsx("span",{className:"text-sm text-gray-700 font-medium",children:l.name}),r===l.id&&y.jsx("span",{className:"ml-auto text-blue-500",children:""})]},l.id)),y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsxs("div",{onClick:()=>{e(null),n(!1)},className:"px-3 py-2 hover:bg-red-50 text-red-500 text-sm rounded-lg cursor-pointer flex items-center gap-2 transition-colors",children:[y.jsx("span",{className:"w-4 h-4 flex items-center justify-center text-xs",children:""}),"Clear Selection"]})]})]}),document.body)]})},lbe=({storageKey:r="taskboard-state"})=>{const{board:e,setBoard:t,aiPrompt:n,setAiPrompt:i,isAiLoading:a,aiAnalysis:s,setAiAnalysis:o,updateTask:l,toggleTaskSelection:c,toggleGroupSelection:u,updateTaskTextValue:f,addTask:d,deleteTask:h,addGroup:p,deleteGroup:v,updateGroupTitle:x,addColumn:g,updateColumnTitle:_,handleGeneratePlan:w,handleAnalyzeBoard:A}=obe(r),M=me.useRef(null),C=me.useRef(null),[N,L]=me.useState(!1),D=(F,W)=>{M.current=W,C.current=F.currentTarget,setTimeout(()=>L(!0),0)},k=(F,W)=>{F.preventDefault();const Q=M.current;!Q||Q.taskId===W.taskId||(M.current=W,t(re=>{const ae=JSON.parse(JSON.stringify(re.groups)),ce=ae.findIndex(Qe=>Qe.id===Q.groupId),ye=ae.findIndex(Qe=>Qe.id===W.groupId);if(ce===-1||ye===-1)return re;const fe=ae[ce],be=ae[ye],Oe=fe.tasks.findIndex(Qe=>Qe.id===Q.taskId),xe=be.tasks.findIndex(Qe=>Qe.id===W.taskId);if(Oe===-1||xe===-1)return re;if(fe.id===be.id){const[Qe]=fe.tasks.splice(Oe,1);fe.tasks.splice(xe,0,Qe)}else{const[Qe]=fe.tasks.splice(Oe,1);be.tasks.splice(xe,0,Qe)}return{...re,groups:ae}}))},O=()=>{L(!1),M.current=null,C.current=null},I=F=>{var W;return((W=M.current)==null?void 0:W.taskId)===F?"opacity-40 bg-gray-50 grayscale":""},j=F=>{if(F.length===0)return{done:0,working:0,stuck:0};const W=F.length,Q=F.filter(ce=>ce.status===pv.Done).length,re=F.filter(ce=>ce.status===pv.Working).length,ae=F.filter(ce=>ce.status===pv.Stuck).length;return{done:Q/W*100,working:re/W*100,stuck:ae/W*100}},H=`50px ${e.columns.map(F=>F.width).join(" ")} 50px`,Y=e.groups.flatMap(F=>F.tasks.filter(W=>W.selected).map(W=>({groupId:F.id,task:W}))).length,J=()=>{u("all",!1)},oe=()=>{Y!==0&&t(F=>({...F,groups:F.groups.map(W=>({...W,tasks:W.tasks.filter(Q=>!Q.selected)}))}))},X=()=>{Y!==0&&t(F=>({...F,groups:F.groups.map(W=>{const Q=W.tasks.filter(ae=>ae.selected);if(Q.length===0)return W;const re=Q.map(ae=>({...ae,id:crypto.randomUUID(),name:`${ae.name} (Copy)`,selected:!0}));return{...W,tasks:[...W.tasks,...re]}})}))};return y.jsx("div",{className:"flex w-full min-h-screen bg-white overflow-hidden font-sans text-gray-800",children:y.jsxs("main",{className:"flex-1 flex flex-col min-h-screen overflow-hidden relative bg-white",children:[y.jsxs("header",{className:"h-16 bg-white flex items-center justify-between px-8 flex-shrink-0",children:[y.jsx("div",{children:y.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:e.name})}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsxs("button",{onClick:A,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-600 rounded-full hover:shadow-md hover:scale-105 transition-all text-sm font-semibold border border-indigo-100",children:[y.jsx(BB,{className:"w-4 h-4"}),a?"Thinking...":"Analyze Board"]}),y.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition text-sm font-medium shadow-sm",children:[y.jsx(koe,{className:"w-4 h-4"})," New Group"]})]})]}),y.jsxs("div",{className:"flex-1 overflow-auto custom-scroll p-6 pb-28",children:[s&&y.jsxs("div",{className:"mb-8 p-6 bg-white border border-indigo-100 rounded-2xl shadow-xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400"}),y.jsxs("h3",{className:"text-indigo-900 font-bold text-lg mb-3 flex items-center gap-2",children:[y.jsx(BB,{className:"w-5 h-5 text-indigo-500"})," AI Assistant Insights"]}),y.jsx("p",{className:"text-gray-700 whitespace-pre-line text-sm leading-relaxed",children:s}),y.jsx("button",{onClick:()=>o(null),className:"mt-4 text-xs font-semibold text-gray-400 hover:text-gray-600 uppercase tracking-wider",children:"Dismiss"})]}),y.jsx("div",{className:"space-y-8",children:e.groups.map(F=>{const W=j(F.tasks),Q=F.tasks.length>0&&F.tasks.every(ae=>ae.selected),re=F.tasks.some(ae=>ae.selected);return y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/80 relative flex flex-col",children:[y.jsxs("div",{className:"flex items-center px-4 py-3 relative rounded-t-xl bg-white z-0",children:[y.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[y.jsx("div",{className:"cursor-pointer hover:bg-gray-100 p-1.5 rounded transition-colors group/menu relative",children:y.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover/menu:text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})}),y.jsx("input",{value:F.title,onChange:ae=>x(F.id,ae.target.value),className:"text-xl font-bold bg-transparent border border-transparent hover:border-gray-300 rounded px-2 py-0.5 focus:outline-none focus:border-blue-500 focus:bg-white w-full max-w-md transition-all",style:{color:F.color}}),y.jsxs("span",{className:"text-xs text-gray-400 font-medium px-2 py-1 bg-gray-100 rounded-full",children:[F.tasks.length," items"]})]}),y.jsx("button",{onClick:()=>v(F.id),className:"text-gray-400 hover:text-red-500 p-2 transition-colors hover:bg-red-50 rounded-md",title:"Delete Group",children:y.jsx(Jxt,{className:"w-4 h-4"})})]}),y.jsx("div",{className:"sticky top-0 z-[1] bg-white",style:{boxShadow:"0 2px 5px -2px rgba(0,0,0,0.05)"},children:y.jsxs("div",{className:"grid gap-px bg-gray-200 border-y border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wide",style:{gridTemplateColumns:H},children:[y.jsx("div",{className:"bg-gray-50/80 flex items-center justify-center",children:y.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300",checked:Q,ref:ae=>{ae&&(ae.indeterminate=re&&!Q)},onChange:ae=>u(F.id,ae.target.checked)})}),e.columns.map(ae=>y.jsx("div",{className:"relative group bg-gray-50/80 backdrop-blur-sm hover:bg-gray-100 transition-colors",children:y.jsx("input",{value:ae.title,onChange:ce=>_(ae.id,ce.target.value),className:"w-full h-full bg-transparent px-3 py-2 text-center text-[11px] focus:outline-none focus:bg-white focus:text-gray-800 border-b-2 border-transparent focus:border-blue-500",style:{textAlign:ae.type==="name"?"left":"center"}})},ae.id)),y.jsx("div",{className:"bg-gray-50/80 flex items-center justify-center hover:bg-blue-50 cursor-pointer transition-colors group",onClick:g,title:"Add Column",children:y.jsx(koe,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-transform group-hover:scale-110"})})]})}),y.jsx("div",{className:"divide-y divide-gray-100 relative z-0 min-h-[10px]",children:F.tasks.map((ae,ce)=>y.jsxs("div",{draggable:!0,onDragStart:ye=>D(ye,{taskId:ae.id,groupId:F.id}),onDragEnter:N?ye=>k(ye,{taskId:ae.id,groupId:F.id}):void 0,onDragEnd:O,onDragOver:ye=>ye.preventDefault(),className:`grid gap-px bg-white hover:bg-gray-50/50 group/row text-sm transition-colors relative ${I(ae.id)}`,style:{gridTemplateColumns:H},children:[y.jsx("div",{className:"flex items-center justify-center border-r border-gray-100 bg-white",children:y.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300",checked:!!ae.selected,onChange:ye=>c(F.id,ae.id,ye.target.checked),onClick:ye=>ye.stopPropagation(),onMouseDown:ye=>ye.stopPropagation()})}),e.columns.map(ye=>{const fe=ye.type==="name";return y.jsxs("div",{className:`relative border-r border-gray-100 flex items-center ${fe?"justify-start pl-2":"justify-center"} min-h-[32px] bg-white group-hover/row:bg-[#f8f9fa] transition-colors`,children:[fe&&y.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1.5",style:{backgroundColor:F.color}}),fe&&y.jsx("div",{className:"cursor-grab active:cursor-grabbing text-gray-300 mr-2 opacity-0 group-hover/row:opacity-100 hover:text-gray-500 p-1",children:y.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"9",cy:"12",r:"1"}),y.jsx("circle",{cx:"9",cy:"5",r:"1"}),y.jsx("circle",{cx:"9",cy:"19",r:"1"}),y.jsx("circle",{cx:"15",cy:"12",r:"1"}),y.jsx("circle",{cx:"15",cy:"5",r:"1"}),y.jsx("circle",{cx:"15",cy:"19",r:"1"})]})}),ye.type==="name"&&y.jsx("input",{value:ae.name,onChange:be=>l(F.id,ae.id,{name:be.target.value}),className:"w-full px-2 py-1.5 bg-transparent focus:outline-none text-gray-700 font-medium truncate"}),ye.type==="person"&&y.jsx(ryt,{personId:ae.personId,onChange:be=>l(F.id,ae.id,{personId:be})}),ye.type==="status"&&y.jsx("div",{className:"w-[90%] h-[80%]",children:y.jsx(eyt,{status:ae.status,onChange:be=>l(F.id,ae.id,{status:be})})}),ye.type==="priority"&&y.jsx("div",{className:"w-[90%] h-[80%]",children:y.jsx(tyt,{priority:ae.priority,onChange:be=>l(F.id,ae.id,{priority:be})})}),ye.type==="date"&&y.jsx("input",{type:"date",value:ae.dueDate,onChange:be=>l(F.id,ae.id,{dueDate:be.target.value}),className:"bg-transparent text-xs text-gray-500 focus:outline-none w-full text-center cursor-pointer hover:text-gray-800 font-medium"}),ye.type==="text"&&y.jsx("input",{type:"text",value:ae.textValues[ye.id]||"",onChange:be=>f(F.id,ae.id,ye.id,be.target.value),className:"w-full h-full text-center px-2 bg-transparent focus:outline-none text-gray-600",placeholder:"-"})]},ye.id)}),y.jsx("div",{className:"flex items-center justify-center border-l border-gray-100 bg-white opacity-0 group-hover/row:opacity-100 transition-opacity",children:y.jsx("button",{onClick:()=>h(F.id,ae.id),className:"text-gray-300 hover:text-red-500 hover:bg-red-50 p-1.5 rounded transition-all",children:y.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]},ae.id))}),y.jsxs("div",{className:"grid gap-px bg-white border-t border-gray-200",style:{gridTemplateColumns:H},children:[y.jsx("div",{className:"flex items-center justify-center border-r border-gray-100 bg-gray-50/20"}),y.jsxs("div",{className:"flex items-center pl-8 py-1.5 border-r border-gray-100 relative hover:bg-gray-50 transition-colors",children:[y.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1.5 rounded-bl-xl",style:{backgroundColor:F.color,opacity:.3}}),y.jsx("input",{type:"text",placeholder:"+ Add Item",className:"w-full text-sm focus:outline-none text-gray-500 placeholder-gray-400 bg-transparent",onKeyDown:ae=>{if(ae.key==="Enter"){const ce=ae.target.value.trim();d(F.id,ce),ae.target.value=""}}})]}),e.columns.slice(1).map(ae=>y.jsx("div",{className:"border-r border-gray-100 bg-gray-50/20"},ae.id)),y.jsx("div",{className:"bg-gray-50/20"})]}),y.jsxs("div",{className:"bg-white border-t border-gray-200 rounded-b-xl p-2.5 flex items-center gap-4",children:[y.jsx("div",{className:"w-32"})," ",y.jsxs("div",{className:"flex-1 h-7 rounded flex overflow-hidden bg-gray-100 max-w-md border border-gray-200",children:[W.done>0&&y.jsxs("div",{className:"bg-[#00C875] flex items-center justify-center text-[10px] font-bold text-white transition-all duration-500",style:{width:`${W.done}%`},title:`Done: ${Math.round(W.done)}%`,children:[Math.round(W.done),"%"]}),W.working>0&&y.jsxs("div",{className:"bg-[#FDAB3D] flex items-center justify-center text-[10px] font-bold text-white transition-all duration-500",style:{width:`${W.working}%`},title:`Working: ${Math.round(W.working)}%`,children:[Math.round(W.working),"%"]}),W.stuck>0&&y.jsxs("div",{className:"bg-[#E2445C] flex items-center justify-center text-[10px] font-bold text-white transition-all duration-500",style:{width:`${W.stuck}%`},title:`Stuck: ${Math.round(W.stuck)}%`,children:[Math.round(W.stuck),"%"]})]})]})]},F.id)})})]}),y.jsx(fmt,{children:Y>0&&y.jsx(Doe.div,{className:"fixed bottom-16 md:bottom-20 left-0 right-0 px-4 z-50 pointer-events-none",initial:{opacity:0,y:16,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:16,scale:.98},transition:{duration:.18,ease:"easeOut"},children:y.jsx(Doe.div,{className:"mx-auto max-w-5xl bg-white shadow-2xl border border-gray-200 rounded-2xl px-6 py-3 flex items-center gap-6 pointer-events-auto justify-center",initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},transition:{duration:.18,ease:"easeOut",delay:.02},children:y.jsx("div",{className:"flex items-center gap-5 text-sm text-gray-600 flex-wrap md:flex-nowrap justify-center w-full",children:y.jsxs("div",{className:"flex items-center gap-5 flex-wrap md:flex-nowrap justify-center",children:[y.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",onClick:X,children:[y.jsx($4,{size:18,className:"text-gray-700"})," ",y.jsx("span",{children:"Duplicate"})]}),y.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",children:[y.jsx(Tk,{size:18,className:"text-gray-700"})," ",y.jsx("span",{children:"Export"})]}),y.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",children:[y.jsx(joe,{size:18,className:"text-gray-700"})," ",y.jsx("span",{children:"Archive"})]}),y.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",onClick:oe,children:[y.jsx(Ih,{size:18,className:"text-gray-700"})," ",y.jsx("span",{children:"Delete"})]}),y.jsxs("button",{className:"flex items-center gap-2 text-gray-400 cursor-not-allowed whitespace-nowrap",disabled:!0,children:[y.jsx(PY,{size:18,className:"text-gray-400"})," ",y.jsx("span",{children:"Convert"})]}),y.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",children:[y.jsx(PY,{size:18,className:"text-gray-700"})," ",y.jsx("span",{children:"Move to"})]}),y.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",children:[y.jsx(Up,{size:18,className:"text-gray-700"})," ",y.jsx("span",{children:"Sidekick"})]}),y.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",children:[y.jsx(O_e,{size:18,className:"text-gray-700"})," ",y.jsx("span",{children:"Apps"})]}),y.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",onClick:J,children:[y.jsx(Wf,{size:18,className:"text-gray-700"})," ",y.jsx("span",{children:"Clear"})]})]})})})})}),y.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 w-full max-w-2xl px-4",children:y.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-full shadow-2xl border border-white/50 p-2 flex items-center gap-3 pl-5 transition-all focus-within:ring-4 ring-indigo-500/10",children:[y.jsx(BB,{className:"text-indigo-500 w-5 h-5 animate-pulse"}),y.jsx("input",{type:"text",value:n,onChange:F=>i(F.target.value),onKeyDown:F=>F.key==="Enter"&&w(),placeholder:"Ask AI to build a plan (e.g. 'Plan a product launch for next month')",className:"flex-1 bg-transparent focus:outline-none text-sm text-gray-800 py-2 placeholder-gray-500"}),y.jsx("button",{onClick:w,disabled:a||!n,className:"bg-indigo-600 text-white rounded-full px-6 py-2.5 text-sm font-medium hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all hover:shadow-lg flex items-center gap-2",children:a?y.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):y.jsx("span",{children:"Generate"})})]})})]})})},nyt=({status:r,tasks:e,color:t})=>{const{setNodeRef:n}=tG({id:r});return y.jsxs("div",{className:"flex flex-col w-80 min-w-[320px] h-full bg-gray-50/50 rounded-xl border border-gray-200/60 flex-shrink-0",children:[y.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between sticky top-0 bg-gray-50/50 backdrop-blur-sm z-10 rounded-t-xl",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`w-3 h-3 rounded-full ${t.split(" ")[0].replace("bg-","bg-")}`}),y.jsx("h3",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:r||"No Status"}),y.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-2 py-0.5 rounded-full font-medium",children:e.length})]}),y.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:y.jsx(gg,{size:16})})]}),y.jsxs("div",{ref:n,className:"flex-1 p-3 overflow-y-auto custom-scroll space-y-3",children:[y.jsx(Oge,{items:e.map(i=>i.id),strategy:Rge,children:e.map(i=>y.jsx(iyt,{task:i},i.id))}),e.length===0&&y.jsx("div",{className:"h-24 border-2 border-dashed border-gray-200 rounded-lg flex items-center justify-center text-gray-400 text-sm",children:"Drop items here"})]})]})},iyt=({task:r})=>{const{attributes:e,listeners:t,setNodeRef:n,transform:i,transition:a,isDragging:s}=Fge({id:r.id}),o={transform:ug.Transform.toString(i),transition:a,opacity:s?.3:1};return y.jsxs("div",{ref:n,style:o,...e,...t,className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow cursor-grab active:cursor-grabbing group relative",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("div",{className:"text-sm font-medium text-gray-800 line-clamp-2 leading-snug",children:r.name}),y.jsx("button",{className:"text-gray-300 hover:text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(gg,{size:14})})]}),y.jsxs("div",{className:"flex items-center justify-between mt-3",children:[y.jsx("div",{className:"flex items-center gap-2",children:r.personId?y.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-[10px] font-bold border border-white shadow-sm",children:"ID"}):y.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center border border-dashed border-gray-300",children:y.jsx(ui,{size:12})})}),r.priority&&y.jsx("div",{className:`text-[10px] px-2 py-0.5 rounded border ${r.priority==="High"?"bg-red-50 text-red-600 border-red-100":r.priority==="Medium"?"bg-amber-50 text-amber-600 border-amber-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:r.priority})]})]})},ayt=({storageKey:r})=>{const{board:e,updateTask:t}=obe(r),[n,i]=me.useState(null),a=XH(yR(hM,{activationConstraint:{distance:5}})),s=e.groups.flatMap(u=>u.tasks),o=n?s.find(u=>u.id===n):null,l=u=>{i(u.active.id)},c=u=>{const{active:f,over:d}=u;if(i(null),!d)return;const h=f.id,p=d.id;let v,x;for(const g of e.groups){const _=g.tasks.find(w=>w.id===h);if(_){v=g,x=_;break}}if(!(!v||!x)&&Object.values(pv).includes(p)){const g=p;x.status!==g&&t(v.id,h,{status:g})}};return y.jsxs("div",{className:"h-full flex flex-col bg-white overflow-hidden",children:[y.jsxs("div",{className:"h-14 border-b border-gray-200 flex items-center px-6 justify-between flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Board"}),y.jsx("div",{className:"h-4 w-px bg-gray-300"}),y.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 hover:text-[#7B61FF] transition-colors",children:[y.jsx("span",{className:"text-[#7B61FF]",children:"Group by:"})," Status"]})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("button",{className:"px-3 py-1.5 bg-[#7B61FF] text-white rounded-md text-sm font-medium hover:bg-[#6a51e6] transition-colors flex items-center gap-2 shadow-sm shadow-indigo-200",children:[y.jsx(ui,{size:16})," New Task"]})})]}),y.jsxs(eG,{sensors:a,collisionDetection:ZH,onDragStart:l,onDragEnd:c,children:[y.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden p-6",children:y.jsx("div",{className:"flex h-full gap-6",children:Object.values(pv).map(u=>{const f=e.groups.flatMap(d=>d.tasks).filter(d=>d.status===u);return y.jsx(nyt,{status:u,tasks:f,color:FD[u]},u)})})}),y.jsx(nG,{children:o?y.jsx("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-[#7B61FF] rotate-2 cursor-grabbing w-[300px]",children:y.jsx("div",{className:"text-sm font-medium text-gray-800",children:o.name})}):null})]})]})},syt="taskboard-state",oyt={Done:"#00C875","Working on it":"#FDAB3D",Stuck:"#E2445C"},Ioe=r=>oyt[r||""]||"#cbd5e1",lyt=({refreshTrigger:r,onAddTask:e,onShowList:t,storageKey:n})=>{const i=n||syt,[a,s]=me.useState(new Date),[o,l]=me.useState([]),[c,u]=me.useState("month"),[f,d]=me.useState(!1),h=()=>{try{const Y=localStorage.getItem(i);if(!Y)return[];const J=JSON.parse(Y);if(!(J!=null&&J.groups))return[];const oe=[];return J.groups.forEach(X=>{(X.tasks||[]).forEach(F=>{F!=null&&F.dueDate&&oe.push({id:F.id,name:F.name||"Task",dueDate:F.dueDate,status:F.status,priority:F.priority})})}),oe}catch(Y){return console.warn("Failed to read board tasks for calendar",Y),[]}};me.useEffect(()=>{l(h())},[r,i]);const p=()=>{if(c==="day")return{startDate:a,endDate:a};if(c==="4days")return{startDate:a,endDate:KN(a,3)};if(c==="week")return{startDate:hy(a),endDate:Dj(a)};const Y=txe(a),J=Qge(Y);return{startDate:hy(Y),endDate:Dj(J)}},{startDate:v,endDate:x}=p(),g=me.useMemo(()=>exe({start:v,end:x}),[v,x]),_=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=c==="month"||c==="week"?7:c==="4days"?4:1;c==="month"||g.slice(0,w);const A=c==="month",M=me.useMemo(()=>Array.from({length:24},(Y,J)=>{const oe=J%12===0?12:J%12,X=J<12?"am":"pm";return`${oe}${X}`}),[]),C=A?g:g.slice(0,w),N="160px",L=me.useMemo(()=>{const Y={};return g.forEach(J=>{const oe=_h(J,"yyyy-MM-dd");Y[oe]=[]}),o.forEach(J=>{const oe=J.dueDate;Y[oe]&&Y[oe].push(J)}),Y},[o,g]),D=()=>s(new Date),k=Y=>{const J=Y==="prev"?-1:1;return s(c==="day"?oe=>KN(oe,J):c==="4days"?oe=>KN(oe,J*4):c==="week"?oe=>KN(oe,J*7):oe=>Y==="prev"?axe(oe):aG(oe,1))},O={day:"Day","4days":"4 days",week:"Week",month:"Month"}[c],I=c==="month"?_h(a,"MMMM yyyy"):`${_h(v,"MMM d")}  ${_h(x,"MMM d, yyyy")}`,j=[{id:"day",label:"Day",hotkey:"D"},{id:"4days",label:"4 days",hotkey:"4"},{id:"week",label:"Week",hotkey:"W"},{id:"month",label:"Month",hotkey:"M"}],B=()=>({id:"board-1",name:"Task Board",columns:[{id:"col_name",title:"Item",type:"name",width:"300px"},{id:"col_person",title:"Owner",type:"person",width:"96px"},{id:"col_status",title:"Status",type:"status",width:"128px"},{id:"col_priority",title:"Priority",type:"priority",width:"128px"},{id:"col_date",title:"Due Date",type:"date",width:"110px"}],groups:[]}),K=()=>{try{const Y=localStorage.getItem(i);if(!Y)return B();const J=JSON.parse(Y);return J!=null&&J.groups&&(J!=null&&J.columns)?J:B()}catch{return B()}},H=Y=>{try{localStorage.setItem(i,JSON.stringify(Y))}catch(J){console.warn("Failed to save board from calendar",J)}},Z=Y=>{const J=K(),oe=_h(Y,"yyyy-MM-dd"),X=Array.isArray(J.groups)?J.groups:[],F=X[0]||{id:$0(),title:"New Group",color:"#579bfc",tasks:[]};X.length===0&&(J.groups=[F]);const W={id:$0(),name:"New Item",status:"Working on it",priority:"Medium",dueDate:oe,personId:null,textValues:{}};F.tasks=[...F.tasks||[],W],H(J),l(h())};return y.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-100 rounded-2xl shadow-sm overflow-hidden relative",children:[y.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-200 bg-white",children:[y.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[y.jsx("button",{onClick:D,className:"px-3 py-1.5 rounded-md border border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700 font-medium",children:"Today"}),y.jsxs("div",{className:"relative",children:[y.jsxs("button",{className:"px-3 py-1.5 rounded-md border border-gray-200 bg-gray-50 text-gray-700 font-medium inline-flex items-center gap-1",onClick:()=>d(Y=>!Y),children:[O," ",y.jsx(tl,{size:14})]}),f&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),y.jsxs("div",{className:"absolute z-20 mt-2 w-44 bg-white rounded-xl shadow-xl border border-gray-200 p-3",children:[y.jsx("div",{className:"text-[11px] font-semibold text-gray-400 uppercase mb-2",children:"Time period"}),y.jsx("div",{className:"space-y-1",children:j.map(Y=>y.jsxs("button",{onClick:()=>{u(Y.id),d(!1)},className:`w-full flex items-center justify-between px-2.5 py-2 rounded-lg text-sm hover:bg-gray-50 ${c===Y.id?"text-clickup-purple font-medium bg-purple-50/60":"text-gray-700"}`,children:[y.jsx("span",{children:Y.label}),y.jsx("span",{className:"px-2 py-0.5 rounded border border-gray-200 text-[11px] text-gray-500 bg-gray-50",children:Y.hotkey})]},Y.id))})]})]})]}),y.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l border-gray-200 text-gray-800 font-semibold",children:[y.jsx("button",{onClick:()=>k("prev"),className:"p-1.5 rounded-md hover:bg-gray-100",children:y.jsx(u3,{size:16})}),y.jsx("span",{className:"text-base",children:I}),y.jsx("button",{onClick:()=>k("next"),className:"p-1.5 rounded-md hover:bg-gray-100",children:y.jsx(zu,{size:16})})]})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[y.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-50",children:[y.jsx(vv,{size:16})," Search"]}),y.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-50",children:[y.jsx(_U,{size:16})," Hide"]}),y.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-50",children:[y.jsx(CU,{size:16})," Customize"]}),y.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-md bg-clickup-purple text-white hover:bg-indigo-700 shadow-sm",onClick:()=>t?t():e==null?void 0:e(),children:[y.jsx(ui,{size:16})," Add Task"]})]})]}),y.jsxs("div",{className:"flex items-center gap-3 px-5 py-2 border-b border-gray-200 text-xs text-gray-600 bg-gray-50/80",children:[y.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-full border border-gray-200 bg-white hover:border-gray-300",children:[y.jsx(kS,{size:12})," Filter"]}),y.jsx("button",{className:"px-2 py-1 rounded-full border border-gray-200 bg-white hover:border-gray-300",children:"Closed"}),y.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-full border border-gray-200 bg-white hover:border-gray-300",children:[y.jsx(QTe,{size:12})," Assignee"]}),y.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[y.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"}),y.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"}),y.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"})]}),y.jsxs("div",{className:"px-3 py-1 rounded-full border border-gray-200 bg-white text-gray-500 flex items-center gap-2",children:[y.jsx(vv,{size:12})," Search"]})]})]}),A?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid text-xs font-semibold text-gray-500 border-b border-gray-200 px-5 py-2 bg-white",style:{gridTemplateColumns:`repeat(${w}, minmax(0,1fr))`},children:_.map(Y=>y.jsx("div",{className:"uppercase tracking-wide text-left",children:Y},Y))}),y.jsx("div",{className:"grid flex-1 bg-gray-100 gap-px relative",style:{gridTemplateColumns:`repeat(${w}, minmax(0,1fr))`,gridAutoRows:N},children:g.map(Y=>{const J=_h(Y,"yyyy-MM-dd"),oe=L[J]||[],X=ixe(Y,a),F=AR(Y,new Date);return y.jsxs("div",{className:`bg-white p-3 flex flex-col border border-transparent hover:border-indigo-200 transition-colors ${X?"":"bg-gray-50 text-gray-400"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("div",{className:`text-sm font-medium ${F?"text-white bg-clickup-purple rounded-full px-2 py-1 shadow":"text-gray-700"}`,children:_h(Y,"d")}),y.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-clickup-purple p-1 rounded",onClick:W=>{W.stopPropagation(),Z(Y)},title:"Add task on this date",children:y.jsx(ui,{size:14})})]}),y.jsx("div",{className:"space-y-1 overflow-y-auto custom-scrollbar pr-1",children:oe.map(W=>y.jsx("div",{className:"text-[11px] leading-4 px-2 py-1 rounded border flex items-center gap-2 shadow-[0_1px_3px_rgba(0,0,0,0.05)] cursor-pointer hover:border-clickup-purple/50",style:{borderLeft:`3px solid ${Ioe(W.status)}`},children:y.jsx("span",{className:"truncate text-gray-700",children:W.name})},W.id))})]},J)})})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid text-xs font-semibold text-gray-500 border-b border-gray-200 px-5 py-2 bg-white",style:{gridTemplateColumns:`repeat(${w}, minmax(0,1fr))`},children:C.map(Y=>y.jsxs("div",{className:"text-left",children:[y.jsx("div",{className:"text-[11px] uppercase text-gray-400",children:_h(Y,"EEE")}),y.jsx("div",{className:"text-sm text-gray-700 font-semibold",children:_h(Y,"MMM d")})]},Y.toISOString()))}),y.jsxs("div",{className:"flex flex-1 overflow-auto",children:[y.jsxs("div",{className:"w-20 border-r border-gray-200 text-[11px] text-gray-400 bg-white",children:[y.jsx("div",{className:"h-11 flex items-center justify-end pr-2 border-b border-gray-100",children:"All day"}),M.map((Y,J)=>y.jsx("div",{className:`h-12 flex items-start justify-end pr-2 ${J===0?"border-t border-gray-100":""} border-b border-gray-100`,children:y.jsx("span",{className:"pt-1",children:Y})},Y))]}),y.jsx("div",{className:"flex-1 overflow-auto",children:y.jsx("div",{className:"grid min-w-full",style:{gridTemplateColumns:`repeat(${w}, minmax(200px, 1fr))`},children:C.map(Y=>{const J=_h(Y,"yyyy-MM-dd"),oe=L[J]||[],X=AR(Y,new Date);return y.jsxs("div",{className:"border-r border-gray-100 relative",children:[y.jsxs("div",{className:"h-11 border-b border-gray-100 flex items-center justify-between px-3 bg-white",children:[y.jsx("div",{className:`text-sm font-medium ${X?"text-clickup-purple":"text-gray-700"}`,children:_h(Y,"d")}),y.jsx("button",{className:"text-gray-400 hover:text-clickup-purple p-1 rounded transition-colors",onClick:F=>{F.stopPropagation(),Z(Y)},title:"Add task on this date",children:y.jsx(ui,{size:14})})]}),oe.length>0&&y.jsx("div",{className:"absolute left-3 right-3 top-2 z-10 space-y-1 pointer-events-none",children:oe.map(F=>y.jsx("div",{className:"text-[11px] leading-4 px-2 py-1 rounded border shadow-[0_1px_3px_rgba(0,0,0,0.05)] bg-white",style:{borderLeft:`3px solid ${Ioe(F.status)}`},children:y.jsx("span",{className:"truncate text-gray-700",children:F.name})},F.id))}),y.jsx("div",{className:"relative",children:M.map((F,W)=>y.jsx("div",{className:"h-12 border-b border-gray-100 hover:bg-gray-50 transition-colors"},F))})]},J)})})})]})]}),y.jsxs("div",{className:"absolute top-28 right-3 flex flex-col items-center gap-2 text-[10px] text-gray-500",children:[y.jsxs("button",{className:"px-2 py-1 rounded-full bg-white border border-gray-200 shadow-sm flex items-center gap-1 hover:border-gray-300",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400"})," Overdue"]}),y.jsxs("button",{className:"px-2 py-1 rounded-full bg-white border border-gray-200 shadow-sm flex items-center gap-1 hover:border-gray-300",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"})," Unscheduled"]})]})]})};function cbe(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=cbe(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function cyt(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=cbe(r))&&(n&&(n+=" "),n+=e);return n}const zB=120,Ooe=[{id:"ai-brain",title:"AI Brain",description:"Generate ideas and content with a custom prompt",color:"#f1f0ff",size:"md",x:0,y:0},{id:"task-list",title:"Task List",description:"Create a List view using tasks from any location",color:"#f8f1ff",size:"md",x:1,y:0},{id:"workload-status",title:"Workload by Status",description:"Display a pie chart of your statuses usage",color:"#eaf7f5",size:"md",x:2,y:0},{id:"calc",title:"Calculation",description:"Calculate sums, averages, and more",color:"#fef8ef",size:"md",x:0,y:1},{id:"portfolio",title:"Portfolio",description:"Track progress across lists & folders",color:"#eef5ff",size:"md",x:1,y:1},{id:"assignee",title:"Tasks by Assignee",description:"Pie chart of tasks grouped by assignee",color:"#eef4ff",size:"md",x:2,y:1},{id:"notes",title:"Notes",description:"Add rich text, images, and links",color:"#fff7e6",size:"md",x:0,y:2},{id:"discussion",title:"Discussion",description:"Collaborate and chat with members",color:"#fff0f4",size:"md",x:1,y:2},{id:"bookmarks",title:"Bookmarks",description:"Quickly access important items",color:"#f0f6ff",size:"md",x:2,y:2}],uyt=({storageKey:r})=>{const[e,t]=me.useState([]),[n,i]=me.useState(null),[a,s]=me.useState({dx:0,dy:0}),[o,l]=me.useState(!1),c=me.useMemo(()=>{try{const g=localStorage.getItem(r);if(g){const _=JSON.parse(g);if(Array.isArray(_))return _}}catch(g){console.warn("Failed to load overview",g)}return Ooe.slice(0,3)},[r]);me.useEffect(()=>{t(c)},[c]),me.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(e))}catch(g){console.warn("Failed to save overview",g)}},[e,r]);const u=(g,_)=>{const w=g.currentTarget.getBoundingClientRect();i(_),s({dx:g.clientX-w.left,dy:g.clientY-w.top}),window.addEventListener("mousemove",f),window.addEventListener("mouseup",d)},f=me.useCallback(g=>{if(!n)return;const _=Math.max(0,Math.round((g.clientX-a.dx)/zB)),w=Math.max(0,Math.round((g.clientY-a.dy-120)/zB));t(A=>A.map(M=>M.id===n?{...M,x:_,y:w}:M))},[n,a.dx,a.dy]),d=me.useCallback(()=>{i(null),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)},[f]);me.useEffect(()=>()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)},[f,d]);const h=g=>{t(_=>_.filter(w=>w.id!==g))},p=g=>{t(_=>_.map(w=>w.id!==g?w:{...w,size:{sm:"md",md:"lg",lg:"sm"}[w.size]}))},v=g=>{e.find(_=>_.id===g.id)||(t(_=>[..._,{...g,x:_.length%3,y:Math.floor(_.length/3)}]),l(!1))},x=g=>{switch(g){case"lg":return"w-[360px] h-[220px]";case"md":return"w-[280px] h-[200px]";default:return"w-[220px] h-[180px]"}};return y.jsxs("div",{className:"h-full flex flex-col bg-white",children:[y.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Overview"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Drag, drop, and resize cards to build your dashboard."})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{className:"px-3 py-2 rounded-md border border-gray-200 bg-white hover:border-gray-300 text-sm text-gray-700",onClick:()=>t([]),children:"Clear"}),y.jsx("button",{className:"px-4 py-2 rounded-md bg-clickup-purple text-white text-sm font-medium hover:bg-indigo-700 shadow-sm",onClick:()=>l(!0),children:"Add Card"})]})]}),y.jsx("div",{className:"flex-1 relative overflow-auto bg-gray-50",children:y.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-4",children:y.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${zB}px, 1fr))`,gap:16},children:e.map(g=>y.jsxs("div",{style:{gridColumnStart:g.x+1,gridRowStart:g.y+1},className:cyt("relative rounded-xl shadow-sm border border-gray-200 bg-white cursor-move select-none",x(g.size)),onMouseDown:_=>u(_,g.id),children:[y.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none",style:{background:g.color}}),y.jsxs("div",{className:"relative h-full flex flex-col p-3",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[y.jsx(wU,{size:14}),y.jsx("span",{className:"text-[11px] uppercase font-semibold text-gray-400",children:"Card"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:_=>{_.stopPropagation(),p(g.id)},title:"Resize",children:y.jsx(jSe,{size:14})}),y.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:_=>{_.stopPropagation(),h(g.id)},children:y.jsx(Wf,{size:14})})]})]}),y.jsxs("div",{className:"mt-auto",children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:g.title}),y.jsx("p",{className:"text-xs text-gray-600 mt-1",children:g.description})]})]})]},g.id))})})}),o&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:y.jsxs("div",{className:"bg-white w-[90vw] max-w-5xl h-[80vh] rounded-2xl shadow-2xl overflow-hidden flex",children:[y.jsxs("div",{className:"w-64 border-r border-gray-200 bg-gray-50",children:[y.jsxs("div",{className:"p-4 flex items-center gap-2 text-sm font-semibold text-gray-700",children:[y.jsx(ui,{size:14})," Add Card"]}),y.jsx("div",{className:"space-y-1 px-2",children:["Featured","Overview","AI Cards","Custom","Sprints","Statuses","Tags","Assignees","Priorities","Time Tracking","Tables","Embeds and Apps"].map(g=>y.jsx("div",{className:"px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-white font-medium",children:g},g))}),y.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4 px-3 space-y-2 text-sm text-gray-500",children:[y.jsx("div",{children:"Help Docs"}),y.jsx("div",{children:"Dashboard Webinar"}),y.jsx("div",{children:"Dashboard Guide"})]})]}),y.jsxs("div",{className:"flex-1 flex flex-col",children:[y.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Featured"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",placeholder:"Search...",className:"w-64 border border-gray-200 rounded-md px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-clickup-purple/40"}),y.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>l(!1),children:y.jsx(Wf,{size:16})})]})]}),y.jsx("div",{className:"flex-1 overflow-auto p-6",children:y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Ooe.map(g=>y.jsxs("button",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition flex flex-col text-left overflow-hidden",onClick:()=>v(g),children:[y.jsx("div",{className:"h-32",style:{background:g.color}}),y.jsxs("div",{className:"p-3 space-y-1",children:[y.jsx("div",{className:"text-sm font-semibold text-gray-800",children:g.title}),y.jsx("div",{className:"text-xs text-gray-500",children:g.description})]})]},g.id))})})]})]})})]})},Mp=({active:r,onClick:e,label:t,shortcut:n,children:i})=>y.jsxs("div",{className:"flex flex-col items-center gap-1 group relative",children:[n&&y.jsx("span",{className:`text-[10px] font-medium ${r?"text-blue-600":"text-gray-400"}`,children:n}),y.jsx("button",{onClick:e,className:`
                relative flex items-center justify-center
                w-10 h-10 rounded-lg transition-all duration-200
                ${r?"bg-blue-100 ring-2 ring-blue-500 shadow-sm transform scale-105":"hover:bg-gray-100 hover:scale-110"}
            `,title:t,children:i})]}),fyt=()=>y.jsxs("div",{className:"w-8 h-8 bg-white rounded border border-gray-200 shadow-sm flex flex-col p-1 gap-1 overflow-hidden",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("div",{className:"w-2 h-2 rounded-full border border-gray-400"}),y.jsx("div",{className:"h-1 w-8 bg-gray-200 rounded"})]}),y.jsx("div",{className:"h-1 w-full bg-gray-100 rounded mt-auto"}),y.jsx("div",{className:"h-1.5 w-6 bg-blue-500 rounded-full"})]}),hyt=()=>y.jsx("div",{className:"w-7 h-7 bg-[#fcd34d] rounded-sm shadow-sm border-b-2 border-r-2 border-[#d97706]/20 relative overflow-hidden",children:y.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-[#fbbf24] shadow-sm transform -translate-x-1/2 -translate-y-1/2 rotate-45"})}),dyt=()=>y.jsx("div",{className:"w-7 h-7 bg-slate-700 rounded-sm shadow-sm"}),pyt=()=>y.jsx("div",{className:"w-7 h-7 border-2 border-dashed border-gray-400 rounded bg-gray-50/50 flex items-start p-0.5",children:y.jsx("div",{className:"w-2 h-1 bg-gray-300 rounded-full"})}),vyt=()=>y.jsxs("div",{className:"w-7 h-7 bg-white border border-gray-200 rounded shadow-sm overflow-hidden relative",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-100 to-purple-50"}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-blue-300/50 rounded-t-lg transform translate-y-1"}),y.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-yellow-200 rounded-full"})]}),myt=()=>y.jsxs("div",{className:"w-8 h-8 relative",children:[y.jsx("div",{className:"absolute top-0 right-0 w-6 h-5 bg-white border border-gray-200 rounded shadow-sm z-0 transform rotate-6"}),y.jsx("div",{className:"absolute top-1 right-1 w-6 h-5 bg-white border border-gray-200 rounded shadow-sm z-10",children:y.jsxs("div",{className:"flex items-center justify-center h-full gap-0.5",children:[y.jsx("div",{className:"w-1 h-1 bg-purple-400 rounded-full"}),y.jsx("div",{className:"w-2 h-px bg-gray-300"}),y.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full"})]})})]}),gyt=()=>{const[r,e]=me.useState("select"),[t,n]=me.useState(100),[i,a]=me.useState([]),[s,o]=me.useState([[]]),[l,c]=me.useState(0),[u,f]=me.useState(!1),[d,h]=me.useState(!1),[p,v]=me.useState({x:0,y:0}),[x,g]=me.useState({x:0,y:0}),[_,w]=me.useState([]),[A,M]=me.useState(null),[C,N]=me.useState({x:0,y:0}),[L,D]=me.useState(null),k=me.useRef(null),O=X=>{const F=s.slice(0,l+1);F.push(X),o(F),c(F.length-1),a(X)},I=()=>{l>0&&(c(X=>X-1),a(s[l-1]))},j=()=>{l<s.length-1&&(c(X=>X+1),a(s[l+1]))},B=X=>{if(!k.current)return{x:0,y:0};const F=k.current.getBoundingClientRect(),W=X.clientX-F.left,Q=X.clientY-F.top,re=(W-p.x)/(t/100),ae=(Q-p.y)/(t/100);return{x:re,y:ae,rawX:W,rawY:Q}},K=X=>{const{x:F,y:W,rawX:Q,rawY:re}=B(X);if(r==="hand"||X.button===1){h(!0),g({x:Q,y:re});return}if(r==="draw"){f(!0),w([{x:F,y:W}]);return}if(["arrow","shape","section"].includes(r)){f(!0),g({x:F,y:W}),D({type:r,x:F,y:W,width:0,height:0});return}if(["note","text","task","image"].includes(r)){let ce={id:$0(),type:r,x:F,y:W,width:200,height:200};r==="note"?ce={...ce,content:"New Note",color:"#fef3c7",width:200,height:200}:r==="text"?ce={...ce,content:"Type something...",width:200,height:50}:r==="task"?ce={...ce,content:"New Task",width:300,height:140}:r==="image"&&(ce={...ce,width:300,height:200}),O([...i,ce]),e("select");return}r==="select"&&M(null)},H=X=>{const{x:F,y:W,rawX:Q,rawY:re}=B(X);if(d){const ae=Q-x.x,ce=re-x.y;v(ye=>({x:ye.x+ae,y:ye.y+ce})),g({x:Q,y:re});return}u&&(r==="draw"?w(ae=>[...ae,{x:F,y:W}]):["arrow","shape","section"].includes(r)&&L?D(ae=>({...ae,width:F-((ae==null?void 0:ae.x)||0),height:W-((ae==null?void 0:ae.y)||0)})):A&&r==="select"&&a(ae=>ae.map(ce=>ce.id===A?{...ce,x:F-C.x,y:W-C.y}:ce)))},Z=()=>{if(d){h(!1);return}if(u)if(f(!1),r==="draw"&&_.length>1){const X={id:$0(),type:"draw",x:0,y:0,points:_,color:"#1e293b"};O([...i,X]),w([])}else if(L){const X={id:$0(),type:r,x:L.x,y:L.y,width:L.width||100,height:L.height||100,color:r==="shape"?"#334155":void 0};O([...i,X]),D(null),e("select")}else A&&O(i)},Y=(X,F)=>{if(r==="select"){X.stopPropagation();const{x:W,y:Q}=B(X),re=i.find(ae=>ae.id===F);re&&(M(F),f(!0),N({x:W-re.x,y:Q-re.y}))}},J=X=>{const F=i.filter(W=>W.id!==X);O(F),M(null)},oe=X=>{const W=A===X.id?"ring-2 ring-blue-500":"";switch(X.type){case"note":return y.jsx("div",{className:`shadow-md flex items-center justify-center text-center font-handwriting text-lg leading-tight p-4 ${W}`,style:{backgroundColor:X.color,width:X.width,height:X.height},children:X.content});case"text":return y.jsx("div",{className:`p-2 text-gray-800 font-medium text-xl bg-transparent border border-transparent hover:border-blue-200 rounded whitespace-nowrap ${W}`,children:X.content});case"task":return y.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col ${W}`,style:{width:X.width,height:X.height},children:[y.jsx("div",{className:"h-1.5 bg-blue-500 w-full"}),y.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[y.jsxs("div",{className:"flex items-start justify-between mb-2",children:[y.jsx("span",{className:"text-[10px] font-medium text-gray-500 px-1.5 py-0.5 bg-gray-100 rounded",children:"TASK-123"}),y.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200"})]}),y.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-auto",children:X.content}),y.jsx("div",{className:"flex items-center gap-2 mt-2",children:y.jsx("span",{className:"w-full h-1.5 rounded-full bg-gray-100 overflow-hidden",children:y.jsx("div",{className:"w-1/2 h-full bg-green-500"})})})]})]});case"shape":return y.jsx("div",{className:`rounded-lg flex items-center justify-center ${W}`,style:{backgroundColor:X.color,width:Math.abs(X.width||100),height:Math.abs(X.height||100)}});case"section":return y.jsx("div",{className:`border-2 border-dashed border-gray-300 rounded-lg bg-gray-50/30 flex items-start p-2 ${W}`,style:{width:Math.abs(X.width||200),height:Math.abs(X.height||200)},children:y.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Section"})});case"image":return y.jsxs("div",{className:`bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative ${W}`,style:{width:Math.abs(X.width||300),height:Math.abs(X.height||200)},children:[y.jsx(Zoe,{size:48,className:"text-gray-300"}),y.jsx("span",{className:"absolute bottom-4 text-xs text-gray-400",children:"Image Placeholder"})]});case"arrow":const Q=X.width||0,re=X.height||0;return y.jsxs("svg",{width:Math.abs(Q)+20,height:Math.abs(re)+20,className:`overflow-visible pointer-events-none ${W}`,children:[y.jsx("defs",{children:y.jsx("marker",{id:`arrowhead-${X.id}`,markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:y.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#334155"})})}),y.jsx("line",{x1:Q>0?0:Math.abs(Q),y1:re>0?0:Math.abs(re),x2:Q>0?Math.abs(Q):0,y2:re>0?Math.abs(re):0,stroke:"#334155",strokeWidth:"2",markerEnd:`url(#arrowhead-${X.id})`})]});default:return null}};return y.jsxs("div",{className:"relative w-full h-full bg-[#f8fafc] overflow-hidden select-none",ref:k,onMouseDown:K,onMouseMove:H,onMouseUp:Z,onMouseLeave:Z,onContextMenu:X=>X.preventDefault(),children:[y.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(#cbd5e1 1.5px, transparent 1.5px)",backgroundSize:`${20*(t/100)}px ${20*(t/100)}px`,backgroundPosition:`${p.x}px ${p.y}px`,opacity:.6}}),y.jsxs("div",{className:"absolute inset-0 transform-origin-top-left",style:{transform:`translate(${p.x}px, ${p.y}px) scale(${t/100})`},children:[y.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible",children:[i.filter(X=>X.type==="draw").map(X=>{var F;return y.jsx("path",{d:`M ${(F=X.points)==null?void 0:F.map(W=>`${W.x} ${W.y}`).join(" L ")}`,stroke:X.color,strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},X.id)}),u&&r==="draw"&&y.jsx("path",{d:`M ${_.map(X=>`${X.x} ${X.y}`).join(" L ")}`,stroke:"#1e293b",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),i.map(X=>X.type==="draw"?null:y.jsxs("div",{className:`absolute group ${r==="select"?"cursor-move":""}`,style:{left:X.x,top:X.y,width:X.width,height:X.height,zIndex:A===X.id?10:1},onMouseDown:F=>Y(F,X.id),children:[r==="select"&&y.jsx("button",{className:"absolute -top-3 -right-3 p-1.5 bg-white rounded-full shadow-sm border border-gray-200 opacity-0 group-hover:opacity-100 transition-opacity z-50 hover:bg-red-50 text-red-500",onClick:F=>{F.stopPropagation(),J(X.id)},children:y.jsx(Ih,{size:14})}),oe(X)]},X.id)),L&&y.jsx("div",{className:"absolute border-2 border-blue-400 border-dashed opacity-50 pointer-events-none",style:{left:Math.min(L.x,L.x+(L.width||0)),top:Math.min(L.y,L.y+(L.height||0)),width:Math.abs(L.width||0),height:Math.abs(L.height||0)}})]}),y.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 flex items-center gap-2 z-50",children:[y.jsxs("div",{className:"flex items-center gap-1 px-1",children:[y.jsx(Mp,{active:r==="select",onClick:()=>e("select"),label:"Select",shortcut:"V",children:y.jsx(FSe,{size:20,className:r==="select"?"text-blue-600":"text-gray-600"})}),y.jsx(Mp,{active:r==="hand",onClick:()=>e("hand"),label:"Hand",shortcut:"H",children:y.jsx(rSe,{size:20,className:r==="hand"?"text-blue-600":"text-gray-600"})})]}),y.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),y.jsxs("div",{className:"flex items-center gap-2 px-1",children:[y.jsx(Mp,{active:r==="task",onClick:()=>e("task"),label:"Task",shortcut:"T",children:y.jsx(fyt,{})}),y.jsx(Mp,{active:r==="draw",onClick:()=>e("draw"),label:"Draw",shortcut:"D",children:y.jsxs("div",{className:"relative",children:[y.jsx(nle,{size:24,className:"text-gray-700"}),y.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-black rounded-full"})]})}),y.jsx(Mp,{active:r==="shape",onClick:()=>e("shape"),label:"Shape",shortcut:"R",children:y.jsx(dyt,{})}),y.jsx(Mp,{active:r==="arrow",onClick:()=>e("arrow"),label:"Arrow",shortcut:"A",children:y.jsx(BD,{size:26,className:"text-gray-700"})}),y.jsx(Mp,{active:r==="note",onClick:()=>e("note"),label:"Note",shortcut:"N",children:y.jsx(hyt,{})}),y.jsx(Mp,{active:r==="text",onClick:()=>e("text"),label:"Text",shortcut:"T",children:y.jsx("div",{className:"w-8 h-8 bg-white border border-gray-200 rounded shadow-sm flex items-center justify-center",children:y.jsx(NU,{size:20,className:"text-gray-800"})})}),y.jsx(Mp,{active:r==="section",onClick:()=>e("section"),label:"Section",shortcut:"F",children:y.jsx(pyt,{})}),y.jsx(Mp,{active:r==="image",onClick:()=>e("image"),label:"Image",children:y.jsx(vyt,{})}),y.jsx(Mp,{active:r==="template",onClick:()=>{},label:"Templates",children:y.jsx(myt,{})})]}),y.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),y.jsxs("div",{className:"flex items-center gap-1 px-1",children:[y.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg disabled:opacity-30",onClick:I,disabled:l<=0,title:"Undo",children:y.jsx(qTe,{size:20})}),y.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg disabled:opacity-30",onClick:j,disabled:l>=s.length-1,title:"Redo",children:y.jsx(nTe,{size:20})})]})]}),y.jsxs("div",{className:"absolute bottom-8 left-8 bg-white rounded-xl shadow-lg border border-gray-100 flex items-center p-1.5 z-50",children:[y.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",children:y.jsx(Hoe,{size:16})}),y.jsx("div",{className:"w-px h-4 bg-gray-200 mx-1"}),y.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>n(Math.max(10,t-10)),children:y.jsx(Gm,{size:16})}),y.jsxs("span",{className:"px-3 text-xs font-semibold text-gray-600 min-w-[3.5rem] text-center",children:[Math.round(t),"%"]}),y.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>n(Math.min(200,t+10)),children:y.jsx(ui,{size:16})})]})]})},xyt=({spaceName:r,spaceId:e})=>{const t=me.useMemo(()=>`space-views-${e}`,[e]),n=[{id:"overview",type:"overview",name:"Overview",description:"Drag, resize, and track cards",icon:y.jsx(Yx,{className:"text-indigo-500"}),category:"popular"},{id:"list",type:"list",name:"List",description:"Track tasks, bugs, people & more",icon:y.jsx(UD,{className:"text-blue-500"}),category:"popular"},{id:"board",type:"board",name:"Kanban",description:"Move tasks between columns",icon:y.jsx($oe,{className:"text-purple-500"}),category:"popular"},{id:"calendar",type:"calendar",name:"Calendar",description:"Plan, schedule, & delegate",icon:y.jsx(Fh,{className:"text-green-500"}),category:"popular"},{id:"gantt",type:"placeholder",name:"Gantt",description:"Plan dependencies & time",icon:y.jsx(sv,{className:"text-orange-500"}),category:"popular"},{id:"doc",type:"placeholder",name:"Doc",description:"Collaborate & document anything",icon:y.jsx(Hm,{className:"text-pink-500"}),category:"popular"},{id:"form",type:"placeholder",name:"Form",description:"Collect, track, & report data",icon:y.jsx(tTe,{className:"text-teal-500"}),category:"popular"},{id:"table",type:"placeholder",name:"Table",description:"Structured table format",icon:y.jsx(d3,{className:"text-cyan-500"}),category:"more"},{id:"dashboard",type:"placeholder",name:"Dashboard",description:"Track metrics & insights",icon:y.jsx(jD,{className:"text-red-500"}),category:"more"},{id:"timeline",type:"placeholder",name:"Timeline",description:"See tasks by start & due date",icon:y.jsx(_y,{className:"text-yellow-500"}),category:"more"},{id:"activity",type:"placeholder",name:"Activity",description:"Real-time activity feed",icon:y.jsx(sv,{className:"text-indigo-400"}),category:"more"},{id:"workload",type:"placeholder",name:"Workload",description:"Visualize team capacity",icon:y.jsx(jD,{className:"text-emerald-500"}),category:"more"},{id:"whiteboard",type:"whiteboard",name:"Whiteboard",description:"Visualize & brainstorm ideas",icon:y.jsx(Yx,{className:"text-violet-500"}),category:"more"},{id:"team",type:"placeholder",name:"Team",description:"Monitor work being done",icon:y.jsx(ru,{className:"text-blue-400"}),category:"more"},{id:"mindmap",type:"placeholder",name:"Mind Map",description:"Visual brainstorming of ideas",icon:y.jsx(zD,{className:"text-fuchsia-500"}),category:"more"},{id:"map",type:"placeholder",name:"Map",description:"Tasks visualized by address",icon:y.jsx(DSe,{className:"text-rose-500"}),category:"more"},{id:"chat",type:"placeholder",name:"Chat",description:"Communicate with your team",icon:y.jsx(kE,{className:"text-sky-500"}),category:"more"}],i=()=>{try{const N=localStorage.getItem(t);if(N){const L=JSON.parse(N);if(L!=null&&L.views){const D=L.views.map(k=>{const O=n.find(I=>I.id===k.id);return O?{...k,icon:O.icon}:k});return{...L,views:D}}}}catch(N){console.warn("Failed to load saved views",N)}return{views:[],activeViewId:null}},a=me.useMemo(()=>i(),[t]),[s,o]=me.useState(()=>{const N=a.views||[];return N.some(D=>D.id==="overview")?N:[n[0],...N]}),[l,c]=me.useState(()=>a.activeViewId||"overview"),[u,f]=me.useState(!1),[d,h]=me.useState(r),[p,v]=me.useState(null);me.useEffect(()=>{(async()=>{try{const D=(await Z5.getSpaces()).find(k=>k.id===e);D&&h(D.name)}catch(L){console.error("Failed to load space name:",L)}})()},[e]);const x=(N,L)=>{try{const D=N.map(({icon:k,...O})=>O);localStorage.setItem(t,JSON.stringify({views:D,activeViewId:L}))}catch(D){console.warn("Failed to save views",D)}};me.useEffect(()=>{!l&&s.length>0&&c(s[0].id)},[l,s]),me.useEffect(()=>{x(s,l||null)},[s,l]);const g=(N,L)=>{N.preventDefault(),f(!1);const D=300,k=420,O=Math.min(Math.max(8,N.clientX),window.innerWidth-D-8),I=Math.min(Math.max(8,N.clientY),window.innerHeight-k-8);v({viewId:L,x:O,y:I})},_=N=>{const L=s.find(k=>k.id===N.id);if(L){c(L.id),f(!1);return}const D=[...s,N];o(D),c(N.id),f(!1)},w=()=>{const N=n.find(D=>D.id==="list");if(!N)return;const L=s.find(D=>D.id===N.id);L?c(L.id):_(N)},A=s.find(N=>N.id===l)||null,M=p?s.find(N=>N.id===p.viewId):null,C=N=>{var k;const L=s.find(O=>O.id===N),D=s.filter(O=>O.id!==N);if(L){const O=["list","board","calendar"];O.includes(L.type)&&(D.some(j=>O.includes(j.type))||localStorage.removeItem(`taskboard-${e}`)),L.type==="overview"&&(D.some(j=>j.type==="overview")||localStorage.removeItem(`overview-${e}`))}o(D),l===N&&c(((k=D[0])==null?void 0:k.id)||null),v(null)};return y.jsxs("div",{className:"flex flex-col flex-1 bg-white",children:[p&&M&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>v(null),onContextMenu:N=>{N.preventDefault(),v(null)}}),y.jsxs("div",{className:"fixed z-40 w-[320px] bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",style:{top:p.y,left:p.x},children:[y.jsxs("div",{className:"py-1",children:[y.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[y.jsx(nle,{size:16,className:"text-gray-500"}),"Rename"]}),y.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[y.jsx(ySe,{size:16,className:"text-gray-500"}),"Copy link to view"]}),y.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[y.jsx(Up,{size:16,className:"text-gray-500"}),"Add to favorites"]}),y.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[y.jsx(h3,{size:16,className:"text-gray-500"}),"Customize view"]})]}),y.jsx("div",{className:"border-t border-gray-200 my-1"}),y.jsx("div",{className:"py-1",children:[{icon:JSe,label:"Pin view"},{icon:ele,label:"Private view"},{icon:xTe,label:"Protect view"},{icon:fTe,label:"Autosave for me"},{icon:Goe,label:"Set as default view"}].map(N=>y.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[y.jsx(N.icon,{size:16,className:"text-gray-500"}),y.jsx("span",{className:"flex-1 text-left",children:N.label}),y.jsx("span",{className:"relative inline-flex h-5 w-9 items-center rounded-full bg-gray-200",children:y.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white shadow translate-x-[2px]"})})]},N.label))}),y.jsx("div",{className:"border-t border-gray-200 my-1"}),y.jsxs("div",{className:"py-1",children:[y.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[y.jsx(Ld,{size:16,className:"text-gray-500"}),"Templates"]}),y.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[y.jsx(Ewe,{size:16,className:"text-gray-500"}),"Duplicate view"]}),y.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>C(p.viewId),children:[y.jsx(Ih,{size:16,className:"text-red-500"}),"Delete view"]})]}),y.jsx("div",{className:"border-t border-gray-200 my-1"}),y.jsxs("button",{className:"w-full flex items-center justify-center gap-3 px-4 py-3 text-sm font-medium text-white bg-clickup-purple hover:bg-indigo-700",disabled:!0,children:[y.jsx(ile,{size:16}),"Sharing & Permissions"]})]})]}),y.jsx("header",{className:"h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4 flex-shrink-0",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[y.jsx("span",{children:"Cosmos"}),y.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),y.jsx("span",{className:"font-medium text-gray-800",children:d})]}),y.jsx("div",{className:"h-6 w-px bg-gray-300"}),y.jsxs("div",{className:"flex items-center space-x-2",children:[s.map(N=>y.jsxs("button",{className:`px-3 py-1.5 text-sm font-medium rounded transition-colors border-b-2 flex items-center gap-2 ${l===N.id?"text-gray-900 border-clickup-purple":"text-gray-500 border-transparent hover:text-gray-800"}`,onClick:()=>{c(N.id),v(null)},onContextMenu:L=>g(L,N.id),children:[N.icon&&y.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:yi.isValidElement(N.icon)?yi.cloneElement(N.icon,{size:16}):N.icon}),N.name]},N.id)),y.jsxs("div",{className:"relative",children:[y.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1.5 text-sm font-medium text-clickup-purple hover:bg-purple-50 rounded transition-colors",onClick:()=>f(!u),children:[y.jsx(ui,{size:14}),y.jsx("span",{children:"Add"})]}),u&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),y.jsxs("div",{className:"absolute top-full left-0 mt-2 w-[520px] bg-white rounded-lg shadow-2xl border border-gray-200 p-4 z-20 max-h-[600px] overflow-y-auto",children:[y.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Popular"}),y.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:n.filter(N=>N.category==="popular").map(N=>y.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>_(N),children:[y.jsx("span",{className:"mr-3",children:N.icon}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),y.jsx("div",{className:"text-xs text-gray-500",children:N.description})]})]},N.id))}),y.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3 pt-2 border-t",children:"More views"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.filter(N=>N.category==="more").map(N=>y.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>_(N),children:[y.jsx("span",{className:"mr-3",children:N.icon}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),y.jsx("div",{className:"text-xs text-gray-500",children:N.description})]})]},N.id))})]})]})]})]})]})}),y.jsxs("div",{className:"h-12 border-b border-gray-200 flex items-center px-4 gap-2 text-sm text-gray-600 bg-white",children:[y.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[y.jsx(vv,{size:14,className:"text-gray-500"})," Search"]}),y.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[y.jsx(xA,{size:14,className:"text-gray-500"})," Person"]}),y.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[y.jsx(kS,{size:14,className:"text-gray-500"})," Filter"]}),y.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[y.jsx(Voe,{size:14,className:"text-gray-500"})," Sort"]}),y.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[y.jsx(_U,{size:14,className:"text-gray-500"})," Hide"]}),y.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[y.jsx(Joe,{size:14,className:"text-gray-500"})," Group by"]}),y.jsx("div",{className:"h-4 w-px bg-gray-200 mx-2"}),y.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[y.jsx(C2,{size:14,className:"text-gray-500"})," Automation"]}),y.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[y.jsx(RE,{size:14,className:"text-gray-500"})," Dashboard"]}),y.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[y.jsx(Tk,{size:14,className:"text-gray-500"})," Export"]}),y.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[y.jsx("button",{className:"px-3 py-1 rounded-md border border-gray-200 text-gray-600 hover:border-gray-300 bg-white text-xs font-medium",children:"Save view"}),y.jsx("button",{className:"px-3 py-1 rounded-md border border-gray-200 text-gray-600 hover:border-gray-300 bg-white text-xs font-medium",children:"Share"})]})]}),y.jsx("div",{className:"flex-1 overflow-hidden",children:A?A.type==="overview"?y.jsx(uyt,{storageKey:`overview-${e}`}):A.type==="list"?y.jsx(lbe,{storageKey:`taskboard-${e}`}):A.type==="calendar"?y.jsx("div",{className:"p-4 h-full",children:y.jsx(lyt,{refreshTrigger:l||"",onShowList:w,storageKey:`taskboard-${e}`})}):A.type==="board"?y.jsx(ayt,{storageKey:`taskboard-${e}`}):A.type==="whiteboard"?y.jsx(gyt,{}):y.jsxs("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm",children:[A.name," view is coming soon."]}):y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 gap-3",children:[y.jsx("div",{className:"text-lg font-semibold",children:"No views yet"}),y.jsx("p",{className:"text-sm text-gray-400",children:"Use Add to create a List or Calendar view."}),y.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-md bg-clickup-purple text-white hover:bg-indigo-700",onClick:()=>f(!0),children:[y.jsx(ui,{size:14})," Add your first view"]})]})})]})},yyt=()=>{const e=me.useRef(null),t=me.useMemo(()=>new Qi,[]),n=me.useMemo(()=>{const i=[];for(let a=0;a<1e3;a++){const s=Math.random()*100,o=20+Math.random()*100,l=.01+Math.random()/200,c=-50+Math.random()*100,u=-50+Math.random()*100,f=-50+Math.random()*100;i.push({t:s,factor:o,speed:l,xFactor:c,yFactor:u,zFactor:f,mx:0,my:0})}return i},[1e3]);return c6(i=>{e.current&&(n.forEach((a,s)=>{let{t:o,factor:l,speed:c,xFactor:u,yFactor:f,zFactor:d}=a;o=a.t+=c/2;const h=Math.cos(o)+Math.sin(o*1)/10,p=Math.sin(o)+Math.cos(o*2)/10,v=Math.cos(o);a.mx+=(i.mouse.x*100-a.mx)*.01,a.my+=(i.mouse.y*100-a.my)*.01,t.position.set(a.mx/10*h+u+Math.cos(o/10*l)+Math.sin(o*1)*l/10,a.my/10*p+f+Math.sin(o/10*l)+Math.cos(o*2)*l/10,a.my/10*p+d+Math.cos(o/10*l)+Math.sin(o*3)*l/10),t.scale.set(v,v,v),t.rotation.set(v*5,v*5,v*5),t.updateMatrix(),e.current.setMatrixAt(s,t.matrix)}),e.current.instanceMatrix.needsUpdate=!0)}),y.jsxs("instancedMesh",{ref:e,args:[void 0,void 0,1e3],children:[y.jsx("sphereGeometry",{args:[.05,8,8]}),y.jsx("meshStandardMaterial",{color:"#88ccff",transparent:!0,opacity:.6,roughness:0,metalness:.1})]})},byt=()=>y.jsxs("div",{className:"w-full h-full bg-[#001e36] relative overflow-hidden",children:[y.jsxs(E1e,{camera:{position:[0,0,20],fov:50},children:[y.jsx("color",{attach:"background",args:["#001e36"]}),y.jsx("fog",{attach:"fog",args:["#001e36",5,40]}),y.jsx(M1e,{enableDamping:!0,dampingFactor:.05,minDistance:5,maxDistance:30,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/3}),y.jsx("ambientLight",{intensity:.4,color:"#004466"}),y.jsx("directionalLight",{position:[0,50,0],intensity:1.5,color:"#ccffff"}),y.jsx("pointLight",{position:[0,10,0],intensity:1,color:"#00ffff",distance:20}),y.jsx(yyt,{}),y.jsx(C1e,{radius:50,depth:50,count:2e3,factor:2,saturation:0,fade:!0,speed:.5})]}),y.jsx("div",{className:"absolute top-8 right-8 text-right pointer-events-none select-none",children:y.jsx("h1",{className:"text-6xl font-thin tracking-[0.2em] text-cyan-100/20 uppercase drop-shadow-lg",children:"Deep Ocean"})})]}),_yt=[{name:"White",bg:"bg-white",border:"border-gray-200"},{name:"Blue",bg:"bg-blue-50",border:"border-blue-200"},{name:"Green",bg:"bg-green-50",border:"border-green-200"},{name:"Yellow",bg:"bg-yellow-50",border:"border-yellow-200"},{name:"Purple",bg:"bg-purple-50",border:"border-purple-200"},{name:"Red",bg:"bg-red-50",border:"border-red-200"}],Poe=[{name:"Yellow",bg:"bg-yellow-100",border:"border-yellow-200"},{name:"Blue",bg:"bg-blue-100",border:"border-blue-200"},{name:"Green",bg:"bg-green-100",border:"border-green-200"},{name:"Pink",bg:"bg-pink-100",border:"border-pink-200"}],Foe=[{id:"1",x:0,y:0,text:"Central Idea",color:"bg-white border-gray-200",width:180,height:60,type:"default"}],wyt=()=>{const[r,e]=me.useState(Foe),[t,n]=me.useState([]),[i,a]=me.useState(1),[s,o]=me.useState({x:0,y:0}),[l,c]=me.useState([{nodes:Foe,edges:[]}]),[u,f]=me.useState(0),d=me.useRef(r),h=me.useRef(t);me.useEffect(()=>{d.current=r},[r]),me.useEffect(()=>{h.current=t},[t]);const p=me.useRef({isDraggingCanvas:!1,dragStart:{x:0,y:0},draggingNodeId:null,nodeDragOffset:{x:0,y:0},connectingNodeId:null}),[v,x]=me.useState(null),[g,_]=me.useState(null),[w,A]=me.useState({x:0,y:0}),M=me.useRef(null),C=me.useRef(null),N=me.useRef(!1);me.useEffect(()=>{if(!N.current&&M.current){const W=M.current.getBoundingClientRect();o({x:W.width/2-90,y:W.height/2-30}),N.current=!0}},[]);const L=me.useCallback(()=>{const W=d.current,Q=h.current,re={nodes:JSON.parse(JSON.stringify(W)),edges:JSON.parse(JSON.stringify(Q))};c(ae=>{const ce=ae.slice(0,u+1);return ce.push(re),ce}),f(ae=>ae+1)},[u]),D=me.useRef(L);me.useEffect(()=>{D.current=L},[L]);const k=()=>{if(u>0){const W=l[u-1];e(W.nodes),n(W.edges),f(u-1)}},O=()=>{if(u<l.length-1){const W=l[u+1];e(W.nodes),n(W.edges),f(u+1)}},I=me.useRef({offset:s,scale:i});me.useEffect(()=>{I.current={offset:s,scale:i}},[s,i]);const j=me.useCallback((W,Q)=>{var ye;const re=C.current||((ye=M.current)==null?void 0:ye.getBoundingClientRect());if(!re)return{x:0,y:0};const{offset:ae,scale:ce}=I.current;return{x:(W-re.left-ae.x)/ce,y:(Q-re.top-ae.y)/ce}},[]);me.useEffect(()=>{const W=re=>{const ae=p.current;if(!ae.isDraggingCanvas&&!ae.draggingNodeId&&!ae.connectingNodeId)return;re.preventDefault();const ce=j(re.clientX,re.clientY);ae.connectingNodeId&&A(ce),ae.isDraggingCanvas?o({x:re.clientX-ae.dragStart.x,y:re.clientY-ae.dragStart.y}):ae.draggingNodeId&&e(ye=>ye.map(fe=>fe.id===ae.draggingNodeId?{...fe,x:ce.x-ae.nodeDragOffset.x,y:ce.y-ae.nodeDragOffset.y}:fe))},Q=()=>{const re=p.current;re.draggingNodeId&&setTimeout(()=>{D.current()},0),re.isDraggingCanvas=!1,re.draggingNodeId=null,re.connectingNodeId=null,_(null),C.current=null};return window.addEventListener("mousemove",W),window.addEventListener("mouseup",Q),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",Q)}},[j]);const B=W=>{if(M.current&&(C.current=M.current.getBoundingClientRect()),W.button===1||W.button===0&&W.altKey||W.button===0&&W.shiftKey){p.current.isDraggingCanvas=!0,p.current.dragStart={x:W.clientX-s.x,y:W.clientY-s.y};return}x(null)},K=W=>{if(W.ctrlKey||W.metaKey){W.preventDefault();const Q=Math.exp(-W.deltaY*.001),re=Math.min(Math.max(.1,i*Q),5),ae=M.current.getBoundingClientRect(),ce=(W.clientX-ae.left-s.x)/i,ye=(W.clientY-ae.top-s.y)/i,fe=W.clientX-ae.left-ce*re,be=W.clientY-ae.top-ye*re;a(re),o({x:fe,y:be})}else o(Q=>({x:Q.x-W.deltaX,y:Q.y-W.deltaY}))},H=(W="default")=>{const Q=Date.now().toString();if(!M.current)return;const re=M.current.getBoundingClientRect(),ae={x:(re.left+re.width/2-re.left-s.x)/i,y:(re.top+re.height/2-re.top-s.y)/i};let ce=180,ye=60,fe="bg-white border-gray-200",be="New Node";if(W==="circle"&&(ce=120,ye=120),W==="diamond"&&(ce=140,ye=140),W==="sticky"){ce=200,ye=200;const xe=Poe[Math.floor(Math.random()*Poe.length)];fe=`${xe.bg} ${xe.border}`,be=""}W==="text"&&(ce=200,ye=40,fe="bg-transparent border-transparent",be="Type something...");const Oe={id:Q,x:ae.x-ce/2,y:ae.y-ye/2,text:be,color:fe,width:ce,height:ye,type:W};e(xe=>[...xe,Oe]),setTimeout(()=>D.current(),0)},Z=()=>{v&&(e(W=>W.filter(Q=>Q.id!==v)),n(W=>W.filter(Q=>Q.from!==v&&Q.to!==v)),x(null),setTimeout(()=>D.current(),0))},Y=W=>{v&&(e(Q=>Q.map(re=>re.id===v?{...re,color:W}:re)),setTimeout(()=>D.current(),0))},J=(W,Q)=>{W.stopPropagation(),W.preventDefault(),M.current&&(C.current=M.current.getBoundingClientRect()),x(Q.id),p.current.draggingNodeId=Q.id;const re=j(W.clientX,W.clientY);p.current.nodeDragOffset={x:re.x-Q.x,y:re.y-Q.y}},oe=(W,Q)=>{W.stopPropagation(),p.current.connectingNodeId=Q,_(Q)},X=(W,Q)=>{W.stopPropagation();const re=p.current.connectingNodeId;re&&re!==Q&&(t.some(ce=>ce.from===re&&ce.to===Q||ce.from===Q&&ce.to===re)||(n(ce=>[...ce,{id:`${re}-${Q}`,from:re,to:Q}]),setTimeout(()=>D.current(),0))),p.current.connectingNodeId=null,_(null)},F=W=>{const Q=`absolute flex items-center justify-center group cursor-grab active:cursor-grabbing ${W.color} `,re=v===W.id?"ring-2 ring-brand-primary ring-offset-2 shadow-xl z-30":"shadow-sm hover:shadow-md z-10",ae=W.type==="text"?"":"border";return W.type==="circle"?`${Q} ${ae} rounded-full aspect-square ${re}`:W.type==="diamond"?`${Q} ${ae} rotate-45 rounded-xl aspect-square ${re}`:W.type==="sticky"?`${Q} ${ae} shadow-md rounded-sm ${re} items-start p-4`:W.type==="text"?`${Q} ${re} justify-start px-2`:`${Q} ${ae} rounded-xl ${re}`};return y.jsxs("div",{className:"flex-1 h-full bg-[#f8fafc] relative overflow-hidden flex flex-col font-sans",children:[y.jsxs("div",{ref:M,className:"flex-1 relative overflow-hidden bg-[#f8fafc]",onMouseDown:B,onWheel:K,style:{cursor:p.current.isDraggingCanvas?"grabbing":"default"},children:[y.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-40",style:{backgroundImage:"radial-gradient(#cbd5e1 1.5px, transparent 1.5px)",backgroundSize:`${24*i}px ${24*i}px`,backgroundPosition:`${s.x}px ${s.y}px`}}),y.jsxs("div",{style:{transform:`translate(${s.x}px, ${s.y}px) scale(${i})`,transformOrigin:"0 0",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:[y.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full overflow-visible pointer-events-none z-0",children:[Array.isArray(t)&&t.map(W=>{const Q=r.find(ye=>ye.id===W.from),re=r.find(ye=>ye.id===W.to);if(!Q||!re)return null;const ae={x:Q.x+Q.width/2,y:Q.y+Q.height/2},ce={x:re.x+re.width/2,y:re.y+re.height/2};return y.jsx("path",{d:`M ${ae.x} ${ae.y} C ${ae.x} ${ae.y+50}, ${ce.x} ${ce.y-50}, ${ce.x} ${ce.y}`,stroke:"#94a3b8",strokeWidth:"2",fill:"none"},W.id)}),g&&(()=>{const W=r.find(Q=>Q.id===g);return W?y.jsx("path",{d:`M ${W.x+W.width/2} ${W.y+W.height/2} L ${w.x} ${w.y}`,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"5,5",fill:"none"}):null})()]}),Array.isArray(r)&&r.map(W=>y.jsxs("div",{className:F(W),style:{left:W.x,top:W.y,width:W.width,height:W.height},onMouseDown:Q=>J(Q,W),onMouseUp:Q=>X(Q,W.id),children:[y.jsx("div",{className:W.type==="diamond"?"-rotate-45 flex items-center justify-center w-full h-full":"w-full h-full",children:y.jsx("textarea",{value:W.text,onChange:Q=>e(re=>re.map(ae=>ae.id===W.id?{...ae,text:Q.target.value}:ae)),onBlur:()=>D.current(),className:`bg-transparent w-full h-full outline-none resize-none cursor-text text-gray-800 font-medium placeholder-gray-400 ${W.type==="sticky"?"text-left text-lg p-2 leading-relaxed":W.type==="text"?"text-left text-xl":"text-center flex items-center justify-center"}`,style:{border:"none",padding:W.type==="default"?"0 10px":void 0},onClick:Q=>Q.stopPropagation(),placeholder:W.type==="sticky"?"Type your note...":W.type==="text"?"Type text...":"Label"})}),W.type!=="text"&&y.jsx("div",{className:`absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white border border-gray-200 rounded-full shadow-md flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-crosshair hover:bg-brand-primary hover:text-white hover:border-brand-primary transition-all z-30 transform hover:scale-110 ${W.type==="diamond"?"translate-x-4":""}`,onMouseDown:Q=>oe(Q,W.id),children:y.jsx(ui,{size:12})})]},W.id))]})]}),y.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex items-center space-x-4 z-50 pointer-events-none",children:[y.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl shadow-sm border border-gray-200 p-1 flex items-center space-x-1 pointer-events-auto",children:[y.jsx("button",{onClick:k,disabled:u<=0,className:"p-2 hover:bg-gray-50 rounded-lg text-gray-600 disabled:opacity-30 transition-colors",children:y.jsx(ZTe,{size:18})}),y.jsx("button",{onClick:O,disabled:u>=l.length-1,className:"p-2 hover:bg-gray-50 rounded-lg text-gray-600 disabled:opacity-30 transition-colors",children:y.jsx(aTe,{size:18})})]}),v&&y.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl shadow-sm border border-gray-200 p-1 flex items-center space-x-1 pointer-events-auto animate-in fade-in zoom-in duration-200",children:_yt.map(W=>y.jsx("button",{onClick:()=>Y(`${W.bg} ${W.border}`),className:`w-6 h-6 rounded-full border border-gray-200 ${W.bg.replace("bg-","bg-")} hover:scale-110 transition-transform`,title:W.name},W.name))})]}),y.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 flex items-center space-x-2 z-50 animate-in slide-in-from-bottom-4 duration-300",children:[y.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[y.jsx("button",{onClick:()=>a(W=>Math.max(.1,W-.1)),className:"p-2 hover:bg-gray-50 rounded-lg text-gray-500 transition-colors",children:y.jsx(Gm,{size:18})}),y.jsxs("span",{className:"text-xs font-bold w-12 text-center text-gray-700",children:[Math.round(i*100),"%"]}),y.jsx("button",{onClick:()=>a(W=>W+.1),className:"p-2 hover:bg-gray-50 rounded-lg text-gray-500 transition-colors",children:y.jsx(ui,{size:18})})]}),y.jsx("div",{className:"w-[1px] h-8 bg-gray-100"}),y.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[y.jsx("button",{onClick:()=>H("default"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Rectangle",children:y.jsx(sle,{size:20})}),y.jsx("button",{onClick:()=>H("circle"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Circle",children:y.jsx(mwe,{size:20})}),y.jsx("button",{onClick:()=>H("diamond"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Diamond",children:y.jsx(kwe,{size:20})}),y.jsx("button",{onClick:()=>H("sticky"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Sticky Note",children:y.jsx(RTe,{size:20})}),y.jsx("button",{onClick:()=>H("text"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Text",children:y.jsx(NU,{size:20})})]}),y.jsx("div",{className:"w-[1px] h-8 bg-gray-100"}),y.jsx("div",{className:"flex items-center space-x-1 px-2",children:y.jsx("button",{onClick:Z,disabled:!v,className:`p-2.5 rounded-xl transition-all group relative ${v?"hover:bg-red-50 text-gray-600 hover:text-red-500":"text-gray-300 cursor-not-allowed"}`,children:y.jsx(Ih,{size:20})})})]}),y.jsx("div",{className:"absolute top-4 right-4 bg-white/80 backdrop-blur px-3 py-1.5 rounded-full text-[10px] font-medium text-gray-400 border border-gray-100 shadow-sm pointer-events-none select-none",children:"Hold Shift + Drag to pan"})]})},ube=({title:r,subtitle:e,children:t,headerActions:n})=>y.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50/50 overflow-hidden",children:[y.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-white flex items-center justify-between flex-shrink-0",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:r}),e&&y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e})]}),y.jsx("div",{className:"flex items-center space-x-3",children:n})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:y.jsx("div",{className:"w-full space-y-6",children:t})})]}),Syt=()=>{const[r,e]=me.useState([{id:"1",title:"Scale Revenue to $10M ARR",progress:65,status:"on-track",expanded:!0,keyResults:[{id:"kr1",title:"Close 5 Enterprise Deals",current:3,target:5,unit:"deals",confidence:"high",owner:"Sales"},{id:"kr2",title:"Reduce Churn to < 2%",current:2.4,target:2,unit:"%",confidence:"medium",owner:"Success"},{id:"kr3",title:"Launch Self-Serve Plan",current:80,target:100,unit:"%",confidence:"high",owner:"Product"}]},{id:"2",title:"Become the #1 Rated App in Category",progress:42,status:"at-risk",expanded:!0,keyResults:[{id:"kr4",title:"Achieve NPS of 70+",current:58,target:70,unit:"score",confidence:"low",owner:"Product"},{id:"kr5",title:"Reduce App Load Time to 500ms",current:800,target:500,unit:"ms",confidence:"medium",owner:"Eng"}]},{id:"3",title:"Build a World-Class Team",progress:88,status:"on-track",expanded:!1,keyResults:[{id:"kr6",title:"Hire 5 Senior Engineers",current:4,target:5,unit:"hires",confidence:"high",owner:"HR"},{id:"kr7",title:"Launch Internal Training Academy",current:100,target:100,unit:"%",confidence:"high",owner:"HR"}]}]),t=a=>{e(s=>s.map(o=>o.id===a?{...o,expanded:!o.expanded}:o))},n=a=>{switch(a){case"on-track":return"text-green-600 bg-green-50 border-green-100";case"at-risk":return"text-amber-600 bg-amber-50 border-amber-100";case"off-track":return"text-red-600 bg-red-50 border-red-100";default:return"text-gray-600 bg-gray-50 border-gray-100"}},i=a=>{switch(a){case"high":return"bg-green-500";case"medium":return"bg-amber-500";case"low":return"bg-red-500";default:return"bg-gray-300"}};return y.jsxs(ube,{title:"Goals & OKRs",subtitle:"Align your team, track progress, and achieve the impossible.",headerActions:y.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors shadow-sm",children:[y.jsx(ui,{size:16,className:"mr-2"})," New Objective"]}),children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 font-medium mb-1",children:"Overall Progress"}),y.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:"68%"})]}),y.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-blue-100 border-t-blue-600 flex items-center justify-center",children:y.jsx(Gf,{size:24,className:"text-blue-600"})})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 font-medium mb-1",children:"On Track"}),y.jsxs("h3",{className:"text-3xl font-bold text-gray-900",children:["12 ",y.jsx("span",{className:"text-sm text-gray-400 font-normal",children:"/ 18"})]})]}),y.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-50 flex items-center justify-center",children:y.jsx($u,{size:24,className:"text-green-600"})})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 font-medium mb-1",children:"At Risk"}),y.jsxs("h3",{className:"text-3xl font-bold text-gray-900",children:["3 ",y.jsx("span",{className:"text-sm text-gray-400 font-normal",children:"Objectives"})]})]}),y.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-50 flex items-center justify-center",children:y.jsx(cle,{size:24,className:"text-amber-600"})})]})]}),y.jsx("div",{className:"space-y-4",children:r.map(a=>y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[y.jsxs("div",{className:"p-6 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>t(a.id),children:[y.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[y.jsx("div",{className:`p-2 rounded-lg transition-transform duration-200 ${a.expanded?"rotate-90":""}`,children:y.jsx(zu,{size:20,className:"text-gray-400"})}),y.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-50 flex items-center justify-center flex-shrink-0",children:y.jsx(ole,{size:24,className:"text-indigo-600"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:a.title}),y.jsxs("div",{className:"flex items-center mt-1 space-x-3",children:[y.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full border ${n(a.status)} uppercase tracking-wide`,children:a.status.replace("-"," ")}),y.jsx("span",{className:"text-xs text-gray-400",children:"Due Dec 31, 2024"})]})]})]}),y.jsxs("div",{className:"flex items-center space-x-8 mr-4",children:[y.jsxs("div",{className:"flex flex-col items-end w-32",children:[y.jsx("div",{className:"flex justify-between w-full text-sm mb-1",children:y.jsxs("span",{className:"font-medium text-gray-700",children:[a.progress,"%"]})}),y.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full rounded-full ${a.status==="off-track"?"bg-red-500":a.status==="at-risk"?"bg-amber-500":"bg-blue-600"}`,style:{width:`${a.progress}%`}})})]}),y.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-2",children:y.jsx(gg,{size:20})})]})]}),a.expanded&&y.jsxs("div",{className:"bg-gray-50/50 border-t border-gray-100 p-6 pl-24 space-y-3",children:[y.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Key Results"}),a.keyResults.map(s=>y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 flex items-center justify-between group hover:shadow-sm transition-shadow",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:`w-2 h-2 rounded-full ${i(s.confidence)}`,title:`Confidence: ${s.confidence}`}),y.jsx("span",{className:"font-medium text-gray-800",children:s.title}),y.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:s.owner})]}),y.jsxs("div",{className:"flex items-center space-x-6",children:[y.jsxs("div",{className:"text-sm text-gray-600",children:[y.jsx("span",{className:"font-bold text-gray-900",children:s.current}),y.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),y.jsxs("span",{children:[s.target," ",s.unit]})]}),y.jsx("div",{className:"w-24 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${Math.min(100,s.current/s.target*100)}%`}})})]})]},s.id)),y.jsxs("button",{className:"mt-2 text-sm text-blue-600 font-medium hover:text-blue-700 flex items-center px-2 py-1 rounded hover:bg-blue-50 transition-colors",children:[y.jsx(ui,{size:14,className:"mr-1"})," Add Key Result"]})]})]},a.id))})]})},Tyt=()=>{const r=new Date().getHours();let e="Good morning";return r>=12&&r<17?e="Good afternoon":r>=17&&(e="Good evening"),y.jsxs(ube,{title:"Command Center",subtitle:`${e}. Here's what's happening across the organization today.`,headerActions:y.jsx("button",{className:"px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-black transition-colors shadow-sm",children:"Generate Report"}),children:[y.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[y.jsxs("div",{className:"xl:col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-gray-100 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:y.jsx(C2,{size:120})}),y.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[y.jsx(C2,{className:"text-yellow-500 mr-2",size:20}),"Daily Briefing"]}),y.jsxs("div",{className:"space-y-4 relative z-10",children:[y.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 rounded-xl border border-blue-100",children:[y.jsx("div",{className:"mt-1",children:y.jsx(sv,{size:16,className:"text-blue-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"System Performance"}),y.jsx("p",{className:"text-xs text-blue-700 mt-0.5",children:"Server load is normal (34%). Database latency improved by 12% since yesterday's update."})]})]}),y.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-xl border border-green-100",children:[y.jsx("div",{className:"mt-1",children:y.jsx(Gf,{size:16,className:"text-green-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-green-900 font-medium",children:"Sales Velocity"}),y.jsx("p",{className:"text-xs text-green-700 mt-0.5",children:'Q3 targets are 95% met. The "Enterprise" deal with Acme Corp is ready for signature.'})]})]}),y.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-amber-50 rounded-xl border border-amber-100",children:[y.jsx("div",{className:"mt-1",children:y.jsx(by,{size:16,className:"text-amber-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-amber-900 font-medium",children:"Attention Needed"}),y.jsx("p",{className:"text-xs text-amber-700 mt-0.5",children:"3 critical bugs reported in the Mobile App module. Engineering team is investigating."})]})]})]})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex flex-col",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Quick Actions"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[y.jsxs("button",{className:"flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 hover:bg-blue-50 hover:text-blue-600 transition-colors border border-gray-100 group",children:[y.jsx(Fh,{className:"mb-2 text-gray-400 group-hover:text-blue-500",size:24}),y.jsx("span",{className:"text-xs font-medium",children:"Schedule"})]}),y.jsxs("button",{className:"flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 hover:bg-purple-50 hover:text-purple-600 transition-colors border border-gray-100 group",children:[y.jsx($u,{className:"mb-2 text-gray-400 group-hover:text-purple-500",size:24}),y.jsx("span",{className:"text-xs font-medium",children:"New Task"})]}),y.jsxs("button",{className:"flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 hover:bg-green-50 hover:text-green-600 transition-colors border border-gray-100 group",children:[y.jsx(ru,{className:"mb-2 text-gray-400 group-hover:text-green-500",size:24}),y.jsx("span",{className:"text-xs font-medium",children:"Team Huddle"})]}),y.jsxs("button",{className:"flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 hover:bg-rose-50 hover:text-rose-600 transition-colors border border-gray-100 group",children:[y.jsx(gA,{className:"mb-2 text-gray-400 group-hover:text-rose-500",size:24}),y.jsx("span",{className:"text-xs font-medium",children:"Vault Access"})]})]})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex flex-col",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Team Availability"}),y.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 custom-scrollbar",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-xs",children:"SJ"}),y.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Sarah Jenkins"}),y.jsx("p",{className:"text-xs text-green-600",children:"Online  Product"})]})]}),y.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full text-gray-400",children:y.jsx(ru,{size:16})})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-100 flex items-center justify-center text-pink-700 font-bold text-xs",children:"MR"}),y.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-amber-500 border-2 border-white rounded-full"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Mike Ross"}),y.jsx("p",{className:"text-xs text-amber-600",children:"In Meeting  15m"})]})]}),y.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full text-gray-400",children:y.jsx(ru,{size:16})})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-bold text-xs",children:"AL"}),y.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-gray-400 border-2 border-white rounded-full"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Ada Lovelace"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Offline  Eng"})]})]}),y.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full text-gray-400",children:y.jsx(ru,{size:16})})]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsx(K4,{title:"Total Revenue",value:"$4.2M",trend:"+12.5%",trendUp:!0,icon:y.jsx(Gf,{size:20,className:"text-white"}),color:"bg-gradient-to-br from-blue-500 to-blue-600"}),y.jsx(K4,{title:"Active Users",value:"8,540",trend:"+5.2%",trendUp:!0,icon:y.jsx(ru,{size:20,className:"text-white"}),color:"bg-gradient-to-br from-purple-500 to-purple-600"}),y.jsx(K4,{title:"Pending Tasks",value:"142",trend:"-2.4%",trendUp:!0,icon:y.jsx($u,{size:20,className:"text-white"}),color:"bg-gradient-to-br from-emerald-500 to-emerald-600"}),y.jsx(K4,{title:"Avg. Response",value:"1.2h",trend:"+0.4%",trendUp:!1,icon:y.jsx(_y,{size:20,className:"text-white"}),color:"bg-gradient-to-br from-rose-500 to-rose-600"})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Organization Pulse"}),y.jsxs("select",{className:"text-sm border-gray-200 rounded-lg text-gray-500 bg-gray-50",children:[y.jsx("option",{children:"Last 7 Days"}),y.jsx("option",{children:"Last 30 Days"})]})]}),y.jsx("div",{className:"h-64 w-full bg-gray-50 rounded-xl flex items-end justify-between p-4 space-x-2",children:Array.from({length:24}).map((t,n)=>y.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-1 group relative",children:[y.jsx("div",{className:"w-full bg-blue-500 rounded-t-sm opacity-80 group-hover:opacity-100 transition-all duration-300",style:{height:`${Math.random()*80+20}%`}}),y.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[Math.floor(Math.random()*100)," events"]})]},n))}),y.jsxs("div",{className:"flex justify-between mt-4 text-xs text-gray-400 font-medium uppercase tracking-wider",children:[y.jsx("span",{children:"00:00"}),y.jsx("span",{children:"06:00"}),y.jsx("span",{children:"12:00"}),y.jsx("span",{children:"18:00"}),y.jsx("span",{children:"23:59"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-6",children:"Strategic Initiatives"}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between mb-2",children:[y.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Project Titan (AI Integration)"}),y.jsx("span",{className:"text-sm font-bold text-blue-600",children:"75%"})]}),y.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:y.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"75%"}})})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between mb-2",children:[y.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Global Expansion (EU)"}),y.jsx("span",{className:"text-sm font-bold text-purple-600",children:"40%"})]}),y.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:y.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"40%"}})})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between mb-2",children:[y.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sustainability Goals"}),y.jsx("span",{className:"text-sm font-bold text-green-600",children:"90%"})]}),y.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:y.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"90%"}})})]})]})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-6",children:"Department Velocity"}),y.jsx("div",{className:"space-y-4",children:[{name:"Engineering",val:92,color:"bg-indigo-500"},{name:"Marketing",val:78,color:"bg-pink-500"},{name:"Sales",val:85,color:"bg-emerald-500"},{name:"Support",val:64,color:"bg-amber-500"}].map(t=>y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"w-24 text-sm text-gray-500 font-medium",children:t.name}),y.jsxs("div",{className:"flex-1 h-8 bg-gray-50 rounded-lg overflow-hidden flex items-center px-2 relative group",children:[y.jsx("div",{className:`absolute left-0 top-0 bottom-0 opacity-20 ${t.color}`,style:{width:`${t.val}%`}}),y.jsx("div",{className:`h-2 rounded-full ${t.color}`,style:{width:`${t.val}%`}}),y.jsxs("span",{className:"ml-auto text-xs font-bold text-gray-700 relative z-10",children:[t.val,"/100"]})]})]},t.name))})]})]})]})},K4=({title:r,value:e,trend:t,trendUp:n,icon:i,color:a})=>y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 relative overflow-hidden",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-lg ${a}`,children:i}),y.jsxs("div",{className:`flex items-center text-xs font-bold px-2 py-1 rounded-full ${n?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:[n?y.jsx(BD,{size:12,className:"mr-1"}):y.jsx(BD,{size:12,className:"mr-1 transform rotate-90"}),t]})]}),y.jsx("h3",{className:"text-gray-500 text-sm font-medium mb-1",children:r}),y.jsx("p",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:e})]}),Ayt=()=>{var h;const[r,e]=me.useState("inbox"),[t,n]=me.useState(null),[i,a]=me.useState(""),[s]=me.useState([{id:"inbox",name:"Inbox",icon:y.jsx(Ek,{size:18}),type:"smart",count:4,color:"text-blue-500"},{id:"today",name:"Today",icon:y.jsx(Up,{size:18}),type:"smart",count:2,color:"text-yellow-500"},{id:"upcoming",name:"Upcoming",icon:y.jsx(H_e,{size:18}),type:"smart",count:8,color:"text-red-500"},{id:"anytime",name:"Anytime",icon:y.jsx(d2,{size:18}),type:"smart",count:12,color:"text-gray-500"},{id:"work",name:"Work Projects",icon:y.jsx(Q4,{size:18}),type:"project",count:5,color:"text-indigo-500"},{id:"personal",name:"Personal",icon:y.jsx(Q4,{size:18}),type:"project",count:3,color:"text-pink-500"}]),[o,l]=me.useState([{id:"1",title:"Review Q3 Financials",notes:"Check the EBITDA margins specifically.",dueDate:"Today",priority:"high",listId:"inbox",tags:["finance","urgent"],completed:!1,subtasks:[{id:"s1",title:"Download report from Netsuite",completed:!0},{id:"s2",title:"Email summary to Board",completed:!1}]},{id:"2",title:"Call with potential investor",notes:"Prepare pitch deck v3.",dueDate:"Today",priority:"medium",listId:"work",tags:["fundraising"],completed:!1,subtasks:[]},{id:"3",title:"Buy anniversary gift",notes:"",dueDate:"Tomorrow",priority:"high",listId:"personal",tags:[],completed:!1,subtasks:[]},{id:"4",title:"Update team on roadmap",notes:"Focus on Q4 deliverables.",dueDate:"Next Week",priority:"medium",listId:"work",tags:["strategy"],completed:!1,subtasks:[]},{id:"5",title:"Schedule dentist appointment",notes:"",dueDate:void 0,priority:"low",listId:"inbox",tags:["health"],completed:!1,subtasks:[]}]),c=s.find(p=>p.id===r)||s[0],u=o.filter(p=>i?p.title.toLowerCase().includes(i.toLowerCase()):r==="inbox"?p.listId==="inbox"&&!p.completed:r==="today"?p.dueDate==="Today"&&!p.completed:r==="upcoming"?(p.dueDate==="Tomorrow"||p.dueDate==="Next Week")&&!p.completed:r==="anytime"?!p.dueDate&&!p.completed:p.listId===r&&!p.completed),f=o.find(p=>p.id===t),d=p=>{l(v=>v.map(x=>x.id===p?{...x,completed:!x.completed}:x)),t===p&&n(null)};return y.jsxs("div",{className:"flex flex-col h-full w-full bg-white overflow-hidden",children:[y.jsxs("div",{className:"flex-1 flex min-h-0",children:[y.jsxs("div",{className:"w-[260px] bg-gray-50 border-r border-gray-200 flex flex-col flex-shrink-0",children:[y.jsx("div",{className:"p-4",children:y.jsxs("div",{className:"relative",children:[y.jsx(vv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),y.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:p=>a(p.target.value),className:"w-full pl-9 pr-4 py-2 bg-gray-200/50 border-transparent focus:bg-white focus:border-blue-500 rounded-lg text-sm transition-all"})]})}),y.jsxs("div",{className:"flex-1 overflow-y-auto px-2 space-y-6",children:[y.jsx("div",{className:"space-y-0.5",children:s.filter(p=>p.type==="smart").map(p=>y.jsxs("button",{onClick:()=>e(p.id),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r===p.id?"bg-gray-200/80 text-gray-900":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:`mr-3 ${p.color}`,children:p.icon}),p.name]}),y.jsx("span",{className:"text-gray-400 text-xs",children:p.count})]},p.id))}),y.jsxs("div",{children:[y.jsx("h3",{className:"px-3 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"My Lists"}),y.jsx("div",{className:"space-y-0.5",children:s.filter(p=>p.type==="project").map(p=>y.jsxs("button",{onClick:()=>e(p.id),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r===p.id?"bg-gray-200/80 text-gray-900":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:`mr-3 ${p.color}`,children:p.icon}),p.name]}),y.jsx("span",{className:"text-gray-400 text-xs",children:p.count})]},p.id))})]})]}),y.jsx("div",{className:"p-4 border-t border-gray-200",children:y.jsxs("button",{className:"flex items-center text-gray-500 hover:text-gray-900 text-sm font-medium transition-colors",children:[y.jsx(ui,{size:18,className:"mr-2"})," New List"]})})]}),y.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-white",children:[y.jsxs("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-8 flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("h1",{className:`text-2xl font-bold ${((h=c.color)==null?void 0:h.replace("text-","text-"))||"text-gray-900"}`,children:c.name}),y.jsx("span",{className:"ml-4 text-2xl font-bold text-gray-200",children:u.length})]}),y.jsx("div",{className:"flex items-center space-x-2",children:y.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:y.jsx(gg,{size:20})})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:y.jsxs("div",{className:"max-w-3xl mx-auto space-y-2",children:[y.jsxs("div",{className:"flex items-center p-3 mb-6 bg-gray-50 rounded-xl border border-gray-200 focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all",children:[y.jsx(ui,{size:20,className:"text-gray-400 mr-3"}),y.jsx("input",{type:"text",placeholder:"Add a task...",className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 placeholder-gray-400",onKeyDown:p=>{if(p.key==="Enter"){const v=p.currentTarget.value.trim();v&&(l(x=>[{id:Date.now().toString(),title:v,listId:r==="upcoming"||r==="today"?"inbox":r,dueDate:r==="today"?"Today":void 0,priority:"none",tags:[],completed:!1,subtasks:[]},...x]),p.currentTarget.value="")}}})]}),u.map(p=>y.jsxs("div",{onClick:()=>n(p.id),className:`group flex items-start p-3 rounded-xl border transition-all cursor-pointer ${t===p.id?"bg-blue-50 border-blue-200 shadow-sm":"bg-white border-transparent hover:bg-gray-50 hover:border-gray-200"}`,children:[y.jsx("button",{onClick:v=>{v.stopPropagation(),d(p.id)},className:`mt-0.5 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${p.priority==="high"?"border-red-400 hover:bg-red-50":"border-gray-300 hover:border-blue-500 hover:bg-blue-50"}`}),y.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:`text-sm font-medium truncate ${p.completed?"text-gray-400 line-through":"text-gray-900"}`,children:p.title}),p.dueDate&&y.jsx("span",{className:`text-xs ${p.dueDate==="Today"?"text-blue-600 font-medium":p.dueDate==="Tomorrow"?"text-orange-500":"text-gray-400"}`,children:p.dueDate})]}),(p.notes||p.tags.length>0)&&y.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[p.notes&&y.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:p.notes}),p.tags.map(v=>y.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-gray-100 text-gray-500 rounded-md font-medium",children:["#",v]},v))]})]})]},p.id))]})})]}),f?y.jsxs("div",{className:"w-[350px] bg-white border-l border-gray-200 flex flex-col animate-in slide-in-from-right-10 duration-300 shadow-xl z-10",children:[y.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[y.jsxs("div",{className:"flex items-start space-x-3 mb-6",children:[y.jsx("button",{onClick:()=>d(f.id),className:`mt-1 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${f.priority==="high"?"border-red-400":"border-gray-300"}`}),y.jsx("div",{className:"flex-1",children:y.jsx("input",{type:"text",value:f.title,onChange:p=>l(v=>v.map(x=>x.id===f.id?{...x,title:p.target.value}:x)),className:"w-full text-xl font-bold text-gray-900 border-none focus:ring-0 p-0 bg-transparent placeholder-gray-300"})})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"group",children:[y.jsxs("div",{className:"flex items-center text-gray-500 mb-2",children:[y.jsx(zTe,{size:16,className:"mr-2"}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Notes"})]}),y.jsx("textarea",{value:f.notes||"",onChange:p=>l(v=>v.map(x=>x.id===f.id?{...x,notes:p.target.value}:x)),placeholder:"Add notes...",className:"w-full text-sm text-gray-600 bg-gray-50 border-transparent focus:bg-white focus:border-blue-500 rounded-lg resize-none min-h-[100px]"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center text-gray-500 mb-2",children:[y.jsx(Q4,{size:16,className:"mr-2"}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Subtasks"})]}),y.jsxs("div",{className:"space-y-2",children:[f.subtasks.map(p=>y.jsxs("div",{className:"flex items-center group",children:[y.jsx("div",{className:`w-4 h-4 border rounded mr-2 ${p.completed?"bg-blue-500 border-blue-500":"border-gray-300"}`}),y.jsx("span",{className:`text-sm ${p.completed?"text-gray-400 line-through":"text-gray-700"}`,children:p.title})]},p.id)),y.jsxs("button",{className:"flex items-center text-sm text-gray-400 hover:text-blue-600 transition-colors mt-2",children:[y.jsx(ui,{size:14,className:"mr-1"})," Add subtask"]})]})]}),y.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-100",children:[y.jsxs("div",{className:"flex items-center justify-between group cursor-pointer hover:bg-gray-50 p-2 -mx-2 rounded-lg transition-colors",children:[y.jsxs("div",{className:"flex items-center text-gray-500",children:[y.jsx(Fh,{size:16,className:"mr-3"}),y.jsx("span",{className:"text-sm",children:"Due Date"})]}),y.jsx("span",{className:`text-sm font-medium ${f.dueDate?"text-blue-600":"text-gray-400"}`,children:f.dueDate||"Set date"})]}),y.jsxs("div",{className:"flex items-center justify-between group cursor-pointer hover:bg-gray-50 p-2 -mx-2 rounded-lg transition-colors",children:[y.jsxs("div",{className:"flex items-center text-gray-500",children:[y.jsx(Ak,{size:16,className:"mr-3"}),y.jsx("span",{className:"text-sm",children:"Priority"})]}),y.jsx("span",{className:`text-sm font-medium ${f.priority==="high"?"text-red-600":f.priority==="medium"?"text-orange-500":"text-gray-400"}`,children:f.priority.charAt(0).toUpperCase()+f.priority.slice(1)})]}),y.jsxs("div",{className:"flex items-center justify-between group cursor-pointer hover:bg-gray-50 p-2 -mx-2 rounded-lg transition-colors",children:[y.jsxs("div",{className:"flex items-center text-gray-500",children:[y.jsx(PTe,{size:16,className:"mr-3"}),y.jsx("span",{className:"text-sm",children:"Tags"})]}),y.jsx("div",{className:"flex space-x-1",children:f.tags.length>0?f.tags.map(p=>y.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded",children:p},p)):y.jsx("span",{className:"text-sm text-gray-400",children:"Add tags"})})]})]})]})]}),y.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-between items-center bg-gray-50",children:[y.jsx("span",{className:"text-xs text-gray-400",children:"Created today"}),y.jsx("button",{onClick:()=>{l(p=>p.filter(v=>v.id!==f.id)),n(null)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:y.jsx(Ih,{size:18})})]})]}):y.jsxs("div",{className:"w-[350px] bg-gray-50 border-l border-gray-200 flex flex-col items-center justify-center text-gray-400",children:[y.jsx($u,{size:48,className:"mb-4 opacity-20"}),y.jsx("p",{className:"text-sm",children:"Select a task to view details"})]})]}),y.jsxs("div",{className:"h-10 bg-gray-50 border-t border-gray-200 flex items-center justify-between px-4 text-xs text-gray-500 flex-shrink-0 z-20",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx($u,{size:14,className:"mr-1.5 text-green-600"}),y.jsx("span",{className:"font-medium text-gray-700",children:"12 tasks completed today"})]}),y.jsx("div",{className:"h-3 w-px bg-gray-300"}),y.jsxs("div",{className:"flex items-center",children:[y.jsx(_y,{size:14,className:"mr-1.5 text-blue-600"}),y.jsx("span",{className:"font-medium text-gray-700",children:"Focus Time: 2h 15m"})]})]}),y.jsx("div",{className:"flex items-center text-gray-400",children:y.jsx("span",{className:"italic mr-2",children:`"The key is not to prioritize what's on your schedule, but to schedule your priorities."`})}),y.jsx("div",{className:"flex items-center space-x-4",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),y.jsx("span",{children:"All systems operational"})]})})]})]})},Eyt=()=>{const[r,e]=me.useState("board"),[t,n]=me.useState("");return y.jsxs("div",{className:"flex flex-col h-full w-full bg-white overflow-hidden",children:[y.jsxs("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6 flex-shrink-0 bg-white z-10",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Tasks"}),y.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),y.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[y.jsx("button",{onClick:()=>e("board"),className:`p-1.5 rounded-md transition-all ${r==="board"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,title:"Board View",children:y.jsx(ale,{size:18})}),y.jsx("button",{onClick:()=>e("list"),className:`p-1.5 rounded-md transition-all ${r==="list"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,title:"List View",children:y.jsx(UD,{size:18})})]})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx(vv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),y.jsx("input",{type:"text",placeholder:"Search tasks...",value:t,onChange:i=>n(i.target.value),className:"pl-9 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 w-64 transition-all"})]}),y.jsxs("button",{className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[y.jsx(kS,{size:16,className:"mr-2"}),"Filter"]}),y.jsxs("button",{className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[y.jsx(Voe,{size:16,className:"mr-2"}),"Sort"]}),y.jsx("div",{className:"h-6 w-px bg-gray-200 mx-1"}),y.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:y.jsx(CU,{size:20})})]})]}),y.jsx("div",{className:"flex-1 overflow-hidden relative",children:r==="board"?y.jsx(lbe,{}):y.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:y.jsxs("div",{className:"text-center",children:[y.jsx(UD,{size:48,className:"mx-auto mb-4 opacity-20"}),y.jsx("p",{children:"List view coming soon"})]})})})]})},Myt=()=>{const[r,e]=me.useState(!0),[t,n]=me.useState(""),[i,a]=me.useState("all"),[s,o]=me.useState(null),[l,c]=me.useState(!1),[u,f]=me.useState(""),[d,h]=me.useState(null),[p]=me.useState([{id:"1",title:"Google Workspace Admin",username:"admin@company.com",password:"super-secret-password-123",url:"admin.google.com",type:"login",category:"Work",favorite:!0,lastModified:"2 days ago",strength:"strong"},{id:"2",title:"AWS Root Account",username:"root-user",password:"complex-aws-password-!@#",url:"aws.amazon.com",type:"login",category:"DevOps",favorite:!0,lastModified:"1 week ago",strength:"strong"},{id:"3",title:"Corporate Amex",type:"card",category:"Finance",favorite:!1,lastModified:"1 month ago"},{id:"4",title:"Q4 Strategy Notes",type:"note",category:"Executive",favorite:!1,lastModified:"3 days ago"},{id:"5",title:"Slack Admin",username:"admin@company.com",password:"slack-password-456",url:"company.slack.com",type:"login",category:"Work",favorite:!1,lastModified:"2 weeks ago",strength:"medium"},{id:"f1",title:"Legal Documents",type:"folder",category:"files",favorite:!1,lastModified:"1 day ago",parentId:null},{id:"f2",title:"Financial Reports",type:"folder",category:"files",favorite:!1,lastModified:"3 days ago",parentId:null},{id:"f3",title:"Product Blueprints",type:"folder",category:"files",favorite:!0,lastModified:"1 week ago",parentId:null},{id:"doc1",title:"Incorporation.pdf",type:"file",category:"files",favorite:!1,lastModified:"1 year ago",parentId:"f1",size:"2.4 MB",fileType:"pdf"},{id:"doc2",title:"NDA_Template.docx",type:"file",category:"files",favorite:!1,lastModified:"2 months ago",parentId:"f1",size:"145 KB",fileType:"doc"},{id:"img1",title:"Q3_P&L.png",type:"file",category:"files",favorite:!1,lastModified:"1 month ago",parentId:"f2",size:"1.2 MB",fileType:"image"}]);me.useEffect(()=>{const A=setTimeout(()=>{},3e5);return()=>clearTimeout(A)},[]);const v=A=>{A.preventDefault(),t==="1234"?e(!1):alert("Incorrect PIN (Try 1234)")},x=p.filter(A=>u&&!A.title.toLowerCase().includes(u.toLowerCase())?!1:i==="files"?(A.type==="folder"||A.type==="file")&&A.parentId===d:i==="all"?A.type!=="folder"&&A.type!=="file":i==="favorites"?A.favorite:A.type===i||A.category===i),g=p.find(A=>A.id===s),_=p.find(A=>A.id===d),w=()=>{const A=[{id:null,title:"Secure Files"}];return d&&_&&A.push({id:_.id,title:_.title}),A};return r?y.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-50 text-gray-900",children:y.jsxs("div",{className:"w-full max-w-md p-8 text-center",children:[y.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-8 shadow-xl shadow-blue-200",children:y.jsx(gA,{size:40,className:"text-white"})}),y.jsx("h1",{className:"text-3xl font-bold mb-2 text-gray-900",children:"Fort Knox Vault"}),y.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your Master PIN to access secure storage."}),y.jsxs("form",{onSubmit:v,className:"space-y-6",children:[y.jsx("div",{className:"relative",children:y.jsx("input",{type:"password",value:t,onChange:A=>n(A.target.value),maxLength:4,className:"w-full bg-white border border-gray-200 rounded-xl py-4 px-6 text-center text-2xl tracking-[1em] focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all shadow-sm text-gray-900 placeholder-gray-300",placeholder:"",autoFocus:!0})}),y.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl transition-colors flex items-center justify-center shadow-lg shadow-blue-600/20",children:[y.jsx(ASe,{size:20,className:"mr-2"})," Unlock Vault"]})]}),y.jsx("div",{className:"mt-8 flex justify-center",children:y.jsxs("button",{className:"text-gray-400 hover:text-gray-600 flex items-center text-sm transition-colors font-medium",children:[y.jsx(qwe,{size:16,className:"mr-2"})," Use Biometrics"]})})]})}):y.jsxs("div",{className:"flex h-full w-full bg-white overflow-hidden",children:[y.jsxs("div",{className:"w-[260px] bg-gray-50 border-r border-gray-200 flex flex-col flex-shrink-0",children:[y.jsx("div",{className:"p-4",children:y.jsxs("div",{className:"relative",children:[y.jsx(vv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),y.jsx("input",{type:"text",placeholder:"Search Vault",value:u,onChange:A=>f(A.target.value),className:"w-full pl-9 pr-4 py-2 bg-gray-200/50 border-transparent focus:bg-white focus:border-blue-500 rounded-lg text-sm transition-all"})]})}),y.jsxs("div",{className:"flex-1 overflow-y-auto px-2 space-y-6",children:[y.jsxs("div",{className:"space-y-0.5",children:[y.jsxs("button",{onClick:()=>a("all"),className:`w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="all"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx(gA,{size:18,className:"mr-3"})," All Items"]}),y.jsxs("button",{onClick:()=>a("favorites"),className:`w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="favorites"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx(Up,{size:18,className:"mr-3"})," Favorites"]}),y.jsxs("button",{onClick:()=>a("files"),className:`w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="files"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx(J4,{size:18,className:"mr-3"})," Secure Files"]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"px-3 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Categories"}),y.jsxs("div",{className:"space-y-0.5",children:[y.jsxs("button",{onClick:()=>a("login"),className:`w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="login"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx(J6,{size:18,className:"mr-3"})," Logins"]}),y.jsxs("button",{onClick:()=>a("note"),className:`w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="note"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx(Hm,{size:18,className:"mr-3"})," Secure Notes"]}),y.jsxs("button",{onClick:()=>a("card"),className:`w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="card"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx(M2,{size:18,className:"mr-3"})," Credit Cards"]}),y.jsxs("button",{onClick:()=>a("identity"),className:`w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="identity"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx(xA,{size:18,className:"mr-3"})," Identities"]})]})]}),y.jsx("div",{className:"px-3 pt-4 border-t border-gray-200",children:y.jsxs("div",{className:"bg-amber-50 rounded-xl p-3 border border-amber-100",children:[y.jsxs("div",{className:"flex items-center text-amber-800 font-medium text-xs mb-1",children:[y.jsx(cle,{size:12,className:"mr-1"})," Security Alert"]}),y.jsx("p",{className:"text-[10px] text-amber-700 leading-relaxed",children:"2 passwords appeared in a recent data breach. Rotate them immediately."})]})})]}),y.jsx("div",{className:"p-4 border-t border-gray-200",children:y.jsxs("button",{onClick:()=>e(!0),className:"flex items-center text-gray-500 hover:text-gray-900 text-sm font-medium transition-colors",children:[y.jsx(ele,{size:18,className:"mr-2"})," Lock Vault"]})})]}),y.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-white border-r border-gray-200",children:[y.jsxs("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6 flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center",children:[i==="files"&&d&&y.jsx("button",{onClick:()=>h(null),className:"mr-4 p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Uoe,{size:20,className:"text-gray-500"})}),y.jsx("h1",{className:"text-xl font-bold text-gray-900 capitalize flex items-center",children:i==="all"?"All Items":i==="files"?"Secure Files":i})]}),y.jsx("button",{className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:y.jsx(ui,{size:20})})]}),i==="files"?y.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[y.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-6",children:w().map((A,M)=>y.jsxs(yi.Fragment,{children:[M>0&&y.jsx(zu,{size:14}),y.jsx("span",{className:`cursor-pointer hover:text-blue-600 ${M===w().length-1?"font-bold text-gray-900":""}`,onClick:()=>h(A.id),children:A.title})]},M))}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:x.map(A=>y.jsxs("div",{onClick:()=>{A.type==="folder"?h(A.id):o(A.id)},className:`group flex flex-col items-center p-4 rounded-xl border transition-all cursor-pointer hover:bg-blue-50 hover:border-blue-200 ${s===A.id?"bg-blue-50 border-blue-200 ring-2 ring-blue-200":"bg-white border-transparent"}`,children:[y.jsx("div",{className:"w-16 h-16 mb-3 flex items-center justify-center transition-transform group-hover:scale-105",children:A.type==="folder"?y.jsx(J4,{size:64,className:"text-blue-400 fill-current"}):y.jsxs("div",{className:"relative",children:[y.jsx(Wwe,{size:56,className:"text-gray-300 fill-white"}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center pt-2",children:y.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:A.fileType})})]})}),y.jsx("span",{className:"text-sm font-medium text-gray-700 text-center truncate w-full px-2 group-hover:text-blue-700",children:A.title}),y.jsx("span",{className:"text-xs text-gray-400 mt-1",children:A.type==="folder"?"Folder":A.size})]},A.id))})]}):y.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:x.map(A=>y.jsxs("div",{onClick:()=>o(A.id),className:`flex items-center p-3 rounded-xl border transition-all cursor-pointer ${s===A.id?"bg-blue-50 border-blue-200 shadow-sm":"bg-white border-gray-100 hover:bg-gray-50 hover:border-gray-200"}`,children:[y.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center mr-4 ${A.type==="login"?"bg-indigo-100 text-indigo-600":A.type==="card"?"bg-emerald-100 text-emerald-600":A.type==="note"?"bg-amber-100 text-amber-600":"bg-gray-100 text-gray-600"}`,children:[A.type==="login"&&y.jsx(J6,{size:20}),A.type==="card"&&y.jsx(M2,{size:20}),A.type==="note"&&y.jsx(Hm,{size:20}),A.type==="identity"&&y.jsx(xA,{size:20})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"text-sm font-bold text-gray-900 truncate",children:A.title}),y.jsx("p",{className:"text-xs text-gray-500 truncate",children:A.username||A.category})]}),A.favorite&&y.jsx(Up,{size:14,className:"text-yellow-400 fill-current ml-2"})]},A.id))})]}),i!=="files"&&y.jsx("div",{className:"w-[400px] bg-gray-50 flex flex-col border-l border-gray-200",children:g?y.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-8",children:[y.jsxs("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center ${g.type==="login"?"bg-indigo-100 text-indigo-600":g.type==="card"?"bg-emerald-100 text-emerald-600":g.type==="note"?"bg-amber-100 text-amber-600":"bg-gray-100 text-gray-600"}`,children:[g.type==="login"&&y.jsx(J6,{size:32}),g.type==="card"&&y.jsx(M2,{size:32}),g.type==="note"&&y.jsx(Hm,{size:32}),g.type==="identity"&&y.jsx(xA,{size:32})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:y.jsx(Up,{size:20,className:g.favorite?"text-yellow-400 fill-current":""})}),y.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:y.jsx(gg,{size:20})})]})]}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:g.title}),y.jsxs("p",{className:"text-sm text-gray-500 mb-8 flex items-center",children:[y.jsx(J4,{size:14,className:"mr-1"})," ",g.category]}),y.jsxs("div",{className:"space-y-6",children:[g.username&&y.jsxs("div",{className:"group",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1.5",children:"Username"}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-xl group-hover:border-blue-300 transition-colors",children:[y.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.username}),y.jsx("button",{className:"text-gray-400 hover:text-blue-600 transition-colors",children:y.jsx($4,{size:16})})]})]}),g.password&&y.jsxs("div",{className:"group",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1.5",children:"Password"}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-xl group-hover:border-blue-300 transition-colors",children:[y.jsx("span",{className:"text-sm font-medium text-gray-900 font-mono",children:l?g.password:""}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{onClick:()=>c(!l),className:"text-gray-400 hover:text-gray-600 transition-colors",children:l?y.jsx(_U,{size:16}):y.jsx(qoe,{size:16})}),y.jsx("button",{className:"text-gray-400 hover:text-blue-600 transition-colors",children:y.jsx($4,{size:16})})]})]}),g.strength&&y.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[y.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full rounded-full ${g.strength==="strong"?"w-full bg-green-500":g.strength==="medium"?"w-2/3 bg-yellow-500":"w-1/3 bg-red-500"}`})}),y.jsx("span",{className:`text-xs font-medium ${g.strength==="strong"?"text-green-600":g.strength==="medium"?"text-yellow-600":"text-red-600"}`,children:g.strength.charAt(0).toUpperCase()+g.strength.slice(1)})]})]}),g.url&&y.jsxs("div",{className:"group",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1.5",children:"Website"}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-xl group-hover:border-blue-300 transition-colors",children:[y.jsx("a",{href:`https://${g.url}`,target:"_blank",rel:"noreferrer",className:"text-sm font-medium text-blue-600 hover:underline truncate",children:g.url}),y.jsx("button",{className:"text-gray-400 hover:text-blue-600 transition-colors",children:y.jsx($4,{size:16})})]})]})]}),y.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[y.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 flex items-center",children:[y.jsx(SU,{size:14,className:"mr-2"})," Audit Log"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-start space-x-3 text-xs",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 mt-1.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 font-medium",children:"Password copied"}),y.jsx("p",{className:"text-gray-500",children:"Just now  via Web"})]})]}),y.jsxs("div",{className:"flex items-start space-x-3 text-xs",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 mt-1.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 font-medium",children:"Modified by Admin"}),y.jsxs("p",{className:"text-gray-500",children:[g.lastModified,"  via Web"]})]})]})]})]})]}):y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[y.jsx(gA,{size:64,className:"mb-6 opacity-10"}),y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Item Selected"}),y.jsx("p",{className:"text-sm",children:"Select an item from the list to view its secure details and audit logs."})]})})]})},Cyt=[{id:"1",name:"TechSolutions Inc.",category:"Electronics",rating:4.8,reviews:1240,description:"Premium supplier of office electronics, monitors, and peripherals.",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$500"},{id:"2",name:"GreenLeaf Office Supplies",category:"Office Supplies",rating:4.5,reviews:856,description:"Eco-friendly paper, pens, and general office consumables.",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$100"},{id:"3",name:"BuildRight Construction",category:"Construction",rating:4.9,reviews:2100,description:"Heavy machinery rentals and construction material supply.",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"3-5 days",minOrder:"$5000"},{id:"4",name:"CleanMaster Services",category:"Services",rating:4.2,reviews:430,description:"Professional cleaning services for corporate offices.",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Scheduled",minOrder:"Contract"},{id:"5",name:"Global Logistics Co.",category:"Logistics",rating:4.6,reviews:920,description:"International shipping and freight forwarding solutions.",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Varies",minOrder:"$1000"},{id:"6",name:"SecureGuard Systems",category:"Security",rating:4.7,reviews:650,description:"Security cameras, access control systems, and monitoring.",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$2000"},{id:"7",name:"FreshFoods Catering",category:"Food & Beverage",rating:4.4,reviews:320,description:"Corporate catering and pantry stocking services.",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Daily",minOrder:"$200"},{id:"8",name:"PrintPro Solutions",category:"Printing",rating:4.3,reviews:510,description:"High-volume printing, marketing materials, and signage.",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$50"},{id:"9",name:"RapidCourier",category:"Logistics",rating:4.1,reviews:215,description:"Local courier services for documents and small packages.",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-4 hours",minOrder:"$20"},{id:"10",name:"OfficeComfort Furniture",category:"Office Supplies",rating:4.7,reviews:1100,description:"Ergonomic chairs, desks, and office furniture solutions.",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$500"},{id:"11",name:"SparkleClean Janitorial",category:"Services",rating:4,reviews:150,description:"Daily janitorial services for small to medium businesses.",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Daily",minOrder:"$100"},{id:"12",name:"EventMasters",category:"Services",rating:4.9,reviews:890,description:"Full-service corporate event planning and management.",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Scheduled",minOrder:"$5000"},{id:"13",name:"SafeHands Security",category:"Security",rating:4.5,reviews:420,description:"Manned guarding and security patrol services.",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"Contract"},{id:"14",name:"GourmetDelights",category:"Food & Beverage",rating:4.8,reviews:560,description:"Premium snacks, coffee, and beverages for office pantries.",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Weekly",minOrder:"$150"},{id:"15",name:"ConstructCo Materials",category:"Construction",rating:4.3,reviews:780,description:"Bulk supply of cement, steel, and other raw materials.",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"2-3 days",minOrder:"$2000"}],X5=[{id:1,title:"Summer Construction Sale",subtitle:"Up to 30% off on raw materials",image:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&w=1200&q=80",color:"from-orange-500 to-red-500"},{id:2,title:"Premium Office Furniture",subtitle:"Transform your workspace today",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=1200&q=80",color:"from-blue-500 to-indigo-500"},{id:3,title:"Eco-Friendly Supplies",subtitle:"Sustainable solutions for your business",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?auto=format&fit=crop&w=1200&q=80",color:"from-green-500 to-emerald-500"}],Nyt=[{id:1,name:"Portland Cement",price:"$12/bag",supplier:"ConstructCo",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80"},{id:2,name:"Steel Rebar",price:"$450/ton",supplier:"MetalWorks",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80"},{id:3,name:"Office Paper A4",price:"$45/box",supplier:"GreenLeaf",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80"},{id:4,name:"Ergonomic Chair",price:"$250/unit",supplier:"OfficeComfort",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80"},{id:5,name:"Safety Helmets",price:"$25/unit",supplier:"SafeGear",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80"},{id:6,name:"Copper Wire",price:"$8/m",supplier:"TechSolutions",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80"}],Dyt=["All","Electronics","Office Supplies","Construction","Services","Logistics","Security","Food & Beverage","Printing"],Lyt=()=>{const{showToast:r}=Vh(),[e,t]=me.useState("All"),[n,i]=me.useState(""),[a,s]=me.useState(Cyt),[o,l]=me.useState(0),[c,u]=me.useState(1),f=12,d=()=>l(v=>(v+1)%X5.length),h=()=>l(v=>(v-1+X5.length)%X5.length),p=a.filter(v=>{const x=e==="All"||v.category===e,g=v.name.toLowerCase().includes(n.toLowerCase())||v.description.toLowerCase().includes(n.toLowerCase());return x&&g});return y.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 overflow-hidden font-sans text-gray-800",children:[y.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shrink-0 z-20 shadow-sm",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Local Marketplace"}),y.jsx("div",{className:"h-6 w-[1px] bg-gray-200 hidden md:block"}),y.jsxs("div",{className:"hidden md:flex items-center text-gray-500 text-sm hover:text-gray-900 cursor-pointer transition-colors bg-gray-50 px-3 py-1.5 rounded-lg border border-gray-100 hover:border-gray-300",children:[y.jsx(EU,{size:16,className:"mr-2 text-clickup-purple"}),y.jsx("span",{className:"font-medium",children:"Riyadh, SA"}),y.jsx(tl,{size:14,className:"ml-2 opacity-50"})]})]}),y.jsx("div",{className:"flex items-center space-x-4 flex-1 max-w-xl mx-4 md:mx-8",children:y.jsxs("div",{className:"relative flex-1 group",children:[y.jsx(vv,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-clickup-purple transition-colors"}),y.jsx("input",{type:"text",placeholder:"Search for suppliers, services, or products...",className:"w-full bg-gray-100 border border-transparent focus:bg-white focus:border-clickup-purple/50 focus:ring-4 focus:ring-clickup-purple/10 rounded-xl pl-10 pr-4 py-2.5 text-sm transition-all outline-none placeholder:text-gray-400",value:n,onChange:v=>i(v.target.value)})]})}),y.jsx("div",{className:"flex items-center space-x-3",children:y.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 rounded-lg text-sm font-medium text-gray-700 transition-all active:scale-95",children:[y.jsx(kS,{size:16}),y.jsx("span",{className:"hidden md:inline",children:"Filters"})]})})]}),y.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[y.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-6 overflow-y-auto hidden lg:block shrink-0",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Categories"}),y.jsx("ul",{className:"space-y-1",children:Dyt.map(v=>y.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-lg cursor-pointer text-sm transition-all ${e===v?"bg-purple-50 text-clickup-purple font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>t(v),children:[y.jsx("span",{children:v}),e===v&&y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-clickup-purple"})]},v))})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Rating"}),y.jsx("div",{className:"space-y-2",children:[4,3,2,1].map(v=>y.jsxs("div",{className:"flex items-center group cursor-pointer px-2 py-1 rounded hover:bg-gray-50",children:[y.jsx("div",{className:"flex text-yellow-400 mr-2",children:[...Array(5)].map((x,g)=>y.jsx(Up,{size:14,fill:g<v?"currentColor":"none",className:g<v?"":"text-gray-200"},g))}),y.jsx("span",{className:"text-sm text-gray-500 group-hover:text-gray-700",children:"& Up"})]},v))})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Price Range"}),y.jsx("div",{className:"flex gap-2",children:["$","$$","$$$"].map(v=>y.jsx("button",{className:"flex-1 px-3 py-1.5 border border-gray-200 rounded-md text-sm text-gray-600 hover:border-clickup-purple hover:text-clickup-purple transition-colors",children:v},v))})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-gray-50/50",children:[y.jsxs("div",{className:"mb-8 space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Total Spend"}),y.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"$124.5k"}),y.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded-full w-fit",children:[y.jsx(Gf,{size:12,className:"mr-1"}),"+12.5%"]})]}),y.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:y.jsx(H2,{size:24})})]}),y.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Active Suppliers"}),y.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"48"}),y.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded-full w-fit",children:[y.jsx(Gf,{size:12,className:"mr-1"}),"+4 new"]})]}),y.jsx("div",{className:"p-3 bg-purple-50 rounded-xl text-purple-600",children:y.jsx(ru,{size:24})})]}),y.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Open Orders"}),y.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"15"}),y.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-yellow-600 bg-yellow-50 px-2 py-0.5 rounded-full w-fit",children:[y.jsx(by,{size:12,className:"mr-1"}),"3 pending"]})]}),y.jsx("div",{className:"p-3 bg-orange-50 rounded-xl text-orange-600",children:y.jsx(MU,{size:24})})]}),y.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Avg Rating"}),y.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"4.8"}),y.jsx("div",{className:"flex items-center mt-2 text-xs font-medium text-gray-500",children:"Based on 1.2k reviews"})]}),y.jsx("div",{className:"p-3 bg-yellow-50 rounded-xl text-yellow-600",children:y.jsx(Up,{size:24,fill:"currentColor"})})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm lg:col-span-1",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"font-bold text-gray-800",children:"Spend by Category"}),y.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:y.jsx(CU,{size:16})})]}),y.jsxs("div",{className:"flex items-center justify-center relative h-48",children:[y.jsx("div",{className:"w-40 h-40 rounded-full",style:{background:"conic-gradient(#7B68EE 0% 35%, #3B82F6 35% 60%, #10B981 60% 80%, #F59E0B 80% 100%)"}}),y.jsxs("div",{className:"absolute w-28 h-28 bg-white rounded-full flex items-center justify-center flex-col",children:[y.jsx("span",{className:"text-xs text-gray-400",children:"Total"}),y.jsx("span",{className:"font-bold text-gray-800",children:"$124k"})]})]}),y.jsxs("div",{className:"mt-6 space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-clickup-purple mr-2"}),"Electronics"]}),y.jsx("span",{className:"font-medium text-gray-700",children:"35%"})]}),y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),"Services"]}),y.jsx("span",{className:"font-medium text-gray-700",children:"25%"})]}),y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),"Supplies"]}),y.jsx("span",{className:"font-medium text-gray-700",children:"20%"})]}),y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),"Other"]}),y.jsx("span",{className:"font-medium text-gray-700",children:"20%"})]})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm lg:col-span-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"font-bold text-gray-800",children:"Monthly Procurement Activity"}),y.jsx("div",{className:"flex items-center space-x-2",children:y.jsx("span",{className:"text-xs text-gray-400",children:"Last 6 Months"})})]}),y.jsx("div",{className:"h-64 flex items-end justify-between space-x-4 px-2",children:["May","Jun","Jul","Aug","Sep","Oct"].map((v,x)=>{const g=[40,65,45,80,55,90][x];return y.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[y.jsx("div",{className:"w-full relative flex items-end h-52 bg-gray-50 rounded-t-lg overflow-hidden",children:y.jsx("div",{className:"w-full bg-clickup-purple/80 group-hover:bg-clickup-purple transition-all duration-500 rounded-t-lg relative",style:{height:`${g}%`},children:y.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:["$",g*1.5,"k"]})})}),y.jsx("span",{className:"text-xs text-gray-400 mt-3 font-medium",children:v})]},v)})})]})]})]}),y.jsxs("div",{className:"mb-8 relative rounded-2xl overflow-hidden h-40 shadow-sm",children:[y.jsx("img",{src:"https://images.unsplash.com/photo-1586864387967-d02ef85d93e8?auto=format&fit=crop&w=1200&q=80",alt:"Marketplace Banner",className:"w-full h-full object-cover"}),y.jsxs("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-transparent flex flex-col justify-center px-8 text-white",children:[y.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Find Trusted Local Suppliers"}),y.jsx("p",{className:"text-sm opacity-90 max-w-md",children:"Connect with top-rated vendors in your area for all your business needs."})]})]}),y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:[e==="All"?"All Suppliers":e,y.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-400",children:["(",p.length," results)"]})]}),y.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[y.jsx("span",{children:"Sort by:"}),y.jsxs("button",{className:"font-medium text-gray-800 flex items-center hover:text-clickup-purple",children:["Recommended ",y.jsx(tl,{size:14,className:"ml-1"})]})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6 mb-8",children:p.slice((c-1)*f,c*f).map(v=>y.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg hover:border-purple-100 transition-all duration-300 group flex flex-col",children:[y.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[y.jsx("img",{src:v.image,alt:v.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),y.jsx("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-2.5 py-1 text-[10px] font-bold rounded-full text-gray-700 shadow-sm border border-white/50",children:v.deliveryTime}),y.jsx("div",{className:"absolute top-3 left-3 bg-black/50 backdrop-blur-md px-2.5 py-1 text-[10px] font-bold rounded-full text-white shadow-sm",children:v.category})]}),y.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"text-base font-bold text-gray-900 group-hover:text-clickup-purple transition-colors line-clamp-1",children:v.name}),y.jsxs("div",{className:"flex items-center bg-yellow-50 px-1.5 py-0.5 rounded text-yellow-700 border border-yellow-100",children:[y.jsx(Up,{size:10,fill:"currentColor",className:"mr-1"}),y.jsx("span",{className:"text-xs font-bold",children:v.rating})]})]}),y.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2 flex-1 leading-relaxed",children:v.description}),y.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4 pt-4 border-t border-gray-50",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Min Order"}),y.jsx("span",{className:"font-medium text-gray-700",children:v.minOrder})]}),y.jsxs("div",{className:"flex flex-col items-end",children:[y.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Reviews"}),y.jsx("span",{className:"font-medium text-gray-700",children:v.reviews})]})]}),y.jsxs("button",{className:"w-full bg-gray-900 hover:bg-clickup-purple text-white py-2.5 rounded-xl text-sm font-medium shadow-sm hover:shadow-md active:scale-[0.98] transition-all flex items-center justify-center group-hover:bg-clickup-purple",onClick:()=>r(`Request sent to ${v.name}`,"success"),children:[y.jsx("span",{children:"Connect Supplier"}),y.jsx(BD,{size:14,className:"ml-2 opacity-70"})]})]})]},v.id))}),p.length>f&&y.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-12",children:[y.jsx("button",{className:`p-2 rounded-lg border ${c===1?"bg-gray-50 text-gray-300 border-gray-100 cursor-not-allowed":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>u(v=>Math.max(v-1,1)),disabled:c===1,children:y.jsx(u3,{size:18})}),[...Array(Math.ceil(p.length/f))].map((v,x)=>y.jsx("button",{className:`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${c===x+1?"bg-clickup-purple text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>u(x+1),children:x+1},x)),y.jsx("button",{className:`p-2 rounded-lg border ${c===Math.ceil(p.length/f)?"bg-gray-50 text-gray-300 border-gray-100 cursor-not-allowed":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>u(v=>Math.min(v+1,Math.ceil(p.length/f))),disabled:c===Math.ceil(p.length/f),children:y.jsx(zu,{size:18})})]}),y.jsxs("div",{className:"mb-8 relative group rounded-2xl overflow-hidden h-48 md:h-64 shadow-md",children:[y.jsx("div",{className:"absolute inset-0 flex transition-transform duration-500 ease-out",style:{transform:`translateX(-${o*100}%)`},children:X5.map(v=>y.jsxs("div",{className:"w-full h-full flex-shrink-0 relative",children:[y.jsx("img",{src:v.image,alt:v.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${v.color} opacity-80 mix-blend-multiply`}),y.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-8 md:px-16 text-white",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2",children:v.title}),y.jsx("p",{className:"text-lg md:text-xl opacity-90",children:v.subtitle}),y.jsx("button",{className:"mt-6 bg-white text-gray-900 px-6 py-2 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors w-fit",children:"Explore Now"})]})]},v.id))}),y.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 backdrop-blur-sm p-2 rounded-full text-white transition-all opacity-0 group-hover:opacity-100",children:y.jsx(u3,{size:24})}),y.jsx("button",{onClick:d,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 backdrop-blur-sm p-2 rounded-full text-white transition-all opacity-0 group-hover:opacity-100",children:y.jsx(zu,{size:24})}),y.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:X5.map((v,x)=>y.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${o===x?"bg-white w-6":"bg-white/50"}`},x))})]}),y.jsxs("div",{className:"mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center",children:[y.jsx(f3,{size:20,className:"mr-2 text-clickup-purple"}),"Featured Materials"]}),y.jsx("button",{className:"text-sm text-clickup-purple hover:underline font-medium",children:"View All"})]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Nyt.map(v=>y.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all group cursor-pointer",children:[y.jsx("div",{className:"h-24 bg-gray-100 relative overflow-hidden",children:y.jsx("img",{src:v.image,alt:v.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"text-sm font-bold text-gray-800 truncate",title:v.name,children:v.name}),y.jsx("p",{className:"text-xs text-gray-500 truncate",children:v.supplier}),y.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[y.jsx("span",{className:"text-xs font-bold text-clickup-purple bg-purple-50 px-1.5 py-0.5 rounded",children:v.price}),y.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 hover:bg-clickup-purple hover:text-white transition-colors",children:y.jsx(fwe,{size:12})})]})]})]},v.id))})]})]})]})]})},Ryt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>{var w,A,M,C,N;const[a,s]=me.useState(null),[o,l]=me.useState("select-table"),[c,u]=me.useState(null),[f,d]=me.useState({}),h=()=>{if(r.includes("/analytics")){const L=r.replace("/analytics","/data");return(e[L]||[]).filter(k=>k.type==="custom-table")}return[]},p=L=>{s(L),l("select-table"),u(null),d({})},v=L=>{u(L),l("configure");const D=h().find(k=>k.id===L);if(D){const k=D.columns.find(I=>I.type==="text"),O=D.columns.find(I=>I.type==="number");d({xAxisColumn:(k==null?void 0:k.id)||"",yAxisColumn:(O==null?void 0:O.id)||"",aggregation:"count"})}},x=()=>{if(a&&c){const L=h().find(D=>D.id===c);i&&i(a,{sourceTableId:c,title:(L==null?void 0:L.title)||"Connected Widget",config:f,subtext:f.aggregation==="sum"?"Total Value":"Count of records",trend:{value:"+12.5%",direction:"up"}})}s(null)},g=()=>h().find(L=>L.id===c),_=()=>t.find(L=>L.id===a);return y.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50/50 overflow-y-auto relative",children:[a&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-200 animate-in zoom-in-95 duration-200 flex flex-col max-h-[80vh]",children:[y.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:o==="select-table"?"Select Data Source":"Configure Data"}),y.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:y.jsx(Gm,{size:18,className:"rotate-45"})})]}),y.jsx("div",{className:"p-0 overflow-y-auto flex-1",children:o==="select-table"?y.jsx("div",{className:"p-2",children:h().length===0?y.jsxs("div",{className:"p-8 text-center flex flex-col items-center text-gray-500",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:y.jsx(sv,{size:24,className:"text-gray-400"})}),y.jsx("p",{className:"font-medium",children:"No tables found"}),y.jsx("p",{className:"text-sm mt-1",children:"Create a table in the Data section first."})]}):y.jsx("div",{className:"space-y-1",children:h().map(L=>{var D;return y.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-blue-50 rounded-lg group transition-colors flex items-center justify-between border border-transparent hover:border-blue-100",onClick:()=>v(L.id),children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center mr-3 group-hover:bg-blue-200 transition-colors",children:y.jsx(d3,{size:16})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:L.title||"Untitled Table"}),y.jsxs("div",{className:"text-xs text-gray-500",children:[((D=L.rows)==null?void 0:D.length)||0," records"]})]})]}),y.jsx("div",{className:"opacity-0 group-hover:opacity-100 text-blue-600 transition-opacity",children:y.jsx($u,{size:16})})]},L.id)})})}):y.jsxs("div",{className:"p-6 space-y-6",children:[((w=_())==null?void 0:w.type)==="chart"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X Axis (Category)"}),y.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.xAxisColumn,onChange:L=>d({...f,xAxisColumn:L.target.value}),children:[y.jsx("option",{value:"",children:"Select Column..."}),(A=g())==null?void 0:A.columns.map(L=>y.jsx("option",{value:L.id,children:L.name},L.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y Axis (Value)"}),y.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.yAxisColumn,onChange:L=>d({...f,yAxisColumn:L.target.value}),children:[y.jsx("option",{value:"",children:"Select Column..."}),(M=g())==null?void 0:M.columns.map(L=>y.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),((C=_())==null?void 0:C.type)==="kpi-card"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metric"}),y.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.aggregation,onChange:L=>d({...f,aggregation:L.target.value}),children:[y.jsx("option",{value:"count",children:"Count of Records"}),y.jsx("option",{value:"sum",children:"Sum of Column"}),y.jsx("option",{value:"avg",children:"Average of Column"})]})]}),f.aggregation!=="count"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Column"}),y.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.yAxisColumn,onChange:L=>d({...f,yAxisColumn:L.target.value}),children:[y.jsx("option",{value:"",children:"Select Column..."}),(N=g())==null?void 0:N.columns.filter(L=>L.type==="number").map(L=>y.jsx("option",{value:L.id,children:L.name},L.id))]})]})]})]})}),y.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 text-xs text-gray-500 flex justify-between items-center",children:o==="select-table"?y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"Select a table to link."}),y.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>s(null),children:"Cancel"})]}):y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>l("select-table"),children:"Back"}),y.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",onClick:x,children:"Finish"})]})})]})}),y.jsxs("div",{className:"p-8 w-full overflow-x-auto",children:[y.jsx("div",{className:"grid grid-cols-12 gap-4 min-w-[1000px] grid-auto-rows-[minmax(175px,auto)]",children:t.map(L=>{if(L.type==="custom-table")return y.jsx("div",{className:"col-span-12",children:y.jsx(ice,{...L,onDelete:()=>n&&n(L.id),onRenameTable:D=>i&&i(L.id,{title:D}),onRenameColumn:(D,k)=>{const O=L.columns.map(I=>I.id===D?{...I,name:k}:I);i&&i(L.id,{columns:O})},onAddColumn:()=>{const D={id:Math.random().toString(36).substr(2,9),name:"New Column",type:"text",width:150};i&&i(L.id,{columns:[...L.columns,D]})},onUpdateColumnType:(D,k)=>{const O=L.columns.map(I=>I.id===D?{...I,type:k}:I);i&&i(L.id,{columns:O})},onDeleteColumn:D=>{const k=L.columns.filter(O=>O.id!==D);i&&i(L.id,{columns:k})},onUpdateColumnColor:(D,k)=>{const O=L.columns.map(I=>I.id===D?{...I,color:k}:I);i&&i(L.id,{columns:O})},onUpdateRow:(D,k)=>{const O=L.rows||[],I=O.some(B=>B.id===D);let j;I?j=O.map(B=>B.id===D?{...B,data:k}:B):j=[...O,{id:D,data:k}],i&&i(L.id,{rows:j})}})},L.id);if(L.type==="kpi-card"){const k={DollarSign:H2,Users:ru,ShoppingBag:MU,Activity:sv}[L.icon]||sv;let O=L.value;if(L.sourceTableId){const B=r.replace("/analytics","/data"),H=(e[B]||[]).find(Z=>Z.id===L.sourceTableId);if(H){const Z=L.config||{aggregation:"count"};if(Z.aggregation==="count")O=(H.rows||[]).length.toString();else if(Z.aggregation==="sum"&&Z.yAxisColumn)O=(H.rows||[]).reduce((J,oe)=>{const X=parseFloat(oe.data[Z.yAxisColumn])||0;return J+X},0).toLocaleString();else if(Z.aggregation==="avg"&&Z.yAxisColumn){const Y=H.rows||[];Y.length>0?O=(Y.reduce((oe,X)=>{const F=parseFloat(X.data[Z.yAxisColumn])||0;return oe+F},0)/Y.length).toFixed(1):O="0"}else O=(H.rows||[]).length.toString()}}const I=L.layoutGroup&&L.layoutPosition<=4;let j={};return I&&(j={1:{gridColumn:"1 / 4",gridRow:"1"},2:{gridColumn:"4 / 7",gridRow:"1"},3:{gridColumn:"1 / 4",gridRow:"2"},4:{gridColumn:"4 / 7",gridRow:"2"}}[L.layoutPosition]),y.jsxs("div",{className:`relative group w-full h-full ${I?"":"col-span-3"}`,style:I?j:{},children:[y.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:y.jsx("button",{onClick:()=>n&&n(L.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:y.jsx(Gm,{size:12})})}),y.jsx(ace,{title:L.title,value:O,icon:k,trend:L.trend,subtext:L.subtext,isEmpty:!L.value&&!L.sourceTableId,onConnect:()=>p(L.id),onTitleChange:B=>i&&i(L.id,{title:B})})]},L.id)}if(L.type==="chart"){let D=null;if(L.sourceTableId){const H=r.replace("/analytics","/data"),Y=(e[H]||[]).find(J=>J.id===L.sourceTableId);if(Y&&Y.rows&&Y.rows.length>0){const J=L.config||{},oe=J.xAxisColumn,X=J.yAxisColumn,F=Y.columns||[],W=oe?F.find(re=>re.id===oe):F.find(re=>re.type==="text"),Q=X?F.find(re=>re.id===X):F.find(re=>re.type==="number");if(W){const re=Y.rows.map(ce=>ce.data[W.id]||"Unknown");let ae;Q?ae=Y.rows.map(ce=>parseFloat(ce.data[Q.id])||0):ae=Y.rows.map(()=>1),D={categories:re,values:ae}}}}const k=t.filter(H=>H.type==="chart").map(H=>H.id),O=k.length,I=O>=3?4:6,j=L.id===k[0],B=L.layoutGroup&&L.layoutPosition===5;let K={};return B?K={gridColumn:"7 / 13",gridRow:"1 / 3"}:j&&O>=3?K={gridColumn:`1 / span ${I}`}:K={gridColumn:`span ${I} / span ${I}`},y.jsxs("div",{className:`row-span-2 min-h-[350px] relative group transition-all duration-300 ${j&&O>=3&&!B?"col-start-1":""}`,style:K,children:[y.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:y.jsx("button",{onClick:()=>n&&n(L.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:y.jsx(Gm,{size:12})})}),y.jsx(Mve,{title:L.title,type:L.chartType||"bar",data:D,isEmpty:!L.sourceTableId,onConnect:()=>p(L.id),onTitleChange:H=>i&&i(L.id,{title:H})})]},L.id)}return null})}),t.length===0&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[y.jsx("div",{className:"bg-indigo-50 p-6 rounded-full mb-6",children:y.jsx(l5e,{className:"text-indigo-600",size:48})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Maintenance Operations"}),y.jsx("p",{className:"text-gray-500 max-w-md mb-8",children:'Manage equipment maintenance schedules, work orders, and repair logs here. Use the "Insert" menu to add custom tables and charts.'}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:[{label:"Active Work Orders",value:"12",icon:by,color:"text-amber-600"},{label:"Completed Today",value:"8",icon:$u,color:"text-green-600"},{label:"Avg Response Time",value:"45m",icon:_y,color:"text-blue-600"}].map((L,D)=>y.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("span",{className:"text-gray-500 text-sm font-medium",children:L.label}),y.jsx(L.icon,{className:L.color,size:20})]}),y.jsx("div",{className:"text-3xl font-bold text-gray-900",children:L.value})]},D))})]})]})]})},kyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(h3,{}),placeholderTitle:"Production Operations",placeholderDescription:"Manage production schedules, output tracking, and efficiency metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Daily Output",value:"1,250",icon:h3,color:"text-blue-600"},{label:"Quality Rate",value:"98.5%",icon:$u,color:"text-green-600"},{label:"Downtime",value:"2.3h",icon:_y,color:"text-amber-600"}]}),Iyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx($u,{}),placeholderTitle:"Quality Assurance",placeholderDescription:"Track quality metrics, defect rates, and compliance standards here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Pass Rate",value:"99.2%",icon:$u,color:"text-green-600"},{label:"Defects Found",value:"23",icon:by,color:"text-red-600"},{label:"Improvement",value:"+5.2%",icon:Gf,color:"text-blue-600"}]}),Oyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(jB,{}),placeholderTitle:"Sales Operations",placeholderDescription:"Track sales performance, pipeline, and revenue metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Monthly Revenue",value:"$125K",icon:H2,color:"text-green-600"},{label:"Active Deals",value:"47",icon:jB,color:"text-blue-600"},{label:"Growth",value:"+18%",icon:Gf,color:"text-emerald-600"}]}),Pyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(H2,{}),placeholderTitle:"Finance Operations",placeholderDescription:"Manage budgets, expenses, and financial reporting here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Budget",value:"$2.5M",icon:H2,color:"text-green-600"},{label:"Expenses",value:"$1.8M",icon:M2,color:"text-red-600"},{label:"Variance",value:"+12%",icon:Gf,color:"text-blue-600"}]}),Fyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(FY,{}),placeholderTitle:"IT Operations",placeholderDescription:"Track system uptime, tickets, and infrastructure metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"System Uptime",value:"99.9%",icon:$u,color:"text-green-600"},{label:"Open Tickets",value:"12",icon:by,color:"text-amber-600"},{label:"Servers",value:"45",icon:FY,color:"text-blue-600"}]}),Byt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(ru,{}),placeholderTitle:"Human Resources",placeholderDescription:"Manage employee data, recruitment, and HR metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Employees",value:"245",icon:ru,color:"text-blue-600"},{label:"New Hires",value:"12",icon:$Te,color:"text-green-600"},{label:"Retention",value:"94%",icon:Gf,color:"text-emerald-600"}]}),zyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(OY,{}),placeholderTitle:"Marketing Operations",placeholderDescription:"Track campaigns, leads, and marketing ROI here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Campaigns",value:"8",icon:OY,color:"text-purple-600"},{label:"Leads Generated",value:"1,245",icon:ru,color:"text-blue-600"},{label:"Conversion Rate",value:"+22%",icon:Gf,color:"text-green-600"}]}),jyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(Rw,{}),placeholderTitle:"Procurement Operations",placeholderDescription:"Manage purchase orders, vendor relationships, and procurement metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active POs",value:"34",icon:Rw,color:"text-blue-600"},{label:"Total Spend",value:"$450K",icon:H2,color:"text-green-600"},{label:"Cost Savings",value:"-8%",icon:lle,color:"text-emerald-600"}]}),Uyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(GB,{}),placeholderTitle:"Warehouse Operations",placeholderDescription:"Track inventory levels, storage, and warehouse efficiency here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Items",value:"12,450",icon:f3,color:"text-blue-600"},{label:"Capacity Used",value:"78%",icon:GB,color:"text-amber-600"},{label:"Turnover Rate",value:"+15%",icon:Gf,color:"text-green-600"}]}),Vyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(VB,{}),placeholderTitle:"Shipping Operations",placeholderDescription:"Track shipments, delivery times, and logistics metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Shipments",value:"156",icon:VB,color:"text-blue-600"},{label:"Pending Orders",value:"89",icon:f3,color:"text-amber-600"},{label:"Avg Delivery Time",value:"2.3d",icon:_y,color:"text-green-600"}]}),Hyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(Fh,{}),placeholderTitle:"Planning Operations",placeholderDescription:"Manage demand forecasting, capacity planning, and scheduling here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Plans",value:"23",icon:Fh,color:"text-blue-600"},{label:"Forecast Accuracy",value:"92%",icon:Gf,color:"text-green-600"},{label:"Alerts",value:"5",icon:by,color:"text-amber-600"}]}),Gyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(HD,{}),placeholderTitle:"Fleet Management",placeholderDescription:"Track vehicles, maintenance schedules, and fleet efficiency here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Vehicles",value:"67",icon:HD,color:"text-blue-600"},{label:"Fuel Efficiency",value:"8.5L/100km",icon:$we,color:"text-green-600"},{label:"Maintenance Rate",value:"95%",icon:$u,color:"text-emerald-600"}]}),Wyt=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:i})=>y.jsx(Xf,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:i,placeholderIcon:y.jsx(VD,{}),placeholderTitle:"Vendor Management",placeholderDescription:"Manage vendor relationships, performance metrics, and contracts here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Vendors",value:"42",icon:VD,color:"text-blue-600"},{label:"Avg Rating",value:"4.7/5",icon:Up,color:"text-yellow-600"},{label:"Performance",value:"+12%",icon:Gf,color:"text-green-600"}]}),Yyt=({icon:r,title:e,description:t})=>y.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[y.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:yi.isValidElement(r)?yi.cloneElement(r,{size:64}):r}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e}),y.jsx("p",{className:"text-gray-500 max-w-md text-center",children:t})]}),qyt=()=>{const[r,e]=me.useState(null),[t,n]=me.useState("landing"),[i,a]=me.useState(()=>{if(typeof window>"u")return{};try{const de=localStorage.getItem("page-tabs");return de?JSON.parse(de):{}}catch{return{}}}),[s,o]=me.useState(()=>{if(typeof window>"u")return{};try{const de=localStorage.getItem("active-tab-by-page");return de?JSON.parse(de):{}}catch{return{}}}),{activePage:l,setActivePage:c,currentView:u,setCurrentView:f,getPageTitle:d,isImmersive:h}=Ck(),{isAddCardsOpen:p,setAddCardsOpen:v,isBrainOpen:x,setBrainOpen:g,isTableBuilderOpen:_,setTableBuilderOpen:w,isTemplateModalOpen:A,setTemplateModalOpen:M}=DU(),{tasks:C,isLoading:N,handleStatusChange:L,handleUpdateTask:D,handleReorder:k,handleQuickCreate:O}=Jit(t,l),{homeCards:I,handleAddHomeCard:j,handleUpdateHomeCard:B,handleRemoveHomeCard:K,handleRemoveHomeCardByType:H}=Qit(),{pageWidgets:Z,setPageWidgets:Y,onUpdateWidget:J}=eat(t),{showToast:oe}=Vh();me.useEffect(()=>{const de=Lj.getCurrentUser();de&&(e(de),n("app"))},[]),me.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("page-tabs",JSON.stringify(i))}catch(de){console.warn("Failed to persist tabs",de)}},[i]),me.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("active-tab-by-page",JSON.stringify(s))}catch(de){console.warn("Failed to persist active tab",de)}},[s]),me.useEffect(()=>{i[l]&&o(de=>{var je,Be;if(de[l]&&((je=i[l])!=null&&je.some(Fe=>Fe.id===de[l])))return de;const _e=(Be=i[l][0])==null?void 0:Be.id;return _e?{...de,[l]:_e}:de})},[l,i]);const X=de=>(i[de]||[]).filter(_e=>_e.id!=="main"),W=(de=>{var Be;const _e=X(de),je=s[de];return je&&_e.some(Fe=>Fe.id===je)?je:(Be=_e[0])==null?void 0:Be.id})(l),Q=W?`${l}::${W}`:l,re=W?Z[Q]||[]:Z[l]||[],ae=de=>{J(W?Q:l,de)},ce=()=>W?Z[Q]||[]:Z[l]||[],ye=de=>{const _e=ce();ae(_e.filter(je=>je.id!==de))},fe=(de,_e)=>{const je=ce();ae(je.map(Be=>Be.id===de?{...Be,..._e}:Be))},be=de=>o(_e=>({..._e,[l]:de})),Oe=de=>{a(_e=>{const je=X(l).filter(Fe=>Fe.id!==de);return{..._e,[l]:je}}),o(_e=>{var je;if(_e[l]===de){const Be=(je=X(l).filter(we=>we.id!==de)[0])==null?void 0:je.id,Fe={..._e};return Be?Fe[l]=Be:delete Fe[l],Fe}return _e}),J(`${l}::${de}`,[]),Y(_e=>{const je={..._e};return delete je[`${l}::${de}`],je})},xe=()=>{const _e=`Dashboard ${X(l).length}`,je=window.prompt("Name this dashboard tab",_e);if(je===null)return;const Be=je.trim()?je.trim():_e,Fe={id:`tab-${Date.now()}`,name:Be};a(we=>{const pe=X(l);return{...we,[l]:[...pe,Fe]}}),o(we=>({...we,[l]:Fe.id})),J(`${l}::${Fe.id}`,[]),oe(`Created dashboard "${Be}"`,"success")},Qe=me.useMemo(()=>{switch(l){case"inbox":case"home":return[];case"backend":return C.filter(de=>de.tags.includes("Backend")||de.tags.includes("API")||de.tags.includes("Auth"));case"sprints":return C.filter(de=>de.tags.includes("Feature")||de.tags.includes("Bug"));case"frontend":default:return C}},[C,l]);if(t==="landing")return y.jsx(qit,{onLoginClick:()=>n("login")});const ne={activePage:l,allPageWidgets:Z,widgets:re,onDeleteWidget:ye,onUpdateWidget:fe},te=de=>{e(de),n("app"),oe(`Welcome back, ${de.name}!`,"success")},Me=()=>{Lj.logout(),e(null),n("landing"),oe("Logged out successfully","info")},ge=()=>{oe("Account activated successfully!","success")};return t==="login"?y.jsx(Zit,{onLoginSuccess:te,onBack:()=>n("landing")}):y.jsxs("div",{className:"flex flex-col h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900",children:[y.jsx(ett,{user:r,onLogout:Me,onActivate:ge}),y.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[y.jsx(N5e,{onLogout:Me,user:r}),y.jsxs("div",{className:"flex flex-col flex-1 min-w-0 bg-white relative",children:[(()=>{const de=l.startsWith("SPACE-");return h||l==="inbox"||l==="discussion"||l.includes("mind-map")||l==="marketplace/local"||de?null:y.jsx(y.Fragment,{children:l.startsWith("operations/")||l.startsWith("business/")||l.startsWith("support/")||l.startsWith("supply-chain/")||l.startsWith("smart-tools/")?y.jsx(TEe,{onInsert:_e=>{if(_e==="custom-table"&&w(!0),_e==="layout-clear"){ae([]),oe("Cleared layout for this page","success");return}if(_e==="dashboard"){if(l.includes("/data"))return;xe();return}if(_e.startsWith("kpi-card")){const je=parseInt(_e.split("-")[2]||"1",10),Be=Array.from({length:je}).map(()=>({type:"kpi-card",id:Date.now().toString()+Math.random().toString(36).substr(2,9),title:"New KPI",value:null,icon:"Activity",trend:null,subtext:"Connect to data source"})),Fe=ce();ae([...Fe,...Be])}if(_e.startsWith("chart")){const je=_e.replace("chart-","")||"bar",Be={type:"chart",id:Date.now().toString(),title:`New ${je.charAt(0).toUpperCase()+je.slice(1)} Chart`,chartType:je,data:null,sourceTableId:null},Fe=ce();ae([...Fe,Be])}if(_e==="layout-4kpi-1chart"){const je=Date.now(),Be=`layout-${je}`,Fe=[{type:"kpi-card",id:`${je}-1`,title:"KPI 1",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:Be,layoutPosition:1},{type:"kpi-card",id:`${je}-2`,title:"KPI 2",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:Be,layoutPosition:2},{type:"kpi-card",id:`${je}-3`,title:"KPI 3",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:Be,layoutPosition:3},{type:"kpi-card",id:`${je}-4`,title:"KPI 4",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:Be,layoutPosition:4},{type:"chart",id:`${je}-5`,title:"Main Chart",chartType:"bar",data:null,sourceTableId:null,layoutGroup:Be,layoutPosition:5}],we=ce();ae([...we,...Fe])}}}):y.jsx(L5e,{})})})(),y.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[(l.startsWith("operations/")||l.startsWith("business/")||l.startsWith("support/")||l.startsWith("supply-chain/")||l.startsWith("smart-tools/"))&&!l.includes("/data")&&y.jsx("div",{className:"h-12 bg-white border-b border-gray-200 flex items-center px-4 gap-4 flex-shrink-0 overflow-x-auto",children:X(l).length===0?y.jsx("span",{className:"text-sm text-gray-500",children:"Insert your Dashboard from Insert Menu"}):X(l).map(de=>{const _e=de.id===W;return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>be(de.id),className:`text-sm font-medium transition-colors ${_e?"text-clickup-purple underline decoration-2 underline-offset-4":"text-gray-700 hover:text-clickup-purple"}`,children:de.name}),y.jsx("button",{onClick:()=>Oe(de.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete dashboard tab",children:y.jsx(Wf,{size:14})})]},de.id)})}),l==="inbox"&&y.jsx(hat,{}),l==="discussion"&&y.jsx(pat,{}),l==="marketplace/local"&&y.jsx(Lyt,{}),l==="home"&&y.jsx(lat,{cards:I,onUpdateCard:B,onRemoveCard:K,onOpenCustomize:()=>v(!0),userName:r==null?void 0:r.name}),l==="overview"&&y.jsx(Tyt,{}),l==="reminders"&&y.jsx(Ayt,{}),l==="tasks"&&y.jsx(Eyt,{}),l==="vault"&&y.jsx(Myt,{}),l==="goals"&&y.jsx(Syt,{}),(l==="mind-map"||l==="smart-tools/mind-map")&&y.jsx(wyt,{}),l==="smart-tools/dashboard"&&y.jsx(Xf,{...ne,placeholderTitle:"Smart Dashboard",placeholderDescription:"Your central hub for intelligence.",placeholderIcon:y.jsx(RE,{})}),l==="space"&&y.jsx(l0t,{}),l==="ocean"&&y.jsx(byt,{}),l.startsWith("SPACE-")&&y.jsx(xyt,{spaceName:l.replace("SPACE-","Space "),spaceId:l}),l.startsWith("operations/maintenance")&&y.jsx(Ryt,{...ne}),l.startsWith("operations/production")&&y.jsx(kyt,{...ne}),l.startsWith("operations/quality")&&y.jsx(Iyt,{...ne}),l.startsWith("business/sales")&&y.jsx(Oyt,{...ne}),l.startsWith("business/finance")&&y.jsx(Pyt,{...ne}),l.startsWith("support/it")&&y.jsx(Fyt,{...ne}),l.startsWith("support/hr")&&y.jsx(Byt,{...ne}),l.startsWith("support/marketing")&&y.jsx(zyt,{...ne}),l.startsWith("supply-chain/procurement")&&y.jsx(jyt,{...ne}),l.startsWith("supply-chain/warehouse")&&y.jsx(Uyt,{...ne}),l.startsWith("supply-chain/shipping")&&y.jsx(Vyt,{...ne}),l.startsWith("supply-chain/planning")&&y.jsx(Hyt,{...ne}),l.startsWith("supply-chain/fleet")&&y.jsx(Gyt,{...ne}),l.startsWith("supply-chain/vendors")&&y.jsx(Wyt,{...ne}),(l.startsWith("operations/")||l.startsWith("business/")||l.startsWith("support/")||l.startsWith("supply-chain/"))&&!["operations/maintenance","operations/production","operations/quality","business/sales","business/finance","support/it","support/hr","support/marketing","supply-chain/procurement","supply-chain/warehouse","supply-chain/shipping","supply-chain/planning","supply-chain/fleet","supply-chain/vendors"].some(de=>l.startsWith(de))&&y.jsx(Yyt,{icon:y.jsx(Yx,{}),title:d(),description:"This module is currently being built."}),(()=>{const de=l.startsWith("SPACE-");return!["overview","goals","inbox","discussion","home","mind-map","space","ocean","reminders","tasks","vault","teams"].includes(l)&&!l.startsWith("operations/")&&!l.startsWith("business/")&&!l.startsWith("support/")&&!l.startsWith("supply-chain/")&&!l.startsWith("marketplace/")&&!l.startsWith("smart-tools/")&&!de?y.jsxs(y.Fragment,{children:[u==="list"&&y.jsx(Lnt,{tasks:Qe,isLoading:N,onStatusChange:L,onAddTask:O,onReorder:k,onUpdateTask:D}),u==="board"&&y.jsx(Int,{tasks:Qe,isLoading:N,onAddTask:O,onStatusChange:L}),u==="calendar"&&y.jsx(Uit,{tasks:Qe,isLoading:N,onAddTask:O})]}):null})(),p&&y.jsx(Yit,{isOpen:p,onClose:()=>v(!1),onAddCard:j,onRemoveCard:H,addedCardTypes:I.map(de=>de.typeId)})]})]})]}),y.jsx(Git,{isOpen:x,onClose:()=>g(!1),tasks:C}),y.jsx(Qet,{isOpen:_,onClose:()=>w(!1),onAdd:de=>{const _e={type:"custom-table",id:Date.now().toString(),...de},je=ce();ae([...je,_e])}}),y.jsx($it,{isOpen:A,onClose:()=>M(!1)})]})},Xyt=()=>y.jsx(h5e,{children:y.jsx(C5e,{children:y.jsx(D5e,{children:y.jsx(qyt,{})})})}),fbe=document.getElementById("root");if(!fbe)throw new Error("Could not find root element to mount to");const Zyt=d_e.createRoot(fbe);Zyt.render(y.jsx(yi.StrictMode,{children:y.jsx(Xyt,{})}));export{ja as _,lC as c,LS as g};
