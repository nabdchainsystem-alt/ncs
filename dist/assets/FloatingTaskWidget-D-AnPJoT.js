import{e as c,f as n,r as u,j as e,X as p,L as x}from"./index-DYCMOhyY.js";import{T as g,M as h}from"./TaskBoardView-BmJ8WPai.js";import"./core.esm-Dtb28RSd.js";import"./square-kanban-CuGQPoro.js";import"./flag-Q3wn5sWP.js";const m=({activePage:t})=>{const{tasks:s,isLoading:r,handleStatusChange:i,handleQuickCreate:o}=c("app",t),{setFloatingTaskState:l}=n(),d=u.useMemo(()=>{switch(t){case"inbox":case"home":return[];case"backend":return s.filter(a=>a.tags.includes("Backend")||a.tags.includes("API")||a.tags.includes("Auth"));case"sprints":return s.filter(a=>a.tags.includes("Feature")||a.tags.includes("Bug"));case"frontend":return s;default:return s}},[s,t]);return e.jsxs("div",{className:"h-full flex flex-col bg-white/50 backdrop-blur-sm rounded-xl overflow-hidden shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-white/80 border-b border-gray-200/50",children:[e.jsxs("h3",{className:"font-medium text-gray-700",children:["Floating Board: ",t]}),e.jsx("button",{onClick:()=>l({isOpen:!1,isExpanded:!1,config:null}),className:"p-1 hover:bg-gray-200/50 rounded-full transition-colors text-gray-500",title:"Close Floating Board",children:e.jsx(p,{size:16})})]}),e.jsx("div",{className:"flex-1 overflow-hidden relative",children:e.jsx(g,{tasks:d,isLoading:r,onAddTask:o,onStatusChange:i})})]})},v=()=>{const{floatingTaskState:t,setFloatingTaskState:s}=n();if(!t.isOpen||!t.config)return null;const r=()=>{s(i=>({...i,isExpanded:!i.isExpanded}))};return e.jsxs(e.Fragment,{children:[t.isExpanded&&e.jsx("div",{className:"fixed inset-0 z-[60] bg-black/20 backdrop-blur-sm flex items-center justify-center p-8 animate-in fade-in duration-200",children:e.jsxs("div",{className:"w-full max-w-6xl h-[80vh] relative animate-in zoom-in-95 duration-200",children:[e.jsx("button",{onClick:r,className:"absolute -top-3 -right-3 z-50 bg-white rounded-full p-2 shadow-lg border border-gray-100 text-gray-500 hover:text-gray-800 transition-colors",children:e.jsx(h,{size:20})}),e.jsx(m,{activePage:t.config.activePage})]})}),e.jsx("div",{className:`fixed bottom-6 right-6 z-[70] transition-all duration-300 ${t.isExpanded?"opacity-0 pointer-events-none translate-y-4":"opacity-100 translate-y-0"}`,children:e.jsxs("button",{onClick:r,className:"group relative w-14 h-14 bg-white/90 backdrop-blur-md rounded-full shadow-2xl border border-white/50 flex items-center justify-center hover:scale-105 transition-all duration-300 hover:shadow-clickup-purple/20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50 to-purple-50 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(x,{size:24,className:"text-gray-600 group-hover:text-clickup-purple transition-colors relative z-10"}),e.jsx("span",{className:"absolute -top-10 right-0 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Open Board"})]})})]})};export{v as FloatingTaskWidget};
