import{af as p,r as x,j as t,ax as m}from"./index-BpRJKc9c.js";const j=()=>{const{vendors:n,projects:l,purchaseOrders:d,inventory:h}=p(),c=x.useMemo(()=>{const e=[],r=n.filter(a=>a.contractStatus==="Active");r.forEach((a,o)=>{e.push({id:a.id,type:"vendor",label:a.name,x:100,y:800/(r.length+1)*(o+1),size:40+(a.reliabilityScore||0)/10,color:"#3b82f6",data:a})}),e.push({id:"warehouse-main",type:"warehouse",label:"Central Warehouse",x:1200/2,y:800/2,size:80,color:"#8b5cf6",data:{itemCount:h.length}});const u=l.filter(a=>a.status==="Active");return u.forEach((a,o)=>{e.push({id:a.id,type:"project",label:a.name,x:1100,y:800/(u.length+1)*(o+1),size:60,color:"#10b981",data:a})}),e},[n,l,h]),f=x.useMemo(()=>{const e=[];return d.forEach(s=>{s.status!=="Cancelled"&&s.status!=="Fulfilled"&&e.push({id:s.id,source:s.vendorId,target:"warehouse-main",type:"po",label:`$${s.totalAmount}`,active:!0})}),l.filter(s=>s.status==="Active").forEach(s=>{e.push({id:`alloc-${s.id}`,source:"warehouse-main",target:s.id,type:"allocation",active:!0})}),e},[d,l]);return t.jsxs("div",{className:"w-full h-screen bg-slate-900 overflow-hidden relative",children:[t.jsxs("div",{className:"absolute top-6 left-6 z-10",children:[t.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Functional Cosmos"}),t.jsx("p",{className:"text-slate-400",children:"Real-time Supply Chain Visualization"})]}),t.jsxs("svg",{className:"w-full h-full pointer-events-none",children:[f.map(e=>{const s=c.find(r=>r.id===e.source),i=c.find(r=>r.id===e.target);return!s||!i?null:t.jsxs("g",{children:[t.jsx("line",{x1:s.x,y1:s.y,x2:i.x,y2:i.y,stroke:"#334155",strokeWidth:"2"}),e.active&&t.jsx(m.circle,{r:"4",fill:e.type==="po"?"#60a5fa":"#34d399",initial:{offsetDistance:"0%"},animate:{cx:[s.x,i.x],cy:[s.y,i.y]},transition:{duration:2,repeat:1/0,ease:"linear"}})]},e.id)}),c.map(e=>t.jsxs("g",{className:"cursor-pointer pointer-events-auto",children:[t.jsx(m.circle,{cx:e.x,cy:e.y,r:e.size/2+5,fill:e.color,opacity:.2,animate:{scale:[1,1.2,1]},transition:{duration:3,repeat:1/0}}),t.jsx("circle",{cx:e.x,cy:e.y,r:e.size/2,fill:e.color,stroke:"#1e293b",strokeWidth:"3"}),t.jsx("text",{x:e.x,y:e.y+e.size/2+20,textAnchor:"middle",fill:"#94a3b8",fontSize:"12",className:"font-mono",children:e.label})]},e.id))]}),t.jsxs("div",{className:"absolute bottom-6 right-6 bg-slate-800/80 backdrop-blur p-4 rounded-xl border border-slate-700 text-slate-300 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),t.jsx("span",{children:"Vendor"})]}),t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),t.jsx("span",{children:"Warehouse"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),t.jsx("span",{children:"Project"})]})]})]})};export{j as SupplyChainMap};
