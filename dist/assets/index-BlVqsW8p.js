const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DepartmentAnalyticsPage-DesSiSgO.js","assets/KPICard-59BRwxmg.js","assets/xlsx-BPMIDNNK.js","assets/arrow-up-down-CHiIg2FV.js","assets/minus-CDsjRLXk.js","assets/ChartWidget-CX2B9itt.js","assets/index-B8w8dX-o.js","assets/TableBuilder-CjpBvzyO.js","assets/type-OafM0Cxn.js","assets/square-check-big-CcgCZjXv.js","assets/TaskListView-Ccm04f_H.js","assets/ColumnMenu-BKCQrmRk.js","assets/smile-qAvE2REf.js","assets/phone-DUEs_C3l.js","assets/text-align-start-BqRqHx6r.js","assets/paperclip-BqUoBvFO.js","assets/star-DYj3Qkqt.js","assets/arrow-up-right-B7VxTRqq.js","assets/core.esm-DnBs-lOq.js","assets/sortable.esm-CO7wFmva.js","assets/flag-B0lzQMwU.js","assets/TaskBoardView-B6c8ojm6.js","assets/square-kanban-Dqi12QEz.js","assets/CalendarView-C78UrDqy.js","assets/BrainModal-D8FPvWmk.js","assets/index-Ca_DMGSD.js","assets/send-D_Q73fy5.js","assets/AddCardsPanel-CjJQso_t.js","assets/history-DcVPhnMW.js","assets/list-ordered-BocS81z7.js","assets/TemplateModal-CVtTJ-vl.js","assets/mockReports-hNMTAvaF.js","assets/ReportViewPage-BLi4q0Cy.js","assets/HomePage-BRdV5P-7.js","assets/InboxPage-Dk3xnAJr.js","assets/constants-3htZeBAr.js","assets/archive-B5hi2J3E.js","assets/DiscussionPage-CtXO2Pya.js","assets/list-C1Bqz9HN.js","assets/SpaceViewPage-C1n_ZDjK.js","assets/TaskBoard-DtWQ9TD1.js","assets/copy-DVAeLwUw.js","assets/remindersService-D4385-cd.js","assets/goalsService-iUD79QZp.js","assets/save-fj6OIbpp.js","assets/MindMapPage-DvVeyKcv.js","assets/GoalsPage-mbezJUvK.js","assets/DashboardShell-CxLsSzMF.js","assets/OverviewPage-sTIoQbDO.js","assets/RemindersPage-DOPzmWCQ.js","assets/TasksPage-BXdrBUYu.js","assets/VaultPage-CKyptH9T.js","assets/LocalMarketplacePage-CQFlQvHZ.js","assets/SettingsPage-i1Kw_i8Q.js","assets/TeamPage-BMlZpkkV.js","assets/MaintenancePage-DWXXkpYc.js","assets/ProductionPage-JFJEoepD.js","assets/QualityPage-DNPlRzSl.js","assets/SalesPage-CxF5m6r6.js","assets/FinancePage-BzvcBj1K.js","assets/ITPage-By7yRgON.js","assets/HRPage-Crx0z0wD.js","assets/MarketingPage-Bb_NiRx_.js","assets/ProcurementPage-CLnMlNnY.js","assets/WarehousePage-BaxBJ1Cw.js","assets/ShippingPage-BAzijNaG.js","assets/PlanningPage-C3mrHkG9.js","assets/FleetPage-BRcezV3G.js","assets/VendorsPage-pKz4fEJc.js"])))=>i.map(i=>d[i]);
var MD=Object.defineProperty;var TD=(i,e,t)=>e in i?MD(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var wa=(i,e,t)=>TD(i,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();var dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var v5={exports:{}},$g={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function ED(){if(YA)return $g;YA=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,r){var o=null;if(r!==void 0&&(o=""+r),a.key!==void 0&&(o=""+a.key),"key"in a){r={};for(var l in a)l!=="key"&&(r[l]=a[l])}else r=a;return a=r.ref,{$$typeof:i,type:n,key:o,ref:a!==void 0?a:null,props:r}}return $g.Fragment=e,$g.jsx=t,$g.jsxs=t,$g}var $A;function CD(){return $A||($A=1,v5.exports=ED()),v5.exports}var A=CD(),b5={exports:{}},Zn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function ND(){if(KA)return Zn;KA=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function g(Z){return Z===null||typeof Z!="object"?null:(Z=x&&Z[x]||Z["@@iterator"],typeof Z=="function"?Z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,M={};function b(Z,V,re){this.props=Z,this.context=V,this.refs=M,this.updater=re||_}b.prototype.isReactComponent={},b.prototype.setState=function(Z,V){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,V,"setState")},b.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function E(){}E.prototype=b.prototype;function C(Z,V,re){this.props=Z,this.context=V,this.refs=M,this.updater=re||_}var D=C.prototype=new E;D.constructor=C,S(D,b.prototype),D.isPureReactComponent=!0;var k=Array.isArray;function H(){}var G={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function O(Z,V,re){var ce=re.ref;return{$$typeof:i,type:Z,key:V,ref:ce!==void 0?ce:null,props:re}}function z(Z,V){return O(Z.type,V,Z.props)}function q(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===i}function I(Z){var V={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(re){return V[re]})}var $=/\/+/g;function U(Z,V){return typeof Z=="object"&&Z!==null&&Z.key!=null?I(""+Z.key):V.toString(36)}function oe(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(H,H):(Z.status="pending",Z.then(function(V){Z.status==="pending"&&(Z.status="fulfilled",Z.value=V)},function(V){Z.status==="pending"&&(Z.status="rejected",Z.reason=V)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function J(Z,V,re,ce,pe){var me=typeof Z;(me==="undefined"||me==="boolean")&&(Z=null);var Ee=!1;if(Z===null)Ee=!0;else switch(me){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(Z.$$typeof){case i:case e:Ee=!0;break;case m:return Ee=Z._init,J(Ee(Z._payload),V,re,ce,pe)}}if(Ee)return pe=pe(Z),Ee=ce===""?"."+U(Z,0):ce,k(pe)?(re="",Ee!=null&&(re=Ee.replace($,"$&/")+"/"),J(pe,V,re,"",function(We){return We})):pe!=null&&(q(pe)&&(pe=z(pe,re+(pe.key==null||Z&&Z.key===pe.key?"":(""+pe.key).replace($,"$&/")+"/")+Ee)),V.push(pe)),1;Ee=0;var Ue=ce===""?".":ce+":";if(k(Z))for(var ze=0;ze<Z.length;ze++)ce=Z[ze],me=Ue+U(ce,ze),Ee+=J(ce,V,re,me,pe);else if(ze=g(Z),typeof ze=="function")for(Z=ze.call(Z),ze=0;!(ce=Z.next()).done;)ce=ce.value,me=Ue+U(ce,ze++),Ee+=J(ce,V,re,me,pe);else if(me==="object"){if(typeof Z.then=="function")return J(oe(Z),V,re,ce,pe);throw V=String(Z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ae(Z,V,re){if(Z==null)return Z;var ce=[],pe=0;return J(Z,ce,"","",function(me){return V.call(re,me,pe++)}),ce}function te(Z){if(Z._status===-1){var V=Z._result;V=V(),V.then(function(re){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=re)},function(re){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=re)}),Z._status===-1&&(Z._status=0,Z._result=V)}if(Z._status===1)return Z._result.default;throw Z._result}var le=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},Me={map:ae,forEach:function(Z,V,re){ae(Z,function(){V.apply(this,arguments)},re)},count:function(Z){var V=0;return ae(Z,function(){V++}),V},toArray:function(Z){return ae(Z,function(V){return V})||[]},only:function(Z){if(!q(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return Zn.Activity=y,Zn.Children=Me,Zn.Component=b,Zn.Fragment=t,Zn.Profiler=a,Zn.PureComponent=C,Zn.StrictMode=n,Zn.Suspense=u,Zn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Zn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return G.H.useMemoCache(Z)}},Zn.cache=function(Z){return function(){return Z.apply(null,arguments)}},Zn.cacheSignal=function(){return null},Zn.cloneElement=function(Z,V,re){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var ce=S({},Z.props),pe=Z.key;if(V!=null)for(me in V.key!==void 0&&(pe=""+V.key),V)!X.call(V,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&V.ref===void 0||(ce[me]=V[me]);var me=arguments.length-2;if(me===1)ce.children=re;else if(1<me){for(var Ee=Array(me),Ue=0;Ue<me;Ue++)Ee[Ue]=arguments[Ue+2];ce.children=Ee}return O(Z.type,pe,ce)},Zn.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:r,_context:Z},Z},Zn.createElement=function(Z,V,re){var ce,pe={},me=null;if(V!=null)for(ce in V.key!==void 0&&(me=""+V.key),V)X.call(V,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(pe[ce]=V[ce]);var Ee=arguments.length-2;if(Ee===1)pe.children=re;else if(1<Ee){for(var Ue=Array(Ee),ze=0;ze<Ee;ze++)Ue[ze]=arguments[ze+2];pe.children=Ue}if(Z&&Z.defaultProps)for(ce in Ee=Z.defaultProps,Ee)pe[ce]===void 0&&(pe[ce]=Ee[ce]);return O(Z,me,pe)},Zn.createRef=function(){return{current:null}},Zn.forwardRef=function(Z){return{$$typeof:l,render:Z}},Zn.isValidElement=q,Zn.lazy=function(Z){return{$$typeof:m,_payload:{_status:-1,_result:Z},_init:te}},Zn.memo=function(Z,V){return{$$typeof:d,type:Z,compare:V===void 0?null:V}},Zn.startTransition=function(Z){var V=G.T,re={};G.T=re;try{var ce=Z(),pe=G.S;pe!==null&&pe(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(H,le)}catch(me){le(me)}finally{V!==null&&re.types!==null&&(V.types=re.types),G.T=V}},Zn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Zn.use=function(Z){return G.H.use(Z)},Zn.useActionState=function(Z,V,re){return G.H.useActionState(Z,V,re)},Zn.useCallback=function(Z,V){return G.H.useCallback(Z,V)},Zn.useContext=function(Z){return G.H.useContext(Z)},Zn.useDebugValue=function(){},Zn.useDeferredValue=function(Z,V){return G.H.useDeferredValue(Z,V)},Zn.useEffect=function(Z,V){return G.H.useEffect(Z,V)},Zn.useEffectEvent=function(Z){return G.H.useEffectEvent(Z)},Zn.useId=function(){return G.H.useId()},Zn.useImperativeHandle=function(Z,V,re){return G.H.useImperativeHandle(Z,V,re)},Zn.useInsertionEffect=function(Z,V){return G.H.useInsertionEffect(Z,V)},Zn.useLayoutEffect=function(Z,V){return G.H.useLayoutEffect(Z,V)},Zn.useMemo=function(Z,V){return G.H.useMemo(Z,V)},Zn.useOptimistic=function(Z,V){return G.H.useOptimistic(Z,V)},Zn.useReducer=function(Z,V,re){return G.H.useReducer(Z,V,re)},Zn.useRef=function(Z){return G.H.useRef(Z)},Zn.useState=function(Z){return G.H.useState(Z)},Zn.useSyncExternalStore=function(Z,V,re){return G.H.useSyncExternalStore(Z,V,re)},Zn.useTransition=function(){return G.H.useTransition()},Zn.version="19.2.0",Zn}var ZA;function cg(){return ZA||(ZA=1,b5.exports=ND()),b5.exports}var Te=cg();const Mh=lg(Te);var _5={exports:{}},Kg={},w5={exports:{}},S5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function RD(){return JA||(JA=1,(function(i){function e(J,ae){var te=J.length;J.push(ae);e:for(;0<te;){var le=te-1>>>1,Me=J[le];if(0<a(Me,ae))J[le]=ae,J[te]=Me,te=le;else break e}}function t(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ae=J[0],te=J.pop();if(te!==ae){J[0]=te;e:for(var le=0,Me=J.length,Z=Me>>>1;le<Z;){var V=2*(le+1)-1,re=J[V],ce=V+1,pe=J[ce];if(0>a(re,te))ce<Me&&0>a(pe,re)?(J[le]=pe,J[ce]=te,le=ce):(J[le]=re,J[V]=te,le=V);else if(ce<Me&&0>a(pe,te))J[le]=pe,J[ce]=te,le=ce;else break e}}return ae}function a(J,ae){var te=J.sortIndex-ae.sortIndex;return te!==0?te:J.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var u=[],d=[],m=1,y=null,x=3,g=!1,_=!1,S=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(J){for(var ae=t(d);ae!==null;){if(ae.callback===null)n(d);else if(ae.startTime<=J)n(d),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=t(d)}}function k(J){if(S=!1,D(J),!_)if(t(u)!==null)_=!0,H||(H=!0,I());else{var ae=t(d);ae!==null&&oe(k,ae.startTime-J)}}var H=!1,G=-1,X=5,O=-1;function z(){return M?!0:!(i.unstable_now()-O<X)}function q(){if(M=!1,H){var J=i.unstable_now();O=J;var ae=!0;try{e:{_=!1,S&&(S=!1,E(G),G=-1),g=!0;var te=x;try{t:{for(D(J),y=t(u);y!==null&&!(y.expirationTime>J&&z());){var le=y.callback;if(typeof le=="function"){y.callback=null,x=y.priorityLevel;var Me=le(y.expirationTime<=J);if(J=i.unstable_now(),typeof Me=="function"){y.callback=Me,D(J),ae=!0;break t}y===t(u)&&n(u),D(J)}else n(u);y=t(u)}if(y!==null)ae=!0;else{var Z=t(d);Z!==null&&oe(k,Z.startTime-J),ae=!1}}break e}finally{y=null,x=te,g=!1}ae=void 0}}finally{ae?I():H=!1}}}var I;if(typeof C=="function")I=function(){C(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,U=$.port2;$.port1.onmessage=q,I=function(){U.postMessage(null)}}else I=function(){b(q,0)};function oe(J,ae){G=b(function(){J(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(J){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var te=x;x=ae;try{return J()}finally{x=te}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var te=x;x=J;try{return ae()}finally{x=te}},i.unstable_scheduleCallback=function(J,ae,te){var le=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,J){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=te+Me,J={id:m++,callback:ae,priorityLevel:J,startTime:te,expirationTime:Me,sortIndex:-1},te>le?(J.sortIndex=te,e(d,J),t(u)===null&&J===t(d)&&(S?(E(G),G=-1):S=!0,oe(k,te-le))):(J.sortIndex=Me,e(u,J),_||g||(_=!0,H||(H=!0,I()))),J},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(J){var ae=x;return function(){var te=x;x=ae;try{return J.apply(this,arguments)}finally{x=te}}}})(S5)),S5}var QA;function LD(){return QA||(QA=1,w5.exports=RD()),w5.exports}var A5={exports:{}},Eo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e4;function DD(){if(e4)return Eo;e4=1;var i=cg();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(u,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:u,containerInfo:d,implementation:m}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Eo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Eo.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return r(u,d,null,m)},Eo.flushSync=function(u){var d=o.T,m=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=d,n.p=m,n.d.f()}},Eo.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},Eo.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Eo.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var m=d.as,y=l(m,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,g=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:g}):m==="script"&&n.d.X(u,{crossOrigin:y,integrity:x,fetchPriority:g,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Eo.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=l(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},Eo.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=l(m,d.crossOrigin);n.d.L(u,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Eo.preloadModule=function(u,d){if(typeof u=="string")if(d){var m=l(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},Eo.requestFormReset=function(u){n.d.r(u)},Eo.unstable_batchedUpdates=function(u,d){return u(d)},Eo.useFormState=function(u,d,m){return o.H.useFormState(u,d,m)},Eo.useFormStatus=function(){return o.H.useHostTransitionStatus()},Eo.version="19.2.0",Eo}var t4;function i6(){if(t4)return A5.exports;t4=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),A5.exports=DD(),A5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n4;function OD(){if(n4)return Kg;n4=1;var i=LD(),e=cg(),t=i6();function n(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function r(s){var c=s,p=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(p=c.return),s=c.return;while(s)}return c.tag===3?p:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(r(s)!==s)throw Error(n(188))}function d(s){var c=s.alternate;if(!c){if(c=r(s),c===null)throw Error(n(188));return c!==s?null:s}for(var p=s,v=c;;){var N=p.return;if(N===null)break;var P=N.alternate;if(P===null){if(v=N.return,v!==null){p=v;continue}break}if(N.child===P.child){for(P=N.child;P;){if(P===p)return u(N),s;if(P===v)return u(N),c;P=P.sibling}throw Error(n(188))}if(p.return!==v.return)p=N,v=P;else{for(var ne=!1,_e=N.child;_e;){if(_e===p){ne=!0,p=N,v=P;break}if(_e===v){ne=!0,v=N,p=P;break}_e=_e.sibling}if(!ne){for(_e=P.child;_e;){if(_e===p){ne=!0,p=P,v=N;break}if(_e===v){ne=!0,v=P,p=N;break}_e=_e.sibling}if(!ne)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:c}function m(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=m(s),c!==null)return c;s=s.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function I(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var $=Symbol.for("react.client.reference");function U(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case b:return"Profiler";case M:return"StrictMode";case k:return"Suspense";case H:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case C:return s.displayName||"Context";case E:return(s._context.displayName||"Context")+".Consumer";case D:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return c=s.displayName||null,c!==null?c:U(s.type)||"Memo";case X:c=s._payload,s=s._init;try{return U(s(c))}catch{}}return null}var oe=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},le=[],Me=-1;function Z(s){return{current:s}}function V(s){0>Me||(s.current=le[Me],le[Me]=null,Me--)}function re(s,c){Me++,le[Me]=s.current,s.current=c}var ce=Z(null),pe=Z(null),me=Z(null),Ee=Z(null);function Ue(s,c){switch(re(me,c),re(pe,s),re(ce,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?yA(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=yA(c),s=xA(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(ce),re(ce,s)}function ze(){V(ce),V(pe),V(me)}function We(s){s.memoizedState!==null&&re(Ee,s);var c=ce.current,p=xA(c,s.type);c!==p&&(re(pe,s),re(ce,p))}function at(s){pe.current===s&&(V(ce),V(pe)),Ee.current===s&&(V(Ee),Gg._currentValue=te)}var Ct,gt;function W(s){if(Ct===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Ct=c&&c[1]||"",gt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+s+gt}var j=!1;function xe(s,c){if(!s||j)return"";j=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(At){var _t=At}Reflect.construct(s,[],Ut)}else{try{Ut.call()}catch(At){_t=At}s.call(Ut.prototype)}}else{try{throw Error()}catch(At){_t=At}(Ut=s())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(At){if(At&&_t&&typeof At.stack=="string")return[At.stack,_t.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=v.DetermineComponentFrameRoot(),ne=P[0],_e=P[1];if(ne&&_e){var Ve=ne.split(`
`),pt=_e.split(`
`);for(N=v=0;v<Ve.length&&!Ve[v].includes("DetermineComponentFrameRoot");)v++;for(;N<pt.length&&!pt[N].includes("DetermineComponentFrameRoot");)N++;if(v===Ve.length||N===pt.length)for(v=Ve.length-1,N=pt.length-1;1<=v&&0<=N&&Ve[v]!==pt[N];)N--;for(;1<=v&&0<=N;v--,N--)if(Ve[v]!==pt[N]){if(v!==1||N!==1)do if(v--,N--,0>N||Ve[v]!==pt[N]){var Lt=`
`+Ve[v].replace(" at new "," at ");return s.displayName&&Lt.includes("<anonymous>")&&(Lt=Lt.replace("<anonymous>",s.displayName)),Lt}while(1<=v&&0<=N);break}}}finally{j=!1,Error.prepareStackTrace=p}return(p=s?s.displayName||s.name:"")?W(p):""}function de(s,c){switch(s.tag){case 26:case 27:case 5:return W(s.type);case 16:return W("Lazy");case 13:return s.child!==c&&c!==null?W("Suspense Fallback"):W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return xe(s.type,!1);case 11:return xe(s.type.render,!1);case 1:return xe(s.type,!0);case 31:return W("Activity");default:return""}}function ue(s){try{var c="",p=null;do c+=de(s,p),p=s,s=s.return;while(s);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var ie=Object.prototype.hasOwnProperty,Re=i.unstable_scheduleCallback,Pe=i.unstable_cancelCallback,ge=i.unstable_shouldYield,se=i.unstable_requestPaint,ee=i.unstable_now,Ae=i.unstable_getCurrentPriorityLevel,je=i.unstable_ImmediatePriority,Ge=i.unstable_UserBlockingPriority,Be=i.unstable_NormalPriority,mt=i.unstable_LowPriority,yt=i.unstable_IdlePriority,Mt=i.log,jt=i.unstable_setDisableYieldValue,Ke=null,st=null;function Dt(s){if(typeof Mt=="function"&&jt(s),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Ke,s)}catch{}}var De=Math.clz32?Math.clz32:Ne,qe=Math.log,St=Math.LN2;function Ne(s){return s>>>=0,s===0?32:31-(qe(s)/St|0)|0}var xt=256,Tt=262144,bt=4194304;function ot(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function dt(s,c,p){var v=s.pendingLanes;if(v===0)return 0;var N=0,P=s.suspendedLanes,ne=s.pingedLanes;s=s.warmLanes;var _e=v&134217727;return _e!==0?(v=_e&~P,v!==0?N=ot(v):(ne&=_e,ne!==0?N=ot(ne):p||(p=_e&~s,p!==0&&(N=ot(p))))):(_e=v&~P,_e!==0?N=ot(_e):ne!==0?N=ot(ne):p||(p=v&~s,p!==0&&(N=ot(p)))),N===0?0:c!==0&&c!==N&&(c&P)===0&&(P=N&-N,p=c&-c,P>=p||P===32&&(p&4194048)!==0)?c:N}function qt(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Xt(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var s=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),s}function xn(s){for(var c=[],p=0;31>p;p++)c.push(s);return c}function $t(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Fi(s,c,p,v,N,P){var ne=s.pendingLanes;s.pendingLanes=p,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=p,s.entangledLanes&=p,s.errorRecoveryDisabledLanes&=p,s.shellSuspendCounter=0;var _e=s.entanglements,Ve=s.expirationTimes,pt=s.hiddenUpdates;for(p=ne&~p;0<p;){var Lt=31-De(p),Ut=1<<Lt;_e[Lt]=0,Ve[Lt]=-1;var _t=pt[Lt];if(_t!==null)for(pt[Lt]=null,Lt=0;Lt<_t.length;Lt++){var At=_t[Lt];At!==null&&(At.lane&=-536870913)}p&=~Ut}v!==0&&Gs(s,v,0),P!==0&&N===0&&s.tag!==0&&(s.suspendedLanes|=P&~(ne&~c))}function Gs(s,c,p){s.pendingLanes|=c,s.suspendedLanes&=~c;var v=31-De(c);s.entangledLanes|=c,s.entanglements[v]=s.entanglements[v]|1073741824|p&261930}function Ar(s,c){var p=s.entangledLanes|=c;for(s=s.entanglements;p;){var v=31-De(p),N=1<<v;N&c|s[v]&c&&(s[v]|=c),p&=~N}}function Mr(s,c){var p=c&-c;return p=(p&42)!==0?1:ei(p),(p&(s.suspendedLanes|c))!==0?0:p}function ei(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ya(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ki(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:FA(s.type))}function dr(s,c){var p=ae.p;try{return ae.p=s,c()}finally{ae.p=p}}var Pa=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Pa,ji="__reactProps$"+Pa,Xa="__reactContainer$"+Pa,Hr="__reactEvents$"+Pa,gs="__reactListeners$"+Pa,Jl="__reactHandles$"+Pa,ys="__reactResources$"+Pa,xs="__reactMarker$"+Pa;function co(s){delete s[Dn],delete s[ji],delete s[Hr],delete s[gs],delete s[Jl]}function da(s){var c=s[Dn];if(c)return c;for(var p=s.parentNode;p;){if(c=p[Xa]||p[Dn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(s=MA(s);s!==null;){if(p=s[Dn])return p;s=MA(s)}return c}s=p,p=s.parentNode}return null}function be(s){if(s=s[Dn]||s[Xa]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Ze(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(n(33))}function ft(s){var c=s[ys];return c||(c=s[ys]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ct(s){s[xs]=!0}var Je=new Set,Ft={};function Wt(s,c){Kt(s,c),Kt(s+"Capture",c)}function Kt(s,c){for(Ft[s]=c,s=0;s<c.length;s++)Je.add(c[s])}var Zt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vn={},An={};function mn(s){return ie.call(An,s)?!0:ie.call(vn,s)?!1:Zt.test(s)?An[s]=!0:(vn[s]=!0,!1)}function Rn(s,c,p){if(mn(c))if(p===null)s.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+p)}}function ti(s,c,p){if(p===null)s.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+p)}}function di(s,c,p,v){if(v===null)s.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttributeNS(c,p,""+v)}}function Sn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function _i(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function cn(s,c,p){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var N=v.get,P=v.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return N.call(this)},set:function(ne){p=""+ne,P.call(this,ne)}}),Object.defineProperty(s,c,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(ne){p=""+ne},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function wi(s){if(!s._valueTracker){var c=_i(s)?"checked":"value";s._valueTracker=cn(s,c,""+s[c])}}function ni(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return s&&(v=_i(s)?s.checked?"true":"false":s.value),s=v,s!==p?(c.setValue(s),!0):!1}function Oi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ra=/[\n"\\]/g;function pi(s){return s.replace(ra,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ws(s,c,p,v,N,P,ne,_e){s.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?s.type=ne:s.removeAttribute("type"),c!=null?ne==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Sn(c)):s.value!==""+Sn(c)&&(s.value=""+Sn(c)):ne!=="submit"&&ne!=="reset"||s.removeAttribute("value"),c!=null?Ya(s,ne,Sn(c)):p!=null?Ya(s,ne,Sn(p)):v!=null&&s.removeAttribute("value"),N==null&&P!=null&&(s.defaultChecked=!!P),N!=null&&(s.checked=N&&typeof N!="function"&&typeof N!="symbol"),_e!=null&&typeof _e!="function"&&typeof _e!="symbol"&&typeof _e!="boolean"?s.name=""+Sn(_e):s.removeAttribute("name")}function Vi(s,c,p,v,N,P,ne,_e){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.type=P),c!=null||p!=null){if(!(P!=="submit"&&P!=="reset"||c!=null)){wi(s);return}p=p!=null?""+Sn(p):"",c=c!=null?""+Sn(c):p,_e||c===s.value||(s.value=c),s.defaultValue=c}v=v??N,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=_e?s.checked:!!v,s.defaultChecked=!!v,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(s.name=ne),wi(s)}function Ya(s,c,p){c==="number"&&Oi(s.ownerDocument)===s||s.defaultValue===""+p||(s.defaultValue=""+p)}function Zi(s,c,p,v){if(s=s.options,c){c={};for(var N=0;N<p.length;N++)c["$"+p[N]]=!0;for(p=0;p<s.length;p++)N=c.hasOwnProperty("$"+s[p].value),s[p].selected!==N&&(s[p].selected=N),N&&v&&(s[p].defaultSelected=!0)}else{for(p=""+Sn(p),c=null,N=0;N<s.length;N++){if(s[N].value===p){s[N].selected=!0,v&&(s[N].defaultSelected=!0);return}c!==null||s[N].disabled||(c=s[N])}c!==null&&(c.selected=!0)}}function Va(s,c,p){if(c!=null&&(c=""+Sn(c),c!==s.value&&(s.value=c),p==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=p!=null?""+Sn(p):""}function xa(s,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(n(92));if(oe(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=Sn(c),s.defaultValue=p,v=s.textContent,v===p&&v!==""&&v!==null&&(s.value=v),wi(s)}function os(s,c){if(c){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=c;return}}s.textContent=c}var Tr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function su(s,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":v?s.setProperty(c,p):typeof p!="number"||p===0||Tr.has(c)?c==="float"?s.cssFloat=p:s[c]=(""+p).trim():s[c]=p+"px"}function Od(s,c,p){if(c!=null&&typeof c!="object")throw Error(n(62));if(s=s.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var N in c)v=c[N],c.hasOwnProperty(N)&&p[N]!==v&&su(s,N,v)}else for(var P in c)c.hasOwnProperty(P)&&su(s,P,c[P])}function ou(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(s){return Pd.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function uo(){}var Ho=null;function Nc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ql=null,Cn=null;function kd(s){var c=be(s);if(c&&(s=c.stateNode)){var p=s[ji]||null;e:switch(s=c.stateNode,c.type){case"input":if(Ws(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+pi(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==s&&v.form===s.form){var N=v[ji]||null;if(!N)throw Error(n(90));Ws(v,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===s.form&&ni(v)}break e;case"textarea":Va(s,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Zi(s,!!p.multiple,c,!1)}}}var Xu=!1;function Id(s,c,p){if(Xu)return s(c,p);Xu=!0;try{var v=s(c);return v}finally{if(Xu=!1,(Ql!==null||Cn!==null)&&(Se(),Ql&&(c=Ql,s=Cn,Cn=Ql=null,kd(c),s)))for(c=0;c<s.length;c++)kd(s[c])}}function bs(s,c){var p=s.stateNode;if(p===null)return null;var v=p[ji]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,c,typeof p));return p}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=!1;if(Er)try{var lu={};Object.defineProperty(lu,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",lu,lu),window.removeEventListener("test",lu,lu)}catch{Yu=!1}var Xs=null,Rc=null,Ds=null;function $u(){if(Ds)return Ds;var s,c=Rc,p=c.length,v,N="value"in Xs?Xs.value:Xs.textContent,P=N.length;for(s=0;s<p&&c[s]===N[s];s++);var ne=p-s;for(v=1;v<=ne&&c[p-v]===N[P-v];v++);return Ds=N.slice(s,1<v?1-v:void 0)}function _s(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function cu(){return!0}function uu(){return!1}function tr(s){function c(p,v,N,P,ne){this._reactName=p,this._targetInst=N,this.type=v,this.nativeEvent=P,this.target=ne,this.currentTarget=null;for(var _e in s)s.hasOwnProperty(_e)&&(p=s[_e],this[_e]=p?p(P):P[_e]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?cu:uu,this.isPropagationStopped=uu,this}return y(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=cu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=cu)},persist:function(){},isPersistent:cu}),c}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=tr(qo),ws=y({},qo,{view:0,detail:0}),ec=tr(ws),Lc,Go,gl,Dc=y({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gl&&(gl&&s.type==="mousemove"?(Lc=s.screenX-gl.screenX,Go=s.screenY-gl.screenY):Go=Lc=0,gl=s),Lc)},movementY:function(s){return"movementY"in s?s.movementY:Go}}),Ud=tr(Dc),va=y({},Dc,{dataTransfer:0}),yl=tr(va),zd=y({},ws,{relatedTarget:0}),xl=tr(zd),Bd=y({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),F=tr(Bd),he=y({},qo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ie=tr(he),He=y({},qo,{data:0}),Qe=tr(He),Rt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dn(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=sn[s])?!!c[s]:!1}function On(){return dn}var jn=y({},ws,{key:function(s){if(s.key){var c=Rt[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=_s(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(s){return s.type==="keypress"?_s(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_s(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),mi=tr(jn),Ta=y({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ka=tr(Ta),sa=y({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On}),oa=tr(sa),Ha=y({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),qr=tr(Ha),vl=y({},Dc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Cr=tr(vl),Gr=y({},qo,{newState:0,oldState:0}),du=tr(Gr),Oc=[9,13,27,32],Os=Er&&"CompositionEvent"in window,Ps=null;Er&&"documentMode"in document&&(Ps=document.documentMode);var $s=Er&&"TextEvent"in window&&!Ps,Ea=Er&&(!Os||Ps&&8<Ps&&11>=Ps),$a=" ",tc=!1;function bl(s,c){switch(s){case"keyup":return Oc.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _l(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ho=!1;function Nr(s,c){switch(s){case"compositionend":return _l(c);case"keypress":return c.which!==32?null:(tc=!0,$a);case"textInput":return s=c.data,s===$a&&tc?null:s;default:return null}}function wl(s,c){if(ho)return s==="compositionend"||!Os&&bl(s,c)?(s=$u(),Ds=Rc=Xs=null,ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ea&&c.locale!=="ko"?null:c.data;default:return null}}var Rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ku(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Rr[s.type]:c==="textarea"}function Ss(s,c,p,v){Ql?Cn?Cn.push(v):Cn=[v]:Ql=v,c=Ky(c,"onChange"),0<c.length&&(p=new Ys("onChange","change",null,p,v),s.push({event:p,listeners:c}))}var fo=null,Sl=null;function hu(s){dA(s,0)}function Ks(s){var c=Ze(s);if(ni(c))return s}function nc(s,c){if(s==="change")return c}var Wr=!1;if(Er){var hr;if(Er){var Mi="oninput"in document;if(!Mi){var Al=document.createElement("div");Al.setAttribute("oninput","return;"),Mi=typeof Al.oninput=="function"}hr=Mi}else hr=!1;Wr=hr&&(!document.documentMode||9<document.documentMode)}function ic(){fo&&(fo.detachEvent("onpropertychange",fu),Sl=fo=null)}function fu(s){if(s.propertyName==="value"&&Ks(Sl)){var c=[];Ss(c,Sl,s,Nc(s)),Id(hu,c)}}function Ml(s,c,p){s==="focusin"?(ic(),fo=c,Sl=p,fo.attachEvent("onpropertychange",fu)):s==="focusout"&&ic()}function Ji(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ks(Sl)}function jd(s,c){if(s==="click")return Ks(c)}function Wo(s,c){if(s==="input"||s==="change")return Ks(c)}function ls(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Hi=typeof Object.is=="function"?Object.is:ls;function Tl(s,c){if(Hi(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var p=Object.keys(s),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var N=p[v];if(!ie.call(c,N)||!Hi(s[N],c[N]))return!1}return!0}function pu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function mu(s,c){var p=pu(s);s=0;for(var v;p;){if(p.nodeType===3){if(v=s+p.textContent.length,s<=c&&v>=c)return{node:p,offset:c-s};s=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=pu(p)}}function Xo(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Xo(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function Yo(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Oi(s.document);c instanceof s.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)s=c.contentWindow;else break;c=Oi(s.document)}return c}function Zs(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Pc=Er&&"documentMode"in document&&11>=document.documentMode,Js=null,El=null,Xr=null,qa=!1;function Si(s,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;qa||Js==null||Js!==Oi(v)||(v=Js,"selectionStart"in v&&Zs(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Xr&&Tl(Xr,v)||(Xr=v,v=Ky(El,"onSelect"),0<v.length&&(c=new Ys("onSelect","select",null,c,p),s.push({event:c,listeners:v}),c.target=Js)))}function xi(s,c){var p={};return p[s.toLowerCase()]=c.toLowerCase(),p["Webkit"+s]="webkit"+c,p["Moz"+s]="moz"+c,p}var ha={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},Ia={},Ua={};Er&&(Ua=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function po(s){if(Ia[s])return Ia[s];if(!ha[s])return s;var c=ha[s],p;for(p in c)if(c.hasOwnProperty(p)&&p in Ua)return Ia[s]=c[p];return s}var fr=po("animationend"),Zu=po("animationiteration"),$o=po("animationstart"),gu=po("transitionrun"),ac=po("transitionstart"),kh=po("transitioncancel"),Fd=po("transitionend"),Cl=new Map,kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kc.push("scrollEnd");function Yr(s,c){Cl.set(s,c),Wt(c,[s])}var rc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},pr=[],Ic=0,Vd=0;function sc(){for(var s=Ic,c=Vd=Ic=0;c<s;){var p=pr[c];pr[c++]=null;var v=pr[c];pr[c++]=null;var N=pr[c];pr[c++]=null;var P=pr[c];if(pr[c++]=null,v!==null&&N!==null){var ne=v.pending;ne===null?N.next=N:(N.next=ne.next,ne.next=N),v.pending=N}P!==0&&xu(p,N,P)}}function Ju(s,c,p,v){pr[Ic++]=s,pr[Ic++]=c,pr[Ic++]=p,pr[Ic++]=v,Vd|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function yu(s,c,p,v){return Ju(s,c,p,v),Lr(s)}function Nl(s,c){return Ju(s,null,null,c),Lr(s)}function xu(s,c,p){s.lanes|=p;var v=s.alternate;v!==null&&(v.lanes|=p);for(var N=!1,P=s.return;P!==null;)P.childLanes|=p,v=P.alternate,v!==null&&(v.childLanes|=p),P.tag===22&&(s=P.stateNode,s===null||s._visibility&1||(N=!0)),s=P,P=P.return;return s.tag===3?(P=s.stateNode,N&&c!==null&&(N=31-De(p),s=P.hiddenUpdates,v=s[N],v===null?s[N]=[c]:v.push(c),c.lane=p|536870912),P):null}function Lr(s){if(50<sh)throw sh=0,oh=null,Error(n(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var mr={};function Hd(s,c,p,v){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(s,c,p,v){return new Hd(s,c,p,v)}function cs(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qs(s,c){var p=s.alternate;return p===null?(p=Dr(s.tag,c,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=c,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&65011712,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,c=s.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.refCleanup=s.refCleanup,p}function gr(s,c){s.flags&=65011714;var p=s.alternate;return p===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,c=p.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function vu(s,c,p,v,N,P){var ne=0;if(v=s,typeof s=="function")cs(s)&&(ne=1);else if(typeof s=="string")ne=fD(s,p,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=Dr(31,p,c,N),s.elementType=O,s.lanes=P,s;case S:return Rl(p.children,N,P,c);case M:ne=8,N|=24;break;case b:return s=Dr(12,p,c,N|2),s.elementType=b,s.lanes=P,s;case k:return s=Dr(13,p,c,N),s.elementType=k,s.lanes=P,s;case H:return s=Dr(19,p,c,N),s.elementType=H,s.lanes=P,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:ne=10;break e;case E:ne=9;break e;case D:ne=11;break e;case G:ne=14;break e;case X:ne=16,v=null;break e}ne=29,p=Error(n(130,s===null?"null":typeof s,"")),v=null}return c=Dr(ne,p,c,N),c.elementType=s,c.type=v,c.lanes=P,c}function Rl(s,c,p,v){return s=Dr(7,s,v,c),s.lanes=p,s}function Qu(s,c,p){return s=Dr(6,s,null,c),s.lanes=p,s}function Ih(s){var c=Dr(18,null,null,0);return c.stateNode=s,c}function ks(s,c,p){return c=Dr(4,s.children!==null?s.children:[],s.key,c),c.lanes=p,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var qd=new WeakMap;function Is(s,c){if(typeof s=="object"&&s!==null){var p=qd.get(s);return p!==void 0?p:(c={value:s,source:c,stack:ue(c)},qd.set(s,c),c)}return{value:s,source:c,stack:ue(c)}}var Ko=[],Uc=0,Gd=null,ed=0,eo=[],Us=0,Ll=null,mo=1,go="";function to(s,c){Ko[Uc++]=ed,Ko[Uc++]=Gd,Gd=s,ed=c}function Jf(s,c,p){eo[Us++]=mo,eo[Us++]=go,eo[Us++]=Ll,Ll=s;var v=mo;s=go;var N=32-De(v)-1;v&=~(1<<N),p+=1;var P=32-De(c)+N;if(30<P){var ne=N-N%5;P=(v&(1<<ne)-1).toString(32),v>>=ne,N-=ne,mo=1<<32-De(c)+N|p<<N|v,go=P+s}else mo=1<<P|p<<N|v,go=s}function Uh(s){s.return!==null&&(to(s,1),Jf(s,1,0))}function oc(s){for(;s===Gd;)Gd=Ko[--Uc],Ko[Uc]=null,ed=Ko[--Uc],Ko[Uc]=null;for(;s===Ll;)Ll=eo[--Us],eo[Us]=null,go=eo[--Us],eo[Us]=null,mo=eo[--Us],eo[Us]=null}function Wd(s,c){eo[Us++]=mo,eo[Us++]=go,eo[Us++]=Ll,mo=c.id,go=c.overflow,Ll=s}var Or=null,fa=null,gi=!1,us=null,Qi=!1,yo=Error(n(519));function hi(s){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw td(Is(c,s)),yo}function Xd(s){var c=s.stateNode,p=s.type,v=s.memoizedProps;switch(c[Dn]=s,c[ji]=v,p){case"dialog":Ai("cancel",c),Ai("close",c);break;case"iframe":case"object":case"embed":Ai("load",c);break;case"video":case"audio":for(p=0;p<jg.length;p++)Ai(jg[p],c);break;case"source":Ai("error",c);break;case"img":case"image":case"link":Ai("error",c),Ai("load",c);break;case"details":Ai("toggle",c);break;case"input":Ai("invalid",c),Vi(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Ai("invalid",c);break;case"textarea":Ai("invalid",c),xa(c,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||mA(c.textContent,p)?(v.popover!=null&&(Ai("beforetoggle",c),Ai("toggle",c)),v.onScroll!=null&&Ai("scroll",c),v.onScrollEnd!=null&&Ai("scrollend",c),v.onClick!=null&&(c.onclick=uo),c=!0):c=!1,c||hi(s,!0)}function lc(s){for(Or=s.return;Or;)switch(Or.tag){case 5:case 31:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Or=Or.return}}function Pr(s){if(s!==Or)return!1;if(!gi)return lc(s),gi=!0,!1;var c=s.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=s.type,p=!(p!=="form"&&p!=="button")||a5(s.type,s.memoizedProps)),p=!p),p&&fa&&hi(s),lc(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));fa=AA(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));fa=AA(s)}else c===27?(c=fa,cf(s.type)?(s=c5,c5=null,fa=s):fa=c):fa=Or?Yc(s.stateNode.nextSibling):null;return!0}function bu(){fa=Or=null,gi=!1}function Qf(){var s=us;return s!==null&&(Vs===null?Vs=s:Vs.push.apply(Vs,s),us=null),s}function td(s){us===null?us=[s]:us.push(s)}var zh=Z(null),Dl=null,$r=null;function cc(s,c,p){re(zh,c._currentValue),c._currentValue=p}function As(s){s._currentValue=zh.current,V(zh)}function xo(s,c,p){for(;s!==null;){var v=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),s===p)break;s=s.return}}function zc(s,c,p,v){var N=s.child;for(N!==null&&(N.return=s);N!==null;){var P=N.dependencies;if(P!==null){var ne=N.child;P=P.firstContext;e:for(;P!==null;){var _e=P;P=N;for(var Ve=0;Ve<c.length;Ve++)if(_e.context===c[Ve]){P.lanes|=p,_e=P.alternate,_e!==null&&(_e.lanes|=p),xo(P.return,p,s),v||(ne=null);break e}P=_e.next}}else if(N.tag===18){if(ne=N.return,ne===null)throw Error(n(341));ne.lanes|=p,P=ne.alternate,P!==null&&(P.lanes|=p),xo(ne,p,s),ne=null}else ne=N.child;if(ne!==null)ne.return=N;else for(ne=N;ne!==null;){if(ne===s){ne=null;break}if(N=ne.sibling,N!==null){N.return=ne.return,ne=N;break}ne=ne.return}N=ne}}function Ol(s,c,p,v){s=null;for(var N=c,P=!1;N!==null;){if(!P){if((N.flags&524288)!==0)P=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var ne=N.alternate;if(ne===null)throw Error(n(387));if(ne=ne.memoizedProps,ne!==null){var _e=N.type;Hi(N.pendingProps.value,ne.value)||(s!==null?s.push(_e):s=[_e])}}else if(N===Ee.current){if(ne=N.alternate,ne===null)throw Error(n(387));ne.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(s!==null?s.push(Gg):s=[Gg])}N=N.return}s!==null&&zc(c,s,p,v),c.flags|=262144}function nd(s){for(s=s.firstContext;s!==null;){if(!Hi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Bc(s){Dl=s,$r=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function kr(s){return ep(Dl,s)}function Yd(s,c){return Dl===null&&Bc(s),ep(s,c)}function ep(s,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},$r===null){if(s===null)throw Error(n(308));$r=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else $r=$r.next=c;return p}var Sm=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(p,v){s.push(v)}};this.abort=function(){c.aborted=!0,s.forEach(function(p){return p()})}},Am=i.unstable_scheduleCallback,tp=i.unstable_NormalPriority,gn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function id(){return{controller:new Sm,data:new Map,refCount:0}}function Kr(s){s.refCount--,s.refCount===0&&Am(tp,function(){s.controller.abort()})}var _u=null,Bh=0,T=0,L=null;function Y(s,c){if(_u===null){var p=_u=[];Bh=0,T=$b(),L={status:"pending",value:void 0,then:function(v){p.push(v)}}}return Bh++,c.then(Q,Q),c}function Q(){if(--Bh===0&&_u!==null){L!==null&&(L.status="fulfilled");var s=_u;_u=null,T=0,L=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function fe(s,c){var p=[],v={status:"pending",value:null,reason:null,then:function(N){p.push(N)}};return s.then(function(){v.status="fulfilled",v.value=c;for(var N=0;N<p.length;N++)(0,p[N])(c)},function(N){for(v.status="rejected",v.reason=N,N=0;N<p.length;N++)(0,p[N])(void 0)}),v}var ye=J.S;J.S=function(s,c){sf=ee(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Y(s,c),ye!==null&&ye(s,c)};var ve=Z(null);function we(){var s=ve.current;return s!==null?s:ta.pooledCache}function Ce(s,c){c===null?re(ve,ve.current):re(ve,c.pool)}function Oe(){var s=we();return s===null?null:{parent:gn._currentValue,pool:s}}var Xe=Error(n(460)),ut=Error(n(474)),Le=Error(n(542)),$e={then:function(){}};function rt(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Et(s,c,p){switch(p=s[p],p===void 0?s.push(c):p!==c&&(c.then(uo,uo),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,Vt(s),s;default:if(typeof c.status=="string")c.then(uo,uo);else{if(s=ta,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=c,s.status="pending",s.then(function(v){if(c.status==="pending"){var N=c;N.status="fulfilled",N.value=v}},function(v){if(c.status==="pending"){var N=c;N.status="rejected",N.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,Vt(s),s}throw et=c,Xe}}function lt(s){try{var c=s._init;return c(s._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(et=p,Xe):p}}var et=null;function Nt(){if(et===null)throw Error(n(459));var s=et;return et=null,s}function Vt(s){if(s===Xe||s===Le)throw Error(n(483))}var It=null,on=0;function nn(s){var c=on;return on+=1,It===null&&(It=[]),Et(It,s,c)}function Un(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function ln(s,c){throw c.$$typeof===x?Error(n(525)):(s=Object.prototype.toString.call(c),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function Kn(s){function c(nt,Ye){if(s){var ht=nt.deletions;ht===null?(nt.deletions=[Ye],nt.flags|=16):ht.push(Ye)}}function p(nt,Ye){if(!s)return null;for(;Ye!==null;)c(nt,Ye),Ye=Ye.sibling;return null}function v(nt){for(var Ye=new Map;nt!==null;)nt.key!==null?Ye.set(nt.key,nt):Ye.set(nt.index,nt),nt=nt.sibling;return Ye}function N(nt,Ye){return nt=Qs(nt,Ye),nt.index=0,nt.sibling=null,nt}function P(nt,Ye,ht){return nt.index=ht,s?(ht=nt.alternate,ht!==null?(ht=ht.index,ht<Ye?(nt.flags|=67108866,Ye):ht):(nt.flags|=67108866,Ye)):(nt.flags|=1048576,Ye)}function ne(nt){return s&&nt.alternate===null&&(nt.flags|=67108866),nt}function _e(nt,Ye,ht,Pt){return Ye===null||Ye.tag!==6?(Ye=Qu(ht,nt.mode,Pt),Ye.return=nt,Ye):(Ye=N(Ye,ht),Ye.return=nt,Ye)}function Ve(nt,Ye,ht,Pt){var Ln=ht.type;return Ln===S?Lt(nt,Ye,ht.props.children,Pt,ht.key):Ye!==null&&(Ye.elementType===Ln||typeof Ln=="object"&&Ln!==null&&Ln.$$typeof===X&&lt(Ln)===Ye.type)?(Ye=N(Ye,ht.props),Un(Ye,ht),Ye.return=nt,Ye):(Ye=vu(ht.type,ht.key,ht.props,null,nt.mode,Pt),Un(Ye,ht),Ye.return=nt,Ye)}function pt(nt,Ye,ht,Pt){return Ye===null||Ye.tag!==4||Ye.stateNode.containerInfo!==ht.containerInfo||Ye.stateNode.implementation!==ht.implementation?(Ye=ks(ht,nt.mode,Pt),Ye.return=nt,Ye):(Ye=N(Ye,ht.children||[]),Ye.return=nt,Ye)}function Lt(nt,Ye,ht,Pt,Ln){return Ye===null||Ye.tag!==7?(Ye=Rl(ht,nt.mode,Pt,Ln),Ye.return=nt,Ye):(Ye=N(Ye,ht),Ye.return=nt,Ye)}function Ut(nt,Ye,ht){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Ye=Qu(""+Ye,nt.mode,ht),Ye.return=nt,Ye;if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case g:return ht=vu(Ye.type,Ye.key,Ye.props,null,nt.mode,ht),Un(ht,Ye),ht.return=nt,ht;case _:return Ye=ks(Ye,nt.mode,ht),Ye.return=nt,Ye;case X:return Ye=lt(Ye),Ut(nt,Ye,ht)}if(oe(Ye)||I(Ye))return Ye=Rl(Ye,nt.mode,ht,null),Ye.return=nt,Ye;if(typeof Ye.then=="function")return Ut(nt,nn(Ye),ht);if(Ye.$$typeof===C)return Ut(nt,Yd(nt,Ye),ht);ln(nt,Ye)}return null}function _t(nt,Ye,ht,Pt){var Ln=Ye!==null?Ye.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Ln!==null?null:_e(nt,Ye,""+ht,Pt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case g:return ht.key===Ln?Ve(nt,Ye,ht,Pt):null;case _:return ht.key===Ln?pt(nt,Ye,ht,Pt):null;case X:return ht=lt(ht),_t(nt,Ye,ht,Pt)}if(oe(ht)||I(ht))return Ln!==null?null:Lt(nt,Ye,ht,Pt,null);if(typeof ht.then=="function")return _t(nt,Ye,nn(ht),Pt);if(ht.$$typeof===C)return _t(nt,Ye,Yd(nt,ht),Pt);ln(nt,ht)}return null}function At(nt,Ye,ht,Pt,Ln){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return nt=nt.get(ht)||null,_e(Ye,nt,""+Pt,Ln);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case g:return nt=nt.get(Pt.key===null?ht:Pt.key)||null,Ve(Ye,nt,Pt,Ln);case _:return nt=nt.get(Pt.key===null?ht:Pt.key)||null,pt(Ye,nt,Pt,Ln);case X:return Pt=lt(Pt),At(nt,Ye,ht,Pt,Ln)}if(oe(Pt)||I(Pt))return nt=nt.get(ht)||null,Lt(Ye,nt,Pt,Ln,null);if(typeof Pt.then=="function")return At(nt,Ye,ht,nn(Pt),Ln);if(Pt.$$typeof===C)return At(nt,Ye,ht,Yd(Ye,Pt),Ln);ln(Ye,Pt)}return null}function un(nt,Ye,ht,Pt){for(var Ln=null,ia=null,yn=Ye,ci=Ye=0,Di=null;yn!==null&&ci<ht.length;ci++){yn.index>ci?(Di=yn,yn=null):Di=yn.sibling;var aa=_t(nt,yn,ht[ci],Pt);if(aa===null){yn===null&&(yn=Di);break}s&&yn&&aa.alternate===null&&c(nt,yn),Ye=P(aa,Ye,ci),ia===null?Ln=aa:ia.sibling=aa,ia=aa,yn=Di}if(ci===ht.length)return p(nt,yn),gi&&to(nt,ci),Ln;if(yn===null){for(;ci<ht.length;ci++)yn=Ut(nt,ht[ci],Pt),yn!==null&&(Ye=P(yn,Ye,ci),ia===null?Ln=yn:ia.sibling=yn,ia=yn);return gi&&to(nt,ci),Ln}for(yn=v(yn);ci<ht.length;ci++)Di=At(yn,nt,ci,ht[ci],Pt),Di!==null&&(s&&Di.alternate!==null&&yn.delete(Di.key===null?ci:Di.key),Ye=P(Di,Ye,ci),ia===null?Ln=Di:ia.sibling=Di,ia=Di);return s&&yn.forEach(function(pf){return c(nt,pf)}),gi&&to(nt,ci),Ln}function kn(nt,Ye,ht,Pt){if(ht==null)throw Error(n(151));for(var Ln=null,ia=null,yn=Ye,ci=Ye=0,Di=null,aa=ht.next();yn!==null&&!aa.done;ci++,aa=ht.next()){yn.index>ci?(Di=yn,yn=null):Di=yn.sibling;var pf=_t(nt,yn,aa.value,Pt);if(pf===null){yn===null&&(yn=Di);break}s&&yn&&pf.alternate===null&&c(nt,yn),Ye=P(pf,Ye,ci),ia===null?Ln=pf:ia.sibling=pf,ia=pf,yn=Di}if(aa.done)return p(nt,yn),gi&&to(nt,ci),Ln;if(yn===null){for(;!aa.done;ci++,aa=ht.next())aa=Ut(nt,aa.value,Pt),aa!==null&&(Ye=P(aa,Ye,ci),ia===null?Ln=aa:ia.sibling=aa,ia=aa);return gi&&to(nt,ci),Ln}for(yn=v(yn);!aa.done;ci++,aa=ht.next())aa=At(yn,nt,ci,aa.value,Pt),aa!==null&&(s&&aa.alternate!==null&&yn.delete(aa.key===null?ci:aa.key),Ye=P(aa,Ye,ci),ia===null?Ln=aa:ia.sibling=aa,ia=aa);return s&&yn.forEach(function(AD){return c(nt,AD)}),gi&&to(nt,ci),Ln}function Da(nt,Ye,ht,Pt){if(typeof ht=="object"&&ht!==null&&ht.type===S&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case g:e:{for(var Ln=ht.key;Ye!==null;){if(Ye.key===Ln){if(Ln=ht.type,Ln===S){if(Ye.tag===7){p(nt,Ye.sibling),Pt=N(Ye,ht.props.children),Pt.return=nt,nt=Pt;break e}}else if(Ye.elementType===Ln||typeof Ln=="object"&&Ln!==null&&Ln.$$typeof===X&&lt(Ln)===Ye.type){p(nt,Ye.sibling),Pt=N(Ye,ht.props),Un(Pt,ht),Pt.return=nt,nt=Pt;break e}p(nt,Ye);break}else c(nt,Ye);Ye=Ye.sibling}ht.type===S?(Pt=Rl(ht.props.children,nt.mode,Pt,ht.key),Pt.return=nt,nt=Pt):(Pt=vu(ht.type,ht.key,ht.props,null,nt.mode,Pt),Un(Pt,ht),Pt.return=nt,nt=Pt)}return ne(nt);case _:e:{for(Ln=ht.key;Ye!==null;){if(Ye.key===Ln)if(Ye.tag===4&&Ye.stateNode.containerInfo===ht.containerInfo&&Ye.stateNode.implementation===ht.implementation){p(nt,Ye.sibling),Pt=N(Ye,ht.children||[]),Pt.return=nt,nt=Pt;break e}else{p(nt,Ye);break}else c(nt,Ye);Ye=Ye.sibling}Pt=ks(ht,nt.mode,Pt),Pt.return=nt,nt=Pt}return ne(nt);case X:return ht=lt(ht),Da(nt,Ye,ht,Pt)}if(oe(ht))return un(nt,Ye,ht,Pt);if(I(ht)){if(Ln=I(ht),typeof Ln!="function")throw Error(n(150));return ht=Ln.call(ht),kn(nt,Ye,ht,Pt)}if(typeof ht.then=="function")return Da(nt,Ye,nn(ht),Pt);if(ht.$$typeof===C)return Da(nt,Ye,Yd(nt,ht),Pt);ln(nt,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,Ye!==null&&Ye.tag===6?(p(nt,Ye.sibling),Pt=N(Ye,ht),Pt.return=nt,nt=Pt):(p(nt,Ye),Pt=Qu(ht,nt.mode,Pt),Pt.return=nt,nt=Pt),ne(nt)):p(nt,Ye)}return function(nt,Ye,ht,Pt){try{on=0;var Ln=Da(nt,Ye,ht,Pt);return It=null,Ln}catch(yn){if(yn===Xe||yn===Le)throw yn;var ia=Dr(29,yn,null,nt.mode);return ia.lanes=Pt,ia.return=nt,ia}finally{}}}var ba=Kn(!0),Xn=Kn(!1),an=!1;function Yt(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function za(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Nn(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Yn(s,c,p){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Ri&2)!==0){var N=v.pending;return N===null?c.next=c:(c.next=N.next,N.next=c),v.pending=c,c=Lr(s),xu(s,null,p),c}return Ju(s,v,c,p),Lr(s)}function Ti(s,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=s.pendingLanes,p|=v,c.lanes=p,Ar(s,p)}}function nr(s,c){var p=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var N=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var ne={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};P===null?N=P=ne:P=P.next=ne,p=p.next}while(p!==null);P===null?N=P=c:P=P.next=c}else N=P=c;p={baseState:v.baseState,firstBaseUpdate:N,lastBaseUpdate:P,shared:v.shared,callbacks:v.callbacks},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=c:s.next=c,p.lastBaseUpdate=c}var Zr=!1;function pa(){if(Zr){var s=L;if(s!==null)throw s}}function Ga(s,c,p,v){Zr=!1;var N=s.updateQueue;an=!1;var P=N.firstBaseUpdate,ne=N.lastBaseUpdate,_e=N.shared.pending;if(_e!==null){N.shared.pending=null;var Ve=_e,pt=Ve.next;Ve.next=null,ne===null?P=pt:ne.next=pt,ne=Ve;var Lt=s.alternate;Lt!==null&&(Lt=Lt.updateQueue,_e=Lt.lastBaseUpdate,_e!==ne&&(_e===null?Lt.firstBaseUpdate=pt:_e.next=pt,Lt.lastBaseUpdate=Ve))}if(P!==null){var Ut=N.baseState;ne=0,Lt=pt=Ve=null,_e=P;do{var _t=_e.lane&-536870913,At=_t!==_e.lane;if(At?(bi&_t)===_t:(v&_t)===_t){_t!==0&&_t===T&&(Zr=!0),Lt!==null&&(Lt=Lt.next={lane:0,tag:_e.tag,payload:_e.payload,callback:null,next:null});e:{var un=s,kn=_e;_t=c;var Da=p;switch(kn.tag){case 1:if(un=kn.payload,typeof un=="function"){Ut=un.call(Da,Ut,_t);break e}Ut=un;break e;case 3:un.flags=un.flags&-65537|128;case 0:if(un=kn.payload,_t=typeof un=="function"?un.call(Da,Ut,_t):un,_t==null)break e;Ut=y({},Ut,_t);break e;case 2:an=!0}}_t=_e.callback,_t!==null&&(s.flags|=64,At&&(s.flags|=8192),At=N.callbacks,At===null?N.callbacks=[_t]:At.push(_t))}else At={lane:_t,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},Lt===null?(pt=Lt=At,Ve=Ut):Lt=Lt.next=At,ne|=_t;if(_e=_e.next,_e===null){if(_e=N.shared.pending,_e===null)break;At=_e,_e=At.next,At.next=null,N.lastBaseUpdate=At,N.shared.pending=null}}while(!0);Lt===null&&(Ve=Ut),N.baseState=Ve,N.firstBaseUpdate=pt,N.lastBaseUpdate=Lt,P===null&&(N.shared.lanes=0),rl|=ne,s.lanes=ne,s.memoizedState=Ut}}function Ca(s,c){if(typeof s!="function")throw Error(n(191,s));s.call(c)}function yi(s,c){var p=s.callbacks;if(p!==null)for(s.callbacks=null,s=0;s<p.length;s++)Ca(p[s],c)}var zn=Z(null),Hn=Z(0);function Na(s,c){s=br,re(Hn,s),re(zn,c),br=s|c.baseLanes}function Pi(){re(Hn,br),re(zn,zn.current)}function Ei(){br=Hn.current,V(zn),V(Hn)}var qi=Z(null),Ci=null;function Ka(s){var c=s.alternate;re(vi,vi.current&1),re(qi,s),Ci===null&&(c===null||zn.current!==null||c.memoizedState!==null)&&(Ci=s)}function Gi(s){re(vi,vi.current),re(qi,s),Ci===null&&(Ci=s)}function ir(s){s.tag===22?(re(vi,vi.current),re(qi,s),Ci===null&&(Ci=s)):Za()}function Za(){re(vi,vi.current),re(qi,qi.current)}function la(s){V(qi),Ci===s&&(Ci=null),V(vi)}var vi=Z(0);function ds(s){for(var c=s;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||o5(p)||l5(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ca=0,hn=null,En=null,Ni=null,zs=!1,hs=!1,Ms=!1,ar=0,jc=0,vo=null,jh=0;function ma(){throw Error(n(321))}function np(s,c){if(c===null)return!1;for(var p=0;p<c.length&&p<s.length;p++)if(!Hi(s[p],c[p]))return!1;return!0}function ip(s,c,p,v,N,P){return ca=P,hn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,J.H=s===null||s.memoizedState===null?By:Kh,Ms=!1,P=p(v,N),Ms=!1,hs&&(P=uc(c,p,v,N)),Fh(s),P}function Fh(s){J.H=up;var c=En!==null&&En.next!==null;if(ca=0,Ni=En=hn=null,zs=!1,jc=0,vo=null,c)throw Error(n(300));s===null||Ba||(s=s.dependencies,s!==null&&nd(s)&&(Ba=!0))}function uc(s,c,p,v){hn=s;var N=0;do{if(hs&&(vo=null),jc=0,hs=!1,25<=N)throw Error(n(301));if(N+=1,Ni=En=null,s.updateQueue!=null){var P=s.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}J.H=dp,P=c(p,v)}while(hs);return P}function wg(){var s=J.H,c=s.useState()[0];return c=typeof c.then=="function"?Fc(c):c,s=s.useState()[0],(En!==null?En.memoizedState:null)!==s&&(hn.flags|=1024),c}function ap(){var s=ar!==0;return ar=0,s}function rp(s,c,p){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~p}function Vh(s){if(zs){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}zs=!1}ca=0,Ni=En=hn=null,hs=!1,jc=ar=0,vo=null}function Ir(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ni===null?hn.memoizedState=Ni=s:Ni=Ni.next=s,Ni}function Wa(){if(En===null){var s=hn.alternate;s=s!==null?s.memoizedState:null}else s=En.next;var c=Ni===null?hn.memoizedState:Ni.next;if(c!==null)Ni=c,En=s;else{if(s===null)throw hn.alternate===null?Error(n(467)):Error(n(310));En=s,s={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Ni===null?hn.memoizedState=Ni=s:Ni=Ni.next=s}return Ni}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fc(s){var c=jc;return jc+=1,vo===null&&(vo=[]),s=Et(vo,s,c),c=hn,(Ni===null?c.memoizedState:Ni.next)===null&&(c=c.alternate,J.H=c===null||c.memoizedState===null?By:Kh),s}function rd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Fc(s);if(s.$$typeof===C)return kr(s)}throw Error(n(438,String(s)))}function wu(s){var c=null,p=hn.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=hn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(N){return N.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=ad(),hn.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(s),v=0;v<s;v++)p[v]=z;return c.index++,p}function Pl(s,c){return typeof c=="function"?c(s):c}function Hh(s){var c=Wa();return sd(c,En,s)}function sd(s,c,p){var v=s.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=p;var N=s.baseQueue,P=v.pending;if(P!==null){if(N!==null){var ne=N.next;N.next=P.next,P.next=ne}c.baseQueue=N=P,v.pending=null}if(P=s.baseState,N===null)s.memoizedState=P;else{c=N.next;var _e=ne=null,Ve=null,pt=c,Lt=!1;do{var Ut=pt.lane&-536870913;if(Ut!==pt.lane?(bi&Ut)===Ut:(ca&Ut)===Ut){var _t=pt.revertLane;if(_t===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,gesture:null,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),Ut===T&&(Lt=!0);else if((ca&_t)===_t){pt=pt.next,_t===T&&(Lt=!0);continue}else Ut={lane:0,revertLane:pt.revertLane,gesture:null,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},Ve===null?(_e=Ve=Ut,ne=P):Ve=Ve.next=Ut,hn.lanes|=_t,rl|=_t;Ut=pt.action,Ms&&p(P,Ut),P=pt.hasEagerState?pt.eagerState:p(P,Ut)}else _t={lane:Ut,revertLane:pt.revertLane,gesture:pt.gesture,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},Ve===null?(_e=Ve=_t,ne=P):Ve=Ve.next=_t,hn.lanes|=Ut,rl|=Ut;pt=pt.next}while(pt!==null&&pt!==c);if(Ve===null?ne=P:Ve.next=_e,!Hi(P,s.memoizedState)&&(Ba=!0,Lt&&(p=L,p!==null)))throw p;s.memoizedState=P,s.baseState=ne,s.baseQueue=Ve,v.lastRenderedState=P}return N===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function $d(s){var c=Wa(),p=c.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var v=p.dispatch,N=p.pending,P=c.memoizedState;if(N!==null){p.pending=null;var ne=N=N.next;do P=s(P,ne.action),ne=ne.next;while(ne!==N);Hi(P,c.memoizedState)||(Ba=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),p.lastRenderedState=P}return[P,v]}function Kd(s,c,p){var v=hn,N=Wa(),P=gi;if(P){if(p===void 0)throw Error(n(407));p=p()}else p=c();var ne=!Hi((En||N).memoizedState,p);if(ne&&(N.memoizedState=p,Ba=!0),N=N.queue,Sg(Gh.bind(null,v,N,s),[s]),N.getSnapshot!==c||ne||Ni!==null&&Ni.memoizedState.tag&1){if(v.flags|=2048,Su(9,{destroy:void 0},qh.bind(null,v,N,p,c),null),ta===null)throw Error(n(349));P||(ca&127)!==0||dc(v,c,p)}return p}function dc(s,c,p){s.flags|=16384,s={getSnapshot:c,value:p},c=hn.updateQueue,c===null?(c=ad(),hn.updateQueue=c,c.stores=[s]):(p=c.stores,p===null?c.stores=[s]:p.push(s))}function qh(s,c,p,v){c.value=p,c.getSnapshot=v,sp(c)&&Zd(s)}function Gh(s,c,p){return p(function(){sp(c)&&Zd(s)})}function sp(s){var c=s.getSnapshot;s=s.value;try{var p=c();return!Hi(s,p)}catch{return!0}}function Zd(s){var c=Nl(s,2);c!==null&&f(c,s,2)}function kl(s){var c=Ir();if(typeof s=="function"){var p=s;if(s=p(),Ms){Dt(!0);try{p()}finally{Dt(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:s},c}function Mm(s,c,p,v){return s.baseState=p,sd(s,En,typeof v=="function"?v:Pl)}function Tm(s,c,p,v,N){if(Au(s))throw Error(n(485));if(s=c.action,s!==null){var P={payload:N,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){P.listeners.push(ne)}};J.T!==null?p(!0):P.isTransition=!1,v(P),p=c.pending,p===null?(P.next=c.pending=P,Em(c,P)):(P.next=p.next,c.pending=p.next=P)}}function Em(s,c){var p=c.action,v=c.payload,N=s.state;if(c.isTransition){var P=J.T,ne={};J.T=ne;try{var _e=p(N,v),Ve=J.S;Ve!==null&&Ve(ne,_e),op(s,c,_e)}catch(pt){Vc(s,c,pt)}finally{P!==null&&ne.types!==null&&(P.types=ne.types),J.T=P}}else try{P=p(N,v),op(s,c,P)}catch(pt){Vc(s,c,pt)}}function op(s,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){lp(s,c,v)},function(v){return Vc(s,c,v)}):lp(s,c,p)}function lp(s,c,p){c.status="fulfilled",c.value=p,Wh(c),s.state=p,c=s.pending,c!==null&&(p=c.next,p===c?s.pending=null:(p=p.next,c.next=p,Em(s,p)))}function Vc(s,c,p){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,Wh(c),c=c.next;while(c!==v)}s.action=null}function Wh(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function Jd(s,c){return c}function Il(s,c){if(gi){var p=ta.formState;if(p!==null){e:{var v=hn;if(gi){if(fa){t:{for(var N=fa,P=Qi;N.nodeType!==8;){if(!P){N=null;break t}if(N=Yc(N.nextSibling),N===null){N=null;break t}}P=N.data,N=P==="F!"||P==="F"?N:null}if(N){fa=Yc(N.nextSibling),v=N.data==="F!";break e}}hi(v)}v=!1}v&&(c=p[0])}}return p=Ir(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:c},p.queue=v,p=zy.bind(null,hn,v),v.dispatch=p,v=kl(!1),P=cp.bind(null,hn,!1,v.queue),v=Ir(),N={state:c,dispatch:null,action:s,pending:null},v.queue=N,p=Tm.bind(null,hn,N,P,p),N.dispatch=p,v.memoizedState=s,[c,p,!1]}function hc(s){var c=Wa();return fc(c,En,s)}function fc(s,c,p){if(c=sd(s,c,Jd)[0],s=Hh(Pl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Fc(c)}catch(ne){throw ne===Xe?Le:ne}else v=c;c=Wa();var N=c.queue,P=N.dispatch;return p!==c.memoizedState&&(hn.flags|=2048,Su(9,{destroy:void 0},Xh.bind(null,N,p),null)),[v,P,s]}function Xh(s,c){s.action=c}function Yh(s){var c=Wa(),p=En;if(p!==null)return fc(c,p,s);Wa(),c=c.memoizedState,p=Wa();var v=p.queue.dispatch;return p.memoizedState=s,[c,v,!1]}function Su(s,c,p,v){return s={tag:s,create:p,deps:v,inst:c,next:null},c=hn.updateQueue,c===null&&(c=ad(),hn.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=s.next=s:(v=p.next,p.next=s,s.next=v,c.lastEffect=s),s}function Cm(){return Wa().memoizedState}function od(s,c,p,v){var N=Ir();hn.flags|=s,N.memoizedState=Su(1|c,{destroy:void 0},p,v===void 0?null:v)}function ld(s,c,p,v){var N=Wa();v=v===void 0?null:v;var P=N.memoizedState.inst;En!==null&&v!==null&&np(v,En.memoizedState.deps)?N.memoizedState=Su(c,P,p,v):(hn.flags|=s,N.memoizedState=Su(1|c,P,p,v))}function Oy(s,c){od(8390656,8,s,c)}function Sg(s,c){ld(2048,8,s,c)}function Py(s){hn.flags|=4;var c=hn.updateQueue;if(c===null)c=ad(),hn.updateQueue=c,c.events=[s];else{var p=c.events;p===null?c.events=[s]:p.push(s)}}function ky(s){var c=Wa().memoizedState;return Py({ref:c,nextImpl:s}),function(){if((Ri&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function Iy(s,c){return ld(4,2,s,c)}function Zo(s,c){return ld(4,4,s,c)}function Ag(s,c){if(typeof c=="function"){s=s();var p=c(s);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Nm(s,c,p){p=p!=null?p.concat([s]):null,ld(4,4,Ag.bind(null,c,s),p)}function Rm(){}function Mg(s,c){var p=Wa();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&np(c,v[1])?v[0]:(p.memoizedState=[s,c],s)}function Tg(s,c){var p=Wa();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&np(c,v[1]))return v[0];if(v=s(),Ms){Dt(!0);try{s()}finally{Dt(!1)}}return p.memoizedState=[v,c],v}function Eg(s,c,p){return p===void 0||(ca&1073741824)!==0&&(bi&261930)===0?s.memoizedState=c:(s.memoizedState=p,s=h(),hn.lanes|=s,rl|=s,p)}function Cg(s,c,p,v){return Hi(p,c)?p:zn.current!==null?(s=Eg(s,p,v),Hi(s,c)||(Ba=!0),s):(ca&42)===0||(ca&1073741824)!==0&&(bi&261930)===0?(Ba=!0,s.memoizedState=p):(s=h(),hn.lanes|=s,rl|=s,c)}function Ng(s,c,p,v,N){var P=ae.p;ae.p=P!==0&&8>P?P:8;var ne=J.T,_e={};J.T=_e,cp(s,!1,c,p);try{var Ve=N(),pt=J.S;if(pt!==null&&pt(_e,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var Lt=fe(Ve,v);$h(s,c,Lt,io(s))}else $h(s,c,v,io(s))}catch(Ut){$h(s,c,{then:function(){},status:"rejected",reason:Ut},io())}finally{ae.p=P,ne!==null&&_e.types!==null&&(ne.types=_e.types),J.T=ne}}function Hb(){}function Rg(s,c,p,v){if(s.tag!==5)throw Error(n(476));var N=Uy(s).queue;Ng(s,N,c,te,p===null?Hb:function(){return Lg(s),p(v)})}function Uy(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:te},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:p},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function Lg(s){var c=Uy(s);c.next===null&&(c=s.alternate.memoizedState),$h(s,c.next.queue,{},io())}function Dg(){return kr(Gg)}function Ts(){return Wa().memoizedState}function Og(){return Wa().memoizedState}function qb(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var p=io();s=Nn(p);var v=Yn(c,s,p);v!==null&&(f(v,c,p),Ti(v,c,p)),c={cache:id()},s.payload=c;return}c=c.return}}function Gb(s,c,p){var v=io();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Au(s)?Qd(c,p):(p=yu(s,c,p,v),p!==null&&(f(p,s,v),bo(p,c,v)))}function zy(s,c,p){var v=io();$h(s,c,p,v)}function $h(s,c,p,v){var N={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Au(s))Qd(c,N);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var ne=c.lastRenderedState,_e=P(ne,p);if(N.hasEagerState=!0,N.eagerState=_e,Hi(_e,ne))return Ju(s,c,N,0),ta===null&&sc(),!1}catch{}finally{}if(p=yu(s,c,N,v),p!==null)return f(p,s,v),bo(p,c,v),!0}return!1}function cp(s,c,p,v){if(v={lane:2,revertLane:$b(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Au(s)){if(c)throw Error(n(479))}else c=yu(s,p,v,2),c!==null&&f(c,s,2)}function Au(s){var c=s.alternate;return s===hn||c!==null&&c===hn}function Qd(s,c){hs=zs=!0;var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}function bo(s,c,p){if((p&4194048)!==0){var v=c.lanes;v&=s.pendingLanes,p|=v,c.lanes=p,Ar(s,p)}}var up={readContext:kr,use:rd,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useLayoutEffect:ma,useInsertionEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useSyncExternalStore:ma,useId:ma,useHostTransitionStatus:ma,useFormState:ma,useActionState:ma,useOptimistic:ma,useMemoCache:ma,useCacheRefresh:ma};up.useEffectEvent=ma;var By={readContext:kr,use:rd,useCallback:function(s,c){return Ir().memoizedState=[s,c===void 0?null:c],s},useContext:kr,useEffect:Oy,useImperativeHandle:function(s,c,p){p=p!=null?p.concat([s]):null,od(4194308,4,Ag.bind(null,c,s),p)},useLayoutEffect:function(s,c){return od(4194308,4,s,c)},useInsertionEffect:function(s,c){od(4,2,s,c)},useMemo:function(s,c){var p=Ir();c=c===void 0?null:c;var v=s();if(Ms){Dt(!0);try{s()}finally{Dt(!1)}}return p.memoizedState=[v,c],v},useReducer:function(s,c,p){var v=Ir();if(p!==void 0){var N=p(c);if(Ms){Dt(!0);try{p(c)}finally{Dt(!1)}}}else N=c;return v.memoizedState=v.baseState=N,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:N},v.queue=s,s=s.dispatch=Gb.bind(null,hn,s),[v.memoizedState,s]},useRef:function(s){var c=Ir();return s={current:s},c.memoizedState=s},useState:function(s){s=kl(s);var c=s.queue,p=zy.bind(null,hn,c);return c.dispatch=p,[s.memoizedState,p]},useDebugValue:Rm,useDeferredValue:function(s,c){var p=Ir();return Eg(p,s,c)},useTransition:function(){var s=kl(!1);return s=Ng.bind(null,hn,s.queue,!0,!1),Ir().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,p){var v=hn,N=Ir();if(gi){if(p===void 0)throw Error(n(407));p=p()}else{if(p=c(),ta===null)throw Error(n(349));(bi&127)!==0||dc(v,c,p)}N.memoizedState=p;var P={value:p,getSnapshot:c};return N.queue=P,Oy(Gh.bind(null,v,P,s),[s]),v.flags|=2048,Su(9,{destroy:void 0},qh.bind(null,v,P,p,c),null),p},useId:function(){var s=Ir(),c=ta.identifierPrefix;if(gi){var p=go,v=mo;p=(v&~(1<<32-De(v)-1)).toString(32)+p,c="_"+c+"R_"+p,p=ar++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=jh++,c="_"+c+"r_"+p.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Dg,useFormState:Il,useActionState:Il,useOptimistic:function(s){var c=Ir();c.memoizedState=c.baseState=s;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=cp.bind(null,hn,!0,p),p.dispatch=c,[s,c]},useMemoCache:wu,useCacheRefresh:function(){return Ir().memoizedState=qb.bind(null,hn)},useEffectEvent:function(s){var c=Ir(),p={impl:s};return c.memoizedState=p,function(){if((Ri&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Kh={readContext:kr,use:rd,useCallback:Mg,useContext:kr,useEffect:Sg,useImperativeHandle:Nm,useInsertionEffect:Iy,useLayoutEffect:Zo,useMemo:Tg,useReducer:Hh,useRef:Cm,useState:function(){return Hh(Pl)},useDebugValue:Rm,useDeferredValue:function(s,c){var p=Wa();return Cg(p,En.memoizedState,s,c)},useTransition:function(){var s=Hh(Pl)[0],c=Wa().memoizedState;return[typeof s=="boolean"?s:Fc(s),c]},useSyncExternalStore:Kd,useId:Ts,useHostTransitionStatus:Dg,useFormState:hc,useActionState:hc,useOptimistic:function(s,c){var p=Wa();return Mm(p,En,s,c)},useMemoCache:wu,useCacheRefresh:Og};Kh.useEffectEvent=ky;var dp={readContext:kr,use:rd,useCallback:Mg,useContext:kr,useEffect:Sg,useImperativeHandle:Nm,useInsertionEffect:Iy,useLayoutEffect:Zo,useMemo:Tg,useReducer:$d,useRef:Cm,useState:function(){return $d(Pl)},useDebugValue:Rm,useDeferredValue:function(s,c){var p=Wa();return En===null?Eg(p,s,c):Cg(p,En.memoizedState,s,c)},useTransition:function(){var s=$d(Pl)[0],c=Wa().memoizedState;return[typeof s=="boolean"?s:Fc(s),c]},useSyncExternalStore:Kd,useId:Ts,useHostTransitionStatus:Dg,useFormState:Yh,useActionState:Yh,useOptimistic:function(s,c){var p=Wa();return En!==null?Mm(p,En,s,c):(p.baseState=s,[s,p.queue.dispatch])},useMemoCache:wu,useCacheRefresh:Og};dp.useEffectEvent=ky;function Zh(s,c,p,v){c=s.memoizedState,p=p(v,c),p=p==null?c:y({},c,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var hp={enqueueSetState:function(s,c,p){s=s._reactInternals;var v=io(),N=Nn(v);N.payload=c,p!=null&&(N.callback=p),c=Yn(s,N,v),c!==null&&(f(c,s,v),Ti(c,s,v))},enqueueReplaceState:function(s,c,p){s=s._reactInternals;var v=io(),N=Nn(v);N.tag=1,N.payload=c,p!=null&&(N.callback=p),c=Yn(s,N,v),c!==null&&(f(c,s,v),Ti(c,s,v))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var p=io(),v=Nn(p);v.tag=2,c!=null&&(v.callback=c),c=Yn(s,v,p),c!==null&&(f(c,s,p),Ti(c,s,p))}};function jy(s,c,p,v,N,P,ne){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,P,ne):c.prototype&&c.prototype.isPureReactComponent?!Tl(p,v)||!Tl(N,P):!0}function Fy(s,c,p,v){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==s&&hp.enqueueReplaceState(c,c.state,null)}function Es(s,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(s=s.defaultProps){p===c&&(p=y({},p));for(var N in s)p[N]===void 0&&(p[N]=s[N])}return p}function Pg(s){rc(s)}function Vy(s){console.error(s)}function Lm(s){rc(s)}function Dm(s,c){try{var p=s.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function Hy(s,c,p){try{var v=s.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function kg(s,c,p){return p=Nn(p),p.tag=3,p.payload={element:null},p.callback=function(){Dm(s,c)},p}function Jh(s){return s=Nn(s),s.tag=3,s}function _o(s,c,p,v){var N=p.type.getDerivedStateFromError;if(typeof N=="function"){var P=v.value;s.payload=function(){return N(P)},s.callback=function(){Hy(c,p,v)}}var ne=p.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(s.callback=function(){Hy(c,p,v),typeof N!="function"&&(Xc===null?Xc=new Set([this]):Xc.add(this));var _e=v.stack;this.componentDidCatch(v.value,{componentStack:_e!==null?_e:""})})}function Jo(s,c,p,v,N){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&Ol(c,p,N,!0),p=qi.current,p!==null){switch(p.tag){case 31:case 13:return Ci===null?qn():p.alternate===null&&na===0&&(na=3),p.flags&=-257,p.flags|=65536,p.lanes=N,v===$e?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),Wb(s,v,N)),!1;case 22:return p.flags|=65536,v===$e?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),Wb(s,v,N)),!1}throw Error(n(435,p.tag))}return Wb(s,v,N),qn(),!1}if(gi)return c=qi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=N,v!==yo&&(s=Error(n(422),{cause:v}),td(Is(s,p)))):(v!==yo&&(c=Error(n(423),{cause:v}),td(Is(c,p))),s=s.current.alternate,s.flags|=65536,N&=-N,s.lanes|=N,v=Is(v,p),N=kg(s.stateNode,v,N),nr(s,N),na!==4&&(na=2)),!1;var P=Error(n(520),{cause:v});if(P=Is(P,p),xc===null?xc=[P]:xc.push(P),na!==4&&(na=2),c===null)return!0;v=Is(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,s=N&-N,p.lanes|=s,s=kg(p.stateNode,v,s),nr(p,s),!1;case 1:if(c=p.type,P=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Xc===null||!Xc.has(P))))return p.flags|=65536,N&=-N,p.lanes|=N,N=Jh(N),_o(N,s,p,v),nr(p,N),!1}p=p.return}while(p!==null);return!1}var Om=Error(n(461)),Ba=!1;function rr(s,c,p,v){c.child=s===null?Xn(c,null,p,v):ba(c,s.child,p,v)}function fp(s,c,p,v,N){p=p.render;var P=c.ref;if("ref"in v){var ne={};for(var _e in v)_e!=="ref"&&(ne[_e]=v[_e])}else ne=v;return Bc(c),v=ip(s,c,p,ne,P,N),_e=ap(),s!==null&&!Ba?(rp(s,c,N),gc(s,c,N)):(gi&&_e&&Uh(c),c.flags|=1,rr(s,c,v,N),c.child)}function pp(s,c,p,v,N){if(s===null){var P=p.type;return typeof P=="function"&&!cs(P)&&P.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=P,Qo(s,c,P,v,N)):(s=vu(p.type,null,v,c,c.mode,N),s.ref=c.ref,s.return=c,c.child=s)}if(P=s.child,!ud(s,N)){var ne=P.memoizedProps;if(p=p.compare,p=p!==null?p:Tl,p(ne,v)&&s.ref===c.ref)return gc(s,c,N)}return c.flags|=1,s=Qs(P,v),s.ref=c.ref,s.return=c,c.child=s}function Qo(s,c,p,v,N){if(s!==null){var P=s.memoizedProps;if(Tl(P,v)&&s.ref===c.ref)if(Ba=!1,c.pendingProps=v=P,ud(s,N))(s.flags&131072)!==0&&(Ba=!0);else return c.lanes=s.lanes,gc(s,c,N)}return Qh(s,c,p,v,N)}function el(s,c,p,v){var N=v.children,P=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(P=P!==null?P.baseLanes|p:p,s!==null){for(v=c.child=s.child,N=0;v!==null;)N=N|v.lanes|v.childLanes,v=v.sibling;v=N&~P}else v=0,c.child=null;return Hc(s,c,P,p,v)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ce(c,P!==null?P.cachePool:null),P!==null?Na(c,P):Pi(),ir(c);else return v=c.lanes=536870912,Hc(s,c,P!==null?P.baseLanes|p:p,p,v)}else P!==null?(Ce(c,P.cachePool),Na(c,P),Za(),c.memoizedState=null):(s!==null&&Ce(c,null),Pi(),Za());return rr(s,c,N,p),c.child}function pc(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Hc(s,c,p,v,N){var P=we();return P=P===null?null:{parent:gn._currentValue,pool:P},c.memoizedState={baseLanes:p,cachePool:P},s!==null&&Ce(c,null),Pi(),ir(c),s!==null&&Ol(s,c,v,!0),c.childLanes=N,null}function Ul(s,c){return c=ef({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function fs(s,c,p){return ba(c,s.child,null,p),s=Ul(c,c.pendingProps),s.flags|=2,la(c),c.memoizedState=null,s}function mp(s,c,p){var v=c.pendingProps,N=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(gi){if(v.mode==="hidden")return s=Ul(c,v),c.lanes=536870912,pc(null,s);if(Gi(c),(s=fa)?(s=SA(s,Qi),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Ll!==null?{id:mo,overflow:go}:null,retryLane:536870912,hydrationErrors:null},p=Ih(s),p.return=c,c.child=p,Or=c,fa=null)):s=null,s===null)throw hi(c);return c.lanes=536870912,null}return Ul(c,v)}var P=s.memoizedState;if(P!==null){var ne=P.dehydrated;if(Gi(c),N)if(c.flags&256)c.flags&=-257,c=fs(s,c,p);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(n(558));else if(Ba||Ol(s,c,p,!1),N=(p&s.childLanes)!==0,Ba||N){if(v=ta,v!==null&&(ne=Mr(v,p),ne!==0&&ne!==P.retryLane))throw P.retryLane=ne,Nl(s,ne),f(v,s,ne),Om;qn(),c=fs(s,c,p)}else s=P.treeContext,fa=Yc(ne.nextSibling),Or=c,gi=!0,us=null,Qi=!1,s!==null&&Wd(c,s),c=Ul(c,v),c.flags|=4096;return c}return s=Qs(s.child,{mode:v.mode,children:v.children}),s.ref=c.ref,c.child=s,s.return=c,s}function mc(s,c){var p=c.ref;if(p===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(s===null||s.ref!==p)&&(c.flags|=4194816)}}function Qh(s,c,p,v,N){return Bc(c),p=ip(s,c,p,v,void 0,N),v=ap(),s!==null&&!Ba?(rp(s,c,N),gc(s,c,N)):(gi&&v&&Uh(c),c.flags|=1,rr(s,c,p,N),c.child)}function Bs(s,c,p,v,N,P){return Bc(c),c.updateQueue=null,p=uc(c,v,p,N),Fh(s),v=ap(),s!==null&&!Ba?(rp(s,c,P),gc(s,c,P)):(gi&&v&&Uh(c),c.flags|=1,rr(s,c,p,P),c.child)}function Cs(s,c,p,v,N){if(Bc(c),c.stateNode===null){var P=mr,ne=p.contextType;typeof ne=="object"&&ne!==null&&(P=kr(ne)),P=new p(v,P),c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=hp,c.stateNode=P,P._reactInternals=c,P=c.stateNode,P.props=v,P.state=c.memoizedState,P.refs={},Yt(c),ne=p.contextType,P.context=typeof ne=="object"&&ne!==null?kr(ne):mr,P.state=c.memoizedState,ne=p.getDerivedStateFromProps,typeof ne=="function"&&(Zh(c,p,ne,v),P.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(ne=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),ne!==P.state&&hp.enqueueReplaceState(P,P.state,null),Ga(c,v,P,N),pa(),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(s===null){P=c.stateNode;var _e=c.memoizedProps,Ve=Es(p,_e);P.props=Ve;var pt=P.context,Lt=p.contextType;ne=mr,typeof Lt=="object"&&Lt!==null&&(ne=kr(Lt));var Ut=p.getDerivedStateFromProps;Lt=typeof Ut=="function"||typeof P.getSnapshotBeforeUpdate=="function",_e=c.pendingProps!==_e,Lt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(_e||pt!==ne)&&Fy(c,P,v,ne),an=!1;var _t=c.memoizedState;P.state=_t,Ga(c,v,P,N),pa(),pt=c.memoizedState,_e||_t!==pt||an?(typeof Ut=="function"&&(Zh(c,p,Ut,v),pt=c.memoizedState),(Ve=an||jy(c,p,Ve,v,_t,pt,ne))?(Lt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(c.flags|=4194308)):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=pt),P.props=v,P.state=pt,P.context=ne,v=Ve):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{P=c.stateNode,za(s,c),ne=c.memoizedProps,Lt=Es(p,ne),P.props=Lt,Ut=c.pendingProps,_t=P.context,pt=p.contextType,Ve=mr,typeof pt=="object"&&pt!==null&&(Ve=kr(pt)),_e=p.getDerivedStateFromProps,(pt=typeof _e=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ne!==Ut||_t!==Ve)&&Fy(c,P,v,Ve),an=!1,_t=c.memoizedState,P.state=_t,Ga(c,v,P,N),pa();var At=c.memoizedState;ne!==Ut||_t!==At||an||s!==null&&s.dependencies!==null&&nd(s.dependencies)?(typeof _e=="function"&&(Zh(c,p,_e,v),At=c.memoizedState),(Lt=an||jy(c,p,Lt,v,_t,At,Ve)||s!==null&&s.dependencies!==null&&nd(s.dependencies))?(pt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(v,At,Ve),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(v,At,Ve)),typeof P.componentDidUpdate=="function"&&(c.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof P.componentDidUpdate!="function"||ne===s.memoizedProps&&_t===s.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ne===s.memoizedProps&&_t===s.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=At),P.props=v,P.state=At,P.context=Ve,v=Lt):(typeof P.componentDidUpdate!="function"||ne===s.memoizedProps&&_t===s.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ne===s.memoizedProps&&_t===s.memoizedState||(c.flags|=1024),v=!1)}return P=v,mc(s,c),v=(c.flags&128)!==0,P||v?(P=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:P.render(),c.flags|=1,s!==null&&v?(c.child=ba(c,s.child,null,N),c.child=ba(c,null,p,N)):rr(s,c,p,N),c.memoizedState=P.state,s=c.child):s=gc(s,c,N),s}function ki(s,c,p,v){return bu(),c.flags|=256,rr(s,c,p,v),c.child}var tl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zl(s){return{baseLanes:s,cachePool:Oe()}}function gp(s,c,p){return s=s!==null?s.childLanes&~p:0,c&&(s|=Li),s}function nl(s,c,p){var v=c.pendingProps,N=!1,P=(c.flags&128)!==0,ne;if((ne=P)||(ne=s!==null&&s.memoizedState===null?!1:(vi.current&2)!==0),ne&&(N=!0,c.flags&=-129),ne=(c.flags&32)!==0,c.flags&=-33,s===null){if(gi){if(N?Ka(c):Za(),(s=fa)?(s=SA(s,Qi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Ll!==null?{id:mo,overflow:go}:null,retryLane:536870912,hydrationErrors:null},p=Ih(s),p.return=c,c.child=p,Or=c,fa=null)):s=null,s===null)throw hi(c);return l5(s)?c.lanes=32:c.lanes=536870912,null}var _e=v.children;return v=v.fallback,N?(Za(),N=c.mode,_e=ef({mode:"hidden",children:_e},N),v=Rl(v,N,p,null),_e.return=c,v.return=c,_e.sibling=v,c.child=_e,v=c.child,v.memoizedState=zl(p),v.childLanes=gp(s,ne,p),c.memoizedState=tl,pc(null,v)):(Ka(c),cd(c,_e))}var Ve=s.memoizedState;if(Ve!==null&&(_e=Ve.dehydrated,_e!==null)){if(P)c.flags&256?(Ka(c),c.flags&=-257,c=tf(s,c,p)):c.memoizedState!==null?(Za(),c.child=s.child,c.flags|=128,c=null):(Za(),_e=v.fallback,N=c.mode,v=ef({mode:"visible",children:v.children},N),_e=Rl(_e,N,p,null),_e.flags|=2,v.return=c,_e.return=c,v.sibling=_e,c.child=v,ba(c,s.child,null,p),v=c.child,v.memoizedState=zl(p),v.childLanes=gp(s,ne,p),c.memoizedState=tl,c=pc(null,v));else if(Ka(c),l5(_e)){if(ne=_e.nextSibling&&_e.nextSibling.dataset,ne)var pt=ne.dgst;ne=pt,v=Error(n(419)),v.stack="",v.digest=ne,td({value:v,source:null,stack:null}),c=tf(s,c,p)}else if(Ba||Ol(s,c,p,!1),ne=(p&s.childLanes)!==0,Ba||ne){if(ne=ta,ne!==null&&(v=Mr(ne,p),v!==0&&v!==Ve.retryLane))throw Ve.retryLane=v,Nl(s,v),f(ne,s,v),Om;o5(_e)||qn(),c=tf(s,c,p)}else o5(_e)?(c.flags|=192,c.child=s.child,c=null):(s=Ve.treeContext,fa=Yc(_e.nextSibling),Or=c,gi=!0,us=null,Qi=!1,s!==null&&Wd(c,s),c=cd(c,v.children),c.flags|=4096);return c}return N?(Za(),_e=v.fallback,N=c.mode,Ve=s.child,pt=Ve.sibling,v=Qs(Ve,{mode:"hidden",children:v.children}),v.subtreeFlags=Ve.subtreeFlags&65011712,pt!==null?_e=Qs(pt,_e):(_e=Rl(_e,N,p,null),_e.flags|=2),_e.return=c,v.return=c,v.sibling=_e,c.child=v,pc(null,v),v=c.child,_e=s.child.memoizedState,_e===null?_e=zl(p):(N=_e.cachePool,N!==null?(Ve=gn._currentValue,N=N.parent!==Ve?{parent:Ve,pool:Ve}:N):N=Oe(),_e={baseLanes:_e.baseLanes|p,cachePool:N}),v.memoizedState=_e,v.childLanes=gp(s,ne,p),c.memoizedState=tl,pc(s.child,v)):(Ka(c),p=s.child,s=p.sibling,p=Qs(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,s!==null&&(ne=c.deletions,ne===null?(c.deletions=[s],c.flags|=16):ne.push(s)),c.child=p,c.memoizedState=null,p)}function cd(s,c){return c=ef({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function ef(s,c){return s=Dr(22,s,null,c),s.lanes=0,s}function tf(s,c,p){return ba(c,s.child,null,p),s=cd(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function eh(s,c,p){s.lanes|=c;var v=s.alternate;v!==null&&(v.lanes|=c),xo(s.return,c,p)}function yp(s,c,p,v,N,P){var ne=s.memoizedState;ne===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:N,treeForkCount:P}:(ne.isBackwards=c,ne.rendering=null,ne.renderingStartTime=0,ne.last=v,ne.tail=p,ne.tailMode=N,ne.treeForkCount=P)}function xp(s,c,p){var v=c.pendingProps,N=v.revealOrder,P=v.tail;v=v.children;var ne=vi.current,_e=(ne&2)!==0;if(_e?(ne=ne&1|2,c.flags|=128):ne&=1,re(vi,ne),rr(s,c,v,p),v=gi?ed:0,!_e&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&eh(s,p,c);else if(s.tag===19)eh(s,p,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(N){case"forwards":for(p=c.child,N=null;p!==null;)s=p.alternate,s!==null&&ds(s)===null&&(N=p),p=p.sibling;p=N,p===null?(N=c.child,c.child=null):(N=p.sibling,p.sibling=null),yp(c,!1,N,p,P,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,N=c.child,c.child=null;N!==null;){if(s=N.alternate,s!==null&&ds(s)===null){c.child=N;break}s=N.sibling,N.sibling=p,p=N,N=s}yp(c,!0,p,null,P,v);break;case"together":yp(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function gc(s,c,p){if(s!==null&&(c.dependencies=s.dependencies),rl|=c.lanes,(p&c.childLanes)===0)if(s!==null){if(Ol(s,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(n(153));if(c.child!==null){for(s=c.child,p=Qs(s,s.pendingProps),c.child=p,p.return=c;s.sibling!==null;)s=s.sibling,p=p.sibling=Qs(s,s.pendingProps),p.return=c;p.sibling=null}return c.child}function ud(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&nd(s)))}function vp(s,c,p){switch(c.tag){case 3:Ue(c,c.stateNode.containerInfo),cc(c,gn,s.memoizedState.cache),bu();break;case 27:case 5:We(c);break;case 4:Ue(c,c.stateNode.containerInfo);break;case 10:cc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Gi(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Ka(c),c.flags|=128,null):(p&c.child.childLanes)!==0?nl(s,c,p):(Ka(c),s=gc(s,c,p),s!==null?s.sibling:null);Ka(c);break;case 19:var N=(s.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||(Ol(s,c,p,!1),v=(p&c.childLanes)!==0),N){if(v)return xp(s,c,p);c.flags|=128}if(N=c.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),re(vi,vi.current),v)break;return null;case 22:return c.lanes=0,el(s,c,p,c.pendingProps);case 24:cc(c,gn,s.memoizedState.cache)}return gc(s,c,p)}function Pm(s,c,p){if(s!==null)if(s.memoizedProps!==c.pendingProps)Ba=!0;else{if(!ud(s,p)&&(c.flags&128)===0)return Ba=!1,vp(s,c,p);Ba=(s.flags&131072)!==0}else Ba=!1,gi&&(c.flags&1048576)!==0&&Jf(c,ed,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(s=lt(c.elementType),c.type=s,typeof s=="function")cs(s)?(v=Es(s,v),c.tag=1,c=Cs(null,c,s,v,p)):(c.tag=0,c=Qh(null,c,s,v,p));else{if(s!=null){var N=s.$$typeof;if(N===D){c.tag=11,c=fp(null,c,s,v,p);break e}else if(N===G){c.tag=14,c=pp(null,c,s,v,p);break e}}throw c=U(s)||s,Error(n(306,c,""))}}return c;case 0:return Qh(s,c,c.type,c.pendingProps,p);case 1:return v=c.type,N=Es(v,c.pendingProps),Cs(s,c,v,N,p);case 3:e:{if(Ue(c,c.stateNode.containerInfo),s===null)throw Error(n(387));v=c.pendingProps;var P=c.memoizedState;N=P.element,za(s,c),Ga(c,v,null,p);var ne=c.memoizedState;if(v=ne.cache,cc(c,gn,v),v!==P.cache&&zc(c,[gn],p,!0),pa(),v=ne.element,P.isDehydrated)if(P={element:v,isDehydrated:!1,cache:ne.cache},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){c=ki(s,c,v,p);break e}else if(v!==N){N=Is(Error(n(424)),c),td(N),c=ki(s,c,v,p);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(fa=Yc(s.firstChild),Or=c,gi=!0,us=null,Qi=!0,p=Xn(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(bu(),v===N){c=gc(s,c,p);break e}rr(s,c,v,p)}c=c.child}return c;case 26:return mc(s,c),s===null?(p=NA(c.type,null,c.pendingProps,null))?c.memoizedState=p:gi||(p=c.type,s=c.pendingProps,v=Zy(me.current).createElement(p),v[Dn]=c,v[ji]=s,ao(v,p,s),ct(v),c.stateNode=v):c.memoizedState=NA(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return We(c),s===null&&gi&&(v=c.stateNode=TA(c.type,c.pendingProps,me.current),Or=c,Qi=!0,N=fa,cf(c.type)?(c5=N,fa=Yc(v.firstChild)):fa=N),rr(s,c,c.pendingProps.children,p),mc(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&gi&&((N=v=fa)&&(v=eD(v,c.type,c.pendingProps,Qi),v!==null?(c.stateNode=v,Or=c,fa=Yc(v.firstChild),Qi=!1,N=!0):N=!1),N||hi(c)),We(c),N=c.type,P=c.pendingProps,ne=s!==null?s.memoizedProps:null,v=P.children,a5(N,P)?v=null:ne!==null&&a5(N,ne)&&(c.flags|=32),c.memoizedState!==null&&(N=ip(s,c,wg,null,null,p),Gg._currentValue=N),mc(s,c),rr(s,c,v,p),c.child;case 6:return s===null&&gi&&((s=p=fa)&&(p=tD(p,c.pendingProps,Qi),p!==null?(c.stateNode=p,Or=c,fa=null,s=!0):s=!1),s||hi(c)),null;case 13:return nl(s,c,p);case 4:return Ue(c,c.stateNode.containerInfo),v=c.pendingProps,s===null?c.child=ba(c,null,v,p):rr(s,c,v,p),c.child;case 11:return fp(s,c,c.type,c.pendingProps,p);case 7:return rr(s,c,c.pendingProps,p),c.child;case 8:return rr(s,c,c.pendingProps.children,p),c.child;case 12:return rr(s,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,cc(c,c.type,v.value),rr(s,c,v.children,p),c.child;case 9:return N=c.type._context,v=c.pendingProps.children,Bc(c),N=kr(N),v=v(N),c.flags|=1,rr(s,c,v,p),c.child;case 14:return pp(s,c,c.type,c.pendingProps,p);case 15:return Qo(s,c,c.type,c.pendingProps,p);case 19:return xp(s,c,p);case 31:return mp(s,c,p);case 22:return el(s,c,p,c.pendingProps);case 24:return Bc(c),v=kr(gn),s===null?(N=we(),N===null&&(N=ta,P=id(),N.pooledCache=P,P.refCount++,P!==null&&(N.pooledCacheLanes|=p),N=P),c.memoizedState={parent:v,cache:N},Yt(c),cc(c,gn,N)):((s.lanes&p)!==0&&(za(s,c),Ga(c,null,null,p),pa()),N=s.memoizedState,P=c.memoizedState,N.parent!==v?(N={parent:v,cache:v},c.memoizedState=N,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=N),cc(c,gn,v)):(v=P.cache,cc(c,gn,v),v!==N.cache&&zc(c,[gn],p,!0))),rr(s,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function wo(s){s.flags|=4}function dd(s,c,p,v,N){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(N&335544128)===N)if(s.stateNode.complete)s.flags|=8192;else if(Gt())s.flags|=8192;else throw et=$e,ut}else s.flags&=-16777217}function Mu(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!PA(c))if(Gt())s.flags|=8192;else throw et=$e,ut}function nf(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?wn():536870912,s.lanes|=c,sl|=c)}function bp(s,c){if(!gi)switch(s.tailMode){case"hidden":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function ua(s){var c=s.alternate!==null&&s.alternate.child===s.child,p=0,v=0;if(c)for(var N=s.child;N!==null;)p|=N.lanes|N.childLanes,v|=N.subtreeFlags&65011712,v|=N.flags&65011712,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)p|=N.lanes|N.childLanes,v|=N.subtreeFlags,v|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=v,s.childLanes=p,c}function Ig(s,c,p){var v=c.pendingProps;switch(oc(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(c),null;case 1:return ua(c),null;case 3:return p=c.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),As(gn),ze(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Pr(c)?wo(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Qf())),ua(c),null;case 26:var N=c.type,P=c.memoizedState;return s===null?(wo(c),P!==null?(ua(c),Mu(c,P)):(ua(c),dd(c,N,null,v,p))):P?P!==s.memoizedState?(wo(c),ua(c),Mu(c,P)):(ua(c),c.flags&=-16777217):(s=s.memoizedProps,s!==v&&wo(c),ua(c),dd(c,N,s,v,p)),null;case 27:if(at(c),p=me.current,N=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&wo(c);else{if(!v){if(c.stateNode===null)throw Error(n(166));return ua(c),null}s=ce.current,Pr(c)?Xd(c):(s=TA(N,v,p),c.stateNode=s,wo(c))}return ua(c),null;case 5:if(at(c),N=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&wo(c);else{if(!v){if(c.stateNode===null)throw Error(n(166));return ua(c),null}if(P=ce.current,Pr(c))Xd(c);else{var ne=Zy(me.current);switch(P){case 1:P=ne.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:P=ne.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":P=ne.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":P=ne.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":P=ne.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof v.is=="string"?ne.createElement("select",{is:v.is}):ne.createElement("select"),v.multiple?P.multiple=!0:v.size&&(P.size=v.size);break;default:P=typeof v.is=="string"?ne.createElement(N,{is:v.is}):ne.createElement(N)}}P[Dn]=c,P[ji]=v;e:for(ne=c.child;ne!==null;){if(ne.tag===5||ne.tag===6)P.appendChild(ne.stateNode);else if(ne.tag!==4&&ne.tag!==27&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===c)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===c)break e;ne=ne.return}ne.sibling.return=ne.return,ne=ne.sibling}c.stateNode=P;e:switch(ao(P,N,v),N){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&wo(c)}}return ua(c),dd(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,p),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==v&&wo(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(n(166));if(s=me.current,Pr(c)){if(s=c.stateNode,p=c.memoizedProps,v=null,N=Or,N!==null)switch(N.tag){case 27:case 5:v=N.memoizedProps}s[Dn]=c,s=!!(s.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||mA(s.nodeValue,p)),s||hi(c,!0)}else s=Zy(s).createTextNode(v),s[Dn]=c,c.stateNode=s}return ua(c),null;case 31:if(p=c.memoizedState,s===null||s.memoizedState!==null){if(v=Pr(c),p!==null){if(s===null){if(!v)throw Error(n(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Dn]=c}else bu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ua(c),s=!1}else p=Qf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),s=!0;if(!s)return c.flags&256?(la(c),c):(la(c),null);if((c.flags&128)!==0)throw Error(n(558))}return ua(c),null;case 13:if(v=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(N=Pr(c),v!==null&&v.dehydrated!==null){if(s===null){if(!N)throw Error(n(318));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[Dn]=c}else bu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ua(c),N=!1}else N=Qf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=N),N=!0;if(!N)return c.flags&256?(la(c),c):(la(c),null)}return la(c),(c.flags&128)!==0?(c.lanes=p,c):(p=v!==null,s=s!==null&&s.memoizedState!==null,p&&(v=c.child,N=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(N=v.alternate.memoizedState.cachePool.pool),P=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(P=v.memoizedState.cachePool.pool),P!==N&&(v.flags|=2048)),p!==s&&p&&(c.child.flags|=8192),nf(c,c.updateQueue),ua(c),null);case 4:return ze(),s===null&&Qb(c.stateNode.containerInfo),ua(c),null;case 10:return As(c.type),ua(c),null;case 19:if(V(vi),v=c.memoizedState,v===null)return ua(c),null;if(N=(c.flags&128)!==0,P=v.rendering,P===null)if(N)bp(v,!1);else{if(na!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(P=ds(s),P!==null){for(c.flags|=128,bp(v,!1),s=P.updateQueue,c.updateQueue=s,nf(c,s),c.subtreeFlags=0,s=p,p=c.child;p!==null;)gr(p,s),p=p.sibling;return re(vi,vi.current&1|2),gi&&to(c,v.treeForkCount),c.child}s=s.sibling}v.tail!==null&&ee()>ol&&(c.flags|=128,N=!0,bp(v,!1),c.lanes=4194304)}else{if(!N)if(s=ds(P),s!==null){if(c.flags|=128,N=!0,s=s.updateQueue,c.updateQueue=s,nf(c,s),bp(v,!0),v.tail===null&&v.tailMode==="hidden"&&!P.alternate&&!gi)return ua(c),null}else 2*ee()-v.renderingStartTime>ol&&p!==536870912&&(c.flags|=128,N=!0,bp(v,!1),c.lanes=4194304);v.isBackwards?(P.sibling=c.child,c.child=P):(s=v.last,s!==null?s.sibling=P:c.child=P,v.last=P)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=ee(),s.sibling=null,p=vi.current,re(vi,N?p&1|2:p&1),gi&&to(c,v.treeForkCount),s):(ua(c),null);case 22:case 23:return la(c),Ei(),v=c.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&(ua(c),c.subtreeFlags&6&&(c.flags|=8192)):ua(c),p=c.updateQueue,p!==null&&nf(c,p.retryQueue),p=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),s!==null&&V(ve),null;case 24:return p=null,s!==null&&(p=s.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),As(gn),ua(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function km(s,c){switch(oc(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return As(gn),ze(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return at(c),null;case 31:if(c.memoizedState!==null){if(la(c),c.alternate===null)throw Error(n(340));bu()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(la(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(n(340));bu()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return V(vi),null;case 4:return ze(),null;case 10:return As(c.type),null;case 22:case 23:return la(c),Ei(),s!==null&&V(ve),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return As(gn),null;case 25:return null;default:return null}}function th(s,c){switch(oc(c),c.tag){case 3:As(gn),ze();break;case 26:case 27:case 5:at(c);break;case 4:ze();break;case 31:c.memoizedState!==null&&la(c);break;case 13:la(c);break;case 19:V(vi);break;case 10:As(c.type);break;case 22:case 23:la(c),Ei(),s!==null&&V(ve);break;case 24:As(gn)}}function qc(s,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var N=v.next;p=N;do{if((p.tag&s)===s){v=void 0;var P=p.create,ne=p.inst;v=P(),ne.destroy=v}p=p.next}while(p!==N)}}catch(_e){_a(c,c.return,_e)}}function Bl(s,c,p){try{var v=c.updateQueue,N=v!==null?v.lastEffect:null;if(N!==null){var P=N.next;v=P;do{if((v.tag&s)===s){var ne=v.inst,_e=ne.destroy;if(_e!==void 0){ne.destroy=void 0,N=c;var Ve=p,pt=_e;try{pt()}catch(Lt){_a(N,Ve,Lt)}}}v=v.next}while(v!==P)}}catch(Lt){_a(c,c.return,Lt)}}function hd(s){var c=s.updateQueue;if(c!==null){var p=s.stateNode;try{yi(c,p)}catch(v){_a(s,s.return,v)}}}function Ug(s,c,p){p.props=Es(s.type,s.memoizedProps),p.state=s.memoizedState;try{p.componentWillUnmount()}catch(v){_a(s,c,v)}}function Gc(s,c){try{var p=s.ref;if(p!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof p=="function"?s.refCleanup=p(v):p.current=v}}catch(N){_a(s,c,N)}}function il(s,c){var p=s.ref,v=s.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(N){_a(s,c,N)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(N){_a(s,c,N)}else p.current=null}function al(s){var c=s.type,p=s.memoizedProps,v=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(N){_a(s,s.return,N)}}function jl(s,c,p){try{var v=s.stateNode;Y7(v,s.type,p,c),v[ji]=c}catch(N){_a(s,s.return,N)}}function Ur(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&cf(s.type)||s.tag===4}function Wc(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ur(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&cf(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ii(s,c,p){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(s,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(s),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=uo));else if(v!==4&&(v===27&&cf(s.type)&&(p=s.stateNode,c=null),s=s.child,s!==null))for(ii(s,c,p),s=s.sibling;s!==null;)ii(s,c,p),s=s.sibling}function Wi(s,c,p){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?p.insertBefore(s,c):p.appendChild(s);else if(v!==4&&(v===27&&cf(s.type)&&(p=s.stateNode),s=s.child,s!==null))for(Wi(s,c,p),s=s.sibling;s!==null;)Wi(s,c,p),s=s.sibling}function yr(s){var c=s.stateNode,p=s.memoizedProps;try{for(var v=s.type,N=c.attributes;N.length;)c.removeAttributeNode(N[0]);ao(c,v,p),c[Dn]=s,c[ji]=p}catch(P){_a(s,s.return,P)}}var Fl=!1,ja=!1,Tu=!1,_p=typeof WeakSet=="function"?WeakSet:Set,sr=null;function af(s,c){if(s=s.containerInfo,n5=ax,s=Yo(s),Zs(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var N=v.anchorOffset,P=v.focusNode;v=v.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var ne=0,_e=-1,Ve=-1,pt=0,Lt=0,Ut=s,_t=null;t:for(;;){for(var At;Ut!==p||N!==0&&Ut.nodeType!==3||(_e=ne+N),Ut!==P||v!==0&&Ut.nodeType!==3||(Ve=ne+v),Ut.nodeType===3&&(ne+=Ut.nodeValue.length),(At=Ut.firstChild)!==null;)_t=Ut,Ut=At;for(;;){if(Ut===s)break t;if(_t===p&&++pt===N&&(_e=ne),_t===P&&++Lt===v&&(Ve=ne),(At=Ut.nextSibling)!==null)break;Ut=_t,_t=Ut.parentNode}Ut=At}p=_e===-1||Ve===-1?null:{start:_e,end:Ve}}else p=null}p=p||{start:0,end:0}}else p=null;for(i5={focusedElem:s,selectionRange:p},ax=!1,sr=c;sr!==null;)if(c=sr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,sr=s;else for(;sr!==null;){switch(c=sr,P=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(p=0;p<s.length;p++)N=s[p],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&P!==null){s=void 0,p=c,N=P.memoizedProps,P=P.memoizedState,v=p.stateNode;try{var un=Es(p.type,N);s=v.getSnapshotBeforeUpdate(un,P),v.__reactInternalSnapshotBeforeUpdate=s}catch(kn){_a(p,p.return,kn)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,p=s.nodeType,p===9)s5(s);else if(p===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":s5(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=c.sibling,s!==null){s.return=c.return,sr=s;break}sr=c.return}}function qy(s,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Eu(s,p),v&4&&qc(5,p);break;case 1:if(Eu(s,p),v&4)if(s=p.stateNode,c===null)try{s.componentDidMount()}catch(ne){_a(p,p.return,ne)}else{var N=Es(p.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(N,c,s.__reactInternalSnapshotBeforeUpdate)}catch(ne){_a(p,p.return,ne)}}v&64&&hd(p),v&512&&Gc(p,p.return);break;case 3:if(Eu(s,p),v&64&&(s=p.updateQueue,s!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{yi(s,c)}catch(ne){_a(p,p.return,ne)}}break;case 27:c===null&&v&4&&yr(p);case 26:case 5:Eu(s,p),c===null&&v&4&&al(p),v&512&&Gc(p,p.return);break;case 12:Eu(s,p);break;case 31:Eu(s,p),v&4&&Um(s,p);break;case 13:Eu(s,p),v&4&&zg(s,p),v&64&&(s=p.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(p=I7.bind(null,p),nD(s,p))));break;case 22:if(v=p.memoizedState!==null||Fl,!v){c=c!==null&&c.memoizedState!==null||ja,N=Fl;var P=ja;Fl=v,(ja=c)&&!P?ea(s,p,(p.subtreeFlags&8772)!==0):Eu(s,p),Fl=N,ja=P}break;case 30:break;default:Eu(s,p)}}function Im(s){var c=s.alternate;c!==null&&(s.alternate=null,Im(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&co(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ii=null,zr=!1;function js(s,c,p){for(p=p.child;p!==null;)fd(s,c,p),p=p.sibling}function fd(s,c,p){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Ke,p)}catch{}switch(p.tag){case 26:ja||il(p,c),js(s,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ja||il(p,c);var v=Ii,N=zr;cf(p.type)&&(Ii=p.stateNode,zr=!1),js(s,c,p),Vg(p.stateNode),Ii=v,zr=N;break;case 5:ja||il(p,c);case 6:if(v=Ii,N=zr,Ii=null,js(s,c,p),Ii=v,zr=N,Ii!==null)if(zr)try{(Ii.nodeType===9?Ii.body:Ii.nodeName==="HTML"?Ii.ownerDocument.body:Ii).removeChild(p.stateNode)}catch(P){_a(p,c,P)}else try{Ii.removeChild(p.stateNode)}catch(P){_a(p,c,P)}break;case 18:Ii!==null&&(zr?(s=Ii,_A(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,p.stateNode),Ym(s)):_A(Ii,p.stateNode));break;case 4:v=Ii,N=zr,Ii=p.stateNode.containerInfo,zr=!0,js(s,c,p),Ii=v,zr=N;break;case 0:case 11:case 14:case 15:Bl(2,p,c),ja||Bl(4,p,c),js(s,c,p);break;case 1:ja||(il(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&Ug(p,c,v)),js(s,c,p);break;case 21:js(s,c,p);break;case 22:ja=(v=ja)||p.memoizedState!==null,js(s,c,p),ja=v;break;default:js(s,c,p)}}function Um(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ym(s)}catch(p){_a(c,c.return,p)}}}function zg(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ym(s)}catch(p){_a(c,c.return,p)}}function Gy(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new _p),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new _p),c;default:throw Error(n(435,s.tag))}}function xr(s,c){var p=Gy(s);c.forEach(function(v){if(!p.has(v)){p.add(v);var N=U7.bind(null,s,v);v.then(N,N)}})}function Fs(s,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var N=p[v],P=s,ne=c,_e=ne;e:for(;_e!==null;){switch(_e.tag){case 27:if(cf(_e.type)){Ii=_e.stateNode,zr=!1;break e}break;case 5:Ii=_e.stateNode,zr=!1;break e;case 3:case 4:Ii=_e.stateNode.containerInfo,zr=!0;break e}_e=_e.return}if(Ii===null)throw Error(n(160));fd(P,ne,N),Ii=null,zr=!1,P=N.alternate,P!==null&&(P.return=null),N.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)pd(c,s),c=c.sibling}var So=null;function pd(s,c){var p=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Fs(c,s),or(s),v&4&&(Bl(3,s,s.return),qc(3,s),Bl(5,s,s.return));break;case 1:Fs(c,s),or(s),v&512&&(ja||p===null||il(p,p.return)),v&64&&Fl&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(p=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var N=So;if(Fs(c,s),or(s),v&512&&(ja||p===null||il(p,p.return)),v&4){var P=p!==null?p.memoizedState:null;if(v=s.memoizedState,p===null)if(v===null)if(s.stateNode===null){e:{v=s.type,p=s.memoizedProps,N=N.ownerDocument||N;t:switch(v){case"title":P=N.getElementsByTagName("title")[0],(!P||P[xs]||P[Dn]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=N.createElement(v),N.head.insertBefore(P,N.querySelector("head > title"))),ao(P,v,p),P[Dn]=s,ct(P),v=P;break e;case"link":var ne=DA("link","href",N).get(v+(p.href||""));if(ne){for(var _e=0;_e<ne.length;_e++)if(P=ne[_e],P.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&P.getAttribute("rel")===(p.rel==null?null:p.rel)&&P.getAttribute("title")===(p.title==null?null:p.title)&&P.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){ne.splice(_e,1);break t}}P=N.createElement(v),ao(P,v,p),N.head.appendChild(P);break;case"meta":if(ne=DA("meta","content",N).get(v+(p.content||""))){for(_e=0;_e<ne.length;_e++)if(P=ne[_e],P.getAttribute("content")===(p.content==null?null:""+p.content)&&P.getAttribute("name")===(p.name==null?null:p.name)&&P.getAttribute("property")===(p.property==null?null:p.property)&&P.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&P.getAttribute("charset")===(p.charSet==null?null:p.charSet)){ne.splice(_e,1);break t}}P=N.createElement(v),ao(P,v,p),N.head.appendChild(P);break;default:throw Error(n(468,v))}P[Dn]=s,ct(P),v=P}s.stateNode=v}else OA(N,s.type,s.stateNode);else s.stateNode=LA(N,v,s.memoizedProps);else P!==v?(P===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):P.count--,v===null?OA(N,s.type,s.stateNode):LA(N,v,s.memoizedProps)):v===null&&s.stateNode!==null&&jl(s,s.memoizedProps,p.memoizedProps)}break;case 27:Fs(c,s),or(s),v&512&&(ja||p===null||il(p,p.return)),p!==null&&v&4&&jl(s,s.memoizedProps,p.memoizedProps);break;case 5:if(Fs(c,s),or(s),v&512&&(ja||p===null||il(p,p.return)),s.flags&32){N=s.stateNode;try{os(N,"")}catch(un){_a(s,s.return,un)}}v&4&&s.stateNode!=null&&(N=s.memoizedProps,jl(s,N,p!==null?p.memoizedProps:N)),v&1024&&(Tu=!0);break;case 6:if(Fs(c,s),or(s),v&4){if(s.stateNode===null)throw Error(n(162));v=s.memoizedProps,p=s.stateNode;try{p.nodeValue=v}catch(un){_a(s,s.return,un)}}break;case 3:if(ex=null,N=So,So=Jy(c.containerInfo),Fs(c,s),So=N,or(s),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Ym(c.containerInfo)}catch(un){_a(s,s.return,un)}Tu&&(Tu=!1,Wy(s));break;case 4:v=So,So=Jy(s.stateNode.containerInfo),Fs(c,s),or(s),So=v;break;case 12:Fs(c,s),or(s);break;case 31:Fs(c,s),or(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,xr(s,v)));break;case 13:Fs(c,s),or(s),s.child.flags&8192&&s.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Ru=ee()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,xr(s,v)));break;case 22:N=s.memoizedState!==null;var Ve=p!==null&&p.memoizedState!==null,pt=Fl,Lt=ja;if(Fl=pt||N,ja=Lt||Ve,Fs(c,s),ja=Lt,Fl=pt,or(s),v&8192)e:for(c=s.stateNode,c._visibility=N?c._visibility&-2:c._visibility|1,N&&(p===null||Ve||Fl||ja||nh(s)),p=null,c=s;;){if(c.tag===5||c.tag===26){if(p===null){Ve=p=c;try{if(P=Ve.stateNode,N)ne=P.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none";else{_e=Ve.stateNode;var Ut=Ve.memoizedProps.style,_t=Ut!=null&&Ut.hasOwnProperty("display")?Ut.display:null;_e.style.display=_t==null||typeof _t=="boolean"?"":(""+_t).trim()}}catch(un){_a(Ve,Ve.return,un)}}}else if(c.tag===6){if(p===null){Ve=c;try{Ve.stateNode.nodeValue=N?"":Ve.memoizedProps}catch(un){_a(Ve,Ve.return,un)}}}else if(c.tag===18){if(p===null){Ve=c;try{var At=Ve.stateNode;N?wA(At,!0):wA(Ve.stateNode,!1)}catch(un){_a(Ve,Ve.return,un)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=s.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,xr(s,p))));break;case 19:Fs(c,s),or(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,xr(s,v)));break;case 30:break;case 21:break;default:Fs(c,s),or(s)}}function or(s){var c=s.flags;if(c&2){try{for(var p,v=s.return;v!==null;){if(Ur(v)){p=v;break}v=v.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var N=p.stateNode,P=Wc(s);Wi(s,P,N);break;case 5:var ne=p.stateNode;p.flags&32&&(os(ne,""),p.flags&=-33);var _e=Wc(s);Wi(s,_e,ne);break;case 3:case 4:var Ve=p.stateNode.containerInfo,pt=Wc(s);ii(s,pt,Ve);break;default:throw Error(n(161))}}catch(Lt){_a(s,s.return,Lt)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function Wy(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;Wy(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Eu(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)qy(s,c.alternate,c),c=c.sibling}function nh(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Bl(4,c,c.return),nh(c);break;case 1:il(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&Ug(c,c.return,p),nh(c);break;case 27:Vg(c.stateNode);case 26:case 5:il(c,c.return),nh(c);break;case 22:c.memoizedState===null&&nh(c);break;case 30:nh(c);break;default:nh(c)}s=s.sibling}}function ea(s,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,N=s,P=c,ne=P.flags;switch(P.tag){case 0:case 11:case 15:ea(N,P,p),qc(4,P);break;case 1:if(ea(N,P,p),v=P,N=v.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(pt){_a(v,v.return,pt)}if(v=P,N=v.updateQueue,N!==null){var _e=v.stateNode;try{var Ve=N.shared.hiddenCallbacks;if(Ve!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Ve.length;N++)Ca(Ve[N],_e)}catch(pt){_a(v,v.return,pt)}}p&&ne&64&&hd(P),Gc(P,P.return);break;case 27:yr(P);case 26:case 5:ea(N,P,p),p&&v===null&&ne&4&&al(P),Gc(P,P.return);break;case 12:ea(N,P,p);break;case 31:ea(N,P,p),p&&ne&4&&Um(N,P);break;case 13:ea(N,P,p),p&&ne&4&&zg(N,P);break;case 22:P.memoizedState===null&&ea(N,P,p),Gc(P,P.return);break;case 30:break;default:ea(N,P,p)}c=c.sibling}}function zm(s,c){var p=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==p&&(s!=null&&s.refCount++,p!=null&&Kr(p))}function Cu(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Kr(s))}function Jr(s,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Ja(s,c,p,v),c=c.sibling}function Ja(s,c,p,v){var N=c.flags;switch(c.tag){case 0:case 11:case 15:Jr(s,c,p,v),N&2048&&qc(9,c);break;case 1:Jr(s,c,p,v);break;case 3:Jr(s,c,p,v),N&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Kr(s)));break;case 12:if(N&2048){Jr(s,c,p,v),s=c.stateNode;try{var P=c.memoizedProps,ne=P.id,_e=P.onPostCommit;typeof _e=="function"&&_e(ne,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Ve){_a(c,c.return,Ve)}}else Jr(s,c,p,v);break;case 31:Jr(s,c,p,v);break;case 13:Jr(s,c,p,v);break;case 23:break;case 22:P=c.stateNode,ne=c.alternate,c.memoizedState!==null?P._visibility&2?Jr(s,c,p,v):rf(s,c):P._visibility&2?Jr(s,c,p,v):(P._visibility|=2,md(s,c,p,v,(c.subtreeFlags&10256)!==0||!1)),N&2048&&zm(ne,c);break;case 24:Jr(s,c,p,v),N&2048&&Cu(c.alternate,c);break;default:Jr(s,c,p,v)}}function md(s,c,p,v,N){for(N=N&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var P=s,ne=c,_e=p,Ve=v,pt=ne.flags;switch(ne.tag){case 0:case 11:case 15:md(P,ne,_e,Ve,N),qc(8,ne);break;case 23:break;case 22:var Lt=ne.stateNode;ne.memoizedState!==null?Lt._visibility&2?md(P,ne,_e,Ve,N):rf(P,ne):(Lt._visibility|=2,md(P,ne,_e,Ve,N)),N&&pt&2048&&zm(ne.alternate,ne);break;case 24:md(P,ne,_e,Ve,N),N&&pt&2048&&Cu(ne.alternate,ne);break;default:md(P,ne,_e,Ve,N)}c=c.sibling}}function rf(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=s,v=c,N=v.flags;switch(v.tag){case 22:rf(p,v),N&2048&&zm(v.alternate,v);break;case 24:rf(p,v),N&2048&&Cu(v.alternate,v);break;default:rf(p,v)}c=c.sibling}}var lr=8192;function ih(s,c,p){if(s.subtreeFlags&lr)for(s=s.child;s!==null;)vr(s,c,p),s=s.sibling}function vr(s,c,p){switch(s.tag){case 26:ih(s,c,p),s.flags&lr&&s.memoizedState!==null&&pD(p,So,s.memoizedState,s.memoizedProps);break;case 5:ih(s,c,p);break;case 3:case 4:var v=So;So=Jy(s.stateNode.containerInfo),ih(s,c,p),So=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=lr,lr=16777216,ih(s,c,p),lr=v):ih(s,c,p));break;default:ih(s,c,p)}}function Ao(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function no(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];sr=v,wp(v,s)}Ao(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ah(s),s=s.sibling}function ah(s){switch(s.tag){case 0:case 11:case 15:no(s),s.flags&2048&&Bl(9,s,s.return);break;case 3:no(s);break;case 12:no(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Bm(s)):no(s);break;default:no(s)}}function Bm(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];sr=v,wp(v,s)}Ao(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Bl(8,c,c.return),Bm(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Bm(c));break;default:Bm(c)}s=s.sibling}}function wp(s,c){for(;sr!==null;){var p=sr;switch(p.tag){case 0:case 11:case 15:Bl(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Kr(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,sr=v;else e:for(p=s;sr!==null;){v=sr;var N=v.sibling,P=v.return;if(Im(v),v===p){sr=null;break e}if(N!==null){N.return=P,sr=N;break e}sr=P}}}var jm={getCacheForType:function(s){var c=kr(gn),p=c.data.get(s);return p===void 0&&(p=s(),c.data.set(s,p)),p},cacheSignal:function(){return kr(gn).controller.signal}},Fm=typeof WeakMap=="function"?WeakMap:Map,Ri=0,ta=null,ai=null,bi=0,Mn=0,fi=null,$n=!1,li=!1,ga=!1,br=0,na=0,rl=0,Nu=0,yc=0,Li=0,sl=0,xc=null,Vs=null,Mo=!1,Ru=0,sf=0,ol=1/0,of=null,Xc=null,Qa=0,vc=null,ll=null,Vl=0,Lu=0,rh=null,Vm=null,sh=0,oh=null;function io(){return(Ri&2)!==0&&bi!==0?bi&-bi:J.T!==null?$b():Ki()}function h(){if(Li===0)if((bi&536870912)===0||gi){var s=Tt;Tt<<=1,(Tt&3932160)===0&&(Tt=262144),Li=s}else Li=536870912;return s=qi.current,s!==null&&(s.flags|=32),Li}function f(s,c,p){(s===ta&&(Mn===2||Mn===9)||s.cancelPendingCommit!==null)&&(it(s,0),K(s,bi,Li,!1)),$t(s,p),((Ri&2)===0||s!==ta)&&(s===ta&&((Ri&2)===0&&(Nu|=p),na===4&&K(s,bi,Li,!1)),gd(s))}function w(s,c,p){if((Ri&6)!==0)throw Error(n(327));var v=!p&&(c&127)===0&&(c&s.expiredLanes)===0||qt(s,c),N=v?lh(s,c):To(s,c,!0),P=v;do{if(N===0){li&&!v&&K(s,c,0,!1);break}else{if(p=s.current.alternate,P&&!B(p)){N=To(s,c,!1),P=!1;continue}if(N===2){if(P=c,s.errorRecoveryDisabledLanes&P)var ne=0;else ne=s.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){c=ne;e:{var _e=s;N=xc;var Ve=_e.current.memoizedState.isDehydrated;if(Ve&&(it(_e,ne).flags|=256),ne=To(_e,ne,!1),ne!==2){if(ga&&!Ve){_e.errorRecoveryDisabledLanes|=P,Nu|=P,N=4;break e}P=Vs,Vs=N,P!==null&&(Vs===null?Vs=P:Vs.push.apply(Vs,P))}N=ne}if(P=!1,N!==2)continue}}if(N===1){it(s,0),K(s,c,0,!0);break}e:{switch(v=s,P=N,P){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:K(v,c,Li,!$n);break e;case 2:Vs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(N=Ru+300-ee(),10<N)){if(K(v,c,Li,!$n),dt(v,0,!0)!==0)break e;Vl=c,v.timeoutHandle=vA(R.bind(null,v,p,Vs,of,Mo,c,Li,Nu,sl,$n,P,"Throttled",-0,0),N);break e}R(v,p,Vs,of,Mo,c,Li,Nu,sl,$n,P,null,-0,0)}}break}while(!0);gd(s)}function R(s,c,p,v,N,P,ne,_e,Ve,pt,Lt,Ut,_t,At){if(s.timeoutHandle=-1,Ut=c.subtreeFlags,Ut&8192||(Ut&16785408)===16785408){Ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:uo},vr(c,P,Ut);var un=(P&62914560)===P?Ru-ee():(P&4194048)===P?sf-ee():0;if(un=mD(Ut,un),un!==null){Vl=P,s.cancelPendingCommit=un(In.bind(null,s,c,P,p,v,N,ne,_e,Ve,Lt,Ut,null,_t,At)),K(s,P,ne,!pt);return}}In(s,c,P,p,v,N,ne,_e,Ve)}function B(s){for(var c=s;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var N=p[v],P=N.getSnapshot;N=N.value;try{if(!Hi(P(),N))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function K(s,c,p,v){c&=~yc,c&=~Nu,s.suspendedLanes|=c,s.pingedLanes&=~c,v&&(s.warmLanes|=c),v=s.expirationTimes;for(var N=c;0<N;){var P=31-De(N),ne=1<<P;v[P]=-1,N&=~ne}p!==0&&Gs(s,p,c)}function Se(){return(Ri&6)===0?(Bg(0),!1):!0}function Fe(){if(ai!==null){if(Mn===0)var s=ai.return;else s=ai,$r=Dl=null,Vh(s),It=null,on=0,s=ai;for(;s!==null;)th(s.alternate,s),s=s.return;ai=null}}function it(s,c){var p=s.timeoutHandle;p!==-1&&(s.timeoutHandle=-1,Z7(p)),p=s.cancelPendingCommit,p!==null&&(s.cancelPendingCommit=null,p()),Vl=0,Fe(),ta=s,ai=p=Qs(s.current,null),bi=c,Mn=0,fi=null,$n=!1,li=qt(s,c),ga=!1,sl=Li=yc=Nu=rl=na=0,Vs=xc=null,Mo=!1,(c&8)!==0&&(c|=c&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=c;0<v;){var N=31-De(v),P=1<<N;c|=s[N],v&=~P}return br=c,sc(),p}function Ot(s,c){hn=null,J.H=up,c===Xe||c===Le?(c=Nt(),Mn=3):c===ut?(c=Nt(),Mn=4):Mn=c===Om?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,fi=c,ai===null&&(na=1,Dm(s,Is(c,s.current)))}function Gt(){var s=qi.current;return s===null?!0:(bi&4194048)===bi?Ci===null:(bi&62914560)===bi||(bi&536870912)!==0?s===Ci:!1}function Jt(){var s=J.H;return J.H=up,s===null?up:s}function tn(){var s=J.A;return J.A=jm,s}function qn(){na=4,$n||(bi&4194048)!==bi&&qi.current!==null||(li=!0),(rl&134217727)===0&&(Nu&134217727)===0||ta===null||K(ta,bi,Li,!1)}function To(s,c,p){var v=Ri;Ri|=2;var N=Jt(),P=tn();(ta!==s||bi!==c)&&(of=null,it(s,c)),c=!1;var ne=na;e:do try{if(Mn!==0&&ai!==null){var _e=ai,Ve=fi;switch(Mn){case 8:Fe(),ne=6;break e;case 3:case 2:case 9:case 6:qi.current===null&&(c=!0);var pt=Mn;if(Mn=0,fi=null,Ht(s,_e,Ve,pt),p&&li){ne=0;break e}break;default:pt=Mn,Mn=0,fi=null,Ht(s,_e,Ve,pt)}}Sp(),ne=na;break}catch(Lt){Ot(s,Lt)}while(!0);return c&&s.shellSuspendCounter++,$r=Dl=null,Ri=v,J.H=N,J.A=P,ai===null&&(ta=null,bi=0,sc()),ne}function Sp(){for(;ai!==null;)tt(ai)}function lh(s,c){var p=Ri;Ri|=2;var v=Jt(),N=tn();ta!==s||bi!==c?(of=null,ol=ee()+500,it(s,c)):li=qt(s,c);e:do try{if(Mn!==0&&ai!==null){c=ai;var P=fi;t:switch(Mn){case 1:Mn=0,fi=null,Ht(s,c,P,1);break;case 2:case 9:if(rt(P)){Mn=0,fi=null,wt(c);break}c=function(){Mn!==2&&Mn!==9||ta!==s||(Mn=7),gd(s)},P.then(c,c);break e;case 3:Mn=7;break e;case 4:Mn=5;break e;case 7:rt(P)?(Mn=0,fi=null,wt(c)):(Mn=0,fi=null,Ht(s,c,P,7));break;case 5:var ne=null;switch(ai.tag){case 26:ne=ai.memoizedState;case 5:case 27:var _e=ai;if(ne?PA(ne):_e.stateNode.complete){Mn=0,fi=null;var Ve=_e.sibling;if(Ve!==null)ai=Ve;else{var pt=_e.return;pt!==null?(ai=pt,bn(pt)):ai=null}break t}}Mn=0,fi=null,Ht(s,c,P,5);break;case 6:Mn=0,fi=null,Ht(s,c,P,6);break;case 8:Fe(),na=6;break e;default:throw Error(n(462))}}vt();break}catch(Lt){Ot(s,Lt)}while(!0);return $r=Dl=null,J.H=v,J.A=N,Ri=p,ai!==null?0:(ta=null,bi=0,sc(),na)}function vt(){for(;ai!==null&&!ge();)tt(ai)}function tt(s){var c=Pm(s.alternate,s,br);s.memoizedProps=s.pendingProps,c===null?bn(s):ai=c}function wt(s){var c=s,p=c.alternate;switch(c.tag){case 15:case 0:c=Bs(p,c,c.pendingProps,c.type,void 0,bi);break;case 11:c=Bs(p,c,c.pendingProps,c.type.render,c.ref,bi);break;case 5:Vh(c);default:th(p,c),c=ai=gr(c,br),c=Pm(p,c,br)}s.memoizedProps=s.pendingProps,c===null?bn(s):ai=c}function Ht(s,c,p,v){$r=Dl=null,Vh(c),It=null,on=0;var N=c.return;try{if(Jo(s,N,c,p,bi)){na=1,Dm(s,Is(p,s.current)),ai=null;return}}catch(P){if(N!==null)throw ai=N,P;na=1,Dm(s,Is(p,s.current)),ai=null;return}c.flags&32768?(gi||v===1?s=!0:li||(bi&536870912)!==0?s=!1:($n=s=!0,(v===2||v===9||v===3||v===6)&&(v=qi.current,v!==null&&v.tag===13&&(v.flags|=16384))),Ra(c,s)):bn(c)}function bn(s){var c=s;do{if((c.flags&32768)!==0){Ra(c,$n);return}s=c.return;var p=Ig(c.alternate,c,br);if(p!==null){ai=p;return}if(c=c.sibling,c!==null){ai=c;return}ai=c=s}while(c!==null);na===0&&(na=5)}function Ra(s,c){do{var p=km(s.alternate,s);if(p!==null){p.flags&=32767,ai=p;return}if(p=s.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(s=s.sibling,s!==null)){ai=s;return}ai=s=p}while(s!==null);na=6,ai=null}function In(s,c,p,v,N,P,ne,_e,Ve){s.cancelPendingCommit=null;do Hm();while(Qa!==0);if((Ri&6)!==0)throw Error(n(327));if(c!==null){if(c===s.current)throw Error(n(177));if(P=c.lanes|c.childLanes,P|=Vd,Fi(s,p,P,ne,_e,Ve),s===ta&&(ai=ta=null,bi=0),ll=c,vc=s,Vl=p,Lu=P,rh=N,Vm=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,z7(Be,function(){return nA(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=J.T,J.T=null,N=ae.p,ae.p=2,ne=Ri,Ri|=4;try{af(s,c,p)}finally{Ri=ne,ae.p=N,J.T=v}}Qa=1,Ui(),Qr(),zi()}}function Ui(){if(Qa===1){Qa=0;var s=vc,c=ll,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=J.T,J.T=null;var v=ae.p;ae.p=2;var N=Ri;Ri|=4;try{pd(c,s);var P=i5,ne=Yo(s.containerInfo),_e=P.focusedElem,Ve=P.selectionRange;if(ne!==_e&&_e&&_e.ownerDocument&&Xo(_e.ownerDocument.documentElement,_e)){if(Ve!==null&&Zs(_e)){var pt=Ve.start,Lt=Ve.end;if(Lt===void 0&&(Lt=pt),"selectionStart"in _e)_e.selectionStart=pt,_e.selectionEnd=Math.min(Lt,_e.value.length);else{var Ut=_e.ownerDocument||document,_t=Ut&&Ut.defaultView||window;if(_t.getSelection){var At=_t.getSelection(),un=_e.textContent.length,kn=Math.min(Ve.start,un),Da=Ve.end===void 0?kn:Math.min(Ve.end,un);!At.extend&&kn>Da&&(ne=Da,Da=kn,kn=ne);var nt=mu(_e,kn),Ye=mu(_e,Da);if(nt&&Ye&&(At.rangeCount!==1||At.anchorNode!==nt.node||At.anchorOffset!==nt.offset||At.focusNode!==Ye.node||At.focusOffset!==Ye.offset)){var ht=Ut.createRange();ht.setStart(nt.node,nt.offset),At.removeAllRanges(),kn>Da?(At.addRange(ht),At.extend(Ye.node,Ye.offset)):(ht.setEnd(Ye.node,Ye.offset),At.addRange(ht))}}}}for(Ut=[],At=_e;At=At.parentNode;)At.nodeType===1&&Ut.push({element:At,left:At.scrollLeft,top:At.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<Ut.length;_e++){var Pt=Ut[_e];Pt.element.scrollLeft=Pt.left,Pt.element.scrollTop=Pt.top}}ax=!!n5,i5=n5=null}finally{Ri=N,ae.p=v,J.T=p}}s.current=c,Qa=2}}function Qr(){if(Qa===2){Qa=0;var s=vc,c=ll,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=J.T,J.T=null;var v=ae.p;ae.p=2;var N=Ri;Ri|=4;try{qy(s,c.alternate,c)}finally{Ri=N,ae.p=v,J.T=p}}Qa=3}}function zi(){if(Qa===4||Qa===3){Qa=0,se();var s=vc,c=ll,p=Vl,v=Vm;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Qa=5:(Qa=0,ll=vc=null,Du(s,s.pendingLanes));var N=s.pendingLanes;if(N===0&&(Xc=null),ya(p),c=c.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Ke,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=J.T,N=ae.p,ae.p=2,J.T=null;try{for(var P=s.onRecoverableError,ne=0;ne<v.length;ne++){var _e=v[ne];P(_e.value,{componentStack:_e.stack})}}finally{J.T=c,ae.p=N}}(Vl&3)!==0&&Hm(),gd(s),N=s.pendingLanes,(p&261930)!==0&&(N&42)!==0?s===oh?sh++:(sh=0,oh=s):sh=0,Bg(0)}}function Du(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Kr(c)))}function Hm(){return Ui(),Qr(),zi(),nA()}function nA(){if(Qa!==5)return!1;var s=vc,c=Lu;Lu=0;var p=ya(Vl),v=J.T,N=ae.p;try{ae.p=32>p?32:p,J.T=null,p=rh,rh=null;var P=vc,ne=Vl;if(Qa=0,ll=vc=null,Vl=0,(Ri&6)!==0)throw Error(n(331));var _e=Ri;if(Ri|=4,ah(P.current),Ja(P,P.current,ne,p),Ri=_e,Bg(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Ke,P)}catch{}return!0}finally{ae.p=N,J.T=v,Du(s,c)}}function iA(s,c,p){c=Is(p,c),c=kg(s.stateNode,c,2),s=Yn(s,c,2),s!==null&&($t(s,2),gd(s))}function _a(s,c,p){if(s.tag===3)iA(s,s,p);else for(;c!==null;){if(c.tag===3){iA(c,s,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Xc===null||!Xc.has(v))){s=Is(p,s),p=Jh(2),v=Yn(c,p,2),v!==null&&(_o(p,v,c,s),$t(v,2),gd(v));break}}c=c.return}}function Wb(s,c,p){var v=s.pingCache;if(v===null){v=s.pingCache=new Fm;var N=new Set;v.set(c,N)}else N=v.get(c),N===void 0&&(N=new Set,v.set(c,N));N.has(p)||(ga=!0,N.add(p),s=k7.bind(null,s,c,p),c.then(s,s))}function k7(s,c,p){var v=s.pingCache;v!==null&&v.delete(c),s.pingedLanes|=s.suspendedLanes&p,s.warmLanes&=~p,ta===s&&(bi&p)===p&&(na===4||na===3&&(bi&62914560)===bi&&300>ee()-Ru?(Ri&2)===0&&it(s,0):yc|=p,sl===bi&&(sl=0)),gd(s)}function aA(s,c){c===0&&(c=wn()),s=Nl(s,c),s!==null&&($t(s,c),gd(s))}function I7(s){var c=s.memoizedState,p=0;c!==null&&(p=c.retryLane),aA(s,p)}function U7(s,c){var p=0;switch(s.tag){case 31:case 13:var v=s.stateNode,N=s.memoizedState;N!==null&&(p=N.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(c),aA(s,p)}function z7(s,c){return Re(s,c)}var Xy=null,qm=null,Xb=!1,Yy=!1,Yb=!1,lf=0;function gd(s){s!==qm&&s.next===null&&(qm===null?Xy=qm=s:qm=qm.next=s),Yy=!0,Xb||(Xb=!0,j7())}function Bg(s,c){if(!Yb&&Yy){Yb=!0;do for(var p=!1,v=Xy;v!==null;){if(s!==0){var N=v.pendingLanes;if(N===0)var P=0;else{var ne=v.suspendedLanes,_e=v.pingedLanes;P=(1<<31-De(42|s)+1)-1,P&=N&~(ne&~_e),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(p=!0,lA(v,P))}else P=bi,P=dt(v,v===ta?P:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(P&3)===0||qt(v,P)||(p=!0,lA(v,P));v=v.next}while(p);Yb=!1}}function B7(){rA()}function rA(){Yy=Xb=!1;var s=0;lf!==0&&K7()&&(s=lf);for(var c=ee(),p=null,v=Xy;v!==null;){var N=v.next,P=sA(v,c);P===0?(v.next=null,p===null?Xy=N:p.next=N,N===null&&(qm=p)):(p=v,(s!==0||(P&3)!==0)&&(Yy=!0)),v=N}Qa!==0&&Qa!==5||Bg(s),lf!==0&&(lf=0)}function sA(s,c){for(var p=s.suspendedLanes,v=s.pingedLanes,N=s.expirationTimes,P=s.pendingLanes&-62914561;0<P;){var ne=31-De(P),_e=1<<ne,Ve=N[ne];Ve===-1?((_e&p)===0||(_e&v)!==0)&&(N[ne]=Xt(_e,c)):Ve<=c&&(s.expiredLanes|=_e),P&=~_e}if(c=ta,p=bi,p=dt(s,s===c?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,p===0||s===c&&(Mn===2||Mn===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&Pe(v),s.callbackNode=null,s.callbackPriority=0;if((p&3)===0||qt(s,p)){if(c=p&-p,c===s.callbackPriority)return c;switch(v!==null&&Pe(v),ya(p)){case 2:case 8:p=Ge;break;case 32:p=Be;break;case 268435456:p=yt;break;default:p=Be}return v=oA.bind(null,s),p=Re(p,v),s.callbackPriority=c,s.callbackNode=p,c}return v!==null&&v!==null&&Pe(v),s.callbackPriority=2,s.callbackNode=null,2}function oA(s,c){if(Qa!==0&&Qa!==5)return s.callbackNode=null,s.callbackPriority=0,null;var p=s.callbackNode;if(Hm()&&s.callbackNode!==p)return null;var v=bi;return v=dt(s,s===ta?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(w(s,v,c),sA(s,ee()),s.callbackNode!=null&&s.callbackNode===p?oA.bind(null,s):null)}function lA(s,c){if(Hm())return null;w(s,c,!0)}function j7(){J7(function(){(Ri&6)!==0?Re(je,B7):rA()})}function $b(){if(lf===0){var s=T;s===0&&(s=xt,xt<<=1,(xt&261888)===0&&(xt=256)),lf=s}return lf}function cA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:vs(""+s)}function uA(s,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,s.id&&p.setAttribute("form",s.id),c.parentNode.insertBefore(p,c),s=new FormData(s),p.parentNode.removeChild(p),s}function F7(s,c,p,v,N){if(c==="submit"&&p&&p.stateNode===N){var P=cA((N[ji]||null).action),ne=v.submitter;ne&&(c=(c=ne[ji]||null)?cA(c.formAction):ne.getAttribute("formAction"),c!==null&&(P=c,ne=null));var _e=new Ys("action","action",null,v,N);s.push({event:_e,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(lf!==0){var Ve=ne?uA(N,ne):new FormData(N);Rg(p,{pending:!0,data:Ve,method:N.method,action:P},null,Ve)}}else typeof P=="function"&&(_e.preventDefault(),Ve=ne?uA(N,ne):new FormData(N),Rg(p,{pending:!0,data:Ve,method:N.method,action:P},P,Ve))},currentTarget:N}]})}}for(var Kb=0;Kb<kc.length;Kb++){var Zb=kc[Kb],V7=Zb.toLowerCase(),H7=Zb[0].toUpperCase()+Zb.slice(1);Yr(V7,"on"+H7)}Yr(fr,"onAnimationEnd"),Yr(Zu,"onAnimationIteration"),Yr($o,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(gu,"onTransitionRun"),Yr(ac,"onTransitionStart"),Yr(kh,"onTransitionCancel"),Yr(Fd,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),Wt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jg));function dA(s,c){c=(c&4)!==0;for(var p=0;p<s.length;p++){var v=s[p],N=v.event;v=v.listeners;e:{var P=void 0;if(c)for(var ne=v.length-1;0<=ne;ne--){var _e=v[ne],Ve=_e.instance,pt=_e.currentTarget;if(_e=_e.listener,Ve!==P&&N.isPropagationStopped())break e;P=_e,N.currentTarget=pt;try{P(N)}catch(Lt){rc(Lt)}N.currentTarget=null,P=Ve}else for(ne=0;ne<v.length;ne++){if(_e=v[ne],Ve=_e.instance,pt=_e.currentTarget,_e=_e.listener,Ve!==P&&N.isPropagationStopped())break e;P=_e,N.currentTarget=pt;try{P(N)}catch(Lt){rc(Lt)}N.currentTarget=null,P=Ve}}}}function Ai(s,c){var p=c[Hr];p===void 0&&(p=c[Hr]=new Set);var v=s+"__bubble";p.has(v)||(hA(c,s,2,!1),p.add(v))}function Jb(s,c,p){var v=0;c&&(v|=4),hA(p,s,v,c)}var $y="_reactListening"+Math.random().toString(36).slice(2);function Qb(s){if(!s[$y]){s[$y]=!0,Je.forEach(function(p){p!=="selectionchange"&&(q7.has(p)||Jb(p,!1,s),Jb(p,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[$y]||(c[$y]=!0,Jb("selectionchange",!1,c))}}function hA(s,c,p,v){switch(FA(c)){case 2:var N=xD;break;case 8:N=vD;break;default:N=p5}p=N.bind(null,c,p,s),N=void 0,!Yu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(N=!0),v?N!==void 0?s.addEventListener(c,p,{capture:!0,passive:N}):s.addEventListener(c,p,!0):N!==void 0?s.addEventListener(c,p,{passive:N}):s.addEventListener(c,p,!1)}function e5(s,c,p,v,N){var P=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var ne=v.tag;if(ne===3||ne===4){var _e=v.stateNode.containerInfo;if(_e===N)break;if(ne===4)for(ne=v.return;ne!==null;){var Ve=ne.tag;if((Ve===3||Ve===4)&&ne.stateNode.containerInfo===N)return;ne=ne.return}for(;_e!==null;){if(ne=da(_e),ne===null)return;if(Ve=ne.tag,Ve===5||Ve===6||Ve===26||Ve===27){v=P=ne;continue e}_e=_e.parentNode}}v=v.return}Id(function(){var pt=P,Lt=Nc(p),Ut=[];e:{var _t=Cl.get(s);if(_t!==void 0){var At=Ys,un=s;switch(s){case"keypress":if(_s(p)===0)break e;case"keydown":case"keyup":At=mi;break;case"focusin":un="focus",At=xl;break;case"focusout":un="blur",At=xl;break;case"beforeblur":case"afterblur":At=xl;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=oa;break;case fr:case Zu:case $o:At=F;break;case Fd:At=qr;break;case"scroll":case"scrollend":At=ec;break;case"wheel":At=Cr;break;case"copy":case"cut":case"paste":At=Ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=ka;break;case"toggle":case"beforetoggle":At=du}var kn=(c&4)!==0,Da=!kn&&(s==="scroll"||s==="scrollend"),nt=kn?_t!==null?_t+"Capture":null:_t;kn=[];for(var Ye=pt,ht;Ye!==null;){var Pt=Ye;if(ht=Pt.stateNode,Pt=Pt.tag,Pt!==5&&Pt!==26&&Pt!==27||ht===null||nt===null||(Pt=bs(Ye,nt),Pt!=null&&kn.push(Fg(Ye,Pt,ht))),Da)break;Ye=Ye.return}0<kn.length&&(_t=new At(_t,un,null,p,Lt),Ut.push({event:_t,listeners:kn}))}}if((c&7)===0){e:{if(_t=s==="mouseover"||s==="pointerover",At=s==="mouseout"||s==="pointerout",_t&&p!==Ho&&(un=p.relatedTarget||p.fromElement)&&(da(un)||un[Xa]))break e;if((At||_t)&&(_t=Lt.window===Lt?Lt:(_t=Lt.ownerDocument)?_t.defaultView||_t.parentWindow:window,At?(un=p.relatedTarget||p.toElement,At=pt,un=un?da(un):null,un!==null&&(Da=r(un),kn=un.tag,un!==Da||kn!==5&&kn!==27&&kn!==6)&&(un=null)):(At=null,un=pt),At!==un)){if(kn=Ud,Pt="onMouseLeave",nt="onMouseEnter",Ye="mouse",(s==="pointerout"||s==="pointerover")&&(kn=ka,Pt="onPointerLeave",nt="onPointerEnter",Ye="pointer"),Da=At==null?_t:Ze(At),ht=un==null?_t:Ze(un),_t=new kn(Pt,Ye+"leave",At,p,Lt),_t.target=Da,_t.relatedTarget=ht,Pt=null,da(Lt)===pt&&(kn=new kn(nt,Ye+"enter",un,p,Lt),kn.target=ht,kn.relatedTarget=Da,Pt=kn),Da=Pt,At&&un)t:{for(kn=G7,nt=At,Ye=un,ht=0,Pt=nt;Pt;Pt=kn(Pt))ht++;Pt=0;for(var Ln=Ye;Ln;Ln=kn(Ln))Pt++;for(;0<ht-Pt;)nt=kn(nt),ht--;for(;0<Pt-ht;)Ye=kn(Ye),Pt--;for(;ht--;){if(nt===Ye||Ye!==null&&nt===Ye.alternate){kn=nt;break t}nt=kn(nt),Ye=kn(Ye)}kn=null}else kn=null;At!==null&&fA(Ut,_t,At,kn,!1),un!==null&&Da!==null&&fA(Ut,Da,un,kn,!0)}}e:{if(_t=pt?Ze(pt):window,At=_t.nodeName&&_t.nodeName.toLowerCase(),At==="select"||At==="input"&&_t.type==="file")var ia=nc;else if(Ku(_t))if(Wr)ia=Wo;else{ia=Ji;var yn=Ml}else At=_t.nodeName,!At||At.toLowerCase()!=="input"||_t.type!=="checkbox"&&_t.type!=="radio"?pt&&ou(pt.elementType)&&(ia=nc):ia=jd;if(ia&&(ia=ia(s,pt))){Ss(Ut,ia,p,Lt);break e}yn&&yn(s,_t,pt),s==="focusout"&&pt&&_t.type==="number"&&pt.memoizedProps.value!=null&&Ya(_t,"number",_t.value)}switch(yn=pt?Ze(pt):window,s){case"focusin":(Ku(yn)||yn.contentEditable==="true")&&(Js=yn,El=pt,Xr=null);break;case"focusout":Xr=El=Js=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,Si(Ut,p,Lt);break;case"selectionchange":if(Pc)break;case"keydown":case"keyup":Si(Ut,p,Lt)}var ci;if(Os)e:{switch(s){case"compositionstart":var Di="onCompositionStart";break e;case"compositionend":Di="onCompositionEnd";break e;case"compositionupdate":Di="onCompositionUpdate";break e}Di=void 0}else ho?bl(s,p)&&(Di="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Di="onCompositionStart");Di&&(Ea&&p.locale!=="ko"&&(ho||Di!=="onCompositionStart"?Di==="onCompositionEnd"&&ho&&(ci=$u()):(Xs=Lt,Rc="value"in Xs?Xs.value:Xs.textContent,ho=!0)),yn=Ky(pt,Di),0<yn.length&&(Di=new Qe(Di,s,null,p,Lt),Ut.push({event:Di,listeners:yn}),ci?Di.data=ci:(ci=_l(p),ci!==null&&(Di.data=ci)))),(ci=$s?Nr(s,p):wl(s,p))&&(Di=Ky(pt,"onBeforeInput"),0<Di.length&&(yn=new Qe("onBeforeInput","beforeinput",null,p,Lt),Ut.push({event:yn,listeners:Di}),yn.data=ci)),F7(Ut,s,pt,p,Lt)}dA(Ut,c)})}function Fg(s,c,p){return{instance:s,listener:c,currentTarget:p}}function Ky(s,c){for(var p=c+"Capture",v=[];s!==null;){var N=s,P=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||P===null||(N=bs(s,p),N!=null&&v.unshift(Fg(s,N,P)),N=bs(s,c),N!=null&&v.push(Fg(s,N,P))),s.tag===3)return v;s=s.return}return[]}function G7(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function fA(s,c,p,v,N){for(var P=c._reactName,ne=[];p!==null&&p!==v;){var _e=p,Ve=_e.alternate,pt=_e.stateNode;if(_e=_e.tag,Ve!==null&&Ve===v)break;_e!==5&&_e!==26&&_e!==27||pt===null||(Ve=pt,N?(pt=bs(p,P),pt!=null&&ne.unshift(Fg(p,pt,Ve))):N||(pt=bs(p,P),pt!=null&&ne.push(Fg(p,pt,Ve)))),p=p.return}ne.length!==0&&s.push({event:c,listeners:ne})}var W7=/\r\n?/g,X7=/\u0000|\uFFFD/g;function pA(s){return(typeof s=="string"?s:""+s).replace(W7,`
`).replace(X7,"")}function mA(s,c){return c=pA(c),pA(s)===c}function La(s,c,p,v,N,P){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||os(s,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&os(s,""+v);break;case"className":ti(s,"class",v);break;case"tabIndex":ti(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(s,p,v);break;case"style":Od(s,v,P);break;case"data":if(c!=="object"){ti(s,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){s.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(p);break}v=vs(""+v),s.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(p==="formAction"?(c!=="input"&&La(s,c,"name",N.name,N,null),La(s,c,"formEncType",N.formEncType,N,null),La(s,c,"formMethod",N.formMethod,N,null),La(s,c,"formTarget",N.formTarget,N,null)):(La(s,c,"encType",N.encType,N,null),La(s,c,"method",N.method,N,null),La(s,c,"target",N.target,N,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(p);break}v=vs(""+v),s.setAttribute(p,v);break;case"onClick":v!=null&&(s.onclick=uo);break;case"onScroll":v!=null&&Ai("scroll",s);break;case"onScrollEnd":v!=null&&Ai("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(N.children!=null)throw Error(n(60));s.innerHTML=p}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}p=vs(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(p,""+v):s.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(p,""):s.removeAttribute(p);break;case"capture":case"download":v===!0?s.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(p,v):s.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(p,v):s.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(p):s.setAttribute(p,v);break;case"popover":Ai("beforetoggle",s),Ai("toggle",s),Rn(s,"popover",v);break;case"xlinkActuate":di(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":di(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":di(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":di(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":di(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":di(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":di(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":di(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":di(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Rn(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Wu.get(p)||p,Rn(s,p,v))}}function t5(s,c,p,v,N,P){switch(p){case"style":Od(s,v,P);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(N.children!=null)throw Error(n(60));s.innerHTML=p}}break;case"children":typeof v=="string"?os(s,v):(typeof v=="number"||typeof v=="bigint")&&os(s,""+v);break;case"onScroll":v!=null&&Ai("scroll",s);break;case"onScrollEnd":v!=null&&Ai("scrollend",s);break;case"onClick":v!=null&&(s.onclick=uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ft.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(N=p.endsWith("Capture"),c=p.slice(2,N?p.length-7:void 0),P=s[ji]||null,P=P!=null?P[p]:null,typeof P=="function"&&s.removeEventListener(c,P,N),typeof v=="function")){typeof P!="function"&&P!==null&&(p in s?s[p]=null:s.hasAttribute(p)&&s.removeAttribute(p)),s.addEventListener(c,v,N);break e}p in s?s[p]=v:v===!0?s.setAttribute(p,""):Rn(s,p,v)}}}function ao(s,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ai("error",s),Ai("load",s);var v=!1,N=!1,P;for(P in p)if(p.hasOwnProperty(P)){var ne=p[P];if(ne!=null)switch(P){case"src":v=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:La(s,c,P,ne,p,null)}}N&&La(s,c,"srcSet",p.srcSet,p,null),v&&La(s,c,"src",p.src,p,null);return;case"input":Ai("invalid",s);var _e=P=ne=N=null,Ve=null,pt=null;for(v in p)if(p.hasOwnProperty(v)){var Lt=p[v];if(Lt!=null)switch(v){case"name":N=Lt;break;case"type":ne=Lt;break;case"checked":Ve=Lt;break;case"defaultChecked":pt=Lt;break;case"value":P=Lt;break;case"defaultValue":_e=Lt;break;case"children":case"dangerouslySetInnerHTML":if(Lt!=null)throw Error(n(137,c));break;default:La(s,c,v,Lt,p,null)}}Vi(s,P,_e,Ve,pt,ne,N,!1);return;case"select":Ai("invalid",s),v=ne=P=null;for(N in p)if(p.hasOwnProperty(N)&&(_e=p[N],_e!=null))switch(N){case"value":P=_e;break;case"defaultValue":ne=_e;break;case"multiple":v=_e;default:La(s,c,N,_e,p,null)}c=P,p=ne,s.multiple=!!v,c!=null?Zi(s,!!v,c,!1):p!=null&&Zi(s,!!v,p,!0);return;case"textarea":Ai("invalid",s),P=N=v=null;for(ne in p)if(p.hasOwnProperty(ne)&&(_e=p[ne],_e!=null))switch(ne){case"value":v=_e;break;case"defaultValue":N=_e;break;case"children":P=_e;break;case"dangerouslySetInnerHTML":if(_e!=null)throw Error(n(91));break;default:La(s,c,ne,_e,p,null)}xa(s,v,N,P);return;case"option":for(Ve in p)if(p.hasOwnProperty(Ve)&&(v=p[Ve],v!=null))switch(Ve){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:La(s,c,Ve,v,p,null)}return;case"dialog":Ai("beforetoggle",s),Ai("toggle",s),Ai("cancel",s),Ai("close",s);break;case"iframe":case"object":Ai("load",s);break;case"video":case"audio":for(v=0;v<jg.length;v++)Ai(jg[v],s);break;case"image":Ai("error",s),Ai("load",s);break;case"details":Ai("toggle",s);break;case"embed":case"source":case"link":Ai("error",s),Ai("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pt in p)if(p.hasOwnProperty(pt)&&(v=p[pt],v!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:La(s,c,pt,v,p,null)}return;default:if(ou(c)){for(Lt in p)p.hasOwnProperty(Lt)&&(v=p[Lt],v!==void 0&&t5(s,c,Lt,v,p,void 0));return}}for(_e in p)p.hasOwnProperty(_e)&&(v=p[_e],v!=null&&La(s,c,_e,v,p,null))}function Y7(s,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,P=null,ne=null,_e=null,Ve=null,pt=null,Lt=null;for(At in p){var Ut=p[At];if(p.hasOwnProperty(At)&&Ut!=null)switch(At){case"checked":break;case"value":break;case"defaultValue":Ve=Ut;default:v.hasOwnProperty(At)||La(s,c,At,null,v,Ut)}}for(var _t in v){var At=v[_t];if(Ut=p[_t],v.hasOwnProperty(_t)&&(At!=null||Ut!=null))switch(_t){case"type":P=At;break;case"name":N=At;break;case"checked":pt=At;break;case"defaultChecked":Lt=At;break;case"value":ne=At;break;case"defaultValue":_e=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(n(137,c));break;default:At!==Ut&&La(s,c,_t,At,v,Ut)}}Ws(s,ne,_e,Ve,pt,Lt,P,N);return;case"select":At=ne=_e=_t=null;for(P in p)if(Ve=p[P],p.hasOwnProperty(P)&&Ve!=null)switch(P){case"value":break;case"multiple":At=Ve;default:v.hasOwnProperty(P)||La(s,c,P,null,v,Ve)}for(N in v)if(P=v[N],Ve=p[N],v.hasOwnProperty(N)&&(P!=null||Ve!=null))switch(N){case"value":_t=P;break;case"defaultValue":_e=P;break;case"multiple":ne=P;default:P!==Ve&&La(s,c,N,P,v,Ve)}c=_e,p=ne,v=At,_t!=null?Zi(s,!!p,_t,!1):!!v!=!!p&&(c!=null?Zi(s,!!p,c,!0):Zi(s,!!p,p?[]:"",!1));return;case"textarea":At=_t=null;for(_e in p)if(N=p[_e],p.hasOwnProperty(_e)&&N!=null&&!v.hasOwnProperty(_e))switch(_e){case"value":break;case"children":break;default:La(s,c,_e,null,v,N)}for(ne in v)if(N=v[ne],P=p[ne],v.hasOwnProperty(ne)&&(N!=null||P!=null))switch(ne){case"value":_t=N;break;case"defaultValue":At=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(n(91));break;default:N!==P&&La(s,c,ne,N,v,P)}Va(s,_t,At);return;case"option":for(var un in p)if(_t=p[un],p.hasOwnProperty(un)&&_t!=null&&!v.hasOwnProperty(un))switch(un){case"selected":s.selected=!1;break;default:La(s,c,un,null,v,_t)}for(Ve in v)if(_t=v[Ve],At=p[Ve],v.hasOwnProperty(Ve)&&_t!==At&&(_t!=null||At!=null))switch(Ve){case"selected":s.selected=_t&&typeof _t!="function"&&typeof _t!="symbol";break;default:La(s,c,Ve,_t,v,At)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kn in p)_t=p[kn],p.hasOwnProperty(kn)&&_t!=null&&!v.hasOwnProperty(kn)&&La(s,c,kn,null,v,_t);for(pt in v)if(_t=v[pt],At=p[pt],v.hasOwnProperty(pt)&&_t!==At&&(_t!=null||At!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(n(137,c));break;default:La(s,c,pt,_t,v,At)}return;default:if(ou(c)){for(var Da in p)_t=p[Da],p.hasOwnProperty(Da)&&_t!==void 0&&!v.hasOwnProperty(Da)&&t5(s,c,Da,void 0,v,_t);for(Lt in v)_t=v[Lt],At=p[Lt],!v.hasOwnProperty(Lt)||_t===At||_t===void 0&&At===void 0||t5(s,c,Lt,_t,v,At);return}}for(var nt in p)_t=p[nt],p.hasOwnProperty(nt)&&_t!=null&&!v.hasOwnProperty(nt)&&La(s,c,nt,null,v,_t);for(Ut in v)_t=v[Ut],At=p[Ut],!v.hasOwnProperty(Ut)||_t===At||_t==null&&At==null||La(s,c,Ut,_t,v,At)}function gA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $7(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var N=p[v],P=N.transferSize,ne=N.initiatorType,_e=N.duration;if(P&&_e&&gA(ne)){for(ne=0,_e=N.responseEnd,v+=1;v<p.length;v++){var Ve=p[v],pt=Ve.startTime;if(pt>_e)break;var Lt=Ve.transferSize,Ut=Ve.initiatorType;Lt&&gA(Ut)&&(Ve=Ve.responseEnd,ne+=Lt*(Ve<_e?1:(_e-pt)/(Ve-pt)))}if(--v,c+=8*(P+ne)/(N.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var n5=null,i5=null;function Zy(s){return s.nodeType===9?s:s.ownerDocument}function yA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xA(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function a5(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var r5=null;function K7(){var s=window.event;return s&&s.type==="popstate"?s===r5?!1:(r5=s,!0):(r5=null,!1)}var vA=typeof setTimeout=="function"?setTimeout:void 0,Z7=typeof clearTimeout=="function"?clearTimeout:void 0,bA=typeof Promise=="function"?Promise:void 0,J7=typeof queueMicrotask=="function"?queueMicrotask:typeof bA<"u"?function(s){return bA.resolve(null).then(s).catch(Q7)}:vA;function Q7(s){setTimeout(function(){throw s})}function cf(s){return s==="head"}function _A(s,c){var p=c,v=0;do{var N=p.nextSibling;if(s.removeChild(p),N&&N.nodeType===8)if(p=N.data,p==="/$"||p==="/&"){if(v===0){s.removeChild(N),Ym(c);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")Vg(s.ownerDocument.documentElement);else if(p==="head"){p=s.ownerDocument.head,Vg(p);for(var P=p.firstChild;P;){var ne=P.nextSibling,_e=P.nodeName;P[xs]||_e==="SCRIPT"||_e==="STYLE"||_e==="LINK"&&P.rel.toLowerCase()==="stylesheet"||p.removeChild(P),P=ne}}else p==="body"&&Vg(s.ownerDocument.body);p=N}while(p);Ym(c)}function wA(s,c){var p=s;s=0;do{var v=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(s===0)break;s--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||s++;p=v}while(p)}function s5(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":s5(p),co(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}s.removeChild(p)}}function eD(s,c,p,v){for(;s.nodeType===1;){var N=p;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[xs])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(P=s.getAttribute("rel"),P==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(P!==N.rel||s.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||s.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||s.getAttribute("title")!==(N.title==null?null:N.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(P=s.getAttribute("src"),(P!==(N.src==null?null:N.src)||s.getAttribute("type")!==(N.type==null?null:N.type)||s.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&P&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var P=N.name==null?null:""+N.name;if(N.type==="hidden"&&s.getAttribute("name")===P)return s}else return s;if(s=Yc(s.nextSibling),s===null)break}return null}function tD(s,c,p){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=Yc(s.nextSibling),s===null))return null;return s}function SA(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Yc(s.nextSibling),s===null))return null;return s}function o5(s){return s.data==="$?"||s.data==="$~"}function l5(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function nD(s,c){var p=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||p.readyState!=="loading")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function Yc(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var c5=null;function AA(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"||p==="/&"){if(c===0)return Yc(s.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}s=s.nextSibling}return null}function MA(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return s;c--}else p!=="/$"&&p!=="/&"||c++}s=s.previousSibling}return null}function TA(s,c,p){switch(c=Zy(p),s){case"html":if(s=c.documentElement,!s)throw Error(n(452));return s;case"head":if(s=c.head,!s)throw Error(n(453));return s;case"body":if(s=c.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Vg(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);co(s)}var $c=new Map,EA=new Set;function Jy(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ch=ae.d;ae.d={f:iD,r:aD,D:rD,C:sD,L:oD,m:lD,X:uD,S:cD,M:dD};function iD(){var s=ch.f(),c=Se();return s||c}function aD(s){var c=be(s);c!==null&&c.tag===5&&c.type==="form"?Lg(c):ch.r(s)}var Gm=typeof document>"u"?null:document;function CA(s,c,p){var v=Gm;if(v&&typeof c=="string"&&c){var N=pi(c);N='link[rel="'+s+'"][href="'+N+'"]',typeof p=="string"&&(N+='[crossorigin="'+p+'"]'),EA.has(N)||(EA.add(N),s={rel:s,crossOrigin:p,href:c},v.querySelector(N)===null&&(c=v.createElement("link"),ao(c,"link",s),ct(c),v.head.appendChild(c)))}}function rD(s){ch.D(s),CA("dns-prefetch",s,null)}function sD(s,c){ch.C(s,c),CA("preconnect",s,c)}function oD(s,c,p){ch.L(s,c,p);var v=Gm;if(v&&s&&c){var N='link[rel="preload"][as="'+pi(c)+'"]';c==="image"&&p&&p.imageSrcSet?(N+='[imagesrcset="'+pi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(N+='[imagesizes="'+pi(p.imageSizes)+'"]')):N+='[href="'+pi(s)+'"]';var P=N;switch(c){case"style":P=Wm(s);break;case"script":P=Xm(s)}$c.has(P)||(s=y({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:s,as:c},p),$c.set(P,s),v.querySelector(N)!==null||c==="style"&&v.querySelector(Hg(P))||c==="script"&&v.querySelector(qg(P))||(c=v.createElement("link"),ao(c,"link",s),ct(c),v.head.appendChild(c)))}}function lD(s,c){ch.m(s,c);var p=Gm;if(p&&s){var v=c&&typeof c.as=="string"?c.as:"script",N='link[rel="modulepreload"][as="'+pi(v)+'"][href="'+pi(s)+'"]',P=N;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Xm(s)}if(!$c.has(P)&&(s=y({rel:"modulepreload",href:s},c),$c.set(P,s),p.querySelector(N)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(qg(P)))return}v=p.createElement("link"),ao(v,"link",s),ct(v),p.head.appendChild(v)}}}function cD(s,c,p){ch.S(s,c,p);var v=Gm;if(v&&s){var N=ft(v).hoistableStyles,P=Wm(s);c=c||"default";var ne=N.get(P);if(!ne){var _e={loading:0,preload:null};if(ne=v.querySelector(Hg(P)))_e.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":c},p),(p=$c.get(P))&&u5(s,p);var Ve=ne=v.createElement("link");ct(Ve),ao(Ve,"link",s),Ve._p=new Promise(function(pt,Lt){Ve.onload=pt,Ve.onerror=Lt}),Ve.addEventListener("load",function(){_e.loading|=1}),Ve.addEventListener("error",function(){_e.loading|=2}),_e.loading|=4,Qy(ne,c,v)}ne={type:"stylesheet",instance:ne,count:1,state:_e},N.set(P,ne)}}}function uD(s,c){ch.X(s,c);var p=Gm;if(p&&s){var v=ft(p).hoistableScripts,N=Xm(s),P=v.get(N);P||(P=p.querySelector(qg(N)),P||(s=y({src:s,async:!0},c),(c=$c.get(N))&&d5(s,c),P=p.createElement("script"),ct(P),ao(P,"link",s),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},v.set(N,P))}}function dD(s,c){ch.M(s,c);var p=Gm;if(p&&s){var v=ft(p).hoistableScripts,N=Xm(s),P=v.get(N);P||(P=p.querySelector(qg(N)),P||(s=y({src:s,async:!0,type:"module"},c),(c=$c.get(N))&&d5(s,c),P=p.createElement("script"),ct(P),ao(P,"link",s),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},v.set(N,P))}}function NA(s,c,p,v){var N=(N=me.current)?Jy(N):null;if(!N)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Wm(p.href),p=ft(N).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){s=Wm(p.href);var P=ft(N).hoistableStyles,ne=P.get(s);if(ne||(N=N.ownerDocument||N,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(s,ne),(P=N.querySelector(Hg(s)))&&!P._p&&(ne.instance=P,ne.state.loading=5),$c.has(s)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},$c.set(s,p),P||hD(N,s,p,ne.state))),c&&v===null)throw Error(n(528,""));return ne}if(c&&v!==null)throw Error(n(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Xm(p),p=ft(N).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Wm(s){return'href="'+pi(s)+'"'}function Hg(s){return'link[rel="stylesheet"]['+s+"]"}function RA(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function hD(s,c,p,v){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=s.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),ao(c,"link",p),ct(c),s.head.appendChild(c))}function Xm(s){return'[src="'+pi(s)+'"]'}function qg(s){return"script[async]"+s}function LA(s,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=s.querySelector('style[data-href~="'+pi(p.href)+'"]');if(v)return c.instance=v,ct(v),v;var N=y({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),ct(v),ao(v,"style",N),Qy(v,p.precedence,s),c.instance=v;case"stylesheet":N=Wm(p.href);var P=s.querySelector(Hg(N));if(P)return c.state.loading|=4,c.instance=P,ct(P),P;v=RA(p),(N=$c.get(N))&&u5(v,N),P=(s.ownerDocument||s).createElement("link"),ct(P);var ne=P;return ne._p=new Promise(function(_e,Ve){ne.onload=_e,ne.onerror=Ve}),ao(P,"link",v),c.state.loading|=4,Qy(P,p.precedence,s),c.instance=P;case"script":return P=Xm(p.src),(N=s.querySelector(qg(P)))?(c.instance=N,ct(N),N):(v=p,(N=$c.get(P))&&(v=y({},p),d5(v,N)),s=s.ownerDocument||s,N=s.createElement("script"),ct(N),ao(N,"link",v),s.head.appendChild(N),c.instance=N);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Qy(v,p.precedence,s));return c.instance}function Qy(s,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=v.length?v[v.length-1]:null,P=N,ne=0;ne<v.length;ne++){var _e=v[ne];if(_e.dataset.precedence===c)P=_e;else if(P!==N)break}P?P.parentNode.insertBefore(s,P.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(s,c.firstChild))}function u5(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function d5(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var ex=null;function DA(s,c,p){if(ex===null){var v=new Map,N=ex=new Map;N.set(p,v)}else N=ex,v=N.get(p),v||(v=new Map,N.set(p,v));if(v.has(s))return v;for(v.set(s,null),p=p.getElementsByTagName(s),N=0;N<p.length;N++){var P=p[N];if(!(P[xs]||P[Dn]||s==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=P.getAttribute(c)||"";ne=s+ne;var _e=v.get(ne);_e?_e.push(P):v.set(ne,[P])}}return v}function OA(s,c,p){s=s.ownerDocument||s,s.head.insertBefore(p,c==="title"?s.querySelector("head > title"):null)}function fD(s,c,p){if(p===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function PA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function pD(s,c,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var N=Wm(v.href),P=c.querySelector(Hg(N));if(P){c=P._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=tx.bind(s),c.then(s,s)),p.state.loading|=4,p.instance=P,ct(P);return}P=c.ownerDocument||c,v=RA(v),(N=$c.get(N))&&u5(v,N),P=P.createElement("link"),ct(P);var ne=P;ne._p=new Promise(function(_e,Ve){ne.onload=_e,ne.onerror=Ve}),ao(P,"link",v),p.instance=P}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(s.count++,p=tx.bind(s),c.addEventListener("load",p),c.addEventListener("error",p))}}var h5=0;function mD(s,c){return s.stylesheets&&s.count===0&&ix(s,s.stylesheets),0<s.count||0<s.imgCount?function(p){var v=setTimeout(function(){if(s.stylesheets&&ix(s,s.stylesheets),s.unsuspend){var P=s.unsuspend;s.unsuspend=null,P()}},6e4+c);0<s.imgBytes&&h5===0&&(h5=62500*$7());var N=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ix(s,s.stylesheets),s.unsuspend)){var P=s.unsuspend;s.unsuspend=null,P()}},(s.imgBytes>h5?50:800)+c);return s.unsuspend=p,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(N)}}:null}function tx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ix(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var nx=null;function ix(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,nx=new Map,c.forEach(gD,s),nx=null,tx.call(s))}function gD(s,c){if(!(c.state.loading&4)){var p=nx.get(s);if(p)var v=p.get(null);else{p=new Map,nx.set(s,p);for(var N=s.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<N.length;P++){var ne=N[P];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(p.set(ne.dataset.precedence,ne),v=ne)}v&&p.set(null,v)}N=c.instance,ne=N.getAttribute("data-precedence"),P=p.get(ne)||v,P===v&&p.set(null,N),p.set(ne,N),this.count++,v=tx.bind(this),N.addEventListener("load",v),N.addEventListener("error",v),P?P.parentNode.insertBefore(N,P.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(N,s.firstChild)),c.state.loading|=4}}var Gg={$$typeof:C,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function yD(s,c,p,v,N,P,ne,_e,Ve){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=v,this.onUncaughtError=N,this.onCaughtError=P,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ve,this.incompleteTransitions=new Map}function kA(s,c,p,v,N,P,ne,_e,Ve,pt,Lt,Ut){return s=new yD(s,c,p,ne,Ve,pt,Lt,Ut,_e),c=1,P===!0&&(c|=24),P=Dr(3,null,null,c),s.current=P,P.stateNode=s,c=id(),c.refCount++,s.pooledCache=c,c.refCount++,P.memoizedState={element:v,isDehydrated:p,cache:c},Yt(P),s}function IA(s){return s?(s=mr,s):mr}function UA(s,c,p,v,N,P){N=IA(N),v.context===null?v.context=N:v.pendingContext=N,v=Nn(c),v.payload={element:p},P=P===void 0?null:P,P!==null&&(v.callback=P),p=Yn(s,v,c),p!==null&&(f(p,s,c),Ti(p,s,c))}function zA(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<c?p:c}}function f5(s,c){zA(s,c),(s=s.alternate)&&zA(s,c)}function BA(s){if(s.tag===13||s.tag===31){var c=Nl(s,67108864);c!==null&&f(c,s,67108864),f5(s,67108864)}}function jA(s){if(s.tag===13||s.tag===31){var c=io();c=ei(c);var p=Nl(s,c);p!==null&&f(p,s,c),f5(s,c)}}var ax=!0;function xD(s,c,p,v){var N=J.T;J.T=null;var P=ae.p;try{ae.p=2,p5(s,c,p,v)}finally{ae.p=P,J.T=N}}function vD(s,c,p,v){var N=J.T;J.T=null;var P=ae.p;try{ae.p=8,p5(s,c,p,v)}finally{ae.p=P,J.T=N}}function p5(s,c,p,v){if(ax){var N=m5(v);if(N===null)e5(s,c,v,rx,p),VA(s,v);else if(_D(N,s,c,p,v))v.stopPropagation();else if(VA(s,v),c&4&&-1<bD.indexOf(s)){for(;N!==null;){var P=be(N);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var ne=ot(P.pendingLanes);if(ne!==0){var _e=P;for(_e.pendingLanes|=2,_e.entangledLanes|=2;ne;){var Ve=1<<31-De(ne);_e.entanglements[1]|=Ve,ne&=~Ve}gd(P),(Ri&6)===0&&(ol=ee()+500,Bg(0))}}break;case 31:case 13:_e=Nl(P,2),_e!==null&&f(_e,P,2),Se(),f5(P,2)}if(P=m5(v),P===null&&e5(s,c,v,rx,p),P===N)break;N=P}N!==null&&v.stopPropagation()}else e5(s,c,v,null,p)}}function m5(s){return s=Nc(s),g5(s)}var rx=null;function g5(s){if(rx=null,s=da(s),s!==null){var c=r(s);if(c===null)s=null;else{var p=c.tag;if(p===13){if(s=o(c),s!==null)return s;s=null}else if(p===31){if(s=l(c),s!==null)return s;s=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return rx=s,null}function FA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case je:return 2;case Ge:return 8;case Be:case mt:return 32;case yt:return 268435456;default:return 32}default:return 32}}var y5=!1,uf=null,df=null,hf=null,Wg=new Map,Xg=new Map,ff=[],bD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VA(s,c){switch(s){case"focusin":case"focusout":uf=null;break;case"dragenter":case"dragleave":df=null;break;case"mouseover":case"mouseout":hf=null;break;case"pointerover":case"pointerout":Wg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xg.delete(c.pointerId)}}function Yg(s,c,p,v,N,P){return s===null||s.nativeEvent!==P?(s={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:P,targetContainers:[N]},c!==null&&(c=be(c),c!==null&&BA(c)),s):(s.eventSystemFlags|=v,c=s.targetContainers,N!==null&&c.indexOf(N)===-1&&c.push(N),s)}function _D(s,c,p,v,N){switch(c){case"focusin":return uf=Yg(uf,s,c,p,v,N),!0;case"dragenter":return df=Yg(df,s,c,p,v,N),!0;case"mouseover":return hf=Yg(hf,s,c,p,v,N),!0;case"pointerover":var P=N.pointerId;return Wg.set(P,Yg(Wg.get(P)||null,s,c,p,v,N)),!0;case"gotpointercapture":return P=N.pointerId,Xg.set(P,Yg(Xg.get(P)||null,s,c,p,v,N)),!0}return!1}function HA(s){var c=da(s.target);if(c!==null){var p=r(c);if(p!==null){if(c=p.tag,c===13){if(c=o(p),c!==null){s.blockedOn=c,dr(s.priority,function(){jA(p)});return}}else if(c===31){if(c=l(p),c!==null){s.blockedOn=c,dr(s.priority,function(){jA(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function sx(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var p=m5(s.nativeEvent);if(p===null){p=s.nativeEvent;var v=new p.constructor(p.type,p);Ho=v,p.target.dispatchEvent(v),Ho=null}else return c=be(p),c!==null&&BA(c),s.blockedOn=p,!1;c.shift()}return!0}function qA(s,c,p){sx(s)&&p.delete(c)}function wD(){y5=!1,uf!==null&&sx(uf)&&(uf=null),df!==null&&sx(df)&&(df=null),hf!==null&&sx(hf)&&(hf=null),Wg.forEach(qA),Xg.forEach(qA)}function ox(s,c){s.blockedOn===c&&(s.blockedOn=null,y5||(y5=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wD)))}var lx=null;function GA(s){lx!==s&&(lx=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lx===s&&(lx=null);for(var c=0;c<s.length;c+=3){var p=s[c],v=s[c+1],N=s[c+2];if(typeof v!="function"){if(g5(v||p)===null)continue;break}var P=be(p);P!==null&&(s.splice(c,3),c-=3,Rg(P,{pending:!0,data:N,method:p.method,action:v},v,N))}}))}function Ym(s){function c(Ve){return ox(Ve,s)}uf!==null&&ox(uf,s),df!==null&&ox(df,s),hf!==null&&ox(hf,s),Wg.forEach(c),Xg.forEach(c);for(var p=0;p<ff.length;p++){var v=ff[p];v.blockedOn===s&&(v.blockedOn=null)}for(;0<ff.length&&(p=ff[0],p.blockedOn===null);)HA(p),p.blockedOn===null&&ff.shift();if(p=(s.ownerDocument||s).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var N=p[v],P=p[v+1],ne=N[ji]||null;if(typeof P=="function")ne||GA(p);else if(ne){var _e=null;if(P&&P.hasAttribute("formAction")){if(N=P,ne=P[ji]||null)_e=ne.formAction;else if(g5(N)!==null)continue}else _e=ne.action;typeof _e=="function"?p[v+1]=_e:(p.splice(v,3),v-=3),GA(p)}}}function WA(){function s(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(ne){return N=ne})},focusReset:"manual",scroll:"manual"})}function c(){N!==null&&(N(),N=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,N=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),N!==null&&(N(),N=null)}}}function x5(s){this._internalRoot=s}cx.prototype.render=x5.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(n(409));var p=c.current,v=io();UA(p,v,s,c,null,null)},cx.prototype.unmount=x5.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;UA(s.current,2,null,s,null,null),Se(),c[Xa]=null}};function cx(s){this._internalRoot=s}cx.prototype.unstable_scheduleHydration=function(s){if(s){var c=Ki();s={blockedOn:null,target:s,priority:c};for(var p=0;p<ff.length&&c!==0&&c<ff[p].priority;p++);ff.splice(p,0,s),p===0&&HA(s)}};var XA=e.version;if(XA!=="19.2.0")throw Error(n(527,XA,"19.2.0"));ae.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=d(c),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var SD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ux=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ux.isDisabled&&ux.supportsFiber)try{Ke=ux.inject(SD),st=ux}catch{}}return Kg.createRoot=function(s,c){if(!a(s))throw Error(n(299));var p=!1,v="",N=Pg,P=Vy,ne=Lm;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(N=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(ne=c.onRecoverableError)),c=kA(s,1,!1,null,null,p,v,null,N,P,ne,WA),s[Xa]=c.current,Qb(s),new x5(c)},Kg.hydrateRoot=function(s,c,p){if(!a(s))throw Error(n(299));var v=!1,N="",P=Pg,ne=Vy,_e=Lm,Ve=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onUncaughtError!==void 0&&(P=p.onUncaughtError),p.onCaughtError!==void 0&&(ne=p.onCaughtError),p.onRecoverableError!==void 0&&(_e=p.onRecoverableError),p.formState!==void 0&&(Ve=p.formState)),c=kA(s,1,!0,c,p??null,v,N,Ve,P,ne,_e,WA),c.context=IA(null),p=c.current,v=io(),v=ei(v),N=Nn(v),N.callback=null,Yn(p,N,v),p=v,c.current.lanes=p,$t(c,p),gd(c),s[Xa]=c.current,Qb(s),new cx(c)},Kg.version="19.2.0",Kg}var i4;function PD(){if(i4)return _5.exports;i4=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_5.exports=OD(),_5.exports}var kD=PD();const ID=lg(kD),UD="modulepreload",zD=function(i){return"/"+i},a4={},Qn=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(t.map(d=>{if(d=zD(d),d in a4)return;a4[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":UD,m||(x.as="script"),x.crossOrigin="",x.href=d,u&&x.setAttribute("nonce",u),document.head.appendChild(x),m)return new Promise((g,_)=>{x.addEventListener("load",g),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jD=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),r4=i=>{const e=jD(i);return e.charAt(0).toUpperCase()+e.slice(1)},a6=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),FD=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=Te.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:r,iconNode:o,...l},u)=>Te.createElement("svg",{ref:u,...VD,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:a6("lucide",a),...!r&&!FD(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,m])=>Te.createElement(d,m)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(i,e)=>{const t=Te.forwardRef(({className:n,...a},r)=>Te.createElement(HD,{ref:r,iconNode:e,className:a6(`lucide-${BD(r4(i))}`,`lucide-${i}`,n),...a}));return t.displayName=r4(i),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],j0=Bt("activity",qD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]],WD=Bt("alarm-clock",GD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],YD=Bt("arrow-down-up",XD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],KD=Bt("arrow-left",$D);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zg=Bt("arrow-right",ZD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],r6=Bt("award",JD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],s6=Bt("bell",QD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],o6=Bt("bot",eO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Y2=Bt("box",tO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],If=Bt("brain-circuit",nO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Bv=Bt("brain",iO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ww=Bt("briefcase",aO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],l6=Bt("building-2",rO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],oO=Bt("calculator",sO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ug=Bt("calendar",lO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],c6=Bt("car",cO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M10 5V3",key:"1y54qe"}],["path",{d:"M14 5V3",key:"m6isi"}],["path",{d:"M15 21v-3a3 3 0 0 0-6 0v3",key:"lbp5hj"}],["path",{d:"M18 3v8",key:"2ollhf"}],["path",{d:"M18 5H6",key:"98imr9"}],["path",{d:"M22 11H2",key:"1lmjae"}],["path",{d:"M22 9v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9",key:"1rly83"}],["path",{d:"M6 3v8",key:"csox7g"}]],dO=Bt("castle",uO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],fO=Bt("chart-column",hO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],u6=Bt("chart-line",pO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],d6=Bt("chart-no-axes-column-increasing",mO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Uf=Bt("chart-no-axes-column",gO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],$2=Bt("chart-pie",yO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],x1=Bt("check",xO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dl=Bt("chevron-down",vO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],h6=Bt("chevron-left",bO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ko=Bt("chevron-right",_O);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],SO=Bt("chevrons-down",wO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],MO=Bt("chevrons-left",AO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],s4=Bt("chevrons-right",TO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],F0=Bt("circle-alert",EO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dg=Bt("circle-check-big",CO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sv=Bt("circle-check",NO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LO=Bt("circle-question-mark",RO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],OO=Bt("circle-x",DO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],K2=Bt("clipboard-check",PO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],j1=Bt("clock",kO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M17.28 9.05a5.5 5.5 0 1 0-10.56 0A5.5 5.5 0 1 0 12 17.66a5.5 5.5 0 1 0 5.28-8.6Z",key:"27yuqz"}],["path",{d:"M12 17.66L12 22",key:"ogfahf"}]],UO=Bt("club",IO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],BO=Bt("code",zO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],FO=Bt("command",jO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],HO=Bt("cpu",VO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],V0=Bt("credit-card",qO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Th=Bt("database",GO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],H0=Bt("dollar-sign",WO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],f6=Bt("download",XO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],$O=Bt("ellipsis",YO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ZO=Bt("eye-off",KO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QO=Bt("eye",JO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],tP=Bt("file-plus",eP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Df=Bt("file-text",nP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],aP=Bt("folder",iP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],p6=Bt("funnel",rP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],oP=Bt("gamepad-2",sP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],m6=Bt("gauge",lP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],g6=Bt("git-merge",cP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],q0=Bt("globe",uP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],hP=Bt("grip",dP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],y6=Bt("hard-hat",fP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],mP=Bt("hash",pP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],x6=Bt("house",gP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],v6=Bt("inbox",yP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vP=Bt("info",xP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Sw=Bt("layers",bP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],jv=Bt("layout-dashboard",_P);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],SP=Bt("life-buoy",wP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],b6=Bt("lightbulb",AP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],_6=Bt("list-todo",MP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],EP=Bt("loader-circle",TP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Aw=Bt("lock",CP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],w6=Bt("log-out",NP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],LP=Bt("mail",RP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],OP=Bt("map-pin",DP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Mw=Bt("message-square",PP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],o4=Bt("monitor",kP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],UP=Bt("notebook-pen",IP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M20.341 6.484A10 10 0 0 1 10.266 21.85",key:"1enhxb"}],["path",{d:"M3.659 17.516A10 10 0 0 1 13.74 2.152",key:"1crzgf"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],BP=Bt("orbit",zP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Z2=Bt("package",jP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],VP=Bt("palette",FP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],zf=Bt("panels-top-left",HP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],GP=Bt("pen-tool",qP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],XP=Bt("pen",WP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Of=Bt("plus",YP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],S6=Bt("refresh-cw",$P);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],J2=Bt("route",KP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sm=Bt("search",ZP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fv=Bt("settings",JP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ek=Bt("share-2",QP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],A6=Bt("shield-check",tk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fy=Bt("shield",nk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],M6=Bt("ship",ik);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],rk=Bt("shopping-bag",ak);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],om=Bt("shopping-cart",sk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],lk=Bt("sliders-horizontal",ok);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Vv=Bt("sparkles",ck);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],dk=Bt("square-pen",uk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],l4=Bt("store",hk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Gp=Bt("table",fk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],G0=Bt("target",pk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"M10.585 15H10",key:"4nqulp"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h2",key:"1bbqgq"}]],T6=Bt("thermometer-snowflake",mk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],yk=Bt("timer",gk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vk=Bt("trash-2",xk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],W0=Bt("trending-up",bk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],E6=Bt("triangle-alert",_k);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Eh=Bt("truck",wk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],Ak=Bt("user-round",Sk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tk=Bt("user",Mk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mc=Bt("users",Ek);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Nk=Bt("video",Ck);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],C6=Bt("wallet",Rk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],N6=Bt("warehouse",Lk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Q2=Bt("wrench",Dk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ph=Bt("x",Ok);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bf=Bt("zap",Pk),R6=Te.createContext(void 0),hg=()=>{const i=Te.useContext(R6);return i||{showToast:e=>{}}},kk=({id:i,message:e,type:t,onClose:n})=>{const a={info:"bg-gray-900 text-white border-gray-800",success:"bg-emerald-600 text-white border-emerald-700",error:"bg-red-600 text-white border-red-700"},r={info:A.jsx(vP,{size:18}),success:A.jsx(dg,{size:18}),error:A.jsx(F0,{size:18})};return A.jsxs("div",{className:`${a[t]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border`,children:[A.jsx("div",{className:"flex-shrink-0",children:r[t]}),A.jsx("span",{className:"text-sm font-medium flex-1",children:e}),A.jsx("button",{onClick:()=>n(i),className:"opacity-70 hover:opacity-100 transition-opacity",children:A.jsx(Ph,{size:16})})]})},Ik=({children:i})=>{const[e,t]=Te.useState([]),n=Te.useCallback((r,o="info")=>{const l=Date.now();t(u=>[...u,{id:l,message:r,type:o}]),setTimeout(()=>{t(u=>u.filter(d=>d.id!==l))},3e3)},[]),a=r=>{t(o=>o.filter(l=>l.id!==r))};return A.jsxs(R6.Provider,{value:{showToast:n},children:[i,A.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto",children:e.map(r=>A.jsx(kk,{...r,onClose:a},r.id))})]})},py=()=>{var i;return typeof window<"u"&&((i=window.appConfig)==null?void 0:i.apiUrl)||"http://localhost:3001"},L6=()=>"Nabd Chain System",hx=py(),fx={getSpaces:async i=>{const t=await(await fetch(`${hx}/spaces`)).json();return i?t.filter(n=>n.type==="department"||n.type==="shared"||n.ownerId===i||!n.ownerId):t},createSpace:async(i,e,t,n="personal")=>{const a={id:`SPACE-${Date.now()}`,name:i,color:e||"#"+Math.floor(Math.random()*16777215).toString(16),ownerId:t,type:n};return(await fetch(`${hx}/spaces`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json()},updateSpace:async(i,e)=>{await fetch(`${hx}/spaces/${i}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},deleteSpace:async i=>{await fetch(`${hx}/spaces/${i}`,{method:"DELETE"})}},Jg=py(),Yp={getTasks:async i=>{const[e,t]=await Promise.all([fetch(`${Jg}/tasks`),fetch(`${Jg}/spaces`)]),n=await e.json(),a=await t.json();return i?n.filter(r=>{if(!r.spaceId||r.spaceId==="default")return!0;const o=a.find(l=>l.id===r.spaceId);return!o||o.type==="department"||o.type==="shared"?!0:o.type==="personal"?o.ownerId===i:!0}):n},updateTask:async(i,e)=>(await fetch(`${Jg}/tasks/${i}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),createTask:async i=>{const e={...i,id:`TASK-${Math.floor(1e3+Math.random()*9e3)}`};return(await fetch(`${Jg}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()},deleteTask:async i=>{await fetch(`${Jg}/tasks/${i}`,{method:"DELETE"})},deleteTasksBySpaceId:async i=>{const t=(await Yp.getTasks()).filter(n=>n.spaceId===i);await Promise.all(t.map(n=>Yp.deleteTask(n.id)))}};function px(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var M5={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var c4;function Uk(){return c4||(c4=1,(function(i,e){(function(t){i.exports=t()})(function(){return(function t(n,a,r){function o(d,m){if(!a[d]){if(!n[d]){var y=typeof px=="function"&&px;if(!m&&y)return y(d,!0);if(l)return l(d,!0);var x=new Error("Cannot find module '"+d+"'");throw x.code="MODULE_NOT_FOUND",x}var g=a[d]={exports:{}};n[d][0].call(g.exports,function(_){var S=n[d][1][_];return o(S||_)},g,g.exports,t,n,a,r)}return a[d].exports}for(var l=typeof px=="function"&&px,u=0;u<r.length;u++)o(r[u]);return o})({1:[function(t,n,a){var r=t("./utils"),o=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(u){for(var d,m,y,x,g,_,S,M=[],b=0,E=u.length,C=E,D=r.getTypeOf(u)!=="string";b<u.length;)C=E-b,y=D?(d=u[b++],m=b<E?u[b++]:0,b<E?u[b++]:0):(d=u.charCodeAt(b++),m=b<E?u.charCodeAt(b++):0,b<E?u.charCodeAt(b++):0),x=d>>2,g=(3&d)<<4|m>>4,_=1<C?(15&m)<<2|y>>6:64,S=2<C?63&y:64,M.push(l.charAt(x)+l.charAt(g)+l.charAt(_)+l.charAt(S));return M.join("")},a.decode=function(u){var d,m,y,x,g,_,S=0,M=0,b="data:";if(u.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var E,C=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&C--,u.charAt(u.length-2)===l.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=o.uint8array?new Uint8Array(0|C):new Array(0|C);S<u.length;)d=l.indexOf(u.charAt(S++))<<2|(x=l.indexOf(u.charAt(S++)))>>4,m=(15&x)<<4|(g=l.indexOf(u.charAt(S++)))>>2,y=(3&g)<<6|(_=l.indexOf(u.charAt(S++))),E[M++]=d,g!==64&&(E[M++]=m),_!==64&&(E[M++]=y);return E}},{"./support":30,"./utils":32}],2:[function(t,n,a){var r=t("./external"),o=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function d(m,y,x,g,_){this.compressedSize=m,this.uncompressedSize=y,this.crc32=x,this.compression=g,this.compressedContent=_}d.prototype={getContentWorker:function(){var m=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),y=this;return m.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(m,y,x){return m.pipe(new l).pipe(new u("uncompressedSize")).pipe(y.compressWorker(x)).pipe(new u("compressedSize")).withStreamInfo("compression",y)},n.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,a){var r=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,a){var r=t("./utils"),o=(function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var m=0;m<8;m++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u})();n.exports=function(l,u){return l!==void 0&&l.length?r.getTypeOf(l)!=="string"?(function(d,m,y,x){var g=o,_=x+y;d^=-1;for(var S=x;S<_;S++)d=d>>>8^g[255&(d^m[S])];return-1^d})(0|u,l,l.length,0):(function(d,m,y,x){var g=o,_=x+y;d^=-1;for(var S=x;S<_;S++)d=d>>>8^g[255&(d^m.charCodeAt(S))];return-1^d})(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,n,a){var r=null;r=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:r}},{lie:37}],7:[function(t,n,a){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),d=r?"uint8array":"array";function m(y,x){u.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=x,this.meta={}}a.magic="\b\0",l.inherits(m,u),m.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,y.data),!1)},m.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(x){y.push({data:x,meta:y.meta})}},a.compressWorker=function(y){return new m("Deflate",y)},a.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,a){function r(g,_){var S,M="";for(S=0;S<_;S++)M+=String.fromCharCode(255&g),g>>>=8;return M}function o(g,_,S,M,b,E){var C,D,k=g.file,H=g.compression,G=E!==d.utf8encode,X=l.transformTo("string",E(k.name)),O=l.transformTo("string",d.utf8encode(k.name)),z=k.comment,q=l.transformTo("string",E(z)),I=l.transformTo("string",d.utf8encode(z)),$=O.length!==k.name.length,U=I.length!==z.length,oe="",J="",ae="",te=k.dir,le=k.date,Me={crc32:0,compressedSize:0,uncompressedSize:0};_&&!S||(Me.crc32=g.crc32,Me.compressedSize=g.compressedSize,Me.uncompressedSize=g.uncompressedSize);var Z=0;_&&(Z|=8),G||!$&&!U||(Z|=2048);var V=0,re=0;te&&(V|=16),b==="UNIX"?(re=798,V|=(function(pe,me){var Ee=pe;return pe||(Ee=me?16893:33204),(65535&Ee)<<16})(k.unixPermissions,te)):(re=20,V|=(function(pe){return 63&(pe||0)})(k.dosPermissions)),C=le.getUTCHours(),C<<=6,C|=le.getUTCMinutes(),C<<=5,C|=le.getUTCSeconds()/2,D=le.getUTCFullYear()-1980,D<<=4,D|=le.getUTCMonth()+1,D<<=5,D|=le.getUTCDate(),$&&(J=r(1,1)+r(m(X),4)+O,oe+="up"+r(J.length,2)+J),U&&(ae=r(1,1)+r(m(q),4)+I,oe+="uc"+r(ae.length,2)+ae);var ce="";return ce+=`
\0`,ce+=r(Z,2),ce+=H.magic,ce+=r(C,2),ce+=r(D,2),ce+=r(Me.crc32,4),ce+=r(Me.compressedSize,4),ce+=r(Me.uncompressedSize,4),ce+=r(X.length,2),ce+=r(oe.length,2),{fileRecord:y.LOCAL_FILE_HEADER+ce+X+oe,dirRecord:y.CENTRAL_FILE_HEADER+r(re,2)+ce+r(q.length,2)+"\0\0\0\0"+r(V,4)+r(M,4)+X+oe+q}}var l=t("../utils"),u=t("../stream/GenericWorker"),d=t("../utf8"),m=t("../crc32"),y=t("../signature");function x(g,_,S,M){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=S,this.encodeFileName=M,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(x,u),x.prototype.push=function(g){var _=g.meta.percent||0,S=this.entriesCount,M=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,u.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:S?(_+100*(S-M-1))/S:100}}))},x.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var _=this.streamFiles&&!g.file.dir;if(_){var S=o(g,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(g){this.accumulate=!1;var _=this.streamFiles&&!g.file.dir,S=o(g,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),_)this.push({data:(function(M){return y.DATA_DESCRIPTOR+r(M.crc32,4)+r(M.compressedSize,4)+r(M.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var g=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var S=this.bytesWritten-g,M=(function(b,E,C,D,k){var H=l.transformTo("string",k(D));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(b,2)+r(b,2)+r(E,4)+r(C,4)+r(H.length,2)+H})(this.dirRecords.length,S,g,this.zipComment,this.encodeFileName);this.push({data:M,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(g){this._sources.push(g);var _=this;return g.on("data",function(S){_.processChunk(S)}),g.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),g.on("error",function(S){_.error(S)}),this},x.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(g){var _=this._sources;if(!u.prototype.error.call(this,g))return!1;for(var S=0;S<_.length;S++)try{_[S].error(g)}catch{}return!0},x.prototype.lock=function(){u.prototype.lock.call(this);for(var g=this._sources,_=0;_<g.length;_++)g[_].lock()},n.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,a){var r=t("../compressions"),o=t("./ZipFileWorker");a.generateWorker=function(l,u,d){var m=new o(u.streamFiles,d,u.platform,u.encodeFileName),y=0;try{l.forEach(function(x,g){y++;var _=(function(E,C){var D=E||C,k=r[D];if(!k)throw new Error(D+" is not a valid compression method !");return k})(g.options.compression,u.compression),S=g.options.compressionOptions||u.compressionOptions||{},M=g.dir,b=g.date;g._compressWorker(_,S).withStreamInfo("file",{name:x,dir:M,date:b,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(m)}),m.entriesCount=y}catch(x){m.error(x)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,a){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new r;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(o,l){return new r().loadAsync(o,l)},r.external=t("./external"),n.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,a){var r=t("./utils"),o=t("./external"),l=t("./utf8"),u=t("./zipEntries"),d=t("./stream/Crc32Probe"),m=t("./nodejsUtils");function y(x){return new o.Promise(function(g,_){var S=x.decompressed.getContentWorker().pipe(new d);S.on("error",function(M){_(M)}).on("end",function(){S.streamInfo.crc32!==x.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}n.exports=function(x,g){var _=this;return g=r.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),m.isNode&&m.isStream(x)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",x,!0,g.optimizedBinaryString,g.base64).then(function(S){var M=new u(g);return M.load(S),M}).then(function(S){var M=[o.Promise.resolve(S)],b=S.files;if(g.checkCRC32)for(var E=0;E<b.length;E++)M.push(y(b[E]));return o.Promise.all(M)}).then(function(S){for(var M=S.shift(),b=M.files,E=0;E<b.length;E++){var C=b[E],D=C.fileNameStr,k=r.resolve(C.fileNameStr);_.file(k,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:g.createFolders}),C.dir||(_.file(k).unsafeOriginalName=D)}return M.zipComment.length&&(_.comment=M.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,a){var r=t("../utils"),o=t("../stream/GenericWorker");function l(u,d){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(d)}r.inherits(l,o),l.prototype._bindStream=function(u){var d=this;(this._stream=u).pause(),u.on("data",function(m){d.push({data:m,meta:{percent:0}})}).on("error",function(m){d.isPaused?this.generatedError=m:d.error(m)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,a){var r=t("readable-stream").Readable;function o(l,u,d){r.call(this,u),this._helper=l;var m=this;l.on("data",function(y,x){m.push(y)||m._helper.pause(),d&&d(x)}).on("error",function(y){m.emit("error",y)}).on("end",function(){m.push(null)})}t("../utils").inherits(o,r),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,o);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,o)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var o=new Buffer(r);return o.fill(0),o},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(t,n,a){function r(k,H,G){var X,O=l.getTypeOf(H),z=l.extend(G||{},m);z.date=z.date||new Date,z.compression!==null&&(z.compression=z.compression.toUpperCase()),typeof z.unixPermissions=="string"&&(z.unixPermissions=parseInt(z.unixPermissions,8)),z.unixPermissions&&16384&z.unixPermissions&&(z.dir=!0),z.dosPermissions&&16&z.dosPermissions&&(z.dir=!0),z.dir&&(k=b(k)),z.createFolders&&(X=M(k))&&E.call(this,X,!0);var q=O==="string"&&z.binary===!1&&z.base64===!1;G&&G.binary!==void 0||(z.binary=!q),(H instanceof y&&H.uncompressedSize===0||z.dir||!H||H.length===0)&&(z.base64=!1,z.binary=!0,H="",z.compression="STORE",O="string");var I=null;I=H instanceof y||H instanceof u?H:_.isNode&&_.isStream(H)?new S(k,H):l.prepareContent(k,H,z.binary,z.optimizedBinaryString,z.base64);var $=new x(k,I,z);this.files[k]=$}var o=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),m=t("./defaults"),y=t("./compressedObject"),x=t("./zipObject"),g=t("./generate"),_=t("./nodejsUtils"),S=t("./nodejs/NodejsStreamInputAdapter"),M=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var H=k.lastIndexOf("/");return 0<H?k.substring(0,H):""},b=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},E=function(k,H){return H=H!==void 0?H:m.createFolders,k=b(k),this.files[k]||r.call(this,k,null,{dir:!0,createFolders:H}),this.files[k]};function C(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var H,G,X;for(H in this.files)X=this.files[H],(G=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&k(G,X)},filter:function(k){var H=[];return this.forEach(function(G,X){k(G,X)&&H.push(X)}),H},file:function(k,H,G){if(arguments.length!==1)return k=this.root+k,r.call(this,k,H,G),this;if(C(k)){var X=k;return this.filter(function(z,q){return!q.dir&&X.test(z)})}var O=this.files[this.root+k];return O&&!O.dir?O:null},folder:function(k){if(!k)return this;if(C(k))return this.filter(function(O,z){return z.dir&&k.test(O)});var H=this.root+k,G=E.call(this,H),X=this.clone();return X.root=G.name,X},remove:function(k){k=this.root+k;var H=this.files[k];if(H||(k.slice(-1)!=="/"&&(k+="/"),H=this.files[k]),H&&!H.dir)delete this.files[k];else for(var G=this.filter(function(O,z){return z.name.slice(0,k.length)===k}),X=0;X<G.length;X++)delete this.files[G[X].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var H,G={};try{if((G=l.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=G.type.toLowerCase(),G.compression=G.compression.toUpperCase(),G.type==="binarystring"&&(G.type="string"),!G.type)throw new Error("No output type specified.");l.checkSupport(G.type),G.platform!=="darwin"&&G.platform!=="freebsd"&&G.platform!=="linux"&&G.platform!=="sunos"||(G.platform="UNIX"),G.platform==="win32"&&(G.platform="DOS");var X=G.comment||this.comment||"";H=g.generateWorker(this,G,X)}catch(O){(H=new u("error")).error(O)}return new d(H,G.type||"string",G.mimeType)},generateAsync:function(k,H){return this.generateInternalStream(k).accumulate(H)},generateNodeStream:function(k,H){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(H)}};n.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,a){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,a){var r=t("./DataReader");function o(l){r.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(o,r),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),d=l.charCodeAt(1),m=l.charCodeAt(2),y=l.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===u&&this.data[x+1]===d&&this.data[x+2]===m&&this.data[x+3]===y)return x-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),d=l.charCodeAt(1),m=l.charCodeAt(2),y=l.charCodeAt(3),x=this.readData(4);return u===x[0]&&d===x[1]&&m===x[2]&&y===x[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,a){var r=t("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,d=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)d=(d<<8)+this.byteAt(u);return this.index+=l,d},readString:function(l){return r.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,a){var r=t("./Uint8ArrayReader");function o(l){r.call(this,l)}t("../utils").inherits(o,r),o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,a){var r=t("./DataReader");function o(l){r.call(this,l)}t("../utils").inherits(o,r),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,a){var r=t("./ArrayReader");function o(l){r.call(this,l)}t("../utils").inherits(o,r),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,a){var r=t("../utils"),o=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),d=t("./NodeBufferReader"),m=t("./Uint8ArrayReader");n.exports=function(y){var x=r.getTypeOf(y);return r.checkSupport(x),x!=="string"||o.uint8array?x==="nodebuffer"?new d(y):o.uint8array?new m(r.transformTo("uint8array",y)):new l(r.transformTo("array",y)):new u(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,a){var r=t("./GenericWorker"),o=t("../utils");function l(u){r.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(l,r),l.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,a){var r=t("./GenericWorker"),o=t("../crc32");function l(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,r),l.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,a){var r=t("../utils"),o=t("./GenericWorker");function l(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}r.inherits(l,o),l.prototype.processChunk=function(u){if(u){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,a){var r=t("../utils"),o=t("./GenericWorker");function l(u){o.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(m){d.dataIsReady=!0,d.data=m,d.max=m&&m.length||0,d.type=r.getTypeOf(m),d.isPaused||d._tickAndRepeat()},function(m){d.error(m)})}r.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,d);break;case"uint8array":u=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":u=this.data.slice(this.index,d)}return this.index=d,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,a){function r(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(u){l.processChunk(u)}),o.on("end",function(){l.end()}),o.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=r},{}],29:[function(t,n,a){var r=t("../utils"),o=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),d=t("../support"),m=t("../external"),y=null;if(d.nodestream)try{y=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(_,S){return new m.Promise(function(M,b){var E=[],C=_._internalType,D=_._outputType,k=_._mimeType;_.on("data",function(H,G){E.push(H),S&&S(G)}).on("error",function(H){E=[],b(H)}).on("end",function(){try{var H=(function(G,X,O){switch(G){case"blob":return r.newBlob(r.transformTo("arraybuffer",X),O);case"base64":return u.encode(X);default:return r.transformTo(G,X)}})(D,(function(G,X){var O,z=0,q=null,I=0;for(O=0;O<X.length;O++)I+=X[O].length;switch(G){case"string":return X.join("");case"array":return Array.prototype.concat.apply([],X);case"uint8array":for(q=new Uint8Array(I),O=0;O<X.length;O++)q.set(X[O],z),z+=X[O].length;return q;case"nodebuffer":return Buffer.concat(X);default:throw new Error("concat : unsupported type '"+G+"'")}})(C,E),k);M(H)}catch(G){b(G)}E=[]}).resume()})}function g(_,S,M){var b=S;switch(S){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=S,this._mimeType=M,r.checkSupport(b),this._worker=_.pipe(new o(b)),_.lock()}catch(E){this._worker=new l("error"),this._worker.error(E)}}g.prototype={accumulate:function(_){return x(this,_)},on:function(_,S){var M=this;return _==="data"?this._worker.on(_,function(b){S.call(M,b.data,b.meta)}):this._worker.on(_,function(){r.delay(S,arguments,M)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},_)}},n.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var r=new ArrayBuffer(0);try{a.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(r),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,a){for(var r=t("./utils"),o=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),d=new Array(256),m=0;m<256;m++)d[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;d[254]=d[254]=1;function y(){u.call(this,"utf-8 decode"),this.leftOver=null}function x(){u.call(this,"utf-8 encode")}a.utf8encode=function(g){return o.nodebuffer?l.newBufferFrom(g,"utf-8"):(function(_){var S,M,b,E,C,D=_.length,k=0;for(E=0;E<D;E++)(64512&(M=_.charCodeAt(E)))==55296&&E+1<D&&(64512&(b=_.charCodeAt(E+1)))==56320&&(M=65536+(M-55296<<10)+(b-56320),E++),k+=M<128?1:M<2048?2:M<65536?3:4;for(S=o.uint8array?new Uint8Array(k):new Array(k),E=C=0;C<k;E++)(64512&(M=_.charCodeAt(E)))==55296&&E+1<D&&(64512&(b=_.charCodeAt(E+1)))==56320&&(M=65536+(M-55296<<10)+(b-56320),E++),M<128?S[C++]=M:(M<2048?S[C++]=192|M>>>6:(M<65536?S[C++]=224|M>>>12:(S[C++]=240|M>>>18,S[C++]=128|M>>>12&63),S[C++]=128|M>>>6&63),S[C++]=128|63&M);return S})(g)},a.utf8decode=function(g){return o.nodebuffer?r.transformTo("nodebuffer",g).toString("utf-8"):(function(_){var S,M,b,E,C=_.length,D=new Array(2*C);for(S=M=0;S<C;)if((b=_[S++])<128)D[M++]=b;else if(4<(E=d[b]))D[M++]=65533,S+=E-1;else{for(b&=E===2?31:E===3?15:7;1<E&&S<C;)b=b<<6|63&_[S++],E--;1<E?D[M++]=65533:b<65536?D[M++]=b:(b-=65536,D[M++]=55296|b>>10&1023,D[M++]=56320|1023&b)}return D.length!==M&&(D.subarray?D=D.subarray(0,M):D.length=M),r.applyFromCharCode(D)})(g=r.transformTo(o.uint8array?"uint8array":"array",g))},r.inherits(y,u),y.prototype.processChunk=function(g){var _=r.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var S=_;(_=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),_.set(S,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var M=(function(E,C){var D;for((C=C||E.length)>E.length&&(C=E.length),D=C-1;0<=D&&(192&E[D])==128;)D--;return D<0||D===0?C:D+d[E[D]]>C?D:C})(_),b=_;M!==_.length&&(o.uint8array?(b=_.subarray(0,M),this.leftOver=_.subarray(M,_.length)):(b=_.slice(0,M),this.leftOver=_.slice(M,_.length))),this.push({data:a.utf8decode(b),meta:g.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=y,r.inherits(x,u),x.prototype.processChunk=function(g){this.push({data:a.utf8encode(g.data),meta:g.meta})},a.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,a){var r=t("./support"),o=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function d(S){return S}function m(S,M){for(var b=0;b<S.length;++b)M[b]=255&S.charCodeAt(b);return M}t("setimmediate"),a.newBlob=function(S,M){a.checkSupport("blob");try{return new Blob([S],{type:M})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(S),b.getBlob(M)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(S,M,b){var E=[],C=0,D=S.length;if(D<=b)return String.fromCharCode.apply(null,S);for(;C<D;)M==="array"||M==="nodebuffer"?E.push(String.fromCharCode.apply(null,S.slice(C,Math.min(C+b,D)))):E.push(String.fromCharCode.apply(null,S.subarray(C,Math.min(C+b,D)))),C+=b;return E.join("")},stringifyByChar:function(S){for(var M="",b=0;b<S.length;b++)M+=String.fromCharCode(S[b]);return M},applyCanBeUsed:{uint8array:(function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function x(S){var M=65536,b=a.getTypeOf(S),E=!0;if(b==="uint8array"?E=y.applyCanBeUsed.uint8array:b==="nodebuffer"&&(E=y.applyCanBeUsed.nodebuffer),E)for(;1<M;)try{return y.stringifyByChunk(S,b,M)}catch{M=Math.floor(M/2)}return y.stringifyByChar(S)}function g(S,M){for(var b=0;b<S.length;b++)M[b]=S[b];return M}a.applyFromCharCode=x;var _={};_.string={string:d,array:function(S){return m(S,new Array(S.length))},arraybuffer:function(S){return _.string.uint8array(S).buffer},uint8array:function(S){return m(S,new Uint8Array(S.length))},nodebuffer:function(S){return m(S,l.allocBuffer(S.length))}},_.array={string:x,array:d,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return l.newBufferFrom(S)}},_.arraybuffer={string:function(S){return x(new Uint8Array(S))},array:function(S){return g(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:d,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return l.newBufferFrom(new Uint8Array(S))}},_.uint8array={string:x,array:function(S){return g(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:d,nodebuffer:function(S){return l.newBufferFrom(S)}},_.nodebuffer={string:x,array:function(S){return g(S,new Array(S.length))},arraybuffer:function(S){return _.nodebuffer.uint8array(S).buffer},uint8array:function(S){return g(S,new Uint8Array(S.length))},nodebuffer:d},a.transformTo=function(S,M){if(M=M||"",!S)return M;a.checkSupport(S);var b=a.getTypeOf(M);return _[b][S](M)},a.resolve=function(S){for(var M=S.split("/"),b=[],E=0;E<M.length;E++){var C=M[E];C==="."||C===""&&E!==0&&E!==M.length-1||(C===".."?b.pop():b.push(C))}return b.join("/")},a.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":r.nodebuffer&&l.isBuffer(S)?"nodebuffer":r.uint8array&&S instanceof Uint8Array?"uint8array":r.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(S){if(!r[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(S){var M,b,E="";for(b=0;b<(S||"").length;b++)E+="\\x"+((M=S.charCodeAt(b))<16?"0":"")+M.toString(16).toUpperCase();return E},a.delay=function(S,M,b){setImmediate(function(){S.apply(b||null,M||[])})},a.inherits=function(S,M){function b(){}b.prototype=M.prototype,S.prototype=new b},a.extend=function(){var S,M,b={};for(S=0;S<arguments.length;S++)for(M in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],M)&&b[M]===void 0&&(b[M]=arguments[S][M]);return b},a.prepareContent=function(S,M,b,E,C){return u.Promise.resolve(M).then(function(D){return r.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new u.Promise(function(k,H){var G=new FileReader;G.onload=function(X){k(X.target.result)},G.onerror=function(X){H(X.target.error)},G.readAsArrayBuffer(D)}):D}).then(function(D){var k=a.getTypeOf(D);return k?(k==="arraybuffer"?D=a.transformTo("uint8array",D):k==="string"&&(C?D=o.decode(D):b&&E!==!0&&(D=(function(H){return m(H,r.uint8array?new Uint8Array(H.length):new Array(H.length))})(D))),D):u.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,a){var r=t("./reader/readerFor"),o=t("./utils"),l=t("./signature"),u=t("./zipEntry"),d=t("./support");function m(y){this.files=[],this.loadOptions=y}m.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(x)+", expected "+o.pretty(y)+")")}},isSignature:function(y,x){var g=this.reader.index;this.reader.setIndex(y);var _=this.reader.readString(4)===x;return this.reader.setIndex(g),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),x=d.uint8array?"uint8array":"array",g=o.transformTo(x,y);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,x,g,_=this.zip64EndOfCentralSize-44;0<_;)y=this.reader.readInt(2),x=this.reader.readInt(4),g=this.reader.readData(x),this.zip64ExtensibleData[y]={id:y,length:x,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,x;for(y=0;y<this.files.length;y++)x=this.files[y],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(y=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var x=y;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var _=x-g;if(0<_)this.isSignature(x,l.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(y){this.reader=r(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,a){var r=t("./reader/readerFor"),o=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),d=t("./utf8"),m=t("./compressions"),y=t("./support");function x(g,_){this.options=g,this.loadOptions=_}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var _,S;if(g.skip(22),this.fileNameLength=g.readInt(2),S=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=(function(M){for(var b in m)if(Object.prototype.hasOwnProperty.call(m,b)&&m[b].magic===M)return m[b];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,_,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var _=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(_),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var _,S,M,b=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<b;)_=g.readInt(2),S=g.readInt(2),M=g.readData(S),this.extraFields[_]={id:_,length:S,value:M};g.setIndex(b)},handleUTF8:function(){var g=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var S=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var M=this.findExtraFieldUnicodeComment();if(M!==null)this.fileCommentStr=M;else{var b=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var _=r(g.value);return _.readInt(1)!==1||u(this.fileName)!==_.readInt(4)?null:d.utf8decode(_.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var _=r(g.value);return _.readInt(1)!==1||u(this.fileComment)!==_.readInt(4)?null:d.utf8decode(_.readData(g.length-5))}return null}},n.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,a){function r(_,S,M){this.name=_,this.dir=M.dir,this.date=M.date,this.comment=M.comment,this.unixPermissions=M.unixPermissions,this.dosPermissions=M.dosPermissions,this._data=S,this._dataBinary=M.binary,this.options={compression:M.compression,compressionOptions:M.compressionOptions}}var o=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),d=t("./compressedObject"),m=t("./stream/GenericWorker");r.prototype={internalStream:function(_){var S=null,M="string";try{if(!_)throw new Error("No output type specified.");var b=(M=_.toLowerCase())==="string"||M==="text";M!=="binarystring"&&M!=="text"||(M="string"),S=this._decompressWorker();var E=!this._dataBinary;E&&!b&&(S=S.pipe(new u.Utf8EncodeWorker)),!E&&b&&(S=S.pipe(new u.Utf8DecodeWorker))}catch(C){(S=new m("error")).error(C)}return new o(S,M,"")},async:function(_,S){return this.internalStream(_).accumulate(S)},nodeStream:function(_,S){return this.internalStream(_||"nodebuffer").toNodejsStream(S)},_compressWorker:function(_,S){if(this._data instanceof d&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var M=this._decompressWorker();return this._dataBinary||(M=M.pipe(new u.Utf8EncodeWorker)),d.createWorkerFrom(M,_,S)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof m?this._data:new l(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<y.length;g++)r.prototype[y[g]]=x;n.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,a){(function(r){var o,l,u=r.MutationObserver||r.WebKitMutationObserver;if(u){var d=0,m=new u(_),y=r.document.createTextNode("");m.observe(y,{characterData:!0}),o=function(){y.data=d=++d%2}}else if(r.setImmediate||r.MessageChannel===void 0)o="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var S=r.document.createElement("script");S.onreadystatechange=function(){_(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},r.document.documentElement.appendChild(S)}:function(){setTimeout(_,0)};else{var x=new r.MessageChannel;x.port1.onmessage=_,o=function(){x.port2.postMessage(0)}}var g=[];function _(){var S,M;l=!0;for(var b=g.length;b;){for(M=g,g=[],S=-1;++S<b;)M[S]();b=g.length}l=!1}n.exports=function(S){g.push(S)!==1||l||o()}}).call(this,typeof dx<"u"?dx:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,a){var r=t("immediate");function o(){}var l={},u=["REJECTED"],d=["FULFILLED"],m=["PENDING"];function y(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,b!==o&&S(this,b)}function x(b,E,C){this.promise=b,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function g(b,E,C){r(function(){var D;try{D=E(C)}catch(k){return l.reject(b,k)}D===b?l.reject(b,new TypeError("Cannot resolve promise with itself")):l.resolve(b,D)})}function _(b){var E=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof E=="function")return function(){E.apply(b,arguments)}}function S(b,E){var C=!1;function D(G){C||(C=!0,l.reject(b,G))}function k(G){C||(C=!0,l.resolve(b,G))}var H=M(function(){E(k,D)});H.status==="error"&&D(H.value)}function M(b,E){var C={};try{C.value=b(E),C.status="success"}catch(D){C.status="error",C.value=D}return C}(n.exports=y).prototype.finally=function(b){if(typeof b!="function")return this;var E=this.constructor;return this.then(function(C){return E.resolve(b()).then(function(){return C})},function(C){return E.resolve(b()).then(function(){throw C})})},y.prototype.catch=function(b){return this.then(null,b)},y.prototype.then=function(b,E){if(typeof b!="function"&&this.state===d||typeof E!="function"&&this.state===u)return this;var C=new this.constructor(o);return this.state!==m?g(C,this.state===d?b:E,this.outcome):this.queue.push(new x(C,b,E)),C},x.prototype.callFulfilled=function(b){l.resolve(this.promise,b)},x.prototype.otherCallFulfilled=function(b){g(this.promise,this.onFulfilled,b)},x.prototype.callRejected=function(b){l.reject(this.promise,b)},x.prototype.otherCallRejected=function(b){g(this.promise,this.onRejected,b)},l.resolve=function(b,E){var C=M(_,E);if(C.status==="error")return l.reject(b,C.value);var D=C.value;if(D)S(b,D);else{b.state=d,b.outcome=E;for(var k=-1,H=b.queue.length;++k<H;)b.queue[k].callFulfilled(E)}return b},l.reject=function(b,E){b.state=u,b.outcome=E;for(var C=-1,D=b.queue.length;++C<D;)b.queue[C].callRejected(E);return b},y.resolve=function(b){return b instanceof this?b:l.resolve(new this(o),b)},y.reject=function(b){var E=new this(o);return l.reject(E,b)},y.all=function(b){var E=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=b.length,D=!1;if(!C)return this.resolve([]);for(var k=new Array(C),H=0,G=-1,X=new this(o);++G<C;)O(b[G],G);return X;function O(z,q){E.resolve(z).then(function(I){k[q]=I,++H!==C||D||(D=!0,l.resolve(X,k))},function(I){D||(D=!0,l.reject(X,I))})}},y.race=function(b){var E=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=b.length,D=!1;if(!C)return this.resolve([]);for(var k=-1,H=new this(o);++k<C;)G=b[k],E.resolve(G).then(function(X){D||(D=!0,l.resolve(H,X))},function(X){D||(D=!0,l.reject(H,X))});var G;return H}},{immediate:36}],38:[function(t,n,a){var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,a){var r=t("./zlib/deflate"),o=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),d=t("./zlib/zstream"),m=Object.prototype.toString,y=0,x=-1,g=0,_=8;function S(b){if(!(this instanceof S))return new S(b);this.options=o.assign({level:x,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},b||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var C=r.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(C!==y)throw new Error(u[C]);if(E.header&&r.deflateSetHeader(this.strm,E.header),E.dictionary){var D;if(D=typeof E.dictionary=="string"?l.string2buf(E.dictionary):m.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(C=r.deflateSetDictionary(this.strm,D))!==y)throw new Error(u[C]);this._dict_set=!0}}function M(b,E){var C=new S(E);if(C.push(b,!0),C.err)throw C.msg||u[C.err];return C.result}S.prototype.push=function(b,E){var C,D,k=this.strm,H=this.options.chunkSize;if(this.ended)return!1;D=E===~~E?E:E===!0?4:0,typeof b=="string"?k.input=l.string2buf(b):m.call(b)==="[object ArrayBuffer]"?k.input=new Uint8Array(b):k.input=b,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new o.Buf8(H),k.next_out=0,k.avail_out=H),(C=r.deflate(k,D))!==1&&C!==y)return this.onEnd(C),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(k.output,k.next_out))):this.onData(o.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&C!==1);return D===4?(C=r.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===y):D!==2||(this.onEnd(y),!(k.avail_out=0))},S.prototype.onData=function(b){this.chunks.push(b)},S.prototype.onEnd=function(b){b===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},a.Deflate=S,a.deflate=M,a.deflateRaw=function(b,E){return(E=E||{}).raw=!0,M(b,E)},a.gzip=function(b,E){return(E=E||{}).gzip=!0,M(b,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,a){var r=t("./zlib/inflate"),o=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),d=t("./zlib/messages"),m=t("./zlib/zstream"),y=t("./zlib/gzheader"),x=Object.prototype.toString;function g(S){if(!(this instanceof g))return new g(S);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},S||{});var M=this.options;M.raw&&0<=M.windowBits&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),!(0<=M.windowBits&&M.windowBits<16)||S&&S.windowBits||(M.windowBits+=32),15<M.windowBits&&M.windowBits<48&&(15&M.windowBits)==0&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var b=r.inflateInit2(this.strm,M.windowBits);if(b!==u.Z_OK)throw new Error(d[b]);this.header=new y,r.inflateGetHeader(this.strm,this.header)}function _(S,M){var b=new g(M);if(b.push(S,!0),b.err)throw b.msg||d[b.err];return b.result}g.prototype.push=function(S,M){var b,E,C,D,k,H,G=this.strm,X=this.options.chunkSize,O=this.options.dictionary,z=!1;if(this.ended)return!1;E=M===~~M?M:M===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof S=="string"?G.input=l.binstring2buf(S):x.call(S)==="[object ArrayBuffer]"?G.input=new Uint8Array(S):G.input=S,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new o.Buf8(X),G.next_out=0,G.avail_out=X),(b=r.inflate(G,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&O&&(H=typeof O=="string"?l.string2buf(O):x.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,b=r.inflateSetDictionary(this.strm,H)),b===u.Z_BUF_ERROR&&z===!0&&(b=u.Z_OK,z=!1),b!==u.Z_STREAM_END&&b!==u.Z_OK)return this.onEnd(b),!(this.ended=!0);G.next_out&&(G.avail_out!==0&&b!==u.Z_STREAM_END&&(G.avail_in!==0||E!==u.Z_FINISH&&E!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=l.utf8border(G.output,G.next_out),D=G.next_out-C,k=l.buf2string(G.output,C),G.next_out=D,G.avail_out=X-D,D&&o.arraySet(G.output,G.output,C,D,0),this.onData(k)):this.onData(o.shrinkBuf(G.output,G.next_out)))),G.avail_in===0&&G.avail_out===0&&(z=!0)}while((0<G.avail_in||G.avail_out===0)&&b!==u.Z_STREAM_END);return b===u.Z_STREAM_END&&(E=u.Z_FINISH),E===u.Z_FINISH?(b=r.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===u.Z_OK):E!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(G.avail_out=0))},g.prototype.onData=function(S){this.chunks.push(S)},g.prototype.onEnd=function(S){S===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},a.Inflate=g,a.inflate=_,a.inflateRaw=function(S,M){return(M=M||{}).raw=!0,_(S,M)},a.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,a){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(u){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var m=d.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var y in m)m.hasOwnProperty(y)&&(u[y]=m[y])}}return u},a.shrinkBuf=function(u,d){return u.length===d?u:u.subarray?u.subarray(0,d):(u.length=d,u)};var o={arraySet:function(u,d,m,y,x){if(d.subarray&&u.subarray)u.set(d.subarray(m,m+y),x);else for(var g=0;g<y;g++)u[x+g]=d[m+g]},flattenChunks:function(u){var d,m,y,x,g,_;for(d=y=0,m=u.length;d<m;d++)y+=u[d].length;for(_=new Uint8Array(y),d=x=0,m=u.length;d<m;d++)g=u[d],_.set(g,x),x+=g.length;return _}},l={arraySet:function(u,d,m,y,x){for(var g=0;g<y;g++)u[x+g]=d[m+g]},flattenChunks:function(u){return[].concat.apply([],u)}};a.setTyped=function(u){u?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(r)},{}],42:[function(t,n,a){var r=t("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new r.Buf8(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function m(y,x){if(x<65537&&(y.subarray&&l||!y.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(y,x));for(var g="",_=0;_<x;_++)g+=String.fromCharCode(y[_]);return g}u[254]=u[254]=1,a.string2buf=function(y){var x,g,_,S,M,b=y.length,E=0;for(S=0;S<b;S++)(64512&(g=y.charCodeAt(S)))==55296&&S+1<b&&(64512&(_=y.charCodeAt(S+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),S++),E+=g<128?1:g<2048?2:g<65536?3:4;for(x=new r.Buf8(E),S=M=0;M<E;S++)(64512&(g=y.charCodeAt(S)))==55296&&S+1<b&&(64512&(_=y.charCodeAt(S+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),S++),g<128?x[M++]=g:(g<2048?x[M++]=192|g>>>6:(g<65536?x[M++]=224|g>>>12:(x[M++]=240|g>>>18,x[M++]=128|g>>>12&63),x[M++]=128|g>>>6&63),x[M++]=128|63&g);return x},a.buf2binstring=function(y){return m(y,y.length)},a.binstring2buf=function(y){for(var x=new r.Buf8(y.length),g=0,_=x.length;g<_;g++)x[g]=y.charCodeAt(g);return x},a.buf2string=function(y,x){var g,_,S,M,b=x||y.length,E=new Array(2*b);for(g=_=0;g<b;)if((S=y[g++])<128)E[_++]=S;else if(4<(M=u[S]))E[_++]=65533,g+=M-1;else{for(S&=M===2?31:M===3?15:7;1<M&&g<b;)S=S<<6|63&y[g++],M--;1<M?E[_++]=65533:S<65536?E[_++]=S:(S-=65536,E[_++]=55296|S>>10&1023,E[_++]=56320|1023&S)}return m(E,_)},a.utf8border=function(y,x){var g;for((x=x||y.length)>y.length&&(x=y.length),g=x-1;0<=g&&(192&y[g])==128;)g--;return g<0||g===0?x:g+u[y[g]]>x?g:x}},{"./common":41}],43:[function(t,n,a){n.exports=function(r,o,l,u){for(var d=65535&r|0,m=r>>>16&65535|0,y=0;l!==0;){for(l-=y=2e3<l?2e3:l;m=m+(d=d+o[u++]|0)|0,--y;);d%=65521,m%=65521}return d|m<<16|0}},{}],44:[function(t,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,a){var r=(function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l})();n.exports=function(o,l,u,d){var m=r,y=d+u;o^=-1;for(var x=d;x<y;x++)o=o>>>8^m[255&(o^l[x])];return-1^o}},{}],46:[function(t,n,a){var r,o=t("../utils/common"),l=t("./trees"),u=t("./adler32"),d=t("./crc32"),m=t("./messages"),y=0,x=4,g=0,_=-2,S=-1,M=4,b=2,E=8,C=9,D=286,k=30,H=19,G=2*D+1,X=15,O=3,z=258,q=z+O+1,I=42,$=113,U=1,oe=2,J=3,ae=4;function te(W,j){return W.msg=m[j],j}function le(W){return(W<<1)-(4<W?9:0)}function Me(W){for(var j=W.length;0<=--j;)W[j]=0}function Z(W){var j=W.state,xe=j.pending;xe>W.avail_out&&(xe=W.avail_out),xe!==0&&(o.arraySet(W.output,j.pending_buf,j.pending_out,xe,W.next_out),W.next_out+=xe,j.pending_out+=xe,W.total_out+=xe,W.avail_out-=xe,j.pending-=xe,j.pending===0&&(j.pending_out=0))}function V(W,j){l._tr_flush_block(W,0<=W.block_start?W.block_start:-1,W.strstart-W.block_start,j),W.block_start=W.strstart,Z(W.strm)}function re(W,j){W.pending_buf[W.pending++]=j}function ce(W,j){W.pending_buf[W.pending++]=j>>>8&255,W.pending_buf[W.pending++]=255&j}function pe(W,j){var xe,de,ue=W.max_chain_length,ie=W.strstart,Re=W.prev_length,Pe=W.nice_match,ge=W.strstart>W.w_size-q?W.strstart-(W.w_size-q):0,se=W.window,ee=W.w_mask,Ae=W.prev,je=W.strstart+z,Ge=se[ie+Re-1],Be=se[ie+Re];W.prev_length>=W.good_match&&(ue>>=2),Pe>W.lookahead&&(Pe=W.lookahead);do if(se[(xe=j)+Re]===Be&&se[xe+Re-1]===Ge&&se[xe]===se[ie]&&se[++xe]===se[ie+1]){ie+=2,xe++;do;while(se[++ie]===se[++xe]&&se[++ie]===se[++xe]&&se[++ie]===se[++xe]&&se[++ie]===se[++xe]&&se[++ie]===se[++xe]&&se[++ie]===se[++xe]&&se[++ie]===se[++xe]&&se[++ie]===se[++xe]&&ie<je);if(de=z-(je-ie),ie=je-z,Re<de){if(W.match_start=j,Pe<=(Re=de))break;Ge=se[ie+Re-1],Be=se[ie+Re]}}while((j=Ae[j&ee])>ge&&--ue!=0);return Re<=W.lookahead?Re:W.lookahead}function me(W){var j,xe,de,ue,ie,Re,Pe,ge,se,ee,Ae=W.w_size;do{if(ue=W.window_size-W.lookahead-W.strstart,W.strstart>=Ae+(Ae-q)){for(o.arraySet(W.window,W.window,Ae,Ae,0),W.match_start-=Ae,W.strstart-=Ae,W.block_start-=Ae,j=xe=W.hash_size;de=W.head[--j],W.head[j]=Ae<=de?de-Ae:0,--xe;);for(j=xe=Ae;de=W.prev[--j],W.prev[j]=Ae<=de?de-Ae:0,--xe;);ue+=Ae}if(W.strm.avail_in===0)break;if(Re=W.strm,Pe=W.window,ge=W.strstart+W.lookahead,se=ue,ee=void 0,ee=Re.avail_in,se<ee&&(ee=se),xe=ee===0?0:(Re.avail_in-=ee,o.arraySet(Pe,Re.input,Re.next_in,ee,ge),Re.state.wrap===1?Re.adler=u(Re.adler,Pe,ee,ge):Re.state.wrap===2&&(Re.adler=d(Re.adler,Pe,ee,ge)),Re.next_in+=ee,Re.total_in+=ee,ee),W.lookahead+=xe,W.lookahead+W.insert>=O)for(ie=W.strstart-W.insert,W.ins_h=W.window[ie],W.ins_h=(W.ins_h<<W.hash_shift^W.window[ie+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[ie+O-1])&W.hash_mask,W.prev[ie&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=ie,ie++,W.insert--,!(W.lookahead+W.insert<O)););}while(W.lookahead<q&&W.strm.avail_in!==0)}function Ee(W,j){for(var xe,de;;){if(W.lookahead<q){if(me(W),W.lookahead<q&&j===y)return U;if(W.lookahead===0)break}if(xe=0,W.lookahead>=O&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+O-1])&W.hash_mask,xe=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),xe!==0&&W.strstart-xe<=W.w_size-q&&(W.match_length=pe(W,xe)),W.match_length>=O)if(de=l._tr_tally(W,W.strstart-W.match_start,W.match_length-O),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=O){for(W.match_length--;W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+O-1])&W.hash_mask,xe=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart,--W.match_length!=0;);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else de=l._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(de&&(V(W,!1),W.strm.avail_out===0))return U}return W.insert=W.strstart<O-1?W.strstart:O-1,j===x?(V(W,!0),W.strm.avail_out===0?J:ae):W.last_lit&&(V(W,!1),W.strm.avail_out===0)?U:oe}function Ue(W,j){for(var xe,de,ue;;){if(W.lookahead<q){if(me(W),W.lookahead<q&&j===y)return U;if(W.lookahead===0)break}if(xe=0,W.lookahead>=O&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+O-1])&W.hash_mask,xe=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=O-1,xe!==0&&W.prev_length<W.max_lazy_match&&W.strstart-xe<=W.w_size-q&&(W.match_length=pe(W,xe),W.match_length<=5&&(W.strategy===1||W.match_length===O&&4096<W.strstart-W.match_start)&&(W.match_length=O-1)),W.prev_length>=O&&W.match_length<=W.prev_length){for(ue=W.strstart+W.lookahead-O,de=l._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-O),W.lookahead-=W.prev_length-1,W.prev_length-=2;++W.strstart<=ue&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+O-1])&W.hash_mask,xe=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),--W.prev_length!=0;);if(W.match_available=0,W.match_length=O-1,W.strstart++,de&&(V(W,!1),W.strm.avail_out===0))return U}else if(W.match_available){if((de=l._tr_tally(W,0,W.window[W.strstart-1]))&&V(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return U}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(de=l._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<O-1?W.strstart:O-1,j===x?(V(W,!0),W.strm.avail_out===0?J:ae):W.last_lit&&(V(W,!1),W.strm.avail_out===0)?U:oe}function ze(W,j,xe,de,ue){this.good_length=W,this.max_lazy=j,this.nice_length=xe,this.max_chain=de,this.func=ue}function We(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*G),this.dyn_dtree=new o.Buf16(2*(2*k+1)),this.bl_tree=new o.Buf16(2*(2*H+1)),Me(this.dyn_ltree),Me(this.dyn_dtree),Me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(X+1),this.heap=new o.Buf16(2*D+1),Me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*D+1),Me(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(W){var j;return W&&W.state?(W.total_in=W.total_out=0,W.data_type=b,(j=W.state).pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?I:$,W.adler=j.wrap===2?0:1,j.last_flush=y,l._tr_init(j),g):te(W,_)}function Ct(W){var j=at(W);return j===g&&(function(xe){xe.window_size=2*xe.w_size,Me(xe.head),xe.max_lazy_match=r[xe.level].max_lazy,xe.good_match=r[xe.level].good_length,xe.nice_match=r[xe.level].nice_length,xe.max_chain_length=r[xe.level].max_chain,xe.strstart=0,xe.block_start=0,xe.lookahead=0,xe.insert=0,xe.match_length=xe.prev_length=O-1,xe.match_available=0,xe.ins_h=0})(W.state),j}function gt(W,j,xe,de,ue,ie){if(!W)return _;var Re=1;if(j===S&&(j=6),de<0?(Re=0,de=-de):15<de&&(Re=2,de-=16),ue<1||C<ue||xe!==E||de<8||15<de||j<0||9<j||ie<0||M<ie)return te(W,_);de===8&&(de=9);var Pe=new We;return(W.state=Pe).strm=W,Pe.wrap=Re,Pe.gzhead=null,Pe.w_bits=de,Pe.w_size=1<<Pe.w_bits,Pe.w_mask=Pe.w_size-1,Pe.hash_bits=ue+7,Pe.hash_size=1<<Pe.hash_bits,Pe.hash_mask=Pe.hash_size-1,Pe.hash_shift=~~((Pe.hash_bits+O-1)/O),Pe.window=new o.Buf8(2*Pe.w_size),Pe.head=new o.Buf16(Pe.hash_size),Pe.prev=new o.Buf16(Pe.w_size),Pe.lit_bufsize=1<<ue+6,Pe.pending_buf_size=4*Pe.lit_bufsize,Pe.pending_buf=new o.Buf8(Pe.pending_buf_size),Pe.d_buf=1*Pe.lit_bufsize,Pe.l_buf=3*Pe.lit_bufsize,Pe.level=j,Pe.strategy=ie,Pe.method=xe,Ct(W)}r=[new ze(0,0,0,0,function(W,j){var xe=65535;for(xe>W.pending_buf_size-5&&(xe=W.pending_buf_size-5);;){if(W.lookahead<=1){if(me(W),W.lookahead===0&&j===y)return U;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var de=W.block_start+xe;if((W.strstart===0||W.strstart>=de)&&(W.lookahead=W.strstart-de,W.strstart=de,V(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-q&&(V(W,!1),W.strm.avail_out===0))return U}return W.insert=0,j===x?(V(W,!0),W.strm.avail_out===0?J:ae):(W.strstart>W.block_start&&(V(W,!1),W.strm.avail_out),U)}),new ze(4,4,8,4,Ee),new ze(4,5,16,8,Ee),new ze(4,6,32,32,Ee),new ze(4,4,16,16,Ue),new ze(8,16,32,32,Ue),new ze(8,16,128,128,Ue),new ze(8,32,128,256,Ue),new ze(32,128,258,1024,Ue),new ze(32,258,258,4096,Ue)],a.deflateInit=function(W,j){return gt(W,j,E,15,8,0)},a.deflateInit2=gt,a.deflateReset=Ct,a.deflateResetKeep=at,a.deflateSetHeader=function(W,j){return W&&W.state?W.state.wrap!==2?_:(W.state.gzhead=j,g):_},a.deflate=function(W,j){var xe,de,ue,ie;if(!W||!W.state||5<j||j<0)return W?te(W,_):_;if(de=W.state,!W.output||!W.input&&W.avail_in!==0||de.status===666&&j!==x)return te(W,W.avail_out===0?-5:_);if(de.strm=W,xe=de.last_flush,de.last_flush=j,de.status===I)if(de.wrap===2)W.adler=0,re(de,31),re(de,139),re(de,8),de.gzhead?(re(de,(de.gzhead.text?1:0)+(de.gzhead.hcrc?2:0)+(de.gzhead.extra?4:0)+(de.gzhead.name?8:0)+(de.gzhead.comment?16:0)),re(de,255&de.gzhead.time),re(de,de.gzhead.time>>8&255),re(de,de.gzhead.time>>16&255),re(de,de.gzhead.time>>24&255),re(de,de.level===9?2:2<=de.strategy||de.level<2?4:0),re(de,255&de.gzhead.os),de.gzhead.extra&&de.gzhead.extra.length&&(re(de,255&de.gzhead.extra.length),re(de,de.gzhead.extra.length>>8&255)),de.gzhead.hcrc&&(W.adler=d(W.adler,de.pending_buf,de.pending,0)),de.gzindex=0,de.status=69):(re(de,0),re(de,0),re(de,0),re(de,0),re(de,0),re(de,de.level===9?2:2<=de.strategy||de.level<2?4:0),re(de,3),de.status=$);else{var Re=E+(de.w_bits-8<<4)<<8;Re|=(2<=de.strategy||de.level<2?0:de.level<6?1:de.level===6?2:3)<<6,de.strstart!==0&&(Re|=32),Re+=31-Re%31,de.status=$,ce(de,Re),de.strstart!==0&&(ce(de,W.adler>>>16),ce(de,65535&W.adler)),W.adler=1}if(de.status===69)if(de.gzhead.extra){for(ue=de.pending;de.gzindex<(65535&de.gzhead.extra.length)&&(de.pending!==de.pending_buf_size||(de.gzhead.hcrc&&de.pending>ue&&(W.adler=d(W.adler,de.pending_buf,de.pending-ue,ue)),Z(W),ue=de.pending,de.pending!==de.pending_buf_size));)re(de,255&de.gzhead.extra[de.gzindex]),de.gzindex++;de.gzhead.hcrc&&de.pending>ue&&(W.adler=d(W.adler,de.pending_buf,de.pending-ue,ue)),de.gzindex===de.gzhead.extra.length&&(de.gzindex=0,de.status=73)}else de.status=73;if(de.status===73)if(de.gzhead.name){ue=de.pending;do{if(de.pending===de.pending_buf_size&&(de.gzhead.hcrc&&de.pending>ue&&(W.adler=d(W.adler,de.pending_buf,de.pending-ue,ue)),Z(W),ue=de.pending,de.pending===de.pending_buf_size)){ie=1;break}ie=de.gzindex<de.gzhead.name.length?255&de.gzhead.name.charCodeAt(de.gzindex++):0,re(de,ie)}while(ie!==0);de.gzhead.hcrc&&de.pending>ue&&(W.adler=d(W.adler,de.pending_buf,de.pending-ue,ue)),ie===0&&(de.gzindex=0,de.status=91)}else de.status=91;if(de.status===91)if(de.gzhead.comment){ue=de.pending;do{if(de.pending===de.pending_buf_size&&(de.gzhead.hcrc&&de.pending>ue&&(W.adler=d(W.adler,de.pending_buf,de.pending-ue,ue)),Z(W),ue=de.pending,de.pending===de.pending_buf_size)){ie=1;break}ie=de.gzindex<de.gzhead.comment.length?255&de.gzhead.comment.charCodeAt(de.gzindex++):0,re(de,ie)}while(ie!==0);de.gzhead.hcrc&&de.pending>ue&&(W.adler=d(W.adler,de.pending_buf,de.pending-ue,ue)),ie===0&&(de.status=103)}else de.status=103;if(de.status===103&&(de.gzhead.hcrc?(de.pending+2>de.pending_buf_size&&Z(W),de.pending+2<=de.pending_buf_size&&(re(de,255&W.adler),re(de,W.adler>>8&255),W.adler=0,de.status=$)):de.status=$),de.pending!==0){if(Z(W),W.avail_out===0)return de.last_flush=-1,g}else if(W.avail_in===0&&le(j)<=le(xe)&&j!==x)return te(W,-5);if(de.status===666&&W.avail_in!==0)return te(W,-5);if(W.avail_in!==0||de.lookahead!==0||j!==y&&de.status!==666){var Pe=de.strategy===2?(function(ge,se){for(var ee;;){if(ge.lookahead===0&&(me(ge),ge.lookahead===0)){if(se===y)return U;break}if(ge.match_length=0,ee=l._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++,ee&&(V(ge,!1),ge.strm.avail_out===0))return U}return ge.insert=0,se===x?(V(ge,!0),ge.strm.avail_out===0?J:ae):ge.last_lit&&(V(ge,!1),ge.strm.avail_out===0)?U:oe})(de,j):de.strategy===3?(function(ge,se){for(var ee,Ae,je,Ge,Be=ge.window;;){if(ge.lookahead<=z){if(me(ge),ge.lookahead<=z&&se===y)return U;if(ge.lookahead===0)break}if(ge.match_length=0,ge.lookahead>=O&&0<ge.strstart&&(Ae=Be[je=ge.strstart-1])===Be[++je]&&Ae===Be[++je]&&Ae===Be[++je]){Ge=ge.strstart+z;do;while(Ae===Be[++je]&&Ae===Be[++je]&&Ae===Be[++je]&&Ae===Be[++je]&&Ae===Be[++je]&&Ae===Be[++je]&&Ae===Be[++je]&&Ae===Be[++je]&&je<Ge);ge.match_length=z-(Ge-je),ge.match_length>ge.lookahead&&(ge.match_length=ge.lookahead)}if(ge.match_length>=O?(ee=l._tr_tally(ge,1,ge.match_length-O),ge.lookahead-=ge.match_length,ge.strstart+=ge.match_length,ge.match_length=0):(ee=l._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++),ee&&(V(ge,!1),ge.strm.avail_out===0))return U}return ge.insert=0,se===x?(V(ge,!0),ge.strm.avail_out===0?J:ae):ge.last_lit&&(V(ge,!1),ge.strm.avail_out===0)?U:oe})(de,j):r[de.level].func(de,j);if(Pe!==J&&Pe!==ae||(de.status=666),Pe===U||Pe===J)return W.avail_out===0&&(de.last_flush=-1),g;if(Pe===oe&&(j===1?l._tr_align(de):j!==5&&(l._tr_stored_block(de,0,0,!1),j===3&&(Me(de.head),de.lookahead===0&&(de.strstart=0,de.block_start=0,de.insert=0))),Z(W),W.avail_out===0))return de.last_flush=-1,g}return j!==x?g:de.wrap<=0?1:(de.wrap===2?(re(de,255&W.adler),re(de,W.adler>>8&255),re(de,W.adler>>16&255),re(de,W.adler>>24&255),re(de,255&W.total_in),re(de,W.total_in>>8&255),re(de,W.total_in>>16&255),re(de,W.total_in>>24&255)):(ce(de,W.adler>>>16),ce(de,65535&W.adler)),Z(W),0<de.wrap&&(de.wrap=-de.wrap),de.pending!==0?g:1)},a.deflateEnd=function(W){var j;return W&&W.state?(j=W.state.status)!==I&&j!==69&&j!==73&&j!==91&&j!==103&&j!==$&&j!==666?te(W,_):(W.state=null,j===$?te(W,-3):g):_},a.deflateSetDictionary=function(W,j){var xe,de,ue,ie,Re,Pe,ge,se,ee=j.length;if(!W||!W.state||(ie=(xe=W.state).wrap)===2||ie===1&&xe.status!==I||xe.lookahead)return _;for(ie===1&&(W.adler=u(W.adler,j,ee,0)),xe.wrap=0,ee>=xe.w_size&&(ie===0&&(Me(xe.head),xe.strstart=0,xe.block_start=0,xe.insert=0),se=new o.Buf8(xe.w_size),o.arraySet(se,j,ee-xe.w_size,xe.w_size,0),j=se,ee=xe.w_size),Re=W.avail_in,Pe=W.next_in,ge=W.input,W.avail_in=ee,W.next_in=0,W.input=j,me(xe);xe.lookahead>=O;){for(de=xe.strstart,ue=xe.lookahead-(O-1);xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[de+O-1])&xe.hash_mask,xe.prev[de&xe.w_mask]=xe.head[xe.ins_h],xe.head[xe.ins_h]=de,de++,--ue;);xe.strstart=de,xe.lookahead=O-1,me(xe)}return xe.strstart+=xe.lookahead,xe.block_start=xe.strstart,xe.insert=xe.lookahead,xe.lookahead=0,xe.match_length=xe.prev_length=O-1,xe.match_available=0,W.next_in=Pe,W.input=ge,W.avail_in=Re,xe.wrap=ie,g},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,a){n.exports=function(r,o){var l,u,d,m,y,x,g,_,S,M,b,E,C,D,k,H,G,X,O,z,q,I,$,U,oe;l=r.state,u=r.next_in,U=r.input,d=u+(r.avail_in-5),m=r.next_out,oe=r.output,y=m-(o-r.avail_out),x=m+(r.avail_out-257),g=l.dmax,_=l.wsize,S=l.whave,M=l.wnext,b=l.window,E=l.hold,C=l.bits,D=l.lencode,k=l.distcode,H=(1<<l.lenbits)-1,G=(1<<l.distbits)-1;e:do{C<15&&(E+=U[u++]<<C,C+=8,E+=U[u++]<<C,C+=8),X=D[E&H];t:for(;;){if(E>>>=O=X>>>24,C-=O,(O=X>>>16&255)===0)oe[m++]=65535&X;else{if(!(16&O)){if((64&O)==0){X=D[(65535&X)+(E&(1<<O)-1)];continue t}if(32&O){l.mode=12;break e}r.msg="invalid literal/length code",l.mode=30;break e}z=65535&X,(O&=15)&&(C<O&&(E+=U[u++]<<C,C+=8),z+=E&(1<<O)-1,E>>>=O,C-=O),C<15&&(E+=U[u++]<<C,C+=8,E+=U[u++]<<C,C+=8),X=k[E&G];n:for(;;){if(E>>>=O=X>>>24,C-=O,!(16&(O=X>>>16&255))){if((64&O)==0){X=k[(65535&X)+(E&(1<<O)-1)];continue n}r.msg="invalid distance code",l.mode=30;break e}if(q=65535&X,C<(O&=15)&&(E+=U[u++]<<C,(C+=8)<O&&(E+=U[u++]<<C,C+=8)),g<(q+=E&(1<<O)-1)){r.msg="invalid distance too far back",l.mode=30;break e}if(E>>>=O,C-=O,(O=m-y)<q){if(S<(O=q-O)&&l.sane){r.msg="invalid distance too far back",l.mode=30;break e}if($=b,(I=0)===M){if(I+=_-O,O<z){for(z-=O;oe[m++]=b[I++],--O;);I=m-q,$=oe}}else if(M<O){if(I+=_+M-O,(O-=M)<z){for(z-=O;oe[m++]=b[I++],--O;);if(I=0,M<z){for(z-=O=M;oe[m++]=b[I++],--O;);I=m-q,$=oe}}}else if(I+=M-O,O<z){for(z-=O;oe[m++]=b[I++],--O;);I=m-q,$=oe}for(;2<z;)oe[m++]=$[I++],oe[m++]=$[I++],oe[m++]=$[I++],z-=3;z&&(oe[m++]=$[I++],1<z&&(oe[m++]=$[I++]))}else{for(I=m-q;oe[m++]=oe[I++],oe[m++]=oe[I++],oe[m++]=oe[I++],2<(z-=3););z&&(oe[m++]=oe[I++],1<z&&(oe[m++]=oe[I++]))}break}}break}}while(u<d&&m<x);u-=z=C>>3,E&=(1<<(C-=z<<3))-1,r.next_in=u,r.next_out=m,r.avail_in=u<d?d-u+5:5-(u-d),r.avail_out=m<x?x-m+257:257-(m-x),l.hold=E,l.bits=C}},{}],49:[function(t,n,a){var r=t("../utils/common"),o=t("./adler32"),l=t("./crc32"),u=t("./inffast"),d=t("./inftrees"),m=1,y=2,x=0,g=-2,_=1,S=852,M=592;function b(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(I){var $;return I&&I.state?($=I.state,I.total_in=I.total_out=$.total=0,I.msg="",$.wrap&&(I.adler=1&$.wrap),$.mode=_,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new r.Buf32(S),$.distcode=$.distdyn=new r.Buf32(M),$.sane=1,$.back=-1,x):g}function D(I){var $;return I&&I.state?(($=I.state).wsize=0,$.whave=0,$.wnext=0,C(I)):g}function k(I,$){var U,oe;return I&&I.state?(oe=I.state,$<0?(U=0,$=-$):(U=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?g:(oe.window!==null&&oe.wbits!==$&&(oe.window=null),oe.wrap=U,oe.wbits=$,D(I))):g}function H(I,$){var U,oe;return I?(oe=new E,(I.state=oe).window=null,(U=k(I,$))!==x&&(I.state=null),U):g}var G,X,O=!0;function z(I){if(O){var $;for(G=new r.Buf32(512),X=new r.Buf32(32),$=0;$<144;)I.lens[$++]=8;for(;$<256;)I.lens[$++]=9;for(;$<280;)I.lens[$++]=7;for(;$<288;)I.lens[$++]=8;for(d(m,I.lens,0,288,G,0,I.work,{bits:9}),$=0;$<32;)I.lens[$++]=5;d(y,I.lens,0,32,X,0,I.work,{bits:5}),O=!1}I.lencode=G,I.lenbits=9,I.distcode=X,I.distbits=5}function q(I,$,U,oe){var J,ae=I.state;return ae.window===null&&(ae.wsize=1<<ae.wbits,ae.wnext=0,ae.whave=0,ae.window=new r.Buf8(ae.wsize)),oe>=ae.wsize?(r.arraySet(ae.window,$,U-ae.wsize,ae.wsize,0),ae.wnext=0,ae.whave=ae.wsize):(oe<(J=ae.wsize-ae.wnext)&&(J=oe),r.arraySet(ae.window,$,U-oe,J,ae.wnext),(oe-=J)?(r.arraySet(ae.window,$,U-oe,oe,0),ae.wnext=oe,ae.whave=ae.wsize):(ae.wnext+=J,ae.wnext===ae.wsize&&(ae.wnext=0),ae.whave<ae.wsize&&(ae.whave+=J))),0}a.inflateReset=D,a.inflateReset2=k,a.inflateResetKeep=C,a.inflateInit=function(I){return H(I,15)},a.inflateInit2=H,a.inflate=function(I,$){var U,oe,J,ae,te,le,Me,Z,V,re,ce,pe,me,Ee,Ue,ze,We,at,Ct,gt,W,j,xe,de,ue=0,ie=new r.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return g;(U=I.state).mode===12&&(U.mode=13),te=I.next_out,J=I.output,Me=I.avail_out,ae=I.next_in,oe=I.input,le=I.avail_in,Z=U.hold,V=U.bits,re=le,ce=Me,j=x;e:for(;;)switch(U.mode){case _:if(U.wrap===0){U.mode=13;break}for(;V<16;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}if(2&U.wrap&&Z===35615){ie[U.check=0]=255&Z,ie[1]=Z>>>8&255,U.check=l(U.check,ie,2,0),V=Z=0,U.mode=2;break}if(U.flags=0,U.head&&(U.head.done=!1),!(1&U.wrap)||(((255&Z)<<8)+(Z>>8))%31){I.msg="incorrect header check",U.mode=30;break}if((15&Z)!=8){I.msg="unknown compression method",U.mode=30;break}if(V-=4,W=8+(15&(Z>>>=4)),U.wbits===0)U.wbits=W;else if(W>U.wbits){I.msg="invalid window size",U.mode=30;break}U.dmax=1<<W,I.adler=U.check=1,U.mode=512&Z?10:12,V=Z=0;break;case 2:for(;V<16;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}if(U.flags=Z,(255&U.flags)!=8){I.msg="unknown compression method",U.mode=30;break}if(57344&U.flags){I.msg="unknown header flags set",U.mode=30;break}U.head&&(U.head.text=Z>>8&1),512&U.flags&&(ie[0]=255&Z,ie[1]=Z>>>8&255,U.check=l(U.check,ie,2,0)),V=Z=0,U.mode=3;case 3:for(;V<32;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}U.head&&(U.head.time=Z),512&U.flags&&(ie[0]=255&Z,ie[1]=Z>>>8&255,ie[2]=Z>>>16&255,ie[3]=Z>>>24&255,U.check=l(U.check,ie,4,0)),V=Z=0,U.mode=4;case 4:for(;V<16;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}U.head&&(U.head.xflags=255&Z,U.head.os=Z>>8),512&U.flags&&(ie[0]=255&Z,ie[1]=Z>>>8&255,U.check=l(U.check,ie,2,0)),V=Z=0,U.mode=5;case 5:if(1024&U.flags){for(;V<16;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}U.length=Z,U.head&&(U.head.extra_len=Z),512&U.flags&&(ie[0]=255&Z,ie[1]=Z>>>8&255,U.check=l(U.check,ie,2,0)),V=Z=0}else U.head&&(U.head.extra=null);U.mode=6;case 6:if(1024&U.flags&&(le<(pe=U.length)&&(pe=le),pe&&(U.head&&(W=U.head.extra_len-U.length,U.head.extra||(U.head.extra=new Array(U.head.extra_len)),r.arraySet(U.head.extra,oe,ae,pe,W)),512&U.flags&&(U.check=l(U.check,oe,pe,ae)),le-=pe,ae+=pe,U.length-=pe),U.length))break e;U.length=0,U.mode=7;case 7:if(2048&U.flags){if(le===0)break e;for(pe=0;W=oe[ae+pe++],U.head&&W&&U.length<65536&&(U.head.name+=String.fromCharCode(W)),W&&pe<le;);if(512&U.flags&&(U.check=l(U.check,oe,pe,ae)),le-=pe,ae+=pe,W)break e}else U.head&&(U.head.name=null);U.length=0,U.mode=8;case 8:if(4096&U.flags){if(le===0)break e;for(pe=0;W=oe[ae+pe++],U.head&&W&&U.length<65536&&(U.head.comment+=String.fromCharCode(W)),W&&pe<le;);if(512&U.flags&&(U.check=l(U.check,oe,pe,ae)),le-=pe,ae+=pe,W)break e}else U.head&&(U.head.comment=null);U.mode=9;case 9:if(512&U.flags){for(;V<16;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}if(Z!==(65535&U.check)){I.msg="header crc mismatch",U.mode=30;break}V=Z=0}U.head&&(U.head.hcrc=U.flags>>9&1,U.head.done=!0),I.adler=U.check=0,U.mode=12;break;case 10:for(;V<32;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}I.adler=U.check=b(Z),V=Z=0,U.mode=11;case 11:if(U.havedict===0)return I.next_out=te,I.avail_out=Me,I.next_in=ae,I.avail_in=le,U.hold=Z,U.bits=V,2;I.adler=U.check=1,U.mode=12;case 12:if($===5||$===6)break e;case 13:if(U.last){Z>>>=7&V,V-=7&V,U.mode=27;break}for(;V<3;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}switch(U.last=1&Z,V-=1,3&(Z>>>=1)){case 0:U.mode=14;break;case 1:if(z(U),U.mode=20,$!==6)break;Z>>>=2,V-=2;break e;case 2:U.mode=17;break;case 3:I.msg="invalid block type",U.mode=30}Z>>>=2,V-=2;break;case 14:for(Z>>>=7&V,V-=7&V;V<32;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}if((65535&Z)!=(Z>>>16^65535)){I.msg="invalid stored block lengths",U.mode=30;break}if(U.length=65535&Z,V=Z=0,U.mode=15,$===6)break e;case 15:U.mode=16;case 16:if(pe=U.length){if(le<pe&&(pe=le),Me<pe&&(pe=Me),pe===0)break e;r.arraySet(J,oe,ae,pe,te),le-=pe,ae+=pe,Me-=pe,te+=pe,U.length-=pe;break}U.mode=12;break;case 17:for(;V<14;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}if(U.nlen=257+(31&Z),Z>>>=5,V-=5,U.ndist=1+(31&Z),Z>>>=5,V-=5,U.ncode=4+(15&Z),Z>>>=4,V-=4,286<U.nlen||30<U.ndist){I.msg="too many length or distance symbols",U.mode=30;break}U.have=0,U.mode=18;case 18:for(;U.have<U.ncode;){for(;V<3;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}U.lens[Re[U.have++]]=7&Z,Z>>>=3,V-=3}for(;U.have<19;)U.lens[Re[U.have++]]=0;if(U.lencode=U.lendyn,U.lenbits=7,xe={bits:U.lenbits},j=d(0,U.lens,0,19,U.lencode,0,U.work,xe),U.lenbits=xe.bits,j){I.msg="invalid code lengths set",U.mode=30;break}U.have=0,U.mode=19;case 19:for(;U.have<U.nlen+U.ndist;){for(;ze=(ue=U.lencode[Z&(1<<U.lenbits)-1])>>>16&255,We=65535&ue,!((Ue=ue>>>24)<=V);){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}if(We<16)Z>>>=Ue,V-=Ue,U.lens[U.have++]=We;else{if(We===16){for(de=Ue+2;V<de;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}if(Z>>>=Ue,V-=Ue,U.have===0){I.msg="invalid bit length repeat",U.mode=30;break}W=U.lens[U.have-1],pe=3+(3&Z),Z>>>=2,V-=2}else if(We===17){for(de=Ue+3;V<de;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}V-=Ue,W=0,pe=3+(7&(Z>>>=Ue)),Z>>>=3,V-=3}else{for(de=Ue+7;V<de;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}V-=Ue,W=0,pe=11+(127&(Z>>>=Ue)),Z>>>=7,V-=7}if(U.have+pe>U.nlen+U.ndist){I.msg="invalid bit length repeat",U.mode=30;break}for(;pe--;)U.lens[U.have++]=W}}if(U.mode===30)break;if(U.lens[256]===0){I.msg="invalid code -- missing end-of-block",U.mode=30;break}if(U.lenbits=9,xe={bits:U.lenbits},j=d(m,U.lens,0,U.nlen,U.lencode,0,U.work,xe),U.lenbits=xe.bits,j){I.msg="invalid literal/lengths set",U.mode=30;break}if(U.distbits=6,U.distcode=U.distdyn,xe={bits:U.distbits},j=d(y,U.lens,U.nlen,U.ndist,U.distcode,0,U.work,xe),U.distbits=xe.bits,j){I.msg="invalid distances set",U.mode=30;break}if(U.mode=20,$===6)break e;case 20:U.mode=21;case 21:if(6<=le&&258<=Me){I.next_out=te,I.avail_out=Me,I.next_in=ae,I.avail_in=le,U.hold=Z,U.bits=V,u(I,ce),te=I.next_out,J=I.output,Me=I.avail_out,ae=I.next_in,oe=I.input,le=I.avail_in,Z=U.hold,V=U.bits,U.mode===12&&(U.back=-1);break}for(U.back=0;ze=(ue=U.lencode[Z&(1<<U.lenbits)-1])>>>16&255,We=65535&ue,!((Ue=ue>>>24)<=V);){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}if(ze&&(240&ze)==0){for(at=Ue,Ct=ze,gt=We;ze=(ue=U.lencode[gt+((Z&(1<<at+Ct)-1)>>at)])>>>16&255,We=65535&ue,!(at+(Ue=ue>>>24)<=V);){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}Z>>>=at,V-=at,U.back+=at}if(Z>>>=Ue,V-=Ue,U.back+=Ue,U.length=We,ze===0){U.mode=26;break}if(32&ze){U.back=-1,U.mode=12;break}if(64&ze){I.msg="invalid literal/length code",U.mode=30;break}U.extra=15&ze,U.mode=22;case 22:if(U.extra){for(de=U.extra;V<de;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}U.length+=Z&(1<<U.extra)-1,Z>>>=U.extra,V-=U.extra,U.back+=U.extra}U.was=U.length,U.mode=23;case 23:for(;ze=(ue=U.distcode[Z&(1<<U.distbits)-1])>>>16&255,We=65535&ue,!((Ue=ue>>>24)<=V);){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}if((240&ze)==0){for(at=Ue,Ct=ze,gt=We;ze=(ue=U.distcode[gt+((Z&(1<<at+Ct)-1)>>at)])>>>16&255,We=65535&ue,!(at+(Ue=ue>>>24)<=V);){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}Z>>>=at,V-=at,U.back+=at}if(Z>>>=Ue,V-=Ue,U.back+=Ue,64&ze){I.msg="invalid distance code",U.mode=30;break}U.offset=We,U.extra=15&ze,U.mode=24;case 24:if(U.extra){for(de=U.extra;V<de;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}U.offset+=Z&(1<<U.extra)-1,Z>>>=U.extra,V-=U.extra,U.back+=U.extra}if(U.offset>U.dmax){I.msg="invalid distance too far back",U.mode=30;break}U.mode=25;case 25:if(Me===0)break e;if(pe=ce-Me,U.offset>pe){if((pe=U.offset-pe)>U.whave&&U.sane){I.msg="invalid distance too far back",U.mode=30;break}me=pe>U.wnext?(pe-=U.wnext,U.wsize-pe):U.wnext-pe,pe>U.length&&(pe=U.length),Ee=U.window}else Ee=J,me=te-U.offset,pe=U.length;for(Me<pe&&(pe=Me),Me-=pe,U.length-=pe;J[te++]=Ee[me++],--pe;);U.length===0&&(U.mode=21);break;case 26:if(Me===0)break e;J[te++]=U.length,Me--,U.mode=21;break;case 27:if(U.wrap){for(;V<32;){if(le===0)break e;le--,Z|=oe[ae++]<<V,V+=8}if(ce-=Me,I.total_out+=ce,U.total+=ce,ce&&(I.adler=U.check=U.flags?l(U.check,J,ce,te-ce):o(U.check,J,ce,te-ce)),ce=Me,(U.flags?Z:b(Z))!==U.check){I.msg="incorrect data check",U.mode=30;break}V=Z=0}U.mode=28;case 28:if(U.wrap&&U.flags){for(;V<32;){if(le===0)break e;le--,Z+=oe[ae++]<<V,V+=8}if(Z!==(4294967295&U.total)){I.msg="incorrect length check",U.mode=30;break}V=Z=0}U.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;case 32:default:return g}return I.next_out=te,I.avail_out=Me,I.next_in=ae,I.avail_in=le,U.hold=Z,U.bits=V,(U.wsize||ce!==I.avail_out&&U.mode<30&&(U.mode<27||$!==4))&&q(I,I.output,I.next_out,ce-I.avail_out)?(U.mode=31,-4):(re-=I.avail_in,ce-=I.avail_out,I.total_in+=re,I.total_out+=ce,U.total+=ce,U.wrap&&ce&&(I.adler=U.check=U.flags?l(U.check,J,ce,I.next_out-ce):o(U.check,J,ce,I.next_out-ce)),I.data_type=U.bits+(U.last?64:0)+(U.mode===12?128:0)+(U.mode===20||U.mode===15?256:0),(re==0&&ce===0||$===4)&&j===x&&(j=-5),j)},a.inflateEnd=function(I){if(!I||!I.state)return g;var $=I.state;return $.window&&($.window=null),I.state=null,x},a.inflateGetHeader=function(I,$){var U;return I&&I.state?(2&(U=I.state).wrap)==0?g:((U.head=$).done=!1,x):g},a.inflateSetDictionary=function(I,$){var U,oe=$.length;return I&&I.state?(U=I.state).wrap!==0&&U.mode!==11?g:U.mode===11&&o(1,$,oe,0)!==U.check?-3:q(I,$,oe,oe)?(U.mode=31,-4):(U.havedict=1,x):g},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,a){var r=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(m,y,x,g,_,S,M,b){var E,C,D,k,H,G,X,O,z,q=b.bits,I=0,$=0,U=0,oe=0,J=0,ae=0,te=0,le=0,Me=0,Z=0,V=null,re=0,ce=new r.Buf16(16),pe=new r.Buf16(16),me=null,Ee=0;for(I=0;I<=15;I++)ce[I]=0;for($=0;$<g;$++)ce[y[x+$]]++;for(J=q,oe=15;1<=oe&&ce[oe]===0;oe--);if(oe<J&&(J=oe),oe===0)return _[S++]=20971520,_[S++]=20971520,b.bits=1,0;for(U=1;U<oe&&ce[U]===0;U++);for(J<U&&(J=U),I=le=1;I<=15;I++)if(le<<=1,(le-=ce[I])<0)return-1;if(0<le&&(m===0||oe!==1))return-1;for(pe[1]=0,I=1;I<15;I++)pe[I+1]=pe[I]+ce[I];for($=0;$<g;$++)y[x+$]!==0&&(M[pe[y[x+$]]++]=$);if(G=m===0?(V=me=M,19):m===1?(V=o,re-=257,me=l,Ee-=257,256):(V=u,me=d,-1),I=U,H=S,te=$=Z=0,D=-1,k=(Me=1<<(ae=J))-1,m===1&&852<Me||m===2&&592<Me)return 1;for(;;){for(X=I-te,z=M[$]<G?(O=0,M[$]):M[$]>G?(O=me[Ee+M[$]],V[re+M[$]]):(O=96,0),E=1<<I-te,U=C=1<<ae;_[H+(Z>>te)+(C-=E)]=X<<24|O<<16|z|0,C!==0;);for(E=1<<I-1;Z&E;)E>>=1;if(E!==0?(Z&=E-1,Z+=E):Z=0,$++,--ce[I]==0){if(I===oe)break;I=y[x+M[$]]}if(J<I&&(Z&k)!==D){for(te===0&&(te=J),H+=U,le=1<<(ae=I-te);ae+te<oe&&!((le-=ce[ae+te])<=0);)ae++,le<<=1;if(Me+=1<<ae,m===1&&852<Me||m===2&&592<Me)return 1;_[D=Z&k]=J<<24|ae<<16|H-S|0}}return Z!==0&&(_[H+Z]=I-te<<24|64<<16|0),b.bits=J,0}},{"../utils/common":41}],51:[function(t,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,a){var r=t("../utils/common"),o=0,l=1;function u(ue){for(var ie=ue.length;0<=--ie;)ue[ie]=0}var d=0,m=29,y=256,x=y+1+m,g=30,_=19,S=2*x+1,M=15,b=16,E=7,C=256,D=16,k=17,H=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(x+2));u(q);var I=new Array(2*g);u(I);var $=new Array(512);u($);var U=new Array(256);u(U);var oe=new Array(m);u(oe);var J,ae,te,le=new Array(g);function Me(ue,ie,Re,Pe,ge){this.static_tree=ue,this.extra_bits=ie,this.extra_base=Re,this.elems=Pe,this.max_length=ge,this.has_stree=ue&&ue.length}function Z(ue,ie){this.dyn_tree=ue,this.max_code=0,this.stat_desc=ie}function V(ue){return ue<256?$[ue]:$[256+(ue>>>7)]}function re(ue,ie){ue.pending_buf[ue.pending++]=255&ie,ue.pending_buf[ue.pending++]=ie>>>8&255}function ce(ue,ie,Re){ue.bi_valid>b-Re?(ue.bi_buf|=ie<<ue.bi_valid&65535,re(ue,ue.bi_buf),ue.bi_buf=ie>>b-ue.bi_valid,ue.bi_valid+=Re-b):(ue.bi_buf|=ie<<ue.bi_valid&65535,ue.bi_valid+=Re)}function pe(ue,ie,Re){ce(ue,Re[2*ie],Re[2*ie+1])}function me(ue,ie){for(var Re=0;Re|=1&ue,ue>>>=1,Re<<=1,0<--ie;);return Re>>>1}function Ee(ue,ie,Re){var Pe,ge,se=new Array(M+1),ee=0;for(Pe=1;Pe<=M;Pe++)se[Pe]=ee=ee+Re[Pe-1]<<1;for(ge=0;ge<=ie;ge++){var Ae=ue[2*ge+1];Ae!==0&&(ue[2*ge]=me(se[Ae]++,Ae))}}function Ue(ue){var ie;for(ie=0;ie<x;ie++)ue.dyn_ltree[2*ie]=0;for(ie=0;ie<g;ie++)ue.dyn_dtree[2*ie]=0;for(ie=0;ie<_;ie++)ue.bl_tree[2*ie]=0;ue.dyn_ltree[2*C]=1,ue.opt_len=ue.static_len=0,ue.last_lit=ue.matches=0}function ze(ue){8<ue.bi_valid?re(ue,ue.bi_buf):0<ue.bi_valid&&(ue.pending_buf[ue.pending++]=ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0}function We(ue,ie,Re,Pe){var ge=2*ie,se=2*Re;return ue[ge]<ue[se]||ue[ge]===ue[se]&&Pe[ie]<=Pe[Re]}function at(ue,ie,Re){for(var Pe=ue.heap[Re],ge=Re<<1;ge<=ue.heap_len&&(ge<ue.heap_len&&We(ie,ue.heap[ge+1],ue.heap[ge],ue.depth)&&ge++,!We(ie,Pe,ue.heap[ge],ue.depth));)ue.heap[Re]=ue.heap[ge],Re=ge,ge<<=1;ue.heap[Re]=Pe}function Ct(ue,ie,Re){var Pe,ge,se,ee,Ae=0;if(ue.last_lit!==0)for(;Pe=ue.pending_buf[ue.d_buf+2*Ae]<<8|ue.pending_buf[ue.d_buf+2*Ae+1],ge=ue.pending_buf[ue.l_buf+Ae],Ae++,Pe===0?pe(ue,ge,ie):(pe(ue,(se=U[ge])+y+1,ie),(ee=G[se])!==0&&ce(ue,ge-=oe[se],ee),pe(ue,se=V(--Pe),Re),(ee=X[se])!==0&&ce(ue,Pe-=le[se],ee)),Ae<ue.last_lit;);pe(ue,C,ie)}function gt(ue,ie){var Re,Pe,ge,se=ie.dyn_tree,ee=ie.stat_desc.static_tree,Ae=ie.stat_desc.has_stree,je=ie.stat_desc.elems,Ge=-1;for(ue.heap_len=0,ue.heap_max=S,Re=0;Re<je;Re++)se[2*Re]!==0?(ue.heap[++ue.heap_len]=Ge=Re,ue.depth[Re]=0):se[2*Re+1]=0;for(;ue.heap_len<2;)se[2*(ge=ue.heap[++ue.heap_len]=Ge<2?++Ge:0)]=1,ue.depth[ge]=0,ue.opt_len--,Ae&&(ue.static_len-=ee[2*ge+1]);for(ie.max_code=Ge,Re=ue.heap_len>>1;1<=Re;Re--)at(ue,se,Re);for(ge=je;Re=ue.heap[1],ue.heap[1]=ue.heap[ue.heap_len--],at(ue,se,1),Pe=ue.heap[1],ue.heap[--ue.heap_max]=Re,ue.heap[--ue.heap_max]=Pe,se[2*ge]=se[2*Re]+se[2*Pe],ue.depth[ge]=(ue.depth[Re]>=ue.depth[Pe]?ue.depth[Re]:ue.depth[Pe])+1,se[2*Re+1]=se[2*Pe+1]=ge,ue.heap[1]=ge++,at(ue,se,1),2<=ue.heap_len;);ue.heap[--ue.heap_max]=ue.heap[1],(function(Be,mt){var yt,Mt,jt,Ke,st,Dt,De=mt.dyn_tree,qe=mt.max_code,St=mt.stat_desc.static_tree,Ne=mt.stat_desc.has_stree,xt=mt.stat_desc.extra_bits,Tt=mt.stat_desc.extra_base,bt=mt.stat_desc.max_length,ot=0;for(Ke=0;Ke<=M;Ke++)Be.bl_count[Ke]=0;for(De[2*Be.heap[Be.heap_max]+1]=0,yt=Be.heap_max+1;yt<S;yt++)bt<(Ke=De[2*De[2*(Mt=Be.heap[yt])+1]+1]+1)&&(Ke=bt,ot++),De[2*Mt+1]=Ke,qe<Mt||(Be.bl_count[Ke]++,st=0,Tt<=Mt&&(st=xt[Mt-Tt]),Dt=De[2*Mt],Be.opt_len+=Dt*(Ke+st),Ne&&(Be.static_len+=Dt*(St[2*Mt+1]+st)));if(ot!==0){do{for(Ke=bt-1;Be.bl_count[Ke]===0;)Ke--;Be.bl_count[Ke]--,Be.bl_count[Ke+1]+=2,Be.bl_count[bt]--,ot-=2}while(0<ot);for(Ke=bt;Ke!==0;Ke--)for(Mt=Be.bl_count[Ke];Mt!==0;)qe<(jt=Be.heap[--yt])||(De[2*jt+1]!==Ke&&(Be.opt_len+=(Ke-De[2*jt+1])*De[2*jt],De[2*jt+1]=Ke),Mt--)}})(ue,ie),Ee(se,Ge,ue.bl_count)}function W(ue,ie,Re){var Pe,ge,se=-1,ee=ie[1],Ae=0,je=7,Ge=4;for(ee===0&&(je=138,Ge=3),ie[2*(Re+1)+1]=65535,Pe=0;Pe<=Re;Pe++)ge=ee,ee=ie[2*(Pe+1)+1],++Ae<je&&ge===ee||(Ae<Ge?ue.bl_tree[2*ge]+=Ae:ge!==0?(ge!==se&&ue.bl_tree[2*ge]++,ue.bl_tree[2*D]++):Ae<=10?ue.bl_tree[2*k]++:ue.bl_tree[2*H]++,se=ge,Ge=(Ae=0)===ee?(je=138,3):ge===ee?(je=6,3):(je=7,4))}function j(ue,ie,Re){var Pe,ge,se=-1,ee=ie[1],Ae=0,je=7,Ge=4;for(ee===0&&(je=138,Ge=3),Pe=0;Pe<=Re;Pe++)if(ge=ee,ee=ie[2*(Pe+1)+1],!(++Ae<je&&ge===ee)){if(Ae<Ge)for(;pe(ue,ge,ue.bl_tree),--Ae!=0;);else ge!==0?(ge!==se&&(pe(ue,ge,ue.bl_tree),Ae--),pe(ue,D,ue.bl_tree),ce(ue,Ae-3,2)):Ae<=10?(pe(ue,k,ue.bl_tree),ce(ue,Ae-3,3)):(pe(ue,H,ue.bl_tree),ce(ue,Ae-11,7));se=ge,Ge=(Ae=0)===ee?(je=138,3):ge===ee?(je=6,3):(je=7,4)}}u(le);var xe=!1;function de(ue,ie,Re,Pe){ce(ue,(d<<1)+(Pe?1:0),3),(function(ge,se,ee,Ae){ze(ge),re(ge,ee),re(ge,~ee),r.arraySet(ge.pending_buf,ge.window,se,ee,ge.pending),ge.pending+=ee})(ue,ie,Re)}a._tr_init=function(ue){xe||((function(){var ie,Re,Pe,ge,se,ee=new Array(M+1);for(ge=Pe=0;ge<m-1;ge++)for(oe[ge]=Pe,ie=0;ie<1<<G[ge];ie++)U[Pe++]=ge;for(U[Pe-1]=ge,ge=se=0;ge<16;ge++)for(le[ge]=se,ie=0;ie<1<<X[ge];ie++)$[se++]=ge;for(se>>=7;ge<g;ge++)for(le[ge]=se<<7,ie=0;ie<1<<X[ge]-7;ie++)$[256+se++]=ge;for(Re=0;Re<=M;Re++)ee[Re]=0;for(ie=0;ie<=143;)q[2*ie+1]=8,ie++,ee[8]++;for(;ie<=255;)q[2*ie+1]=9,ie++,ee[9]++;for(;ie<=279;)q[2*ie+1]=7,ie++,ee[7]++;for(;ie<=287;)q[2*ie+1]=8,ie++,ee[8]++;for(Ee(q,x+1,ee),ie=0;ie<g;ie++)I[2*ie+1]=5,I[2*ie]=me(ie,5);J=new Me(q,G,y+1,x,M),ae=new Me(I,X,0,g,M),te=new Me(new Array(0),O,0,_,E)})(),xe=!0),ue.l_desc=new Z(ue.dyn_ltree,J),ue.d_desc=new Z(ue.dyn_dtree,ae),ue.bl_desc=new Z(ue.bl_tree,te),ue.bi_buf=0,ue.bi_valid=0,Ue(ue)},a._tr_stored_block=de,a._tr_flush_block=function(ue,ie,Re,Pe){var ge,se,ee=0;0<ue.level?(ue.strm.data_type===2&&(ue.strm.data_type=(function(Ae){var je,Ge=4093624447;for(je=0;je<=31;je++,Ge>>>=1)if(1&Ge&&Ae.dyn_ltree[2*je]!==0)return o;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return l;for(je=32;je<y;je++)if(Ae.dyn_ltree[2*je]!==0)return l;return o})(ue)),gt(ue,ue.l_desc),gt(ue,ue.d_desc),ee=(function(Ae){var je;for(W(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),W(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),gt(Ae,Ae.bl_desc),je=_-1;3<=je&&Ae.bl_tree[2*z[je]+1]===0;je--);return Ae.opt_len+=3*(je+1)+5+5+4,je})(ue),ge=ue.opt_len+3+7>>>3,(se=ue.static_len+3+7>>>3)<=ge&&(ge=se)):ge=se=Re+5,Re+4<=ge&&ie!==-1?de(ue,ie,Re,Pe):ue.strategy===4||se===ge?(ce(ue,2+(Pe?1:0),3),Ct(ue,q,I)):(ce(ue,4+(Pe?1:0),3),(function(Ae,je,Ge,Be){var mt;for(ce(Ae,je-257,5),ce(Ae,Ge-1,5),ce(Ae,Be-4,4),mt=0;mt<Be;mt++)ce(Ae,Ae.bl_tree[2*z[mt]+1],3);j(Ae,Ae.dyn_ltree,je-1),j(Ae,Ae.dyn_dtree,Ge-1)})(ue,ue.l_desc.max_code+1,ue.d_desc.max_code+1,ee+1),Ct(ue,ue.dyn_ltree,ue.dyn_dtree)),Ue(ue),Pe&&ze(ue)},a._tr_tally=function(ue,ie,Re){return ue.pending_buf[ue.d_buf+2*ue.last_lit]=ie>>>8&255,ue.pending_buf[ue.d_buf+2*ue.last_lit+1]=255&ie,ue.pending_buf[ue.l_buf+ue.last_lit]=255&Re,ue.last_lit++,ie===0?ue.dyn_ltree[2*Re]++:(ue.matches++,ie--,ue.dyn_ltree[2*(U[Re]+y+1)]++,ue.dyn_dtree[2*V(ie)]++),ue.last_lit===ue.lit_bufsize-1},a._tr_align=function(ue){ce(ue,2,3),pe(ue,C,q),(function(ie){ie.bi_valid===16?(re(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)})(ue)}},{"../utils/common":41}],53:[function(t,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,a){(function(r){(function(o,l){if(!o.setImmediate){var u,d,m,y,x=1,g={},_=!1,S=o.document,M=Object.getPrototypeOf&&Object.getPrototypeOf(o);M=M&&M.setTimeout?M:o,u={}.toString.call(o.process)==="[object process]"?function(D){process.nextTick(function(){E(D)})}:(function(){if(o.postMessage&&!o.importScripts){var D=!0,k=o.onmessage;return o.onmessage=function(){D=!1},o.postMessage("","*"),o.onmessage=k,D}})()?(y="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",C,!1):o.attachEvent("onmessage",C),function(D){o.postMessage(y+D,"*")}):o.MessageChannel?((m=new MessageChannel).port1.onmessage=function(D){E(D.data)},function(D){m.port2.postMessage(D)}):S&&"onreadystatechange"in S.createElement("script")?(d=S.documentElement,function(D){var k=S.createElement("script");k.onreadystatechange=function(){E(D),k.onreadystatechange=null,d.removeChild(k),k=null},d.appendChild(k)}):function(D){setTimeout(E,0,D)},M.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var k=new Array(arguments.length-1),H=0;H<k.length;H++)k[H]=arguments[H+1];var G={callback:D,args:k};return g[x]=G,u(x),x++},M.clearImmediate=b}function b(D){delete g[D]}function E(D){if(_)setTimeout(E,0,D);else{var k=g[D];if(k){_=!0;try{(function(H){var G=H.callback,X=H.args;switch(X.length){case 0:G();break;case 1:G(X[0]);break;case 2:G(X[0],X[1]);break;case 3:G(X[0],X[1],X[2]);break;default:G.apply(l,X)}})(k)}finally{b(D),_=!1}}}}function C(D){D.source===o&&typeof D.data=="string"&&D.data.indexOf(y)===0&&E(+D.data.slice(y.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof dx<"u"?dx:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(M5)),M5.exports}var zk=Uk();const Bk=lg(zk),jk=`{
  "name": "clickup-clone-gemini",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "license": "MIT",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "preview": "vite preview"
  },
  "dependencies": {
    "@google/genai": "^1.30.0",
    "lucide-react": "^0.344.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "jszip": "^3.10.1"
  },
  "devDependencies": {
    "@types/react": "^19.2.0",
    "@types/react-dom": "^19.2.0",
    "@vitejs/plugin-react": "^4.2.1",
    "autoprefixer": "^10.4.18",
    "postcss": "^8.4.35",
    "tailwindcss": "^3.4.1",
    "typescript": "^5.2.2",
    "vite": "^5.1.4"
  }
}`,Fk=`MIT License

Copyright (c) 2024 ClickUp Clone Generator

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.`,Vk=`{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}`,Hk=`{
  "compilerOptions": {
    "composite": true,
    "skipLibCheck": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}`,qk=`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
})`,Gk=`/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        clickup: {
          purple: '#7b68ee',
          dark: '#292d34',
          light: '#f7f8f9',
          sidebar: '#1e2126',
          hover: '#363a43',
          border: '#e9ebf0',
          text: '#292d34',
          textLight: '#87909e',
        },
        priority: {
          urgent: '#e44356',
          high: '#ffcc00',
          normal: '#6fddff',
          low: '#87909e',
        }
      },
      fontFamily: {
        sans: ['Inter', 'Segoe UI', 'Helvetica', 'Arial', 'sans-serif'],
      }
    },
  },
  plugins: [],
}`,Wk=`export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}`,Xk=`<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ClickUp Clone</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"><\/script>
  </body>
</html>`,Yk=`# ClickUp Clone with Gemini AI

This is a high-fidelity clone of the ClickUp UI featuring List and Board views, task management, and an integrated AI Brain powered by Google Gemini.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Getting Started

1.  Install dependencies:
    \`\`\`bash
    npm install
    \`\`\`

2.  Create a \`.env.local\` file in the root directory and add your Gemini API key:
    \`\`\`
    VITE_GEMINI_API_KEY=your_api_key_here
    \`\`\`
    *(Note: You may need to update \`geminiService.ts\` to use \`import.meta.env.VITE_GEMINI_API_KEY\` instead of \`process.env.API_KEY\` for Vite compatibility).*

3.  Run the development server:
    \`\`\`bash
    npm run dev
    \`\`\`

## Features

*   **Task Management**: List and Kanban Board views.
*   **AI Brain**: Integrated Gemini AI for task summarization and Q&A.
*   **Mock Backend**: LocalStorage persistence with simulated latency.
*   **Responsive Design**: Tailwind CSS styling matching ClickUp's aesthetic.
`,$k=`@tailwind base;
@tailwind components;
@tailwind utilities;

body { font-family: 'Inter', sans-serif; }

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}`,Kk=async()=>{const i=new Bk;i.file("package.json",jk),i.file("LICENSE",Fk),i.file("tsconfig.json",Vk),i.file("tsconfig.node.json",Hk),i.file("vite.config.ts",qk),i.file("tailwind.config.js",Gk),i.file("postcss.config.js",Wk),i.file("index.html",Xk),i.file("README.md",Yk);const e=i.folder("src");if(!e)return;e.file("index.css",$k),e.file("App.tsx",`import React, { useState, useEffect, useMemo } from 'react';
import Sidebar from './components/Sidebar';
import Header from './components/Header';
import TaskListView from './components/TaskListView';
import TaskBoardView from './components/TaskBoardView';
import BrainModal from './components/BrainModal';
import { ViewType, Task, Status } from './types';
import { ToastProvider, useToast } from './components/Toast';
import { api } from './services/api';
import { Target, Layout } from 'lucide-react';

const PlaceholderView: React.FC<{ icon: React.ReactNode; title: string; description: string }> = ({ icon, title, description }) => (
  <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50">
    <div className="mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple">
      {React.isValidElement(icon) ? React.cloneElement(icon as React.ReactElement<any>, { size: 64 }) : icon}
    </div>
    <h3 className="text-xl font-bold text-gray-800 mb-2">{title}</h3>
    <p className="text-gray-500 max-w-md text-center">{description}</p>
  </div>
);

const AppContent: React.FC = () => {
  const [currentView, setCurrentView] = useState<ViewType>('list');
  const [activePage, setActivePage] = useState('frontend');
  const [tasks, setTasks] = useState<Task[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isBrainOpen, setIsBrainOpen] = useState(false);
  const { showToast } = useToast();

  useEffect(() => {
    fetchTasks();
  }, []);

  const fetchTasks = async () => {
    try {
      setIsLoading(true);
      const data = await api.getTasks();
      setTasks(data);
    } catch (error) {
      showToast('Failed to load tasks from backend', 'error');
    } finally {
      setIsLoading(false);
    }
  };

  const handleStatusChange = async (taskId: string, newStatus: Status) => {
    const previousTasks = [...tasks];
    setTasks(prev => prev.map(t => 
      t.id === taskId ? { ...t, status: newStatus } : t
    ));

    try {
      await api.updateTask(taskId, { status: newStatus });
    } catch (error) {
      setTasks(previousTasks);
      showToast('Failed to update task status', 'error');
    }
  };

  const handleQuickCreate = async () => {
    const title = prompt("Enter task title:");
    if (!title) return;

    showToast('Creating task...', 'info');
    try {
      const newTask = await api.createTask({
        title,
        status: Status.Todo,
        priority: 'None' as any,
        assignees: [],
        tags: activePage === 'backend' ? ['Backend'] : [],
        description: ''
      });
      setTasks(prev => [...prev, newTask]);
      showToast('Task created successfully', 'success');
    } catch (e) {
      showToast('Failed to create task', 'error');
    }
  };

  const filteredTasks = useMemo(() => {
    switch (activePage) {
      case 'inbox':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.assignees.length === 0);
      case 'home':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.priority === 'Urgent');
      case 'backend':
        return tasks.filter(t => t.tags.includes('Backend') || t.tags.includes('API') || t.tags.includes('Auth'));
      case 'sprints':
        return tasks.filter(t => t.tags.includes('Feature') || t.tags.includes('Bug'));
      case 'frontend':
      default:
        return tasks;
    }
  }, [tasks, activePage]);

  const getPageTitle = () => {
    const map: Record<string, string> = {
      home: 'Home',
      inbox: 'Inbox',
      sprints: 'Engineering / Sprints',
      frontend: 'Engineering / Frontend App',
      backend: 'Engineering / Backend API',
      overview: 'Dashboards / Overview',
      goals: 'Dashboards / Goals'
    };
    return map[activePage] || 'Space';
  };

  return (
    <div className="flex h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900">
      <Sidebar 
        activePage={activePage} 
        onNavigate={setActivePage} 
      />
      
      <div className="flex flex-col flex-1 min-w-0 bg-white">
        <Header 
          currentView={currentView} 
          setCurrentView={setCurrentView} 
          onOpenBrain={() => setIsBrainOpen(true)}
          pageTitle={getPageTitle()}
        />

        <div className="flex-1 flex flex-col min-h-0 relative">
          {['overview'].includes(activePage) && (
             <PlaceholderView 
                icon={<Layout />} 
                title="Overview Dashboard" 
                description="Track high-level metrics and project health here. This module is currently being built." 
             />
          )}
          
          {['goals'].includes(activePage) && (
             <PlaceholderView 
                icon={<Target />} 
                title="Goals & OKRs" 
                description="Set, track, and achieve your team's goals. This feature is coming in the next release." 
             />
          )}

          {!['overview', 'goals'].includes(activePage) && (
            <>
              {currentView === 'list' && (
                <TaskListView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onStatusChange={handleStatusChange} 
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'board' && (
                <TaskBoardView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'calendar' && (
                <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500">
                    <div className="text-6xl mb-6 bg-gray-50 p-8 rounded-full"></div>
                    <h3 className="text-lg font-semibold text-gray-700 mb-2">Calendar View</h3>
                    <p className="text-sm text-gray-500">This view is currently under construction.</p>
                    <button className="mt-6 px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors">
                      Vote for this feature
                    </button>
                </div>
              )}
            </>
          )}
        </div>
      </div>

      <BrainModal 
        isOpen={isBrainOpen} 
        onClose={() => setIsBrainOpen(false)} 
        tasks={tasks}
      />
    </div>
  );
};

const App: React.FC = () => {
  return (
    <ToastProvider>
      <AppContent />
    </ToastProvider>
  );
};

export default App;`),e.file("index.tsx",`import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);`),e.file("types.ts",`export enum Priority {
  Urgent = 'Urgent',
  High = 'High',
  Normal = 'Normal',
  Low = 'Low',
  None = 'None'
}

export enum Status {
  Todo = 'To do',
  InProgress = 'In Progress',
  Review = 'Review',
  Complete = 'Complete'
}

export interface User {
  id: string;
  name: string;
  avatar: string;
  color: string;
}

export interface Task {
  id: string;
  title: string;
  status: Status;
  priority: Priority;
  assignees: User[];
  dueDate?: string;
  tags: string[];
  description?: string;
}

export type ViewType = 'list' | 'board' | 'calendar';

export const STATUS_COLORS: Record<Status, string> = {
  [Status.Todo]: '#87909e',
  [Status.InProgress]: '#3b82f6',
  [Status.Review]: '#eab308',
  [Status.Complete]: '#22c55e',
};

export const PRIORITY_COLORS: Record<Priority, string> = {
  [Priority.Urgent]: '#e44356',
  [Priority.High]: '#ffcc00',
  [Priority.Normal]: '#6fddff',
  [Priority.Low]: '#87909e',
  [Priority.None]: '#d1d5db',
};`);const t=e.folder("services");t&&(t.file("api.ts",`import { Task, Status, Priority } from '../types';
import { MOCK_TASKS } from '../constants';

const STORAGE_KEY = 'clickup_clone_db_v1';
const DELAY_MS = 600;

const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));

const initDB = () => {
  if (typeof window === 'undefined') return;
  const existing = localStorage.getItem(STORAGE_KEY);
  if (!existing) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(MOCK_TASKS));
  }
};

initDB();

export const api = {
  getTasks: async (): Promise<Task[]> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    return data ? JSON.parse(data) : [];
  },

  updateTask: async (taskId: string, updates: Partial<Task>): Promise<Task> => {
    await delay(DELAY_MS / 2);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const index = tasks.findIndex(t => t.id === taskId);
    if (index === -1) throw new Error('Task not found');

    const updatedTask = { ...tasks[index], ...updates };
    tasks[index] = updatedTask;
    
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return updatedTask;
  },

  createTask: async (task: Omit<Task, 'id'>): Promise<Task> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const newId = \`TASK-\${Math.floor(1000 + Math.random() * 9000)}\`;
    
    const newTask: Task = {
      ...task,
      id: newId,
    };
    
    tasks.push(newTask);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return newTask;
  },

  deleteTask: async (taskId: string): Promise<void> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    let tasks: Task[] = data ? JSON.parse(data) : [];
    
    tasks = tasks.filter(t => t.id !== taskId);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
  }
};`),t.file("geminiService.ts",`import { GoogleGenAI, GenerateContentResponse } from "@google/genai";
import { Task } from "../types";

// In local dev, utilize import.meta.env for Vite
const apiKey = process.env.API_KEY || ''; 

const ai = apiKey ? new GoogleGenAI({ apiKey }) : null;

export const generateTaskSummary = async (tasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing. Please check your configuration.";

  const taskListString = tasks.map(t => 
    \`- \${t.title} (Status: \${t.status}, Priority: \${t.priority})\`
  ).join('\\n');

  const prompt = \`
    You are an AI project manager assistant called "ClickUp Brain". 
    Analyze the following tasks and provide a concise, professional summary of the current workload.
    Identify potential bottlenecks based on priority and status.
    Keep it under 100 words.

    Tasks:
    \${taskListString}
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "Could not generate summary.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "Sorry, I encountered an error while analyzing your tasks.";
  }
};

export const chatWithBrain = async (message: string, contextTasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing.";

  const context = JSON.stringify(contextTasks.map(t => ({ title: t.title, status: t.status })));
  
  const prompt = \`
    Context (Current Tasks): \${context}
    
    User Question: \${message}
    
    Answer as "ClickUp Brain", a helpful productivity assistant. Be concise and helpful.
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "No response generated.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "I'm having trouble connecting to the brain right now.";
  }
};`)),e.file("constants.ts",`import { Task, Status, Priority } from './types';

export const MOCK_TASKS: Task[] = [
  {
    id: 'TASK-1023',
    title: 'Implement authentication flow with JWT',
    status: Status.InProgress,
    priority: Priority.High,
    assignees: [
        { id: '1', name: 'Alex', avatar: 'A', color: '#ef4444' },
        { id: '2', name: 'Sam', avatar: 'S', color: '#3b82f6' }
    ],
    dueDate: '2023-11-15',
    tags: ['Backend', 'Auth'],
    description: 'Need to secure the API endpoints.'
  }
];`);const n=e.folder("components");n&&(n.file("Toast.tsx",`import React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';
import { CheckCircle, Info, AlertCircle, X } from 'lucide-react';

interface ToastMessage {
  id: number;
  message: string;
  type: 'info' | 'success' | 'error';
}

interface ToastContextType {
  showToast: (message: string, type?: 'info' | 'success' | 'error') => void;
}

const ToastContext = createContext<ToastContextType | undefined>(undefined);

export const useToast = () => {
  const context = useContext(ToastContext);
  if (!context) {
    return { showToast: (msg: string) => console.log('Toast:', msg) };
  }
  return context;
};

const ToastItem: React.FC<ToastMessage & { onClose: (id: number) => void }> = ({ id, message, type, onClose }) => {
  const bgColors = {
    info: 'bg-gray-900 text-white border-gray-800',
    success: 'bg-emerald-600 text-white border-emerald-700',
    error: 'bg-red-600 text-white border-red-700'
  };
  
  const icons = {
    info: <Info size={18} />,
    success: <CheckCircle size={18} />,
    error: <AlertCircle size={18} />
  };

  return (
    <div className={\`\${bgColors[type]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border\`}>
      <div className="flex-shrink-0">{icons[type]}</div>
      <span className="text-sm font-medium flex-1">{message}</span>
      <button onClick={() => onClose(id)} className="opacity-70 hover:opacity-100 transition-opacity">
        <X size={16} />
      </button>
    </div>
  );
};

export const ToastProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [toasts, setToasts] = useState<ToastMessage[]>([]);
  
  const showToast = useCallback((message: string, type: 'info' | 'success' | 'error' = 'info') => {
    const id = Date.now();
    setToasts(prev => [...prev, { id, message, type }]);
    setTimeout(() => {
      setToasts(prev => prev.filter(t => t.id !== id));
    }, 3000);
  }, []);

  const removeToast = (id: number) => {
    setToasts(prev => prev.filter(t => t.id !== id));
  };

  return (
    <ToastContext.Provider value={{ showToast }}>
      {children}
      <div className="fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto">
        {toasts.map(t => (
          <ToastItem key={t.id} {...t} onClose={removeToast} />
        ))}
      </div>
    </ToastContext.Provider>
  );
};`),n.file("Sidebar.tsx",`import React, { useState, useRef, useEffect } from 'react';
import { 
  Search, Home, Layout, Folder, Hash, MoreHorizontal, 
  ChevronRight, ChevronDown, Plus, Settings, Users, Inbox, Target,
  Download, LogOut, CreditCard, Code
} from 'lucide-react';
import { useToast } from './Toast';
import { api } from '../services/api';
import { downloadProjectSource } from '../utils/projectDownloader';

interface SidebarProps {
  activePage: string;
  onNavigate: (page: string) => void;
}

const Sidebar: React.FC<SidebarProps> = ({ activePage, onNavigate }) => {
  const [spacesExpanded, setSpacesExpanded] = useState(true);
  const [showWorkspaceMenu, setShowWorkspaceMenu] = useState(false);
  const menuRef = useRef<HTMLDivElement>(null);
  const { showToast } = useToast();

  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {
        setShowWorkspaceMenu(false);
      }
    };

    document.addEventListener('mousedown', handleClickOutside);
    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, []);

  const handleNavClick = (pageId: string, message: string) => {
    onNavigate(pageId);
  };

  const handleExport = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Preparing JSON export...', 'info');
    
    try {
      const tasks = await api.getTasks();
      const exportData = {
        exportedAt: new Date().toISOString(),
        appName: "ClickUp Clone",
        version: "1.0.0",
        tasks: tasks
      };
      
      const dataStr = JSON.stringify(exportData, null, 2);
      const blob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = \`clickup_workspace_export_\${new Date().toISOString().slice(0, 10)}.json\`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showToast('Workspace data exported successfully!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to export data', 'error');
    }
  };

  const handleDownloadSource = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Generating project ZIP...', 'info');
    try {
      await downloadProjectSource();
      showToast('Source code downloaded!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to generate ZIP', 'error');
    }
  };

  const getItemClass = (id: string) => {
    return activePage === id 
      ? 'bg-clickup-hover text-white font-medium' 
      : 'hover:bg-clickup-hover hover:text-white';
  };

  const getIconClass = (id: string, defaultColor: string = '') => {
    return activePage === id ? 'text-clickup-purple' : (defaultColor || '');
  };

  return (
    <div className="w-64 bg-clickup-sidebar text-gray-400 flex flex-col h-full border-r border-gray-800 flex-shrink-0 select-none relative">
      
      <div className="relative" ref={menuRef}>
        <div 
          className={\`p-3 border-b border-gray-800 flex items-center justify-between cursor-pointer transition-colors group \${showWorkspaceMenu ? 'bg-clickup-hover' : 'hover:bg-clickup-hover'}\`}
          onClick={() => setShowWorkspaceMenu(!showWorkspaceMenu)}
        >
          <div className="flex items-center space-x-2">
            <div className="w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-md flex items-center justify-center text-white font-bold text-sm shadow-md group-hover:shadow-lg transition-shadow">
              G
            </div>
            <div className="flex flex-col">
              <span className="text-gray-200 text-sm font-semibold leading-tight group-hover:text-white transition-colors">Gemini Corp</span>
              <span className="text-[10px] text-gray-500 group-hover:text-gray-400">Free Plan</span>
            </div>
          </div>
          <Settings size={14} className={\`text-gray-500 group-hover:text-gray-300 transition-all duration-300 \${showWorkspaceMenu ? 'rotate-90 text-white' : ''}\`} />
        </div>

        {showWorkspaceMenu && (
          <div className="absolute top-full left-2 right-2 mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden">
            <div className="px-3 py-2 border-b border-gray-700/50 mb-1">
               <p className="text-xs font-semibold text-white">Gemini Corp</p>
               <p className="text-[10px] text-gray-500">owner@example.com</p>
            </div>
            
            <div className="px-1 space-y-0.5">
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Settings size={14} />
                    <span>Settings</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Users size={14} />
                    <span>Members</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <CreditCard size={14} />
                    <span>Billing</span>
                </button>
            </div>

            <div className="h-[1px] bg-gray-700/50 mx-2 my-1.5"></div>

            <div className="px-1 space-y-0.5">
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleExport}
                >
                    <Download size={14} />
                    <span>Export Data (JSON)</span>
                </button>
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleDownloadSource}
                >
                    <Code size={14} />
                    <span>Download Source</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left">
                    <LogOut size={14} />
                    <span>Logout</span>
                </button>
            </div>
          </div>
        )}
      </div>

      <div className="px-3 py-2 space-y-0.5">
        <div 
          className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm group transition-colors"
          onClick={() => showToast('Global Search activated', 'info')}
        >
          <Search size={16} className="group-hover:text-white transition-colors" />
          <span className="group-hover:text-white transition-colors">Search</span>
          <span className="ml-auto text-[10px] bg-gray-800 px-1.5 py-0.5 rounded border border-gray-700 text-gray-500 group-hover:border-gray-600">Cmd K</span>
        </div>
        
        <div 
          className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('home')}\`}
          onClick={() => handleNavClick('home', 'Navigated to Home')}
        >
          <Home size={16} className={getIconClass('home')} />
          <span>Home</span>
        </div>
        
        <div 
           className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('inbox')}\`}
           onClick={() => handleNavClick('inbox', 'Navigated to Inbox')}
        >
          <Inbox size={16} className={activePage === 'inbox' ? 'text-blue-400' : ''} />
          <span>Inbox</span>
        </div>
      </div>

      <div className="h-[1px] bg-gray-800 mx-3 my-1 opacity-50"></div>

      <div className="flex-1 overflow-y-auto px-3 py-2 custom-scrollbar">
        <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6">
            <span onClick={() => setSpacesExpanded(!spacesExpanded)}>Spaces</span>
            <div className="flex items-center space-x-1">
               <Plus size={14} className="opacity-0 group-hover:opacity-100 hover:text-white transition-opacity" onClick={(e) => { e.stopPropagation(); showToast('Create new Space', 'info'); }} />
               <div onClick={() => setSpacesExpanded(!spacesExpanded)}>
                {spacesExpanded ? <ChevronDown size={14} /> : <ChevronRight size={14} />}
               </div>
            </div>
          </div>

          {spacesExpanded && (
            <div className="space-y-0.5 animate-in slide-in-from-top-2 duration-200">
              <div className="group">
                <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors">
                  <div className="w-1.5 h-1.5 rounded-full bg-blue-500"></div>
                  <span className="flex-1 truncate font-medium">Engineering</span>
                  <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
                </div>
                <div className="ml-3 pl-3 border-l border-gray-800 mt-0.5 space-y-0.5">
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('sprints')}\`}
                    onClick={() => handleNavClick('sprints', 'Viewing Sprints')}
                  >
                    <Folder size={14} className={activePage === 'sprints' ? 'text-blue-400' : 'text-gray-500'} />
                    <span>Sprints</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('frontend')}\`}
                    onClick={() => handleNavClick('frontend', 'Viewing Frontend App')}
                  >
                    <Hash size={14} className={getIconClass('frontend', 'text-gray-500')} />
                    <span className="truncate">Frontend App</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('backend')}\`}
                    onClick={() => handleNavClick('backend', 'Viewing Backend API')}
                  >
                    <Hash size={14} className={getIconClass('backend', 'text-gray-500')} />
                    <span className="truncate">Backend API</span>
                  </div>
                </div>
              </div>

              <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-green-500"></div>
                <span className="flex-1 truncate font-medium">Design</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>

               <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-orange-500"></div>
                <span className="flex-1 truncate font-medium">Marketing</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>
            </div>
          )}
        </div>

         <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group">
             <span>Dashboards</span>
             <Plus size={14} className="cursor-pointer hover:text-white opacity-0 group-hover:opacity-100 transition-opacity" onClick={() => showToast('New Dashboard', 'info')} />
          </div>
          <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('overview')}\`}
            onClick={() => handleNavClick('overview', 'Dashboards Overview')}
          >
             <Layout size={14} />
             <span>Overview</span>
          </div>
           <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('goals')}\`}
            onClick={() => handleNavClick('goals', 'Goals Dashboard')}
          >
             <Target size={14} />
             <span>Goals</span>
          </div>
        </div>
      </div>

      <div className="p-3 border-t border-gray-800">
         <div 
            className="bg-gradient-to-r from-clickup-purple to-indigo-600 rounded-md p-2 text-white flex items-center justify-center space-x-2 cursor-pointer hover:brightness-110 transition-all active:scale-95"
            onClick={() => showToast('Invite dialog opened', 'info')}
         >
            <Users size={14} />
            <span className="text-sm font-medium">Invite Team</span>
         </div>
      </div>
    </div>
  );
};

export default Sidebar;`),n.file("Header.tsx",`import React from 'react';
import { 
  List, Kanban, Calendar, ChevronDown, Filter, 
  ArrowDownUp, BrainCircuit, Search, Share2
} from 'lucide-react';
import { ViewType } from '../types';
import { useToast } from './Toast';

interface HeaderProps {
  currentView: ViewType;
  setCurrentView: (view: ViewType) => void;
  onOpenBrain: () => void;
  pageTitle: string;
}

const Header: React.FC<HeaderProps> = ({ currentView, setCurrentView, onOpenBrain, pageTitle }) => {
  const { showToast } = useToast();

  return (
    <header className="h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none">
      <div className="flex items-center h-full">
        <div className="flex items-center mr-4 pr-4 border-r border-gray-200 h-6">
          <span 
            className="text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors"
            onClick={() => showToast('Breadcrumb navigation', 'info')}
          >
            {pageTitle} <ChevronDown size={12} className="ml-1 text-gray-400" />
          </span>
        </div>

        <div className="flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg">
          <button 
            onClick={() => setCurrentView('list')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'list' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <List size={14} />
            <span>List</span>
          </button>
          <button 
            onClick={() => setCurrentView('board')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'board' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Kanban size={14} />
            <span>Board</span>
          </button>
           <button 
            onClick={() => setCurrentView('calendar')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'calendar' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Calendar size={14} />
            <span>Calendar</span>
          </button>
          
          <button 
            className="flex items-center space-x-1 px-2 py-1 text-xs text-gray-400 hover:text-gray-700 hover:bg-gray-200/50 rounded transition-colors ml-1"
            onClick={() => showToast('Add View menu', 'info')}
          >
            <ChevronDown size={12} />
            <span>View</span>
          </button>
        </div>
      </div>

      <div className="flex items-center space-x-3">
        <button 
          onClick={onOpenBrain}
          className="group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95"
        >
          <BrainCircuit size={16} className="text-clickup-purple group-hover:rotate-12 transition-transform" />
          <span className="text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent">
            Ask AI
          </span>
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>
        
        <div className="flex items-center space-x-1 text-gray-500">
             <div className="relative group">
                <div 
                    className="flex -space-x-2 cursor-pointer hover:scale-105 transition-transform" 
                    onClick={() => showToast('Manage Assignees', 'info')}
                >
                    <div className="w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">A</div>
                    <div className="w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">S</div>
                    <div className="w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold">+</div>
                </div>
             </div>
        </div>
        
        <button 
            className="p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors"
            onClick={() => showToast('Share view options', 'info')}
        >
            <Share2 size={16} />
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>

        <div className="flex items-center space-x-1 text-gray-500">
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Filter menu', 'info')}
            >
                <Filter size={14} />
                <span className="hidden md:inline">Filter</span>
            </button>
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Sort menu', 'info')}
            >
                <ArrowDownUp size={14} />
                 <span className="hidden md:inline">Sort</span>
            </button>
        </div>

        <div className="flex items-center border border-gray-200 rounded-md px-2 py-1.5 bg-gray-50 focus-within:bg-white focus-within:border-clickup-purple focus-within:ring-1 focus-within:ring-purple-100 transition-all w-40 md:w-56">
             <Search size={14} className="text-gray-400" />
             <input 
                type="text" 
                placeholder="Search tasks..." 
                className="bg-transparent border-none outline-none text-xs ml-2 w-full text-gray-700 placeholder-gray-400"
                onKeyDown={(e) => e.key === 'Enter' && showToast('Searching tasks...', 'info')}
             />
        </div>
      </div>
    </header>
  );
};

export default Header;`));const a=await i.generateAsync({type:"blob"}),r=URL.createObjectURL(a),o=document.createElement("a");o.href=r,o.download="clickup-clone-source.zip",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)},T5=["#EF4444","#F97316","#F59E0B","#10B981","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#EC4899","#6B7280"],Zk=({isOpen:i,onClose:e,onCreate:t})=>{const[n,a]=Te.useState(""),[r,o]=Te.useState(T5[5]);if(!i)return null;const l=u=>{u.preventDefault(),n.trim()&&(t(n,r),a(""),o(T5[5]),e())};return A.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[A.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Create Private Room"}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:A.jsx(Ph,{size:20})})]}),A.jsxs("form",{onSubmit:l,className:"p-6 space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Name"}),A.jsx("input",{type:"text",value:n,onChange:u=>a(u.target.value),placeholder:"e.g., Personal Tasks, Project X",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",autoFocus:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Color"}),A.jsx("div",{className:"flex flex-wrap gap-3",children:T5.map(u=>A.jsx("button",{type:"button",onClick:()=>o(u),className:`w-8 h-8 rounded-full flex items-center justify-center transition-transform hover:scale-110 ${r===u?"ring-2 ring-offset-2 ring-gray-400 scale-110":""}`,style:{backgroundColor:u},children:r===u&&A.jsx(x1,{size:14,className:"text-white"})},u))})]}),A.jsxs("div",{className:"flex justify-end pt-2",children:[A.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg mr-2 transition-colors",children:"Cancel"}),A.jsx("button",{type:"submit",disabled:!n.trim(),className:`px-6 py-2 text-sm font-medium text-white rounded-lg transition-all ${n.trim()?"bg-blue-600 hover:bg-blue-700 shadow-md hover:shadow-lg":"bg-gray-300 cursor-not-allowed"}`,children:"Create Room"})]})]})]})})};var b_=(i=>(i.Urgent="Urgent",i.High="High",i.Normal="Normal",i.Low="Low",i.None="None",i))(b_||{}),lm=(i=>(i.Todo="To do",i.InProgress="In Progress",i.Review="Review",i.Complete="Complete",i))(lm||{});const Qg={departments:!0,smartTools:!0,marketplace:!0,inbox:!0,discussion:!0,overview:!0,goals:!0,reminders:!0,tasks:!0,vault:!0,teams:!0,"supply-chain":!0,"supply-chain/procurement":!0,"supply-chain/warehouse":!0,"supply-chain/shipping":!0,"supply-chain/planning":!0,"supply-chain/fleet":!0,"supply-chain/vendors":!0,operations:!0,"operations/maintenance":!0,"operations/production":!0,"operations/quality":!0,business:!0,"business/sales":!0,"business/finance":!0,support:!0,"support/it":!0,"support/hr":!0,"support/marketing":!0,"smart-tools/mind-map":!0,"smart-tools/dashboard":!0,"marketplace/local":!0,"marketplace/foreign":!0},lte={"To do":"#87909e","In Progress":"#3b82f6",Review:"#eab308",Complete:"#22c55e"},cte={Urgent:"#e44356",High:"#ffcc00",Normal:"#6fddff",Low:"#87909e",None:"#d1d5db"},E5=py(),Pf={login:async(i,e)=>{await new Promise(t=>setTimeout(t,800));try{const n=await(await fetch(`${E5}/users?email=${encodeURIComponent(i)}&password=${encodeURIComponent(e)}`)).json();if(n&&n.length>0){const a=n[0];return localStorage.setItem("clickup_user",JSON.stringify(a)),a}}catch(t){console.warn("Backend login failed, trying mock users:",t);const n=u4.find(a=>a.email===i&&a.password===e);if(n)return localStorage.setItem("clickup_user",JSON.stringify(n)),n}return null},logout:()=>{localStorage.removeItem("clickup_user")},getCurrentUser:()=>{const i=localStorage.getItem("clickup_user");return i?JSON.parse(i):null},updateCurrentUser:async i=>{const e=Pf.getCurrentUser();if(!e)return null;const t={...e,...i};localStorage.setItem("clickup_user",JSON.stringify(t));try{await fetch(`${E5}/users/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})}catch(n){console.error("Failed to update user in backend:",n)}return t},getUsers:async()=>{try{return(await fetch(`${E5}/users`)).json()}catch(i){return console.error("Failed to fetch users:",i),u4}}},u4=[{id:"u1",name:"Max Nabd",email:"max@nabdchain.com",password:"1",role:"admin",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Max"},{id:"u6",name:"SMT Master",email:"master.smt@nabdchain-smt.com",password:"master.max",role:"super_admin",avatarUrl:"",color:"#FF0000"}],C5="user_permissions",Jk={getPermissions:i=>{if(!i)return Qg;if(i==="master@nabdchain.com"||i==="master.smt@nabdchain-smt.com")return{...Qg};try{const e=localStorage.getItem(C5),t=e?JSON.parse(e):{};return t[i]?{...Qg,...t[i]}:{...Qg}}catch(e){return console.error("Failed to load permissions",e),Qg}},savePermissions:(i,e)=>{try{const t=localStorage.getItem(C5),n=t?JSON.parse(t):{};n[i]=e,localStorage.setItem(C5,JSON.stringify(n))}catch(t){console.error("Failed to save permissions",t)}},getAllUsers:async()=>await Pf.getUsers()},Qk=({isOpen:i,onClose:e,onConfirm:t,title:n,message:a,confirmText:r="Confirm",cancelText:o="Cancel",variant:l="danger"})=>{if(!i)return null;const d={danger:{icon:"text-red-500 bg-red-50",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500",border:"border-red-100"},warning:{icon:"text-amber-500 bg-amber-50",button:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",border:"border-amber-100"},info:{icon:"text-blue-500 bg-blue-50",button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",border:"border-blue-100"}}[l];return A.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:A.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 border border-gray-100",children:A.jsxs("div",{className:"p-6",children:[A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:`p-3 rounded-full shrink-0 ${d.icon}`,children:A.jsx(E6,{size:24})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n}),A.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:a})]}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors -mt-1 -mr-1",children:A.jsx(Ph,{size:20})})]}),A.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[A.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-lg border border-gray-200 transition-colors",children:o}),A.jsx("button",{onClick:()=>{t(),e()},className:`px-4 py-2 text-sm font-medium text-white rounded-lg shadow-sm transition-all focus:ring-2 focus:ring-offset-2 ${d.button}`,children:r})]})]})})})},D6=Te.createContext(void 0),e9=({children:i})=>{const[e,t]=Te.useState(()=>localStorage.getItem("activePage")||"home"),[n,a]=Te.useState("list");Te.useEffect(()=>{localStorage.setItem("activePage",e)},[e]);const r=["space","ocean"].includes(e),o=()=>{var u,d,m,y,x,g,_,S,M,b,E,C,D,k,H,G,X,O;const l={home:"Home",inbox:"Inbox",sprints:"Engineering / Sprints",frontend:"Engineering / Frontend App",backend:"Engineering / Backend API",overview:"Dashboards / Overview",goals:"Dashboards / Goals",space:"Space",ocean:"Deep Ocean","supply-chain/procurement":"Supply Chain / Procurement","supply-chain/warehouse":"Supply Chain / Warehouse","supply-chain/shipping":"Supply Chain / Shipping","supply-chain/planning":"Supply Chain / Planning","supply-chain/fleet":"Supply Chain / Fleet",operations:"Departments / Operations",business:"Departments / Business",support:"Departments / Business Support",reminders:"Dashboards / Reminders",tasks:"Dashboards / Tasks",vault:"Dashboards / Vault",teams:"Dashboards / Teams",discussion:"Discussion"};if(l[e])return l[e];if(e.startsWith("supply-chain/")){const z=e.split("/");return z.length>=3?`Supply Chain / ${((u=z[1])==null?void 0:u.charAt(0).toUpperCase())+((d=z[1])==null?void 0:d.slice(1))} / ${((m=z[2])==null?void 0:m.charAt(0).toUpperCase())+((y=z[2])==null?void 0:y.slice(1))}`:`Supply Chain / ${((x=z[1])==null?void 0:x.charAt(0).toUpperCase())+((g=z[1])==null?void 0:g.slice(1))}`}if(e.startsWith("operations/")){const z=e.split("/");return`Operations / ${((_=z[1])==null?void 0:_.charAt(0).toUpperCase())+((S=z[1])==null?void 0:S.slice(1))} / ${((M=z[2])==null?void 0:M.charAt(0).toUpperCase())+((b=z[2])==null?void 0:b.slice(1))}`}if(e.startsWith("business/")){const z=e.split("/");return`Business / ${((E=z[1])==null?void 0:E.charAt(0).toUpperCase())+((C=z[1])==null?void 0:C.slice(1))} / ${((D=z[2])==null?void 0:D.charAt(0).toUpperCase())+((k=z[2])==null?void 0:k.slice(1))}`}if(e.startsWith("support/")){const z=e.split("/");return`Business Support / ${((H=z[1])==null?void 0:H.charAt(0).toUpperCase())+((G=z[1])==null?void 0:G.slice(1))} / ${((X=z[2])==null?void 0:X.charAt(0).toUpperCase())+((O=z[2])==null?void 0:O.slice(1))}`}return"Space"};return A.jsx(D6.Provider,{value:{activePage:e,setActivePage:t,currentView:n,setCurrentView:a,isImmersive:r,getPageTitle:o},children:i})},my=()=>{const i=Te.useContext(D6);if(i===void 0)throw new Error("useNavigation must be used within a NavigationProvider");return i},t9=({onLogout:i,user:e})=>{const{activePage:t,setActivePage:n,isImmersive:a}=my(),[r,o]=Te.useState([]),[l,u]=Te.useState(()=>{const ie=localStorage.getItem("sidebar_spacesExpanded");return ie!==null?JSON.parse(ie):!0}),[d,m]=Te.useState(()=>{const ie=localStorage.getItem("sidebar_departmentsExpanded");return ie!==null?JSON.parse(ie):!1}),[y,x]=Te.useState(()=>{const ie=localStorage.getItem("sidebar_supplyChainExpanded");return ie!==null?JSON.parse(ie):!1}),[g,_]=Te.useState(()=>{const ie=localStorage.getItem("sidebar_expandedItems");return ie!==null?JSON.parse(ie):{}}),[S,M]=Te.useState(()=>{const ie=localStorage.getItem("sidebar_smartToolsExpanded");return ie!==null?JSON.parse(ie):!1}),[b,E]=Te.useState(()=>{const ie=localStorage.getItem("sidebar_marketplaceExpanded");return ie!==null?JSON.parse(ie):!0}),[C,D]=Te.useState(!1),[k,H]=Te.useState(()=>{const ie=localStorage.getItem("sidebar_isCollapsed");return ie!==null?JSON.parse(ie):!1}),[G,X]=Te.useState(!0),[O,z]=Te.useState(!1),[q,I]=Te.useState(null),[$,U]=Te.useState(null),[oe,J]=Te.useState(null),ae=Te.useRef(null),{showToast:te}=hg();Te.useEffect(()=>{if(e){const ie=Jk.getPermissions(e.email||"");U(ie)}else U(null)},[e]),Te.useEffect(()=>{e!=null&&e.id&&le()},[e==null?void 0:e.id]);const le=async()=>{if(e!=null&&e.id)try{X(!0);const ie=await fx.getSpaces(e.id);o(ie)}catch(ie){console.error("Failed to fetch spaces:",ie),te("Failed to load spaces","error")}finally{X(!1)}};Te.useEffect(()=>{localStorage.setItem("sidebar_spacesExpanded",JSON.stringify(l))},[l]),Te.useEffect(()=>{localStorage.setItem("sidebar_departmentsExpanded",JSON.stringify(d))},[d]),Te.useEffect(()=>{localStorage.setItem("sidebar_supplyChainExpanded",JSON.stringify(y))},[y]),Te.useEffect(()=>{localStorage.setItem("sidebar_expandedItems",JSON.stringify(g))},[g]),Te.useEffect(()=>{localStorage.setItem("sidebar_smartToolsExpanded",JSON.stringify(S))},[S]),Te.useEffect(()=>{localStorage.setItem("sidebar_marketplaceExpanded",JSON.stringify(b))},[b]),Te.useEffect(()=>{localStorage.setItem("sidebar_isCollapsed",JSON.stringify(k))},[k]);const Me=ie=>{ie.stopPropagation(),z(!0)},Z=async(ie,Re)=>{try{const Pe=await fx.createSpace(ie,Re,e==null?void 0:e.id,"personal");o(ge=>[...ge,Pe]),te("Private Space created!","success"),n(Pe.id)}catch{te("Failed to create private space","error")}},V=(ie,Re)=>{ie.stopPropagation(),J(Re)},re=async()=>{if(oe){try{await fx.deleteSpace(oe),o(ie=>ie.filter(Re=>Re.id!==oe)),t===oe&&n("home"),te("Private Space deleted","success")}catch{te("Failed to delete private space","error")}J(null)}},ce=async(ie,Re,Pe)=>{ie.stopPropagation();const ge=prompt("Rename Private Space:",Pe);if(ge&&ge!==Pe)try{await fx.updateSpace(Re,{name:ge}),o(se=>se.map(ee=>ee.id===Re?{...ee,name:ge}:ee)),te("Private Space renamed","success")}catch{te("Failed to rename private space","error")}};Te.useEffect(()=>{const ie=Re=>{ae.current&&!ae.current.contains(Re.target)&&D(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]);const pe=ie=>{_(Re=>({...Re,[ie]:!Re[ie]}))},me=(ie,Re)=>{n(ie)},Ee=async ie=>{ie.stopPropagation(),D(!1),te("Preparing JSON export...","info");try{const Re=await Yp.getTasks(),Pe={exportedAt:new Date().toISOString(),appName:"ClickUp Clone",version:"2.0.0",tasks:Re,spaces:r},ge=JSON.stringify(Pe,null,2),se=new Blob([ge],{type:"application/json"}),ee=URL.createObjectURL(se),Ae=document.createElement("a");Ae.href=ee,Ae.download=`clickup_workspace_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(ee),te("Workspace data exported successfully!","success")}catch(Re){console.error(Re),te("Failed to export data","error")}},Ue=async ie=>{ie.stopPropagation(),D(!1),te("Generating project ZIP...","info");try{await Kk(),te("Source code downloaded!","success")}catch(Re){console.error(Re),te("Failed to generate ZIP","error")}},ze=ie=>`${t===ie?"bg-clickup-hover text-white font-medium":"hover:bg-clickup-hover hover:text-white"} ${k?"transition-all duration-300 ease-[cubic-bezier(0.175,0.885,0.32,1.275)] hover:scale-[1.5] hover:z-50 hover:shadow-xl relative":""}`,We=(ie,Re="")=>t===ie?"text-white":Re||"",at=["supply-chain","operations","business","support","supply-chain/procurement","supply-chain/warehouse","supply-chain/shipping","supply-chain/planning","supply-chain/fleet","supply-chain/vendors","operations/maintenance","operations/production","operations/quality","business/sales","business/finance","support/it","support/hr","support/marketing"],Ct=ie=>{ie.stopPropagation();const Re=!d;m(Re),x(Re),_(Pe=>{const ge={...Pe};return at.forEach(se=>{ge[se]=Re}),ge})},gt=ie=>$?ie.some(Re=>$[Re]):!1,W=($==null?void 0:$.departments)||gt(["supply-chain","supply-chain/procurement","supply-chain/warehouse","supply-chain/shipping","supply-chain/planning","supply-chain/fleet","supply-chain/vendors","operations","operations/maintenance","operations/production","operations/quality","business","business/sales","business/finance","support","support/it","support/hr","support/marketing"]),j=($==null?void 0:$.smartTools)||gt(["smart-tools/mind-map","smart-tools/dashboard"]),xe=($==null?void 0:$.marketplace)||gt(["marketplace/local","marketplace/foreign"]),de=(ie,Re,Pe)=>{if(!k)return;const ge=ie.currentTarget.getBoundingClientRect();I({text:Re,items:Pe,top:ge.top+ge.height/2})},ue=()=>{I(null)};return A.jsxs("div",{className:`${k?"w-16":"w-64"} bg-clickup-sidebar text-gray-400 flex flex-col h-[calc(100vh-3rem)] flex-shrink-0 select-none relative transition-all duration-300 z-50`,style:{zoom:"110%"},children:[A.jsx(Qk,{isOpen:!!oe,onClose:()=>J(null),onConfirm:re,title:"Delete Private Space",message:"Are you sure you want to delete this private space? This action cannot be undone and all tasks within it will be permanently lost.",confirmText:"Delete Room",variant:"danger"}),k&&q&&A.jsxs("div",{className:"fixed left-[4.5rem] px-3 py-2 bg-gray-900 text-white text-xs font-medium rounded-md z-[100] shadow-xl border border-gray-700/50 pointer-events-none animate-in fade-in zoom-in-95 duration-150 min-w-[120px]",style:{top:q.top,transform:"translateY(-50%)"},children:[A.jsx("div",{className:"font-bold text-gray-100 mb-0.5",children:q.text}),q.items&&A.jsx("div",{className:"space-y-0.5 mt-1 pt-1 border-t border-gray-700/50",children:q.items.map((ie,Re)=>A.jsxs("div",{className:"text-gray-400 text-[10px] flex items-center",children:[A.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-600 mr-1.5"}),ie]},Re))}),A.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 border-[4px] border-transparent border-r-gray-900"})]}),A.jsx("button",{onClick:()=>H(!k),className:"absolute -right-3 top-4 bg-clickup-sidebar border border-gray-700 rounded-full p-0.5 text-gray-400 hover:text-white hover:bg-gray-700 z-50 shadow-md transition-colors",children:k?A.jsx(s4,{size:12}):A.jsx(MO,{size:12})}),A.jsxs("div",{className:"relative",ref:ae,children:[A.jsxs("div",{className:`p-3 flex items-center ${k?"justify-center":"justify-between"} cursor-pointer transition-colors group ${C?"bg-clickup-hover":"hover:bg-clickup-hover"}`,onClick:()=>D(!C),children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("div",{className:"w-10 h-10 flex items-center justify-center shrink-0 overflow-hidden",children:A.jsx("img",{src:"/nabd-logo-light.svg",alt:"NABD",className:"w-full h-full object-contain"})}),!k&&A.jsx("div",{className:"flex flex-col min-w-0",children:A.jsx("span",{className:"text-gray-200 text-sm font-medium leading-tight group-hover:text-white transition-colors truncate",children:(e==null?void 0:e.name)||"User"})})]}),!k&&A.jsx(dl,{size:14,className:`text-gray-500 group-hover:text-gray-300 transition-all duration-200 ${C?"rotate-180":""}`})]}),C&&A.jsxs("div",{className:`absolute top-full mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden ${k?"left-14 w-56":"left-2 right-2"}`,children:[A.jsxs("div",{className:"px-3 py-2 border-b border-gray-700/50 mb-1",children:[A.jsx("p",{className:"text-xs font-semibold text-white",children:(e==null?void 0:e.name)||"User"}),A.jsx("p",{className:"text-[10px] text-gray-500",children:(e==null?void 0:e.email)||"user@example.com"})]}),A.jsxs("div",{className:"px-1 space-y-0.5",children:[A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded transition-colors text-left",onClick:()=>{n("settings"),D(!1)},children:[A.jsx(Fv,{size:14}),A.jsx("span",{children:"Settings"})]}),A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded transition-colors text-left",children:[A.jsx(Mc,{size:14}),A.jsx("span",{children:"Members"})]}),A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded transition-colors text-left",children:[A.jsx(V0,{size:14}),A.jsx("span",{children:"Billing"})]})]}),A.jsx("div",{className:"h-[1px] bg-gray-700/50 mx-2 my-1.5"}),A.jsxs("div",{className:"px-1 space-y-0.5",children:[A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded transition-colors text-left",onClick:Ee,children:[A.jsx(f6,{size:14}),A.jsx("span",{children:"Export Data (JSON)"})]}),A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded transition-colors text-left",onClick:Ue,children:[A.jsx(BO,{size:14}),A.jsx("span",{children:"Download Source"})]}),A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded transition-colors text-left",onClick:()=>{i&&i()},children:[A.jsx(w6,{size:14}),A.jsx("span",{children:"Logout"})]})]})]})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-visible custom-scrollbar [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[A.jsxs("div",{className:"px-2 py-1 space-y-0.5",children:[A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("home")} ${k?"justify-center":""}`,onClick:()=>me("home"),onMouseEnter:ie=>k&&de(ie,"Home"),onMouseLeave:ue,children:[A.jsx(x6,{size:16,className:`${We("home")} shrink-0`}),!k&&A.jsx("span",{children:"Home"})]}),A.jsxs("div",{className:"mt-1 mb-2",children:[($==null?void 0:$.inbox)&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("inbox")} ${k?"justify-center":""}`,onClick:()=>me("inbox"),onMouseEnter:ie=>k&&de(ie,"Inbox"),onMouseLeave:ue,children:[A.jsx(v6,{size:16,className:`${t==="inbox"?"text-white":""} shrink-0`}),!k&&A.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[A.jsx("span",{children:"Inbox"}),A.jsx("span",{className:"bg-clickup-dark text-xs px-1.5 py-0.5 rounded text-gray-400 group-hover:text-white transition-colors",children:"0"})]})]}),($==null?void 0:$.discussion)&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("discussion")} ${k?"justify-center":""}`,onClick:()=>me("discussion"),onMouseEnter:ie=>k&&de(ie,"Discussion"),onMouseLeave:ue,children:[A.jsx(Mw,{size:16,className:"shrink-0"}),!k&&A.jsx("span",{children:"Discussion"})]}),($==null?void 0:$.overview)&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("overview")} ${k?"justify-center":""}`,onClick:()=>me("overview"),onMouseEnter:ie=>k&&de(ie,"Overview"),onMouseLeave:ue,children:[A.jsx(zf,{size:16,className:"shrink-0"}),!k&&A.jsx("span",{children:"Overview"})]}),($==null?void 0:$.goals)&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("goals")} ${k?"justify-center":""}`,onClick:()=>me("goals"),onMouseEnter:ie=>k&&de(ie,"Goals"),onMouseLeave:ue,children:[A.jsx(G0,{size:16,className:"shrink-0"}),!k&&A.jsx("span",{children:"Goals"})]}),($==null?void 0:$.reminders)&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("reminders")} ${k?"justify-center":""}`,onClick:()=>me("reminders"),onMouseEnter:ie=>k&&de(ie,"Reminders"),onMouseLeave:ue,children:[A.jsx(s6,{size:16,className:"shrink-0"}),!k&&A.jsx("span",{children:"Reminders"})]}),($==null?void 0:$.tasks)&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("tasks")} ${k?"justify-center":""}`,onClick:()=>me("tasks"),onMouseEnter:ie=>k&&de(ie,"Tasks"),onMouseLeave:ue,children:[A.jsx(_6,{size:16,className:"shrink-0"}),!k&&A.jsx("span",{children:"Tasks"})]}),($==null?void 0:$.vault)&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("vault")} ${k?"justify-center":""}`,onClick:()=>me("vault"),onMouseEnter:ie=>k&&de(ie,"Vault"),onMouseLeave:ue,children:[A.jsx(fy,{size:16,className:"shrink-0"}),!k&&A.jsx("span",{children:"Vault"})]}),($==null?void 0:$.teams)&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("teams")} ${k?"justify-center":""}`,onClick:()=>me("teams"),onMouseEnter:ie=>k&&de(ie,"Teams"),onMouseLeave:ue,children:[A.jsx(Mc,{size:16,className:"shrink-0"}),!k&&A.jsx("span",{children:"Teams"})]})]}),A.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),W&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors group ${["departments","supply-chain","operations","business","support"].some(ie=>t.startsWith(ie))?"bg-clickup-hover text-white":"hover:bg-clickup-hover hover:text-white"} ${k?"justify-center transition-all duration-300 ease-[cubic-bezier(0.175,0.885,0.32,1.275)] hover:scale-[1.5] hover:z-50 hover:shadow-xl relative":""}`,onClick:()=>{k?(H(!1),m(!0)):m(!d)},onMouseEnter:ie=>k&&de(ie,"Departments",["Supply Chain","Operations","Business","Support"]),onMouseLeave:ue,children:[A.jsx(l6,{size:16,className:"shrink-0"}),!k&&A.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[A.jsx("span",{children:"Departments"}),A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx("div",{onClick:Ct,className:"p-0.5 hover:bg-gray-700 rounded transition-colors text-gray-500 hover:text-white",title:d?"Collapse All":"Expand All",children:d?A.jsx(SO,{size:12}):A.jsx(s4,{size:12})}),d?A.jsx(dl,{size:14}):A.jsx(ko,{size:14})]})]})]}),!k&&d&&A.jsxs("div",{className:"ml-4 mt-1 space-y-0.5 border-l border-gray-700 pl-2",children:[(($==null?void 0:$["supply-chain"])||gt(["supply-chain/procurement","supply-chain/warehouse","supply-chain/shipping","supply-chain/planning","supply-chain/fleet","supply-chain/vendors"]))&&A.jsxs("div",{children:[A.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${t.startsWith("supply-chain")?"text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>x(!y),children:[A.jsx(Eh,{size:14,className:"shrink-0"}),A.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[A.jsx("span",{className:"text-sm",children:"Supply Chain"}),y?A.jsx(dl,{size:12}):A.jsx(ko,{size:12})]})]}),y&&A.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:[{id:"procurement",label:"Procurement",icon:om},{id:"warehouse",label:"Warehouse",icon:N6},{id:"shipping",label:"Shipping",icon:M6},{id:"planning",label:"Planning",icon:ug},{id:"fleet",label:"Fleet",icon:c6},{id:"vendors",label:"Vendors",icon:l4}].filter(ie=>$==null?void 0:$[`supply-chain/${ie.id}`]).map(ie=>{const Re=`supply-chain/${ie.id}`,Pe=t.startsWith(Re)||(g[Re]!==void 0?g[Re]:!1);return A.jsxs("div",{children:[A.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${t.startsWith(Re)?"text-white":"text-gray-500 hover:text-gray-300"}`,onClick:()=>pe(Re),children:[A.jsx(ie.icon,{size:12,className:"shrink-0"}),A.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[A.jsx("span",{className:"text-xs font-medium",children:ie.label}),Pe?A.jsx(dl,{size:10}):A.jsx(ko,{size:10})]})]}),Pe&&A.jsx("div",{className:"ml-3 mt-0.5 space-y-0.5 border-l border-gray-700/50 pl-2",children:[{id:"data",label:"Data",icon:Th},{id:"analytics",label:"Analytics",icon:Uf}].map(ge=>A.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md cursor-pointer ${t===`${Re}/${ge.id}`?"text-white bg-gray-800":"text-gray-500 hover:text-gray-300"}`,onClick:()=>me(`${Re}/${ge.id}`,`Opening ${ie.label} ${ge.label}`),children:[A.jsx(ge.icon,{size:10,className:"shrink-0"}),A.jsx("span",{className:"ml-2 text-[10px] uppercase tracking-wide font-medium",children:ge.label})]},ge.id))})]},ie.id)})})]}),[{id:"operations",label:"Operations",icon:Fv,children:[{id:"maintenance",label:"Maintenance"},{id:"production",label:"Production"},{id:"quality",label:"Quality"}]},{id:"business",label:"Business",icon:ww,children:[{id:"sales",label:"Sales"},{id:"finance",label:"Finance"}]},{id:"support",label:"Business Support",icon:SP,children:[{id:"it",label:"IT"},{id:"hr",label:"HR"},{id:"marketing",label:"Marketing"}]}].filter(ie=>($==null?void 0:$[ie.id])||gt(ie.children.map(Re=>`${ie.id}/${Re.id}`))).map(ie=>{const Re=t.startsWith(ie.id)||(g[ie.id]!==void 0?g[ie.id]:!1);return A.jsxs("div",{children:[A.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${t.startsWith(ie.id)?"text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>pe(ie.id),children:[A.jsx(ie.icon,{size:14,className:"shrink-0"}),A.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[A.jsx("span",{className:"text-sm",children:ie.label}),Re?A.jsx(dl,{size:12}):A.jsx(ko,{size:12})]})]}),Re&&A.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:ie.children.filter(Pe=>$==null?void 0:$[`${ie.id}/${Pe.id}`]).map(Pe=>{const ge=`${ie.id}/${Pe.id}`,se=t.startsWith(ge)||(g[ge]!==void 0?g[ge]:!1);return A.jsxs("div",{children:[A.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${t.startsWith(ge)?"text-white":"text-gray-500 hover:text-gray-300"}`,onClick:()=>pe(ge),children:[A.jsx(aP,{size:12,className:"shrink-0"}),A.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[A.jsx("span",{className:"text-xs font-medium",children:Pe.label}),se?A.jsx(dl,{size:10}):A.jsx(ko,{size:10})]})]}),se&&A.jsx("div",{className:"ml-3 mt-0.5 space-y-0.5 border-l border-gray-700/50 pl-2",children:[{id:"data",label:"Data",icon:Th},{id:"analytics",label:"Analytics",icon:Uf}].map(ee=>A.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md cursor-pointer ${t===`${ge}/${ee.id}`?"text-white bg-gray-800":"text-gray-500 hover:text-gray-300"}`,onClick:()=>me(`${ge}/${ee.id}`,`Opening ${Pe.label} ${ee.label}`),children:[A.jsx(ee.icon,{size:10,className:"shrink-0"}),A.jsx("span",{className:"ml-2 text-[10px] uppercase tracking-wide font-medium",children:ee.label})]},ee.id))})]},Pe.id)})})]},ie.id)})]})]})]}),A.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-1 opacity-50"}),A.jsxs("div",{className:"px-2 py-2",children:[A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:`flex items-center ${k?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6`,children:[!k&&A.jsx("span",{onClick:()=>u(!l),children:"Private Rooms"}),k&&A.jsx("span",{className:"text-[10px] cursor-pointer hover:text-white",onClick:()=>{H(!1),u(!0)},children:"PVT"}),!k&&A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx("div",{className:"opacity-0 group-hover:opacity-100 hover:text-white transition-opacity cursor-pointer",onClick:Me,title:"Create Private Room",children:A.jsx(Of,{size:14})}),A.jsx("div",{onClick:()=>u(!l),children:l?A.jsx(dl,{size:14}):A.jsx(ko,{size:14})})]})]}),l&&!G&&A.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[r.length===0&&!k&&A.jsx("div",{className:"p-3 border border-dashed border-gray-700 rounded text-center text-xs text-gray-500 hover:text-gray-400 hover:border-gray-600 cursor-pointer transition-colors",onClick:Me,children:"+ Create your first Private Room"}),r.map(ie=>A.jsx("div",{className:"group relative",children:A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze(ie.id)} ${k?"justify-center":""}`,onClick:()=>me(ie.id,`Viewing ${ie.name}`),onMouseEnter:Re=>k&&de(Re,ie.name),onMouseLeave:ue,children:[A.jsx("div",{className:"w-1.5 h-1.5 rounded-full shrink-0",style:{backgroundColor:ie.color}}),!k&&A.jsx("span",{className:"flex-1 truncate font-medium",children:ie.name}),!k&&A.jsxs("div",{className:"hidden group-hover:flex items-center space-x-1",children:[A.jsx(XP,{size:10,className:"text-gray-500 hover:text-white",onClick:Re=>ce(Re,ie.id,ie.name)}),A.jsx(vk,{size:10,className:"text-gray-500 hover:text-red-400",onClick:Re=>V(Re,ie.id)})]})]})},ie.id))]})]}),A.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),j&&A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:`flex items-center ${k?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group cursor-pointer hover:text-gray-300`,onClick:()=>!k&&M(!S),children:[!k&&A.jsx("span",{children:"Smart Tools"}),k&&A.jsx("span",{children:"SMT"}),!k&&A.jsx("div",{className:"flex items-center space-x-1",children:S?A.jsx(dl,{size:14}):A.jsx(ko,{size:14})})]}),S&&!k&&A.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[($==null?void 0:$["smart-tools/mind-map"])&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("smart-tools/mind-map")}`,onClick:()=>me("smart-tools/mind-map"),children:[A.jsx(If,{size:14,className:"shrink-0"}),A.jsx("span",{children:"Mind Mapping"})]}),($==null?void 0:$["smart-tools/dashboard"])&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("smart-tools/dashboard")}`,onClick:()=>me("smart-tools/dashboard"),children:[A.jsx(jv,{size:14,className:"shrink-0"}),A.jsx("span",{children:"Smart Dashboard"})]})]}),k&&A.jsx("div",{className:"flex flex-col items-center space-y-2",children:A.jsx("div",{className:`p-2 rounded-md cursor-pointer hover:bg-clickup-hover hover:text-white ${t.startsWith("smart-tools")?"text-clickup-purple":""}`,title:"Smart Tools",children:A.jsx(If,{size:16})})})]}),A.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),xe&&A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:`flex items-center ${k?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group cursor-pointer hover:text-gray-300`,onClick:()=>E(!b),children:[!k&&A.jsx("span",{children:"Marketplace"}),k&&A.jsx("span",{children:"MKT"}),!k&&A.jsx("div",{className:"flex items-center space-x-1",children:b?A.jsx(dl,{size:14}):A.jsx(ko,{size:14})})]}),b&&A.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[($==null?void 0:$["marketplace/local"])&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("marketplace/local")} ${k?"justify-center":""}`,onClick:()=>me("marketplace/local"),title:k?"Local Marketplace":"",children:[A.jsx(OP,{size:14,className:"shrink-0"}),!k&&A.jsx("span",{children:"Local Marketplace"})]}),($==null?void 0:$["marketplace/foreign"])&&A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${ze("marketplace/foreign")} ${k?"justify-center":""}`,onClick:()=>me("marketplace/foreign"),title:k?"Foreign Marketplace":"",children:[A.jsx(l4,{size:14,className:"shrink-0"}),!k&&A.jsx("span",{children:"Forigen Marketplace"})]})]})]})]})]}),A.jsxs("div",{className:"p-3 border-t border-gray-800",children:[A.jsxs("div",{className:`bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center ${k?"justify-center":"justify-center space-x-2"} cursor-pointer transition-all active:scale-95 group mb-2 shadow-md`,onClick:()=>te("Invite dialog opened","info"),title:"Invite Team",children:[A.jsx(Mc,{size:14,className:"shrink-0"}),!k&&A.jsx("span",{className:"text-sm font-medium",children:"Invite Team"})]}),A.jsxs("div",{className:`flex items-center ${k?"flex-col space-y-2":"flex-row space-x-1 justify-center"}`,children:[A.jsxs("div",{className:`h-9 transition-all duration-300 ease-out overflow-hidden flex items-center justify-center rounded-lg cursor-pointer group relative shrink-0 ${k?"w-full":"w-9 hover:w-24"} ${t==="cosmos"?"bg-gradient-to-br from-violet-600 via-purple-600 to-indigo-600 ring-2 ring-purple-400 ring-offset-1 ring-offset-gray-900 text-white":"bg-transparent hover:bg-gradient-to-br hover:from-violet-600 hover:via-purple-600 hover:to-indigo-600 text-purple-500 hover:text-white hover:shadow-lg hover:shadow-purple-500/40"}`,onClick:()=>me("cosmos"),title:"Cosmos",children:[A.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-shine bg-gradient-to-r from-transparent via-white/25 to-transparent z-20"}),A.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),A.jsx("div",{className:"flex items-center justify-center w-9 h-9 shrink-0 relative z-10",children:A.jsx(BP,{size:18,className:"group-hover:rotate-180 transition-transform duration-700 drop-shadow-md"})}),!k&&A.jsx("span",{className:"text-[10px] font-bold tracking-tighter relative z-10 drop-shadow-sm text-shadow-sm whitespace-nowrap overflow-hidden max-w-0 group-hover:max-w-[60px] opacity-0 group-hover:opacity-100 transition-all duration-200 ease-out",children:"Cosmos"})]}),A.jsxs("div",{className:`h-9 transition-all duration-300 ease-out overflow-hidden flex items-center justify-center rounded-lg cursor-pointer group relative shrink-0 ${k?"w-full":"w-9 hover:w-24"} ${t==="tower-game"?"bg-gradient-to-br from-amber-500 via-orange-500 to-red-500 text-white shadow-orange-500/30 ring-2 ring-orange-400 ring-offset-1 ring-offset-gray-900":"bg-transparent hover:bg-gradient-to-br hover:from-amber-500 hover:via-orange-500 hover:to-red-500 text-orange-500 hover:text-white hover:shadow-lg hover:shadow-orange-500/40"}`,onClick:()=>me("tower-game"),title:"Tower Game",children:[A.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-shine bg-gradient-to-r from-transparent via-amber-400/20 to-transparent z-20"}),A.jsx("div",{className:`absolute inset-0 bg-amber-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ${t==="tower-game"?"animate-pulse":""}`}),A.jsx("div",{className:"flex items-center justify-center w-9 h-9 shrink-0 relative z-10",children:A.jsx(dO,{size:18,className:`transition-transform duration-300 group-hover:scale-110 drop-shadow-md ${t==="tower-game"?"animate-bounce-subtle":""}`})}),!k&&A.jsx("span",{className:"text-[10px] font-bold tracking-tighter relative z-10 drop-shadow-sm whitespace-nowrap overflow-hidden max-w-0 group-hover:max-w-[60px] opacity-0 group-hover:opacity-100 transition-all duration-200 ease-out",children:"Tower"})]}),A.jsxs("div",{className:`h-9 transition-all duration-300 ease-out overflow-hidden flex items-center justify-center rounded-lg cursor-pointer group relative shrink-0 ${k?"w-full":"w-9 hover:w-24"} ${t==="river-raid"?"bg-gradient-to-br from-cyan-500 via-blue-500 to-blue-600 text-white shadow-cyan-400/50 ring-2 ring-cyan-400 ring-offset-1 ring-offset-gray-900":"bg-transparent hover:bg-gradient-to-br hover:from-cyan-500 hover:via-blue-500 hover:to-blue-600 text-cyan-500 hover:text-white hover:shadow-lg hover:shadow-cyan-500/40"}`,onClick:()=>me("river-raid"),title:"River Raid",children:[A.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-shine bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent z-20"}),A.jsx("div",{className:`absolute inset-0 bg-cyan-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ${t==="river-raid"?"animate-pulse":""}`}),A.jsx("div",{className:"flex items-center justify-center w-9 h-9 shrink-0 relative z-10",children:A.jsx(oP,{size:18,className:`transition-transform duration-300 group-hover:rotate-12 drop-shadow-md ${t==="river-raid"?"animate-bounce-subtle":""}`})}),!k&&A.jsx("span",{className:"text-[10px] font-bold tracking-tighter relative z-10 drop-shadow-sm whitespace-nowrap overflow-hidden max-w-0 group-hover:max-w-[60px] opacity-0 group-hover:opacity-100 transition-all duration-200 ease-out",children:"Raid"})]}),A.jsxs("div",{className:`h-9 transition-all duration-300 ease-out overflow-hidden flex items-center justify-center rounded-lg cursor-pointer group relative shrink-0 ${k?"w-full":"w-9 hover:w-24"} ${t==="solitaire"?"bg-gradient-to-br from-red-500 via-rose-500 to-rose-600 text-white shadow-red-400/50 ring-2 ring-red-400 ring-offset-1 ring-offset-gray-900":"bg-transparent hover:bg-gradient-to-br hover:from-red-500 hover:via-rose-500 hover:to-rose-600 text-rose-500 hover:text-white hover:shadow-lg hover:shadow-red-500/40"}`,onClick:()=>me("solitaire"),title:"Solitaire",children:[A.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-shine bg-gradient-to-r from-transparent via-red-400/30 to-transparent z-20"}),A.jsx("div",{className:`absolute inset-0 bg-red-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ${t==="solitaire"?"animate-pulse":""}`}),A.jsx("div",{className:"flex items-center justify-center w-9 h-9 shrink-0 relative z-10",children:A.jsx(UO,{size:18,className:`transition-transform duration-300 group-hover:rotate-12 drop-shadow-md ${t==="solitaire"?"animate-bounce-subtle":""}`})}),!k&&A.jsx("span",{className:"text-[10px] font-bold tracking-tighter relative z-10 drop-shadow-sm whitespace-nowrap overflow-hidden max-w-0 group-hover:max-w-[60px] opacity-0 group-hover:opacity-100 transition-all duration-200 ease-out",children:"Solitaire"})]})]})]}),A.jsx(Zk,{isOpen:O,onClose:()=>z(!1),onCreate:Z})]})},n9=Mh.memo(t9),O6=Te.createContext(void 0),i9=({children:i})=>{const[e,t]=Te.useState(!1),[n,a]=Te.useState(!1),[r,o]=Te.useState(!1),[l,u]=Te.useState(!1),[d,m]=Te.useState(()=>{if(typeof window>"u")return"main";const y=localStorage.getItem("appStyle");return y==="main"||y==="floating"?y:"main"});return Mh.useEffect(()=>{typeof window<"u"&&localStorage.setItem("appStyle",d)},[d]),A.jsx(O6.Provider,{value:{isBrainOpen:e,setBrainOpen:t,isAddCardsOpen:n,setAddCardsOpen:a,isTableBuilderOpen:r,setTableBuilderOpen:o,isTemplateModalOpen:l,setTemplateModalOpen:u,appStyle:d,setAppStyle:m},children:i})},Tw=()=>{const i=Te.useContext(O6);if(i===void 0)throw new Error("useUI must be used within a UIProvider");return i},a9=()=>{const{currentView:i,setCurrentView:e,getPageTitle:t,activePage:n}=my(),{setBrainOpen:a,setAddCardsOpen:r,setTemplateModalOpen:o,appStyle:l}=Tw(),{showToast:u}=hg(),d=t(),m=n==="home",y=()=>a(!0),x=["overview","goals","reminders","tasks","vault","teams"].includes(n);return l==="floating"&&m?A.jsx("div",{className:"h-4"}):A.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none",children:[A.jsxs("div",{className:"flex items-center h-full",children:[A.jsx("div",{className:`flex items-center ${m?"":"mr-4 pr-4 border-r border-gray-200"} h-6`,children:A.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors",onClick:()=>u("Breadcrumb navigation","info"),children:[d," ",!m&&A.jsx(dl,{size:12,className:"ml-1 text-gray-400"})]})}),!m&&!x&&A.jsx("div",{className:"hidden"})]}),!x&&A.jsx("div",{className:"flex items-center space-x-3",children:m?null:!n.startsWith("operations")&&!n.startsWith("business")&&!n.startsWith("support")&&!n.startsWith("supply-chain")?A.jsxs(A.Fragment,{children:[A.jsxs("button",{onClick:y,className:"group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95",children:[A.jsx(If,{size:16,className:"text-clickup-purple group-hover:rotate-12 transition-transform"}),A.jsx("span",{className:"text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent",children:"Ask AI"})]}),A.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),A.jsx("div",{className:"flex items-center space-x-1 text-gray-500",children:A.jsx("div",{className:"relative group",children:A.jsxs("div",{className:"flex -space-x-2 cursor-pointer hover:scale-105 transition-transform",onClick:()=>u("Manage Assignees","info"),children:[A.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"A"}),A.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"S"}),A.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold",children:"+"})]})})}),A.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors",onClick:()=>u("Share view options","info"),children:A.jsx(ek,{size:16})}),A.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),A.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[A.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>u("Filter menu","info"),children:[A.jsx(p6,{size:14}),A.jsx("span",{className:"hidden md:inline",children:"Filter"})]}),A.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>u("Sort menu","info"),children:[A.jsx(YD,{size:14}),A.jsx("span",{className:"hidden md:inline",children:"Sort"})]})]})]}):null})]})};function Ma(i){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(i)}var Vu=Uint8Array,Sc=Uint16Array,Ew=Int32Array,Cw=new Vu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Nw=new Vu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d4=new Vu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P6=function(i,e){for(var t=new Sc(31),n=0;n<31;++n)t[n]=e+=1<<i[n-1];for(var a=new Ew(t[30]),n=1;n<30;++n)for(var r=t[n];r<t[n+1];++r)a[r]=r-t[n]<<5|n;return{b:t,r:a}},k6=P6(Cw,2),r9=k6.b,__=k6.r;r9[28]=258,__[258]=28;var s9=P6(Nw,0),h4=s9.r,w_=new Sc(32768);for(var er=0;er<32768;++er){var mf=(er&43690)>>1|(er&21845)<<1;mf=(mf&52428)>>2|(mf&13107)<<2,mf=(mf&61680)>>4|(mf&3855)<<4,w_[er]=((mf&65280)>>8|(mf&255)<<8)>>1}var S1=(function(i,e,t){for(var n=i.length,a=0,r=new Sc(e);a<n;++a)i[a]&&++r[i[a]-1];var o=new Sc(e);for(a=1;a<e;++a)o[a]=o[a-1]+r[a-1]<<1;var l;if(t){l=new Sc(1<<e);var u=15-e;for(a=0;a<n;++a)if(i[a])for(var d=a<<4|i[a],m=e-i[a],y=o[i[a]-1]++<<m,x=y|(1<<m)-1;y<=x;++y)l[w_[y]>>u]=d}else for(l=new Sc(n),a=0;a<n;++a)i[a]&&(l[a]=w_[o[i[a]-1]++]>>15-i[a]);return l}),cm=new Vu(288);for(var er=0;er<144;++er)cm[er]=8;for(var er=144;er<256;++er)cm[er]=9;for(var er=256;er<280;++er)cm[er]=7;for(var er=280;er<288;++er)cm[er]=8;var Hv=new Vu(32);for(var er=0;er<32;++er)Hv[er]=5;var o9=S1(cm,9,0),l9=S1(Hv,5,0),I6=function(i){return(i+7)/8|0},c9=function(i,e,t){return(t==null||t>i.length)&&(t=i.length),new Vu(i.subarray(e,t))},uh=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8},e1=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8,i[n+2]|=t>>16},N5=function(i,e){for(var t=[],n=0;n<i.length;++n)i[n]&&t.push({s:n,f:i[n]});var a=t.length,r=t.slice();if(!a)return{t:z6,l:0};if(a==1){var o=new Vu(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(k,H){return k.f-H.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],d=0,m=1,y=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};m!=a-1;)l=t[t[d].f<t[y].f?d++:y++],u=t[d!=m&&t[d].f<t[y].f?d++:y++],t[m++]={s:-1,f:l.f+u.f,l,r:u};for(var x=r[0].s,n=1;n<a;++n)r[n].s>x&&(x=r[n].s);var g=new Sc(x+1),_=S_(t[m-1],g,0);if(_>e){var n=0,S=0,M=_-e,b=1<<M;for(r.sort(function(H,G){return g[G.s]-g[H.s]||H.f-G.f});n<a;++n){var E=r[n].s;if(g[E]>e)S+=b-(1<<_-g[E]),g[E]=e;else break}for(S>>=M;S>0;){var C=r[n].s;g[C]<e?S-=1<<e-g[C]++-1:++n}for(;n>=0&&S;--n){var D=r[n].s;g[D]==e&&(--g[D],++S)}_=e}return{t:new Vu(g),l:_}},S_=function(i,e,t){return i.s==-1?Math.max(S_(i.l,e,t+1),S_(i.r,e,t+1)):e[i.s]=t},f4=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new Sc(++e),n=0,a=i[0],r=1,o=function(u){t[n++]=u},l=1;l<=e;++l)if(i[l]==a&&l!=e)++r;else{if(!a&&r>2){for(;r>138;r-=138)o(32754);r>2&&(o(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(o(a),--r;r>6;r-=6)o(8304);r>2&&(o(r-3<<5|8208),r=0)}for(;r--;)o(a);r=1,a=i[l]}return{c:t.subarray(0,n),n:e}},t1=function(i,e){for(var t=0,n=0;n<e.length;++n)t+=i[n]*e[n];return t},U6=function(i,e,t){var n=t.length,a=I6(e+2);i[a]=n&255,i[a+1]=n>>8,i[a+2]=i[a]^255,i[a+3]=i[a+1]^255;for(var r=0;r<n;++r)i[a+r+4]=t[r];return(a+4+n)*8},p4=function(i,e,t,n,a,r,o,l,u,d,m){uh(e,m++,t),++a[256];for(var y=N5(a,15),x=y.t,g=y.l,_=N5(r,15),S=_.t,M=_.l,b=f4(x),E=b.c,C=b.n,D=f4(S),k=D.c,H=D.n,G=new Sc(19),X=0;X<E.length;++X)++G[E[X]&31];for(var X=0;X<k.length;++X)++G[k[X]&31];for(var O=N5(G,7),z=O.t,q=O.l,I=19;I>4&&!z[d4[I-1]];--I);var $=d+5<<3,U=t1(a,cm)+t1(r,Hv)+o,oe=t1(a,x)+t1(r,S)+o+14+3*I+t1(G,z)+2*G[16]+3*G[17]+7*G[18];if(u>=0&&$<=U&&$<=oe)return U6(e,m,i.subarray(u,u+d));var J,ae,te,le;if(uh(e,m,1+(oe<U)),m+=2,oe<U){J=S1(x,g,0),ae=x,te=S1(S,M,0),le=S;var Me=S1(z,q,0);uh(e,m,C-257),uh(e,m+5,H-1),uh(e,m+10,I-4),m+=14;for(var X=0;X<I;++X)uh(e,m+3*X,z[d4[X]]);m+=3*I;for(var Z=[E,k],V=0;V<2;++V)for(var re=Z[V],X=0;X<re.length;++X){var ce=re[X]&31;uh(e,m,Me[ce]),m+=z[ce],ce>15&&(uh(e,m,re[X]>>5&127),m+=re[X]>>12)}}else J=o9,ae=cm,te=l9,le=Hv;for(var X=0;X<l;++X){var pe=n[X];if(pe>255){var ce=pe>>18&31;e1(e,m,J[ce+257]),m+=ae[ce+257],ce>7&&(uh(e,m,pe>>23&31),m+=Cw[ce]);var me=pe&31;e1(e,m,te[me]),m+=le[me],me>3&&(e1(e,m,pe>>5&8191),m+=Nw[me])}else e1(e,m,J[pe]),m+=ae[pe]}return e1(e,m,J[256]),m+ae[256]},u9=new Ew([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),z6=new Vu(0),d9=function(i,e,t,n,a,r){var o=r.z||i.length,l=new Vu(n+o+5*(1+Math.ceil(o/7e3))+a),u=l.subarray(n,l.length-a),d=r.l,m=(r.r||0)&7;if(e){m&&(u[0]=r.r>>3);for(var y=u9[e-1],x=y>>13,g=y&8191,_=(1<<t)-1,S=r.p||new Sc(32768),M=r.h||new Sc(_+1),b=Math.ceil(t/3),E=2*b,C=function(W){return(i[W]^i[W+1]<<b^i[W+2]<<E)&_},D=new Ew(25e3),k=new Sc(288),H=new Sc(32),G=0,X=0,O=r.i||0,z=0,q=r.w||0,I=0;O+2<o;++O){var $=C(O),U=O&32767,oe=M[$];if(S[U]=oe,M[$]=U,q<=O){var J=o-O;if((G>7e3||z>24576)&&(J>423||!d)){m=p4(i,u,0,D,k,H,X,z,I,O-I,m),z=G=X=0,I=O;for(var ae=0;ae<286;++ae)k[ae]=0;for(var ae=0;ae<30;++ae)H[ae]=0}var te=2,le=0,Me=g,Z=U-oe&32767;if(J>2&&$==C(O-Z))for(var V=Math.min(x,J)-1,re=Math.min(32767,O),ce=Math.min(258,J);Z<=re&&--Me&&U!=oe;){if(i[O+te]==i[O+te-Z]){for(var pe=0;pe<ce&&i[O+pe]==i[O+pe-Z];++pe);if(pe>te){if(te=pe,le=Z,pe>V)break;for(var me=Math.min(Z,pe-2),Ee=0,ae=0;ae<me;++ae){var Ue=O-Z+ae&32767,ze=S[Ue],We=Ue-ze&32767;We>Ee&&(Ee=We,oe=Ue)}}}U=oe,oe=S[U],Z+=U-oe&32767}if(le){D[z++]=268435456|__[te]<<18|h4[le];var at=__[te]&31,Ct=h4[le]&31;X+=Cw[at]+Nw[Ct],++k[257+at],++H[Ct],q=O+te,++G}else D[z++]=i[O],++k[i[O]]}}for(O=Math.max(O,q);O<o;++O)D[z++]=i[O],++k[i[O]];m=p4(i,u,d,D,k,H,X,z,I,O-I,m),d||(r.r=m&7|u[m/8|0]<<3,m-=7,r.h=M,r.p=S,r.i=O,r.w=q)}else{for(var O=r.w||0;O<o+d;O+=65535){var gt=O+65535;gt>=o&&(u[m/8|0]=d,gt=o),m=U6(u,m+1,i.subarray(O,gt))}r.i=o}return c9(l,0,n+I6(m)+a)},B6=function(){var i=1,e=0;return{p:function(t){for(var n=i,a=e,r=t.length|0,o=0;o!=r;){for(var l=Math.min(o+2655,r);o<l;++o)a+=n+=t[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}i=n,e=a},d:function(){return i%=65521,e%=65521,(i&255)<<24|(i&65280)<<8|(e&255)<<8|e>>8}}},h9=function(i,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var r=e.dictionary.subarray(-32768),o=new Vu(r.length+i.length);o.set(r),o.set(i,r.length),i=o,a.w=r.length}return d9(i,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,t,n,a)},j6=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8},f9=function(i,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(i[0]=120,i[1]=n<<6|(e.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,e.dictionary){var a=B6();a.p(e.dictionary),j6(i,2,a.d())}};function A_(i,e){e||(e={});var t=B6();t.p(i);var n=h9(i,e,e.dictionary?6:2,4);return f9(n,e),j6(n,n.length-4,t.d()),n}var p9=typeof TextDecoder<"u"&&new TextDecoder,m9=0;try{p9.decode(z6,{stream:!0}),m9=1}catch{}function g9(i){if(Array.isArray(i))return i}function y9(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,a,r,o,l=[],u=!0,d=!1;try{if(r=(t=t.call(i)).next,e!==0)for(;!(u=(n=r.call(t)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){d=!0,a=m}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function m4(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function x9(i,e){if(i){if(typeof i=="string")return m4(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m4(i,e):void 0}}function v9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g4(i,e){return g9(i)||y9(i,e)||x9(i,e)||v9()}function y4(i,e="utf8"){return new TextDecoder(e).decode(i)}const b9=new TextEncoder;function _9(i){return b9.encode(i)}const w9=1024*8,S9=(()=>{const i=new Uint8Array(4),e=new Uint32Array(i.buffer);return!((e[0]=1)&i[0])})(),R5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Rw{constructor(e=w9,t={}){wa(this,"buffer");wa(this,"byteLength");wa(this,"byteOffset");wa(this,"length");wa(this,"offset");wa(this,"lastWrittenByte");wa(this,"littleEndian");wa(this,"_data");wa(this,"_mark");wa(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,r=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof Rw)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=r:this.lastWrittenByte=0,this.buffer=e,this.length=r,this.byteLength=r,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,r),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=R5[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,r=this.buffer.slice(a,a+n);if(this.littleEndian===S9&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const u=new R5[t](l.buffer);return this.offset+=n,u.reverse(),u}const o=new R5[t](r);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return y4(this.readBytes(e))}decodeText(e=1,t="utf8"){return y4(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(_9(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function fg(i){let e=i.length;for(;--e>=0;)i[e]=0}const A9=3,M9=258,F6=29,T9=256,E9=T9+1+F6,V6=30,C9=512,N9=new Array((E9+2)*2);fg(N9);const R9=new Array(V6*2);fg(R9);const L9=new Array(C9);fg(L9);const D9=new Array(M9-A9+1);fg(D9);const O9=new Array(F6);fg(O9);const P9=new Array(V6);fg(P9);const k9=(i,e,t,n)=>{let a=i&65535|0,r=i>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do a=a+e[n++]|0,r=r+a|0;while(--o);a%=65521,r%=65521}return a|r<<16|0};var M_=k9;const I9=()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;e[t]=i}return e},U9=new Uint32Array(I9()),z9=(i,e,t,n)=>{const a=U9,r=n+t;i^=-1;for(let o=n;o<r;o++)i=i>>>8^a[(i^e[o])&255];return i^-1};var yd=z9,T_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H6={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const B9=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var j9=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)B9(t,n)&&(i[n]=t[n])}}return i},F9=i=>{let e=0;for(let n=0,a=i.length;n<a;n++)e+=i[n].length;const t=new Uint8Array(e);for(let n=0,a=0,r=i.length;n<r;n++){let o=i[n];t.set(o,a),a+=o.length}return t},q6={assign:j9,flattenChunks:F9};let G6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{G6=!1}const F1=new Uint8Array(256);for(let i=0;i<256;i++)F1[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;F1[254]=F1[254]=1;var V9=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,n,a,r,o=i.length,l=0;for(a=0;a<o;a++)t=i.charCodeAt(a),(t&64512)===55296&&a+1<o&&(n=i.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),r=0,a=0;r<l;a++)t=i.charCodeAt(a),(t&64512)===55296&&a+1<o&&(n=i.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?e[r++]=t:t<2048?(e[r++]=192|t>>>6,e[r++]=128|t&63):t<65536?(e[r++]=224|t>>>12,e[r++]=128|t>>>6&63,e[r++]=128|t&63):(e[r++]=240|t>>>18,e[r++]=128|t>>>12&63,e[r++]=128|t>>>6&63,e[r++]=128|t&63);return e};const H9=(i,e)=>{if(e<65534&&i.subarray&&G6)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(i[n]);return t};var q9=(i,e)=>{const t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let n,a;const r=new Array(t*2);for(a=0,n=0;n<t;){let o=i[n++];if(o<128){r[a++]=o;continue}let l=F1[o];if(l>4){r[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<t;)o=o<<6|i[n++]&63,l--;if(l>1){r[a++]=65533;continue}o<65536?r[a++]=o:(o-=65536,r[a++]=55296|o>>10&1023,r[a++]=56320|o&1023)}return H9(r,a)},G9=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?e:t+F1[i[t]]>e?t:e},E_={string2buf:V9,buf2string:q9,utf8border:G9};function W9(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var X9=W9;const mx=16209,Y9=16191;var $9=function(e,t){let n,a,r,o,l,u,d,m,y,x,g,_,S,M,b,E,C,D,k,H,G,X,O,z;const q=e.state;n=e.next_in,O=e.input,a=n+(e.avail_in-5),r=e.next_out,z=e.output,o=r-(t-e.avail_out),l=r+(e.avail_out-257),u=q.dmax,d=q.wsize,m=q.whave,y=q.wnext,x=q.window,g=q.hold,_=q.bits,S=q.lencode,M=q.distcode,b=(1<<q.lenbits)-1,E=(1<<q.distbits)-1;e:do{_<15&&(g+=O[n++]<<_,_+=8,g+=O[n++]<<_,_+=8),C=S[g&b];t:for(;;){if(D=C>>>24,g>>>=D,_-=D,D=C>>>16&255,D===0)z[r++]=C&65535;else if(D&16){k=C&65535,D&=15,D&&(_<D&&(g+=O[n++]<<_,_+=8),k+=g&(1<<D)-1,g>>>=D,_-=D),_<15&&(g+=O[n++]<<_,_+=8,g+=O[n++]<<_,_+=8),C=M[g&E];n:for(;;){if(D=C>>>24,g>>>=D,_-=D,D=C>>>16&255,D&16){if(H=C&65535,D&=15,_<D&&(g+=O[n++]<<_,_+=8,_<D&&(g+=O[n++]<<_,_+=8)),H+=g&(1<<D)-1,H>u){e.msg="invalid distance too far back",q.mode=mx;break e}if(g>>>=D,_-=D,D=r-o,H>D){if(D=H-D,D>m&&q.sane){e.msg="invalid distance too far back",q.mode=mx;break e}if(G=0,X=x,y===0){if(G+=d-D,D<k){k-=D;do z[r++]=x[G++];while(--D);G=r-H,X=z}}else if(y<D){if(G+=d+y-D,D-=y,D<k){k-=D;do z[r++]=x[G++];while(--D);if(G=0,y<k){D=y,k-=D;do z[r++]=x[G++];while(--D);G=r-H,X=z}}}else if(G+=y-D,D<k){k-=D;do z[r++]=x[G++];while(--D);G=r-H,X=z}for(;k>2;)z[r++]=X[G++],z[r++]=X[G++],z[r++]=X[G++],k-=3;k&&(z[r++]=X[G++],k>1&&(z[r++]=X[G++]))}else{G=r-H;do z[r++]=z[G++],z[r++]=z[G++],z[r++]=z[G++],k-=3;while(k>2);k&&(z[r++]=z[G++],k>1&&(z[r++]=z[G++]))}}else if((D&64)===0){C=M[(C&65535)+(g&(1<<D)-1)];continue n}else{e.msg="invalid distance code",q.mode=mx;break e}break}}else if((D&64)===0){C=S[(C&65535)+(g&(1<<D)-1)];continue t}else if(D&32){q.mode=Y9;break e}else{e.msg="invalid literal/length code",q.mode=mx;break e}break}}while(n<a&&r<l);k=_>>3,n-=k,_-=k<<3,g&=(1<<_)-1,e.next_in=n,e.next_out=r,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=r<l?257+(l-r):257-(r-l),q.hold=g,q.bits=_};const $m=15,x4=852,v4=592,b4=0,L5=1,_4=2,K9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Z9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),J9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Q9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),eI=(i,e,t,n,a,r,o,l)=>{const u=l.bits;let d=0,m=0,y=0,x=0,g=0,_=0,S=0,M=0,b=0,E=0,C,D,k,H,G,X=null,O;const z=new Uint16Array($m+1),q=new Uint16Array($m+1);let I=null,$,U,oe;for(d=0;d<=$m;d++)z[d]=0;for(m=0;m<n;m++)z[e[t+m]]++;for(g=u,x=$m;x>=1&&z[x]===0;x--);if(g>x&&(g=x),x===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,l.bits=1,0;for(y=1;y<x&&z[y]===0;y++);for(g<y&&(g=y),M=1,d=1;d<=$m;d++)if(M<<=1,M-=z[d],M<0)return-1;if(M>0&&(i===b4||x!==1))return-1;for(q[1]=0,d=1;d<$m;d++)q[d+1]=q[d]+z[d];for(m=0;m<n;m++)e[t+m]!==0&&(o[q[e[t+m]]++]=m);if(i===b4?(X=I=o,O=20):i===L5?(X=K9,I=Z9,O=257):(X=J9,I=Q9,O=0),E=0,m=0,d=y,G=r,_=g,S=0,k=-1,b=1<<g,H=b-1,i===L5&&b>x4||i===_4&&b>v4)return 1;for(;;){$=d-S,o[m]+1<O?(U=0,oe=o[m]):o[m]>=O?(U=I[o[m]-O],oe=X[o[m]-O]):(U=96,oe=0),C=1<<d-S,D=1<<_,y=D;do D-=C,a[G+(E>>S)+D]=$<<24|U<<16|oe|0;while(D!==0);for(C=1<<d-1;E&C;)C>>=1;if(C!==0?(E&=C-1,E+=C):E=0,m++,--z[d]===0){if(d===x)break;d=e[t+o[m]]}if(d>g&&(E&H)!==k){for(S===0&&(S=g),G+=y,_=d-S,M=1<<_;_+S<x&&(M-=z[_+S],!(M<=0));)_++,M<<=1;if(b+=1<<_,i===L5&&b>x4||i===_4&&b>v4)return 1;k=E&H,a[k]=g<<24|_<<16|G-r|0}}return E!==0&&(a[G+E]=d-S<<24|64<<16|0),l.bits=g,0};var A1=eI;const tI=0,W6=1,X6=2,{Z_FINISH:w4,Z_BLOCK:nI,Z_TREES:gx,Z_OK:um,Z_STREAM_END:iI,Z_NEED_DICT:aI,Z_STREAM_ERROR:nu,Z_DATA_ERROR:Y6,Z_MEM_ERROR:$6,Z_BUF_ERROR:rI,Z_DEFLATED:S4}=H6,eb=16180,A4=16181,M4=16182,T4=16183,E4=16184,C4=16185,N4=16186,R4=16187,L4=16188,D4=16189,qv=16190,dh=16191,D5=16192,O4=16193,O5=16194,P4=16195,k4=16196,I4=16197,U4=16198,yx=16199,xx=16200,z4=16201,B4=16202,j4=16203,F4=16204,V4=16205,P5=16206,H4=16207,q4=16208,cr=16209,K6=16210,Z6=16211,sI=852,oI=592,lI=15,cI=lI,G4=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function uI(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gm=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<eb||e.mode>Z6?1:0},J6=i=>{if(gm(i))return nu;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=eb,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(sI),e.distcode=e.distdyn=new Int32Array(oI),e.sane=1,e.back=-1,um},Q6=i=>{if(gm(i))return nu;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,J6(i)},eN=(i,e)=>{let t;if(gm(i))return nu;const n=i.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?nu:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,Q6(i))},tN=(i,e)=>{if(!i)return nu;const t=new uI;i.state=t,t.strm=i,t.window=null,t.mode=eb;const n=eN(i,e);return n!==um&&(i.state=null),n},dI=i=>tN(i,cI);let W4=!0,k5,I5;const hI=i=>{if(W4){k5=new Int32Array(512),I5=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(A1(W6,i.lens,0,288,k5,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;A1(X6,i.lens,0,32,I5,0,i.work,{bits:5}),W4=!1}i.lencode=k5,i.lenbits=9,i.distcode=I5,i.distbits=5},nN=(i,e,t,n)=>{let a;const r=i.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(e.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),r.window.set(e.subarray(t-n,t-n+a),r.wnext),n-=a,n?(r.window.set(e.subarray(t-n,t),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},fI=(i,e)=>{let t,n,a,r,o,l,u,d,m,y,x,g,_,S,M=0,b,E,C,D,k,H,G,X;const O=new Uint8Array(4);let z,q;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gm(i)||!i.output||!i.input&&i.avail_in!==0)return nu;t=i.state,t.mode===dh&&(t.mode=D5),o=i.next_out,a=i.output,u=i.avail_out,r=i.next_in,n=i.input,l=i.avail_in,d=t.hold,m=t.bits,y=l,x=u,X=um;e:for(;;)switch(t.mode){case eb:if(t.wrap===0){t.mode=D5;break}for(;m<16;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,O[0]=d&255,O[1]=d>>>8&255,t.check=yd(t.check,O,2,0),d=0,m=0,t.mode=A4;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){i.msg="incorrect header check",t.mode=cr;break}if((d&15)!==S4){i.msg="unknown compression method",t.mode=cr;break}if(d>>>=4,m-=4,G=(d&15)+8,t.wbits===0&&(t.wbits=G),G>15||G>t.wbits){i.msg="invalid window size",t.mode=cr;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=d&512?D4:dh,d=0,m=0;break;case A4:for(;m<16;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==S4){i.msg="unknown compression method",t.mode=cr;break}if(t.flags&57344){i.msg="unknown header flags set",t.mode=cr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(O[0]=d&255,O[1]=d>>>8&255,t.check=yd(t.check,O,2,0)),d=0,m=0,t.mode=M4;case M4:for(;m<32;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(O[0]=d&255,O[1]=d>>>8&255,O[2]=d>>>16&255,O[3]=d>>>24&255,t.check=yd(t.check,O,4,0)),d=0,m=0,t.mode=T4;case T4:for(;m<16;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(O[0]=d&255,O[1]=d>>>8&255,t.check=yd(t.check,O,2,0)),d=0,m=0,t.mode=E4;case E4:if(t.flags&1024){for(;m<16;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(O[0]=d&255,O[1]=d>>>8&255,t.check=yd(t.check,O,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=C4;case C4:if(t.flags&1024&&(g=t.length,g>l&&(g=l),g&&(t.head&&(G=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(r,r+g),G)),t.flags&512&&t.wrap&4&&(t.check=yd(t.check,n,g,r)),l-=g,r+=g,t.length-=g),t.length))break e;t.length=0,t.mode=N4;case N4:if(t.flags&2048){if(l===0)break e;g=0;do G=n[r+g++],t.head&&G&&t.length<65536&&(t.head.name+=String.fromCharCode(G));while(G&&g<l);if(t.flags&512&&t.wrap&4&&(t.check=yd(t.check,n,g,r)),l-=g,r+=g,G)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=R4;case R4:if(t.flags&4096){if(l===0)break e;g=0;do G=n[r+g++],t.head&&G&&t.length<65536&&(t.head.comment+=String.fromCharCode(G));while(G&&g<l);if(t.flags&512&&t.wrap&4&&(t.check=yd(t.check,n,g,r)),l-=g,r+=g,G)break e}else t.head&&(t.head.comment=null);t.mode=L4;case L4:if(t.flags&512){for(;m<16;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){i.msg="header crc mismatch",t.mode=cr;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=dh;break;case D4:for(;m<32;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}i.adler=t.check=G4(d),d=0,m=0,t.mode=qv;case qv:if(t.havedict===0)return i.next_out=o,i.avail_out=u,i.next_in=r,i.avail_in=l,t.hold=d,t.bits=m,aI;i.adler=t.check=1,t.mode=dh;case dh:if(e===nI||e===gx)break e;case D5:if(t.last){d>>>=m&7,m-=m&7,t.mode=P5;break}for(;m<3;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=O4;break;case 1:if(hI(t),t.mode=yx,e===gx){d>>>=2,m-=2;break e}break;case 2:t.mode=k4;break;case 3:i.msg="invalid block type",t.mode=cr}d>>>=2,m-=2;break;case O4:for(d>>>=m&7,m-=m&7;m<32;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){i.msg="invalid stored block lengths",t.mode=cr;break}if(t.length=d&65535,d=0,m=0,t.mode=O5,e===gx)break e;case O5:t.mode=P4;case P4:if(g=t.length,g){if(g>l&&(g=l),g>u&&(g=u),g===0)break e;a.set(n.subarray(r,r+g),o),l-=g,r+=g,u-=g,o+=g,t.length-=g;break}t.mode=dh;break;case k4:for(;m<14;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=cr;break}t.have=0,t.mode=I4;case I4:for(;t.have<t.ncode;){for(;m<3;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}t.lens[I[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[I[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,z={bits:t.lenbits},X=A1(tI,t.lens,0,19,t.lencode,0,t.work,z),t.lenbits=z.bits,X){i.msg="invalid code lengths set",t.mode=cr;break}t.have=0,t.mode=U4;case U4:for(;t.have<t.nlen+t.ndist;){for(;M=t.lencode[d&(1<<t.lenbits)-1],b=M>>>24,E=M>>>16&255,C=M&65535,!(b<=m);){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}if(C<16)d>>>=b,m-=b,t.lens[t.have++]=C;else{if(C===16){for(q=b+2;m<q;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}if(d>>>=b,m-=b,t.have===0){i.msg="invalid bit length repeat",t.mode=cr;break}G=t.lens[t.have-1],g=3+(d&3),d>>>=2,m-=2}else if(C===17){for(q=b+3;m<q;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}d>>>=b,m-=b,G=0,g=3+(d&7),d>>>=3,m-=3}else{for(q=b+7;m<q;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}d>>>=b,m-=b,G=0,g=11+(d&127),d>>>=7,m-=7}if(t.have+g>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=cr;break}for(;g--;)t.lens[t.have++]=G}}if(t.mode===cr)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=cr;break}if(t.lenbits=9,z={bits:t.lenbits},X=A1(W6,t.lens,0,t.nlen,t.lencode,0,t.work,z),t.lenbits=z.bits,X){i.msg="invalid literal/lengths set",t.mode=cr;break}if(t.distbits=6,t.distcode=t.distdyn,z={bits:t.distbits},X=A1(X6,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,z),t.distbits=z.bits,X){i.msg="invalid distances set",t.mode=cr;break}if(t.mode=yx,e===gx)break e;case yx:t.mode=xx;case xx:if(l>=6&&u>=258){i.next_out=o,i.avail_out=u,i.next_in=r,i.avail_in=l,t.hold=d,t.bits=m,$9(i,x),o=i.next_out,a=i.output,u=i.avail_out,r=i.next_in,n=i.input,l=i.avail_in,d=t.hold,m=t.bits,t.mode===dh&&(t.back=-1);break}for(t.back=0;M=t.lencode[d&(1<<t.lenbits)-1],b=M>>>24,E=M>>>16&255,C=M&65535,!(b<=m);){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}if(E&&(E&240)===0){for(D=b,k=E,H=C;M=t.lencode[H+((d&(1<<D+k)-1)>>D)],b=M>>>24,E=M>>>16&255,C=M&65535,!(D+b<=m);){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}d>>>=D,m-=D,t.back+=D}if(d>>>=b,m-=b,t.back+=b,t.length=C,E===0){t.mode=V4;break}if(E&32){t.back=-1,t.mode=dh;break}if(E&64){i.msg="invalid literal/length code",t.mode=cr;break}t.extra=E&15,t.mode=z4;case z4:if(t.extra){for(q=t.extra;m<q;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=B4;case B4:for(;M=t.distcode[d&(1<<t.distbits)-1],b=M>>>24,E=M>>>16&255,C=M&65535,!(b<=m);){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}if((E&240)===0){for(D=b,k=E,H=C;M=t.distcode[H+((d&(1<<D+k)-1)>>D)],b=M>>>24,E=M>>>16&255,C=M&65535,!(D+b<=m);){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}d>>>=D,m-=D,t.back+=D}if(d>>>=b,m-=b,t.back+=b,E&64){i.msg="invalid distance code",t.mode=cr;break}t.offset=C,t.extra=E&15,t.mode=j4;case j4:if(t.extra){for(q=t.extra;m<q;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=cr;break}t.mode=F4;case F4:if(u===0)break e;if(g=x-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=cr;break}g>t.wnext?(g-=t.wnext,_=t.wsize-g):_=t.wnext-g,g>t.length&&(g=t.length),S=t.window}else S=a,_=o-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do a[o++]=S[_++];while(--g);t.length===0&&(t.mode=xx);break;case V4:if(u===0)break e;a[o++]=t.length,u--,t.mode=xx;break;case P5:if(t.wrap){for(;m<32;){if(l===0)break e;l--,d|=n[r++]<<m,m+=8}if(x-=u,i.total_out+=x,t.total+=x,t.wrap&4&&x&&(i.adler=t.check=t.flags?yd(t.check,a,x,o-x):M_(t.check,a,x,o-x)),x=u,t.wrap&4&&(t.flags?d:G4(d))!==t.check){i.msg="incorrect data check",t.mode=cr;break}d=0,m=0}t.mode=H4;case H4:if(t.wrap&&t.flags){for(;m<32;){if(l===0)break e;l--,d+=n[r++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){i.msg="incorrect length check",t.mode=cr;break}d=0,m=0}t.mode=q4;case q4:X=iI;break e;case cr:X=Y6;break e;case K6:return $6;case Z6:default:return nu}return i.next_out=o,i.avail_out=u,i.next_in=r,i.avail_in=l,t.hold=d,t.bits=m,(t.wsize||x!==i.avail_out&&t.mode<cr&&(t.mode<P5||e!==w4))&&nN(i,i.output,i.next_out,x-i.avail_out),y-=i.avail_in,x-=i.avail_out,i.total_in+=y,i.total_out+=x,t.total+=x,t.wrap&4&&x&&(i.adler=t.check=t.flags?yd(t.check,a,x,i.next_out-x):M_(t.check,a,x,i.next_out-x)),i.data_type=t.bits+(t.last?64:0)+(t.mode===dh?128:0)+(t.mode===yx||t.mode===O5?256:0),(y===0&&x===0||e===w4)&&X===um&&(X=rI),X},pI=i=>{if(gm(i))return nu;let e=i.state;return e.window&&(e.window=null),i.state=null,um},mI=(i,e)=>{if(gm(i))return nu;const t=i.state;return(t.wrap&2)===0?nu:(t.head=e,e.done=!1,um)},gI=(i,e)=>{const t=e.length;let n,a,r;return gm(i)||(n=i.state,n.wrap!==0&&n.mode!==qv)?nu:n.mode===qv&&(a=1,a=M_(a,e,t,0),a!==n.check)?Y6:(r=nN(i,e,t,t),r?(n.mode=K6,$6):(n.havedict=1,um))};var yI=Q6,xI=eN,vI=J6,bI=dI,_I=tN,wI=fI,SI=pI,AI=mI,MI=gI,TI="pako inflate (from Nodeca project)",bh={inflateReset:yI,inflateReset2:xI,inflateResetKeep:vI,inflateInit:bI,inflateInit2:_I,inflate:wI,inflateEnd:SI,inflateGetHeader:AI,inflateSetDictionary:MI,inflateInfo:TI};function EI(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var CI=EI;const iN=Object.prototype.toString,{Z_NO_FLUSH:NI,Z_FINISH:RI,Z_OK:V1,Z_STREAM_END:U5,Z_NEED_DICT:z5,Z_STREAM_ERROR:LI,Z_DATA_ERROR:X4,Z_MEM_ERROR:DI}=H6;function gy(i){this.options=q6.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new X9,this.strm.avail_out=0;let t=bh.inflateInit2(this.strm,e.windowBits);if(t!==V1)throw new Error(T_[t]);if(this.header=new CI,bh.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=E_.string2buf(e.dictionary):iN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=bh.inflateSetDictionary(this.strm,e.dictionary),t!==V1)))throw new Error(T_[t])}gy.prototype.push=function(i,e){const t=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let r,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?RI:NI,iN.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),r=bh.inflate(t,o),r===z5&&a&&(r=bh.inflateSetDictionary(t,a),r===V1?r=bh.inflate(t,o):r===X4&&(r=z5));t.avail_in>0&&r===U5&&t.state.wrap>0&&i[t.next_in]!==0;)bh.inflateReset(t),r=bh.inflate(t,o);switch(r){case LI:case X4:case z5:case DI:return this.onEnd(r),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||r===U5))if(this.options.to==="string"){let u=E_.utf8border(t.output,t.next_out),d=t.next_out-u,m=E_.buf2string(t.output,u);t.next_out=d,t.avail_out=n-d,d&&t.output.set(t.output.subarray(u,u+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===V1&&l===0)){if(r===U5)return r=bh.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};gy.prototype.onData=function(i){this.chunks.push(i)};gy.prototype.onEnd=function(i){i===V1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=q6.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function OI(i,e){const t=new gy(e);if(t.push(i),t.err)throw t.msg||T_[t.err];return t.result}var PI=gy,kI=OI,II={Inflate:PI,inflate:kI};const{Inflate:UI,inflate:zI}=II;var Y4=UI,BI=zI;const aN=[];for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;aN[i]=e}const $4=4294967295;function jI(i,e,t){let n=i;for(let a=0;a<t;a++)n=aN[(n^e[a])&255]^n>>>8;return n}function FI(i,e){return(jI($4,i,e)^$4)>>>0}function K4(i,e,t){const n=i.readUint32(),a=FI(new Uint8Array(i.buffer,i.byteOffset+i.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${a}`)}function rN(i,e,t){for(let n=0;n<t;n++)e[n]=i[n]}function sN(i,e,t,n){let a=0;for(;a<n;a++)e[a]=i[a];for(;a<t;a++)e[a]=i[a]+e[a-n]&255}function oN(i,e,t,n){let a=0;if(t.length===0)for(;a<n;a++)e[a]=i[a];else for(;a<n;a++)e[a]=i[a]+t[a]&255}function lN(i,e,t,n,a){let r=0;if(t.length===0){for(;r<a;r++)e[r]=i[r];for(;r<n;r++)e[r]=i[r]+(e[r-a]>>1)&255}else{for(;r<a;r++)e[r]=i[r]+(t[r]>>1)&255;for(;r<n;r++)e[r]=i[r]+(e[r-a]+t[r]>>1)&255}}function cN(i,e,t,n,a){let r=0;if(t.length===0){for(;r<a;r++)e[r]=i[r];for(;r<n;r++)e[r]=i[r]+e[r-a]&255}else{for(;r<a;r++)e[r]=i[r]+t[r]&255;for(;r<n;r++)e[r]=i[r]+VI(e[r-a],t[r],t[r-a])&255}}function VI(i,e,t){const n=i+e-t,a=Math.abs(n-i),r=Math.abs(n-e),o=Math.abs(n-t);return a<=r&&a<=o?i:r<=o?e:t}function HI(i,e,t,n,a,r){switch(i){case 0:rN(e,t,a);break;case 1:sN(e,t,a,r);break;case 2:oN(e,t,n,a);break;case 3:lN(e,t,n,a,r);break;case 4:cN(e,t,n,a,r);break;default:throw new Error(`Unsupported filter: ${i}`)}}const qI=new Uint16Array([255]),GI=new Uint8Array(qI.buffer),WI=GI[0]===255;function XI(i){const{data:e,width:t,height:n,channels:a,depth:r}=i,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(r/8)*a,u=new Uint8Array(n*t*l);let d=0;for(let m=0;m<7;m++){const y=o[m],x=Math.ceil((t-y.x)/y.xStep),g=Math.ceil((n-y.y)/y.yStep);if(x<=0||g<=0)continue;const _=x*l,S=new Uint8Array(_);for(let M=0;M<g;M++){const b=e[d++],E=e.subarray(d,d+_);d+=_;const C=new Uint8Array(_);HI(b,E,C,S,_,l),S.set(C);for(let D=0;D<x;D++){const k=y.x+D*y.xStep,H=y.y+M*y.yStep;if(!(k>=t||H>=n))for(let G=0;G<l;G++)u[(H*t+k)*l+G]=C[D*l+G]}}}if(r===16){const m=new Uint16Array(u.buffer);if(WI)for(let y=0;y<m.length;y++)m[y]=YI(m[y]);return m}else return u}function YI(i){return(i&255)<<8|i>>8&255}const $I=new Uint16Array([255]),KI=new Uint8Array($I.buffer),ZI=KI[0]===255,JI=new Uint8Array(0);function Z4(i){const{data:e,width:t,height:n,channels:a,depth:r}=i,o=Math.ceil(r/8)*a,l=Math.ceil(r/8*a*t),u=new Uint8Array(n*l);let d=JI,m=0,y,x;for(let g=0;g<n;g++){switch(y=e.subarray(m+1,m+1+l),x=u.subarray(g*l,(g+1)*l),e[m]){case 0:rN(y,x,l);break;case 1:sN(y,x,l,o);break;case 2:oN(y,x,d,l);break;case 3:lN(y,x,d,l,o);break;case 4:cN(y,x,d,l,o);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=x,m+=l+1}if(r===16){const g=new Uint16Array(u.buffer);if(ZI)for(let _=0;_<g.length;_++)g[_]=QI(g[_]);return g}else return u}function QI(i){return(i&255)<<8|i>>8&255}const Av=Uint8Array.of(137,80,78,71,13,10,26,10);function J4(i){if(!eU(i.readBytes(Av.length)))throw new Error("wrong PNG signature")}function eU(i){if(i.length<Av.length)return!1;for(let e=0;e<Av.length;e++)if(i[e]!==Av[e])return!1;return!0}const tU="tEXt",nU=0,uN=new TextDecoder("latin1");function iU(i){if(rU(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const aU=/^[\u0000-\u00FF]*$/;function rU(i){if(!aU.test(i))throw new Error("invalid latin1 text")}function sU(i,e,t){const n=dN(e);i[n]=oU(e,t-n.length-1)}function dN(i){for(i.mark();i.readByte()!==nU;);const e=i.offset;i.reset();const t=uN.decode(i.readBytes(e-i.offset-1));return i.skip(1),iU(t),t}function oU(i,e){return uN.decode(i.readBytes(e))}const bc={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},B5={UNKNOWN:-1,DEFLATE:0},Q4={UNKNOWN:-1,ADAPTIVE:0},j5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},vx={NONE:0,BACKGROUND:1,PREVIOUS:2},F5={SOURCE:0,OVER:1};class lU extends Rw{constructor(t,n={}){super(t);wa(this,"_checkCrc");wa(this,"_inflator");wa(this,"_png");wa(this,"_apng");wa(this,"_end");wa(this,"_hasPalette");wa(this,"_palette");wa(this,"_hasTransparency");wa(this,"_transparency");wa(this,"_compressionMethod");wa(this,"_filterMethod");wa(this,"_interlaceMethod");wa(this,"_colorType");wa(this,"_isAnimated");wa(this,"_numberOfFrames");wa(this,"_numberOfPlays");wa(this,"_frames");wa(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new Y4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=B5.UNKNOWN,this._filterMethod=Q4.UNKNOWN,this._interlaceMethod=j5.UNKNOWN,this._colorType=bc.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(J4(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(J4(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case tU:sU(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?K4(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?K4(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=cU(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case bc.GREYSCALE:a=1;break;case bc.TRUECOLOUR:a=3;break;case bc.INDEXED_COLOUR:a=1;break;case bc.GREYSCALE_ALPHA:a=2;break;case bc.TRUECOLOUR_ALPHA:a=4;break;case bc.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==B5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let r=0;r<n;r++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case bc.GREYSCALE:case bc.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case bc.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case bc.UNKNOWN:case bc.GREYSCALE_ALPHA:case bc.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=dN(this),a=this.readUint8();if(a!==B5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const r=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:BI(r)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=Z4({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const r=this._apng.frames.at(t-1);this.disposeFrame(a,r,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,a){switch(t.disposeOp){case vx.NONE:break;case vx.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let o=0;o<this._png.width;o++){const l=(r*t.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[l+u]=0}break;case vx.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const a=1<<this._png.depth,r=(o,l)=>{const u=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:u,frameIndex:d}};switch(n.blendOp){case F5.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:d}=r(o,l);for(let m=0;m<this._png.channels;m++)t.data[u+m]=n.data[d+m]}break;case F5.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:d}=r(o,l);for(let m=0;m<this._png.channels;m++){const y=n.data[d+this._png.channels-1]/a,x=m%(this._png.channels-1)===0?1:n.data[d+m],g=Math.floor(y*x+(1-y)*t.data[u+m]);t.data[u+m]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Q4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===j5.NO_INTERLACE)this._png.data=Z4({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===j5.ADAM7)this._png.data=XI({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:vx.NONE,blendOp:F5.SOURCE,data:t}),this._inflator=new Y4,this._writingDataChunks=!1}}function cU(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var eM;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(eM||(eM={}));function uU(i,e){return new lU(i,e).decode()}var Gn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function V5(){Gn.console&&typeof Gn.console.log=="function"&&Gn.console.log.apply(Gn.console,arguments)}var Fa={log:V5,warn:function(i){Gn.console&&(typeof Gn.console.warn=="function"?Gn.console.warn.apply(Gn.console,arguments):V5.call(null,arguments))},error:function(i){Gn.console&&(typeof Gn.console.error=="function"?Gn.console.error.apply(Gn.console,arguments):V5(i))}};function H5(i,e,t){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){Bp(n.response,e,t)},n.onerror=function(){Fa.error("could not download file")},n.send()}function tM(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function bx(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var Bp=Gn.saveAs||((typeof window>"u"?"undefined":Ma(window))!=="object"||window!==Gn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,e,t){var n=Gn.URL||Gn.webkitURL,a=document.createElement("a");e=e||i.name||"download",a.download=e,a.rel="noopener",typeof i=="string"?(a.href=i,a.origin!==location.origin?tM(a.href)?H5(i,e,t):bx(a,a.target="_blank"):bx(a)):(a.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){bx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,t){if(e=e||i.name||"download",typeof i=="string")if(tM(i))H5(i,e,t);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){bx(n)})}else navigator.msSaveOrOpenBlob((function(a,r){return r===void 0?r={autoBom:!1}:Ma(r)!=="object"&&(Fa.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(i,t),e)}:function(i,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return H5(i,e,t);var a=i.type==="application/octet-stream",r=/constructor/i.test(Gn.HTMLElement)||Gn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&r)&&(typeof FileReader>"u"?"undefined":Ma(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var m=l.result;m=o?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},l.readAsDataURL(i)}else{var u=Gn.URL||Gn.webkitURL,d=u.createObjectURL(i);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hN(i){var e;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,r=t[n].process,o=a.exec(i);o&&(e=r(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}var Mv=Gn.atob.bind(Gn),nM=Gn.btoa.bind(Gn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function q5(i,e){var t=i[0],n=i[1],a=i[2],r=i[3];t=Co(t,n,a,r,e[0],7,-680876936),r=Co(r,t,n,a,e[1],12,-389564586),a=Co(a,r,t,n,e[2],17,606105819),n=Co(n,a,r,t,e[3],22,-1044525330),t=Co(t,n,a,r,e[4],7,-176418897),r=Co(r,t,n,a,e[5],12,1200080426),a=Co(a,r,t,n,e[6],17,-1473231341),n=Co(n,a,r,t,e[7],22,-45705983),t=Co(t,n,a,r,e[8],7,1770035416),r=Co(r,t,n,a,e[9],12,-1958414417),a=Co(a,r,t,n,e[10],17,-42063),n=Co(n,a,r,t,e[11],22,-1990404162),t=Co(t,n,a,r,e[12],7,1804603682),r=Co(r,t,n,a,e[13],12,-40341101),a=Co(a,r,t,n,e[14],17,-1502002290),t=No(t,n=Co(n,a,r,t,e[15],22,1236535329),a,r,e[1],5,-165796510),r=No(r,t,n,a,e[6],9,-1069501632),a=No(a,r,t,n,e[11],14,643717713),n=No(n,a,r,t,e[0],20,-373897302),t=No(t,n,a,r,e[5],5,-701558691),r=No(r,t,n,a,e[10],9,38016083),a=No(a,r,t,n,e[15],14,-660478335),n=No(n,a,r,t,e[4],20,-405537848),t=No(t,n,a,r,e[9],5,568446438),r=No(r,t,n,a,e[14],9,-1019803690),a=No(a,r,t,n,e[3],14,-187363961),n=No(n,a,r,t,e[8],20,1163531501),t=No(t,n,a,r,e[13],5,-1444681467),r=No(r,t,n,a,e[2],9,-51403784),a=No(a,r,t,n,e[7],14,1735328473),t=Ro(t,n=No(n,a,r,t,e[12],20,-1926607734),a,r,e[5],4,-378558),r=Ro(r,t,n,a,e[8],11,-2022574463),a=Ro(a,r,t,n,e[11],16,1839030562),n=Ro(n,a,r,t,e[14],23,-35309556),t=Ro(t,n,a,r,e[1],4,-1530992060),r=Ro(r,t,n,a,e[4],11,1272893353),a=Ro(a,r,t,n,e[7],16,-155497632),n=Ro(n,a,r,t,e[10],23,-1094730640),t=Ro(t,n,a,r,e[13],4,681279174),r=Ro(r,t,n,a,e[0],11,-358537222),a=Ro(a,r,t,n,e[3],16,-722521979),n=Ro(n,a,r,t,e[6],23,76029189),t=Ro(t,n,a,r,e[9],4,-640364487),r=Ro(r,t,n,a,e[12],11,-421815835),a=Ro(a,r,t,n,e[15],16,530742520),t=Lo(t,n=Ro(n,a,r,t,e[2],23,-995338651),a,r,e[0],6,-198630844),r=Lo(r,t,n,a,e[7],10,1126891415),a=Lo(a,r,t,n,e[14],15,-1416354905),n=Lo(n,a,r,t,e[5],21,-57434055),t=Lo(t,n,a,r,e[12],6,1700485571),r=Lo(r,t,n,a,e[3],10,-1894986606),a=Lo(a,r,t,n,e[10],15,-1051523),n=Lo(n,a,r,t,e[1],21,-2054922799),t=Lo(t,n,a,r,e[8],6,1873313359),r=Lo(r,t,n,a,e[15],10,-30611744),a=Lo(a,r,t,n,e[6],15,-1560198380),n=Lo(n,a,r,t,e[13],21,1309151649),t=Lo(t,n,a,r,e[4],6,-145523070),r=Lo(r,t,n,a,e[11],10,-1120210379),a=Lo(a,r,t,n,e[2],15,718787259),n=Lo(n,a,r,t,e[9],21,-343485551),i[0]=Nf(t,i[0]),i[1]=Nf(n,i[1]),i[2]=Nf(a,i[2]),i[3]=Nf(r,i[3])}function tb(i,e,t,n,a,r){return e=Nf(Nf(e,i),Nf(n,r)),Nf(e<<a|e>>>32-a,t)}function Co(i,e,t,n,a,r,o){return tb(e&t|~e&n,i,e,a,r,o)}function No(i,e,t,n,a,r,o){return tb(e&n|t&~n,i,e,a,r,o)}function Ro(i,e,t,n,a,r,o){return tb(e^t^n,i,e,a,r,o)}function Lo(i,e,t,n,a,r,o){return tb(t^(e|~n),i,e,a,r,o)}function fN(i){var e,t=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=i.length;e+=64)q5(n,dU(i.substring(e-64,e)));i=i.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i.length;e++)a[e>>2]|=i.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(q5(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,q5(n,a),n}function dU(i){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=i.charCodeAt(e)+(i.charCodeAt(e+1)<<8)+(i.charCodeAt(e+2)<<16)+(i.charCodeAt(e+3)<<24);return t}var iM="0123456789abcdef".split("");function hU(i){for(var e="",t=0;t<4;t++)e+=iM[i>>8*t+4&15]+iM[i>>8*t&15];return e}function fU(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function C_(i){return fN(i).map(fU).join("")}var pU=(function(i){for(var e=0;e<i.length;e++)i[e]=hU(i[e]);return i.join("")})(fN("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nf(i,e){if(pU){var t=(65535&i)+(65535&e);return(i>>16)+(e>>16)+(t>>16)<<16|65535&t}return i+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function N_(i,e){var t,n,a,r;if(i!==t){for(var o=(a=i,r=1+(256/i.length|0),new Array(r+1).join(a)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var m=l[u];d=(d+m+o.charCodeAt(u))%256,l[u]=l[d],l[d]=m}t=i,n=l}else l=n;var y=e.length,x=0,g=0,_="";for(u=0;u<y;u++)g=(g+(m=l[x=(x+1)%256]))%256,l[x]=l[g],l[g]=m,o=l[(l[x]+l[g])%256],_+=String.fromCharCode(e.charCodeAt(u)^o);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var aM={print:4,modify:8,copy:16,"annot-forms":32};function S0(i,e,t,n){this.v=1,this.r=2;var a=192;i.forEach(function(l){if(aM.perm!==void 0)throw new Error("Invalid permission: "+l);a+=aM[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var r=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,o),this.P=-(1+(255^a)),this.encryptionKey=C_(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=N_(this.encryptionKey,this.padding)}function A0(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var e="",t=i.length,n=0;n<t;n++){var a=i.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):i[n]}return e}function rM(i){if(Ma(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var r=Math.random().toString(35);return e[t][r]=[n,!!a],r},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var r in e[t]){var o=e[t][r];try{o[0].apply(i,n)}catch(l){Gn.console&&Fa.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(r)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Gv(i){if(!(this instanceof Gv))return new Gv(i);var e="opacity,stroke-opacity".split(",");for(var t in i)i.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=i[t]);this.id="",this.objectNumber=-1}function pN(i,e){this.gState=i,this.matrix=e,this.id="",this.objectNumber=-1}function Wp(i,e,t,n,a){if(!(this instanceof Wp))return new Wp(i,e,t,n,a);this.type=i==="axial"?2:3,this.coords=e,this.colors=t,pN.call(this,n,a)}function M0(i,e,t,n,a){if(!(this instanceof M0))return new M0(i,e,t,n,a);this.boundingBox=i,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,pN.call(this,n,a)}function Tn(i){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],r=arguments[3],o=[],l=1,u=16,d="S",m=null;Ma(i=i||{})==="object"&&(t=i.orientation,n=i.unit||n,a=i.format||a,r=i.compress||i.compressPdf||r,(m=i.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),l=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(e=i.precision),i.floatPrecision!==void 0&&(u=i.floatPrecision),d=i.defaultPathOperation||"S"),o=i.filters||(r===!0?["FlateEncode"]:o),n=n||"mm",t=(""+(t||"P")).toLowerCase();var y=i.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=rM;var _="1.3",S=g.__private__.getPdfVersion=function(){return _};g.__private__.setPdfVersion=function(F){_=F};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return M};var b=g.__private__.getPageFormat=function(F){return M[F]};a=a||"a4";var E="compat",C="advanced",D=E;function k(){this.saveGraphicsState(),j(new $t(yt,0,0,-yt,0,xl()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),d="n",D=C}function H(){this.restoreGraphicsState(),d="S",D=E}var G=g.__private__.combineFontStyleAndFontWeight=function(F,he){if(F=="bold"&&he=="normal"||F=="bold"&&he==400||F=="normal"&&he=="italic"||F=="bold"&&he=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return he&&(F=he==400||he==="normal"?F==="italic"?"italic":"normal":he!=700&&he!=="bold"||F!=="normal"?(he==700?"bold":he)+""+F:"bold"),F};g.advancedAPI=function(F){var he=D===E;return he&&k.call(this),typeof F!="function"||(F(this),he&&H.call(this)),this},g.compatAPI=function(F){var he=D===C;return he&&H.call(this),typeof F!="function"||(F(this),he&&k.call(this)),this},g.isAdvancedAPI=function(){return D===C};var X,O=function(F){if(D!==C)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=g.roundToPrecision=g.__private__.roundToPrecision=function(F,he){var Ie=e||he;if(isNaN(F)||isNaN(Ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(Ie).replace(/0+$/,"")};X=g.hpf=g.__private__.hpf=typeof u=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return z(F,u)}:u==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return z(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return z(F,16)};var q=g.f2=g.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return z(F,2)},I=g.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return z(F,3)},$=g.scale=g.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return D===E?F*yt:D===C?F:void 0},U=function(F){return $((function(he){return D===E?xl()-he:D===C?he:void 0})(F))};g.__private__.setPrecision=g.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(e=parseInt(F,10))};var oe,J="00000000000000000000000000000000",ae=g.__private__.getFileId=function(){return J},te=g.__private__.setFileId=function(F){return J=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(ra=new S0(m.userPermissions,m.userPassword,m.ownerPassword,J)),J};g.setFileId=function(F){return te(F),this},g.getFileId=function(){return ae()};var le=g.__private__.convertDateToPDFDate=function(F){var he=F.getTimezoneOffset(),Ie=he<0?"+":"-",He=Math.floor(Math.abs(he/60)),Qe=Math.abs(he%60),Rt=[Ie,ce(He),"'",ce(Qe),"'"].join("");return["D:",F.getFullYear(),ce(F.getMonth()+1),ce(F.getDate()),ce(F.getHours()),ce(F.getMinutes()),ce(F.getSeconds()),Rt].join("")},Me=g.__private__.convertPDFDateToDate=function(F){var he=parseInt(F.substr(2,4),10),Ie=parseInt(F.substr(6,2),10)-1,He=parseInt(F.substr(8,2),10),Qe=parseInt(F.substr(10,2),10),Rt=parseInt(F.substr(12,2),10),zt=parseInt(F.substr(14,2),10);return new Date(he,Ie,He,Qe,Rt,zt,0)},Z=g.__private__.setCreationDate=function(F){var he;if(F===void 0&&(F=new Date),F instanceof Date)he=le(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");he=F}return oe=he},V=g.__private__.getCreationDate=function(F){var he=oe;return F==="jsDate"&&(he=Me(oe)),he};g.setCreationDate=function(F){return Z(F),this},g.getCreationDate=function(F){return V(F)};var re,ce=g.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},pe=g.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},me=0,Ee=[],Ue=[],ze=0,We=[],at=[],Ct=!1,gt=Ue;g.__private__.setCustomOutputDestination=function(F){Ct=!0,gt=F};var W=function(F){Ct||(gt=F)};g.__private__.resetCustomOutputDestination=function(){Ct=!1,gt=Ue};var j=g.__private__.out=function(F){return F=F.toString(),ze+=F.length+1,gt.push(F),gt},xe=g.__private__.write=function(F){return j(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},de=g.__private__.getArrayBuffer=function(F){for(var he=F.length,Ie=new ArrayBuffer(he),He=new Uint8Array(Ie);he--;)He[he]=F.charCodeAt(he);return Ie},ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ue};var ie=i.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(F){return ie=D===C?F/yt:F,this};var Re,Pe=g.__private__.getFontSize=g.getFontSize=function(){return D===E?ie:ie*yt},ge=i.R2L||!1;g.__private__.setR2L=g.setR2L=function(F){return ge=F,this},g.__private__.getR2L=g.getR2L=function(){return ge};var se,ee=g.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))Re=F;else if(isNaN(F)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');Re=F}else Re=parseInt(F,10)};g.__private__.getZoomMode=function(){return Re};var Ae,je=g.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');se=F};g.__private__.getPageMode=function(){return se};var Ge=g.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Ae=F};g.__private__.getLayoutMode=function(){return Ae},g.__private__.setDisplayMode=g.setDisplayMode=function(F,he,Ie){return ee(F),Ge(he),je(Ie),this};var Be={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(F){if(Object.keys(Be).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Be[F]},g.__private__.getDocumentProperties=function(){return Be},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(F){for(var he in Be)Be.hasOwnProperty(he)&&F[he]&&(Be[he]=F[he]);return this},g.__private__.setDocumentProperty=function(F,he){if(Object.keys(Be).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Be[F]=he};var mt,yt,Mt,jt,Ke,st={},Dt={},De=[],qe={},St={},Ne={},xt={},Tt=null,bt=0,ot=[],dt=new rM(g),qt=i.hotfixes||[],Xt={},wn={},xn=[],$t=function F(he,Ie,He,Qe,Rt,zt){if(!(this instanceof F))return new F(he,Ie,He,Qe,Rt,zt);isNaN(he)&&(he=1),isNaN(Ie)&&(Ie=0),isNaN(He)&&(He=0),isNaN(Qe)&&(Qe=1),isNaN(Rt)&&(Rt=0),isNaN(zt)&&(zt=0),this._matrix=[he,Ie,He,Qe,Rt,zt]};Object.defineProperty($t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty($t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty($t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty($t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty($t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty($t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty($t.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty($t.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty($t.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty($t.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty($t.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty($t.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty($t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$t.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(F)},$t.prototype.multiply=function(F){var he=F.sx*this.sx+F.shy*this.shx,Ie=F.sx*this.shy+F.shy*this.sy,He=F.shx*this.sx+F.sy*this.shx,Qe=F.shx*this.shy+F.sy*this.sy,Rt=F.tx*this.sx+F.ty*this.shx+this.tx,zt=F.tx*this.shy+F.ty*this.sy+this.ty;return new $t(he,Ie,He,Qe,Rt,zt)},$t.prototype.decompose=function(){var F=this.sx,he=this.shy,Ie=this.shx,He=this.sy,Qe=this.tx,Rt=this.ty,zt=Math.sqrt(F*F+he*he),sn=(F/=zt)*Ie+(he/=zt)*He;Ie-=F*sn,He-=he*sn;var dn=Math.sqrt(Ie*Ie+He*He);return sn/=dn,F*(He/=dn)<he*(Ie/=dn)&&(F=-F,he=-he,sn=-sn,zt=-zt),{scale:new $t(zt,0,0,dn,0,0),translate:new $t(1,0,0,1,Qe,Rt),rotate:new $t(F,he,-he,F,0,0),skew:new $t(1,0,sn,1,0,0)}},$t.prototype.toString=function(F){return this.join(" ")},$t.prototype.inversed=function(){var F=this.sx,he=this.shy,Ie=this.shx,He=this.sy,Qe=this.tx,Rt=this.ty,zt=1/(F*He-he*Ie),sn=He*zt,dn=-he*zt,On=-Ie*zt,jn=F*zt;return new $t(sn,dn,On,jn,-sn*Qe-On*Rt,-dn*Qe-jn*Rt)},$t.prototype.applyToPoint=function(F){var he=F.x*this.sx+F.y*this.shx+this.tx,Ie=F.x*this.shy+F.y*this.sy+this.ty;return new Ys(he,Ie)},$t.prototype.applyToRectangle=function(F){var he=this.applyToPoint(F),Ie=this.applyToPoint(new Ys(F.x+F.w,F.y+F.h));return new ws(he.x,he.y,Ie.x-he.x,Ie.y-he.y)},$t.prototype.clone=function(){var F=this.sx,he=this.shy,Ie=this.shx,He=this.sy,Qe=this.tx,Rt=this.ty;return new $t(F,he,Ie,He,Qe,Rt)},g.Matrix=$t;var Fi=g.matrixMult=function(F,he){return he.multiply(F)},Gs=new $t(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Gs;var Ar=function(F,he){if(!St[F]){var Ie=(he instanceof Wp?"Sh":"P")+(Object.keys(qe).length+1).toString(10);he.id=Ie,St[F]=Ie,qe[Ie]=he,dt.publish("addPattern",he)}};g.ShadingPattern=Wp,g.TilingPattern=M0,g.addShadingPattern=function(F,he){return O("addShadingPattern()"),Ar(F,he),this},g.beginTilingPattern=function(F){O("beginTilingPattern()"),Lc(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},g.endTilingPattern=function(F,he){O("endTilingPattern()"),he.stream=at[re].join(`
`),Ar(F,he),dt.publish("endTilingPattern",he),xn.pop().restore()};var Mr,ei=g.__private__.newObject=function(){var F=ya();return Ki(F,!0),F},ya=g.__private__.newObjectDeferred=function(){return me++,Ee[me]=function(){return ze},me},Ki=function(F,he){return he=typeof he=="boolean"&&he,Ee[F]=ze,he&&j(F+" 0 obj"),F},dr=g.__private__.newAdditionalObject=function(){var F={objId:ya(),content:""};return We.push(F),F},Pa=ya(),Dn=ya(),ji=g.__private__.decodeColorString=function(F){var he=F.split(" ");if(he.length!==2||he[1]!=="g"&&he[1]!=="G")he.length!==5||he[4]!=="k"&&he[4]!=="K"||(he=[(1-he[0])*(1-he[3]),(1-he[1])*(1-he[3]),(1-he[2])*(1-he[3]),"r"]);else{var Ie=parseFloat(he[0]);he=[Ie,Ie,Ie,"r"]}for(var He="#",Qe=0;Qe<3;Qe++)He+=("0"+Math.floor(255*parseFloat(he[Qe])).toString(16)).slice(-2);return He},Xa=g.__private__.encodeColorString=function(F){var he;typeof F=="string"&&(F={ch1:F});var Ie=F.ch1,He=F.ch2,Qe=F.ch3,Rt=F.ch4,zt=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ie=="string"&&Ie.charAt(0)!=="#"){var sn=new hN(Ie);if(sn.ok)Ie=sn.toHex();else if(!/^\d*\.?\d*$/.test(Ie))throw new Error('Invalid color "'+Ie+'" passed to jsPDF.encodeColorString.')}if(typeof Ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ie)&&(Ie="#"+Ie[1]+Ie[1]+Ie[2]+Ie[2]+Ie[3]+Ie[3]),typeof Ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ie)){var dn=parseInt(Ie.substr(1),16);Ie=dn>>16&255,He=dn>>8&255,Qe=255&dn}if(He===void 0||Rt===void 0&&Ie===He&&He===Qe)he=typeof Ie=="string"?Ie+" "+zt[0]:F.precision===2?q(Ie/255)+" "+zt[0]:I(Ie/255)+" "+zt[0];else if(Rt===void 0||Ma(Rt)==="object"){if(Rt&&!isNaN(Rt.a)&&Rt.a===0)return["1.","1.","1.",zt[1]].join(" ");he=typeof Ie=="string"?[Ie,He,Qe,zt[1]].join(" "):F.precision===2?[q(Ie/255),q(He/255),q(Qe/255),zt[1]].join(" "):[I(Ie/255),I(He/255),I(Qe/255),zt[1]].join(" ")}else he=typeof Ie=="string"?[Ie,He,Qe,Rt,zt[2]].join(" "):F.precision===2?[q(Ie),q(He),q(Qe),q(Rt),zt[2]].join(" "):[I(Ie),I(He),I(Qe),I(Rt),zt[2]].join(" ");return he},Hr=g.__private__.getFilters=function(){return o},gs=g.__private__.putStream=function(F){var he=(F=F||{}).data||"",Ie=F.filters||Hr(),He=F.alreadyAppliedFilters||[],Qe=F.addLength1||!1,Rt=he.length,zt=F.objectId,sn=function(oa){return oa};if(m!==null&&zt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(sn=ra.encryptor(zt,0));var dn={};Ie===!0&&(Ie=["FlateEncode"]);var On=F.additionalKeyValues||[],jn=(dn=Tn.API.processDataByFilters!==void 0?Tn.API.processDataByFilters(he,Ie):{data:he,reverseChain:[]}).reverseChain+(Array.isArray(He)?He.join(" "):He.toString());if(dn.data.length!==0&&(On.push({key:"Length",value:dn.data.length}),Qe===!0&&On.push({key:"Length1",value:Rt})),jn.length!=0)if(jn.split("/").length-1==1)On.push({key:"Filter",value:jn});else{On.push({key:"Filter",value:"["+jn+"]"});for(var mi=0;mi<On.length;mi+=1)if(On[mi].key==="DecodeParms"){for(var Ta=[],ka=0;ka<dn.reverseChain.split("/").length-1;ka+=1)Ta.push("null");Ta.push(On[mi].value),On[mi].value="["+Ta.join(" ")+"]"}}j("<<");for(var sa=0;sa<On.length;sa++)j("/"+On[sa].key+" "+On[sa].value);j(">>"),dn.data.length!==0&&(j("stream"),j(sn(dn.data)),j("endstream"))},Jl=g.__private__.putPage=function(F){var he=F.number,Ie=F.data,He=F.objId,Qe=F.contentsObjId;Ki(He,!0),j("<</Type /Page"),j("/Parent "+F.rootDictionaryObjId+" 0 R"),j("/Resources "+F.resourceDictionaryObjId+" 0 R"),j("/MediaBox ["+parseFloat(X(F.mediaBox.bottomLeftX))+" "+parseFloat(X(F.mediaBox.bottomLeftY))+" "+X(F.mediaBox.topRightX)+" "+X(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&j("/CropBox ["+X(F.cropBox.bottomLeftX)+" "+X(F.cropBox.bottomLeftY)+" "+X(F.cropBox.topRightX)+" "+X(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&j("/BleedBox ["+X(F.bleedBox.bottomLeftX)+" "+X(F.bleedBox.bottomLeftY)+" "+X(F.bleedBox.topRightX)+" "+X(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&j("/TrimBox ["+X(F.trimBox.bottomLeftX)+" "+X(F.trimBox.bottomLeftY)+" "+X(F.trimBox.topRightX)+" "+X(F.trimBox.topRightY)+"]"),F.artBox!==null&&j("/ArtBox ["+X(F.artBox.bottomLeftX)+" "+X(F.artBox.bottomLeftY)+" "+X(F.artBox.topRightX)+" "+X(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&j("/UserUnit "+F.userUnit),dt.publish("putPage",{objId:He,pageContext:ot[he],pageNumber:he,page:Ie}),j("/Contents "+Qe+" 0 R"),j(">>"),j("endobj");var Rt=Ie.join(`
`);return D===C&&(Rt+=`
Q`),Ki(Qe,!0),gs({data:Rt,filters:Hr(),objectId:Qe}),j("endobj"),He},ys=g.__private__.putPages=function(){var F,he,Ie=[];for(F=1;F<=bt;F++)ot[F].objId=ya(),ot[F].contentsObjId=ya();for(F=1;F<=bt;F++)Ie.push(Jl({number:F,data:at[F],objId:ot[F].objId,contentsObjId:ot[F].contentsObjId,mediaBox:ot[F].mediaBox,cropBox:ot[F].cropBox,bleedBox:ot[F].bleedBox,trimBox:ot[F].trimBox,artBox:ot[F].artBox,userUnit:ot[F].userUnit,rootDictionaryObjId:Pa,resourceDictionaryObjId:Dn}));Ki(Pa,!0),j("<</Type /Pages");var He="/Kids [";for(he=0;he<bt;he++)He+=Ie[he]+" 0 R ";j(He+"]"),j("/Count "+bt),j(">>"),j("endobj"),dt.publish("postPutPages")},xs=function(F){dt.publish("putFont",{font:F,out:j,newObject:ei,putStream:gs}),F.isAlreadyPutted!==!0&&(F.objectNumber=ei(),j("<<"),j("/Type /Font"),j("/BaseFont /"+A0(F.postScriptName)),j("/Subtype /Type1"),typeof F.encoding=="string"&&j("/Encoding /"+F.encoding),j("/FirstChar 32"),j("/LastChar 255"),j(">>"),j("endobj"))},co=function(F){F.objectNumber=ei();var he=[];he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Form"}),he.push({key:"BBox",value:"["+[X(F.x),X(F.y),X(F.x+F.width),X(F.y+F.height)].join(" ")+"]"}),he.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var Ie=F.pages[1].join(`
`);gs({data:Ie,additionalKeyValues:he,objectId:F.objectNumber}),j("endobj")},da=function(F,he){he||(he=21);var Ie=ei(),He=(function(zt,sn){var dn,On=[],jn=1/(sn-1);for(dn=0;dn<1;dn+=jn)On.push(dn);if(On.push(1),zt[0].offset!=0){var mi={offset:0,color:zt[0].color};zt.unshift(mi)}if(zt[zt.length-1].offset!=1){var Ta={offset:1,color:zt[zt.length-1].color};zt.push(Ta)}for(var ka="",sa=0,oa=0;oa<On.length;oa++){for(dn=On[oa];dn>zt[sa+1].offset;)sa++;var Ha=zt[sa].offset,qr=(dn-Ha)/(zt[sa+1].offset-Ha),vl=zt[sa].color,Cr=zt[sa+1].color;ka+=pe(Math.round((1-qr)*vl[0]+qr*Cr[0]).toString(16))+pe(Math.round((1-qr)*vl[1]+qr*Cr[1]).toString(16))+pe(Math.round((1-qr)*vl[2]+qr*Cr[2]).toString(16))}return ka.trim()})(F.colors,he),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+he+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gs({data:He,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ie}),j("endobj"),F.objectNumber=ei(),j("<< /ShadingType "+F.type),j("/ColorSpace /DeviceRGB");var Rt="/Coords ["+X(parseFloat(F.coords[0]))+" "+X(parseFloat(F.coords[1]))+" ";F.type===2?Rt+=X(parseFloat(F.coords[2]))+" "+X(parseFloat(F.coords[3])):Rt+=X(parseFloat(F.coords[2]))+" "+X(parseFloat(F.coords[3]))+" "+X(parseFloat(F.coords[4]))+" "+X(parseFloat(F.coords[5])),j(Rt+="]"),F.matrix&&j("/Matrix ["+F.matrix.toString()+"]"),j("/Function "+Ie+" 0 R"),j("/Extend [true true]"),j(">>"),j("endobj")},be=function(F,he){var Ie=ya(),He=ei();he.push({resourcesOid:Ie,objectOid:He}),F.objectNumber=He;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+F.boundingBox.map(X).join(" ")+"]"}),Qe.push({key:"XStep",value:X(F.xStep)}),Qe.push({key:"YStep",value:X(F.yStep)}),Qe.push({key:"Resources",value:Ie+" 0 R"}),F.matrix&&Qe.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),gs({data:F.stream,additionalKeyValues:Qe,objectId:F.objectNumber}),j("endobj")},Ze=function(F){for(var he in F.objectNumber=ei(),j("<<"),F)switch(he){case"opacity":j("/ca "+q(F[he]));break;case"stroke-opacity":j("/CA "+q(F[he]))}j(">>"),j("endobj")},ft=function(F){Ki(F.resourcesOid,!0),j("<<"),j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var he in j("/Font <<"),st)st.hasOwnProperty(he)&&(y===!1||y===!0&&x.hasOwnProperty(he))&&j("/"+he+" "+st[he].objectNumber+" 0 R");j(">>")})(),(function(){if(Object.keys(qe).length>0){for(var he in j("/Shading <<"),qe)qe.hasOwnProperty(he)&&qe[he]instanceof Wp&&qe[he].objectNumber>=0&&j("/"+he+" "+qe[he].objectNumber+" 0 R");dt.publish("putShadingPatternDict"),j(">>")}})(),(function(he){if(Object.keys(qe).length>0){for(var Ie in j("/Pattern <<"),qe)qe.hasOwnProperty(Ie)&&qe[Ie]instanceof g.TilingPattern&&qe[Ie].objectNumber>=0&&qe[Ie].objectNumber<he&&j("/"+Ie+" "+qe[Ie].objectNumber+" 0 R");dt.publish("putTilingPatternDict"),j(">>")}})(F.objectOid),(function(){if(Object.keys(Ne).length>0){var he;for(he in j("/ExtGState <<"),Ne)Ne.hasOwnProperty(he)&&Ne[he].objectNumber>=0&&j("/"+he+" "+Ne[he].objectNumber+" 0 R");dt.publish("putGStateDict"),j(">>")}})(),(function(){for(var he in j("/XObject <<"),Xt)Xt.hasOwnProperty(he)&&Xt[he].objectNumber>=0&&j("/"+he+" "+Xt[he].objectNumber+" 0 R");dt.publish("putXobjectDict"),j(">>")})(),j(">>"),j("endobj")},ct=function(F){Dt[F.fontName]=Dt[F.fontName]||{},Dt[F.fontName][F.fontStyle]=F.id},Je=function(F,he,Ie,He,Qe){var Rt={id:"F"+(Object.keys(st).length+1).toString(10),postScriptName:F,fontName:he,fontStyle:Ie,encoding:He,isStandardFont:Qe||!1,metadata:{}};return dt.publish("addFont",{font:Rt,instance:this}),st[Rt.id]=Rt,ct(Rt),Rt.id},Ft=g.__private__.pdfEscape=g.pdfEscape=function(F,he){return(function(Ie,He){var Qe,Rt,zt,sn,dn,On,jn,mi,Ta;if(zt=(He=He||{}).sourceEncoding||"Unicode",dn=He.outputEncoding,(He.autoencode||dn)&&st[mt].metadata&&st[mt].metadata[zt]&&st[mt].metadata[zt].encoding&&(sn=st[mt].metadata[zt].encoding,!dn&&st[mt].encoding&&(dn=st[mt].encoding),!dn&&sn.codePages&&(dn=sn.codePages[0]),typeof dn=="string"&&(dn=sn[dn]),dn)){for(jn=!1,On=[],Qe=0,Rt=Ie.length;Qe<Rt;Qe++)(mi=dn[Ie.charCodeAt(Qe)])?On.push(String.fromCharCode(mi)):On.push(Ie[Qe]),On[Qe].charCodeAt(0)>>8&&(jn=!0);Ie=On.join("")}for(Qe=Ie.length;jn===void 0&&Qe!==0;)Ie.charCodeAt(Qe-1)>>8&&(jn=!0),Qe--;if(!jn)return Ie;for(On=He.noBOM?[]:[254,255],Qe=0,Rt=Ie.length;Qe<Rt;Qe++){if((Ta=(mi=Ie.charCodeAt(Qe))>>8)>>8)throw new Error("Character at position "+Qe+" of string '"+Ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");On.push(Ta),On.push(mi-(Ta<<8))}return String.fromCharCode.apply(void 0,On)})(F,he).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wt=g.__private__.beginPage=function(F){at[++bt]=[],ot[bt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},vn(bt),W(at[re])},Kt=function(F,he){var Ie,He,Qe;switch(t=he||t,typeof F=="string"&&(Ie=b(F.toLowerCase()),Array.isArray(Ie)&&(He=Ie[0],Qe=Ie[1])),Array.isArray(F)&&(He=F[0]*yt,Qe=F[1]*yt),isNaN(He)&&(He=a[0],Qe=a[1]),(He>14400||Qe>14400)&&(Fa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),He=Math.min(14400,He),Qe=Math.min(14400,Qe)),a=[He,Qe],t.substr(0,1)){case"l":Qe>He&&(a=[Qe,He]);break;case"p":He>Qe&&(a=[Qe,He])}Wt(a),Cn(Nc),j(Xs),uu!==0&&j(uu+" J"),tr!==0&&j(tr+" j"),dt.publish("addPage",{pageNumber:bt})},Zt=function(F){F>0&&F<=bt&&(at.splice(F,1),ot.splice(F,1),bt--,re>bt&&(re=bt),this.setPage(re))},vn=function(F){F>0&&F<=bt&&(re=F)},An=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return at.length-1},mn=function(F,he,Ie){var He,Qe=void 0;return Ie=Ie||{},F=F!==void 0?F:st[mt].fontName,he=he!==void 0?he:st[mt].fontStyle,He=F.toLowerCase(),Dt[He]!==void 0&&Dt[He][he]!==void 0?Qe=Dt[He][he]:Dt[F]!==void 0&&Dt[F][he]!==void 0?Qe=Dt[F][he]:Ie.disableWarning===!1&&Fa.warn("Unable to look up font label for font '"+F+"', '"+he+"'. Refer to getFontList() for available fonts."),Qe||Ie.noFallback||(Qe=Dt.times[he])==null&&(Qe=Dt.times.normal),Qe},Rn=g.__private__.putInfo=function(){var F=ei(),he=function(He){return He};for(var Ie in m!==null&&(he=ra.encryptor(F,0)),j("<<"),j("/Producer ("+Ft(he("jsPDF "+Tn.version))+")"),Be)Be.hasOwnProperty(Ie)&&Be[Ie]&&j("/"+Ie.substr(0,1).toUpperCase()+Ie.substr(1)+" ("+Ft(he(Be[Ie]))+")");j("/CreationDate ("+Ft(he(oe))+")"),j(">>"),j("endobj")},ti=g.__private__.putCatalog=function(F){var he=(F=F||{}).rootDictionaryObjId||Pa;switch(ei(),j("<<"),j("/Type /Catalog"),j("/Pages "+he+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ie=""+Re;Ie.substr(Ie.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&j("/OpenAction [3 0 R /XYZ null null "+q(Re)+"]")}switch(Ae||(Ae="continuous"),Ae){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}se&&j("/PageMode /"+se),dt.publish("putCatalog"),j(">>"),j("endobj")},di=g.__private__.putTrailer=function(){j("trailer"),j("<<"),j("/Size "+(me+1)),j("/Root "+me+" 0 R"),j("/Info "+(me-1)+" 0 R"),m!==null&&j("/Encrypt "+ra.oid+" 0 R"),j("/ID [ <"+J+"> <"+J+"> ]"),j(">>")},Sn=g.__private__.putHeader=function(){j("%PDF-"+_),j("%")},_i=g.__private__.putXRef=function(){var F="0000000000";j("xref"),j("0 "+(me+1)),j("0000000000 65535 f ");for(var he=1;he<=me;he++)typeof Ee[he]=="function"?j((F+Ee[he]()).slice(-10)+" 00000 n "):Ee[he]!==void 0?j((F+Ee[he]).slice(-10)+" 00000 n "):j("0000000000 00000 n ")},cn=g.__private__.buildDocument=function(){var F;me=0,ze=0,Ue=[],Ee=[],We=[],Pa=ya(),Dn=ya(),W(Ue),dt.publish("buildDocument"),Sn(),ys(),(function(){dt.publish("putAdditionalObjects");for(var Ie=0;Ie<We.length;Ie++){var He=We[Ie];Ki(He.objId,!0),j(He.content),j("endobj")}dt.publish("postPutAdditionalObjects")})(),F=[],(function(){for(var Ie in st)st.hasOwnProperty(Ie)&&(y===!1||y===!0&&x.hasOwnProperty(Ie))&&xs(st[Ie])})(),(function(){var Ie;for(Ie in Ne)Ne.hasOwnProperty(Ie)&&Ze(Ne[Ie])})(),(function(){for(var Ie in Xt)Xt.hasOwnProperty(Ie)&&co(Xt[Ie])})(),(function(Ie){var He;for(He in qe)qe.hasOwnProperty(He)&&(qe[He]instanceof Wp?da(qe[He]):qe[He]instanceof M0&&be(qe[He],Ie))})(F),dt.publish("putResources"),F.forEach(ft),ft({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),dt.publish("postPutResources"),m!==null&&(ra.oid=ei(),j("<<"),j("/Filter /Standard"),j("/V "+ra.v),j("/R "+ra.r),j("/U <"+ra.toHexString(ra.U)+">"),j("/O <"+ra.toHexString(ra.O)+">"),j("/P "+ra.P),j(">>"),j("endobj")),Rn(),ti();var he=ze;return _i(),di(),j("startxref"),j(""+he),j("%%EOF"),W(at[re]),Ue.join(`
`)},wi=g.__private__.getBlob=function(F){return new Blob([de(F)],{type:"application/pdf"})},ni=g.output=g.__private__.output=(Mr=function(F,he){switch(typeof(he=he||{})=="string"?he={filename:he}:he.filename=he.filename||"generated.pdf",F){case void 0:return cn();case"save":g.save(he.filename);break;case"arraybuffer":return de(cn());case"blob":return wi(cn());case"bloburi":case"bloburl":if(Gn.URL!==void 0&&typeof Gn.URL.createObjectURL=="function")return Gn.URL&&Gn.URL.createObjectURL(wi(cn()))||void 0;Fa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ie="",He=cn();try{Ie=nM(He)}catch{Ie=nM(unescape(encodeURIComponent(He)))}return"data:application/pdf;filename="+he.filename+";base64,"+Ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gn)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';he.pdfObjectUrl&&(Qe=he.pdfObjectUrl,Rt="");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+Rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(he)+");<\/script></body></html>",sn=Gn.open();return sn!==null&&sn.document.write(zt),sn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gn)==="[object Window]"){var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(he.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+he.filename+'" width="500px" height="400px" /></body></html>',On=Gn.open();if(On!==null){On.document.write(dn);var jn=this;On.document.documentElement.querySelector("#pdfViewer").onload=function(){On.document.title=he.filename,On.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jn.output("bloburl"))}}return On}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",he)+'"></iframe></body></html>',Ta=Gn.open();if(Ta!==null&&(Ta.document.write(mi),Ta.document.title=he.filename),Ta||typeof safari>"u")return Ta;break;case"datauri":case"dataurl":return Gn.document.location.href=this.output("datauristring",he);default:return null}},Mr.foo=function(){try{return Mr.apply(this,arguments)}catch(Ie){var F=Ie.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var he="Error in function "+F.split(`
`)[0].split("<")[0]+": "+Ie.message;if(!Gn.console)throw new Error(he);Gn.console.error(he,Ie),Gn.alert&&alert(he)}},Mr.foo.bar=Mr,Mr.foo),Oi=function(F){return Array.isArray(qt)===!0&&qt.indexOf(F)>-1};switch(n){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=Oi("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);yt=n}var ra=null;Z(),te();var pi=g.__private__.getPageInfo=g.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[F].objId,pageNumber:F,pageContext:ot[F]}},Ws=g.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var he in ot)if(ot[he].objId===F)break;return pi(he)},Vi=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ot[re].objId,pageNumber:re,pageContext:ot[re]}};g.addPage=function(){return Kt.apply(this,arguments),this},g.setPage=function(){return vn.apply(this,arguments),W.call(this,at[re]),this},g.insertPage=function(F){return this.addPage(),this.movePage(re,F),this},g.movePage=function(F,he){var Ie,He;if(F>he){Ie=at[F],He=ot[F];for(var Qe=F;Qe>he;Qe--)at[Qe]=at[Qe-1],ot[Qe]=ot[Qe-1];at[he]=Ie,ot[he]=He,this.setPage(he)}else if(F<he){Ie=at[F],He=ot[F];for(var Rt=F;Rt<he;Rt++)at[Rt]=at[Rt+1],ot[Rt]=ot[Rt+1];at[he]=Ie,ot[he]=He,this.setPage(he)}return this},g.deletePage=function(){return Zt.apply(this,arguments),this},g.__private__.text=g.text=function(F,he,Ie,He,Qe){var Rt,zt,sn,dn,On,jn,mi,Ta,ka,sa=(He=He||{}).scope||this;if(typeof F=="number"&&typeof he=="number"&&(typeof Ie=="string"||Array.isArray(Ie))){var oa=Ie;Ie=he,he=F,F=oa}if(arguments[3]instanceof $t==0?(sn=arguments[4],dn=arguments[5],Ma(mi=arguments[3])==="object"&&mi!==null||(typeof sn=="string"&&(dn=sn,sn=null),typeof mi=="string"&&(dn=mi,mi=null),typeof mi=="number"&&(sn=mi,mi=null),He={flags:mi,angle:sn,align:dn})):(O("The transform parameter of text() with a Matrix value"),ka=Qe),isNaN(he)||isNaN(Ie)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return sa;var Ha,qr="",vl=typeof He.lineHeightFactor=="number"?He.lineHeightFactor:Ho,Cr=sa.internal.scaleFactor;function Gr(Si){return Si=Si.split("	").join(Array(He.TabLen||9).join(" ")),Ft(Si,mi)}function du(Si){for(var xi,ha=Si.concat(),Ia=[],Ua=ha.length;Ua--;)typeof(xi=ha.shift())=="string"?Ia.push(xi):Array.isArray(Si)&&(xi.length===1||xi[1]===void 0&&xi[2]===void 0)?Ia.push(xi[0]):Ia.push([xi[0],xi[1],xi[2]]);return Ia}function Oc(Si,xi){var ha;if(typeof Si=="string")ha=xi(Si)[0];else if(Array.isArray(Si)){for(var Ia,Ua,po=Si.concat(),fr=[],Zu=po.length;Zu--;)typeof(Ia=po.shift())=="string"?fr.push(xi(Ia)[0]):Array.isArray(Ia)&&typeof Ia[0]=="string"&&(Ua=xi(Ia[0],Ia[1],Ia[2]),fr.push([Ua[0],Ua[1],Ua[2]]));ha=fr}return ha}var Os=!1,Ps=!0;if(typeof F=="string")Os=!0;else if(Array.isArray(F)){var $s=F.concat();zt=[];for(var Ea,$a=$s.length;$a--;)(typeof(Ea=$s.shift())!="string"||Array.isArray(Ea)&&typeof Ea[0]!="string")&&(Ps=!1);Os=Ps}if(Os===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var tc=ie/sa.internal.scaleFactor,bl=tc*(vl-1);switch(He.baseline){case"bottom":Ie-=bl;break;case"top":Ie+=tc-bl;break;case"hanging":Ie+=tc-2*bl;break;case"middle":Ie+=tc/2-bl}if((jn=He.maxWidth||0)>0&&(typeof F=="string"?F=sa.splitTextToSize(F,jn):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(Si,xi){return Si.concat(sa.splitTextToSize(xi,jn))},[]))),Rt={text:F,x:he,y:Ie,options:He,mutex:{pdfEscape:Ft,activeFontKey:mt,fonts:st,activeFontSize:ie}},dt.publish("preProcessText",Rt),F=Rt.text,sn=(He=Rt.options).angle,ka instanceof $t==0&&sn&&typeof sn=="number"){sn*=Math.PI/180,He.rotationDirection===0&&(sn=-sn),D===C&&(sn=-sn);var _l=Math.cos(sn),ho=Math.sin(sn);ka=new $t(_l,ho,-ho,_l,0,0)}else sn&&sn instanceof $t&&(ka=sn);D!==C||ka||(ka=Gs),(On=He.charSpace||_s)!==void 0&&(qr+=X($(On))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ta=He.horizontalScale)!==void 0&&(qr+=X(100*Ta)+` Tz
`),He.lang;var Nr=-1,wl=He.renderingMode!==void 0?He.renderingMode:He.stroke,Rr=sa.internal.getCurrentPageInfo().pageContext;switch(wl){case 0:case!1:case"fill":Nr=0;break;case 1:case!0:case"stroke":Nr=1;break;case 2:case"fillThenStroke":Nr=2;break;case 3:case"invisible":Nr=3;break;case 4:case"fillAndAddForClipping":Nr=4;break;case 5:case"strokeAndAddPathForClipping":Nr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Nr=6;break;case 7:case"addToPathForClipping":Nr=7}var Ku=Rr.usedRenderingMode!==void 0?Rr.usedRenderingMode:-1;Nr!==-1?qr+=Nr+` Tr
`:Ku!==-1&&(qr+=`0 Tr
`),Nr!==-1&&(Rr.usedRenderingMode=Nr),dn=He.align||"left";var Ss,fo=ie*vl,Sl=sa.internal.pageSize.getWidth(),hu=st[mt];On=He.charSpace||_s,jn=He.maxWidth||0,mi=Object.assign({autoencode:!0,noBOM:!0},He.flags);var Ks=[],nc=function(Si){return sa.getStringUnitWidth(Si,{font:hu,charSpace:On,fontSize:ie,doKerning:!1})*ie/Cr};if(Object.prototype.toString.call(F)==="[object Array]"){var Wr;zt=du(F),dn!=="left"&&(Ss=zt.map(nc));var hr,Mi=0;if(dn==="right"){he-=Ss[0],F=[],$a=zt.length;for(var Al=0;Al<$a;Al++)Al===0?(hr=bs(he),Wr=Er(Ie)):(hr=$(Mi-Ss[Al]),Wr=-fo),F.push([zt[Al],hr,Wr]),Mi=Ss[Al]}else if(dn==="center"){he-=Ss[0]/2,F=[],$a=zt.length;for(var ic=0;ic<$a;ic++)ic===0?(hr=bs(he),Wr=Er(Ie)):(hr=$((Mi-Ss[ic])/2),Wr=-fo),F.push([zt[ic],hr,Wr]),Mi=Ss[ic]}else if(dn==="left"){F=[],$a=zt.length;for(var fu=0;fu<$a;fu++)F.push(zt[fu])}else if(dn==="justify"&&hu.encoding==="Identity-H"){F=[],$a=zt.length,jn=jn!==0?jn:Sl;for(var Ml=0,Ji=0;Ji<$a;Ji++)if(Wr=Ji===0?Er(Ie):-fo,hr=Ji===0?bs(he):Ml,Ji<$a-1){var jd=$((jn-Ss[Ji])/(zt[Ji].split(" ").length-1)),Wo=zt[Ji].split(" ");F.push([Wo[0]+" ",hr,Wr]),Ml=0;for(var ls=1;ls<Wo.length;ls++){var Hi=(nc(Wo[ls-1]+" "+Wo[ls])-nc(Wo[ls]))*Cr+jd;ls==Wo.length-1?F.push([Wo[ls],Hi,0]):F.push([Wo[ls]+" ",Hi,0]),Ml-=Hi}}else F.push([zt[Ji],hr,Wr]);F.push(["",Ml,0])}else{if(dn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],$a=zt.length,jn=jn!==0?jn:Sl,Ji=0;Ji<$a;Ji++){Wr=Ji===0?Er(Ie):-fo,hr=Ji===0?bs(he):0;var Tl=zt[Ji].split(" ").length-1,pu=Tl>0?(jn-Ss[Ji])/Tl:0;Ji<$a-1?Ks.push(X($(pu))):Ks.push(0),F.push([zt[Ji],hr,Wr])}}}(typeof He.R2L=="boolean"?He.R2L:ge)===!0&&(F=Oc(F,function(Si,xi,ha){return[Si.split("").reverse().join(""),xi,ha]})),Rt={text:F,x:he,y:Ie,options:He,mutex:{pdfEscape:Ft,activeFontKey:mt,fonts:st,activeFontSize:ie}},dt.publish("postProcessText",Rt),F=Rt.text,Ha=Rt.mutex.isHex||!1;var mu=st[mt].encoding;mu!=="WinAnsiEncoding"&&mu!=="StandardEncoding"||(F=Oc(F,function(Si,xi,ha){return[Gr(Si),xi,ha]})),zt=du(F),F=[];for(var Xo,Yo,Zs,Pc=Array.isArray(zt[0])?1:0,Js="",El=function(Si,xi,ha){var Ia="";return ha instanceof $t?(ha=typeof He.angle=="number"?Fi(ha,new $t(1,0,0,1,Si,xi)):Fi(new $t(1,0,0,1,Si,xi),ha),D===C&&(ha=Fi(new $t(1,0,0,-1,0,0),ha)),Ia=ha.join(" ")+` Tm
`):Ia=X(Si)+" "+X(xi)+` Td
`,Ia},Xr=0;Xr<zt.length;Xr++){switch(Js="",Pc){case 1:Zs=(Ha?"<":"(")+zt[Xr][0]+(Ha?">":")"),Xo=parseFloat(zt[Xr][1]),Yo=parseFloat(zt[Xr][2]);break;case 0:Zs=(Ha?"<":"(")+zt[Xr]+(Ha?">":")"),Xo=bs(he),Yo=Er(Ie)}Ks!==void 0&&Ks[Xr]!==void 0&&(Js=Ks[Xr]+` Tw
`),Xr===0?F.push(Js+El(Xo,Yo,ka)+Zs):Pc===0?F.push(Js+Zs):Pc===1&&F.push(Js+El(Xo,Yo,ka)+Zs)}F=Pc===0?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var qa=`BT
/`;return qa+=mt+" "+ie+` Tf
`,qa+=X(ie*vl)+` TL
`,qa+=Ds+`
`,qa+=qr,qa+=F,j(qa+="ET"),x[mt]=!0,sa};var Ya=g.__private__.clip=g.clip=function(F){return j(F==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Ya("evenodd")},g.__private__.discardPath=g.discardPath=function(){return j("n"),this};var Zi=g.__private__.isValidStyle=function(F){var he=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(he=!0),he};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(F){return Zi(F)&&(d=F),this};var Va=g.__private__.getStyle=g.getStyle=function(F){var he=d;switch(F){case"D":case"S":he="S";break;case"F":he="f";break;case"FD":case"DF":he="B";break;case"f":case"f*":case"B":case"B*":he=F}return he},xa=g.close=function(){return j("h"),this};g.stroke=function(){return j("S"),this},g.fill=function(F){return os("f",F),this},g.fillEvenOdd=function(F){return os("f*",F),this},g.fillStroke=function(F){return os("B",F),this},g.fillStrokeEvenOdd=function(F){return os("B*",F),this};var os=function(F,he){Ma(he)==="object"?Od(he,F):j(F)},Tr=function(F){F===null||D===C&&F===void 0||(F=Va(F),j(F))};function su(F,he,Ie,He,Qe){var Rt=new M0(he||this.boundingBox,Ie||this.xStep,He||this.yStep,this.gState,Qe||this.matrix);Rt.stream=this.stream;var zt=F+"$$"+this.cloneIndex+++"$$";return Ar(zt,Rt),Rt}var Od=function(F,he){var Ie=St[F.key],He=qe[Ie];if(He instanceof Wp)j("q"),j(ou(he)),He.gState&&g.setGState(He.gState),j(F.matrix.toString()+" cm"),j("/"+Ie+" sh"),j("Q");else if(He instanceof M0){var Qe=new $t(1,0,0,-1,0,xl());F.matrix&&(Qe=Qe.multiply(F.matrix||Gs),Ie=su.call(He,F.key,F.boundingBox,F.xStep,F.yStep,Qe).id),j("q"),j("/Pattern cs"),j("/"+Ie+" scn"),He.gState&&g.setGState(He.gState),j(he),j("Q")}},ou=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wu=g.moveTo=function(F,he){return j(X($(F))+" "+X(U(he))+" m"),this},Pd=g.lineTo=function(F,he){return j(X($(F))+" "+X(U(he))+" l"),this},vs=g.curveTo=function(F,he,Ie,He,Qe,Rt){return j([X($(F)),X(U(he)),X($(Ie)),X(U(He)),X($(Qe)),X(U(Rt)),"c"].join(" ")),this};g.__private__.line=g.line=function(F,he,Ie,He,Qe){if(isNaN(F)||isNaN(he)||isNaN(Ie)||isNaN(He)||!Zi(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return D===E?this.lines([[Ie-F,He-he]],F,he,[1,1],Qe||"S"):this.lines([[Ie-F,He-he]],F,he,[1,1]).stroke()},g.__private__.lines=g.lines=function(F,he,Ie,He,Qe,Rt){var zt,sn,dn,On,jn,mi,Ta,ka,sa,oa,Ha,qr;if(typeof F=="number"&&(qr=Ie,Ie=he,he=F,F=qr),He=He||[1,1],Rt=Rt||!1,isNaN(he)||isNaN(Ie)||!Array.isArray(F)||!Array.isArray(He)||!Zi(Qe)||typeof Rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wu(he,Ie),zt=He[0],sn=He[1],On=F.length,oa=he,Ha=Ie,dn=0;dn<On;dn++)(jn=F[dn]).length===2?(oa=jn[0]*zt+oa,Ha=jn[1]*sn+Ha,Pd(oa,Ha)):(mi=jn[0]*zt+oa,Ta=jn[1]*sn+Ha,ka=jn[2]*zt+oa,sa=jn[3]*sn+Ha,oa=jn[4]*zt+oa,Ha=jn[5]*sn+Ha,vs(mi,Ta,ka,sa,oa,Ha));return Rt&&xa(),Tr(Qe),this},g.path=function(F){for(var he=0;he<F.length;he++){var Ie=F[he],He=Ie.c;switch(Ie.op){case"m":Wu(He[0],He[1]);break;case"l":Pd(He[0],He[1]);break;case"c":vs.apply(this,He);break;case"h":xa()}}return this},g.__private__.rect=g.rect=function(F,he,Ie,He,Qe){if(isNaN(F)||isNaN(he)||isNaN(Ie)||isNaN(He)||!Zi(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return D===E&&(He=-He),j([X($(F)),X(U(he)),X($(Ie)),X($(He)),"re"].join(" ")),Tr(Qe),this},g.__private__.triangle=g.triangle=function(F,he,Ie,He,Qe,Rt,zt){if(isNaN(F)||isNaN(he)||isNaN(Ie)||isNaN(He)||isNaN(Qe)||isNaN(Rt)||!Zi(zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ie-F,He-he],[Qe-Ie,Rt-He],[F-Qe,he-Rt]],F,he,[1,1],zt,!0),this},g.__private__.roundedRect=g.roundedRect=function(F,he,Ie,He,Qe,Rt,zt){if(isNaN(F)||isNaN(he)||isNaN(Ie)||isNaN(He)||isNaN(Qe)||isNaN(Rt)||!Zi(zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var sn=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*Ie),Rt=Math.min(Rt,.5*He),this.lines([[Ie-2*Qe,0],[Qe*sn,0,Qe,Rt-Rt*sn,Qe,Rt],[0,He-2*Rt],[0,Rt*sn,-Qe*sn,Rt,-Qe,Rt],[2*Qe-Ie,0],[-Qe*sn,0,-Qe,-Rt*sn,-Qe,-Rt],[0,2*Rt-He],[0,-Rt*sn,Qe*sn,-Rt,Qe,-Rt]],F+Qe,he,[1,1],zt,!0),this},g.__private__.ellipse=g.ellipse=function(F,he,Ie,He,Qe){if(isNaN(F)||isNaN(he)||isNaN(Ie)||isNaN(He)||!Zi(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Rt=4/3*(Math.SQRT2-1)*Ie,zt=4/3*(Math.SQRT2-1)*He;return Wu(F+Ie,he),vs(F+Ie,he-zt,F+Rt,he-He,F,he-He),vs(F-Rt,he-He,F-Ie,he-zt,F-Ie,he),vs(F-Ie,he+zt,F-Rt,he+He,F,he+He),vs(F+Rt,he+He,F+Ie,he+zt,F+Ie,he),Tr(Qe),this},g.__private__.circle=g.circle=function(F,he,Ie,He){if(isNaN(F)||isNaN(he)||isNaN(Ie)||!Zi(He))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,he,Ie,Ie,He)},g.setFont=function(F,he,Ie){return Ie&&(he=G(he,Ie)),mt=mn(F,he,{disableWarning:!1}),this};var uo=g.__private__.getFont=g.getFont=function(){return st[mn.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var F,he,Ie={};for(F in Dt)if(Dt.hasOwnProperty(F))for(he in Ie[F]=[],Dt[F])Dt[F].hasOwnProperty(he)&&Ie[F].push(he);return Ie},g.addFont=function(F,he,Ie,He,Qe){var Rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Rt.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&Rt.indexOf(arguments[3])==-1&&(Ie=G(Ie,He)),Je.call(this,F,he,Ie,Qe=Qe||"Identity-H")};var Ho,Nc=i.lineWidth||.200025,Ql=g.__private__.getLineWidth=g.getLineWidth=function(){return Nc},Cn=g.__private__.setLineWidth=g.setLineWidth=function(F){return Nc=F,j(X($(F))+" w"),this};g.__private__.setLineDash=Tn.API.setLineDash=Tn.API.setLineDashPattern=function(F,he){if(F=F||[],he=he||0,isNaN(he)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(Ie){return X($(Ie))}).join(" "),he=X($(he)),j("["+F+"] "+he+" d"),this};var kd=g.__private__.getLineHeight=g.getLineHeight=function(){return ie*Ho};g.__private__.getLineHeight=g.getLineHeight=function(){return ie*Ho};var Xu=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(Ho=F),this},Id=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ho};Xu(i.lineHeight);var bs=g.__private__.getHorizontalCoordinate=function(F){return $(F)},Er=g.__private__.getVerticalCoordinate=function(F){return D===C?F:ot[re].mediaBox.topRightY-ot[re].mediaBox.bottomLeftY-$(F)},Yu=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(F){return X(bs(F))},lu=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(F){return X(Er(F))},Xs=i.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ji(Xs)},g.__private__.setStrokeColor=g.setDrawColor=function(F,he,Ie,He){return Xs=Xa({ch1:F,ch2:he,ch3:Ie,ch4:He,pdfColorType:"draw",precision:2}),j(Xs),this};var Rc=i.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ji(Rc)},g.__private__.setFillColor=g.setFillColor=function(F,he,Ie,He){return Rc=Xa({ch1:F,ch2:he,ch3:Ie,ch4:He,pdfColorType:"fill",precision:2}),j(Rc),this};var Ds=i.textColor||"0 g",$u=g.__private__.getTextColor=g.getTextColor=function(){return ji(Ds)};g.__private__.setTextColor=g.setTextColor=function(F,he,Ie,He){return Ds=Xa({ch1:F,ch2:he,ch3:Ie,ch4:He,pdfColorType:"text",precision:3}),this};var _s=i.charSpace,cu=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(_s||0)};g.__private__.setCharSpace=g.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _s=F,this};var uu=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(F){var he=g.CapJoinStyles[F];if(he===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uu=he,j(he+" J"),this};var tr=0;g.__private__.setLineJoin=g.setLineJoin=function(F){var he=g.CapJoinStyles[F];if(he===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tr=he,j(he+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return j(X($(F))+" M"),this},g.GState=Gv,g.setGState=function(F){(F=typeof F=="string"?Ne[xt[F]]:qo(null,F)).equals(Tt)||(j("/"+F.id+" gs"),Tt=F)};var qo=function(F,he){if(!F||!xt[F]){var Ie=!1;for(var He in Ne)if(Ne.hasOwnProperty(He)&&Ne[He].equals(he)){Ie=!0;break}if(Ie)he=Ne[He];else{var Qe="GS"+(Object.keys(Ne).length+1).toString(10);Ne[Qe]=he,he.id=Qe}return F&&(xt[F]=he.id),dt.publish("addGState",he),he}};g.addGState=function(F,he){return qo(F,he),this},g.saveGraphicsState=function(){return j("q"),De.push({key:mt,size:ie,color:Ds}),this},g.restoreGraphicsState=function(){j("Q");var F=De.pop();return mt=F.key,ie=F.size,Ds=F.color,Tt=null,this},g.setCurrentTransformationMatrix=function(F){return j(F.toString()+" cm"),this},g.comment=function(F){return j("#"+F),this};var Ys=function(F,he){var Ie=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ie},set:function(Rt){isNaN(Rt)||(Ie=parseFloat(Rt))}});var He=he||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return He},set:function(Rt){isNaN(Rt)||(He=parseFloat(Rt))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(Rt){Qe=Rt.toString()}}),this},ws=function(F,he,Ie,He){Ys.call(this,F,he),this.type="rect";var Qe=Ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(zt){isNaN(zt)||(Qe=parseFloat(zt))}});var Rt=He||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Rt},set:function(zt){isNaN(zt)||(Rt=parseFloat(zt))}}),this},ec=function(){this.page=bt,this.currentPage=re,this.pages=at.slice(0),this.pagesContext=ot.slice(0),this.x=Mt,this.y=jt,this.matrix=Ke,this.width=gl(re),this.height=Ud(re),this.outputDestination=gt,this.id="",this.objectNumber=-1};ec.prototype.restore=function(){bt=this.page,re=this.currentPage,ot=this.pagesContext,at=this.pages,Mt=this.x,jt=this.y,Ke=this.matrix,Dc(re,this.width),va(re,this.height),gt=this.outputDestination};var Lc=function(F,he,Ie,He,Qe){xn.push(new ec),bt=re=0,at=[],Mt=F,jt=he,Ke=Qe,Wt([Ie,He])};for(var Go in g.beginFormObject=function(F,he,Ie,He,Qe){return Lc(F,he,Ie,He,Qe),this},g.endFormObject=function(F){return(function(he){if(wn[he])xn.pop().restore();else{var Ie=new ec,He="Xo"+(Object.keys(Xt).length+1).toString(10);Ie.id=He,wn[he]=He,Xt[He]=Ie,dt.publish("addFormObject",Ie),xn.pop().restore()}})(F),this},g.doFormObject=function(F,he){var Ie=Xt[wn[F]];return j("q"),j(he.toString()+" cm"),j("/"+Ie.id+" Do"),j("Q"),this},g.getFormObject=function(F){var he=Xt[wn[F]];return{x:he.x,y:he.y,width:he.width,height:he.height,matrix:he.matrix}},g.save=function(F,he){return F=F||"generated.pdf",(he=he||{}).returnPromise=he.returnPromise||!1,he.returnPromise===!1?(Bp(wi(cn()),F),typeof Bp.unload=="function"&&Gn.setTimeout&&setTimeout(Bp.unload,911),this):new Promise(function(Ie,He){try{var Qe=Bp(wi(cn()),F);typeof Bp.unload=="function"&&Gn.setTimeout&&setTimeout(Bp.unload,911),Ie(Qe)}catch(Rt){He(Rt.message)}})},Tn.API)Tn.API.hasOwnProperty(Go)&&(Go==="events"&&Tn.API.events.length?(function(F,he){var Ie,He,Qe;for(Qe=he.length-1;Qe!==-1;Qe--)Ie=he[Qe][0],He=he[Qe][1],F.subscribe.apply(F,[Ie].concat(typeof He=="function"?[He]:He))})(dt,Tn.API.events):g[Go]=Tn.API[Go]);function gl(F){return ot[F].mediaBox.topRightX-ot[F].mediaBox.bottomLeftX}function Dc(F,he){ot[F].mediaBox.topRightX=he+ot[F].mediaBox.bottomLeftX}function Ud(F){return ot[F].mediaBox.topRightY-ot[F].mediaBox.bottomLeftY}function va(F,he){ot[F].mediaBox.topRightY=he+ot[F].mediaBox.bottomLeftY}var yl=g.getPageWidth=function(F){return gl(F=F||re)/yt},zd=g.setPageWidth=function(F,he){Dc(F,he*yt)},xl=g.getPageHeight=function(F){return Ud(F=F||re)/yt},Bd=g.setPageHeight=function(F,he){va(F,he*yt)};return g.internal={pdfEscape:Ft,getStyle:Va,getFont:uo,getFontSize:Pe,getCharSpace:cu,getTextColor:$u,getLineHeight:kd,getLineHeightFactor:Id,getLineWidth:Ql,write:xe,getHorizontalCoordinate:bs,getVerticalCoordinate:Er,getCoordinateString:Yu,getVerticalCoordinateString:lu,collections:{},newObject:ei,newAdditionalObject:dr,newObjectDeferred:ya,newObjectDeferredBegin:Ki,getFilters:Hr,putStream:gs,events:dt,scaleFactor:yt,pageSize:{getWidth:function(){return yl(re)},setWidth:function(F){zd(re,F)},getHeight:function(){return xl(re)},setHeight:function(F){Bd(re,F)}},encryptionOptions:m,encryption:ra,getEncryptor:function(F){return m!==null?ra.encryptor(F,0):function(he){return he}},output:ni,getNumberOfPages:An,get pages(){return at},out:j,f2:q,f3:I,getPageInfo:pi,getPageInfoByObjId:Ws,getCurrentPageInfo:Vi,getPDFVersion:S,Point:Ys,Rectangle:ws,Matrix:$t,hasHotfix:Oi},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return yl(re)},set:function(F){zd(re,F)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return xl(re)},set:function(F){Bd(re,F)},enumerable:!0,configurable:!0}),(function(F){for(var he=0,Ie=ue.length;he<Ie;he++){var He=Je.call(this,F[he][0],F[he][1],F[he][2],ue[he][3],!0);y===!1&&(x[He]=!0);var Qe=F[he][0].split("-");ct({id:He,fontName:Qe[0],fontStyle:Qe[1]||""})}dt.publish("addFonts",{fonts:st,dictionary:Dt})}).call(g,ue),mt="F1",Kt(a,t),dt.publish("initialized"),g}S0.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},S0.prototype.toHexString=function(i){return i.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},S0.prototype.hexToBytes=function(i){for(var e=[],t=0;t<i.length;t+=2)e.push(String.fromCharCode(parseInt(i.substr(t,2),16)));return e.join("")},S0.prototype.processOwnerPassword=function(i,e){return N_(C_(e).substr(0,5),i)},S0.prototype.encryptor=function(i,e){var t=C_(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return N_(t,n)}},Gv.prototype.equals=function(i){var e,t="id,objectNumber,equals";if(!i||Ma(i)!==Ma(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!i.hasOwnProperty(e)||this[e]!==i[e])return!1;n++}for(e in i)i.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Tn.API={events:[]},Tn.version="3.0.4";var jr=Tn.API,Lw=1,ym=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Km=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jn=function(i){return i.toFixed(2)},gf=function(i){return i.toFixed(5)};jr.__acroform__={};var Kl=function(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i},sM=function(i){return i*Lw},bd=function(i){var e=new gN,t=fn.internal.getHeight(i)||0,n=fn.internal.getWidth(i)||0;return e.BBox=[0,0,Number(Jn(n)),Number(Jn(t))],e},mU=jr.__acroform__.setBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<e},gU=jr.__acroform__.clearBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<e)},yU=jr.__acroform__.getBit=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<e?1:0},ns=jr.__acroform__.getBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return yU(i,e-1)},is=jr.__acroform__.setBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mU(i,e-1)},as=jr.__acroform__.clearBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gU(i,e-1)},xU=jr.__acroform__.calculateCoordinates=function(i,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=i[0],r=i[1],o=i[2],l=i[3],u={};return u.lowerLeft_X=t(a)||0,u.lowerLeft_Y=n(r+l)||0,u.upperRight_X=t(a+o)||0,u.upperRight_Y=n(r)||0,[Number(Jn(u.lowerLeft_X)),Number(Jn(u.lowerLeft_Y)),Number(Jn(u.upperRight_X)),Number(Jn(u.upperRight_Y))]},vU=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var e=[],t=i._V||i.DV,n=R_(i,t),a=i.scope.internal.getFont(i.fontName,i.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.scope.__private__.encodeColorString(i.color)),e.push("/"+a+" "+Jn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var r=bd(i);return r.scope=i.scope,r.stream=e.join(`
`),r}},R_=function(i,e){var t=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=i.multiline?a.map(function(q){return q.split(`
`)}):a.map(function(q){return[q]});var r=t,o=fn.internal.getHeight(i)||0;o=o<0?-o:o;var l=fn.internal.getWidth(i)||0;l=l<0?-l:l;var u=function(q,I,$){if(q+1<a.length){var U=I+" "+a[q+1][0];return _x(U,i,$).width<=l-4}return!1};r++;e:for(;r>0;){e="",r--;var d,m,y=_x("3",i,r).height,x=i.multiline?o-r:(o-y)/2,g=x+=2,_=0,S=0,M=0;if(r<=0){e=`(...) Tj
`,e+="% Width of Text: "+_x(e,i,r=12).width+", FieldWidth:"+l+`
`;break}for(var b="",E=0,C=0;C<a.length;C++)if(a.hasOwnProperty(C)){var D=!1;if(a[C].length!==1&&M!==a[C].length-1){if((y+2)*(E+2)+2>o)continue e;b+=a[C][M],D=!0,S=C,C--}else{b=(b+=a[C][M]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var k=parseInt(C),H=u(k,b,r),G=C>=a.length-1;if(H&&!G){b+=" ",M=0;continue}if(H||G){if(G)S=k;else if(i.multiline&&(y+2)*(E+2)+2>o)continue e}else{if(!i.multiline||(y+2)*(E+2)+2>o)continue e;S=k}}for(var X="",O=_;O<=S;O++){var z=a[O];if(i.multiline){if(O===S){X+=z[M]+" ",M=(M+1)%z.length;continue}if(O===_){X+=z[z.length-1]+" ";continue}}X+=z[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,m=_x(X,i,r).width,i.textAlign){case"right":d=l-m-2;break;case"center":d=(l-m)/2;break;default:d=2}e+=Jn(d)+" "+Jn(g)+` Td
`,e+="("+ym(X)+`) Tj
`,e+=-Jn(d)+` 0 Td
`,g=-(r+2),m=0,_=D?S:S+1,E++,b=""}break}return n.text=e,n.fontSize=r,n},_x=function(i,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},bU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_U=function(i,e){var t={type:"reference",object:i};e.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(i.page).pageContext.annotations.push(t)},wU=function(i,e){if(e.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Hu.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(bU)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Lw=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new yN,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var r=n[a];r.objId=void 0,r.hasAnnotation&&_U(r,t)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(t){(function(n,a){var r=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],u=[],d=l.Rect;if(l.Rect&&(l.Rect=xU(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=fn.createDefaultAppearanceStream(l),Ma(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var m=vU(l);u.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(l.appearanceStreamContent){var y="";for(var x in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(x)){var g=l.appearanceStreamContent[x];if(y+="/"+x+" ",y+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var _=g[o];typeof _=="function"&&(_=_.call(a,l)),y+="/"+o+" "+_+" ",a.internal.acroformPlugin.xForms.indexOf(_)>=0||a.internal.acroformPlugin.xForms.push(_)}}else typeof(_=g)=="function"&&(_=_.call(a,l)),y+="/"+o+" "+_,a.internal.acroformPlugin.xForms.indexOf(_)>=0||a.internal.acroformPlugin.xForms.push(_);y+=">>"}u.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:l.objId}),a.internal.out("endobj")}r&&(function(S,M){for(var b in S)if(S.hasOwnProperty(b)){var E=b,C=S[b];M.internal.newObjectDeferredBegin(C.objId,!0),Ma(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete S[E]}})(a.internal.acroformPlugin.xForms,a)})(t,i)}),i.internal.acroformPlugin.isInitialized=!0}},mN=jr.__acroform__.arrayToPdfArray=function(i,e,t){var n=function(o){return o};if(Array.isArray(i)){for(var a="[",r=0;r<i.length;r++)switch(r!==0&&(a+=" "),Ma(i[r])){case"boolean":case"number":case"object":a+=i[r].toString();break;case"string":i[r].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+ym(n(i[r].toString()))+")"):a+=i[r].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},G5=function(i,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(i=i||"").toString(),"("+ym(n(i))+")"},wd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wd.prototype.toString=function(){return this.objId+" 0 R"},wd.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},wd.prototype.getKeyValueListForStream=function(){var i=[],e=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?i.push({key:n,value:mN(a,this.objId,this.scope)}):a instanceof wd?(a.scope=this.scope,i.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&i.push({key:n,value:a}))}return i};var gN=function(){wd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){i=t.trim()},get:function(){return i||null}})};Kl(gN,wd);var yN=function(){wd.call(this);var i,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ym(t(i))+")"}},set:function(t){i=t}})};Kl(yN,wd);var Hu=function i(){wd.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ns(e,3)},set:function(b){b?this.F=is(e,3):this.F=as(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');t=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof Wv)return;r="FieldObject"+i.FieldNum++}var b=function(E){return E};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+ym(b(r))+")"},set:function(b){r=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(b){r=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Lw:d},set:function(b){d=b}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(b){m=b}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Wv||this instanceof em))return G5(y,this.objId,this.scope)},set:function(b){b=b.toString(),y=b}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof qs==0?G5(x,this.objId,this.scope):x},set:function(b){b=b.toString(),x=this instanceof qs==0?b.substr(0,1)==="("?Km(b.substr(1,b.length-2)):Km(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qs==1?Km(x.substr(1,x.length-1)):x},set:function(b){b=b.toString(),x=this instanceof qs==1?"/"+b:b}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof qs==0?G5(g,this.objId,this.scope):g},set:function(b){b=b.toString(),g=this instanceof qs==0?b.substr(0,1)==="("?Km(b.substr(1,b.length-2)):Km(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qs==1?Km(g.substr(1,g.length-1)):g},set:function(b){b=b.toString(),g=this instanceof qs==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(b){b=!!b,S=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(b){_=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,1)},set:function(b){b?this.Ff=is(this.Ff,1):this.Ff=as(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,2)},set:function(b){b?this.Ff=is(this.Ff,2):this.Ff=as(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,3)},set:function(b){b?this.Ff=is(this.Ff,3):this.Ff=as(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');M=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(M){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};Kl(Hu,wd);var P0=function(){Hu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){i=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mN(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=(function(r,o,l){l||(l=1);for(var u,d=[];u=o.exec(r);)d.push(u[l]);return d})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,18)},set:function(t){t?this.Ff=is(this.Ff,18):this.Ff=as(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=is(this.Ff,19):this.Ff=as(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,20)},set:function(t){t?(this.Ff=is(this.Ff,20),e.sort()):this.Ff=as(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,22)},set:function(t){t?this.Ff=is(this.Ff,22):this.Ff=as(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,23)},set:function(t){t?this.Ff=is(this.Ff,23):this.Ff=as(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,27)},set:function(t){t?this.Ff=is(this.Ff,27):this.Ff=as(this.Ff,27)}}),this.hasAppearanceStream=!1};Kl(P0,Hu);var k0=function(){P0.call(this),this.fontName="helvetica",this.combo=!1};Kl(k0,P0);var I0=function(){k0.call(this),this.combo=!0};Kl(I0,k0);var Tv=function(){I0.call(this),this.edit=!0};Kl(Tv,I0);var qs=function(){Hu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,15)},set:function(t){t?this.Ff=is(this.Ff,15):this.Ff=as(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,16)},set:function(t){t?this.Ff=is(this.Ff,16):this.Ff=as(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,17)},set:function(t){t?this.Ff=is(this.Ff,17):this.Ff=as(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,26)},set:function(t){t?this.Ff=is(this.Ff,26):this.Ff=as(this.Ff,26)}});var i,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(r){return r};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+ym(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Ma(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}})};Kl(qs,Hu);var Ev=function(){qs.call(this),this.pushButton=!0};Kl(Ev,qs);var U0=function(){qs.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e!==void 0?e:[]}})};Kl(U0,qs);var Wv=function(){var i,e;Hu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var r,o=[];for(r in o.push("<<"),n)o.push("/"+r+" ("+ym(a(n[r]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Ma(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=fn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Kl(Wv,Hu),U0.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=i.createAppearanceStream(t.optionName),t.caption=i.getCA()}},U0.prototype.createOption=function(i){var e=new Wv;return e.Parent=this,e.optionName=i,this.Kids.push(e),SU.call(this.scope,e),e};var Cv=function(){qs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=fn.CheckBox.createAppearanceStream()};Kl(Cv,qs);var em=function(){Hu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,13)},set:function(e){e?this.Ff=is(this.Ff,13):this.Ff=as(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,21)},set:function(e){e?this.Ff=is(this.Ff,21):this.Ff=as(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,23)},set:function(e){e?this.Ff=is(this.Ff,23):this.Ff=as(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,24)},set:function(e){e?this.Ff=is(this.Ff,24):this.Ff=as(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,25)},set:function(e){e?this.Ff=is(this.Ff,25):this.Ff=as(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,26)},set:function(e){e?this.Ff=is(this.Ff,26):this.Ff=as(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){Number.isInteger(e)&&(i=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Kl(em,Hu);var Nv=function(){em.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ns(this.Ff,14)},set:function(i){i?this.Ff=is(this.Ff,14):this.Ff=as(this.Ff,14)}}),this.password=!0};Kl(Nv,em);var fn={CheckBox:{createAppearanceStream:function(){return{N:{On:fn.CheckBox.YesNormal},D:{On:fn.CheckBox.YesPushDown,Off:fn.CheckBox.OffPushDown}}},YesPushDown:function(i){var e=bd(i);e.scope=i.scope;var t=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,a=i.scope.__private__.encodeColorString(i.color),r=R_(i,i.caption);return t.push("0.749023 g"),t.push("0 0 "+Jn(fn.internal.getWidth(i))+" "+Jn(fn.internal.getHeight(i))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Jn(r.fontSize)+" Tf "+a),t.push("BT"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(i){var e=bd(i);e.scope=i.scope;var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),a=[],r=fn.internal.getHeight(i),o=fn.internal.getWidth(i),l=R_(i,i.caption);return a.push("1 g"),a.push("0 0 "+Jn(o)+" "+Jn(r)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Jn(o-1)+" "+Jn(r-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Jn(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(i){var e=bd(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jn(fn.internal.getWidth(i))+" "+Jn(fn.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(i){var e={D:{Off:fn.RadioButton.Circle.OffPushDown},N:{}};return e.N[i]=fn.RadioButton.Circle.YesNormal,e.D[i]=fn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(i){var e=bd(i);e.scope=i.scope;var t=[],n=fn.internal.getWidth(i)<=fn.internal.getHeight(i)?fn.internal.getWidth(i)/4:fn.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var a=fn.internal.Bezier_C,r=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+gf(fn.internal.getWidth(i)/2)+" "+gf(fn.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+r+" "+r+" "+n+" 0 "+n+" c"),t.push("-"+r+" "+n+" -"+n+" "+r+" -"+n+" 0 c"),t.push("-"+n+" -"+r+" -"+r+" -"+n+" 0 -"+n+" c"),t.push(r+" -"+n+" "+n+" -"+r+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=bd(i);e.scope=i.scope;var t=[],n=fn.internal.getWidth(i)<=fn.internal.getHeight(i)?fn.internal.getWidth(i)/4:fn.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),r=Number((a*fn.internal.Bezier_C).toFixed(5)),o=Number((n*fn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gf(fn.internal.getWidth(i)/2)+" "+gf(fn.internal.getHeight(i)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),t.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),t.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),t.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+gf(fn.internal.getWidth(i)/2)+" "+gf(fn.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(i){var e=bd(i);e.scope=i.scope;var t=[],n=fn.internal.getWidth(i)<=fn.internal.getHeight(i)?fn.internal.getWidth(i)/4:fn.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),r=Number((a*fn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gf(fn.internal.getWidth(i)/2)+" "+gf(fn.internal.getHeight(i)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),t.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),t.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),t.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(i){var e={D:{Off:fn.RadioButton.Cross.OffPushDown},N:{}};return e.N[i]=fn.RadioButton.Cross.YesNormal,e.D[i]=fn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(i){var e=bd(i);e.scope=i.scope;var t=[],n=fn.internal.calculateCross(i);return t.push("q"),t.push("1 1 "+Jn(fn.internal.getWidth(i)-2)+" "+Jn(fn.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push(Jn(n.x1.x)+" "+Jn(n.x1.y)+" m"),t.push(Jn(n.x2.x)+" "+Jn(n.x2.y)+" l"),t.push(Jn(n.x4.x)+" "+Jn(n.x4.y)+" m"),t.push(Jn(n.x3.x)+" "+Jn(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=bd(i);e.scope=i.scope;var t=fn.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jn(fn.internal.getWidth(i))+" "+Jn(fn.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jn(fn.internal.getWidth(i)-2)+" "+Jn(fn.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(Jn(t.x1.x)+" "+Jn(t.x1.y)+" m"),n.push(Jn(t.x2.x)+" "+Jn(t.x2.y)+" l"),n.push(Jn(t.x4.x)+" "+Jn(t.x4.y)+" m"),n.push(Jn(t.x3.x)+" "+Jn(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(i){var e=bd(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jn(fn.internal.getWidth(i))+" "+Jn(fn.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(i){var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color);return"/"+e+" "+i.fontSize+" Tf "+t}};fn.internal={Bezier_C:.551915024494,calculateCross:function(i){var e=fn.internal.getWidth(i),t=fn.internal.getHeight(i),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},fn.internal.getWidth=function(i){var e=0;return Ma(i)==="object"&&(e=sM(i.Rect[2])),e},fn.internal.getHeight=function(i){var e=0;return Ma(i)==="object"&&(e=sM(i.Rect[3])),e};var SU=jr.addField=function(i){if(wU(this,i),!(i instanceof Hu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=i).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};jr.AcroFormChoiceField=P0,jr.AcroFormListBox=k0,jr.AcroFormComboBox=I0,jr.AcroFormEditBox=Tv,jr.AcroFormButton=qs,jr.AcroFormPushButton=Ev,jr.AcroFormRadioButton=U0,jr.AcroFormCheckBox=Cv,jr.AcroFormTextField=em,jr.AcroFormPasswordField=Nv,jr.AcroFormAppearance=fn,jr.AcroForm={ChoiceField:P0,ListBox:k0,ComboBox:I0,EditBox:Tv,Button:qs,PushButton:Ev,RadioButton:U0,CheckBox:Cv,TextField:em,PasswordField:Nv,Appearance:fn},Tn.AcroForm={ChoiceField:P0,ListBox:k0,ComboBox:I0,EditBox:Tv,Button:qs,PushButton:Ev,RadioButton:U0,CheckBox:Cv,TextField:em,PasswordField:Nv,Appearance:fn};Tn.AcroForm;function xN(i){return i.reduce(function(e,t,n){return e[t]=n,e},{})}(function(i){var e="addImage_";i.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=i.__addimage__.getImageFileTypeByImageData=function(q,I){var $,U,oe,J,ae,te=t;if((I=I||t)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(H(q))for(ae in n)for(oe=n[ae],$=0;$<oe.length;$+=1){for(J=!0,U=0;U<oe[$].length;U+=1)if(oe[$][U]!==void 0&&oe[$][U]!==q[U]){J=!1;break}if(J===!0){te=ae;break}}else for(ae in n)for(oe=n[ae],$=0;$<oe.length;$+=1){for(J=!0,U=0;U<oe[$].length;U+=1)if(oe[$][U]!==void 0&&oe[$][U]!==q.charCodeAt(U)){J=!1;break}if(J===!0){te=ae;break}}return te===t&&I!==t&&(te=I),te},r=function q(I){for(var $=this.internal.write,U=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:I.width}),J.push({key:"Height",value:I.height}),I.colorSpace===b.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===b.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var ae="",te=0,le=I.transparency.length;te<le;te++)ae+=I.transparency[te]+" "+I.transparency[te]+" ";J.push({key:"Mask",value:"["+ae+"]"})}I.sMask!==void 0&&J.push({key:"SMask",value:I.objectId+1+" 0 R"});var Me=I.filter!==void 0?["/"+I.filter]:void 0;if(U({data:I.data,additionalKeyValues:J,alreadyAppliedFilters:Me,objectId:I.objectId}),$("endobj"),"sMask"in I&&I.sMask!==void 0){var Z,V=(Z=I.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:I.bitsPerComponent,re={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:I.sMask};"filter"in I&&(re.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(I.width),re.filter=I.filter),q.call(this,re)}if(I.colorSpace===b.INDEXED){var ce=this.internal.newObject();U({data:X(new Uint8Array(I.palette)),objectId:ce}),$("endobj")}},o=function(){var q=this.internal.collections[e+"images"];for(var I in q)r.call(this,q[I])},l=function(){var q,I=this.internal.collections[e+"images"],$=this.internal.write;for(var U in I)$("/I"+(q=I[U]).index,q.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var q=this.internal.collections[e+"images"];return u.call(this),q},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(q){return typeof i["process"+q.toUpperCase()]=="function"},x=function(q){return Ma(q)==="object"&&q.nodeType===1},g=function(q,I){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var $=""+q.getAttribute("src");if($.indexOf("data:image/")===0)return Mv(unescape($).split("base64,").pop());var U=i.loadFile($,!0);if(U!==void 0)return U}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var oe;switch(I){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return Mv(q.toDataURL(oe,1).split("base64,").pop())}},_=function(q){var I=this.internal.collections[e+"images"];if(I){for(var $ in I)if(q===I[$].alias)return I[$]}},S=function(q,I,$){return q||I||(q=-96,I=-96),q<0&&(q=-1*$.width*72/q/this.internal.scaleFactor),I<0&&(I=-1*$.height*72/I/this.internal.scaleFactor),q===0&&(q=I*$.width/$.height),I===0&&(I=q*$.height/$.width),[q,I]},M=function(q,I,$,U,oe,J){var ae=S.call(this,$,U,oe),te=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,Me=d.call(this);if($=ae[0],U=ae[1],Me[oe.index]=oe,J){J*=Math.PI/180;var Z=Math.cos(J),V=Math.sin(J),re=function(pe){return pe.toFixed(4)},ce=[re(Z),re(V),re(-1*V),re(Z),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,te(q),le(I+U),"cm"].join(" ")),this.internal.write(ce.join(" ")),this.internal.write([te($),"0","0",te(U),"0","0","cm"].join(" "))):this.internal.write([te($),"0","0",te(U),te(q),le(I+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},b=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=i.__addimage__.sHashCode=function(q){var I,$,U=0;if(typeof q=="string")for($=q.length,I=0;I<$;I++)U=(U<<5)-U+q.charCodeAt(I),U|=0;else if(H(q))for($=q.byteLength/2,I=0;I<$;I++)U=(U<<5)-U+q[I],U|=0;return U},D=i.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var I=!0;return q.length===0&&(I=!1),q.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(I=!1),I},k=i.__addimage__.extractImageFromDataUrl=function(q){if(q==null||!(q=q.trim()).startsWith("data:"))return null;var I=q.indexOf(",");return I<0?null:q.substring(0,I).trim().endsWith("base64")?q.substring(I+1):null};i.__addimage__.isArrayBuffer=function(q){return q instanceof ArrayBuffer};var H=i.__addimage__.isArrayBufferView=function(q){return q instanceof Int8Array||q instanceof Uint8Array||q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array},G=i.__addimage__.binaryStringToUint8Array=function(q){for(var I=q.length,$=new Uint8Array(I),U=0;U<I;U++)$[U]=q.charCodeAt(U);return $},X=i.__addimage__.arrayBufferToBinaryString=function(q){for(var I="",$=H(q)?q:new Uint8Array(q),U=0;U<$.length;U+=8192)I+=String.fromCharCode.apply(null,$.subarray(U,U+8192));return I};i.addImage=function(){var q,I,$,U,oe,J,ae,te,le;if(typeof arguments[1]=="number"?(I=t,$=arguments[1],U=arguments[2],oe=arguments[3],J=arguments[4],ae=arguments[5],te=arguments[6],le=arguments[7]):(I=arguments[1],$=arguments[2],U=arguments[3],oe=arguments[4],J=arguments[5],ae=arguments[6],te=arguments[7],le=arguments[8]),Ma(q=arguments[0])==="object"&&!x(q)&&"imageData"in q){var Me=q;q=Me.imageData,I=Me.format||I||t,$=Me.x||$||0,U=Me.y||U||0,oe=Me.w||Me.width||oe,J=Me.h||Me.height||J,ae=Me.alias||ae,te=Me.compression||te,le=Me.rotation||Me.angle||le}var Z=this.internal.getFilters();if(te===void 0&&Z.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN($)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var V=O.call(this,q,I,ae,te);return M.call(this,$,U,oe,J,V,le),this};var O=function(q,I,$,U){var oe,J,ae;if(typeof q=="string"&&a(q)===t){q=unescape(q);var te=z(q,!1);(te!==""||(te=i.loadFile(q,!0))!==void 0)&&(q=te)}if(x(q)&&(q=g(q,I)),I=a(q,I),!y(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ae=$)==null||ae.length===0)&&($=(function(le){return typeof le=="string"||H(le)?C(le):H(le.data)?C(le.data):null})(q)),(oe=_.call(this,$))||(q instanceof Uint8Array||I==="RGBA"||(J=q,q=G(q)),oe=this["process"+I.toUpperCase()](q,m.call(this),$,(function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in i.image_compression?le:E.NONE})(U),J)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},z=i.__addimage__.convertBase64ToBinaryString=function(q,I){I=typeof I!="boolean"||I;var $,U="";if(typeof q=="string"){var oe;$=(oe=k(q))!==null&&oe!==void 0?oe:q;try{U=Mv($)}catch(J){if(I)throw D($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};i.getImageProperties=function(q){var I,$,U="";if(x(q)&&(q=g(q)),typeof q=="string"&&a(q)===t&&((U=z(q,!1))===""&&(U=i.loadFile(q)||""),q=U),$=a(q),!y($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(q instanceof Uint8Array||(q=G(q)),!(I=this["process"+$.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=$,I}})(Tn.API),(function(i){var e=function(t){if(t!==void 0&&t!="")return!0};Tn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(t){for(var n,a,r,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,y=0;y<d.length&&!m;y++)switch((n=d[y]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){n=d[x];var g=this.internal.pdfEscape,_=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(S.objId),E=n.title||"Note";r="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(b(n.contents))+")",r+=" /Popup "+M.objId+" 0 R",r+=" /P "+u.objId+" 0 R",r+=" /T ("+g(b(E))+") >>",S.content=r;var C=S.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(r+=" /Open true"),r+=" >>",M.content=r,this.internal.write(S.objId,"0 R",M.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(_(n.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",r="",n.options.url)r="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,r+=" /FitV "+n.options.left+"]";break;default:var H=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),r+=" /XYZ "+n.options.left+" "+H+" "+n.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),i.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},i.link=function(t,n,a,r,o){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:d(n),w:u(t+a),h:d(n+r)},options:o,type:"link"})},i.textWithLink=function(t,n,a,r){var o,l,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){l=r.maxWidth;var m=this.splitTextToSize(t,l).length;o=Math.ceil(d*m)}else l=u,o=d;return this.text(t,n,a,r),a+=.2*d,r.align==="center"&&(n-=u/2),r.align==="right"&&(n-=u),this.link(n,a-d,l,o,r),u},i.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(Tn.API),(function(i){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];i.__arabicParser__={};var r=i.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},o=i.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=i.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&r(S)&&e[S.charCodeAt(0)].length<=2},u=i.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&a.indexOf(S.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&r(S)&&e[S.charCodeAt(0)].length>=1};var d=i.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&r(S)&&e[S.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&r(S)&&e[S.charCodeAt(0)].length>=3};var m=i.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&r(S)&&e[S.charCodeAt(0)].length==4},y=i.__arabicParser__.resolveLigatures=function(S){var M=0,b=t,E="",C=0;for(M=0;M<S.length;M+=1)b[S.charCodeAt(M)]!==void 0?(C++,typeof(b=b[S.charCodeAt(M)])=="number"&&(E+=String.fromCharCode(b),b=t,C=0),M===S.length-1&&(b=t,E+=S.charAt(M-(C-1)),M-=C-1,C=0)):(b=t,E+=S.charAt(M-C),M-=C,C=0);return E};i.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var x=i.__arabicParser__.getCorrectForm=function(S,M,b){return o(S)?r(S)===!1?-1:!d(S)||!o(M)&&!o(b)||!o(b)&&l(M)||l(S)&&!o(M)||l(S)&&u(M)||l(S)&&l(M)?0:m(S)&&o(M)&&!l(M)&&o(b)&&d(b)?3:l(S)||!o(b)?1:2:-1},g=function(S){var M=0,b=0,E=0,C="",D="",k="",H=(S=S||"").split("\\s+"),G=[];for(M=0;M<H.length;M+=1){for(G.push(""),b=0;b<H[M].length;b+=1)C=H[M][b],D=H[M][b-1],k=H[M][b+1],o(C)?(E=x(C,D,k),G[M]+=E!==-1?String.fromCharCode(e[C.charCodeAt(0)][E]):C):G[M]+=C;G[M]=y(G[M])}return G.join(" ")},_=i.__arabicParser__.processArabic=i.processArabic=function(){var S,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(M)){var E=0;for(b=[],E=0;E<M.length;E+=1)Array.isArray(M[E])?b.push([g(M[E][0]),M[E][1],M[E][2]]):b.push([g(M[E])]);S=b}else S=g(M);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};i.events.push(["preProcessText",_])})(Tn.API),Tn.API.autoPrint=function(i){var e;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(i){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(l){r=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Tn.API),(function(i){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(S){x=S}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(S){_=S}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},i.getTextDimensions=function(u,d){n.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,g=0,_=0,S=0,M=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var b=d.maxWidth;b>0?typeof u=="string"?u=this.splitTextToSize(u,b):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(C,D){return C.concat(M.splitTextToSize(D,b))},[])):u=Array.isArray(u)?u:[u];for(var E=0;E<u.length;E++)g<(S=this.getStringUnitWidth(u[E],{font:y})*m)&&(g=S);return g!==0&&(_=u.length),{w:g/=x,h:Math.max((_*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/x,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new r(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=i.cell=function(){var u;u=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=y.top,g&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-m,u.y+m,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+m,{align:"center",baseline:"top",maxWidth:u.width-m-m}):this.text(u.text,u.x+m,u.y+m,{align:"left",baseline:"top",maxWidth:u.width-m-m})),this.internal.__cell__.lastCell=u,this};i.table=function(u,d,m,y,x){if(n.call(this),!m)throw new Error("No data for PDF table.");var g,_,S,M,b=[],E=[],C=[],D={},k={},H=[],G=[],X=(x=x||{}).autoSize||!1,O=x.printHeaders!==!1,z=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,q=x.margins||Object.assign({width:this.getPageWidth()},e),I=typeof x.padding=="number"?x.padding:3,$=x.headerBackgroundColor||"#c8c8c8",U=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=U,this.setFontSize(z),y==null)E=b=Object.keys(m[0]),C=b.map(function(){return"left"});else if(Array.isArray(y)&&Ma(y[0])==="object")for(b=y.map(function(Me){return Me.name}),E=y.map(function(Me){return Me.prompt||Me.name||""}),C=y.map(function(Me){return Me.align||"left"}),g=0;g<y.length;g+=1)k[y[g].name]=.7499990551181103*y[g].width;else Array.isArray(y)&&typeof y[0]=="string"&&(E=b=y,C=b.map(function(){return"left"}));if(X||Array.isArray(y)&&typeof y[0]=="string")for(g=0;g<b.length;g+=1){for(D[M=b[g]]=m.map(function(Me){return Me[M]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(E[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=D[M],this.setFont(void 0,"normal"),S=0;S<_.length;S+=1)H.push(this.getTextDimensions(_[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[M]=Math.max.apply(null,H)+I+I,H=[]}if(O){var oe={};for(g=0;g<b.length;g+=1)oe[b[g]]={},oe[b[g]].text=E[g],oe[b[g]].align=C[g];var J=l.call(this,oe,k);G=b.map(function(Me){return new r(u,d,k[Me],J,oe[Me].text,void 0,oe[Me].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var ae=y.reduce(function(Me,Z){return Me[Z.name]=Z.align,Me},{});for(g=0;g<m.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:m[g]},this);var te=l.call(this,m[g],k);for(S=0;S<b.length;S+=1){var le=m[g][b[S]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:S,data:le},this),o.call(this,new r(u,d,k[b[S]],te,le,g+2,ae[b[S]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(g){var _=u[g];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,d[g]-m-m)},this).map(function(g){return this.getLineHeightFactor()*g.length*y/x+m+m},this).reduce(function(g,_){return Math.max(g,_)},0)};i.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},i.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){m=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,x.push(m)),m.lineNumber=u;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,m),this.setTextColor(_)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(Tn.API);var vN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],L_=xN(bN),_N=[100,200,300,400,500,600,700,800,900],AU=xN(_N);function W5(i){var e=i.family.replace(/"|'/g,"").toLowerCase(),t=(function(r){return vN[r=r||"normal"]?r:"normal"})(i.style),n=(function(r){return r?typeof r=="number"?r>=100&&r<=900&&r%100==0?r:400:/^\d00$/.test(r)?parseInt(r):r==="bold"?700:400:400})(i.weight),a=(function(r){return typeof L_[r=r||"normal"]=="number"?r:"normal"})(i.stretch);return{family:e,style:t,weight:n,stretch:a,src:i.src||[],ref:i.ref||{name:e,style:[a,t,n].join(" ")}}}function oM(i,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(i[e[a]])return i[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(i[e[a]])return i[e[a]]}var MU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cM(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function uM(i){return i.trimLeft()}function TU(i,e){for(var t=0;t<i.length;){if(i.charAt(t)===e)return[i.substring(0,t),i.substring(t+1)];t+=1}return null}function EU(i){var e=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],i.substring(e[0].length)]}var wx,dM,hM,Zm,Sx,fM,pM,mM,X5=["times"];function gM(i,e,t,n,a){var r=4,o=xM;switch(a){case Tn.API.image_compression.FAST:r=1,o=yM;break;case Tn.API.image_compression.MEDIUM:r=6,o=vM;break;case Tn.API.image_compression.SLOW:r=9,o=bM}i=(function(u,d,m,y){for(var x,g=u.length/d,_=new Uint8Array(u.length+g),S=[CU,yM,xM,vM,bM],M=0;M<g;M+=1){var b=M*d,E=u.subarray(b,b+d);if(y)_.set(y(E,m,x),b+M);else{for(var C=S.length,D=[],k=0;k<C;k+=1)D[k]=S[k](E,m,x);var H=RU(D.concat());_.set(D[H],b+M)}x=E}return _})(i,e,Math.ceil(t*n/8),o);var l=A_(i,{level:r});return Tn.API.__addimage__.arrayBufferToBinaryString(l)}function CU(i){var e=Array.apply([],i);return e.unshift(0),e}function yM(i,e){var t=i.length,n=[];n[0]=1;for(var a=0;a<t;a+=1){var r=i[a-e]||0;n[a+1]=i[a]-r+256&255}return n}function xM(i,e,t){var n=i.length,a=[];a[0]=2;for(var r=0;r<n;r+=1){var o=t&&t[r]||0;a[r+1]=i[r]-o+256&255}return a}function vM(i,e,t){var n=i.length,a=[];a[0]=3;for(var r=0;r<n;r+=1){var o=i[r-e]||0,l=t&&t[r]||0;a[r+1]=i[r]+256-(o+l>>>1)&255}return a}function bM(i,e,t){var n=i.length,a=[];a[0]=4;for(var r=0;r<n;r+=1){var o=NU(i[r-e]||0,t&&t[r]||0,t&&t[r-e]||0);a[r+1]=i[r]-o+256&255}return a}function NU(i,e,t){if(i===e&&e===t)return i;var n=Math.abs(e-t),a=Math.abs(i-t),r=Math.abs(i+e-t-t);return n<=a&&n<=r?i:a<=r?e:t}function RU(i){var e=i.map(function(t){return t.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Y5(i,e,t){var n=e*t,a=Math.floor(n/8),r=16-(n-8*a+t),o=(1<<t)-1;return wN(i,a)>>r&o}function _M(i,e,t,n){var a=t*n,r=Math.floor(a/8),o=16-(a-8*r+n),l=(1<<n)-1,u=(e&l)<<o;(function(d,m,y){if(m+1<d.byteLength)d.setUint16(m,y,!1);else{var x=y>>8&255;d.setUint8(m,x)}})(i,r,wN(i,r)&~(l<<o)&65535|u)}function wN(i,e){return e+1<i.byteLength?i.getUint16(e,!1):i.getUint8(e)<<8}function LU(i){var e=0;if(i[e++]!==71||i[e++]!==73||i[e++]!==70||i[e++]!==56||(i[e++]+1&253)!=56||i[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=i[e++]|i[e++]<<8,n=i[e++]|i[e++]<<8,a=i[e++],r=a>>7,o=1<<1+(7&a);i[e++],i[e++];var l=null,u=null;r&&(l=e,u=o,e+=3*o);var d=!0,m=[],y=0,x=null,g=0,_=null;for(this.width=t,this.height=n;d&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(i[e]!==11||i[e+1]==78&&i[e+2]==69&&i[e+3]==84&&i[e+4]==83&&i[e+5]==67&&i[e+6]==65&&i[e+7]==80&&i[e+8]==69&&i[e+9]==50&&i[e+10]==46&&i[e+11]==48&&i[e+12]==3&&i[e+13]==1&&i[e+16]==0)e+=14,_=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((q=i[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;case 249:if(i[e++]!==4||i[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=i[e++];y=i[e++]|i[e++]<<8,x=i[e++],1&S||(x=null),g=S>>2&7,e++;break;case 254:for(;;){if(!((q=i[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var M=i[e++]|i[e++]<<8,b=i[e++]|i[e++]<<8,E=i[e++]|i[e++]<<8,C=i[e++]|i[e++]<<8,D=i[e++],k=D>>6&1,H=1<<1+(7&D),G=l,X=u,O=!1;D>>7&&(O=!0,G=e,X=H,e+=3*H);var z=e;for(e++;;){var q;if(!((q=i[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}m.push({x:M,y:b,width:E,height:C,has_local_palette:O,palette_offset:G,palette_size:X,data_offset:z,data_length:e-z,transparent_index:x,interlaced:!!k,delay:y,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return _},this.frameInfo=function(I){if(I<0||I>=m.length)throw new Error("Frame index out of range.");return m[I]},this.decodeAndBlitFrameBGRA=function(I,$){var U=this.frameInfo(I),oe=U.width*U.height,J=new Uint8Array(oe);wM(i,U.data_offset,J,oe);var ae=U.palette_offset,te=U.transparent_index;te===null&&(te=256);var le=U.width,Me=t-le,Z=le,V=4*(U.y*t+U.x),re=4*((U.y+U.height)*t+U.x),ce=V,pe=4*Me;U.interlaced===!0&&(pe+=4*t*7);for(var me=8,Ee=0,Ue=J.length;Ee<Ue;++Ee){var ze=J[Ee];if(Z===0&&(Z=le,(ce+=pe)>=re&&(pe=4*Me+4*t*(me-1),ce=V+(le+Me)*(me<<1),me>>=1)),ze===te)ce+=4;else{var We=i[ae+3*ze],at=i[ae+3*ze+1],Ct=i[ae+3*ze+2];$[ce++]=Ct,$[ce++]=at,$[ce++]=We,$[ce++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(I,$){var U=this.frameInfo(I),oe=U.width*U.height,J=new Uint8Array(oe);wM(i,U.data_offset,J,oe);var ae=U.palette_offset,te=U.transparent_index;te===null&&(te=256);var le=U.width,Me=t-le,Z=le,V=4*(U.y*t+U.x),re=4*((U.y+U.height)*t+U.x),ce=V,pe=4*Me;U.interlaced===!0&&(pe+=4*t*7);for(var me=8,Ee=0,Ue=J.length;Ee<Ue;++Ee){var ze=J[Ee];if(Z===0&&(Z=le,(ce+=pe)>=re&&(pe=4*Me+4*t*(me-1),ce=V+(le+Me)*(me<<1),me>>=1)),ze===te)ce+=4;else{var We=i[ae+3*ze],at=i[ae+3*ze+1],Ct=i[ae+3*ze+2];$[ce++]=We,$[ce++]=at,$[ce++]=Ct,$[ce++]=255}--Z}}}function wM(i,e,t,n){for(var a=i[e++],r=1<<a,o=r+1,l=o+1,u=a+1,d=(1<<u)-1,m=0,y=0,x=0,g=i[e++],_=new Int32Array(4096),S=null;;){for(;m<16&&g!==0;)y|=i[e++]<<m,m+=8,g===1?g=i[e++]:--g;if(m<u)break;var M=y&d;if(y>>=u,m-=u,M!==r){if(M===o)break;for(var b=M<l?M:S,E=0,C=b;C>r;)C=_[C]>>8,++E;var D=C;if(x+E+(b!==M?1:0)>n)return void Fa.log("Warning, gif stream longer than expected.");t[x++]=D;var k=x+=E;for(b!==M&&(t[x++]=D),C=b;E--;)C=_[C],t[--k]=255&C,C>>=8;S!==null&&l<4096&&(_[l++]=S<<8|D,l>=d+1&&u<12&&(++u,d=d<<1|1)),S=M}else l=o+1,d=(1<<(u=a+1))-1,S=null}return x!==n&&Fa.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $5(i){var e,t,n,a,r,o=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),m=new Array(64),y=new Array(65535),x=new Array(65535),g=new Array(64),_=new Array(64),S=[],M=0,b=7,E=new Array(64),C=new Array(64),D=new Array(64),k=new Array(256),H=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(V,re){for(var ce=0,pe=0,me=new Array,Ee=1;Ee<=16;Ee++){for(var Ue=1;Ue<=V[Ee];Ue++)me[re[pe]]=[],me[re[pe]][0]=ce,me[re[pe]][1]=Ee,pe++,ce++;ce*=2}return me}function ae(V){for(var re=V[0],ce=V[1]-1;ce>=0;)re&1<<ce&&(M|=1<<b),ce--,--b<0&&(M==255?(te(255),te(0)):te(M),b=7,M=0)}function te(V){S.push(V)}function le(V){te(V>>8&255),te(255&V)}function Me(V,re,ce,pe,me){for(var Ee,Ue=me[0],ze=me[240],We=(function(ie,Re){var Pe,ge,se,ee,Ae,je,Ge,Be,mt,yt,Mt=0;for(mt=0;mt<8;++mt){Pe=ie[Mt],ge=ie[Mt+1],se=ie[Mt+2],ee=ie[Mt+3],Ae=ie[Mt+4],je=ie[Mt+5],Ge=ie[Mt+6];var jt=Pe+(Be=ie[Mt+7]),Ke=Pe-Be,st=ge+Ge,Dt=ge-Ge,De=se+je,qe=se-je,St=ee+Ae,Ne=ee-Ae,xt=jt+St,Tt=jt-St,bt=st+De,ot=st-De;ie[Mt]=xt+bt,ie[Mt+4]=xt-bt;var dt=.707106781*(ot+Tt);ie[Mt+2]=Tt+dt,ie[Mt+6]=Tt-dt;var qt=.382683433*((xt=Ne+qe)-(ot=Dt+Ke)),Xt=.5411961*xt+qt,wn=1.306562965*ot+qt,xn=.707106781*(bt=qe+Dt),$t=Ke+xn,Fi=Ke-xn;ie[Mt+5]=Fi+Xt,ie[Mt+3]=Fi-Xt,ie[Mt+1]=$t+wn,ie[Mt+7]=$t-wn,Mt+=8}for(Mt=0,mt=0;mt<8;++mt){Pe=ie[Mt],ge=ie[Mt+8],se=ie[Mt+16],ee=ie[Mt+24],Ae=ie[Mt+32],je=ie[Mt+40],Ge=ie[Mt+48];var Gs=Pe+(Be=ie[Mt+56]),Ar=Pe-Be,Mr=ge+Ge,ei=ge-Ge,ya=se+je,Ki=se-je,dr=ee+Ae,Pa=ee-Ae,Dn=Gs+dr,ji=Gs-dr,Xa=Mr+ya,Hr=Mr-ya;ie[Mt]=Dn+Xa,ie[Mt+32]=Dn-Xa;var gs=.707106781*(Hr+ji);ie[Mt+16]=ji+gs,ie[Mt+48]=ji-gs;var Jl=.382683433*((Dn=Pa+Ki)-(Hr=ei+Ar)),ys=.5411961*Dn+Jl,xs=1.306562965*Hr+Jl,co=.707106781*(Xa=Ki+ei),da=Ar+co,be=Ar-co;ie[Mt+40]=be+ys,ie[Mt+24]=be-ys,ie[Mt+8]=da+xs,ie[Mt+56]=da-xs,Mt++}for(mt=0;mt<64;++mt)yt=ie[mt]*Re[mt],g[mt]=yt>0?yt+.5|0:yt-.5|0;return g})(V,re),at=0;at<64;++at)_[G[at]]=We[at];var Ct=_[0]-ce;ce=_[0],Ct==0?ae(pe[0]):(ae(pe[x[Ee=32767+Ct]]),ae(y[Ee]));for(var gt=63;gt>0&&_[gt]==0;)gt--;if(gt==0)return ae(Ue),ce;for(var W,j=1;j<=gt;){for(var xe=j;_[j]==0&&j<=gt;)++j;var de=j-xe;if(de>=16){W=de>>4;for(var ue=1;ue<=W;++ue)ae(ze);de&=15}Ee=32767+_[j],ae(me[(de<<4)+x[Ee]]),ae(y[Ee]),j++}return gt!=63&&ae(Ue),ce}function Z(V){V=Math.min(Math.max(V,1),100),r!=V&&((function(re){for(var ce=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pe=0;pe<64;pe++){var me=o((ce[pe]*re+50)/100);me=Math.min(Math.max(me,1),255),l[G[pe]]=me}for(var Ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ue=0;Ue<64;Ue++){var ze=o((Ee[Ue]*re+50)/100);ze=Math.min(Math.max(ze,1),255),u[G[Ue]]=ze}for(var We=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],at=0,Ct=0;Ct<8;Ct++)for(var gt=0;gt<8;gt++)d[at]=1/(l[G[at]]*We[Ct]*We[gt]*8),m[at]=1/(u[G[at]]*We[Ct]*We[gt]*8),at++})(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),r=V)}this.encode=function(V,re){re&&Z(re),S=new Array,M=0,b=7,le(65496),le(65504),le(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),le(1),le(1),te(0),te(0),(function(){le(65499),le(132),te(0);for(var ge=0;ge<64;ge++)te(l[ge]);te(1);for(var se=0;se<64;se++)te(u[se])})(),(function(ge,se){le(65472),le(17),te(8),le(se),le(ge),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)})(V.width,V.height),(function(){le(65476),le(418),te(0);for(var ge=0;ge<16;ge++)te(X[ge+1]);for(var se=0;se<=11;se++)te(O[se]);te(16);for(var ee=0;ee<16;ee++)te(z[ee+1]);for(var Ae=0;Ae<=161;Ae++)te(q[Ae]);te(1);for(var je=0;je<16;je++)te(I[je+1]);for(var Ge=0;Ge<=11;Ge++)te($[Ge]);te(17);for(var Be=0;Be<16;Be++)te(U[Be+1]);for(var mt=0;mt<=161;mt++)te(oe[mt])})(),le(65498),le(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var ce=0,pe=0,me=0;M=0,b=7,this.encode.displayName="_encode_";for(var Ee,Ue,ze,We,at,Ct,gt,W,j,xe=V.data,de=V.width,ue=V.height,ie=4*de,Re=0;Re<ue;){for(Ee=0;Ee<ie;){for(at=ie*Re+Ee,gt=-1,W=0,j=0;j<64;j++)Ct=at+(W=j>>3)*ie+(gt=4*(7&j)),Re+W>=ue&&(Ct-=ie*(Re+1+W-ue)),Ee+gt>=ie&&(Ct-=Ee+gt-ie+4),Ue=xe[Ct++],ze=xe[Ct++],We=xe[Ct++],E[j]=(H[Ue]+H[ze+256|0]+H[We+512|0]>>16)-128,C[j]=(H[Ue+768|0]+H[ze+1024|0]+H[We+1280|0]>>16)-128,D[j]=(H[Ue+1280|0]+H[ze+1536|0]+H[We+1792|0]>>16)-128;ce=Me(E,d,ce,e,n),pe=Me(C,m,pe,t,a),me=Me(D,m,me,t,a),Ee+=32}Re+=8}if(b>=0){var Pe=[];Pe[1]=b+1,Pe[0]=(1<<b+1)-1,ae(Pe)}return le(65497),new Uint8Array(S)},i=i||50,(function(){for(var V=String.fromCharCode,re=0;re<256;re++)k[re]=V(re)})(),e=J(X,O),t=J(I,$),n=J(z,q),a=J(U,oe),(function(){for(var V=1,re=2,ce=1;ce<=15;ce++){for(var pe=V;pe<re;pe++)x[32767+pe]=ce,y[32767+pe]=[],y[32767+pe][1]=ce,y[32767+pe][0]=pe;for(var me=-(re-1);me<=-V;me++)x[32767+me]=ce,y[32767+me]=[],y[32767+me][1]=ce,y[32767+me][0]=re-1+me;V<<=1,re<<=1}})(),(function(){for(var V=0;V<256;V++)H[V]=19595*V,H[V+256|0]=38470*V,H[V+512|0]=7471*V+32768,H[V+768|0]=-11059*V,H[V+1024|0]=-21709*V,H[V+1280|0]=32768*V+8421375,H[V+1536|0]=-27439*V,H[V+1792|0]=-5329*V})(),Z(i)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ou(i,e){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function SM(i){function e(O){if(!O)throw Error("assert :P")}function t(O,z,q){for(var I=0;4>I;I++)if(O[z+I]!=q.charCodeAt(I))return!0;return!1}function n(O,z,q,I,$){for(var U=0;U<$;U++)O[z+U]=q[I+U]}function a(O,z,q,I){for(var $=0;$<I;$++)O[z+$]=q}function r(O){return new Int32Array(O)}function o(O,z){for(var q=[],I=0;I<O;I++)q.push(new z);return q}function l(O,z){var q=[];return(function I($,U,oe){for(var J=oe[U],ae=0;ae<J&&($.push(oe.length>U+1?[]:new z),!(oe.length<U+1));ae++)I($[ae],U+1,oe)})(q,0,O),q}var u=function(){var O=this;function z(T,L){for(var Y=1<<L-1>>>0;T&Y;)Y>>>=1;return Y?(T&Y-1)+Y:T}function q(T,L,Y,Q,fe){e(!(Q%Y));do T[L+(Q-=Y)]=fe;while(0<Q)}function I(T,L,Y,Q,fe){if(e(2328>=fe),512>=fe)var ye=r(512);else if((ye=r(fe))==null)return 0;return(function(ve,we,Ce,Oe,Xe,ut){var Le,$e,rt=we,Et=1<<Ce,lt=r(16),et=r(16);for(e(Xe!=0),e(Oe!=null),e(ve!=null),e(0<Ce),$e=0;$e<Xe;++$e){if(15<Oe[$e])return 0;++lt[Oe[$e]]}if(lt[0]==Xe)return 0;for(et[1]=0,Le=1;15>Le;++Le){if(lt[Le]>1<<Le)return 0;et[Le+1]=et[Le]+lt[Le]}for($e=0;$e<Xe;++$e)Le=Oe[$e],0<Oe[$e]&&(ut[et[Le]++]=$e);if(et[15]==1)return(Oe=new $).g=0,Oe.value=ut[0],q(ve,rt,1,Et,Oe),Et;var Nt,Vt=-1,It=Et-1,on=0,nn=1,Un=1,ln=1<<Ce;for($e=0,Le=1,Xe=2;Le<=Ce;++Le,Xe<<=1){if(nn+=Un<<=1,0>(Un-=lt[Le]))return 0;for(;0<lt[Le];--lt[Le])(Oe=new $).g=Le,Oe.value=ut[$e++],q(ve,rt+on,Xe,ln,Oe),on=z(on,Le)}for(Le=Ce+1,Xe=2;15>=Le;++Le,Xe<<=1){if(nn+=Un<<=1,0>(Un-=lt[Le]))return 0;for(;0<lt[Le];--lt[Le]){if(Oe=new $,(on&It)!=Vt){for(rt+=ln,Nt=1<<(Vt=Le)-Ce;15>Vt&&!(0>=(Nt-=lt[Vt]));)++Vt,Nt<<=1;Et+=ln=1<<(Nt=Vt-Ce),ve[we+(Vt=on&It)].g=Nt+Ce,ve[we+Vt].value=rt-we-Vt}Oe.g=Le-Ce,Oe.value=ut[$e++],q(ve,rt+(on>>Ce),Xe,ln,Oe),on=z(on,Le)}}return nn!=2*et[15]-1?0:Et})(T,L,Y,Q,fe,ye)}function $(){this.value=this.g=0}function U(){this.value=this.g=0}function oe(){this.G=o(5,$),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(nc,U)}function J(T,L,Y,Q){e(T!=null),e(L!=null),e(2147483648>Q),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=L,T.pa=Y,T.Jd=L,T.Yc=Y+Q,T.Zc=4<=Q?Y+Q-4+1:Y,Ue(T)}function ae(T,L){for(var Y=0;0<L--;)Y|=We(T,128)<<L;return Y}function te(T,L){var Y=ae(T,L);return ze(T)?-Y:Y}function le(T,L,Y,Q){var fe,ye=0;for(e(T!=null),e(L!=null),e(4294967288>Q),T.Sb=Q,T.Ra=0,T.u=0,T.h=0,4<Q&&(Q=4),fe=0;fe<Q;++fe)ye+=L[Y+fe]<<8*fe;T.Ra=ye,T.bb=Q,T.oa=L,T.pa=Y}function Me(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<Mi-8>>>0,++T.bb,T.u-=8;pe(T)&&(T.h=1,T.u=0)}function Z(T,L){if(e(0<=L),!T.h&&L<=hr){var Y=ce(T)&Wr[L];return T.u+=L,Me(T),Y}return T.h=1,T.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function re(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ce(T){return T.Ra>>>(T.u&Mi-1)>>>0}function pe(T){return e(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>Mi}function me(T,L){T.u=L,T.h=pe(T)}function Ee(T){T.u>=Al&&(e(T.u>=Al),Me(T))}function Ue(T){e(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(e(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function ze(T){return ae(T,1)}function We(T,L){var Y=T.Ca;0>T.b&&Ue(T);var Q=T.b,fe=Y*L>>>8,ye=(T.I>>>Q>fe)+0;for(ye?(Y-=fe,T.I-=fe+1<<Q>>>0):Y=fe+1,Q=Y,fe=0;256<=Q;)fe+=8,Q>>=8;return Q=7^fe+ic[Q],T.b-=Q,T.Ca=(Y<<Q)-1,ye}function at(T,L,Y){T[L+0]=Y>>24&255,T[L+1]=Y>>16&255,T[L+2]=Y>>8&255,T[L+3]=255&Y}function Ct(T,L){return T[L+0]|T[L+1]<<8}function gt(T,L){return Ct(T,L)|T[L+2]<<16}function W(T,L){return Ct(T,L)|Ct(T,L+2)<<16}function j(T,L){var Y=1<<L;return e(T!=null),e(0<L),T.X=r(Y),T.X==null?0:(T.Mb=32-L,T.Xa=L,1)}function xe(T,L){e(T!=null),e(L!=null),e(T.Xa==L.Xa),n(L.X,0,T.X,0,1<<L.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function ue(T,L,Y,Q){e(Y!=null),e(Q!=null);var fe=Y[0],ye=Q[0];return fe==0&&(fe=(T*ye+L/2)/L),ye==0&&(ye=(L*fe+T/2)/T),0>=fe||0>=ye?0:(Y[0]=fe,Q[0]=ye,1)}function ie(T,L){return T+(1<<L)-1>>>L}function Re(T,L){return((4278255360&T)+(4278255360&L)>>>0&4278255360)+((16711935&T)+(16711935&L)>>>0&16711935)>>>0}function Pe(T,L){O[L]=function(Y,Q,fe,ye,ve,we,Ce){var Oe;for(Oe=0;Oe<ve;++Oe){var Xe=O[T](we[Ce+Oe-1],fe,ye+Oe);we[Ce+Oe]=Re(Y[Q+Oe],Xe)}}}function ge(){this.ud=this.hd=this.jd=0}function se(T,L){return((4278124286&(T^L))>>>1)+(T&L)>>>0}function ee(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function Ae(T,L){return ee(T+(T-L+.5>>1))}function je(T,L,Y){return Math.abs(L-Y)-Math.abs(T-Y)}function Ge(T,L,Y,Q,fe,ye,ve){for(Q=ye[ve-1],Y=0;Y<fe;++Y)ye[ve+Y]=Q=Re(T[L+Y],Q)}function Be(T,L,Y,Q,fe){var ye;for(ye=0;ye<Y;++ye){var ve=T[L+ye],we=ve>>8&255,Ce=16711935&(Ce=(Ce=16711935&ve)+((we<<16)+we));Q[fe+ye]=(4278255360&ve)+Ce>>>0}}function mt(T,L){L.jd=255&T,L.hd=T>>8&255,L.ud=T>>16&255}function yt(T,L,Y,Q,fe,ye){var ve;for(ve=0;ve<Q;++ve){var we=L[Y+ve],Ce=we>>>8,Oe=we,Xe=255&(Xe=(Xe=we>>>16)+((T.jd<<24>>24)*(Ce<<24>>24)>>>5));Oe=255&(Oe=(Oe+=(T.hd<<24>>24)*(Ce<<24>>24)>>>5)+((T.ud<<24>>24)*(Xe<<24>>24)>>>5)),fe[ye+ve]=(4278255360&we)+(Xe<<16)+Oe}}function Mt(T,L,Y,Q,fe){O[L]=function(ye,ve,we,Ce,Oe,Xe,ut,Le,$e){for(Ce=ut;Ce<Le;++Ce)for(ut=0;ut<$e;++ut)Oe[Xe++]=fe(we[Q(ye[ve++])])},O[T]=function(ye,ve,we,Ce,Oe,Xe,ut){var Le=8>>ye.b,$e=ye.Ea,rt=ye.K[0],Et=ye.w;if(8>Le)for(ye=(1<<ye.b)-1,Et=(1<<Le)-1;ve<we;++ve){var lt,et=0;for(lt=0;lt<$e;++lt)lt&ye||(et=Q(Ce[Oe++])),Xe[ut++]=fe(rt[et&Et]),et>>=Le}else O["VP8LMapColor"+Y](Ce,Oe,rt,Et,Xe,ut,ve,we,$e)}}function jt(T,L,Y,Q,fe){for(Y=L+Y;L<Y;){var ye=T[L++];Q[fe++]=ye>>16&255,Q[fe++]=ye>>8&255,Q[fe++]=255&ye}}function Ke(T,L,Y,Q,fe){for(Y=L+Y;L<Y;){var ye=T[L++];Q[fe++]=ye>>16&255,Q[fe++]=ye>>8&255,Q[fe++]=255&ye,Q[fe++]=ye>>24&255}}function st(T,L,Y,Q,fe){for(Y=L+Y;L<Y;){var ye=(ve=T[L++])>>16&240|ve>>12&15,ve=240&ve|ve>>28&15;Q[fe++]=ye,Q[fe++]=ve}}function Dt(T,L,Y,Q,fe){for(Y=L+Y;L<Y;){var ye=(ve=T[L++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;Q[fe++]=ye,Q[fe++]=ve}}function De(T,L,Y,Q,fe){for(Y=L+Y;L<Y;){var ye=T[L++];Q[fe++]=255&ye,Q[fe++]=ye>>8&255,Q[fe++]=ye>>16&255}}function qe(T,L,Y,Q,fe,ye){if(ye==0)for(Y=L+Y;L<Y;)at(Q,((ye=T[L++])[0]>>24|ye[1]>>8&65280|ye[2]<<8&16711680|ye[3]<<24)>>>0),fe+=32;else n(Q,fe,T,L,Y)}function St(T,L){O[L][0]=O[T+"0"],O[L][1]=O[T+"1"],O[L][2]=O[T+"2"],O[L][3]=O[T+"3"],O[L][4]=O[T+"4"],O[L][5]=O[T+"5"],O[L][6]=O[T+"6"],O[L][7]=O[T+"7"],O[L][8]=O[T+"8"],O[L][9]=O[T+"9"],O[L][10]=O[T+"10"],O[L][11]=O[T+"11"],O[L][12]=O[T+"12"],O[L][13]=O[T+"13"],O[L][14]=O[T+"0"],O[L][15]=O[T+"0"]}function Ne(T){return T==Qu||T==Ih||T==ks||T==qd}function xt(){this.eb=[],this.size=this.A=this.fb=0}function Tt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xt,this.f.kb=new Tt,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qt(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function Xt(T,L){var Y=T.T,Q=L.ba.f.RGBA,fe=Q.eb,ye=Q.fb+T.ka*Q.A,ve=Pr[L.ba.S],we=T.y,Ce=T.O,Oe=T.f,Xe=T.N,ut=T.ea,Le=T.W,$e=L.cc,rt=L.dc,Et=L.Mc,lt=L.Nc,et=T.ka,Nt=T.ka+T.T,Vt=T.U,It=Vt+1>>1;for(et==0?ve(we,Ce,null,null,Oe,Xe,ut,Le,Oe,Xe,ut,Le,fe,ye,null,null,Vt):(ve(L.ec,L.fc,we,Ce,$e,rt,Et,lt,Oe,Xe,ut,Le,fe,ye-Q.A,fe,ye,Vt),++Y);et+2<Nt;et+=2)$e=Oe,rt=Xe,Et=ut,lt=Le,Xe+=T.Rc,Le+=T.Rc,ye+=2*Q.A,ve(we,(Ce+=2*T.fa)-T.fa,we,Ce,$e,rt,Et,lt,Oe,Xe,ut,Le,fe,ye-Q.A,fe,ye,Vt);return Ce+=T.fa,T.j+Nt<T.o?(n(L.ec,L.fc,we,Ce,Vt),n(L.cc,L.dc,Oe,Xe,It),n(L.Mc,L.Nc,ut,Le,It),Y--):1&Nt||ve(we,Ce,null,null,Oe,Xe,ut,Le,Oe,Xe,ut,Le,fe,ye+Q.A,null,null,Vt),Y}function wn(T,L,Y){var Q=T.F,fe=[T.J];if(Q!=null){var ye=T.U,ve=L.ba.S,we=ve==gr||ve==ks;L=L.ba.f.RGBA;var Ce=[0],Oe=T.ka;Ce[0]=T.T,T.Kb&&(Oe==0?--Ce[0]:(--Oe,fe[0]-=T.width),T.j+T.ka+T.T==T.o&&(Ce[0]=T.o-T.j-Oe));var Xe=L.eb;Oe=L.fb+Oe*L.A,T=rc(Q,fe[0],T.width,ye,Ce,Xe,Oe+(we?0:3),L.A),e(Y==Ce),T&&Ne(ve)&&kc(Xe,Oe,we,ye,Ce,L.A)}return 0}function xn(T){var L=T.ma,Y=L.ba.S,Q=11>Y,fe=Y==Dr||Y==Qs||Y==gr||Y==vu||Y==12||Ne(Y);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!Sl(L.Oa,T,fe?11:12))return 0;if(fe&&Ne(Y)&&du(),T.da)alert("todo:use_scaling");else{if(Q){if(L.Ib=qt,T.Kb){if(Y=T.U+1>>1,L.memory=r(T.U+2*Y),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+T.U,L.Mc=L.cc,L.Nc=L.dc+Y,L.Ib=Xt,du()}}else alert("todo:EmitYUV");fe&&(L.Jb=wn,Q&&Cr())}if(Q&&!Bc){for(T=0;256>T;++T)kr[T]=89858*(T-128)+xo>>As,Sm[T]=-22014*(T-128)+xo,ep[T]=-45773*(T-128),Yd[T]=113618*(T-128)+xo>>As;for(T=zc;T<Ol;++T)L=76283*(T-16)+xo>>As,Am[T-zc]=Rn(L,255),tp[T-zc]=Rn(L+8>>4,15);Bc=1}return 1}function $t(T){var L=T.ma,Y=T.U,Q=T.T;return e(!(1&T.ka)),0>=Y||0>=Q?0:(Y=L.Ib(T,L),L.Jb!=null&&L.Jb(T,L,Y),L.Dc+=Y,1)}function Fi(T){T.ma.memory=null}function Gs(T,L,Y,Q){return Z(T,8)!=47?0:(L[0]=Z(T,14)+1,Y[0]=Z(T,14)+1,Q[0]=Z(T,1),Z(T,3)!=0?0:!T.h)}function Ar(T,L){if(4>T)return T+1;var Y=T-2>>1;return(2+(1&T)<<Y)+Z(L,Y)+1}function Mr(T,L){return 120<L?L-120:1<=(Y=((Y=eo[L-1])>>4)*T+(8-(15&Y)))?Y:1;var Y}function ei(T,L,Y){var Q=ce(Y),fe=T[L+=255&Q].g-8;return 0<fe&&(me(Y,Y.u+8),Q=ce(Y),L+=T[L].value,L+=Q&(1<<fe)-1),me(Y,Y.u+T[L].g),T[L].value}function ya(T,L,Y){return Y.g+=T.g,Y.value+=T.value<<L>>>0,e(8>=Y.g),T.g}function Ki(T,L,Y){var Q=T.xc;return e((L=Q==0?0:T.vc[T.md*(Y>>Q)+(L>>Q)])<T.Wb),T.Ya[L]}function dr(T,L,Y,Q){var fe=T.ab,ye=T.c*L,ve=T.C;L=ve+L;var we=Y,Ce=Q;for(Q=T.Ta,Y=T.Ua;0<fe--;){var Oe=T.gc[fe],Xe=ve,ut=L,Le=we,$e=Ce,rt=(Ce=Q,we=Y,Oe.Ea);switch(e(Xe<ut),e(ut<=Oe.nc),Oe.hc){case 2:Ji(Le,$e,(ut-Xe)*rt,Ce,we);break;case 0:var Et=Xe,lt=ut,et=Ce,Nt=we,Vt=(ln=Oe).Ea;Et==0&&(fu(Le,$e,null,null,1,et,Nt),Ge(Le,$e+1,0,0,Vt-1,et,Nt+1),$e+=Vt,Nt+=Vt,++Et);for(var It=1<<ln.b,on=It-1,nn=ie(Vt,ln.b),Un=ln.K,ln=ln.w+(Et>>ln.b)*nn;Et<lt;){var Kn=Un,ba=ln,Xn=1;for(Ml(Le,$e,et,Nt-Vt,1,et,Nt);Xn<Vt;){var an=(Xn&~on)+It;an>Vt&&(an=Vt),(0,Tl[Kn[ba++]>>8&15])(Le,$e+ +Xn,et,Nt+Xn-Vt,an-Xn,et,Nt+Xn),Xn=an}$e+=Vt,Nt+=Vt,++Et&on||(ln+=nn)}ut!=Oe.nc&&n(Ce,we-rt,Ce,we+(ut-Xe-1)*rt,rt);break;case 1:for(rt=Le,lt=$e,Vt=(Le=Oe.Ea)-(Nt=Le&~(et=($e=1<<Oe.b)-1)),Et=ie(Le,Oe.b),It=Oe.K,Oe=Oe.w+(Xe>>Oe.b)*Et;Xe<ut;){for(on=It,nn=Oe,Un=new ge,ln=lt+Nt,Kn=lt+Le;lt<ln;)mt(on[nn++],Un),pu(Un,rt,lt,$e,Ce,we),lt+=$e,we+=$e;lt<Kn&&(mt(on[nn++],Un),pu(Un,rt,lt,Vt,Ce,we),lt+=Vt,we+=Vt),++Xe&et||(Oe+=Et)}break;case 3:if(Le==Ce&&$e==we&&0<Oe.b){for(lt=Ce,Le=rt=we+(ut-Xe)*rt-(Nt=(ut-Xe)*ie(Oe.Ea,Oe.b)),$e=Ce,et=we,Et=[],Nt=(Vt=Nt)-1;0<=Nt;--Nt)Et[Nt]=$e[et+Nt];for(Nt=Vt-1;0<=Nt;--Nt)lt[Le+Nt]=Et[Nt];jd(Oe,Xe,ut,Ce,rt,Ce,we)}else jd(Oe,Xe,ut,Le,$e,Ce,we)}we=Q,Ce=Y}Ce!=Y&&n(Q,Y,we,Ce,ye)}function Pa(T,L){var Y=T.V,Q=T.Ba+T.c*T.C,fe=L-T.C;if(e(L<=T.l.o),e(16>=fe),0<fe){var ye=T.l,ve=T.Ta,we=T.Ua,Ce=ye.width;if(dr(T,fe,Y,Q),fe=we=[we],e((Y=T.C)<(Q=L)),e(ye.v<ye.va),Q>ye.o&&(Q=ye.o),Y<ye.j){var Oe=ye.j-Y;Y=ye.j,fe[0]+=Oe*Ce}if(Y>=Q?Y=0:(fe[0]+=4*ye.v,ye.ka=Y-ye.j,ye.U=ye.va-ye.v,ye.T=Q-Y,Y=1),Y){if(we=we[0],11>(Y=T.ca).S){var Xe=Y.f.RGBA,ut=(Q=Y.S,fe=ye.U,ye=ye.T,Oe=Xe.eb,Xe.A),Le=ye;for(Xe=Xe.fb+T.Ma*Xe.A;0<Le--;){var $e=ve,rt=we,Et=fe,lt=Oe,et=Xe;switch(Q){case Hd:mu($e,rt,Et,lt,et);break;case Dr:Xo($e,rt,Et,lt,et);break;case Qu:Xo($e,rt,Et,lt,et),kc(lt,et,0,Et,1,0);break;case cs:Pc($e,rt,Et,lt,et);break;case Qs:qe($e,rt,Et,lt,et,1);break;case Ih:qe($e,rt,Et,lt,et,1),kc(lt,et,0,Et,1,0);break;case gr:qe($e,rt,Et,lt,et,0);break;case ks:qe($e,rt,Et,lt,et,0),kc(lt,et,1,Et,1,0);break;case vu:Yo($e,rt,Et,lt,et);break;case qd:Yo($e,rt,Et,lt,et),Yr(lt,et,Et,1,0);break;case Rl:Zs($e,rt,Et,lt,et);break;default:e(0)}we+=Ce,Xe+=ut}T.Ma+=ye}else alert("todo:EmitRescaledRowsYUVA");e(T.Ma<=Y.height)}}T.C=L,e(T.C<=T.i)}function Dn(T){var L;if(0<T.ua)return 0;for(L=0;L<T.Wb;++L){var Y=T.Ya[L].G,Q=T.Ya[L].H;if(0<Y[1][Q[1]+0].g||0<Y[2][Q[2]+0].g||0<Y[3][Q[3]+0].g)return 0}return 1}function ji(T,L,Y,Q,fe,ye){if(T.Z!=0){var ve=T.qd,we=T.rd;for(e(lc[T.Z]!=null);L<Y;++L)lc[T.Z](ve,we,Q,fe,Q,fe,ye),ve=Q,we=fe,fe+=ye;T.qd=ve,T.rd=we}}function Xa(T,L){var Y=T.l.ma,Q=Y.Z==0||Y.Z==1?T.l.j:T.C;if(Q=T.C<Q?Q:T.C,e(L<=T.l.o),L>Q){var fe=T.l.width,ye=Y.ca,ve=Y.tb+fe*Q,we=T.V,Ce=T.Ba+T.c*Q,Oe=T.gc;e(T.ab==1),e(Oe[0].hc==3),ls(Oe[0],Q,L,we,Ce,ye,ve),ji(Y,Q,L,ye,ve,fe)}T.C=T.Ma=L}function Hr(T,L,Y,Q,fe,ye,ve){var we=T.$/Q,Ce=T.$%Q,Oe=T.m,Xe=T.s,ut=Y+T.$,Le=ut;fe=Y+Q*fe;var $e=Y+Q*ye,rt=280+Xe.ua,Et=T.Pb?we:16777216,lt=0<Xe.ua?Xe.Wa:null,et=Xe.wc,Nt=ut<$e?Ki(Xe,Ce,we):null;e(T.C<ye),e($e<=fe);var Vt=!1;e:for(;;){for(;Vt||ut<$e;){var It=0;if(we>=Et){var on=ut-Y;e((Et=T).Pb),Et.wd=Et.m,Et.xd=on,0<Et.s.ua&&xe(Et.s.Wa,Et.s.vb),Et=we+Ll}if(Ce&et||(Nt=Ki(Xe,Ce,we)),e(Nt!=null),Nt.Qb&&(L[ut]=Nt.qb,Vt=!0),!Vt)if(Ee(Oe),Nt.jc){It=Oe,on=L;var nn=ut,Un=Nt.pd[ce(It)&nc-1];e(Nt.jc),256>Un.g?(me(It,It.u+Un.g),on[nn]=Un.value,It=0):(me(It,It.u+Un.g-256),e(256<=Un.value),It=Un.value),It==0&&(Vt=!0)}else It=ei(Nt.G[0],Nt.H[0],Oe);if(Oe.h)break;if(Vt||256>It){if(!Vt)if(Nt.nd)L[ut]=(Nt.qb|It<<8)>>>0;else{if(Ee(Oe),Vt=ei(Nt.G[1],Nt.H[1],Oe),Ee(Oe),on=ei(Nt.G[2],Nt.H[2],Oe),nn=ei(Nt.G[3],Nt.H[3],Oe),Oe.h)break;L[ut]=(nn<<24|Vt<<16|It<<8|on)>>>0}if(Vt=!1,++ut,++Ce>=Q&&(Ce=0,++we,ve!=null&&we<=ye&&!(we%16)&&ve(T,we),lt!=null))for(;Le<ut;)It=L[Le++],lt.X[(506832829*It&4294967295)>>>lt.Mb]=It}else if(280>It){if(It=Ar(It-256,Oe),on=ei(Nt.G[4],Nt.H[4],Oe),Ee(Oe),on=Mr(Q,on=Ar(on,Oe)),Oe.h)break;if(ut-Y<on||fe-ut<It)break e;for(nn=0;nn<It;++nn)L[ut+nn]=L[ut+nn-on];for(ut+=It,Ce+=It;Ce>=Q;)Ce-=Q,++we,ve!=null&&we<=ye&&!(we%16)&&ve(T,we);if(e(ut<=fe),Ce&et&&(Nt=Ki(Xe,Ce,we)),lt!=null)for(;Le<ut;)It=L[Le++],lt.X[(506832829*It&4294967295)>>>lt.Mb]=It}else{if(!(It<rt))break e;for(Vt=It-280,e(lt!=null);Le<ut;)It=L[Le++],lt.X[(506832829*It&4294967295)>>>lt.Mb]=It;It=ut,e(!(Vt>>>(on=lt).Xa)),L[It]=on.X[Vt],Vt=!0}Vt||e(Oe.h==pe(Oe))}if(T.Pb&&Oe.h&&ut<fe)e(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&xe(T.s.vb,T.s.Wa);else{if(Oe.h)break e;ve!=null&&ve(T,we>ye?ye:we),T.a=0,T.$=ut-Y}return 1}return T.a=3,0}function gs(T){e(T!=null),T.vc=null,T.yc=null,T.Ya=null;var L=T.Wa;L!=null&&(L.X=null),T.vb=null,e(T!=null)}function Jl(){var T=new On;return T==null?null:(T.a=0,T.xb=Xd,St("Predictor","VP8LPredictors"),St("Predictor","VP8LPredictors_C"),St("PredictorAdd","VP8LPredictorsAdd"),St("PredictorAdd","VP8LPredictorsAdd_C"),Ji=Be,pu=yt,mu=jt,Xo=Ke,Yo=st,Zs=Dt,Pc=De,O.VP8LMapColor32b=Wo,O.VP8LMapColor8b=Hi,T)}function ys(T,L,Y,Q,fe){var ye=1,ve=[T],we=[L],Ce=Q.m,Oe=Q.s,Xe=null,ut=0;e:for(;;){if(Y)for(;ye&&Z(Ce,1);){var Le=ve,$e=we,rt=Q,Et=1,lt=rt.m,et=rt.gc[rt.ab],Nt=Z(lt,2);if(rt.Oc&1<<Nt)ye=0;else{switch(rt.Oc|=1<<Nt,et.hc=Nt,et.Ea=Le[0],et.nc=$e[0],et.K=[null],++rt.ab,e(4>=rt.ab),Nt){case 0:case 1:et.b=Z(lt,3)+2,Et=ys(ie(et.Ea,et.b),ie(et.nc,et.b),0,rt,et.K),et.K=et.K[0];break;case 3:var Vt,It=Z(lt,8)+1,on=16<It?0:4<It?1:2<It?2:3;if(Le[0]=ie(et.Ea,on),et.b=on,Vt=Et=ys(It,1,0,rt,et.K)){var nn,Un=It,ln=et,Kn=1<<(8>>ln.b),ba=r(Kn);if(ba==null)Vt=0;else{var Xn=ln.K[0],an=ln.w;for(ba[0]=ln.K[0][0],nn=1;nn<1*Un;++nn)ba[nn]=Re(Xn[an+nn],ba[nn-1]);for(;nn<4*Kn;++nn)ba[nn]=0;ln.K[0]=null,ln.K[0]=ba,Vt=1}}Et=Vt;break;case 2:break;default:e(0)}ye=Et}}if(ve=ve[0],we=we[0],ye&&Z(Ce,1)&&!(ye=1<=(ut=Z(Ce,4))&&11>=ut)){Q.a=3;break e}var Yt;if(Yt=ye)t:{var za,Nn,Yn,Ti=Q,nr=ve,Zr=we,pa=ut,Ga=Y,Ca=Ti.m,yi=Ti.s,zn=[null],Hn=1,Na=0,Pi=Us[pa];n:for(;;){if(Ga&&Z(Ca,1)){var Ei=Z(Ca,3)+2,qi=ie(nr,Ei),Ci=ie(Zr,Ei),Ka=qi*Ci;if(!ys(qi,Ci,0,Ti,zn))break n;for(zn=zn[0],yi.xc=Ei,za=0;za<Ka;++za){var Gi=zn[za]>>8&65535;zn[za]=Gi,Gi>=Hn&&(Hn=Gi+1)}}if(Ca.h)break n;for(Nn=0;5>Nn;++Nn){var ir=Uc[Nn];!Nn&&0<pa&&(ir+=1<<pa),Na<ir&&(Na=ir)}var Za=o(Hn*Pi,$),la=Hn,vi=o(la,oe);if(vi==null)var ds=null;else e(65536>=la),ds=vi;var ca=r(Na);if(ds==null||ca==null||Za==null){Ti.a=1;break n}var hn=Za;for(za=Yn=0;za<Hn;++za){var En=ds[za],Ni=En.G,zs=En.H,hs=0,Ms=1,ar=0;for(Nn=0;5>Nn;++Nn){ir=Uc[Nn],Ni[Nn]=hn,zs[Nn]=Yn,!Nn&&0<pa&&(ir+=1<<pa);a:{var jc,vo=ir,jh=Ti,ma=ca,np=hn,ip=Yn,Fh=0,uc=jh.m,wg=Z(uc,1);if(a(ma,0,0,vo),wg){var ap=Z(uc,1)+1,rp=Z(uc,1),Vh=Z(uc,rp==0?1:8);ma[Vh]=1,ap==2&&(ma[Vh=Z(uc,8)]=1);var Ir=1}else{var Wa=r(19),ad=Z(uc,4)+4;if(19<ad){jh.a=3;var Fc=0;break a}for(jc=0;jc<ad;++jc)Wa[ed[jc]]=Z(uc,3);var rd=void 0,wu=void 0,Pl=jh,Hh=Wa,sd=vo,$d=ma,Kd=0,dc=Pl.m,qh=8,Gh=o(128,$);i:for(;I(Gh,0,7,Hh,19);){if(Z(dc,1)){var sp=2+2*Z(dc,3);if((rd=2+Z(dc,sp))>sd)break i}else rd=sd;for(wu=0;wu<sd&&rd--;){Ee(dc);var Zd=Gh[0+(127&ce(dc))];me(dc,dc.u+Zd.g);var kl=Zd.value;if(16>kl)$d[wu++]=kl,kl!=0&&(qh=kl);else{var Mm=kl==16,Tm=kl-16,Em=Ko[Tm],op=Z(dc,Is[Tm])+Em;if(wu+op>sd)break i;for(var lp=Mm?qh:0;0<op--;)$d[wu++]=lp}}Kd=1;break i}Kd||(Pl.a=3),Ir=Kd}(Ir=Ir&&!uc.h)&&(Fh=I(np,ip,8,ma,vo)),Ir&&Fh!=0?Fc=Fh:(jh.a=3,Fc=0)}if(Fc==0)break n;if(Ms&&Gd[Nn]==1&&(Ms=hn[Yn].g==0),hs+=hn[Yn].g,Yn+=Fc,3>=Nn){var Vc,Wh=ca[0];for(Vc=1;Vc<ir;++Vc)ca[Vc]>Wh&&(Wh=ca[Vc]);ar+=Wh}}if(En.nd=Ms,En.Qb=0,Ms&&(En.qb=(Ni[3][zs[3]+0].value<<24|Ni[1][zs[1]+0].value<<16|Ni[2][zs[2]+0].value)>>>0,hs==0&&256>Ni[0][zs[0]+0].value&&(En.Qb=1,En.qb+=Ni[0][zs[0]+0].value<<8)),En.jc=!En.Qb&&6>ar,En.jc){var Jd,Il=En;for(Jd=0;Jd<nc;++Jd){var hc=Jd,fc=Il.pd[hc],Xh=Il.G[0][Il.H[0]+hc];256<=Xh.value?(fc.g=Xh.g+256,fc.value=Xh.value):(fc.g=0,fc.value=0,hc>>=ya(Xh,8,fc),hc>>=ya(Il.G[1][Il.H[1]+hc],16,fc),hc>>=ya(Il.G[2][Il.H[2]+hc],0,fc),ya(Il.G[3][Il.H[3]+hc],24,fc))}}}yi.vc=zn,yi.Wb=Hn,yi.Ya=ds,yi.yc=Za,Yt=1;break t}Yt=0}if(!(ye=Yt)){Q.a=3;break e}if(0<ut){if(Oe.ua=1<<ut,!j(Oe.Wa,ut)){Q.a=1,ye=0;break e}}else Oe.ua=0;var Yh=Q,Su=ve,Cm=we,od=Yh.s,ld=od.xc;if(Yh.c=Su,Yh.i=Cm,od.md=ie(Su,ld),od.wc=ld==0?-1:(1<<ld)-1,Y){Q.xb=hi;break e}if((Xe=r(ve*we))==null){Q.a=1,ye=0;break e}ye=(ye=Hr(Q,Xe,0,ve,we,we,null))&&!Ce.h;break e}return ye?(fe!=null?fe[0]=Xe:(e(Xe==null),e(Y)),Q.$=0,Y||gs(Oe)):gs(Oe),ye}function xs(T,L){var Y=T.c*T.i,Q=Y+L+16*L;return e(T.c<=L),T.V=r(Q),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+Y+L,1)}function co(T,L){var Y=T.C,Q=L-Y,fe=T.V,ye=T.Ba+T.c*Y;for(e(L<=T.l.o);0<Q;){var ve=16<Q?16:Q,we=T.l.ma,Ce=T.l.width,Oe=Ce*ve,Xe=we.ca,ut=we.tb+Ce*Y,Le=T.Ta,$e=T.Ua;dr(T,ve,fe,ye),pr(Le,$e,Xe,ut,Oe),ji(we,Y,Y+ve,Xe,ut,Ce),Q-=ve,fe+=ve*T.c,Y+=ve}e(Y==L),T.C=T.Ma=L}function da(){this.ub=this.yd=this.td=this.Rb=0}function be(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ze(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function ft(){this.Yb=(function(){var T=[];return(function L(Y,Q,fe){for(var ye=fe[Q],ve=0;ve<ye&&(Y.push(fe.length>Q+1?[]:0),!(fe.length<Q+1));ve++)L(Y[ve],Q+1,fe)})(T,0,[3,11]),T})()}function ct(){this.jb=r(3),this.Wc=l([4,8],ft),this.Xc=l([4,17],ft)}function Je(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function Ft(){this.ld=this.La=this.dd=this.tc=0}function Wt(){this.Na=this.la=0}function Kt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zt(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vn(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ft),this.Y=0,this.ya=Array(new Zt),this.aa=0,this.l=new ti}function An(){this.y=r(16),this.f=r(8),this.ea=r(8)}function mn(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new da,this.Kc=new be,this.ed=new Je,this.Qa=new Ze,this.Ic=this.$c=this.Aa=0,this.D=new vn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,Kt),this.Pa=new ct,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new An),this.Hd=0,this.rb=Array(new Wt),this.sb=0,this.wa=Array(new Ft),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zt),this.L=this.aa=0,this.gd=l([4,2],Ft),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rn(T,L){return 0>T?0:T>L?L:T}function ti(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function di(){var T=new mn;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,to||(to=wi)),T}function Sn(T,L,Y){return T.a==0&&(T.a=L,T.sc=Y,T.cb=0),0}function _i(T,L,Y){return 3<=Y&&T[L+0]==157&&T[L+1]==1&&T[L+2]==42}function cn(T,L){if(T==null)return 0;if(T.a=0,T.sc="OK",L==null)return Sn(T,2,"null VP8Io passed to VP8GetHeaders()");var Y=L.data,Q=L.w,fe=L.ha;if(4>fe)return Sn(T,7,"Truncated header.");var ye=Y[Q+0]|Y[Q+1]<<8|Y[Q+2]<<16,ve=T.Od;if(ve.Rb=!(1&ye),ve.td=ye>>1&7,ve.yd=ye>>4&1,ve.ub=ye>>5,3<ve.td)return Sn(T,3,"Incorrect keyframe parameters.");if(!ve.yd)return Sn(T,4,"Frame not displayable.");Q+=3,fe-=3;var we=T.Kc;if(ve.Rb){if(7>fe)return Sn(T,7,"cannot parse picture header");if(!_i(Y,Q,fe))return Sn(T,3,"Bad code word");we.c=16383&(Y[Q+4]<<8|Y[Q+3]),we.Td=Y[Q+4]>>6,we.i=16383&(Y[Q+6]<<8|Y[Q+5]),we.Ud=Y[Q+6]>>6,Q+=7,fe-=7,T.za=we.c+15>>4,T.Ub=we.i+15>>4,L.width=we.c,L.height=we.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,a((ye=T.Pa).jb,0,255,ye.jb.length),e((ye=T.Qa)!=null),ye.Cb=0,ye.Bb=0,ye.Fb=1,a(ye.Zb,0,0,ye.Zb.length),a(ye.Lb,0,0,ye.Lb)}if(ve.ub>fe)return Sn(T,7,"bad partition length");J(ye=T.m,Y,Q,ve.ub),Q+=ve.ub,fe-=ve.ub,ve.Rb&&(we.Ld=ze(ye),we.Kd=ze(ye)),we=T.Qa;var Ce,Oe=T.Pa;if(e(ye!=null),e(we!=null),we.Cb=ze(ye),we.Cb){if(we.Bb=ze(ye),ze(ye)){for(we.Fb=ze(ye),Ce=0;4>Ce;++Ce)we.Zb[Ce]=ze(ye)?te(ye,7):0;for(Ce=0;4>Ce;++Ce)we.Lb[Ce]=ze(ye)?te(ye,6):0}if(we.Bb)for(Ce=0;3>Ce;++Ce)Oe.jb[Ce]=ze(ye)?ae(ye,8):255}else we.Bb=0;if(ye.Ka)return Sn(T,3,"cannot parse segment header");if((we=T.ed).zd=ze(ye),we.Tb=ae(ye,6),we.wb=ae(ye,3),we.Pc=ze(ye),we.Pc&&ze(ye)){for(Oe=0;4>Oe;++Oe)ze(ye)&&(we.vd[Oe]=te(ye,6));for(Oe=0;4>Oe;++Oe)ze(ye)&&(we.od[Oe]=te(ye,6))}if(T.L=we.Tb==0?0:we.zd?1:2,ye.Ka)return Sn(T,3,"cannot parse filter header");var Xe=fe;if(fe=Ce=Q,Q=Ce+Xe,we=Xe,T.Xb=(1<<ae(T.m,2))-1,Xe<3*(Oe=T.Xb))Y=7;else{for(Ce+=3*Oe,we-=3*Oe,Xe=0;Xe<Oe;++Xe){var ut=Y[fe+0]|Y[fe+1]<<8|Y[fe+2]<<16;ut>we&&(ut=we),J(T.Jc[+Xe],Y,Ce,ut),Ce+=ut,we-=ut,fe+=3}J(T.Jc[+Oe],Y,Ce,we),Y=Ce<Q?0:5}if(Y!=0)return Sn(T,Y,"cannot parse partitions");for(Y=ae(Ce=T.m,7),fe=ze(Ce)?te(Ce,4):0,Q=ze(Ce)?te(Ce,4):0,we=ze(Ce)?te(Ce,4):0,Oe=ze(Ce)?te(Ce,4):0,Ce=ze(Ce)?te(Ce,4):0,Xe=T.Qa,ut=0;4>ut;++ut){if(Xe.Cb){var Le=Xe.Zb[ut];Xe.Fb||(Le+=Y)}else{if(0<ut){T.pb[ut]=T.pb[0];continue}Le=Y}var $e=T.pb[ut];$e.Sc[0]=mo[Rn(Le+fe,127)],$e.Sc[1]=go[Rn(Le+0,127)],$e.Eb[0]=2*mo[Rn(Le+Q,127)],$e.Eb[1]=101581*go[Rn(Le+we,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=mo[Rn(Le+Oe,117)],$e.Qc[1]=go[Rn(Le+Ce,127)],$e.lc=Le+Ce}if(!ve.Rb)return Sn(T,4,"Not a key frame.");for(ze(ye),ve=T.Pa,Y=0;4>Y;++Y){for(fe=0;8>fe;++fe)for(Q=0;3>Q;++Q)for(we=0;11>we;++we)Oe=We(ye,fa[Y][fe][Q][we])?ae(ye,8):Wd[Y][fe][Q][we],ve.Wc[Y][fe].Yb[Q][we]=Oe;for(fe=0;17>fe;++fe)ve.Xc[Y][fe]=ve.Wc[Y][gi[fe]]}return T.kc=ze(ye),T.kc&&(T.Bd=ae(ye,8)),T.cb=1}function wi(T,L,Y,Q,fe,ye,ve){var we=L[fe].Yb[Y];for(Y=0;16>fe;++fe){if(!We(T,we[Y+0]))return fe;for(;!We(T,we[Y+1]);)if(we=L[++fe].Yb[0],Y=0,fe==16)return 16;var Ce=L[fe+1].Yb;if(We(T,we[Y+2])){var Oe=T,Xe=0;if(We(Oe,(Le=we)[(ut=Y)+3]))if(We(Oe,Le[ut+6])){for(we=0,ut=2*(Xe=We(Oe,Le[ut+8]))+(Le=We(Oe,Le[ut+9+Xe])),Xe=0,Le=Jf[ut];Le[we];++we)Xe+=Xe+We(Oe,Le[we]);Xe+=3+(8<<ut)}else We(Oe,Le[ut+7])?(Xe=7+2*We(Oe,165),Xe+=We(Oe,145)):Xe=5+We(Oe,159);else Xe=We(Oe,Le[ut+4])?3+We(Oe,Le[ut+5]):2;we=Ce[2]}else Xe=1,we=Ce[1];Ce=ve+Uh[fe],0>(Oe=T).b&&Ue(Oe);var ut,Le=Oe.b,$e=(ut=Oe.Ca>>1)-(Oe.I>>Le)>>31;--Oe.b,Oe.Ca+=$e,Oe.Ca|=1,Oe.I-=(ut+1&$e)<<Le,ye[Ce]=((Xe^$e)-$e)*Q[(0<fe)+0]}return 16}function ni(T){var L=T.rb[T.sb-1];L.la=0,L.Na=0,a(T.zc,0,0,T.zc.length),T.ja=0}function Oi(T,L,Y,Q,fe){fe=T[L+Y+32*Q]+(fe>>3),T[L+Y+32*Q]=-256&fe?0>fe?0:255:fe}function ra(T,L,Y,Q,fe,ye){Oi(T,L,0,Y,Q+fe),Oi(T,L,1,Y,Q+ye),Oi(T,L,2,Y,Q-ye),Oi(T,L,3,Y,Q-fe)}function pi(T){return(20091*T>>16)+T}function Ws(T,L,Y,Q){var fe,ye=0,ve=r(16);for(fe=0;4>fe;++fe){var we=T[L+0]+T[L+8],Ce=T[L+0]-T[L+8],Oe=(35468*T[L+4]>>16)-pi(T[L+12]),Xe=pi(T[L+4])+(35468*T[L+12]>>16);ve[ye+0]=we+Xe,ve[ye+1]=Ce+Oe,ve[ye+2]=Ce-Oe,ve[ye+3]=we-Xe,ye+=4,L++}for(fe=ye=0;4>fe;++fe)we=(T=ve[ye+0]+4)+ve[ye+8],Ce=T-ve[ye+8],Oe=(35468*ve[ye+4]>>16)-pi(ve[ye+12]),Oi(Y,Q,0,0,we+(Xe=pi(ve[ye+4])+(35468*ve[ye+12]>>16))),Oi(Y,Q,1,0,Ce+Oe),Oi(Y,Q,2,0,Ce-Oe),Oi(Y,Q,3,0,we-Xe),ye++,Q+=32}function Vi(T,L,Y,Q){var fe=T[L+0]+4,ye=35468*T[L+4]>>16,ve=pi(T[L+4]),we=35468*T[L+1]>>16;ra(Y,Q,0,fe+ve,T=pi(T[L+1]),we),ra(Y,Q,1,fe+ye,T,we),ra(Y,Q,2,fe-ye,T,we),ra(Y,Q,3,fe-ve,T,we)}function Ya(T,L,Y,Q,fe){Ws(T,L,Y,Q),fe&&Ws(T,L+16,Y,Q+4)}function Zi(T,L,Y,Q){El(T,L+0,Y,Q,1),El(T,L+32,Y,Q+128,1)}function Va(T,L,Y,Q){var fe;for(T=T[L+0]+4,fe=0;4>fe;++fe)for(L=0;4>L;++L)Oi(Y,Q,L,fe,T)}function xa(T,L,Y,Q){T[L+0]&&Si(T,L+0,Y,Q),T[L+16]&&Si(T,L+16,Y,Q+4),T[L+32]&&Si(T,L+32,Y,Q+128),T[L+48]&&Si(T,L+48,Y,Q+128+4)}function os(T,L,Y,Q){var fe,ye=r(16);for(fe=0;4>fe;++fe){var ve=T[L+0+fe]+T[L+12+fe],we=T[L+4+fe]+T[L+8+fe],Ce=T[L+4+fe]-T[L+8+fe],Oe=T[L+0+fe]-T[L+12+fe];ye[0+fe]=ve+we,ye[8+fe]=ve-we,ye[4+fe]=Oe+Ce,ye[12+fe]=Oe-Ce}for(fe=0;4>fe;++fe)ve=(T=ye[0+4*fe]+3)+ye[3+4*fe],we=ye[1+4*fe]+ye[2+4*fe],Ce=ye[1+4*fe]-ye[2+4*fe],Oe=T-ye[3+4*fe],Y[Q+0]=ve+we>>3,Y[Q+16]=Oe+Ce>>3,Y[Q+32]=ve-we>>3,Y[Q+48]=Oe-Ce>>3,Q+=64}function Tr(T,L,Y){var Q,fe=L-32,ye=Lr,ve=255-T[fe-1];for(Q=0;Q<Y;++Q){var we,Ce=ye,Oe=ve+T[L-1];for(we=0;we<Y;++we)T[L+we]=Ce[Oe+T[fe+we]];L+=32}}function su(T,L){Tr(T,L,4)}function Od(T,L){Tr(T,L,8)}function ou(T,L){Tr(T,L,16)}function Wu(T,L){var Y;for(Y=0;16>Y;++Y)n(T,L+32*Y,T,L-32,16)}function Pd(T,L){var Y;for(Y=16;0<Y;--Y)a(T,L,T[L-1],16),L+=32}function vs(T,L,Y){var Q;for(Q=0;16>Q;++Q)a(L,Y+32*Q,T,16)}function uo(T,L){var Y,Q=16;for(Y=0;16>Y;++Y)Q+=T[L-1+32*Y]+T[L+Y-32];vs(Q>>5,T,L)}function Ho(T,L){var Y,Q=8;for(Y=0;16>Y;++Y)Q+=T[L-1+32*Y];vs(Q>>4,T,L)}function Nc(T,L){var Y,Q=8;for(Y=0;16>Y;++Y)Q+=T[L+Y-32];vs(Q>>4,T,L)}function Ql(T,L){vs(128,T,L)}function Cn(T,L,Y){return T+2*L+Y+2>>2}function kd(T,L){var Y,Q=L-32;for(Q=new Uint8Array([Cn(T[Q-1],T[Q+0],T[Q+1]),Cn(T[Q+0],T[Q+1],T[Q+2]),Cn(T[Q+1],T[Q+2],T[Q+3]),Cn(T[Q+2],T[Q+3],T[Q+4])]),Y=0;4>Y;++Y)n(T,L+32*Y,Q,0,Q.length)}function Xu(T,L){var Y=T[L-1],Q=T[L-1+32],fe=T[L-1+64],ye=T[L-1+96];at(T,L+0,16843009*Cn(T[L-1-32],Y,Q)),at(T,L+32,16843009*Cn(Y,Q,fe)),at(T,L+64,16843009*Cn(Q,fe,ye)),at(T,L+96,16843009*Cn(fe,ye,ye))}function Id(T,L){var Y,Q=4;for(Y=0;4>Y;++Y)Q+=T[L+Y-32]+T[L-1+32*Y];for(Q>>=3,Y=0;4>Y;++Y)a(T,L+32*Y,Q,4)}function bs(T,L){var Y=T[L-1+0],Q=T[L-1+32],fe=T[L-1+64],ye=T[L-1-32],ve=T[L+0-32],we=T[L+1-32],Ce=T[L+2-32],Oe=T[L+3-32];T[L+0+96]=Cn(Q,fe,T[L-1+96]),T[L+1+96]=T[L+0+64]=Cn(Y,Q,fe),T[L+2+96]=T[L+1+64]=T[L+0+32]=Cn(ye,Y,Q),T[L+3+96]=T[L+2+64]=T[L+1+32]=T[L+0+0]=Cn(ve,ye,Y),T[L+3+64]=T[L+2+32]=T[L+1+0]=Cn(we,ve,ye),T[L+3+32]=T[L+2+0]=Cn(Ce,we,ve),T[L+3+0]=Cn(Oe,Ce,we)}function Er(T,L){var Y=T[L+1-32],Q=T[L+2-32],fe=T[L+3-32],ye=T[L+4-32],ve=T[L+5-32],we=T[L+6-32],Ce=T[L+7-32];T[L+0+0]=Cn(T[L+0-32],Y,Q),T[L+1+0]=T[L+0+32]=Cn(Y,Q,fe),T[L+2+0]=T[L+1+32]=T[L+0+64]=Cn(Q,fe,ye),T[L+3+0]=T[L+2+32]=T[L+1+64]=T[L+0+96]=Cn(fe,ye,ve),T[L+3+32]=T[L+2+64]=T[L+1+96]=Cn(ye,ve,we),T[L+3+64]=T[L+2+96]=Cn(ve,we,Ce),T[L+3+96]=Cn(we,Ce,Ce)}function Yu(T,L){var Y=T[L-1+0],Q=T[L-1+32],fe=T[L-1+64],ye=T[L-1-32],ve=T[L+0-32],we=T[L+1-32],Ce=T[L+2-32],Oe=T[L+3-32];T[L+0+0]=T[L+1+64]=ye+ve+1>>1,T[L+1+0]=T[L+2+64]=ve+we+1>>1,T[L+2+0]=T[L+3+64]=we+Ce+1>>1,T[L+3+0]=Ce+Oe+1>>1,T[L+0+96]=Cn(fe,Q,Y),T[L+0+64]=Cn(Q,Y,ye),T[L+0+32]=T[L+1+96]=Cn(Y,ye,ve),T[L+1+32]=T[L+2+96]=Cn(ye,ve,we),T[L+2+32]=T[L+3+96]=Cn(ve,we,Ce),T[L+3+32]=Cn(we,Ce,Oe)}function lu(T,L){var Y=T[L+0-32],Q=T[L+1-32],fe=T[L+2-32],ye=T[L+3-32],ve=T[L+4-32],we=T[L+5-32],Ce=T[L+6-32],Oe=T[L+7-32];T[L+0+0]=Y+Q+1>>1,T[L+1+0]=T[L+0+64]=Q+fe+1>>1,T[L+2+0]=T[L+1+64]=fe+ye+1>>1,T[L+3+0]=T[L+2+64]=ye+ve+1>>1,T[L+0+32]=Cn(Y,Q,fe),T[L+1+32]=T[L+0+96]=Cn(Q,fe,ye),T[L+2+32]=T[L+1+96]=Cn(fe,ye,ve),T[L+3+32]=T[L+2+96]=Cn(ye,ve,we),T[L+3+64]=Cn(ve,we,Ce),T[L+3+96]=Cn(we,Ce,Oe)}function Xs(T,L){var Y=T[L-1+0],Q=T[L-1+32],fe=T[L-1+64],ye=T[L-1+96];T[L+0+0]=Y+Q+1>>1,T[L+2+0]=T[L+0+32]=Q+fe+1>>1,T[L+2+32]=T[L+0+64]=fe+ye+1>>1,T[L+1+0]=Cn(Y,Q,fe),T[L+3+0]=T[L+1+32]=Cn(Q,fe,ye),T[L+3+32]=T[L+1+64]=Cn(fe,ye,ye),T[L+3+64]=T[L+2+64]=T[L+0+96]=T[L+1+96]=T[L+2+96]=T[L+3+96]=ye}function Rc(T,L){var Y=T[L-1+0],Q=T[L-1+32],fe=T[L-1+64],ye=T[L-1+96],ve=T[L-1-32],we=T[L+0-32],Ce=T[L+1-32],Oe=T[L+2-32];T[L+0+0]=T[L+2+32]=Y+ve+1>>1,T[L+0+32]=T[L+2+64]=Q+Y+1>>1,T[L+0+64]=T[L+2+96]=fe+Q+1>>1,T[L+0+96]=ye+fe+1>>1,T[L+3+0]=Cn(we,Ce,Oe),T[L+2+0]=Cn(ve,we,Ce),T[L+1+0]=T[L+3+32]=Cn(Y,ve,we),T[L+1+32]=T[L+3+64]=Cn(Q,Y,ve),T[L+1+64]=T[L+3+96]=Cn(fe,Q,Y),T[L+1+96]=Cn(ye,fe,Q)}function Ds(T,L){var Y;for(Y=0;8>Y;++Y)n(T,L+32*Y,T,L-32,8)}function $u(T,L){var Y;for(Y=0;8>Y;++Y)a(T,L,T[L-1],8),L+=32}function _s(T,L,Y){var Q;for(Q=0;8>Q;++Q)a(L,Y+32*Q,T,8)}function cu(T,L){var Y,Q=8;for(Y=0;8>Y;++Y)Q+=T[L+Y-32]+T[L-1+32*Y];_s(Q>>4,T,L)}function uu(T,L){var Y,Q=4;for(Y=0;8>Y;++Y)Q+=T[L+Y-32];_s(Q>>3,T,L)}function tr(T,L){var Y,Q=4;for(Y=0;8>Y;++Y)Q+=T[L-1+32*Y];_s(Q>>3,T,L)}function qo(T,L){_s(128,T,L)}function Ys(T,L,Y){var Q=T[L-Y],fe=T[L+0],ye=3*(fe-Q)+Nl[1020+T[L-2*Y]-T[L+Y]],ve=xu[112+(ye+4>>3)];T[L-Y]=Lr[255+Q+xu[112+(ye+3>>3)]],T[L+0]=Lr[255+fe-ve]}function ws(T,L,Y,Q){var fe=T[L+0],ye=T[L+Y];return mr[255+T[L-2*Y]-T[L-Y]]>Q||mr[255+ye-fe]>Q}function ec(T,L,Y,Q){return 4*mr[255+T[L-Y]-T[L+0]]+mr[255+T[L-2*Y]-T[L+Y]]<=Q}function Lc(T,L,Y,Q,fe){var ye=T[L-3*Y],ve=T[L-2*Y],we=T[L-Y],Ce=T[L+0],Oe=T[L+Y],Xe=T[L+2*Y],ut=T[L+3*Y];return 4*mr[255+we-Ce]+mr[255+ve-Oe]>Q?0:mr[255+T[L-4*Y]-ye]<=fe&&mr[255+ye-ve]<=fe&&mr[255+ve-we]<=fe&&mr[255+ut-Xe]<=fe&&mr[255+Xe-Oe]<=fe&&mr[255+Oe-Ce]<=fe}function Go(T,L,Y,Q){var fe=2*Q+1;for(Q=0;16>Q;++Q)ec(T,L+Q,Y,fe)&&Ys(T,L+Q,Y)}function gl(T,L,Y,Q){var fe=2*Q+1;for(Q=0;16>Q;++Q)ec(T,L+Q*Y,1,fe)&&Ys(T,L+Q*Y,1)}function Dc(T,L,Y,Q){var fe;for(fe=3;0<fe;--fe)Go(T,L+=4*Y,Y,Q)}function Ud(T,L,Y,Q){var fe;for(fe=3;0<fe;--fe)gl(T,L+=4,Y,Q)}function va(T,L,Y,Q,fe,ye,ve,we){for(ye=2*ye+1;0<fe--;){if(Lc(T,L,Y,ye,ve))if(ws(T,L,Y,we))Ys(T,L,Y);else{var Ce=T,Oe=L,Xe=Y,ut=Ce[Oe-2*Xe],Le=Ce[Oe-Xe],$e=Ce[Oe+0],rt=Ce[Oe+Xe],Et=Ce[Oe+2*Xe],lt=27*(Nt=Nl[1020+3*($e-Le)+Nl[1020+ut-rt]])+63>>7,et=18*Nt+63>>7,Nt=9*Nt+63>>7;Ce[Oe-3*Xe]=Lr[255+Ce[Oe-3*Xe]+Nt],Ce[Oe-2*Xe]=Lr[255+ut+et],Ce[Oe-Xe]=Lr[255+Le+lt],Ce[Oe+0]=Lr[255+$e-lt],Ce[Oe+Xe]=Lr[255+rt-et],Ce[Oe+2*Xe]=Lr[255+Et-Nt]}L+=Q}}function yl(T,L,Y,Q,fe,ye,ve,we){for(ye=2*ye+1;0<fe--;){if(Lc(T,L,Y,ye,ve))if(ws(T,L,Y,we))Ys(T,L,Y);else{var Ce=T,Oe=L,Xe=Y,ut=Ce[Oe-Xe],Le=Ce[Oe+0],$e=Ce[Oe+Xe],rt=xu[112+(4+(Et=3*(Le-ut))>>3)],Et=xu[112+(Et+3>>3)],lt=rt+1>>1;Ce[Oe-2*Xe]=Lr[255+Ce[Oe-2*Xe]+lt],Ce[Oe-Xe]=Lr[255+ut+Et],Ce[Oe+0]=Lr[255+Le-rt],Ce[Oe+Xe]=Lr[255+$e-lt]}L+=Q}}function zd(T,L,Y,Q,fe,ye){va(T,L,Y,1,16,Q,fe,ye)}function xl(T,L,Y,Q,fe,ye){va(T,L,1,Y,16,Q,fe,ye)}function Bd(T,L,Y,Q,fe,ye){var ve;for(ve=3;0<ve;--ve)yl(T,L+=4*Y,Y,1,16,Q,fe,ye)}function F(T,L,Y,Q,fe,ye){var ve;for(ve=3;0<ve;--ve)yl(T,L+=4,1,Y,16,Q,fe,ye)}function he(T,L,Y,Q,fe,ye,ve,we){va(T,L,fe,1,8,ye,ve,we),va(Y,Q,fe,1,8,ye,ve,we)}function Ie(T,L,Y,Q,fe,ye,ve,we){va(T,L,1,fe,8,ye,ve,we),va(Y,Q,1,fe,8,ye,ve,we)}function He(T,L,Y,Q,fe,ye,ve,we){yl(T,L+4*fe,fe,1,8,ye,ve,we),yl(Y,Q+4*fe,fe,1,8,ye,ve,we)}function Qe(T,L,Y,Q,fe,ye,ve,we){yl(T,L+4,1,fe,8,ye,ve,we),yl(Y,Q+4,1,fe,8,ye,ve,we)}function Rt(){this.ba=new bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function zt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dn(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new $}function On(){this.xb=this.a=0,this.l=new ti,this.ca=new bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new re,this.Pb=0,this.wd=new re,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dn,this.ab=0,this.gc=o(4,sn),this.Oc=0}function jn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ti,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mi(T,L,Y,Q,fe,ye,ve){for(T=T==null?0:T[L+0],L=0;L<ve;++L)fe[ye+L]=T+Y[Q+L]&255,T=fe[ye+L]}function Ta(T,L,Y,Q,fe,ye,ve){var we;if(T==null)mi(null,null,Y,Q,fe,ye,ve);else for(we=0;we<ve;++we)fe[ye+we]=T[L+we]+Y[Q+we]&255}function ka(T,L,Y,Q,fe,ye,ve){if(T==null)mi(null,null,Y,Q,fe,ye,ve);else{var we,Ce=T[L+0],Oe=Ce,Xe=Ce;for(we=0;we<ve;++we)Oe=Xe+(Ce=T[L+we])-Oe,Xe=Y[Q+we]+(-256&Oe?0>Oe?0:255:Oe)&255,Oe=Ce,fe[ye+we]=Xe}}function sa(T,L,Y,Q){var fe=L.width,ye=L.o;if(e(T!=null&&L!=null),0>Y||0>=Q||Y+Q>ye)return null;if(!T.Cc){if(T.ga==null){var ve;if(T.ga=new jn,(ve=T.ga==null)||(ve=L.width*L.o,e(T.Gb.length==0),T.Gb=r(ve),T.Uc=0,T.Gb==null?ve=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,ve=1),ve=!ve),!ve){ve=T.ga;var we=T.Fa,Ce=T.P,Oe=T.qc,Xe=T.mb,ut=T.nb,Le=Ce+1,$e=Oe-1,rt=ve.l;if(e(we!=null&&Xe!=null&&L!=null),lc[0]=null,lc[1]=mi,lc[2]=Ta,lc[3]=ka,ve.ca=Xe,ve.tb=ut,ve.c=L.width,ve.i=L.height,e(0<ve.c&&0<ve.i),1>=Oe)L=0;else if(ve.$a=3&we[Ce+0],ve.Z=we[Ce+0]>>2&3,ve.Lc=we[Ce+0]>>4&3,Ce=we[Ce+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||Ce)L=0;else if(rt.put=$t,rt.ac=xn,rt.bc=Fi,rt.ma=ve,rt.width=L.width,rt.height=L.height,rt.Da=L.Da,rt.v=L.v,rt.va=L.va,rt.j=L.j,rt.o=L.o,ve.$a)e:{e(ve.$a==1),L=Jl();t:for(;;){if(L==null){L=0;break e}if(e(ve!=null),ve.mc=L,L.c=ve.c,L.i=ve.i,L.l=ve.l,L.l.ma=ve,L.l.width=ve.c,L.l.height=ve.i,L.a=0,le(L.m,we,Le,$e),!ys(ve.c,ve.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&Dn(L.s)?(ve.ic=1,we=L.c*L.i,L.Ta=null,L.Ua=0,L.V=r(we),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(ve.ic=0,L=xs(L,ve.c)),!L))break t;L=1;break e}ve.mc=null,L=0}else L=$e>=ve.c*ve.i;ve=!L}if(ve)return null;T.ga.Lc!=1?T.Ga=0:Q=ye-Y}e(T.ga!=null),e(Y+Q<=ye);e:{if(L=(we=T.ga).c,ye=we.l.o,we.$a==0){if(Le=T.rc,$e=T.Vc,rt=T.Fa,Ce=T.P+1+Y*L,Oe=T.mb,Xe=T.nb+Y*L,e(Ce<=T.P+T.qc),we.Z!=0)for(e(lc[we.Z]!=null),ve=0;ve<Q;++ve)lc[we.Z](Le,$e,rt,Ce,Oe,Xe,L),Le=Oe,$e=Xe,Xe+=L,Ce+=L;else for(ve=0;ve<Q;++ve)n(Oe,Xe,rt,Ce,L),Le=Oe,$e=Xe,Xe+=L,Ce+=L;T.rc=Le,T.Vc=$e}else{if(e(we.mc!=null),L=Y+Q,e((ve=we.mc)!=null),e(L<=ve.i),ve.C>=L)L=1;else if(we.ic||Cr(),we.ic){we=ve.V,Le=ve.Ba,$e=ve.c;var Et=ve.i,lt=(rt=1,Ce=ve.$/$e,Oe=ve.$%$e,Xe=ve.m,ut=ve.s,ve.$),et=$e*Et,Nt=$e*L,Vt=ut.wc,It=lt<Nt?Ki(ut,Oe,Ce):null;e(lt<=et),e(L<=Et),e(Dn(ut));t:for(;;){for(;!Xe.h&&lt<Nt;){if(Oe&Vt||(It=Ki(ut,Oe,Ce)),e(It!=null),Ee(Xe),256>(Et=ei(It.G[0],It.H[0],Xe)))we[Le+lt]=Et,++lt,++Oe>=$e&&(Oe=0,++Ce<=L&&!(Ce%16)&&Xa(ve,Ce));else{if(!(280>Et)){rt=0;break t}Et=Ar(Et-256,Xe);var on,nn=ei(It.G[4],It.H[4],Xe);if(Ee(Xe),!(lt>=(nn=Mr($e,nn=Ar(nn,Xe)))&&et-lt>=Et)){rt=0;break t}for(on=0;on<Et;++on)we[Le+lt+on]=we[Le+lt+on-nn];for(lt+=Et,Oe+=Et;Oe>=$e;)Oe-=$e,++Ce<=L&&!(Ce%16)&&Xa(ve,Ce);lt<Nt&&Oe&Vt&&(It=Ki(ut,Oe,Ce))}e(Xe.h==pe(Xe))}Xa(ve,Ce>L?L:Ce);break t}!rt||Xe.h&&lt<et?(rt=0,ve.a=Xe.h?5:3):ve.$=lt,L=rt}else L=Hr(ve,ve.V,ve.Ba,ve.c,ve.i,L,co);if(!L){Q=0;break e}}Y+Q>=ye&&(T.Cc=1),Q=1}if(!Q)return null;if(T.Cc&&((Q=T.ga)!=null&&(Q.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+Y*fe}function oa(T,L,Y,Q,fe,ye){for(;0<fe--;){var ve,we=T,Ce=L+(Y?1:0),Oe=T,Xe=L+(Y?0:3);for(ve=0;ve<Q;++ve){var ut=Oe[Xe+4*ve];ut!=255&&(ut*=32897,we[Ce+4*ve+0]=we[Ce+4*ve+0]*ut>>23,we[Ce+4*ve+1]=we[Ce+4*ve+1]*ut>>23,we[Ce+4*ve+2]=we[Ce+4*ve+2]*ut>>23)}L+=ye}}function Ha(T,L,Y,Q,fe){for(;0<Q--;){var ye;for(ye=0;ye<Y;++ye){var ve=T[L+2*ye+0],we=15&(Oe=T[L+2*ye+1]),Ce=4369*we,Oe=(240&Oe|Oe>>4)*Ce>>16;T[L+2*ye+0]=(240&ve|ve>>4)*Ce>>16&240|(15&ve|ve<<4)*Ce>>16>>4&15,T[L+2*ye+1]=240&Oe|we}L+=fe}}function qr(T,L,Y,Q,fe,ye,ve,we){var Ce,Oe,Xe=255;for(Oe=0;Oe<fe;++Oe){for(Ce=0;Ce<Q;++Ce){var ut=T[L+Ce];ye[ve+4*Ce]=ut,Xe&=ut}L+=Y,ve+=we}return Xe!=255}function vl(T,L,Y,Q,fe){var ye;for(ye=0;ye<fe;++ye)Y[Q+ye]=T[L+ye]>>8}function Cr(){kc=oa,Yr=Ha,rc=qr,pr=vl}function Gr(T,L,Y){O[T]=function(Q,fe,ye,ve,we,Ce,Oe,Xe,ut,Le,$e,rt,Et,lt,et,Nt,Vt){var It,on=Vt-1>>1,nn=we[Ce+0]|Oe[Xe+0]<<16,Un=ut[Le+0]|$e[rt+0]<<16;e(Q!=null);var ln=3*nn+Un+131074>>2;for(L(Q[fe+0],255&ln,ln>>16,Et,lt),ye!=null&&(ln=3*Un+nn+131074>>2,L(ye[ve+0],255&ln,ln>>16,et,Nt)),It=1;It<=on;++It){var Kn=we[Ce+It]|Oe[Xe+It]<<16,ba=ut[Le+It]|$e[rt+It]<<16,Xn=nn+Kn+Un+ba+524296,an=Xn+2*(Kn+Un)>>3;ln=an+nn>>1,nn=(Xn=Xn+2*(nn+ba)>>3)+Kn>>1,L(Q[fe+2*It-1],255&ln,ln>>16,Et,lt+(2*It-1)*Y),L(Q[fe+2*It-0],255&nn,nn>>16,Et,lt+(2*It-0)*Y),ye!=null&&(ln=Xn+Un>>1,nn=an+ba>>1,L(ye[ve+2*It-1],255&ln,ln>>16,et,Nt+(2*It-1)*Y),L(ye[ve+2*It+0],255&nn,nn>>16,et,Nt+(2*It+0)*Y)),nn=Kn,Un=ba}1&Vt||(ln=3*nn+Un+131074>>2,L(Q[fe+Vt-1],255&ln,ln>>16,Et,lt+(Vt-1)*Y),ye!=null&&(ln=3*Un+nn+131074>>2,L(ye[ve+Vt-1],255&ln,ln>>16,et,Nt+(Vt-1)*Y)))}}function du(){Pr[Hd]=bu,Pr[Dr]=td,Pr[cs]=Qf,Pr[Qs]=zh,Pr[gr]=Dl,Pr[vu]=$r,Pr[Rl]=cc,Pr[Qu]=td,Pr[Ih]=zh,Pr[ks]=Dl,Pr[qd]=$r}function Oc(T){return T&-16384?0>T?0:255:T>>nd}function Os(T,L){return Oc((19077*T>>8)+(26149*L>>8)-14234)}function Ps(T,L,Y){return Oc((19077*T>>8)-(6419*L>>8)-(13320*Y>>8)+8708)}function $s(T,L){return Oc((19077*T>>8)+(33050*L>>8)-17685)}function Ea(T,L,Y,Q,fe){Q[fe+0]=Os(T,Y),Q[fe+1]=Ps(T,L,Y),Q[fe+2]=$s(T,L)}function $a(T,L,Y,Q,fe){Q[fe+0]=$s(T,L),Q[fe+1]=Ps(T,L,Y),Q[fe+2]=Os(T,Y)}function tc(T,L,Y,Q,fe){var ye=Ps(T,L,Y);L=ye<<3&224|$s(T,L)>>3,Q[fe+0]=248&Os(T,Y)|ye>>5,Q[fe+1]=L}function bl(T,L,Y,Q,fe){var ye=240&$s(T,L)|15;Q[fe+0]=240&Os(T,Y)|Ps(T,L,Y)>>4,Q[fe+1]=ye}function _l(T,L,Y,Q,fe){Q[fe+0]=255,Ea(T,L,Y,Q,fe+1)}function ho(T,L,Y,Q,fe){$a(T,L,Y,Q,fe),Q[fe+3]=255}function Nr(T,L,Y,Q,fe){Ea(T,L,Y,Q,fe),Q[fe+3]=255}function wl(T,L,Y){O[T]=function(Q,fe,ye,ve,we,Ce,Oe,Xe,ut){for(var Le=Xe+(-2&ut)*Y;Xe!=Le;)L(Q[fe+0],ye[ve+0],we[Ce+0],Oe,Xe),L(Q[fe+1],ye[ve+0],we[Ce+0],Oe,Xe+Y),fe+=2,++ve,++Ce,Xe+=2*Y;1&ut&&L(Q[fe+0],ye[ve+0],we[Ce+0],Oe,Xe)}}function Rr(T,L,Y){return Y==0?T==0?L==0?6:5:L==0?4:0:Y}function Ku(T,L,Y,Q,fe){switch(T>>>30){case 3:El(L,Y,Q,fe,0);break;case 2:Xr(L,Y,Q,fe);break;case 1:Si(L,Y,Q,fe)}}function Ss(T,L){var Y,Q,fe=L.M,ye=L.Nb,ve=T.oc,we=T.pc+40,Ce=T.oc,Oe=T.pc+584,Xe=T.oc,ut=T.pc+600;for(Y=0;16>Y;++Y)ve[we+32*Y-1]=129;for(Y=0;8>Y;++Y)Ce[Oe+32*Y-1]=129,Xe[ut+32*Y-1]=129;for(0<fe?ve[we-1-32]=Ce[Oe-1-32]=Xe[ut-1-32]=129:(a(ve,we-32-1,127,21),a(Ce,Oe-32-1,127,9),a(Xe,ut-32-1,127,9)),Q=0;Q<T.za;++Q){var Le=L.ya[L.aa+Q];if(0<Q){for(Y=-1;16>Y;++Y)n(ve,we+32*Y-4,ve,we+32*Y+12,4);for(Y=-1;8>Y;++Y)n(Ce,Oe+32*Y-4,Ce,Oe+32*Y+4,4),n(Xe,ut+32*Y-4,Xe,ut+32*Y+4,4)}var $e=T.Gd,rt=T.Hd+Q,Et=Le.ad,lt=Le.Hc;if(0<fe&&(n(ve,we-32,$e[rt].y,0,16),n(Ce,Oe-32,$e[rt].f,0,8),n(Xe,ut-32,$e[rt].ea,0,8)),Le.Za){var et=ve,Nt=we-32+16;for(0<fe&&(Q>=T.za-1?a(et,Nt,$e[rt].y[15],4):n(et,Nt,$e[rt+1].y,0,4)),Y=0;4>Y;Y++)et[Nt+128+Y]=et[Nt+256+Y]=et[Nt+384+Y]=et[Nt+0+Y];for(Y=0;16>Y;++Y,lt<<=2)et=ve,Nt=we+gn[Y],Qi[Le.Ob[Y]](et,Nt),Ku(lt,Et,16*+Y,et,Nt)}else if(et=Rr(Q,fe,Le.Ob[0]),us[et](ve,we),lt!=0)for(Y=0;16>Y;++Y,lt<<=2)Ku(lt,Et,16*+Y,ve,we+gn[Y]);for(Y=Le.Gc,et=Rr(Q,fe,Le.Dd),yo[et](Ce,Oe),yo[et](Xe,ut),lt=Et,et=Ce,Nt=Oe,255&(Le=0|Y)&&(170&Le?qa(lt,256,et,Nt):xi(lt,256,et,Nt)),Le=Xe,lt=ut,255&(Y>>=8)&&(170&Y?qa(Et,320,Le,lt):xi(Et,320,Le,lt)),fe<T.Ub-1&&(n($e[rt].y,0,ve,we+480,16),n($e[rt].f,0,Ce,Oe+224,8),n($e[rt].ea,0,Xe,ut+224,8)),Y=8*ye*T.B,$e=T.sa,rt=T.ta+16*Q+16*ye*T.R,Et=T.qa,Le=T.ra+8*Q+Y,lt=T.Ha,et=T.Ia+8*Q+Y,Y=0;16>Y;++Y)n($e,rt+Y*T.R,ve,we+32*Y,16);for(Y=0;8>Y;++Y)n(Et,Le+Y*T.B,Ce,Oe+32*Y,8),n(lt,et+Y*T.B,Xe,ut+32*Y,8)}}function fo(T,L,Y,Q,fe,ye,ve,we,Ce){var Oe=[0],Xe=[0],ut=0,Le=Ce!=null?Ce.kd:0,$e=Ce??new zt;if(T==null||12>Y)return 7;$e.data=T,$e.w=L,$e.ha=Y,L=[L],Y=[Y],$e.gb=[$e.gb];e:{var rt=L,Et=Y,lt=$e.gb;if(e(T!=null),e(Et!=null),e(lt!=null),lt[0]=0,12<=Et[0]&&!t(T,rt[0],"RIFF")){if(t(T,rt[0]+8,"WEBP")){lt=3;break e}var et=W(T,rt[0]+4);if(12>et||4294967286<et){lt=3;break e}if(Le&&et>Et[0]-8){lt=7;break e}lt[0]=et,rt[0]+=12,Et[0]-=12}lt=0}if(lt!=0)return lt;for(et=0<$e.gb[0],Y=Y[0];;){e:{var Nt=T;Et=L,lt=Y;var Vt=Oe,It=Xe,on=rt=[0];if((ln=ut=[ut])[0]=0,8>lt[0])lt=7;else{if(!t(Nt,Et[0],"VP8X")){if(W(Nt,Et[0]+4)!=10){lt=3;break e}if(18>lt[0]){lt=7;break e}var nn=W(Nt,Et[0]+8),Un=1+gt(Nt,Et[0]+12);if(2147483648<=Un*(Nt=1+gt(Nt,Et[0]+15))){lt=3;break e}on!=null&&(on[0]=nn),Vt!=null&&(Vt[0]=Un),It!=null&&(It[0]=Nt),Et[0]+=18,lt[0]-=18,ln[0]=1}lt=0}}if(ut=ut[0],rt=rt[0],lt!=0)return lt;if(Et=!!(2&rt),!et&&ut)return 3;if(ye!=null&&(ye[0]=!!(16&rt)),ve!=null&&(ve[0]=Et),we!=null&&(we[0]=0),ve=Oe[0],rt=Xe[0],ut&&Et&&Ce==null){lt=0;break}if(4>Y){lt=7;break}if(et&&ut||!et&&!ut&&!t(T,L[0],"ALPH")){Y=[Y],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{nn=T,lt=L,et=Y;var ln=$e.gb;Vt=$e.na,It=$e.P,on=$e.Sa,Un=22,e(nn!=null),e(et!=null),Nt=lt[0];var Kn=et[0];for(e(Vt!=null),e(on!=null),Vt[0]=null,It[0]=null,on[0]=0;;){if(lt[0]=Nt,et[0]=Kn,8>Kn){lt=7;break e}var ba=W(nn,Nt+4);if(4294967286<ba){lt=3;break e}var Xn=8+ba+1&-2;if(Un+=Xn,0<ln&&Un>ln){lt=3;break e}if(!t(nn,Nt,"VP8 ")||!t(nn,Nt,"VP8L")){lt=0;break e}if(Kn[0]<Xn){lt=7;break e}t(nn,Nt,"ALPH")||(Vt[0]=nn,It[0]=Nt+8,on[0]=ba),Nt+=Xn,Kn-=Xn}}if(Y=Y[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],lt!=0)break}Y=[Y],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(ln=T,lt=L,et=Y,Vt=$e.gb[0],It=$e.Ja,on=$e.xa,nn=lt[0],Nt=!t(ln,nn,"VP8 "),Un=!t(ln,nn,"VP8L"),e(ln!=null),e(et!=null),e(It!=null),e(on!=null),8>et[0])lt=7;else{if(Nt||Un){if(ln=W(ln,nn+4),12<=Vt&&ln>Vt-12){lt=3;break e}if(Le&&ln>et[0]-8){lt=7;break e}It[0]=ln,lt[0]+=8,et[0]-=8,on[0]=Un}else on[0]=5<=et[0]&&ln[nn+0]==47&&!(ln[nn+4]>>5),It[0]=et[0];lt=0}if(Y=Y[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],L=L[0],lt!=0)break;if(4294967286<$e.Ja)return 3;if(we==null||Et||(we[0]=$e.xa?2:1),ve=[ve],rt=[rt],$e.xa){if(5>Y){lt=7;break}we=ve,Le=rt,Et=ye,T==null||5>Y?T=0:5<=Y&&T[L+0]==47&&!(T[L+4]>>5)?(et=[0],ln=[0],Vt=[0],le(It=new re,T,L,Y),Gs(It,et,ln,Vt)?(we!=null&&(we[0]=et[0]),Le!=null&&(Le[0]=ln[0]),Et!=null&&(Et[0]=Vt[0]),T=1):T=0):T=0}else{if(10>Y){lt=7;break}we=rt,T==null||10>Y||!_i(T,L+3,Y-3)?T=0:(Le=T[L+0]|T[L+1]<<8|T[L+2]<<16,Et=16383&(T[L+7]<<8|T[L+6]),T=16383&(T[L+9]<<8|T[L+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=$e.Ja||!Et||!T?T=0:(ve&&(ve[0]=Et),we&&(we[0]=T),T=1))}if(!T||(ve=ve[0],rt=rt[0],ut&&(Oe[0]!=ve||Xe[0]!=rt)))return 3;Ce!=null&&(Ce[0]=$e,Ce.offset=L-Ce.w,e(4294967286>L-Ce.w),e(Ce.offset==Ce.ha-Y));break}return lt==0||lt==7&&ut&&Ce==null?(ye!=null&&(ye[0]|=$e.na!=null&&0<$e.na.length),Q!=null&&(Q[0]=ve),fe!=null&&(fe[0]=rt),0):lt}function Sl(T,L,Y){var Q=L.width,fe=L.height,ye=0,ve=0,we=Q,Ce=fe;if(L.Da=T!=null&&0<T.Da,L.Da&&(we=T.cd,Ce=T.bd,ye=T.v,ve=T.j,11>Y||(ye&=-2,ve&=-2),0>ye||0>ve||0>=we||0>=Ce||ye+we>Q||ve+Ce>fe))return 0;if(L.v=ye,L.j=ve,L.va=ye+we,L.o=ve+Ce,L.U=we,L.T=Ce,L.da=T!=null&&0<T.da,L.da){if(!ue(we,Ce,Y=[T.ib],ye=[T.hb]))return 0;L.ib=Y[0],L.hb=ye[0]}return L.ob=T!=null&&T.ob,L.Kb=T==null||!T.Sd,L.da&&(L.ob=L.ib<3*Q/4&&L.hb<3*fe/4,L.Kb=0),1}function hu(T){if(T==null)return 2;if(11>T.S){var L=T.f.RGBA;L.fb+=(T.height-1)*L.A,L.A=-L.A}else L=T.f.kb,T=T.height,L.O+=(T-1)*L.fa,L.fa=-L.fa,L.N+=(T-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(T-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(T-1)*L.lb,L.lb=-L.lb);return 0}function Ks(T,L,Y,Q){if(Q==null||0>=T||0>=L)return 2;if(Y!=null){if(Y.Da){var fe=Y.cd,ye=Y.bd,ve=-2&Y.v,we=-2&Y.j;if(0>ve||0>we||0>=fe||0>=ye||ve+fe>T||we+ye>L)return 2;T=fe,L=ye}if(Y.da){if(!ue(T,L,fe=[Y.ib],ye=[Y.hb]))return 2;T=fe[0],L=ye[0]}}Q.width=T,Q.height=L;e:{var Ce=Q.width,Oe=Q.height;if(T=Q.S,0>=Ce||0>=Oe||!(T>=Hd&&13>T))T=2;else{if(0>=Q.Rd&&Q.sd==null){ve=ye=fe=L=0;var Xe=(we=Ce*Bh[T])*Oe;if(11>T||(ye=(Oe+1)/2*(L=(Ce+1)/2),T==12&&(ve=(fe=Ce)*Oe)),(Oe=r(Xe+2*ye+ve))==null){T=1;break e}Q.sd=Oe,11>T?((Ce=Q.f.RGBA).eb=Oe,Ce.fb=0,Ce.A=we,Ce.size=Xe):((Ce=Q.f.kb).y=Oe,Ce.O=0,Ce.fa=we,Ce.Fd=Xe,Ce.f=Oe,Ce.N=0+Xe,Ce.Ab=L,Ce.Cd=ye,Ce.ea=Oe,Ce.W=0+Xe+ye,Ce.Db=L,Ce.Ed=ye,T==12&&(Ce.F=Oe,Ce.J=0+Xe+2*ye),Ce.Tc=ve,Ce.lb=fe)}if(L=1,fe=Q.S,ye=Q.width,ve=Q.height,fe>=Hd&&13>fe)if(11>fe)T=Q.f.RGBA,L&=(we=Math.abs(T.A))*(ve-1)+ye<=T.size,L&=we>=ye*Bh[fe],L&=T.eb!=null;else{T=Q.f.kb,we=(ye+1)/2,Xe=(ve+1)/2,Ce=Math.abs(T.fa),Oe=Math.abs(T.Ab);var ut=Math.abs(T.Db),Le=Math.abs(T.lb),$e=Le*(ve-1)+ye;L&=Ce*(ve-1)+ye<=T.Fd,L&=Oe*(Xe-1)+we<=T.Cd,L=(L&=ut*(Xe-1)+we<=T.Ed)&Ce>=ye&Oe>=we&ut>=we,L&=T.y!=null,L&=T.f!=null,L&=T.ea!=null,fe==12&&(L&=Le>=ye,L&=$e<=T.Tc,L&=T.F!=null)}else L=0;T=L?0:2}}return T!=0||Y!=null&&Y.fd&&(T=hu(Q)),T}var nc=64,Wr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hr=24,Mi=32,Al=8,ic=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(T){return T},O.Predictor2=function(T,L,Y){return L[Y+0]},O.Predictor3=function(T,L,Y){return L[Y+1]},O.Predictor4=function(T,L,Y){return L[Y-1]},O.Predictor5=function(T,L,Y){return se(se(T,L[Y+1]),L[Y+0])},O.Predictor6=function(T,L,Y){return se(T,L[Y-1])},O.Predictor7=function(T,L,Y){return se(T,L[Y+0])},O.Predictor8=function(T,L,Y){return se(L[Y-1],L[Y+0])},O.Predictor9=function(T,L,Y){return se(L[Y+0],L[Y+1])},O.Predictor10=function(T,L,Y){return se(se(T,L[Y-1]),se(L[Y+0],L[Y+1]))},O.Predictor11=function(T,L,Y){var Q=L[Y+0];return 0>=je(Q>>24&255,T>>24&255,(L=L[Y-1])>>24&255)+je(Q>>16&255,T>>16&255,L>>16&255)+je(Q>>8&255,T>>8&255,L>>8&255)+je(255&Q,255&T,255&L)?Q:T},O.Predictor12=function(T,L,Y){var Q=L[Y+0];return(ee((T>>24&255)+(Q>>24&255)-((L=L[Y-1])>>24&255))<<24|ee((T>>16&255)+(Q>>16&255)-(L>>16&255))<<16|ee((T>>8&255)+(Q>>8&255)-(L>>8&255))<<8|ee((255&T)+(255&Q)-(255&L)))>>>0},O.Predictor13=function(T,L,Y){var Q=L[Y-1];return(Ae((T=se(T,L[Y+0]))>>24&255,Q>>24&255)<<24|Ae(T>>16&255,Q>>16&255)<<16|Ae(T>>8&255,Q>>8&255)<<8|Ae(255&T,255&Q))>>>0};var fu=O.PredictorAdd0;O.PredictorAdd1=Ge,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var Ml=O.PredictorAdd2;Mt("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),Mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var Ji,jd=O.ColorIndexInverseTransform,Wo=O.MapARGB,ls=O.VP8LColorIndexInverseTransformAlpha,Hi=O.MapAlpha,Tl=O.VP8LPredictorsAdd=[];Tl.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var pu,mu,Xo,Yo,Zs,Pc,Js,El,Xr,qa,Si,xi,ha,Ia,Ua,po,fr,Zu,$o,gu,ac,kh,Fd,Cl,kc,Yr,rc,pr,Ic=r(511),Vd=r(2041),sc=r(225),Ju=r(767),yu=0,Nl=Vd,xu=sc,Lr=Ju,mr=Ic,Hd=0,Dr=1,cs=2,Qs=3,gr=4,vu=5,Rl=6,Qu=7,Ih=8,ks=9,qd=10,Is=[2,3,7],Ko=[3,3,11],Uc=[280,256,256,256,40],Gd=[0,1,1,1,0],ed=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Us=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ll=8,mo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],go=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],to=null,Jf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Uh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Or=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fa=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],us=[],Qi=[],yo=[],hi=1,Xd=2,lc=[],Pr=[];Gr("UpsampleRgbLinePair",Ea,3),Gr("UpsampleBgrLinePair",$a,3),Gr("UpsampleRgbaLinePair",Nr,4),Gr("UpsampleBgraLinePair",ho,4),Gr("UpsampleArgbLinePair",_l,4),Gr("UpsampleRgba4444LinePair",bl,2),Gr("UpsampleRgb565LinePair",tc,2);var bu=O.UpsampleRgbLinePair,Qf=O.UpsampleBgrLinePair,td=O.UpsampleRgbaLinePair,zh=O.UpsampleBgraLinePair,Dl=O.UpsampleArgbLinePair,$r=O.UpsampleRgba4444LinePair,cc=O.UpsampleRgb565LinePair,As=16,xo=1<<As-1,zc=-227,Ol=482,nd=6,Bc=0,kr=r(256),Yd=r(256),ep=r(256),Sm=r(256),Am=r(Ol-zc),tp=r(Ol-zc);wl("YuvToRgbRow",Ea,3),wl("YuvToBgrRow",$a,3),wl("YuvToRgbaRow",Nr,4),wl("YuvToBgraRow",ho,4),wl("YuvToArgbRow",_l,4),wl("YuvToRgba4444Row",bl,2),wl("YuvToRgb565Row",tc,2);var gn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],id=[0,2,8],Kr=[8,7,6,4,4,2,2,2,1,1,1,1],_u=1;this.WebPDecodeRGBA=function(T,L,Y,Q,fe){var ye=Dr,ve=new Rt,we=new bt;ve.ba=we,we.S=ye,we.width=[we.width],we.height=[we.height];var Ce=we.width,Oe=we.height,Xe=new ot;if(Xe==null||T==null)var ut=2;else e(Xe!=null),ut=fo(T,L,Y,Xe.width,Xe.height,Xe.Pd,Xe.Qd,Xe.format,null);if(ut!=0?Ce=0:(Ce!=null&&(Ce[0]=Xe.width[0]),Oe!=null&&(Oe[0]=Xe.height[0]),Ce=1),Ce){we.width=we.width[0],we.height=we.height[0],Q!=null&&(Q[0]=we.width),fe!=null&&(fe[0]=we.height);e:{if(Q=new ti,(fe=new zt).data=T,fe.w=L,fe.ha=Y,fe.kd=1,L=[0],e(fe!=null),((T=fo(fe.data,fe.w,fe.ha,null,null,null,L,null,fe))==0||T==7)&&L[0]&&(T=4),(L=T)==0){if(e(ve!=null),Q.data=fe.data,Q.w=fe.w+fe.offset,Q.ha=fe.ha-fe.offset,Q.put=$t,Q.ac=xn,Q.bc=Fi,Q.ma=ve,fe.xa){if((T=Jl())==null){ve=1;break e}if((function(Le,$e){var rt=[0],Et=[0],lt=[0];t:for(;;){if(Le==null)return 0;if($e==null)return Le.a=2,0;if(Le.l=$e,Le.a=0,le(Le.m,$e.data,$e.w,$e.ha),!Gs(Le.m,rt,Et,lt)){Le.a=3;break t}if(Le.xb=Xd,$e.width=rt[0],$e.height=Et[0],!ys(rt[0],Et[0],1,Le,null))break t;return 1}return e(Le.a!=0),0})(T,Q)){if(Q=(L=Ks(Q.width,Q.height,ve.Oa,ve.ba))==0){t:{Q=T;n:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((Y=Q.l)!=null),e((fe=Y.ma)!=null),Q.xb!=0){if(Q.ca=fe.ba,Q.tb=fe.tb,e(Q.ca!=null),!Sl(fe.Oa,Y,Qs)){Q.a=2;break n}if(!xs(Q,Y.width)||Y.da)break n;if((Y.da||Ne(Q.ca.S))&&Cr(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&Cr()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!j(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break n}Q.xb=0}if(!Hr(Q,Q.V,Q.Ba,Q.c,Q.i,Y.o,Pa))break n;fe.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(L=T.a)}else L=T.a}else{if((T=new di)==null){ve=1;break e}if(T.Fa=fe.na,T.P=fe.P,T.qc=fe.Sa,cn(T,Q)){if((L=Ks(Q.width,Q.height,ve.Oa,ve.ba))==0){if(T.Aa=0,Y=ve.Oa,e((fe=T)!=null),Y!=null){if(0<(Ce=0>(Ce=Y.Md)?0:100<Ce?255:255*Ce/100)){for(Oe=Xe=0;4>Oe;++Oe)12>(ut=fe.pb[Oe]).lc&&(ut.ia=Ce*Kr[0>ut.lc?0:ut.lc]>>3),Xe|=ut.ia;Xe&&(alert("todo:VP8InitRandom"),fe.ia=1)}fe.Ga=Y.Id,100<fe.Ga?fe.Ga=100:0>fe.Ga&&(fe.Ga=0)}(function(Le,$e){if(Le==null)return 0;if($e==null)return Sn(Le,2,"NULL VP8Io parameter in VP8Decode().");if(!Le.cb&&!cn(Le,$e))return 0;if(e(Le.cb),$e.ac==null||$e.ac($e)){$e.ob&&(Le.L=0);var rt=id[Le.L];if(Le.L==2?(Le.yb=0,Le.zb=0):(Le.yb=$e.v-rt>>4,Le.zb=$e.j-rt>>4,0>Le.yb&&(Le.yb=0),0>Le.zb&&(Le.zb=0)),Le.Va=$e.o+15+rt>>4,Le.Hb=$e.va+15+rt>>4,Le.Hb>Le.za&&(Le.Hb=Le.za),Le.Va>Le.Ub&&(Le.Va=Le.Ub),0<Le.L){var Et=Le.ed;for(rt=0;4>rt;++rt){var lt;if(Le.Qa.Cb){var et=Le.Qa.Lb[rt];Le.Qa.Fb||(et+=Et.Tb)}else et=Et.Tb;for(lt=0;1>=lt;++lt){var Nt=Le.gd[rt][lt],Vt=et;if(Et.Pc&&(Vt+=Et.vd[0],lt&&(Vt+=Et.od[0])),0<(Vt=0>Vt?0:63<Vt?63:Vt)){var It=Vt;0<Et.wb&&(It=4<Et.wb?It>>2:It>>1)>9-Et.wb&&(It=9-Et.wb),1>It&&(It=1),Nt.dd=It,Nt.tc=2*Vt+It,Nt.ld=40<=Vt?2:15<=Vt?1:0}else Nt.tc=0;Nt.La=lt}}}rt=0}else Sn(Le,6,"Frame setup failed"),rt=Le.a;if(rt=rt==0){if(rt){Le.$c=0,0<Le.Aa||(Le.Ic=_u);t:{rt=Le.Ic,Et=4*(It=Le.za);var on=32*It,nn=It+1,Un=0<Le.L?It*(0<Le.Aa?2:1):0,ln=(Le.Aa==2?2:1)*It;if((Nt=Et+832+(lt=3*(16*rt+id[Le.L])/2*on)+(et=Le.Fa!=null&&0<Le.Fa.length?Le.Kc.c*Le.Kc.i:0))!=Nt)rt=0;else{if(Nt>Le.Vb){if(Le.Vb=0,Le.Ec=r(Nt),Le.Fc=0,Le.Ec==null){rt=Sn(Le,1,"no memory during frame initialization.");break t}Le.Vb=Nt}Nt=Le.Ec,Vt=Le.Fc,Le.Ac=Nt,Le.Bc=Vt,Vt+=Et,Le.Gd=o(on,An),Le.Hd=0,Le.rb=o(nn+1,Wt),Le.sb=1,Le.wa=Un?o(Un,Ft):null,Le.Y=0,Le.D.Nb=0,Le.D.wa=Le.wa,Le.D.Y=Le.Y,0<Le.Aa&&(Le.D.Y+=It),e(!0),Le.oc=Nt,Le.pc=Vt,Vt+=832,Le.ya=o(ln,Zt),Le.aa=0,Le.D.ya=Le.ya,Le.D.aa=Le.aa,Le.Aa==2&&(Le.D.aa+=It),Le.R=16*It,Le.B=8*It,It=(on=id[Le.L])*Le.R,on=on/2*Le.B,Le.sa=Nt,Le.ta=Vt+It,Le.qa=Le.sa,Le.ra=Le.ta+16*rt*Le.R+on,Le.Ha=Le.qa,Le.Ia=Le.ra+8*rt*Le.B+on,Le.$c=0,Vt+=lt,Le.mb=et?Nt:null,Le.nb=et?Vt:null,e(Vt+et<=Le.Fc+Le.Vb),ni(Le),a(Le.Ac,Le.Bc,0,Et),rt=1}}if(rt){if($e.ka=0,$e.y=Le.sa,$e.O=Le.ta,$e.f=Le.qa,$e.N=Le.ra,$e.ea=Le.Ha,$e.Vd=Le.Ia,$e.fa=Le.R,$e.Rc=Le.B,$e.F=null,$e.J=0,!yu){for(rt=-255;255>=rt;++rt)Ic[255+rt]=0>rt?-rt:rt;for(rt=-1020;1020>=rt;++rt)Vd[1020+rt]=-128>rt?-128:127<rt?127:rt;for(rt=-112;112>=rt;++rt)sc[112+rt]=-16>rt?-16:15<rt?15:rt;for(rt=-255;510>=rt;++rt)Ju[255+rt]=0>rt?0:255<rt?255:rt;yu=1}Js=os,El=Ya,qa=Zi,Si=Va,xi=xa,Xr=Vi,ha=zd,Ia=xl,Ua=he,po=Ie,fr=Bd,Zu=F,$o=He,gu=Qe,ac=Go,kh=gl,Fd=Dc,Cl=Ud,Qi[0]=Id,Qi[1]=su,Qi[2]=kd,Qi[3]=Xu,Qi[4]=bs,Qi[5]=Yu,Qi[6]=Er,Qi[7]=lu,Qi[8]=Rc,Qi[9]=Xs,us[0]=uo,us[1]=ou,us[2]=Wu,us[3]=Pd,us[4]=Ho,us[5]=Nc,us[6]=Ql,yo[0]=cu,yo[1]=Od,yo[2]=Ds,yo[3]=$u,yo[4]=tr,yo[5]=uu,yo[6]=qo,rt=1}else rt=0}rt&&(rt=(function(Kn,ba){for(Kn.M=0;Kn.M<Kn.Va;++Kn.M){var Xn,an=Kn.Jc[Kn.M&Kn.Xb],Yt=Kn.m,za=Kn;for(Xn=0;Xn<za.za;++Xn){var Nn=Yt,Yn=za,Ti=Yn.Ac,nr=Yn.Bc+4*Xn,Zr=Yn.zc,pa=Yn.ya[Yn.aa+Xn];if(Yn.Qa.Bb?pa.$b=We(Nn,Yn.Pa.jb[0])?2+We(Nn,Yn.Pa.jb[2]):We(Nn,Yn.Pa.jb[1]):pa.$b=0,Yn.kc&&(pa.Ad=We(Nn,Yn.Bd)),pa.Za=!We(Nn,145)+0,pa.Za){var Ga=pa.Ob,Ca=0;for(Yn=0;4>Yn;++Yn){var yi,zn=Zr[0+Yn];for(yi=0;4>yi;++yi){zn=Or[Ti[nr+yi]][zn];for(var Hn=oc[We(Nn,zn[0])];0<Hn;)Hn=oc[2*Hn+We(Nn,zn[Hn])];zn=-Hn,Ti[nr+yi]=zn}n(Ga,Ca,Ti,nr,4),Ca+=4,Zr[0+Yn]=zn}}else zn=We(Nn,156)?We(Nn,128)?1:3:We(Nn,163)?2:0,pa.Ob[0]=zn,a(Ti,nr,zn,4),a(Zr,0,zn,4);pa.Dd=We(Nn,142)?We(Nn,114)?We(Nn,183)?1:3:2:0}if(za.m.Ka)return Sn(Kn,7,"Premature end-of-partition0 encountered.");for(;Kn.ja<Kn.za;++Kn.ja){if(za=an,Nn=(Yt=Kn).rb[Yt.sb-1],Ti=Yt.rb[Yt.sb+Yt.ja],Xn=Yt.ya[Yt.aa+Yt.ja],nr=Yt.kc?Xn.Ad:0)Nn.la=Ti.la=0,Xn.Za||(Nn.Na=Ti.Na=0),Xn.Hc=0,Xn.Gc=0,Xn.ia=0;else{var Na,Pi;if(Nn=Ti,Ti=za,nr=Yt.Pa.Xc,Zr=Yt.ya[Yt.aa+Yt.ja],pa=Yt.pb[Zr.$b],Yn=Zr.ad,Ga=0,Ca=Yt.rb[Yt.sb-1],zn=yi=0,a(Yn,Ga,0,384),Zr.Za)var Ei=0,qi=nr[3];else{Hn=r(16);var Ci=Nn.Na+Ca.Na;if(Ci=to(Ti,nr[1],Ci,pa.Eb,0,Hn,0),Nn.Na=Ca.Na=(0<Ci)+0,1<Ci)Js(Hn,0,Yn,Ga);else{var Ka=Hn[0]+3>>3;for(Hn=0;256>Hn;Hn+=16)Yn[Ga+Hn]=Ka}Ei=1,qi=nr[0]}var Gi=15&Nn.la,ir=15&Ca.la;for(Hn=0;4>Hn;++Hn){var Za=1&ir;for(Ka=Pi=0;4>Ka;++Ka)Gi=Gi>>1|(Za=(Ci=to(Ti,qi,Ci=Za+(1&Gi),pa.Sc,Ei,Yn,Ga))>Ei)<<7,Pi=Pi<<2|(3<Ci?3:1<Ci?2:Yn[Ga+0]!=0),Ga+=16;Gi>>=4,ir=ir>>1|Za<<7,yi=(yi<<8|Pi)>>>0}for(qi=Gi,Ei=ir>>4,Na=0;4>Na;Na+=2){for(Pi=0,Gi=Nn.la>>4+Na,ir=Ca.la>>4+Na,Hn=0;2>Hn;++Hn){for(Za=1&ir,Ka=0;2>Ka;++Ka)Ci=Za+(1&Gi),Gi=Gi>>1|(Za=0<(Ci=to(Ti,nr[2],Ci,pa.Qc,0,Yn,Ga)))<<3,Pi=Pi<<2|(3<Ci?3:1<Ci?2:Yn[Ga+0]!=0),Ga+=16;Gi>>=2,ir=ir>>1|Za<<5}zn|=Pi<<4*Na,qi|=Gi<<4<<Na,Ei|=(240&ir)<<Na}Nn.la=qi,Ca.la=Ei,Zr.Hc=yi,Zr.Gc=zn,Zr.ia=43690&zn?0:pa.ia,nr=!(yi|zn)}if(0<Yt.L&&(Yt.wa[Yt.Y+Yt.ja]=Yt.gd[Xn.$b][Xn.Za],Yt.wa[Yt.Y+Yt.ja].La|=!nr),za.Ka)return Sn(Kn,7,"Premature end-of-file encountered.")}if(ni(Kn),Yt=ba,za=1,Xn=(an=Kn).D,Nn=0<an.L&&an.M>=an.zb&&an.M<=an.Va,an.Aa==0)t:{if(Xn.M=an.M,Xn.uc=Nn,Ss(an,Xn),za=1,Xn=(Pi=an.D).Nb,Nn=(zn=id[an.L])*an.R,Ti=zn/2*an.B,Hn=16*Xn*an.R,Ka=8*Xn*an.B,nr=an.sa,Zr=an.ta-Nn+Hn,pa=an.qa,Yn=an.ra-Ti+Ka,Ga=an.Ha,Ca=an.Ia-Ti+Ka,ir=(Gi=Pi.M)==0,yi=Gi>=an.Va-1,an.Aa==2&&Ss(an,Pi),Pi.uc)for(Za=(Ci=an).D.M,e(Ci.D.uc),Pi=Ci.yb;Pi<Ci.Hb;++Pi){Ei=Pi,qi=Za;var la=(vi=(ar=Ci).D).Nb;Na=ar.R;var vi=vi.wa[vi.Y+Ei],ds=ar.sa,ca=ar.ta+16*la*Na+16*Ei,hn=vi.dd,En=vi.tc;if(En!=0)if(e(3<=En),ar.L==1)0<Ei&&kh(ds,ca,Na,En+4),vi.La&&Cl(ds,ca,Na,En),0<qi&&ac(ds,ca,Na,En+4),vi.La&&Fd(ds,ca,Na,En);else{var Ni=ar.B,zs=ar.qa,hs=ar.ra+8*la*Ni+8*Ei,Ms=ar.Ha,ar=ar.Ia+8*la*Ni+8*Ei;la=vi.ld,0<Ei&&(Ia(ds,ca,Na,En+4,hn,la),po(zs,hs,Ms,ar,Ni,En+4,hn,la)),vi.La&&(Zu(ds,ca,Na,En,hn,la),gu(zs,hs,Ms,ar,Ni,En,hn,la)),0<qi&&(ha(ds,ca,Na,En+4,hn,la),Ua(zs,hs,Ms,ar,Ni,En+4,hn,la)),vi.La&&(fr(ds,ca,Na,En,hn,la),$o(zs,hs,Ms,ar,Ni,En,hn,la))}}if(an.ia&&alert("todo:DitherRow"),Yt.put!=null){if(Pi=16*Gi,Gi=16*(Gi+1),ir?(Yt.y=an.sa,Yt.O=an.ta+Hn,Yt.f=an.qa,Yt.N=an.ra+Ka,Yt.ea=an.Ha,Yt.W=an.Ia+Ka):(Pi-=zn,Yt.y=nr,Yt.O=Zr,Yt.f=pa,Yt.N=Yn,Yt.ea=Ga,Yt.W=Ca),yi||(Gi-=zn),Gi>Yt.o&&(Gi=Yt.o),Yt.F=null,Yt.J=null,an.Fa!=null&&0<an.Fa.length&&Pi<Gi&&(Yt.J=sa(an,Yt,Pi,Gi-Pi),Yt.F=an.mb,Yt.F==null&&Yt.F.length==0)){za=Sn(an,3,"Could not decode alpha data.");break t}Pi<Yt.j&&(zn=Yt.j-Pi,Pi=Yt.j,e(!(1&zn)),Yt.O+=an.R*zn,Yt.N+=an.B*(zn>>1),Yt.W+=an.B*(zn>>1),Yt.F!=null&&(Yt.J+=Yt.width*zn)),Pi<Gi&&(Yt.O+=Yt.v,Yt.N+=Yt.v>>1,Yt.W+=Yt.v>>1,Yt.F!=null&&(Yt.J+=Yt.v),Yt.ka=Pi-Yt.j,Yt.U=Yt.va-Yt.v,Yt.T=Gi-Pi,za=Yt.put(Yt))}Xn+1!=an.Ic||yi||(n(an.sa,an.ta-Nn,nr,Zr+16*an.R,Nn),n(an.qa,an.ra-Ti,pa,Yn+8*an.B,Ti),n(an.Ha,an.Ia-Ti,Ga,Ca+8*an.B,Ti))}if(!za)return Sn(Kn,6,"Output aborted.")}return 1})(Le,$e)),$e.bc!=null&&$e.bc($e),rt&=1}return rt?(Le.cb=0,rt):0})(T,Q)||(L=T.a)}}else L=T.a}L==0&&ve.Oa!=null&&ve.Oa.fd&&(L=hu(ve.ba))}ve=L}ye=ve!=0?null:11>ye?we.f.RGBA.eb:we.f.kb.y}else ye=null;return ye};var Bh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(O,z){for(var q="",I=0;I<4;I++)q+=String.fromCharCode(O[z++]);return q}function m(O,z){return O[z+0]|O[z+1]<<8}function y(O,z){return(O[z+0]|O[z+1]<<8|O[z+2]<<16)>>>0}function x(O,z){return(O[z+0]|O[z+1]<<8|O[z+2]<<16|O[z+3]<<24)>>>0}new u;var g=[0],_=[0],S=[],M=new u,b=i,E=(function(O,z){var q={},I=0,$=!1,U=0,oe=0;if(q.frames=[],!(function(V,re){for(var ce=0;ce<4;ce++)if(V[re+ce]!="RIFF".charCodeAt(ce))return!0;return!1})(O,z)){for(x(O,z+=4),z+=8;z<O.length;){var J=d(O,z),ae=x(O,z+=4);z+=4;var te=ae+(1&ae);switch(J){case"VP8 ":case"VP8L":q.frames[I]===void 0&&(q.frames[I]={}),(Z=q.frames[I]).src_off=$?oe:z-8,Z.src_size=U+ae+8,I++,$&&($=!1,U=0,oe=0);break;case"VP8X":(Z=q.header={}).feature_flags=O[z];var le=z+4;Z.canvas_width=1+y(O,le),le+=3,Z.canvas_height=1+y(O,le),le+=3;break;case"ALPH":$=!0,U=te+8,oe=z-8;break;case"ANIM":(Z=q.header).bgcolor=x(O,z),le=z+4,Z.loop_count=m(O,le),le+=2;break;case"ANMF":var Me,Z;(Z=q.frames[I]={}).offset_x=2*y(O,z),z+=3,Z.offset_y=2*y(O,z),z+=3,Z.width=1+y(O,z),z+=3,Z.height=1+y(O,z),z+=3,Z.duration=y(O,z),z+=3,Me=O[z++],Z.dispose=1&Me,Z.blend=Me>>1&1}J!="ANMF"&&(z+=te)}return q}})(b,0);E.response=b,E.rgbaoutput=!0,E.dataurl=!1;var C=E.header?E.header:null,D=E.frames?E.frames:null;if(C){C.loop_counter=C.loop_count,g=[C.canvas_height],_=[C.canvas_width];for(var k=0;k<D.length&&D[k].blend!=0;k++);}var H=D[0],G=M.WebPDecodeRGBA(b,H.src_off,H.src_size,_,g);H.rgba=G,H.imgwidth=_[0],H.imgheight=g[0];for(var X=0;X<_[0]*g[0]*4;X++)S[X]=G[X];return this.width=_,this.height=g,this.data=S,this}(function(i){var e,t,n,a,r,o,l,u,d,m=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new u,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new m}]);var y=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var re=V;Object.defineProperty(this,"pdf",{get:function(){return re}});var ce=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ce},set:function(j){ce=!!j}});var pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return pe},set:function(j){pe=!!j}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(j){isNaN(j)||(me=j)}});var Ee=0;Object.defineProperty(this,"posY",{get:function(){return Ee},set:function(j){isNaN(j)||(Ee=j)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(j){var xe;typeof j=="number"?xe=[j,j,j,j]:((xe=new Array(4))[0]=j[0],xe[1]=j.length>=2?j[1]:xe[0],xe[2]=j.length>=3?j[2]:xe[0],xe[3]=j.length>=4?j[3]:xe[1]),d.margin=xe}});var Ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ue},set:function(j){Ue=j}});var ze=0;Object.defineProperty(this,"lastBreak",{get:function(){return ze},set:function(j){ze=j}});var We=[];Object.defineProperty(this,"pageBreaks",{get:function(){return We},set:function(j){We=j}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(j){j instanceof m&&(d=j)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(j){d.path=j}});var at=[];Object.defineProperty(this,"ctxStack",{get:function(){return at},set:function(j){at=j}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(j){var xe;xe=x(j),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(j){var xe=x(j);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(j){["butt","round","square"].indexOf(j)!==-1&&(this.ctx.lineCap=j,this.pdf.setLineCap(j))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(j){isNaN(j)||(this.ctx.lineWidth=j,this.pdf.setLineWidth(j))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(j){["bevel","round","miter"].indexOf(j)!==-1&&(this.ctx.lineJoin=j,this.pdf.setLineJoin(j))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(j){isNaN(j)||(this.ctx.miterLimit=j,this.pdf.setMiterLimit(j))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(j){this.ctx.textBaseline=j}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(j){["right","end","center","left","start"].indexOf(j)!==-1&&(this.ctx.textAlign=j)}});var Ct=null,gt=null,W=null;Object.defineProperty(this,"fontFaces",{get:function(){return W},set:function(j){Ct=null,gt=null,W=j}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(j){var xe;if(this.ctx.font=j,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(j))!==null){var de=xe[1];xe[2];var ue=xe[3],ie=xe[4];xe[5];var Re=xe[6],Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ie)[2];ie=Math.floor(Pe==="px"?parseFloat(ie)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(ie)*this.pdf.getFontSize():parseFloat(ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ie);var ge=(function(Mt){var jt,Ke,st=[],Dt=Mt.trim();if(Dt==="")return X5;if(Dt in lM)return[lM[Dt]];for(;Dt!=="";){switch(Ke=null,jt=(Dt=uM(Dt)).charAt(0)){case'"':case"'":Ke=TU(Dt.substring(1),jt);break;default:Ke=EU(Dt)}if(Ke===null||(st.push(Ke[0]),(Dt=uM(Ke[1]))!==""&&Dt.charAt(0)!==","))return X5;Dt=Dt.replace(/^,/,"")}return st})(Re);if(this.fontFaces){var se=(function(Mt,jt){var Ke=Mt.getFontList(),st=JSON.stringify(Ke);if(Ct===null||gt!==st){var Dt=(function(De){var qe=[];return Object.keys(De).forEach(function(St){De[St].forEach(function(Ne){var xt=null;switch(Ne){case"bold":xt={family:St,weight:"bold"};break;case"italic":xt={family:St,style:"italic"};break;case"bolditalic":xt={family:St,weight:"bold",style:"italic"};break;case"":case"normal":xt={family:St}}xt!==null&&(xt.ref={name:St,style:Ne},qe.push(xt))})}),qe})(Ke);Ct=(function(De){for(var qe={},St=0;St<De.length;++St){var Ne=W5(De[St]),xt=Ne.family,Tt=Ne.stretch,bt=Ne.style,ot=Ne.weight;qe[xt]=qe[xt]||{},qe[xt][Tt]=qe[xt][Tt]||{},qe[xt][Tt][bt]=qe[xt][Tt][bt]||{},qe[xt][Tt][bt][ot]=Ne}return qe})(Dt.concat(jt)),gt=st}return Ct})(this.pdf,this.fontFaces),ee=ge.map(function(Mt){return{family:Mt,stretch:"normal",weight:ue,style:de}}),Ae=(function(Mt,jt,Ke){for(var st=(Ke=Ke||{}).defaultFontFamily||"times",Dt=Object.assign({},MU,Ke.genericFontFamilies||{}),De=null,qe=null,St=0;St<jt.length;++St)if(Dt[(De=W5(jt[St])).family]&&(De.family=Dt[De.family]),Mt.hasOwnProperty(De.family)){qe=Mt[De.family];break}if(!(qe=qe||Mt[st]))throw new Error("Could not find a font-family for the rule '"+cM(De)+"' and default family '"+st+"'.");if(qe=(function(Ne,xt){if(xt[Ne])return xt[Ne];var Tt=L_[Ne],bt=Tt<=L_.normal?-1:1,ot=oM(xt,bN,Tt,bt);if(!ot)throw new Error("Could not find a matching font-stretch value for "+Ne);return ot})(De.stretch,qe),qe=(function(Ne,xt){if(xt[Ne])return xt[Ne];for(var Tt=vN[Ne],bt=0;bt<Tt.length;++bt)if(xt[Tt[bt]])return xt[Tt[bt]];throw new Error("Could not find a matching font-style for "+Ne)})(De.style,qe),!(qe=(function(Ne,xt){if(xt[Ne])return xt[Ne];if(Ne===400&&xt[500])return xt[500];if(Ne===500&&xt[400])return xt[400];var Tt=AU[Ne],bt=oM(xt,_N,Tt,Ne<400?-1:1);if(!bt)throw new Error("Could not find a matching font-weight for value "+Ne);return bt})(De.weight,qe)))throw new Error("Failed to resolve a font for the rule '"+cM(De)+"'.");return qe})(se,ee);this.pdf.setFont(Ae.ref.name,Ae.ref.style)}else{var je="";(ue==="bold"||parseInt(ue,10)>=700||de==="bold")&&(je="bold"),de==="italic"&&(je+="italic"),je.length===0&&(je="normal");for(var Ge="",Be={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<ge.length;mt++){if(this.pdf.internal.getFont(ge[mt],je,{noFallback:!0,disableWarning:!0})!==void 0){Ge=ge[mt];break}if(je==="bolditalic"&&this.pdf.internal.getFont(ge[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=ge[mt],je="bold";else if(this.pdf.internal.getFont(ge[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=ge[mt],je="normal";break}}if(Ge===""){for(var yt=0;yt<ge.length;yt++)if(Be[ge[yt]]){Ge=Be[ge[yt]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(j){this.ctx.globalCompositeOperation=j}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(j){this.ctx.globalAlpha=j}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(j){this.ctx.lineDashOffset=j,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(j){this.ctx.lineDash=j,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(j){this.ctx.ignoreClearRect=!!j}})};y.prototype.setLineDash=function(V){this.lineDash=V},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){D.call(this,"fill",!1)},y.prototype.stroke=function(){D.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(V,re){if(isNaN(V)||isNaN(re))throw Fa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ce=this.ctx.transform.applyToPoint(new o(V,re));this.path.push({type:"mt",x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(V,re)},y.prototype.closePath=function(){var V=new o(0,0),re=0;for(re=this.path.length-1;re!==-1;re--)if(this.path[re].type==="begin"&&Ma(this.path[re+1])==="object"&&typeof this.path[re+1].x=="number"){V=new o(this.path[re+1].x,this.path[re+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},y.prototype.lineTo=function(V,re){if(isNaN(V)||isNaN(re))throw Fa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ce=this.ctx.transform.applyToPoint(new o(V,re));this.path.push({type:"lt",x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},y.prototype.quadraticCurveTo=function(V,re,ce,pe){if(isNaN(ce)||isNaN(pe)||isNaN(V)||isNaN(re))throw Fa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new o(ce,pe)),Ee=this.ctx.transform.applyToPoint(new o(V,re));this.path.push({type:"qct",x1:Ee.x,y1:Ee.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},y.prototype.bezierCurveTo=function(V,re,ce,pe,me,Ee){if(isNaN(me)||isNaN(Ee)||isNaN(V)||isNaN(re)||isNaN(ce)||isNaN(pe))throw Fa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ue=this.ctx.transform.applyToPoint(new o(me,Ee)),ze=this.ctx.transform.applyToPoint(new o(V,re)),We=this.ctx.transform.applyToPoint(new o(ce,pe));this.path.push({type:"bct",x1:ze.x,y1:ze.y,x2:We.x,y2:We.y,x:Ue.x,y:Ue.y}),this.ctx.lastPoint=new o(Ue.x,Ue.y)},y.prototype.arc=function(V,re,ce,pe,me,Ee){if(isNaN(V)||isNaN(re)||isNaN(ce)||isNaN(pe)||isNaN(me))throw Fa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ee=!!Ee,!this.ctx.transform.isIdentity){var Ue=this.ctx.transform.applyToPoint(new o(V,re));V=Ue.x,re=Ue.y;var ze=this.ctx.transform.applyToPoint(new o(0,ce)),We=this.ctx.transform.applyToPoint(new o(0,0));ce=Math.sqrt(Math.pow(ze.x-We.x,2)+Math.pow(ze.y-We.y,2))}Math.abs(me-pe)>=2*Math.PI&&(pe=0,me=2*Math.PI),this.path.push({type:"arc",x:V,y:re,radius:ce,startAngle:pe,endAngle:me,counterclockwise:Ee})},y.prototype.arcTo=function(V,re,ce,pe,me){throw new Error("arcTo not implemented.")},y.prototype.rect=function(V,re,ce,pe){if(isNaN(V)||isNaN(re)||isNaN(ce)||isNaN(pe))throw Fa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,re),this.lineTo(V+ce,re),this.lineTo(V+ce,re+pe),this.lineTo(V,re+pe),this.lineTo(V,re),this.lineTo(V+ce,re),this.lineTo(V,re)},y.prototype.fillRect=function(V,re,ce,pe){if(isNaN(V)||isNaN(re)||isNaN(ce)||isNaN(pe))throw Fa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,re,ce,pe),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},y.prototype.strokeRect=function(V,re,ce,pe){if(isNaN(V)||isNaN(re)||isNaN(ce)||isNaN(pe))throw Fa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(V,re,ce,pe),this.stroke())},y.prototype.clearRect=function(V,re,ce,pe){if(isNaN(V)||isNaN(re)||isNaN(ce)||isNaN(pe))throw Fa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,re,ce,pe))},y.prototype.save=function(V){V=typeof V!="boolean"||V;for(var re=this.pdf.internal.getCurrentPageInfo().pageNumber,ce=0;ce<this.pdf.internal.getNumberOfPages();ce++)this.pdf.setPage(ce+1),this.pdf.internal.out("q");if(this.pdf.setPage(re),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var pe=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=pe}},y.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var re=this.pdf.internal.getCurrentPageInfo().pageNumber,ce=0;ce<this.pdf.internal.getNumberOfPages();ce++)this.pdf.setPage(ce+1),this.pdf.internal.out("Q");this.pdf.setPage(re),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(V){var re,ce,pe,me;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))re=0,ce=0,pe=0,me=0;else{var Ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(Ee!==null)re=parseInt(Ee[1]),ce=parseInt(Ee[2]),pe=parseInt(Ee[3]),me=1;else if((Ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)re=parseInt(Ee[1]),ce=parseInt(Ee[2]),pe=parseInt(Ee[3]),me=parseFloat(Ee[4]);else{if(me=1,typeof V=="string"&&V.charAt(0)!=="#"){var Ue=new hN(V);V=Ue.ok?Ue.toHex():"#000000"}V.length===4?(re=V.substring(1,2),re+=re,ce=V.substring(2,3),ce+=ce,pe=V.substring(3,4),pe+=pe):(re=V.substring(1,3),ce=V.substring(3,5),pe=V.substring(5,7)),re=parseInt(re,16),ce=parseInt(ce,16),pe=parseInt(pe,16)}}return{r:re,g:ce,b:pe,a:me,style:V}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(V,re,ce,pe){if(isNaN(re)||isNaN(ce)||typeof V!="string")throw Fa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(pe=isNaN(pe)?void 0:pe,!g.call(this)){var me=te(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;I.call(this,{text:V,x:re,y:ce,scale:Ee,angle:me,align:this.textAlign,maxWidth:pe})}},y.prototype.strokeText=function(V,re,ce,pe){if(isNaN(re)||isNaN(ce)||typeof V!="string")throw Fa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){pe=isNaN(pe)?void 0:pe;var me=te(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;I.call(this,{text:V,x:re,y:ce,scale:Ee,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:pe})}},y.prototype.measureText=function(V){if(typeof V!="string")throw Fa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var re=this.pdf,ce=this.pdf.internal.scaleFactor,pe=re.internal.getFontSize(),me=re.getStringUnitWidth(V)*pe/re.internal.scaleFactor;return new function(Ee){var Ue=(Ee=Ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ue}}),this}({width:me*=Math.round(96*ce/72*1e4)/1e4})},y.prototype.scale=function(V,re){if(isNaN(V)||isNaN(re))throw Fa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ce=new u(V,0,0,re,0,0);this.ctx.transform=this.ctx.transform.multiply(ce)},y.prototype.rotate=function(V){if(isNaN(V))throw Fa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var re=new u(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(re)},y.prototype.translate=function(V,re){if(isNaN(V)||isNaN(re))throw Fa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ce=new u(1,0,0,1,V,re);this.ctx.transform=this.ctx.transform.multiply(ce)},y.prototype.transform=function(V,re,ce,pe,me,Ee){if(isNaN(V)||isNaN(re)||isNaN(ce)||isNaN(pe)||isNaN(me)||isNaN(Ee))throw Fa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ue=new u(V,re,ce,pe,me,Ee);this.ctx.transform=this.ctx.transform.multiply(Ue)},y.prototype.setTransform=function(V,re,ce,pe,me,Ee){V=isNaN(V)?1:V,re=isNaN(re)?0:re,ce=isNaN(ce)?0:ce,pe=isNaN(pe)?1:pe,me=isNaN(me)?0:me,Ee=isNaN(Ee)?0:Ee,this.ctx.transform=new u(V,re,ce,pe,me,Ee)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(V,re,ce,pe,me,Ee,Ue,ze,We){var at=this.pdf.getImageProperties(V),Ct=1,gt=1,W=1,j=1;pe!==void 0&&ze!==void 0&&(W=ze/pe,j=We/me,Ct=at.width/pe*ze/pe,gt=at.height/me*We/me),Ee===void 0&&(Ee=re,Ue=ce,re=0,ce=0),pe!==void 0&&ze===void 0&&(ze=pe,We=me),pe===void 0&&ze===void 0&&(ze=at.width,We=at.height);var xe=this.ctx.transform.decompose(),de=te(xe.rotate.shx),ue=new u,ie=(ue=(ue=(ue=ue.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale)).applyToRectangle(new l(Ee-re*W,Ue-ce*j,pe*Ct,me*gt));if(this.autoPaging){for(var Re,Pe=M.call(this,ie),ge=[],se=0;se<Pe.length;se+=1)ge.indexOf(Pe[se])===-1&&ge.push(Pe[se]);C(ge);for(var ee=ge[0],Ae=ge[ge.length-1],je=ee;je<Ae+1;je++){this.pdf.setPage(je);var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=je===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=je===1?0:mt+(je-2)*yt;if(this.ctx.clip_path.length!==0){var jt=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Re,this.posX+this.margin[3],-Mt+Be+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=jt}var Ke=JSON.parse(JSON.stringify(ie));Ke=E([Ke],this.posX+this.margin[3],-Mt+Be+this.ctx.prevPageLastElemOffset)[0];var st=(je>ee||je<Ae)&&S.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,yt,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,de),st&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",ie.x,ie.y,ie.w,ie.h,null,null,de)};var M=function(V,re,ce){var pe=[];re=re||this.pdf.internal.pageSize.width,ce=ce||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":pe.push(Math.floor((V.y+me)/ce)+1);break;case"arc":pe.push(Math.floor((V.y+me-V.radius)/ce)+1),pe.push(Math.floor((V.y+me+V.radius)/ce)+1);break;case"qct":var Ee=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);pe.push(Math.floor((Ee.y+me)/ce)+1),pe.push(Math.floor((Ee.y+Ee.h+me)/ce)+1);break;case"bct":var Ue=Me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);pe.push(Math.floor((Ue.y+me)/ce)+1),pe.push(Math.floor((Ue.y+Ue.h+me)/ce)+1);break;case"rect":pe.push(Math.floor((V.y+me)/ce)+1),pe.push(Math.floor((V.y+V.h+me)/ce)+1)}for(var ze=0;ze<pe.length;ze+=1)for(;this.pdf.internal.getNumberOfPages()<pe[ze];)b.call(this);return pe},b=function(){var V=this.fillStyle,re=this.strokeStyle,ce=this.font,pe=this.lineCap,me=this.lineWidth,Ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=re,this.font=ce,this.lineCap=pe,this.lineWidth=me,this.lineJoin=Ee},E=function(V,re,ce){for(var pe=0;pe<V.length;pe++)switch(V[pe].type){case"bct":V[pe].x2+=re,V[pe].y2+=ce;case"qct":V[pe].x1+=re,V[pe].y1+=ce;default:V[pe].x+=re,V[pe].y+=ce}return V},C=function(V){return V.sort(function(re,ce){return re-ce})},D=function(V,re){var ce=this.fillStyle,pe=this.strokeStyle,me=this.lineCap,Ee=this.lineWidth,Ue=Math.abs(Ee*this.ctx.transform.scaleX),ze=this.lineJoin;if(this.autoPaging){for(var We,at,Ct=JSON.parse(JSON.stringify(this.path)),gt=JSON.parse(JSON.stringify(this.path)),W=[],j=0;j<gt.length;j++)if(gt[j].x!==void 0)for(var xe=M.call(this,gt[j]),de=0;de<xe.length;de+=1)W.indexOf(xe[de])===-1&&W.push(xe[de]);for(var ue=0;ue<W.length;ue++)for(;this.pdf.internal.getNumberOfPages()<W[ue];)b.call(this);C(W);for(var ie=W[0],Re=W[W.length-1],Pe=ie;Pe<Re+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=ce,this.strokeStyle=pe,this.lineCap=me,this.lineWidth=Ue,this.lineJoin=ze;var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],se=Pe===1?this.posY+this.margin[0]:this.margin[0],ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=Pe===1?0:ee+(Pe-2)*Ae;if(this.ctx.clip_path.length!==0){var Ge=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(We,this.posX+this.margin[3],-je+se+this.ctx.prevPageLastElemOffset),k.call(this,V,!0),this.path=Ge}if(at=JSON.parse(JSON.stringify(Ct)),this.path=E(at,this.posX+this.margin[3],-je+se+this.ctx.prevPageLastElemOffset),re===!1||Pe===0){var Be=(Pe>ie||Pe<Re)&&S.call(this);Be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,Ae,null).clip().discardPath()),k.call(this,V,re),Be&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}this.path=Ct}else this.lineWidth=Ue,k.call(this,V,re),this.lineWidth=Ee},k=function(V,re){if((V!=="stroke"||re||!_.call(this))&&(V==="stroke"||re||!g.call(this))){for(var ce,pe,me=[],Ee=this.path,Ue=0;Ue<Ee.length;Ue++){var ze=Ee[Ue];switch(ze.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:ze,deltas:[],abs:[]});break;case"lt":var We=me.length;if(Ee[Ue-1]&&!isNaN(Ee[Ue-1].x)&&(ce=[ze.x-Ee[Ue-1].x,ze.y-Ee[Ue-1].y],We>0)){for(;We>=0;We--)if(me[We-1].close!==!0&&me[We-1].begin!==!0){me[We-1].deltas.push(ce),me[We-1].abs.push(ze);break}}break;case"bct":ce=[ze.x1-Ee[Ue-1].x,ze.y1-Ee[Ue-1].y,ze.x2-Ee[Ue-1].x,ze.y2-Ee[Ue-1].y,ze.x-Ee[Ue-1].x,ze.y-Ee[Ue-1].y],me[me.length-1].deltas.push(ce);break;case"qct":var at=Ee[Ue-1].x+2/3*(ze.x1-Ee[Ue-1].x),Ct=Ee[Ue-1].y+2/3*(ze.y1-Ee[Ue-1].y),gt=ze.x+2/3*(ze.x1-ze.x),W=ze.y+2/3*(ze.y1-ze.y),j=ze.x,xe=ze.y;ce=[at-Ee[Ue-1].x,Ct-Ee[Ue-1].y,gt-Ee[Ue-1].x,W-Ee[Ue-1].y,j-Ee[Ue-1].x,xe-Ee[Ue-1].y],me[me.length-1].deltas.push(ce);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(ze)}}pe=re?null:V==="stroke"?"stroke":"fill";for(var de=!1,ue=0;ue<me.length;ue++)if(me[ue].arc)for(var ie=me[ue].abs,Re=0;Re<ie.length;Re++){var Pe=ie[Re];Pe.type==="arc"?X.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,re,!de):$.call(this,Pe.x,Pe.y),de=!0}else if(me[ue].close===!0)this.pdf.internal.out("h"),de=!1;else if(me[ue].begin!==!0){var ge=me[ue].start.x,se=me[ue].start.y;U.call(this,me[ue].deltas,ge,se),de=!0}pe&&O.call(this,pe),re&&z.call(this)}},H=function(V){var re=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ce=re*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-ce;case"top":return V+re-ce;case"hanging":return V+re-2*ce;case"middle":return V+re/2-ce;default:return V}},G=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(re,ce){this.colorStops.push([re,ce])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(V,re,ce,pe,me,Ee,Ue,ze,We){for(var at=J.call(this,ce,pe,me,Ee),Ct=0;Ct<at.length;Ct++){var gt=at[Ct];Ct===0&&(We?q.call(this,gt.x1+V,gt.y1+re):$.call(this,gt.x1+V,gt.y1+re)),oe.call(this,V,re,gt.x2,gt.y2,gt.x3,gt.y3,gt.x4,gt.y4)}ze?z.call(this):O.call(this,Ue)},O=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(V,re){this.pdf.internal.out(t(V)+" "+n(re)+" m")},I=function(V){var re;switch(V.align){case"right":case"end":re="right";break;case"center":re="center";break;default:re="left"}var ce,pe,me,Ee=this.pdf.getTextDimensions(V.text),Ue=H.call(this,V.y),ze=G.call(this,Ue)-Ee.h,We=this.ctx.transform.applyToPoint(new o(V.x,Ue));if(this.autoPaging){var at=this.ctx.transform.decompose(),Ct=new u;Ct=(Ct=(Ct=Ct.multiply(at.translate)).multiply(at.skew)).multiply(at.scale);for(var gt=this.ctx.transform.applyToRectangle(new l(V.x,Ue,Ee.w,Ee.h)),W=Ct.applyToRectangle(new l(V.x,ze,Ee.w,Ee.h)),j=M.call(this,W),xe=[],de=0;de<j.length;de+=1)xe.indexOf(j[de])===-1&&xe.push(j[de]);C(xe);for(var ue=xe[0],ie=xe[xe.length-1],Re=ue;Re<ie+1;Re++){this.pdf.setPage(Re);var Pe=Re===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],se=this.pdf.internal.pageSize.height-this.margin[2],ee=se-this.margin[0],Ae=this.pdf.internal.pageSize.width-this.margin[1],je=Ae-this.margin[3],Ge=Re===1?0:ge+(Re-2)*ee;if(this.ctx.clip_path.length!==0){var Be=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ce,this.posX+this.margin[3],-1*Ge+Pe),k.call(this,"fill",!0),this.path=Be}var mt=E([JSON.parse(JSON.stringify(W))],this.posX+this.margin[3],-Ge+Pe+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*V.scale),me=this.lineWidth,this.lineWidth=me*V.scale);var yt=this.autoPaging!=="text";if(yt||mt.y+mt.h<=se){if(yt||mt.y>=Pe&&mt.x<=Ae){var Mt=yt?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Ae-mt.x)[0],jt=E([JSON.parse(JSON.stringify(gt))],this.posX+this.margin[3],-Ge+Pe+this.ctx.prevPageLastElemOffset)[0],Ke=yt&&(Re>ue||Re<ie)&&S.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,ee,null).clip().discardPath()),this.pdf.text(Mt,jt.x,jt.y,{angle:V.angle,align:re,renderingMode:V.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else mt.y<se&&(this.ctx.prevPageLastElemOffset+=se-mt.y);V.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=me)}}else V.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*V.scale),me=this.lineWidth,this.lineWidth=me*V.scale),this.pdf.text(V.text,We.x+this.posX,We.y+this.posY,{angle:V.angle,align:re,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=me)},$=function(V,re,ce,pe){ce=ce||0,pe=pe||0,this.pdf.internal.out(t(V+ce)+" "+n(re+pe)+" l")},U=function(V,re,ce){return this.pdf.lines(V,re,ce,null,null)},oe=function(V,re,ce,pe,me,Ee,Ue,ze){this.pdf.internal.out([e(a(ce+V)),e(r(pe+re)),e(a(me+V)),e(r(Ee+re)),e(a(Ue+V)),e(r(ze+re)),"c"].join(" "))},J=function(V,re,ce,pe){for(var me=2*Math.PI,Ee=Math.PI/2;re>ce;)re-=me;var Ue=Math.abs(ce-re);Ue<me&&pe&&(Ue=me-Ue);for(var ze=[],We=pe?-1:1,at=re;Ue>1e-5;){var Ct=at+We*Math.min(Ue,Ee);ze.push(ae.call(this,V,at,Ct)),Ue-=Math.abs(Ct-at),at=Ct}return ze},ae=function(V,re,ce){var pe=(ce-re)/2,me=V*Math.cos(pe),Ee=V*Math.sin(pe),Ue=me,ze=-Ee,We=Ue*Ue+ze*ze,at=We+Ue*me+ze*Ee,Ct=4/3*(Math.sqrt(2*We*at)-at)/(Ue*Ee-ze*me),gt=Ue-Ct*ze,W=ze+Ct*Ue,j=gt,xe=-W,de=pe+re,ue=Math.cos(de),ie=Math.sin(de);return{x1:V*Math.cos(re),y1:V*Math.sin(re),x2:gt*ue-W*ie,y2:gt*ie+W*ue,x3:j*ue-xe*ie,y3:j*ie+xe*ue,x4:V*Math.cos(ce),y4:V*Math.sin(ce)}},te=function(V){return 180*V/Math.PI},le=function(V,re,ce,pe,me,Ee){var Ue=V+.5*(ce-V),ze=re+.5*(pe-re),We=me+.5*(ce-me),at=Ee+.5*(pe-Ee),Ct=Math.min(V,me,Ue,We),gt=Math.max(V,me,Ue,We),W=Math.min(re,Ee,ze,at),j=Math.max(re,Ee,ze,at);return new l(Ct,W,gt-Ct,j-W)},Me=function(V,re,ce,pe,me,Ee,Ue,ze){var We,at,Ct,gt,W,j,xe,de,ue,ie,Re,Pe,ge,se,ee=ce-V,Ae=pe-re,je=me-ce,Ge=Ee-pe,Be=Ue-me,mt=ze-Ee;for(at=0;at<41;at++)ue=(xe=(Ct=V+(We=at/40)*ee)+We*((W=ce+We*je)-Ct))+We*(W+We*(me+We*Be-W)-xe),ie=(de=(gt=re+We*Ae)+We*((j=pe+We*Ge)-gt))+We*(j+We*(Ee+We*mt-j)-de),at==0?(Re=ue,Pe=ie,ge=ue,se=ie):(Re=Math.min(Re,ue),Pe=Math.min(Pe,ie),ge=Math.max(ge,ue),se=Math.max(se,ie));return new l(Math.round(Re),Math.round(Pe),Math.round(ge-Re),Math.round(se-Pe))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,re,ce=(V=this.ctx.lineDash,re=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:re}));this.prevLineDash!==ce&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ce)}}})(Tn.API),(function(i){var e=function(o){var l,u,d,m,y,x,g,_,S,M;for(u=[],d=0,m=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;m>d;d+=4)(y=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(x=(y=((y=((y=((y=(y-(M=y%85))/85)-(S=y%85))/85)-(_=y%85))/85)-(g=y%85))/85)%85,u.push(x+33,g+33,_+33,S+33,M+33)):u.push(122);return(function(b,E){for(var C=E;C>0;C--)b.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(o){var l,u,d,m,y,x=String,g="length",_=255,S="charCodeAt",M="slice",b="replace";for(o[M](-2),o=o[M](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),d=[],m=0,y=(o+=l="uuuuu"[M](o[g]%5||5))[g];y>m;m+=5)u=52200625*(o[S](m)-33)+614125*(o[S](m+1)-33)+7225*(o[S](m+2)-33)+85*(o[S](m+3)-33)+(o[S](m+4)-33),d.push(_&u>>24,_&u>>16,_&u>>8,_&u);return(function(E,C){for(var D=C;D>0;D--)E.pop()})(d,l[g]),x.fromCharCode.apply(x,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",d=0;d<o.length;d+=2)u+=String.fromCharCode("0x"+(o[d]+o[d+1]));return u},r=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return(l=A_(l)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};i.processDataByFilters=function(o,l){var u=0,d=o||"",m=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=r(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Tn.API),(function(i){i.loadFile=function(e,t,n){return(function(a,r,o){r=r!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(u,d,m){var y=new XMLHttpRequest,x=0,g=function(_){var S=_.length,M=[],b=String.fromCharCode;for(x=0;x<S;x+=1)M.push(b(255&_.charCodeAt(x)));return M.join("")};if(y.open("GET",u,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?m(g(this.responseText)):m(void 0)}),y.send(null),d&&y.status===200)return g(y.responseText)})(a,r,o)}catch{}return l})(e,t,n)},i.loadImageFile=i.loadFile})(Tn.API),(function(i){function e(){return(Gn.html2canvas?Promise.resolve(Gn.html2canvas):Qn(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Gn.DOMPurify?Promise.resolve(Gn.DOMPurify):Qn(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var u=Ma(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(l,u){var d=document.createElement(l);for(var m in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[m]=u.style[m];return d},r=function l(u,d){for(var m=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),y=u.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(l(y,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(m.width=u.width,m.height=u.height,m.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(m.value=u.value),m.addEventListener("load",function(){m.scrollTop=u.scrollTop,m.scrollLeft=u.scrollLeft},!0)),m},o=function l(u){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),m=l.convert(Promise.resolve(),d);return(m=m.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then(function(){switch(u=u||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),u){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=r(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var d=this.opt.jsPDF,m=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var g=0;g<m.length;++g){var _=m[g],S=_.src.find(function(M){return M.format==="truetype"});S&&d.addFont(S.url,_.ref.name,_.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var u=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(l,u){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(l=l||Tn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,u,d,m){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,d,m){return this.setProgress(l?this.progress.val+l:null,u||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},o.prototype.then=function(l,u){var d=this;return this.thenCore(l,u,function(m,y){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,m),x}).then(m,y).then(function(x){return d.updateProgress(1),x})})},o.prototype.thenCore=function(l,u,d){d=d||Promise.prototype.then;var m=this;l&&(l=l.bind(m)),u&&(u=u.bind(m));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:o.convert(Object.assign({},m),Promise.prototype),x=d.call(y,l,u);return o.convert(x,m.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach(function(d){u=u.thenCore(d)}),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Tn.getPageSize=function(l,u,d){if(Ma(l)==="object"){var m=l;l=m.orientation,u=m.unit||u,d=m.format||d}u=u||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var y,x=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+u}var _,S=0,M=0;if(g.hasOwnProperty(x))S=g[x][1]/y,M=g[x][0]/y;else try{S=d[1],M=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",M>S&&(_=M,M=S,S=_);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",S>M&&(_=M,M=S,S=_)}return{width:M,height:S,unit:u,k:y,orientation:l}},i.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(W5):null;var d=new o(u);return u.worker?d:d.from(l).doCallback()}})(Tn.API),Tn.API.addJS=function(i){return hM=i,this.internal.events.subscribe("postPutResources",function(){wx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wx!==void 0&&dM!==void 0&&this.internal.out("/Names <</JavaScript "+wx+" 0 R>>")}),this},(function(i){var e;i.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),r=0;r<a.length;r++){var o=a[r],l=n.exec(o);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(r=0;r<d;r++){var y=t.internal.newObject();m.push(y);var x=t.internal.getPageInfo(r+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),r=0;r<m.length;r++)t.internal.write("(page_"+(r+1)+")"+m[r]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),i.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,r){var o={title:a,options:r,children:[]};return n==null&&(n=this.root),n.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<n.children.length;r++){var o=n.children[r];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),r>0&&this.line("/Prev "+this.makeRef(n.children[r-1])),r<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[r+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var r=0;r<a.children.length;r++)n.count++,this.count_r(n,a.children[r]);return n.count}}])})(Tn.API),(function(i){var e=[192,193,194,195,196,197,198,199];i.processJPEG=function(t,n,a,r,o,l){var u,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(y){for(var x,g=256*y.charCodeAt(4)+y.charCodeAt(5),_=y.length,S={width:0,height:0,numcomponents:1},M=4;M<_;M+=2){if(M+=g,e.indexOf(y.charCodeAt(M+1))!==-1){x=256*y.charCodeAt(M+5)+y.charCodeAt(M+6),S={width:256*y.charCodeAt(M+7)+y.charCodeAt(M+8),height:x,numcomponents:y.charCodeAt(M+9)};break}g=256*y.charCodeAt(M+2)+y.charCodeAt(M+3)}return S})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}m={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return m}})(Tn.API),Tn.API.processPNG=function(i,e,t,n){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var a,r=uU(i,{checkCrc:!0}),o=r.width,l=r.height,u=r.channels,d=r.palette,m=r.depth;a=d&&u===1?(function(X){for(var O=X.width,z=X.height,q=X.data,I=X.palette,$=X.depth,U=!1,oe=[],J=[],ae=void 0,te=!1,le=0,Me=0;Me<I.length;Me++){var Z=g4(I[Me],4),V=Z[0],re=Z[1],ce=Z[2],pe=Z[3];oe.push(V,re,ce),pe!=null&&(pe===0?(le++,J.length<1&&J.push(Me)):pe<255&&(te=!0))}if(te||le>1){U=!0,J=void 0;var me=O*z;ae=new Uint8Array(me);for(var Ee=new DataView(q.buffer),Ue=0;Ue<me;Ue++){var ze=Y5(Ee,Ue,$),We=g4(I[ze],4)[3];ae[Ue]=We}}else le===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:q,alphaBytes:ae,needSMask:U,palette:oe,mask:J}})(r):u===2||u===4?(function(X){for(var O=X.data,z=X.width,q=X.height,I=X.channels,$=X.depth,U=I===2?"DeviceGray":"DeviceRGB",oe=I-1,J=z*q,ae=oe,te=J*ae,le=1*J,Me=Math.ceil(te*$/8),Z=Math.ceil(le*$/8),V=new Uint8Array(Me),re=new Uint8Array(Z),ce=new DataView(O.buffer),pe=new DataView(V.buffer),me=new DataView(re.buffer),Ee=!1,Ue=0;Ue<J;Ue++){for(var ze=Ue*I,We=0;We<ae;We++)_M(pe,Y5(ce,ze+We,$),Ue*ae+We,$);var at=Y5(ce,ze+ae,$);at<(1<<$)-1&&(Ee=!0),_M(me,at,1*Ue,$)}return{colorSpace:U,colorsPerPixel:oe,sMaskBitsPerComponent:Ee?$:void 0,colorBytes:V,alphaBytes:re,needSMask:Ee}})(r):(function(X){var O=X.data,z=X.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?(function(q){for(var I=q.length,$=new Uint8Array(2*I),U=new DataView($.buffer,$.byteOffset,$.byteLength),oe=0;oe<I;oe++)U.setUint16(2*oe,q[oe],!1);return $})(O):O,needSMask:!1}})(r);var y,x,g,_=a,S=_.colorSpace,M=_.colorsPerPixel,b=_.sMaskBitsPerComponent,E=_.colorBytes,C=_.alphaBytes,D=_.needSMask,k=_.palette,H=_.mask,G=null;return n!==Tn.API.image_compression.NONE&&typeof A_=="function"?(G=(function(X){var O;switch(X){case Tn.API.image_compression.FAST:O=11;break;case Tn.API.image_compression.MEDIUM:O=13;break;case Tn.API.image_compression.SLOW:O=14;break;default:O=12}return O})(n),y=this.decode.FLATE_DECODE,x="/Predictor ".concat(G," /Colors ").concat(M," /BitsPerComponent ").concat(m," /Columns ").concat(o),i=gM(E,Math.ceil(o*M*m/8),M,m,n),D&&(g=gM(C,Math.ceil(o*b/8),1,b,n))):(y=void 0,x=void 0,i=E,D&&(g=C)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:i,index:e,filter:y,decodeParameters:x,transparency:H,palette:k,sMask:g,predictor:G,width:o,height:l,bitsPerComponent:m,sMaskBitsPerComponent:b,colorSpace:S}}},(function(i){i.processGIF89A=function(e,t,n,a){var r=new LU(e),o=r.width,l=r.height,u=[];r.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:o,height:l},m=new $5(100).encode(d,100);return i.processJPEG.call(this,m,t,n,a)},i.processGIF87A=i.processGIF89A})(Tn.API),Ou.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var e=0;e<i;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ou.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[i]()}catch(t){Fa.log("bit decode error:"+t)}},Ou.prototype.bit1=function(){var i,e=Math.ceil(this.width/8),t=e%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,a=0;a<e;a++)for(var r=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var u=this.palette[r>>7-l&1];this.data[o+4*l]=u.blue,this.data[o+4*l+1]=u.green,this.data[o+4*l+2]=u.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},Ou.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),e=i%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<i;a++){var r=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=r>>4,u=15&r,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[u],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ou.prototype.bit8=function(){for(var i=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),r=t*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[r]=o.red,this.data[r+1]=o.green,this.data[r+2]=o.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}i!==0&&(this.pos+=4-i)}},Ou.prototype.bit15=function(){for(var i=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(r&e)/e*255|0,l=(r>>5&e)/e*255|0,u=(r>>10&e)/e*255|0,d=r>>15?255:0,m=n*this.width*4+4*a;this.data[m]=u,this.data[m+1]=l,this.data[m+2]=o,this.data[m+3]=d}this.pos+=i}},Ou.prototype.bit16=function(){for(var i=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,d=(o>>11)/e*255|0,m=a*this.width*4+4*r;this.data[m]=d,this.data[m+1]=u,this.data[m+2]=l,this.data[m+3]=255}this.pos+=i}},Ou.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=r,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ou.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=r,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Ou.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(e,t,n,a){var r=new Ou(e,!1),o=r.width,l=r.height,u={data:r.getData(),width:o,height:l},d=new $5(100).encode(u,100);return i.processJPEG.call(this,d,t,n,a)}})(Tn.API),SM.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(e,t,n,a){var r=new SM(e),o=r.width,l=r.height,u={data:r.getData(),width:o,height:l},d=new $5(100).encode(u,100);return i.processJPEG.call(this,d,t,n,a)}})(Tn.API),Tn.API.processRGBA=function(i,e,t){for(var n=i.data,a=n.length,r=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,u=0,d=0;d<a;d+=4){var m=n[d],y=n[d+1],x=n[d+2],g=n[d+3];r[l++]=m,r[l++]=y,r[l++]=x,o[u++]=g}var _=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Tn.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zm=Tn.API,Sx=Zm.getCharWidthsArray=function(i,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),r=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,u=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,y=e.doKerning!==!1,x=0,g=i.length,_=0,S=l[0]||u,M=[];for(t=0;t<g;t++)n=i.charCodeAt(t),typeof a.metadata.widthOfString=="function"?M.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/r)||0)/1e3):(x=y&&Ma(d[n])==="object"&&!isNaN(parseInt(d[n][_],10))?d[n][_]/m:0,M.push((l[n]||S)/u+x)),_=n;return M},fM=Zm.getStringUnitWidth=function(i,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Zm.processArabic&&(i=Zm.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,t,a)/t:Sx.apply(this,arguments).reduce(function(r,o){return r+o},0)},pM=function(i,e,t,n){for(var a=[],r=0,o=i.length,l=0;r!==o&&l+e[r]<t;)l+=e[r],r++;a.push(i.slice(0,r));var u=r;for(l=0;r!==o;)l+e[r]>n&&(a.push(i.slice(u,r)),l=0,u=r),l+=e[r],r++;return u!==r&&a.push(i.slice(u,r)),a},mM=function(i,e,t){t||(t={});var n,a,r,o,l,u,d,m=[],y=[m],x=t.textIndent||0,g=0,_=0,S=i.split(" "),M=Sx.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var b=Array(u).join(" "),E=[];S.map(function(D){(D=D.split(/\s*\n/)).length>1?E=E.concat(D.map(function(k,H){return(H&&k.length?`
`:"")+k})):E.push(D[0])}),S=E,u=fM.apply(this,[b,t])}for(r=0,o=S.length;r<o;r++){var C=0;if(n=S[r],u&&n[0]==`
`&&(n=n.substr(1),C=1),x+g+(_=(a=Sx.apply(this,[n,t])).reduce(function(D,k){return D+k},0))>e||C){if(_>e){for(l=pM.apply(this,[n,a,e-(x+g),e]),m.push(l.shift()),m=[l.pop()];l.length;)y.push([l.shift()]);_=a.slice(n.length-(m[0]?m[0].length:0)).reduce(function(D,k){return D+k},0)}else m=[n];y.push(m),x=_+u,g=M}else m.push(n),x+=g+_,g=M}return d=u?function(D,k){return(k?b:"")+D.join(" ")}:function(D){return D.join(" ")},y.map(d)},Zm.splitTextToSize=function(i,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),r=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle),x="Unicode";return y.metadata[x]?{widths:y.metadata[x].widths||{0:1},kerning:y.metadata[x].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;r.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,r.lineIndent=t.lineIndent;var l,u,d=[];for(l=0,u=n.length;l<u;l++)d=d.concat(mM.apply(this,[n[l],o,r]));return d},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},a={},r=0;r<16;r++)n[t[r]]=e[r],a[e[r]]=t[r];var o=function(x){return"0x"+parseInt(x,10).toString(16)},l=i.__fontmetrics__.compress=function(x){var g,_,S,M,b=["{"];for(var E in x){if(g=x[E],isNaN(parseInt(E,10))?_="'"+E+"'":(E=parseInt(E,10),_=(_=o(E).slice(2)).slice(0,-1)+a[_.slice(-1)]),typeof g=="number")g<0?(S=o(g).slice(3),M="-"):(S=o(g).slice(2),M=""),S=M+S.slice(0,-1)+a[S.slice(-1)];else{if(Ma(g)!=="object")throw new Error("Don't know what to do with value type "+Ma(g)+".");S=l(g)}b.push(_+S)}return b.push("}"),b.join("")},u=i.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,_,S,M,b={},E=1,C=b,D=[],k="",H="",G=x.length-1,X=1;X<G;X+=1)(M=x[X])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(M):M=="{"?(D.push([C,S]),C={},S=void 0):M=="}"?((_=D.pop())[0][_[1]]=C,S=void 0,C=_[0]):M=="-"?E=-1:S===void 0?n.hasOwnProperty(M)?(k+=n[M],S=parseInt(k,16)*E,E=1,k=""):k+=M:n.hasOwnProperty(M)?(H+=n[M],C[S]=parseInt(H,16)*E,E=1,S=void 0,H=""):H+=M;return b},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(x){var g=x.font,_=y.Unicode[g.postScriptName];_&&(g.metadata.Unicode={},g.metadata.Unicode.widths=_.widths,g.metadata.Unicode.kerning=_.kerning);var S=m.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])})(Tn.API),(function(i){var e=function(t){for(var n=t.length,a=new Uint8Array(n),r=0;r<n;r++)a[r]=t.charCodeAt(r);return a};i.API.events.push(["addFont",function(t){var n=void 0,a=t.font,r=t.instance;if(!a.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=r.existsFileInVFS(a.postScriptName)===!1?r.loadFile(a.postScriptName):r.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Mv(l)),o.metadata=i.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(Tn),Tn.API.addSvgAsImage=function(i,e,t,n,a,r,o,l){if(isNaN(e)||isNaN(t))throw Fa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Fa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Gn.canvg?Promise.resolve(Gn.canvg):Qn(()=>import("./index.es-D8ylS8fl.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,i,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(m)}).then(function(){y.addImage(u.toDataURL("image/jpeg",1),e,t,n,a,o,l)})},Tn.API.putTotalPages=function(i){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(i,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},Tn.API.viewerPreferences=function(i,e){var t;i=i||{},e=e||!1;var n,a,r,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),u=[],d=0,m=0,y=0;function x(_,S){var M,b=!1;for(M=0;M<_.length;M+=1)_[M]===S&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,i==="reset"||e===!0){var g=l.length;for(y=0;y<g;y+=1)t[l[y]].value=t[l[y]].defaultValue,t[l[y]].explicitSet=!1}if(Ma(i)==="object"){for(a in i)if(r=i[a],x(l,a)&&r!==void 0){if(t[a].type==="boolean"&&typeof r=="boolean")t[a].value=r;else if(t[a].type==="name"&&x(t[a].valueSet,r))t[a].value=r;else if(t[a].type==="integer"&&Number.isInteger(r))t[a].value=r;else if(t[a].type==="array"){for(d=0;d<r.length;d+=1)if(n=!0,r[d].length===1&&typeof r[d][0]=="number")u.push(String(r[d]-1));else if(r[d].length>1){for(m=0;m<r[d].length;m+=1)typeof r[d][m]!="number"&&(n=!1);n===!0&&u.push([r[d][0]-1,r[d][1]-1].join(" "))}t[a].value="["+u.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,S=[];for(_ in t)t[_].explicitSet===!0&&(t[_].type==="name"?S.push("/"+_+" /"+t[_].value):S.push("/"+_+" "+t[_].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(i){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=r.length+o.length+l.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+r+o+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Tn.API),(function(i){var e=i.API,t=e.pdfEscape16=function(r,o){for(var l,u=o.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],y=0,x=r.length;y<x;++y){if(l=o.metadata.characterToGlyph(r.charCodeAt(y)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=r.charCodeAt(y),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return m.join("");l=l.toString(16),m.push(d[4-l.length],l)}return m.join("")},n=function(r){var o,l,u,d,m,y,x;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],y=0,x=(l=Object.keys(r).sort(function(g,_){return g-_})).length;y<x;y++)o=l[y],u.length>=100&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),r[o]!==void 0&&r[o]!==null&&typeof r[o].toString=="function"&&(d=("0000"+r[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+d+">"));return u.length&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(r){(function(o){var l=o.font,u=o.out,d=o.newObject,m=o.putStream;if(l.metadata instanceof i.API.TTFFont&&l.encoding==="Identity-H"){for(var y=l.metadata.Unicode.widths,x=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",_=0;_<x.length;_++)g+=String.fromCharCode(x[_]);var S=d();m({data:g,addLength1:!0,objectId:S}),u("endobj");var M=d();m({data:n(l.metadata.toUnicode),addLength1:!0,objectId:M}),u("endobj");var b=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+A0(l.fontName)),u("/FontFile2 "+S+" 0 R"),u("/FontBBox "+i.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var E=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+A0(l.fontName)),u("/FontDescriptor "+b+" 0 R"),u("/W "+i.API.PDFObject.convert(y)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+M+" 0 R"),u("/BaseFont /"+A0(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+E+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(r)}]),e.events.push(["putFont",function(r){(function(o){var l=o.font,u=o.out,d=o.newObject,m=o.putStream;if(l.metadata instanceof i.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var y=l.metadata.rawData,x="",g=0;g<y.length;g++)x+=String.fromCharCode(y[g]);var _=d();m({data:x,addLength1:!0,objectId:_}),u("endobj");var S=d();m({data:n(l.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var M=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+_+" 0 R"),u("/Flags 96"),u("/FontBBox "+i.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+A0(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+A0(l.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(r)}]);var a=function(r){var o,l=r.text||"",u=r.x,d=r.y,m=r.options||{},y=r.mutex||{},x=y.pdfEscape,g=y.activeFontKey,_=y.fonts,S=g,M="",b=0,E="",C=_[S].encoding;if(_[S].encoding!=="Identity-H")return{text:l,x:u,y:d,options:m,mutex:y};for(E=l,S=g,Array.isArray(l)&&(E=l[0]),b=0;b<E.length;b+=1)_[S].metadata.hasOwnProperty("cmap")&&(o=_[S].metadata.cmap.unicode.codeMap[E[b].charCodeAt(0)]),o||E[b].charCodeAt(0)<256&&_[S].metadata.hasOwnProperty("Unicode")?M+=E[b]:M+="";var D="";return parseInt(S.slice(1))<14||C==="WinAnsiEncoding"?D=x(M,S).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(D=t(M,_[S])),y.isHex=!0,{text:D,x:u,y:d,options:m,mutex:y}};e.events.push(["postProcessText",function(r){var o=r.text||"",l=[],u={text:o,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},u,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},u,{text:o[d]})).text);r.text=l}else r.text=a(Object.assign({},u,{text:o})).text}])})(Tn),(function(i){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},i.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},i.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Tn.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var a,r,o,l,u,d,m,y=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,C=0;this.__bidiEngine__={};var D=function(q){var I=q.charCodeAt(),$=I>>8,U=S[$];return U!==void 0?y[256*U+(255&I)]:$===252||$===253?"AL":b.test($)?"L":$===8?"R":"N"},k=function(q){for(var I,$=0;$<q.length;$++){if((I=D(q.charAt($)))==="L")return!1;if(I==="R")return!0}return!1},H=function(q,I,$,U){var oe,J,ae,te,le=I[U];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(le="AN");break;case"AL":E=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":U<1||U+1>=I.length||(oe=$[U-1])!=="EN"&&oe!=="AN"||(J=I[U+1])!=="EN"&&J!=="AN"?le="N":E&&(J="AN"),le=J===oe?J:"N";break;case"ES":le=(oe=U>0?$[U-1]:"B")==="EN"&&U+1<I.length&&I[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&$[U-1]==="EN"){le="EN";break}if(E){le="N";break}for(ae=U+1,te=I.length;ae<te&&I[ae]==="ET";)ae++;le=ae<te&&I[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(te=I.length,ae=U+1;ae<te&&I[ae]==="NSM";)ae++;if(ae<te){var Me=q[U],Z=Me>=1425&&Me<=2303||Me===64286;if(oe=I[ae],Z&&(oe==="R"||oe==="AL")){le="R";break}}}le=U<1||(oe=I[U-1])==="B"?"N":$[U-1];break;case"B":E=!1,a=!0,le=C;break;case"S":r=!0,le="N"}return le},G=function(q,I,$){var U=q.split("");return $&&X(U,$,{hiLevel:C}),U.reverse(),I&&I.reverse(),U.join("")},X=function(q,I,$){var U,oe,J,ae,te,le=-1,Me=q.length,Z=0,V=[],re=C?g:x,ce=[];for(E=!1,a=!1,r=!1,oe=0;oe<Me;oe++)ce[oe]=D(q[oe]);for(J=0;J<Me;J++){if(te=Z,V[J]=H(q,ce,V,J),U=240&(Z=re[te][_[V[J]]]),Z&=15,I[J]=ae=re[Z][5],U>0)if(U===16){for(oe=le;oe<J;oe++)I[oe]=1;le=-1}else le=-1;if(re[Z][6])le===-1&&(le=J);else if(le>-1){for(oe=le;oe<J;oe++)I[oe]=ae;le=-1}ce[J]==="B"&&(I[J]=0),$.hiLevel|=ae}r&&(function(pe,me,Ee){for(var Ue=0;Ue<Ee;Ue++)if(pe[Ue]==="S"){me[Ue]=C;for(var ze=Ue-1;ze>=0&&pe[ze]==="WS";ze--)me[ze]=C}})(ce,I,Me)},O=function(q,I,$,U,oe){if(!(oe.hiLevel<q)){if(q===1&&C===1&&!a)return I.reverse(),void($&&$.reverse());for(var J,ae,te,le,Me=I.length,Z=0;Z<Me;){if(U[Z]>=q){for(te=Z+1;te<Me&&U[te]>=q;)te++;for(le=Z,ae=te-1;le<ae;le++,ae--)J=I[le],I[le]=I[ae],I[ae]=J,$&&(J=$[le],$[le]=$[ae],$[ae]=J);Z=te}Z++}}},z=function(q,I,$){var U=q.split(""),oe={hiLevel:C};return $||($=[]),X(U,$,oe),(function(J,ae,te){if(te.hiLevel!==0&&m)for(var le,Me=0;Me<J.length;Me++)ae[Me]===1&&(le=M.indexOf(J[Me]))>=0&&(J[Me]=M[le+1])})(U,$,oe),O(2,U,I,$,oe),O(1,U,I,$,oe),U.join("")};return this.__bidiEngine__.doBidiReorder=function(q,I,$){if((function(oe,J){if(J)for(var ae=0;ae<oe.length;ae++)J[ae]=ae;l===void 0&&(l=k(oe)),d===void 0&&(d=k(oe))})(q,I),o||!u||d)if(o&&u&&l^d)C=l?1:0,q=G(q,I,$);else if(!o&&u&&d)C=l?1:0,q=z(q,I,$),q=G(q,I);else if(!o||l||u||d){if(o&&!u&&l^d)q=G(q,I),l?(C=0,q=z(q,I,$)):(C=1,q=z(q,I,$),q=G(q,I));else if(o&&l&&!u&&d)C=1,q=z(q,I,$),q=G(q,I);else if(!o&&!u&&l^d){var U=m;l?(C=1,q=z(q,I,$),C=0,m=!1,q=z(q,I,$),m=U):(C=0,q=z(q,I,$),q=G(q,I),C=1,m=!1,q=z(q,I,$),m=U,q=G(q,I))}}else C=0,q=z(q,I,$);else C=l?1:0,q=z(q,I,$);return q},this.__bidiEngine__.setOptions=function(q){q&&(o=q.isInputVisual,u=q.isOutputVisual,l=q.isInputRtl,d=q.isOutputRtl,m=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var r=n.options||{};n.mutex,r.lang;var o=[];if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,t.setOptions(r),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([t.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([t.doBidiReorder(a[l])]);n.text=o}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Tn),Tn.API.TTFFont=(function(){function i(e){var t;if(this.rawData=e,t=this.contents=new jf(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new WU(this),this.registerTTF()}return i.open=function(e){return new i(e)},i.prototype.parse=function(){return this.directory=new DU(this.contents),this.head=new PU(this),this.name=new BU(this),this.cmap=new SN(this),this.toUnicode={},this.hhea=new kU(this),this.maxp=new jU(this),this.hmtx=new FU(this),this.post=new UU(this),this.os2=new IU(this),this.loca=new GU(this),this.glyf=new VU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var e,t,n,a,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,u,d;for(d=[],o=0,l=(u=this.bbox).length;o<l;o++)e=u[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},i.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},i.prototype.widthOfString=function(e,t,n){var a,r,o,l;for(o=0,r=0,l=(e=""+e).length;0<=l?r<l:r>l;r=0<=l?++r:--r)a=e.charCodeAt(r),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return o*(t/1e3)},i.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},i})();var qu,jf=(function(){function i(e){this.data=e??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(e){return this.data[this.pos++]=e},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},i.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},i.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},i.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(e){return this.writeInt16(e)},i.prototype.readLongLong=function(){var e,t,n,a,r,o,l,u;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),r=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^r)+65536*(255^o)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*r+65536*o+256*l+u},i.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(e){return this.writeInt32(e)},i.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},i.prototype.write=function(e){var t,n,a,r;for(r=[],n=0,a=e.length;n<a;n++)t=e[n],r.push(this.writeByte(t));return r},i})(),DU=(function(){var i;function e(t){var n,a,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,r=this.tableCount;0<=r?a<r:a>r;a=0<=r?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,r,o,l,u,d,m,y,x,g,_,S;for(S in g=Object.keys(t).length,u=Math.log(2),y=16*Math.floor(Math.log(g)/u),o=Math.floor(y/u),m=16*g-y,(a=new jf).writeInt(this.scalarType),a.writeShort(g),a.writeShort(y),a.writeShort(o),a.writeShort(m),r=16*g,d=a.pos+r,l=null,_=[],t)for(x=t[S],a.writeString(S),a.writeInt(i(x)),a.writeInt(d),a.writeInt(x.length),_=_.concat(x),S==="head"&&(l=d),d+=x.length;d%4;)_.push(0),d++;return a.write(_),n=2981146554-i(a.data),a.pos=l+8,a.writeUInt32(n),a.data},i=function(t){var n,a,r,o;for(t=AN.call(t);t.length%4;)t.push(0);for(r=new jf(t),a=0,n=0,o=t.length;n<o;n=n+=4)a+=r.readUInt32();return 4294967295&a},e})(),OU={}.hasOwnProperty,Rd=function(i,e){for(var t in e)OU.call(e,t)&&(i[t]=e[t]);function n(){this.constructor=i}return n.prototype=e.prototype,i.prototype=new n,i.__super__=e.prototype,i};qu=(function(){function i(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var PU=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Rd(i,qu),i.prototype.tag="head",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},i.prototype.encode=function(e){var t;return(t=new jf).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},i})(),AM=(function(){function i(e,t){var n,a,r,o,l,u,d,m,y,x,g,_,S,M,b,E,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),x=g/2,e.pos+=6,r=(function(){var D,k;for(k=[],u=D=0;0<=x?D<x:D>x;u=0<=x?++D:--D)k.push(e.readUInt16());return k})(),e.pos+=2,S=(function(){var D,k;for(k=[],u=D=0;0<=x?D<x:D>x;u=0<=x?++D:--D)k.push(e.readUInt16());return k})(),d=(function(){var D,k;for(k=[],u=D=0;0<=x?D<x:D>x;u=0<=x?++D:--D)k.push(e.readUInt16());return k})(),m=(function(){var D,k;for(k=[],u=D=0;0<=x?D<x:D>x;u=0<=x?++D:--D)k.push(e.readUInt16());return k})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var D,k;for(k=[],u=D=0;0<=a?D<a:D>a;u=0<=a?++D:--D)k.push(e.readUInt16());return k})(),u=b=0,C=r.length;b<C;u=++b)for(M=r[u],n=E=_=S[u];_<=M?E<=M:E>=M;n=_<=M?++E:--E)m[u]===0?o=n+d[u]:(o=l[m[u]/2+(n-_)-(x-u)]||0)!==0&&(o+=d[u]),this.codeMap[n]=65535&o}e.pos=y}return i.encode=function(e,t){var n,a,r,o,l,u,d,m,y,x,g,_,S,M,b,E,C,D,k,H,G,X,O,z,q,I,$,U,oe,J,ae,te,le,Me,Z,V,re,ce,pe,me,Ee,Ue,ze,We,at,Ct;switch(U=new jf,o=Object.keys(e).sort(function(gt,W){return gt-W}),t){case"macroman":for(S=0,M=(function(){var gt=[];for(_=0;_<256;++_)gt.push(0);return gt})(),E={0:0},r={},oe=0,le=o.length;oe<le;oe++)E[ze=e[a=o[oe]]]==null&&(E[ze]=++S),r[a]={old:e[a],new:E[e[a]]},M[a]=E[e[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(M),{charMap:r,subtable:U.data,maxGlyphID:S+1};case"unicode":for(I=[],y=[],C=0,E={},n={},b=d=null,J=0,Me=o.length;J<Me;J++)E[k=e[a=o[J]]]==null&&(E[k]=++C),n[a]={old:k,new:E[k]},l=E[k]-a,b!=null&&l===d||(b&&y.push(b),I.push(a),d=l),b=a;for(b&&y.push(b),y.push(65535),I.push(65535),z=2*(O=I.length),X=2*Math.pow(Math.log(O)/Math.LN2,2),x=Math.log(X/2)/Math.LN2,G=2*O-X,u=[],H=[],g=[],_=ae=0,Z=I.length;ae<Z;_=++ae){if(q=I[_],m=y[_],q===65535){u.push(0),H.push(0);break}if(q-($=n[q].new)>=32768)for(u.push(0),H.push(2*(g.length+O-_)),a=te=q;q<=m?te<=m:te>=m;a=q<=m?++te:--te)g.push(n[a].new);else u.push($-q),H.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*O+2*g.length),U.writeUInt16(0),U.writeUInt16(z),U.writeUInt16(X),U.writeUInt16(x),U.writeUInt16(G),Ee=0,V=y.length;Ee<V;Ee++)a=y[Ee],U.writeUInt16(a);for(U.writeUInt16(0),Ue=0,re=I.length;Ue<re;Ue++)a=I[Ue],U.writeUInt16(a);for(We=0,ce=u.length;We<ce;We++)l=u[We],U.writeUInt16(l);for(at=0,pe=H.length;at<pe;at++)D=H[at],U.writeUInt16(D);for(Ct=0,me=g.length;Ct<me;Ct++)S=g[Ct],U.writeUInt16(S);return{charMap:n,subtable:U.data,maxGlyphID:C+1}}},i})(),SN=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Rd(i,qu),i.prototype.tag="cmap",i.prototype.parse=function(e){var t,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)t=new AM(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},i.encode=function(e,t){var n,a;return t==null&&(t="macroman"),n=AM.encode(e,t),(a=new jf).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},i})(),kU=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Rd(i,qu),i.prototype.tag="hhea",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},i})(),IU=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Rd(i,qu),i.prototype.tag="OS/2",i.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},i})(),UU=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Rd(i,qu),i.prototype.tag="post",i.prototype.parse=function(e){var t,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var r;for(n=e.readUInt16(),this.glyphNameIndex=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,u;for(u=[],r=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;r=0<=l?++o:--o)u.push(e.readUInt32());return u}).call(this)}},i})(),zU=function(i,e){this.raw=i,this.length=i.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},BU=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Rd(i,qu),i.prototype.tag="name",i.prototype.parse=function(e){var t,n,a,r,o,l,u,d,m,y,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(u={},r=m=0,y=n.length;m<y;r=++m)a=n[r],e.pos=a.offset,d=e.readString(a.length),o=new zU(d,a),u[x=a.nameID]==null&&(u[x]=[]),u[a.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},i})(),jU=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Rd(i,qu),i.prototype.tag="maxp",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},i})(),FU=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Rd(i,qu),i.prototype.tag="hmtx",i.prototype.parse=function(e){var t,n,a,r,o,l,u;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,y,x;for(x=[],d=0,m=(y=this.metrics).length;d<m;d++)r=y[d],x.push(r.advance);return x}).call(this),n=this.widths[this.widths.length-1],u=[],t=o=0;0<=a?o<a:o>a;t=0<=a?++o:--o)u.push(this.widths.push(n));return u},i.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},i})(),AN=[].slice,VU=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Rd(i,qu),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(e){var t,n,a,r,o,l,u,d,m,y;return e in this.cache?this.cache[e]:(r=this.file.loca,t=this.file.contents,n=r.indexOf(e),(a=r.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,o=(l=new jf(t.read(a))).readShort(),d=l.readShort(),y=l.readShort(),u=l.readShort(),m=l.readShort(),this.cache[e]=o===-1?new qU(l,d,y,u,m):new HU(l,o,d,y,u,m),this.cache[e]))},i.prototype.encode=function(e,t,n){var a,r,o,l,u;for(o=[],r=[],l=0,u=t.length;l<u;l++)a=e[t[l]],r.push(o.length),a&&(o=o.concat(a.encode(n)));return r.push(o.length),{table:o,offsets:r}},i})(),HU=(function(){function i(e,t,n,a,r,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=r,this.yMax=o,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),qU=(function(){function i(e,t,n,a,r){var o,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return i.prototype.encode=function(){var e,t,n;for(t=new jf(AN.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},i})(),GU=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Rd(i,qu),i.prototype.tag="loca",i.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,r;for(r=[],n=0,a=this.length;n<a;n+=2)r.push(2*e.readUInt16());return r}).call(this):(function(){var a,r;for(r=[],n=0,a=this.length;n<a;n+=4)r.push(e.readUInt32());return r}).call(this)},i.prototype.indexOf=function(e){return this.offsets[e]},i.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},i.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),a=0,r=0,o=0;o<n.length;++o)if(n[o]=a,r<t.length&&t[r]==o){++r,n[o]=a;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(a+=u)}for(var d=new Array(4*n.length),m=0;m<n.length;++m)d[4*m+3]=255&n[m],d[4*m+2]=(65280&n[m])>>8,d[4*m+1]=(16711680&n[m])>>16,d[4*m]=(4278190080&n[m])>>24;return d},i})(),WU=(function(){function i(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var e,t,n,a,r;for(t in a=this.font.cmap.tables[0].codeMap,e={},r=this.subset)n=r[t],e[t]=a[n];return e},i.prototype.glyphsFor=function(e){var t,n,a,r,o,l,u;for(a={},o=0,l=e.length;o<l;o++)a[r=e[o]]=this.font.glyf.glyphFor(r);for(r in t=[],a)(n=a[r])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(r in u=this.glyphsFor(t))n=u[r],a[r]=n;return a},i.prototype.encode=function(e,t){var n,a,r,o,l,u,d,m,y,x,g,_,S,M,b;for(a in n=SN.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},b=n.charMap)g[(u=b[a]).old]=u.new;for(_ in x=n.maxGlyphID,o)_ in g||(g[_]=x++);return m=(function(E){var C,D;for(C in D={},E)D[E[C]]=C;return D})(g),y=Object.keys(m).sort(function(E,C){return E-C}),S=(function(){var E,C,D;for(D=[],E=0,C=y.length;E<C;E++)l=y[E],D.push(m[l]);return D})(),r=this.font.glyf.encode(o,S,g),d=this.font.loca.encode(r.offsets,S),M={cmap:this.font.cmap.raw(),glyf:r.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},i})();Tn.API.PDFObject=(function(){var i;function e(){}return i=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,r,o;if(Array.isArray(t))return"["+(function(){var l,u,d;for(d=[],l=0,u=t.length;l<u;l++)n=t[l],d.push(e.convert(n));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+i(t.getUTCFullYear(),4)+i(t.getUTCMonth(),2)+i(t.getUTCDate(),2)+i(t.getUTCHours(),2)+i(t.getUTCMinutes(),2)+i(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in r=["<<"],t)o=t[a],r.push("/"+a+" "+e.convert(o));return r.push(">>"),r.join(`
`)}return""+t},e})();const XU=i=>{const e=new Tn({orientation:"p",unit:"mm",format:"a4"});if(i.logoDataUrl)try{e.addImage(i.logoDataUrl,"JPEG",15,10,40,20)}catch(m){console.error("Error adding logo:",m),e.setFillColor(240,240,240),e.rect(15,10,40,20,"F"),e.setTextColor(150,150,150),e.setFontSize(10),e.text("Logo Error",35,22,{align:"center"})}else e.setFillColor(240,240,240),e.rect(15,10,40,20,"F"),e.setTextColor(150,150,150),e.setFontSize(10),e.text("Logo",35,22,{align:"center"});e.setTextColor(0,0,0),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Factory First Address For Water",195,20,{align:"right"}),e.setFontSize(14),e.text("Claim & Petty Cash Form",105,35,{align:"center"}),e.setFontSize(10),e.setFont("helvetica","normal");const t=new Date().toISOString().split("T")[0];e.rect(15,45,180,10),e.line(105,45,105,55),e.text("Dep. :",17,51),e.text(i.department,30,51),e.text("Date :",107,51),e.text(t,120,51),e.rect(15,55,180,10),e.line(105,55,105,65),e.text("Name :",107,61),e.text(i.vendorName,120,61);const n=75;e.setFillColor(255,255,255),e.rect(15,n,180,15),e.line(40,n,40,n+15),e.line(80,n,80,n+15),e.line(165,n,165,n+15),e.setFont("helvetica","bold"),e.setFontSize(9),e.text("Branch",27.5,n+8,{align:"center"}),e.text("Description",122.5,n+8,{align:"center"}),e.text("Amount",180,n+8,{align:"center"}),e.text("Documents",60,n+5,{align:"center"}),e.line(40,n+7.5,80,n+7.5),e.line(60,n+7.5,60,n+15),e.text("Date",50,n+12,{align:"center"}),e.text("Type",70,n+12,{align:"center"});const a=10,r=12;let o=n+15;const l=m=>m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),u=m=>m+a/2+1.5;for(let m=0;m<r;m++)e.rect(15,o,180,a),e.line(40,o,40,o+a),e.line(60,o,60,o+a),e.line(80,o,80,o+a),e.line(165,o,165,o+a),m===0&&(e.setFont("helvetica","normal"),e.text(i.branch,27.5,u(o),{align:"center"}),e.text(i.poDate,50,u(o),{align:"center"}),e.text(i.poNumber,70,u(o),{align:"center"}),e.text(i.description,122.5,u(o),{align:"center"}),e.text(l(i.amountBeforeVat),180,u(o),{align:"center"})),m===r-1&&(e.setFont("helvetica","bold"),e.text("VAT 15%",163,u(o),{align:"right"}),e.text(l(i.vatAmount),180,u(o),{align:"center"})),o+=a;e.setFont("helvetica","bold"),e.rect(15,o,180,10),e.text("Total Amount",163,u(o),{align:"right"}),e.text(l(i.totalAmount),180,u(o),{align:"center"});const d=o+15;e.setFontSize(9),e.text("Requester",30,d),e.text("Direct Manager",70,d),e.text("Dep. Manager",110,d),e.text("Approval",160,d),e.line(15,d+10,195,d+10),e.setFontSize(11),e.text("Fill By Finance",105,d+18,{align:"center"}),e.setFontSize(9),e.text("Dear Secretary of the Treasury:",15,d+28),e.text("Kindly Please do necessary of amount payment ........................(only....................................................................................)",15,d+38),e.text("CFO",180,d+50,{align:"right"}),e.text("TO Mr. : ............................................................",15,d+50),e.setTextColor(200,200,200),e.setFontSize(60),e.text("Page 1",105,150,{align:"center",angle:0}),e.save(`Payment_Request_${i.vendorName}_${t}.pdf`)},YU=({isOpen:i,onClose:e})=>{const[t,n]=Te.useState({vendorName:"",department:"",branch:"",poNumber:"",poDate:"",description:"",totalAmount:"",logo:null}),[a,r]=Te.useState({amountBeforeVat:0,vatAmount:0});Te.useEffect(()=>{const u=parseFloat(t.totalAmount)||0,d=u/1.15,m=u-d;r({amountBeforeVat:d,vatAmount:m})},[t.totalAmount]);const o=u=>{var m;const d=(m=u.target.files)==null?void 0:m[0];if(d){const y=new FileReader;y.onloadend=()=>{n({...t,logo:y.result})},y.readAsDataURL(d)}};if(!i)return null;const l=u=>{u.preventDefault(),XU({vendorName:t.vendorName,department:t.department,branch:t.branch,poNumber:t.poNumber,poDate:t.poDate,description:t.description,amountBeforeVat:a.amountBeforeVat,vatAmount:a.vatAmount,totalAmount:parseFloat(t.totalAmount)||0,logoDataUrl:t.logo||void 0}),e()};return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden border border-gray-200 animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("div",{className:"bg-blue-100 p-2 rounded-lg text-blue-600",children:A.jsx(Df,{size:20})}),A.jsx("h3",{className:"font-semibold text-gray-800 text-lg",children:"New Payment Request"})]}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:A.jsx(Ph,{size:20})})]}),A.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Logo"}),A.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-colors"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),A.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.vendorName,onChange:u=>n({...t,vendorName:u.target.value}),placeholder:"Enter vendor name..."})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),A.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.department,onChange:u=>n({...t,department:u.target.value}),placeholder:"e.g. Supply Chain"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),A.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.branch,onChange:u=>n({...t,branch:u.target.value}),placeholder:"e.g. Main Branch"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Number"}),A.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.poNumber,onChange:u=>n({...t,poNumber:u.target.value}),placeholder:"PO-12345"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Date"}),A.jsx("input",{type:"date",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.poDate,onChange:u=>n({...t,poDate:u.target.value})})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),A.jsx("textarea",{required:!0,rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all resize-none",value:t.description,onChange:u=>n({...t,description:u.target.value}),placeholder:"Enter payment details..."})]}),A.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-3",children:[A.jsxs("div",{className:"flex items-center space-x-2 text-gray-700 font-medium border-b border-gray-200 pb-2 mb-2",children:[A.jsx(oO,{size:16}),A.jsx("span",{children:"Calculations"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Total Amount"}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs font-medium",children:"SAR"}),A.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full border border-gray-300 rounded-lg pl-10 pr-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:t.totalAmount,onChange:u=>n({...t,totalAmount:u.target.value}),placeholder:"0.00"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Amount Before VAT"}),A.jsx("div",{className:"text-sm font-semibold text-gray-700 bg-white border border-gray-200 px-3 py-2 rounded-lg",children:a.amountBeforeVat.toFixed(2)})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"VAT (15%)"}),A.jsx("div",{className:"text-sm font-bold text-blue-600 bg-blue-50 border border-blue-100 px-3 py-2 rounded-lg",children:a.vatAmount.toFixed(2)})]})]})]}),A.jsxs("div",{className:"pt-2 flex justify-end space-x-3",children:[A.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),A.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors flex items-center shadow-sm",children:[A.jsx(f6,{size:16,className:"mr-2"}),"Generate PDF"]})]})]})]})})},Dw=Te.createContext({});function Ow(i){const e=Te.useRef(null);return e.current===null&&(e.current=i()),e.current}const Pw=typeof window<"u",MN=Pw?Te.useLayoutEffect:Te.useEffect,nb=Te.createContext(null);function kw(i,e){i.indexOf(e)===-1&&i.push(e)}function Iw(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const Ch=(i,e,t)=>t>e?e:t<i?i:t;let Uw=()=>{};const Nh={},TN=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function EN(i){return typeof i=="object"&&i!==null}const CN=i=>/^0[^.\s]+$/u.test(i);function zw(i){let e;return()=>(e===void 0&&(e=i()),e)}const tu=i=>i,$U=(i,e)=>t=>e(i(t)),yy=(...i)=>i.reduce($U),H1=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n};class Bw{constructor(){this.subscriptions=[]}add(e){return kw(this.subscriptions,e),()=>Iw(this.subscriptions,e)}notify(e,t,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,n);else for(let r=0;r<a;r++){const o=this.subscriptions[r];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Md=i=>i*1e3,eu=i=>i/1e3;function NN(i,e){return e?i*(1e3/e):0}const RN=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,KU=1e-7,ZU=12;function JU(i,e,t,n,a){let r,o,l=0;do o=e+(t-e)/2,r=RN(o,n,a)-i,r>0?t=o:e=o;while(Math.abs(r)>KU&&++l<ZU);return o}function xy(i,e,t,n){if(i===e&&t===n)return tu;const a=r=>JU(r,0,1,i,t);return r=>r===0||r===1?r:RN(a(r),e,n)}const LN=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,DN=i=>e=>1-i(1-e),ON=xy(.33,1.53,.69,.99),jw=DN(ON),PN=LN(jw),kN=i=>(i*=2)<1?.5*jw(i):.5*(2-Math.pow(2,-10*(i-1))),Fw=i=>1-Math.sin(Math.acos(i)),IN=DN(Fw),UN=LN(Fw),QU=xy(.42,0,1,1),ez=xy(0,0,.58,1),zN=xy(.42,0,.58,1),tz=i=>Array.isArray(i)&&typeof i[0]!="number",BN=i=>Array.isArray(i)&&typeof i[0]=="number",nz={linear:tu,easeIn:QU,easeInOut:zN,easeOut:ez,circIn:Fw,circInOut:UN,circOut:IN,backIn:jw,backInOut:PN,backOut:ON,anticipate:kN},iz=i=>typeof i=="string",MM=i=>{if(BN(i)){Uw(i.length===4);const[e,t,n,a]=i;return xy(e,t,n,a)}else if(iz(i))return nz[i];return i},Ax=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function az(i,e){let t=new Set,n=new Set,a=!1,r=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(m){o.has(m)&&(d.schedule(m),i()),m(l)}const d={schedule:(m,y=!1,x=!1)=>{const _=x&&a?t:n;return y&&o.add(m),_.has(m)||_.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(l=m,a){r=!0;return}a=!0,[t,n]=[n,t],t.forEach(u),t.clear(),a=!1,r&&(r=!1,d.process(m))}};return d}const rz=40;function jN(i,e){let t=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,o=Ax.reduce((C,D)=>(C[D]=az(r),C),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:m,update:y,preRender:x,render:g,postRender:_}=o,S=()=>{const C=Nh.useManualTiming?a.timestamp:performance.now();t=!1,Nh.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(C-a.timestamp,rz),1)),a.timestamp=C,a.isProcessing=!0,l.process(a),u.process(a),d.process(a),m.process(a),y.process(a),x.process(a),g.process(a),_.process(a),a.isProcessing=!1,t&&e&&(n=!1,i(S))},M=()=>{t=!0,n=!0,a.isProcessing||i(S)};return{schedule:Ax.reduce((C,D)=>{const k=o[D];return C[D]=(H,G=!1,X=!1)=>(t||M(),k.schedule(H,G,X)),C},{}),cancel:C=>{for(let D=0;D<Ax.length;D++)o[Ax[D]].cancel(C)},state:a,steps:o}}const{schedule:ur,cancel:Ff,state:so,steps:K5}=jN(typeof requestAnimationFrame<"u"?requestAnimationFrame:tu,!0);let Rv;function sz(){Rv=void 0}const Xl={now:()=>(Rv===void 0&&Xl.set(so.isProcessing||Nh.useManualTiming?so.timestamp:performance.now()),Rv),set:i=>{Rv=i,queueMicrotask(sz)}},FN=i=>e=>typeof e=="string"&&e.startsWith(i),Vw=FN("--"),oz=FN("var(--"),Hw=i=>oz(i)?lz.test(i.split("/*")[0].trim()):!1,lz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pg={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},q1={...pg,transform:i=>Ch(0,1,i)},Mx={...pg,default:1},M1=i=>Math.round(i*1e5)/1e5,qw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cz(i){return i==null}const uz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gw=(i,e)=>t=>!!(typeof t=="string"&&uz.test(t)&&t.startsWith(i)||e&&!cz(t)&&Object.prototype.hasOwnProperty.call(t,e)),VN=(i,e,t)=>n=>{if(typeof n!="string")return n;const[a,r,o,l]=n.match(qw);return{[i]:parseFloat(a),[e]:parseFloat(r),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},dz=i=>Ch(0,255,i),Z5={...pg,transform:i=>Math.round(dz(i))},$p={test:Gw("rgb","red"),parse:VN("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+Z5.transform(i)+", "+Z5.transform(e)+", "+Z5.transform(t)+", "+M1(q1.transform(n))+")"};function hz(i){let e="",t="",n="",a="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),a=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),a=i.substring(4,5),e+=e,t+=t,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const D_={test:Gw("#"),parse:hz,transform:$p.transform},vy=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),Tf=vy("deg"),Td=vy("%"),Fn=vy("px"),fz=vy("vh"),pz=vy("vw"),TM={...Td,parse:i=>Td.parse(i)/100,transform:i=>Td.transform(i*100)},T0={test:Gw("hsl","hue"),parse:VN("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+Td.transform(M1(e))+", "+Td.transform(M1(t))+", "+M1(q1.transform(n))+")"},ms={test:i=>$p.test(i)||D_.test(i)||T0.test(i),parse:i=>$p.test(i)?$p.parse(i):T0.test(i)?T0.parse(i):D_.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?$p.transform(i):T0.transform(i),getAnimatableNone:i=>{const e=ms.parse(i);return e.alpha=0,ms.transform(e)}},mz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gz(i){var e,t;return isNaN(i)&&typeof i=="string"&&(((e=i.match(qw))==null?void 0:e.length)||0)+(((t=i.match(mz))==null?void 0:t.length)||0)>0}const HN="number",qN="color",yz="var",xz="var(",EM="${}",vz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function G1(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},a=[];let r=0;const l=e.replace(vz,u=>(ms.test(u)?(n.color.push(r),a.push(qN),t.push(ms.parse(u))):u.startsWith(xz)?(n.var.push(r),a.push(yz),t.push(u)):(n.number.push(r),a.push(HN),t.push(parseFloat(u))),++r,EM)).split(EM);return{values:t,split:l,indexes:n,types:a}}function GN(i){return G1(i).values}function WN(i){const{split:e,types:t}=G1(i),n=e.length;return a=>{let r="";for(let o=0;o<n;o++)if(r+=e[o],a[o]!==void 0){const l=t[o];l===HN?r+=M1(a[o]):l===qN?r+=ms.transform(a[o]):r+=a[o]}return r}}const bz=i=>typeof i=="number"?0:ms.test(i)?ms.getAnimatableNone(i):i;function _z(i){const e=GN(i);return WN(i)(e.map(bz))}const Vf={test:gz,parse:GN,createTransformer:WN,getAnimatableNone:_z};function J5(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function wz({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let a=0,r=0,o=0;if(!e)a=r=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,u=2*t-l;a=J5(u,l,i+1/3),r=J5(u,l,i),o=J5(u,l,i-1/3)}return{red:Math.round(a*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:n}}function Xv(i,e){return t=>t>0?e:i}const wr=(i,e,t)=>i+(e-i)*t,Q5=(i,e,t)=>{const n=i*i,a=t*(e*e-n)+n;return a<0?0:Math.sqrt(a)},Sz=[D_,$p,T0],Az=i=>Sz.find(e=>e.test(i));function CM(i){const e=Az(i);if(!e)return!1;let t=e.parse(i);return e===T0&&(t=wz(t)),t}const NM=(i,e)=>{const t=CM(i),n=CM(e);if(!t||!n)return Xv(i,e);const a={...t};return r=>(a.red=Q5(t.red,n.red,r),a.green=Q5(t.green,n.green,r),a.blue=Q5(t.blue,n.blue,r),a.alpha=wr(t.alpha,n.alpha,r),$p.transform(a))},O_=new Set(["none","hidden"]);function Mz(i,e){return O_.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function Tz(i,e){return t=>wr(i,e,t)}function Ww(i){return typeof i=="number"?Tz:typeof i=="string"?Hw(i)?Xv:ms.test(i)?NM:Nz:Array.isArray(i)?XN:typeof i=="object"?ms.test(i)?NM:Ez:Xv}function XN(i,e){const t=[...i],n=t.length,a=i.map((r,o)=>Ww(r)(r,e[o]));return r=>{for(let o=0;o<n;o++)t[o]=a[o](r);return t}}function Ez(i,e){const t={...i,...e},n={};for(const a in t)i[a]!==void 0&&e[a]!==void 0&&(n[a]=Ww(i[a])(i[a],e[a]));return a=>{for(const r in n)t[r]=n[r](a);return t}}function Cz(i,e){const t=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const r=e.types[a],o=i.indexes[r][n[r]],l=i.values[o]??0;t[a]=l,n[r]++}return t}const Nz=(i,e)=>{const t=Vf.createTransformer(e),n=G1(i),a=G1(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?O_.has(i)&&!a.values.length||O_.has(e)&&!n.values.length?Mz(i,e):yy(XN(Cz(n,a),a.values),t):Xv(i,e)};function YN(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?wr(i,e,t):Ww(i)(i,e)}const Rz=i=>{const e=({timestamp:t})=>i(t);return{start:(t=!0)=>ur.update(e,t),stop:()=>Ff(e),now:()=>so.isProcessing?so.timestamp:Xl.now()}},$N=(i,e,t=10)=>{let n="";const a=Math.max(Math.round(e/t),2);for(let r=0;r<a;r++)n+=Math.round(i(r/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Yv=2e4;function Xw(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<Yv;)e+=t,n=i.next(e);return e>=Yv?1/0:e}function Lz(i,e=100,t){const n=t({...i,keyframes:[0,e]}),a=Math.min(Xw(n),Yv);return{type:"keyframes",ease:r=>n.next(a*r).value/e,duration:eu(a)}}const Dz=5;function KN(i,e,t){const n=Math.max(e-Dz,0);return NN(t-i(n),e-n)}const Fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},e3=.001;function Oz({duration:i=Fr.duration,bounce:e=Fr.bounce,velocity:t=Fr.velocity,mass:n=Fr.mass}){let a,r,o=1-e;o=Ch(Fr.minDamping,Fr.maxDamping,o),i=Ch(Fr.minDuration,Fr.maxDuration,eu(i)),o<1?(a=d=>{const m=d*o,y=m*i,x=m-t,g=P_(d,o),_=Math.exp(-y);return e3-x/g*_},r=d=>{const y=d*o*i,x=y*t+t,g=Math.pow(o,2)*Math.pow(d,2)*i,_=Math.exp(-y),S=P_(Math.pow(d,2),o);return(-a(d)+e3>0?-1:1)*((x-g)*_)/S}):(a=d=>{const m=Math.exp(-d*i),y=(d-t)*i+1;return-e3+m*y},r=d=>{const m=Math.exp(-d*i),y=(t-d)*(i*i);return m*y});const l=5/i,u=kz(a,r,l);if(i=Md(i),isNaN(u))return{stiffness:Fr.stiffness,damping:Fr.damping,duration:i};{const d=Math.pow(u,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:i}}}const Pz=12;function kz(i,e,t){let n=t;for(let a=1;a<Pz;a++)n=n-i(n)/e(n);return n}function P_(i,e){return i*Math.sqrt(1-e*e)}const Iz=["duration","bounce"],Uz=["stiffness","damping","mass"];function RM(i,e){return e.some(t=>i[t]!==void 0)}function zz(i){let e={velocity:Fr.velocity,stiffness:Fr.stiffness,damping:Fr.damping,mass:Fr.mass,isResolvedFromDuration:!1,...i};if(!RM(i,Uz)&&RM(i,Iz))if(i.visualDuration){const t=i.visualDuration,n=2*Math.PI/(t*1.2),a=n*n,r=2*Ch(.05,1,1-(i.bounce||0))*Math.sqrt(a);e={...e,mass:Fr.mass,stiffness:a,damping:r}}else{const t=Oz(i);e={...e,...t,mass:Fr.mass},e.isResolvedFromDuration=!0}return e}function $v(i=Fr.visualDuration,e=Fr.bounce){const t=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:n,restDelta:a}=t;const r=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],l={done:!1,value:r},{stiffness:u,damping:d,mass:m,duration:y,velocity:x,isResolvedFromDuration:g}=zz({...t,velocity:-eu(t.velocity||0)}),_=x||0,S=d/(2*Math.sqrt(u*m)),M=o-r,b=eu(Math.sqrt(u/m)),E=Math.abs(M)<5;n||(n=E?Fr.restSpeed.granular:Fr.restSpeed.default),a||(a=E?Fr.restDelta.granular:Fr.restDelta.default);let C;if(S<1){const k=P_(b,S);C=H=>{const G=Math.exp(-S*b*H);return o-G*((_+S*b*M)/k*Math.sin(k*H)+M*Math.cos(k*H))}}else if(S===1)C=k=>o-Math.exp(-b*k)*(M+(_+b*M)*k);else{const k=b*Math.sqrt(S*S-1);C=H=>{const G=Math.exp(-S*b*H),X=Math.min(k*H,300);return o-G*((_+S*b*M)*Math.sinh(X)+k*M*Math.cosh(X))/k}}const D={calculatedDuration:g&&y||null,next:k=>{const H=C(k);if(g)l.done=k>=y;else{let G=k===0?_:0;S<1&&(G=k===0?Md(_):KN(C,k,H));const X=Math.abs(G)<=n,O=Math.abs(o-H)<=a;l.done=X&&O}return l.value=l.done?o:H,l},toString:()=>{const k=Math.min(Xw(D),Yv),H=$N(G=>D.next(k*G).value,k,30);return k+"ms "+H},toTransition:()=>{}};return D}$v.applyToOptions=i=>{const e=Lz(i,100,$v);return i.ease=e.ease,i.duration=Md(e.duration),i.type="keyframes",i};function k_({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:r=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:m}){const y=i[0],x={done:!1,value:y},g=X=>l!==void 0&&X<l||u!==void 0&&X>u,_=X=>l===void 0?u:u===void 0||Math.abs(l-X)<Math.abs(u-X)?l:u;let S=t*e;const M=y+S,b=o===void 0?M:o(M);b!==M&&(S=b-y);const E=X=>-S*Math.exp(-X/n),C=X=>b+E(X),D=X=>{const O=E(X),z=C(X);x.done=Math.abs(O)<=d,x.value=x.done?b:z};let k,H;const G=X=>{g(x.value)&&(k=X,H=$v({keyframes:[x.value,_(x.value)],velocity:KN(C,X,x.value),damping:a,stiffness:r,restDelta:d,restSpeed:m}))};return G(0),{calculatedDuration:null,next:X=>{let O=!1;return!H&&k===void 0&&(O=!0,D(X),G(X)),k!==void 0&&X>=k?H.next(X-k):(!O&&D(X),x)}}}function Bz(i,e,t){const n=[],a=t||Nh.mix||YN,r=i.length-1;for(let o=0;o<r;o++){let l=a(i[o],i[o+1]);if(e){const u=Array.isArray(e)?e[o]||tu:e;l=yy(u,l)}n.push(l)}return n}function jz(i,e,{clamp:t=!0,ease:n,mixer:a}={}){const r=i.length;if(Uw(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=i[0]===i[1];i[0]>i[r-1]&&(i=[...i].reverse(),e=[...e].reverse());const l=Bz(e,n,a),u=l.length,d=m=>{if(o&&m<i[0])return e[0];let y=0;if(u>1)for(;y<i.length-2&&!(m<i[y+1]);y++);const x=H1(i[y],i[y+1],m);return l[y](x)};return t?m=>d(Ch(i[0],i[r-1],m)):d}function Fz(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const a=H1(0,e,n);i.push(wr(t,1,a))}}function Vz(i){const e=[0];return Fz(e,i.length-1),e}function Hz(i,e){return i.map(t=>t*e)}function qz(i,e){return i.map(()=>e||zN).splice(0,i.length-1)}function T1({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const a=tz(n)?n.map(MM):MM(n),r={done:!1,value:e[0]},o=Hz(t&&t.length===e.length?t:Vz(e),i),l=jz(o,e,{ease:Array.isArray(a)?a:qz(e,a)});return{calculatedDuration:i,next:u=>(r.value=l(u),r.done=u>=i,r)}}const Gz=i=>i!==null;function Yw(i,{repeat:e,repeatType:t="loop"},n,a=1){const r=i.filter(Gz),l=a<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!l||n===void 0?r[l]:n}const Wz={decay:k_,inertia:k_,tween:T1,keyframes:T1,spring:$v};function ZN(i){typeof i.type=="string"&&(i.type=Wz[i.type])}class $w{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Xz=i=>i/100;class Kw extends $w{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:t}=this.options;t&&t.updatedAt!==Xl.now()&&this.tick(Xl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ZN(e);const{type:t=T1,repeat:n=0,repeatDelay:a=0,repeatType:r,velocity:o=0}=e;let{keyframes:l}=e;const u=t||T1;u!==T1&&typeof l[0]!="number"&&(this.mixKeyframes=yy(Xz,YN(l[0],l[1])),l=[0,100]);const d=u({...e,keyframes:l});r==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Xw(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:a,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:m,repeat:y,repeatType:x,repeatDelay:g,type:_,onUpdate:S,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let C=this.currentTime,D=n;if(y){const X=Math.min(this.currentTime,a)/l;let O=Math.floor(X),z=X%1;!z&&X>=1&&(z=1),z===1&&O--,O=Math.min(O,y+1),!!(O%2)&&(x==="reverse"?(z=1-z,g&&(z-=g/l)):x==="mirror"&&(D=o)),C=Ch(0,1,z)*l}const k=E?{done:!1,value:m[0]}:D.next(C);r&&(k.value=r(k.value));let{done:H}=k;!E&&u!==null&&(H=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return G&&_!==k_&&(k.value=Yw(m,this.options,M,this.speed)),S&&S(k.value),G&&this.finish(),k}then(e,t){return this.finished.then(e,t)}get duration(){return eu(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+eu(e)}get time(){return eu(this.currentTime)}set time(e){var t;e=Md(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xl.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=eu(this.currentTime))}play(){var a,r;if(this.isStopped)return;const{driver:e=Rz,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(r=(a=this.options).onPlay)==null||r.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function Yz(i){for(let e=1;e<i.length;e++)i[e]??(i[e]=i[e-1])}const Kp=i=>i*180/Math.PI,I_=i=>{const e=Kp(Math.atan2(i[1],i[0]));return U_(e)},$z={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:I_,rotateZ:I_,skewX:i=>Kp(Math.atan(i[1])),skewY:i=>Kp(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},U_=i=>(i=i%360,i<0&&(i+=360),i),LM=I_,DM=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),OM=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),Kz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DM,scaleY:OM,scale:i=>(DM(i)+OM(i))/2,rotateX:i=>U_(Kp(Math.atan2(i[6],i[5]))),rotateY:i=>U_(Kp(Math.atan2(-i[2],i[0]))),rotateZ:LM,rotate:LM,skewX:i=>Kp(Math.atan(i[4])),skewY:i=>Kp(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function z_(i){return i.includes("scale")?1:0}function B_(i,e){if(!i||i==="none")return z_(e);const t=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(t)n=Kz,a=t;else{const l=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=$z,a=l}if(!a)return z_(e);const r=n[e],o=a[1].split(",").map(Jz);return typeof r=="function"?r(o):o[r]}const Zz=(i,e)=>{const{transform:t="none"}=getComputedStyle(i);return B_(t,e)};function Jz(i){return parseFloat(i.trim())}const mg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gg=new Set(mg),PM=i=>i===pg||i===Fn,Qz=new Set(["x","y","z"]),eB=mg.filter(i=>!Qz.has(i));function tB(i){const e=[];return eB.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const tm={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>B_(e,"x"),y:(i,{transform:e})=>B_(e,"y")};tm.translateX=tm.x;tm.translateY=tm.y;const nm=new Set;let j_=!1,F_=!1,V_=!1;function JN(){if(F_){const i=Array.from(nm).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const a=tB(n);a.length&&(t.set(n,a),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=t.get(n);a&&a.forEach(([r,o])=>{var l;(l=n.getValue(r))==null||l.set(o)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}F_=!1,j_=!1,nm.forEach(i=>i.complete(V_)),nm.clear()}function QN(){nm.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(F_=!0)})}function nB(){V_=!0,QN(),JN(),V_=!1}class Zw{constructor(e,t,n,a,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=a,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(nm.add(this),j_||(j_=!0,ur.read(QN),ur.resolveKeyframes(JN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:a}=this;if(e[0]===null){const r=a==null?void 0:a.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(n&&t){const l=n.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&r===void 0&&a.set(e[0])}Yz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),nm.delete(this)}cancel(){this.state==="scheduled"&&(nm.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iB=i=>i.startsWith("--");function aB(i,e,t){iB(e)?i.style.setProperty(e,t):i.style[e]=t}const rB=zw(()=>window.ScrollTimeline!==void 0),sB={};function oB(i,e){const t=zw(i);return()=>sB[e]??t()}const e8=oB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),v1=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,kM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:v1([0,.65,.55,1]),circOut:v1([.55,0,1,.45]),backIn:v1([.31,.01,.66,-.59]),backOut:v1([.33,1.53,.69,.99])};function t8(i,e){if(i)return typeof i=="function"?e8()?$N(i,e):"ease-out":BN(i)?v1(i):Array.isArray(i)?i.map(t=>t8(t,e)||kM.easeOut):kM[i]}function lB(i,e,t,{delay:n=0,duration:a=300,repeat:r=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const m={[e]:t};u&&(m.offset=u);const y=t8(l,a);Array.isArray(y)&&(m.easing=y);const x={delay:n,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return d&&(x.pseudoElement=d),i.animate(m,x)}function n8(i){return typeof i=="function"&&"applyToOptions"in i}function cB({type:i,...e}){return n8(i)&&e8()?i.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uB extends $w{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:a,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e,Uw(typeof e.type!="string");const d=cB(e);this.animation=lB(t,n,a,d,r),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const m=Yw(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):aB(t,n,m),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,n;const e=((n=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:n.call(t).duration)||0;return eu(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+eu(e)}get time(){return eu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Md(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&rB()?(this.animation.timeline=e,tu):t(this)}}const i8={anticipate:kN,backInOut:PN,circInOut:UN};function dB(i){return i in i8}function hB(i){typeof i.ease=="string"&&dB(i.ease)&&(i.ease=i8[i.ease])}const IM=10;class fB extends uB{constructor(e){hB(e),ZN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:a,element:r,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new Kw({...o,autoplay:!1}),u=Md(this.finishedTime??this.time);t.setWithVelocity(l.sample(u-IM).value,l.sample(u).value,IM),l.stop()}}const UM=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Vf.test(i)||i==="0")&&!i.startsWith("url("));function pB(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function mB(i,e,t,n){const a=i[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const r=i[i.length-1],o=UM(a,e),l=UM(r,e);return!o||!l?!1:pB(i)||(t==="spring"||n8(t))&&n}function H_(i){i.duration=0,i.type="keyframes"}const gB=new Set(["opacity","clipPath","filter","transform"]),yB=zw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xB(i){var m;const{motionValue:e,name:t,repeatDelay:n,repeatType:a,damping:r,type:o}=i;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return yB()&&t&&gB.has(t)&&(t!=="transform"||!d)&&!u&&!n&&a!=="mirror"&&r!==0&&o!=="inertia"}const vB=40;class bB extends $w{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:a=0,repeatDelay:r=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:m,...y}){var _;super(),this.stop=()=>{var S,M;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=Xl.now();const x={autoplay:e,delay:t,type:n,repeat:a,repeatDelay:r,repeatType:o,name:u,motionValue:d,element:m,...y},g=(m==null?void 0:m.KeyframeResolver)||Zw;this.keyframeResolver=new g(l,(S,M,b)=>this.onKeyframesResolved(S,M,x,!b),u,d,m),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,t,n,a){this.keyframeResolver=void 0;const{name:r,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:m}=n;this.resolvedAt=Xl.now(),mB(e,r,o,l)||((Nh.instantAnimations||!u)&&(m==null||m(Yw(e,n,t))),e[0]=e[e.length-1],H_(n),n.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>vB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},g=!d&&xB(x)?new fB({...x,element:x.motionValue.owner.current}):new Kw(x);g.finished.then(()=>this.notifyFinished()).catch(tu),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),nB()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const _B=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wB(i){const e=_B.exec(i);if(!e)return[,];const[,t,n,a]=e;return[`--${t??n}`,a]}function a8(i,e,t=1){const[n,a]=wB(i);if(!n)return;const r=window.getComputedStyle(e).getPropertyValue(n);if(r){const o=r.trim();return TN(o)?parseFloat(o):o}return Hw(a)?a8(a,e,t+1):a}function Jw(i,e){return(i==null?void 0:i[e])??(i==null?void 0:i.default)??i}const r8=new Set(["width","height","top","left","right","bottom",...mg]),SB={test:i=>i==="auto",parse:i=>i},s8=i=>e=>e.test(i),o8=[pg,Fn,Td,Tf,pz,fz,SB],zM=i=>o8.find(s8(i));function AB(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||CN(i):!0}const MB=new Set(["brightness","contrast","saturate","opacity"]);function TB(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(qw)||[];if(!n)return i;const a=t.replace(n,"");let r=MB.has(e)?1:0;return n!==t&&(r*=100),e+"("+r+a+")"}const EB=/\b([a-z-]*)\(.*?\)/gu,q_={...Vf,getAnimatableNone:i=>{const e=i.match(EB);return e?e.map(TB).join(" "):i}},BM={...pg,transform:Math.round},CB={rotate:Tf,rotateX:Tf,rotateY:Tf,rotateZ:Tf,scale:Mx,scaleX:Mx,scaleY:Mx,scaleZ:Mx,skew:Tf,skewX:Tf,skewY:Tf,distance:Fn,translateX:Fn,translateY:Fn,translateZ:Fn,x:Fn,y:Fn,z:Fn,perspective:Fn,transformPerspective:Fn,opacity:q1,originX:TM,originY:TM,originZ:Fn},Qw={borderWidth:Fn,borderTopWidth:Fn,borderRightWidth:Fn,borderBottomWidth:Fn,borderLeftWidth:Fn,borderRadius:Fn,radius:Fn,borderTopLeftRadius:Fn,borderTopRightRadius:Fn,borderBottomRightRadius:Fn,borderBottomLeftRadius:Fn,width:Fn,maxWidth:Fn,height:Fn,maxHeight:Fn,top:Fn,right:Fn,bottom:Fn,left:Fn,padding:Fn,paddingTop:Fn,paddingRight:Fn,paddingBottom:Fn,paddingLeft:Fn,margin:Fn,marginTop:Fn,marginRight:Fn,marginBottom:Fn,marginLeft:Fn,backgroundPositionX:Fn,backgroundPositionY:Fn,...CB,zIndex:BM,fillOpacity:q1,strokeOpacity:q1,numOctaves:BM},NB={...Qw,color:ms,backgroundColor:ms,outlineColor:ms,fill:ms,stroke:ms,borderColor:ms,borderTopColor:ms,borderRightColor:ms,borderBottomColor:ms,borderLeftColor:ms,filter:q_,WebkitFilter:q_},l8=i=>NB[i];function c8(i,e){let t=l8(i);return t!==q_&&(t=Vf),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const RB=new Set(["auto","none","0"]);function LB(i,e,t){let n=0,a;for(;n<i.length&&!a;){const r=i[n];typeof r=="string"&&!RB.has(r)&&G1(r).values.length&&(a=i[n]),n++}if(a&&t)for(const r of e)i[r]=c8(t,a)}class DB extends Zw{constructor(e,t,n,a,r){super(e,t,n,a,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),Hw(d))){const m=a8(d,t.current);m!==void 0&&(e[u]=m),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!r8.has(n)||e.length!==2)return;const[a,r]=e,o=zM(a),l=zM(r);if(o!==l)if(PM(o)&&PM(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else tm[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||AB(e[a]))&&n.push(a);n.length&&LB(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tm[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const r=n.length-1,o=n[r];n[r]=tm[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function OB(i,e,t){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let n=document;const a=(t==null?void 0:t[i])??n.querySelectorAll(i);return a?Array.from(a):[]}return Array.from(i)}const u8=(i,e)=>e&&typeof i=="number"?e.transform(i):i;function d8(i){return EN(i)&&"offsetHeight"in i}const jM=30,PB=i=>!isNaN(parseFloat(i)),FM={current:void 0};class kB{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var r;const a=Xl.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Xl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Bw);const n=this.events[e].add(t);return e==="change"?()=>{n(),ur.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return FM.current&&FM.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Xl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jM)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,jM);return NN(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function X0(i,e){return new kB(i,e)}const{schedule:eS}=jN(queueMicrotask,!1),Uu={x:!1,y:!1};function h8(){return Uu.x||Uu.y}function IB(i){return i==="x"||i==="y"?Uu[i]?null:(Uu[i]=!0,()=>{Uu[i]=!1}):Uu.x||Uu.y?null:(Uu.x=Uu.y=!0,()=>{Uu.x=Uu.y=!1})}function f8(i,e){const t=OB(i),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[t,a,()=>n.abort()]}function VM(i){return!(i.pointerType==="touch"||h8())}function UB(i,e,t={}){const[n,a,r]=f8(i,t),o=l=>{if(!VM(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const m=y=>{VM(y)&&(d(y),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),r}const p8=(i,e)=>e?i===e?!0:p8(i,e.parentElement):!1,tS=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,zB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BB(i){return zB.has(i.tagName)||i.tabIndex!==-1}const Lv=new WeakSet;function HM(i){return e=>{e.key==="Enter"&&i(e)}}function t3(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jB=(i,e)=>{const t=i.currentTarget;if(!t)return;const n=HM(()=>{if(Lv.has(t))return;t3(t,"down");const a=HM(()=>{t3(t,"up")}),r=()=>t3(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function qM(i){return tS(i)&&!h8()}function FB(i,e,t={}){const[n,a,r]=f8(i,t),o=l=>{const u=l.currentTarget;if(!qM(l))return;Lv.add(u);const d=e(u,l),m=(g,_)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),Lv.has(u)&&Lv.delete(u),qM(g)&&typeof d=="function"&&d(g,{success:_})},y=g=>{m(g,u===window||u===document||t.useGlobalTarget||p8(u,g.target))},x=g=>{m(g,!1)};window.addEventListener("pointerup",y,a),window.addEventListener("pointercancel",x,a)};return n.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),d8(l)&&(l.addEventListener("focus",d=>jB(d,a)),!BB(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),r}function m8(i){return EN(i)&&"ownerSVGElement"in i}function VB(i){return m8(i)&&i.tagName==="svg"}const Uo=i=>!!(i&&i.getVelocity),HB=[...o8,ms,Vf],qB=i=>HB.find(s8(i)),nS=Te.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function GM(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function GB(...i){return e=>{let t=!1;const n=i.map(a=>{const r=GM(a,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let a=0;a<n.length;a++){const r=n[a];typeof r=="function"?r():GM(i[a],null)}}}}function WB(...i){return Te.useCallback(GB(...i),i)}class XB extends Te.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,a=d8(n)&&n.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YB({children:i,isPresent:e,anchorX:t,root:n}){const a=Te.useId(),r=Te.useRef(null),o=Te.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=Te.useContext(nS),u=WB(r,i==null?void 0:i.ref);return Te.useInsertionEffect(()=>{const{width:d,height:m,top:y,left:x,right:g}=o.current;if(e||!r.current||!d||!m)return;const _=t==="left"?`left: ${x}`:`right: ${g}`;r.current.dataset.motionPopId=a;const S=document.createElement("style");l&&(S.nonce=l);const M=n??document.head;return M.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${y}px !important;
          }
        `),()=>{M.contains(S)&&M.removeChild(S)}},[e]),A.jsx(XB,{isPresent:e,childRef:r,sizeRef:o,children:Te.cloneElement(i,{ref:u})})}const $B=({children:i,initial:e,isPresent:t,onExitComplete:n,custom:a,presenceAffectsLayout:r,mode:o,anchorX:l,root:u})=>{const d=Ow(KB),m=Te.useId();let y=!0,x=Te.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:t,custom:a,onExitComplete:g=>{d.set(g,!0);for(const _ of d.values())if(!_)return;n&&n()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[t,d,n]);return r&&y&&(x={...x}),Te.useMemo(()=>{d.forEach((g,_)=>d.set(_,!1))},[t]),Te.useEffect(()=>{!t&&!d.size&&n&&n()},[t]),o==="popLayout"&&(i=A.jsx(YB,{isPresent:t,anchorX:l,root:u,children:i})),A.jsx(nb.Provider,{value:x,children:i})};function KB(){return new Map}function g8(i=!0){const e=Te.useContext(nb);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:a}=e,r=Te.useId();Te.useEffect(()=>{if(i)return a(r)},[i]);const o=Te.useCallback(()=>i&&n&&n(r),[r,n,i]);return!t&&n?[!1,o]:[!0]}const Tx=i=>i.key||"";function WM(i){const e=[];return Te.Children.forEach(i,t=>{Te.isValidElement(t)&&e.push(t)}),e}const Y0=({children:i,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:r="sync",propagate:o=!1,anchorX:l="left",root:u})=>{const[d,m]=g8(o),y=Te.useMemo(()=>WM(i),[i]),x=o&&!d?[]:y.map(Tx),g=Te.useRef(!0),_=Te.useRef(y),S=Ow(()=>new Map),[M,b]=Te.useState(y),[E,C]=Te.useState(y);MN(()=>{g.current=!1,_.current=y;for(let H=0;H<E.length;H++){const G=Tx(E[H]);x.includes(G)?S.delete(G):S.get(G)!==!0&&S.set(G,!1)}},[E,x.length,x.join("-")]);const D=[];if(y!==M){let H=[...y];for(let G=0;G<E.length;G++){const X=E[G],O=Tx(X);x.includes(O)||(H.splice(G,0,X),D.push(X))}return r==="wait"&&D.length&&(H=D),C(WM(H)),b(y),null}const{forceRender:k}=Te.useContext(Dw);return A.jsx(A.Fragment,{children:E.map(H=>{const G=Tx(H),X=o&&!d?!1:y===E||x.includes(G),O=()=>{if(S.has(G))S.set(G,!0);else return;let z=!0;S.forEach(q=>{q||(z=!1)}),z&&(k==null||k(),C(_.current),o&&(m==null||m()),n&&n())};return A.jsx($B,{isPresent:X,initial:!g.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:r,root:u,onExitComplete:X?void 0:O,anchorX:l,children:H},G)})})},y8=Te.createContext({strict:!1}),XM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$0={};for(const i in XM)$0[i]={isEnabled:e=>XM[i].some(t=>!!e[t])};function ZB(i){for(const e in i)$0[e]={...$0[e],...i[e]}}const JB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kv(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||JB.has(i)}let x8=i=>!Kv(i);function QB(i){typeof i=="function"&&(x8=e=>e.startsWith("on")?!Kv(e):i(e))}try{QB(require("@emotion/is-prop-valid").default)}catch{}function ej(i,e,t){const n={};for(const a in i)a==="values"&&typeof i.values=="object"||(x8(a)||t===!0&&Kv(a)||!e&&!Kv(a)||i.draggable&&a.startsWith("onDrag"))&&(n[a]=i[a]);return n}const ib=Te.createContext({});function ab(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function W1(i){return typeof i=="string"||Array.isArray(i)}const iS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aS=["initial",...iS];function rb(i){return ab(i.animate)||aS.some(e=>W1(i[e]))}function v8(i){return!!(rb(i)||i.variants)}function tj(i,e){if(rb(i)){const{initial:t,animate:n}=i;return{initial:t===!1||W1(t)?t:void 0,animate:W1(n)?n:void 0}}return i.inherit!==!1?e:{}}function nj(i){const{initial:e,animate:t}=tj(i,Te.useContext(ib));return Te.useMemo(()=>({initial:e,animate:t}),[YM(e),YM(t)])}function YM(i){return Array.isArray(i)?i.join(" "):i}const X1={};function ij(i){for(const e in i)X1[e]=i[e],Vw(e)&&(X1[e].isCSSVariable=!0)}function b8(i,{layout:e,layoutId:t}){return gg.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!X1[i]||i==="opacity")}const aj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rj=mg.length;function sj(i,e,t){let n="",a=!0;for(let r=0;r<rj;r++){const o=mg[r],l=i[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||t){const d=u8(l,Qw[o]);if(!u){a=!1;const m=aj[o]||o;n+=`${m}(${d}) `}t&&(e[o]=d)}}return n=n.trim(),t?n=t(e,a?"":n):a&&(n="none"),n}function rS(i,e,t){const{style:n,vars:a,transformOrigin:r}=i;let o=!1,l=!1;for(const u in e){const d=e[u];if(gg.has(u)){o=!0;continue}else if(Vw(u)){a[u]=d;continue}else{const m=u8(d,Qw[u]);u.startsWith("origin")?(l=!0,r[u]=m):n[u]=m}}if(e.transform||(o||t?n.transform=sj(e,i.transform,t):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:m=0}=r;n.transformOrigin=`${u} ${d} ${m}`}}const sS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _8(i,e,t){for(const n in e)!Uo(e[n])&&!b8(n,t)&&(i[n]=e[n])}function oj({transformTemplate:i},e){return Te.useMemo(()=>{const t=sS();return rS(t,e,i),Object.assign({},t.vars,t.style)},[e])}function lj(i,e){const t=i.style||{},n={};return _8(n,t,i),Object.assign(n,oj(i,e)),n}function cj(i,e){const t={},n=lj(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const uj={offset:"stroke-dashoffset",array:"stroke-dasharray"},dj={offset:"strokeDashoffset",array:"strokeDasharray"};function hj(i,e,t=1,n=0,a=!0){i.pathLength=1;const r=a?uj:dj;i[r.offset]=Fn.transform(-n);const o=Fn.transform(e),l=Fn.transform(t);i[r.array]=`${o} ${l}`}function w8(i,{attrX:e,attrY:t,attrScale:n,pathLength:a,pathSpacing:r=1,pathOffset:o=0,...l},u,d,m){if(rS(i,l,d),u){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:y,style:x}=i;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),n!==void 0&&(y.scale=n),a!==void 0&&hj(y,a,r,o,!1)}const S8=()=>({...sS(),attrs:{}}),A8=i=>typeof i=="string"&&i.toLowerCase()==="svg";function fj(i,e,t,n){const a=Te.useMemo(()=>{const r=S8();return w8(r,e,A8(n),i.transformTemplate,i.style),{...r.attrs,style:{...r.style}}},[e]);if(i.style){const r={};_8(r,i.style,i),a.style={...r,...a.style}}return a}const pj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oS(i){return typeof i!="string"||i.includes("-")?!1:!!(pj.indexOf(i)>-1||/[A-Z]/u.test(i))}function mj(i,e,t,{latestValues:n},a,r=!1){const l=(oS(i)?fj:cj)(e,n,a,i),u=ej(e,typeof i=="string",r),d=i!==Te.Fragment?{...u,...l,ref:t}:{},{children:m}=e,y=Te.useMemo(()=>Uo(m)?m.get():m,[m]);return Te.createElement(i,{...d,children:y})}function $M(i){const e=[{},{}];return i==null||i.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function lS(i,e,t,n){if(typeof e=="function"){const[a,r]=$M(n);e=e(t!==void 0?t:i.custom,a,r)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[a,r]=$M(n);e=e(t!==void 0?t:i.custom,a,r)}return e}function Dv(i){return Uo(i)?i.get():i}function gj({scrapeMotionValuesFromProps:i,createRenderState:e},t,n,a){return{latestValues:yj(t,n,a,i),renderState:e()}}function yj(i,e,t,n){const a={},r=n(i,{});for(const x in r)a[x]=Dv(r[x]);let{initial:o,animate:l}=i;const u=rb(i),d=v8(i);e&&d&&!u&&i.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let m=t?t.initial===!1:!1;m=m||o===!1;const y=m?l:o;if(y&&typeof y!="boolean"&&!ab(y)){const x=Array.isArray(y)?y:[y];for(let g=0;g<x.length;g++){const _=lS(i,x[g]);if(_){const{transitionEnd:S,transition:M,...b}=_;for(const E in b){let C=b[E];if(Array.isArray(C)){const D=m?C.length-1:0;C=C[D]}C!==null&&(a[E]=C)}for(const E in S)a[E]=S[E]}}}return a}const M8=i=>(e,t)=>{const n=Te.useContext(ib),a=Te.useContext(nb),r=()=>gj(i,e,n,a);return t?r():Ow(r)};function cS(i,e,t){var r;const{style:n}=i,a={};for(const o in n)(Uo(n[o])||e.style&&Uo(e.style[o])||b8(o,i)||((r=t==null?void 0:t.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const xj=M8({scrapeMotionValuesFromProps:cS,createRenderState:sS});function T8(i,e,t){const n=cS(i,e,t);for(const a in i)if(Uo(i[a])||Uo(e[a])){const r=mg.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[r]=i[a]}return n}const vj=M8({scrapeMotionValuesFromProps:T8,createRenderState:S8}),bj=Symbol.for("motionComponentSymbol");function E0(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function _j(i,e,t){return Te.useCallback(n=>{n&&i.onMount&&i.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):E0(t)&&(t.current=n))},[e])}const uS=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wj="framerAppearId",E8="data-"+uS(wj),C8=Te.createContext({});function Sj(i,e,t,n,a){var S,M;const{visualElement:r}=Te.useContext(ib),o=Te.useContext(y8),l=Te.useContext(nb),u=Te.useContext(nS).reducedMotion,d=Te.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(i,{visualState:e,parent:r,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const m=d.current,y=Te.useContext(C8);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&Aj(d.current,t,a,y);const x=Te.useRef(!1);Te.useInsertionEffect(()=>{m&&x.current&&m.update(t,l)});const g=t[E8],_=Te.useRef(!!g&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,g))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,g)));return MN(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),_.current&&m.animationState&&m.animationState.animateChanges())}),Te.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,g)}),_.current=!1),m.enteringChildren=void 0)}),m}function Aj(i,e,t,n){const{layoutId:a,layout:r,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:m}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:N8(i.parent)),i.projection.setOptions({layoutId:a,layout:r,alwaysMeasureLayout:!!o||l&&E0(l),visualElement:i,animationType:typeof r=="string"?r:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:u,layoutRoot:d})}function N8(i){if(i)return i.options.allowProjection!==!1?i.projection:N8(i.parent)}function n3(i,{forwardMotionProps:e=!1}={},t,n){t&&ZB(t);const a=oS(i)?vj:xj;function r(l,u){let d;const m={...Te.useContext(nS),...l,layoutId:Mj(l)},{isStatic:y}=m,x=nj(l),g=a(l,y);if(!y&&Pw){Tj();const _=Ej(m);d=_.MeasureLayout,x.visualElement=Sj(i,g,m,n,_.ProjectionNode)}return A.jsxs(ib.Provider,{value:x,children:[d&&x.visualElement?A.jsx(d,{visualElement:x.visualElement,...m}):null,mj(i,l,_j(g,x.visualElement,u),g,y,e)]})}r.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=Te.forwardRef(r);return o[bj]=i,o}function Mj({layoutId:i}){const e=Te.useContext(Dw).id;return e&&i!==void 0?e+"-"+i:i}function Tj(i,e){Te.useContext(y8).strict}function Ej(i){const{drag:e,layout:t}=$0;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(i)||t!=null&&t.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Cj(i,e){if(typeof Proxy>"u")return n3;const t=new Map,n=(r,o)=>n3(r,o,i,e),a=(r,o)=>n(r,o);return new Proxy(a,{get:(r,o)=>o==="create"?n:(t.has(o)||t.set(o,n3(o,void 0,i,e)),t.get(o))})}function R8({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function Nj({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function Rj(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function i3(i){return i===void 0||i===1}function G_({scale:i,scaleX:e,scaleY:t}){return!i3(i)||!i3(e)||!i3(t)}function jp(i){return G_(i)||L8(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function L8(i){return KM(i.x)||KM(i.y)}function KM(i){return i&&i!=="0%"}function Zv(i,e,t){const n=i-t,a=e*n;return t+a}function ZM(i,e,t,n,a){return a!==void 0&&(i=Zv(i,a,n)),Zv(i,t,n)+e}function W_(i,e=0,t=1,n,a){i.min=ZM(i.min,e,t,n,a),i.max=ZM(i.max,e,t,n,a)}function D8(i,{x:e,y:t}){W_(i.x,e.translate,e.scale,e.originPoint),W_(i.y,t.translate,t.scale,t.originPoint)}const JM=.999999999999,QM=1.0000000000001;function Lj(i,e,t,n=!1){const a=t.length;if(!a)return;e.x=e.y=1;let r,o;for(let l=0;l<a;l++){r=t[l],o=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&N0(i,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,D8(i,o)),n&&jp(r.latestValues)&&N0(i,r.latestValues))}e.x<QM&&e.x>JM&&(e.x=1),e.y<QM&&e.y>JM&&(e.y=1)}function C0(i,e){i.min=i.min+e,i.max=i.max+e}function eT(i,e,t,n,a=.5){const r=wr(i.min,i.max,a);W_(i,e,t,r,n)}function N0(i,e){eT(i.x,e.x,e.scaleX,e.scale,e.originX),eT(i.y,e.y,e.scaleY,e.scale,e.originY)}function O8(i,e){return R8(Rj(i.getBoundingClientRect(),e))}function Dj(i,e,t){const n=O8(i,t),{scroll:a}=e;return a&&(C0(n.x,a.offset.x),C0(n.y,a.offset.y)),n}const tT=()=>({translate:0,scale:1,origin:0,originPoint:0}),R0=()=>({x:tT(),y:tT()}),nT=()=>({min:0,max:0}),ts=()=>({x:nT(),y:nT()}),X_={current:null},P8={current:!1};function Oj(){if(P8.current=!0,!!Pw)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>X_.current=i.matches;i.addEventListener("change",e),e()}else X_.current=!1}const Pj=new WeakMap;function kj(i,e,t){for(const n in e){const a=e[n],r=t[n];if(Uo(a))i.addValue(n,a);else if(Uo(r))i.addValue(n,X0(a,{owner:i}));else if(r!==a)if(i.hasValue(n)){const o=i.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=i.getStaticValue(n);i.addValue(n,X0(o!==void 0?o:a,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const iT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ij{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:r,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Xl.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ur.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=rb(t),this.isVariantNode=v8(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in y){const g=y[x];u[x]!==void 0&&Uo(g)&&g.set(u[x])}}mount(e){var t;this.current=e,Pj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),P8.current||Oj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:X_.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ff(this.notifyUpdate),Ff(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=gg.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ur.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $0){const t=$0[e];if(!t)continue;const{isEnabled:n,Feature:a}=t;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ts()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<iT.length;n++){const a=iT[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const r="on"+a,o=e[r];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=kj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=X0(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(TN(n)||CN(n))?n=parseFloat(n):!qB(n)&&Vf.test(t)&&(n=c8(e,t)),this.setBaseTarget(e,Uo(n)?n.get():n)),Uo(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var r;const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const o=lS(this.props,t,(r=this.presenceContext)==null?void 0:r.custom);o&&(n=o[e])}if(t&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Uo(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Bw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){eS.render(this.render)}}class k8 extends Ij{constructor(){super(...arguments),this.KeyframeResolver=DB}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Uo(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function I8(i,{style:e,vars:t},n,a){const r=i.style;let o;for(o in e)r[o]=e[o];a==null||a.applyProjectionStyles(r,n);for(o in t)r.setProperty(o,t[o])}function Uj(i){return window.getComputedStyle(i)}class zj extends k8{constructor(){super(...arguments),this.type="html",this.renderInstance=I8}readValueFromInstance(e,t){var n;if(gg.has(t))return(n=this.projection)!=null&&n.isProjecting?z_(t):Zz(e,t);{const a=Uj(e),r=(Vw(t)?a.getPropertyValue(t):a[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return O8(e,t)}build(e,t,n){rS(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return cS(e,t,n)}}const U8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bj(i,e,t,n){I8(i,e,void 0,n);for(const a in e.attrs)i.setAttribute(U8.has(a)?a:uS(a),e.attrs[a])}class jj extends k8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ts}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(gg.has(t)){const n=l8(t);return n&&n.default||0}return t=U8.has(t)?t:uS(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return T8(e,t,n)}build(e,t,n){w8(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,a){Bj(e,t,n,a)}mount(e){this.isSVGTag=A8(e.tagName),super.mount(e)}}const Fj=(i,e)=>oS(i)?new jj(e):new zj(e,{allowProjection:i!==Te.Fragment});function z0(i,e,t){const n=i.getProps();return lS(n,e,t!==void 0?t:n.custom,i)}const Y_=i=>Array.isArray(i);function Vj(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,X0(t))}function Hj(i){return Y_(i)?i[i.length-1]||0:i}function qj(i,e){const t=z0(i,e);let{transitionEnd:n={},transition:a={},...r}=t||{};r={...r,...n};for(const o in r){const l=Hj(r[o]);Vj(i,o,l)}}function Gj(i){return!!(Uo(i)&&i.add)}function $_(i,e){const t=i.getValue("willChange");if(Gj(t))return t.add(e);if(!t&&Nh.WillChange){const n=new Nh.WillChange("auto");i.addValue("willChange",n),n.add(e)}}function z8(i){return i.props[E8]}const Wj=i=>i!==null;function Xj(i,{repeat:e,repeatType:t="loop"},n){const a=i.filter(Wj),r=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[r]}const Yj={type:"spring",stiffness:500,damping:25,restSpeed:10},$j=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),Kj={type:"keyframes",duration:.8},Zj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Jj=(i,{keyframes:e})=>e.length>2?Kj:gg.has(i)?i.startsWith("scale")?$j(e[1]):Yj:Zj;function Qj({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:a,repeat:r,repeatType:o,repeatDelay:l,from:u,elapsed:d,...m}){return!!Object.keys(m).length}const dS=(i,e,t,n={},a,r)=>o=>{const l=Jw(n,i)||{},u=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Md(u);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:x=>{e.set(x),l.onUpdate&&l.onUpdate(x)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:i,motionValue:e,element:r?void 0:a};Qj(l)||Object.assign(m,Jj(i,m)),m.duration&&(m.duration=Md(m.duration)),m.repeatDelay&&(m.repeatDelay=Md(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(H_(m),m.delay===0&&(y=!0)),(Nh.instantAnimations||Nh.skipAnimations)&&(y=!0,H_(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,y&&!r&&e.get()!==void 0){const x=Xj(m.keyframes,l);if(x!==void 0){ur.update(()=>{m.onUpdate(x),m.onComplete()});return}}return l.isSync?new Kw(m):new bB(m)};function eF({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function B8(i,e,{delay:t=0,transitionOverride:n,type:a}={}){let{transition:r=i.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(r=n);const u=[],d=a&&i.animationState&&i.animationState.getState()[a];for(const m in l){const y=i.getValue(m,i.latestValues[m]??null),x=l[m];if(x===void 0||d&&eF(d,m))continue;const g={delay:t,...Jw(r||{},m)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===_&&!g.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const b=z8(i);if(b){const E=window.MotionHandoffAnimation(b,m,ur);E!==null&&(g.startTime=E,S=!0)}}$_(i,m),y.start(dS(m,y,x,i.shouldReduceMotion&&r8.has(m)?{type:!1}:g,i,S));const M=y.animation;M&&u.push(M)}return o&&Promise.all(u).then(()=>{ur.update(()=>{o&&qj(i,o)})}),u}function j8(i,e,t,n=0,a=1){const r=Array.from(i).sort((d,m)=>d.sortNodePosition(m)).indexOf(e),o=i.size,l=(o-1)*n;return typeof t=="function"?t(r,o):a===1?r*n:l-r*n}function K_(i,e,t={}){var u;const n=z0(i,e,t.type==="exit"?(u=i.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(a=t.transitionOverride);const r=n?()=>Promise.all(B8(i,n,t)):()=>Promise.resolve(),o=i.variantChildren&&i.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:x}=a;return tF(i,e,d,m,y,x,t)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,m]=l==="beforeChildren"?[r,o]:[o,r];return d().then(()=>m())}else return Promise.all([r(),o(t.delay)])}function tF(i,e,t=0,n=0,a=0,r=1,o){const l=[];for(const u of i.variantChildren)u.notify("AnimationStart",e),l.push(K_(u,e,{...o,delay:t+(typeof n=="function"?0:n)+j8(i.variantChildren,u,n,a,r)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function nF(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(r=>K_(i,r,t));n=Promise.all(a)}else if(typeof e=="string")n=K_(i,e,t);else{const a=typeof e=="function"?z0(i,e,t.custom):e;n=Promise.all(B8(i,a,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}function F8(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const iF=aS.length;function V8(i){if(!i)return;if(!i.isControllingVariants){const t=i.parent?V8(i.parent)||{}:{};return i.props.initial!==void 0&&(t.initial=i.props.initial),t}const e={};for(let t=0;t<iF;t++){const n=aS[t],a=i.props[n];(W1(a)||a===!1)&&(e[n]=a)}return e}const aF=[...iS].reverse(),rF=iS.length;function sF(i){return e=>Promise.all(e.map(({animation:t,options:n})=>nF(i,t,n)))}function oF(i){let e=sF(i),t=aT(),n=!0;const a=u=>(d,m)=>{var x;const y=z0(i,m,u==="exit"?(x=i.presenceContext)==null?void 0:x.custom:void 0);if(y){const{transition:g,transitionEnd:_,...S}=y;d={...d,...S,..._}}return d};function r(u){e=u(i)}function o(u){const{props:d}=i,m=V8(i.parent)||{},y=[],x=new Set;let g={},_=1/0;for(let M=0;M<rF;M++){const b=aF[M],E=t[b],C=d[b]!==void 0?d[b]:m[b],D=W1(C),k=b===u?E.isActive:null;k===!1&&(_=M);let H=C===m[b]&&C!==d[b]&&D;if(H&&n&&i.manuallyAnimateOnMount&&(H=!1),E.protectedKeys={...g},!E.isActive&&k===null||!C&&!E.prevProp||ab(C)||typeof C=="boolean")continue;const G=lF(E.prevProp,C);let X=G||b===u&&E.isActive&&!H&&D||M>_&&D,O=!1;const z=Array.isArray(C)?C:[C];let q=z.reduce(a(b),{});k===!1&&(q={});const{prevResolvedValues:I={}}=E,$={...I,...q},U=ae=>{X=!0,x.has(ae)&&(O=!0,x.delete(ae)),E.needsAnimating[ae]=!0;const te=i.getValue(ae);te&&(te.liveStyle=!1)};for(const ae in $){const te=q[ae],le=I[ae];if(g.hasOwnProperty(ae))continue;let Me=!1;Y_(te)&&Y_(le)?Me=!F8(te,le):Me=te!==le,Me?te!=null?U(ae):x.add(ae):te!==void 0&&x.has(ae)?U(ae):E.protectedKeys[ae]=!0}E.prevProp=C,E.prevResolvedValues=q,E.isActive&&(g={...g,...q}),n&&i.blockInitialAnimation&&(X=!1);const oe=H&&G;X&&(!oe||O)&&y.push(...z.map(ae=>{const te={type:b};if(typeof ae=="string"&&n&&!oe&&i.manuallyAnimateOnMount&&i.parent){const{parent:le}=i,Me=z0(le,ae);if(le.enteringChildren&&Me){const{delayChildren:Z}=Me.transition||{};te.delay=j8(le.enteringChildren,i,Z)}}return{animation:ae,options:te}}))}if(x.size){const M={};if(typeof d.initial!="boolean"){const b=z0(i,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(M.transition=b.transition)}x.forEach(b=>{const E=i.getBaseTarget(b),C=i.getValue(b);C&&(C.liveStyle=!0),M[b]=E??null}),y.push({animation:M})}let S=!!y.length;return n&&(d.initial===!1||d.initial===d.animate)&&!i.manuallyAnimateOnMount&&(S=!1),n=!1,S?e(y):Promise.resolve()}function l(u,d){var y;if(t[u].isActive===d)return Promise.resolve();(y=i.variantChildren)==null||y.forEach(x=>{var g;return(g=x.animationState)==null?void 0:g.setActive(u,d)}),t[u].isActive=d;const m=o(u);for(const x in t)t[x].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:r,getState:()=>t,reset:()=>{t=aT()}}}function lF(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!F8(e,i):!1}function Ap(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aT(){return{animate:Ap(!0),whileInView:Ap(),whileHover:Ap(),whileTap:Ap(),whileDrag:Ap(),whileFocus:Ap(),exit:Ap()}}class Xf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cF extends Xf{constructor(e){super(e),e.animationState||(e.animationState=oF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ab(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let uF=0;class dF extends Xf{constructor(){super(...arguments),this.id=uF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hF={animation:{Feature:cF},exit:{Feature:dF}};function Y1(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}function by(i){return{point:{x:i.pageX,y:i.pageY}}}const fF=i=>e=>tS(e)&&i(e,by(e));function E1(i,e,t,n){return Y1(i,e,fF(t),n)}const H8=1e-4,pF=1-H8,mF=1+H8,q8=.01,gF=0-q8,yF=0+q8;function fl(i){return i.max-i.min}function xF(i,e,t){return Math.abs(i-e)<=t}function rT(i,e,t,n=.5){i.origin=n,i.originPoint=wr(e.min,e.max,i.origin),i.scale=fl(t)/fl(e),i.translate=wr(t.min,t.max,i.origin)-i.originPoint,(i.scale>=pF&&i.scale<=mF||isNaN(i.scale))&&(i.scale=1),(i.translate>=gF&&i.translate<=yF||isNaN(i.translate))&&(i.translate=0)}function C1(i,e,t,n){rT(i.x,e.x,t.x,n?n.originX:void 0),rT(i.y,e.y,t.y,n?n.originY:void 0)}function sT(i,e,t){i.min=t.min+e.min,i.max=i.min+fl(e)}function vF(i,e,t){sT(i.x,e.x,t.x),sT(i.y,e.y,t.y)}function oT(i,e,t){i.min=e.min-t.min,i.max=i.min+fl(e)}function N1(i,e,t){oT(i.x,e.x,t.x),oT(i.y,e.y,t.y)}function Qc(i){return[i("x"),i("y")]}const G8=({current:i})=>i?i.ownerDocument.defaultView:null,lT=(i,e)=>Math.abs(i-e);function bF(i,e){const t=lT(i.x,e.x),n=lT(i.y,e.y);return Math.sqrt(t**2+n**2)}class W8{constructor(e,t,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=r3(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,_=bF(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!_)return;const{point:S}=x,{timestamp:M}=so;this.history.push({...S,timestamp:M});const{onStart:b,onMove:E}=this.handlers;g||(b&&b(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,x)},this.handlePointerMove=(x,g)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=a3(g,this.transformPagePoint),ur.update(this.updatePoint,!0)},this.handlePointerUp=(x,g)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=r3(x.type==="pointercancel"?this.lastMoveEventInfo:a3(g,this.transformPagePoint),this.history);this.startEvent&&_&&_(x,b),S&&S(x,b)},!tS(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=by(e),u=a3(l,this.transformPagePoint),{point:d}=u,{timestamp:m}=so;this.history=[{...d,timestamp:m}];const{onSessionStart:y}=t;y&&y(e,r3(u,this.history)),this.removeListeners=yy(E1(this.contextWindow,"pointermove",this.handlePointerMove),E1(this.contextWindow,"pointerup",this.handlePointerUp),E1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ff(this.updatePoint)}}function a3(i,e){return e?{point:e(i.point)}:i}function cT(i,e){return{x:i.x-e.x,y:i.y-e.y}}function r3({point:i},e){return{point:i,delta:cT(i,X8(e)),offset:cT(i,_F(e)),velocity:wF(e,.1)}}function _F(i){return i[0]}function X8(i){return i[i.length-1]}function wF(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const a=X8(i);for(;t>=0&&(n=i[t],!(a.timestamp-n.timestamp>Md(e)));)t--;if(!n)return{x:0,y:0};const r=eu(a.timestamp-n.timestamp);if(r===0)return{x:0,y:0};const o={x:(a.x-n.x)/r,y:(a.y-n.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function SF(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?wr(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?wr(t,i,n.max):Math.min(i,t)),i}function uT(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function AF(i,{top:e,left:t,bottom:n,right:a}){return{x:uT(i.x,t,a),y:uT(i.y,e,n)}}function dT(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function MF(i,e){return{x:dT(i.x,e.x),y:dT(i.y,e.y)}}function TF(i,e){let t=.5;const n=fl(i),a=fl(e);return a>n?t=H1(e.min,e.max-n,i.min):n>a&&(t=H1(i.min,i.max-a,e.min)),Ch(0,1,t)}function EF(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const Z_=.35;function CF(i=Z_){return i===!1?i=0:i===!0&&(i=Z_),{x:hT(i,"left","right"),y:hT(i,"top","bottom")}}function hT(i,e,t){return{min:fT(i,e),max:fT(i,t)}}function fT(i,e){return typeof i=="number"?i:i[e]||0}const NF=new WeakMap;class RF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ts(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(by(y).point)},o=(y,x)=>{const{drag:g,dragPropagation:_,onDragStart:S}=this.getProps();if(g&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IB(g),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qc(b=>{let E=this.getAxisMotionValue(b).get()||0;if(Td.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const D=C.layout.layoutBox[b];D&&(E=fl(D)*(parseFloat(E)/100))}}this.originPoint[b]=E}),S&&ur.postRender(()=>S(y,x)),$_(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},l=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x;const{dragPropagation:g,dragDirectionLock:_,onDirectionLock:S,onDrag:M}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:b}=x;if(_&&this.currentDirection===null){this.currentDirection=LF(b),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",x.point,b),this.updateAxis("y",x.point,b),this.visualElement.render(),M&&M(y,x)},u=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x,this.stop(y,x),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Qc(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)==null?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new W8(e,{onSessionStart:r,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:G8(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,a=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ur.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:a}=this.getProps();if(!n||!Ex(e,a,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=SF(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,a=this.constraints;e&&E0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=AF(n.layoutBox,e):this.constraints=!1,this.elastic=CF(t),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Qc(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=EF(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!E0(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const r=Dj(n,a.root,this.visualElement.getTransformPagePoint());let o=MF(a.layout.layoutBox,r);if(t){const l=t(Nj(o));this.hasMutatedConstraints=!!l,l&&(o=R8(l))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:a,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Qc(m=>{if(!Ex(m,t,this.currentDirection))return;let y=u&&u[m]||{};o&&(y={min:0,max:0});const x=a?200:1e6,g=a?40:1e7,_={type:"inertia",velocity:n?e[m]:0,bounceStiffness:x,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...y};return this.startAxisValueAnimation(m,_)});return Promise.all(d).then(l)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return $_(this.visualElement,e),n.start(dS(e,n,0,t,this.visualElement,!1))}stopAnimation(){Qc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qc(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[t];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Qc(t=>{const{drag:n}=this.getProps();if(!Ex(t,n,this.currentDirection))return;const{projection:a}=this.visualElement,r=this.getAxisMotionValue(t);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[t];r.set(e[t]-wr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!E0(t)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qc(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();a[o]=TF({min:u,max:u},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Qc(o=>{if(!Ex(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(wr(u,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;NF.set(this.visualElement,this);const e=this.visualElement.current,t=E1(e,"pointerdown",u=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();E0(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,r=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ur.read(n);const o=Y1(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Qc(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=u[m].translate,y.set(y.get()+u[m].translate))}),this.visualElement.render())}));return()=>{o(),t(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:r=!1,dragElastic:o=Z_,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:a,dragConstraints:r,dragElastic:o,dragMomentum:l}}}function Ex(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function LF(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class DF extends Xf{constructor(e){super(e),this.removeGroupControls=tu,this.removeListeners=tu,this.controls=new RF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tu}unmount(){this.removeGroupControls(),this.removeListeners()}}const pT=i=>(e,t)=>{i&&ur.postRender(()=>i(e,t))};class OF extends Xf{constructor(){super(...arguments),this.removePointerDownListener=tu}onPointerDown(e){this.session=new W8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:G8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:pT(e),onStart:pT(t),onMove:n,onEnd:(r,o)=>{delete this.session,a&&ur.postRender(()=>a(r,o))}}}mount(){this.removePointerDownListener=E1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ov={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mT(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const n1={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(Fn.test(i))i=parseFloat(i);else return i;const t=mT(i,e.target.x),n=mT(i,e.target.y);return`${t}% ${n}%`}},PF={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,a=Vf.parse(i);if(a.length>5)return n;const r=Vf.createTransformer(i),o=typeof a[0]!="number"?1:0,l=t.x.scale*e.x,u=t.y.scale*e.y;a[0+o]/=l,a[1+o]/=u;const d=wr(l,u,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),r(a)}};let s3=!1;class kF extends Te.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:a}=this.props,{projection:r}=e;ij(IF),r&&(t.group&&t.group.add(r),n&&n.register&&a&&n.register(r),s3&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Ov.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:a,isPresent:r}=this.props,{projection:o}=n;return o&&(o.isPresent=r,s3=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||ur.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:a}=e;s3=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y8(i){const[e,t]=g8(),n=Te.useContext(Dw);return A.jsx(kF,{...i,layoutGroup:n,switchLayoutGroup:Te.useContext(C8),isPresent:e,safeToRemove:t})}const IF={borderRadius:{...n1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:n1,borderTopRightRadius:n1,borderBottomLeftRadius:n1,borderBottomRightRadius:n1,boxShadow:PF};function UF(i,e,t){const n=Uo(i)?i:X0(i);return n.start(dS("",n,e,t)),n.animation}const zF=(i,e)=>i.depth-e.depth;class BF{constructor(){this.children=[],this.isDirty=!1}add(e){kw(this.children,e),this.isDirty=!0}remove(e){Iw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zF),this.isDirty=!1,this.children.forEach(e)}}function jF(i,e){const t=Xl.now(),n=({timestamp:a})=>{const r=a-t;r>=e&&(Ff(n),i(r-e))};return ur.setup(n,!0),()=>Ff(n)}const $8=["TopLeft","TopRight","BottomLeft","BottomRight"],FF=$8.length,gT=i=>typeof i=="string"?parseFloat(i):i,yT=i=>typeof i=="number"||Fn.test(i);function VF(i,e,t,n,a,r){a?(i.opacity=wr(0,t.opacity??1,HF(n)),i.opacityExit=wr(e.opacity??1,0,qF(n))):r&&(i.opacity=wr(e.opacity??1,t.opacity??1,n));for(let o=0;o<FF;o++){const l=`border${$8[o]}Radius`;let u=xT(e,l),d=xT(t,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||yT(u)===yT(d)?(i[l]=Math.max(wr(gT(u),gT(d),n),0),(Td.test(d)||Td.test(u))&&(i[l]+="%")):i[l]=d}(e.rotate||t.rotate)&&(i.rotate=wr(e.rotate||0,t.rotate||0,n))}function xT(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const HF=K8(0,.5,IN),qF=K8(.5,.95,tu);function K8(i,e,t){return n=>n<i?0:n>e?1:t(H1(i,e,n))}function vT(i,e){i.min=e.min,i.max=e.max}function Kc(i,e){vT(i.x,e.x),vT(i.y,e.y)}function bT(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function _T(i,e,t,n,a){return i-=e,i=Zv(i,1/t,n),a!==void 0&&(i=Zv(i,1/a,n)),i}function GF(i,e=0,t=1,n=.5,a,r=i,o=i){if(Td.test(e)&&(e=parseFloat(e),e=wr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=wr(r.min,r.max,n);i===r&&(l-=e),i.min=_T(i.min,e,t,l,a),i.max=_T(i.max,e,t,l,a)}function wT(i,e,[t,n,a],r,o){GF(i,e[t],e[n],e[a],e.scale,r,o)}const WF=["x","scaleX","originX"],XF=["y","scaleY","originY"];function ST(i,e,t,n){wT(i.x,e,WF,t?t.x:void 0,n?n.x:void 0),wT(i.y,e,XF,t?t.y:void 0,n?n.y:void 0)}function AT(i){return i.translate===0&&i.scale===1}function Z8(i){return AT(i.x)&&AT(i.y)}function MT(i,e){return i.min===e.min&&i.max===e.max}function YF(i,e){return MT(i.x,e.x)&&MT(i.y,e.y)}function TT(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function J8(i,e){return TT(i.x,e.x)&&TT(i.y,e.y)}function ET(i){return fl(i.x)/fl(i.y)}function CT(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class $F{constructor(){this.members=[]}add(e){kw(this.members,e),e.scheduleRender()}remove(e){if(Iw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let n;for(let a=t;a>=0;a--){const r=this.members[a];if(r.isPresent!==!1){n=r;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KF(i,e,t){let n="";const a=i.x.translate/e.x,r=i.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((a||r||o)&&(n=`translate3d(${a}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:m,rotateX:y,rotateY:x,skewX:g,skewY:_}=t;d&&(n=`perspective(${d}px) ${n}`),m&&(n+=`rotate(${m}deg) `),y&&(n+=`rotateX(${y}deg) `),x&&(n+=`rotateY(${x}deg) `),g&&(n+=`skewX(${g}deg) `),_&&(n+=`skewY(${_}deg) `)}const l=i.x.scale*e.x,u=i.y.scale*e.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const o3=["","X","Y","Z"],ZF=1e3;let JF=0;function l3(i,e,t,n){const{latestValues:a}=e;a[i]&&(t[i]=a[i],e.setStaticValue(i,0),n&&(n[i]=0))}function Q8(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=z8(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:r}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",ur,!(a||r))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&Q8(n)}function eR({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=JF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tV),this.nodes.forEach(rV),this.nodes.forEach(sV),this.nodes.forEach(nV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new BF)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Bw),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=m8(o)&&!VB(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),i){let m,y=0;const x=()=>this.root.updateBlockedByResize=!1;ur.read(()=>{y=window.innerWidth}),i(o,()=>{const g=window.innerWidth;g!==y&&(y=g,this.root.updateBlockedByResize=!0,m&&m(),m=jF(x,250),Ov.hasAnimatedSinceResize&&(Ov.hasAnimatedSinceResize=!1,this.nodes.forEach(LT)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||dV,{onLayoutAnimationStart:S,onLayoutAnimationComplete:M}=d.getProps(),b=!this.targetLayout||!J8(this.targetLayout,g),E=!y&&x;if(this.options.layoutRoot||this.resumeFrom||E||y&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Jw(_,"layout"),onPlay:S,onComplete:M};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(m,E)}else y||LT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ff(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(RT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(aV),this.nodes.forEach(QF),this.nodes.forEach(eV)):this.nodes.forEach(RT),this.clearAllSnapshots();const l=Xl.now();so.delta=Ch(0,1e3/60,l-so.timestamp),so.timestamp=l,so.isProcessing=!0,K5.update.process(so),K5.preRender.process(so),K5.render.process(so),so.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iV),this.sharedNodes.forEach(lV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fl(this.snapshot.measuredBox.x)&&!fl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ts(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Z8(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||jp(this.latestValues)||m)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),hV(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return ts();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(fV))){const{scroll:m}=this.root;m&&(C0(l.x,m.offset.x),C0(l.y,m.offset.y))}return l}removeElementScroll(o){var u;const l=ts();if(Kc(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:x}=m;m!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&Kc(l,o),C0(l.x,y.offset.x),C0(l.y,y.offset.y))}return l}applyTransform(o,l=!1){const u=ts();Kc(u,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&N0(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),jp(m.latestValues)&&N0(u,m.latestValues)}return jp(this.latestValues)&&N0(u,this.latestValues),u}removeTransform(o){const l=ts();Kc(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!jp(d.latestValues))continue;G_(d.latestValues)&&d.updateSnapshot();const m=ts(),y=d.measurePageBox();Kc(m,y),ST(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return jp(this.latestValues)&&ST(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==so.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=so.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ts(),this.relativeTargetOrigin=ts(),N1(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Kc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ts(),this.targetWithTransforms=ts()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kc(this.target,this.layout.layoutBox),D8(this.target,this.targetDelta)):Kc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ts(),this.relativeTargetOrigin=ts(),N1(this.relativeTargetOrigin,this.target,g.target),Kc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||G_(this.parent.latestValues)||L8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===so.timestamp&&(u=!1),u)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Kc(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;Lj(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ts());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bT(this.prevProjectionDelta.x,this.projectionDelta.x),bT(this.prevProjectionDelta.y,this.projectionDelta.y)),C1(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!CT(this.projectionDelta.x,this.prevProjectionDelta.x)||!CT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=R0(),this.projectionDelta=R0(),this.projectionDeltaWithTransform=R0()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},m={...this.latestValues},y=R0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=ts(),g=u?u.source:void 0,_=this.layout?this.layout.source:void 0,S=g!==_,M=this.getStack(),b=!M||M.members.length<=1,E=!!(S&&!b&&this.options.crossfade===!0&&!this.path.some(uV));this.animationProgress=0;let C;this.mixTargetDelta=D=>{const k=D/1e3;DT(y.x,o.x,k),DT(y.y,o.y,k),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(N1(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cV(this.relativeTarget,this.relativeTargetOrigin,x,k),C&&YF(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=ts()),Kc(C,this.relativeTarget)),S&&(this.animationValues=m,VF(m,d,this.latestValues,k,E,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ff(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ur.update(()=>{Ov.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=X0(0)),this.currentAnimation=UF(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:m}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&tR(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||ts();const y=fl(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+y;const x=fl(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+x}Kc(l,u),N0(l,m),C1(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $F),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&l3("z",o,d,this.animationValues);for(let m=0;m<o3.length;m++)l3(`rotate${o3[m]}`,o,d,this.animationValues),l3(`skew${o3[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Dv(l==null?void 0:l.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Dv(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!jp(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let y=KF(this.projectionDeltaWithTransform,this.treeScale,m);u&&(y=u(m,y)),o.transform=y;const{x,y:g}=this.projectionDelta;o.transformOrigin=`${x.origin*100}% ${g.origin*100}% 0`,d.animationValues?o.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in X1){if(m[_]===void 0)continue;const{correct:S,applyTo:M,isCSSVariable:b}=X1[_],E=y==="none"?m[_]:S(m[_],d);if(M){const C=M.length;for(let D=0;D<C;D++)o[M[D]]=E}else b?this.options.visualElement.renderState.vars[_]=E:o[_]=E}this.options.layoutId&&(o.pointerEvents=d===this?Dv(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(NT),this.root.sharedNodes.clear()}}}function QF(i){i.updateLayout()}function eV(i){var t;const e=((t=i.resumeFrom)==null?void 0:t.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=i.layout,{animationType:r}=i.options,o=e.source!==i.layout.source;r==="size"?Qc(y=>{const x=o?e.measuredBox[y]:e.layoutBox[y],g=fl(x);x.min=n[y].min,x.max=x.min+g}):tR(r,e.layoutBox,n)&&Qc(y=>{const x=o?e.measuredBox[y]:e.layoutBox[y],g=fl(n[y]);x.max=x.min+g,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[y].max=i.relativeTarget[y].min+g)});const l=R0();C1(l,n,e.layoutBox);const u=R0();o?C1(u,i.applyTransform(a,!0),e.measuredBox):C1(u,n,e.layoutBox);const d=!Z8(l);let m=!1;if(!i.resumeFrom){const y=i.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:g}=y;if(x&&g){const _=ts();N1(_,e.layoutBox,x.layoutBox);const S=ts();N1(S,n,g.layoutBox),J8(_,S)||(m=!0),y.options.layoutRoot&&(i.relativeTarget=S,i.relativeTargetOrigin=_,i.relativeParent=y)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function tV(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function nV(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function iV(i){i.clearSnapshot()}function NT(i){i.clearMeasurements()}function RT(i){i.isLayoutDirty=!1}function aV(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function LT(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function rV(i){i.resolveTargetDelta()}function sV(i){i.calcProjection()}function oV(i){i.resetSkewAndRotation()}function lV(i){i.removeLeadSnapshot()}function DT(i,e,t){i.translate=wr(e.translate,0,t),i.scale=wr(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function OT(i,e,t,n){i.min=wr(e.min,t.min,n),i.max=wr(e.max,t.max,n)}function cV(i,e,t,n){OT(i.x,e.x,t.x,n),OT(i.y,e.y,t.y,n)}function uV(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const dV={duration:.45,ease:[.4,0,.1,1]},PT=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),kT=PT("applewebkit/")&&!PT("chrome/")?Math.round:tu;function IT(i){i.min=kT(i.min),i.max=kT(i.max)}function hV(i){IT(i.x),IT(i.y)}function tR(i,e,t){return i==="position"||i==="preserve-aspect"&&!xF(ET(e),ET(t),.2)}function fV(i){var e;return i!==i.root&&((e=i.scroll)==null?void 0:e.wasRoot)}const pV=eR({attachResizeListener:(i,e)=>Y1(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),c3={current:void 0},nR=eR({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!c3.current){const i=new pV({});i.mount(window),i.setOptions({layoutScroll:!0}),c3.current=i}return c3.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),mV={pan:{Feature:OF},drag:{Feature:DF,ProjectionNode:nR,MeasureLayout:Y8}};function UT(i,e,t){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,r=n[a];r&&ur.postRender(()=>r(e,by(e)))}class gV extends Xf{mount(){const{current:e}=this.node;e&&(this.unmount=UB(e,(t,n)=>(UT(this.node,n,"Start"),a=>UT(this.node,a,"End"))))}unmount(){}}class yV extends Xf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yy(Y1(this.node.current,"focus",()=>this.onFocus()),Y1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zT(i,e,t){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),r=n[a];r&&ur.postRender(()=>r(e,by(e)))}class xV extends Xf{mount(){const{current:e}=this.node;e&&(this.unmount=FB(e,(t,n)=>(zT(this.node,n,"Start"),(a,{success:r})=>zT(this.node,a,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const J_=new WeakMap,u3=new WeakMap,vV=i=>{const e=J_.get(i.target);e&&e(i)},bV=i=>{i.forEach(vV)};function _V({root:i,...e}){const t=i||document;u3.has(t)||u3.set(t,{});const n=u3.get(t),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(bV,{root:i,...e})),n[a]}function wV(i,e,t){const n=_V(e);return J_.set(i,t),n.observe(i),()=>{J_.delete(i),n.unobserve(i)}}const SV={some:0,all:1};class AV extends Xf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:a="some",once:r}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:SV[a]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),x=d?m:y;x&&x(u)};return wV(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(MV(e,t))&&this.startObserver()}unmount(){}}function MV({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const TV={inView:{Feature:AV},tap:{Feature:xV},focus:{Feature:yV},hover:{Feature:gV}},EV={layout:{ProjectionNode:nR,MeasureLayout:Y8}},CV={...hF,...TV,...mV,...EV},_n=Cj(CV,Fj);class NV{constructor(){this.cache=new Map}async fetchData(e){if(this.cache.has(e))return this.cache.get(e);try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}`);const n=await t.json();return this.cache.set(e,n),n}catch(t){return console.error(`Error loading data from ${e}:`,t),[]}}async getReports(e,t){let n="";if(e==="supply-chain")n="supply_chain_reports";else if(e==="operations")n="operations_reports";else if(e==="business")n="business_reports";else if(e==="support")n="support_reports";else return[];const a=`/data/reports/${n}/${t}/${t}_reports.json`;return this.fetchData(a)}async getTables(e,t){let n="";if(e==="supply-chain")n="supply_chain_reports";else if(e==="operations")n="operations_reports";else if(e==="business")n="business_reports";else if(e==="support")n="support_reports";else return[];const a=`/data/reports/${n}/${t}/${t}_tables.json`;return this.fetchData(a)}async getTemplates(e){const t=`/data/templates/${e}_tables.json`;return this.fetchData(t)}}const Q_=new NV,RV=i=>{const e=i.toLowerCase();return e.includes("bar")?"/assets/charts/chart_bar.png":e.includes("pie")||e.includes("donut")?"/assets/charts/chart_pie.png":e.includes("line")||e.includes("area")?"/assets/charts/chart_line.png":e.includes("table")?"/assets/charts/chart_table.png":e.includes("kpi")?"/assets/charts/chart_kpi.png":"/assets/charts/chart_bar.png"},BT=({report:i,onAdd:e})=>A.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 hover:border-blue-500 hover:shadow-lg transition-all cursor-pointer group flex flex-col h-full overflow-hidden",onClick:()=>e==null?void 0:e(i),children:[A.jsxs("div",{className:"h-32 bg-gray-50 relative overflow-hidden",children:[A.jsx("img",{src:RV(i["Chart Type (ECharts)"]),alt:i["Chart Type (ECharts)"],className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),A.jsx("div",{className:"absolute top-2 right-2",children:A.jsx("span",{className:"text-[10px] font-semibold text-gray-600 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full shadow-sm border border-gray-100",children:i["Module (Category 2)"]})})]}),A.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[A.jsx("div",{className:"flex items-start justify-between mb-2",children:A.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:i["Report Title"]})}),i.benefit&&A.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mt-auto leading-relaxed",children:i.benefit})]})]}),LV=({isOpen:i,onClose:e,onAddReport:t,activePage:n=""})=>{const[a,r]=Te.useState({category:[],module:[],chartType:[]}),[o,l]=Te.useState(""),[u,d]=Te.useState("categories"),[m,y]=Te.useState([]),[x,g]=Te.useState(!1);Te.useEffect(()=>{i&&(async()=>{g(!0);try{let E="supply-chain",C="procurement";if(n){const k=n.split("/").filter(H=>H&&H!=="analytics");k.length>=2&&(E=k[0],C=k[1])}const D=await Q_.getReports(E,C);y(D)}catch(E){console.error("Failed to load reports for modal:",E)}finally{g(!1)}})()},[i,n]);const _=Te.useMemo(()=>{const b=new Set,E=new Set,C=new Set;return m.forEach(D=>{D["Category 1 (Detailed)"]&&b.add(D["Category 1 (Detailed)"]),D["Module (Category 2)"]&&E.add(D["Module (Category 2)"]),D["Chart Type (ECharts)"]&&C.add(D["Chart Type (ECharts)"])}),{categories:Array.from(b).sort(),modules:Array.from(E).sort(),chartTypes:Array.from(C).sort()}},[m]),S=(b,E)=>{r(C=>{const D=C[b],k=D.includes(E)?D.filter(H=>H!==E):[...D,E];return{...C,[b]:k}})},M=Te.useMemo(()=>m.filter(b=>{const E=a.category.length===0||a.category.includes(b["Category 1 (Detailed)"]),C=a.module.length===0||a.module.includes(b["Module (Category 2)"]),D=a.chartType.length===0||a.chartType.includes(b["Chart Type (ECharts)"]),k=b["Report Title"].toLowerCase().includes(o.toLowerCase())||b["Module (Category 2)"].toLowerCase().includes(o.toLowerCase());return E&&C&&D&&k}),[a,o,m]);return i?A.jsx(Y0,{children:i&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:A.jsxs(_n.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-7xl h-[85vh] flex flex-col overflow-hidden border border-white/50 ring-1 ring-black/5",children:[A.jsxs("div",{className:"flex items-center justify-between px-8 py-6 border-b border-gray-200/50 bg-white/50 backdrop-blur-md",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Add Report"}),A.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select a report to add to your dashboard"})]}),A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx(sm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),A.jsx("input",{type:"text",placeholder:"Search reports...",value:o,onChange:b=>l(b.target.value),className:"pl-10 pr-4 py-2.5 bg-gray-100/50 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:bg-white transition-all w-64"})]}),A.jsx("button",{onClick:e,className:"p-2.5 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:A.jsx(Ph,{size:24})})]})]}),A.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[A.jsx("div",{className:"w-80 border-r border-gray-200/50 bg-gray-50/50 flex-shrink-0 flex flex-col backdrop-blur-sm",children:A.jsxs("div",{className:"p-6 space-y-8 overflow-y-auto custom-scrollbar h-full",children:[A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 flex items-center justify-between",children:["Categories",a.category.length>0&&A.jsx("button",{onClick:()=>r(b=>({...b,category:[]})),className:"text-[10px] text-blue-600 hover:underline capitalize",children:"Clear"})]}),A.jsx("div",{className:"space-y-1.5",children:_.categories.map(b=>A.jsxs("button",{onClick:()=>S("category",b),className:`w-full text-left px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 flex items-center justify-between group ${a.category.includes(b)?"bg-white text-blue-600 shadow-sm ring-1 ring-black/5":"text-gray-600 hover:bg-white/60 hover:text-gray-900"}`,children:[A.jsx("span",{className:"truncate",children:b}),a.category.includes(b)&&A.jsx(_n.div,{layoutId:"activeFilter",className:"w-1.5 h-1.5 rounded-full bg-blue-500"})]},b))})]}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 flex items-center justify-between",children:["Modules",a.module.length>0&&A.jsx("button",{onClick:()=>r(b=>({...b,module:[]})),className:"text-[10px] text-blue-600 hover:underline capitalize",children:"Clear"})]}),A.jsx("div",{className:"space-y-1.5",children:_.modules.map(b=>A.jsxs("button",{onClick:()=>S("module",b),className:`w-full text-left px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 flex items-center justify-between group ${a.module.includes(b)?"bg-white text-blue-600 shadow-sm ring-1 ring-black/5":"text-gray-600 hover:bg-white/60 hover:text-gray-900"}`,children:[A.jsx("span",{className:"truncate",children:b}),a.module.includes(b)&&A.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})]},b))})]})]})}),A.jsxs("div",{className:"flex-1 bg-white/30 p-8 overflow-y-auto custom-scrollbar",children:[A.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[A.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[M.length," Reports Found"]}),A.jsx("div",{className:"flex items-center space-x-4",children:A.jsxs("div",{className:"flex bg-gray-100/50 p-1 rounded-lg",children:[A.jsx("button",{onClick:()=>d("categories"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${u==="categories"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"By Category"}),A.jsx("button",{onClick:()=>d("modules"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${u==="modules"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"By Module"}),A.jsx("button",{onClick:()=>d("types"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${u==="types"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"All Reports"})]})})]}),x?A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u==="types"?A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map((b,E)=>A.jsx(_n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},children:A.jsx(BT,{report:b,onAdd:()=>t==null?void 0:t(b)})},b.id))}):A.jsx("div",{className:"space-y-8",children:Object.entries(M.reduce((b,E)=>{const C=u==="categories"?E["Category 1 (Detailed)"]:E["Module (Category 2)"];return b[C]||(b[C]=[]),b[C].push(E),b},{})).sort((b,E)=>b[0].localeCompare(E[0])).map(([b,E])=>A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-4 flex items-center",children:[b,A.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-400 rounded-full text-[10px]",children:E.length})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(C=>A.jsx(BT,{report:C,onAdd:()=>t==null?void 0:t(C)},C.id))})]},b))}),!x&&M.length===0&&A.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[A.jsx(sm,{size:48,className:"mb-4 opacity-20"}),A.jsx("p",{className:"text-lg font-medium",children:"No reports found"}),A.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query"})]})]})]})]})})}):null},DV=({isOpen:i,onClose:e,onSelectTemplate:t,templates:n})=>i?A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl overflow-hidden flex flex-col max-h-[80vh] animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-white",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-600",children:A.jsx(Gp,{size:20})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Add Table from Template"}),A.jsx("p",{className:"text-xs text-gray-500",children:"Select a pre-configured table to get started instantly."})]})]}),A.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:A.jsx(Ph,{size:20})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(a=>A.jsxs("div",{onClick:()=>{t(a),e()},className:"group relative bg-white border border-gray-200 rounded-xl overflow-hidden hover:border-blue-500 hover:shadow-md transition-all cursor-pointer flex flex-col h-full",children:[A.jsxs("div",{className:"h-32 w-full bg-gray-100 relative overflow-hidden",children:[a.image?A.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):A.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:A.jsx(Gp,{size:32})}),A.jsx("div",{className:"absolute top-2 right-2",children:A.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-white bg-black/50 backdrop-blur-sm px-2 py-1 rounded-full",children:a.category})})]}),A.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[A.jsx("div",{className:"flex items-start justify-between mb-2",children:A.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:a.title})}),A.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-4 flex-1",children:a.description}),A.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[a.columns.slice(0,4).map(r=>A.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-gray-100 text-gray-500 rounded border border-gray-200",children:r.name},r.id)),a.columns.length>4&&A.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-gray-50 text-gray-400 rounded border border-gray-200",children:["+",a.columns.length-4," more"]})]})]})]},a.id))})})]})}):null;var hS=i6();const iR=lg(hS),jT=i=>{const e=i.toLowerCase();return e.includes("advanced-intelligence")?Bv:e.includes("cognitive")?If:e.includes("decision")?g6:e.includes("predictive")?u6:e.includes("prescriptive")?dg:e.includes("ai ")?Bv:e.includes("cold chain")?T6:e.includes("compliance")||e.includes("governance")?A6:e.includes("dock")||e.includes("yard")?Eh:e.includes("energy")||e.includes("sustainability")?Bf:e.includes("equipment")||e.includes("maintenance")?Q2:e.includes("financial")||e.includes("cost")||e.includes("profitability")?H0:e.includes("inventory")||e.includes("stock")||e.includes("replenishment")?Z2:e.includes("labor")||e.includes("workforce")?Mc:e.includes("robotics")||e.includes("automation")?o6:e.includes("safety")||e.includes("damage")?y6:e.includes("sku")?Uf:e.includes("slotting")||e.includes("space")||e.includes("storage")?Y2:e.includes("transport")||e.includes("shipping")||e.includes("outbound")||e.includes("inbound")||e.includes("flow")?J2:e.includes("quality")?K2:e.includes("data")||e.includes("digital twin")?Th:e.includes("optimization")?W0:e.includes("network")?q0:e.includes("process")?Fv:e.includes("order")||e.includes("po")?om:e.includes("spend")?H0:e.includes("supplier")?r6:e.includes("improvement")?W0:e.includes("capital")||e.includes("payment")?C6:e.includes("people")||e.includes("training")?Mc:e.includes("forecasting")||e.includes("planning")?ug:e.includes("innovation")?b6:e.includes("risk")?fy:e.includes("logistics")?Eh:Sw},d3=i=>{const e=i.toLowerCase();return e.includes("ai ")||e.includes("prediction")||e.includes("forecast")||e.includes("detection")?If:e.includes("picking")||e.includes("putaway")||e.includes("batch")||e.includes("cluster")||e.includes("zone")?Z2:e.includes("dock")||e.includes("load")||e.includes("unload")?Eh:e.includes("cost")||e.includes("profit")||e.includes("financial")?H0:e.includes("labor")||e.includes("workforce")||e.includes("shift")?Mc:e.includes("equipment")||e.includes("breakdown")||e.includes("health")?Q2:e.includes("sku")?Uf:e.includes("inventory")||e.includes("stock")||e.includes("aging")||e.includes("movers")?Y2:e.includes("route")||e.includes("mapping")||e.includes("network")?J2:e.includes("heatmap")?j0:e.includes("sla")||e.includes("benchmark")||e.includes("comparison")?G0:e.includes("risk")||e.includes("exception")?F0:e.includes("storage")||e.includes("bin")||e.includes("capacity")?Th:e.includes("cycle")||e.includes("turnover")||e.includes("velocity")?j1:e.includes("optimization")||e.includes("efficiency")?W0:e.includes("accuracy")||e.includes("quality")?dg:e.includes("invoice")?Df:e.includes("order")||e.includes("requisition")?om:e.includes("contract")?ww:e.includes("supplier")||e.includes("vendor")?Eh:e.includes("audit")||e.includes("compliance")?K2:e.includes("risk")||e.includes("issue")?F0:e.includes("spend")||e.includes("budget")?$2:e.includes("kpi")||e.includes("performance")?G0:e.includes("time")||e.includes("cycle")?j1:e.includes("payment")||e.includes("card")?V0:e.includes("global")||e.includes("region")?q0:e.includes("efficiency")||e.includes("automation")?Bf:j0},OV=({isOpen:i,categories:e,onClose:t,tabs:n=[{id:"category",label:"Category"},{id:"module",label:"Module"}],customCategories:a,customModules:r,...o})=>{const[l,u]=Te.useState(null),[d,m]=Te.useState(n[0].id),[y,x]=Te.useState({top:0,left:0}),[g,_]=Te.useState(""),S=Te.useMemo(()=>e?Object.keys(e):[],[e]),M=Te.useMemo(()=>o.modules?Object.keys(o.modules).sort():[],[o.modules]),b=Te.useMemo(()=>o.layers?Object.keys(o.layers).sort():[],[o.layers]);Te.useEffect(()=>{if(i&&o.parentRef.current){const G=o.parentRef.current.getBoundingClientRect(),X=window.innerWidth,O=450;let z=G.right;z+O>X&&(z=G.left-O);let q=G.top-4;const I=window.innerHeight,$=600;q+$>I&&(q=I-$-10),x({top:q,left:z}),_("")}},[i,o.parentRef]);const E=Te.useMemo(()=>{const G=[],X=g.toLowerCase().trim(),O=!!X;if(d==="category"){const q=(a||S).filter(I=>!O||I.toLowerCase().includes(X)?!0:Object.keys(e[I]||{}).some($=>$.toLowerCase().includes(X)));q.length===0?G.push({type:"empty",id:"empty",label:"No categories found",depth:0}):q.sort().forEach(I=>{const $=e[I]||{},U=Object.keys($),oe=O?U.filter(ae=>ae.toLowerCase().includes(X)||I.toLowerCase().includes(X)):U;if(O&&oe.length===0&&!I.toLowerCase().includes(X))return;const J=O||l===I;G.push({type:"header",id:`cat-${I}`,label:I,depth:0,isExpanded:J,icon:jT(I),count:oe.length}),J&&(oe.length===0?G.push({type:"empty",id:`empty-${I}`,label:"No modules found",depth:1}):oe.forEach(ae=>{G.push({type:"module",id:`mod-${I}-${ae}`,label:ae,data:$[ae],depth:1,icon:d3(ae),count:$[ae].length})}))})}else if(d==="layer"&&o.layers){const q=b.filter(I=>!O||I.toLowerCase().includes(X)?!0:Object.keys(o.layers[I]||{}).some($=>$.toLowerCase().includes(X)));q.length===0?G.push({type:"empty",id:"empty",label:"No layers found",depth:0}):q.sort().forEach(I=>{const $=o.layers[I]||{},U=Object.keys($),oe=O?U.filter(ae=>ae.toLowerCase().includes(X)||I.toLowerCase().includes(X)):U;if(O&&oe.length===0&&!I.toLowerCase().includes(X))return;const J=O||l===I;G.push({type:"header",id:`layer-${I}`,label:I,depth:0,isExpanded:J,icon:jT(I),count:oe.length}),J&&oe.forEach(ae=>{G.push({type:"module",id:`mod-${I}-${ae}`,label:ae,data:$[ae],depth:1,icon:d3(ae),count:$[ae].length})})})}else if(d==="module"&&(r||o.modules)){const q=(r||M).filter(I=>{var $,U;return!O||I.toLowerCase().includes(X)?!0:(U=($=o.modules)==null?void 0:$[I])==null?void 0:U.some(oe=>oe["Report Title"].toLowerCase().includes(X))});q.length===0?G.push({type:"empty",id:"empty",label:"No modules found",depth:0}):q.sort().forEach(I=>{var oe;const $=((oe=o.modules)==null?void 0:oe[I])||[],U=O?$.some(J=>J["Report Title"].toLowerCase().includes(X)):!0;O&&!I.toLowerCase().includes(X)&&!U||G.push({type:"module",id:`mod-${I}`,label:I,data:$,depth:0,icon:d3(I),count:$.length})})}return G},[d,l,g,e,S,o.layers,b,o.modules,M,a,r]),C=1e5,D=E.slice(0,C),k=E.length>C,H=A.jsx(Y0,{children:i&&A.jsx("div",{className:"fixed z-[9999]",style:{top:y.top,left:y.left},onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,children:A.jsxs(_n.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"bg-white/95 backdrop-blur-xl border border-gray-200/60 rounded-xl shadow-2xl py-2 w-[450px] ring-1 ring-black/5 flex flex-col",style:{maxHeight:"600px"},children:[A.jsx("div",{className:"px-3 pb-2 pt-1 sticky top-0 bg-white/95 backdrop-blur-xl z-10",children:A.jsxs("div",{className:"relative",children:[A.jsx(sm,{className:"absolute left-2.5 top-2.5 text-gray-400",size:14}),A.jsx("input",{type:"text",placeholder:"Search dashboards...",value:g,onChange:G=>_(G.target.value),className:"w-full pl-8 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-gray-400",autoFocus:!0})]})}),A.jsx("div",{className:"px-3 py-2 mb-2",children:o.modules&&A.jsx("div",{className:"flex bg-gray-100/50 p-1 rounded-lg w-full",children:n.map(G=>A.jsx("button",{onClick:()=>m(G.id),className:`flex-1 px-3 py-1.5 text-xs font-semibold rounded-md transition-all ${d===G.id?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:G.label},G.id))})}),A.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:[A.jsx("style",{children:`
                                .no-scrollbar::-webkit-scrollbar {
                                    display: none;
                                }
                                .no-scrollbar {
                                    -ms-overflow-style: none;
                                    scrollbar-width: none;
                                }
                            `}),D.map((G,X)=>{const O=G.icon;return G.type==="empty"?A.jsx("div",{className:"px-4 py-2 text-sm text-gray-400 italic flex items-center",children:G.label},G.id):G.type==="header"?A.jsx("div",{className:"px-0",children:A.jsxs("button",{onClick:()=>u(l===G.label?null:G.label),className:`w-full text-left px-3 py-2 text-sm font-medium flex items-center justify-between transition-colors ${G.isExpanded?"text-blue-600 bg-blue-50/50":"text-gray-700 hover:bg-gray-50"}`,children:[A.jsxs("div",{className:"flex items-center truncate mr-2",children:[O&&A.jsx(O,{size:16,className:`mr-2.5 flex-shrink-0 ${G.isExpanded?"text-blue-600":"text-gray-500"}`}),A.jsxs("span",{className:`truncate ${G.isExpanded?"font-bold text-blue-700":"font-semibold text-gray-700"}`,children:[G.label,g.trim()&&A.jsxs("span",{className:"ml-2 text-xs font-normal text-blue-400 opacity-75",children:["(",G.count,")"]})]})]}),!g.trim()&&A.jsx(ko,{size:14,className:`flex-shrink-0 transition-transform duration-200 ${G.isExpanded?"text-blue-500 rotate-90":"text-gray-400"}`})]})},G.id):G.type==="module"?A.jsx("div",{className:"px-0 bg-gray-50/50",children:A.jsxs("div",{className:"flex items-center group/module w-full hover:bg-blue-100/50 rounded-lg transition-colors pr-1",children:[A.jsxs("button",{className:"flex-1 text-left px-3 py-2 text-sm text-gray-600 hover:text-blue-600 flex items-center transition-all",style:{paddingLeft:`${G.depth*12+12}px`},onClick:z=>{z.stopPropagation(),o.onSelectModule(G.label,G.data),t()},children:[A.jsx("div",{className:"p-1 rounded-md mr-2.5 text-gray-400 group-hover/module:text-blue-500 transition-colors",children:O&&A.jsx(O,{size:14})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("div",{className:"font-medium truncate",children:G.label}),A.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[G.count," reports"]})]})]}),A.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-200 rounded opacity-0 group-hover/module:opacity-100 transition-all",onClick:z=>{z.stopPropagation(),o.onSelectModule(G.label,G.data,!0)},title:"Add and keep menu open",children:A.jsx(Of,{size:14})})]})},G.id):null}),k&&A.jsxs("div",{className:"px-4 py-2 text-xs text-center text-gray-400 italic border-t border-gray-100",children:["Showing first ",C," results. Refine search to see more."]})]})]})})});return iR.createPortal(H,document.body)},FT=i=>{const e=i.toLowerCase();return e.includes("advanced-intelligence")?Bv:e.includes("cognitive")?If:e.includes("decision")?g6:e.includes("predictive")?u6:e.includes("prescriptive")?dg:e.includes("ai ")?Bv:e.includes("cold chain")?T6:e.includes("compliance")||e.includes("governance")?A6:e.includes("dock")||e.includes("yard")?Eh:e.includes("energy")||e.includes("sustainability")?Bf:e.includes("equipment")||e.includes("maintenance")?Q2:e.includes("financial")||e.includes("cost")||e.includes("profitability")?H0:e.includes("inventory")||e.includes("stock")||e.includes("replenishment")?Z2:e.includes("labor")||e.includes("workforce")?Mc:e.includes("robotics")||e.includes("automation")?o6:e.includes("safety")||e.includes("damage")?y6:e.includes("sku")?Uf:e.includes("slotting")||e.includes("space")||e.includes("storage")?Y2:e.includes("transport")||e.includes("shipping")||e.includes("outbound")||e.includes("inbound")||e.includes("flow")?J2:e.includes("quality")?K2:e.includes("data")||e.includes("digital twin")?Th:e.includes("optimization")?W0:e.includes("network")?q0:e.includes("process")?Fv:e.includes("order")||e.includes("po")?om:e.includes("spend")?H0:e.includes("supplier")?r6:e.includes("improvement")?W0:e.includes("capital")||e.includes("payment")?C6:e.includes("people")||e.includes("training")?Mc:e.includes("forecasting")||e.includes("planning")?ug:e.includes("innovation")?b6:e.includes("risk")?fy:e.includes("logistics")?Eh:Sw},PV=i=>{const e=i.toLowerCase();return e.includes("ai ")||e.includes("prediction")||e.includes("forecast")||e.includes("detection")?If:e.includes("picking")||e.includes("putaway")||e.includes("batch")||e.includes("cluster")||e.includes("zone")?Z2:e.includes("dock")||e.includes("load")||e.includes("unload")?Eh:e.includes("cost")||e.includes("profit")||e.includes("financial")?H0:e.includes("labor")||e.includes("workforce")||e.includes("shift")?Mc:e.includes("equipment")||e.includes("breakdown")||e.includes("health")?Q2:e.includes("sku")?Uf:e.includes("inventory")||e.includes("stock")||e.includes("aging")||e.includes("movers")?Y2:e.includes("route")||e.includes("mapping")||e.includes("network")?J2:e.includes("heatmap")?j0:e.includes("sla")||e.includes("benchmark")||e.includes("comparison")?G0:e.includes("risk")||e.includes("exception")?F0:e.includes("storage")||e.includes("bin")||e.includes("capacity")?Th:e.includes("cycle")||e.includes("turnover")||e.includes("velocity")?j1:e.includes("optimization")||e.includes("efficiency")?W0:e.includes("accuracy")||e.includes("quality")?dg:e.includes("invoice")?Df:e.includes("order")||e.includes("requisition")?om:e.includes("contract")?ww:e.includes("supplier")||e.includes("vendor")?Eh:e.includes("audit")||e.includes("compliance")?K2:e.includes("risk")||e.includes("issue")?F0:e.includes("spend")||e.includes("budget")?$2:e.includes("kpi")||e.includes("performance")?G0:e.includes("time")||e.includes("cycle")?j1:e.includes("payment")||e.includes("card")?V0:e.includes("global")||e.includes("region")?q0:e.includes("efficiency")||e.includes("automation")?Bf:j0},h3=i=>{switch(i){case"KPI Card":return V0;case"Donut Chart":case"Pie Chart":return $2;case"Bar Chart":return Uf;case"Line Chart":return j0;case"Treemap":return zf;case"Gauge Chart":return m6;default:return Df}},kV=({isOpen:i,categories:e,onClose:t,tabs:n=[{id:"category",label:"Category"},{id:"layer",label:"Layer"},{id:"module",label:"Module"}],customCategories:a,customModules:r,...o})=>{const[l,u]=Te.useState(null),[d,m]=Te.useState(n[0].id),[y,x]=Te.useState({top:0,left:0}),[g,_]=Te.useState(""),S=Te.useMemo(()=>e?Object.keys(e):[],[e]),M=Te.useMemo(()=>o.modules?Object.keys(o.modules).sort():[],[o.modules]),b=Te.useMemo(()=>o.layers?Object.keys(o.layers).sort():[],[o.layers]);Te.useEffect(()=>{if(i&&o.parentRef.current){const G=o.parentRef.current.getBoundingClientRect(),X=window.innerWidth,O=450;let z=G.right;z+O>X&&(z=G.left-O);let q=G.top-4;const I=window.innerHeight,$=600;q+$>I&&(q=I-$-10),x({top:q,left:z}),_("")}},[i,o.parentRef]);const E=Te.useMemo(()=>{const G=[],X=g.toLowerCase().trim(),O=!!X;if(d==="category"){const q=(a||S).filter(I=>{var $;return!O||I.toLowerCase().includes(X)?!0:($=e[I])==null?void 0:$.some(U=>U["Report Title"].toLowerCase().includes(X))});q.length===0?G.push({type:"empty",id:"empty",label:"No categories found",depth:0}):q.sort().forEach(I=>{const $=e[I]||[],U=O?$.filter(J=>J["Report Title"].toLowerCase().includes(X)||I.toLowerCase().includes(X)):$;if(O&&U.length===0&&!I.toLowerCase().includes(X))return;const oe=O||l===I;G.push({type:"header",id:`cat-${I}`,label:I,depth:0,isExpanded:oe,icon:FT(I),count:U.length}),oe&&(U.length===0?G.push({type:"empty",id:`empty-${I}`,label:"No reports configured",depth:1}):U.forEach(J=>{G.push({type:"report",id:J.id||J["Report Title"],label:J["Report Title"],data:J,depth:1,icon:h3(J["Chart Type (ECharts)"])})}))})}else if(d==="layer"&&o.layers){const q=b.filter(I=>!O||I.toLowerCase().includes(X)?!0:o.layers[I].some($=>$["Report Title"].toLowerCase().includes(X)));q.length===0?G.push({type:"empty",id:"empty",label:"No layers found",depth:0}):q.sort().forEach(I=>{const $=o.layers[I]||[],U=O?$.filter(J=>J["Report Title"].toLowerCase().includes(X)||I.toLowerCase().includes(X)):$;if(O&&U.length===0&&!I.toLowerCase().includes(X))return;const oe=O||l===I;if(G.push({type:"header",id:`layer-${I}`,label:I,depth:0,isExpanded:oe,icon:FT(I),count:U.length}),oe){const J={};U.forEach(te=>{const le=te["Sub-Layer"]||"General";J[le]||(J[le]=[]),J[le].push(te)});const ae=Object.keys(J).sort();ae.length===0?G.push({type:"empty",id:`empty-${I}`,label:"No reports found",depth:1}):ae.forEach(te=>{const le=J[te];G.push({type:"header",id:`sub-${I}-${te}`,label:te,depth:1,isExpanded:!0,count:le.length,icon:A.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:te.charAt(0)})}),le.forEach(Me=>{G.push({type:"report",id:Me.id||Me["Report Title"],label:Me["Report Title"],data:Me,depth:2,icon:h3(Me["Chart Type (ECharts)"])})})})}})}else if(d==="module"&&(r||o.modules)){const q=(r||M).filter(I=>{var $,U;return!O||I.toLowerCase().includes(X)?!0:(U=($=o.modules)==null?void 0:$[I])==null?void 0:U.some(oe=>oe["Report Title"].toLowerCase().includes(X))});q.length===0?G.push({type:"empty",id:"empty",label:"No modules found",depth:0}):q.sort().forEach(I=>{var J;const $=((J=o.modules)==null?void 0:J[I])||[],U=O?$.filter(ae=>ae["Report Title"].toLowerCase().includes(X)||I.toLowerCase().includes(X)):$;if(O&&U.length===0&&!I.toLowerCase().includes(X))return;const oe=O||l===I;G.push({type:"header",id:`mod-${I}`,label:I,depth:0,isExpanded:oe,icon:PV(I),count:U.length}),oe&&(U.length===0?G.push({type:"empty",id:`empty-${I}`,label:"No reports configured",depth:1}):U.forEach(ae=>{G.push({type:"report",id:ae.id||ae["Report Title"],label:ae["Report Title"],data:ae,depth:1,icon:h3(ae["Chart Type (ECharts)"])})}))})}return G},[d,l,g,e,S,o.layers,b,o.modules,M,a,r]),C=1e5,D=E.slice(0,C),k=E.length>C,H=A.jsx(Y0,{children:i&&A.jsx("div",{className:"fixed z-[9999]",style:{top:y.top,left:y.left},onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,children:A.jsxs(_n.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"bg-white/95 backdrop-blur-xl border border-gray-200/60 rounded-xl shadow-2xl py-2 w-[450px] ring-1 ring-black/5 flex flex-col",style:{maxHeight:"600px"},children:[A.jsx("div",{className:"px-3 pb-2 pt-1 sticky top-0 bg-white/95 backdrop-blur-xl z-10",children:A.jsxs("div",{className:"relative",children:[A.jsx(sm,{className:"absolute left-2.5 top-2.5 text-gray-400",size:14}),A.jsx("input",{type:"text",placeholder:"Search reports...",value:g,onChange:G=>_(G.target.value),className:"w-full pl-8 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-gray-400",autoFocus:!0})]})}),A.jsx("div",{className:"px-3 py-2 mb-2",children:o.modules&&A.jsx("div",{className:"flex bg-gray-100/50 p-1 rounded-lg w-full",children:n.map(G=>A.jsx("button",{onClick:()=>m(G.id),className:`flex-1 px-3 py-1.5 text-xs font-semibold rounded-md transition-all ${d===G.id?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:G.label},G.id))})}),A.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:[A.jsx("style",{children:`
                                .no-scrollbar::-webkit-scrollbar {
                                    display: none;
                                }
                                .no-scrollbar {
                                    -ms-overflow-style: none;
                                    scrollbar-width: none;
                                }
                            `}),D.map((G,X)=>{const O=G.icon;return G.type==="empty"?A.jsx("div",{className:"px-4 py-2 text-sm text-gray-400 italic flex items-center",children:G.label},G.id):G.type==="header"?A.jsx("div",{className:"px-0",children:A.jsxs("button",{onClick:()=>u(l===G.label?null:G.label),className:`w-full text-left px-3 py-2 text-sm font-medium flex items-center justify-between transition-colors ${G.isExpanded?"text-blue-600 bg-blue-50/50":"text-gray-700 hover:bg-gray-50"}`,children:[A.jsxs("div",{className:"flex items-center truncate mr-2",children:[Mh.isValidElement(O)?A.jsx("div",{className:"mr-2.5 flex-shrink-0",children:O}):O&&A.jsx(O,{size:16,className:`mr-2.5 flex-shrink-0 ${G.isExpanded?"text-blue-600":"text-gray-500"}`}),A.jsxs("span",{className:`truncate ${G.isExpanded?"font-bold text-blue-700":"font-semibold text-gray-700"}`,children:[G.label,g.trim()&&A.jsxs("span",{className:"ml-2 text-xs font-normal text-blue-400 opacity-75",children:["(",G.count,")"]})]})]}),!g.trim()&&A.jsx(ko,{size:14,className:`flex-shrink-0 transition-transform duration-200 ${G.isExpanded?"text-blue-500 rotate-90":"text-gray-400"}`})]})},G.id):G.type==="report"?A.jsx("div",{className:"px-0 bg-gray-50/50",children:A.jsxs("div",{className:"flex items-center group/report w-full hover:bg-blue-100/50 transition-colors pr-1",children:[A.jsxs("button",{className:"flex-1 text-left px-3 py-1 text-sm text-gray-600 hover:text-blue-600 flex items-center transition-all",style:{paddingLeft:`${G.depth*12+12}px`},onClick:z=>{z.stopPropagation(),o.onSelectReport(G.data),t()},children:[A.jsx("div",{className:"p-1 rounded-md mr-2.5 text-gray-400 group-hover/report:text-blue-500 transition-colors",children:O&&A.jsx(O,{size:14})}),A.jsx("div",{className:"flex-1 min-w-0",children:A.jsx("div",{className:"font-medium truncate",children:G.label})})]}),A.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-200 rounded opacity-0 group-hover/report:opacity-100 transition-all",onClick:z=>{z.stopPropagation(),o.onSelectReport(G.data,!0)},title:"Add and keep menu open",children:A.jsx(Of,{size:14})})]})},G.id):null}),k&&A.jsxs("div",{className:"px-4 py-2 text-xs text-center text-gray-400 italic border-t border-gray-100",children:["Showing first ",C," results. Refine search to see more."]})]})]})})});return iR.createPortal(H,document.body)},IV=["AI Optimization Intelligence","AI Root-Cause Engine","Automation ROI Analytics","Cognitive Behavior Prediction","Cold Chain Analytics","Compliance & Governance","Cycle Counting","Damage & Safety","Data Quality & Trust","Decision AI Recommendations","Digital Twin Analytics","Dock & Yard Intelligence","Dock Management","End-to-End Flow Optimization","End-to-End Warehouse Cycle","Energy & Sustainability Intelligence","Energy Consumption","Equipment Health Prediction","Equipment Maintenance","Equipment Utilization","Financial Impact Modeling","Inbound Operations","Inventory Accuracy","Inventory Aging","Inventory Health","Inventory Stability","Labor Productivity","Labor Scheduling","Micro-Decision Signals","Multi-Warehouse Network","Multi-Warehouse Optimization","Outbound Operations","Picking Productivity","Picking Quality","Predictive Disruption","Process Mining & Discovery","Putaway Operations","Replenishment Flow","Robotics Analytics","Safety Intelligence","SKU Aging","SKU Damage Rate","SKU Demand Forecast","SKU Exceptions & Risk","SKU Pick Frequency","SKU Profitability","SKU Replenishment Need","SKU Slotting","SKU Stock Health","SKU Velocity","SLA Intelligence","Slotting Optimization","Space Utilization","Spatial Analytics","Storage Systems","Supplier-Warehouse-Shipping Chain Analytics","Sustainability (Green Ops)","Warehouse Cost","Warehouse Exceptions","Warehouse Financial Analytics","Warehouse Flow Efficiency","Warehouse Routing","Workforce Behavioral Analytics","Workforce Cognitive Load","Yard Management"],UV=["AI Anomaly Detection","AI Operational Forecast","AI SKU Drift Detection","Batch Picking","Bottleneck Mapping","Capacity Forecasting","Cluster Picking","Cost Breakdown Engine","Cost-to-Serve Model","Cycle Count Strategy","Cycle Count Variance Detection","Dead Stock Analysis","Demand-SKU Correlation","Dock Load Efficiency","Dock Unload Efficiency","Equipment Breakdown Prediction","Equipment Health Index","Exception Classification Engine","Inbound Accuracy","Inventory Aging Engine","Labor Productivity Model","Labor Shift Utilization","Labor-SKU Interaction Analytics","Multi-Warehouse Benchmark","Network Comparison Model","Operational Delay Detection","Outbound Accuracy","Performance Heatmap","Picking Route Engine","Putaway Accuracy","Putaway Speed","Replenishment Prediction","Replenishment Timing","SKU ABC Classification","SKU Cycle Time Analytics","SKU Damage Tracking","SKU Demand Forecast","SKU Exception Detection","SKU Expiry Tracking","SKU Pattern Mining","SKU Picking Time Analysis","SKU Profit Model","SKU Service Impact Model","SKU Storage Footprint","SKU Turnover Rate","SKU Velocity Heatmap","SKU XYZ Classification","SKU-Level Route Mapping","SKU-Loss Prevention","Slow Movers","Storage Bin Optimization","Top Movers","Warehouse Forecast Engine","Warehouse Heatmap Engine","Warehouse Risk Scoring","Warehouse SLA Mapping","Zone Picking"],zV=({onInsert:i,activeTabName:e})=>{const{getPageTitle:t,activePage:n,setActivePage:a}=my(),[r,o]=Te.useState([]),[l,u]=Te.useState([]),[d,m]=Te.useState(!1);Mh.useEffect(()=>{(async()=>{m(!0);try{const j=n.split("/").filter(xe=>xe);if(j.length>=2){const xe=j[0],de=j[1],[ue,ie]=await Promise.all([Q_.getReports(xe,de),Q_.getTables(xe,de)]);o(ue),u(ie)}else o([]),u([])}catch(j){console.error("Failed to load department data:",j)}finally{m(!1)}})()},[n]);const y=t(),{showToast:x}=hg(),[g,_]=Te.useState(null),[S,M]=Te.useState(!1),[b,E]=Te.useState(!1),[C,D]=Te.useState(!1),[k,H]=Te.useState(null),[G,X]=Te.useState(!1),O=Te.useRef(null),[z,q]=Te.useState(!1),I=Te.useRef(null),$=Te.useRef(null),U=()=>{$.current&&(clearTimeout($.current),$.current=null)},oe=Te.useRef(null),J=()=>{oe.current&&(clearTimeout(oe.current),oe.current=null)},ae=()=>{U(),$.current=setTimeout(()=>{_(null),X(!1),q(!1)},300)},te=()=>{U(),q(!1),X(!0)},le=()=>{ae()},Me=()=>{U(),X(!1),q(!0)},Z=()=>{ae()},V=n.includes("/analytics"),re=n.includes("/data"),ce=()=>n.includes("supply-chain/procurement")?"Procurement Tables":n.includes("supply-chain/warehouse")?"Warehouse Tables":n.includes("supply-chain/shipping")?"Shipping Tables":n.includes("supply-chain/planning")?"Planning Tables":n.includes("supply-chain/fleet")?"Fleet Tables":n.includes("supply-chain/vendors")?"Vendors Tables":n.includes("operations/maintenance")?"Maintenance Tables":n.includes("operations/production")?"Production Tables":n.includes("operations/quality")?"Quality Tables":n.includes("business/sales")?"Sales Tables":n.includes("business/finance")?"Finance Tables":n.includes("support/it")?"IT Tables":n.includes("support/hr")?"HR Tables":n.includes("support/marketing")?"Marketing Tables":"Tables",pe=Te.useMemo(()=>{const W={};return(n.includes("supply-chain/procurement")||n.includes("supply-chain/warehouse")||n.includes("supply-chain/shipping")||n.includes("supply-chain/planning")||n.includes("supply-chain/fleet")||n.includes("supply-chain/vendors"))&&r.forEach(j=>{const xe=j["Category 1 (Detailed)"],de=j["Module (Category 2)"];W[xe]||(W[xe]={}),W[xe][de]||(W[xe][de]=[]),W[xe][de].push(j)}),W},[n]),me=Te.useMemo(()=>{const W={};return(n.includes("supply-chain/procurement")||n.includes("supply-chain/warehouse")||n.includes("supply-chain/shipping")||n.includes("supply-chain/planning")||n.includes("supply-chain/fleet")||n.includes("supply-chain/vendors"))&&r.forEach(j=>{const xe=j["Module (Category 2)"];W[xe]||(W[xe]=[]),W[xe].push(j)}),W},[n]),Ee=Te.useMemo(()=>{if(!n.includes("supply-chain/procurement")&&!n.includes("supply-chain/warehouse")&&!n.includes("supply-chain/shipping")&&!n.includes("supply-chain/planning")&&!n.includes("supply-chain/fleet")&&!n.includes("supply-chain/vendors"))return{};const W={};return r.forEach(j=>{const xe=j["Category 1 (Detailed)"];W[xe]||(W[xe]=[]),W[xe].push(j)}),W},[n]),Ue=Te.useMemo(()=>{if(!n.includes("supply-chain/procurement")&&!n.includes("supply-chain/warehouse")&&!n.includes("supply-chain/shipping")&&!n.includes("supply-chain/planning")&&!n.includes("supply-chain/fleet")&&!n.includes("supply-chain/vendors"))return{};const W={};return r.forEach(j=>{const xe=j["Module (Category 2)"];W[xe]||(W[xe]=[]),W[xe].push(j)}),W},[n]),ze=Te.useMemo(()=>{if(!n.includes("supply-chain/procurement")&&!n.includes("supply-chain/warehouse")&&!n.includes("supply-chain/shipping")&&!n.includes("supply-chain/planning")&&!n.includes("supply-chain/fleet")&&!n.includes("supply-chain/vendors"))return{};const W={};return r.forEach(j=>{const xe=j.Layer||"General";W[xe]||(W[xe]=[]),W[xe].push(j)}),W},[n]),We=Te.useMemo(()=>{const W={};return r.forEach(j=>{const xe=j.Layer||"General",de=j["Sub-Layer"]||j["Module (Category 2)"]||"General";W[xe]||(W[xe]={}),W[xe][de]||(W[xe][de]=[]),W[xe][de].push(j)}),W},[n]),at=(W,j)=>{i==null||i("report-template",W),x(`Added "${W["Report Title"]}" to dashboard`,"success"),j||(E(!1),_(null),q(!1))},Ct=(W,j)=>{i==null||i("table-template",W),x(`Added "${W.title}" table`,"success"),j||(D(!1),_(null))},gt=[{name:"File",icon:Df},{name:"Edit",icon:dk},{name:"Insert",icon:Of},...re?[]:[{name:"Layout",icon:zf}],{name:"View",icon:QO},{name:"Window",icon:o4},{name:"Help",icon:LO}];return A.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-40 select-none",children:[A.jsxs("div",{className:"flex items-center h-full",children:[A.jsxs("div",{className:"flex items-center mr-4 pr-4 border-r border-gray-200 h-6 min-w-[320px] flex-shrink-0 relative",children:[A.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors whitespace-nowrap",onClick:()=>_(g==="breadcrumb"?null:"breadcrumb"),children:[y,e&&A.jsx("span",{className:"text-gray-400 font-normal mx-2",children:"/"}),e&&A.jsx("span",{className:"text-gray-600 font-medium",children:e}),A.jsx(dl,{size:12,className:"ml-1 text-gray-400 flex-shrink-0"})]}),g==="breadcrumb"&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>_(null)}),A.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white rounded-xl shadow-xl border border-gray-200 z-20 py-2 animate-in fade-in zoom-in-95 duration-100",children:[n.includes("/")&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Switch View"}),A.jsxs("div",{className:"px-2 pb-2",children:[A.jsxs("button",{className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors flex items-center ${n.endsWith("/data")?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>{const j=n.endsWith("/data")||n.endsWith("/analytics")?n.substring(0,n.lastIndexOf("/")):n;a(`${j}/data`),_(null)},children:[A.jsx(Th,{size:14,className:"mr-2"}),"Data"]}),A.jsxs("button",{className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors flex items-center ${n.endsWith("/analytics")?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>{const j=n.endsWith("/data")||n.endsWith("/analytics")?n.substring(0,n.lastIndexOf("/")):n;a(`${j}/analytics`),_(null)},children:[A.jsx(Uf,{size:14,className:"mr-2"}),"Analytics"]})]}),A.jsx("div",{className:"border-t border-gray-100 my-1"})]}),A.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Departments"}),A.jsx("div",{className:"px-2 max-h-64 overflow-y-auto",children:[{id:"supply-chain/procurement",name:"Procurement",icon:om},{id:"supply-chain/warehouse",name:"Warehouse",icon:N6},{id:"supply-chain/shipping",name:"Shipping",icon:M6},{id:"supply-chain/planning",name:"Planning",icon:ug},{id:"supply-chain/fleet",name:"Fleet",icon:c6},{id:"supply-chain/vendors",name:"Vendors",icon:om},{id:"operations/maintenance",name:"Maintenance",icon:j0},{id:"operations/production",name:"Production",icon:m6},{id:"operations/quality",name:"Quality",icon:dg},{id:"business/sales",name:"Sales",icon:d6},{id:"business/finance",name:"Finance",icon:V0},{id:"support/it",name:"IT",icon:o4},{id:"support/hr",name:"HR",icon:Mc},{id:"support/marketing",name:"Marketing",icon:$2}].map(W=>A.jsxs("button",{className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors flex items-center ${n.includes(W.id)?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>{a(`${W.id}/data`),_(null)},children:[A.jsx(W.icon,{size:14,className:"mr-2"}),W.name]},W.id))})]})]})]}),A.jsx("div",{className:"flex items-center space-x-1",onMouseLeave:ae,onMouseEnter:U,children:gt.map(W=>A.jsxs("div",{className:"relative",onMouseEnter:()=>{U(),g&&_(W.name)},children:[A.jsx("button",{className:`relative z-30 px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-1.5 ${g===W.name?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>_(g===W.name?null:W.name),children:A.jsx("span",{children:W.name})}),g===W.name&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>_(null)}),A.jsxs("div",{className:"absolute top-full left-0 mt-1 w-72 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 z-50 ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-100",onMouseEnter:U,onMouseLeave:ae,children:[W.name==="Layout"?A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 hover:text-red-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{i&&i("layout-clear"),_(null)},children:A.jsxs("div",{className:"flex items-center",children:[A.jsx(OO,{size:16,className:"mr-2.5 text-red-400 group-hover:text-red-500 transition-colors"}),A.jsx("span",{children:"Clear layout"})]})}),A.jsx("div",{className:"border-t border-gray-100 my-1"})]}):null,W.name==="Layout"?A.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{i&&i("layout-4kpi-1chart"),_(null)},children:A.jsxs("div",{className:"flex items-center",children:[A.jsx(zf,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),A.jsx("span",{children:"4 KPI 1 Chart"})]})}):W.name==="Insert"?A.jsxs(A.Fragment,{children:[re&&(n.includes("supply-chain/")||n.includes("operations/")||n.includes("business/")||n.includes("support/"))&&A.jsxs("div",{className:"relative group/table px-1",children:[A.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(Gp,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),A.jsx("span",{children:"Table"})]}),A.jsx(ko,{size:14,className:"text-gray-400 group-hover:text-blue-500"})]}),A.jsxs("div",{className:"absolute left-full top-0 ml-1 w-64 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 hidden group-hover/table:block animate-in fade-in zoom-in-95 duration-100 z-50",children:[A.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-100 mb-1",children:ce()}),A.jsx("div",{className:"max-h-[300px] overflow-y-auto no-scrollbar",children:l.map(j=>A.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center group/item transition-colors",onClick:()=>{i&&i("table-template",{title:j.display_name,columns:j.columns.map(xe=>({id:xe.name,name:xe.name.split("_").map(de=>de.charAt(0).toUpperCase()+de.slice(1)).join(" "),type:xe.type==="string"?"text":xe.type==="number"?"number":"text",width:150}))}),_(null)},children:[A.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 mr-2.5 group-hover/item:bg-blue-500 transition-colors"}),A.jsx("span",{className:"truncate",children:j.display_name})]},j.table_id))})]})]}),!re&&A.jsxs("div",{className:"relative group/dashboard px-1",onMouseEnter:te,onMouseLeave:le,ref:O,children:[A.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{i&&i("dashboard"),_(null)},children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(jv,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),A.jsx("span",{children:"Dashboard"})]}),Object.keys(pe).length>0&&A.jsx(ko,{size:14,className:"text-gray-400 group-hover:text-blue-500"})]}),Object.keys(pe).length>0&&A.jsx(OV,{isOpen:G,categories:pe,modules:me,layers:We,tabs:n.includes("supply-chain/warehouse")||n.includes("supply-chain/procurement")||n.includes("supply-chain/shipping")||n.includes("supply-chain/planning")||n.includes("supply-chain/fleet")||n.includes("supply-chain/vendors")?[{id:"category",label:"Category"},{id:"layer",label:"Layer"},{id:"module",label:"Module"}]:void 0,customCategories:void 0,customModules:void 0,onSelectModule:(j,xe,de)=>{i==null||i("dashboard-template",{moduleName:j,reports:xe}),de||_(null)},onClose:()=>_(null),parentRef:O,onMouseEnter:te,onMouseLeave:le})]}),V&&(n.includes("procurement")||n.includes("supply-chain/warehouse")||n.includes("supply-chain/shipping")||n.includes("supply-chain/planning")||n.includes("supply-chain/fleet")||n.includes("supply-chain/vendors"))&&A.jsxs("div",{className:"relative group/reports px-1",onMouseEnter:Me,onMouseLeave:Z,ref:I,children:[A.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{},children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(Df,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),A.jsx("span",{children:"Report"})]}),A.jsx(ko,{size:14,className:"text-gray-400 group-hover:text-blue-500"})]}),A.jsx(kV,{isOpen:z,categories:Ee,modules:Ue,layers:ze,onSelectReport:(j,xe)=>at(j,xe),onClose:()=>{q(!1),_(null)},onMouseEnter:Me,onMouseLeave:Z,parentRef:I,customCategories:n.includes("supply-chain/warehouse")?IV:void 0,customModules:n.includes("supply-chain/warehouse")?UV:void 0})]}),!V&&A.jsxs("div",{className:"relative group/tables px-1",onMouseEnter:()=>{U(),J(),H("tables")},onMouseLeave:()=>{oe.current=setTimeout(()=>{H(null)},100)},children:[A.jsxs("button",{className:`w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors ${k==="tables"?"bg-blue-50 text-blue-600":""}`,onClick:j=>{j.stopPropagation(),H(k==="tables"?null:"tables")},children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(Gp,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),A.jsx("span",{children:"Tables"})]}),A.jsx(ko,{size:14,className:`text-gray-400 transition-transform duration-200 group-hover:text-blue-500 ${k==="tables"?"text-blue-500":""}`})]}),k==="tables"&&A.jsx("div",{className:"absolute left-full top-0 pl-2 w-64 z-50",children:A.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 ring-1 ring-black/5",children:[re&&l.map((j,xe)=>A.jsxs("div",{className:"w-[calc(100%-8px)] mx-1 flex items-center justify-between group rounded-lg transition-colors hover:bg-blue-50 pr-1",children:[A.jsxs("button",{className:"flex-1 text-left px-3 py-2 text-sm text-gray-700 hover:text-blue-600 flex items-center",onClick:()=>{Ct(j),_(null)},children:[A.jsx(Gp,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),A.jsx("span",{children:j.title})]}),A.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-200 rounded opacity-0 group-hover:opacity-100 transition-all",onClick:de=>{de.stopPropagation(),Ct(j,!0)},title:"Add and keep menu open",children:A.jsx(Of,{size:14})})]},xe)),A.jsx("div",{className:"border-t border-gray-100 my-1"}),A.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{i&&i("custom-table"),_(null)},children:A.jsxs("div",{className:"flex items-center",children:[A.jsx(Gp,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),A.jsx("span",{children:"Custom Table"})]})}),n==="supply-chain/procurement/data"&&A.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{i&&i("requests-table"),_(null)},children:A.jsxs("div",{className:"flex items-center",children:[A.jsx(Gp,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),A.jsx("span",{children:"Requests Table"})]})})]})})]})]}):W.name==="File"&&n==="supply-chain/vendors/analytics"?A.jsxs("div",{className:"relative group/new px-1",children:[A.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(Df,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),A.jsx("span",{children:"New"})]}),A.jsx(dl,{size:14,className:"text-gray-400 -rotate-90 group-hover:text-blue-500"})]}),A.jsx("div",{className:"absolute left-full top-0 ml-1 w-48 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 hidden group-hover/new:block ring-1 ring-black/5",children:A.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{M(!0),_(null)},children:[A.jsx(V0,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),A.jsx("span",{children:"Payment Request"})]})})]}):["1","2","3","4","5"].map(j=>A.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors flex items-center",onClick:()=>{x(`${W.name} Item ${j} clicked`,"success"),_(null)},children:[A.jsx("span",{className:"w-4 h-4 mr-2.5 rounded-full bg-gray-100 flex items-center justify-center text-[10px] text-gray-500 group-hover:bg-blue-100 group-hover:text-blue-600",children:j}),W.name," Item ",j]},j))]})]})]},W.name))})]}),A.jsx(YU,{isOpen:S,onClose:()=>M(!1)}),A.jsx(LV,{isOpen:b,onClose:()=>E(!1),onAddReport:at,activePage:n}),A.jsx(DV,{isOpen:C,onClose:()=>D(!1),onSelectTemplate:Ct,templates:l})]})},BV=({leftContent:i})=>A.jsxs("div",{className:"h-9 bg-white border-t border-gray-200 flex items-center justify-between px-6 text-[10px] text-gray-500 flex-shrink-0",children:[A.jsx("div",{className:"flex items-center space-x-4",children:i}),A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-1.5 animate-pulse"}),A.jsx("span",{children:"System Operational"})]}),A.jsxs("div",{className:"flex items-center text-gray-400",children:[A.jsx(j1,{size:12,className:"mr-1"}),A.jsx("span",{children:"Updated just now"})]})]})]}),jV=({onGenerate:i})=>{const[e,t]=Te.useState(!1),[n,a]=Te.useState(!1),r=()=>{a(!0),setTimeout(()=>{i()},500)};return A.jsxs("div",{className:"relative flex items-center justify-center",children:[A.jsx(Y0,{children:e&&!n&&A.jsx(_n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1.3},exit:{opacity:0,scale:.8},className:"absolute inset-0 bg-blue-500/20 blur-xl rounded-full z-0"})}),A.jsx("div",{className:"absolute inset-0 pointer-events-none z-0 overflow-visible",children:[...Array(12)].map((o,l)=>A.jsx(_n.div,{className:"absolute top-1/2 left-1/2 w-0.5 h-6 bg-cyan-400 shadow-[0_0_8px_rgba(34,211,238,0.8)]",initial:{opacity:0,scaleY:0,rotate:l*30,y:-20},animate:e&&!n?{opacity:[0,1,0],scaleY:[.5,1.2,.5],y:[-25,-35,-25],x:[0,(Math.random()-.5)*8,0],backgroundColor:l%2===0?"#22d3ee":"#a855f7"}:{opacity:0},transition:{duration:.2,repeat:1/0,repeatDelay:Math.random()*.3,ease:"linear"},style:{transformOrigin:"bottom center"}},l))}),A.jsxs(_n.button,{onClick:r,onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),className:`
          relative z-10 flex items-center gap-2 px-6 py-3 
          bg-black text-white rounded-full 
          border border-gray-800 hover:border-blue-500/50
          shadow-lg shadow-black/10
          overflow-hidden group
          transition-all duration-300
        `,whileHover:{scale:1.05},whileTap:{scale:.95},animate:n?{scale:0,opacity:0,y:-50}:{},transition:{duration:.4,ease:"backIn"},children:[A.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent group-hover:border-blue-400/30 transition-colors duration-300"}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-500/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-in-out"}),A.jsxs("div",{className:"relative flex items-center gap-2",children:[A.jsx("div",{className:"p-1 bg-white/10 rounded-full text-blue-400 group-hover:text-white group-hover:bg-blue-500 transition-colors",children:A.jsx(Bf,{size:16,className:e?"animate-pulse":"",fill:"currentColor"})}),A.jsx("span",{className:"text-sm font-bold tracking-wider uppercase font-mono",children:"Generate System"})]})]}),A.jsx(Y0,{children:n&&A.jsx(_n.div,{className:"absolute z-50 w-3 h-8 bg-blue-500 rounded-full shadow-[0_0_40px_rgba(59,130,246,1)]",initial:{y:0,scale:1},animate:{y:-window.innerHeight/2-100,scaleY:[1,3,.5],opacity:[1,1,0]},transition:{duration:.5,ease:"easeIn"},children:A.jsx("div",{className:"absolute inset-0 bg-cyan-300 blur-md scale-150"})})})]})},aR=6048e5,FV=864e5,VT=Symbol.for("constructDateFrom");function iu(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&VT in i?i[VT](e):i instanceof Date?new i.constructor(e):new Date(e)}function Fo(i,e){return iu(e||i,i)}function Cx(i,e,t){const n=Fo(i,t==null?void 0:t.in);return isNaN(e)?iu(i,NaN):(e&&n.setDate(n.getDate()+e),n)}function rR(i,e,t){const n=Fo(i,t==null?void 0:t.in);if(isNaN(e))return iu(i,NaN);if(!e)return n;const a=n.getDate(),r=iu(i,n.getTime());r.setMonth(n.getMonth()+e+1,0);const o=r.getDate();return a>=o?r:(n.setFullYear(r.getFullYear(),r.getMonth(),a),n)}let VV={};function _y(){return VV}function dm(i,e){var l,u,d,m;const t=_y(),n=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((m=(d=t.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,a=Fo(i,e==null?void 0:e.in),r=a.getDay(),o=(r<n?7:0)+r-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Jv(i,e){return dm(i,{...e,weekStartsOn:1})}function sR(i,e){const t=Fo(i,e==null?void 0:e.in),n=t.getFullYear(),a=iu(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const r=Jv(a),o=iu(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Jv(o);return t.getTime()>=r.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function HT(i){const e=Fo(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function sb(i,...e){const t=iu.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Qv(i,e){const t=Fo(i,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function HV(i,e,t){const[n,a]=sb(t==null?void 0:t.in,i,e),r=Qv(n),o=Qv(a),l=+r-HT(r),u=+o-HT(o);return Math.round((l-u)/FV)}function qV(i,e){const t=sR(i,e),n=iu(i,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Jv(n)}function qT(i,e,t){const[n,a]=sb(t==null?void 0:t.in,i,e);return+Qv(n)==+Qv(a)}function GV(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function WV(i){return!(!GV(i)&&typeof i!="number"||isNaN(+Fo(i)))}function XV(i,e){const t=Fo(i,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function YV(i,e){const[t,n]=sb(i,e.start,e.end);return{start:t,end:n}}function $V(i,e){const{start:t,end:n}=YV(e==null?void 0:e.in,i);let a=+t>+n;const r=a?+t:+n,o=a?n:t;o.setHours(0,0,0,0);let l=1;const u=[];for(;+o<=r;)u.push(iu(t,o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?u.reverse():u}function KV(i,e){const t=Fo(i,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function ZV(i,e){const t=Fo(i,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function GT(i,e){var l,u;const t=_y(),n=t.weekStartsOn??((u=(l=t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,a=Fo(i,e==null?void 0:e.in),r=a.getDay(),o=(r<n?-7:0)+6-(r-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const JV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QV=(i,e,t)=>{let n;const a=JV[i];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function f3(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const eH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iH={date:f3({formats:eH,defaultWidth:"full"}),time:f3({formats:tH,defaultWidth:"full"}),dateTime:f3({formats:nH,defaultWidth:"full"})},aH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rH=(i,e,t,n)=>aH[i];function i1(i){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let a;if(n==="formatting"&&i.formattingValues){const o=i.defaultFormattingWidth||i.defaultWidth,l=t!=null&&t.width?String(t.width):o;a=i.formattingValues[l]||i.formattingValues[o]}else{const o=i.defaultWidth,l=t!=null&&t.width?String(t.width):i.defaultWidth;a=i.values[l]||i.values[o]}const r=i.argumentCallback?i.argumentCallback(e):e;return a[r]}}const sH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hH=(i,e)=>{const t=Number(i),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},fH={ordinalNumber:hH,era:i1({values:sH,defaultWidth:"wide"}),quarter:i1({values:oH,defaultWidth:"wide",argumentCallback:i=>i-1}),month:i1({values:lH,defaultWidth:"wide"}),day:i1({values:cH,defaultWidth:"wide"}),dayPeriod:i1({values:uH,defaultWidth:"wide",formattingValues:dH,defaultFormattingWidth:"wide"})};function a1(i){return(e,t={})=>{const n=t.width,a=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],r=e.match(a);if(!r)return null;const o=r[0],l=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],u=Array.isArray(l)?mH(l,y=>y.test(o)):pH(l,y=>y.test(o));let d;d=i.valueCallback?i.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const m=e.slice(o.length);return{value:d,rest:m}}}function pH(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function mH(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function gH(i){return(e,t={})=>{const n=e.match(i.matchPattern);if(!n)return null;const a=n[0],r=e.match(i.parsePattern);if(!r)return null;let o=i.valueCallback?i.valueCallback(r[0]):r[0];o=t.valueCallback?t.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const yH=/^(\d+)(th|st|nd|rd)?/i,xH=/\d+/i,vH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bH={any:[/^b/i,/^(a|c)/i]},_H={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wH={any:[/1/i,/2/i,/3/i,/4/i]},SH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},AH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NH={ordinalNumber:gH({matchPattern:yH,parsePattern:xH,valueCallback:i=>parseInt(i,10)}),era:a1({matchPatterns:vH,defaultMatchWidth:"wide",parsePatterns:bH,defaultParseWidth:"any"}),quarter:a1({matchPatterns:_H,defaultMatchWidth:"wide",parsePatterns:wH,defaultParseWidth:"any",valueCallback:i=>i+1}),month:a1({matchPatterns:SH,defaultMatchWidth:"wide",parsePatterns:AH,defaultParseWidth:"any"}),day:a1({matchPatterns:MH,defaultMatchWidth:"wide",parsePatterns:TH,defaultParseWidth:"any"}),dayPeriod:a1({matchPatterns:EH,defaultMatchWidth:"any",parsePatterns:CH,defaultParseWidth:"any"})},RH={code:"en-US",formatDistance:QV,formatLong:iH,formatRelative:rH,localize:fH,match:NH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LH(i,e){const t=Fo(i,e==null?void 0:e.in);return HV(t,ZV(t))+1}function DH(i,e){const t=Fo(i,e==null?void 0:e.in),n=+Jv(t)-+qV(t);return Math.round(n/aR)+1}function oR(i,e){var m,y,x,g;const t=Fo(i,e==null?void 0:e.in),n=t.getFullYear(),a=_y(),r=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(x=a.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??1,o=iu((e==null?void 0:e.in)||i,0);o.setFullYear(n+1,0,r),o.setHours(0,0,0,0);const l=dm(o,e),u=iu((e==null?void 0:e.in)||i,0);u.setFullYear(n,0,r),u.setHours(0,0,0,0);const d=dm(u,e);return+t>=+l?n+1:+t>=+d?n:n-1}function OH(i,e){var l,u,d,m;const t=_y(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(d=t.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,a=oR(i,e),r=iu((e==null?void 0:e.in)||i,0);return r.setFullYear(a,0,n),r.setHours(0,0,0,0),dm(r,e)}function PH(i,e){const t=Fo(i,e==null?void 0:e.in),n=+dm(t,e)-+OH(t,e);return Math.round(n/aR)+1}function Aa(i,e){const t=i<0?"-":"",n=Math.abs(i).toString().padStart(e,"0");return t+n}const yf={y(i,e){const t=i.getFullYear(),n=t>0?t:1-t;return Aa(e==="yy"?n%100:n,e.length)},M(i,e){const t=i.getMonth();return e==="M"?String(t+1):Aa(t+1,2)},d(i,e){return Aa(i.getDate(),e.length)},a(i,e){const t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return Aa(i.getHours()%12||12,e.length)},H(i,e){return Aa(i.getHours(),e.length)},m(i,e){return Aa(i.getMinutes(),e.length)},s(i,e){return Aa(i.getSeconds(),e.length)},S(i,e){const t=e.length,n=i.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return Aa(a,e.length)}},Jm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WT={G:function(i,e,t){const n=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){const n=i.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return yf.y(i,e)},Y:function(i,e,t,n){const a=oR(i,n),r=a>0?a:1-a;if(e==="YY"){const o=r%100;return Aa(o,2)}return e==="Yo"?t.ordinalNumber(r,{unit:"year"}):Aa(r,e.length)},R:function(i,e){const t=sR(i);return Aa(t,e.length)},u:function(i,e){const t=i.getFullYear();return Aa(t,e.length)},Q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Aa(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Aa(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(i,e,t){const n=i.getMonth();switch(e){case"M":case"MM":return yf.M(i,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(i,e,t){const n=i.getMonth();switch(e){case"L":return String(n+1);case"LL":return Aa(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(i,e,t,n){const a=PH(i,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):Aa(a,e.length)},I:function(i,e,t){const n=DH(i);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Aa(n,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):yf.d(i,e)},D:function(i,e,t){const n=LH(i);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Aa(n,e.length)},E:function(i,e,t){const n=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(i,e,t,n){const a=i.getDay(),r=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return Aa(r,2);case"eo":return t.ordinalNumber(r,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(i,e,t,n){const a=i.getDay(),r=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return Aa(r,e.length);case"co":return t.ordinalNumber(r,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(i,e,t){const n=i.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Aa(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(i,e,t){const a=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(i,e,t){const n=i.getHours();let a;switch(n===12?a=Jm.noon:n===0?a=Jm.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(i,e,t){const n=i.getHours();let a;switch(n>=17?a=Jm.evening:n>=12?a=Jm.afternoon:n>=4?a=Jm.morning:a=Jm.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let n=i.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return yf.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):yf.H(i,e)},K:function(i,e,t){const n=i.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Aa(n,e.length)},k:function(i,e,t){let n=i.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Aa(n,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):yf.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):yf.s(i,e)},S:function(i,e){return yf.S(i,e)},X:function(i,e,t){const n=i.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return YT(n);case"XXXX":case"XX":return Fp(n);case"XXXXX":case"XXX":default:return Fp(n,":")}},x:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"x":return YT(n);case"xxxx":case"xx":return Fp(n);case"xxxxx":case"xxx":default:return Fp(n,":")}},O:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+XT(n,":");case"OOOO":default:return"GMT"+Fp(n,":")}},z:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+XT(n,":");case"zzzz":default:return"GMT"+Fp(n,":")}},t:function(i,e,t){const n=Math.trunc(+i/1e3);return Aa(n,e.length)},T:function(i,e,t){return Aa(+i,e.length)}};function XT(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),a=Math.trunc(n/60),r=n%60;return r===0?t+String(a):t+String(a)+e+Aa(r,2)}function YT(i,e){return i%60===0?(i>0?"-":"+")+Aa(Math.abs(i)/60,2):Fp(i,e)}function Fp(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),a=Aa(Math.trunc(n/60),2),r=Aa(n%60,2);return t+a+e+r}const $T=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},lR=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},kH=(i,e)=>{const t=i.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return $T(i,e);let r;switch(n){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});break}return r.replace("{{date}}",$T(n,e)).replace("{{time}}",lR(a,e))},IH={p:lR,P:kH},UH=/^D+$/,zH=/^Y+$/,BH=["D","DD","YY","YYYY"];function jH(i){return UH.test(i)}function FH(i){return zH.test(i)}function VH(i,e,t){const n=HH(i,e,t);if(console.warn(n),BH.includes(i))throw new RangeError(n)}function HH(i,e,t){const n=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WH=/^'([^]*?)'?$/,XH=/''/g,YH=/[a-zA-Z]/;function Jc(i,e,t){var m,y,x,g;const n=_y(),a=n.locale??RH,r=n.firstWeekContainsDate??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=n.weekStartsOn??((g=(x=n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,l=Fo(i,t==null?void 0:t.in);if(!WV(l))throw new RangeError("Invalid time value");let u=e.match(GH).map(_=>{const S=_[0];if(S==="p"||S==="P"){const M=IH[S];return M(_,a.formatLong)}return _}).join("").match(qH).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const S=_[0];if(S==="'")return{isToken:!1,value:$H(_)};if(WT[S])return{isToken:!0,value:_};if(S.match(YH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:_}});a.localize.preprocessor&&(u=a.localize.preprocessor(l,u));const d={firstWeekContainsDate:r,weekStartsOn:o,locale:a};return u.map(_=>{if(!_.isToken)return _.value;const S=_.value;(FH(S)||jH(S))&&VH(S,e,String(i));const M=WT[S[0]];return M(l,S,a.localize,d)}).join("")}function $H(i){const e=i.match(WH);return e?e[1].replace(XH,"'"):i}function KH(i,e,t){const[n,a]=sb(t==null?void 0:t.in,i,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function ZH(i,e,t){return rR(i,-1,t)}const ro=[];for(let i=0;i<256;++i)ro.push((i+256).toString(16).slice(1));function JH(i,e=0){return(ro[i[e+0]]+ro[i[e+1]]+ro[i[e+2]]+ro[i[e+3]]+"-"+ro[i[e+4]]+ro[i[e+5]]+"-"+ro[i[e+6]]+ro[i[e+7]]+"-"+ro[i[e+8]]+ro[i[e+9]]+"-"+ro[i[e+10]]+ro[i[e+11]]+ro[i[e+12]]+ro[i[e+13]]+ro[i[e+14]]+ro[i[e+15]]).toLowerCase()}let p3;const QH=new Uint8Array(16);function eq(){if(!p3){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");p3=crypto.getRandomValues.bind(crypto)}return p3(QH)}const tq=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),KT={randomUUID:tq};function nq(i,e,t){var a;i=i||{};const n=i.random??((a=i.rng)==null?void 0:a.call(i))??eq();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,JH(n)}function ZT(i,e,t){return KT.randomUUID&&!i?KT.randomUUID():nq(i)}const Nx=py(),iq={getSpaces:async()=>(await fetch(`${Nx}/spaces`)).json(),createSpace:async(i,e)=>{const t={id:`SPACE-${Date.now()}`,name:i,color:e||"#"+Math.floor(Math.random()*16777215).toString(16)};return(await fetch(`${Nx}/spaces`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()},updateSpace:async(i,e)=>{await fetch(`${Nx}/spaces/${i}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},deleteSpace:async i=>{await fetch(`${Nx}/spaces/${i}`,{method:"DELETE"})}},aq="taskboard-state",rq={Done:"#00C875","Working on it":"#FDAB3D",Stuck:"#E2445C"},sq={Normal:"#D9D9D9",Low:"#579BFC",Medium:"#FFA533",High:"#7048C4",Urgent:"#FF526B"},JT=i=>sq[i||"Normal"]||"#D9D9D9",QT=i=>rq[i||""]||"#cbd5e1",oq=({refreshTrigger:i,onAddTask:e,onShowList:t,storageKey:n})=>{const a=n||aq,[r,o]=Te.useState(new Date),[l,u]=Te.useState([]),[d,m]=Te.useState("month"),[y,x]=Te.useState(!1),g=async()=>{const te=[];try{const le=Pf.getCurrentUser(),Me=le?`taskboard-${le.id}`:"taskboard-default",Z=localStorage.getItem(Me);if(Z){const V=JSON.parse(Z);V!=null&&V.groups&&V.groups.forEach(re=>{(re.tasks||[]).forEach(ce=>{ce!=null&&ce.dueDate&&te.push({id:ce.id,name:ce.name||"Task",dueDate:ce.dueDate,status:ce.status,priority:ce.priority,source:"main",spaceName:"Main Board"})})})}}catch(le){console.warn("Error loading main board tasks",le)}try{(await iq.getSpaces()).forEach(Me=>{const Z=`taskboard-${Me.id}`,V=localStorage.getItem(Z);if(V){const re=JSON.parse(V);re!=null&&re.groups&&re.groups.forEach(ce=>{(ce.tasks||[]).forEach(pe=>{pe!=null&&pe.dueDate&&te.push({id:pe.id,name:pe.name||"Task",dueDate:pe.dueDate,status:pe.status,priority:pe.priority,source:"private",spaceName:Me.name})})})}})}catch(le){console.warn("Error loading space tasks",le)}u(te)};Te.useEffect(()=>{g()},[i,a]);const _=()=>{if(d==="day")return{startDate:r,endDate:r};if(d==="4days")return{startDate:r,endDate:Cx(r,3)};if(d==="week")return{startDate:dm(r),endDate:GT(r)};const te=KV(r),le=XV(te);return{startDate:dm(te),endDate:GT(le)}},{startDate:S,endDate:M}=_(),b=Te.useMemo(()=>$V({start:S,end:M}),[S,M]),E=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],C=d==="month"||d==="week"?7:d==="4days"?4:1;d==="month"||b.slice(0,C);const D=d==="month",k=Te.useMemo(()=>Array.from({length:24},(te,le)=>{const Me=le%12===0?12:le%12,Z=le<12?"am":"pm";return`${Me}${Z}`}),[]),H=D?b:b.slice(0,C),G="160px",X=Te.useMemo(()=>{const te={};return b.forEach(le=>{const Me=Jc(le,"yyyy-MM-dd");te[Me]=[]}),l.forEach(le=>{const Me=le.dueDate;te[Me]&&te[Me].push(le)}),te},[l,b]),O=()=>o(new Date),z=te=>{const le=te==="prev"?-1:1;return o(d==="day"?Me=>Cx(Me,le):d==="4days"?Me=>Cx(Me,le*4):d==="week"?Me=>Cx(Me,le*7):Me=>te==="prev"?ZH(Me):rR(Me,1))},q={day:"Day","4days":"4 days",week:"Week",month:"Month"}[d],I=d==="month"?Jc(r,"MMMM yyyy"):`${Jc(S,"MMM d")}  ${Jc(M,"MMM d, yyyy")}`,$=[{id:"day",label:"Day",hotkey:"D"},{id:"4days",label:"4 days",hotkey:"4"},{id:"week",label:"Week",hotkey:"W"},{id:"month",label:"Month",hotkey:"M"}],U=()=>({id:"board-1",name:"Task Board",columns:[{id:"col_name",title:"Item",type:"name",width:"300px"},{id:"col_person",title:"Owner",type:"person",width:"96px"},{id:"col_status",title:"Status",type:"status",width:"128px"},{id:"col_priority",title:"Priority",type:"priority",width:"128px"},{id:"col_date",title:"Due Date",type:"date",width:"110px"}],groups:[]}),oe=()=>{try{const te=localStorage.getItem(a);if(!te)return U();const le=JSON.parse(te);return le!=null&&le.groups&&(le!=null&&le.columns)?le:U()}catch{return U()}},J=te=>{try{localStorage.setItem(a,JSON.stringify(te))}catch(le){console.warn("Failed to save board from calendar",le)}},ae=te=>{const le=oe(),Me=Jc(te,"yyyy-MM-dd"),Z=Array.isArray(le.groups)?le.groups:[],V=Z[0]||{id:ZT(),title:"New Group",color:"#579bfc",tasks:[]};Z.length===0&&(le.groups=[V]);const re={id:ZT(),name:"New Item",status:"Working on it",priority:"Medium",dueDate:Me,personId:null,textValues:{}};V.tasks=[...V.tasks||[],re],J(le),J(le),g()};return A.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-100 rounded-2xl shadow-sm overflow-hidden relative",children:[A.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-200 bg-white",children:[A.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[A.jsx("button",{onClick:O,className:"px-3 py-1.5 rounded-md border border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700 font-medium",children:"Today"}),A.jsxs("div",{className:"relative",children:[A.jsxs("button",{className:"px-3 py-1.5 rounded-md border border-gray-200 bg-gray-50 text-gray-700 font-medium inline-flex items-center gap-1",onClick:()=>x(te=>!te),children:[q," ",A.jsx(dl,{size:14})]}),y&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>x(!1)}),A.jsxs("div",{className:"absolute z-20 mt-2 w-44 bg-white rounded-xl shadow-xl border border-gray-200 p-3",children:[A.jsx("div",{className:"text-[11px] font-semibold text-gray-400 uppercase mb-2",children:"Time period"}),A.jsx("div",{className:"space-y-1",children:$.map(te=>A.jsxs("button",{onClick:()=>{m(te.id),x(!1)},className:`w-full flex items-center justify-between px-2.5 py-2 rounded-lg text-sm hover:bg-gray-50 ${d===te.id?"text-black font-medium bg-gray-100":"text-gray-700"}`,children:[A.jsx("span",{children:te.label}),A.jsx("span",{className:"px-2 py-0.5 rounded border border-gray-200 text-[11px] text-gray-500 bg-gray-50",children:te.hotkey})]},te.id))})]})]})]}),A.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l border-gray-200 text-gray-800 font-semibold",children:[A.jsx("button",{onClick:()=>z("prev"),className:"p-1.5 rounded-md hover:bg-gray-100",children:A.jsx(h6,{size:16})}),A.jsx("span",{className:"text-base",children:I}),A.jsx("button",{onClick:()=>z("next"),className:"p-1.5 rounded-md hover:bg-gray-100",children:A.jsx(ko,{size:16})})]})]}),A.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[A.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-50",children:[A.jsx(sm,{size:16})," Search"]}),A.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-50",children:[A.jsx(ZO,{size:16})," Hide"]}),A.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-50",children:[A.jsx(lk,{size:16})," Customize"]}),A.jsx("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-50",onClick:g,title:"Refresh tasks",children:A.jsx(S6,{size:16})}),A.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-md bg-black text-white hover:bg-gray-800 shadow-sm",onClick:()=>t?t():e==null?void 0:e(),children:[A.jsx(Of,{size:16})," Add Task"]})]})]}),A.jsxs("div",{className:"flex items-center gap-3 px-5 py-2 border-b border-gray-200 text-xs text-gray-600 bg-gray-50/80",children:[A.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-full border border-gray-200 bg-white hover:border-gray-300",children:[A.jsx(p6,{size:12})," Filter"]}),A.jsx("button",{className:"px-2 py-1 rounded-full border border-gray-200 bg-white hover:border-gray-300",children:"Closed"}),A.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-full border border-gray-200 bg-white hover:border-gray-300",children:[A.jsx(Ak,{size:12})," Assignee"]}),A.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[A.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"}),A.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"}),A.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"})]}),A.jsxs("div",{className:"px-3 py-1 rounded-full border border-gray-200 bg-white text-gray-500 flex items-center gap-2",children:[A.jsx(sm,{size:12})," Search"]})]})]}),D?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"grid text-xs font-semibold text-gray-500 border-b border-gray-200 px-5 py-2 bg-white",style:{gridTemplateColumns:`repeat(${C}, minmax(0,1fr))`},children:E.map(te=>A.jsx("div",{className:"uppercase tracking-wide text-left",children:te},te))}),A.jsx("div",{className:"grid flex-1 bg-gray-100 gap-px relative",style:{gridTemplateColumns:`repeat(${C}, minmax(0,1fr))`,gridAutoRows:G},children:b.map(te=>{const le=Jc(te,"yyyy-MM-dd"),Me=X[le]||[],Z=KH(te,r),V=qT(te,new Date);return A.jsxs("div",{className:`bg-white p-3 flex flex-col border border-transparent hover:border-indigo-200 transition-colors ${Z?"":"bg-gray-50 text-gray-400"}`,children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("div",{className:`text-sm font-medium ${V?"text-white bg-black rounded-full px-2 py-1 shadow":"text-gray-700"}`,children:Jc(te,"d")}),A.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-black p-1 rounded",onClick:re=>{re.stopPropagation(),ae(te)},title:"Add task on this date",children:A.jsx(Of,{size:14})})]}),A.jsx("div",{className:"space-y-1 overflow-y-auto custom-scrollbar pr-1",children:Me.map(re=>A.jsxs("div",{className:`text-[11px] leading-4 px-2 py-1 border flex items-center gap-2 shadow-[0_1px_3px_rgba(0,0,0,0.05)] cursor-pointer hover:border-black/50 ${re.source==="main"?"rounded-none border-l-4":"rounded-lg border-l-[3px]"}`,style:{borderLeftColor:QT(re.status)},title:`${re.name} (${re.spaceName}) - Priority: ${re.priority}`,children:[A.jsx("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:JT(re.priority)}}),A.jsx("span",{className:"truncate text-gray-700",children:re.name})]},re.id))})]},le)})})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"grid text-xs font-semibold text-gray-500 border-b border-gray-200 px-5 py-2 bg-white",style:{gridTemplateColumns:`repeat(${C}, minmax(0,1fr))`},children:H.map(te=>A.jsxs("div",{className:"text-left",children:[A.jsx("div",{className:"text-[11px] uppercase text-gray-400",children:Jc(te,"EEE")}),A.jsx("div",{className:"text-sm text-gray-700 font-semibold",children:Jc(te,"MMM d")})]},te.toISOString()))}),A.jsxs("div",{className:"flex flex-1 overflow-auto",children:[A.jsxs("div",{className:"w-20 border-r border-gray-200 text-[11px] text-gray-400 bg-white",children:[A.jsx("div",{className:"h-11 flex items-center justify-end pr-2 border-b border-gray-100",children:"All day"}),k.map((te,le)=>A.jsx("div",{className:`h-12 flex items-start justify-end pr-2 ${le===0?"border-t border-gray-100":""} border-b border-gray-100`,children:A.jsx("span",{className:"pt-1",children:te})},te))]}),A.jsx("div",{className:"flex-1 overflow-auto",children:A.jsx("div",{className:"grid min-w-full",style:{gridTemplateColumns:`repeat(${C}, minmax(200px, 1fr))`},children:H.map(te=>{const le=Jc(te,"yyyy-MM-dd"),Me=X[le]||[],Z=qT(te,new Date);return A.jsxs("div",{className:"border-r border-gray-100 relative",children:[A.jsxs("div",{className:"h-11 border-b border-gray-100 flex items-center justify-between px-3 bg-white",children:[A.jsx("div",{className:`text-sm font-medium ${Z?"text-black":"text-gray-700"}`,children:Jc(te,"d")}),A.jsx("button",{className:"text-gray-400 hover:text-black p-1 rounded transition-colors",onClick:V=>{V.stopPropagation(),ae(te)},title:"Add task on this date",children:A.jsx(Of,{size:14})})]}),Me.length>0&&A.jsx("div",{className:"absolute left-3 right-3 top-2 z-10 space-y-1 pointer-events-none",children:Me.map(V=>A.jsxs("div",{className:`text-[11px] leading-4 px-2 py-1 border shadow-[0_1px_3px_rgba(0,0,0,0.05)] bg-white flex items-center gap-2 ${V.source==="main"?"rounded-none border-l-4":"rounded-lg border-l-[3px]"}`,style:{borderLeftColor:QT(V.status)},title:`${V.name} (${V.spaceName}) - Priority: ${V.priority}`,children:[A.jsx("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:JT(V.priority)}}),A.jsx("span",{className:"truncate text-gray-700",children:V.name})]},V.id))}),A.jsx("div",{className:"relative",children:k.map((V,re)=>A.jsx("div",{className:"h-12 border-b border-gray-100 hover:bg-gray-50 transition-colors"},V))})]},le)})})})]})]})]})},lq=({isOpen:i,onClose:e})=>(Te.useEffect(()=>{const t=n=>{n.key==="Escape"&&e()};return i&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[i,e]),i?hS.createPortal(A.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:A.jsxs("div",{className:"relative w-[95vw] h-[90vh] bg-white rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-white",children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Calendar"}),A.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 text-gray-500 hover:text-gray-800 rounded-full transition-colors",children:A.jsx(Ph,{size:20})})]}),A.jsx("div",{className:"flex-1 bg-gray-50/50 overflow-hidden",children:A.jsx("div",{className:"h-full p-4",children:A.jsx(oq,{refreshTrigger:Date.now().toString()})})})]})}),document.body):null),cq=({isOpen:i,onClose:e})=>{const[t,n]=Te.useState("");Te.useEffect(()=>{const r=localStorage.getItem("notepad-content");r&&n(r)},[]),Te.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]);const a=r=>{const o=r.target.value;n(o),localStorage.setItem("notepad-content",o)};return i?hS.createPortal(A.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:A.jsxs("div",{className:"relative w-[600px] h-[700px] bg-white rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-[#FEF3C7] border-b border-[#FDE68A]",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{className:"p-1 hover:bg-black/5 rounded transition-colors text-gray-700",children:A.jsx(h6,{size:18})}),A.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:Jc(new Date,"MMMM d, yyyy")})]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("button",{className:"p-1.5 hover:bg-black/5 rounded transition-colors text-gray-700",children:A.jsx($O,{size:18})}),A.jsx("button",{onClick:e,className:"p-1.5 hover:bg-black/5 rounded transition-colors text-gray-700",children:A.jsx(Ph,{size:18})})]})]}),A.jsx("div",{className:"flex-1 bg-white p-6",children:A.jsx("textarea",{className:"w-full h-full resize-none outline-none text-gray-700 text-base leading-relaxed placeholder-gray-400",placeholder:"Write or type '/' for commands and AI actions",value:t,onChange:a,autoFocus:!0})})]})}),document.body):null},uq=({onNavigate:i,activePage:e="home"})=>{const t=[{id:"home",label:"Home",icon:x6},{id:"inbox",label:"Inbox",icon:v6},{id:"discussion",label:"Discussion",icon:Mw},{id:"overview",label:"Overview",icon:zf},{id:"goals",label:"Goals",icon:G0},{id:"reminders",label:"Reminders",icon:s6},{id:"tasks",label:"Tasks",icon:_6},{id:"vault",label:"Vault",icon:fy},{id:"teams",label:"Teams",icon:Mc}],n=[{id:"departments",label:"Departments",icon:l6,subItems:[{id:"supply-chain",label:"Supply Chain",isHeader:!0},{id:"supply-chain/procurement",label:"Procurement",children:[{id:"procurement-data",label:"Data",path:"supply-chain/procurement/data"},{id:"procurement-analytics",label:"Analytics",path:"supply-chain/procurement/analytics"}]},{id:"supply-chain/warehouse",label:"Warehouse",children:[{id:"warehouse-data",label:"Data",path:"supply-chain/warehouse/data"},{id:"warehouse-analytics",label:"Analytics",path:"supply-chain/warehouse/analytics"}]},{id:"supply-chain/shipping",label:"Shipping",children:[{id:"shipping-data",label:"Data",path:"supply-chain/shipping/data"},{id:"shipping-analytics",label:"Analytics",path:"supply-chain/shipping/analytics"}]},{id:"supply-chain/planning",label:"Planning",children:[{id:"planning-data",label:"Data",path:"supply-chain/planning/data"},{id:"planning-analytics",label:"Analytics",path:"supply-chain/planning/analytics"}]},{id:"supply-chain/fleet",label:"Fleet",children:[{id:"fleet-data",label:"Data",path:"supply-chain/fleet/data"},{id:"fleet-analytics",label:"Analytics",path:"supply-chain/fleet/analytics"}]},{id:"supply-chain/vendors",label:"Vendors",children:[{id:"vendors-data",label:"Data",path:"supply-chain/vendors/data"},{id:"vendors-analytics",label:"Analytics",path:"supply-chain/vendors/analytics"}]},{id:"operations",label:"Operations",isHeader:!0},{id:"operations/maintenance",label:"Maintenance",children:[{id:"maintenance-data",label:"Data",path:"operations/maintenance/data"},{id:"maintenance-analytics",label:"Analytics",path:"operations/maintenance/analytics"}]},{id:"operations/production",label:"Production",children:[{id:"production-data",label:"Data",path:"operations/production/data"},{id:"production-analytics",label:"Analytics",path:"operations/production/analytics"}]},{id:"operations/quality",label:"Quality",children:[{id:"quality-data",label:"Data",path:"operations/quality/data"},{id:"quality-analytics",label:"Analytics",path:"operations/quality/analytics"}]},{id:"business",label:"Business",isHeader:!0},{id:"business/sales",label:"Sales",children:[{id:"sales-data",label:"Data",path:"business/sales/data"},{id:"sales-analytics",label:"Analytics",path:"business/sales/analytics"}]},{id:"business/finance",label:"Finance",children:[{id:"finance-data",label:"Data",path:"business/finance/data"},{id:"finance-analytics",label:"Analytics",path:"business/finance/analytics"}]},{id:"support",label:"Support",isHeader:!0},{id:"support/it",label:"IT",children:[{id:"it-data",label:"Data",path:"support/it/data"},{id:"it-analytics",label:"Analytics",path:"support/it/analytics"}]},{id:"support/hr",label:"HR",children:[{id:"hr-data",label:"Data",path:"support/hr/data"},{id:"hr-analytics",label:"Analytics",path:"support/hr/analytics"}]},{id:"support/marketing",label:"Marketing",children:[{id:"marketing-data",label:"Data",path:"support/marketing/data"},{id:"marketing-analytics",label:"Analytics",path:"support/marketing/analytics"}]}]},{id:"spaces",label:"Private Rooms",icon:Aw,subItems:[{id:"personal",label:"Personal Room"},{id:"confidential",label:"Confidential"}]},{id:"smart-tools",label:"Smart Tools",icon:If,subItems:[{id:"mind-map",label:"Mind Map"},{id:"dashboard",label:"AI Dashboard"}]},{id:"marketplace",label:"Marketplace",icon:rk,subItems:[{id:"local",label:"Local Market"},{id:"foreign",label:"Foreign Market"}]}],a=t.length+n.length,r=Math.floor(a/2),o={hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.1}}},l={hidden:{y:-20,opacity:0},visible:u=>({y:0,opacity:1,transition:{delay:u*.05,type:"spring",stiffness:300,damping:24}})};return A.jsxs(_n.div,{className:"flex items-center justify-center gap-1 overflow-visible px-2 w-full h-full",variants:o,initial:"hidden",animate:"visible",children:[t.map((u,d)=>{const m=e===u.id,y=Math.abs(d-r);return A.jsxs(_n.button,{custom:y,variants:l,className:`relative flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors shrink-0 ${m?"text-white":"text-gray-300 hover:text-white"}`,onClick:()=>i(u.id),whileHover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.1)"},whileTap:{scale:.95},children:[m&&A.jsx(_n.div,{layoutId:"activeNav",className:"absolute inset-0 bg-white/15 rounded-lg",transition:{type:"spring",bounce:.2,duration:.6}}),A.jsx(u.icon,{size:14,className:"relative z-10"}),A.jsx("span",{className:"relative z-10",children:u.label})]},u.id)}),A.jsx(_n.div,{className:"w-px h-4 bg-gray-700 mx-2 shrink-0",initial:{opacity:0,height:0},animate:{opacity:1,height:16},transition:{delay:.5}}),n.map((u,d)=>{const m=t.length+d,y=Math.abs(m-r),x=e.startsWith(u.id);return A.jsxs(_n.div,{custom:y,variants:l,className:"relative group shrink-0",children:[A.jsxs(_n.button,{className:`relative flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${x?"text-white":"text-gray-300 hover:text-white"}`,whileHover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.1)"},whileTap:{scale:.95},children:[x&&A.jsx(_n.div,{layoutId:"activeNav",className:"absolute inset-0 bg-white/15 rounded-lg",transition:{type:"spring",bounce:.2,duration:.6}}),A.jsx(u.icon,{size:14,className:"relative z-10"}),A.jsx("span",{className:"relative z-10",children:u.label}),A.jsx(dl,{size:12,className:"relative z-10 text-gray-500 group-hover:text-gray-300 transition-transform group-hover:rotate-180"})]}),A.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-56 bg-[#2a2e35] border border-gray-700 rounded-xl shadow-2xl opacity-0 translate-y-2 invisible group-hover:opacity-100 group-hover:translate-y-0 group-hover:visible transition-all duration-200 z-50 overflow-visible origin-top",children:A.jsx("div",{className:"py-1",children:u.subItems.map(g=>g.isHeader?A.jsx("div",{className:"px-4 py-1.5 text-xs font-bold text-gray-500 uppercase tracking-wider mt-1 first:mt-0",children:g.label},g.id):A.jsxs("div",{className:"relative group/sub",children:[A.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors flex items-center justify-between",onClick:()=>{g.children||i(u.id==="departments"?g.id:`${u.id}/${g.id}`)},children:[A.jsx("span",{className:g.isChild?"pl-4":"",children:g.label}),g.children&&A.jsx(dl,{size:10,className:"-rotate-90 text-gray-500"})]}),g.children&&A.jsx("div",{className:"absolute left-full top-0 ml-1 w-40 bg-[#2a2e35] border border-gray-700 rounded-xl shadow-xl opacity-0 invisible -translate-x-2 group-hover/sub:opacity-100 group-hover/sub:visible group-hover/sub:translate-x-0 transition-all duration-200 z-50",children:A.jsx("div",{className:"py-1",children:g.children.map(_=>A.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:S=>{S.stopPropagation(),i(_.path)},children:_.label},_.id))})})]},g.id))})})]},u.id)})]})},dq=({user:i,onLogout:e,onActivate:t,currentStyle:n="main",onStyleChange:a,className:r="",isSystemGenerated:o=!1})=>{const{setBrainOpen:l,appStyle:u,setAppStyle:d}=Tw(),{activePage:m,setActivePage:y}=my(),x=u||n,g=I=>{d(I),a&&a(I)},{showToast:_}=hg(),[S,M]=Te.useState(!1),[b,E]=Te.useState(!1),[C,D]=Te.useState(!1),[k,H]=Te.useState(!1),[G,X]=Te.useState(!1),O=Te.useRef(null),z=Te.useRef(null),q=Te.useRef(null);return Te.useEffect(()=>{const I=$=>{O.current&&!O.current.contains($.target)&&M(!1),z.current&&!z.current.contains($.target)&&E(!1),q.current&&!q.current.contains($.target)&&D(!1)};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]),A.jsxs("div",{className:`h-12 bg-clickup-sidebar flex items-center justify-between px-4 flex-shrink-0 z-40 text-gray-300 shadow-md select-none ${r}`,children:[A.jsx(lq,{isOpen:k,onClose:()=>H(!1)}),A.jsx(cq,{isOpen:G,onClose:()=>X(!1)}),A.jsx("div",{className:"flex items-center w-[280px] shrink-0",children:A.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:opacity-90 transition-opacity group",children:[A.jsx("img",{src:"/nabd_logo_icon.png",alt:"Icon",className:"w-8 h-8 rounded-lg shadow-lg shadow-brand-primary/20 group-hover:shadow-brand-primary/40 transition-all"}),A.jsx("span",{className:"font-bold text-white tracking-tight hidden md:block group-hover:text-brand-accent transition-colors",children:L6()})]})}),x!=="floating"&&A.jsx("div",{className:"flex-1 flex justify-center px-4 min-w-0",children:A.jsx("div",{className:"w-full max-w-xl relative group",children:A.jsxs("div",{className:"flex items-center bg-[#3E4147] hover:bg-[#4B4E55] transition-colors rounded-lg px-3 py-1.5 cursor-text border border-transparent group-focus-within:border-brand-primary/50 group-focus-within:bg-[#2B2D31] h-8 shadow-inner",children:[A.jsx(sm,{size:14,className:"text-gray-400 group-focus-within:text-brand-primary mr-2 transition-colors"}),A.jsx("input",{type:"text",placeholder:"Search",className:"bg-transparent border-none outline-none text-sm text-gray-200 placeholder-gray-400 w-full group-focus-within:text-white",onKeyDown:I=>I.key==="Enter"&&_("Global Search...","info")}),A.jsx("div",{className:"flex items-center space-x-1 ml-2",children:A.jsxs("div",{className:"hidden md:flex items-center space-x-1 bg-gray-600/50 px-1.5 py-0.5 rounded text-[10px] text-gray-300 border border-gray-500/30 shadow-sm",children:[A.jsx(FO,{size:10}),A.jsx("span",{children:"K"})]})})]})})}),x==="floating"&&A.jsx("div",{className:"flex-1 flex justify-center px-4 min-w-0 h-full",children:A.jsx(uq,{onNavigate:I=>y(I),activePage:m})}),A.jsxs("div",{className:"flex items-center justify-end shrink-0 gap-3 w-[280px]",children:[A.jsxs("div",{className:"relative",ref:z,children:[A.jsx("button",{className:`hidden md:flex items-center justify-center w-8 h-8 text-white hover:bg-white/10 rounded-md transition-colors ${b?"bg-white/10":""}`,onClick:()=>E(!b),children:A.jsx(hP,{size:20})}),b&&A.jsx("div",{className:"absolute right-0 top-full mt-2 w-[320px] bg-white rounded-xl shadow-2xl z-50 p-4 animate-in fade-in slide-in-from-top-2 border border-gray-200",children:A.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"My Profile",icon:Tk,color:"text-purple-600",bg:"bg-purple-50"},{label:"My Work",icon:Sv,color:"text-blue-600",bg:"bg-blue-50"},{label:"Calendar",icon:ug,color:"text-teal-600",bg:"bg-teal-50"},{label:"Track Time",icon:yk,color:"text-green-600",bg:"bg-green-50"},{label:"Notepad",icon:UP,color:"text-orange-600",bg:"bg-orange-50"},{label:"Clips",icon:Nk,color:"text-red-600",bg:"bg-red-50"},{label:"Reminder",icon:WD,color:"text-gray-700",bg:"bg-gray-100"},{label:"Chat",icon:mP,color:"text-gray-700",bg:"bg-gray-100"},{label:"New Doc",icon:tP,color:"text-gray-700",bg:"bg-gray-100"},{label:"Whiteboard",icon:GP,color:"text-gray-700",bg:"bg-gray-100"},{label:"People",icon:Mc,color:"text-gray-700",bg:"bg-gray-100"},{label:"Dashboard",icon:fO,color:"text-gray-700",bg:"bg-gray-100"},{label:"AI Notetaker",icon:Vv,color:"text-gray-700",bg:"bg-gray-100"}].map((I,$)=>A.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-2 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors group",onClick:()=>{I.label==="Calendar"?H(!0):I.label==="Notepad"?X(!0):_(`Opened ${I.label}`,"info"),E(!1)},children:[A.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center border border-gray-100 shadow-sm group-hover:shadow-md transition-all ${I.bg}`,children:A.jsx(I.icon,{size:24,className:I.color})}),A.jsx("span",{className:"text-xs font-medium text-gray-600 group-hover:text-gray-900",children:I.label})]},$))})})]}),A.jsxs("div",{className:"relative",ref:q,children:[A.jsx("button",{className:`flex items-center justify-center w-8 h-8 text-white hover:bg-white/10 rounded-md transition-colors ${C?"bg-white/10":""}`,onClick:()=>D(!C),title:"Change Layout Style",children:A.jsx(VP,{size:20})}),C&&A.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-xl z-50 py-1 animate-in fade-in slide-in-from-top-2",children:[A.jsx("div",{className:"px-4 py-2 border-b border-gray-700/50",children:A.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Interface Style"})}),A.jsxs("div",{className:"py-1",children:[A.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm flex items-center space-x-2 transition-colors ${x==="main"?"bg-brand-primary/20 text-brand-primary":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,onClick:()=>{g("main"),D(!1)},children:[A.jsx(zf,{size:14}),A.jsx("span",{children:"NABD Main"}),x==="main"&&A.jsx(Sv,{size:12,className:"ml-auto"})]}),A.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm flex items-center space-x-2 transition-colors ${x==="floating"?"bg-brand-primary/20 text-brand-primary":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,onClick:()=>{g("floating"),D(!1)},children:[A.jsx(Vv,{size:14}),A.jsx("span",{children:"NABD Floating"}),x==="floating"&&A.jsx(Sv,{size:12,className:"ml-auto"})]})]})]})]}),A.jsxs("div",{className:"relative",ref:O,children:[i?A.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white cursor-pointer hover:border-white transition-all shadow-md ring-2 ring-transparent hover:ring-gray-500/50 bg-gray-900 hover:bg-black border border-gray-700 overflow-hidden",title:i.name,onClick:()=>M(!S),children:i.avatarUrl?A.jsx("img",{src:i.avatarUrl,alt:i.name,className:"w-full h-full object-cover"}):i.avatar}):A.jsx("div",{className:"ml-2 w-8 h-8 rounded-full bg-gray-600 animate-pulse"}),S&&A.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-xl z-50 py-1 animate-in fade-in slide-in-from-top-2",children:[A.jsxs("div",{className:"px-4 py-2 border-b border-gray-700/50",children:[A.jsx("p",{className:"text-sm font-medium text-white",children:i==null?void 0:i.name}),A.jsx("p",{className:"text-xs text-gray-500 truncate",children:(i==null?void 0:i.email)||"user@example.com"})]}),A.jsxs("div",{className:"py-1",children:[A.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white flex items-center space-x-2 transition-colors",onClick:()=>{M(!1),t&&t()},children:[A.jsx(Bf,{size:14,className:"text-yellow-400"}),A.jsx("span",{children:"Activate"})]}),A.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 flex items-center space-x-2 transition-colors",onClick:()=>{M(!1),e&&e()},children:[A.jsx(w6,{size:14}),A.jsx("span",{children:"Sign Out"})]})]})]})]})]})]})},eE=Mh.memo(dq),tE=()=>A.jsxs("div",{className:"fixed inset-0 bg-white z-[9999] flex flex-col items-center justify-center overflow-hidden",children:[A.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[A.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-gray-100/30 rounded-full blur-[120px] animate-pulse"}),A.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-gray-200/30 rounded-full blur-[120px] animate-pulse delay-1000"})]}),A.jsxs("div",{className:"relative w-64 h-64 flex items-center justify-center",children:[A.jsx(_n.div,{className:"absolute w-16 h-16 bg-gradient-to-tr from-gray-900 to-black rounded-2xl shadow-2xl shadow-black/30 z-20",initial:{scale:0,rotate:0},animate:{scale:[0,1,.9,1],rotate:[0,0,180,360],borderRadius:["50%","30%","50%","30%"]},transition:{duration:2,ease:"easeInOut",times:[0,.4,.7,1],repeat:1/0,repeatDelay:.5}}),[0,1,2].map(i=>A.jsx(_n.div,{className:"absolute border border-gray-200/50 rounded-full",style:{width:`${100+i*60}px`,height:`${100+i*60}px`},initial:{opacity:0,scale:.8},animate:{opacity:[0,1,0],scale:[.8,1.2],rotate:i%2===0?360:-360},transition:{duration:3,delay:i*.2,repeat:1/0,ease:"linear"},children:A.jsx(_n.div,{className:"absolute w-3 h-3 bg-black rounded-full shadow-lg shadow-black/50 top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",animate:{scale:[1,1.5,1]},transition:{duration:1,repeat:1/0}})},i)),A.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-10",children:[[0,60,120,180,240,300].map((i,e)=>A.jsx(_n.line,{x1:"50%",y1:"50%",x2:`${50+40*Math.cos(i*Math.PI/180)}%`,y2:`${50+40*Math.sin(i*Math.PI/180)}%`,stroke:"url(#gradient)",strokeWidth:"2",strokeLinecap:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:[0,1,0],opacity:[0,1,0]},transition:{duration:2,delay:.5+e*.1,repeat:1/0,ease:"easeInOut"}},e)),A.jsx("defs",{children:A.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[A.jsx("stop",{offset:"0%",stopColor:"#333333"}),A.jsx("stop",{offset:"100%",stopColor:"#000000"})]})})]})]}),A.jsxs(_n.div,{className:"mt-12 flex flex-col items-center gap-2 z-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[A.jsx("h2",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-700 to-black tracking-tight",children:"Initializing System"}),A.jsx("div",{className:"flex gap-1",children:[0,1,2].map(i=>A.jsx(_n.div,{className:"w-2 h-2 bg-gray-400 rounded-full",animate:{y:[0,-6,0]},transition:{duration:.6,delay:i*.1,repeat:1/0,ease:"easeInOut"}},i))})]})]});var m3={exports:{}},hh={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function hq(){return nE||(nE=1,hh.ConcurrentRoot=1,hh.ContinuousEventPriority=8,hh.DefaultEventPriority=32,hh.DiscreteEventPriority=2,hh.IdleEventPriority=268435456,hh.LegacyRoot=0,hh.NoEventPriority=0),hh}var iE;function fq(){return iE||(iE=1,m3.exports=hq()),m3.exports}var Pv=fq();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const wy="181",Vp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Hp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},cR=0,ew=1,uR=2,pq=3,dR=0,ob=1,R1=2,zu=3,Rh=0,pl=1,_d=2,Ed=0,im=1,e2=2,tw=3,nw=4,hR=5,Ef=100,fR=101,pR=102,mR=103,gR=104,yR=200,xR=201,vR=202,bR=203,t2=204,n2=205,_R=206,wR=207,SR=208,AR=209,MR=210,TR=211,ER=212,CR=213,NR=214,i2=0,a2=1,r2=2,hm=3,s2=4,o2=5,l2=6,c2=7,Sy=0,RR=1,LR=2,Cd=0,DR=1,OR=2,PR=3,fS=4,kR=5,IR=6,UR=7,iw="attached",zR="detached",lb=300,Lh=301,Hf=302,$1=303,K1=304,yg=306,Z1=1e3,Yl=1001,J1=1002,oo=1003,pS=1004,mq=1004,L0=1005,gq=1005,ss=1006,L1=1007,yq=1007,Sd=1008,xq=1008,au=1009,mS=1010,gS=1011,K0=1012,cb=1013,Dh=1014,$l=1015,xm=1016,ub=1017,db=1018,Z0=1020,yS=35902,xS=35899,vS=1021,bS=1022,zo=1023,J0=1026,Q0=1027,hb=1028,Ay=1029,fb=1030,pb=1031,vq=1032,mb=1033,D1=33776,O1=33777,P1=33778,k1=33779,u2=35840,d2=35841,h2=35842,f2=35843,p2=36196,m2=37492,g2=37496,y2=37808,x2=37809,v2=37810,b2=37811,_2=37812,w2=37813,S2=37814,A2=37815,M2=37816,T2=37817,E2=37818,C2=37819,N2=37820,R2=37821,L2=36492,D2=36494,O2=36495,P2=36283,k2=36284,I2=36285,U2=36286,BR=2200,jR=2201,FR=2202,Q1=2300,z2=2301,kv=2302,Zp=2400,Jp=2401,ey=2402,gb=2500,_S=2501,bq=0,_q=1,wq=2,VR=3200,HR=3201,Sq=3202,Aq=3203,Yf=0,qR=1,wh="",Io="srgb",qf="srgb-linear",ty="linear",Sa="srgb",Mq=0,qp=7680,Tq=7681,Eq=7682,Cq=7683,Nq=34055,Rq=34056,Lq=5386,Dq=512,Oq=513,Pq=514,kq=515,Iq=516,Uq=517,zq=518,aw=519,GR=512,WR=513,XR=514,wS=515,YR=516,$R=517,KR=518,ZR=519,ny=35044,Bq=35048,jq=35040,Fq=35045,Vq=35049,Hq=35041,qq=35046,Gq=35050,Wq=35042,Xq="100",rw="300 es",Ac=2e3,eg=2001,Yq={COMPUTE:"compute",RENDER:"render"},$q={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Kq={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function JR(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const Zq={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function D0(i,e){return new Zq[i](e)}function iy(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function QR(){const i=iy("canvas");return i.style.display="block",i}const aE={};let Gf=null;function Jq(i){Gf=i}function Qq(){return Gf}function ay(...i){const e="THREE."+i.shift();Gf?Gf("log",e,...i):console.log(e,...i)}function en(...i){const e="THREE."+i.shift();Gf?Gf("warn",e,...i):console.warn(e,...i)}function Wn(...i){const e="THREE."+i.shift();Gf?Gf("error",e,...i):console.error(e,...i)}function tg(...i){const e=i.join(" ");e in aE||(aE[e]=!0,en(...i))}function eG(i,e,t){return new Promise(function(n,a){function r(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:a();break;case i.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:n()}}setTimeout(r,t)})}let Ld=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const a=n[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const a=n.slice(0);for(let r=0,o=a.length;r<o;r++)a[r].call(this,e);e.target=null}}};const Do=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let rE=1234567;const am=Math.PI/180,ng=180/Math.PI;function Tc(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Do[i&255]+Do[i>>8&255]+Do[i>>16&255]+Do[i>>24&255]+"-"+Do[e&255]+Do[e>>8&255]+"-"+Do[e>>16&15|64]+Do[e>>24&255]+"-"+Do[t&63|128]+Do[t>>8&255]+"-"+Do[t>>16&255]+Do[t>>24&255]+Do[n&255]+Do[n>>8&255]+Do[n>>16&255]+Do[n>>24&255]).toLowerCase()}function Bn(i,e,t){return Math.max(e,Math.min(t,i))}function SS(i,e){return(i%e+e)%e}function tG(i,e,t,n,a){return n+(i-e)*(a-n)/(t-e)}function nG(i,e,t){return i!==e?(t-i)/(e-i):0}function I1(i,e,t){return(1-t)*i+t*e}function iG(i,e,t,n){return I1(i,e,1-Math.exp(-t*n))}function aG(i,e=1){return e-Math.abs(SS(i,e*2)-e)}function rG(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function sG(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function oG(i,e){return i+Math.floor(Math.random()*(e-i+1))}function lG(i,e){return i+Math.random()*(e-i)}function cG(i){return i*(.5-Math.random())}function uG(i){i!==void 0&&(rE=i);let e=rE+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dG(i){return i*am}function hG(i){return i*ng}function fG(i){return(i&i-1)===0&&i!==0}function pG(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function mG(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function gG(i,e,t,n,a){const r=Math.cos,o=Math.sin,l=r(t/2),u=o(t/2),d=r((e+n)/2),m=o((e+n)/2),y=r((e-n)/2),x=o((e-n)/2),g=r((n-e)/2),_=o((n-e)/2);switch(a){case"XYX":i.set(l*m,u*y,u*x,l*d);break;case"YZY":i.set(u*x,l*m,u*y,l*d);break;case"ZXZ":i.set(u*y,u*x,l*m,l*d);break;case"XZX":i.set(l*m,u*_,u*g,l*d);break;case"YXY":i.set(u*g,l*m,u*_,l*d);break;case"ZYZ":i.set(u*_,u*g,l*m,l*d);break;default:en("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function hl(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function oi(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const yG={DEG2RAD:am,RAD2DEG:ng,generateUUID:Tc,clamp:Bn,euclideanModulo:SS,mapLinear:tG,inverseLerp:nG,lerp:I1,damp:iG,pingpong:aG,smoothstep:rG,smootherstep:sG,randInt:oG,randFloat:lG,randFloatSpread:cG,seededRandom:uG,degToRad:dG,radToDeg:hG,isPowerOfTwo:fG,ceilPowerOfTwo:pG,floorPowerOfTwo:mG,setQuaternionFromProperEuler:gG,normalize:oi,denormalize:hl};class kt{constructor(e=0,t=0){kt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6],this.y=a[1]*t+a[4]*n+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Bn(this.x,e.x,t.x),this.y=Bn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Bn(this.x,e,t),this.y=Bn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Bn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Bn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),a=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*a+e.x,this.y=r*a+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Bo{constructor(e=0,t=0,n=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=a}static slerpFlat(e,t,n,a,r,o,l){let u=n[a+0],d=n[a+1],m=n[a+2],y=n[a+3],x=r[o+0],g=r[o+1],_=r[o+2],S=r[o+3];if(l<=0){e[t+0]=u,e[t+1]=d,e[t+2]=m,e[t+3]=y;return}if(l>=1){e[t+0]=x,e[t+1]=g,e[t+2]=_,e[t+3]=S;return}if(y!==S||u!==x||d!==g||m!==_){let M=u*x+d*g+m*_+y*S;M<0&&(x=-x,g=-g,_=-_,S=-S,M=-M);let b=1-l;if(M<.9995){const E=Math.acos(M),C=Math.sin(E);b=Math.sin(b*E)/C,l=Math.sin(l*E)/C,u=u*b+x*l,d=d*b+g*l,m=m*b+_*l,y=y*b+S*l}else{u=u*b+x*l,d=d*b+g*l,m=m*b+_*l,y=y*b+S*l;const E=1/Math.sqrt(u*u+d*d+m*m+y*y);u*=E,d*=E,m*=E,y*=E}}e[t]=u,e[t+1]=d,e[t+2]=m,e[t+3]=y}static multiplyQuaternionsFlat(e,t,n,a,r,o){const l=n[a],u=n[a+1],d=n[a+2],m=n[a+3],y=r[o],x=r[o+1],g=r[o+2],_=r[o+3];return e[t]=l*_+m*y+u*g-d*x,e[t+1]=u*_+m*x+d*y-l*g,e[t+2]=d*_+m*g+l*x-u*y,e[t+3]=m*_-l*y-u*x-d*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,a){return this._x=e,this._y=t,this._z=n,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,a=e._y,r=e._z,o=e._order,l=Math.cos,u=Math.sin,d=l(n/2),m=l(a/2),y=l(r/2),x=u(n/2),g=u(a/2),_=u(r/2);switch(o){case"XYZ":this._x=x*m*y+d*g*_,this._y=d*g*y-x*m*_,this._z=d*m*_+x*g*y,this._w=d*m*y-x*g*_;break;case"YXZ":this._x=x*m*y+d*g*_,this._y=d*g*y-x*m*_,this._z=d*m*_-x*g*y,this._w=d*m*y+x*g*_;break;case"ZXY":this._x=x*m*y-d*g*_,this._y=d*g*y+x*m*_,this._z=d*m*_+x*g*y,this._w=d*m*y-x*g*_;break;case"ZYX":this._x=x*m*y-d*g*_,this._y=d*g*y+x*m*_,this._z=d*m*_-x*g*y,this._w=d*m*y+x*g*_;break;case"YZX":this._x=x*m*y+d*g*_,this._y=d*g*y+x*m*_,this._z=d*m*_-x*g*y,this._w=d*m*y-x*g*_;break;case"XZY":this._x=x*m*y-d*g*_,this._y=d*g*y-x*m*_,this._z=d*m*_+x*g*y,this._w=d*m*y+x*g*_;break;default:en("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,a=Math.sin(n);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],a=t[4],r=t[8],o=t[1],l=t[5],u=t[9],d=t[2],m=t[6],y=t[10],x=n+l+y;if(x>0){const g=.5/Math.sqrt(x+1);this._w=.25/g,this._x=(m-u)*g,this._y=(r-d)*g,this._z=(o-a)*g}else if(n>l&&n>y){const g=2*Math.sqrt(1+n-l-y);this._w=(m-u)/g,this._x=.25*g,this._y=(a+o)/g,this._z=(r+d)/g}else if(l>y){const g=2*Math.sqrt(1+l-n-y);this._w=(r-d)/g,this._x=(a+o)/g,this._y=.25*g,this._z=(u+m)/g}else{const g=2*Math.sqrt(1+y-n-l);this._w=(o-a)/g,this._x=(r+d)/g,this._y=(u+m)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Bn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const a=Math.min(1,t/n);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,a=e._y,r=e._z,o=e._w,l=t._x,u=t._y,d=t._z,m=t._w;return this._x=n*m+o*l+a*d-r*u,this._y=a*m+o*u+r*l-n*d,this._z=r*m+o*d+n*u-a*l,this._w=o*m-n*l-a*u-r*d,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,a=e._y,r=e._z,o=e._w,l=this.dot(e);l<0&&(n=-n,a=-a,r=-r,o=-o,l=-l);let u=1-t;if(l<.9995){const d=Math.acos(l),m=Math.sin(d);u=Math.sin(u*d)/m,t=Math.sin(t*d)/m,this._x=this._x*u+n*t,this._y=this._y*u+a*t,this._z=this._z*u+r*t,this._w=this._w*u+o*t,this._onChangeCallback()}else this._x=this._x*u+n*t,this._y=this._y*u+a*t,this._z=this._z*u+r*t,this._w=this._w*u+o*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),a=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(a*Math.sin(e),a*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ke{constructor(e=0,t=0,n=0){ke.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(sE.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(sE.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*a,this.y=r[1]*t+r[4]*n+r[7]*a,this.z=r[2]*t+r[5]*n+r[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,a=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*a+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*a+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*a+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*a+r[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,a=this.z,r=e.x,o=e.y,l=e.z,u=e.w,d=2*(o*a-l*n),m=2*(l*t-r*a),y=2*(r*n-o*t);return this.x=t+u*d+o*y-l*m,this.y=n+u*m+l*d-r*y,this.z=a+u*y+r*m-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*a,this.y=r[1]*t+r[5]*n+r[9]*a,this.z=r[2]*t+r[6]*n+r[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Bn(this.x,e.x,t.x),this.y=Bn(this.y,e.y,t.y),this.z=Bn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Bn(this.x,e,t),this.y=Bn(this.y,e,t),this.z=Bn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Bn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,a=e.y,r=e.z,o=t.x,l=t.y,u=t.z;return this.x=a*u-r*l,this.y=r*o-n*u,this.z=n*l-a*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return g3.copy(this).projectOnVector(e),this.sub(g3)}reflect(e){return this.sub(g3.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Bn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,a=this.z-e.z;return t*t+n*n+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const a=Math.sin(t)*e;return this.x=a*Math.sin(n),this.y=Math.cos(t)*e,this.z=a*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const g3=new ke,sE=new Bo;class ri{constructor(e,t,n,a,r,o,l,u,d){ri.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,a,r,o,l,u,d)}set(e,t,n,a,r,o,l,u,d){const m=this.elements;return m[0]=e,m[1]=a,m[2]=l,m[3]=t,m[4]=r,m[5]=u,m[6]=n,m[7]=o,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,a=t.elements,r=this.elements,o=n[0],l=n[3],u=n[6],d=n[1],m=n[4],y=n[7],x=n[2],g=n[5],_=n[8],S=a[0],M=a[3],b=a[6],E=a[1],C=a[4],D=a[7],k=a[2],H=a[5],G=a[8];return r[0]=o*S+l*E+u*k,r[3]=o*M+l*C+u*H,r[6]=o*b+l*D+u*G,r[1]=d*S+m*E+y*k,r[4]=d*M+m*C+y*H,r[7]=d*b+m*D+y*G,r[2]=x*S+g*E+_*k,r[5]=x*M+g*C+_*H,r[8]=x*b+g*D+_*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],a=e[2],r=e[3],o=e[4],l=e[5],u=e[6],d=e[7],m=e[8];return t*o*m-t*l*d-n*r*m+n*l*u+a*r*d-a*o*u}invert(){const e=this.elements,t=e[0],n=e[1],a=e[2],r=e[3],o=e[4],l=e[5],u=e[6],d=e[7],m=e[8],y=m*o-l*d,x=l*u-m*r,g=d*r-o*u,_=t*y+n*x+a*g;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/_;return e[0]=y*S,e[1]=(a*d-m*n)*S,e[2]=(l*n-a*o)*S,e[3]=x*S,e[4]=(m*t-a*u)*S,e[5]=(a*r-l*t)*S,e[6]=g*S,e[7]=(n*u-d*t)*S,e[8]=(o*t-n*r)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,a,r,o,l){const u=Math.cos(r),d=Math.sin(r);return this.set(n*u,n*d,-n*(u*o+d*l)+o+e,-a*d,a*u,-a*(-d*o+u*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(y3.makeScale(e,t)),this}rotate(e){return this.premultiply(y3.makeRotation(-e)),this}translate(e,t){return this.premultiply(y3.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let a=0;a<9;a++)if(t[a]!==n[a])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const y3=new ri,oE=new ri().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),lE=new ri().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function xG(){const i={enabled:!0,workingColorSpace:qf,spaces:{},convert:function(a,r,o){return this.enabled===!1||r===o||!r||!o||(this.spaces[r].transfer===Sa&&(a.r=Ah(a.r),a.g=Ah(a.g),a.b=Ah(a.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(a.applyMatrix3(this.spaces[r].toXYZ),a.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Sa&&(a.r=B0(a.r),a.g=B0(a.g),a.b=B0(a.b))),a},workingToColorSpace:function(a,r){return this.convert(a,this.workingColorSpace,r)},colorSpaceToWorking:function(a,r){return this.convert(a,r,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===wh?ty:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,r=this.workingColorSpace){return a.fromArray(this.spaces[r].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,r,o){return a.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,r){return tg("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(a,r)},toWorkingColorSpace:function(a,r){return tg("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(a,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[qf]:{primaries:e,whitePoint:n,transfer:ty,toXYZ:oE,fromXYZ:lE,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Io},outputColorSpaceConfig:{drawingBufferColorSpace:Io}},[Io]:{primaries:e,whitePoint:n,transfer:Sa,toXYZ:oE,fromXYZ:lE,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Io}}}),i}const Bi=xG();function Ah(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function B0(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Qm;class eL{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Qm===void 0&&(Qm=iy("canvas")),Qm.width=e.width,Qm.height=e.height;const a=Qm.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),n=Qm}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=iy("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const a=n.getImageData(0,0,e.width,e.height),r=a.data;for(let o=0;o<r.length;o++)r[o]=Ah(r[o]/255)*255;return n.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Ah(t[n]/255)*255):t[n]=Ah(t[n]);return{data:t,width:e.width,height:e.height}}else return en("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let vG=0;class Rf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:vG++}),this.uuid=Tc(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},a=this.data;if(a!==null){let r;if(Array.isArray(a)){r=[];for(let o=0,l=a.length;o<l;o++)a[o].isDataTexture?r.push(x3(a[o].image)):r.push(x3(a[o]))}else r=x3(a);n.url=r}return t||(e.images[this.uuid]=n),n}}function x3(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?eL.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(en("Texture: Unable to serialize Texture."),{})}let bG=0;const v3=new ke;class Vr extends Ld{constructor(e=Vr.DEFAULT_IMAGE,t=Vr.DEFAULT_MAPPING,n=Yl,a=Yl,r=ss,o=Sd,l=zo,u=au,d=Vr.DEFAULT_ANISOTROPY,m=wh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:bG++}),this.uuid=Tc(),this.name="",this.source=new Rf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=a,this.magFilter=r,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=u,this.offset=new kt(0,0),this.repeat=new kt(1,1),this.center=new kt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ri,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(v3).x}get height(){return this.source.getSize(v3).y}get depth(){return this.source.getSize(v3).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){en(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){en(`Texture.setValues(): property '${t}' does not exist.`);continue}a&&n&&a.isVector2&&n.isVector2||a&&n&&a.isVector3&&n.isVector3||a&&n&&a.isMatrix3&&n.isMatrix3?a.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==lb)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Z1:e.x=e.x-Math.floor(e.x);break;case Yl:e.x=e.x<0?0:1;break;case J1:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Z1:e.y=e.y-Math.floor(e.y);break;case Yl:e.y=e.y<0?0:1;break;case J1:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Vr.DEFAULT_IMAGE=null;Vr.DEFAULT_MAPPING=lb;Vr.DEFAULT_ANISOTROPY=1;class Yi{constructor(e=0,t=0,n=0,a=1){Yi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,a){return this.x=e,this.y=t,this.z=n,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,a=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*a+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*a+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*a+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*a+o[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,a,r;const u=e.elements,d=u[0],m=u[4],y=u[8],x=u[1],g=u[5],_=u[9],S=u[2],M=u[6],b=u[10];if(Math.abs(m-x)<.01&&Math.abs(y-S)<.01&&Math.abs(_-M)<.01){if(Math.abs(m+x)<.1&&Math.abs(y+S)<.1&&Math.abs(_+M)<.1&&Math.abs(d+g+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(d+1)/2,D=(g+1)/2,k=(b+1)/2,H=(m+x)/4,G=(y+S)/4,X=(_+M)/4;return C>D&&C>k?C<.01?(n=0,a=.707106781,r=.707106781):(n=Math.sqrt(C),a=H/n,r=G/n):D>k?D<.01?(n=.707106781,a=0,r=.707106781):(a=Math.sqrt(D),n=H/a,r=X/a):k<.01?(n=.707106781,a=.707106781,r=0):(r=Math.sqrt(k),n=G/r,a=X/r),this.set(n,a,r,t),this}let E=Math.sqrt((M-_)*(M-_)+(y-S)*(y-S)+(x-m)*(x-m));return Math.abs(E)<.001&&(E=1),this.x=(M-_)/E,this.y=(y-S)/E,this.z=(x-m)/E,this.w=Math.acos((d+g+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Bn(this.x,e.x,t.x),this.y=Bn(this.y,e.y,t.y),this.z=Bn(this.z,e.z,t.z),this.w=Bn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Bn(this.x,e,t),this.y=Bn(this.y,e,t),this.z=Bn(this.z,e,t),this.w=Bn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Bn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class AS extends Ld{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ss,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Yi(0,0,e,t),this.scissorTest=!1,this.viewport=new Yi(0,0,e,t);const a={width:e,height:t,depth:n.depth},r=new Vr(a);this.textures=[];const o=n.count;for(let l=0;l<o;l++)this.textures[l]=r.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:ss,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let a=0,r=this.textures.length;a<r;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=n,this.textures[a].isData3DTexture!==!0&&(this.textures[a].isArrayTexture=this.textures[a].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new Rf(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Nd extends AS{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class yb extends Vr{constructor(e=null,t=1,n=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:a},this.magFilter=oo,this.minFilter=oo,this.wrapR=Yl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class _G extends Nd{constructor(e=1,t=1,n=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new yb(null,e,t,n),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class xb extends Vr{constructor(e=null,t=1,n=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:a},this.magFilter=oo,this.minFilter=oo,this.wrapR=Yl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wG extends Nd{constructor(e=1,t=1,n=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new xb(null,e,t,n),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class jo{constructor(e=new ke(1/0,1/0,1/0),t=new ke(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Pu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Pu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Pu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const r=n.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=r.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Pu):Pu.fromBufferAttribute(r,o),Pu.applyMatrix4(e.matrixWorld),this.expandByPoint(Pu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Rx.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),Rx.copy(n.boundingBox)),Rx.applyMatrix4(e.matrixWorld),this.union(Rx)}const a=e.children;for(let r=0,o=a.length;r<o;r++)this.expandByObject(a[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Pu),Pu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(r1),Lx.subVectors(this.max,r1),e0.subVectors(e.a,r1),t0.subVectors(e.b,r1),n0.subVectors(e.c,r1),xf.subVectors(t0,e0),vf.subVectors(n0,t0),Mp.subVectors(e0,n0);let t=[0,-xf.z,xf.y,0,-vf.z,vf.y,0,-Mp.z,Mp.y,xf.z,0,-xf.x,vf.z,0,-vf.x,Mp.z,0,-Mp.x,-xf.y,xf.x,0,-vf.y,vf.x,0,-Mp.y,Mp.x,0];return!b3(t,e0,t0,n0,Lx)||(t=[1,0,0,0,1,0,0,0,1],!b3(t,e0,t0,n0,Lx))?!1:(Dx.crossVectors(xf,vf),t=[Dx.x,Dx.y,Dx.z],b3(t,e0,t0,n0,Lx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Pu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Pu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const fh=[new ke,new ke,new ke,new ke,new ke,new ke,new ke,new ke],Pu=new ke,Rx=new jo,e0=new ke,t0=new ke,n0=new ke,xf=new ke,vf=new ke,Mp=new ke,r1=new ke,Lx=new ke,Dx=new ke,Tp=new ke;function b3(i,e,t,n,a){for(let r=0,o=i.length-3;r<=o;r+=3){Tp.fromArray(i,r);const l=a.x*Math.abs(Tp.x)+a.y*Math.abs(Tp.y)+a.z*Math.abs(Tp.z),u=e.dot(Tp),d=t.dot(Tp),m=n.dot(Tp);if(Math.max(-Math.max(u,d,m),Math.min(u,d,m))>l)return!1}return!0}const SG=new jo,s1=new ke,_3=new ke;class lo{constructor(e=new ke,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):SG.setFromPoints(e).getCenter(n);let a=0;for(let r=0,o=e.length;r<o;r++)a=Math.max(a,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;s1.subVectors(e,this.center);const t=s1.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),a=(n-this.radius)*.5;this.center.addScaledVector(s1,a/n),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(s1.copy(e.center).add(_3)),this.expandByPoint(s1.copy(e.center).sub(_3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const ph=new ke,w3=new ke,Ox=new ke,bf=new ke,S3=new ke,Px=new ke,A3=new ke;class vm{constructor(e=new ke,t=new ke(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ph)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ph.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ph.copy(this.origin).addScaledVector(this.direction,t),ph.distanceToSquared(e))}distanceSqToSegment(e,t,n,a){w3.copy(e).add(t).multiplyScalar(.5),Ox.copy(t).sub(e).normalize(),bf.copy(this.origin).sub(w3);const r=e.distanceTo(t)*.5,o=-this.direction.dot(Ox),l=bf.dot(this.direction),u=-bf.dot(Ox),d=bf.lengthSq(),m=Math.abs(1-o*o);let y,x,g,_;if(m>0)if(y=o*u-l,x=o*l-u,_=r*m,y>=0)if(x>=-_)if(x<=_){const S=1/m;y*=S,x*=S,g=y*(y+o*x+2*l)+x*(o*y+x+2*u)+d}else x=r,y=Math.max(0,-(o*x+l)),g=-y*y+x*(x+2*u)+d;else x=-r,y=Math.max(0,-(o*x+l)),g=-y*y+x*(x+2*u)+d;else x<=-_?(y=Math.max(0,-(-o*r+l)),x=y>0?-r:Math.min(Math.max(-r,-u),r),g=-y*y+x*(x+2*u)+d):x<=_?(y=0,x=Math.min(Math.max(-r,-u),r),g=x*(x+2*u)+d):(y=Math.max(0,-(o*r+l)),x=y>0?r:Math.min(Math.max(-r,-u),r),g=-y*y+x*(x+2*u)+d);else x=o>0?-r:r,y=Math.max(0,-(o*x+l)),g=-y*y+x*(x+2*u)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,y),a&&a.copy(w3).addScaledVector(Ox,x),g}intersectSphere(e,t){ph.subVectors(e.center,this.origin);const n=ph.dot(this.direction),a=ph.dot(ph)-n*n,r=e.radius*e.radius;if(a>r)return null;const o=Math.sqrt(r-a),l=n-o,u=n+o;return u<0?null:l<0?this.at(u,t):this.at(l,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,a,r,o,l,u;const d=1/this.direction.x,m=1/this.direction.y,y=1/this.direction.z,x=this.origin;return d>=0?(n=(e.min.x-x.x)*d,a=(e.max.x-x.x)*d):(n=(e.max.x-x.x)*d,a=(e.min.x-x.x)*d),m>=0?(r=(e.min.y-x.y)*m,o=(e.max.y-x.y)*m):(r=(e.max.y-x.y)*m,o=(e.min.y-x.y)*m),n>o||r>a||((r>n||isNaN(n))&&(n=r),(o<a||isNaN(a))&&(a=o),y>=0?(l=(e.min.z-x.z)*y,u=(e.max.z-x.z)*y):(l=(e.max.z-x.z)*y,u=(e.min.z-x.z)*y),n>u||l>a)||((l>n||n!==n)&&(n=l),(u<a||a!==a)&&(a=u),a<0)?null:this.at(n>=0?n:a,t)}intersectsBox(e){return this.intersectBox(e,ph)!==null}intersectTriangle(e,t,n,a,r){S3.subVectors(t,e),Px.subVectors(n,e),A3.crossVectors(S3,Px);let o=this.direction.dot(A3),l;if(o>0){if(a)return null;l=1}else if(o<0)l=-1,o=-o;else return null;bf.subVectors(this.origin,e);const u=l*this.direction.dot(Px.crossVectors(bf,Px));if(u<0)return null;const d=l*this.direction.dot(S3.cross(bf));if(d<0||u+d>o)return null;const m=-l*bf.dot(A3);return m<0?null:this.at(m/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Vn{constructor(e,t,n,a,r,o,l,u,d,m,y,x,g,_,S,M){Vn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,a,r,o,l,u,d,m,y,x,g,_,S,M)}set(e,t,n,a,r,o,l,u,d,m,y,x,g,_,S,M){const b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=a,b[1]=r,b[5]=o,b[9]=l,b[13]=u,b[2]=d,b[6]=m,b[10]=y,b[14]=x,b[3]=g,b[7]=_,b[11]=S,b[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Vn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,a=1/i0.setFromMatrixColumn(e,0).length(),r=1/i0.setFromMatrixColumn(e,1).length(),o=1/i0.setFromMatrixColumn(e,2).length();return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,a=e.y,r=e.z,o=Math.cos(n),l=Math.sin(n),u=Math.cos(a),d=Math.sin(a),m=Math.cos(r),y=Math.sin(r);if(e.order==="XYZ"){const x=o*m,g=o*y,_=l*m,S=l*y;t[0]=u*m,t[4]=-u*y,t[8]=d,t[1]=g+_*d,t[5]=x-S*d,t[9]=-l*u,t[2]=S-x*d,t[6]=_+g*d,t[10]=o*u}else if(e.order==="YXZ"){const x=u*m,g=u*y,_=d*m,S=d*y;t[0]=x+S*l,t[4]=_*l-g,t[8]=o*d,t[1]=o*y,t[5]=o*m,t[9]=-l,t[2]=g*l-_,t[6]=S+x*l,t[10]=o*u}else if(e.order==="ZXY"){const x=u*m,g=u*y,_=d*m,S=d*y;t[0]=x-S*l,t[4]=-o*y,t[8]=_+g*l,t[1]=g+_*l,t[5]=o*m,t[9]=S-x*l,t[2]=-o*d,t[6]=l,t[10]=o*u}else if(e.order==="ZYX"){const x=o*m,g=o*y,_=l*m,S=l*y;t[0]=u*m,t[4]=_*d-g,t[8]=x*d+S,t[1]=u*y,t[5]=S*d+x,t[9]=g*d-_,t[2]=-d,t[6]=l*u,t[10]=o*u}else if(e.order==="YZX"){const x=o*u,g=o*d,_=l*u,S=l*d;t[0]=u*m,t[4]=S-x*y,t[8]=_*y+g,t[1]=y,t[5]=o*m,t[9]=-l*m,t[2]=-d*m,t[6]=g*y+_,t[10]=x-S*y}else if(e.order==="XZY"){const x=o*u,g=o*d,_=l*u,S=l*d;t[0]=u*m,t[4]=-y,t[8]=d*m,t[1]=x*y+S,t[5]=o*m,t[9]=g*y-_,t[2]=_*y-g,t[6]=l*m,t[10]=S*y+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(AG,e,MG)}lookAt(e,t,n){const a=this.elements;return _c.subVectors(e,t),_c.lengthSq()===0&&(_c.z=1),_c.normalize(),_f.crossVectors(n,_c),_f.lengthSq()===0&&(Math.abs(n.z)===1?_c.x+=1e-4:_c.z+=1e-4,_c.normalize(),_f.crossVectors(n,_c)),_f.normalize(),kx.crossVectors(_c,_f),a[0]=_f.x,a[4]=kx.x,a[8]=_c.x,a[1]=_f.y,a[5]=kx.y,a[9]=_c.y,a[2]=_f.z,a[6]=kx.z,a[10]=_c.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,a=t.elements,r=this.elements,o=n[0],l=n[4],u=n[8],d=n[12],m=n[1],y=n[5],x=n[9],g=n[13],_=n[2],S=n[6],M=n[10],b=n[14],E=n[3],C=n[7],D=n[11],k=n[15],H=a[0],G=a[4],X=a[8],O=a[12],z=a[1],q=a[5],I=a[9],$=a[13],U=a[2],oe=a[6],J=a[10],ae=a[14],te=a[3],le=a[7],Me=a[11],Z=a[15];return r[0]=o*H+l*z+u*U+d*te,r[4]=o*G+l*q+u*oe+d*le,r[8]=o*X+l*I+u*J+d*Me,r[12]=o*O+l*$+u*ae+d*Z,r[1]=m*H+y*z+x*U+g*te,r[5]=m*G+y*q+x*oe+g*le,r[9]=m*X+y*I+x*J+g*Me,r[13]=m*O+y*$+x*ae+g*Z,r[2]=_*H+S*z+M*U+b*te,r[6]=_*G+S*q+M*oe+b*le,r[10]=_*X+S*I+M*J+b*Me,r[14]=_*O+S*$+M*ae+b*Z,r[3]=E*H+C*z+D*U+k*te,r[7]=E*G+C*q+D*oe+k*le,r[11]=E*X+C*I+D*J+k*Me,r[15]=E*O+C*$+D*ae+k*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],a=e[8],r=e[12],o=e[1],l=e[5],u=e[9],d=e[13],m=e[2],y=e[6],x=e[10],g=e[14],_=e[3],S=e[7],M=e[11],b=e[15];return _*(+r*u*y-a*d*y-r*l*x+n*d*x+a*l*g-n*u*g)+S*(+t*u*g-t*d*x+r*o*x-a*o*g+a*d*m-r*u*m)+M*(+t*d*y-t*l*g-r*o*y+n*o*g+r*l*m-n*d*m)+b*(-a*l*m-t*u*y+t*l*x+a*o*y-n*o*x+n*u*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],a=e[2],r=e[3],o=e[4],l=e[5],u=e[6],d=e[7],m=e[8],y=e[9],x=e[10],g=e[11],_=e[12],S=e[13],M=e[14],b=e[15],E=y*M*d-S*x*d+S*u*g-l*M*g-y*u*b+l*x*b,C=_*x*d-m*M*d-_*u*g+o*M*g+m*u*b-o*x*b,D=m*S*d-_*y*d+_*l*g-o*S*g-m*l*b+o*y*b,k=_*y*u-m*S*u-_*l*x+o*S*x+m*l*M-o*y*M,H=t*E+n*C+a*D+r*k;if(H===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const G=1/H;return e[0]=E*G,e[1]=(S*x*r-y*M*r-S*a*g+n*M*g+y*a*b-n*x*b)*G,e[2]=(l*M*r-S*u*r+S*a*d-n*M*d-l*a*b+n*u*b)*G,e[3]=(y*u*r-l*x*r-y*a*d+n*x*d+l*a*g-n*u*g)*G,e[4]=C*G,e[5]=(m*M*r-_*x*r+_*a*g-t*M*g-m*a*b+t*x*b)*G,e[6]=(_*u*r-o*M*r-_*a*d+t*M*d+o*a*b-t*u*b)*G,e[7]=(o*x*r-m*u*r+m*a*d-t*x*d-o*a*g+t*u*g)*G,e[8]=D*G,e[9]=(_*y*r-m*S*r-_*n*g+t*S*g+m*n*b-t*y*b)*G,e[10]=(o*S*r-_*l*r+_*n*d-t*S*d-o*n*b+t*l*b)*G,e[11]=(m*l*r-o*y*r-m*n*d+t*y*d+o*n*g-t*l*g)*G,e[12]=k*G,e[13]=(m*S*a-_*y*a+_*n*x-t*S*x-m*n*M+t*y*M)*G,e[14]=(_*l*a-o*S*a-_*n*u+t*S*u+o*n*M-t*l*M)*G,e[15]=(o*y*a-m*l*a+m*n*u-t*y*u-o*n*x+t*l*x)*G,this}scale(e){const t=this.elements,n=e.x,a=e.y,r=e.z;return t[0]*=n,t[4]*=a,t[8]*=r,t[1]*=n,t[5]*=a,t[9]*=r,t[2]*=n,t[6]*=a,t[10]*=r,t[3]*=n,t[7]*=a,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,a))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),a=Math.sin(t),r=1-n,o=e.x,l=e.y,u=e.z,d=r*o,m=r*l;return this.set(d*o+n,d*l-a*u,d*u+a*l,0,d*l+a*u,m*l+n,m*u-a*o,0,d*u-a*l,m*u+a*o,r*u*u+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,a,r,o){return this.set(1,n,r,0,e,1,o,0,t,a,1,0,0,0,0,1),this}compose(e,t,n){const a=this.elements,r=t._x,o=t._y,l=t._z,u=t._w,d=r+r,m=o+o,y=l+l,x=r*d,g=r*m,_=r*y,S=o*m,M=o*y,b=l*y,E=u*d,C=u*m,D=u*y,k=n.x,H=n.y,G=n.z;return a[0]=(1-(S+b))*k,a[1]=(g+D)*k,a[2]=(_-C)*k,a[3]=0,a[4]=(g-D)*H,a[5]=(1-(x+b))*H,a[6]=(M+E)*H,a[7]=0,a[8]=(_+C)*G,a[9]=(M-E)*G,a[10]=(1-(x+S))*G,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,n){const a=this.elements;let r=i0.set(a[0],a[1],a[2]).length();const o=i0.set(a[4],a[5],a[6]).length(),l=i0.set(a[8],a[9],a[10]).length();this.determinant()<0&&(r=-r),e.x=a[12],e.y=a[13],e.z=a[14],ku.copy(this);const d=1/r,m=1/o,y=1/l;return ku.elements[0]*=d,ku.elements[1]*=d,ku.elements[2]*=d,ku.elements[4]*=m,ku.elements[5]*=m,ku.elements[6]*=m,ku.elements[8]*=y,ku.elements[9]*=y,ku.elements[10]*=y,t.setFromRotationMatrix(ku),n.x=r,n.y=o,n.z=l,this}makePerspective(e,t,n,a,r,o,l=Ac,u=!1){const d=this.elements,m=2*r/(t-e),y=2*r/(n-a),x=(t+e)/(t-e),g=(n+a)/(n-a);let _,S;if(u)_=r/(o-r),S=o*r/(o-r);else if(l===Ac)_=-(o+r)/(o-r),S=-2*o*r/(o-r);else if(l===eg)_=-o/(o-r),S=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return d[0]=m,d[4]=0,d[8]=x,d[12]=0,d[1]=0,d[5]=y,d[9]=g,d[13]=0,d[2]=0,d[6]=0,d[10]=_,d[14]=S,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,t,n,a,r,o,l=Ac,u=!1){const d=this.elements,m=2/(t-e),y=2/(n-a),x=-(t+e)/(t-e),g=-(n+a)/(n-a);let _,S;if(u)_=1/(o-r),S=o/(o-r);else if(l===Ac)_=-2/(o-r),S=-(o+r)/(o-r);else if(l===eg)_=-1/(o-r),S=-r/(o-r);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return d[0]=m,d[4]=0,d[8]=0,d[12]=x,d[1]=0,d[5]=y,d[9]=0,d[13]=g,d[2]=0,d[6]=0,d[10]=_,d[14]=S,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let a=0;a<16;a++)if(t[a]!==n[a])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const i0=new ke,ku=new Vn,AG=new ke(0,0,0),MG=new ke(1,1,1),_f=new ke,kx=new ke,_c=new ke,cE=new Vn,uE=new Bo;class Ec{constructor(e=0,t=0,n=0,a=Ec.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,a=this._order){return this._x=e,this._y=t,this._z=n,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const a=e.elements,r=a[0],o=a[4],l=a[8],u=a[1],d=a[5],m=a[9],y=a[2],x=a[6],g=a[10];switch(t){case"XYZ":this._y=Math.asin(Bn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,g),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(x,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Bn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,g),this._z=Math.atan2(u,d)):(this._y=Math.atan2(-y,r),this._z=0);break;case"ZXY":this._x=Math.asin(Bn(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-y,g),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(u,r));break;case"ZYX":this._y=Math.asin(-Bn(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(x,g),this._z=Math.atan2(u,r)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(Bn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-y,r)):(this._x=0,this._y=Math.atan2(l,g));break;case"XZY":this._z=Math.asin(-Bn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(x,d),this._y=Math.atan2(l,r)):(this._x=Math.atan2(-m,g),this._y=0);break;default:en("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return cE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cE,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return uE.setFromEuler(this),this.setFromQuaternion(uE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ec.DEFAULT_ORDER="XYZ";class ig{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let TG=0;const dE=new ke,a0=new Bo,mh=new Vn,Ix=new ke,o1=new ke,EG=new ke,CG=new Bo,hE=new ke(1,0,0),fE=new ke(0,1,0),pE=new ke(0,0,1),mE={type:"added"},NG={type:"removed"},r0={type:"childadded",child:null},M3={type:"childremoved",child:null};class $i extends Ld{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:TG++}),this.uuid=Tc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=$i.DEFAULT_UP.clone();const e=new ke,t=new Ec,n=new Bo,a=new ke(1,1,1);function r(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Vn},normalMatrix:{value:new ri}}),this.matrix=new Vn,this.matrixWorld=new Vn,this.matrixAutoUpdate=$i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=$i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ig,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return a0.setFromAxisAngle(e,t),this.quaternion.multiply(a0),this}rotateOnWorldAxis(e,t){return a0.setFromAxisAngle(e,t),this.quaternion.premultiply(a0),this}rotateX(e){return this.rotateOnAxis(hE,e)}rotateY(e){return this.rotateOnAxis(fE,e)}rotateZ(e){return this.rotateOnAxis(pE,e)}translateOnAxis(e,t){return dE.copy(e).applyQuaternion(this.quaternion),this.position.add(dE.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(hE,e)}translateY(e){return this.translateOnAxis(fE,e)}translateZ(e){return this.translateOnAxis(pE,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(mh.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Ix.copy(e):Ix.set(e,t,n);const a=this.parent;this.updateWorldMatrix(!0,!1),o1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?mh.lookAt(o1,Ix,this.up):mh.lookAt(Ix,o1,this.up),this.quaternion.setFromRotationMatrix(mh),a&&(mh.extractRotation(a.matrixWorld),a0.setFromRotationMatrix(mh),this.quaternion.premultiply(a0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Wn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(mE),r0.child=e,this.dispatchEvent(r0),r0.child=null):Wn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(NG),M3.child=e,this.dispatchEvent(M3),M3.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),mh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),mh.multiply(e.parent.matrixWorld)),e.applyMatrix4(mh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(mE),r0.child=e,this.dispatchEvent(r0),r0.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,a=this.children.length;n<a;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const a=this.children;for(let r=0,o=a.length;r<o;r++)a[r].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(o1,e,EG),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(o1,CG,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,a=t.length;n<a;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,a=t.length;n<a;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,a=t.length;n<a;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let r=0,o=a.length;r<o;r++)a[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(l=>({...l})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function r(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=r(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let d=0,m=u.length;d<m;d++){const y=u[d];r(e.shapes,y)}else r(e.shapes,u)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,d=this.material.length;u<d;u++)l.push(r(e.materials,this.material[u]));a.material=l}else a.material=r(e.materials,this.material);if(this.children.length>0){a.children=[];for(let l=0;l<this.children.length;l++)a.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];a.animations.push(r(e.animations,u))}}if(t){const l=o(e.geometries),u=o(e.materials),d=o(e.textures),m=o(e.images),y=o(e.shapes),x=o(e.skeletons),g=o(e.animations),_=o(e.nodes);l.length>0&&(n.geometries=l),u.length>0&&(n.materials=u),d.length>0&&(n.textures=d),m.length>0&&(n.images=m),y.length>0&&(n.shapes=y),x.length>0&&(n.skeletons=x),g.length>0&&(n.animations=g),_.length>0&&(n.nodes=_)}return n.object=a,n;function o(l){const u=[];for(const d in l){const m=l[d];delete m.metadata,u.push(m)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const a=e.children[n];this.add(a.clone())}return this}}$i.DEFAULT_UP=new ke(0,1,0);$i.DEFAULT_MATRIX_AUTO_UPDATE=!0;$i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Iu=new ke,gh=new ke,T3=new ke,yh=new ke,s0=new ke,o0=new ke,gE=new ke,E3=new ke,C3=new ke,N3=new ke,R3=new Yi,L3=new Yi,D3=new Yi;class Wl{constructor(e=new ke,t=new ke,n=new ke){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,a){a.subVectors(n,t),Iu.subVectors(e,t),a.cross(Iu);const r=a.lengthSq();return r>0?a.multiplyScalar(1/Math.sqrt(r)):a.set(0,0,0)}static getBarycoord(e,t,n,a,r){Iu.subVectors(a,t),gh.subVectors(n,t),T3.subVectors(e,t);const o=Iu.dot(Iu),l=Iu.dot(gh),u=Iu.dot(T3),d=gh.dot(gh),m=gh.dot(T3),y=o*d-l*l;if(y===0)return r.set(0,0,0),null;const x=1/y,g=(d*u-l*m)*x,_=(o*m-l*u)*x;return r.set(1-g-_,_,g)}static containsPoint(e,t,n,a){return this.getBarycoord(e,t,n,a,yh)===null?!1:yh.x>=0&&yh.y>=0&&yh.x+yh.y<=1}static getInterpolation(e,t,n,a,r,o,l,u){return this.getBarycoord(e,t,n,a,yh)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(r,yh.x),u.addScaledVector(o,yh.y),u.addScaledVector(l,yh.z),u)}static getInterpolatedAttribute(e,t,n,a,r,o){return R3.setScalar(0),L3.setScalar(0),D3.setScalar(0),R3.fromBufferAttribute(e,t),L3.fromBufferAttribute(e,n),D3.fromBufferAttribute(e,a),o.setScalar(0),o.addScaledVector(R3,r.x),o.addScaledVector(L3,r.y),o.addScaledVector(D3,r.z),o}static isFrontFacing(e,t,n,a){return Iu.subVectors(n,t),gh.subVectors(e,t),Iu.cross(gh).dot(a)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,a){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,n,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Iu.subVectors(this.c,this.b),gh.subVectors(this.a,this.b),Iu.cross(gh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Wl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Wl.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,a,r){return Wl.getInterpolation(e,this.a,this.b,this.c,t,n,a,r)}containsPoint(e){return Wl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Wl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,a=this.b,r=this.c;let o,l;s0.subVectors(a,n),o0.subVectors(r,n),E3.subVectors(e,n);const u=s0.dot(E3),d=o0.dot(E3);if(u<=0&&d<=0)return t.copy(n);C3.subVectors(e,a);const m=s0.dot(C3),y=o0.dot(C3);if(m>=0&&y<=m)return t.copy(a);const x=u*y-m*d;if(x<=0&&u>=0&&m<=0)return o=u/(u-m),t.copy(n).addScaledVector(s0,o);N3.subVectors(e,r);const g=s0.dot(N3),_=o0.dot(N3);if(_>=0&&g<=_)return t.copy(r);const S=g*d-u*_;if(S<=0&&d>=0&&_<=0)return l=d/(d-_),t.copy(n).addScaledVector(o0,l);const M=m*_-g*y;if(M<=0&&y-m>=0&&g-_>=0)return gE.subVectors(r,a),l=(y-m)/(y-m+(g-_)),t.copy(a).addScaledVector(gE,l);const b=1/(M+S+x);return o=S*b,l=x*b,t.copy(n).addScaledVector(s0,o).addScaledVector(o0,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const tL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},wf={h:0,s:0,l:0},Ux={h:0,s:0,l:0};function O3(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class rn{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Io){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Bi.colorSpaceToWorking(this,t),this}setRGB(e,t,n,a=Bi.workingColorSpace){return this.r=e,this.g=t,this.b=n,Bi.colorSpaceToWorking(this,a),this}setHSL(e,t,n,a=Bi.workingColorSpace){if(e=SS(e,1),t=Bn(t,0,1),n=Bn(n,0,1),t===0)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,o=2*n-r;this.r=O3(o,r,e+1/3),this.g=O3(o,r,e),this.b=O3(o,r,e-1/3)}return Bi.colorSpaceToWorking(this,a),this}setStyle(e,t=Io){function n(r){r!==void 0&&parseFloat(r)<1&&en("Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=a[1],l=a[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:en("Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=a[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(r,16),t);en("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Io){const n=tL[e.toLowerCase()];return n!==void 0?this.setHex(n,t):en("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ah(e.r),this.g=Ah(e.g),this.b=Ah(e.b),this}copyLinearToSRGB(e){return this.r=B0(e.r),this.g=B0(e.g),this.b=B0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Io){return Bi.workingToColorSpace(Oo.copy(this),e),Math.round(Bn(Oo.r*255,0,255))*65536+Math.round(Bn(Oo.g*255,0,255))*256+Math.round(Bn(Oo.b*255,0,255))}getHexString(e=Io){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Bi.workingColorSpace){Bi.workingToColorSpace(Oo.copy(this),t);const n=Oo.r,a=Oo.g,r=Oo.b,o=Math.max(n,a,r),l=Math.min(n,a,r);let u,d;const m=(l+o)/2;if(l===o)u=0,d=0;else{const y=o-l;switch(d=m<=.5?y/(o+l):y/(2-o-l),o){case n:u=(a-r)/y+(a<r?6:0);break;case a:u=(r-n)/y+2;break;case r:u=(n-a)/y+4;break}u/=6}return e.h=u,e.s=d,e.l=m,e}getRGB(e,t=Bi.workingColorSpace){return Bi.workingToColorSpace(Oo.copy(this),t),e.r=Oo.r,e.g=Oo.g,e.b=Oo.b,e}getStyle(e=Io){Bi.workingToColorSpace(Oo.copy(this),e);const t=Oo.r,n=Oo.g,a=Oo.b;return e!==Io?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(a*255)})`}offsetHSL(e,t,n){return this.getHSL(wf),this.setHSL(wf.h+e,wf.s+t,wf.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(wf),e.getHSL(Ux);const n=I1(wf.h,Ux.h,t),a=I1(wf.s,Ux.s,t),r=I1(wf.l,Ux.l,t);return this.setHSL(n,a,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,a=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*a,this.g=r[1]*t+r[4]*n+r[7]*a,this.b=r[2]*t+r[5]*n+r[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Oo=new rn;rn.NAMES=tL;let RG=0;class Vo extends Ld{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:RG++}),this.uuid=Tc(),this.name="",this.type="Material",this.blending=im,this.side=Rh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=t2,this.blendDst=n2,this.blendEquation=Ef,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new rn(0,0,0),this.blendAlpha=0,this.depthFunc=hm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=aw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=qp,this.stencilZFail=qp,this.stencilZPass=qp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){en(`Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){en(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(n):a&&a.isVector3&&n&&n.isVector3?a.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==im&&(n.blending=this.blending),this.side!==Rh&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==t2&&(n.blendSrc=this.blendSrc),this.blendDst!==n2&&(n.blendDst=this.blendDst),this.blendEquation!==Ef&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==hm&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==aw&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==qp&&(n.stencilFail=this.stencilFail),this.stencilZFail!==qp&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==qp&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function a(r){const o=[];for(const l in r){const u=r[l];delete u.metadata,o.push(u)}return o}if(t){const r=a(e.textures),o=a(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const a=t.length;n=new Array(a);for(let r=0;r!==a;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class $f extends Vo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new rn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ec,this.combine=Sy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sh=LG();function LG(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),a=new Uint32Array(512);for(let u=0;u<256;++u){const d=u-127;d<-27?(n[u]=0,n[u|256]=32768,a[u]=24,a[u|256]=24):d<-14?(n[u]=1024>>-d-14,n[u|256]=1024>>-d-14|32768,a[u]=-d-1,a[u|256]=-d-1):d<=15?(n[u]=d+15<<10,n[u|256]=d+15<<10|32768,a[u]=13,a[u|256]=13):d<128?(n[u]=31744,n[u|256]=64512,a[u]=24,a[u|256]=24):(n[u]=31744,n[u|256]=64512,a[u]=13,a[u|256]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let d=u<<13,m=0;for(;(d&8388608)===0;)d<<=1,m-=8388608;d&=-8388609,m+=947912704,r[u]=d|m}for(let u=1024;u<2048;++u)r[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:a,mantissaTable:r,exponentTable:o,offsetTable:l}}function ql(i){Math.abs(i)>65504&&en("DataUtils.toHalfFloat(): Value out of range."),i=Bn(i,-65504,65504),Sh.floatView[0]=i;const e=Sh.uint32View[0],t=e>>23&511;return Sh.baseTable[t]+((e&8388607)>>Sh.shiftTable[t])}function b1(i){const e=i>>10;return Sh.uint32View[0]=Sh.mantissaTable[Sh.offsetTable[e]+(i&1023)]+Sh.exponentTable[e],Sh.floatView[0]}class DG{static toHalfFloat(e){return ql(e)}static fromHalfFloat(e){return b1(e)}}const ps=new ke,zx=new kt;let OG=0;class Oa{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:OG++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=ny,this.updateRanges=[],this.gpuType=$l,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let a=0,r=this.itemSize;a<r;a++)this.array[e+a]=t.array[n+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)zx.fromBufferAttribute(this,t),zx.applyMatrix3(e),this.setXY(t,zx.x,zx.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)ps.fromBufferAttribute(this,t),ps.applyMatrix3(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)ps.fromBufferAttribute(this,t),ps.applyMatrix4(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ps.fromBufferAttribute(this,t),ps.applyNormalMatrix(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ps.fromBufferAttribute(this,t),ps.transformDirection(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=hl(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=oi(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=hl(t,this.array)),t}setX(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=hl(t,this.array)),t}setY(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=hl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=hl(t,this.array)),t}setW(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),n=oi(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,a){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),n=oi(n,this.array),a=oi(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=a,this}setXYZW(e,t,n,a,r){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),n=oi(n,this.array),a=oi(a,this.array),r=oi(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=a,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ny&&(e.usage=this.usage),e}}class PG extends Oa{constructor(e,t,n){super(new Int8Array(e),t,n)}}class kG extends Oa{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class IG extends Oa{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class UG extends Oa{constructor(e,t,n){super(new Int16Array(e),t,n)}}class MS extends Oa{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class zG extends Oa{constructor(e,t,n){super(new Int32Array(e),t,n)}}class TS extends Oa{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class BG extends Oa{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=b1(this.array[e*this.itemSize]);return this.normalized&&(t=hl(t,this.array)),t}setX(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize]=ql(t),this}getY(e){let t=b1(this.array[e*this.itemSize+1]);return this.normalized&&(t=hl(t,this.array)),t}setY(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+1]=ql(t),this}getZ(e){let t=b1(this.array[e*this.itemSize+2]);return this.normalized&&(t=hl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+2]=ql(t),this}getW(e){let t=b1(this.array[e*this.itemSize+3]);return this.normalized&&(t=hl(t,this.array)),t}setW(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+3]=ql(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),n=oi(n,this.array)),this.array[e+0]=ql(t),this.array[e+1]=ql(n),this}setXYZ(e,t,n,a){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),n=oi(n,this.array),a=oi(a,this.array)),this.array[e+0]=ql(t),this.array[e+1]=ql(n),this.array[e+2]=ql(a),this}setXYZW(e,t,n,a,r){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),n=oi(n,this.array),a=oi(a,this.array),r=oi(r,this.array)),this.array[e+0]=ql(t),this.array[e+1]=ql(n),this.array[e+2]=ql(a),this.array[e+3]=ql(r),this}}class pn extends Oa{constructor(e,t,n){super(new Float32Array(e),t,n)}}let jG=0;const Zc=new Vn,P3=new $i,l0=new ke,wc=new jo,l1=new jo,Hs=new ke;class si extends Ld{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jG++}),this.uuid=Tc(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(JR(e)?TS:MS)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new ri().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Zc.makeRotationFromQuaternion(e),this.applyMatrix4(Zc),this}rotateX(e){return Zc.makeRotationX(e),this.applyMatrix4(Zc),this}rotateY(e){return Zc.makeRotationY(e),this.applyMatrix4(Zc),this}rotateZ(e){return Zc.makeRotationZ(e),this.applyMatrix4(Zc),this}translate(e,t,n){return Zc.makeTranslation(e,t,n),this.applyMatrix4(Zc),this}scale(e,t,n){return Zc.makeScale(e,t,n),this.applyMatrix4(Zc),this}lookAt(e){return P3.lookAt(e),P3.updateMatrix(),this.applyMatrix4(P3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(l0).negate(),this.translate(l0.x,l0.y,l0.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let a=0,r=e.length;a<r;a++){const o=e[a];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new pn(n,3))}else{const n=Math.min(e.length,t.count);for(let a=0;a<n;a++){const r=e[a];t.setXYZ(a,r.x,r.y,r.z||0)}e.length>t.count&&en("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new jo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Wn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ke(-1/0,-1/0,-1/0),new ke(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,a=t.length;n<a;n++){const r=t[n];wc.setFromBufferAttribute(r),this.morphTargetsRelative?(Hs.addVectors(this.boundingBox.min,wc.min),this.boundingBox.expandByPoint(Hs),Hs.addVectors(this.boundingBox.max,wc.max),this.boundingBox.expandByPoint(Hs)):(this.boundingBox.expandByPoint(wc.min),this.boundingBox.expandByPoint(wc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Wn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new lo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Wn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ke,1/0);return}if(e){const n=this.boundingSphere.center;if(wc.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const l=t[r];l1.setFromBufferAttribute(l),this.morphTargetsRelative?(Hs.addVectors(wc.min,l1.min),wc.expandByPoint(Hs),Hs.addVectors(wc.max,l1.max),wc.expandByPoint(Hs)):(wc.expandByPoint(l1.min),wc.expandByPoint(l1.max))}wc.getCenter(n);let a=0;for(let r=0,o=e.count;r<o;r++)Hs.fromBufferAttribute(e,r),a=Math.max(a,n.distanceToSquared(Hs));if(t)for(let r=0,o=t.length;r<o;r++){const l=t[r],u=this.morphTargetsRelative;for(let d=0,m=l.count;d<m;d++)Hs.fromBufferAttribute(l,d),u&&(l0.fromBufferAttribute(e,d),Hs.add(l0)),a=Math.max(a,n.distanceToSquared(Hs))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&Wn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Wn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,a=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Oa(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),l=[],u=[];for(let X=0;X<n.count;X++)l[X]=new ke,u[X]=new ke;const d=new ke,m=new ke,y=new ke,x=new kt,g=new kt,_=new kt,S=new ke,M=new ke;function b(X,O,z){d.fromBufferAttribute(n,X),m.fromBufferAttribute(n,O),y.fromBufferAttribute(n,z),x.fromBufferAttribute(r,X),g.fromBufferAttribute(r,O),_.fromBufferAttribute(r,z),m.sub(d),y.sub(d),g.sub(x),_.sub(x);const q=1/(g.x*_.y-_.x*g.y);isFinite(q)&&(S.copy(m).multiplyScalar(_.y).addScaledVector(y,-g.y).multiplyScalar(q),M.copy(y).multiplyScalar(g.x).addScaledVector(m,-_.x).multiplyScalar(q),l[X].add(S),l[O].add(S),l[z].add(S),u[X].add(M),u[O].add(M),u[z].add(M))}let E=this.groups;E.length===0&&(E=[{start:0,count:e.count}]);for(let X=0,O=E.length;X<O;++X){const z=E[X],q=z.start,I=z.count;for(let $=q,U=q+I;$<U;$+=3)b(e.getX($+0),e.getX($+1),e.getX($+2))}const C=new ke,D=new ke,k=new ke,H=new ke;function G(X){k.fromBufferAttribute(a,X),H.copy(k);const O=l[X];C.copy(O),C.sub(k.multiplyScalar(k.dot(O))).normalize(),D.crossVectors(H,O);const q=D.dot(u[X])<0?-1:1;o.setXYZW(X,C.x,C.y,C.z,q)}for(let X=0,O=E.length;X<O;++X){const z=E[X],q=z.start,I=z.count;for(let $=q,U=q+I;$<U;$+=3)G(e.getX($+0)),G(e.getX($+1)),G(e.getX($+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Oa(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let x=0,g=n.count;x<g;x++)n.setXYZ(x,0,0,0);const a=new ke,r=new ke,o=new ke,l=new ke,u=new ke,d=new ke,m=new ke,y=new ke;if(e)for(let x=0,g=e.count;x<g;x+=3){const _=e.getX(x+0),S=e.getX(x+1),M=e.getX(x+2);a.fromBufferAttribute(t,_),r.fromBufferAttribute(t,S),o.fromBufferAttribute(t,M),m.subVectors(o,r),y.subVectors(a,r),m.cross(y),l.fromBufferAttribute(n,_),u.fromBufferAttribute(n,S),d.fromBufferAttribute(n,M),l.add(m),u.add(m),d.add(m),n.setXYZ(_,l.x,l.y,l.z),n.setXYZ(S,u.x,u.y,u.z),n.setXYZ(M,d.x,d.y,d.z)}else for(let x=0,g=t.count;x<g;x+=3)a.fromBufferAttribute(t,x+0),r.fromBufferAttribute(t,x+1),o.fromBufferAttribute(t,x+2),m.subVectors(o,r),y.subVectors(a,r),m.cross(y),n.setXYZ(x+0,m.x,m.y,m.z),n.setXYZ(x+1,m.x,m.y,m.z),n.setXYZ(x+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Hs.fromBufferAttribute(e,t),Hs.normalize(),e.setXYZ(t,Hs.x,Hs.y,Hs.z)}toNonIndexed(){function e(l,u){const d=l.array,m=l.itemSize,y=l.normalized,x=new d.constructor(u.length*m);let g=0,_=0;for(let S=0,M=u.length;S<M;S++){l.isInterleavedBufferAttribute?g=u[S]*l.data.stride+l.offset:g=u[S]*m;for(let b=0;b<m;b++)x[_++]=d[g++]}return new Oa(x,m,y)}if(this.index===null)return en("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new si,n=this.index.array,a=this.attributes;for(const l in a){const u=a[l],d=e(u,n);t.setAttribute(l,d)}const r=this.morphAttributes;for(const l in r){const u=[],d=r[l];for(let m=0,y=d.length;m<y;m++){const x=d[m],g=e(x,n);u.push(g)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,u=o.length;l<u;l++){const d=o[l];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const d in u)u[d]!==void 0&&(e[d]=u[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const u in n){const d=n[u];e.data.attributes[u]=d.toJSON(e.data)}const a={};let r=!1;for(const u in this.morphAttributes){const d=this.morphAttributes[u],m=[];for(let y=0,x=d.length;y<x;y++){const g=d[y];m.push(g.toJSON(e.data))}m.length>0&&(a[u]=m,r=!0)}r&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const a=e.attributes;for(const d in a){const m=a[d];this.setAttribute(d,m.clone(t))}const r=e.morphAttributes;for(const d in r){const m=[],y=r[d];for(let x=0,g=y.length;x<g;x++)m.push(y[x].clone(t));this.morphAttributes[d]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,m=o.length;d<m;d++){const y=o[d];this.addGroup(y.start,y.count,y.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const yE=new Vn,Ep=new vm,Bx=new lo,xE=new ke,jx=new ke,Fx=new ke,Vx=new ke,k3=new ke,Hx=new ke,vE=new ke,qx=new ke;class Ns extends $i{constructor(e=new si,t=new $f){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const a=t[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const l=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}getVertexPosition(e,t){const n=this.geometry,a=n.attributes.position,r=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(a,e);const l=this.morphTargetInfluences;if(r&&l){Hx.set(0,0,0);for(let u=0,d=r.length;u<d;u++){const m=l[u],y=r[u];m!==0&&(k3.fromBufferAttribute(y,e),o?Hx.addScaledVector(k3,m):Hx.addScaledVector(k3.sub(t),m))}t.add(Hx)}return t}raycast(e,t){const n=this.geometry,a=this.material,r=this.matrixWorld;a!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Bx.copy(n.boundingSphere),Bx.applyMatrix4(r),Ep.copy(e.ray).recast(e.near),!(Bx.containsPoint(Ep.origin)===!1&&(Ep.intersectSphere(Bx,xE)===null||Ep.origin.distanceToSquared(xE)>(e.far-e.near)**2))&&(yE.copy(r).invert(),Ep.copy(e.ray).applyMatrix4(yE),!(n.boundingBox!==null&&Ep.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Ep)))}_computeIntersections(e,t,n){let a;const r=this.geometry,o=this.material,l=r.index,u=r.attributes.position,d=r.attributes.uv,m=r.attributes.uv1,y=r.attributes.normal,x=r.groups,g=r.drawRange;if(l!==null)if(Array.isArray(o))for(let _=0,S=x.length;_<S;_++){const M=x[_],b=o[M.materialIndex],E=Math.max(M.start,g.start),C=Math.min(l.count,Math.min(M.start+M.count,g.start+g.count));for(let D=E,k=C;D<k;D+=3){const H=l.getX(D),G=l.getX(D+1),X=l.getX(D+2);a=Gx(this,b,e,n,d,m,y,H,G,X),a&&(a.faceIndex=Math.floor(D/3),a.face.materialIndex=M.materialIndex,t.push(a))}}else{const _=Math.max(0,g.start),S=Math.min(l.count,g.start+g.count);for(let M=_,b=S;M<b;M+=3){const E=l.getX(M),C=l.getX(M+1),D=l.getX(M+2);a=Gx(this,o,e,n,d,m,y,E,C,D),a&&(a.faceIndex=Math.floor(M/3),t.push(a))}}else if(u!==void 0)if(Array.isArray(o))for(let _=0,S=x.length;_<S;_++){const M=x[_],b=o[M.materialIndex],E=Math.max(M.start,g.start),C=Math.min(u.count,Math.min(M.start+M.count,g.start+g.count));for(let D=E,k=C;D<k;D+=3){const H=D,G=D+1,X=D+2;a=Gx(this,b,e,n,d,m,y,H,G,X),a&&(a.faceIndex=Math.floor(D/3),a.face.materialIndex=M.materialIndex,t.push(a))}}else{const _=Math.max(0,g.start),S=Math.min(u.count,g.start+g.count);for(let M=_,b=S;M<b;M+=3){const E=M,C=M+1,D=M+2;a=Gx(this,o,e,n,d,m,y,E,C,D),a&&(a.faceIndex=Math.floor(M/3),t.push(a))}}}}function FG(i,e,t,n,a,r,o,l){let u;if(e.side===pl?u=n.intersectTriangle(o,r,a,!0,l):u=n.intersectTriangle(a,r,o,e.side===Rh,l),u===null)return null;qx.copy(l),qx.applyMatrix4(i.matrixWorld);const d=t.ray.origin.distanceTo(qx);return d<t.near||d>t.far?null:{distance:d,point:qx.clone(),object:i}}function Gx(i,e,t,n,a,r,o,l,u,d){i.getVertexPosition(l,jx),i.getVertexPosition(u,Fx),i.getVertexPosition(d,Vx);const m=FG(i,e,t,n,jx,Fx,Vx,vE);if(m){const y=new ke;Wl.getBarycoord(vE,jx,Fx,Vx,y),a&&(m.uv=Wl.getInterpolatedAttribute(a,l,u,d,y,new kt)),r&&(m.uv1=Wl.getInterpolatedAttribute(r,l,u,d,y,new kt)),o&&(m.normal=Wl.getInterpolatedAttribute(o,l,u,d,y,new ke),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const x={a:l,b:u,c:d,normal:new ke,materialIndex:0};Wl.getNormal(jx,Fx,Vx,x.normal),m.face=x,m.barycoord=y}return m}class bm extends si{constructor(e=1,t=1,n=1,a=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:a,heightSegments:r,depthSegments:o};const l=this;a=Math.floor(a),r=Math.floor(r),o=Math.floor(o);const u=[],d=[],m=[],y=[];let x=0,g=0;_("z","y","x",-1,-1,n,t,e,o,r,0),_("z","y","x",1,-1,n,t,-e,o,r,1),_("x","z","y",1,1,e,n,t,a,o,2),_("x","z","y",1,-1,e,n,-t,a,o,3),_("x","y","z",1,-1,e,t,n,a,r,4),_("x","y","z",-1,-1,e,t,-n,a,r,5),this.setIndex(u),this.setAttribute("position",new pn(d,3)),this.setAttribute("normal",new pn(m,3)),this.setAttribute("uv",new pn(y,2));function _(S,M,b,E,C,D,k,H,G,X,O){const z=D/G,q=k/X,I=D/2,$=k/2,U=H/2,oe=G+1,J=X+1;let ae=0,te=0;const le=new ke;for(let Me=0;Me<J;Me++){const Z=Me*q-$;for(let V=0;V<oe;V++){const re=V*z-I;le[S]=re*E,le[M]=Z*C,le[b]=U,d.push(le.x,le.y,le.z),le[S]=0,le[M]=0,le[b]=H>0?1:-1,m.push(le.x,le.y,le.z),y.push(V/G),y.push(1-Me/X),ae+=1}}for(let Me=0;Me<X;Me++)for(let Z=0;Z<G;Z++){const V=x+Z+oe*Me,re=x+Z+oe*(Me+1),ce=x+(Z+1)+oe*(Me+1),pe=x+(Z+1)+oe*Me;u.push(V,re,pe),u.push(re,ce,pe),te+=6}l.addGroup(g,te,O),g+=te,x+=ae}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ag(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const a=i[t][n];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(en("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=a.clone():Array.isArray(a)?e[t][n]=a.slice():e[t][n]=a}}return e}function ul(i){const e={};for(let t=0;t<i.length;t++){const n=ag(i[t]);for(const a in n)e[a]=n[a]}return e}function VG(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function nL(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Bi.workingColorSpace}const iL={clone:ag,merge:ul};var HG=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qG=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Cc extends Vo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=HG,this.fragmentShader=qG,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ag(e.uniforms),this.uniformsGroups=VG(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?t.uniforms[a]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[a]={type:"m4",value:o.toArray()}:t.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const a in this.extensions)this.extensions[a]===!0&&(n[a]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class vb extends $i{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Vn,this.projectionMatrix=new Vn,this.projectionMatrixInverse=new Vn,this.coordinateSystem=Ac,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Sf=new ke,bE=new kt,_E=new kt;class rs extends vb{constructor(e=50,t=1,n=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ng*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(am*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ng*2*Math.atan(Math.tan(am*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Sf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Sf.x,Sf.y).multiplyScalar(-e/Sf.z),Sf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Sf.x,Sf.y).multiplyScalar(-e/Sf.z)}getViewSize(e,t){return this.getViewBounds(e,bE,_E),t.subVectors(_E,bE)}setViewOffset(e,t,n,a,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=a,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(am*.5*this.fov)/this.zoom,n=2*t,a=this.aspect*n,r=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,d=o.fullHeight;r+=o.offsetX*a/u,t-=o.offsetY*n/d,a*=o.width/u,n*=o.height/d}const l=this.filmOffset;l!==0&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+a,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const c0=-90,u0=1;class aL extends $i{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new rs(c0,u0,e,t);a.layers=this.layers,this.add(a);const r=new rs(c0,u0,e,t);r.layers=this.layers,this.add(r);const o=new rs(c0,u0,e,t);o.layers=this.layers,this.add(o);const l=new rs(c0,u0,e,t);l.layers=this.layers,this.add(l);const u=new rs(c0,u0,e,t);u.layers=this.layers,this.add(u);const d=new rs(c0,u0,e,t);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,a,r,o,l,u]=t;for(const d of t)this.remove(d);if(e===Ac)n.up.set(0,1,0),n.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===eg)n.up.set(0,-1,0),n.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of t)this.add(d),d.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,l,u,d,m]=this.children,y=e.getRenderTarget(),x=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const S=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,a),e.render(t,r),e.setRenderTarget(n,1,a),e.render(t,o),e.setRenderTarget(n,2,a),e.render(t,l),e.setRenderTarget(n,3,a),e.render(t,u),e.setRenderTarget(n,4,a),e.render(t,d),n.texture.generateMipmaps=S,e.setRenderTarget(n,5,a),e.render(t,m),e.setRenderTarget(y,x,g),e.xr.enabled=_,n.texture.needsPMREMUpdate=!0}}class My extends Vr{constructor(e=[],t=Lh,n,a,r,o,l,u,d,m){super(e,t,n,a,r,o,l,u,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class rL extends Nd{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},a=[n,n,n,n,n,n];this.texture=new My(a),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new bm(5,5,5),r=new Cc({name:"CubemapFromEquirect",uniforms:ag(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:pl,blending:Ed});r.uniforms.tEquirect.value=t;const o=new Ns(a,r),l=t.minFilter;return t.minFilter===Sd&&(t.minFilter=ss),new aL(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,n=!0,a=!0){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,a);e.setRenderTarget(r)}}class O0 extends $i{constructor(){super(),this.isGroup=!0,this.type="Group"}}const GG={type:"move"};class Iv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new O0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new O0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ke,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ke),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new O0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ke,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ke),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let a=null,r=null,o=null;const l=this._targetRay,u=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const S of e.hand.values()){const M=t.getJointPose(S,n),b=this._getHandJoint(d,S);M!==null&&(b.matrix.fromArray(M.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=M.radius),b.visible=M!==null}const m=d.joints["index-finger-tip"],y=d.joints["thumb-tip"],x=m.position.distanceTo(y.position),g=.02,_=.005;d.inputState.pinching&&x>g+_?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&x<=g-_&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(a=t.getPose(e.targetRaySpace,n),a===null&&r!==null&&(a=r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(GG)))}return l!==null&&(l.visible=a!==null),u!==null&&(u.visible=r!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new O0;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class bb{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new rn(e),this.density=t}clone(){return new bb(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class _b{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new rn(e),this.near=t,this.far=n}clone(){return new _b(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ES extends $i{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ec,this.environmentIntensity=1,this.environmentRotation=new Ec,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class wb{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ny,this.updateRanges=[],this.version=0,this.uuid=Tc()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let a=0,r=this.stride;a<r;a++)this.array[e+a]=t.array[n+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const cl=new ke;class fm{constructor(e,t,n,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)cl.fromBufferAttribute(this,t),cl.applyMatrix4(e),this.setXYZ(t,cl.x,cl.y,cl.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)cl.fromBufferAttribute(this,t),cl.applyNormalMatrix(e),this.setXYZ(t,cl.x,cl.y,cl.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)cl.fromBufferAttribute(this,t),cl.transformDirection(e),this.setXYZ(t,cl.x,cl.y,cl.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=hl(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=oi(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=oi(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=oi(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=oi(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=oi(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=hl(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=hl(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=hl(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=hl(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=oi(t,this.array),n=oi(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=oi(t,this.array),n=oi(n,this.array),a=oi(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=a,this}setXYZW(e,t,n,a,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=oi(t,this.array),n=oi(n,this.array),a=oi(a,this.array),r=oi(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=a,this.data.array[e+3]=r,this}clone(e){if(e===void 0){ay("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const a=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return new Oa(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new fm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){ay("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const a=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class CS extends Vo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new rn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let d0;const c1=new ke,h0=new ke,f0=new ke,p0=new kt,u1=new kt,sL=new Vn,Wx=new ke,d1=new ke,Xx=new ke,wE=new kt,I3=new kt,SE=new kt;class oL extends $i{constructor(e=new CS){if(super(),this.isSprite=!0,this.type="Sprite",d0===void 0){d0=new si;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new wb(t,5);d0.setIndex([0,1,2,0,2,3]),d0.setAttribute("position",new fm(n,3,0,!1)),d0.setAttribute("uv",new fm(n,2,3,!1))}this.geometry=d0,this.material=e,this.center=new kt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Wn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),h0.setFromMatrixScale(this.matrixWorld),sL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),f0.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&h0.multiplyScalar(-f0.z);const n=this.material.rotation;let a,r;n!==0&&(r=Math.cos(n),a=Math.sin(n));const o=this.center;Yx(Wx.set(-.5,-.5,0),f0,o,h0,a,r),Yx(d1.set(.5,-.5,0),f0,o,h0,a,r),Yx(Xx.set(.5,.5,0),f0,o,h0,a,r),wE.set(0,0),I3.set(1,0),SE.set(1,1);let l=e.ray.intersectTriangle(Wx,d1,Xx,!1,c1);if(l===null&&(Yx(d1.set(-.5,.5,0),f0,o,h0,a,r),I3.set(0,1),l=e.ray.intersectTriangle(Wx,Xx,d1,!1,c1),l===null))return;const u=e.ray.origin.distanceTo(c1);u<e.near||u>e.far||t.push({distance:u,point:c1.clone(),uv:Wl.getInterpolation(c1,Wx,d1,Xx,wE,I3,SE,new kt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Yx(i,e,t,n,a,r){p0.subVectors(i,t).addScalar(.5).multiply(n),a!==void 0?(u1.x=r*p0.x-a*p0.y,u1.y=a*p0.x+r*p0.y):u1.copy(p0),i.copy(e),i.x+=u1.x,i.y+=u1.y,i.applyMatrix4(sL)}const $x=new ke,AE=new ke;class lL extends $i{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,a=t.length;n<a;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const a=this.levels;let r;for(r=0;r<a.length&&!(t<a[r].distance);r++);return a.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const a=t.splice(n,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,a;for(n=1,a=t.length;n<a;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){$x.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo($x);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){$x.setFromMatrixPosition(e.matrixWorld),AE.setFromMatrixPosition(this.matrixWorld);const n=$x.distanceTo(AE)/e.zoom;t[0].object.visible=!0;let a,r;for(a=1,r=t.length;a<r;a++){let o=t[a].distance;if(t[a].object.visible&&(o-=o*t[a].hysteresis),n>=o)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<r;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let a=0,r=n.length;a<r;a++){const o=n[a];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const ME=new ke,TE=new Yi,EE=new Yi,WG=new ke,CE=new Vn,Kx=new ke,U3=new lo,NE=new Vn,z3=new vm;class cL extends Ns{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=iw,this.bindMatrix=new Vn,this.bindMatrixInverse=new Vn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new jo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Kx),this.boundingBox.expandByPoint(Kx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new lo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Kx),this.boundingSphere.expandByPoint(Kx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,a=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),U3.copy(this.boundingSphere),U3.applyMatrix4(a),e.ray.intersectsSphere(U3)!==!1&&(NE.copy(a).invert(),z3.copy(e.ray).applyMatrix4(NE),!(this.boundingBox!==null&&z3.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,z3)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Yi,t=this.geometry.attributes.skinWeight;for(let n=0,a=t.count;n<a;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===iw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===zR?this.bindMatrixInverse.copy(this.bindMatrix).invert():en("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,a=this.geometry;TE.fromBufferAttribute(a.attributes.skinIndex,e),EE.fromBufferAttribute(a.attributes.skinWeight,e),ME.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const o=EE.getComponent(r);if(o!==0){const l=TE.getComponent(r);CE.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector(WG.copy(ME).applyMatrix4(CE),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class NS extends $i{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Fu extends Vr{constructor(e=null,t=1,n=1,a,r,o,l,u,d=oo,m=oo,y,x){super(null,o,l,u,d,m,a,r,y,x),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const RE=new Vn,XG=new Vn;class Sb{constructor(e=[],t=[]){this.uuid=Tc(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){en("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,a=this.bones.length;n<a;n++)this.boneInverses.push(new Vn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Vn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,a=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const l=e[r]?e[r].matrixWorld:XG;RE.multiplyMatrices(l,t[r]),RE.toArray(n,r*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new Sb(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Fu(t,e,e,zo,$l);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,a=e.bones.length;n<a;n++){const r=e.bones[n];let o=t[r];o===void 0&&(en("Skeleton: No bone found with UUID:",r),o=new NS),this.bones.push(o),this.boneInverses.push(new Vn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let a=0,r=t.length;a<r;a++){const o=t[a];e.bones.push(o.uuid);const l=n[a];e.boneInverses.push(l.toArray())}return e}}class rg extends Oa{constructor(e,t,n,a=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const m0=new Vn,LE=new Vn,Zx=[],DE=new jo,YG=new Vn,h1=new Ns,f1=new lo;class uL extends Ns{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new rg(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<n;a++)this.setMatrixAt(a,YG)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new jo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,m0),DE.copy(e.boundingBox).applyMatrix4(m0),this.boundingBox.union(DE)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new lo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,m0),f1.copy(e.boundingSphere).applyMatrix4(m0),this.boundingSphere.union(f1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,a=this.morphTexture.source.data.data,r=n.length+1,o=e*r+1;for(let l=0;l<n.length;l++)n[l]=a[o+l]}raycast(e,t){const n=this.matrixWorld,a=this.count;if(h1.geometry=this.geometry,h1.material=this.material,h1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),f1.copy(this.boundingSphere),f1.applyMatrix4(n),e.ray.intersectsSphere(f1)!==!1))for(let r=0;r<a;r++){this.getMatrixAt(r,m0),LE.multiplyMatrices(n,m0),h1.matrixWorld=LE,h1.raycast(e,Zx);for(let o=0,l=Zx.length;o<l;o++){const u=Zx[o];u.instanceId=r,u.object=this,t.push(u)}Zx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new rg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,a=n.length+1;this.morphTexture===null&&(this.morphTexture=new Fu(new Float32Array(a*this.count),a,this.count,hb,$l));const r=this.morphTexture.source.data.data;let o=0;for(let d=0;d<n.length;d++)o+=n[d];const l=this.geometry.morphTargetsRelative?1:1-o,u=a*e;r[u]=l,r.set(n,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const B3=new ke,$G=new ke,KG=new ri;class _h{constructor(e=new ke(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,a){return this.normal.set(e,t,n),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const a=B3.subVectors(n,t).cross($G.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(B3),a=this.normal.dot(n);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/a;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||KG.getNormalMatrix(e),a=this.coplanarPoint(B3).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Cp=new lo,ZG=new kt(.5,.5),Jx=new ke;class xg{constructor(e=new _h,t=new _h,n=new _h,a=new _h,r=new _h,o=new _h){this.planes=[e,t,n,a,r,o]}set(e,t,n,a,r,o){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(a),l[4].copy(r),l[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Ac,n=!1){const a=this.planes,r=e.elements,o=r[0],l=r[1],u=r[2],d=r[3],m=r[4],y=r[5],x=r[6],g=r[7],_=r[8],S=r[9],M=r[10],b=r[11],E=r[12],C=r[13],D=r[14],k=r[15];if(a[0].setComponents(d-o,g-m,b-_,k-E).normalize(),a[1].setComponents(d+o,g+m,b+_,k+E).normalize(),a[2].setComponents(d+l,g+y,b+S,k+C).normalize(),a[3].setComponents(d-l,g-y,b-S,k-C).normalize(),n)a[4].setComponents(u,x,M,D).normalize(),a[5].setComponents(d-u,g-x,b-M,k-D).normalize();else if(a[4].setComponents(d-u,g-x,b-M,k-D).normalize(),t===Ac)a[5].setComponents(d+u,g+x,b+M,k+D).normalize();else if(t===eg)a[5].setComponents(u,x,M,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Cp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Cp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Cp)}intersectsSprite(e){Cp.center.set(0,0,0);const t=ZG.distanceTo(e.center);return Cp.radius=.7071067811865476+t,Cp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Cp)}intersectsSphere(e){const t=this.planes,n=e.center,a=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const a=t[n];if(Jx.x=a.normal.x>0?e.max.x:e.min.x,Jx.y=a.normal.y>0?e.max.y:e.min.y,Jx.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(Jx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const xd=new Vn,vd=new xg;class Ab{constructor(){this.coordinateSystem=Ac}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const a=t.cameras[n];if(xd.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),vd.setFromProjectionMatrix(xd,a.coordinateSystem,a.reversedDepth),vd.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const a=t.cameras[n];if(xd.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),vd.setFromProjectionMatrix(xd,a.coordinateSystem,a.reversedDepth),vd.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const a=t.cameras[n];if(xd.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),vd.setFromProjectionMatrix(xd,a.coordinateSystem,a.reversedDepth),vd.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const a=t.cameras[n];if(xd.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),vd.setFromProjectionMatrix(xd,a.coordinateSystem,a.reversedDepth),vd.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const a=t.cameras[n];if(xd.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),vd.setFromProjectionMatrix(xd,a.coordinateSystem,a.reversedDepth),vd.containsPoint(e))return!0}return!1}clone(){return new Ab}}function j3(i,e){return i-e}function JG(i,e){return i.z-e.z}function QG(i,e){return e.z-i.z}class eW{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,a){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const l=r[this.index];o.push(l),this.index++,l.start=e,l.count=t,l.z=n,l.index=a}reset(){this.list.length=0,this.index=0}}const Hl=new Vn,tW=new rn(1,1,1),OE=new xg,nW=new Ab,Qx=new jo,Np=new lo,p1=new ke,PE=new ke,iW=new ke,F3=new eW,Po=new Ns,ev=[];function aW(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const a=i.count;for(let r=0;r<a;r++)for(let o=0;o<n;o++)e.setComponent(r+t,o,i.getComponent(r,o))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function Rp(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class dL extends Ns{constructor(e,t,n=t*2,a){super(new si,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Fu(t,e,e,zo,$l);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Fu(t,e,e,Ay,Dh);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Fu(t,e,e,zo,$l);n.colorSpace=Bi.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const o=e.getAttribute(r),{array:l,itemSize:u,normalized:d}=o,m=new l.constructor(n*u),y=new Oa(m,u,d);t.setAttribute(r,y)}if(e.getIndex()!==null){const r=n>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new Oa(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const a=e.getAttribute(n),r=t.getAttribute(n);if(a.itemSize!==r.itemSize||a.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new jo);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,a=t.length;n<a;n++){if(t[n].active===!1)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,Hl),this.getBoundingBoxAt(r,Qx).applyMatrix4(Hl),e.union(Qx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new lo);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,a=t.length;n<a;n++){if(t[n].active===!1)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,Hl),this.getBoundingSphereAt(r,Np).applyMatrix4(Hl),e.union(Np)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(j3),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=n):(a=this._instanceInfo.length,this._instanceInfo.push(n));const r=this._matricesTexture;Hl.identity().toArray(r.image.data,a*16),r.needsUpdate=!0;const o=this._colorsTexture;return o&&(tW.toArray(o.image.data,a*4),o.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=n===-1?o.count:n),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(j3),u=this._availableGeometryIds.shift(),r[u]=a):(u=this._geometryCount,this._geometryCount++,r.push(a)),this.setGeometryAt(u,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,a=n.getIndex()!==null,r=n.getIndex(),o=t.getIndex(),l=this._geometryInfo[e];if(a&&o.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,d=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const m in n.attributes){const y=t.getAttribute(m),x=n.getAttribute(m);aW(y,x,u);const g=y.itemSize;for(let _=y.count,S=d;_<S;_++){const M=u+_;for(let b=0;b<g;b++)x.setComponent(M,b,0)}x.needsUpdate=!0,x.addUpdateRange(u*g,d*g)}if(a){const m=l.indexStart,y=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let x=0;x<o.count;x++)r.setX(m+x,u+o.getX(x));for(let x=o.count,g=y;x<g;x++)r.setX(m+x,u);r.needsUpdate=!0,r.addUpdateRange(m,l.reservedIndexCount)}return l.start=a?l.indexStart:l.vertexStart,l.count=a?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let a=0,r=n.length;a<r;a++)n[a].active&&n[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,a=n.map((o,l)=>l).sort((o,l)=>n[o].vertexStart-n[l].vertexStart),r=this.geometry;for(let o=0,l=n.length;o<l;o++){const u=a[o],d=n[u];if(d.active!==!1){if(r.index!==null){if(d.indexStart!==t){const{indexStart:m,vertexStart:y,reservedIndexCount:x}=d,g=r.index,_=g.array,S=e-y;for(let M=m;M<m+x;M++)_[M]=_[M]+S;g.array.copyWithin(t,m,m+x),g.addUpdateRange(t,x),d.indexStart=t}t+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:m,reservedVertexCount:y}=d,x=r.attributes;for(const g in x){const _=x[g],{array:S,itemSize:M}=_;S.copyWithin(e*M,m*M,(m+y)*M),_.addUpdateRange(e*M,y*M)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=r.index?d.indexStart:d.vertexStart,this._nextIndexStart=r.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const r=new jo,o=n.index,l=n.attributes.position;for(let u=a.start,d=a.start+a.count;u<d;u++){let m=u;o&&(m=o.getX(m)),r.expandByPoint(p1.fromBufferAttribute(l,m))}a.boundingBox=r}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const r=new lo;this.getBoundingBoxAt(e,Qx),Qx.getCenter(r.center);const o=n.index,l=n.attributes.position;let u=0;for(let d=a.start,m=a.start+a.count;d<m;d++){let y=d;o&&(y=o.getX(y)),p1.fromBufferAttribute(l,y),u=Math.max(u,r.center.distanceToSquared(p1))}r.radius=Math.sqrt(u),a.boundingSphere=r}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(j3);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),r=new Int32Array(e);Rp(this._multiDrawCounts,a),Rp(this._multiDrawStarts,r),this._multiDrawCounts=a,this._multiDrawStarts=r,this._maxInstanceCount=e;const o=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Rp(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Rp(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Rp(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...n.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new si,this._initializeGeometry(r));const o=this.geometry;r.index&&Rp(r.index.array,o.index.array);for(const l in r.attributes)Rp(r.attributes[l].array,o.attributes[l].array)}raycast(e,t){const n=this._instanceInfo,a=this._geometryInfo,r=this.matrixWorld,o=this.geometry;Po.material=this.material,Po.geometry.index=o.index,Po.geometry.attributes=o.attributes,Po.geometry.boundingBox===null&&(Po.geometry.boundingBox=new jo),Po.geometry.boundingSphere===null&&(Po.geometry.boundingSphere=new lo);for(let l=0,u=n.length;l<u;l++){if(!n[l].visible||!n[l].active)continue;const d=n[l].geometryIndex,m=a[d];Po.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,Po.matrixWorld).premultiply(r),this.getBoundingBoxAt(d,Po.geometry.boundingBox),this.getBoundingSphereAt(d,Po.geometry.boundingSphere),Po.raycast(e,ev);for(let y=0,x=ev.length;y<x;y++){const g=ev[y];g.object=this,g.batchId=l,t.push(g)}ev.length=0}Po.material=null,Po.geometry.index=null,Po.geometry.attributes={},Po.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,a,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=a.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._instanceInfo,d=this._multiDrawStarts,m=this._multiDrawCounts,y=this._geometryInfo,x=this.perObjectFrustumCulled,g=this._indirectTexture,_=g.image.data,S=n.isArrayCamera?nW:OE;x&&!n.isArrayCamera&&(Hl.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),OE.setFromProjectionMatrix(Hl,n.coordinateSystem,n.reversedDepth));let M=0;if(this.sortObjects){Hl.copy(this.matrixWorld).invert(),p1.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Hl),PE.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Hl);for(let C=0,D=u.length;C<D;C++)if(u[C].visible&&u[C].active){const k=u[C].geometryIndex;this.getMatrixAt(C,Hl),this.getBoundingSphereAt(k,Np).applyMatrix4(Hl);let H=!1;if(x&&(H=!S.intersectsSphere(Np,n)),!H){const G=y[k],X=iW.subVectors(Np.center,p1).dot(PE);F3.push(G.start,G.count,X,C)}}const b=F3.list,E=this.customSort;E===null?b.sort(r.transparent?QG:JG):E.call(this,b,n);for(let C=0,D=b.length;C<D;C++){const k=b[C];d[M]=k.start*l,m[M]=k.count,_[M]=k.index,M++}F3.reset()}else for(let b=0,E=u.length;b<E;b++)if(u[b].visible&&u[b].active){const C=u[b].geometryIndex;let D=!1;if(x&&(this.getMatrixAt(b,Hl),this.getBoundingSphereAt(C,Np).applyMatrix4(Hl),D=!S.intersectsSphere(Np,n)),!D){const k=y[C];d[M]=k.start*l,m[M]=k.count,_[M]=b,M++}}g.needsUpdate=!0,this._multiDrawCount=M,this._visibilityChanged=!1}onBeforeShadow(e,t,n,a,r,o){this.onBeforeRender(e,null,a,r,o)}}class ml extends Vo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new rn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const B2=new ke,j2=new ke,kE=new Vn,m1=new vm,tv=new lo,V3=new ke,IE=new ke;class Wf extends $i{constructor(e=new si,t=new ml){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let a=1,r=t.count;a<r;a++)B2.fromBufferAttribute(t,a-1),j2.fromBufferAttribute(t,a),n[a]=n[a-1],n[a]+=B2.distanceTo(j2);e.setAttribute("lineDistance",new pn(n,1))}else en("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,a=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),tv.copy(n.boundingSphere),tv.applyMatrix4(a),tv.radius+=r,e.ray.intersectsSphere(tv)===!1)return;kE.copy(a).invert(),m1.copy(e.ray).applyMatrix4(kE);const l=r/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,d=this.isLineSegments?2:1,m=n.index,x=n.attributes.position;if(m!==null){const g=Math.max(0,o.start),_=Math.min(m.count,o.start+o.count);for(let S=g,M=_-1;S<M;S+=d){const b=m.getX(S),E=m.getX(S+1),C=nv(this,e,m1,u,b,E,S);C&&t.push(C)}if(this.isLineLoop){const S=m.getX(_-1),M=m.getX(g),b=nv(this,e,m1,u,S,M,_-1);b&&t.push(b)}}else{const g=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let S=g,M=_-1;S<M;S+=d){const b=nv(this,e,m1,u,S,S+1,S);b&&t.push(b)}if(this.isLineLoop){const S=nv(this,e,m1,u,_-1,g,_-1);S&&t.push(S)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const a=t[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const l=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function nv(i,e,t,n,a,r,o){const l=i.geometry.attributes.position;if(B2.fromBufferAttribute(l,a),j2.fromBufferAttribute(l,r),t.distanceSqToSegment(B2,j2,V3,IE)>n)return;V3.applyMatrix4(i.matrixWorld);const d=e.ray.origin.distanceTo(V3);if(!(d<e.near||d>e.far))return{distance:d,point:IE.clone().applyMatrix4(i.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:i}}const UE=new ke,zE=new ke;class Dd extends Wf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let a=0,r=t.count;a<r;a+=2)UE.fromBufferAttribute(t,a),zE.fromBufferAttribute(t,a+1),n[a]=a===0?0:n[a-1],n[a+1]=n[a]+UE.distanceTo(zE);e.setAttribute("lineDistance",new pn(n,1))}else en("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class hL extends Wf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class RS extends Vo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new rn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const BE=new Vn,sw=new vm,iv=new lo,av=new ke;class fL extends $i{constructor(e=new si,t=new RS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,a=this.matrixWorld,r=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),iv.copy(n.boundingSphere),iv.applyMatrix4(a),iv.radius+=r,e.ray.intersectsSphere(iv)===!1)return;BE.copy(a).invert(),sw.copy(e.ray).applyMatrix4(BE);const l=r/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,d=n.index,y=n.attributes.position;if(d!==null){const x=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let _=x,S=g;_<S;_++){const M=d.getX(_);av.fromBufferAttribute(y,M),jE(av,M,u,a,e,t,this)}}else{const x=Math.max(0,o.start),g=Math.min(y.count,o.start+o.count);for(let _=x,S=g;_<S;_++)av.fromBufferAttribute(y,_),jE(av,_,u,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const a=t[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const l=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function jE(i,e,t,n,a,r,o){const l=sw.distanceSqToPoint(i);if(l<t){const u=new ke;sw.closestPointToPoint(i,u),u.applyMatrix4(n);const d=a.ray.origin.distanceTo(u);if(d<a.near||d>a.far)return;r.push({distance:d,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class pL extends Vr{constructor(e,t,n,a,r=ss,o=ss,l,u,d){super(e,t,n,a,r,o,l,u,d),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function y(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(y)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(y))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class rW extends pL{constructor(e,t,n,a,r,o,l,u){super({},e,t,n,a,r,o,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class sW extends Vr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=oo,this.minFilter=oo,this.generateMipmaps=!1,this.needsUpdate=!0}}class Mb extends Vr{constructor(e,t,n,a,r,o,l,u,d,m,y,x){super(null,o,l,u,d,m,a,r,y,x),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class oW extends Mb{constructor(e,t,n,a,r,o){super(e,t,n,r,o),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Yl,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class lW extends Mb{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Lh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class cW extends Vr{constructor(e,t,n,a,r,o,l,u,d){super(e,t,n,a,r,o,l,u,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class LS extends Vr{constructor(e,t,n=Dh,a,r,o,l=oo,u=oo,d,m=J0,y=1){if(m!==J0&&m!==Q0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const x={width:e,height:t,depth:y};super(x,a,r,o,l,u,m,n,d),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Rf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class DS extends Vr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Tb extends si{constructor(e=1,t=1,n=4,a=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:a,heightSegments:r},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),a=Math.max(3,Math.floor(a)),r=Math.max(1,Math.floor(r));const o=[],l=[],u=[],d=[],m=t/2,y=Math.PI/2*e,x=t,g=2*y+x,_=n*2+r,S=a+1,M=new ke,b=new ke;for(let E=0;E<=_;E++){let C=0,D=0,k=0,H=0;if(E<=n){const O=E/n,z=O*Math.PI/2;D=-m-e*Math.cos(z),k=e*Math.sin(z),H=-e*Math.cos(z),C=O*y}else if(E<=n+r){const O=(E-n)/r;D=-m+O*t,k=e,H=0,C=y+O*x}else{const O=(E-n-r)/n,z=O*Math.PI/2;D=m+e*Math.sin(z),k=e*Math.cos(z),H=e*Math.sin(z),C=y+x+O*y}const G=Math.max(0,Math.min(1,C/g));let X=0;E===0?X=.5/a:E===_&&(X=-.5/a);for(let O=0;O<=a;O++){const z=O/a,q=z*Math.PI*2,I=Math.sin(q),$=Math.cos(q);b.x=-k*$,b.y=D,b.z=k*I,l.push(b.x,b.y,b.z),M.set(-k*$,H,k*I),M.normalize(),u.push(M.x,M.y,M.z),d.push(z+X,G)}if(E>0){const O=(E-1)*S;for(let z=0;z<a;z++){const q=O+z,I=O+z+1,$=E*S+z,U=E*S+z+1;o.push(q,I,$),o.push(I,U,$)}}}this.setIndex(o),this.setAttribute("position",new pn(l,3)),this.setAttribute("normal",new pn(u,3)),this.setAttribute("uv",new pn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tb(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Eb extends si{constructor(e=1,t=32,n=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:a},t=Math.max(3,t);const r=[],o=[],l=[],u=[],d=new ke,m=new kt;o.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let y=0,x=3;y<=t;y++,x+=3){const g=n+y/t*a;d.x=e*Math.cos(g),d.y=e*Math.sin(g),o.push(d.x,d.y,d.z),l.push(0,0,1),m.x=(o[x]/e+1)/2,m.y=(o[x+1]/e+1)/2,u.push(m.x,m.y)}for(let y=1;y<=t;y++)r.push(y,y+1,0);this.setIndex(r),this.setAttribute("position",new pn(o,3)),this.setAttribute("normal",new pn(l,3)),this.setAttribute("uv",new pn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eb(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ty extends si{constructor(e=1,t=1,n=1,a=32,r=1,o=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:a,heightSegments:r,openEnded:o,thetaStart:l,thetaLength:u};const d=this;a=Math.floor(a),r=Math.floor(r);const m=[],y=[],x=[],g=[];let _=0;const S=[],M=n/2;let b=0;E(),o===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(m),this.setAttribute("position",new pn(y,3)),this.setAttribute("normal",new pn(x,3)),this.setAttribute("uv",new pn(g,2));function E(){const D=new ke,k=new ke;let H=0;const G=(t-e)/n;for(let X=0;X<=r;X++){const O=[],z=X/r,q=z*(t-e)+e;for(let I=0;I<=a;I++){const $=I/a,U=$*u+l,oe=Math.sin(U),J=Math.cos(U);k.x=q*oe,k.y=-z*n+M,k.z=q*J,y.push(k.x,k.y,k.z),D.set(oe,G,J).normalize(),x.push(D.x,D.y,D.z),g.push($,1-z),O.push(_++)}S.push(O)}for(let X=0;X<a;X++)for(let O=0;O<r;O++){const z=S[O][X],q=S[O+1][X],I=S[O+1][X+1],$=S[O][X+1];(e>0||O!==0)&&(m.push(z,q,$),H+=3),(t>0||O!==r-1)&&(m.push(q,I,$),H+=3)}d.addGroup(b,H,0),b+=H}function C(D){const k=_,H=new kt,G=new ke;let X=0;const O=D===!0?e:t,z=D===!0?1:-1;for(let I=1;I<=a;I++)y.push(0,M*z,0),x.push(0,z,0),g.push(.5,.5),_++;const q=_;for(let I=0;I<=a;I++){const U=I/a*u+l,oe=Math.cos(U),J=Math.sin(U);G.x=O*J,G.y=M*z,G.z=O*oe,y.push(G.x,G.y,G.z),x.push(0,z,0),H.x=oe*.5+.5,H.y=J*.5*z+.5,g.push(H.x,H.y),_++}for(let I=0;I<a;I++){const $=k+I,U=q+I;D===!0?m.push(U,U+1,$):m.push(U+1,U,$),X+=3}d.addGroup(b,X,D===!0?1:2),b+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ty(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ey extends Ty{constructor(e=1,t=1,n=32,a=1,r=!1,o=0,l=Math.PI*2){super(0,e,t,n,a,r,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:a,openEnded:r,thetaStart:o,thetaLength:l}}static fromJSON(e){return new Ey(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Kf extends si{constructor(e=[],t=[],n=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:a};const r=[],o=[];l(a),d(n),m(),this.setAttribute("position",new pn(r,3)),this.setAttribute("normal",new pn(r.slice(),3)),this.setAttribute("uv",new pn(o,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function l(E){const C=new ke,D=new ke,k=new ke;for(let H=0;H<t.length;H+=3)g(t[H+0],C),g(t[H+1],D),g(t[H+2],k),u(C,D,k,E)}function u(E,C,D,k){const H=k+1,G=[];for(let X=0;X<=H;X++){G[X]=[];const O=E.clone().lerp(D,X/H),z=C.clone().lerp(D,X/H),q=H-X;for(let I=0;I<=q;I++)I===0&&X===H?G[X][I]=O:G[X][I]=O.clone().lerp(z,I/q)}for(let X=0;X<H;X++)for(let O=0;O<2*(H-X)-1;O++){const z=Math.floor(O/2);O%2===0?(x(G[X][z+1]),x(G[X+1][z]),x(G[X][z])):(x(G[X][z+1]),x(G[X+1][z+1]),x(G[X+1][z]))}}function d(E){const C=new ke;for(let D=0;D<r.length;D+=3)C.x=r[D+0],C.y=r[D+1],C.z=r[D+2],C.normalize().multiplyScalar(E),r[D+0]=C.x,r[D+1]=C.y,r[D+2]=C.z}function m(){const E=new ke;for(let C=0;C<r.length;C+=3){E.x=r[C+0],E.y=r[C+1],E.z=r[C+2];const D=M(E)/2/Math.PI+.5,k=b(E)/Math.PI+.5;o.push(D,1-k)}_(),y()}function y(){for(let E=0;E<o.length;E+=6){const C=o[E+0],D=o[E+2],k=o[E+4],H=Math.max(C,D,k),G=Math.min(C,D,k);H>.9&&G<.1&&(C<.2&&(o[E+0]+=1),D<.2&&(o[E+2]+=1),k<.2&&(o[E+4]+=1))}}function x(E){r.push(E.x,E.y,E.z)}function g(E,C){const D=E*3;C.x=e[D+0],C.y=e[D+1],C.z=e[D+2]}function _(){const E=new ke,C=new ke,D=new ke,k=new ke,H=new kt,G=new kt,X=new kt;for(let O=0,z=0;O<r.length;O+=9,z+=6){E.set(r[O+0],r[O+1],r[O+2]),C.set(r[O+3],r[O+4],r[O+5]),D.set(r[O+6],r[O+7],r[O+8]),H.set(o[z+0],o[z+1]),G.set(o[z+2],o[z+3]),X.set(o[z+4],o[z+5]),k.copy(E).add(C).add(D).divideScalar(3);const q=M(k);S(H,z+0,E,q),S(G,z+2,C,q),S(X,z+4,D,q)}}function S(E,C,D,k){k<0&&E.x===1&&(o[C]=E.x-1),D.x===0&&D.z===0&&(o[C]=k/2/Math.PI+.5)}function M(E){return Math.atan2(E.z,-E.x)}function b(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kf(e.vertices,e.indices,e.radius,e.details)}}class Cb extends Kf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,a=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-n,0,-a,n,0,a,-n,0,a,n,-a,-n,0,-a,n,0,a,-n,0,a,n,0,-n,0,-a,n,0,-a,-n,0,a,n,0,a],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cb(e.radius,e.detail)}}const rv=new ke,sv=new ke,H3=new ke,ov=new Wl;class mL extends si{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),r=Math.cos(am*t),o=e.getIndex(),l=e.getAttribute("position"),u=o?o.count:l.count,d=[0,0,0],m=["a","b","c"],y=new Array(3),x={},g=[];for(let _=0;_<u;_+=3){o?(d[0]=o.getX(_),d[1]=o.getX(_+1),d[2]=o.getX(_+2)):(d[0]=_,d[1]=_+1,d[2]=_+2);const{a:S,b:M,c:b}=ov;if(S.fromBufferAttribute(l,d[0]),M.fromBufferAttribute(l,d[1]),b.fromBufferAttribute(l,d[2]),ov.getNormal(H3),y[0]=`${Math.round(S.x*a)},${Math.round(S.y*a)},${Math.round(S.z*a)}`,y[1]=`${Math.round(M.x*a)},${Math.round(M.y*a)},${Math.round(M.z*a)}`,y[2]=`${Math.round(b.x*a)},${Math.round(b.y*a)},${Math.round(b.z*a)}`,!(y[0]===y[1]||y[1]===y[2]||y[2]===y[0]))for(let E=0;E<3;E++){const C=(E+1)%3,D=y[E],k=y[C],H=ov[m[E]],G=ov[m[C]],X=`${D}_${k}`,O=`${k}_${D}`;O in x&&x[O]?(H3.dot(x[O].normal)<=r&&(g.push(H.x,H.y,H.z),g.push(G.x,G.y,G.z)),x[O]=null):X in x||(x[X]={index0:d[E],index1:d[C],normal:H3.clone()})}}for(const _ in x)if(x[_]){const{index0:S,index1:M}=x[_];rv.fromBufferAttribute(l,S),sv.fromBufferAttribute(l,M),g.push(rv.x,rv.y,rv.z),g.push(sv.x,sv.y,sv.z)}this.setAttribute("position",new pn(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Gu{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){en("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,a=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(a),t.push(r),a=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let a=0;const r=n.length;let o;t?o=t:o=e*n[r-1];let l=0,u=r-1,d;for(;l<=u;)if(a=Math.floor(l+(u-l)/2),d=n[a]-o,d<0)l=a+1;else if(d>0)u=a-1;else{u=a;break}if(a=u,n[a]===o)return a/(r-1);const m=n[a],x=n[a+1]-m,g=(o-m)/x;return(a+g)/(r-1)}getTangent(e,t){let a=e-1e-4,r=e+1e-4;a<0&&(a=0),r>1&&(r=1);const o=this.getPoint(a),l=this.getPoint(r),u=t||(o.isVector2?new kt:new ke);return u.copy(l).sub(o).normalize(),u}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new ke,a=[],r=[],o=[],l=new ke,u=new Vn;for(let g=0;g<=e;g++){const _=g/e;a[g]=this.getTangentAt(_,new ke)}r[0]=new ke,o[0]=new ke;let d=Number.MAX_VALUE;const m=Math.abs(a[0].x),y=Math.abs(a[0].y),x=Math.abs(a[0].z);m<=d&&(d=m,n.set(1,0,0)),y<=d&&(d=y,n.set(0,1,0)),x<=d&&n.set(0,0,1),l.crossVectors(a[0],n).normalize(),r[0].crossVectors(a[0],l),o[0].crossVectors(a[0],r[0]);for(let g=1;g<=e;g++){if(r[g]=r[g-1].clone(),o[g]=o[g-1].clone(),l.crossVectors(a[g-1],a[g]),l.length()>Number.EPSILON){l.normalize();const _=Math.acos(Bn(a[g-1].dot(a[g]),-1,1));r[g].applyMatrix4(u.makeRotationAxis(l,_))}o[g].crossVectors(a[g],r[g])}if(t===!0){let g=Math.acos(Bn(r[0].dot(r[e]),-1,1));g/=e,a[0].dot(l.crossVectors(r[0],r[e]))>0&&(g=-g);for(let _=1;_<=e;_++)r[_].applyMatrix4(u.makeRotationAxis(a[_],g*_)),o[_].crossVectors(a[_],r[_])}return{tangents:a,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Nb extends Gu{constructor(e=0,t=0,n=1,a=1,r=0,o=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=a,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=l,this.aRotation=u}getPoint(e,t=new kt){const n=t,a=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=a;for(;r>a;)r-=a;r<Number.EPSILON&&(o?r=0:r=a),this.aClockwise===!0&&!o&&(r===a?r=-a:r=r-a);const l=this.aStartAngle+e*r;let u=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),y=Math.sin(this.aRotation),x=u-this.aX,g=d-this.aY;u=x*m-g*y+this.aX,d=x*y+g*m+this.aY}return n.set(u,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class gL extends Nb{constructor(e,t,n,a,r,o){super(e,t,n,n,a,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function OS(){let i=0,e=0,t=0,n=0;function a(r,o,l,u){i=r,e=l,t=-3*r+3*o-2*l-u,n=2*r-2*o+l+u}return{initCatmullRom:function(r,o,l,u,d){a(o,l,d*(l-r),d*(u-o))},initNonuniformCatmullRom:function(r,o,l,u,d,m,y){let x=(o-r)/d-(l-r)/(d+m)+(l-o)/m,g=(l-o)/m-(u-o)/(m+y)+(u-l)/y;x*=m,g*=m,a(o,l,x,g)},calc:function(r){const o=r*r,l=o*r;return i+e*r+t*o+n*l}}}const lv=new ke,q3=new OS,G3=new OS,W3=new OS;class yL extends Gu{constructor(e=[],t=!1,n="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=a}getPoint(e,t=new ke){const n=t,a=this.points,r=a.length,o=(r-(this.closed?0:1))*e;let l=Math.floor(o),u=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:u===0&&l===r-1&&(l=r-2,u=1);let d,m;this.closed||l>0?d=a[(l-1)%r]:(lv.subVectors(a[0],a[1]).add(a[0]),d=lv);const y=a[l%r],x=a[(l+1)%r];if(this.closed||l+2<r?m=a[(l+2)%r]:(lv.subVectors(a[r-1],a[r-2]).add(a[r-1]),m=lv),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let _=Math.pow(d.distanceToSquared(y),g),S=Math.pow(y.distanceToSquared(x),g),M=Math.pow(x.distanceToSquared(m),g);S<1e-4&&(S=1),_<1e-4&&(_=S),M<1e-4&&(M=S),q3.initNonuniformCatmullRom(d.x,y.x,x.x,m.x,_,S,M),G3.initNonuniformCatmullRom(d.y,y.y,x.y,m.y,_,S,M),W3.initNonuniformCatmullRom(d.z,y.z,x.z,m.z,_,S,M)}else this.curveType==="catmullrom"&&(q3.initCatmullRom(d.x,y.x,x.x,m.x,this.tension),G3.initCatmullRom(d.y,y.y,x.y,m.y,this.tension),W3.initCatmullRom(d.z,y.z,x.z,m.z,this.tension));return n.set(q3.calc(u),G3.calc(u),W3.calc(u)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const a=e.points[t];this.points.push(new ke().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function FE(i,e,t,n,a){const r=(n-e)*.5,o=(a-t)*.5,l=i*i,u=i*l;return(2*t-2*n+r+o)*u+(-3*t+3*n-2*r-o)*l+r*i+t}function uW(i,e){const t=1-i;return t*t*e}function dW(i,e){return 2*(1-i)*i*e}function hW(i,e){return i*i*e}function U1(i,e,t,n){return uW(i,e)+dW(i,t)+hW(i,n)}function fW(i,e){const t=1-i;return t*t*t*e}function pW(i,e){const t=1-i;return 3*t*t*i*e}function mW(i,e){return 3*(1-i)*i*i*e}function gW(i,e){return i*i*i*e}function z1(i,e,t,n,a){return fW(i,e)+pW(i,t)+mW(i,n)+gW(i,a)}class PS extends Gu{constructor(e=new kt,t=new kt,n=new kt,a=new kt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=a}getPoint(e,t=new kt){const n=t,a=this.v0,r=this.v1,o=this.v2,l=this.v3;return n.set(z1(e,a.x,r.x,o.x,l.x),z1(e,a.y,r.y,o.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xL extends Gu{constructor(e=new ke,t=new ke,n=new ke,a=new ke){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=a}getPoint(e,t=new ke){const n=t,a=this.v0,r=this.v1,o=this.v2,l=this.v3;return n.set(z1(e,a.x,r.x,o.x,l.x),z1(e,a.y,r.y,o.y,l.y),z1(e,a.z,r.z,o.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class kS extends Gu{constructor(e=new kt,t=new kt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new kt){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new kt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vL extends Gu{constructor(e=new ke,t=new ke){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ke){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ke){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IS extends Gu{constructor(e=new kt,t=new kt,n=new kt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new kt){const n=t,a=this.v0,r=this.v1,o=this.v2;return n.set(U1(e,a.x,r.x,o.x),U1(e,a.y,r.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class US extends Gu{constructor(e=new ke,t=new ke,n=new ke){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ke){const n=t,a=this.v0,r=this.v1,o=this.v2;return n.set(U1(e,a.x,r.x,o.x),U1(e,a.y,r.y,o.y),U1(e,a.z,r.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zS extends Gu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new kt){const n=t,a=this.points,r=(a.length-1)*e,o=Math.floor(r),l=r-o,u=a[o===0?o:o-1],d=a[o],m=a[o>a.length-2?a.length-1:o+1],y=a[o>a.length-3?a.length-1:o+2];return n.set(FE(l,u.x,d.x,m.x,y.x),FE(l,u.y,d.y,m.y,y.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const a=e.points[t];this.points.push(new kt().fromArray(a))}return this}}var F2=Object.freeze({__proto__:null,ArcCurve:gL,CatmullRomCurve3:yL,CubicBezierCurve:PS,CubicBezierCurve3:xL,EllipseCurve:Nb,LineCurve:kS,LineCurve3:vL,QuadraticBezierCurve:IS,QuadraticBezierCurve3:US,SplineCurve:zS});class bL extends Gu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new F2[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),a=this.getCurveLengths();let r=0;for(;r<a.length;){if(a[r]>=n){const o=a[r]-n,l=this.curves[r],u=l.getLength(),d=u===0?0:1-o/u;return l.getPointAt(d,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,a=this.curves.length;n<a;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let a=0,r=this.curves;a<r.length;a++){const o=r[a],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(l);for(let d=0;d<u.length;d++){const m=u[d];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const a=e.curves[t];this.curves.push(new F2[a.type]().fromJSON(a))}return this}}class V2 extends bL{constructor(e){super(),this.type="Path",this.currentPoint=new kt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new kS(this.currentPoint.clone(),new kt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,a){const r=new IS(this.currentPoint.clone(),new kt(e,t),new kt(n,a));return this.curves.push(r),this.currentPoint.set(n,a),this}bezierCurveTo(e,t,n,a,r,o){const l=new PS(this.currentPoint.clone(),new kt(e,t),new kt(n,a),new kt(r,o));return this.curves.push(l),this.currentPoint.set(r,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new zS(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,a,r,o){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,t+u,n,a,r,o),this}absarc(e,t,n,a,r,o){return this.absellipse(e,t,n,n,a,r,o),this}ellipse(e,t,n,a,r,o,l,u){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+d,t+m,n,a,r,o,l,u),this}absellipse(e,t,n,a,r,o,l,u){const d=new Nb(e,t,n,a,r,o,l,u);if(this.curves.length>0){const y=d.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class rm extends V2{constructor(e){super(e),this.uuid=Tc(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,a=this.holes.length;n<a;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const a=e.holes[t];this.holes.push(new V2().fromJSON(a))}return this}}function yW(i,e,t=2){const n=e&&e.length,a=n?e[0]*t:i.length;let r=_L(i,0,a,t,!0);const o=[];if(!r||r.next===r.prev)return o;let l,u,d;if(n&&(r=wW(i,e,r,t)),i.length>80*t){l=i[0],u=i[1];let m=l,y=u;for(let x=t;x<a;x+=t){const g=i[x],_=i[x+1];g<l&&(l=g),_<u&&(u=_),g>m&&(m=g),_>y&&(y=_)}d=Math.max(m-l,y-u),d=d!==0?32767/d:0}return ry(r,o,t,l,u,d,0),o}function _L(i,e,t,n,a){let r;if(a===OW(i,e,t,n)>0)for(let o=e;o<t;o+=n)r=VE(o/n|0,i[o],i[o+1],r);else for(let o=t-n;o>=e;o-=n)r=VE(o/n|0,i[o],i[o+1],r);return r&&sg(r,r.next)&&(oy(r),r=r.next),r}function pm(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(sg(t,t.next)||Sr(t.prev,t,t.next)===0)){if(oy(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function ry(i,e,t,n,a,r,o){if(!i)return;!o&&r&&EW(i,n,a,r);let l=i;for(;i.prev!==i.next;){const u=i.prev,d=i.next;if(r?vW(i,n,a,r):xW(i)){e.push(u.i,i.i,d.i),oy(i),i=d.next,l=d.next;continue}if(i=d,i===l){o?o===1?(i=bW(pm(i),e),ry(i,e,t,n,a,r,2)):o===2&&_W(i,e,t,n,a,r):ry(pm(i),e,t,n,a,r,1);break}}}function xW(i){const e=i.prev,t=i,n=i.next;if(Sr(e,t,n)>=0)return!1;const a=e.x,r=t.x,o=n.x,l=e.y,u=t.y,d=n.y,m=Math.min(a,r,o),y=Math.min(l,u,d),x=Math.max(a,r,o),g=Math.max(l,u,d);let _=n.next;for(;_!==e;){if(_.x>=m&&_.x<=x&&_.y>=y&&_.y<=g&&_1(a,l,r,u,o,d,_.x,_.y)&&Sr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function vW(i,e,t,n){const a=i.prev,r=i,o=i.next;if(Sr(a,r,o)>=0)return!1;const l=a.x,u=r.x,d=o.x,m=a.y,y=r.y,x=o.y,g=Math.min(l,u,d),_=Math.min(m,y,x),S=Math.max(l,u,d),M=Math.max(m,y,x),b=ow(g,_,e,t,n),E=ow(S,M,e,t,n);let C=i.prevZ,D=i.nextZ;for(;C&&C.z>=b&&D&&D.z<=E;){if(C.x>=g&&C.x<=S&&C.y>=_&&C.y<=M&&C!==a&&C!==o&&_1(l,m,u,y,d,x,C.x,C.y)&&Sr(C.prev,C,C.next)>=0||(C=C.prevZ,D.x>=g&&D.x<=S&&D.y>=_&&D.y<=M&&D!==a&&D!==o&&_1(l,m,u,y,d,x,D.x,D.y)&&Sr(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;C&&C.z>=b;){if(C.x>=g&&C.x<=S&&C.y>=_&&C.y<=M&&C!==a&&C!==o&&_1(l,m,u,y,d,x,C.x,C.y)&&Sr(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;D&&D.z<=E;){if(D.x>=g&&D.x<=S&&D.y>=_&&D.y<=M&&D!==a&&D!==o&&_1(l,m,u,y,d,x,D.x,D.y)&&Sr(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function bW(i,e){let t=i;do{const n=t.prev,a=t.next.next;!sg(n,a)&&SL(n,t,t.next,a)&&sy(n,a)&&sy(a,n)&&(e.push(n.i,t.i,a.i),oy(t),oy(t.next),t=i=a),t=t.next}while(t!==i);return pm(t)}function _W(i,e,t,n,a,r){let o=i;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&RW(o,l)){let u=AL(o,l);o=pm(o,o.next),u=pm(u,u.next),ry(o,e,t,n,a,r,0),ry(u,e,t,n,a,r,0);return}l=l.next}o=o.next}while(o!==i)}function wW(i,e,t,n){const a=[];for(let r=0,o=e.length;r<o;r++){const l=e[r]*n,u=r<o-1?e[r+1]*n:i.length,d=_L(i,l,u,n,!1);d===d.next&&(d.steiner=!0),a.push(NW(d))}a.sort(SW);for(let r=0;r<a.length;r++)t=AW(a[r],t);return t}function SW(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),a=(e.next.y-e.y)/(e.next.x-e.x);t=n-a}return t}function AW(i,e){const t=MW(i,e);if(!t)return e;const n=AL(t,i);return pm(n,n.next),pm(t,t.next)}function MW(i,e){let t=e;const n=i.x,a=i.y;let r=-1/0,o;if(sg(i,t))return t;do{if(sg(i,t.next))return t.next;if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const y=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=n&&y>r&&(r=y,o=t.x<t.next.x?t:t.next,y===n))return o}t=t.next}while(t!==e);if(!o)return null;const l=o,u=o.x,d=o.y;let m=1/0;t=o;do{if(n>=t.x&&t.x>=u&&n!==t.x&&wL(a<d?n:r,a,u,d,a<d?r:n,a,t.x,t.y)){const y=Math.abs(a-t.y)/(n-t.x);sy(t,i)&&(y<m||y===m&&(t.x>o.x||t.x===o.x&&TW(o,t)))&&(o=t,m=y)}t=t.next}while(t!==l);return o}function TW(i,e){return Sr(i.prev,i,e.prev)<0&&Sr(e.next,i,i.next)<0}function EW(i,e,t,n){let a=i;do a.z===0&&(a.z=ow(a.x,a.y,e,t,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==i);a.prevZ.nextZ=null,a.prevZ=null,CW(a)}function CW(i){let e,t=1;do{let n=i,a;i=null;let r=null;for(e=0;n;){e++;let o=n,l=0;for(let d=0;d<t&&(l++,o=o.nextZ,!!o);d++);let u=t;for(;l>0||u>0&&o;)l!==0&&(u===0||!o||n.z<=o.z)?(a=n,n=n.nextZ,l--):(a=o,o=o.nextZ,u--),r?r.nextZ=a:i=a,a.prevZ=r,r=a;n=o}r.nextZ=null,t*=2}while(e>1);return i}function ow(i,e,t,n,a){return i=(i-t)*a|0,e=(e-n)*a|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function NW(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function wL(i,e,t,n,a,r,o,l){return(a-o)*(e-l)>=(i-o)*(r-l)&&(i-o)*(n-l)>=(t-o)*(e-l)&&(t-o)*(r-l)>=(a-o)*(n-l)}function _1(i,e,t,n,a,r,o,l){return!(i===o&&e===l)&&wL(i,e,t,n,a,r,o,l)}function RW(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!LW(i,e)&&(sy(i,e)&&sy(e,i)&&DW(i,e)&&(Sr(i.prev,i,e.prev)||Sr(i,e.prev,e))||sg(i,e)&&Sr(i.prev,i,i.next)>0&&Sr(e.prev,e,e.next)>0)}function Sr(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function sg(i,e){return i.x===e.x&&i.y===e.y}function SL(i,e,t,n){const a=uv(Sr(i,e,t)),r=uv(Sr(i,e,n)),o=uv(Sr(t,n,i)),l=uv(Sr(t,n,e));return!!(a!==r&&o!==l||a===0&&cv(i,t,e)||r===0&&cv(i,n,e)||o===0&&cv(t,i,n)||l===0&&cv(t,e,n))}function cv(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function uv(i){return i>0?1:i<0?-1:0}function LW(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&SL(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function sy(i,e){return Sr(i.prev,i,i.next)<0?Sr(i,e,i.next)>=0&&Sr(i,i.prev,e)>=0:Sr(i,e,i.prev)<0||Sr(i,i.next,e)<0}function DW(i,e){let t=i,n=!1;const a=(i.x+e.x)/2,r=(i.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&a<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function AL(i,e){const t=lw(i.i,i.x,i.y),n=lw(e.i,e.x,e.y),a=i.next,r=e.prev;return i.next=e,e.prev=i,t.next=a,a.prev=t,n.next=t,t.prev=n,r.next=n,n.prev=r,n}function VE(i,e,t,n){const a=lw(i,e,t);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function oy(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function lw(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function OW(i,e,t,n){let a=0;for(let r=e,o=t-n;r<t;r+=n)a+=(i[o]-i[r])*(i[r+1]+i[o+1]),o=r;return a}class PW{static triangulate(e,t,n=2){return yW(e,t,n)}}class ju{static area(e){const t=e.length;let n=0;for(let a=t-1,r=0;r<t;a=r++)n+=e[a].x*e[r].y-e[r].x*e[a].y;return n*.5}static isClockWise(e){return ju.area(e)<0}static triangulateShape(e,t){const n=[],a=[],r=[];HE(e),qE(n,e);let o=e.length;t.forEach(HE);for(let u=0;u<t.length;u++)a.push(o),o+=t[u].length,qE(n,t[u]);const l=PW.triangulate(n,a);for(let u=0;u<l.length;u+=3)r.push(l.slice(u,u+3));return r}}function HE(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function qE(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class Rb extends si{constructor(e=new rm([new kt(.5,.5),new kt(-.5,.5),new kt(-.5,-.5),new kt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,a=[],r=[];for(let l=0,u=e.length;l<u;l++){const d=e[l];o(d)}this.setAttribute("position",new pn(a,3)),this.setAttribute("uv",new pn(r,2)),this.computeVertexNormals();function o(l){const u=[],d=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,y=t.depth!==void 0?t.depth:1;let x=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:g-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,E=t.UVGenerator!==void 0?t.UVGenerator:kW;let C,D=!1,k,H,G,X;b&&(C=b.getSpacedPoints(m),D=!0,x=!1,k=b.computeFrenetFrames(m,!1),H=new ke,G=new ke,X=new ke),x||(M=0,g=0,_=0,S=0);const O=l.extractPoints(d);let z=O.shape;const q=O.holes;if(!ju.isClockWise(z)){z=z.reverse();for(let W=0,j=q.length;W<j;W++){const xe=q[W];ju.isClockWise(xe)&&(q[W]=xe.reverse())}}function $(W){const xe=10000000000000001e-36;let de=W[0];for(let ue=1;ue<=W.length;ue++){const ie=ue%W.length,Re=W[ie],Pe=Re.x-de.x,ge=Re.y-de.y,se=Pe*Pe+ge*ge,ee=Math.max(Math.abs(Re.x),Math.abs(Re.y),Math.abs(de.x),Math.abs(de.y)),Ae=xe*ee*ee;if(se<=Ae){W.splice(ie,1),ue--;continue}de=Re}}$(z),q.forEach($);const U=q.length,oe=z;for(let W=0;W<U;W++){const j=q[W];z=z.concat(j)}function J(W,j,xe){return j||Wn("ExtrudeGeometry: vec does not exist"),W.clone().addScaledVector(j,xe)}const ae=z.length;function te(W,j,xe){let de,ue,ie;const Re=W.x-j.x,Pe=W.y-j.y,ge=xe.x-W.x,se=xe.y-W.y,ee=Re*Re+Pe*Pe,Ae=Re*se-Pe*ge;if(Math.abs(Ae)>Number.EPSILON){const je=Math.sqrt(ee),Ge=Math.sqrt(ge*ge+se*se),Be=j.x-Pe/je,mt=j.y+Re/je,yt=xe.x-se/Ge,Mt=xe.y+ge/Ge,jt=((yt-Be)*se-(Mt-mt)*ge)/(Re*se-Pe*ge);de=Be+Re*jt-W.x,ue=mt+Pe*jt-W.y;const Ke=de*de+ue*ue;if(Ke<=2)return new kt(de,ue);ie=Math.sqrt(Ke/2)}else{let je=!1;Re>Number.EPSILON?ge>Number.EPSILON&&(je=!0):Re<-Number.EPSILON?ge<-Number.EPSILON&&(je=!0):Math.sign(Pe)===Math.sign(se)&&(je=!0),je?(de=-Pe,ue=Re,ie=Math.sqrt(ee)):(de=Re,ue=Pe,ie=Math.sqrt(ee/2))}return new kt(de/ie,ue/ie)}const le=[];for(let W=0,j=oe.length,xe=j-1,de=W+1;W<j;W++,xe++,de++)xe===j&&(xe=0),de===j&&(de=0),le[W]=te(oe[W],oe[xe],oe[de]);const Me=[];let Z,V=le.concat();for(let W=0,j=U;W<j;W++){const xe=q[W];Z=[];for(let de=0,ue=xe.length,ie=ue-1,Re=de+1;de<ue;de++,ie++,Re++)ie===ue&&(ie=0),Re===ue&&(Re=0),Z[de]=te(xe[de],xe[ie],xe[Re]);Me.push(Z),V=V.concat(Z)}let re;if(M===0)re=ju.triangulateShape(oe,q);else{const W=[],j=[];for(let xe=0;xe<M;xe++){const de=xe/M,ue=g*Math.cos(de*Math.PI/2),ie=_*Math.sin(de*Math.PI/2)+S;for(let Re=0,Pe=oe.length;Re<Pe;Re++){const ge=J(oe[Re],le[Re],ie);ze(ge.x,ge.y,-ue),de===0&&W.push(ge)}for(let Re=0,Pe=U;Re<Pe;Re++){const ge=q[Re];Z=Me[Re];const se=[];for(let ee=0,Ae=ge.length;ee<Ae;ee++){const je=J(ge[ee],Z[ee],ie);ze(je.x,je.y,-ue),de===0&&se.push(je)}de===0&&j.push(se)}}re=ju.triangulateShape(W,j)}const ce=re.length,pe=_+S;for(let W=0;W<ae;W++){const j=x?J(z[W],V[W],pe):z[W];D?(G.copy(k.normals[0]).multiplyScalar(j.x),H.copy(k.binormals[0]).multiplyScalar(j.y),X.copy(C[0]).add(G).add(H),ze(X.x,X.y,X.z)):ze(j.x,j.y,0)}for(let W=1;W<=m;W++)for(let j=0;j<ae;j++){const xe=x?J(z[j],V[j],pe):z[j];D?(G.copy(k.normals[W]).multiplyScalar(xe.x),H.copy(k.binormals[W]).multiplyScalar(xe.y),X.copy(C[W]).add(G).add(H),ze(X.x,X.y,X.z)):ze(xe.x,xe.y,y/m*W)}for(let W=M-1;W>=0;W--){const j=W/M,xe=g*Math.cos(j*Math.PI/2),de=_*Math.sin(j*Math.PI/2)+S;for(let ue=0,ie=oe.length;ue<ie;ue++){const Re=J(oe[ue],le[ue],de);ze(Re.x,Re.y,y+xe)}for(let ue=0,ie=q.length;ue<ie;ue++){const Re=q[ue];Z=Me[ue];for(let Pe=0,ge=Re.length;Pe<ge;Pe++){const se=J(Re[Pe],Z[Pe],de);D?ze(se.x,se.y+C[m-1].y,C[m-1].x+xe):ze(se.x,se.y,y+xe)}}}me(),Ee();function me(){const W=a.length/3;if(x){let j=0,xe=ae*j;for(let de=0;de<ce;de++){const ue=re[de];We(ue[2]+xe,ue[1]+xe,ue[0]+xe)}j=m+M*2,xe=ae*j;for(let de=0;de<ce;de++){const ue=re[de];We(ue[0]+xe,ue[1]+xe,ue[2]+xe)}}else{for(let j=0;j<ce;j++){const xe=re[j];We(xe[2],xe[1],xe[0])}for(let j=0;j<ce;j++){const xe=re[j];We(xe[0]+ae*m,xe[1]+ae*m,xe[2]+ae*m)}}n.addGroup(W,a.length/3-W,0)}function Ee(){const W=a.length/3;let j=0;Ue(oe,j),j+=oe.length;for(let xe=0,de=q.length;xe<de;xe++){const ue=q[xe];Ue(ue,j),j+=ue.length}n.addGroup(W,a.length/3-W,1)}function Ue(W,j){let xe=W.length;for(;--xe>=0;){const de=xe;let ue=xe-1;ue<0&&(ue=W.length-1);for(let ie=0,Re=m+M*2;ie<Re;ie++){const Pe=ae*ie,ge=ae*(ie+1),se=j+de+Pe,ee=j+ue+Pe,Ae=j+ue+ge,je=j+de+ge;at(se,ee,Ae,je)}}}function ze(W,j,xe){u.push(W),u.push(j),u.push(xe)}function We(W,j,xe){Ct(W),Ct(j),Ct(xe);const de=a.length/3,ue=E.generateTopUV(n,a,de-3,de-2,de-1);gt(ue[0]),gt(ue[1]),gt(ue[2])}function at(W,j,xe,de){Ct(W),Ct(j),Ct(de),Ct(j),Ct(xe),Ct(de);const ue=a.length/3,ie=E.generateSideWallUV(n,a,ue-6,ue-3,ue-2,ue-1);gt(ie[0]),gt(ie[1]),gt(ie[3]),gt(ie[1]),gt(ie[2]),gt(ie[3])}function Ct(W){a.push(u[W*3+0]),a.push(u[W*3+1]),a.push(u[W*3+2])}function gt(W){r.push(W.x),r.push(W.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return IW(t,n,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const l=t[e.shapes[r]];n.push(l)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new F2[a.type]().fromJSON(a)),new Rb(n,e.options)}}const kW={generateTopUV:function(i,e,t,n,a){const r=e[t*3],o=e[t*3+1],l=e[n*3],u=e[n*3+1],d=e[a*3],m=e[a*3+1];return[new kt(r,o),new kt(l,u),new kt(d,m)]},generateSideWallUV:function(i,e,t,n,a,r){const o=e[t*3],l=e[t*3+1],u=e[t*3+2],d=e[n*3],m=e[n*3+1],y=e[n*3+2],x=e[a*3],g=e[a*3+1],_=e[a*3+2],S=e[r*3],M=e[r*3+1],b=e[r*3+2];return Math.abs(l-m)<Math.abs(o-d)?[new kt(o,1-u),new kt(d,1-y),new kt(x,1-_),new kt(S,1-b)]:[new kt(l,1-u),new kt(m,1-y),new kt(g,1-_),new kt(M,1-b)]}};function IW(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,a=i.length;n<a;n++){const r=i[n];t.shapes.push(r.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Lb extends Kf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,a=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Lb(e.radius,e.detail)}}class Db extends si{constructor(e=[new kt(0,-.5),new kt(.5,0),new kt(0,.5)],t=12,n=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:a},t=Math.floor(t),a=Bn(a,0,Math.PI*2);const r=[],o=[],l=[],u=[],d=[],m=1/t,y=new ke,x=new kt,g=new ke,_=new ke,S=new ke;let M=0,b=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:M=e[E+1].x-e[E].x,b=e[E+1].y-e[E].y,g.x=b*1,g.y=-M,g.z=b*0,S.copy(g),g.normalize(),u.push(g.x,g.y,g.z);break;case e.length-1:u.push(S.x,S.y,S.z);break;default:M=e[E+1].x-e[E].x,b=e[E+1].y-e[E].y,g.x=b*1,g.y=-M,g.z=b*0,_.copy(g),g.x+=S.x,g.y+=S.y,g.z+=S.z,g.normalize(),u.push(g.x,g.y,g.z),S.copy(_)}for(let E=0;E<=t;E++){const C=n+E*m*a,D=Math.sin(C),k=Math.cos(C);for(let H=0;H<=e.length-1;H++){y.x=e[H].x*D,y.y=e[H].y,y.z=e[H].x*k,o.push(y.x,y.y,y.z),x.x=E/t,x.y=H/(e.length-1),l.push(x.x,x.y);const G=u[3*H+0]*D,X=u[3*H+1],O=u[3*H+0]*k;d.push(G,X,O)}}for(let E=0;E<t;E++)for(let C=0;C<e.length-1;C++){const D=C+E*e.length,k=D,H=D+e.length,G=D+e.length+1,X=D+1;r.push(k,H,X),r.push(G,X,H)}this.setIndex(r),this.setAttribute("position",new pn(o,3)),this.setAttribute("uv",new pn(l,2)),this.setAttribute("normal",new pn(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Db(e.points,e.segments,e.phiStart,e.phiLength)}}class Cy extends Kf{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cy(e.radius,e.detail)}}class vg extends si{constructor(e=1,t=1,n=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:a};const r=e/2,o=t/2,l=Math.floor(n),u=Math.floor(a),d=l+1,m=u+1,y=e/l,x=t/u,g=[],_=[],S=[],M=[];for(let b=0;b<m;b++){const E=b*x-o;for(let C=0;C<d;C++){const D=C*y-r;_.push(D,-E,0),S.push(0,0,1),M.push(C/l),M.push(1-b/u)}}for(let b=0;b<u;b++)for(let E=0;E<l;E++){const C=E+d*b,D=E+d*(b+1),k=E+1+d*(b+1),H=E+1+d*b;g.push(C,D,H),g.push(D,k,H)}this.setIndex(g),this.setAttribute("position",new pn(_,3)),this.setAttribute("normal",new pn(S,3)),this.setAttribute("uv",new pn(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vg(e.width,e.height,e.widthSegments,e.heightSegments)}}class Ob extends si{constructor(e=.5,t=1,n=32,a=1,r=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:a,thetaStart:r,thetaLength:o},n=Math.max(3,n),a=Math.max(1,a);const l=[],u=[],d=[],m=[];let y=e;const x=(t-e)/a,g=new ke,_=new kt;for(let S=0;S<=a;S++){for(let M=0;M<=n;M++){const b=r+M/n*o;g.x=y*Math.cos(b),g.y=y*Math.sin(b),u.push(g.x,g.y,g.z),d.push(0,0,1),_.x=(g.x/t+1)/2,_.y=(g.y/t+1)/2,m.push(_.x,_.y)}y+=x}for(let S=0;S<a;S++){const M=S*(n+1);for(let b=0;b<n;b++){const E=b+M,C=E,D=E+n+1,k=E+n+2,H=E+1;l.push(C,D,H),l.push(D,k,H)}}this.setIndex(l),this.setAttribute("position",new pn(u,3)),this.setAttribute("normal",new pn(d,3)),this.setAttribute("uv",new pn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ob(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Pb extends si{constructor(e=new rm([new kt(0,.5),new kt(-.5,-.5),new kt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],a=[],r=[],o=[];let l=0,u=0;if(Array.isArray(e)===!1)d(e);else for(let m=0;m<e.length;m++)d(e[m]),this.addGroup(l,u,m),l+=u,u=0;this.setIndex(n),this.setAttribute("position",new pn(a,3)),this.setAttribute("normal",new pn(r,3)),this.setAttribute("uv",new pn(o,2));function d(m){const y=a.length/3,x=m.extractPoints(t);let g=x.shape;const _=x.holes;ju.isClockWise(g)===!1&&(g=g.reverse());for(let M=0,b=_.length;M<b;M++){const E=_[M];ju.isClockWise(E)===!0&&(_[M]=E.reverse())}const S=ju.triangulateShape(g,_);for(let M=0,b=_.length;M<b;M++){const E=_[M];g=g.concat(E)}for(let M=0,b=g.length;M<b;M++){const E=g[M];a.push(E.x,E.y,0),r.push(0,0,1),o.push(E.x,E.y)}for(let M=0,b=S.length;M<b;M++){const E=S[M],C=E[0]+y,D=E[1]+y,k=E[2]+y;n.push(C,D,k),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return UW(t,e)}static fromJSON(e,t){const n=[];for(let a=0,r=e.shapes.length;a<r;a++){const o=t[e.shapes[a]];n.push(o)}return new Pb(n,e.curveSegments)}}function UW(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const a=i[t];e.shapes.push(a.uuid)}else e.shapes.push(i.uuid);return e}class Ny extends si{constructor(e=1,t=32,n=16,a=0,r=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:a,phiLength:r,thetaStart:o,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const u=Math.min(o+l,Math.PI);let d=0;const m=[],y=new ke,x=new ke,g=[],_=[],S=[],M=[];for(let b=0;b<=n;b++){const E=[],C=b/n;let D=0;b===0&&o===0?D=.5/t:b===n&&u===Math.PI&&(D=-.5/t);for(let k=0;k<=t;k++){const H=k/t;y.x=-e*Math.cos(a+H*r)*Math.sin(o+C*l),y.y=e*Math.cos(o+C*l),y.z=e*Math.sin(a+H*r)*Math.sin(o+C*l),_.push(y.x,y.y,y.z),x.copy(y).normalize(),S.push(x.x,x.y,x.z),M.push(H+D,1-C),E.push(d++)}m.push(E)}for(let b=0;b<n;b++)for(let E=0;E<t;E++){const C=m[b][E+1],D=m[b][E],k=m[b+1][E],H=m[b+1][E+1];(b!==0||o>0)&&g.push(C,D,H),(b!==n-1||u<Math.PI)&&g.push(D,k,H)}this.setIndex(g),this.setAttribute("position",new pn(_,3)),this.setAttribute("normal",new pn(S,3)),this.setAttribute("uv",new pn(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ny(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class kb extends Kf{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kb(e.radius,e.detail)}}class Ib extends si{constructor(e=1,t=.4,n=12,a=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:a,arc:r},n=Math.floor(n),a=Math.floor(a);const o=[],l=[],u=[],d=[],m=new ke,y=new ke,x=new ke;for(let g=0;g<=n;g++)for(let _=0;_<=a;_++){const S=_/a*r,M=g/n*Math.PI*2;y.x=(e+t*Math.cos(M))*Math.cos(S),y.y=(e+t*Math.cos(M))*Math.sin(S),y.z=t*Math.sin(M),l.push(y.x,y.y,y.z),m.x=e*Math.cos(S),m.y=e*Math.sin(S),x.subVectors(y,m).normalize(),u.push(x.x,x.y,x.z),d.push(_/a),d.push(g/n)}for(let g=1;g<=n;g++)for(let _=1;_<=a;_++){const S=(a+1)*g+_-1,M=(a+1)*(g-1)+_-1,b=(a+1)*(g-1)+_,E=(a+1)*g+_;o.push(S,M,E),o.push(M,b,E)}this.setIndex(o),this.setAttribute("position",new pn(l,3)),this.setAttribute("normal",new pn(u,3)),this.setAttribute("uv",new pn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ib(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ub extends si{constructor(e=1,t=.4,n=64,a=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:a,p:r,q:o},n=Math.floor(n),a=Math.floor(a);const l=[],u=[],d=[],m=[],y=new ke,x=new ke,g=new ke,_=new ke,S=new ke,M=new ke,b=new ke;for(let C=0;C<=n;++C){const D=C/n*r*Math.PI*2;E(D,r,o,e,g),E(D+.01,r,o,e,_),M.subVectors(_,g),b.addVectors(_,g),S.crossVectors(M,b),b.crossVectors(S,M),S.normalize(),b.normalize();for(let k=0;k<=a;++k){const H=k/a*Math.PI*2,G=-t*Math.cos(H),X=t*Math.sin(H);y.x=g.x+(G*b.x+X*S.x),y.y=g.y+(G*b.y+X*S.y),y.z=g.z+(G*b.z+X*S.z),u.push(y.x,y.y,y.z),x.subVectors(y,g).normalize(),d.push(x.x,x.y,x.z),m.push(C/n),m.push(k/a)}}for(let C=1;C<=n;C++)for(let D=1;D<=a;D++){const k=(a+1)*(C-1)+(D-1),H=(a+1)*C+(D-1),G=(a+1)*C+D,X=(a+1)*(C-1)+D;l.push(k,H,X),l.push(H,G,X)}this.setIndex(l),this.setAttribute("position",new pn(u,3)),this.setAttribute("normal",new pn(d,3)),this.setAttribute("uv",new pn(m,2));function E(C,D,k,H,G){const X=Math.cos(C),O=Math.sin(C),z=k/D*C,q=Math.cos(z);G.x=H*(2+q)*.5*X,G.y=H*(2+q)*O*.5,G.z=H*Math.sin(z)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ub(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class zb extends si{constructor(e=new US(new ke(-1,-1,0),new ke(-1,1,0),new ke(1,1,0)),t=64,n=1,a=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:a,closed:r};const o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new ke,u=new ke,d=new kt;let m=new ke;const y=[],x=[],g=[],_=[];S(),this.setIndex(_),this.setAttribute("position",new pn(y,3)),this.setAttribute("normal",new pn(x,3)),this.setAttribute("uv",new pn(g,2));function S(){for(let C=0;C<t;C++)M(C);M(r===!1?t:0),E(),b()}function M(C){m=e.getPointAt(C/t,m);const D=o.normals[C],k=o.binormals[C];for(let H=0;H<=a;H++){const G=H/a*Math.PI*2,X=Math.sin(G),O=-Math.cos(G);u.x=O*D.x+X*k.x,u.y=O*D.y+X*k.y,u.z=O*D.z+X*k.z,u.normalize(),x.push(u.x,u.y,u.z),l.x=m.x+n*u.x,l.y=m.y+n*u.y,l.z=m.z+n*u.z,y.push(l.x,l.y,l.z)}}function b(){for(let C=1;C<=t;C++)for(let D=1;D<=a;D++){const k=(a+1)*(C-1)+(D-1),H=(a+1)*C+(D-1),G=(a+1)*C+D,X=(a+1)*(C-1)+D;_.push(k,H,X),_.push(H,G,X)}}function E(){for(let C=0;C<=t;C++)for(let D=0;D<=a;D++)d.x=C/t,d.y=D/a,g.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new zb(new F2[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class ML extends si{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,a=new ke,r=new ke;if(e.index!==null){const o=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,m=u.length;d<m;++d){const y=u[d],x=y.start,g=y.count;for(let _=x,S=x+g;_<S;_+=3)for(let M=0;M<3;M++){const b=l.getX(_+M),E=l.getX(_+(M+1)%3);a.fromBufferAttribute(o,b),r.fromBufferAttribute(o,E),GE(a,r,n)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}}else{const o=e.attributes.position;for(let l=0,u=o.count/3;l<u;l++)for(let d=0;d<3;d++){const m=3*l+d,y=3*l+(d+1)%3;a.fromBufferAttribute(o,m),r.fromBufferAttribute(o,y),GE(a,r,n)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new pn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function GE(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(a)===!0?!1:(t.add(n),t.add(a),!0)}var WE=Object.freeze({__proto__:null,BoxGeometry:bm,CapsuleGeometry:Tb,CircleGeometry:Eb,ConeGeometry:Ey,CylinderGeometry:Ty,DodecahedronGeometry:Cb,EdgesGeometry:mL,ExtrudeGeometry:Rb,IcosahedronGeometry:Lb,LatheGeometry:Db,OctahedronGeometry:Cy,PlaneGeometry:vg,PolyhedronGeometry:Kf,RingGeometry:Ob,ShapeGeometry:Pb,SphereGeometry:Ny,TetrahedronGeometry:kb,TorusGeometry:Ib,TorusKnotGeometry:Ub,TubeGeometry:zb,WireframeGeometry:ML});class TL extends Vo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new rn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class EL extends Cc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class BS extends Vo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new rn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yf,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ec,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CL extends BS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new kt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Bn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new rn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new rn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new rn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class NL extends Vo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new rn(16777215),this.specular=new rn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yf,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ec,this.combine=Sy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RL extends Vo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new rn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yf,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class LL extends Vo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yf,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class DL extends Vo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new rn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yf,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ec,this.combine=Sy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jS extends Vo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=VR,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class FS extends Vo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class OL extends Vo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new rn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yf,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PL extends ml{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Qp(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function kL(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function IL(i){function e(a,r){return i[a]-i[r]}const t=i.length,n=new Array(t);for(let a=0;a!==t;++a)n[a]=a;return n.sort(e),n}function cw(i,e,t){const n=i.length,a=new i.constructor(n);for(let r=0,o=0;o!==n;++r){const l=t[r]*e;for(let u=0;u!==e;++u)a[o++]=i[l+u]}return a}function VS(i,e,t,n){let a=1,r=i[0];for(;r!==void 0&&r[n]===void 0;)r=i[a++];if(r===void 0)return;let o=r[n];if(o!==void 0)if(Array.isArray(o))do o=r[n],o!==void 0&&(e.push(r.time),t.push(...o)),r=i[a++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[n],o!==void 0&&(e.push(r.time),o.toArray(t,t.length)),r=i[a++];while(r!==void 0);else do o=r[n],o!==void 0&&(e.push(r.time),t.push(o)),r=i[a++];while(r!==void 0)}function zW(i,e,t,n,a=30){const r=i.clone();r.name=e;const o=[];for(let u=0;u<r.tracks.length;++u){const d=r.tracks[u],m=d.getValueSize(),y=[],x=[];for(let g=0;g<d.times.length;++g){const _=d.times[g]*a;if(!(_<t||_>=n)){y.push(d.times[g]);for(let S=0;S<m;++S)x.push(d.values[g*m+S])}}y.length!==0&&(d.times=Qp(y,d.times.constructor),d.values=Qp(x,d.values.constructor),o.push(d))}r.tracks=o;let l=1/0;for(let u=0;u<r.tracks.length;++u)l>r.tracks[u].times[0]&&(l=r.tracks[u].times[0]);for(let u=0;u<r.tracks.length;++u)r.tracks[u].shift(-1*l);return r.resetDuration(),r}function BW(i,e=0,t=i,n=30){n<=0&&(n=30);const a=t.tracks.length,r=e/n;for(let o=0;o<a;++o){const l=t.tracks[o],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const d=i.tracks.find(function(b){return b.name===l.name&&b.ValueTypeName===u});if(d===void 0)continue;let m=0;const y=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=y/3);let x=0;const g=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=g/3);const _=l.times.length-1;let S;if(r<=l.times[0]){const b=m,E=y-m;S=l.values.slice(b,E)}else if(r>=l.times[_]){const b=_*y+m,E=b+y-m;S=l.values.slice(b,E)}else{const b=l.createInterpolant(),E=m,C=y-m;b.evaluate(r),S=b.resultBuffer.slice(E,C)}u==="quaternion"&&new Bo().fromArray(S).normalize().conjugate().toArray(S);const M=d.times.length;for(let b=0;b<M;++b){const E=b*g+x;if(u==="quaternion")Bo.multiplyQuaternionsFlat(d.values,E,S,0,d.values,E);else{const C=g-x*2;for(let D=0;D<C;++D)d.values[E+D]-=S[D]}}}return i.blendMode=_S,i}class jW{static convertArray(e,t){return Qp(e,t)}static isTypedArray(e){return kL(e)}static getKeyframeOrder(e){return IL(e)}static sortedArray(e,t,n){return cw(e,t,n)}static flattenJSON(e,t,n,a){VS(e,t,n,a)}static subclip(e,t,n,a,r=30){return zW(e,t,n,a,r)}static makeClipAdditive(e,t=0,n=e,a=30){return BW(e,t,n,a)}}class Ry{constructor(e,t,n,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,a=t[n],r=t[n-1];e:{t:{let o;n:{a:if(!(e<a)){for(let l=n+2;;){if(a===void 0){if(e<r)break a;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(r=a,a=t[++n],e<a)break t}o=t.length;break n}if(!(e>=r)){const l=t[1];e<l&&(n=2,r=l);for(let u=n-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(a=r,r=t[--n-1],e>=r)break t}o=n,n=0;break n}break e}for(;n<o;){const l=n+o>>>1;e<t[l]?o=l:n=l+1}if(a=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,a)}return this.interpolate_(n,r,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,a=this.valueSize,r=e*a;for(let o=0;o!==a;++o)t[o]=n[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class UL extends Ry{constructor(e,t,n,a){super(e,t,n,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Zp,endingEnd:Zp}}intervalChanged_(e,t,n){const a=this.parameterPositions;let r=e-2,o=e+1,l=a[r],u=a[o];if(l===void 0)switch(this.getSettings_().endingStart){case Jp:r=e,l=2*t-n;break;case ey:r=a.length-2,l=t+a[r]-a[r+1];break;default:r=e,l=n}if(u===void 0)switch(this.getSettings_().endingEnd){case Jp:o=e,u=2*n-t;break;case ey:o=1,u=n+a[1]-a[0];break;default:o=e-1,u=t}const d=(n-t)*.5,m=this.valueSize;this._weightPrev=d/(t-l),this._weightNext=d/(u-n),this._offsetPrev=r*m,this._offsetNext=o*m}interpolate_(e,t,n,a){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l,d=u-l,m=this._offsetPrev,y=this._offsetNext,x=this._weightPrev,g=this._weightNext,_=(n-t)/(a-t),S=_*_,M=S*_,b=-x*M+2*x*S-x*_,E=(1+x)*M+(-1.5-2*x)*S+(-.5+x)*_+1,C=(-1-g)*M+(1.5+g)*S+.5*_,D=g*M-g*S;for(let k=0;k!==l;++k)r[k]=b*o[m+k]+E*o[d+k]+C*o[u+k]+D*o[y+k];return r}}class HS extends Ry{constructor(e,t,n,a){super(e,t,n,a)}interpolate_(e,t,n,a){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l,d=u-l,m=(n-t)/(a-t),y=1-m;for(let x=0;x!==l;++x)r[x]=o[d+x]*y+o[u+x]*m;return r}}class zL extends Ry{constructor(e,t,n,a){super(e,t,n,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class ru{constructor(e,t,n,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Qp(t,this.TimeBufferType),this.values=Qp(n,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Qp(e.times,Array),values:Qp(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(n.interpolation=a)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new zL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new HS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new UL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Q1:t=this.InterpolantFactoryMethodDiscrete;break;case z2:t=this.InterpolantFactoryMethodLinear;break;case kv:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return en("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Q1;case this.InterpolantFactoryMethodLinear:return z2;case this.InterpolantFactoryMethodSmooth:return kv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,a=t.length;n!==a;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,a=t.length;n!==a;++n)t[n]*=e}return this}trim(e,t){const n=this.times,a=n.length;let r=0,o=a-1;for(;r!==a&&n[r]<e;)++r;for(;o!==-1&&n[o]>t;)--o;if(++o,r!==0||o!==a){r>=o&&(o=Math.max(o,1),r=o-1);const l=this.getValueSize();this.times=n.slice(r,o),this.values=this.values.slice(r*l,o*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Wn("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,a=this.values,r=n.length;r===0&&(Wn("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==r;l++){const u=n[l];if(typeof u=="number"&&isNaN(u)){Wn("KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(o!==null&&o>u){Wn("KeyframeTrack: Out of order keys.",this,l,u,o),e=!1;break}o=u}if(a!==void 0&&kL(a))for(let l=0,u=a.length;l!==u;++l){const d=a[l];if(isNaN(d)){Wn("KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),a=this.getInterpolation()===kv,r=e.length-1;let o=1;for(let l=1;l<r;++l){let u=!1;const d=e[l],m=e[l+1];if(d!==m&&(l!==1||d!==e[0]))if(a)u=!0;else{const y=l*n,x=y-n,g=y+n;for(let _=0;_!==n;++_){const S=t[y+_];if(S!==t[x+_]||S!==t[g+_]){u=!0;break}}}if(u){if(l!==o){e[o]=e[l];const y=l*n,x=o*n;for(let g=0;g!==n;++g)t[x+g]=t[y+g]}++o}}if(r>0){e[o]=e[r];for(let l=r*n,u=o*n,d=0;d!==n;++d)t[u+d]=t[l+d];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,a=new n(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}ru.prototype.ValueTypeName="";ru.prototype.TimeBufferType=Float32Array;ru.prototype.ValueBufferType=Float32Array;ru.prototype.DefaultInterpolation=z2;class _m extends ru{constructor(e,t,n){super(e,t,n)}}_m.prototype.ValueTypeName="bool";_m.prototype.ValueBufferType=Array;_m.prototype.DefaultInterpolation=Q1;_m.prototype.InterpolantFactoryMethodLinear=void 0;_m.prototype.InterpolantFactoryMethodSmooth=void 0;class qS extends ru{constructor(e,t,n,a){super(e,t,n,a)}}qS.prototype.ValueTypeName="color";class ly extends ru{constructor(e,t,n,a){super(e,t,n,a)}}ly.prototype.ValueTypeName="number";class BL extends Ry{constructor(e,t,n,a){super(e,t,n,a)}interpolate_(e,t,n,a){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=(n-t)/(a-t);let d=e*l;for(let m=d+l;d!==m;d+=4)Bo.slerpFlat(r,0,o,d-l,o,d,u);return r}}class Ly extends ru{constructor(e,t,n,a){super(e,t,n,a)}InterpolantFactoryMethodLinear(e){return new BL(this.times,this.values,this.getValueSize(),e)}}Ly.prototype.ValueTypeName="quaternion";Ly.prototype.InterpolantFactoryMethodSmooth=void 0;class wm extends ru{constructor(e,t,n){super(e,t,n)}}wm.prototype.ValueTypeName="string";wm.prototype.ValueBufferType=Array;wm.prototype.DefaultInterpolation=Q1;wm.prototype.InterpolantFactoryMethodLinear=void 0;wm.prototype.InterpolantFactoryMethodSmooth=void 0;class cy extends ru{constructor(e,t,n,a){super(e,t,n,a)}}cy.prototype.ValueTypeName="vector";class uy{constructor(e="",t=-1,n=[],a=gb){this.name=e,this.tracks=n,this.duration=t,this.blendMode=a,this.uuid=Tc(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,a=1/(e.fps||1);for(let o=0,l=n.length;o!==l;++o)t.push(VW(n[o]).scale(a));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r.userData=JSON.parse(e.userData||"{}"),r}static toJSON(e){const t=[],n=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let r=0,o=n.length;r!==o;++r)t.push(ru.toJSON(n[r]));return a}static CreateFromMorphTargetSequence(e,t,n,a){const r=t.length,o=[];for(let l=0;l<r;l++){let u=[],d=[];u.push((l+r-1)%r,l,(l+1)%r),d.push(0,1,0);const m=IL(u);u=cw(u,1,m),d=cw(d,1,m),!a&&u[0]===0&&(u.push(r),d.push(d[0])),o.push(new ly(".morphTargetInfluences["+t[l].name+"]",u,d).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const a=e;n=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<n.length;a++)if(n[a].name===t)return n[a];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const a={},r=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const d=e[l],m=d.name.match(r);if(m&&m.length>1){const y=m[1];let x=a[y];x||(a[y]=x=[]),x.push(d)}}const o=[];for(const l in a)o.push(this.CreateFromMorphTargetSequence(l,a[l],t,n));return o}static parseAnimation(e,t){if(en("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Wn("AnimationClip: No animation in JSONLoader data."),null;const n=function(y,x,g,_,S){if(g.length!==0){const M=[],b=[];VS(g,M,b,_),M.length!==0&&S.push(new y(x,M,b))}},a=[],r=e.name||"default",o=e.fps||30,l=e.blendMode;let u=e.length||-1;const d=e.hierarchy||[];for(let y=0;y<d.length;y++){const x=d[y].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const g={};let _;for(_=0;_<x.length;_++)if(x[_].morphTargets)for(let S=0;S<x[_].morphTargets.length;S++)g[x[_].morphTargets[S]]=-1;for(const S in g){const M=[],b=[];for(let E=0;E!==x[_].morphTargets.length;++E){const C=x[_];M.push(C.time),b.push(C.morphTarget===S?1:0)}a.push(new ly(".morphTargetInfluence["+S+"]",M,b))}u=g.length*o}else{const g=".bones["+t[y].name+"]";n(cy,g+".position",x,"pos",a),n(Ly,g+".quaternion",x,"rot",a),n(cy,g+".scale",x,"scl",a)}}return a.length===0?null:new this(r,u,a,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,a=e.length;n!==a;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function FW(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ly;case"vector":case"vector2":case"vector3":case"vector4":return cy;case"color":return qS;case"quaternion":return Ly;case"bool":case"boolean":return _m;case"string":return wm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function VW(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=FW(i.type);if(i.times===void 0){const t=[],n=[];VS(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const Ad={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class GS{constructor(e,t,n){const a=this;let r=!1,o=0,l=0,u;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(m){l++,r===!1&&a.onStart!==void 0&&a.onStart(m,o,l),r=!0},this.itemEnd=function(m){o++,a.onProgress!==void 0&&a.onProgress(m,o,l),o===l&&(r=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(m){a.onError!==void 0&&a.onError(m)},this.resolveURL=function(m){return u?u(m):m},this.setURLModifier=function(m){return u=m,this},this.addHandler=function(m,y){return d.push(m,y),this},this.removeHandler=function(m){const y=d.indexOf(m);return y!==-1&&d.splice(y,2),this},this.getHandler=function(m){for(let y=0,x=d.length;y<x;y+=2){const g=d[y],_=d[y+1];if(g.global&&(g.lastIndex=0),g.test(m))return _}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const jL=new GS;class Zl{constructor(e){this.manager=e!==void 0?e:jL,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(a,r){n.load(e,a,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Zl.DEFAULT_MATERIAL_NAME="__DEFAULT";const xh={};class HW extends Error{constructor(e,t){super(e),this.response=t}}class Oh extends Zl{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=Ad.get(`file:${e}`);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(xh[e]!==void 0){xh[e].push({onLoad:t,onProgress:n,onError:a});return}xh[e]=[],xh[e].push({onLoad:t,onProgress:n,onError:a});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),l=this.mimeType,u=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&en("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=xh[e],y=d.body.getReader(),x=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),g=x?parseInt(x):0,_=g!==0;let S=0;const M=new ReadableStream({start(b){E();function E(){y.read().then(({done:C,value:D})=>{if(C)b.close();else{S+=D.byteLength;const k=new ProgressEvent("progress",{lengthComputable:_,loaded:S,total:g});for(let H=0,G=m.length;H<G;H++){const X=m[H];X.onProgress&&X.onProgress(k)}b.enqueue(D),E()}},C=>{b.error(C)})}}});return new Response(M)}else throw new HW(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(u){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return d.json();default:if(l==="")return d.text();{const y=/charset="?([^;"\s]*)"?/i.exec(l),x=y&&y[1]?y[1].toLowerCase():void 0,g=new TextDecoder(x);return d.arrayBuffer().then(_=>g.decode(_))}}}).then(d=>{Ad.add(`file:${e}`,d);const m=xh[e];delete xh[e];for(let y=0,x=m.length;y<x;y++){const g=m[y];g.onLoad&&g.onLoad(d)}}).catch(d=>{const m=xh[e];if(m===void 0)throw this.manager.itemError(e),d;delete xh[e];for(let y=0,x=m.length;y<x;y++){const g=m[y];g.onError&&g.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class qW extends Zl{constructor(e){super(e)}load(e,t,n,a){const r=this,o=new Oh(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){a?a(u):Wn(u),r.manager.itemError(e)}},n,a)}parse(e){const t=[];for(let n=0;n<e.length;n++){const a=uy.parse(e[n]);t.push(a)}return t}}class GW extends Zl{constructor(e){super(e)}load(e,t,n,a){const r=this,o=[],l=new Mb,u=new Oh(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(r.withCredentials);let d=0;function m(y){u.load(e[y],function(x){const g=r.parse(x,!0);o[y]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},d+=1,d===6&&(g.mipmapCount===1&&(l.minFilter=ss),l.image=o,l.format=g.format,l.needsUpdate=!0,t&&t(l))},n,a)}if(Array.isArray(e))for(let y=0,x=e.length;y<x;++y)m(y);else u.load(e,function(y){const x=r.parse(y,!0);if(x.isCubemap){const g=x.mipmaps.length/x.mipmapCount;for(let _=0;_<g;_++){o[_]={mipmaps:[]};for(let S=0;S<x.mipmapCount;S++)o[_].mipmaps.push(x.mipmaps[_*x.mipmapCount+S]),o[_].format=x.format,o[_].width=x.width,o[_].height=x.height}l.image=o}else l.image.width=x.width,l.image.height=x.height,l.mipmaps=x.mipmaps;x.mipmapCount===1&&(l.minFilter=ss),l.format=x.format,l.needsUpdate=!0,t&&t(l)},n,a);return l}}const g0=new WeakMap;class dy extends Zl{constructor(e){super(e)}load(e,t,n,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Ad.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0);else{let y=g0.get(o);y===void 0&&(y=[],g0.set(o,y)),y.push({onLoad:t,onError:a})}return o}const l=iy("img");function u(){m(),t&&t(this);const y=g0.get(this)||[];for(let x=0;x<y.length;x++){const g=y[x];g.onLoad&&g.onLoad(this)}g0.delete(this),r.manager.itemEnd(e)}function d(y){m(),a&&a(y),Ad.remove(`image:${e}`);const x=g0.get(this)||[];for(let g=0;g<x.length;g++){const _=x[g];_.onError&&_.onError(y)}g0.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){l.removeEventListener("load",u,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),Ad.add(`image:${e}`,l),r.manager.itemStart(e),l.src=e,l}}class WW extends Zl{constructor(e){super(e)}load(e,t,n,a){const r=new My;r.colorSpace=Io;const o=new dy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function u(d){o.load(e[d],function(m){r.images[d]=m,l++,l===6&&(r.needsUpdate=!0,t&&t(r))},void 0,a)}for(let d=0;d<e.length;++d)u(d);return r}}class XW extends Zl{constructor(e){super(e)}load(e,t,n,a){const r=this,o=new Fu,l=new Oh(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(r.withCredentials),l.load(e,function(u){let d;try{d=r.parse(u)}catch(m){if(a!==void 0)a(m);else{m(m);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:Yl,o.wrapT=d.wrapT!==void 0?d.wrapT:Yl,o.magFilter=d.magFilter!==void 0?d.magFilter:ss,o.minFilter=d.minFilter!==void 0?d.minFilter:ss,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=Sd),d.mipmapCount===1&&(o.minFilter=ss),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,t&&t(o,d)},n,a),o}}class YW extends Zl{constructor(e){super(e)}load(e,t,n,a){const r=new Vr,o=new dy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){r.image=l,r.needsUpdate=!0,t!==void 0&&t(r)},n,a),r}}class Zf extends $i{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new rn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class FL extends Zf{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy($i.DEFAULT_UP),this.updateMatrix(),this.groundColor=new rn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const X3=new Vn,XE=new ke,YE=new ke;class WS{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new kt(512,512),this.mapType=au,this.map=null,this.mapPass=null,this.matrix=new Vn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xg,this._frameExtents=new kt(1,1),this._viewportCount=1,this._viewports=[new Yi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;XE.setFromMatrixPosition(e.matrixWorld),t.position.copy(XE),YE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(YE),t.updateMatrixWorld(),X3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(X3,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(X3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class $W extends WS{constructor(){super(new rs(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=ng*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(n!==t.fov||a!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=a,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class VL extends Zf{constructor(e,t,n=0,a=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy($i.DEFAULT_UP),this.updateMatrix(),this.target=new $i,this.distance=n,this.angle=a,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new $W}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const $E=new Vn,g1=new ke,Y3=new ke;class KW extends WS{constructor(){super(new rs(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new kt(4,2),this._viewportCount=6,this._viewports=[new Yi(2,1,1,1),new Yi(0,1,1,1),new Yi(3,1,1,1),new Yi(1,1,1,1),new Yi(3,0,1,1),new Yi(1,0,1,1)],this._cubeDirections=[new ke(1,0,0),new ke(-1,0,0),new ke(0,0,1),new ke(0,0,-1),new ke(0,1,0),new ke(0,-1,0)],this._cubeUps=[new ke(0,1,0),new ke(0,1,0),new ke(0,1,0),new ke(0,1,0),new ke(0,0,1),new ke(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,a=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),g1.setFromMatrixPosition(e.matrixWorld),n.position.copy(g1),Y3.copy(n.position),Y3.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Y3),n.updateMatrixWorld(),a.makeTranslation(-g1.x,-g1.y,-g1.z),$E.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix($E,n.coordinateSystem,n.reversedDepth)}}class HL extends Zf{constructor(e,t,n=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=a,this.shadow=new KW}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kf extends vb{constructor(e=-1,t=1,n=1,a=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=a,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,a,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=a,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let r=n-e,o=n+e,l=a+t,u=a-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=d*this.view.offsetX,o=r+d*this.view.width,l-=m*this.view.offsetY,u=l-m*this.view.height}this.projectionMatrix.makeOrthographic(r,o,l,u,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class ZW extends WS{constructor(){super(new kf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class qL extends Zf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy($i.DEFAULT_UP),this.updateMatrix(),this.target=new $i,this.shadow=new ZW}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class GL extends Zf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class WL extends Zf{constructor(e,t,n=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class XL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ke)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,a=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*a),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*a)),t.addScaledVector(o[5],1.092548*(a*r)),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],1.092548*(n*r)),t.addScaledVector(o[8],.546274*(n*n-a*a)),t}getIrradianceAt(e,t){const n=e.x,a=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*a),t.addScaledVector(o[2],2*.511664*r),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*a),t.addScaledVector(o[5],2*.429043*a*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],2*.429043*n*r),t.addScaledVector(o[8],.429043*(n*n-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let a=0;a<9;a++)n[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let a=0;a<9;a++)n[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const n=e.x,a=e.y,r=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*a,t[5]=1.092548*a*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-a*a)}}class YL extends Zf{constructor(e=new XL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Bb extends Zl{constructor(e){super(e),this.textures={}}load(e,t,n,a){const r=this,o=new Oh(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){a?a(u):Wn(u),r.manager.itemError(e)}},n,a)}parse(e){const t=this.textures;function n(r){return t[r]===void 0&&en("MaterialLoader: Undefined texture",r),t[r]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new rn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const o=e.uniforms[r];switch(a.uniforms[r]={},o.type){case"t":a.uniforms[r].value=n(o.value);break;case"c":a.uniforms[r].value=new rn().setHex(o.value);break;case"v2":a.uniforms[r].value=new kt().fromArray(o.value);break;case"v3":a.uniforms[r].value=new ke().fromArray(o.value);break;case"v4":a.uniforms[r].value=new Yi().fromArray(o.value);break;case"m3":a.uniforms[r].value=new ri().fromArray(o.value);break;case"m4":a.uniforms[r].value=new Vn().fromArray(o.value);break;default:a.uniforms[r].value=o.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)a.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=n(e.map)),e.matcap!==void 0&&(a.matcap=n(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),a.normalScale=new kt().fromArray(r)}return e.displacementMap!==void 0&&(a.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=n(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new kt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=n(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Bb.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:TL,SpriteMaterial:CS,RawShaderMaterial:EL,ShaderMaterial:Cc,PointsMaterial:RS,MeshPhysicalMaterial:CL,MeshStandardMaterial:BS,MeshPhongMaterial:NL,MeshToonMaterial:RL,MeshNormalMaterial:LL,MeshLambertMaterial:DL,MeshDepthMaterial:jS,MeshDistanceMaterial:FS,MeshBasicMaterial:$f,MeshMatcapMaterial:OL,LineDashedMaterial:PL,LineBasicMaterial:ml,Material:Vo};return new t[e]}}class uw{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class $L extends si{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class KL extends Zl{constructor(e){super(e)}load(e,t,n,a){const r=this,o=new Oh(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){a?a(u):Wn(u),r.manager.itemError(e)}},n,a)}parse(e){const t={},n={};function a(g,_){if(t[_]!==void 0)return t[_];const M=g.interleavedBuffers[_],b=r(g,M.buffer),E=D0(M.type,b),C=new wb(E,M.stride);return C.uuid=M.uuid,t[_]=C,C}function r(g,_){if(n[_]!==void 0)return n[_];const M=g.arrayBuffers[_],b=new Uint32Array(M).buffer;return n[_]=b,b}const o=e.isInstancedBufferGeometry?new $L:new si,l=e.data.index;if(l!==void 0){const g=D0(l.type,l.array);o.setIndex(new Oa(g,1))}const u=e.data.attributes;for(const g in u){const _=u[g];let S;if(_.isInterleavedBufferAttribute){const M=a(e.data,_.data);S=new fm(M,_.itemSize,_.offset,_.normalized)}else{const M=D0(_.type,_.array),b=_.isInstancedBufferAttribute?rg:Oa;S=new b(M,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),_.usage!==void 0&&S.setUsage(_.usage),o.setAttribute(g,S)}const d=e.data.morphAttributes;if(d)for(const g in d){const _=d[g],S=[];for(let M=0,b=_.length;M<b;M++){const E=_[M];let C;if(E.isInterleavedBufferAttribute){const D=a(e.data,E.data);C=new fm(D,E.itemSize,E.offset,E.normalized)}else{const D=D0(E.type,E.array);C=new Oa(D,E.itemSize,E.normalized)}E.name!==void 0&&(C.name=E.name),S.push(C)}o.morphAttributes[g]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const y=e.data.groups||e.data.drawcalls||e.data.offsets;if(y!==void 0)for(let g=0,_=y.length;g!==_;++g){const S=y[g];o.addGroup(S.start,S.count,S.materialIndex)}const x=e.data.boundingSphere;return x!==void 0&&(o.boundingSphere=new lo().fromJSON(x)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class JW extends Zl{constructor(e){super(e)}load(e,t,n,a){const r=this,o=this.path===""?uw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new Oh(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let d=null;try{d=JSON.parse(u)}catch(y){a!==void 0&&a(y),y("ObjectLoader: Can't parse "+e+".",y.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),Wn("ObjectLoader: Can't load "+e);return}r.parse(d,t)},n,a)}async loadAsync(e,t){const n=this,a=this.path===""?uw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const r=new Oh(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(e,t),l=JSON.parse(o),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(l)}parse(e,t){const n=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,a),o=this.parseImages(e.images,function(){t!==void 0&&t(d)}),l=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,r,u,l,n),m=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,m),this.bindLightTargets(d),t!==void 0){let y=!1;for(const x in o)if(o[x].data instanceof HTMLImageElement){y=!0;break}y===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,r),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,a,l,o,t),d=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,d),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let n=0,a=e.length;n<a;n++){const r=new rm().fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},a={};if(t.traverse(function(r){r.isBone&&(a[r.uuid]=r)}),e!==void 0)for(let r=0,o=e.length;r<o;r++){const l=new Sb().fromJSON(e[r],a);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const a=new KL;for(let r=0,o=e.length;r<o;r++){let l;const u=e[r];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=a.parse(u);break;default:u.type in WE?l=WE[u.type].fromJSON(u,t):en(`ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),n[u.uuid]=l}}return n}parseMaterials(e,t){const n={},a={};if(e!==void 0){const r=new Bb;r.setTextures(t);for(let o=0,l=e.length;o<l;o++){const u=e[o];n[u.uuid]===void 0&&(n[u.uuid]=r.parse(u)),a[u.uuid]=n[u.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const a=e[n],r=uy.parse(a);t[r.uuid]=r}return t}parseImages(e,t){const n=this,a={};let r;function o(u){return n.manager.itemStart(u),r.load(u,function(){n.manager.itemEnd(u)},void 0,function(){n.manager.itemError(u),n.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const d=u,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return o(m)}else return u.data?{data:D0(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new GS(t);r=new dy(u),r.setCrossOrigin(this.crossOrigin);for(let d=0,m=e.length;d<m;d++){const y=e[d],x=y.url;if(Array.isArray(x)){const g=[];for(let _=0,S=x.length;_<S;_++){const M=x[_],b=l(M);b!==null&&(b instanceof HTMLImageElement?g.push(b):g.push(new Fu(b.data,b.width,b.height)))}a[y.uuid]=new Rf(g)}else{const g=l(y.url);a[y.uuid]=new Rf(g)}}}return a}async parseImagesAsync(e){const t=this,n={};let a;async function r(o){if(typeof o=="string"){const l=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await a.loadAsync(u)}else return o.data?{data:D0(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){a=new dy(this.manager),a.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const u=e[o],d=u.url;if(Array.isArray(d)){const m=[];for(let y=0,x=d.length;y<x;y++){const g=d[y],_=await r(g);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new Fu(_.data,_.width,_.height)))}n[u.uuid]=new Rf(m)}else{const m=await r(u.url);n[u.uuid]=new Rf(m)}}}return n}parseTextures(e,t){function n(r,o){return typeof r=="number"?r:(en("ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const a={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const l=e[r];l.image===void 0&&en('ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&en("ObjectLoader: Undefined image",l.image);const u=t[l.image],d=u.data;let m;Array.isArray(d)?(m=new My,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new Fu:m=new Vr,d&&(m.needsUpdate=!0)),m.source=u,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=n(l.mapping,QW)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=n(l.wrap[0],KE),m.wrapT=n(l.wrap[1],KE)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=n(l.minFilter,ZE)),l.magFilter!==void 0&&(m.magFilter=n(l.magFilter,ZE)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),a[l.uuid]=m}return a}parseObject(e,t,n,a,r){let o;function l(x){return t[x]===void 0&&en("ObjectLoader: Undefined geometry",x),t[x]}function u(x){if(x!==void 0){if(Array.isArray(x)){const g=[];for(let _=0,S=x.length;_<S;_++){const M=x[_];n[M]===void 0&&en("ObjectLoader: Undefined material",M),g.push(n[M])}return g}return n[x]===void 0&&en("ObjectLoader: Undefined material",x),n[x]}}function d(x){return a[x]===void 0&&en("ObjectLoader: Undefined texture",x),a[x]}let m,y;switch(e.type){case"Scene":o=new ES,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new rn(e.background):o.background=d(e.background)),e.environment!==void 0&&(o.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new _b(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new bb(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new rs(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new kf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new GL(e.color,e.intensity);break;case"DirectionalLight":o=new qL(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new HL(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new WL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new VL(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new FL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new YL().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),y=u(e.material),o=new cL(m,y),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),y=u(e.material),o=new Ns(m,y);break;case"InstancedMesh":m=l(e.geometry),y=u(e.material);const x=e.count,g=e.instanceMatrix,_=e.instanceColor;o=new uL(m,y,x),o.instanceMatrix=new rg(new Float32Array(g.array),16),_!==void 0&&(o.instanceColor=new rg(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":m=l(e.geometry),y=u(e.material),o=new dL(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,y),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(S=>{let M=null,b=null;return S.boundingBox!==void 0&&(M=new jo().fromJSON(S.boundingBox)),S.boundingSphere!==void 0&&(b=new lo().fromJSON(S.boundingSphere)),{...S,boundingBox:M,boundingSphere:b}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=d(e.matricesTexture.uuid),o._indirectTexture=d(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=d(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new lo().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new jo().fromJSON(e.boundingBox));break;case"LOD":o=new lL;break;case"Line":o=new Wf(l(e.geometry),u(e.material));break;case"LineLoop":o=new hL(l(e.geometry),u(e.material));break;case"LineSegments":o=new Dd(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new fL(l(e.geometry),u(e.material));break;case"Sprite":o=new oL(u(e.material));break;case"Group":o=new O0;break;case"Bone":o=new NS;break;default:o=new $i}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const x=e.children;for(let g=0;g<x.length;g++)o.add(this.parseObject(x[g],t,n,a,r))}if(e.animations!==void 0){const x=e.animations;for(let g=0;g<x.length;g++){const _=x[g];o.animations.push(r[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const x=e.levels;for(let g=0;g<x.length;g++){const _=x[g],S=o.getObjectByProperty("uuid",_.object);S!==void 0&&o.addLevel(S,_.distance,_.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const a=t[n.skeleton];a===void 0?en("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(a,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,a=e.getObjectByProperty("uuid",n);a!==void 0?t.target=a:t.target=new $i}})}}const QW={UVMapping:lb,CubeReflectionMapping:Lh,CubeRefractionMapping:Hf,EquirectangularReflectionMapping:$1,EquirectangularRefractionMapping:K1,CubeUVReflectionMapping:yg},KE={RepeatWrapping:Z1,ClampToEdgeWrapping:Yl,MirroredRepeatWrapping:J1},ZE={NearestFilter:oo,NearestMipmapNearestFilter:pS,NearestMipmapLinearFilter:L0,LinearFilter:ss,LinearMipmapNearestFilter:L1,LinearMipmapLinearFilter:Sd},$3=new WeakMap;class eX extends Zl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&en("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&en("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Ad.get(`image-bitmap:${e}`);if(o!==void 0){if(r.manager.itemStart(e),o.then){o.then(d=>{if($3.has(o)===!0)a&&a($3.get(o)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(d),r.manager.itemEnd(e),d});return}return setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,l.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const u=fetch(e,l).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(d){return Ad.add(`image-bitmap:${e}`,d),t&&t(d),r.manager.itemEnd(e),d}).catch(function(d){a&&a(d),$3.set(u,d),Ad.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});Ad.add(`image-bitmap:${e}`,u),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let dv;class XS{static getContext(){return dv===void 0&&(dv=new(window.AudioContext||window.webkitAudioContext)),dv}static setContext(e){dv=e}}class tX extends Zl{constructor(e){super(e)}load(e,t,n,a){const r=this,o=new Oh(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const d=u.slice(0);XS.getContext().decodeAudioData(d,function(y){t(y)}).catch(l)}catch(d){l(d)}},n,a);function l(u){a?a(u):Wn(u),r.manager.itemError(e)}}}const JE=new Vn,QE=new Vn,Lp=new Vn;class nX{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new rs,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new rs,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Lp.copy(e.projectionMatrix);const a=t.eyeSep/2,r=a*t.near/t.focus,o=t.near*Math.tan(am*t.fov*.5)/t.zoom;let l,u;QE.elements[12]=-a,JE.elements[12]=a,l=-o*t.aspect+r,u=o*t.aspect+r,Lp.elements[0]=2*t.near/(u-l),Lp.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(Lp),l=-o*t.aspect-r,u=o*t.aspect-r,Lp.elements[0]=2*t.near/(u-l),Lp.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(Lp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(QE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(JE)}}class ZL extends rs{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class YS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Dp=new ke,K3=new Bo,iX=new ke,Op=new ke,Pp=new ke;class aX extends $i{constructor(){super(),this.type="AudioListener",this.context=XS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new YS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Dp,K3,iX),Op.set(0,0,-1).applyQuaternion(K3),Pp.set(0,1,0).applyQuaternion(K3),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Dp.x,n),t.positionY.linearRampToValueAtTime(Dp.y,n),t.positionZ.linearRampToValueAtTime(Dp.z,n),t.forwardX.linearRampToValueAtTime(Op.x,n),t.forwardY.linearRampToValueAtTime(Op.y,n),t.forwardZ.linearRampToValueAtTime(Op.z,n),t.upX.linearRampToValueAtTime(Pp.x,n),t.upY.linearRampToValueAtTime(Pp.y,n),t.upZ.linearRampToValueAtTime(Pp.z,n)}else t.setPosition(Dp.x,Dp.y,Dp.z),t.setOrientation(Op.x,Op.y,Op.z,Pp.x,Pp.y,Pp.z)}}class JL extends $i{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){en("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){en("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){en("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){en("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){en("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(en("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){en("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(en("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const kp=new ke,eC=new Bo,rX=new ke,Ip=new ke;class sX extends JL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(kp,eC,rX),Ip.set(0,0,1).applyQuaternion(eC);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(kp.x,n),t.positionY.linearRampToValueAtTime(kp.y,n),t.positionZ.linearRampToValueAtTime(kp.z,n),t.orientationX.linearRampToValueAtTime(Ip.x,n),t.orientationY.linearRampToValueAtTime(Ip.y,n),t.orientationZ.linearRampToValueAtTime(Ip.z,n)}else t.setPosition(kp.x,kp.y,kp.z),t.setOrientation(Ip.x,Ip.y,Ip.z)}}class oX{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class QL{constructor(e,t,n){this.binding=e,this.valueSize=n;let a,r,o;switch(t){case"quaternion":a=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":a=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:a=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,a=this.valueSize,r=e*a+a;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==a;++l)n[r+l]=n[l];o=t}else{o+=t;const l=t/o;this._mixBufferRegion(n,r,0,l,a)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,a=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,a=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const u=t*this._origIndex;this._mixBufferRegion(n,a,u,1-r,t)}o>0&&this._mixBufferRegionAdditive(n,a,this._addIndex*t,1,t);for(let u=t,d=t+t;u!==d;++u)if(n[u]!==n[u+t]){l.setValue(n,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,a=n*this._origIndex;e.getValue(t,a);for(let r=n,o=a;r!==o;++r)t[r]=t[a+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,a,r){if(a>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]}_slerp(e,t,n,a){Bo.slerpFlat(e,t,e,t,e,n,a)}_slerpAdditive(e,t,n,a,r){const o=this._workIndex*r;Bo.multiplyQuaternionsFlat(e,o,e,t,e,n),Bo.slerpFlat(e,t,e,t,e,o,a)}_lerp(e,t,n,a,r){const o=1-a;for(let l=0;l!==r;++l){const u=t+l;e[u]=e[u]*o+e[n+l]*a}}_lerpAdditive(e,t,n,a,r){for(let o=0;o!==r;++o){const l=t+o;e[l]=e[l]+e[n+o]*a}}}const $S="\\[\\]\\.:\\/",lX=new RegExp("["+$S+"]","g"),KS="[^"+$S+"]",cX="[^"+$S.replace("\\.","")+"]",uX=/((?:WC+[\/:])*)/.source.replace("WC",KS),dX=/(WCOD+)?/.source.replace("WCOD",cX),hX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",KS),fX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",KS),pX=new RegExp("^"+uX+dX+hX+fX+"$"),mX=["material","materials","bones","map"];class gX{constructor(e,t,n){const a=n||Xi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,a=this._bindings[n];a!==void 0&&a.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let a=this._targetGroup.nCachedObjects_,r=n.length;a!==r;++a)n[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Xi{constructor(e,t,n){this.path=t,this.parsedPath=n||Xi.parseTrackName(t),this.node=Xi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Xi.Composite(e,t,n):new Xi(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(lX,"")}static parseTrackName(e){const t=pX.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=n.nodeName&&n.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const r=n.nodeName.substring(a+1);mX.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,a),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let o=0;o<r.length;o++){const l=r[o];if(l.name===t||l.uuid===t)return l;const u=n(l.children);if(u)return u}return null},a=n(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let a=0,r=n.length;a!==r;++a)e[t++]=n[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let a=0,r=n.length;a!==r;++a)n[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let a=0,r=n.length;a!==r;++a)n[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let a=0,r=n.length;a!==r;++a)n[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,a=t.propertyName;let r=t.propertyIndex;if(e||(e=Xi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){en("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){Wn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Wn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Wn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===d){d=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Wn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Wn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){Wn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){Wn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[a];if(o===void 0){const d=t.nodeName;Wn("PropertyBinding: Trying to update property for track: "+d+"."+a+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(r!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){Wn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Wn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=a;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Xi.Composite=gX;Xi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Xi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Xi.prototype.GetterByBindingType=[Xi.prototype._getValue_direct,Xi.prototype._getValue_array,Xi.prototype._getValue_arrayElement,Xi.prototype._getValue_toArray];Xi.prototype.SetterByBindingTypeAndVersioning=[[Xi.prototype._setValue_direct,Xi.prototype._setValue_direct_setNeedsUpdate,Xi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xi.prototype._setValue_array,Xi.prototype._setValue_array_setNeedsUpdate,Xi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xi.prototype._setValue_arrayElement,Xi.prototype._setValue_arrayElement_setNeedsUpdate,Xi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xi.prototype._setValue_fromArray,Xi.prototype._setValue_fromArray_setNeedsUpdate,Xi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class yX{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Tc(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,a=arguments.length;n!==a;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,a=this._parsedPaths,r=this._bindings,o=r.length;let l,u=e.length,d=this.nCachedObjects_;for(let m=0,y=arguments.length;m!==y;++m){const x=arguments[m],g=x.uuid;let _=t[g];if(_===void 0){_=u++,t[g]=_,e.push(x);for(let S=0,M=o;S!==M;++S)r[S].push(new Xi(x,n[S],a[S]))}else if(_<d){l=e[_];const S=--d,M=e[S];t[M.uuid]=_,e[_]=M,t[g]=S,e[S]=x;for(let b=0,E=o;b!==E;++b){const C=r[b],D=C[S];let k=C[_];C[_]=D,k===void 0&&(k=new Xi(x,n[b],a[b])),C[S]=k}}else e[_]!==l&&Wn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,a=n.length;let r=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],d=u.uuid,m=t[d];if(m!==void 0&&m>=r){const y=r++,x=e[y];t[x.uuid]=m,e[m]=x,t[d]=y,e[y]=u;for(let g=0,_=a;g!==_;++g){const S=n[g],M=S[y],b=S[m];S[m]=M,S[y]=b}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,a=n.length;let r=this.nCachedObjects_,o=e.length;for(let l=0,u=arguments.length;l!==u;++l){const d=arguments[l],m=d.uuid,y=t[m];if(y!==void 0)if(delete t[m],y<r){const x=--r,g=e[x],_=--o,S=e[_];t[g.uuid]=y,e[y]=g,t[S.uuid]=x,e[x]=S,e.pop();for(let M=0,b=a;M!==b;++M){const E=n[M],C=E[x],D=E[_];E[y]=C,E[x]=D,E.pop()}}else{const x=--o,g=e[x];x>0&&(t[g.uuid]=y),e[y]=g,e.pop();for(let _=0,S=a;_!==S;++_){const M=n[_];M[y]=M[x],M.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const n=this._bindingsIndicesByPath;let a=n[e];const r=this._bindings;if(a!==void 0)return r[a];const o=this._paths,l=this._parsedPaths,u=this._objects,d=u.length,m=this.nCachedObjects_,y=new Array(d);a=r.length,n[e]=a,o.push(e),l.push(t),r.push(y);for(let x=m,g=u.length;x!==g;++x){const _=u[x];y[x]=new Xi(_,e,t)}return y}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const a=this._paths,r=this._parsedPaths,o=this._bindings,l=o.length-1,u=o[l],d=e[l];t[d]=n,o[n]=u,o.pop(),r[n]=r[l],r.pop(),a[n]=a[l],a.pop()}}}class e7{constructor(e,t,n=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=a;const r=t.tracks,o=r.length,l=new Array(o),u={endingStart:Zp,endingEnd:Zp};for(let d=0;d!==o;++d){const m=r[d].createInterpolant(null);l[d]=m,m.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=jR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const a=this._clip.duration,r=e._clip.duration,o=r/a,l=a/r;e.warp(1,o,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const a=this._mixer,r=a.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=a._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,d=l.sampleValues;return u[0]=r,u[1]=r+n,d[0]=e/o,d[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,a){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const u=(e-r)*n;u<0||n===0?t=0:(this._startTime=null,t=n*u)}t*=this._updateTimeScale(e);const o=this._updateTime(t),l=this._updateWeight(e);if(l>0){const u=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case _S:for(let m=0,y=u.length;m!==y;++m)u[m].evaluate(o),d[m].accumulateAdditive(l);break;case gb:default:for(let m=0,y=u.length;m!==y;++m)u[m].evaluate(o),d[m].accumulate(a,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const a=n.evaluate(e)[0];t*=a,e>n.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const a=n.evaluate(e)[0];t*=a,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let a=this.time+e,r=this._loopCount;const o=n===FR;if(e===0)return r===-1?a:o&&(r&1)===1?t-a:a;if(n===BR){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),a>=t||a<0){const l=Math.floor(a/t);a-=t*l,r+=Math.abs(l);const u=this.repetitions-r;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=a;if(o&&(r&1)===1)return t-a}return a}_setEndings(e,t,n){const a=this._interpolantSettings;n?(a.endingStart=Jp,a.endingEnd=Jp):(e?a.endingStart=this.zeroSlopeAtStart?Jp:Zp:a.endingStart=ey,t?a.endingEnd=this.zeroSlopeAtEnd?Jp:Zp:a.endingEnd=ey)}_scheduleFading(e,t,n){const a=this._mixer,r=a.time;let o=this._weightInterpolant;o===null&&(o=a._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=r,u[0]=t,l[1]=r+e,u[1]=n,this}}const xX=new Float32Array(1);class vX extends Ld{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,a=e._clip.tracks,r=a.length,o=e._propertyBindings,l=e._interpolants,u=n.uuid,d=this._bindingsByRootAndName;let m=d[u];m===void 0&&(m={},d[u]=m);for(let y=0;y!==r;++y){const x=a[y],g=x.name;let _=m[g];if(_!==void 0)++_.referenceCount,o[y]=_;else{if(_=o[y],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,u,g));continue}const S=t&&t._propertyBindings[y].binding.parsedPath;_=new QL(Xi.create(n,g,S),x.ValueTypeName,x.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,u,g),o[y]=_}l[y].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,a=e._clip.uuid,r=this._actionsByClip[a];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,a,n)}const t=e._propertyBindings;for(let n=0,a=t.length;n!==a;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,a=t.length;n!==a;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const a=this._actions,r=this._actionsByClip;let o=r[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=a.length,a.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],a=e._cacheIndex;n._cacheIndex=a,t[a]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,l=o[r],u=l.knownActions,d=u[u.length-1],m=e._byClipCacheIndex;d._byClipCacheIndex=m,u[m]=d,u.pop(),e._byClipCacheIndex=null;const y=l.actionByRoot,x=(e._localRoot||this._root).uuid;delete y[x],u.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,a=t.length;n!==a;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,a=this._nActiveActions++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,a=--this._nActiveActions,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){const a=this._bindingsByRootAndName,r=this._bindings;let o=a[t];o===void 0&&(o={},a[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,a=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,l=o[a],u=t[t.length-1],d=e._cacheIndex;u._cacheIndex=d,t[d]=u,t.pop(),delete l[r],Object.keys(l).length===0&&delete o[a]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,a=this._nActiveBindings++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,a=--this._nActiveBindings,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new HS(new Float32Array(2),new Float32Array(2),1,xX),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,a=--this._nActiveControlInterpolants,r=t[a];e.__cacheIndex=a,t[a]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){const a=t||this._root,r=a.uuid;let o=typeof e=="string"?uy.findByName(a,e):e;const l=o!==null?o.uuid:e,u=this._actionsByClip[l];let d=null;if(n===void 0&&(o!==null?n=o.blendMode:n=gb),u!==void 0){const y=u.actionByRoot[r];if(y!==void 0&&y.blendMode===n)return y;d=u.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const m=new e7(this,o,t,n);return this._bindAction(m,d),this._addInactiveAction(m,l,r),m}existingAction(e,t){const n=t||this._root,a=n.uuid,r=typeof e=="string"?uy.findByName(n,e):e,o=r?r.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,a=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(a,e,r,o);const l=this._bindings,u=this._nActiveBindings;for(let d=0;d!==u;++d)l[d].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,a=this._actionsByClip,r=a[n];if(r!==void 0){const o=r.knownActions;for(let l=0,u=o.length;l!==u;++l){const d=o[l];this._deactivateAction(d);const m=d._cacheIndex,y=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,y._cacheIndex=m,t[m]=y,t.pop(),this._removeInactiveBindingsForAction(d)}delete a[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const l=n[o].actionByRoot,u=l[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const a=this._bindingsByRootAndName,r=a[t];if(r!==void 0)for(const o in r){const l=r[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class bX extends AS{constructor(e=1,t=1,n=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=n,this.texture=new xb(null,e,t,n),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class ZS{constructor(e){this.value=e}clone(){return new ZS(this.value.clone===void 0?this.value:this.value.clone())}}let _X=0;class wX extends Ld{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_X++}),this.name="",this.usage=ny,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,a=t.length;n<a;n++){const r=Array.isArray(t[n])?t[n]:[t[n]];for(let o=0;o<r.length;o++)this.uniforms.push(r[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class SX extends wb{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class AX{constructor(e,t,n,a,r,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=a,this.count=r,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const tC=new Vn;class t7{constructor(e,t,n=0,a=1/0){this.ray=new vm(e,t),this.near=n,this.far=a,this.camera=null,this.layers=new ig,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Wn("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return tC.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(tC),this}intersectObject(e,t=!0,n=[]){return dw(e,this,n,t),n.sort(nC),n}intersectObjects(e,t=!0,n=[]){for(let a=0,r=e.length;a<r;a++)dw(e[a],this,n,t);return n.sort(nC),n}}function nC(i,e){return i.distance-e.distance}function dw(i,e,t,n){let a=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(a=!1),a===!0&&n===!0){const r=i.children;for(let o=0,l=r.length;o<l;o++)dw(r[o],e,t,!0)}}class MX{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=TX.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function TX(){this._document.hidden===!1&&this.reset()}class H2{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Bn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Bn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class EX{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class JS{constructor(e,t,n,a){JS.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,a){const r=this.elements;return r[0]=e,r[2]=t,r[1]=n,r[3]=a,this}}const iC=new kt;class CX{constructor(e=new kt(1/0,1/0),t=new kt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=iC.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,iC).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const aC=new ke,hv=new ke,y0=new ke,x0=new ke,Z3=new ke,NX=new ke,RX=new ke;class LX{constructor(e=new ke,t=new ke){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){aC.subVectors(e,this.start),hv.subVectors(this.end,this.start);const n=hv.dot(hv);let r=hv.dot(aC)/n;return t&&(r=Bn(r,0,1)),r}closestPointToPoint(e,t,n){const a=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(a).add(this.start)}distanceSqToLine3(e,t=NX,n=RX){const a=10000000000000001e-32;let r,o;const l=this.start,u=e.start,d=this.end,m=e.end;y0.subVectors(d,l),x0.subVectors(m,u),Z3.subVectors(l,u);const y=y0.dot(y0),x=x0.dot(x0),g=x0.dot(Z3);if(y<=a&&x<=a)return t.copy(l),n.copy(u),t.sub(n),t.dot(t);if(y<=a)r=0,o=g/x,o=Bn(o,0,1);else{const _=y0.dot(Z3);if(x<=a)o=0,r=Bn(-_/y,0,1);else{const S=y0.dot(x0),M=y*x-S*S;M!==0?r=Bn((S*g-_*x)/M,0,1):r=0,o=(S*r+g)/x,o<0?(o=0,r=Bn(-_/y,0,1)):o>1&&(o=1,r=Bn((S-_)/y,0,1))}}return t.copy(l).add(y0.multiplyScalar(r)),n.copy(u).add(x0.multiplyScalar(o)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const rC=new ke;class DX extends $i{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new si,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,u=32;o<u;o++,l++){const d=o/u*Math.PI*2,m=l/u*Math.PI*2;a.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new pn(a,3));const r=new ml({fog:!1,toneMapped:!1});this.cone=new Dd(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),rC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(rC),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Af=new ke,fv=new Vn,J3=new Vn;class OX extends Dd{constructor(e){const t=n7(e),n=new si,a=[],r=[];for(let d=0;d<t.length;d++){const m=t[d];m.parent&&m.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),r.push(0,0,0),r.push(0,0,0))}n.setAttribute("position",new pn(a,3)),n.setAttribute("color",new pn(r,3));const o=new ml({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const l=new rn(255),u=new rn(65280);this.setColors(l,u)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,a=n.getAttribute("position");J3.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<t.length;r++){const l=t[r];l.parent&&l.parent.isBone&&(fv.multiplyMatrices(J3,l.matrixWorld),Af.setFromMatrixPosition(fv),a.setXYZ(o,Af.x,Af.y,Af.z),fv.multiplyMatrices(J3,l.parent.matrixWorld),Af.setFromMatrixPosition(fv),a.setXYZ(o+1,Af.x,Af.y,Af.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const a=this.geometry.getAttribute("color");for(let r=0;r<a.count;r+=2)a.setXYZ(r,e.r,e.g,e.b),a.setXYZ(r+1,t.r,t.g,t.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function n7(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...n7(i.children[t]));return e}class PX extends Ns{constructor(e,t,n){const a=new Ny(t,4,2),r=new $f({wireframe:!0,fog:!1,toneMapped:!1});super(a,r),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const kX=new ke,sC=new rn,oC=new rn;class IX extends $i{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const a=new Cy(t);a.rotateY(Math.PI*.5),this.material=new $f({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=a.getAttribute("position"),o=new Float32Array(r.count*3);a.setAttribute("color",new Oa(o,3)),this.add(new Ns(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");sC.copy(this.light.color),oC.copy(this.light.groundColor);for(let n=0,a=t.count;n<a;n++){const r=n<a/2?sC:oC;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(kX.setFromMatrixPosition(this.light.matrixWorld).negate())}}class UX extends Dd{constructor(e=10,t=10,n=4473924,a=8947848){n=new rn(n),a=new rn(a);const r=t/2,o=e/t,l=e/2,u=[],d=[];for(let x=0,g=0,_=-l;x<=t;x++,_+=o){u.push(-l,0,_,l,0,_),u.push(_,0,-l,_,0,l);const S=x===r?n:a;S.toArray(d,g),g+=3,S.toArray(d,g),g+=3,S.toArray(d,g),g+=3,S.toArray(d,g),g+=3}const m=new si;m.setAttribute("position",new pn(u,3)),m.setAttribute("color",new pn(d,3));const y=new ml({vertexColors:!0,toneMapped:!1});super(m,y),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class zX extends Dd{constructor(e=10,t=16,n=8,a=64,r=4473924,o=8947848){r=new rn(r),o=new rn(o);const l=[],u=[];if(t>1)for(let y=0;y<t;y++){const x=y/t*(Math.PI*2),g=Math.sin(x)*e,_=Math.cos(x)*e;l.push(0,0,0),l.push(g,0,_);const S=y&1?r:o;u.push(S.r,S.g,S.b),u.push(S.r,S.g,S.b)}for(let y=0;y<n;y++){const x=y&1?r:o,g=e-e/n*y;for(let _=0;_<a;_++){let S=_/a*(Math.PI*2),M=Math.sin(S)*g,b=Math.cos(S)*g;l.push(M,0,b),u.push(x.r,x.g,x.b),S=(_+1)/a*(Math.PI*2),M=Math.sin(S)*g,b=Math.cos(S)*g,l.push(M,0,b),u.push(x.r,x.g,x.b)}}const d=new si;d.setAttribute("position",new pn(l,3)),d.setAttribute("color",new pn(u,3));const m=new ml({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const lC=new ke,pv=new ke,cC=new ke;class BX extends $i{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new si;a.setAttribute("position",new pn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new ml({fog:!1,toneMapped:!1});this.lightPlane=new Wf(a,r),this.add(this.lightPlane),a=new si,a.setAttribute("position",new pn([0,0,0,0,0,1],3)),this.targetLine=new Wf(a,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),lC.setFromMatrixPosition(this.light.matrixWorld),pv.setFromMatrixPosition(this.light.target.matrixWorld),cC.subVectors(pv,lC),this.lightPlane.lookAt(pv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(pv),this.targetLine.scale.z=cC.length()}}const mv=new ke,Br=new vb;class jX extends Dd{constructor(e){const t=new si,n=new ml({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],r=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(_,S){u(_),u(S)}function u(_){a.push(0,0,0),r.push(0,0,0),o[_]===void 0&&(o[_]=[]),o[_].push(a.length/3-1)}t.setAttribute("position",new pn(a,3)),t.setAttribute("color",new pn(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new rn(16755200),m=new rn(16711680),y=new rn(43775),x=new rn(16777215),g=new rn(3355443);this.setColors(d,m,y,x,g)}setColors(e,t,n,a,r){const l=this.geometry.getAttribute("color");return l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,a.r,a.g,a.b),l.setXYZ(39,a.r,a.g,a.b),l.setXYZ(40,r.r,r.g,r.b),l.setXYZ(41,r.r,r.g,r.b),l.setXYZ(42,r.r,r.g,r.b),l.setXYZ(43,r.r,r.g,r.b),l.setXYZ(44,r.r,r.g,r.b),l.setXYZ(45,r.r,r.g,r.b),l.setXYZ(46,r.r,r.g,r.b),l.setXYZ(47,r.r,r.g,r.b),l.setXYZ(48,r.r,r.g,r.b),l.setXYZ(49,r.r,r.g,r.b),l.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,a=1;let r,o;if(Br.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)r=1,o=0;else if(this.camera.coordinateSystem===Ac)r=-1,o=1;else if(this.camera.coordinateSystem===eg)r=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);es("c",t,e,Br,0,0,r),es("t",t,e,Br,0,0,o),es("n1",t,e,Br,-n,-a,r),es("n2",t,e,Br,n,-a,r),es("n3",t,e,Br,-n,a,r),es("n4",t,e,Br,n,a,r),es("f1",t,e,Br,-n,-a,o),es("f2",t,e,Br,n,-a,o),es("f3",t,e,Br,-n,a,o),es("f4",t,e,Br,n,a,o),es("u1",t,e,Br,n*.7,a*1.1,r),es("u2",t,e,Br,-n*.7,a*1.1,r),es("u3",t,e,Br,0,a*2,r),es("cf1",t,e,Br,-n,0,o),es("cf2",t,e,Br,n,0,o),es("cf3",t,e,Br,0,-a,o),es("cf4",t,e,Br,0,a,o),es("cn1",t,e,Br,-n,0,r),es("cn2",t,e,Br,n,0,r),es("cn3",t,e,Br,0,-a,r),es("cn4",t,e,Br,0,a,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function es(i,e,t,n,a,r,o){mv.set(a,r,o).unproject(n);const l=e[i];if(l!==void 0){const u=t.getAttribute("position");for(let d=0,m=l.length;d<m;d++)u.setXYZ(l[d],mv.x,mv.y,mv.z)}}const gv=new jo;class FX extends Dd{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),r=new si;r.setIndex(new Oa(n,1)),r.setAttribute("position",new Oa(a,3)),super(r,new ml({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&gv.setFromObject(this.object),gv.isEmpty())return;const e=gv.min,t=gv.max,n=this.geometry.attributes.position,a=n.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class VX extends Dd{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new si;r.setIndex(new Oa(n,1)),r.setAttribute("position",new pn(a,3)),super(r,new ml({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class HX extends Wf{constructor(e,t=1,n=16776960){const a=n,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new si;o.setAttribute("position",new pn(r,3)),o.computeBoundingSphere(),super(o,new ml({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new si;u.setAttribute("position",new pn(l,3)),u.computeBoundingSphere(),this.add(new Ns(u,new $f({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const uC=new ke;let yv,Q3;class qX extends $i{constructor(e=new ke(0,0,1),t=new ke(0,0,0),n=1,a=16776960,r=n*.2,o=r*.2){super(),this.type="ArrowHelper",yv===void 0&&(yv=new si,yv.setAttribute("position",new pn([0,0,0,0,1,0],3)),Q3=new Ey(.5,1,5,1),Q3.translate(0,-.5,0)),this.position.copy(t),this.line=new Wf(yv,new ml({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ns(Q3,new $f({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{uC.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(uC,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class GX extends Dd{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new si;a.setAttribute("position",new pn(t,3)),a.setAttribute("color",new pn(n,3));const r=new ml({vertexColors:!0,toneMapped:!1});super(a,r),this.type="AxesHelper"}setColors(e,t,n){const a=new rn,r=this.geometry.attributes.color.array;return a.set(e),a.toArray(r,0),a.toArray(r,3),a.set(t),a.toArray(r,6),a.toArray(r,9),a.set(n),a.toArray(r,12),a.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class WX{constructor(){this.type="ShapePath",this.color=new rn,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new V2,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,a){return this.currentPath.quadraticCurveTo(e,t,n,a),this}bezierCurveTo(e,t,n,a,r,o){return this.currentPath.bezierCurveTo(e,t,n,a,r,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const E=[];for(let C=0,D=b.length;C<D;C++){const k=b[C],H=new rm;H.curves=k.curves,E.push(H)}return E}function n(b,E){const C=E.length;let D=!1;for(let k=C-1,H=0;H<C;k=H++){let G=E[k],X=E[H],O=X.x-G.x,z=X.y-G.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(G=E[H],O=-O,X=E[k],z=-z),b.y<G.y||b.y>X.y)continue;if(b.y===G.y){if(b.x===G.x)return!0}else{const q=z*(b.x-G.x)-O*(b.y-G.y);if(q===0)return!0;if(q<0)continue;D=!D}}else{if(b.y!==G.y)continue;if(X.x<=b.x&&b.x<=G.x||G.x<=b.x&&b.x<=X.x)return!0}}return D}const a=ju.isClockWise,r=this.subPaths;if(r.length===0)return[];let o,l,u;const d=[];if(r.length===1)return l=r[0],u=new rm,u.curves=l.curves,d.push(u),d;let m=!a(r[0].getPoints());m=e?!m:m;const y=[],x=[];let g=[],_=0,S;x[_]=void 0,g[_]=[];for(let b=0,E=r.length;b<E;b++)l=r[b],S=l.getPoints(),o=a(S),o=e?!o:o,o?(!m&&x[_]&&_++,x[_]={s:new rm,p:S},x[_].s.curves=l.curves,m&&_++,g[_]=[]):g[_].push({h:l,p:S[0]});if(!x[0])return t(r);if(x.length>1){let b=!1,E=0;for(let C=0,D=x.length;C<D;C++)y[C]=[];for(let C=0,D=x.length;C<D;C++){const k=g[C];for(let H=0;H<k.length;H++){const G=k[H];let X=!0;for(let O=0;O<x.length;O++)n(G.p,x[O].p)&&(C!==O&&E++,X?(X=!1,y[O].push(G)):b=!0);X&&y[C].push(G)}}E>0&&b===!1&&(g=y)}let M;for(let b=0,E=x.length;b<E;b++){u=x[b].s,d.push(u),M=g[b];for(let C=0,D=M.length;C<D;C++)u.holes.push(M[C].h)}return d}}class XX extends Ld{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){en("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function YX(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function $X(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function KX(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function hw(i,e,t,n){const a=ZX(n);switch(t){case vS:return i*e;case hb:return i*e/a.components*a.byteLength;case Ay:return i*e/a.components*a.byteLength;case fb:return i*e*2/a.components*a.byteLength;case pb:return i*e*2/a.components*a.byteLength;case bS:return i*e*3/a.components*a.byteLength;case zo:return i*e*4/a.components*a.byteLength;case mb:return i*e*4/a.components*a.byteLength;case D1:case O1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case P1:case k1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case d2:case f2:return Math.max(i,16)*Math.max(e,8)/4;case u2:case h2:return Math.max(i,8)*Math.max(e,8)/2;case p2:case m2:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case g2:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case y2:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case x2:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case v2:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case b2:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case _2:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case w2:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case S2:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case A2:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case M2:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case T2:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case E2:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case C2:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case N2:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case R2:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case L2:case D2:case O2:return Math.ceil(i/4)*Math.ceil(e/4)*16;case P2:case k2:return Math.ceil(i/4)*Math.ceil(e/4)*8;case I2:case U2:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function ZX(i){switch(i){case au:case mS:return{byteLength:1,components:1};case K0:case gS:case xm:return{byteLength:2,components:1};case ub:case db:return{byteLength:2,components:4};case Dh:case cb:case $l:return{byteLength:4,components:1};case yS:case xS:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class JX{static contain(e,t){return YX(e,t)}static cover(e,t){return $X(e,t)}static fill(e){return KX(e)}static getByteLength(e,t,n,a){return hw(e,t,n,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:wy}}));typeof window<"u"&&(window.__THREE__?en("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=wy);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function i7(){let i=null,e=!1,t=null,n=null;function a(r,o){t(r,o),n=i.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(a),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){i=r}}}function QX(i){const e=new WeakMap;function t(l,u){const d=l.array,m=l.usage,y=d.byteLength,x=i.createBuffer();i.bindBuffer(u,x),i.bufferData(u,d,m),l.onUploadCallback();let g;if(d instanceof Float32Array)g=i.FLOAT;else if(typeof Float16Array<"u"&&d instanceof Float16Array)g=i.HALF_FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?g=i.HALF_FLOAT:g=i.UNSIGNED_SHORT;else if(d instanceof Int16Array)g=i.SHORT;else if(d instanceof Uint32Array)g=i.UNSIGNED_INT;else if(d instanceof Int32Array)g=i.INT;else if(d instanceof Int8Array)g=i.BYTE;else if(d instanceof Uint8Array)g=i.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)g=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:x,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:y}}function n(l,u,d){const m=u.array,y=u.updateRanges;if(i.bindBuffer(d,l),y.length===0)i.bufferSubData(d,0,m);else{y.sort((g,_)=>g.start-_.start);let x=0;for(let g=1;g<y.length;g++){const _=y[x],S=y[g];S.start<=_.start+_.count+1?_.count=Math.max(_.count,S.start+S.count-_.start):(++x,y[x]=S)}y.length=x+1;for(let g=0,_=y.length;g<_;g++){const S=y[g];i.bufferSubData(d,S.start*m.BYTES_PER_ELEMENT,m,S.start,S.count)}u.clearUpdateRanges()}u.onUploadCallback()}function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function r(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(i.deleteBuffer(u.buffer),e.delete(l))}function o(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=e.get(l);(!m||m.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const d=e.get(l);if(d===void 0)e.set(l,t(l,u));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(d.buffer,l,u),d.version=l.version}}return{get:a,remove:r,update:o}}var eY=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,tY=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,nY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,iY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aY=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,rY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,sY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,oY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,lY=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,cY=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,uY=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,dY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,hY=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,fY=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,pY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,mY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,gY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,yY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,xY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,vY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,bY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,_Y=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,wY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,SY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,AY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,MY=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,TY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,EY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,CY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,NY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,RY="gl_FragColor = linearToOutputTexel( gl_FragColor );",LY=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,DY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,OY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,PY=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,kY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,IY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,UY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,zY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,BY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,jY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,FY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,VY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,HY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,qY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,GY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,WY=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,XY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,YY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,$Y=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,KY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,ZY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,JY=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,QY=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,e$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,t$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,n$=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,i$=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,a$=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,r$=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,s$=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,o$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,l$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,c$=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,u$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,d$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,h$=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,f$=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,p$=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,m$=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,g$=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,y$=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,x$=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,v$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,b$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_$=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,w$=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,S$=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,A$=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,M$=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,T$=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,E$=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,C$=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,N$=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,R$=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,L$=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,D$=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,O$=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,P$=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,k$=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,I$=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,U$=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,z$=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,B$=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,j$=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,F$=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,V$=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,H$=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,q$=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,G$=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,W$=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,X$=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Y$=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,$$=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,K$=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Z$=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,J$=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Q$=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,eK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,iK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,sK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,oK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,lK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,cK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,uK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,hK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,pK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,xK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,bK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,_K=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,AK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TK=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,CK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,NK=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,LK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,DK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ui={alphahash_fragment:eY,alphahash_pars_fragment:tY,alphamap_fragment:nY,alphamap_pars_fragment:iY,alphatest_fragment:aY,alphatest_pars_fragment:rY,aomap_fragment:sY,aomap_pars_fragment:oY,batching_pars_vertex:lY,batching_vertex:cY,begin_vertex:uY,beginnormal_vertex:dY,bsdfs:hY,iridescence_fragment:fY,bumpmap_pars_fragment:pY,clipping_planes_fragment:mY,clipping_planes_pars_fragment:gY,clipping_planes_pars_vertex:yY,clipping_planes_vertex:xY,color_fragment:vY,color_pars_fragment:bY,color_pars_vertex:_Y,color_vertex:wY,common:SY,cube_uv_reflection_fragment:AY,defaultnormal_vertex:MY,displacementmap_pars_vertex:TY,displacementmap_vertex:EY,emissivemap_fragment:CY,emissivemap_pars_fragment:NY,colorspace_fragment:RY,colorspace_pars_fragment:LY,envmap_fragment:DY,envmap_common_pars_fragment:OY,envmap_pars_fragment:PY,envmap_pars_vertex:kY,envmap_physical_pars_fragment:WY,envmap_vertex:IY,fog_vertex:UY,fog_pars_vertex:zY,fog_fragment:BY,fog_pars_fragment:jY,gradientmap_pars_fragment:FY,lightmap_pars_fragment:VY,lights_lambert_fragment:HY,lights_lambert_pars_fragment:qY,lights_pars_begin:GY,lights_toon_fragment:XY,lights_toon_pars_fragment:YY,lights_phong_fragment:$Y,lights_phong_pars_fragment:KY,lights_physical_fragment:ZY,lights_physical_pars_fragment:JY,lights_fragment_begin:QY,lights_fragment_maps:e$,lights_fragment_end:t$,logdepthbuf_fragment:n$,logdepthbuf_pars_fragment:i$,logdepthbuf_pars_vertex:a$,logdepthbuf_vertex:r$,map_fragment:s$,map_pars_fragment:o$,map_particle_fragment:l$,map_particle_pars_fragment:c$,metalnessmap_fragment:u$,metalnessmap_pars_fragment:d$,morphinstance_vertex:h$,morphcolor_vertex:f$,morphnormal_vertex:p$,morphtarget_pars_vertex:m$,morphtarget_vertex:g$,normal_fragment_begin:y$,normal_fragment_maps:x$,normal_pars_fragment:v$,normal_pars_vertex:b$,normal_vertex:_$,normalmap_pars_fragment:w$,clearcoat_normal_fragment_begin:S$,clearcoat_normal_fragment_maps:A$,clearcoat_pars_fragment:M$,iridescence_pars_fragment:T$,opaque_fragment:E$,packing:C$,premultiplied_alpha_fragment:N$,project_vertex:R$,dithering_fragment:L$,dithering_pars_fragment:D$,roughnessmap_fragment:O$,roughnessmap_pars_fragment:P$,shadowmap_pars_fragment:k$,shadowmap_pars_vertex:I$,shadowmap_vertex:U$,shadowmask_pars_fragment:z$,skinbase_vertex:B$,skinning_pars_vertex:j$,skinning_vertex:F$,skinnormal_vertex:V$,specularmap_fragment:H$,specularmap_pars_fragment:q$,tonemapping_fragment:G$,tonemapping_pars_fragment:W$,transmission_fragment:X$,transmission_pars_fragment:Y$,uv_pars_fragment:$$,uv_pars_vertex:K$,uv_vertex:Z$,worldpos_vertex:J$,background_vert:Q$,background_frag:eK,backgroundCube_vert:tK,backgroundCube_frag:nK,cube_vert:iK,cube_frag:aK,depth_vert:rK,depth_frag:sK,distanceRGBA_vert:oK,distanceRGBA_frag:lK,equirect_vert:cK,equirect_frag:uK,linedashed_vert:dK,linedashed_frag:hK,meshbasic_vert:fK,meshbasic_frag:pK,meshlambert_vert:mK,meshlambert_frag:gK,meshmatcap_vert:yK,meshmatcap_frag:xK,meshnormal_vert:vK,meshnormal_frag:bK,meshphong_vert:_K,meshphong_frag:wK,meshphysical_vert:SK,meshphysical_frag:AK,meshtoon_vert:MK,meshtoon_frag:TK,points_vert:EK,points_frag:CK,shadow_vert:NK,shadow_frag:RK,sprite_vert:LK,sprite_frag:DK},Qt={common:{diffuse:{value:new rn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ri},alphaMap:{value:null},alphaMapTransform:{value:new ri},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ri}},envmap:{envMap:{value:null},envMapRotation:{value:new ri},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ri}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ri}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ri},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ri},normalScale:{value:new kt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ri},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ri}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ri}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ri}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new rn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new rn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ri},alphaTest:{value:0},uvTransform:{value:new ri}},sprite:{diffuse:{value:new rn(16777215)},opacity:{value:1},center:{value:new kt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ri},alphaMap:{value:null},alphaMapTransform:{value:new ri},alphaTest:{value:0}}},Bu={basic:{uniforms:ul([Qt.common,Qt.specularmap,Qt.envmap,Qt.aomap,Qt.lightmap,Qt.fog]),vertexShader:ui.meshbasic_vert,fragmentShader:ui.meshbasic_frag},lambert:{uniforms:ul([Qt.common,Qt.specularmap,Qt.envmap,Qt.aomap,Qt.lightmap,Qt.emissivemap,Qt.bumpmap,Qt.normalmap,Qt.displacementmap,Qt.fog,Qt.lights,{emissive:{value:new rn(0)}}]),vertexShader:ui.meshlambert_vert,fragmentShader:ui.meshlambert_frag},phong:{uniforms:ul([Qt.common,Qt.specularmap,Qt.envmap,Qt.aomap,Qt.lightmap,Qt.emissivemap,Qt.bumpmap,Qt.normalmap,Qt.displacementmap,Qt.fog,Qt.lights,{emissive:{value:new rn(0)},specular:{value:new rn(1118481)},shininess:{value:30}}]),vertexShader:ui.meshphong_vert,fragmentShader:ui.meshphong_frag},standard:{uniforms:ul([Qt.common,Qt.envmap,Qt.aomap,Qt.lightmap,Qt.emissivemap,Qt.bumpmap,Qt.normalmap,Qt.displacementmap,Qt.roughnessmap,Qt.metalnessmap,Qt.fog,Qt.lights,{emissive:{value:new rn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag},toon:{uniforms:ul([Qt.common,Qt.aomap,Qt.lightmap,Qt.emissivemap,Qt.bumpmap,Qt.normalmap,Qt.displacementmap,Qt.gradientmap,Qt.fog,Qt.lights,{emissive:{value:new rn(0)}}]),vertexShader:ui.meshtoon_vert,fragmentShader:ui.meshtoon_frag},matcap:{uniforms:ul([Qt.common,Qt.bumpmap,Qt.normalmap,Qt.displacementmap,Qt.fog,{matcap:{value:null}}]),vertexShader:ui.meshmatcap_vert,fragmentShader:ui.meshmatcap_frag},points:{uniforms:ul([Qt.points,Qt.fog]),vertexShader:ui.points_vert,fragmentShader:ui.points_frag},dashed:{uniforms:ul([Qt.common,Qt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ui.linedashed_vert,fragmentShader:ui.linedashed_frag},depth:{uniforms:ul([Qt.common,Qt.displacementmap]),vertexShader:ui.depth_vert,fragmentShader:ui.depth_frag},normal:{uniforms:ul([Qt.common,Qt.bumpmap,Qt.normalmap,Qt.displacementmap,{opacity:{value:1}}]),vertexShader:ui.meshnormal_vert,fragmentShader:ui.meshnormal_frag},sprite:{uniforms:ul([Qt.sprite,Qt.fog]),vertexShader:ui.sprite_vert,fragmentShader:ui.sprite_frag},background:{uniforms:{uvTransform:{value:new ri},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ui.background_vert,fragmentShader:ui.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ri}},vertexShader:ui.backgroundCube_vert,fragmentShader:ui.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ui.cube_vert,fragmentShader:ui.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ui.equirect_vert,fragmentShader:ui.equirect_frag},distanceRGBA:{uniforms:ul([Qt.common,Qt.displacementmap,{referencePosition:{value:new ke},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ui.distanceRGBA_vert,fragmentShader:ui.distanceRGBA_frag},shadow:{uniforms:ul([Qt.lights,Qt.fog,{color:{value:new rn(0)},opacity:{value:1}}]),vertexShader:ui.shadow_vert,fragmentShader:ui.shadow_frag}};Bu.physical={uniforms:ul([Bu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ri},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ri},clearcoatNormalScale:{value:new kt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ri},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ri},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ri},sheen:{value:0},sheenColor:{value:new rn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ri},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ri},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ri},transmissionSamplerSize:{value:new kt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ri},attenuationDistance:{value:0},attenuationColor:{value:new rn(0)},specularColor:{value:new rn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ri},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ri},anisotropyVector:{value:new kt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ri}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag};const xv={r:0,b:0,g:0},Up=new Ec,OK=new Vn;function PK(i,e,t,n,a,r,o){const l=new rn(0);let u=r===!0?0:1,d,m,y=null,x=0,g=null;function _(C){let D=C.isScene===!0?C.background:null;return D&&D.isTexture&&(D=(C.backgroundBlurriness>0?t:e).get(D)),D}function S(C){let D=!1;const k=_(C);k===null?b(l,u):k&&k.isColor&&(b(k,1),D=!0);const H=i.xr.getEnvironmentBlendMode();H==="additive"?n.buffers.color.setClear(0,0,0,1,o):H==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||D)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function M(C,D){const k=_(D);k&&(k.isCubeTexture||k.mapping===yg)?(m===void 0&&(m=new Ns(new bm(1,1,1),new Cc({name:"BackgroundCubeMaterial",uniforms:ag(Bu.backgroundCube.uniforms),vertexShader:Bu.backgroundCube.vertexShader,fragmentShader:Bu.backgroundCube.fragmentShader,side:pl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(H,G,X){this.matrixWorld.copyPosition(X.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(m)),Up.copy(D.backgroundRotation),Up.x*=-1,Up.y*=-1,Up.z*=-1,k.isCubeTexture&&k.isRenderTargetTexture===!1&&(Up.y*=-1,Up.z*=-1),m.material.uniforms.envMap.value=k,m.material.uniforms.flipEnvMap.value=k.isCubeTexture&&k.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(OK.makeRotationFromEuler(Up)),m.material.toneMapped=Bi.getTransfer(k.colorSpace)!==Sa,(y!==k||x!==k.version||g!==i.toneMapping)&&(m.material.needsUpdate=!0,y=k,x=k.version,g=i.toneMapping),m.layers.enableAll(),C.unshift(m,m.geometry,m.material,0,0,null)):k&&k.isTexture&&(d===void 0&&(d=new Ns(new vg(2,2),new Cc({name:"BackgroundMaterial",uniforms:ag(Bu.background.uniforms),vertexShader:Bu.background.vertexShader,fragmentShader:Bu.background.fragmentShader,side:Rh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(d)),d.material.uniforms.t2D.value=k,d.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,d.material.toneMapped=Bi.getTransfer(k.colorSpace)!==Sa,k.matrixAutoUpdate===!0&&k.updateMatrix(),d.material.uniforms.uvTransform.value.copy(k.matrix),(y!==k||x!==k.version||g!==i.toneMapping)&&(d.material.needsUpdate=!0,y=k,x=k.version,g=i.toneMapping),d.layers.enableAll(),C.unshift(d,d.geometry,d.material,0,0,null))}function b(C,D){C.getRGB(xv,nL(i)),n.buffers.color.setClear(xv.r,xv.g,xv.b,D,o)}function E(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return l},setClearColor:function(C,D=1){l.set(C),u=D,b(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(C){u=C,b(l,u)},render:S,addToRenderList:M,dispose:E}}function kK(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},a=x(null);let r=a,o=!1;function l(z,q,I,$,U){let oe=!1;const J=y($,I,q);r!==J&&(r=J,d(r.object)),oe=g(z,$,I,U),oe&&_(z,$,I,U),U!==null&&e.update(U,i.ELEMENT_ARRAY_BUFFER),(oe||o)&&(o=!1,D(z,q,I,$),U!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(U).buffer))}function u(){return i.createVertexArray()}function d(z){return i.bindVertexArray(z)}function m(z){return i.deleteVertexArray(z)}function y(z,q,I){const $=I.wireframe===!0;let U=n[z.id];U===void 0&&(U={},n[z.id]=U);let oe=U[q.id];oe===void 0&&(oe={},U[q.id]=oe);let J=oe[$];return J===void 0&&(J=x(u()),oe[$]=J),J}function x(z){const q=[],I=[],$=[];for(let U=0;U<t;U++)q[U]=0,I[U]=0,$[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:I,attributeDivisors:$,object:z,attributes:{},index:null}}function g(z,q,I,$){const U=r.attributes,oe=q.attributes;let J=0;const ae=I.getAttributes();for(const te in ae)if(ae[te].location>=0){const Me=U[te];let Z=oe[te];if(Z===void 0&&(te==="instanceMatrix"&&z.instanceMatrix&&(Z=z.instanceMatrix),te==="instanceColor"&&z.instanceColor&&(Z=z.instanceColor)),Me===void 0||Me.attribute!==Z||Z&&Me.data!==Z.data)return!0;J++}return r.attributesNum!==J||r.index!==$}function _(z,q,I,$){const U={},oe=q.attributes;let J=0;const ae=I.getAttributes();for(const te in ae)if(ae[te].location>=0){let Me=oe[te];Me===void 0&&(te==="instanceMatrix"&&z.instanceMatrix&&(Me=z.instanceMatrix),te==="instanceColor"&&z.instanceColor&&(Me=z.instanceColor));const Z={};Z.attribute=Me,Me&&Me.data&&(Z.data=Me.data),U[te]=Z,J++}r.attributes=U,r.attributesNum=J,r.index=$}function S(){const z=r.newAttributes;for(let q=0,I=z.length;q<I;q++)z[q]=0}function M(z){b(z,0)}function b(z,q){const I=r.newAttributes,$=r.enabledAttributes,U=r.attributeDivisors;I[z]=1,$[z]===0&&(i.enableVertexAttribArray(z),$[z]=1),U[z]!==q&&(i.vertexAttribDivisor(z,q),U[z]=q)}function E(){const z=r.newAttributes,q=r.enabledAttributes;for(let I=0,$=q.length;I<$;I++)q[I]!==z[I]&&(i.disableVertexAttribArray(I),q[I]=0)}function C(z,q,I,$,U,oe,J){J===!0?i.vertexAttribIPointer(z,q,I,U,oe):i.vertexAttribPointer(z,q,I,$,U,oe)}function D(z,q,I,$){S();const U=$.attributes,oe=I.getAttributes(),J=q.defaultAttributeValues;for(const ae in oe){const te=oe[ae];if(te.location>=0){let le=U[ae];if(le===void 0&&(ae==="instanceMatrix"&&z.instanceMatrix&&(le=z.instanceMatrix),ae==="instanceColor"&&z.instanceColor&&(le=z.instanceColor)),le!==void 0){const Me=le.normalized,Z=le.itemSize,V=e.get(le);if(V===void 0)continue;const re=V.buffer,ce=V.type,pe=V.bytesPerElement,me=ce===i.INT||ce===i.UNSIGNED_INT||le.gpuType===cb;if(le.isInterleavedBufferAttribute){const Ee=le.data,Ue=Ee.stride,ze=le.offset;if(Ee.isInstancedInterleavedBuffer){for(let We=0;We<te.locationSize;We++)b(te.location+We,Ee.meshPerAttribute);z.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let We=0;We<te.locationSize;We++)M(te.location+We);i.bindBuffer(i.ARRAY_BUFFER,re);for(let We=0;We<te.locationSize;We++)C(te.location+We,Z/te.locationSize,ce,Me,Ue*pe,(ze+Z/te.locationSize*We)*pe,me)}else{if(le.isInstancedBufferAttribute){for(let Ee=0;Ee<te.locationSize;Ee++)b(te.location+Ee,le.meshPerAttribute);z.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Ee=0;Ee<te.locationSize;Ee++)M(te.location+Ee);i.bindBuffer(i.ARRAY_BUFFER,re);for(let Ee=0;Ee<te.locationSize;Ee++)C(te.location+Ee,Z/te.locationSize,ce,Me,Z*pe,Z/te.locationSize*Ee*pe,me)}}else if(J!==void 0){const Me=J[ae];if(Me!==void 0)switch(Me.length){case 2:i.vertexAttrib2fv(te.location,Me);break;case 3:i.vertexAttrib3fv(te.location,Me);break;case 4:i.vertexAttrib4fv(te.location,Me);break;default:i.vertexAttrib1fv(te.location,Me)}}}}E()}function k(){X();for(const z in n){const q=n[z];for(const I in q){const $=q[I];for(const U in $)m($[U].object),delete $[U];delete q[I]}delete n[z]}}function H(z){if(n[z.id]===void 0)return;const q=n[z.id];for(const I in q){const $=q[I];for(const U in $)m($[U].object),delete $[U];delete q[I]}delete n[z.id]}function G(z){for(const q in n){const I=n[q];if(I[z.id]===void 0)continue;const $=I[z.id];for(const U in $)m($[U].object),delete $[U];delete I[z.id]}}function X(){O(),o=!0,r!==a&&(r=a,d(r.object))}function O(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:l,reset:X,resetDefaultState:O,dispose:k,releaseStatesOfGeometry:H,releaseStatesOfProgram:G,initAttributes:S,enableAttribute:M,disableUnusedAttributes:E}}function IK(i,e,t){let n;function a(d){n=d}function r(d,m){i.drawArrays(n,d,m),t.update(m,n,1)}function o(d,m,y){y!==0&&(i.drawArraysInstanced(n,d,m,y),t.update(m,n,y))}function l(d,m,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,d,0,m,0,y);let g=0;for(let _=0;_<y;_++)g+=m[_];t.update(g,n,1)}function u(d,m,y,x){if(y===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let _=0;_<d.length;_++)o(d[_],m[_],x[_]);else{g.multiDrawArraysInstancedWEBGL(n,d,0,m,0,x,0,y);let _=0;for(let S=0;S<y;S++)_+=m[S]*x[S];t.update(_,n,1)}}this.setMode=a,this.render=r,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function UK(i,e,t,n){let a;function r(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const G=e.get("EXT_texture_filter_anisotropic");a=i.getParameter(G.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(G){return!(G!==zo&&n.convert(G)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(G){const X=G===xm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(G!==au&&n.convert(G)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&G!==$l&&!X)}function u(G){if(G==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";G="mediump"}return G==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=t.precision!==void 0?t.precision:"highp";const m=u(d);m!==d&&(en("WebGLRenderer:",d,"not supported, using",m,"instead."),d=m);const y=t.logarithmicDepthBuffer===!0,x=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),g=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),_=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=i.getParameter(i.MAX_TEXTURE_SIZE),M=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),b=i.getParameter(i.MAX_VERTEX_ATTRIBS),E=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),C=i.getParameter(i.MAX_VARYING_VECTORS),D=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),k=_>0,H=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:u,textureFormatReadable:o,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:y,reversedDepthBuffer:x,maxTextures:g,maxVertexTextures:_,maxTextureSize:S,maxCubemapSize:M,maxAttributes:b,maxVertexUniforms:E,maxVaryings:C,maxFragmentUniforms:D,vertexTextures:k,maxSamples:H}}function zK(i){const e=this;let t=null,n=0,a=!1,r=!1;const o=new _h,l=new ri,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(y,x){const g=y.length!==0||x||n!==0||a;return a=x,n=y.length,g},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(y,x){t=m(y,x,0)},this.setState=function(y,x,g){const _=y.clippingPlanes,S=y.clipIntersection,M=y.clipShadows,b=i.get(y);if(!a||_===null||_.length===0||r&&!M)r?m(null):d();else{const E=r?0:n,C=E*4;let D=b.clippingState||null;u.value=D,D=m(_,x,C,g);for(let k=0;k!==C;++k)D[k]=t[k];b.clippingState=D,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=E}};function d(){u.value!==t&&(u.value=t,u.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(y,x,g,_){const S=y!==null?y.length:0;let M=null;if(S!==0){if(M=u.value,_!==!0||M===null){const b=g+S*4,E=x.matrixWorldInverse;l.getNormalMatrix(E),(M===null||M.length<b)&&(M=new Float32Array(b));for(let C=0,D=g;C!==S;++C,D+=4)o.copy(y[C]).applyMatrix4(E,l),o.normal.toArray(M,D),M[D+3]=o.constant}u.value=M,u.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,M}}function BK(i){let e=new WeakMap;function t(o,l){return l===$1?o.mapping=Lh:l===K1&&(o.mapping=Hf),o}function n(o){if(o&&o.isTexture){const l=o.mapping;if(l===$1||l===K1)if(e.has(o)){const u=e.get(o).texture;return t(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const d=new rL(u.height);return d.fromEquirectangularTexture(i,o),e.set(o,d),o.addEventListener("dispose",a),t(d.texture,o.mapping)}else return null}}return o}function a(o){const l=o.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function r(){e=new WeakMap}return{get:n,dispose:r}}const Lf=4,dC=[.125,.215,.35,.446,.526,.582],Xp=20,jK=256,y1=new kf,hC=new rn;let e_=null,t_=0,n_=0,i_=!1;const FK=new ke;class fw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,a=100,r={}){const{size:o=256,position:l=FK}=r;e_=this._renderer.getRenderTarget(),t_=this._renderer.getActiveCubeFace(),n_=this._renderer.getActiveMipmapLevel(),i_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,n,a,u,l),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=mC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=pC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(e_,t_,n_),this._renderer.xr.enabled=i_,e.scissorTest=!1,v0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Lh||e.mapping===Hf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),e_=this._renderer.getRenderTarget(),t_=this._renderer.getActiveCubeFace(),n_=this._renderer.getActiveMipmapLevel(),i_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ss,minFilter:ss,generateMipmaps:!1,type:xm,format:zo,colorSpace:qf,depthBuffer:!1},a=fC(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=fC(e,t,n);const{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=VK(r)),this._blurMaterial=qK(r,e,t),this._ggxMaterial=HK(r,e,t)}return a}_compileMaterial(e){const t=new Ns(new si,e);this._renderer.compile(t,y1)}_sceneToCubeUV(e,t,n,a,r){const u=new rs(90,1,t,n),d=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],y=this._renderer,x=y.autoClear,g=y.toneMapping;y.getClearColor(hC),y.toneMapping=Cd,y.autoClear=!1,y.state.buffers.depth.getReversed()&&(y.setRenderTarget(a),y.clearDepth(),y.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Ns(new bm,new $f({name:"PMREM.Background",side:pl,depthWrite:!1,depthTest:!1})));const S=this._backgroundBox,M=S.material;let b=!1;const E=e.background;E?E.isColor&&(M.color.copy(E),e.background=null,b=!0):(M.color.copy(hC),b=!0);for(let C=0;C<6;C++){const D=C%3;D===0?(u.up.set(0,d[C],0),u.position.set(r.x,r.y,r.z),u.lookAt(r.x+m[C],r.y,r.z)):D===1?(u.up.set(0,0,d[C]),u.position.set(r.x,r.y,r.z),u.lookAt(r.x,r.y+m[C],r.z)):(u.up.set(0,d[C],0),u.position.set(r.x,r.y,r.z),u.lookAt(r.x,r.y,r.z+m[C]));const k=this._cubeSize;v0(a,D*k,C>2?k:0,k,k),y.setRenderTarget(a),b&&y.render(S,u),y.render(e,u)}y.toneMapping=g,y.autoClear=x,e.background=E}_textureToCubeUV(e,t){const n=this._renderer,a=e.mapping===Lh||e.mapping===Hf;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=mC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=pC());const r=a?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=r;const l=r.uniforms;l.envMap.value=e;const u=this._cubeSize;v0(t,0,0,3*u,2*u),n.setRenderTarget(t),n.render(o,y1)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const a=this._lodMeshes.length;for(let r=1;r<a;r++)this._applyGGXFilter(e,r-1,r);t.autoClear=n}_applyGGXFilter(e,t,n){const a=this._renderer,r=this._pingPongRenderTarget,o=this._ggxMaterial,l=this._lodMeshes[n];l.material=o;const u=o.uniforms,d=n/(this._lodMeshes.length-1),m=t/(this._lodMeshes.length-1),y=Math.sqrt(d*d-m*m),x=.05+d*.95,g=y*x,{_lodMax:_}=this,S=this._sizeLods[n],M=3*S*(n>_-Lf?n-_+Lf:0),b=4*(this._cubeSize-S);u.envMap.value=e.texture,u.roughness.value=g,u.mipInt.value=_-t,v0(r,M,b,3*S,2*S),a.setRenderTarget(r),a.render(l,y1),u.envMap.value=r.texture,u.roughness.value=0,u.mipInt.value=_-n,v0(e,M,b,3*S,2*S),a.setRenderTarget(e),a.render(l,y1)}_blur(e,t,n,a,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,a,"latitudinal",r),this._halfBlur(o,e,n,n,a,"longitudinal",r)}_halfBlur(e,t,n,a,r,o,l){const u=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&Wn("blur direction must be either latitudinal or longitudinal!");const m=3,y=this._lodMeshes[a];y.material=d;const x=d.uniforms,g=this._sizeLods[n]-1,_=isFinite(r)?Math.PI/(2*g):2*Math.PI/(2*Xp-1),S=r/_,M=isFinite(r)?1+Math.floor(m*S):Xp;M>Xp&&en(`sigmaRadians, ${r}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${Xp}`);const b=[];let E=0;for(let G=0;G<Xp;++G){const X=G/S,O=Math.exp(-X*X/2);b.push(O),G===0?E+=O:G<M&&(E+=2*O)}for(let G=0;G<b.length;G++)b[G]=b[G]/E;x.envMap.value=e.texture,x.samples.value=M,x.weights.value=b,x.latitudinal.value=o==="latitudinal",l&&(x.poleAxis.value=l);const{_lodMax:C}=this;x.dTheta.value=_,x.mipInt.value=C-n;const D=this._sizeLods[a],k=3*D*(a>C-Lf?a-C+Lf:0),H=4*(this._cubeSize-D);v0(t,k,H,3*D,2*D),u.setRenderTarget(t),u.render(y,y1)}}function VK(i){const e=[],t=[],n=[];let a=i;const r=i-Lf+1+dC.length;for(let o=0;o<r;o++){const l=Math.pow(2,a);e.push(l);let u=1/l;o>i-Lf?u=dC[o-i+Lf-1]:o===0&&(u=0),t.push(u);const d=1/(l-2),m=-d,y=1+d,x=[m,m,y,m,y,y,m,m,y,y,m,y],g=6,_=6,S=3,M=2,b=1,E=new Float32Array(S*_*g),C=new Float32Array(M*_*g),D=new Float32Array(b*_*g);for(let H=0;H<g;H++){const G=H%3*2/3-1,X=H>2?0:-1,O=[G,X,0,G+2/3,X,0,G+2/3,X+1,0,G,X,0,G+2/3,X+1,0,G,X+1,0];E.set(O,S*_*H),C.set(x,M*_*H);const z=[H,H,H,H,H,H];D.set(z,b*_*H)}const k=new si;k.setAttribute("position",new Oa(E,S)),k.setAttribute("uv",new Oa(C,M)),k.setAttribute("faceIndex",new Oa(D,b)),n.push(new Ns(k,null)),a>Lf&&a--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function fC(i,e,t){const n=new Nd(i,e,t);return n.texture.mapping=yg,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function v0(i,e,t,n,a){i.viewport.set(e,t,n,a),i.scissor.set(e,t,n,a)}function HK(i,e,t){return new Cc({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:jK,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:jb(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Ed,depthTest:!1,depthWrite:!1})}function qK(i,e,t){const n=new Float32Array(Xp),a=new ke(0,1,0);return new Cc({name:"SphericalGaussianBlur",defines:{n:Xp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ed,depthTest:!1,depthWrite:!1})}function pC(){return new Cc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ed,depthTest:!1,depthWrite:!1})}function mC(){return new Cc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ed,depthTest:!1,depthWrite:!1})}function jb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function GK(i){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const u=l.mapping,d=u===$1||u===K1,m=u===Lh||u===Hf;if(d||m){let y=e.get(l);const x=y!==void 0?y.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==x)return t===null&&(t=new fw(i)),y=d?t.fromEquirectangular(l,y):t.fromCubemap(l,y),y.texture.pmremVersion=l.pmremVersion,e.set(l,y),y.texture;if(y!==void 0)return y.texture;{const g=l.image;return d&&g&&g.height>0||m&&g&&a(g)?(t===null&&(t=new fw(i)),y=d?t.fromEquirectangular(l):t.fromCubemap(l),y.texture.pmremVersion=l.pmremVersion,e.set(l,y),l.addEventListener("dispose",r),y.texture):null}}}return l}function a(l){let u=0;const d=6;for(let m=0;m<d;m++)l[m]!==void 0&&u++;return u===d}function r(l){const u=l.target;u.removeEventListener("dispose",r);const d=e.get(u);d!==void 0&&(e.delete(u),d.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function WK(i){const e={};function t(n){if(e[n]!==void 0)return e[n];const a=i.getExtension(n);return e[n]=a,a}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const a=t(n);return a===null&&tg("WebGLRenderer: "+n+" extension not supported."),a}}}function XK(i,e,t,n){const a={},r=new WeakMap;function o(y){const x=y.target;x.index!==null&&e.remove(x.index);for(const _ in x.attributes)e.remove(x.attributes[_]);x.removeEventListener("dispose",o),delete a[x.id];const g=r.get(x);g&&(e.remove(g),r.delete(x)),n.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,t.memory.geometries--}function l(y,x){return a[x.id]===!0||(x.addEventListener("dispose",o),a[x.id]=!0,t.memory.geometries++),x}function u(y){const x=y.attributes;for(const g in x)e.update(x[g],i.ARRAY_BUFFER)}function d(y){const x=[],g=y.index,_=y.attributes.position;let S=0;if(g!==null){const E=g.array;S=g.version;for(let C=0,D=E.length;C<D;C+=3){const k=E[C+0],H=E[C+1],G=E[C+2];x.push(k,H,H,G,G,k)}}else if(_!==void 0){const E=_.array;S=_.version;for(let C=0,D=E.length/3-1;C<D;C+=3){const k=C+0,H=C+1,G=C+2;x.push(k,H,H,G,G,k)}}else return;const M=new(JR(x)?TS:MS)(x,1);M.version=S;const b=r.get(y);b&&e.remove(b),r.set(y,M)}function m(y){const x=r.get(y);if(x){const g=y.index;g!==null&&x.version<g.version&&d(y)}else d(y);return r.get(y)}return{get:l,update:u,getWireframeAttribute:m}}function YK(i,e,t){let n;function a(x){n=x}let r,o;function l(x){r=x.type,o=x.bytesPerElement}function u(x,g){i.drawElements(n,g,r,x*o),t.update(g,n,1)}function d(x,g,_){_!==0&&(i.drawElementsInstanced(n,g,r,x*o,_),t.update(g,n,_))}function m(x,g,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,g,0,r,x,0,_);let M=0;for(let b=0;b<_;b++)M+=g[b];t.update(M,n,1)}function y(x,g,_,S){if(_===0)return;const M=e.get("WEBGL_multi_draw");if(M===null)for(let b=0;b<x.length;b++)d(x[b]/o,g[b],S[b]);else{M.multiDrawElementsInstancedWEBGL(n,g,0,r,x,0,S,0,_);let b=0;for(let E=0;E<_;E++)b+=g[E]*S[E];t.update(b,n,1)}}this.setMode=a,this.setIndex=l,this.render=u,this.renderInstances=d,this.renderMultiDraw=m,this.renderMultiDrawInstances=y}function $K(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(r,o,l){switch(t.calls++,o){case i.TRIANGLES:t.triangles+=l*(r/3);break;case i.LINES:t.lines+=l*(r/2);break;case i.LINE_STRIP:t.lines+=l*(r-1);break;case i.LINE_LOOP:t.lines+=l*r;break;case i.POINTS:t.points+=l*r;break;default:Wn("WebGLInfo: Unknown draw mode:",o);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:n}}function KK(i,e,t){const n=new WeakMap,a=new Yi;function r(o,l,u){const d=o.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,y=m!==void 0?m.length:0;let x=n.get(l);if(x===void 0||x.count!==y){let O=function(){G.dispose(),n.delete(l),l.removeEventListener("dispose",O)};x!==void 0&&x.texture.dispose();const g=l.morphAttributes.position!==void 0,_=l.morphAttributes.normal!==void 0,S=l.morphAttributes.color!==void 0,M=l.morphAttributes.position||[],b=l.morphAttributes.normal||[],E=l.morphAttributes.color||[];let C=0;g===!0&&(C=1),_===!0&&(C=2),S===!0&&(C=3);let D=l.attributes.position.count*C,k=1;D>e.maxTextureSize&&(k=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const H=new Float32Array(D*k*4*y),G=new yb(H,D,k,y);G.type=$l,G.needsUpdate=!0;const X=C*4;for(let z=0;z<y;z++){const q=M[z],I=b[z],$=E[z],U=D*k*4*z;for(let oe=0;oe<q.count;oe++){const J=oe*X;g===!0&&(a.fromBufferAttribute(q,oe),H[U+J+0]=a.x,H[U+J+1]=a.y,H[U+J+2]=a.z,H[U+J+3]=0),_===!0&&(a.fromBufferAttribute(I,oe),H[U+J+4]=a.x,H[U+J+5]=a.y,H[U+J+6]=a.z,H[U+J+7]=0),S===!0&&(a.fromBufferAttribute($,oe),H[U+J+8]=a.x,H[U+J+9]=a.y,H[U+J+10]=a.z,H[U+J+11]=$.itemSize===4?a.w:1)}}x={count:y,texture:G,size:new kt(D,k)},n.set(l,x),l.addEventListener("dispose",O)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)u.getUniforms().setValue(i,"morphTexture",o.morphTexture,t);else{let g=0;for(let S=0;S<d.length;S++)g+=d[S];const _=l.morphTargetsRelative?1:1-g;u.getUniforms().setValue(i,"morphTargetBaseInfluence",_),u.getUniforms().setValue(i,"morphTargetInfluences",d)}u.getUniforms().setValue(i,"morphTargetsTexture",x.texture,t),u.getUniforms().setValue(i,"morphTargetsTextureSize",x.size)}return{update:r}}function ZK(i,e,t,n){let a=new WeakMap;function r(u){const d=n.render.frame,m=u.geometry,y=e.get(u,m);if(a.get(y)!==d&&(e.update(y),a.set(y,d)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),a.get(u)!==d&&(t.update(u.instanceMatrix,i.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,i.ARRAY_BUFFER),a.set(u,d))),u.isSkinnedMesh){const x=u.skeleton;a.get(x)!==d&&(x.update(),a.set(x,d))}return y}function o(){a=new WeakMap}function l(u){const d=u.target;d.removeEventListener("dispose",l),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:r,dispose:o}}const a7=new Vr,gC=new LS(1,1),r7=new yb,s7=new xb,o7=new My,yC=[],xC=[],vC=new Float32Array(16),bC=new Float32Array(9),_C=new Float32Array(4);function bg(i,e,t){const n=i[0];if(n<=0||n>0)return i;const a=e*t;let r=yC[a];if(r===void 0&&(r=new Float32Array(a),yC[a]=r),e!==0){n.toArray(r,0);for(let o=1,l=0;o!==e;++o)l+=t,i[o].toArray(r,l)}return r}function Rs(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Ls(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Fb(i,e){let t=xC[e];t===void 0&&(t=new Int32Array(e),xC[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function JK(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function QK(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Rs(t,e))return;i.uniform2fv(this.addr,e),Ls(t,e)}}function eZ(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Rs(t,e))return;i.uniform3fv(this.addr,e),Ls(t,e)}}function tZ(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Rs(t,e))return;i.uniform4fv(this.addr,e),Ls(t,e)}}function nZ(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Rs(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Ls(t,e)}else{if(Rs(t,n))return;_C.set(n),i.uniformMatrix2fv(this.addr,!1,_C),Ls(t,n)}}function iZ(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Rs(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Ls(t,e)}else{if(Rs(t,n))return;bC.set(n),i.uniformMatrix3fv(this.addr,!1,bC),Ls(t,n)}}function aZ(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Rs(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Ls(t,e)}else{if(Rs(t,n))return;vC.set(n),i.uniformMatrix4fv(this.addr,!1,vC),Ls(t,n)}}function rZ(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function sZ(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Rs(t,e))return;i.uniform2iv(this.addr,e),Ls(t,e)}}function oZ(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Rs(t,e))return;i.uniform3iv(this.addr,e),Ls(t,e)}}function lZ(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Rs(t,e))return;i.uniform4iv(this.addr,e),Ls(t,e)}}function cZ(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function uZ(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Rs(t,e))return;i.uniform2uiv(this.addr,e),Ls(t,e)}}function dZ(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Rs(t,e))return;i.uniform3uiv(this.addr,e),Ls(t,e)}}function hZ(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Rs(t,e))return;i.uniform4uiv(this.addr,e),Ls(t,e)}}function fZ(i,e,t){const n=this.cache,a=t.allocateTextureUnit();n[0]!==a&&(i.uniform1i(this.addr,a),n[0]=a);let r;this.type===i.SAMPLER_2D_SHADOW?(gC.compareFunction=wS,r=gC):r=a7,t.setTexture2D(e||r,a)}function pZ(i,e,t){const n=this.cache,a=t.allocateTextureUnit();n[0]!==a&&(i.uniform1i(this.addr,a),n[0]=a),t.setTexture3D(e||s7,a)}function mZ(i,e,t){const n=this.cache,a=t.allocateTextureUnit();n[0]!==a&&(i.uniform1i(this.addr,a),n[0]=a),t.setTextureCube(e||o7,a)}function gZ(i,e,t){const n=this.cache,a=t.allocateTextureUnit();n[0]!==a&&(i.uniform1i(this.addr,a),n[0]=a),t.setTexture2DArray(e||r7,a)}function yZ(i){switch(i){case 5126:return JK;case 35664:return QK;case 35665:return eZ;case 35666:return tZ;case 35674:return nZ;case 35675:return iZ;case 35676:return aZ;case 5124:case 35670:return rZ;case 35667:case 35671:return sZ;case 35668:case 35672:return oZ;case 35669:case 35673:return lZ;case 5125:return cZ;case 36294:return uZ;case 36295:return dZ;case 36296:return hZ;case 35678:case 36198:case 36298:case 36306:case 35682:return fZ;case 35679:case 36299:case 36307:return pZ;case 35680:case 36300:case 36308:case 36293:return mZ;case 36289:case 36303:case 36311:case 36292:return gZ}}function xZ(i,e){i.uniform1fv(this.addr,e)}function vZ(i,e){const t=bg(e,this.size,2);i.uniform2fv(this.addr,t)}function bZ(i,e){const t=bg(e,this.size,3);i.uniform3fv(this.addr,t)}function _Z(i,e){const t=bg(e,this.size,4);i.uniform4fv(this.addr,t)}function wZ(i,e){const t=bg(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function SZ(i,e){const t=bg(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function AZ(i,e){const t=bg(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function MZ(i,e){i.uniform1iv(this.addr,e)}function TZ(i,e){i.uniform2iv(this.addr,e)}function EZ(i,e){i.uniform3iv(this.addr,e)}function CZ(i,e){i.uniform4iv(this.addr,e)}function NZ(i,e){i.uniform1uiv(this.addr,e)}function RZ(i,e){i.uniform2uiv(this.addr,e)}function LZ(i,e){i.uniform3uiv(this.addr,e)}function DZ(i,e){i.uniform4uiv(this.addr,e)}function OZ(i,e,t){const n=this.cache,a=e.length,r=Fb(t,a);Rs(n,r)||(i.uniform1iv(this.addr,r),Ls(n,r));for(let o=0;o!==a;++o)t.setTexture2D(e[o]||a7,r[o])}function PZ(i,e,t){const n=this.cache,a=e.length,r=Fb(t,a);Rs(n,r)||(i.uniform1iv(this.addr,r),Ls(n,r));for(let o=0;o!==a;++o)t.setTexture3D(e[o]||s7,r[o])}function kZ(i,e,t){const n=this.cache,a=e.length,r=Fb(t,a);Rs(n,r)||(i.uniform1iv(this.addr,r),Ls(n,r));for(let o=0;o!==a;++o)t.setTextureCube(e[o]||o7,r[o])}function IZ(i,e,t){const n=this.cache,a=e.length,r=Fb(t,a);Rs(n,r)||(i.uniform1iv(this.addr,r),Ls(n,r));for(let o=0;o!==a;++o)t.setTexture2DArray(e[o]||r7,r[o])}function UZ(i){switch(i){case 5126:return xZ;case 35664:return vZ;case 35665:return bZ;case 35666:return _Z;case 35674:return wZ;case 35675:return SZ;case 35676:return AZ;case 5124:case 35670:return MZ;case 35667:case 35671:return TZ;case 35668:case 35672:return EZ;case 35669:case 35673:return CZ;case 5125:return NZ;case 36294:return RZ;case 36295:return LZ;case 36296:return DZ;case 35678:case 36198:case 36298:case 36306:case 35682:return OZ;case 35679:case 36299:case 36307:return PZ;case 35680:case 36300:case 36308:case 36293:return kZ;case 36289:case 36303:case 36311:case 36292:return IZ}}class zZ{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=yZ(t.type)}}class BZ{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=UZ(t.type)}}class jZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const a=this.seq;for(let r=0,o=a.length;r!==o;++r){const l=a[r];l.setValue(e,t[l.id],n)}}}const a_=/(\w+)(\])?(\[|\.)?/g;function wC(i,e){i.seq.push(e),i.map[e.id]=e}function FZ(i,e,t){const n=i.name,a=n.length;for(a_.lastIndex=0;;){const r=a_.exec(n),o=a_.lastIndex;let l=r[1];const u=r[2]==="]",d=r[3];if(u&&(l=l|0),d===void 0||d==="["&&o+2===a){wC(t,d===void 0?new zZ(l,i,e):new BZ(l,i,e));break}else{let y=t.map[l];y===void 0&&(y=new jZ(l),wC(t,y)),t=y}}}class Uv{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<n;++a){const r=e.getActiveUniform(t,a),o=e.getUniformLocation(t,r.name);FZ(r,o,this)}}setValue(e,t,n,a){const r=this.map[t];r!==void 0&&r.setValue(e,n,a)}setOptional(e,t,n){const a=t[n];a!==void 0&&this.setValue(e,n,a)}static upload(e,t,n,a){for(let r=0,o=t.length;r!==o;++r){const l=t[r],u=n[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,a)}}static seqWithValue(e,t){const n=[];for(let a=0,r=e.length;a!==r;++a){const o=e[a];o.id in t&&n.push(o)}return n}}function SC(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const VZ=37297;let HZ=0;function qZ(i,e){const t=i.split(`
`),n=[],a=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let o=a;o<r;o++){const l=o+1;n.push(`${l===e?">":" "} ${l}: ${t[o]}`)}return n.join(`
`)}const AC=new ri;function GZ(i){Bi._getMatrix(AC,Bi.workingColorSpace,i);const e=`mat3( ${AC.elements.map(t=>t.toFixed(4))} )`;switch(Bi.getTransfer(i)){case ty:return[e,"LinearTransferOETF"];case Sa:return[e,"sRGBTransferOETF"];default:return en("WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function MC(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),r=(i.getShaderInfoLog(e)||"").trim();if(n&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const l=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+qZ(i.getShaderSource(e),l)}else return r}function WZ(i,e){const t=GZ(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function XZ(i,e){let t;switch(e){case DR:t="Linear";break;case OR:t="Reinhard";break;case PR:t="Cineon";break;case fS:t="ACESFilmic";break;case IR:t="AgX";break;case UR:t="Neutral";break;case kR:t="Custom";break;default:en("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const vv=new ke;function YZ(){Bi.getLuminanceCoefficients(vv);const i=vv.x.toFixed(4),e=vv.y.toFixed(4),t=vv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function $Z(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(w1).join(`
`)}function KZ(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function ZZ(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let a=0;a<n;a++){const r=i.getActiveAttrib(e,a),o=r.name;let l=1;r.type===i.FLOAT_MAT2&&(l=2),r.type===i.FLOAT_MAT3&&(l=3),r.type===i.FLOAT_MAT4&&(l=4),t[o]={type:r.type,location:i.getAttribLocation(e,o),locationSize:l}}return t}function w1(i){return i!==""}function TC(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function EC(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const JZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function pw(i){return i.replace(JZ,eJ)}const QZ=new Map;function eJ(i,e){let t=ui[e];if(t===void 0){const n=QZ.get(e);if(n!==void 0)t=ui[n],en('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return pw(t)}const tJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function CC(i){return i.replace(tJ,nJ)}function nJ(i,e,t,n){let a="";for(let r=parseInt(e);r<parseInt(t);r++)a+=n.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return a}function NC(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function iJ(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===ob?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===R1?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===zu&&(e="SHADOWMAP_TYPE_VSM"),e}function aJ(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Lh:case Hf:e="ENVMAP_TYPE_CUBE";break;case yg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function rJ(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case Hf:e="ENVMAP_MODE_REFRACTION";break}return e}function sJ(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case Sy:e="ENVMAP_BLENDING_MULTIPLY";break;case RR:e="ENVMAP_BLENDING_MIX";break;case LR:e="ENVMAP_BLENDING_ADD";break}return e}function oJ(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function lJ(i,e,t,n){const a=i.getContext(),r=t.defines;let o=t.vertexShader,l=t.fragmentShader;const u=iJ(t),d=aJ(t),m=rJ(t),y=sJ(t),x=oJ(t),g=$Z(t),_=KZ(r),S=a.createProgram();let M,b,E=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(w1).join(`
`),M.length>0&&(M+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(w1).join(`
`),b.length>0&&(b+=`
`)):(M=[NC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(w1).join(`
`),b=[NC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",t.envMap?"#define "+y:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Cd?"#define TONE_MAPPING":"",t.toneMapping!==Cd?ui.tonemapping_pars_fragment:"",t.toneMapping!==Cd?XZ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ui.colorspace_pars_fragment,WZ("linearToOutputTexel",t.outputColorSpace),YZ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(w1).join(`
`)),o=pw(o),o=TC(o,t),o=EC(o,t),l=pw(l),l=TC(l,t),l=EC(l,t),o=CC(o),l=CC(l),t.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,M=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,b=["#define varying in",t.glslVersion===rw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===rw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const C=E+M+o,D=E+b+l,k=SC(a,a.VERTEX_SHADER,C),H=SC(a,a.FRAGMENT_SHADER,D);a.attachShader(S,k),a.attachShader(S,H),t.index0AttributeName!==void 0?a.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(S,0,"position"),a.linkProgram(S);function G(q){if(i.debug.checkShaderErrors){const I=a.getProgramInfoLog(S)||"",$=a.getShaderInfoLog(k)||"",U=a.getShaderInfoLog(H)||"",oe=I.trim(),J=$.trim(),ae=U.trim();let te=!0,le=!0;if(a.getProgramParameter(S,a.LINK_STATUS)===!1)if(te=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(a,S,k,H);else{const Me=MC(a,k,"vertex"),Z=MC(a,H,"fragment");Wn("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(S,a.VALIDATE_STATUS)+`

Material Name: `+q.name+`
Material Type: `+q.type+`

Program Info Log: `+oe+`
`+Me+`
`+Z)}else oe!==""?en("WebGLProgram: Program Info Log:",oe):(J===""||ae==="")&&(le=!1);le&&(q.diagnostics={runnable:te,programLog:oe,vertexShader:{log:J,prefix:M},fragmentShader:{log:ae,prefix:b}})}a.deleteShader(k),a.deleteShader(H),X=new Uv(a,S),O=ZZ(a,S)}let X;this.getUniforms=function(){return X===void 0&&G(this),X};let O;this.getAttributes=function(){return O===void 0&&G(this),O};let z=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=a.getProgramParameter(S,VZ)),z},this.destroy=function(){n.releaseStatesOfProgram(this),a.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=HZ++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=k,this.fragmentShader=H,this}let cJ=0;class uJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,a=this._getShaderStage(t),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new dJ(e),t.set(e,n)),n}}class dJ{constructor(e){this.id=cJ++,this.code=e,this.usedTimes=0}}function hJ(i,e,t,n,a,r,o){const l=new ig,u=new uJ,d=new Set,m=[],y=a.logarithmicDepthBuffer,x=a.vertexTextures;let g=a.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(O){return d.add(O),O===0?"uv":`uv${O}`}function M(O,z,q,I,$){const U=I.fog,oe=$.geometry,J=O.isMeshStandardMaterial?I.environment:null,ae=(O.isMeshStandardMaterial?t:e).get(O.envMap||J),te=ae&&ae.mapping===yg?ae.image.height:null,le=_[O.type];O.precision!==null&&(g=a.getMaxPrecision(O.precision),g!==O.precision&&en("WebGLProgram.getParameters:",O.precision,"not supported, using",g,"instead."));const Me=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,Z=Me!==void 0?Me.length:0;let V=0;oe.morphAttributes.position!==void 0&&(V=1),oe.morphAttributes.normal!==void 0&&(V=2),oe.morphAttributes.color!==void 0&&(V=3);let re,ce,pe,me;if(le){const xn=Bu[le];re=xn.vertexShader,ce=xn.fragmentShader}else re=O.vertexShader,ce=O.fragmentShader,u.update(O),pe=u.getVertexShaderID(O),me=u.getFragmentShaderID(O);const Ee=i.getRenderTarget(),Ue=i.state.buffers.depth.getReversed(),ze=$.isInstancedMesh===!0,We=$.isBatchedMesh===!0,at=!!O.map,Ct=!!O.matcap,gt=!!ae,W=!!O.aoMap,j=!!O.lightMap,xe=!!O.bumpMap,de=!!O.normalMap,ue=!!O.displacementMap,ie=!!O.emissiveMap,Re=!!O.metalnessMap,Pe=!!O.roughnessMap,ge=O.anisotropy>0,se=O.clearcoat>0,ee=O.dispersion>0,Ae=O.iridescence>0,je=O.sheen>0,Ge=O.transmission>0,Be=ge&&!!O.anisotropyMap,mt=se&&!!O.clearcoatMap,yt=se&&!!O.clearcoatNormalMap,Mt=se&&!!O.clearcoatRoughnessMap,jt=Ae&&!!O.iridescenceMap,Ke=Ae&&!!O.iridescenceThicknessMap,st=je&&!!O.sheenColorMap,Dt=je&&!!O.sheenRoughnessMap,De=!!O.specularMap,qe=!!O.specularColorMap,St=!!O.specularIntensityMap,Ne=Ge&&!!O.transmissionMap,xt=Ge&&!!O.thicknessMap,Tt=!!O.gradientMap,bt=!!O.alphaMap,ot=O.alphaTest>0,dt=!!O.alphaHash,qt=!!O.extensions;let Xt=Cd;O.toneMapped&&(Ee===null||Ee.isXRRenderTarget===!0)&&(Xt=i.toneMapping);const wn={shaderID:le,shaderType:O.type,shaderName:O.name,vertexShader:re,fragmentShader:ce,defines:O.defines,customVertexShaderID:pe,customFragmentShaderID:me,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:g,batching:We,batchingColor:We&&$._colorsTexture!==null,instancing:ze,instancingColor:ze&&$.instanceColor!==null,instancingMorph:ze&&$.morphTexture!==null,supportsVertexTextures:x,outputColorSpace:Ee===null?i.outputColorSpace:Ee.isXRRenderTarget===!0?Ee.texture.colorSpace:qf,alphaToCoverage:!!O.alphaToCoverage,map:at,matcap:Ct,envMap:gt,envMapMode:gt&&ae.mapping,envMapCubeUVHeight:te,aoMap:W,lightMap:j,bumpMap:xe,normalMap:de,displacementMap:x&&ue,emissiveMap:ie,normalMapObjectSpace:de&&O.normalMapType===qR,normalMapTangentSpace:de&&O.normalMapType===Yf,metalnessMap:Re,roughnessMap:Pe,anisotropy:ge,anisotropyMap:Be,clearcoat:se,clearcoatMap:mt,clearcoatNormalMap:yt,clearcoatRoughnessMap:Mt,dispersion:ee,iridescence:Ae,iridescenceMap:jt,iridescenceThicknessMap:Ke,sheen:je,sheenColorMap:st,sheenRoughnessMap:Dt,specularMap:De,specularColorMap:qe,specularIntensityMap:St,transmission:Ge,transmissionMap:Ne,thicknessMap:xt,gradientMap:Tt,opaque:O.transparent===!1&&O.blending===im&&O.alphaToCoverage===!1,alphaMap:bt,alphaTest:ot,alphaHash:dt,combine:O.combine,mapUv:at&&S(O.map.channel),aoMapUv:W&&S(O.aoMap.channel),lightMapUv:j&&S(O.lightMap.channel),bumpMapUv:xe&&S(O.bumpMap.channel),normalMapUv:de&&S(O.normalMap.channel),displacementMapUv:ue&&S(O.displacementMap.channel),emissiveMapUv:ie&&S(O.emissiveMap.channel),metalnessMapUv:Re&&S(O.metalnessMap.channel),roughnessMapUv:Pe&&S(O.roughnessMap.channel),anisotropyMapUv:Be&&S(O.anisotropyMap.channel),clearcoatMapUv:mt&&S(O.clearcoatMap.channel),clearcoatNormalMapUv:yt&&S(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Mt&&S(O.clearcoatRoughnessMap.channel),iridescenceMapUv:jt&&S(O.iridescenceMap.channel),iridescenceThicknessMapUv:Ke&&S(O.iridescenceThicknessMap.channel),sheenColorMapUv:st&&S(O.sheenColorMap.channel),sheenRoughnessMapUv:Dt&&S(O.sheenRoughnessMap.channel),specularMapUv:De&&S(O.specularMap.channel),specularColorMapUv:qe&&S(O.specularColorMap.channel),specularIntensityMapUv:St&&S(O.specularIntensityMap.channel),transmissionMapUv:Ne&&S(O.transmissionMap.channel),thicknessMapUv:xt&&S(O.thicknessMap.channel),alphaMapUv:bt&&S(O.alphaMap.channel),vertexTangents:!!oe.attributes.tangent&&(de||ge),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,pointsUvs:$.isPoints===!0&&!!oe.attributes.uv&&(at||bt),fog:!!U,useFog:O.fog===!0,fogExp2:!!U&&U.isFogExp2,flatShading:O.flatShading===!0&&O.wireframe===!1,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:y,reversedDepthBuffer:Ue,skinning:$.isSkinnedMesh===!0,morphTargets:oe.morphAttributes.position!==void 0,morphNormals:oe.morphAttributes.normal!==void 0,morphColors:oe.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:V,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numLightProbes:z.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:O.dithering,shadowMapEnabled:i.shadowMap.enabled&&q.length>0,shadowMapType:i.shadowMap.type,toneMapping:Xt,decodeVideoTexture:at&&O.map.isVideoTexture===!0&&Bi.getTransfer(O.map.colorSpace)===Sa,decodeVideoTextureEmissive:ie&&O.emissiveMap.isVideoTexture===!0&&Bi.getTransfer(O.emissiveMap.colorSpace)===Sa,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===_d,flipSided:O.side===pl,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:qt&&O.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(qt&&O.extensions.multiDraw===!0||We)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return wn.vertexUv1s=d.has(1),wn.vertexUv2s=d.has(2),wn.vertexUv3s=d.has(3),d.clear(),wn}function b(O){const z=[];if(O.shaderID?z.push(O.shaderID):(z.push(O.customVertexShaderID),z.push(O.customFragmentShaderID)),O.defines!==void 0)for(const q in O.defines)z.push(q),z.push(O.defines[q]);return O.isRawShaderMaterial===!1&&(E(z,O),C(z,O),z.push(i.outputColorSpace)),z.push(O.customProgramCacheKey),z.join()}function E(O,z){O.push(z.precision),O.push(z.outputColorSpace),O.push(z.envMapMode),O.push(z.envMapCubeUVHeight),O.push(z.mapUv),O.push(z.alphaMapUv),O.push(z.lightMapUv),O.push(z.aoMapUv),O.push(z.bumpMapUv),O.push(z.normalMapUv),O.push(z.displacementMapUv),O.push(z.emissiveMapUv),O.push(z.metalnessMapUv),O.push(z.roughnessMapUv),O.push(z.anisotropyMapUv),O.push(z.clearcoatMapUv),O.push(z.clearcoatNormalMapUv),O.push(z.clearcoatRoughnessMapUv),O.push(z.iridescenceMapUv),O.push(z.iridescenceThicknessMapUv),O.push(z.sheenColorMapUv),O.push(z.sheenRoughnessMapUv),O.push(z.specularMapUv),O.push(z.specularColorMapUv),O.push(z.specularIntensityMapUv),O.push(z.transmissionMapUv),O.push(z.thicknessMapUv),O.push(z.combine),O.push(z.fogExp2),O.push(z.sizeAttenuation),O.push(z.morphTargetsCount),O.push(z.morphAttributeCount),O.push(z.numDirLights),O.push(z.numPointLights),O.push(z.numSpotLights),O.push(z.numSpotLightMaps),O.push(z.numHemiLights),O.push(z.numRectAreaLights),O.push(z.numDirLightShadows),O.push(z.numPointLightShadows),O.push(z.numSpotLightShadows),O.push(z.numSpotLightShadowsWithMaps),O.push(z.numLightProbes),O.push(z.shadowMapType),O.push(z.toneMapping),O.push(z.numClippingPlanes),O.push(z.numClipIntersection),O.push(z.depthPacking)}function C(O,z){l.disableAll(),z.supportsVertexTextures&&l.enable(0),z.instancing&&l.enable(1),z.instancingColor&&l.enable(2),z.instancingMorph&&l.enable(3),z.matcap&&l.enable(4),z.envMap&&l.enable(5),z.normalMapObjectSpace&&l.enable(6),z.normalMapTangentSpace&&l.enable(7),z.clearcoat&&l.enable(8),z.iridescence&&l.enable(9),z.alphaTest&&l.enable(10),z.vertexColors&&l.enable(11),z.vertexAlphas&&l.enable(12),z.vertexUv1s&&l.enable(13),z.vertexUv2s&&l.enable(14),z.vertexUv3s&&l.enable(15),z.vertexTangents&&l.enable(16),z.anisotropy&&l.enable(17),z.alphaHash&&l.enable(18),z.batching&&l.enable(19),z.dispersion&&l.enable(20),z.batchingColor&&l.enable(21),z.gradientMap&&l.enable(22),O.push(l.mask),l.disableAll(),z.fog&&l.enable(0),z.useFog&&l.enable(1),z.flatShading&&l.enable(2),z.logarithmicDepthBuffer&&l.enable(3),z.reversedDepthBuffer&&l.enable(4),z.skinning&&l.enable(5),z.morphTargets&&l.enable(6),z.morphNormals&&l.enable(7),z.morphColors&&l.enable(8),z.premultipliedAlpha&&l.enable(9),z.shadowMapEnabled&&l.enable(10),z.doubleSided&&l.enable(11),z.flipSided&&l.enable(12),z.useDepthPacking&&l.enable(13),z.dithering&&l.enable(14),z.transmission&&l.enable(15),z.sheen&&l.enable(16),z.opaque&&l.enable(17),z.pointsUvs&&l.enable(18),z.decodeVideoTexture&&l.enable(19),z.decodeVideoTextureEmissive&&l.enable(20),z.alphaToCoverage&&l.enable(21),O.push(l.mask)}function D(O){const z=_[O.type];let q;if(z){const I=Bu[z];q=iL.clone(I.uniforms)}else q=O.uniforms;return q}function k(O,z){let q;for(let I=0,$=m.length;I<$;I++){const U=m[I];if(U.cacheKey===z){q=U,++q.usedTimes;break}}return q===void 0&&(q=new lJ(i,z,O,r),m.push(q)),q}function H(O){if(--O.usedTimes===0){const z=m.indexOf(O);m[z]=m[m.length-1],m.pop(),O.destroy()}}function G(O){u.remove(O)}function X(){u.dispose()}return{getParameters:M,getProgramCacheKey:b,getUniforms:D,acquireProgram:k,releaseProgram:H,releaseShaderCache:G,programs:m,dispose:X}}function fJ(){let i=new WeakMap;function e(o){return i.has(o)}function t(o){let l=i.get(o);return l===void 0&&(l={},i.set(o,l)),l}function n(o){i.delete(o)}function a(o,l,u){i.get(o)[l]=u}function r(){i=new WeakMap}return{has:e,get:t,remove:n,update:a,dispose:r}}function pJ(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function RC(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function LC(){const i=[];let e=0;const t=[],n=[],a=[];function r(){e=0,t.length=0,n.length=0,a.length=0}function o(y,x,g,_,S,M){let b=i[e];return b===void 0?(b={id:y.id,object:y,geometry:x,material:g,groupOrder:_,renderOrder:y.renderOrder,z:S,group:M},i[e]=b):(b.id=y.id,b.object=y,b.geometry=x,b.material=g,b.groupOrder=_,b.renderOrder=y.renderOrder,b.z=S,b.group=M),e++,b}function l(y,x,g,_,S,M){const b=o(y,x,g,_,S,M);g.transmission>0?n.push(b):g.transparent===!0?a.push(b):t.push(b)}function u(y,x,g,_,S,M){const b=o(y,x,g,_,S,M);g.transmission>0?n.unshift(b):g.transparent===!0?a.unshift(b):t.unshift(b)}function d(y,x){t.length>1&&t.sort(y||pJ),n.length>1&&n.sort(x||RC),a.length>1&&a.sort(x||RC)}function m(){for(let y=e,x=i.length;y<x;y++){const g=i[y];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:n,transparent:a,init:r,push:l,unshift:u,finish:m,sort:d}}function mJ(){let i=new WeakMap;function e(n,a){const r=i.get(n);let o;return r===void 0?(o=new LC,i.set(n,[o])):a>=r.length?(o=new LC,r.push(o)):o=r[a],o}function t(){i=new WeakMap}return{get:e,dispose:t}}function gJ(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ke,color:new rn};break;case"SpotLight":t={position:new ke,direction:new ke,color:new rn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ke,color:new rn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ke,skyColor:new rn,groundColor:new rn};break;case"RectAreaLight":t={color:new rn,position:new ke,halfWidth:new ke,halfHeight:new ke};break}return i[e.id]=t,t}}}function yJ(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new kt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new kt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new kt,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let xJ=0;function vJ(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function bJ(i){const e=new gJ,t=yJ(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)n.probe.push(new ke);const a=new ke,r=new Vn,o=new Vn;function l(d){let m=0,y=0,x=0;for(let O=0;O<9;O++)n.probe[O].set(0,0,0);let g=0,_=0,S=0,M=0,b=0,E=0,C=0,D=0,k=0,H=0,G=0;d.sort(vJ);for(let O=0,z=d.length;O<z;O++){const q=d[O],I=q.color,$=q.intensity,U=q.distance,oe=q.shadow&&q.shadow.map?q.shadow.map.texture:null;if(q.isAmbientLight)m+=I.r*$,y+=I.g*$,x+=I.b*$;else if(q.isLightProbe){for(let J=0;J<9;J++)n.probe[J].addScaledVector(q.sh.coefficients[J],$);G++}else if(q.isDirectionalLight){const J=e.get(q);if(J.color.copy(q.color).multiplyScalar(q.intensity),q.castShadow){const ae=q.shadow,te=t.get(q);te.shadowIntensity=ae.intensity,te.shadowBias=ae.bias,te.shadowNormalBias=ae.normalBias,te.shadowRadius=ae.radius,te.shadowMapSize=ae.mapSize,n.directionalShadow[g]=te,n.directionalShadowMap[g]=oe,n.directionalShadowMatrix[g]=q.shadow.matrix,E++}n.directional[g]=J,g++}else if(q.isSpotLight){const J=e.get(q);J.position.setFromMatrixPosition(q.matrixWorld),J.color.copy(I).multiplyScalar($),J.distance=U,J.coneCos=Math.cos(q.angle),J.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),J.decay=q.decay,n.spot[S]=J;const ae=q.shadow;if(q.map&&(n.spotLightMap[k]=q.map,k++,ae.updateMatrices(q),q.castShadow&&H++),n.spotLightMatrix[S]=ae.matrix,q.castShadow){const te=t.get(q);te.shadowIntensity=ae.intensity,te.shadowBias=ae.bias,te.shadowNormalBias=ae.normalBias,te.shadowRadius=ae.radius,te.shadowMapSize=ae.mapSize,n.spotShadow[S]=te,n.spotShadowMap[S]=oe,D++}S++}else if(q.isRectAreaLight){const J=e.get(q);J.color.copy(I).multiplyScalar($),J.halfWidth.set(q.width*.5,0,0),J.halfHeight.set(0,q.height*.5,0),n.rectArea[M]=J,M++}else if(q.isPointLight){const J=e.get(q);if(J.color.copy(q.color).multiplyScalar(q.intensity),J.distance=q.distance,J.decay=q.decay,q.castShadow){const ae=q.shadow,te=t.get(q);te.shadowIntensity=ae.intensity,te.shadowBias=ae.bias,te.shadowNormalBias=ae.normalBias,te.shadowRadius=ae.radius,te.shadowMapSize=ae.mapSize,te.shadowCameraNear=ae.camera.near,te.shadowCameraFar=ae.camera.far,n.pointShadow[_]=te,n.pointShadowMap[_]=oe,n.pointShadowMatrix[_]=q.shadow.matrix,C++}n.point[_]=J,_++}else if(q.isHemisphereLight){const J=e.get(q);J.skyColor.copy(q.color).multiplyScalar($),J.groundColor.copy(q.groundColor).multiplyScalar($),n.hemi[b]=J,b++}}M>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Qt.LTC_FLOAT_1,n.rectAreaLTC2=Qt.LTC_FLOAT_2):(n.rectAreaLTC1=Qt.LTC_HALF_1,n.rectAreaLTC2=Qt.LTC_HALF_2)),n.ambient[0]=m,n.ambient[1]=y,n.ambient[2]=x;const X=n.hash;(X.directionalLength!==g||X.pointLength!==_||X.spotLength!==S||X.rectAreaLength!==M||X.hemiLength!==b||X.numDirectionalShadows!==E||X.numPointShadows!==C||X.numSpotShadows!==D||X.numSpotMaps!==k||X.numLightProbes!==G)&&(n.directional.length=g,n.spot.length=S,n.rectArea.length=M,n.point.length=_,n.hemi.length=b,n.directionalShadow.length=E,n.directionalShadowMap.length=E,n.pointShadow.length=C,n.pointShadowMap.length=C,n.spotShadow.length=D,n.spotShadowMap.length=D,n.directionalShadowMatrix.length=E,n.pointShadowMatrix.length=C,n.spotLightMatrix.length=D+k-H,n.spotLightMap.length=k,n.numSpotLightShadowsWithMaps=H,n.numLightProbes=G,X.directionalLength=g,X.pointLength=_,X.spotLength=S,X.rectAreaLength=M,X.hemiLength=b,X.numDirectionalShadows=E,X.numPointShadows=C,X.numSpotShadows=D,X.numSpotMaps=k,X.numLightProbes=G,n.version=xJ++)}function u(d,m){let y=0,x=0,g=0,_=0,S=0;const M=m.matrixWorldInverse;for(let b=0,E=d.length;b<E;b++){const C=d[b];if(C.isDirectionalLight){const D=n.directional[y];D.direction.setFromMatrixPosition(C.matrixWorld),a.setFromMatrixPosition(C.target.matrixWorld),D.direction.sub(a),D.direction.transformDirection(M),y++}else if(C.isSpotLight){const D=n.spot[g];D.position.setFromMatrixPosition(C.matrixWorld),D.position.applyMatrix4(M),D.direction.setFromMatrixPosition(C.matrixWorld),a.setFromMatrixPosition(C.target.matrixWorld),D.direction.sub(a),D.direction.transformDirection(M),g++}else if(C.isRectAreaLight){const D=n.rectArea[_];D.position.setFromMatrixPosition(C.matrixWorld),D.position.applyMatrix4(M),o.identity(),r.copy(C.matrixWorld),r.premultiply(M),o.extractRotation(r),D.halfWidth.set(C.width*.5,0,0),D.halfHeight.set(0,C.height*.5,0),D.halfWidth.applyMatrix4(o),D.halfHeight.applyMatrix4(o),_++}else if(C.isPointLight){const D=n.point[x];D.position.setFromMatrixPosition(C.matrixWorld),D.position.applyMatrix4(M),x++}else if(C.isHemisphereLight){const D=n.hemi[S];D.direction.setFromMatrixPosition(C.matrixWorld),D.direction.transformDirection(M),S++}}}return{setup:l,setupView:u,state:n}}function DC(i){const e=new bJ(i),t=[],n=[];function a(m){d.camera=m,t.length=0,n.length=0}function r(m){t.push(m)}function o(m){n.push(m)}function l(){e.setup(t)}function u(m){e.setupView(t,m)}const d={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:d,setupLights:l,setupLightsView:u,pushLight:r,pushShadow:o}}function _J(i){let e=new WeakMap;function t(a,r=0){const o=e.get(a);let l;return o===void 0?(l=new DC(i),e.set(a,[l])):r>=o.length?(l=new DC(i),o.push(l)):l=o[r],l}function n(){e=new WeakMap}return{get:t,dispose:n}}const wJ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,SJ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function AJ(i,e,t){let n=new xg;const a=new kt,r=new kt,o=new Yi,l=new jS({depthPacking:HR}),u=new FS,d={},m=t.maxTextureSize,y={[Rh]:pl,[pl]:Rh,[_d]:_d},x=new Cc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new kt},radius:{value:4}},vertexShader:wJ,fragmentShader:SJ}),g=x.clone();g.defines.HORIZONTAL_PASS=1;const _=new si;_.setAttribute("position",new Oa(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Ns(_,x),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ob;let b=this.type;this.render=function(H,G,X){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||H.length===0)return;const O=i.getRenderTarget(),z=i.getActiveCubeFace(),q=i.getActiveMipmapLevel(),I=i.state;I.setBlending(Ed),I.buffers.depth.getReversed()===!0?I.buffers.color.setClear(0,0,0,0):I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);const $=b!==zu&&this.type===zu,U=b===zu&&this.type!==zu;for(let oe=0,J=H.length;oe<J;oe++){const ae=H[oe],te=ae.shadow;if(te===void 0){en("WebGLShadowMap:",ae,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;a.copy(te.mapSize);const le=te.getFrameExtents();if(a.multiply(le),r.copy(te.mapSize),(a.x>m||a.y>m)&&(a.x>m&&(r.x=Math.floor(m/le.x),a.x=r.x*le.x,te.mapSize.x=r.x),a.y>m&&(r.y=Math.floor(m/le.y),a.y=r.y*le.y,te.mapSize.y=r.y)),te.map===null||$===!0||U===!0){const Z=this.type!==zu?{minFilter:oo,magFilter:oo}:{};te.map!==null&&te.map.dispose(),te.map=new Nd(a.x,a.y,Z),te.map.texture.name=ae.name+".shadowMap",te.camera.updateProjectionMatrix()}i.setRenderTarget(te.map),i.clear();const Me=te.getViewportCount();for(let Z=0;Z<Me;Z++){const V=te.getViewport(Z);o.set(r.x*V.x,r.y*V.y,r.x*V.z,r.y*V.w),I.viewport(o),te.updateMatrices(ae,Z),n=te.getFrustum(),D(G,X,te.camera,ae,this.type)}te.isPointLightShadow!==!0&&this.type===zu&&E(te,X),te.needsUpdate=!1}b=this.type,M.needsUpdate=!1,i.setRenderTarget(O,z,q)};function E(H,G){const X=e.update(S);x.defines.VSM_SAMPLES!==H.blurSamples&&(x.defines.VSM_SAMPLES=H.blurSamples,g.defines.VSM_SAMPLES=H.blurSamples,x.needsUpdate=!0,g.needsUpdate=!0),H.mapPass===null&&(H.mapPass=new Nd(a.x,a.y)),x.uniforms.shadow_pass.value=H.map.texture,x.uniforms.resolution.value=H.mapSize,x.uniforms.radius.value=H.radius,i.setRenderTarget(H.mapPass),i.clear(),i.renderBufferDirect(G,null,X,x,S,null),g.uniforms.shadow_pass.value=H.mapPass.texture,g.uniforms.resolution.value=H.mapSize,g.uniforms.radius.value=H.radius,i.setRenderTarget(H.map),i.clear(),i.renderBufferDirect(G,null,X,g,S,null)}function C(H,G,X,O){let z=null;const q=X.isPointLight===!0?H.customDistanceMaterial:H.customDepthMaterial;if(q!==void 0)z=q;else if(z=X.isPointLight===!0?u:l,i.localClippingEnabled&&G.clipShadows===!0&&Array.isArray(G.clippingPlanes)&&G.clippingPlanes.length!==0||G.displacementMap&&G.displacementScale!==0||G.alphaMap&&G.alphaTest>0||G.map&&G.alphaTest>0||G.alphaToCoverage===!0){const I=z.uuid,$=G.uuid;let U=d[I];U===void 0&&(U={},d[I]=U);let oe=U[$];oe===void 0&&(oe=z.clone(),U[$]=oe,G.addEventListener("dispose",k)),z=oe}if(z.visible=G.visible,z.wireframe=G.wireframe,O===zu?z.side=G.shadowSide!==null?G.shadowSide:G.side:z.side=G.shadowSide!==null?G.shadowSide:y[G.side],z.alphaMap=G.alphaMap,z.alphaTest=G.alphaToCoverage===!0?.5:G.alphaTest,z.map=G.map,z.clipShadows=G.clipShadows,z.clippingPlanes=G.clippingPlanes,z.clipIntersection=G.clipIntersection,z.displacementMap=G.displacementMap,z.displacementScale=G.displacementScale,z.displacementBias=G.displacementBias,z.wireframeLinewidth=G.wireframeLinewidth,z.linewidth=G.linewidth,X.isPointLight===!0&&z.isMeshDistanceMaterial===!0){const I=i.properties.get(z);I.light=X}return z}function D(H,G,X,O,z){if(H.visible===!1)return;if(H.layers.test(G.layers)&&(H.isMesh||H.isLine||H.isPoints)&&(H.castShadow||H.receiveShadow&&z===zu)&&(!H.frustumCulled||n.intersectsObject(H))){H.modelViewMatrix.multiplyMatrices(X.matrixWorldInverse,H.matrixWorld);const $=e.update(H),U=H.material;if(Array.isArray(U)){const oe=$.groups;for(let J=0,ae=oe.length;J<ae;J++){const te=oe[J],le=U[te.materialIndex];if(le&&le.visible){const Me=C(H,le,O,z);H.onBeforeShadow(i,H,G,X,$,Me,te),i.renderBufferDirect(X,null,$,Me,H,te),H.onAfterShadow(i,H,G,X,$,Me,te)}}}else if(U.visible){const oe=C(H,U,O,z);H.onBeforeShadow(i,H,G,X,$,oe,null),i.renderBufferDirect(X,null,$,oe,H,null),H.onAfterShadow(i,H,G,X,$,oe,null)}}const I=H.children;for(let $=0,U=I.length;$<U;$++)D(I[$],G,X,O,z)}function k(H){H.target.removeEventListener("dispose",k);for(const X in d){const O=d[X],z=H.target.uuid;z in O&&(O[z].dispose(),delete O[z])}}}const MJ={[i2]:a2,[r2]:l2,[s2]:c2,[hm]:o2,[a2]:i2,[l2]:r2,[c2]:s2,[o2]:hm};function TJ(i,e){function t(){let Ne=!1;const xt=new Yi;let Tt=null;const bt=new Yi(0,0,0,0);return{setMask:function(ot){Tt!==ot&&!Ne&&(i.colorMask(ot,ot,ot,ot),Tt=ot)},setLocked:function(ot){Ne=ot},setClear:function(ot,dt,qt,Xt,wn){wn===!0&&(ot*=Xt,dt*=Xt,qt*=Xt),xt.set(ot,dt,qt,Xt),bt.equals(xt)===!1&&(i.clearColor(ot,dt,qt,Xt),bt.copy(xt))},reset:function(){Ne=!1,Tt=null,bt.set(-1,0,0,0)}}}function n(){let Ne=!1,xt=!1,Tt=null,bt=null,ot=null;return{setReversed:function(dt){if(xt!==dt){const qt=e.get("EXT_clip_control");dt?qt.clipControlEXT(qt.LOWER_LEFT_EXT,qt.ZERO_TO_ONE_EXT):qt.clipControlEXT(qt.LOWER_LEFT_EXT,qt.NEGATIVE_ONE_TO_ONE_EXT),xt=dt;const Xt=ot;ot=null,this.setClear(Xt)}},getReversed:function(){return xt},setTest:function(dt){dt?Ee(i.DEPTH_TEST):Ue(i.DEPTH_TEST)},setMask:function(dt){Tt!==dt&&!Ne&&(i.depthMask(dt),Tt=dt)},setFunc:function(dt){if(xt&&(dt=MJ[dt]),bt!==dt){switch(dt){case i2:i.depthFunc(i.NEVER);break;case a2:i.depthFunc(i.ALWAYS);break;case r2:i.depthFunc(i.LESS);break;case hm:i.depthFunc(i.LEQUAL);break;case s2:i.depthFunc(i.EQUAL);break;case o2:i.depthFunc(i.GEQUAL);break;case l2:i.depthFunc(i.GREATER);break;case c2:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}bt=dt}},setLocked:function(dt){Ne=dt},setClear:function(dt){ot!==dt&&(xt&&(dt=1-dt),i.clearDepth(dt),ot=dt)},reset:function(){Ne=!1,Tt=null,bt=null,ot=null,xt=!1}}}function a(){let Ne=!1,xt=null,Tt=null,bt=null,ot=null,dt=null,qt=null,Xt=null,wn=null;return{setTest:function(xn){Ne||(xn?Ee(i.STENCIL_TEST):Ue(i.STENCIL_TEST))},setMask:function(xn){xt!==xn&&!Ne&&(i.stencilMask(xn),xt=xn)},setFunc:function(xn,$t,Fi){(Tt!==xn||bt!==$t||ot!==Fi)&&(i.stencilFunc(xn,$t,Fi),Tt=xn,bt=$t,ot=Fi)},setOp:function(xn,$t,Fi){(dt!==xn||qt!==$t||Xt!==Fi)&&(i.stencilOp(xn,$t,Fi),dt=xn,qt=$t,Xt=Fi)},setLocked:function(xn){Ne=xn},setClear:function(xn){wn!==xn&&(i.clearStencil(xn),wn=xn)},reset:function(){Ne=!1,xt=null,Tt=null,bt=null,ot=null,dt=null,qt=null,Xt=null,wn=null}}}const r=new t,o=new n,l=new a,u=new WeakMap,d=new WeakMap;let m={},y={},x=new WeakMap,g=[],_=null,S=!1,M=null,b=null,E=null,C=null,D=null,k=null,H=null,G=new rn(0,0,0),X=0,O=!1,z=null,q=null,I=null,$=null,U=null;const oe=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,ae=0;const te=i.getParameter(i.VERSION);te.indexOf("WebGL")!==-1?(ae=parseFloat(/^WebGL (\d)/.exec(te)[1]),J=ae>=1):te.indexOf("OpenGL ES")!==-1&&(ae=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),J=ae>=2);let le=null,Me={};const Z=i.getParameter(i.SCISSOR_BOX),V=i.getParameter(i.VIEWPORT),re=new Yi().fromArray(Z),ce=new Yi().fromArray(V);function pe(Ne,xt,Tt,bt){const ot=new Uint8Array(4),dt=i.createTexture();i.bindTexture(Ne,dt),i.texParameteri(Ne,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(Ne,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let qt=0;qt<Tt;qt++)Ne===i.TEXTURE_3D||Ne===i.TEXTURE_2D_ARRAY?i.texImage3D(xt,0,i.RGBA,1,1,bt,0,i.RGBA,i.UNSIGNED_BYTE,ot):i.texImage2D(xt+qt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,ot);return dt}const me={};me[i.TEXTURE_2D]=pe(i.TEXTURE_2D,i.TEXTURE_2D,1),me[i.TEXTURE_CUBE_MAP]=pe(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),me[i.TEXTURE_2D_ARRAY]=pe(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),me[i.TEXTURE_3D]=pe(i.TEXTURE_3D,i.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),l.setClear(0),Ee(i.DEPTH_TEST),o.setFunc(hm),xe(!1),de(ew),Ee(i.CULL_FACE),W(Ed);function Ee(Ne){m[Ne]!==!0&&(i.enable(Ne),m[Ne]=!0)}function Ue(Ne){m[Ne]!==!1&&(i.disable(Ne),m[Ne]=!1)}function ze(Ne,xt){return y[Ne]!==xt?(i.bindFramebuffer(Ne,xt),y[Ne]=xt,Ne===i.DRAW_FRAMEBUFFER&&(y[i.FRAMEBUFFER]=xt),Ne===i.FRAMEBUFFER&&(y[i.DRAW_FRAMEBUFFER]=xt),!0):!1}function We(Ne,xt){let Tt=g,bt=!1;if(Ne){Tt=x.get(xt),Tt===void 0&&(Tt=[],x.set(xt,Tt));const ot=Ne.textures;if(Tt.length!==ot.length||Tt[0]!==i.COLOR_ATTACHMENT0){for(let dt=0,qt=ot.length;dt<qt;dt++)Tt[dt]=i.COLOR_ATTACHMENT0+dt;Tt.length=ot.length,bt=!0}}else Tt[0]!==i.BACK&&(Tt[0]=i.BACK,bt=!0);bt&&i.drawBuffers(Tt)}function at(Ne){return _!==Ne?(i.useProgram(Ne),_=Ne,!0):!1}const Ct={[Ef]:i.FUNC_ADD,[fR]:i.FUNC_SUBTRACT,[pR]:i.FUNC_REVERSE_SUBTRACT};Ct[mR]=i.MIN,Ct[gR]=i.MAX;const gt={[yR]:i.ZERO,[xR]:i.ONE,[vR]:i.SRC_COLOR,[t2]:i.SRC_ALPHA,[MR]:i.SRC_ALPHA_SATURATE,[SR]:i.DST_COLOR,[_R]:i.DST_ALPHA,[bR]:i.ONE_MINUS_SRC_COLOR,[n2]:i.ONE_MINUS_SRC_ALPHA,[AR]:i.ONE_MINUS_DST_COLOR,[wR]:i.ONE_MINUS_DST_ALPHA,[TR]:i.CONSTANT_COLOR,[ER]:i.ONE_MINUS_CONSTANT_COLOR,[CR]:i.CONSTANT_ALPHA,[NR]:i.ONE_MINUS_CONSTANT_ALPHA};function W(Ne,xt,Tt,bt,ot,dt,qt,Xt,wn,xn){if(Ne===Ed){S===!0&&(Ue(i.BLEND),S=!1);return}if(S===!1&&(Ee(i.BLEND),S=!0),Ne!==hR){if(Ne!==M||xn!==O){if((b!==Ef||D!==Ef)&&(i.blendEquation(i.FUNC_ADD),b=Ef,D=Ef),xn)switch(Ne){case im:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case e2:i.blendFunc(i.ONE,i.ONE);break;case tw:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case nw:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:Wn("WebGLState: Invalid blending: ",Ne);break}else switch(Ne){case im:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case e2:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case tw:Wn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case nw:Wn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Wn("WebGLState: Invalid blending: ",Ne);break}E=null,C=null,k=null,H=null,G.set(0,0,0),X=0,M=Ne,O=xn}return}ot=ot||xt,dt=dt||Tt,qt=qt||bt,(xt!==b||ot!==D)&&(i.blendEquationSeparate(Ct[xt],Ct[ot]),b=xt,D=ot),(Tt!==E||bt!==C||dt!==k||qt!==H)&&(i.blendFuncSeparate(gt[Tt],gt[bt],gt[dt],gt[qt]),E=Tt,C=bt,k=dt,H=qt),(Xt.equals(G)===!1||wn!==X)&&(i.blendColor(Xt.r,Xt.g,Xt.b,wn),G.copy(Xt),X=wn),M=Ne,O=!1}function j(Ne,xt){Ne.side===_d?Ue(i.CULL_FACE):Ee(i.CULL_FACE);let Tt=Ne.side===pl;xt&&(Tt=!Tt),xe(Tt),Ne.blending===im&&Ne.transparent===!1?W(Ed):W(Ne.blending,Ne.blendEquation,Ne.blendSrc,Ne.blendDst,Ne.blendEquationAlpha,Ne.blendSrcAlpha,Ne.blendDstAlpha,Ne.blendColor,Ne.blendAlpha,Ne.premultipliedAlpha),o.setFunc(Ne.depthFunc),o.setTest(Ne.depthTest),o.setMask(Ne.depthWrite),r.setMask(Ne.colorWrite);const bt=Ne.stencilWrite;l.setTest(bt),bt&&(l.setMask(Ne.stencilWriteMask),l.setFunc(Ne.stencilFunc,Ne.stencilRef,Ne.stencilFuncMask),l.setOp(Ne.stencilFail,Ne.stencilZFail,Ne.stencilZPass)),ie(Ne.polygonOffset,Ne.polygonOffsetFactor,Ne.polygonOffsetUnits),Ne.alphaToCoverage===!0?Ee(i.SAMPLE_ALPHA_TO_COVERAGE):Ue(i.SAMPLE_ALPHA_TO_COVERAGE)}function xe(Ne){z!==Ne&&(Ne?i.frontFace(i.CW):i.frontFace(i.CCW),z=Ne)}function de(Ne){Ne!==cR?(Ee(i.CULL_FACE),Ne!==q&&(Ne===ew?i.cullFace(i.BACK):Ne===uR?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Ue(i.CULL_FACE),q=Ne}function ue(Ne){Ne!==I&&(J&&i.lineWidth(Ne),I=Ne)}function ie(Ne,xt,Tt){Ne?(Ee(i.POLYGON_OFFSET_FILL),($!==xt||U!==Tt)&&(i.polygonOffset(xt,Tt),$=xt,U=Tt)):Ue(i.POLYGON_OFFSET_FILL)}function Re(Ne){Ne?Ee(i.SCISSOR_TEST):Ue(i.SCISSOR_TEST)}function Pe(Ne){Ne===void 0&&(Ne=i.TEXTURE0+oe-1),le!==Ne&&(i.activeTexture(Ne),le=Ne)}function ge(Ne,xt,Tt){Tt===void 0&&(le===null?Tt=i.TEXTURE0+oe-1:Tt=le);let bt=Me[Tt];bt===void 0&&(bt={type:void 0,texture:void 0},Me[Tt]=bt),(bt.type!==Ne||bt.texture!==xt)&&(le!==Tt&&(i.activeTexture(Tt),le=Tt),i.bindTexture(Ne,xt||me[Ne]),bt.type=Ne,bt.texture=xt)}function se(){const Ne=Me[le];Ne!==void 0&&Ne.type!==void 0&&(i.bindTexture(Ne.type,null),Ne.type=void 0,Ne.texture=void 0)}function ee(){try{i.compressedTexImage2D(...arguments)}catch(Ne){Ne("WebGLState:",Ne)}}function Ae(){try{i.compressedTexImage3D(...arguments)}catch(Ne){Ne("WebGLState:",Ne)}}function je(){try{i.texSubImage2D(...arguments)}catch(Ne){Ne("WebGLState:",Ne)}}function Ge(){try{i.texSubImage3D(...arguments)}catch(Ne){Ne("WebGLState:",Ne)}}function Be(){try{i.compressedTexSubImage2D(...arguments)}catch(Ne){Ne("WebGLState:",Ne)}}function mt(){try{i.compressedTexSubImage3D(...arguments)}catch(Ne){Ne("WebGLState:",Ne)}}function yt(){try{i.texStorage2D(...arguments)}catch(Ne){Ne("WebGLState:",Ne)}}function Mt(){try{i.texStorage3D(...arguments)}catch(Ne){Ne("WebGLState:",Ne)}}function jt(){try{i.texImage2D(...arguments)}catch(Ne){Ne("WebGLState:",Ne)}}function Ke(){try{i.texImage3D(...arguments)}catch(Ne){Ne("WebGLState:",Ne)}}function st(Ne){re.equals(Ne)===!1&&(i.scissor(Ne.x,Ne.y,Ne.z,Ne.w),re.copy(Ne))}function Dt(Ne){ce.equals(Ne)===!1&&(i.viewport(Ne.x,Ne.y,Ne.z,Ne.w),ce.copy(Ne))}function De(Ne,xt){let Tt=d.get(xt);Tt===void 0&&(Tt=new WeakMap,d.set(xt,Tt));let bt=Tt.get(Ne);bt===void 0&&(bt=i.getUniformBlockIndex(xt,Ne.name),Tt.set(Ne,bt))}function qe(Ne,xt){const bt=d.get(xt).get(Ne);u.get(xt)!==bt&&(i.uniformBlockBinding(xt,bt,Ne.__bindingPointIndex),u.set(xt,bt))}function St(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),o.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),m={},le=null,Me={},y={},x=new WeakMap,g=[],_=null,S=!1,M=null,b=null,E=null,C=null,D=null,k=null,H=null,G=new rn(0,0,0),X=0,O=!1,z=null,q=null,I=null,$=null,U=null,re.set(0,0,i.canvas.width,i.canvas.height),ce.set(0,0,i.canvas.width,i.canvas.height),r.reset(),o.reset(),l.reset()}return{buffers:{color:r,depth:o,stencil:l},enable:Ee,disable:Ue,bindFramebuffer:ze,drawBuffers:We,useProgram:at,setBlending:W,setMaterial:j,setFlipSided:xe,setCullFace:de,setLineWidth:ue,setPolygonOffset:ie,setScissorTest:Re,activeTexture:Pe,bindTexture:ge,unbindTexture:se,compressedTexImage2D:ee,compressedTexImage3D:Ae,texImage2D:jt,texImage3D:Ke,updateUBOMapping:De,uniformBlockBinding:qe,texStorage2D:yt,texStorage3D:Mt,texSubImage2D:je,texSubImage3D:Ge,compressedTexSubImage2D:Be,compressedTexSubImage3D:mt,scissor:st,viewport:Dt,reset:St}}function EJ(i,e,t,n,a,r,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new kt,m=new WeakMap;let y;const x=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(se,ee){return g?new OffscreenCanvas(se,ee):iy("canvas")}function S(se,ee,Ae){let je=1;const Ge=ge(se);if((Ge.width>Ae||Ge.height>Ae)&&(je=Ae/Math.max(Ge.width,Ge.height)),je<1)if(typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&se instanceof ImageBitmap||typeof VideoFrame<"u"&&se instanceof VideoFrame){const Be=Math.floor(je*Ge.width),mt=Math.floor(je*Ge.height);y===void 0&&(y=_(Be,mt));const yt=ee?_(Be,mt):y;return yt.width=Be,yt.height=mt,yt.getContext("2d").drawImage(se,0,0,Be,mt),en("WebGLRenderer: Texture has been resized from ("+Ge.width+"x"+Ge.height+") to ("+Be+"x"+mt+")."),yt}else return"data"in se&&en("WebGLRenderer: Image in DataTexture is too big ("+Ge.width+"x"+Ge.height+")."),se;return se}function M(se){return se.generateMipmaps}function b(se){i.generateMipmap(se)}function E(se){return se.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:se.isWebGL3DRenderTarget?i.TEXTURE_3D:se.isWebGLArrayRenderTarget||se.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function C(se,ee,Ae,je,Ge=!1){if(se!==null){if(i[se]!==void 0)return i[se];en("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+se+"'")}let Be=ee;if(ee===i.RED&&(Ae===i.FLOAT&&(Be=i.R32F),Ae===i.HALF_FLOAT&&(Be=i.R16F),Ae===i.UNSIGNED_BYTE&&(Be=i.R8)),ee===i.RED_INTEGER&&(Ae===i.UNSIGNED_BYTE&&(Be=i.R8UI),Ae===i.UNSIGNED_SHORT&&(Be=i.R16UI),Ae===i.UNSIGNED_INT&&(Be=i.R32UI),Ae===i.BYTE&&(Be=i.R8I),Ae===i.SHORT&&(Be=i.R16I),Ae===i.INT&&(Be=i.R32I)),ee===i.RG&&(Ae===i.FLOAT&&(Be=i.RG32F),Ae===i.HALF_FLOAT&&(Be=i.RG16F),Ae===i.UNSIGNED_BYTE&&(Be=i.RG8)),ee===i.RG_INTEGER&&(Ae===i.UNSIGNED_BYTE&&(Be=i.RG8UI),Ae===i.UNSIGNED_SHORT&&(Be=i.RG16UI),Ae===i.UNSIGNED_INT&&(Be=i.RG32UI),Ae===i.BYTE&&(Be=i.RG8I),Ae===i.SHORT&&(Be=i.RG16I),Ae===i.INT&&(Be=i.RG32I)),ee===i.RGB_INTEGER&&(Ae===i.UNSIGNED_BYTE&&(Be=i.RGB8UI),Ae===i.UNSIGNED_SHORT&&(Be=i.RGB16UI),Ae===i.UNSIGNED_INT&&(Be=i.RGB32UI),Ae===i.BYTE&&(Be=i.RGB8I),Ae===i.SHORT&&(Be=i.RGB16I),Ae===i.INT&&(Be=i.RGB32I)),ee===i.RGBA_INTEGER&&(Ae===i.UNSIGNED_BYTE&&(Be=i.RGBA8UI),Ae===i.UNSIGNED_SHORT&&(Be=i.RGBA16UI),Ae===i.UNSIGNED_INT&&(Be=i.RGBA32UI),Ae===i.BYTE&&(Be=i.RGBA8I),Ae===i.SHORT&&(Be=i.RGBA16I),Ae===i.INT&&(Be=i.RGBA32I)),ee===i.RGB&&(Ae===i.UNSIGNED_INT_5_9_9_9_REV&&(Be=i.RGB9_E5),Ae===i.UNSIGNED_INT_10F_11F_11F_REV&&(Be=i.R11F_G11F_B10F)),ee===i.RGBA){const mt=Ge?ty:Bi.getTransfer(je);Ae===i.FLOAT&&(Be=i.RGBA32F),Ae===i.HALF_FLOAT&&(Be=i.RGBA16F),Ae===i.UNSIGNED_BYTE&&(Be=mt===Sa?i.SRGB8_ALPHA8:i.RGBA8),Ae===i.UNSIGNED_SHORT_4_4_4_4&&(Be=i.RGBA4),Ae===i.UNSIGNED_SHORT_5_5_5_1&&(Be=i.RGB5_A1)}return(Be===i.R16F||Be===i.R32F||Be===i.RG16F||Be===i.RG32F||Be===i.RGBA16F||Be===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Be}function D(se,ee){let Ae;return se?ee===null||ee===Dh||ee===Z0?Ae=i.DEPTH24_STENCIL8:ee===$l?Ae=i.DEPTH32F_STENCIL8:ee===K0&&(Ae=i.DEPTH24_STENCIL8,en("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ee===null||ee===Dh||ee===Z0?Ae=i.DEPTH_COMPONENT24:ee===$l?Ae=i.DEPTH_COMPONENT32F:ee===K0&&(Ae=i.DEPTH_COMPONENT16),Ae}function k(se,ee){return M(se)===!0||se.isFramebufferTexture&&se.minFilter!==oo&&se.minFilter!==ss?Math.log2(Math.max(ee.width,ee.height))+1:se.mipmaps!==void 0&&se.mipmaps.length>0?se.mipmaps.length:se.isCompressedTexture&&Array.isArray(se.image)?ee.mipmaps.length:1}function H(se){const ee=se.target;ee.removeEventListener("dispose",H),X(ee),ee.isVideoTexture&&m.delete(ee)}function G(se){const ee=se.target;ee.removeEventListener("dispose",G),z(ee)}function X(se){const ee=n.get(se);if(ee.__webglInit===void 0)return;const Ae=se.source,je=x.get(Ae);if(je){const Ge=je[ee.__cacheKey];Ge.usedTimes--,Ge.usedTimes===0&&O(se),Object.keys(je).length===0&&x.delete(Ae)}n.remove(se)}function O(se){const ee=n.get(se);i.deleteTexture(ee.__webglTexture);const Ae=se.source,je=x.get(Ae);delete je[ee.__cacheKey],o.memory.textures--}function z(se){const ee=n.get(se);if(se.depthTexture&&(se.depthTexture.dispose(),n.remove(se.depthTexture)),se.isWebGLCubeRenderTarget)for(let je=0;je<6;je++){if(Array.isArray(ee.__webglFramebuffer[je]))for(let Ge=0;Ge<ee.__webglFramebuffer[je].length;Ge++)i.deleteFramebuffer(ee.__webglFramebuffer[je][Ge]);else i.deleteFramebuffer(ee.__webglFramebuffer[je]);ee.__webglDepthbuffer&&i.deleteRenderbuffer(ee.__webglDepthbuffer[je])}else{if(Array.isArray(ee.__webglFramebuffer))for(let je=0;je<ee.__webglFramebuffer.length;je++)i.deleteFramebuffer(ee.__webglFramebuffer[je]);else i.deleteFramebuffer(ee.__webglFramebuffer);if(ee.__webglDepthbuffer&&i.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&i.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let je=0;je<ee.__webglColorRenderbuffer.length;je++)ee.__webglColorRenderbuffer[je]&&i.deleteRenderbuffer(ee.__webglColorRenderbuffer[je]);ee.__webglDepthRenderbuffer&&i.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}const Ae=se.textures;for(let je=0,Ge=Ae.length;je<Ge;je++){const Be=n.get(Ae[je]);Be.__webglTexture&&(i.deleteTexture(Be.__webglTexture),o.memory.textures--),n.remove(Ae[je])}n.remove(se)}let q=0;function I(){q=0}function $(){const se=q;return se>=a.maxTextures&&en("WebGLTextures: Trying to use "+se+" texture units while this GPU supports only "+a.maxTextures),q+=1,se}function U(se){const ee=[];return ee.push(se.wrapS),ee.push(se.wrapT),ee.push(se.wrapR||0),ee.push(se.magFilter),ee.push(se.minFilter),ee.push(se.anisotropy),ee.push(se.internalFormat),ee.push(se.format),ee.push(se.type),ee.push(se.generateMipmaps),ee.push(se.premultiplyAlpha),ee.push(se.flipY),ee.push(se.unpackAlignment),ee.push(se.colorSpace),ee.join()}function oe(se,ee){const Ae=n.get(se);if(se.isVideoTexture&&Re(se),se.isRenderTargetTexture===!1&&se.isExternalTexture!==!0&&se.version>0&&Ae.__version!==se.version){const je=se.image;if(je===null)en("WebGLRenderer: Texture marked for update but no image data found.");else if(je.complete===!1)en("WebGLRenderer: Texture marked for update but image is incomplete");else{me(Ae,se,ee);return}}else se.isExternalTexture&&(Ae.__webglTexture=se.sourceTexture?se.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,Ae.__webglTexture,i.TEXTURE0+ee)}function J(se,ee){const Ae=n.get(se);if(se.isRenderTargetTexture===!1&&se.version>0&&Ae.__version!==se.version){me(Ae,se,ee);return}else se.isExternalTexture&&(Ae.__webglTexture=se.sourceTexture?se.sourceTexture:null);t.bindTexture(i.TEXTURE_2D_ARRAY,Ae.__webglTexture,i.TEXTURE0+ee)}function ae(se,ee){const Ae=n.get(se);if(se.isRenderTargetTexture===!1&&se.version>0&&Ae.__version!==se.version){me(Ae,se,ee);return}t.bindTexture(i.TEXTURE_3D,Ae.__webglTexture,i.TEXTURE0+ee)}function te(se,ee){const Ae=n.get(se);if(se.version>0&&Ae.__version!==se.version){Ee(Ae,se,ee);return}t.bindTexture(i.TEXTURE_CUBE_MAP,Ae.__webglTexture,i.TEXTURE0+ee)}const le={[Z1]:i.REPEAT,[Yl]:i.CLAMP_TO_EDGE,[J1]:i.MIRRORED_REPEAT},Me={[oo]:i.NEAREST,[pS]:i.NEAREST_MIPMAP_NEAREST,[L0]:i.NEAREST_MIPMAP_LINEAR,[ss]:i.LINEAR,[L1]:i.LINEAR_MIPMAP_NEAREST,[Sd]:i.LINEAR_MIPMAP_LINEAR},Z={[GR]:i.NEVER,[ZR]:i.ALWAYS,[WR]:i.LESS,[wS]:i.LEQUAL,[XR]:i.EQUAL,[KR]:i.GEQUAL,[YR]:i.GREATER,[$R]:i.NOTEQUAL};function V(se,ee){if(ee.type===$l&&e.has("OES_texture_float_linear")===!1&&(ee.magFilter===ss||ee.magFilter===L1||ee.magFilter===L0||ee.magFilter===Sd||ee.minFilter===ss||ee.minFilter===L1||ee.minFilter===L0||ee.minFilter===Sd)&&en("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(se,i.TEXTURE_WRAP_S,le[ee.wrapS]),i.texParameteri(se,i.TEXTURE_WRAP_T,le[ee.wrapT]),(se===i.TEXTURE_3D||se===i.TEXTURE_2D_ARRAY)&&i.texParameteri(se,i.TEXTURE_WRAP_R,le[ee.wrapR]),i.texParameteri(se,i.TEXTURE_MAG_FILTER,Me[ee.magFilter]),i.texParameteri(se,i.TEXTURE_MIN_FILTER,Me[ee.minFilter]),ee.compareFunction&&(i.texParameteri(se,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(se,i.TEXTURE_COMPARE_FUNC,Z[ee.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ee.magFilter===oo||ee.minFilter!==L0&&ee.minFilter!==Sd||ee.type===$l&&e.has("OES_texture_float_linear")===!1)return;if(ee.anisotropy>1||n.get(ee).__currentAnisotropy){const Ae=e.get("EXT_texture_filter_anisotropic");i.texParameterf(se,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ee.anisotropy,a.getMaxAnisotropy())),n.get(ee).__currentAnisotropy=ee.anisotropy}}}function re(se,ee){let Ae=!1;se.__webglInit===void 0&&(se.__webglInit=!0,ee.addEventListener("dispose",H));const je=ee.source;let Ge=x.get(je);Ge===void 0&&(Ge={},x.set(je,Ge));const Be=U(ee);if(Be!==se.__cacheKey){Ge[Be]===void 0&&(Ge[Be]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,Ae=!0),Ge[Be].usedTimes++;const mt=Ge[se.__cacheKey];mt!==void 0&&(Ge[se.__cacheKey].usedTimes--,mt.usedTimes===0&&O(ee)),se.__cacheKey=Be,se.__webglTexture=Ge[Be].texture}return Ae}function ce(se,ee,Ae){return Math.floor(Math.floor(se/Ae)/ee)}function pe(se,ee,Ae,je){const Be=se.updateRanges;if(Be.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,ee.width,ee.height,Ae,je,ee.data);else{Be.sort((Ke,st)=>Ke.start-st.start);let mt=0;for(let Ke=1;Ke<Be.length;Ke++){const st=Be[mt],Dt=Be[Ke],De=st.start+st.count,qe=ce(Dt.start,ee.width,4),St=ce(st.start,ee.width,4);Dt.start<=De+1&&qe===St&&ce(Dt.start+Dt.count-1,ee.width,4)===qe?st.count=Math.max(st.count,Dt.start+Dt.count-st.start):(++mt,Be[mt]=Dt)}Be.length=mt+1;const yt=i.getParameter(i.UNPACK_ROW_LENGTH),Mt=i.getParameter(i.UNPACK_SKIP_PIXELS),jt=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,ee.width);for(let Ke=0,st=Be.length;Ke<st;Ke++){const Dt=Be[Ke],De=Math.floor(Dt.start/4),qe=Math.ceil(Dt.count/4),St=De%ee.width,Ne=Math.floor(De/ee.width),xt=qe,Tt=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,St),i.pixelStorei(i.UNPACK_SKIP_ROWS,Ne),t.texSubImage2D(i.TEXTURE_2D,0,St,Ne,xt,Tt,Ae,je,ee.data)}se.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,yt),i.pixelStorei(i.UNPACK_SKIP_PIXELS,Mt),i.pixelStorei(i.UNPACK_SKIP_ROWS,jt)}}function me(se,ee,Ae){let je=i.TEXTURE_2D;(ee.isDataArrayTexture||ee.isCompressedArrayTexture)&&(je=i.TEXTURE_2D_ARRAY),ee.isData3DTexture&&(je=i.TEXTURE_3D);const Ge=re(se,ee),Be=ee.source;t.bindTexture(je,se.__webglTexture,i.TEXTURE0+Ae);const mt=n.get(Be);if(Be.version!==mt.__version||Ge===!0){t.activeTexture(i.TEXTURE0+Ae);const yt=Bi.getPrimaries(Bi.workingColorSpace),Mt=ee.colorSpace===wh?null:Bi.getPrimaries(ee.colorSpace),jt=ee.colorSpace===wh||yt===Mt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,ee.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,ee.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,jt);let Ke=S(ee.image,!1,a.maxTextureSize);Ke=Pe(ee,Ke);const st=r.convert(ee.format,ee.colorSpace),Dt=r.convert(ee.type);let De=C(ee.internalFormat,st,Dt,ee.colorSpace,ee.isVideoTexture);V(je,ee);let qe;const St=ee.mipmaps,Ne=ee.isVideoTexture!==!0,xt=mt.__version===void 0||Ge===!0,Tt=Be.dataReady,bt=k(ee,Ke);if(ee.isDepthTexture)De=D(ee.format===Q0,ee.type),xt&&(Ne?t.texStorage2D(i.TEXTURE_2D,1,De,Ke.width,Ke.height):t.texImage2D(i.TEXTURE_2D,0,De,Ke.width,Ke.height,0,st,Dt,null));else if(ee.isDataTexture)if(St.length>0){Ne&&xt&&t.texStorage2D(i.TEXTURE_2D,bt,De,St[0].width,St[0].height);for(let ot=0,dt=St.length;ot<dt;ot++)qe=St[ot],Ne?Tt&&t.texSubImage2D(i.TEXTURE_2D,ot,0,0,qe.width,qe.height,st,Dt,qe.data):t.texImage2D(i.TEXTURE_2D,ot,De,qe.width,qe.height,0,st,Dt,qe.data);ee.generateMipmaps=!1}else Ne?(xt&&t.texStorage2D(i.TEXTURE_2D,bt,De,Ke.width,Ke.height),Tt&&pe(ee,Ke,st,Dt)):t.texImage2D(i.TEXTURE_2D,0,De,Ke.width,Ke.height,0,st,Dt,Ke.data);else if(ee.isCompressedTexture)if(ee.isCompressedArrayTexture){Ne&&xt&&t.texStorage3D(i.TEXTURE_2D_ARRAY,bt,De,St[0].width,St[0].height,Ke.depth);for(let ot=0,dt=St.length;ot<dt;ot++)if(qe=St[ot],ee.format!==zo)if(st!==null)if(Ne){if(Tt)if(ee.layerUpdates.size>0){const qt=hw(qe.width,qe.height,ee.format,ee.type);for(const Xt of ee.layerUpdates){const wn=qe.data.subarray(Xt*qt/qe.data.BYTES_PER_ELEMENT,(Xt+1)*qt/qe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,ot,0,0,Xt,qe.width,qe.height,1,st,wn)}ee.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,ot,0,0,0,qe.width,qe.height,Ke.depth,st,qe.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,ot,De,qe.width,qe.height,Ke.depth,0,qe.data,0,0);else en("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ne?Tt&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,ot,0,0,0,qe.width,qe.height,Ke.depth,st,Dt,qe.data):t.texImage3D(i.TEXTURE_2D_ARRAY,ot,De,qe.width,qe.height,Ke.depth,0,st,Dt,qe.data)}else{Ne&&xt&&t.texStorage2D(i.TEXTURE_2D,bt,De,St[0].width,St[0].height);for(let ot=0,dt=St.length;ot<dt;ot++)qe=St[ot],ee.format!==zo?st!==null?Ne?Tt&&t.compressedTexSubImage2D(i.TEXTURE_2D,ot,0,0,qe.width,qe.height,st,qe.data):t.compressedTexImage2D(i.TEXTURE_2D,ot,De,qe.width,qe.height,0,qe.data):en("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ne?Tt&&t.texSubImage2D(i.TEXTURE_2D,ot,0,0,qe.width,qe.height,st,Dt,qe.data):t.texImage2D(i.TEXTURE_2D,ot,De,qe.width,qe.height,0,st,Dt,qe.data)}else if(ee.isDataArrayTexture)if(Ne){if(xt&&t.texStorage3D(i.TEXTURE_2D_ARRAY,bt,De,Ke.width,Ke.height,Ke.depth),Tt)if(ee.layerUpdates.size>0){const ot=hw(Ke.width,Ke.height,ee.format,ee.type);for(const dt of ee.layerUpdates){const qt=Ke.data.subarray(dt*ot/Ke.data.BYTES_PER_ELEMENT,(dt+1)*ot/Ke.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,dt,Ke.width,Ke.height,1,st,Dt,qt)}ee.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Ke.width,Ke.height,Ke.depth,st,Dt,Ke.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,De,Ke.width,Ke.height,Ke.depth,0,st,Dt,Ke.data);else if(ee.isData3DTexture)Ne?(xt&&t.texStorage3D(i.TEXTURE_3D,bt,De,Ke.width,Ke.height,Ke.depth),Tt&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Ke.width,Ke.height,Ke.depth,st,Dt,Ke.data)):t.texImage3D(i.TEXTURE_3D,0,De,Ke.width,Ke.height,Ke.depth,0,st,Dt,Ke.data);else if(ee.isFramebufferTexture){if(xt)if(Ne)t.texStorage2D(i.TEXTURE_2D,bt,De,Ke.width,Ke.height);else{let ot=Ke.width,dt=Ke.height;for(let qt=0;qt<bt;qt++)t.texImage2D(i.TEXTURE_2D,qt,De,ot,dt,0,st,Dt,null),ot>>=1,dt>>=1}}else if(St.length>0){if(Ne&&xt){const ot=ge(St[0]);t.texStorage2D(i.TEXTURE_2D,bt,De,ot.width,ot.height)}for(let ot=0,dt=St.length;ot<dt;ot++)qe=St[ot],Ne?Tt&&t.texSubImage2D(i.TEXTURE_2D,ot,0,0,st,Dt,qe):t.texImage2D(i.TEXTURE_2D,ot,De,st,Dt,qe);ee.generateMipmaps=!1}else if(Ne){if(xt){const ot=ge(Ke);t.texStorage2D(i.TEXTURE_2D,bt,De,ot.width,ot.height)}Tt&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,st,Dt,Ke)}else t.texImage2D(i.TEXTURE_2D,0,De,st,Dt,Ke);M(ee)&&b(je),mt.__version=Be.version,ee.onUpdate&&ee.onUpdate(ee)}se.__version=ee.version}function Ee(se,ee,Ae){if(ee.image.length!==6)return;const je=re(se,ee),Ge=ee.source;t.bindTexture(i.TEXTURE_CUBE_MAP,se.__webglTexture,i.TEXTURE0+Ae);const Be=n.get(Ge);if(Ge.version!==Be.__version||je===!0){t.activeTexture(i.TEXTURE0+Ae);const mt=Bi.getPrimaries(Bi.workingColorSpace),yt=ee.colorSpace===wh?null:Bi.getPrimaries(ee.colorSpace),Mt=ee.colorSpace===wh||mt===yt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,ee.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,ee.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Mt);const jt=ee.isCompressedTexture||ee.image[0].isCompressedTexture,Ke=ee.image[0]&&ee.image[0].isDataTexture,st=[];for(let dt=0;dt<6;dt++)!jt&&!Ke?st[dt]=S(ee.image[dt],!0,a.maxCubemapSize):st[dt]=Ke?ee.image[dt].image:ee.image[dt],st[dt]=Pe(ee,st[dt]);const Dt=st[0],De=r.convert(ee.format,ee.colorSpace),qe=r.convert(ee.type),St=C(ee.internalFormat,De,qe,ee.colorSpace),Ne=ee.isVideoTexture!==!0,xt=Be.__version===void 0||je===!0,Tt=Ge.dataReady;let bt=k(ee,Dt);V(i.TEXTURE_CUBE_MAP,ee);let ot;if(jt){Ne&&xt&&t.texStorage2D(i.TEXTURE_CUBE_MAP,bt,St,Dt.width,Dt.height);for(let dt=0;dt<6;dt++){ot=st[dt].mipmaps;for(let qt=0;qt<ot.length;qt++){const Xt=ot[qt];ee.format!==zo?De!==null?Ne?Tt&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,qt,0,0,Xt.width,Xt.height,De,Xt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,qt,St,Xt.width,Xt.height,0,Xt.data):en("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ne?Tt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,qt,0,0,Xt.width,Xt.height,De,qe,Xt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,qt,St,Xt.width,Xt.height,0,De,qe,Xt.data)}}}else{if(ot=ee.mipmaps,Ne&&xt){ot.length>0&&bt++;const dt=ge(st[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,bt,St,dt.width,dt.height)}for(let dt=0;dt<6;dt++)if(Ke){Ne?Tt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,0,0,st[dt].width,st[dt].height,De,qe,st[dt].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,St,st[dt].width,st[dt].height,0,De,qe,st[dt].data);for(let qt=0;qt<ot.length;qt++){const wn=ot[qt].image[dt].image;Ne?Tt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,qt+1,0,0,wn.width,wn.height,De,qe,wn.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,qt+1,St,wn.width,wn.height,0,De,qe,wn.data)}}else{Ne?Tt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,0,0,De,qe,st[dt]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,St,De,qe,st[dt]);for(let qt=0;qt<ot.length;qt++){const Xt=ot[qt];Ne?Tt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,qt+1,0,0,De,qe,Xt.image[dt]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+dt,qt+1,St,De,qe,Xt.image[dt])}}}M(ee)&&b(i.TEXTURE_CUBE_MAP),Be.__version=Ge.version,ee.onUpdate&&ee.onUpdate(ee)}se.__version=ee.version}function Ue(se,ee,Ae,je,Ge,Be){const mt=r.convert(Ae.format,Ae.colorSpace),yt=r.convert(Ae.type),Mt=C(Ae.internalFormat,mt,yt,Ae.colorSpace),jt=n.get(ee),Ke=n.get(Ae);if(Ke.__renderTarget=ee,!jt.__hasExternalTextures){const st=Math.max(1,ee.width>>Be),Dt=Math.max(1,ee.height>>Be);Ge===i.TEXTURE_3D||Ge===i.TEXTURE_2D_ARRAY?t.texImage3D(Ge,Be,Mt,st,Dt,ee.depth,0,mt,yt,null):t.texImage2D(Ge,Be,Mt,st,Dt,0,mt,yt,null)}t.bindFramebuffer(i.FRAMEBUFFER,se),ie(ee)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,je,Ge,Ke.__webglTexture,0,ue(ee)):(Ge===i.TEXTURE_2D||Ge>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Ge<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,je,Ge,Ke.__webglTexture,Be),t.bindFramebuffer(i.FRAMEBUFFER,null)}function ze(se,ee,Ae){if(i.bindRenderbuffer(i.RENDERBUFFER,se),ee.depthBuffer){const je=ee.depthTexture,Ge=je&&je.isDepthTexture?je.type:null,Be=D(ee.stencilBuffer,Ge),mt=ee.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,yt=ue(ee);ie(ee)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,yt,Be,ee.width,ee.height):Ae?i.renderbufferStorageMultisample(i.RENDERBUFFER,yt,Be,ee.width,ee.height):i.renderbufferStorage(i.RENDERBUFFER,Be,ee.width,ee.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,mt,i.RENDERBUFFER,se)}else{const je=ee.textures;for(let Ge=0;Ge<je.length;Ge++){const Be=je[Ge],mt=r.convert(Be.format,Be.colorSpace),yt=r.convert(Be.type),Mt=C(Be.internalFormat,mt,yt,Be.colorSpace),jt=ue(ee);Ae&&ie(ee)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,jt,Mt,ee.width,ee.height):ie(ee)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,jt,Mt,ee.width,ee.height):i.renderbufferStorage(i.RENDERBUFFER,Mt,ee.width,ee.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function We(se,ee){if(ee&&ee.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,se),!(ee.depthTexture&&ee.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const je=n.get(ee.depthTexture);je.__renderTarget=ee,(!je.__webglTexture||ee.depthTexture.image.width!==ee.width||ee.depthTexture.image.height!==ee.height)&&(ee.depthTexture.image.width=ee.width,ee.depthTexture.image.height=ee.height,ee.depthTexture.needsUpdate=!0),oe(ee.depthTexture,0);const Ge=je.__webglTexture,Be=ue(ee);if(ee.depthTexture.format===J0)ie(ee)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Ge,0,Be):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Ge,0);else if(ee.depthTexture.format===Q0)ie(ee)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Ge,0,Be):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Ge,0);else throw new Error("Unknown depthTexture format")}function at(se){const ee=n.get(se),Ae=se.isWebGLCubeRenderTarget===!0;if(ee.__boundDepthTexture!==se.depthTexture){const je=se.depthTexture;if(ee.__depthDisposeCallback&&ee.__depthDisposeCallback(),je){const Ge=()=>{delete ee.__boundDepthTexture,delete ee.__depthDisposeCallback,je.removeEventListener("dispose",Ge)};je.addEventListener("dispose",Ge),ee.__depthDisposeCallback=Ge}ee.__boundDepthTexture=je}if(se.depthTexture&&!ee.__autoAllocateDepthBuffer){if(Ae)throw new Error("target.depthTexture not supported in Cube render targets");const je=se.texture.mipmaps;je&&je.length>0?We(ee.__webglFramebuffer[0],se):We(ee.__webglFramebuffer,se)}else if(Ae){ee.__webglDepthbuffer=[];for(let je=0;je<6;je++)if(t.bindFramebuffer(i.FRAMEBUFFER,ee.__webglFramebuffer[je]),ee.__webglDepthbuffer[je]===void 0)ee.__webglDepthbuffer[je]=i.createRenderbuffer(),ze(ee.__webglDepthbuffer[je],se,!1);else{const Ge=se.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Be=ee.__webglDepthbuffer[je];i.bindRenderbuffer(i.RENDERBUFFER,Be),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ge,i.RENDERBUFFER,Be)}}else{const je=se.texture.mipmaps;if(je&&je.length>0?t.bindFramebuffer(i.FRAMEBUFFER,ee.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,ee.__webglFramebuffer),ee.__webglDepthbuffer===void 0)ee.__webglDepthbuffer=i.createRenderbuffer(),ze(ee.__webglDepthbuffer,se,!1);else{const Ge=se.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Be=ee.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Be),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ge,i.RENDERBUFFER,Be)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function Ct(se,ee,Ae){const je=n.get(se);ee!==void 0&&Ue(je.__webglFramebuffer,se,se.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),Ae!==void 0&&at(se)}function gt(se){const ee=se.texture,Ae=n.get(se),je=n.get(ee);se.addEventListener("dispose",G);const Ge=se.textures,Be=se.isWebGLCubeRenderTarget===!0,mt=Ge.length>1;if(mt||(je.__webglTexture===void 0&&(je.__webglTexture=i.createTexture()),je.__version=ee.version,o.memory.textures++),Be){Ae.__webglFramebuffer=[];for(let yt=0;yt<6;yt++)if(ee.mipmaps&&ee.mipmaps.length>0){Ae.__webglFramebuffer[yt]=[];for(let Mt=0;Mt<ee.mipmaps.length;Mt++)Ae.__webglFramebuffer[yt][Mt]=i.createFramebuffer()}else Ae.__webglFramebuffer[yt]=i.createFramebuffer()}else{if(ee.mipmaps&&ee.mipmaps.length>0){Ae.__webglFramebuffer=[];for(let yt=0;yt<ee.mipmaps.length;yt++)Ae.__webglFramebuffer[yt]=i.createFramebuffer()}else Ae.__webglFramebuffer=i.createFramebuffer();if(mt)for(let yt=0,Mt=Ge.length;yt<Mt;yt++){const jt=n.get(Ge[yt]);jt.__webglTexture===void 0&&(jt.__webglTexture=i.createTexture(),o.memory.textures++)}if(se.samples>0&&ie(se)===!1){Ae.__webglMultisampledFramebuffer=i.createFramebuffer(),Ae.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer);for(let yt=0;yt<Ge.length;yt++){const Mt=Ge[yt];Ae.__webglColorRenderbuffer[yt]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Ae.__webglColorRenderbuffer[yt]);const jt=r.convert(Mt.format,Mt.colorSpace),Ke=r.convert(Mt.type),st=C(Mt.internalFormat,jt,Ke,Mt.colorSpace,se.isXRRenderTarget===!0),Dt=ue(se);i.renderbufferStorageMultisample(i.RENDERBUFFER,Dt,st,se.width,se.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+yt,i.RENDERBUFFER,Ae.__webglColorRenderbuffer[yt])}i.bindRenderbuffer(i.RENDERBUFFER,null),se.depthBuffer&&(Ae.__webglDepthRenderbuffer=i.createRenderbuffer(),ze(Ae.__webglDepthRenderbuffer,se,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Be){t.bindTexture(i.TEXTURE_CUBE_MAP,je.__webglTexture),V(i.TEXTURE_CUBE_MAP,ee);for(let yt=0;yt<6;yt++)if(ee.mipmaps&&ee.mipmaps.length>0)for(let Mt=0;Mt<ee.mipmaps.length;Mt++)Ue(Ae.__webglFramebuffer[yt][Mt],se,ee,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Mt);else Ue(Ae.__webglFramebuffer[yt],se,ee,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0);M(ee)&&b(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(mt){for(let yt=0,Mt=Ge.length;yt<Mt;yt++){const jt=Ge[yt],Ke=n.get(jt);let st=i.TEXTURE_2D;(se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(st=se.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(st,Ke.__webglTexture),V(st,jt),Ue(Ae.__webglFramebuffer,se,jt,i.COLOR_ATTACHMENT0+yt,st,0),M(jt)&&b(st)}t.unbindTexture()}else{let yt=i.TEXTURE_2D;if((se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(yt=se.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(yt,je.__webglTexture),V(yt,ee),ee.mipmaps&&ee.mipmaps.length>0)for(let Mt=0;Mt<ee.mipmaps.length;Mt++)Ue(Ae.__webglFramebuffer[Mt],se,ee,i.COLOR_ATTACHMENT0,yt,Mt);else Ue(Ae.__webglFramebuffer,se,ee,i.COLOR_ATTACHMENT0,yt,0);M(ee)&&b(yt),t.unbindTexture()}se.depthBuffer&&at(se)}function W(se){const ee=se.textures;for(let Ae=0,je=ee.length;Ae<je;Ae++){const Ge=ee[Ae];if(M(Ge)){const Be=E(se),mt=n.get(Ge).__webglTexture;t.bindTexture(Be,mt),b(Be),t.unbindTexture()}}}const j=[],xe=[];function de(se){if(se.samples>0){if(ie(se)===!1){const ee=se.textures,Ae=se.width,je=se.height;let Ge=i.COLOR_BUFFER_BIT;const Be=se.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,mt=n.get(se),yt=ee.length>1;if(yt)for(let jt=0;jt<ee.length;jt++)t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+jt,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+jt,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer);const Mt=se.texture.mipmaps;Mt&&Mt.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,mt.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let jt=0;jt<ee.length;jt++){if(se.resolveDepthBuffer&&(se.depthBuffer&&(Ge|=i.DEPTH_BUFFER_BIT),se.stencilBuffer&&se.resolveStencilBuffer&&(Ge|=i.STENCIL_BUFFER_BIT)),yt){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,mt.__webglColorRenderbuffer[jt]);const Ke=n.get(ee[jt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Ke,0)}i.blitFramebuffer(0,0,Ae,je,0,0,Ae,je,Ge,i.NEAREST),u===!0&&(j.length=0,xe.length=0,j.push(i.COLOR_ATTACHMENT0+jt),se.depthBuffer&&se.resolveDepthBuffer===!1&&(j.push(Be),xe.push(Be),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,xe)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,j))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),yt)for(let jt=0;jt<ee.length;jt++){t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+jt,i.RENDERBUFFER,mt.__webglColorRenderbuffer[jt]);const Ke=n.get(ee[jt]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+jt,i.TEXTURE_2D,Ke,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}else if(se.depthBuffer&&se.resolveDepthBuffer===!1&&u){const ee=se.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[ee])}}}function ue(se){return Math.min(a.maxSamples,se.samples)}function ie(se){const ee=n.get(se);return se.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ee.__useRenderToTexture!==!1}function Re(se){const ee=o.render.frame;m.get(se)!==ee&&(m.set(se,ee),se.update())}function Pe(se,ee){const Ae=se.colorSpace,je=se.format,Ge=se.type;return se.isCompressedTexture===!0||se.isVideoTexture===!0||Ae!==qf&&Ae!==wh&&(Bi.getTransfer(Ae)===Sa?(je!==zo||Ge!==au)&&en("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Wn("WebGLTextures: Unsupported texture color space:",Ae)),ee}function ge(se){return typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement?(d.width=se.naturalWidth||se.width,d.height=se.naturalHeight||se.height):typeof VideoFrame<"u"&&se instanceof VideoFrame?(d.width=se.displayWidth,d.height=se.displayHeight):(d.width=se.width,d.height=se.height),d}this.allocateTextureUnit=$,this.resetTextureUnits=I,this.setTexture2D=oe,this.setTexture2DArray=J,this.setTexture3D=ae,this.setTextureCube=te,this.rebindTextures=Ct,this.setupRenderTarget=gt,this.updateRenderTargetMipmap=W,this.updateMultisampleRenderTarget=de,this.setupDepthRenderbuffer=at,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=ie}function l7(i,e){function t(n,a=wh){let r;const o=Bi.getTransfer(a);if(n===au)return i.UNSIGNED_BYTE;if(n===ub)return i.UNSIGNED_SHORT_4_4_4_4;if(n===db)return i.UNSIGNED_SHORT_5_5_5_1;if(n===yS)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===xS)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===mS)return i.BYTE;if(n===gS)return i.SHORT;if(n===K0)return i.UNSIGNED_SHORT;if(n===cb)return i.INT;if(n===Dh)return i.UNSIGNED_INT;if(n===$l)return i.FLOAT;if(n===xm)return i.HALF_FLOAT;if(n===vS)return i.ALPHA;if(n===bS)return i.RGB;if(n===zo)return i.RGBA;if(n===J0)return i.DEPTH_COMPONENT;if(n===Q0)return i.DEPTH_STENCIL;if(n===hb)return i.RED;if(n===Ay)return i.RED_INTEGER;if(n===fb)return i.RG;if(n===pb)return i.RG_INTEGER;if(n===mb)return i.RGBA_INTEGER;if(n===D1||n===O1||n===P1||n===k1)if(o===Sa)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(n===D1)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===O1)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===P1)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===k1)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(n===D1)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===O1)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===P1)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===k1)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===u2||n===d2||n===h2||n===f2)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(n===u2)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===d2)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===h2)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===f2)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===p2||n===m2||n===g2)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(n===p2||n===m2)return o===Sa?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===g2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===y2||n===x2||n===v2||n===b2||n===_2||n===w2||n===S2||n===A2||n===M2||n===T2||n===E2||n===C2||n===N2||n===R2)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(n===y2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===x2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===v2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===b2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===_2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===w2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===S2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===A2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===M2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===T2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===E2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===C2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===N2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===R2)return o===Sa?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===L2||n===D2||n===O2)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(n===L2)return o===Sa?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===D2)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===O2)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===P2||n===k2||n===I2||n===U2)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(n===P2)return r.COMPRESSED_RED_RGTC1_EXT;if(n===k2)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===I2)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===U2)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Z0?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const CJ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,NJ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class RJ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new DS(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Cc({vertexShader:CJ,fragmentShader:NJ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Ns(new vg(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class LJ extends Ld{constructor(e,t){super();const n=this;let a=null,r=1,o=null,l="local-floor",u=1,d=null,m=null,y=null,x=null,g=null,_=null;const S=typeof XRWebGLBinding<"u",M=new RJ,b={},E=t.getContextAttributes();let C=null,D=null;const k=[],H=[],G=new kt;let X=null;const O=new rs;O.viewport=new Yi;const z=new rs;z.viewport=new Yi;const q=[O,z],I=new ZL;let $=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(me){let Ee=k[me];return Ee===void 0&&(Ee=new Iv,k[me]=Ee),Ee.getTargetRaySpace()},this.getControllerGrip=function(me){let Ee=k[me];return Ee===void 0&&(Ee=new Iv,k[me]=Ee),Ee.getGripSpace()},this.getHand=function(me){let Ee=k[me];return Ee===void 0&&(Ee=new Iv,k[me]=Ee),Ee.getHandSpace()};function oe(me){const Ee=H.indexOf(me.inputSource);if(Ee===-1)return;const Ue=k[Ee];Ue!==void 0&&(Ue.update(me.inputSource,me.frame,d||o),Ue.dispatchEvent({type:me.type,data:me.inputSource}))}function J(){a.removeEventListener("select",oe),a.removeEventListener("selectstart",oe),a.removeEventListener("selectend",oe),a.removeEventListener("squeeze",oe),a.removeEventListener("squeezestart",oe),a.removeEventListener("squeezeend",oe),a.removeEventListener("end",J),a.removeEventListener("inputsourceschange",ae);for(let me=0;me<k.length;me++){const Ee=H[me];Ee!==null&&(H[me]=null,k[me].disconnect(Ee))}$=null,U=null,M.reset();for(const me in b)delete b[me];e.setRenderTarget(C),g=null,x=null,y=null,a=null,D=null,pe.stop(),n.isPresenting=!1,e.setPixelRatio(X),e.setSize(G.width,G.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(me){r=me,n.isPresenting===!0&&en("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(me){l=me,n.isPresenting===!0&&en("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(me){d=me},this.getBaseLayer=function(){return x!==null?x:g},this.getBinding=function(){return y===null&&S&&(y=new XRWebGLBinding(a,t)),y},this.getFrame=function(){return _},this.getSession=function(){return a},this.setSession=async function(me){if(a=me,a!==null){if(C=e.getRenderTarget(),a.addEventListener("select",oe),a.addEventListener("selectstart",oe),a.addEventListener("selectend",oe),a.addEventListener("squeeze",oe),a.addEventListener("squeezestart",oe),a.addEventListener("squeezeend",oe),a.addEventListener("end",J),a.addEventListener("inputsourceschange",ae),E.xrCompatible!==!0&&await t.makeXRCompatible(),X=e.getPixelRatio(),e.getSize(G),S&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ue=null,ze=null,We=null;E.depth&&(We=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ue=E.stencil?Q0:J0,ze=E.stencil?Z0:Dh);const at={colorFormat:t.RGBA8,depthFormat:We,scaleFactor:r};y=this.getBinding(),x=y.createProjectionLayer(at),a.updateRenderState({layers:[x]}),e.setPixelRatio(1),e.setSize(x.textureWidth,x.textureHeight,!1),D=new Nd(x.textureWidth,x.textureHeight,{format:zo,type:au,depthTexture:new LS(x.textureWidth,x.textureHeight,ze,void 0,void 0,void 0,void 0,void 0,void 0,Ue),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}else{const Ue={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:r};g=new XRWebGLLayer(a,t,Ue),a.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),D=new Nd(g.framebufferWidth,g.framebufferHeight,{format:zo,type:au,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}D.isXRRenderTarget=!0,this.setFoveation(u),d=null,o=await a.requestReferenceSpace(l),pe.setContext(a),pe.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return M.getDepthTexture()};function ae(me){for(let Ee=0;Ee<me.removed.length;Ee++){const Ue=me.removed[Ee],ze=H.indexOf(Ue);ze>=0&&(H[ze]=null,k[ze].disconnect(Ue))}for(let Ee=0;Ee<me.added.length;Ee++){const Ue=me.added[Ee];let ze=H.indexOf(Ue);if(ze===-1){for(let at=0;at<k.length;at++)if(at>=H.length){H.push(Ue),ze=at;break}else if(H[at]===null){H[at]=Ue,ze=at;break}if(ze===-1)break}const We=k[ze];We&&We.connect(Ue)}}const te=new ke,le=new ke;function Me(me,Ee,Ue){te.setFromMatrixPosition(Ee.matrixWorld),le.setFromMatrixPosition(Ue.matrixWorld);const ze=te.distanceTo(le),We=Ee.projectionMatrix.elements,at=Ue.projectionMatrix.elements,Ct=We[14]/(We[10]-1),gt=We[14]/(We[10]+1),W=(We[9]+1)/We[5],j=(We[9]-1)/We[5],xe=(We[8]-1)/We[0],de=(at[8]+1)/at[0],ue=Ct*xe,ie=Ct*de,Re=ze/(-xe+de),Pe=Re*-xe;if(Ee.matrixWorld.decompose(me.position,me.quaternion,me.scale),me.translateX(Pe),me.translateZ(Re),me.matrixWorld.compose(me.position,me.quaternion,me.scale),me.matrixWorldInverse.copy(me.matrixWorld).invert(),We[10]===-1)me.projectionMatrix.copy(Ee.projectionMatrix),me.projectionMatrixInverse.copy(Ee.projectionMatrixInverse);else{const ge=Ct+Re,se=gt+Re,ee=ue-Pe,Ae=ie+(ze-Pe),je=W*gt/se*ge,Ge=j*gt/se*ge;me.projectionMatrix.makePerspective(ee,Ae,je,Ge,ge,se),me.projectionMatrixInverse.copy(me.projectionMatrix).invert()}}function Z(me,Ee){Ee===null?me.matrixWorld.copy(me.matrix):me.matrixWorld.multiplyMatrices(Ee.matrixWorld,me.matrix),me.matrixWorldInverse.copy(me.matrixWorld).invert()}this.updateCamera=function(me){if(a===null)return;let Ee=me.near,Ue=me.far;M.texture!==null&&(M.depthNear>0&&(Ee=M.depthNear),M.depthFar>0&&(Ue=M.depthFar)),I.near=z.near=O.near=Ee,I.far=z.far=O.far=Ue,($!==I.near||U!==I.far)&&(a.updateRenderState({depthNear:I.near,depthFar:I.far}),$=I.near,U=I.far),I.layers.mask=me.layers.mask|6,O.layers.mask=I.layers.mask&3,z.layers.mask=I.layers.mask&5;const ze=me.parent,We=I.cameras;Z(I,ze);for(let at=0;at<We.length;at++)Z(We[at],ze);We.length===2?Me(I,O,z):I.projectionMatrix.copy(O.projectionMatrix),V(me,I,ze)};function V(me,Ee,Ue){Ue===null?me.matrix.copy(Ee.matrixWorld):(me.matrix.copy(Ue.matrixWorld),me.matrix.invert(),me.matrix.multiply(Ee.matrixWorld)),me.matrix.decompose(me.position,me.quaternion,me.scale),me.updateMatrixWorld(!0),me.projectionMatrix.copy(Ee.projectionMatrix),me.projectionMatrixInverse.copy(Ee.projectionMatrixInverse),me.isPerspectiveCamera&&(me.fov=ng*2*Math.atan(1/me.projectionMatrix.elements[5]),me.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(x===null&&g===null))return u},this.setFoveation=function(me){u=me,x!==null&&(x.fixedFoveation=me),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=me)},this.hasDepthSensing=function(){return M.texture!==null},this.getDepthSensingMesh=function(){return M.getMesh(I)},this.getCameraTexture=function(me){return b[me]};let re=null;function ce(me,Ee){if(m=Ee.getViewerPose(d||o),_=Ee,m!==null){const Ue=m.views;g!==null&&(e.setRenderTargetFramebuffer(D,g.framebuffer),e.setRenderTarget(D));let ze=!1;Ue.length!==I.cameras.length&&(I.cameras.length=0,ze=!0);for(let gt=0;gt<Ue.length;gt++){const W=Ue[gt];let j=null;if(g!==null)j=g.getViewport(W);else{const de=y.getViewSubImage(x,W);j=de.viewport,gt===0&&(e.setRenderTargetTextures(D,de.colorTexture,de.depthStencilTexture),e.setRenderTarget(D))}let xe=q[gt];xe===void 0&&(xe=new rs,xe.layers.enable(gt),xe.viewport=new Yi,q[gt]=xe),xe.matrix.fromArray(W.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(W.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(j.x,j.y,j.width,j.height),gt===0&&(I.matrix.copy(xe.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),ze===!0&&I.cameras.push(xe)}const We=a.enabledFeatures;if(We&&We.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&S){y=n.getBinding();const gt=y.getDepthInformation(Ue[0]);gt&&gt.isValid&&gt.texture&&M.init(gt,a.renderState)}if(We&&We.includes("camera-access")&&S){e.state.unbindTexture(),y=n.getBinding();for(let gt=0;gt<Ue.length;gt++){const W=Ue[gt].camera;if(W){let j=b[W];j||(j=new DS,b[W]=j);const xe=y.getCameraImage(W);j.sourceTexture=xe}}}}for(let Ue=0;Ue<k.length;Ue++){const ze=H[Ue],We=k[Ue];ze!==null&&We!==void 0&&We.update(ze,Ee,d||o)}re&&re(me,Ee),Ee.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:Ee}),_=null}const pe=new i7;pe.setAnimationLoop(ce),this.setAnimationLoop=function(me){re=me},this.dispose=function(){}}}const zp=new Ec,DJ=new Vn;function OJ(i,e){function t(M,b){M.matrixAutoUpdate===!0&&M.updateMatrix(),b.value.copy(M.matrix)}function n(M,b){b.color.getRGB(M.fogColor.value,nL(i)),b.isFog?(M.fogNear.value=b.near,M.fogFar.value=b.far):b.isFogExp2&&(M.fogDensity.value=b.density)}function a(M,b,E,C,D){b.isMeshBasicMaterial||b.isMeshLambertMaterial?r(M,b):b.isMeshToonMaterial?(r(M,b),y(M,b)):b.isMeshPhongMaterial?(r(M,b),m(M,b)):b.isMeshStandardMaterial?(r(M,b),x(M,b),b.isMeshPhysicalMaterial&&g(M,b,D)):b.isMeshMatcapMaterial?(r(M,b),_(M,b)):b.isMeshDepthMaterial?r(M,b):b.isMeshDistanceMaterial?(r(M,b),S(M,b)):b.isMeshNormalMaterial?r(M,b):b.isLineBasicMaterial?(o(M,b),b.isLineDashedMaterial&&l(M,b)):b.isPointsMaterial?u(M,b,E,C):b.isSpriteMaterial?d(M,b):b.isShadowMaterial?(M.color.value.copy(b.color),M.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function r(M,b){M.opacity.value=b.opacity,b.color&&M.diffuse.value.copy(b.color),b.emissive&&M.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(M.map.value=b.map,t(b.map,M.mapTransform)),b.alphaMap&&(M.alphaMap.value=b.alphaMap,t(b.alphaMap,M.alphaMapTransform)),b.bumpMap&&(M.bumpMap.value=b.bumpMap,t(b.bumpMap,M.bumpMapTransform),M.bumpScale.value=b.bumpScale,b.side===pl&&(M.bumpScale.value*=-1)),b.normalMap&&(M.normalMap.value=b.normalMap,t(b.normalMap,M.normalMapTransform),M.normalScale.value.copy(b.normalScale),b.side===pl&&M.normalScale.value.negate()),b.displacementMap&&(M.displacementMap.value=b.displacementMap,t(b.displacementMap,M.displacementMapTransform),M.displacementScale.value=b.displacementScale,M.displacementBias.value=b.displacementBias),b.emissiveMap&&(M.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,M.emissiveMapTransform)),b.specularMap&&(M.specularMap.value=b.specularMap,t(b.specularMap,M.specularMapTransform)),b.alphaTest>0&&(M.alphaTest.value=b.alphaTest);const E=e.get(b),C=E.envMap,D=E.envMapRotation;C&&(M.envMap.value=C,zp.copy(D),zp.x*=-1,zp.y*=-1,zp.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(zp.y*=-1,zp.z*=-1),M.envMapRotation.value.setFromMatrix4(DJ.makeRotationFromEuler(zp)),M.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=b.reflectivity,M.ior.value=b.ior,M.refractionRatio.value=b.refractionRatio),b.lightMap&&(M.lightMap.value=b.lightMap,M.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,M.lightMapTransform)),b.aoMap&&(M.aoMap.value=b.aoMap,M.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,M.aoMapTransform))}function o(M,b){M.diffuse.value.copy(b.color),M.opacity.value=b.opacity,b.map&&(M.map.value=b.map,t(b.map,M.mapTransform))}function l(M,b){M.dashSize.value=b.dashSize,M.totalSize.value=b.dashSize+b.gapSize,M.scale.value=b.scale}function u(M,b,E,C){M.diffuse.value.copy(b.color),M.opacity.value=b.opacity,M.size.value=b.size*E,M.scale.value=C*.5,b.map&&(M.map.value=b.map,t(b.map,M.uvTransform)),b.alphaMap&&(M.alphaMap.value=b.alphaMap,t(b.alphaMap,M.alphaMapTransform)),b.alphaTest>0&&(M.alphaTest.value=b.alphaTest)}function d(M,b){M.diffuse.value.copy(b.color),M.opacity.value=b.opacity,M.rotation.value=b.rotation,b.map&&(M.map.value=b.map,t(b.map,M.mapTransform)),b.alphaMap&&(M.alphaMap.value=b.alphaMap,t(b.alphaMap,M.alphaMapTransform)),b.alphaTest>0&&(M.alphaTest.value=b.alphaTest)}function m(M,b){M.specular.value.copy(b.specular),M.shininess.value=Math.max(b.shininess,1e-4)}function y(M,b){b.gradientMap&&(M.gradientMap.value=b.gradientMap)}function x(M,b){M.metalness.value=b.metalness,b.metalnessMap&&(M.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,M.metalnessMapTransform)),M.roughness.value=b.roughness,b.roughnessMap&&(M.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,M.roughnessMapTransform)),b.envMap&&(M.envMapIntensity.value=b.envMapIntensity)}function g(M,b,E){M.ior.value=b.ior,b.sheen>0&&(M.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),M.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(M.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,M.sheenColorMapTransform)),b.sheenRoughnessMap&&(M.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,M.sheenRoughnessMapTransform))),b.clearcoat>0&&(M.clearcoat.value=b.clearcoat,M.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(M.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,M.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(M.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===pl&&M.clearcoatNormalScale.value.negate())),b.dispersion>0&&(M.dispersion.value=b.dispersion),b.iridescence>0&&(M.iridescence.value=b.iridescence,M.iridescenceIOR.value=b.iridescenceIOR,M.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(M.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,M.iridescenceMapTransform)),b.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),b.transmission>0&&(M.transmission.value=b.transmission,M.transmissionSamplerMap.value=E.texture,M.transmissionSamplerSize.value.set(E.width,E.height),b.transmissionMap&&(M.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,M.transmissionMapTransform)),M.thickness.value=b.thickness,b.thicknessMap&&(M.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=b.attenuationDistance,M.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(M.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(M.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,M.anisotropyMapTransform))),M.specularIntensity.value=b.specularIntensity,M.specularColor.value.copy(b.specularColor),b.specularColorMap&&(M.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,M.specularColorMapTransform)),b.specularIntensityMap&&(M.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,M.specularIntensityMapTransform))}function _(M,b){b.matcap&&(M.matcap.value=b.matcap)}function S(M,b){const E=e.get(b).light;M.referencePosition.value.setFromMatrixPosition(E.matrixWorld),M.nearDistance.value=E.shadow.camera.near,M.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:a}}function PJ(i,e,t,n){let a={},r={},o=[];const l=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function u(E,C){const D=C.program;n.uniformBlockBinding(E,D)}function d(E,C){let D=a[E.id];D===void 0&&(_(E),D=m(E),a[E.id]=D,E.addEventListener("dispose",M));const k=C.program;n.updateUBOMapping(E,k);const H=e.render.frame;r[E.id]!==H&&(x(E),r[E.id]=H)}function m(E){const C=y();E.__bindingPointIndex=C;const D=i.createBuffer(),k=E.__size,H=E.usage;return i.bindBuffer(i.UNIFORM_BUFFER,D),i.bufferData(i.UNIFORM_BUFFER,k,H),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,C,D),D}function y(){for(let E=0;E<l;E++)if(o.indexOf(E)===-1)return o.push(E),E;return Wn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(E){const C=a[E.id],D=E.uniforms,k=E.__cache;i.bindBuffer(i.UNIFORM_BUFFER,C);for(let H=0,G=D.length;H<G;H++){const X=Array.isArray(D[H])?D[H]:[D[H]];for(let O=0,z=X.length;O<z;O++){const q=X[O];if(g(q,H,O,k)===!0){const I=q.__offset,$=Array.isArray(q.value)?q.value:[q.value];let U=0;for(let oe=0;oe<$.length;oe++){const J=$[oe],ae=S(J);typeof J=="number"||typeof J=="boolean"?(q.__data[0]=J,i.bufferSubData(i.UNIFORM_BUFFER,I+U,q.__data)):J.isMatrix3?(q.__data[0]=J.elements[0],q.__data[1]=J.elements[1],q.__data[2]=J.elements[2],q.__data[3]=0,q.__data[4]=J.elements[3],q.__data[5]=J.elements[4],q.__data[6]=J.elements[5],q.__data[7]=0,q.__data[8]=J.elements[6],q.__data[9]=J.elements[7],q.__data[10]=J.elements[8],q.__data[11]=0):(J.toArray(q.__data,U),U+=ae.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,I,q.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function g(E,C,D,k){const H=E.value,G=C+"_"+D;if(k[G]===void 0)return typeof H=="number"||typeof H=="boolean"?k[G]=H:k[G]=H.clone(),!0;{const X=k[G];if(typeof H=="number"||typeof H=="boolean"){if(X!==H)return k[G]=H,!0}else if(X.equals(H)===!1)return X.copy(H),!0}return!1}function _(E){const C=E.uniforms;let D=0;const k=16;for(let G=0,X=C.length;G<X;G++){const O=Array.isArray(C[G])?C[G]:[C[G]];for(let z=0,q=O.length;z<q;z++){const I=O[z],$=Array.isArray(I.value)?I.value:[I.value];for(let U=0,oe=$.length;U<oe;U++){const J=$[U],ae=S(J),te=D%k,le=te%ae.boundary,Me=te+le;D+=le,Me!==0&&k-Me<ae.storage&&(D+=k-Me),I.__data=new Float32Array(ae.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=D,D+=ae.storage}}}const H=D%k;return H>0&&(D+=k-H),E.__size=D,E.__cache={},this}function S(E){const C={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(C.boundary=4,C.storage=4):E.isVector2?(C.boundary=8,C.storage=8):E.isVector3||E.isColor?(C.boundary=16,C.storage=12):E.isVector4?(C.boundary=16,C.storage=16):E.isMatrix3?(C.boundary=48,C.storage=48):E.isMatrix4?(C.boundary=64,C.storage=64):E.isTexture?en("WebGLRenderer: Texture samplers can not be part of an uniforms group."):en("WebGLRenderer: Unsupported uniform value type.",E),C}function M(E){const C=E.target;C.removeEventListener("dispose",M);const D=o.indexOf(C.__bindingPointIndex);o.splice(D,1),i.deleteBuffer(a[C.id]),delete a[C.id],delete r[C.id]}function b(){for(const E in a)i.deleteBuffer(a[E]);o=[],a={},r={}}return{bind:u,update:d,dispose:b}}const kJ=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let vh=null;function IJ(){return vh===null&&(vh=new Fu(kJ,32,32,fb,xm),vh.minFilter=ss,vh.magFilter=ss,vh.wrapS=Yl,vh.wrapT=Yl,vh.generateMipmaps=!1,vh.needsUpdate=!0),vh}class c7{constructor(e={}){const{canvas:t=QR(),context:n=null,depth:a=!0,stencil:r=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:y=!1,reversedDepthBuffer:x=!1}=e;this.isWebGLRenderer=!0;let g;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=n.getContextAttributes().alpha}else g=o;const _=new Set([mb,pb,Ay]),S=new Set([au,Dh,K0,Z0,ub,db]),M=new Uint32Array(4),b=new Int32Array(4);let E=null,C=null;const D=[],k=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Cd,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const H=this;let G=!1;this._outputColorSpace=Io;let X=0,O=0,z=null,q=-1,I=null;const $=new Yi,U=new Yi;let oe=null;const J=new rn(0);let ae=0,te=t.width,le=t.height,Me=1,Z=null,V=null;const re=new Yi(0,0,te,le),ce=new Yi(0,0,te,le);let pe=!1;const me=new xg;let Ee=!1,Ue=!1;const ze=new Vn,We=new ke,at=new Yi,Ct={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let gt=!1;function W(){return z===null?Me:1}let j=n;function xe(be,Ze){return t.getContext(be,Ze)}try{const be={alpha:!0,depth:a,stencil:r,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:y};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${wy}`),t.addEventListener("webglcontextlost",ot,!1),t.addEventListener("webglcontextrestored",dt,!1),t.addEventListener("webglcontextcreationerror",qt,!1),j===null){const Ze="webgl2";if(j=xe(Ze,be),j===null)throw xe(Ze)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(be){throw be("WebGLRenderer: "+be.message),be}let de,ue,ie,Re,Pe,ge,se,ee,Ae,je,Ge,Be,mt,yt,Mt,jt,Ke,st,Dt,De,qe,St,Ne,xt;function Tt(){de=new WK(j),de.init(),St=new l7(j,de),ue=new UK(j,de,e,St),ie=new TJ(j,de),ue.reversedDepthBuffer&&x&&ie.buffers.depth.setReversed(!0),Re=new $K(j),Pe=new fJ,ge=new EJ(j,de,ie,Pe,ue,St,Re),se=new BK(H),ee=new GK(H),Ae=new QX(j),Ne=new kK(j,Ae),je=new XK(j,Ae,Re,Ne),Ge=new ZK(j,je,Ae,Re),Dt=new KK(j,ue,ge),jt=new zK(Pe),Be=new hJ(H,se,ee,de,ue,Ne,jt),mt=new OJ(H,Pe),yt=new mJ,Mt=new _J(de),st=new PK(H,se,ee,ie,Ge,g,u),Ke=new AJ(H,Ge,ue),xt=new PJ(j,Re,ue,ie),De=new IK(j,de,Re),qe=new YK(j,de,Re),Re.programs=Be.programs,H.capabilities=ue,H.extensions=de,H.properties=Pe,H.renderLists=yt,H.shadowMap=Ke,H.state=ie,H.info=Re}Tt();const bt=new LJ(H,j);this.xr=bt,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const be=de.get("WEBGL_lose_context");be&&be.loseContext()},this.forceContextRestore=function(){const be=de.get("WEBGL_lose_context");be&&be.restoreContext()},this.getPixelRatio=function(){return Me},this.setPixelRatio=function(be){be!==void 0&&(Me=be,this.setSize(te,le,!1))},this.getSize=function(be){return be.set(te,le)},this.setSize=function(be,Ze,ft=!0){if(bt.isPresenting){en("WebGLRenderer: Can't change size while VR device is presenting.");return}te=be,le=Ze,t.width=Math.floor(be*Me),t.height=Math.floor(Ze*Me),ft===!0&&(t.style.width=be+"px",t.style.height=Ze+"px"),this.setViewport(0,0,be,Ze)},this.getDrawingBufferSize=function(be){return be.set(te*Me,le*Me).floor()},this.setDrawingBufferSize=function(be,Ze,ft){te=be,le=Ze,Me=ft,t.width=Math.floor(be*ft),t.height=Math.floor(Ze*ft),this.setViewport(0,0,be,Ze)},this.getCurrentViewport=function(be){return be.copy($)},this.getViewport=function(be){return be.copy(re)},this.setViewport=function(be,Ze,ft,ct){be.isVector4?re.set(be.x,be.y,be.z,be.w):re.set(be,Ze,ft,ct),ie.viewport($.copy(re).multiplyScalar(Me).round())},this.getScissor=function(be){return be.copy(ce)},this.setScissor=function(be,Ze,ft,ct){be.isVector4?ce.set(be.x,be.y,be.z,be.w):ce.set(be,Ze,ft,ct),ie.scissor(U.copy(ce).multiplyScalar(Me).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(be){ie.setScissorTest(pe=be)},this.setOpaqueSort=function(be){Z=be},this.setTransparentSort=function(be){V=be},this.getClearColor=function(be){return be.copy(st.getClearColor())},this.setClearColor=function(){st.setClearColor(...arguments)},this.getClearAlpha=function(){return st.getClearAlpha()},this.setClearAlpha=function(){st.setClearAlpha(...arguments)},this.clear=function(be=!0,Ze=!0,ft=!0){let ct=0;if(be){let Je=!1;if(z!==null){const Ft=z.texture.format;Je=_.has(Ft)}if(Je){const Ft=z.texture.type,Wt=S.has(Ft),Kt=st.getClearColor(),Zt=st.getClearAlpha(),vn=Kt.r,An=Kt.g,mn=Kt.b;Wt?(M[0]=vn,M[1]=An,M[2]=mn,M[3]=Zt,j.clearBufferuiv(j.COLOR,0,M)):(b[0]=vn,b[1]=An,b[2]=mn,b[3]=Zt,j.clearBufferiv(j.COLOR,0,b))}else ct|=j.COLOR_BUFFER_BIT}Ze&&(ct|=j.DEPTH_BUFFER_BIT),ft&&(ct|=j.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),j.clear(ct)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ot,!1),t.removeEventListener("webglcontextrestored",dt,!1),t.removeEventListener("webglcontextcreationerror",qt,!1),st.dispose(),yt.dispose(),Mt.dispose(),Pe.dispose(),se.dispose(),ee.dispose(),Ge.dispose(),Ne.dispose(),xt.dispose(),Be.dispose(),bt.dispose(),bt.removeEventListener("sessionstart",Ar),bt.removeEventListener("sessionend",Mr),ei.stop()};function ot(be){be.preventDefault(),ay("WebGLRenderer: Context Lost."),G=!0}function dt(){ay("WebGLRenderer: Context Restored."),G=!1;const be=Re.autoReset,Ze=Ke.enabled,ft=Ke.autoUpdate,ct=Ke.needsUpdate,Je=Ke.type;Tt(),Re.autoReset=be,Ke.enabled=Ze,Ke.autoUpdate=ft,Ke.needsUpdate=ct,Ke.type=Je}function qt(be){Wn("WebGLRenderer: A WebGL context could not be created. Reason: ",be.statusMessage)}function Xt(be){const Ze=be.target;Ze.removeEventListener("dispose",Xt),wn(Ze)}function wn(be){xn(be),Pe.remove(be)}function xn(be){const Ze=Pe.get(be).programs;Ze!==void 0&&(Ze.forEach(function(ft){Be.releaseProgram(ft)}),be.isShaderMaterial&&Be.releaseShaderCache(be))}this.renderBufferDirect=function(be,Ze,ft,ct,Je,Ft){Ze===null&&(Ze=Ct);const Wt=Je.isMesh&&Je.matrixWorld.determinant()<0,Kt=gs(be,Ze,ft,ct,Je);ie.setMaterial(ct,Wt);let Zt=ft.index,vn=1;if(ct.wireframe===!0){if(Zt=je.getWireframeAttribute(ft),Zt===void 0)return;vn=2}const An=ft.drawRange,mn=ft.attributes.position;let Rn=An.start*vn,ti=(An.start+An.count)*vn;Ft!==null&&(Rn=Math.max(Rn,Ft.start*vn),ti=Math.min(ti,(Ft.start+Ft.count)*vn)),Zt!==null?(Rn=Math.max(Rn,0),ti=Math.min(ti,Zt.count)):mn!=null&&(Rn=Math.max(Rn,0),ti=Math.min(ti,mn.count));const di=ti-Rn;if(di<0||di===1/0)return;Ne.setup(Je,ct,Kt,ft,Zt);let Sn,_i=De;if(Zt!==null&&(Sn=Ae.get(Zt),_i=qe,_i.setIndex(Sn)),Je.isMesh)ct.wireframe===!0?(ie.setLineWidth(ct.wireframeLinewidth*W()),_i.setMode(j.LINES)):_i.setMode(j.TRIANGLES);else if(Je.isLine){let cn=ct.linewidth;cn===void 0&&(cn=1),ie.setLineWidth(cn*W()),Je.isLineSegments?_i.setMode(j.LINES):Je.isLineLoop?_i.setMode(j.LINE_LOOP):_i.setMode(j.LINE_STRIP)}else Je.isPoints?_i.setMode(j.POINTS):Je.isSprite&&_i.setMode(j.TRIANGLES);if(Je.isBatchedMesh)if(Je._multiDrawInstances!==null)tg("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),_i.renderMultiDrawInstances(Je._multiDrawStarts,Je._multiDrawCounts,Je._multiDrawCount,Je._multiDrawInstances);else if(de.get("WEBGL_multi_draw"))_i.renderMultiDraw(Je._multiDrawStarts,Je._multiDrawCounts,Je._multiDrawCount);else{const cn=Je._multiDrawStarts,wi=Je._multiDrawCounts,ni=Je._multiDrawCount,Oi=Zt?Ae.get(Zt).bytesPerElement:1,ra=Pe.get(ct).currentProgram.getUniforms();for(let pi=0;pi<ni;pi++)ra.setValue(j,"_gl_DrawID",pi),_i.render(cn[pi]/Oi,wi[pi])}else if(Je.isInstancedMesh)_i.renderInstances(Rn,di,Je.count);else if(ft.isInstancedBufferGeometry){const cn=ft._maxInstanceCount!==void 0?ft._maxInstanceCount:1/0,wi=Math.min(ft.instanceCount,cn);_i.renderInstances(Rn,di,wi)}else _i.render(Rn,di)};function $t(be,Ze,ft){be.transparent===!0&&be.side===_d&&be.forceSinglePass===!1?(be.side=pl,be.needsUpdate=!0,ji(be,Ze,ft),be.side=Rh,be.needsUpdate=!0,ji(be,Ze,ft),be.side=_d):ji(be,Ze,ft)}this.compile=function(be,Ze,ft=null){ft===null&&(ft=be),C=Mt.get(ft),C.init(Ze),k.push(C),ft.traverseVisible(function(Je){Je.isLight&&Je.layers.test(Ze.layers)&&(C.pushLight(Je),Je.castShadow&&C.pushShadow(Je))}),be!==ft&&be.traverseVisible(function(Je){Je.isLight&&Je.layers.test(Ze.layers)&&(C.pushLight(Je),Je.castShadow&&C.pushShadow(Je))}),C.setupLights();const ct=new Set;return be.traverse(function(Je){if(!(Je.isMesh||Je.isPoints||Je.isLine||Je.isSprite))return;const Ft=Je.material;if(Ft)if(Array.isArray(Ft))for(let Wt=0;Wt<Ft.length;Wt++){const Kt=Ft[Wt];$t(Kt,ft,Je),ct.add(Kt)}else $t(Ft,ft,Je),ct.add(Ft)}),C=k.pop(),ct},this.compileAsync=function(be,Ze,ft=null){const ct=this.compile(be,Ze,ft);return new Promise(Je=>{function Ft(){if(ct.forEach(function(Wt){Pe.get(Wt).currentProgram.isReady()&&ct.delete(Wt)}),ct.size===0){Je(be);return}setTimeout(Ft,10)}de.get("KHR_parallel_shader_compile")!==null?Ft():setTimeout(Ft,10)})};let Fi=null;function Gs(be){Fi&&Fi(be)}function Ar(){ei.stop()}function Mr(){ei.start()}const ei=new i7;ei.setAnimationLoop(Gs),typeof self<"u"&&ei.setContext(self),this.setAnimationLoop=function(be){Fi=be,bt.setAnimationLoop(be),be===null?ei.stop():ei.start()},bt.addEventListener("sessionstart",Ar),bt.addEventListener("sessionend",Mr),this.render=function(be,Ze){if(Ze!==void 0&&Ze.isCamera!==!0){Wn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(G===!0)return;if(be.matrixWorldAutoUpdate===!0&&be.updateMatrixWorld(),Ze.parent===null&&Ze.matrixWorldAutoUpdate===!0&&Ze.updateMatrixWorld(),bt.enabled===!0&&bt.isPresenting===!0&&(bt.cameraAutoUpdate===!0&&bt.updateCamera(Ze),Ze=bt.getCamera()),be.isScene===!0&&be.onBeforeRender(H,be,Ze,z),C=Mt.get(be,k.length),C.init(Ze),k.push(C),ze.multiplyMatrices(Ze.projectionMatrix,Ze.matrixWorldInverse),me.setFromProjectionMatrix(ze,Ac,Ze.reversedDepth),Ue=this.localClippingEnabled,Ee=jt.init(this.clippingPlanes,Ue),E=yt.get(be,D.length),E.init(),D.push(E),bt.enabled===!0&&bt.isPresenting===!0){const Ft=H.xr.getDepthSensingMesh();Ft!==null&&ya(Ft,Ze,-1/0,H.sortObjects)}ya(be,Ze,0,H.sortObjects),E.finish(),H.sortObjects===!0&&E.sort(Z,V),gt=bt.enabled===!1||bt.isPresenting===!1||bt.hasDepthSensing()===!1,gt&&st.addToRenderList(E,be),this.info.render.frame++,Ee===!0&&jt.beginShadows();const ft=C.state.shadowsArray;Ke.render(ft,be,Ze),Ee===!0&&jt.endShadows(),this.info.autoReset===!0&&this.info.reset();const ct=E.opaque,Je=E.transmissive;if(C.setupLights(),Ze.isArrayCamera){const Ft=Ze.cameras;if(Je.length>0)for(let Wt=0,Kt=Ft.length;Wt<Kt;Wt++){const Zt=Ft[Wt];dr(ct,Je,be,Zt)}gt&&st.render(be);for(let Wt=0,Kt=Ft.length;Wt<Kt;Wt++){const Zt=Ft[Wt];Ki(E,be,Zt,Zt.viewport)}}else Je.length>0&&dr(ct,Je,be,Ze),gt&&st.render(be),Ki(E,be,Ze);z!==null&&O===0&&(ge.updateMultisampleRenderTarget(z),ge.updateRenderTargetMipmap(z)),be.isScene===!0&&be.onAfterRender(H,be,Ze),Ne.resetDefaultState(),q=-1,I=null,k.pop(),k.length>0?(C=k[k.length-1],Ee===!0&&jt.setGlobalState(H.clippingPlanes,C.state.camera)):C=null,D.pop(),D.length>0?E=D[D.length-1]:E=null};function ya(be,Ze,ft,ct){if(be.visible===!1)return;if(be.layers.test(Ze.layers)){if(be.isGroup)ft=be.renderOrder;else if(be.isLOD)be.autoUpdate===!0&&be.update(Ze);else if(be.isLight)C.pushLight(be),be.castShadow&&C.pushShadow(be);else if(be.isSprite){if(!be.frustumCulled||me.intersectsSprite(be)){ct&&at.setFromMatrixPosition(be.matrixWorld).applyMatrix4(ze);const Wt=Ge.update(be),Kt=be.material;Kt.visible&&E.push(be,Wt,Kt,ft,at.z,null)}}else if((be.isMesh||be.isLine||be.isPoints)&&(!be.frustumCulled||me.intersectsObject(be))){const Wt=Ge.update(be),Kt=be.material;if(ct&&(be.boundingSphere!==void 0?(be.boundingSphere===null&&be.computeBoundingSphere(),at.copy(be.boundingSphere.center)):(Wt.boundingSphere===null&&Wt.computeBoundingSphere(),at.copy(Wt.boundingSphere.center)),at.applyMatrix4(be.matrixWorld).applyMatrix4(ze)),Array.isArray(Kt)){const Zt=Wt.groups;for(let vn=0,An=Zt.length;vn<An;vn++){const mn=Zt[vn],Rn=Kt[mn.materialIndex];Rn&&Rn.visible&&E.push(be,Wt,Rn,ft,at.z,mn)}}else Kt.visible&&E.push(be,Wt,Kt,ft,at.z,null)}}const Ft=be.children;for(let Wt=0,Kt=Ft.length;Wt<Kt;Wt++)ya(Ft[Wt],Ze,ft,ct)}function Ki(be,Ze,ft,ct){const{opaque:Je,transmissive:Ft,transparent:Wt}=be;C.setupLightsView(ft),Ee===!0&&jt.setGlobalState(H.clippingPlanes,ft),ct&&ie.viewport($.copy(ct)),Je.length>0&&Pa(Je,Ze,ft),Ft.length>0&&Pa(Ft,Ze,ft),Wt.length>0&&Pa(Wt,Ze,ft),ie.buffers.depth.setTest(!0),ie.buffers.depth.setMask(!0),ie.buffers.color.setMask(!0),ie.setPolygonOffset(!1)}function dr(be,Ze,ft,ct){if((ft.isScene===!0?ft.overrideMaterial:null)!==null)return;C.state.transmissionRenderTarget[ct.id]===void 0&&(C.state.transmissionRenderTarget[ct.id]=new Nd(1,1,{generateMipmaps:!0,type:de.has("EXT_color_buffer_half_float")||de.has("EXT_color_buffer_float")?xm:au,minFilter:Sd,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Bi.workingColorSpace}));const Ft=C.state.transmissionRenderTarget[ct.id],Wt=ct.viewport||$;Ft.setSize(Wt.z*H.transmissionResolutionScale,Wt.w*H.transmissionResolutionScale);const Kt=H.getRenderTarget(),Zt=H.getActiveCubeFace(),vn=H.getActiveMipmapLevel();H.setRenderTarget(Ft),H.getClearColor(J),ae=H.getClearAlpha(),ae<1&&H.setClearColor(16777215,.5),H.clear(),gt&&st.render(ft);const An=H.toneMapping;H.toneMapping=Cd;const mn=ct.viewport;if(ct.viewport!==void 0&&(ct.viewport=void 0),C.setupLightsView(ct),Ee===!0&&jt.setGlobalState(H.clippingPlanes,ct),Pa(be,ft,ct),ge.updateMultisampleRenderTarget(Ft),ge.updateRenderTargetMipmap(Ft),de.has("WEBGL_multisampled_render_to_texture")===!1){let Rn=!1;for(let ti=0,di=Ze.length;ti<di;ti++){const Sn=Ze[ti],{object:_i,geometry:cn,material:wi,group:ni}=Sn;if(wi.side===_d&&_i.layers.test(ct.layers)){const Oi=wi.side;wi.side=pl,wi.needsUpdate=!0,Dn(_i,ft,ct,cn,wi,ni),wi.side=Oi,wi.needsUpdate=!0,Rn=!0}}Rn===!0&&(ge.updateMultisampleRenderTarget(Ft),ge.updateRenderTargetMipmap(Ft))}H.setRenderTarget(Kt,Zt,vn),H.setClearColor(J,ae),mn!==void 0&&(ct.viewport=mn),H.toneMapping=An}function Pa(be,Ze,ft){const ct=Ze.isScene===!0?Ze.overrideMaterial:null;for(let Je=0,Ft=be.length;Je<Ft;Je++){const Wt=be[Je],{object:Kt,geometry:Zt,group:vn}=Wt;let An=Wt.material;An.allowOverride===!0&&ct!==null&&(An=ct),Kt.layers.test(ft.layers)&&Dn(Kt,Ze,ft,Zt,An,vn)}}function Dn(be,Ze,ft,ct,Je,Ft){be.onBeforeRender(H,Ze,ft,ct,Je,Ft),be.modelViewMatrix.multiplyMatrices(ft.matrixWorldInverse,be.matrixWorld),be.normalMatrix.getNormalMatrix(be.modelViewMatrix),Je.onBeforeRender(H,Ze,ft,ct,be,Ft),Je.transparent===!0&&Je.side===_d&&Je.forceSinglePass===!1?(Je.side=pl,Je.needsUpdate=!0,H.renderBufferDirect(ft,Ze,ct,Je,be,Ft),Je.side=Rh,Je.needsUpdate=!0,H.renderBufferDirect(ft,Ze,ct,Je,be,Ft),Je.side=_d):H.renderBufferDirect(ft,Ze,ct,Je,be,Ft),be.onAfterRender(H,Ze,ft,ct,Je,Ft)}function ji(be,Ze,ft){Ze.isScene!==!0&&(Ze=Ct);const ct=Pe.get(be),Je=C.state.lights,Ft=C.state.shadowsArray,Wt=Je.state.version,Kt=Be.getParameters(be,Je.state,Ft,Ze,ft),Zt=Be.getProgramCacheKey(Kt);let vn=ct.programs;ct.environment=be.isMeshStandardMaterial?Ze.environment:null,ct.fog=Ze.fog,ct.envMap=(be.isMeshStandardMaterial?ee:se).get(be.envMap||ct.environment),ct.envMapRotation=ct.environment!==null&&be.envMap===null?Ze.environmentRotation:be.envMapRotation,vn===void 0&&(be.addEventListener("dispose",Xt),vn=new Map,ct.programs=vn);let An=vn.get(Zt);if(An!==void 0){if(ct.currentProgram===An&&ct.lightsStateVersion===Wt)return Hr(be,Kt),An}else Kt.uniforms=Be.getUniforms(be),be.onBeforeCompile(Kt,H),An=Be.acquireProgram(Kt,Zt),vn.set(Zt,An),ct.uniforms=Kt.uniforms;const mn=ct.uniforms;return(!be.isShaderMaterial&&!be.isRawShaderMaterial||be.clipping===!0)&&(mn.clippingPlanes=jt.uniform),Hr(be,Kt),ct.needsLights=ys(be),ct.lightsStateVersion=Wt,ct.needsLights&&(mn.ambientLightColor.value=Je.state.ambient,mn.lightProbe.value=Je.state.probe,mn.directionalLights.value=Je.state.directional,mn.directionalLightShadows.value=Je.state.directionalShadow,mn.spotLights.value=Je.state.spot,mn.spotLightShadows.value=Je.state.spotShadow,mn.rectAreaLights.value=Je.state.rectArea,mn.ltc_1.value=Je.state.rectAreaLTC1,mn.ltc_2.value=Je.state.rectAreaLTC2,mn.pointLights.value=Je.state.point,mn.pointLightShadows.value=Je.state.pointShadow,mn.hemisphereLights.value=Je.state.hemi,mn.directionalShadowMap.value=Je.state.directionalShadowMap,mn.directionalShadowMatrix.value=Je.state.directionalShadowMatrix,mn.spotShadowMap.value=Je.state.spotShadowMap,mn.spotLightMatrix.value=Je.state.spotLightMatrix,mn.spotLightMap.value=Je.state.spotLightMap,mn.pointShadowMap.value=Je.state.pointShadowMap,mn.pointShadowMatrix.value=Je.state.pointShadowMatrix),ct.currentProgram=An,ct.uniformsList=null,An}function Xa(be){if(be.uniformsList===null){const Ze=be.currentProgram.getUniforms();be.uniformsList=Uv.seqWithValue(Ze.seq,be.uniforms)}return be.uniformsList}function Hr(be,Ze){const ft=Pe.get(be);ft.outputColorSpace=Ze.outputColorSpace,ft.batching=Ze.batching,ft.batchingColor=Ze.batchingColor,ft.instancing=Ze.instancing,ft.instancingColor=Ze.instancingColor,ft.instancingMorph=Ze.instancingMorph,ft.skinning=Ze.skinning,ft.morphTargets=Ze.morphTargets,ft.morphNormals=Ze.morphNormals,ft.morphColors=Ze.morphColors,ft.morphTargetsCount=Ze.morphTargetsCount,ft.numClippingPlanes=Ze.numClippingPlanes,ft.numIntersection=Ze.numClipIntersection,ft.vertexAlphas=Ze.vertexAlphas,ft.vertexTangents=Ze.vertexTangents,ft.toneMapping=Ze.toneMapping}function gs(be,Ze,ft,ct,Je){Ze.isScene!==!0&&(Ze=Ct),ge.resetTextureUnits();const Ft=Ze.fog,Wt=ct.isMeshStandardMaterial?Ze.environment:null,Kt=z===null?H.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:qf,Zt=(ct.isMeshStandardMaterial?ee:se).get(ct.envMap||Wt),vn=ct.vertexColors===!0&&!!ft.attributes.color&&ft.attributes.color.itemSize===4,An=!!ft.attributes.tangent&&(!!ct.normalMap||ct.anisotropy>0),mn=!!ft.morphAttributes.position,Rn=!!ft.morphAttributes.normal,ti=!!ft.morphAttributes.color;let di=Cd;ct.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(di=H.toneMapping);const Sn=ft.morphAttributes.position||ft.morphAttributes.normal||ft.morphAttributes.color,_i=Sn!==void 0?Sn.length:0,cn=Pe.get(ct),wi=C.state.lights;if(Ee===!0&&(Ue===!0||be!==I)){const Va=be===I&&ct.id===q;jt.setState(ct,be,Va)}let ni=!1;ct.version===cn.__version?(cn.needsLights&&cn.lightsStateVersion!==wi.state.version||cn.outputColorSpace!==Kt||Je.isBatchedMesh&&cn.batching===!1||!Je.isBatchedMesh&&cn.batching===!0||Je.isBatchedMesh&&cn.batchingColor===!0&&Je.colorTexture===null||Je.isBatchedMesh&&cn.batchingColor===!1&&Je.colorTexture!==null||Je.isInstancedMesh&&cn.instancing===!1||!Je.isInstancedMesh&&cn.instancing===!0||Je.isSkinnedMesh&&cn.skinning===!1||!Je.isSkinnedMesh&&cn.skinning===!0||Je.isInstancedMesh&&cn.instancingColor===!0&&Je.instanceColor===null||Je.isInstancedMesh&&cn.instancingColor===!1&&Je.instanceColor!==null||Je.isInstancedMesh&&cn.instancingMorph===!0&&Je.morphTexture===null||Je.isInstancedMesh&&cn.instancingMorph===!1&&Je.morphTexture!==null||cn.envMap!==Zt||ct.fog===!0&&cn.fog!==Ft||cn.numClippingPlanes!==void 0&&(cn.numClippingPlanes!==jt.numPlanes||cn.numIntersection!==jt.numIntersection)||cn.vertexAlphas!==vn||cn.vertexTangents!==An||cn.morphTargets!==mn||cn.morphNormals!==Rn||cn.morphColors!==ti||cn.toneMapping!==di||cn.morphTargetsCount!==_i)&&(ni=!0):(ni=!0,cn.__version=ct.version);let Oi=cn.currentProgram;ni===!0&&(Oi=ji(ct,Ze,Je));let ra=!1,pi=!1,Ws=!1;const Vi=Oi.getUniforms(),Ya=cn.uniforms;if(ie.useProgram(Oi.program)&&(ra=!0,pi=!0,Ws=!0),ct.id!==q&&(q=ct.id,pi=!0),ra||I!==be){ie.buffers.depth.getReversed()&&be.reversedDepth!==!0&&(be._reversedDepth=!0,be.updateProjectionMatrix()),Vi.setValue(j,"projectionMatrix",be.projectionMatrix),Vi.setValue(j,"viewMatrix",be.matrixWorldInverse);const xa=Vi.map.cameraPosition;xa!==void 0&&xa.setValue(j,We.setFromMatrixPosition(be.matrixWorld)),ue.logarithmicDepthBuffer&&Vi.setValue(j,"logDepthBufFC",2/(Math.log(be.far+1)/Math.LN2)),(ct.isMeshPhongMaterial||ct.isMeshToonMaterial||ct.isMeshLambertMaterial||ct.isMeshBasicMaterial||ct.isMeshStandardMaterial||ct.isShaderMaterial)&&Vi.setValue(j,"isOrthographic",be.isOrthographicCamera===!0),I!==be&&(I=be,pi=!0,Ws=!0)}if(Je.isSkinnedMesh){Vi.setOptional(j,Je,"bindMatrix"),Vi.setOptional(j,Je,"bindMatrixInverse");const Va=Je.skeleton;Va&&(Va.boneTexture===null&&Va.computeBoneTexture(),Vi.setValue(j,"boneTexture",Va.boneTexture,ge))}Je.isBatchedMesh&&(Vi.setOptional(j,Je,"batchingTexture"),Vi.setValue(j,"batchingTexture",Je._matricesTexture,ge),Vi.setOptional(j,Je,"batchingIdTexture"),Vi.setValue(j,"batchingIdTexture",Je._indirectTexture,ge),Vi.setOptional(j,Je,"batchingColorTexture"),Je._colorsTexture!==null&&Vi.setValue(j,"batchingColorTexture",Je._colorsTexture,ge));const Zi=ft.morphAttributes;if((Zi.position!==void 0||Zi.normal!==void 0||Zi.color!==void 0)&&Dt.update(Je,ft,Oi),(pi||cn.receiveShadow!==Je.receiveShadow)&&(cn.receiveShadow=Je.receiveShadow,Vi.setValue(j,"receiveShadow",Je.receiveShadow)),ct.isMeshGouraudMaterial&&ct.envMap!==null&&(Ya.envMap.value=Zt,Ya.flipEnvMap.value=Zt.isCubeTexture&&Zt.isRenderTargetTexture===!1?-1:1),ct.isMeshStandardMaterial&&ct.envMap===null&&Ze.environment!==null&&(Ya.envMapIntensity.value=Ze.environmentIntensity),Ya.dfgLUT!==void 0&&(Ya.dfgLUT.value=IJ()),pi&&(Vi.setValue(j,"toneMappingExposure",H.toneMappingExposure),cn.needsLights&&Jl(Ya,Ws),Ft&&ct.fog===!0&&mt.refreshFogUniforms(Ya,Ft),mt.refreshMaterialUniforms(Ya,ct,Me,le,C.state.transmissionRenderTarget[be.id]),Uv.upload(j,Xa(cn),Ya,ge)),ct.isShaderMaterial&&ct.uniformsNeedUpdate===!0&&(Uv.upload(j,Xa(cn),Ya,ge),ct.uniformsNeedUpdate=!1),ct.isSpriteMaterial&&Vi.setValue(j,"center",Je.center),Vi.setValue(j,"modelViewMatrix",Je.modelViewMatrix),Vi.setValue(j,"normalMatrix",Je.normalMatrix),Vi.setValue(j,"modelMatrix",Je.matrixWorld),ct.isShaderMaterial||ct.isRawShaderMaterial){const Va=ct.uniformsGroups;for(let xa=0,os=Va.length;xa<os;xa++){const Tr=Va[xa];xt.update(Tr,Oi),xt.bind(Tr,Oi)}}return Oi}function Jl(be,Ze){be.ambientLightColor.needsUpdate=Ze,be.lightProbe.needsUpdate=Ze,be.directionalLights.needsUpdate=Ze,be.directionalLightShadows.needsUpdate=Ze,be.pointLights.needsUpdate=Ze,be.pointLightShadows.needsUpdate=Ze,be.spotLights.needsUpdate=Ze,be.spotLightShadows.needsUpdate=Ze,be.rectAreaLights.needsUpdate=Ze,be.hemisphereLights.needsUpdate=Ze}function ys(be){return be.isMeshLambertMaterial||be.isMeshToonMaterial||be.isMeshPhongMaterial||be.isMeshStandardMaterial||be.isShadowMaterial||be.isShaderMaterial&&be.lights===!0}this.getActiveCubeFace=function(){return X},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(be,Ze,ft){const ct=Pe.get(be);ct.__autoAllocateDepthBuffer=be.resolveDepthBuffer===!1,ct.__autoAllocateDepthBuffer===!1&&(ct.__useRenderToTexture=!1),Pe.get(be.texture).__webglTexture=Ze,Pe.get(be.depthTexture).__webglTexture=ct.__autoAllocateDepthBuffer?void 0:ft,ct.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(be,Ze){const ft=Pe.get(be);ft.__webglFramebuffer=Ze,ft.__useDefaultFramebuffer=Ze===void 0};const xs=j.createFramebuffer();this.setRenderTarget=function(be,Ze=0,ft=0){z=be,X=Ze,O=ft;let ct=!0,Je=null,Ft=!1,Wt=!1;if(be){const Zt=Pe.get(be);if(Zt.__useDefaultFramebuffer!==void 0)ie.bindFramebuffer(j.FRAMEBUFFER,null),ct=!1;else if(Zt.__webglFramebuffer===void 0)ge.setupRenderTarget(be);else if(Zt.__hasExternalTextures)ge.rebindTextures(be,Pe.get(be.texture).__webglTexture,Pe.get(be.depthTexture).__webglTexture);else if(be.depthBuffer){const mn=be.depthTexture;if(Zt.__boundDepthTexture!==mn){if(mn!==null&&Pe.has(mn)&&(be.width!==mn.image.width||be.height!==mn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ge.setupDepthRenderbuffer(be)}}const vn=be.texture;(vn.isData3DTexture||vn.isDataArrayTexture||vn.isCompressedArrayTexture)&&(Wt=!0);const An=Pe.get(be).__webglFramebuffer;be.isWebGLCubeRenderTarget?(Array.isArray(An[Ze])?Je=An[Ze][ft]:Je=An[Ze],Ft=!0):be.samples>0&&ge.useMultisampledRTT(be)===!1?Je=Pe.get(be).__webglMultisampledFramebuffer:Array.isArray(An)?Je=An[ft]:Je=An,$.copy(be.viewport),U.copy(be.scissor),oe=be.scissorTest}else $.copy(re).multiplyScalar(Me).floor(),U.copy(ce).multiplyScalar(Me).floor(),oe=pe;if(ft!==0&&(Je=xs),ie.bindFramebuffer(j.FRAMEBUFFER,Je)&&ct&&ie.drawBuffers(be,Je),ie.viewport($),ie.scissor(U),ie.setScissorTest(oe),Ft){const Zt=Pe.get(be.texture);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Zt.__webglTexture,ft)}else if(Wt){const Zt=Ze;for(let vn=0;vn<be.textures.length;vn++){const An=Pe.get(be.textures[vn]);j.framebufferTextureLayer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0+vn,An.__webglTexture,ft,Zt)}}else if(be!==null&&ft!==0){const Zt=Pe.get(be.texture);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,Zt.__webglTexture,ft)}q=-1},this.readRenderTargetPixels=function(be,Ze,ft,ct,Je,Ft,Wt,Kt=0){if(!(be&&be.isWebGLRenderTarget)){Wn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Zt=Pe.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&Wt!==void 0&&(Zt=Zt[Wt]),Zt){ie.bindFramebuffer(j.FRAMEBUFFER,Zt);try{const vn=be.textures[Kt],An=vn.format,mn=vn.type;if(!ue.textureFormatReadable(An)){Wn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ue.textureTypeReadable(mn)){Wn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ze>=0&&Ze<=be.width-ct&&ft>=0&&ft<=be.height-Je&&(be.textures.length>1&&j.readBuffer(j.COLOR_ATTACHMENT0+Kt),j.readPixels(Ze,ft,ct,Je,St.convert(An),St.convert(mn),Ft))}finally{const vn=z!==null?Pe.get(z).__webglFramebuffer:null;ie.bindFramebuffer(j.FRAMEBUFFER,vn)}}},this.readRenderTargetPixelsAsync=async function(be,Ze,ft,ct,Je,Ft,Wt,Kt=0){if(!(be&&be.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Zt=Pe.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&Wt!==void 0&&(Zt=Zt[Wt]),Zt)if(Ze>=0&&Ze<=be.width-ct&&ft>=0&&ft<=be.height-Je){ie.bindFramebuffer(j.FRAMEBUFFER,Zt);const vn=be.textures[Kt],An=vn.format,mn=vn.type;if(!ue.textureFormatReadable(An))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ue.textureTypeReadable(mn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Rn=j.createBuffer();j.bindBuffer(j.PIXEL_PACK_BUFFER,Rn),j.bufferData(j.PIXEL_PACK_BUFFER,Ft.byteLength,j.STREAM_READ),be.textures.length>1&&j.readBuffer(j.COLOR_ATTACHMENT0+Kt),j.readPixels(Ze,ft,ct,Je,St.convert(An),St.convert(mn),0);const ti=z!==null?Pe.get(z).__webglFramebuffer:null;ie.bindFramebuffer(j.FRAMEBUFFER,ti);const di=j.fenceSync(j.SYNC_GPU_COMMANDS_COMPLETE,0);return j.flush(),await eG(j,di,4),j.bindBuffer(j.PIXEL_PACK_BUFFER,Rn),j.getBufferSubData(j.PIXEL_PACK_BUFFER,0,Ft),j.deleteBuffer(Rn),j.deleteSync(di),Ft}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(be,Ze=null,ft=0){const ct=Math.pow(2,-ft),Je=Math.floor(be.image.width*ct),Ft=Math.floor(be.image.height*ct),Wt=Ze!==null?Ze.x:0,Kt=Ze!==null?Ze.y:0;ge.setTexture2D(be,0),j.copyTexSubImage2D(j.TEXTURE_2D,ft,0,0,Wt,Kt,Je,Ft),ie.unbindTexture()};const co=j.createFramebuffer(),da=j.createFramebuffer();this.copyTextureToTexture=function(be,Ze,ft=null,ct=null,Je=0,Ft=null){Ft===null&&(Je!==0?(tg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ft=Je,Je=0):Ft=0);let Wt,Kt,Zt,vn,An,mn,Rn,ti,di;const Sn=be.isCompressedTexture?be.mipmaps[Ft]:be.image;if(ft!==null)Wt=ft.max.x-ft.min.x,Kt=ft.max.y-ft.min.y,Zt=ft.isBox3?ft.max.z-ft.min.z:1,vn=ft.min.x,An=ft.min.y,mn=ft.isBox3?ft.min.z:0;else{const Zi=Math.pow(2,-Je);Wt=Math.floor(Sn.width*Zi),Kt=Math.floor(Sn.height*Zi),be.isDataArrayTexture?Zt=Sn.depth:be.isData3DTexture?Zt=Math.floor(Sn.depth*Zi):Zt=1,vn=0,An=0,mn=0}ct!==null?(Rn=ct.x,ti=ct.y,di=ct.z):(Rn=0,ti=0,di=0);const _i=St.convert(Ze.format),cn=St.convert(Ze.type);let wi;Ze.isData3DTexture?(ge.setTexture3D(Ze,0),wi=j.TEXTURE_3D):Ze.isDataArrayTexture||Ze.isCompressedArrayTexture?(ge.setTexture2DArray(Ze,0),wi=j.TEXTURE_2D_ARRAY):(ge.setTexture2D(Ze,0),wi=j.TEXTURE_2D),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,Ze.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ze.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,Ze.unpackAlignment);const ni=j.getParameter(j.UNPACK_ROW_LENGTH),Oi=j.getParameter(j.UNPACK_IMAGE_HEIGHT),ra=j.getParameter(j.UNPACK_SKIP_PIXELS),pi=j.getParameter(j.UNPACK_SKIP_ROWS),Ws=j.getParameter(j.UNPACK_SKIP_IMAGES);j.pixelStorei(j.UNPACK_ROW_LENGTH,Sn.width),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,Sn.height),j.pixelStorei(j.UNPACK_SKIP_PIXELS,vn),j.pixelStorei(j.UNPACK_SKIP_ROWS,An),j.pixelStorei(j.UNPACK_SKIP_IMAGES,mn);const Vi=be.isDataArrayTexture||be.isData3DTexture,Ya=Ze.isDataArrayTexture||Ze.isData3DTexture;if(be.isDepthTexture){const Zi=Pe.get(be),Va=Pe.get(Ze),xa=Pe.get(Zi.__renderTarget),os=Pe.get(Va.__renderTarget);ie.bindFramebuffer(j.READ_FRAMEBUFFER,xa.__webglFramebuffer),ie.bindFramebuffer(j.DRAW_FRAMEBUFFER,os.__webglFramebuffer);for(let Tr=0;Tr<Zt;Tr++)Vi&&(j.framebufferTextureLayer(j.READ_FRAMEBUFFER,j.COLOR_ATTACHMENT0,Pe.get(be).__webglTexture,Je,mn+Tr),j.framebufferTextureLayer(j.DRAW_FRAMEBUFFER,j.COLOR_ATTACHMENT0,Pe.get(Ze).__webglTexture,Ft,di+Tr)),j.blitFramebuffer(vn,An,Wt,Kt,Rn,ti,Wt,Kt,j.DEPTH_BUFFER_BIT,j.NEAREST);ie.bindFramebuffer(j.READ_FRAMEBUFFER,null),ie.bindFramebuffer(j.DRAW_FRAMEBUFFER,null)}else if(Je!==0||be.isRenderTargetTexture||Pe.has(be)){const Zi=Pe.get(be),Va=Pe.get(Ze);ie.bindFramebuffer(j.READ_FRAMEBUFFER,co),ie.bindFramebuffer(j.DRAW_FRAMEBUFFER,da);for(let xa=0;xa<Zt;xa++)Vi?j.framebufferTextureLayer(j.READ_FRAMEBUFFER,j.COLOR_ATTACHMENT0,Zi.__webglTexture,Je,mn+xa):j.framebufferTexture2D(j.READ_FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,Zi.__webglTexture,Je),Ya?j.framebufferTextureLayer(j.DRAW_FRAMEBUFFER,j.COLOR_ATTACHMENT0,Va.__webglTexture,Ft,di+xa):j.framebufferTexture2D(j.DRAW_FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,Va.__webglTexture,Ft),Je!==0?j.blitFramebuffer(vn,An,Wt,Kt,Rn,ti,Wt,Kt,j.COLOR_BUFFER_BIT,j.NEAREST):Ya?j.copyTexSubImage3D(wi,Ft,Rn,ti,di+xa,vn,An,Wt,Kt):j.copyTexSubImage2D(wi,Ft,Rn,ti,vn,An,Wt,Kt);ie.bindFramebuffer(j.READ_FRAMEBUFFER,null),ie.bindFramebuffer(j.DRAW_FRAMEBUFFER,null)}else Ya?be.isDataTexture||be.isData3DTexture?j.texSubImage3D(wi,Ft,Rn,ti,di,Wt,Kt,Zt,_i,cn,Sn.data):Ze.isCompressedArrayTexture?j.compressedTexSubImage3D(wi,Ft,Rn,ti,di,Wt,Kt,Zt,_i,Sn.data):j.texSubImage3D(wi,Ft,Rn,ti,di,Wt,Kt,Zt,_i,cn,Sn):be.isDataTexture?j.texSubImage2D(j.TEXTURE_2D,Ft,Rn,ti,Wt,Kt,_i,cn,Sn.data):be.isCompressedTexture?j.compressedTexSubImage2D(j.TEXTURE_2D,Ft,Rn,ti,Sn.width,Sn.height,_i,Sn.data):j.texSubImage2D(j.TEXTURE_2D,Ft,Rn,ti,Wt,Kt,_i,cn,Sn);j.pixelStorei(j.UNPACK_ROW_LENGTH,ni),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,Oi),j.pixelStorei(j.UNPACK_SKIP_PIXELS,ra),j.pixelStorei(j.UNPACK_SKIP_ROWS,pi),j.pixelStorei(j.UNPACK_SKIP_IMAGES,Ws),Ft===0&&Ze.generateMipmaps&&j.generateMipmap(wi),ie.unbindTexture()},this.initRenderTarget=function(be){Pe.get(be).__webglFramebuffer===void 0&&ge.setupRenderTarget(be)},this.initTexture=function(be){be.isCubeTexture?ge.setTextureCube(be,0):be.isData3DTexture?ge.setTexture3D(be,0):be.isDataArrayTexture||be.isCompressedArrayTexture?ge.setTexture2DArray(be,0):ge.setTexture2D(be,0),ie.unbindTexture()},this.resetState=function(){X=0,O=0,z=null,ie.reset(),Ne.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ac}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Bi._getDrawingBufferColorSpace(e),t.unpackColorSpace=Bi._getUnpackColorSpace()}}const UJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:fS,AddEquation:Ef,AddOperation:LR,AdditiveAnimationBlendMode:_S,AdditiveBlending:e2,AgXToneMapping:IR,AlphaFormat:vS,AlwaysCompare:ZR,AlwaysDepth:a2,AlwaysStencilFunc:aw,AmbientLight:GL,AnimationAction:e7,AnimationClip:uy,AnimationLoader:qW,AnimationMixer:vX,AnimationObjectGroup:yX,AnimationUtils:jW,ArcCurve:gL,ArrayCamera:ZL,ArrowHelper:qX,AttachedBindMode:iw,Audio:JL,AudioAnalyser:oX,AudioContext:XS,AudioListener:aX,AudioLoader:tX,AxesHelper:GX,BackSide:pl,BasicDepthPacking:VR,BasicShadowMap:dR,BatchedMesh:dL,Bone:NS,BooleanKeyframeTrack:_m,Box2:CX,Box3:jo,Box3Helper:VX,BoxGeometry:bm,BoxHelper:FX,BufferAttribute:Oa,BufferGeometry:si,BufferGeometryLoader:KL,ByteType:mS,Cache:Ad,Camera:vb,CameraHelper:jX,CanvasTexture:cW,CapsuleGeometry:Tb,CatmullRomCurve3:yL,CineonToneMapping:PR,CircleGeometry:Eb,ClampToEdgeWrapping:Yl,Clock:YS,Color:rn,ColorKeyframeTrack:qS,ColorManagement:Bi,CompressedArrayTexture:oW,CompressedCubeTexture:lW,CompressedTexture:Mb,CompressedTextureLoader:GW,ConeGeometry:Ey,ConstantAlphaFactor:CR,ConstantColorFactor:TR,Controls:XX,CubeCamera:aL,CubeReflectionMapping:Lh,CubeRefractionMapping:Hf,CubeTexture:My,CubeTextureLoader:WW,CubeUVReflectionMapping:yg,CubicBezierCurve:PS,CubicBezierCurve3:xL,CubicInterpolant:UL,CullFaceBack:ew,CullFaceFront:uR,CullFaceFrontBack:pq,CullFaceNone:cR,Curve:Gu,CurvePath:bL,CustomBlending:hR,CustomToneMapping:kR,CylinderGeometry:Ty,Cylindrical:EX,Data3DTexture:xb,DataArrayTexture:yb,DataTexture:Fu,DataTextureLoader:XW,DataUtils:DG,DecrementStencilOp:Cq,DecrementWrapStencilOp:Rq,DefaultLoadingManager:jL,DepthFormat:J0,DepthStencilFormat:Q0,DepthTexture:LS,DetachedBindMode:zR,DirectionalLight:qL,DirectionalLightHelper:BX,DiscreteInterpolant:zL,DodecahedronGeometry:Cb,DoubleSide:_d,DstAlphaFactor:_R,DstColorFactor:SR,DynamicCopyUsage:Gq,DynamicDrawUsage:Bq,DynamicReadUsage:Vq,EdgesGeometry:mL,EllipseCurve:Nb,EqualCompare:XR,EqualDepth:s2,EqualStencilFunc:Pq,EquirectangularReflectionMapping:$1,EquirectangularRefractionMapping:K1,Euler:Ec,EventDispatcher:Ld,ExternalTexture:DS,ExtrudeGeometry:Rb,FileLoader:Oh,Float16BufferAttribute:BG,Float32BufferAttribute:pn,FloatType:$l,Fog:_b,FogExp2:bb,FramebufferTexture:sW,FrontSide:Rh,Frustum:xg,FrustumArray:Ab,GLBufferAttribute:AX,GLSL1:Xq,GLSL3:rw,GreaterCompare:YR,GreaterDepth:l2,GreaterEqualCompare:KR,GreaterEqualDepth:o2,GreaterEqualStencilFunc:zq,GreaterStencilFunc:Iq,GridHelper:UX,Group:O0,HalfFloatType:xm,HemisphereLight:FL,HemisphereLightHelper:IX,IcosahedronGeometry:Lb,ImageBitmapLoader:eX,ImageLoader:dy,ImageUtils:eL,IncrementStencilOp:Eq,IncrementWrapStencilOp:Nq,InstancedBufferAttribute:rg,InstancedBufferGeometry:$L,InstancedInterleavedBuffer:SX,InstancedMesh:uL,Int16BufferAttribute:UG,Int32BufferAttribute:zG,Int8BufferAttribute:PG,IntType:cb,InterleavedBuffer:wb,InterleavedBufferAttribute:fm,Interpolant:Ry,InterpolateDiscrete:Q1,InterpolateLinear:z2,InterpolateSmooth:kv,InterpolationSamplingMode:Kq,InterpolationSamplingType:$q,InvertStencilOp:Lq,KeepStencilOp:qp,KeyframeTrack:ru,LOD:lL,LatheGeometry:Db,Layers:ig,LessCompare:WR,LessDepth:r2,LessEqualCompare:wS,LessEqualDepth:hm,LessEqualStencilFunc:kq,LessStencilFunc:Oq,Light:Zf,LightProbe:YL,Line:Wf,Line3:LX,LineBasicMaterial:ml,LineCurve:kS,LineCurve3:vL,LineDashedMaterial:PL,LineLoop:hL,LineSegments:Dd,LinearFilter:ss,LinearInterpolant:HS,LinearMipMapLinearFilter:xq,LinearMipMapNearestFilter:yq,LinearMipmapLinearFilter:Sd,LinearMipmapNearestFilter:L1,LinearSRGBColorSpace:qf,LinearToneMapping:DR,LinearTransfer:ty,Loader:Zl,LoaderUtils:uw,LoadingManager:GS,LoopOnce:BR,LoopPingPong:FR,LoopRepeat:jR,MOUSE:Vp,Material:Vo,MaterialLoader:Bb,MathUtils:yG,Matrix2:JS,Matrix3:ri,Matrix4:Vn,MaxEquation:gR,Mesh:Ns,MeshBasicMaterial:$f,MeshDepthMaterial:jS,MeshDistanceMaterial:FS,MeshLambertMaterial:DL,MeshMatcapMaterial:OL,MeshNormalMaterial:LL,MeshPhongMaterial:NL,MeshPhysicalMaterial:CL,MeshStandardMaterial:BS,MeshToonMaterial:RL,MinEquation:mR,MirroredRepeatWrapping:J1,MixOperation:RR,MultiplyBlending:nw,MultiplyOperation:Sy,NearestFilter:oo,NearestMipMapLinearFilter:gq,NearestMipMapNearestFilter:mq,NearestMipmapLinearFilter:L0,NearestMipmapNearestFilter:pS,NeutralToneMapping:UR,NeverCompare:GR,NeverDepth:i2,NeverStencilFunc:Dq,NoBlending:Ed,NoColorSpace:wh,NoToneMapping:Cd,NormalAnimationBlendMode:gb,NormalBlending:im,NotEqualCompare:$R,NotEqualDepth:c2,NotEqualStencilFunc:Uq,NumberKeyframeTrack:ly,Object3D:$i,ObjectLoader:JW,ObjectSpaceNormalMap:qR,OctahedronGeometry:Cy,OneFactor:xR,OneMinusConstantAlphaFactor:NR,OneMinusConstantColorFactor:ER,OneMinusDstAlphaFactor:wR,OneMinusDstColorFactor:AR,OneMinusSrcAlphaFactor:n2,OneMinusSrcColorFactor:bR,OrthographicCamera:kf,PCFShadowMap:ob,PCFSoftShadowMap:R1,PMREMGenerator:fw,Path:V2,PerspectiveCamera:rs,Plane:_h,PlaneGeometry:vg,PlaneHelper:HX,PointLight:HL,PointLightHelper:PX,Points:fL,PointsMaterial:RS,PolarGridHelper:zX,PolyhedronGeometry:Kf,PositionalAudio:sX,PropertyBinding:Xi,PropertyMixer:QL,QuadraticBezierCurve:IS,QuadraticBezierCurve3:US,Quaternion:Bo,QuaternionKeyframeTrack:Ly,QuaternionLinearInterpolant:BL,RED_GREEN_RGTC2_Format:I2,RED_RGTC1_Format:P2,REVISION:wy,RGBADepthPacking:HR,RGBAFormat:zo,RGBAIntegerFormat:mb,RGBA_ASTC_10x10_Format:C2,RGBA_ASTC_10x5_Format:M2,RGBA_ASTC_10x6_Format:T2,RGBA_ASTC_10x8_Format:E2,RGBA_ASTC_12x10_Format:N2,RGBA_ASTC_12x12_Format:R2,RGBA_ASTC_4x4_Format:y2,RGBA_ASTC_5x4_Format:x2,RGBA_ASTC_5x5_Format:v2,RGBA_ASTC_6x5_Format:b2,RGBA_ASTC_6x6_Format:_2,RGBA_ASTC_8x5_Format:w2,RGBA_ASTC_8x6_Format:S2,RGBA_ASTC_8x8_Format:A2,RGBA_BPTC_Format:L2,RGBA_ETC2_EAC_Format:g2,RGBA_PVRTC_2BPPV1_Format:f2,RGBA_PVRTC_4BPPV1_Format:h2,RGBA_S3TC_DXT1_Format:O1,RGBA_S3TC_DXT3_Format:P1,RGBA_S3TC_DXT5_Format:k1,RGBDepthPacking:Sq,RGBFormat:bS,RGBIntegerFormat:vq,RGB_BPTC_SIGNED_Format:D2,RGB_BPTC_UNSIGNED_Format:O2,RGB_ETC1_Format:p2,RGB_ETC2_Format:m2,RGB_PVRTC_2BPPV1_Format:d2,RGB_PVRTC_4BPPV1_Format:u2,RGB_S3TC_DXT1_Format:D1,RGDepthPacking:Aq,RGFormat:fb,RGIntegerFormat:pb,RawShaderMaterial:EL,Ray:vm,Raycaster:t7,RectAreaLight:WL,RedFormat:hb,RedIntegerFormat:Ay,ReinhardToneMapping:OR,RenderTarget:AS,RenderTarget3D:bX,RepeatWrapping:Z1,ReplaceStencilOp:Tq,ReverseSubtractEquation:pR,RingGeometry:Ob,SIGNED_RED_GREEN_RGTC2_Format:U2,SIGNED_RED_RGTC1_Format:k2,SRGBColorSpace:Io,SRGBTransfer:Sa,Scene:ES,ShaderChunk:ui,ShaderLib:Bu,ShaderMaterial:Cc,ShadowMaterial:TL,Shape:rm,ShapeGeometry:Pb,ShapePath:WX,ShapeUtils:ju,ShortType:gS,Skeleton:Sb,SkeletonHelper:OX,SkinnedMesh:cL,Source:Rf,Sphere:lo,SphereGeometry:Ny,Spherical:H2,SphericalHarmonics3:XL,SplineCurve:zS,SpotLight:VL,SpotLightHelper:DX,Sprite:oL,SpriteMaterial:CS,SrcAlphaFactor:t2,SrcAlphaSaturateFactor:MR,SrcColorFactor:vR,StaticCopyUsage:qq,StaticDrawUsage:ny,StaticReadUsage:Fq,StereoCamera:nX,StreamCopyUsage:Wq,StreamDrawUsage:jq,StreamReadUsage:Hq,StringKeyframeTrack:wm,SubtractEquation:fR,SubtractiveBlending:tw,TOUCH:Hp,TangentSpaceNormalMap:Yf,TetrahedronGeometry:kb,Texture:Vr,TextureLoader:YW,TextureUtils:JX,Timer:MX,TimestampQuery:Yq,TorusGeometry:Ib,TorusKnotGeometry:Ub,Triangle:Wl,TriangleFanDrawMode:wq,TriangleStripDrawMode:_q,TrianglesDrawMode:bq,TubeGeometry:zb,UVMapping:lb,Uint16BufferAttribute:MS,Uint32BufferAttribute:TS,Uint8BufferAttribute:kG,Uint8ClampedBufferAttribute:IG,Uniform:ZS,UniformsGroup:wX,UniformsLib:Qt,UniformsUtils:iL,UnsignedByteType:au,UnsignedInt101111Type:xS,UnsignedInt248Type:Z0,UnsignedInt5999Type:yS,UnsignedIntType:Dh,UnsignedShort4444Type:ub,UnsignedShort5551Type:db,UnsignedShortType:K0,VSMShadowMap:zu,Vector2:kt,Vector3:ke,Vector4:Yi,VectorKeyframeTrack:cy,VideoFrameTexture:rW,VideoTexture:pL,WebGL3DRenderTarget:wG,WebGLArrayRenderTarget:_G,WebGLCoordinateSystem:Ac,WebGLCubeRenderTarget:rL,WebGLRenderTarget:Nd,WebGLRenderer:c7,WebGLUtils:l7,WebGPUCoordinateSystem:eg,WebXRController:Iv,WireframeGeometry:ML,WrapAroundEnding:ey,ZeroCurvatureEnding:Zp,ZeroFactor:yR,ZeroSlopeEnding:Jp,ZeroStencilOp:Mq,createCanvasElement:QR,error:Wn,getConsoleFunction:Qq,log:ay,setConsoleFunction:Jq,warn:en,warnOnce:tg},Symbol.toStringTag,{value:"Module"}));var r_={exports:{}},s_={},o_={exports:{}},l_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function zJ(){if(OC)return l_;OC=1;var i=cg();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,a=i.useEffect,r=i.useLayoutEffect,o=i.useDebugValue;function l(y,x){var g=x(),_=n({inst:{value:g,getSnapshot:x}}),S=_[0].inst,M=_[1];return r(function(){S.value=g,S.getSnapshot=x,u(S)&&M({inst:S})},[y,g,x]),a(function(){return u(S)&&M({inst:S}),y(function(){u(S)&&M({inst:S})})},[y]),o(g),g}function u(y){var x=y.getSnapshot;y=y.value;try{var g=x();return!t(y,g)}catch{return!0}}function d(y,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return l_.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:m,l_}var PC;function BJ(){return PC||(PC=1,o_.exports=zJ()),o_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function jJ(){if(kC)return s_;kC=1;var i=cg(),e=BJ();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,r=i.useRef,o=i.useEffect,l=i.useMemo,u=i.useDebugValue;return s_.useSyncExternalStoreWithSelector=function(d,m,y,x,g){var _=r(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function b(H){if(!E){if(E=!0,C=H,H=x(H),g!==void 0&&S.hasValue){var G=S.value;if(g(G,H))return D=G}return D=H}if(G=D,n(C,H))return G;var X=x(H);return g!==void 0&&g(G,X)?(C=H,G):(C=H,D=X)}var E=!1,C,D,k=y===void 0?null:y;return[function(){return b(m())},k===null?void 0:function(){return b(k())}]},[m,y,x,g]);var M=a(d,_[0],_[1]);return o(function(){S.hasValue=!0,S.value=M},[M]),u(M),M},s_}var IC;function FJ(){return IC||(IC=1,r_.exports=jJ()),r_.exports}var VJ=FJ();const HJ=lg(VJ),UC=i=>{let e;const t=new Set,n=(d,m)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const x=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(g=>g(e,x))}},a=()=>e,l={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(t.add(d),()=>t.delete(d))},u=e=i(n,a,l);return l},qJ=(i=>i?UC(i):UC),{useSyncExternalStoreWithSelector:GJ}=HJ,WJ=i=>i;function XJ(i,e=WJ,t){const n=GJ(i.subscribe,i.getState,i.getInitialState,e,t);return Mh.useDebugValue(n),n}const zC=(i,e)=>{const t=qJ(i),n=(a,r=e)=>XJ(t,a,r);return Object.assign(n,t),n},YJ=((i,e)=>i?zC(i,e):zC);var c_={exports:{}},u_={exports:{}},d_={exports:{}},h_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function $J(){return BC||(BC=1,(function(i){function e(J,ae){var te=J.length;J.push(ae);e:for(;0<te;){var le=te-1>>>1,Me=J[le];if(0<a(Me,ae))J[le]=ae,J[te]=Me,te=le;else break e}}function t(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ae=J[0],te=J.pop();if(te!==ae){J[0]=te;e:for(var le=0,Me=J.length,Z=Me>>>1;le<Z;){var V=2*(le+1)-1,re=J[V],ce=V+1,pe=J[ce];if(0>a(re,te))ce<Me&&0>a(pe,re)?(J[le]=pe,J[ce]=te,le=ce):(J[le]=re,J[V]=te,le=V);else if(ce<Me&&0>a(pe,te))J[le]=pe,J[ce]=te,le=ce;else break e}}return ae}function a(J,ae){var te=J.sortIndex-ae.sortIndex;return te!==0?te:J.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var u=[],d=[],m=1,y=null,x=3,g=!1,_=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function C(J){for(var ae=t(d);ae!==null;){if(ae.callback===null)n(d);else if(ae.startTime<=J)n(d),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=t(d)}}function D(J){if(S=!1,C(J),!_)if(t(u)!==null)_=!0,U();else{var ae=t(d);ae!==null&&oe(D,ae.startTime-J)}}var k=!1,H=-1,G=5,X=-1;function O(){return!(i.unstable_now()-X<G)}function z(){if(k){var J=i.unstable_now();X=J;var ae=!0;try{e:{_=!1,S&&(S=!1,b(H),H=-1),g=!0;var te=x;try{t:{for(C(J),y=t(u);y!==null&&!(y.expirationTime>J&&O());){var le=y.callback;if(typeof le=="function"){y.callback=null,x=y.priorityLevel;var Me=le(y.expirationTime<=J);if(J=i.unstable_now(),typeof Me=="function"){y.callback=Me,C(J),ae=!0;break t}y===t(u)&&n(u),C(J)}else n(u);y=t(u)}if(y!==null)ae=!0;else{var Z=t(d);Z!==null&&oe(D,Z.startTime-J),ae=!1}}break e}finally{y=null,x=te,g=!1}ae=void 0}}finally{ae?q():k=!1}}}var q;if(typeof E=="function")q=function(){E(z)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=z,q=function(){$.postMessage(null)}}else q=function(){M(z,0)};function U(){k||(k=!0,q())}function oe(J,ae){H=M(function(){J(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){_||g||(_=!0,U())},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return t(u)},i.unstable_next=function(J){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var te=x;x=ae;try{return J()}finally{x=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var te=x;x=J;try{return ae()}finally{x=te}},i.unstable_scheduleCallback=function(J,ae,te){var le=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,J){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=te+Me,J={id:m++,callback:ae,priorityLevel:J,startTime:te,expirationTime:Me,sortIndex:-1},te>le?(J.sortIndex=te,e(d,J),t(u)===null&&J===t(d)&&(S?(b(H),H=-1):S=!0,oe(D,te-le))):(J.sortIndex=Me,e(u,J),_||g||(_=!0,U())),J},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(J){var ae=x;return function(){var te=x;x=ae;try{return J.apply(this,arguments)}finally{x=te}}}})(h_)),h_}var jC;function u7(){return jC||(jC=1,d_.exports=$J()),d_.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function KJ(){return FC||(FC=1,(function(i){i.exports=function(e){function t(h,f,w,R){return new zh(h,f,w,R)}function n(){}function a(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)f+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(h){return h===null||typeof h!="object"?null:(h=Et&&h[Et]||h["@@iterator"],typeof h=="function"?h:null)}function o(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===lt?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case Y:return"Fragment";case L:return"Portal";case fe:return"Profiler";case Q:return"StrictMode";case Oe:return"Suspense";case Xe:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case we:return(h.displayName||"Context")+".Provider";case ve:return(h._context.displayName||"Context")+".Consumer";case Ce:var f=h.render;return h=h.displayName,h||(h=f.displayName||f.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case ut:return f=h.displayName||null,f!==null?f:o(h.type)||"Memo";case Le:f=h._payload,h=h._init;try{return o(h(f))}catch{}}return null}function l(h){if(Nt===void 0)try{throw Error()}catch(w){var f=w.stack.trim().match(/\n( *(at )?)/);Nt=f&&f[1]||"",Vt=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nt+h+Vt}function u(h,f){if(!h||It)return"";It=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(f){var Jt=function(){throw Error()};if(Object.defineProperty(Jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Jt,[])}catch(qn){var tn=qn}Reflect.construct(h,[],Jt)}else{try{Jt.call()}catch(qn){tn=qn}h.call(Jt.prototype)}}else{try{throw Error()}catch(qn){tn=qn}(Jt=h())&&typeof Jt.catch=="function"&&Jt.catch(function(){})}}catch(qn){if(qn&&tn&&typeof qn.stack=="string")return[qn.stack,tn.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var K=R.DetermineComponentFrameRoot(),Se=K[0],Fe=K[1];if(Se&&Fe){var it=Se.split(`
`),Ot=Fe.split(`
`);for(B=R=0;R<it.length&&!it[R].includes("DetermineComponentFrameRoot");)R++;for(;B<Ot.length&&!Ot[B].includes("DetermineComponentFrameRoot");)B++;if(R===it.length||B===Ot.length)for(R=it.length-1,B=Ot.length-1;1<=R&&0<=B&&it[R]!==Ot[B];)B--;for(;1<=R&&0<=B;R--,B--)if(it[R]!==Ot[B]){if(R!==1||B!==1)do if(R--,B--,0>B||it[R]!==Ot[B]){var Gt=`
`+it[R].replace(" at new "," at ");return h.displayName&&Gt.includes("<anonymous>")&&(Gt=Gt.replace("<anonymous>",h.displayName)),Gt}while(1<=R&&0<=B);break}}}finally{It=!1,Error.prepareStackTrace=w}return(w=h?h.displayName||h.name:"")?l(w):""}function d(h){switch(h.tag){case 26:case 27:case 5:return l(h.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return h=u(h.type,!1),h;case 11:return h=u(h.type.render,!1),h;case 1:return h=u(h.type,!0),h;default:return""}}function m(h){try{var f="";do f+=d(h),h=h.return;while(h);return f}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function y(h){var f=h,w=h;if(h.alternate)for(;f.return;)f=f.return;else{h=f;do f=h,(f.flags&4098)!==0&&(w=f.return),h=f.return;while(h)}return f.tag===3?w:null}function x(h){if(y(h)!==h)throw Error(a(188))}function g(h){var f=h.alternate;if(!f){if(f=y(h),f===null)throw Error(a(188));return f!==h?null:h}for(var w=h,R=f;;){var B=w.return;if(B===null)break;var K=B.alternate;if(K===null){if(R=B.return,R!==null){w=R;continue}break}if(B.child===K.child){for(K=B.child;K;){if(K===w)return x(B),h;if(K===R)return x(B),f;K=K.sibling}throw Error(a(188))}if(w.return!==R.return)w=B,R=K;else{for(var Se=!1,Fe=B.child;Fe;){if(Fe===w){Se=!0,w=B,R=K;break}if(Fe===R){Se=!0,R=B,w=K;break}Fe=Fe.sibling}if(!Se){for(Fe=K.child;Fe;){if(Fe===w){Se=!0,w=K,R=B;break}if(Fe===R){Se=!0,R=K,w=B;break}Fe=Fe.sibling}if(!Se)throw Error(a(189))}}if(w.alternate!==R)throw Error(a(190))}if(w.tag!==3)throw Error(a(188));return w.stateNode.current===w?h:f}function _(h){var f=h.tag;if(f===5||f===26||f===27||f===6)return h;for(h=h.child;h!==null;){if(f=_(h),f!==null)return f;h=h.sibling}return null}function S(h){var f=h.tag;if(f===5||f===26||f===27||f===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(f=S(h),f!==null))return f;h=h.sibling}return null}function M(h){return{current:h}}function b(h){0>Au||(h.current=cp[Au],cp[Au]=null,Au--)}function E(h,f){Au++,cp[Au]=h.current,h.current=f}function C(h){return h>>>=0,h===0?32:31-(up(h)/By|0)|0}function D(h){var f=h&42;if(f!==0)return f;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function k(h,f){var w=h.pendingLanes;if(w===0)return 0;var R=0,B=h.suspendedLanes,K=h.pingedLanes,Se=h.warmLanes;h=h.finishedLanes!==0;var Fe=w&134217727;return Fe!==0?(w=Fe&~B,w!==0?R=D(w):(K&=Fe,K!==0?R=D(K):h||(Se=Fe&~Se,Se!==0&&(R=D(Se))))):(Fe=w&~B,Fe!==0?R=D(Fe):K!==0?R=D(K):h||(Se=w&~Se,Se!==0&&(R=D(Se)))),R===0?0:f!==0&&f!==R&&(f&B)===0&&(B=R&-R,Se=f&-f,B>=Se||B===32&&(Se&4194176)!==0)?f:R}function H(h,f){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&f)===0}function G(h,f){switch(h){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X(){var h=Kh;return Kh<<=1,(Kh&4194176)===0&&(Kh=128),h}function O(){var h=dp;return dp<<=1,(dp&62914560)===0&&(dp=4194304),h}function z(h){for(var f=[],w=0;31>w;w++)f.push(h);return f}function q(h,f){h.pendingLanes|=f,f!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function I(h,f,w,R,B,K){var Se=h.pendingLanes;h.pendingLanes=w,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=w,h.entangledLanes&=w,h.errorRecoveryDisabledLanes&=w,h.shellSuspendCounter=0;var Fe=h.entanglements,it=h.expirationTimes,Ot=h.hiddenUpdates;for(w=Se&~w;0<w;){var Gt=31-bo(w),Jt=1<<Gt;Fe[Gt]=0,it[Gt]=-1;var tn=Ot[Gt];if(tn!==null)for(Ot[Gt]=null,Gt=0;Gt<tn.length;Gt++){var qn=tn[Gt];qn!==null&&(qn.lane&=-536870913)}w&=~Jt}R!==0&&$(h,R,0),K!==0&&B===0&&h.tag!==0&&(h.suspendedLanes|=K&~(Se&~f))}function $(h,f,w){h.pendingLanes|=f,h.suspendedLanes&=~f;var R=31-bo(f);h.entangledLanes|=f,h.entanglements[R]=h.entanglements[R]|1073741824|w&4194218}function U(h,f){var w=h.entangledLanes|=f;for(h=h.entanglements;w;){var R=31-bo(w),B=1<<R;B&f|h[R]&f&&(h[R]|=f),w&=~B}}function oe(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function J(h){if(_o&&typeof _o.onCommitFiberRoot=="function")try{_o.onCommitFiberRoot(Jh,h,void 0,(h.current.flags&128)===128)}catch{}}function ae(h){if(typeof Hy=="function"&&kg(h),_o&&typeof _o.setStrictMode=="function")try{_o.setStrictMode(Jh,h)}catch{}}function te(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}function le(h,f){if(typeof h=="object"&&h!==null){var w=Om.get(h);return w!==void 0?w:(f={value:h,source:f,stack:m(f)},Om.set(h,f),f)}return{value:h,source:f,stack:m(f)}}function Me(h,f){Ba[rr++]=pp,Ba[rr++]=fp,fp=h,pp=f}function Z(h,f,w){Qo[el++]=Hc,Qo[el++]=Ul,Qo[el++]=pc,pc=h;var R=Hc;h=Ul;var B=32-bo(R)-1;R&=~(1<<B),w+=1;var K=32-bo(f)+B;if(30<K){var Se=B-B%5;K=(R&(1<<Se)-1).toString(32),R>>=Se,B-=Se,Hc=1<<32-bo(f)+B|w<<B|R,Ul=K+h}else Hc=1<<K|w<<B|R,Ul=h}function V(h){h.return!==null&&(Me(h,1),Z(h,1,0))}function re(h){for(;h===fp;)fp=Ba[--rr],Ba[rr]=null,pp=Ba[--rr],Ba[rr]=null;for(;h===pc;)pc=Qo[--el],Qo[el]=null,Ul=Qo[--el],Qo[el]=null,Hc=Qo[--el],Qo[el]=null}function ce(h,f){E(mc,f),E(mp,h),E(fs,null),h=ba(f),b(fs),E(fs,h)}function pe(){b(fs),b(mp),b(mc)}function me(h){h.memoizedState!==null&&E(Qh,h);var f=fs.current,w=Xn(f,h.type);f!==w&&(E(mp,h),E(fs,w))}function Ee(h){mp.current===h&&(b(fs),b(mp)),Qh.current===h&&(b(Qh),Ca?hn._currentValue=ca:hn._currentValue2=ca)}function Ue(h){var f=Error(a(418,""));throw gt(le(f,h)),gp}function ze(h,f){if(!Hn)throw Error(a(175));Xh(h.stateNode,h.type,h.memoizedProps,f,h)||Ue(h)}function We(h){for(Bs=h.return;Bs;)switch(Bs.tag){case 3:case 27:zl=!0;return;case 5:case 13:zl=!1;return;default:Bs=Bs.return}}function at(h){if(!Hn||h!==Bs)return!1;if(!ki)return We(h),ki=!0,!1;var f=!1;if(Ts?h.tag!==3&&h.tag!==27&&(h.tag!==5||Py(h.type)&&!Ti(h.type,h.memoizedProps))&&(f=!0):h.tag!==3&&(h.tag!==5||Py(h.type)&&!Ti(h.type,h.memoizedProps))&&(f=!0),f&&Cs&&Ue(h),We(h),h.tag===13){if(!Hn)throw Error(a(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));Cs=Cm(h)}else Cs=Bs?lp(h.stateNode):null;return!0}function Ct(){Hn&&(Cs=Bs=null,ki=!1)}function gt(h){tl===null?tl=[h]:tl.push(h)}function W(){for(var h=cd,f=ef=cd=0;f<h;){var w=nl[f];nl[f++]=null;var R=nl[f];nl[f++]=null;var B=nl[f];nl[f++]=null;var K=nl[f];if(nl[f++]=null,R!==null&&B!==null){var Se=R.pending;Se===null?B.next=B:(B.next=Se.next,Se.next=B),R.pending=B}K!==0&&ue(w,B,K)}}function j(h,f,w,R){nl[cd++]=h,nl[cd++]=f,nl[cd++]=w,nl[cd++]=R,ef|=R,h.lanes|=R,h=h.alternate,h!==null&&(h.lanes|=R)}function xe(h,f,w,R){return j(h,f,w,R),ie(h)}function de(h,f){return j(h,null,null,f),ie(h)}function ue(h,f,w){h.lanes|=w;var R=h.alternate;R!==null&&(R.lanes|=w);for(var B=!1,K=h.return;K!==null;)K.childLanes|=w,R=K.alternate,R!==null&&(R.childLanes|=w),K.tag===22&&(h=K.stateNode,h===null||h._visibility&1||(B=!0)),h=K,K=K.return;B&&f!==null&&h.tag===3&&(K=h.stateNode,B=31-bo(w),K=K.hiddenUpdates,h=K[B],h===null?K[B]=[f]:h.push(f),f.lane=w|536870912)}function ie(h){if(50<oh)throw oh=0,io=null,Error(a(185));for(var f=h.return;f!==null;)h=f,f=h.return;return h.tag===3?h.stateNode:null}function Re(h){h!==eh&&h.next===null&&(eh===null?tf=eh=h:eh=eh.next=h),xp=!0,yp||(yp=!0,je(ge))}function Pe(h,f){if(!gc&&xp){gc=!0;do for(var w=!1,R=tf;R!==null;){if(h!==0){var B=R.pendingLanes;if(B===0)var K=0;else{var Se=R.suspendedLanes,Fe=R.pingedLanes;K=(1<<31-bo(42|h)+1)-1,K&=B&~(Se&~Fe),K=K&201326677?K&201326677|1:K?K|2:0}K!==0&&(w=!0,Ae(R,K))}else K=li,K=k(R,R===fi?K:0),(K&3)===0||H(R,K)||(w=!0,Ae(R,K));R=R.next}while(w);gc=!1}}function ge(){xp=yp=!1;var h=0;ud!==0&&(Ka()&&(h=ud),ud=0);for(var f=Es(),w=null,R=tf;R!==null;){var B=R.next,K=se(R,f);K===0?(R.next=null,w===null?tf=B:w.next=B,B===null&&(eh=w)):(w=R,(h!==0||(K&3)!==0)&&(xp=!0)),R=B}Pe(h)}function se(h,f){for(var w=h.suspendedLanes,R=h.pingedLanes,B=h.expirationTimes,K=h.pendingLanes&-62914561;0<K;){var Se=31-bo(K),Fe=1<<Se,it=B[Se];it===-1?((Fe&w)===0||(Fe&R)!==0)&&(B[Se]=G(Fe,f)):it<=f&&(h.expiredLanes|=Fe),K&=~Fe}if(f=fi,w=li,w=k(h,h===f?w:0),R=h.callbackNode,w===0||h===f&&ga===2||h.cancelPendingCommit!==null)return R!==null&&R!==null&&hp(R),h.callbackNode=null,h.callbackPriority=0;if((w&3)===0||H(h,w)){if(f=w&-w,f===h.callbackPriority)return f;switch(R!==null&&hp(R),oe(w)){case 2:case 8:w=Vy;break;case 32:w=Lm;break;case 268435456:w=Dm;break;default:w=Lm}return R=ee.bind(null,h),w=Zh(w,R),h.callbackPriority=f,h.callbackNode=w,f}return R!==null&&R!==null&&hp(R),h.callbackPriority=2,h.callbackNode=null,2}function ee(h,f){var w=h.callbackNode;if(Qi()&&h.callbackNode!==w)return null;var R=li;return R=k(h,h===fi?R:0),R===0?null:(vu(h,R,f),se(h,Es()),h.callbackNode!=null&&h.callbackNode===w?ee.bind(null,h):null)}function Ae(h,f){if(Qi())return null;vu(h,f,!0)}function je(h){Ni?zs(function(){(Mn&6)!==0?Zh(Pg,h):h()}):Zh(Pg,h)}function Ge(){return ud===0&&(ud=X()),ud}function Be(h,f){if(vp===null){var w=vp=[];Pm=0,wo=Ge(),dd={status:"pending",value:void 0,then:function(R){w.push(R)}}}return Pm++,f.then(mt,mt),f}function mt(){if(--Pm===0&&vp!==null){dd!==null&&(dd.status="fulfilled");var h=vp;vp=null,wo=0,dd=null;for(var f=0;f<h.length;f++)(0,h[f])()}}function yt(h,f){var w=[],R={status:"pending",value:null,reason:null,then:function(B){w.push(B)}};return h.then(function(){R.status="fulfilled",R.value=f;for(var B=0;B<w.length;B++)(0,w[B])(f)},function(B){for(R.status="rejected",R.reason=B,B=0;B<w.length;B++)(0,w[B])(void 0)}),R}function Mt(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jt(h,f){h=h.updateQueue,f.updateQueue===h&&(f.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Ke(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function st(h,f,w){var R=h.updateQueue;if(R===null)return null;if(R=R.shared,(Mn&2)!==0){var B=R.pending;return B===null?f.next=f:(f.next=B.next,B.next=f),R.pending=f,f=ie(h),ue(h,null,w),f}return j(h,R,f,w),ie(h)}function Dt(h,f,w){if(f=f.updateQueue,f!==null&&(f=f.shared,(w&4194176)!==0)){var R=f.lanes;R&=h.pendingLanes,w|=R,f.lanes=w,U(h,w)}}function De(h,f){var w=h.updateQueue,R=h.alternate;if(R!==null&&(R=R.updateQueue,w===R)){var B=null,K=null;if(w=w.firstBaseUpdate,w!==null){do{var Se={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};K===null?B=K=Se:K=K.next=Se,w=w.next}while(w!==null);K===null?B=K=f:K=K.next=f}else B=K=f;w={baseState:R.baseState,firstBaseUpdate:B,lastBaseUpdate:K,shared:R.shared,callbacks:R.callbacks},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=f:h.next=f,w.lastBaseUpdate=f}function qe(){if(nf){var h=dd;if(h!==null)throw h}}function St(h,f,w,R){nf=!1;var B=h.updateQueue;Mu=!1;var K=B.firstBaseUpdate,Se=B.lastBaseUpdate,Fe=B.shared.pending;if(Fe!==null){B.shared.pending=null;var it=Fe,Ot=it.next;it.next=null,Se===null?K=Ot:Se.next=Ot,Se=it;var Gt=h.alternate;Gt!==null&&(Gt=Gt.updateQueue,Fe=Gt.lastBaseUpdate,Fe!==Se&&(Fe===null?Gt.firstBaseUpdate=Ot:Fe.next=Ot,Gt.lastBaseUpdate=it))}if(K!==null){var Jt=B.baseState;Se=0,Gt=Ot=it=null,Fe=K;do{var tn=Fe.lane&-536870913,qn=tn!==Fe.lane;if(qn?(li&tn)===tn:(R&tn)===tn){tn!==0&&tn===wo&&(nf=!0),Gt!==null&&(Gt=Gt.next={lane:0,tag:Fe.tag,payload:Fe.payload,callback:null,next:null});e:{var To=h,Sp=Fe;tn=f;var lh=w;switch(Sp.tag){case 1:if(To=Sp.payload,typeof To=="function"){Jt=To.call(lh,Jt,tn);break e}Jt=To;break e;case 3:To.flags=To.flags&-65537|128;case 0:if(To=Sp.payload,tn=typeof To=="function"?To.call(lh,Jt,tn):To,tn==null)break e;Jt=_u({},Jt,tn);break e;case 2:Mu=!0}}tn=Fe.callback,tn!==null&&(h.flags|=64,qn&&(h.flags|=8192),qn=B.callbacks,qn===null?B.callbacks=[tn]:qn.push(tn))}else qn={lane:tn,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},Gt===null?(Ot=Gt=qn,it=Jt):Gt=Gt.next=qn,Se|=tn;if(Fe=Fe.next,Fe===null){if(Fe=B.shared.pending,Fe===null)break;qn=Fe,Fe=qn.next,qn.next=null,B.lastBaseUpdate=qn,B.shared.pending=null}}while(!0);Gt===null&&(it=Jt),B.baseState=it,B.firstBaseUpdate=Ot,B.lastBaseUpdate=Gt,K===null&&(B.shared.lanes=0),sl|=Se,h.lanes=Se,h.memoizedState=Jt}}function Ne(h,f){if(typeof h!="function")throw Error(a(191,h));h.call(f)}function xt(h,f){var w=h.callbacks;if(w!==null)for(h.callbacks=null,h=0;h<w.length;h++)Ne(w[h],f)}function Tt(h,f){if(Jo(h,f))return!0;if(typeof h!="object"||h===null||typeof f!="object"||f===null)return!1;var w=Object.keys(h),R=Object.keys(f);if(w.length!==R.length)return!1;for(R=0;R<w.length;R++){var B=w[R];if(!bp.call(f,B)||!Jo(h[B],f[B]))return!1}return!0}function bt(h){return h=h.status,h==="fulfilled"||h==="rejected"}function ot(){}function dt(h,f,w){switch(w=h[w],w===void 0?h.push(f):w!==f&&(f.then(ot,ot),f=w),f.status){case"fulfilled":return f.value;case"rejected":throw h=f.reason,h===ua?Error(a(483)):h;default:if(typeof f.status=="string")f.then(ot,ot);else{if(h=fi,h!==null&&100<h.shellSuspendCounter)throw Error(a(482));h=f,h.status="pending",h.then(function(R){if(f.status==="pending"){var B=f;B.status="fulfilled",B.value=R}},function(R){if(f.status==="pending"){var B=f;B.status="rejected",B.reason=R}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw h=f.reason,h===ua?Error(a(483)):h}throw th=f,ua}}function qt(){if(th===null)throw Error(a(459));var h=th;return th=null,h}function Xt(h){var f=Bl;return Bl+=1,qc===null&&(qc=[]),dt(qc,h,f)}function wn(h,f){f=f.props.ref,h.ref=f!==void 0?f:null}function xn(h,f){throw f.$$typeof===Bh?Error(a(525)):(h=Object.prototype.toString.call(f),Error(a(31,h==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":h)))}function $t(h){var f=h._init;return f(h._payload)}function Fi(h){function f(vt,tt){if(h){var wt=vt.deletions;wt===null?(vt.deletions=[tt],vt.flags|=16):wt.push(tt)}}function w(vt,tt){if(!h)return null;for(;tt!==null;)f(vt,tt),tt=tt.sibling;return null}function R(vt){for(var tt=new Map;vt!==null;)vt.key!==null?tt.set(vt.key,vt):tt.set(vt.index,vt),vt=vt.sibling;return tt}function B(vt,tt){return vt=$r(vt,tt),vt.index=0,vt.sibling=null,vt}function K(vt,tt,wt){return vt.index=wt,h?(wt=vt.alternate,wt!==null?(wt=wt.index,wt<tt?(vt.flags|=33554434,tt):wt):(vt.flags|=33554434,tt)):(vt.flags|=1048576,tt)}function Se(vt){return h&&vt.alternate===null&&(vt.flags|=33554434),vt}function Fe(vt,tt,wt,Ht){return tt===null||tt.tag!==6?(tt=Ol(wt,vt.mode,Ht),tt.return=vt,tt):(tt=B(tt,wt),tt.return=vt,tt)}function it(vt,tt,wt,Ht){var bn=wt.type;return bn===Y?Gt(vt,tt,wt.props.children,Ht,wt.key):tt!==null&&(tt.elementType===bn||typeof bn=="object"&&bn!==null&&bn.$$typeof===Le&&$t(bn)===tt.type)?(tt=B(tt,wt.props),wn(tt,wt),tt.return=vt,tt):(tt=As(wt.type,wt.key,wt.props,null,vt.mode,Ht),wn(tt,wt),tt.return=vt,tt)}function Ot(vt,tt,wt,Ht){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==wt.containerInfo||tt.stateNode.implementation!==wt.implementation?(tt=nd(wt,vt.mode,Ht),tt.return=vt,tt):(tt=B(tt,wt.children||[]),tt.return=vt,tt)}function Gt(vt,tt,wt,Ht,bn){return tt===null||tt.tag!==7?(tt=xo(wt,vt.mode,Ht,bn),tt.return=vt,tt):(tt=B(tt,wt),tt.return=vt,tt)}function Jt(vt,tt,wt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=Ol(""+tt,vt.mode,wt),tt.return=vt,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case T:return wt=As(tt.type,tt.key,tt.props,null,vt.mode,wt),wn(wt,tt),wt.return=vt,wt;case L:return tt=nd(tt,vt.mode,wt),tt.return=vt,tt;case Le:var Ht=tt._init;return tt=Ht(tt._payload),Jt(vt,tt,wt)}if(on(tt)||r(tt))return tt=xo(tt,vt.mode,wt,null),tt.return=vt,tt;if(typeof tt.then=="function")return Jt(vt,Xt(tt),wt);if(tt.$$typeof===we)return Jt(vt,$a(vt,tt),wt);xn(vt,tt)}return null}function tn(vt,tt,wt,Ht){var bn=tt!==null?tt.key:null;if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return bn!==null?null:Fe(vt,tt,""+wt,Ht);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case T:return wt.key===bn?it(vt,tt,wt,Ht):null;case L:return wt.key===bn?Ot(vt,tt,wt,Ht):null;case Le:return bn=wt._init,wt=bn(wt._payload),tn(vt,tt,wt,Ht)}if(on(wt)||r(wt))return bn!==null?null:Gt(vt,tt,wt,Ht,null);if(typeof wt.then=="function")return tn(vt,tt,Xt(wt),Ht);if(wt.$$typeof===we)return tn(vt,tt,$a(vt,wt),Ht);xn(vt,wt)}return null}function qn(vt,tt,wt,Ht,bn){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number"||typeof Ht=="bigint")return vt=vt.get(wt)||null,Fe(tt,vt,""+Ht,bn);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case T:return vt=vt.get(Ht.key===null?wt:Ht.key)||null,it(tt,vt,Ht,bn);case L:return vt=vt.get(Ht.key===null?wt:Ht.key)||null,Ot(tt,vt,Ht,bn);case Le:var Ra=Ht._init;return Ht=Ra(Ht._payload),qn(vt,tt,wt,Ht,bn)}if(on(Ht)||r(Ht))return vt=vt.get(wt)||null,Gt(tt,vt,Ht,bn,null);if(typeof Ht.then=="function")return qn(vt,tt,wt,Xt(Ht),bn);if(Ht.$$typeof===we)return qn(vt,tt,wt,$a(tt,Ht),bn);xn(tt,Ht)}return null}function To(vt,tt,wt,Ht){for(var bn=null,Ra=null,In=tt,Ui=tt=0,Qr=null;In!==null&&Ui<wt.length;Ui++){In.index>Ui?(Qr=In,In=null):Qr=In.sibling;var zi=tn(vt,In,wt[Ui],Ht);if(zi===null){In===null&&(In=Qr);break}h&&In&&zi.alternate===null&&f(vt,In),tt=K(zi,tt,Ui),Ra===null?bn=zi:Ra.sibling=zi,Ra=zi,In=Qr}if(Ui===wt.length)return w(vt,In),ki&&Me(vt,Ui),bn;if(In===null){for(;Ui<wt.length;Ui++)In=Jt(vt,wt[Ui],Ht),In!==null&&(tt=K(In,tt,Ui),Ra===null?bn=In:Ra.sibling=In,Ra=In);return ki&&Me(vt,Ui),bn}for(In=R(In);Ui<wt.length;Ui++)Qr=qn(In,vt,Ui,wt[Ui],Ht),Qr!==null&&(h&&Qr.alternate!==null&&In.delete(Qr.key===null?Ui:Qr.key),tt=K(Qr,tt,Ui),Ra===null?bn=Qr:Ra.sibling=Qr,Ra=Qr);return h&&In.forEach(function(Du){return f(vt,Du)}),ki&&Me(vt,Ui),bn}function Sp(vt,tt,wt,Ht){if(wt==null)throw Error(a(151));for(var bn=null,Ra=null,In=tt,Ui=tt=0,Qr=null,zi=wt.next();In!==null&&!zi.done;Ui++,zi=wt.next()){In.index>Ui?(Qr=In,In=null):Qr=In.sibling;var Du=tn(vt,In,zi.value,Ht);if(Du===null){In===null&&(In=Qr);break}h&&In&&Du.alternate===null&&f(vt,In),tt=K(Du,tt,Ui),Ra===null?bn=Du:Ra.sibling=Du,Ra=Du,In=Qr}if(zi.done)return w(vt,In),ki&&Me(vt,Ui),bn;if(In===null){for(;!zi.done;Ui++,zi=wt.next())zi=Jt(vt,zi.value,Ht),zi!==null&&(tt=K(zi,tt,Ui),Ra===null?bn=zi:Ra.sibling=zi,Ra=zi);return ki&&Me(vt,Ui),bn}for(In=R(In);!zi.done;Ui++,zi=wt.next())zi=qn(In,vt,Ui,zi.value,Ht),zi!==null&&(h&&zi.alternate!==null&&In.delete(zi.key===null?Ui:zi.key),tt=K(zi,tt,Ui),Ra===null?bn=zi:Ra.sibling=zi,Ra=zi);return h&&In.forEach(function(Hm){return f(vt,Hm)}),ki&&Me(vt,Ui),bn}function lh(vt,tt,wt,Ht){if(typeof wt=="object"&&wt!==null&&wt.type===Y&&wt.key===null&&(wt=wt.props.children),typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case T:e:{for(var bn=wt.key;tt!==null;){if(tt.key===bn){if(bn=wt.type,bn===Y){if(tt.tag===7){w(vt,tt.sibling),Ht=B(tt,wt.props.children),Ht.return=vt,vt=Ht;break e}}else if(tt.elementType===bn||typeof bn=="object"&&bn!==null&&bn.$$typeof===Le&&$t(bn)===tt.type){w(vt,tt.sibling),Ht=B(tt,wt.props),wn(Ht,wt),Ht.return=vt,vt=Ht;break e}w(vt,tt);break}else f(vt,tt);tt=tt.sibling}wt.type===Y?(Ht=xo(wt.props.children,vt.mode,Ht,wt.key),Ht.return=vt,vt=Ht):(Ht=As(wt.type,wt.key,wt.props,null,vt.mode,Ht),wn(Ht,wt),Ht.return=vt,vt=Ht)}return Se(vt);case L:e:{for(bn=wt.key;tt!==null;){if(tt.key===bn)if(tt.tag===4&&tt.stateNode.containerInfo===wt.containerInfo&&tt.stateNode.implementation===wt.implementation){w(vt,tt.sibling),Ht=B(tt,wt.children||[]),Ht.return=vt,vt=Ht;break e}else{w(vt,tt);break}else f(vt,tt);tt=tt.sibling}Ht=nd(wt,vt.mode,Ht),Ht.return=vt,vt=Ht}return Se(vt);case Le:return bn=wt._init,wt=bn(wt._payload),lh(vt,tt,wt,Ht)}if(on(wt))return To(vt,tt,wt,Ht);if(r(wt)){if(bn=r(wt),typeof bn!="function")throw Error(a(150));return wt=bn.call(wt),Sp(vt,tt,wt,Ht)}if(typeof wt.then=="function")return lh(vt,tt,Xt(wt),Ht);if(wt.$$typeof===we)return lh(vt,tt,$a(vt,wt),Ht);xn(vt,wt)}return typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint"?(wt=""+wt,tt!==null&&tt.tag===6?(w(vt,tt.sibling),Ht=B(tt,wt),Ht.return=vt,vt=Ht):(w(vt,tt),Ht=Ol(wt,vt.mode,Ht),Ht.return=vt,vt=Ht),Se(vt)):w(vt,tt)}return function(vt,tt,wt,Ht){try{Bl=0;var bn=lh(vt,tt,wt,Ht);return qc=null,bn}catch(In){if(In===ua)throw In;var Ra=t(29,In,null,vt.mode);return Ra.lanes=Ht,Ra.return=vt,Ra}finally{}}}function Gs(h,f){h=yc,E(il,h),E(Gc,f),yc=h|f.baseLanes}function Ar(){E(il,yc),E(Gc,Gc.current)}function Mr(){yc=il.current,b(Gc),b(il)}function ei(h){var f=h.alternate;E(Ur,Ur.current&1),E(al,h),jl===null&&(f===null||Gc.current!==null||f.memoizedState!==null)&&(jl=h)}function ya(h){if(h.tag===22){if(E(Ur,Ur.current),E(al,h),jl===null){var f=h.alternate;f!==null&&f.memoizedState!==null&&(jl=h)}}else Ki()}function Ki(){E(Ur,Ur.current),E(al,al.current)}function dr(h){b(al),jl===h&&(jl=null),b(Ur)}function Pa(h){for(var f=h;f!==null;){if(f.tag===13){var w=f.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||Zd(w)||kl(w)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Dn(){throw Error(a(321))}function ji(h,f){if(f===null)return!1;for(var w=0;w<f.length&&w<h.length;w++)if(!Jo(h[w],f[w]))return!1;return!0}function Xa(h,f,w,R,B,K){return Wc=K,ii=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,et.H=h===null||h.memoizedState===null?zr:js,Tu=!1,K=w(R,B),Tu=!1,ja&&(K=gs(f,w,R,B)),Hr(h),K}function Hr(h){et.H=Ii;var f=Wi!==null&&Wi.next!==null;if(Wc=0,yr=Wi=ii=null,Fl=!1,sr=0,af=null,f)throw Error(a(300));h===null||xr||(h=h.dependencies,h!==null&&Ps(h)&&(xr=!0))}function gs(h,f,w,R){ii=h;var B=0;do{if(ja&&(af=null),sr=0,ja=!1,25<=B)throw Error(a(301));if(B+=1,yr=Wi=null,h.updateQueue!=null){var K=h.updateQueue;K.lastEffect=null,K.events=null,K.stores=null,K.memoCache!=null&&(K.memoCache.index=0)}et.H=fd,K=f(w,R)}while(ja);return K}function Jl(){var h=et.H,f=h.useState()[0];return f=typeof f.then=="function"?Ze(f):f,h=h.useState()[0],(Wi!==null?Wi.memoizedState:null)!==h&&(ii.flags|=1024),f}function ys(){var h=_p!==0;return _p=0,h}function xs(h,f,w){f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~w}function co(h){if(Fl){for(h=h.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Fl=!1}Wc=0,yr=Wi=ii=null,ja=!1,sr=_p=0,af=null}function da(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?ii.memoizedState=yr=h:yr=yr.next=h,yr}function be(){if(Wi===null){var h=ii.alternate;h=h!==null?h.memoizedState:null}else h=Wi.next;var f=yr===null?ii.memoizedState:yr.next;if(f!==null)yr=f,Wi=h;else{if(h===null)throw ii.alternate===null?Error(a(467)):Error(a(310));Wi=h,h={memoizedState:Wi.memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},yr===null?ii.memoizedState=yr=h:yr=yr.next=h}return yr}function Ze(h){var f=sr;return sr+=1,af===null&&(af=[]),h=dt(af,h,f),f=ii,(yr===null?f.memoizedState:yr.next)===null&&(f=f.alternate,et.H=f===null||f.memoizedState===null?zr:js),h}function ft(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Ze(h);if(h.$$typeof===we)return Ea(h)}throw Error(a(438,String(h)))}function ct(h){var f=null,w=ii.updateQueue;if(w!==null&&(f=w.memoCache),f==null){var R=ii.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(f={data:R.data.map(function(B){return B.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),w===null&&(w=Im(),ii.updateQueue=w),w.memoCache=f,w=f.data[f.index],w===void 0)for(w=f.data[f.index]=Array(h),R=0;R<h;R++)w[R]=rt;return f.index++,w}function Je(h,f){return typeof f=="function"?f(h):f}function Ft(h){var f=be();return Wt(f,Wi,h)}function Wt(h,f,w){var R=h.queue;if(R===null)throw Error(a(311));R.lastRenderedReducer=w;var B=h.baseQueue,K=R.pending;if(K!==null){if(B!==null){var Se=B.next;B.next=K.next,K.next=Se}f.baseQueue=B=K,R.pending=null}if(K=h.baseState,B===null)h.memoizedState=K;else{f=B.next;var Fe=Se=null,it=null,Ot=f,Gt=!1;do{var Jt=Ot.lane&-536870913;if(Jt!==Ot.lane?(li&Jt)===Jt:(Wc&Jt)===Jt){var tn=Ot.revertLane;if(tn===0)it!==null&&(it=it.next={lane:0,revertLane:0,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null}),Jt===wo&&(Gt=!0);else if((Wc&tn)===tn){Ot=Ot.next,tn===wo&&(Gt=!0);continue}else Jt={lane:0,revertLane:Ot.revertLane,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},it===null?(Fe=it=Jt,Se=K):it=it.next=Jt,ii.lanes|=tn,sl|=tn;Jt=Ot.action,Tu&&w(K,Jt),K=Ot.hasEagerState?Ot.eagerState:w(K,Jt)}else tn={lane:Jt,revertLane:Ot.revertLane,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},it===null?(Fe=it=tn,Se=K):it=it.next=tn,ii.lanes|=Jt,sl|=Jt;Ot=Ot.next}while(Ot!==null&&Ot!==f);if(it===null?Se=K:it.next=Fe,!Jo(K,h.memoizedState)&&(xr=!0,Gt&&(w=dd,w!==null)))throw w;h.memoizedState=K,h.baseState=Se,h.baseQueue=it,R.lastRenderedState=K}return B===null&&(R.lanes=0),[h.memoizedState,R.dispatch]}function Kt(h){var f=be(),w=f.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=h;var R=w.dispatch,B=w.pending,K=f.memoizedState;if(B!==null){w.pending=null;var Se=B=B.next;do K=h(K,Se.action),Se=Se.next;while(Se!==B);Jo(K,f.memoizedState)||(xr=!0),f.memoizedState=K,f.baseQueue===null&&(f.baseState=K),w.lastRenderedState=K}return[K,R]}function Zt(h,f,w){var R=ii,B=be(),K=ki;if(K){if(w===void 0)throw Error(a(407));w=w()}else w=f();var Se=!Jo((Wi||B).memoizedState,w);if(Se&&(B.memoizedState=w,xr=!0),B=B.queue,ou(mn.bind(null,R,B,h),[h]),B.getSnapshot!==f||Se||yr!==null&&yr.memoizedState.tag&1){if(R.flags|=2048,xa(9,An.bind(null,R,B,w,f),{destroy:void 0},null),fi===null)throw Error(a(349));K||(Wc&60)!==0||vn(R,f,w)}return w}function vn(h,f,w){h.flags|=16384,h={getSnapshot:f,value:w},f=ii.updateQueue,f===null?(f=Im(),ii.updateQueue=f,f.stores=[h]):(w=f.stores,w===null?f.stores=[h]:w.push(h))}function An(h,f,w,R){f.value=w,f.getSnapshot=R,Rn(f)&&ti(h)}function mn(h,f,w){return w(function(){Rn(f)&&ti(h)})}function Rn(h){var f=h.getSnapshot;h=h.value;try{var w=f();return!Jo(h,w)}catch{return!0}}function ti(h){var f=de(h,2);f!==null&&gr(f,h,2)}function di(h){var f=da();if(typeof h=="function"){var w=h;if(h=w(),Tu){ae(!0);try{w()}finally{ae(!1)}}}return f.memoizedState=f.baseState=h,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Je,lastRenderedState:h},f}function Sn(h,f,w,R){return h.baseState=w,Wt(h,Wi,typeof R=="function"?R:Je)}function _i(h,f,w,R,B){if(_s(h))throw Error(a(485));if(h=f.action,h!==null){var K={payload:B,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Se){K.listeners.push(Se)}};et.T!==null?w(!0):K.isTransition=!1,R(K),w=f.pending,w===null?(K.next=f.pending=K,cn(f,K)):(K.next=w.next,f.pending=w.next=K)}}function cn(h,f){var w=f.action,R=f.payload,B=h.state;if(f.isTransition){var K=et.T,Se={};et.T=Se;try{var Fe=w(B,R),it=et.S;it!==null&&it(Se,Fe),wi(h,f,Fe)}catch(Ot){Oi(h,f,Ot)}finally{et.T=K}}else try{K=w(B,R),wi(h,f,K)}catch(Ot){Oi(h,f,Ot)}}function wi(h,f,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(R){ni(h,f,R)},function(R){return Oi(h,f,R)}):ni(h,f,w)}function ni(h,f,w){f.status="fulfilled",f.value=w,ra(f),h.state=w,f=h.pending,f!==null&&(w=f.next,w===f?h.pending=null:(w=w.next,f.next=w,cn(h,w)))}function Oi(h,f,w){var R=h.pending;if(h.pending=null,R!==null){R=R.next;do f.status="rejected",f.reason=w,ra(f),f=f.next;while(f!==R)}h.action=null}function ra(h){h=h.listeners;for(var f=0;f<h.length;f++)(0,h[f])()}function pi(h,f){return f}function Ws(h,f){if(ki){var w=fi.formState;if(w!==null){e:{var R=ii;if(ki){if(Cs){var B=Em(Cs,zl);if(B){Cs=lp(B),R=op(B);break e}}Ue(R)}R=!1}R&&(f=w[0])}}w=da(),w.memoizedState=w.baseState=f,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:f},w.queue=R,w=Rc.bind(null,ii,R),R.dispatch=w,R=di(!1);var K=$u.bind(null,ii,!1,R.queue);return R=da(),B={state:f,dispatch:null,action:h,pending:null},R.queue=B,w=_i.bind(null,ii,B,K,w),B.dispatch=w,R.memoizedState=h,[f,w,!1]}function Vi(h){var f=be();return Ya(f,Wi,h)}function Ya(h,f,w){f=Wt(h,f,pi)[0],h=Ft(Je)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Ze(f):f;var R=be(),B=R.queue,K=B.dispatch;return w!==R.memoizedState&&(ii.flags|=2048,xa(9,Zi.bind(null,B,w),{destroy:void 0},null)),[f,K,h]}function Zi(h,f){h.action=f}function Va(h){var f=be(),w=Wi;if(w!==null)return Ya(f,w,h);be(),f=f.memoizedState,w=be();var R=w.queue.dispatch;return w.memoizedState=h,[f,R,!1]}function xa(h,f,w,R){return h={tag:h,create:f,inst:w,deps:R,next:null},f=ii.updateQueue,f===null&&(f=Im(),ii.updateQueue=f),w=f.lastEffect,w===null?f.lastEffect=h.next=h:(R=w.next,w.next=h,h.next=R,f.lastEffect=h),h}function os(){return be().memoizedState}function Tr(h,f,w,R){var B=da();ii.flags|=h,B.memoizedState=xa(1|f,w,{destroy:void 0},R===void 0?null:R)}function su(h,f,w,R){var B=be();R=R===void 0?null:R;var K=B.memoizedState.inst;Wi!==null&&R!==null&&ji(R,Wi.memoizedState.deps)?B.memoizedState=xa(f,w,K,R):(ii.flags|=h,B.memoizedState=xa(1|f,w,K,R))}function Od(h,f){Tr(8390656,8,h,f)}function ou(h,f){su(2048,8,h,f)}function Wu(h,f){return su(4,2,h,f)}function Pd(h,f){return su(4,4,h,f)}function vs(h,f){if(typeof f=="function"){h=h();var w=f(h);return function(){typeof w=="function"?w():f(null)}}if(f!=null)return h=h(),f.current=h,function(){f.current=null}}function uo(h,f,w){w=w!=null?w.concat([h]):null,su(4,4,vs.bind(null,f,h),w)}function Ho(){}function Nc(h,f){var w=be();f=f===void 0?null:f;var R=w.memoizedState;return f!==null&&ji(f,R[1])?R[0]:(w.memoizedState=[h,f],h)}function Ql(h,f){var w=be();f=f===void 0?null:f;var R=w.memoizedState;if(f!==null&&ji(f,R[1]))return R[0];if(R=h(),Tu){ae(!0);try{h()}finally{ae(!1)}}return w.memoizedState=[R,f],R}function Cn(h,f,w){return w===void 0||(Wc&1073741824)!==0?h.memoizedState=f:(h.memoizedState=w,h=Qs(),ii.lanes|=h,sl|=h,w)}function kd(h,f,w,R){return Jo(w,f)?w:Gc.current!==null?(h=Cn(h,w,R),Jo(h,f)||(xr=!0),h):(Wc&42)===0?(xr=!0,h.memoizedState=w):(h=Qs(),ii.lanes|=h,sl|=h,f)}function Xu(h,f,w,R,B){var K=qi();Ei(K!==0&&8>K?K:8);var Se=et.T,Fe={};et.T=Fe,$u(h,!1,f,w);try{var it=B(),Ot=et.S;if(Ot!==null&&Ot(Fe,it),it!==null&&typeof it=="object"&&typeof it.then=="function"){var Gt=yt(it,R);Ds(h,f,Gt,cs(h))}else Ds(h,f,R,cs(h))}catch(Jt){Ds(h,f,{then:function(){},status:"rejected",reason:Jt},cs())}finally{Ei(K),et.T=Se}}function Id(h){var f=h.memoizedState;if(f!==null)return f;f={memoizedState:ca,baseState:ca,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Je,lastRenderedState:ca},next:null};var w={};return f.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Je,lastRenderedState:w},next:null},h.memoizedState=f,h=h.alternate,h!==null&&(h.memoizedState=f),f}function bs(){return Ea(hn)}function Er(){return be().memoizedState}function Yu(){return be().memoizedState}function lu(h){for(var f=h.return;f!==null;){switch(f.tag){case 24:case 3:var w=cs();h=Ke(w);var R=st(f,h,w);R!==null&&(gr(R,f,w),Dt(R,f,w)),f={cache:bl()},h.payload=f;return}f=f.return}}function Xs(h,f,w){var R=cs();w={lane:R,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},_s(h)?cu(f,w):(w=xe(h,f,w,R),w!==null&&(gr(w,h,R),uu(w,f,R)))}function Rc(h,f,w){var R=cs();Ds(h,f,w,R)}function Ds(h,f,w,R){var B={lane:R,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(_s(h))cu(f,B);else{var K=h.alternate;if(h.lanes===0&&(K===null||K.lanes===0)&&(K=f.lastRenderedReducer,K!==null))try{var Se=f.lastRenderedState,Fe=K(Se,w);if(B.hasEagerState=!0,B.eagerState=Fe,Jo(Fe,Se))return j(h,f,B,0),fi===null&&W(),!1}catch{}finally{}if(w=xe(h,f,B,R),w!==null)return gr(w,h,R),uu(w,f,R),!0}return!1}function $u(h,f,w,R){if(R={lane:2,revertLane:Ge(),action:R,hasEagerState:!1,eagerState:null,next:null},_s(h)){if(f)throw Error(a(479))}else f=xe(h,w,R,2),f!==null&&gr(f,h,2)}function _s(h){var f=h.alternate;return h===ii||f!==null&&f===ii}function cu(h,f){ja=Fl=!0;var w=h.pending;w===null?f.next=f:(f.next=w.next,w.next=f),h.pending=f}function uu(h,f,w){if((w&4194176)!==0){var R=f.lanes;R&=h.pendingLanes,w|=R,f.lanes=w,U(h,w)}}function tr(h,f,w,R){f=h.memoizedState,w=w(R,f),w=w==null?f:_u({},f,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}function qo(h,f,w,R,B,K,Se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(R,K,Se):f.prototype&&f.prototype.isPureReactComponent?!Tt(w,R)||!Tt(B,K):!0}function Ys(h,f,w,R){h=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(w,R),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(w,R),f.state!==h&&Um.enqueueReplaceState(f,f.state,null)}function ws(h,f){var w=f;if("ref"in f){w={};for(var R in f)R!=="ref"&&(w[R]=f[R])}if(h=h.defaultProps){w===f&&(w=_u({},w));for(var B in h)w[B]===void 0&&(w[B]=h[B])}return w}function ec(h,f){try{var w=h.onUncaughtError;w(f.value,{componentStack:f.stack})}catch(R){setTimeout(function(){throw R})}}function Lc(h,f,w){try{var R=h.onCaughtError;R(w.value,{componentStack:w.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function Go(h,f,w){return w=Ke(w),w.tag=3,w.payload={element:null},w.callback=function(){ec(h,f)},w}function gl(h){return h=Ke(h),h.tag=3,h}function Dc(h,f,w,R){var B=w.type.getDerivedStateFromError;if(typeof B=="function"){var K=R.value;h.payload=function(){return B(K)},h.callback=function(){Lc(f,w,R)}}var Se=w.stateNode;Se!==null&&typeof Se.componentDidCatch=="function"&&(h.callback=function(){Lc(f,w,R),typeof B!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var Fe=R.stack;this.componentDidCatch(R.value,{componentStack:Fe!==null?Fe:""})})}function Ud(h,f,w,R,B){if(w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(f=w.alternate,f!==null&&Os(f,w,B,!0),w=al.current,w!==null){switch(w.tag){case 13:return jl===null?Us():w.alternate===null&&Li===0&&(Li=3),w.flags&=-257,w.flags|=65536,w.lanes=B,R===km?w.flags|=16384:(f=w.updateQueue,f===null?w.updateQueue=new Set([R]):f.add(R),Xd(h,R,B)),!1;case 22:return w.flags|=65536,R===km?w.flags|=16384:(f=w.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([R])},w.updateQueue=f):(w=f.retryQueue,w===null?f.retryQueue=new Set([R]):w.add(R)),Xd(h,R,B)),!1}throw Error(a(435,w.tag))}return Xd(h,R,B),Us(),!1}if(ki)return f=al.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=B,R!==gp&&(h=Error(a(422),{cause:R}),gt(le(h,w)))):(R!==gp&&(f=Error(a(423),{cause:R}),gt(le(f,w))),h=h.current.alternate,h.flags|=65536,B&=-B,h.lanes|=B,R=le(R,w),B=Go(h.stateNode,R,B),De(h,B),Li!==4&&(Li=2)),!1;var K=Error(a(520),{cause:R});if(K=le(K,w),sf===null?sf=[K]:sf.push(K),Li!==4&&(Li=2),f===null)return!0;R=le(R,w),w=f;do{switch(w.tag){case 3:return w.flags|=65536,h=B&-B,w.lanes|=h,h=Go(w.stateNode,R,h),De(w,h),!1;case 1:if(f=w.type,K=w.stateNode,(w.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ll===null||!ll.has(K))))return w.flags|=65536,B&=-B,w.lanes|=B,B=gl(B),Dc(B,h,w,R),De(w,B),!1}w=w.return}while(w!==null);return!1}function va(h,f,w,R){f.child=h===null?Ug(f,null,w,R):hd(f,h.child,w,R)}function yl(h,f,w,R,B){w=w.render;var K=f.ref;if("ref"in R){var Se={};for(var Fe in R)Fe!=="ref"&&(Se[Fe]=R[Fe])}else Se=R;return $s(f),R=Xa(h,f,w,Se,K,B),Fe=ys(),h!==null&&!xr?(xs(h,f,B),oa(h,f,B)):(ki&&Fe&&V(f),f.flags|=1,va(h,f,R,B),f.child)}function zd(h,f,w,R,B){if(h===null){var K=w.type;return typeof K=="function"&&!Dl(K)&&K.defaultProps===void 0&&w.compare===null?(f.tag=15,f.type=K,xl(h,f,K,R,B)):(h=As(w.type,null,R,f,f.mode,B),h.ref=f.ref,h.return=f,f.child=h)}if(K=h.child,!Ha(h,B)){var Se=K.memoizedProps;if(w=w.compare,w=w!==null?w:Tt,w(Se,R)&&h.ref===f.ref)return oa(h,f,B)}return f.flags|=1,h=$r(K,R),h.ref=f.ref,h.return=f,f.child=h}function xl(h,f,w,R,B){if(h!==null){var K=h.memoizedProps;if(Tt(K,R)&&h.ref===f.ref)if(xr=!1,f.pendingProps=R=K,Ha(h,B))(h.flags&131072)!==0&&(xr=!0);else return f.lanes=h.lanes,oa(h,f,B)}return Ie(h,f,w,R,B)}function Bd(h,f,w){var R=f.pendingProps,B=R.children,K=(f.stateNode._pendingVisibility&2)!==0,Se=h!==null?h.memoizedState:null;if(he(h,f),R.mode==="hidden"||K){if((f.flags&128)!==0){if(R=Se!==null?Se.baseLanes|w:w,h!==null){for(B=f.child=h.child,K=0;B!==null;)K=K|B.lanes|B.childLanes,B=B.sibling;f.childLanes=K&~R}else f.childLanes=0,f.child=null;return F(h,f,R,w)}if((w&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},h!==null&&Nr(f,Se!==null?Se.cachePool:null),Se!==null?Gs(f,Se):Ar(),ya(f);else return f.lanes=f.childLanes=536870912,F(h,f,Se!==null?Se.baseLanes|w:w,w)}else Se!==null?(Nr(f,Se.cachePool),Gs(f,Se),Ki(),f.memoizedState=null):(h!==null&&Nr(f,null),Ar(),Ki());return va(h,f,B,w),f.child}function F(h,f,w,R){var B=ho();return B=B===null?null:{parent:Ca?ea._currentValue:ea._currentValue2,pool:B},f.memoizedState={baseLanes:w,cachePool:B},h!==null&&Nr(f,null),Ar(),ya(f),h!==null&&Os(h,f,R,!0),null}function he(h,f){var w=f.ref;if(w===null)h!==null&&h.ref!==null&&(f.flags|=2097664);else{if(typeof w!="function"&&typeof w!="object")throw Error(a(284));(h===null||h.ref!==w)&&(f.flags|=2097664)}}function Ie(h,f,w,R,B){return $s(f),w=Xa(h,f,w,R,void 0,B),R=ys(),h!==null&&!xr?(xs(h,f,B),oa(h,f,B)):(ki&&R&&V(f),f.flags|=1,va(h,f,w,B),f.child)}function He(h,f,w,R,B,K){return $s(f),f.updateQueue=null,w=gs(f,R,w,B),Hr(h),R=ys(),h!==null&&!xr?(xs(h,f,K),oa(h,f,K)):(ki&&R&&V(f),f.flags|=1,va(h,f,w,K),f.child)}function Qe(h,f,w,R,B){if($s(f),f.stateNode===null){var K=Qd,Se=w.contextType;typeof Se=="object"&&Se!==null&&(K=Ea(Se)),K=new w(R,K),f.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,K.updater=Um,f.stateNode=K,K._reactInternals=f,K=f.stateNode,K.props=R,K.state=f.memoizedState,K.refs={},Mt(f),Se=w.contextType,K.context=typeof Se=="object"&&Se!==null?Ea(Se):Qd,K.state=f.memoizedState,Se=w.getDerivedStateFromProps,typeof Se=="function"&&(tr(f,w,Se,R),K.state=f.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(Se=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),Se!==K.state&&Um.enqueueReplaceState(K,K.state,null),St(f,R,K,B),qe(),K.state=f.memoizedState),typeof K.componentDidMount=="function"&&(f.flags|=4194308),R=!0}else if(h===null){K=f.stateNode;var Fe=f.memoizedProps,it=ws(w,Fe);K.props=it;var Ot=K.context,Gt=w.contextType;Se=Qd,typeof Gt=="object"&&Gt!==null&&(Se=Ea(Gt));var Jt=w.getDerivedStateFromProps;Gt=typeof Jt=="function"||typeof K.getSnapshotBeforeUpdate=="function",Fe=f.pendingProps!==Fe,Gt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(Fe||Ot!==Se)&&Ys(f,K,R,Se),Mu=!1;var tn=f.memoizedState;K.state=tn,St(f,R,K,B),qe(),Ot=f.memoizedState,Fe||tn!==Ot||Mu?(typeof Jt=="function"&&(tr(f,w,Jt,R),Ot=f.memoizedState),(it=Mu||qo(f,w,it,R,tn,Ot,Se))?(Gt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(f.flags|=4194308)):(typeof K.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=R,f.memoizedState=Ot),K.props=R,K.state=Ot,K.context=Se,R=it):(typeof K.componentDidMount=="function"&&(f.flags|=4194308),R=!1)}else{K=f.stateNode,jt(h,f),Se=f.memoizedProps,Gt=ws(w,Se),K.props=Gt,Jt=f.pendingProps,tn=K.context,Ot=w.contextType,it=Qd,typeof Ot=="object"&&Ot!==null&&(it=Ea(Ot)),Fe=w.getDerivedStateFromProps,(Ot=typeof Fe=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(Se!==Jt||tn!==it)&&Ys(f,K,R,it),Mu=!1,tn=f.memoizedState,K.state=tn,St(f,R,K,B),qe();var qn=f.memoizedState;Se!==Jt||tn!==qn||Mu||h!==null&&h.dependencies!==null&&Ps(h.dependencies)?(typeof Fe=="function"&&(tr(f,w,Fe,R),qn=f.memoizedState),(Gt=Mu||qo(f,w,Gt,R,tn,qn,it)||h!==null&&h.dependencies!==null&&Ps(h.dependencies))?(Ot||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(R,qn,it),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(R,qn,it)),typeof K.componentDidUpdate=="function"&&(f.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof K.componentDidUpdate!="function"||Se===h.memoizedProps&&tn===h.memoizedState||(f.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||Se===h.memoizedProps&&tn===h.memoizedState||(f.flags|=1024),f.memoizedProps=R,f.memoizedState=qn),K.props=R,K.state=qn,K.context=it,R=Gt):(typeof K.componentDidUpdate!="function"||Se===h.memoizedProps&&tn===h.memoizedState||(f.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||Se===h.memoizedProps&&tn===h.memoizedState||(f.flags|=1024),R=!1)}return K=R,he(h,f),R=(f.flags&128)!==0,K||R?(K=f.stateNode,w=R&&typeof w.getDerivedStateFromError!="function"?null:K.render(),f.flags|=1,h!==null&&R?(f.child=hd(f,h.child,null,B),f.child=hd(f,null,w,B)):va(h,f,w,B),f.memoizedState=K.state,h=f.child):h=oa(h,f,B),h}function Rt(h,f,w,R){return Ct(),f.flags|=256,va(h,f,w,R),f.child}function zt(h){return{baseLanes:h,cachePool:wl()}}function sn(h,f,w){return h=h!==null?h.childLanes&~w:0,f&&(h|=Mo),h}function dn(h,f,w){var R=f.pendingProps,B=!1,K=(f.flags&128)!==0,Se;if((Se=K)||(Se=h!==null&&h.memoizedState===null?!1:(Ur.current&2)!==0),Se&&(B=!0,f.flags&=-129),Se=(f.flags&32)!==0,f.flags&=-33,h===null){if(ki){if(B?ei(f):Ki(),ki){var Fe=Cs,it;(it=Fe)&&(Fe=fc(Fe,zl),Fe!==null?(f.memoizedState={dehydrated:Fe,treeContext:pc!==null?{id:Hc,overflow:Ul}:null,retryLane:536870912},it=t(18,null,null,0),it.stateNode=Fe,it.return=f,f.child=it,Bs=f,Cs=null,it=!0):it=!1),it||Ue(f)}if(Fe=f.memoizedState,Fe!==null&&(Fe=Fe.dehydrated,Fe!==null))return kl(Fe)?f.lanes=16:f.lanes=536870912,null;dr(f)}return Fe=R.children,R=R.fallback,B?(Ki(),B=f.mode,Fe=jn({mode:"hidden",children:Fe},B),R=xo(R,B,w,null),Fe.return=f,R.return=f,Fe.sibling=R,f.child=Fe,B=f.child,B.memoizedState=zt(w),B.childLanes=sn(h,Se,w),f.memoizedState=Fs,R):(ei(f),On(f,Fe))}if(it=h.memoizedState,it!==null&&(Fe=it.dehydrated,Fe!==null)){if(K)f.flags&256?(ei(f),f.flags&=-257,f=mi(h,f,w)):f.memoizedState!==null?(Ki(),f.child=h.child,f.flags|=128,f=null):(Ki(),B=R.fallback,Fe=f.mode,R=jn({mode:"visible",children:R.children},Fe),B=xo(B,Fe,w,null),B.flags|=2,R.return=f,B.return=f,R.sibling=B,f.child=R,hd(f,h.child,null,w),R=f.child,R.memoizedState=zt(w),R.childLanes=sn(h,Se,w),f.memoizedState=Fs,f=B);else if(ei(f),kl(Fe))Se=Mm(Fe).digest,R=Error(a(419)),R.stack="",R.digest=Se,gt({value:R,source:null,stack:null}),f=mi(h,f,w);else if(xr||Os(h,f,w,!1),Se=(w&h.childLanes)!==0,xr||Se){if(Se=fi,Se!==null){if(R=w&-w,(R&42)!==0)R=1;else switch(R){case 2:R=1;break;case 8:R=4;break;case 32:R=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:R=64;break;case 268435456:R=134217728;break;default:R=0}if(R=(R&(Se.suspendedLanes|w))!==0?0:R,R!==0&&R!==it.retryLane)throw it.retryLane=R,de(h,R),gr(Se,h,R),Gy}Zd(Fe)||Us(),f=mi(h,f,w)}else Zd(Fe)?(f.flags|=128,f.child=h.child,f=bu.bind(null,h),Tm(Fe,f),f=null):(h=it.treeContext,Hn&&(Cs=Jd(Fe),Bs=f,ki=!0,tl=null,zl=!1,h!==null&&(Qo[el++]=Hc,Qo[el++]=Ul,Qo[el++]=pc,Hc=h.id,Ul=h.overflow,pc=f)),f=On(f,R.children),f.flags|=4096);return f}return B?(Ki(),B=R.fallback,Fe=f.mode,it=h.child,K=it.sibling,R=$r(it,{mode:"hidden",children:R.children}),R.subtreeFlags=it.subtreeFlags&31457280,K!==null?B=$r(K,B):(B=xo(B,Fe,w,null),B.flags|=2),B.return=f,R.return=f,R.sibling=B,f.child=R,R=B,B=f.child,Fe=h.child.memoizedState,Fe===null?Fe=zt(w):(it=Fe.cachePool,it!==null?(K=Ca?ea._currentValue:ea._currentValue2,it=it.parent!==K?{parent:K,pool:K}:it):it=wl(),Fe={baseLanes:Fe.baseLanes|w,cachePool:it}),B.memoizedState=Fe,B.childLanes=sn(h,Se,w),f.memoizedState=Fs,R):(ei(f),w=h.child,h=w.sibling,w=$r(w,{mode:"visible",children:R.children}),w.return=f,w.sibling=null,h!==null&&(Se=f.deletions,Se===null?(f.deletions=[h],f.flags|=16):Se.push(h)),f.child=w,f.memoizedState=null,w)}function On(h,f){return f=jn({mode:"visible",children:f},h.mode),f.return=h,h.child=f}function jn(h,f){return zc(h,f,0,null)}function mi(h,f,w){return hd(f,h.child,null,w),h=On(f,f.pendingProps.children),h.flags|=2,f.memoizedState=null,h}function Ta(h,f,w){h.lanes|=f;var R=h.alternate;R!==null&&(R.lanes|=f),du(h.return,f,w)}function ka(h,f,w,R,B){var K=h.memoizedState;K===null?h.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:R,tail:w,tailMode:B}:(K.isBackwards=f,K.rendering=null,K.renderingStartTime=0,K.last=R,K.tail=w,K.tailMode=B)}function sa(h,f,w){var R=f.pendingProps,B=R.revealOrder,K=R.tail;if(va(h,f,R.children,w),R=Ur.current,(R&2)!==0)R=R&1|2,f.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=f.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Ta(h,w,f);else if(h.tag===19)Ta(h,w,f);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}R&=1}switch(E(Ur,R),B){case"forwards":for(w=f.child,B=null;w!==null;)h=w.alternate,h!==null&&Pa(h)===null&&(B=w),w=w.sibling;w=B,w===null?(B=f.child,f.child=null):(B=w.sibling,w.sibling=null),ka(f,!1,B,w,K);break;case"backwards":for(w=null,B=f.child,f.child=null;B!==null;){if(h=B.alternate,h!==null&&Pa(h)===null){f.child=B;break}h=B.sibling,B.sibling=w,w=B,B=h}ka(f,!0,w,null,K);break;case"together":ka(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function oa(h,f,w){if(h!==null&&(f.dependencies=h.dependencies),sl|=f.lanes,(w&f.childLanes)===0)if(h!==null){if(Os(h,f,w,!1),(w&f.childLanes)===0)return null}else return null;if(h!==null&&f.child!==h.child)throw Error(a(153));if(f.child!==null){for(h=f.child,w=$r(h,h.pendingProps),f.child=w,w.return=f;h.sibling!==null;)h=h.sibling,w=w.sibling=$r(h,h.pendingProps),w.return=f;w.sibling=null}return f.child}function Ha(h,f){return(h.lanes&f)!==0?!0:(h=h.dependencies,!!(h!==null&&Ps(h)))}function qr(h,f,w){switch(f.tag){case 3:ce(f,f.stateNode.containerInfo),Cr(f,ea,h.memoizedState.cache),Ct();break;case 27:case 5:me(f);break;case 4:ce(f,f.stateNode.containerInfo);break;case 10:Cr(f,f.type,f.memoizedProps.value);break;case 13:var R=f.memoizedState;if(R!==null)return R.dehydrated!==null?(ei(f),f.flags|=128,null):(w&f.child.childLanes)!==0?dn(h,f,w):(ei(f),h=oa(h,f,w),h!==null?h.sibling:null);ei(f);break;case 19:var B=(h.flags&128)!==0;if(R=(w&f.childLanes)!==0,R||(Os(h,f,w,!1),R=(w&f.childLanes)!==0),B){if(R)return sa(h,f,w);f.flags|=128}if(B=f.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),E(Ur,Ur.current),R)break;return null;case 22:case 23:return f.lanes=0,Bd(h,f,w);case 24:Cr(f,ea,h.memoizedState.cache)}return oa(h,f,w)}function vl(h,f,w){if(h!==null)if(h.memoizedProps!==f.pendingProps)xr=!0;else{if(!Ha(h,w)&&(f.flags&128)===0)return xr=!1,qr(h,f,w);xr=(h.flags&131072)!==0}else xr=!1,ki&&(f.flags&1048576)!==0&&Z(f,pp,f.index);switch(f.lanes=0,f.tag){case 16:e:{h=f.pendingProps;var R=f.elementType,B=R._init;if(R=B(R._payload),f.type=R,typeof R=="function")Dl(R)?(h=ws(R,h),f.tag=1,f=Qe(null,f,R,h,w)):(f.tag=0,f=Ie(null,f,R,h,w));else{if(R!=null){if(B=R.$$typeof,B===Ce){f.tag=11,f=yl(null,f,R,h,w);break e}else if(B===ut){f.tag=14,f=zd(null,f,R,h,w);break e}}throw f=o(R)||R,Error(a(306,f,""))}}return f;case 0:return Ie(h,f,f.type,f.pendingProps,w);case 1:return R=f.type,B=ws(R,f.pendingProps),Qe(h,f,R,B,w);case 3:e:{if(ce(f,f.stateNode.containerInfo),h===null)throw Error(a(387));var K=f.pendingProps;B=f.memoizedState,R=B.element,jt(h,f),St(f,K,null,w);var Se=f.memoizedState;if(K=Se.cache,Cr(f,ea,K),K!==B.cache&&Oc(f,[ea],w,!0),qe(),K=Se.element,Hn&&B.isDehydrated)if(B={element:K,isDehydrated:!1,cache:Se.cache},f.updateQueue.baseState=B,f.memoizedState=B,f.flags&256){f=Rt(h,f,K,w);break e}else if(K!==R){R=le(Error(a(424)),f),gt(R),f=Rt(h,f,K,w);break e}else for(Hn&&(Cs=Wh(f.stateNode.containerInfo),Bs=f,ki=!0,tl=null,zl=!0),w=Ug(f,null,K,w),f.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Ct(),K===R){f=oa(h,f,w);break e}va(h,f,K,w)}f=f.child}return f;case 26:if(Zo)return he(h,f),h===null?(w=Rm(f.type,null,f.pendingProps,null))?f.memoizedState=w:ki||(f.stateNode=Hb(f.type,f.pendingProps,mc.current,f)):f.memoizedState=Rm(f.type,h.memoizedProps,f.pendingProps,h.memoizedState),null;case 27:if(Ts)return me(f),h===null&&Ts&&ki&&(R=f.stateNode=Og(f.type,f.pendingProps,mc.current,fs.current,!1),Bs=f,zl=!0,Cs=Vc(R)),R=f.pendingProps.children,h!==null||ki?va(h,f,R,w):f.child=hd(f,null,R,w),he(h,f),f.child;case 5:return h===null&&ki&&(ky(f.type,f.pendingProps,fs.current),(B=R=Cs)&&(R=Il(R,f.type,f.pendingProps,zl),R!==null?(f.stateNode=R,Bs=f,Cs=Vc(R),zl=!1,B=!0):B=!1),B||Ue(f)),me(f),B=f.type,K=f.pendingProps,Se=h!==null?h.memoizedProps:null,R=K.children,Ti(B,K)?R=null:Se!==null&&Ti(B,Se)&&(f.flags|=32),f.memoizedState!==null&&(B=Xa(h,f,Jl,null,null,w),Ca?hn._currentValue=B:hn._currentValue2=B),he(h,f),va(h,f,R,w),f.child;case 6:return h===null&&ki&&(Iy(f.pendingProps,fs.current),(h=w=Cs)&&(w=hc(w,f.pendingProps,zl),w!==null?(f.stateNode=w,Bs=f,Cs=null,h=!0):h=!1),h||Ue(f)),null;case 13:return dn(h,f,w);case 4:return ce(f,f.stateNode.containerInfo),R=f.pendingProps,h===null?f.child=hd(f,null,R,w):va(h,f,R,w),f.child;case 11:return yl(h,f,f.type,f.pendingProps,w);case 7:return va(h,f,f.pendingProps,w),f.child;case 8:return va(h,f,f.pendingProps.children,w),f.child;case 12:return va(h,f,f.pendingProps.children,w),f.child;case 10:return R=f.pendingProps,Cr(f,f.type,R.value),va(h,f,R.children,w),f.child;case 9:return B=f.type._context,R=f.pendingProps.children,$s(f),B=Ea(B),R=R(B),f.flags|=1,va(h,f,R,w),f.child;case 14:return zd(h,f,f.type,f.pendingProps,w);case 15:return xl(h,f,f.type,f.pendingProps,w);case 19:return sa(h,f,w);case 22:return Bd(h,f,w);case 24:return $s(f),R=Ea(ea),h===null?(B=ho(),B===null&&(B=fi,K=bl(),B.pooledCache=K,K.refCount++,K!==null&&(B.pooledCacheLanes|=w),B=K),f.memoizedState={parent:R,cache:B},Mt(f),Cr(f,ea,B)):((h.lanes&w)!==0&&(jt(h,f),St(f,null,null,w),qe()),B=h.memoizedState,K=f.memoizedState,B.parent!==R?(B={parent:R,cache:R},f.memoizedState=B,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=B),Cr(f,ea,R)):(R=K.cache,Cr(f,ea,R),R!==B.cache&&Oc(f,[ea],w,!0))),va(h,f,f.pendingProps.children,w),f.child;case 29:throw f.pendingProps}throw Error(a(156,f.tag))}function Cr(h,f,w){Ca?(E(So,f._currentValue),f._currentValue=w):(E(So,f._currentValue2),f._currentValue2=w)}function Gr(h){var f=So.current;Ca?h._currentValue=f:h._currentValue2=f,b(So)}function du(h,f,w){for(;h!==null;){var R=h.alternate;if((h.childLanes&f)!==f?(h.childLanes|=f,R!==null&&(R.childLanes|=f)):R!==null&&(R.childLanes&f)!==f&&(R.childLanes|=f),h===w)break;h=h.return}}function Oc(h,f,w,R){var B=h.child;for(B!==null&&(B.return=h);B!==null;){var K=B.dependencies;if(K!==null){var Se=B.child;K=K.firstContext;e:for(;K!==null;){var Fe=K;K=B;for(var it=0;it<f.length;it++)if(Fe.context===f[it]){K.lanes|=w,Fe=K.alternate,Fe!==null&&(Fe.lanes|=w),du(K.return,w,h),R||(Se=null);break e}K=Fe.next}}else if(B.tag===18){if(Se=B.return,Se===null)throw Error(a(341));Se.lanes|=w,K=Se.alternate,K!==null&&(K.lanes|=w),du(Se,w,h),Se=null}else Se=B.child;if(Se!==null)Se.return=B;else for(Se=B;Se!==null;){if(Se===h){Se=null;break}if(B=Se.sibling,B!==null){B.return=Se.return,Se=B;break}Se=Se.return}B=Se}}function Os(h,f,w,R){h=null;for(var B=f,K=!1;B!==null;){if(!K){if((B.flags&524288)!==0)K=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var Se=B.alternate;if(Se===null)throw Error(a(387));if(Se=Se.memoizedProps,Se!==null){var Fe=B.type;Jo(B.pendingProps.value,Se.value)||(h!==null?h.push(Fe):h=[Fe])}}else if(B===Qh.current){if(Se=B.alternate,Se===null)throw Error(a(387));Se.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(h!==null?h.push(hn):h=[hn])}B=B.return}h!==null&&Oc(f,h,w,R),f.flags|=262144}function Ps(h){for(h=h.firstContext;h!==null;){var f=h.context;if(!Jo(Ca?f._currentValue:f._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function $s(h){pd=h,or=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Ea(h){return tc(pd,h)}function $a(h,f){return pd===null&&$s(h),tc(h,f)}function tc(h,f){var w=Ca?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:w,next:null},or===null){if(h===null)throw Error(a(308));or=f,h.dependencies={lanes:0,firstContext:f},h.flags|=524288}else or=or.next=f;return w}function bl(){return{controller:new Wy,data:new Map,refCount:0}}function _l(h){h.refCount--,h.refCount===0&&Eu(nh,function(){h.controller.abort()})}function ho(){var h=Cu.current;return h!==null?h:fi.pooledCache}function Nr(h,f){f===null?E(Cu,Cu.current):E(Cu,f.pool)}function wl(){var h=ho();return h===null?null:{parent:Ca?ea._currentValue:ea._currentValue2,pool:h}}function Rr(h){h.flags|=4}function Ku(h,f){if(h!==null&&h.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(h=f.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function Ss(h,f,w,R){if(yi)for(w=f.child;w!==null;){if(w.tag===5||w.tag===6)Nn(h,w.stateNode);else if(!(w.tag===4||Ts&&w.tag===27)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else if(zn)for(var B=f.child;B!==null;){if(B.tag===5){var K=B.stateNode;w&&R&&(K=Gh(K,B.type,B.memoizedProps)),Nn(h,K)}else if(B.tag===6)K=B.stateNode,w&&R&&(K=sp(K,B.memoizedProps)),Nn(h,K);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)K=B.child,K!==null&&(K.return=B),Ss(h,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===f)break;for(;B.sibling===null;){if(B.return===null||B.return===f)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function fo(h,f,w,R){if(zn)for(var B=f.child;B!==null;){if(B.tag===5){var K=B.stateNode;w&&R&&(K=Gh(K,B.type,B.memoizedProps)),Kd(h,K)}else if(B.tag===6)K=B.stateNode,w&&R&&(K=sp(K,B.memoizedProps)),Kd(h,K);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)K=B.child,K!==null&&(K.return=B),fo(h,B,!(B.memoizedProps!==null&&B.memoizedProps.mode==="manual"),!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===f)break;for(;B.sibling===null;){if(B.return===null||B.return===f)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function Sl(h,f){if(zn&&Ku(h,f)){h=f.stateNode;var w=h.containerInfo,R=$d();fo(R,f,!1,!1),h.pendingChildren=R,Rr(f),dc(w,R)}}function hu(h,f,w,R){if(yi)h.memoizedProps!==R&&Rr(f);else if(zn){var B=h.stateNode,K=h.memoizedProps;if((h=Ku(h,f))||K!==R){var Se=fs.current;K=sd(B,w,K,R,!h,null),K===B?f.stateNode=B:(Yn(K,w,R,Se)&&Rr(f),f.stateNode=K,h?Ss(K,f,!1,!1):Rr(f))}else f.stateNode=B}}function Ks(h,f,w){if(ir(f,w)){if(h.flags|=16777216,!Za(f,w))if(Gd())h.flags|=8192;else throw th=km,Ig}else h.flags&=-16777217}function nc(h,f){if(Uy(f)){if(h.flags|=16777216,!Lg(f))if(Gd())h.flags|=8192;else throw th=km,Ig}else h.flags&=-16777217}function Wr(h,f){f!==null&&(h.flags|=4),h.flags&16384&&(f=h.tag!==22?O():536870912,h.lanes|=f,Ru|=f)}function hr(h,f){if(!ki)switch(h.tailMode){case"hidden":f=h.tail;for(var w=null;f!==null;)f.alternate!==null&&(w=f),f=f.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var R=null;w!==null;)w.alternate!==null&&(R=w),w=w.sibling;R===null?f||h.tail===null?h.tail=null:h.tail.sibling=null:R.sibling=null}}function Mi(h){var f=h.alternate!==null&&h.alternate.child===h.child,w=0,R=0;if(f)for(var B=h.child;B!==null;)w|=B.lanes|B.childLanes,R|=B.subtreeFlags&31457280,R|=B.flags&31457280,B.return=h,B=B.sibling;else for(B=h.child;B!==null;)w|=B.lanes|B.childLanes,R|=B.subtreeFlags,R|=B.flags,B.return=h,B=B.sibling;return h.subtreeFlags|=R,h.childLanes=w,f}function Al(h,f,w){var R=f.pendingProps;switch(re(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(f),null;case 1:return Mi(f),null;case 3:return w=f.stateNode,R=null,h!==null&&(R=h.memoizedState.cache),f.memoizedState.cache!==R&&(f.flags|=2048),Gr(ea),pe(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(h===null||h.child===null)&&(at(f)?Rr(f):h===null||h.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,tl!==null&&(Rl(tl),tl=null))),Sl(h,f),Mi(f),null;case 26:if(Zo){w=f.type;var B=f.memoizedState;return h===null?(Rr(f),B!==null?(Mi(f),nc(f,B)):(Mi(f),Ks(f,w,R))):B?B!==h.memoizedState?(Rr(f),Mi(f),nc(f,B)):(Mi(f),f.flags&=-16777217):(yi?h.memoizedProps!==R&&Rr(f):hu(h,f,w,R),Mi(f),Ks(f,w,R)),null}case 27:if(Ts){if(Ee(f),w=mc.current,B=f.type,h!==null&&f.stateNode!=null)yi?h.memoizedProps!==R&&Rr(f):hu(h,f,B,R);else{if(!R){if(f.stateNode===null)throw Error(a(166));return Mi(f),null}h=fs.current,at(f)?ze(f,h):(h=Og(B,R,w,h,!0),f.stateNode=h,Rr(f))}return Mi(f),null}case 5:if(Ee(f),w=f.type,h!==null&&f.stateNode!=null)hu(h,f,w,R);else{if(!R){if(f.stateNode===null)throw Error(a(166));return Mi(f),null}h=fs.current,at(f)?ze(f,h):(B=za(w,R,mc.current,h,f),Ss(B,f,!1,!1),f.stateNode=B,Yn(B,w,R,h)&&Rr(f))}return Mi(f),Ks(f,f.type,f.pendingProps),null;case 6:if(h&&f.stateNode!=null)w=h.memoizedProps,yi?w!==R&&Rr(f):zn&&(w!==R?(f.stateNode=nr(R,mc.current,fs.current,f),Rr(f)):f.stateNode=h.stateNode);else{if(typeof R!="string"&&f.stateNode===null)throw Error(a(166));if(h=mc.current,w=fs.current,at(f)){if(!Hn)throw Error(a(176));if(h=f.stateNode,w=f.memoizedProps,R=null,B=Bs,B!==null)switch(B.tag){case 27:case 5:R=B.memoizedProps}Yh(h,w,f,R)||Ue(f)}else f.stateNode=nr(R,h,w,f)}return Mi(f),null;case 13:if(R=f.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(B=at(f),R!==null&&R.dehydrated!==null){if(h===null){if(!B)throw Error(a(318));if(!Hn)throw Error(a(344));if(B=f.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(a(317));Su(B,f)}else Ct(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Mi(f),B=!1}else tl!==null&&(Rl(tl),tl=null),B=!0;if(!B)return f.flags&256?(dr(f),f):(dr(f),null)}if(dr(f),(f.flags&128)!==0)return f.lanes=w,f;if(w=R!==null,h=h!==null&&h.memoizedState!==null,w){R=f.child,B=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(B=R.alternate.memoizedState.cachePool.pool);var K=null;R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(K=R.memoizedState.cachePool.pool),K!==B&&(R.flags|=2048)}return w!==h&&w&&(f.child.flags|=8192),Wr(f,f.updateQueue),Mi(f),null;case 4:return pe(),Sl(h,f),h===null&&Pi(f.stateNode.containerInfo),Mi(f),null;case 10:return Gr(f.type),Mi(f),null;case 19:if(b(Ur),B=f.memoizedState,B===null)return Mi(f),null;if(R=(f.flags&128)!==0,K=B.rendering,K===null)if(R)hr(B,!1);else{if(Li!==0||h!==null&&(h.flags&128)!==0)for(h=f.child;h!==null;){if(K=Pa(h),K!==null){for(f.flags|=128,hr(B,!1),h=K.updateQueue,f.updateQueue=h,Wr(f,h),f.subtreeFlags=0,h=w,w=f.child;w!==null;)cc(w,h),w=w.sibling;return E(Ur,Ur.current&1|2),f.child}h=h.sibling}B.tail!==null&&Es()>Qa&&(f.flags|=128,R=!0,hr(B,!1),f.lanes=4194304)}else{if(!R)if(h=Pa(K),h!==null){if(f.flags|=128,R=!0,h=h.updateQueue,f.updateQueue=h,Wr(f,h),hr(B,!0),B.tail===null&&B.tailMode==="hidden"&&!K.alternate&&!ki)return Mi(f),null}else 2*Es()-B.renderingStartTime>Qa&&w!==536870912&&(f.flags|=128,R=!0,hr(B,!1),f.lanes=4194304);B.isBackwards?(K.sibling=f.child,f.child=K):(h=B.last,h!==null?h.sibling=K:f.child=K,B.last=K)}return B.tail!==null?(f=B.tail,B.rendering=f,B.tail=f.sibling,B.renderingStartTime=Es(),f.sibling=null,h=Ur.current,E(Ur,R?h&1|2:h&1),f):(Mi(f),null);case 22:case 23:return dr(f),Mr(),R=f.memoizedState!==null,h!==null?h.memoizedState!==null!==R&&(f.flags|=8192):R&&(f.flags|=8192),R?(w&536870912)!==0&&(f.flags&128)===0&&(Mi(f),f.subtreeFlags&6&&(f.flags|=8192)):Mi(f),w=f.updateQueue,w!==null&&Wr(f,w.retryQueue),w=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),R=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(R=f.memoizedState.cachePool.pool),R!==w&&(f.flags|=2048),h!==null&&b(Cu),null;case 24:return w=null,h!==null&&(w=h.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),Gr(ea),Mi(f),null;case 25:return null}throw Error(a(156,f.tag))}function ic(h,f){switch(re(f),f.tag){case 1:return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 3:return Gr(ea),pe(),h=f.flags,(h&65536)!==0&&(h&128)===0?(f.flags=h&-65537|128,f):null;case 26:case 27:case 5:return Ee(f),null;case 13:if(dr(f),h=f.memoizedState,h!==null&&h.dehydrated!==null){if(f.alternate===null)throw Error(a(340));Ct()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 19:return b(Ur),null;case 4:return pe(),null;case 10:return Gr(f.type),null;case 22:case 23:return dr(f),Mr(),h!==null&&b(Cu),h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 24:return Gr(ea),null;case 25:return null;default:return null}}function fu(h,f){switch(re(f),f.tag){case 3:Gr(ea),pe();break;case 26:case 27:case 5:Ee(f);break;case 4:pe();break;case 13:dr(f);break;case 19:b(Ur);break;case 10:Gr(f.type);break;case 22:case 23:dr(f),Mr(),h!==null&&b(Cu);break;case 24:Gr(ea)}}function Ml(h,f){try{var w=f.updateQueue,R=w!==null?w.lastEffect:null;if(R!==null){var B=R.next;w=B;do{if((w.tag&h)===h){R=void 0;var K=w.create,Se=w.inst;R=K(),Se.destroy=R}w=w.next}while(w!==B)}}catch(Fe){hi(f,f.return,Fe)}}function Ji(h,f,w){try{var R=f.updateQueue,B=R!==null?R.lastEffect:null;if(B!==null){var K=B.next;R=K;do{if((R.tag&h)===h){var Se=R.inst,Fe=Se.destroy;if(Fe!==void 0){Se.destroy=void 0,B=f;var it=w;try{Fe()}catch(Ot){hi(B,it,Ot)}}}R=R.next}while(R!==K)}}catch(Ot){hi(f,f.return,Ot)}}function jd(h){var f=h.updateQueue;if(f!==null){var w=h.stateNode;try{xt(f,w)}catch(R){hi(h,h.return,R)}}}function Wo(h,f,w){w.props=ws(h.type,h.memoizedProps),w.state=h.memoizedState;try{w.componentWillUnmount()}catch(R){hi(h,f,R)}}function ls(h,f){try{var w=h.ref;if(w!==null){var R=h.stateNode;switch(h.tag){case 26:case 27:case 5:var B=Kn(R);break;default:B=R}typeof w=="function"?h.refCleanup=w(B):w.current=B}}catch(K){hi(h,f,K)}}function Hi(h,f){var w=h.ref,R=h.refCleanup;if(w!==null)if(typeof R=="function")try{R()}catch(B){hi(h,f,B)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(B){hi(h,f,B)}else w.current=null}function Tl(h){var f=h.type,w=h.memoizedProps,R=h.stateNode;try{wg(R,f,w,h)}catch(B){hi(h,h.return,B)}}function pu(h,f,w){try{ap(h.stateNode,h.type,w,f,h)}catch(R){hi(h,h.return,R)}}function mu(h){return h.tag===5||h.tag===3||(Zo?h.tag===26:!1)||(Ts?h.tag===27:!1)||h.tag===4}function Xo(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||mu(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!Ts||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Yo(h,f,w){var R=h.tag;if(R===5||R===6)h=h.stateNode,f?Vh(w,h,f):Fh(w,h);else if(!(R===4||Ts&&R===27)&&(h=h.child,h!==null))for(Yo(h,f,w),h=h.sibling;h!==null;)Yo(h,f,w),h=h.sibling}function Zs(h,f,w){var R=h.tag;if(R===5||R===6)h=h.stateNode,f?rp(w,h,f):ip(w,h);else if(!(R===4||Ts&&R===27)&&(h=h.child,h!==null))for(Zs(h,f,w),h=h.sibling;h!==null;)Zs(h,f,w),h=h.sibling}function Pc(h,f,w){h=h.containerInfo;try{qh(h,w)}catch(R){hi(f,f.return,R)}}function Js(h,f){for(an(h.containerInfo),lr=f;lr!==null;)if(h=lr,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,lr=f;else for(;lr!==null;){h=lr;var w=h.alternate;switch(f=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&w!==null){f=void 0;var R=h,B=w.memoizedProps;w=w.memoizedState;var K=R.stateNode;try{var Se=ws(R.type,B,R.elementType===R.type);f=K.getSnapshotBeforeUpdate(Se,w),K.__reactInternalSnapshotBeforeUpdate=f}catch(Fe){hi(R,R.return,Fe)}}break;case 3:(f&1024)!==0&&yi&&Hh(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(a(163))}if(f=h.sibling,f!==null){f.return=h.return,lr=f;break}lr=h.return}return Se=ih,ih=!1,Se}function El(h,f,w){var R=w.flags;switch(w.tag){case 0:case 11:case 15:$o(h,w),R&4&&Ml(5,w);break;case 1:if($o(h,w),R&4)if(h=w.stateNode,f===null)try{h.componentDidMount()}catch(Fe){hi(w,w.return,Fe)}else{var B=ws(w.type,f.memoizedProps);f=f.memoizedState;try{h.componentDidUpdate(B,f,h.__reactInternalSnapshotBeforeUpdate)}catch(Fe){hi(w,w.return,Fe)}}R&64&&jd(w),R&512&&ls(w,w.return);break;case 3:if($o(h,w),R&64&&(R=w.updateQueue,R!==null)){if(h=null,w.child!==null)switch(w.child.tag){case 27:case 5:h=Kn(w.child.stateNode);break;case 1:h=w.child.stateNode}try{xt(R,h)}catch(Fe){hi(w,w.return,Fe)}}break;case 26:if(Zo){$o(h,w),R&512&&ls(w,w.return);break}case 27:case 5:$o(h,w),f===null&&R&4&&Tl(w),R&512&&ls(w,w.return);break;case 12:$o(h,w);break;case 13:$o(h,w),R&4&&xi(h,w);break;case 22:if(B=w.memoizedState!==null||Jr,!B){f=f!==null&&f.memoizedState!==null||Ja;var K=Jr,Se=Ja;Jr=B,(Ja=f)&&!Se?ac(h,w,(w.subtreeFlags&8772)!==0):$o(h,w),Jr=K,Ja=Se}R&512&&(w.memoizedProps.mode==="manual"?ls(w,w.return):Hi(w,w.return));break;default:$o(h,w)}}function Xr(h){var f=h.alternate;f!==null&&(h.alternate=null,Xr(f)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(f=h.stateNode,f!==null&&Gi(f)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function qa(h,f,w){for(w=w.child;w!==null;)Si(h,f,w),w=w.sibling}function Si(h,f,w){if(_o&&typeof _o.onCommitFiberUnmount=="function")try{_o.onCommitFiberUnmount(Jh,w)}catch{}switch(w.tag){case 26:if(Zo){Ja||Hi(w,f),qa(h,f,w),w.memoizedState?Tg(w.memoizedState):w.stateNode&&Ng(w.stateNode);break}case 27:if(Ts){Ja||Hi(w,f);var R=vr,B=Ao;vr=w.stateNode,qa(h,f,w),zy(w.stateNode),vr=R,Ao=B;break}case 5:Ja||Hi(w,f);case 6:if(yi){if(R=vr,B=Ao,vr=null,qa(h,f,w),vr=R,Ao=B,vr!==null)if(Ao)try{Wa(vr,w.stateNode)}catch(K){hi(w,f,K)}else try{Ir(vr,w.stateNode)}catch(K){hi(w,f,K)}}else qa(h,f,w);break;case 18:yi&&vr!==null&&(Ao?Sg(vr,w.stateNode):Oy(vr,w.stateNode));break;case 4:yi?(R=vr,B=Ao,vr=w.stateNode.containerInfo,Ao=!0,qa(h,f,w),vr=R,Ao=B):(zn&&Pc(w.stateNode,w,$d()),qa(h,f,w));break;case 0:case 11:case 14:case 15:Ja||Ji(2,w,f),Ja||Ji(4,w,f),qa(h,f,w);break;case 1:Ja||(Hi(w,f),R=w.stateNode,typeof R.componentWillUnmount=="function"&&Wo(w,f,R)),qa(h,f,w);break;case 21:qa(h,f,w);break;case 22:Ja||Hi(w,f),Ja=(R=Ja)||w.memoizedState!==null,qa(h,f,w),Ja=R;break;default:qa(h,f,w)}}function xi(h,f){if(Hn&&f.memoizedState===null&&(h=f.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{ld(h)}catch(w){hi(f,f.return,w)}}function ha(h){switch(h.tag){case 13:case 19:var f=h.stateNode;return f===null&&(f=h.stateNode=new rf),f;case 22:return h=h.stateNode,f=h._retryCache,f===null&&(f=h._retryCache=new rf),f;default:throw Error(a(435,h.tag))}}function Ia(h,f){var w=ha(h);f.forEach(function(R){var B=Qf.bind(null,h,R);w.has(R)||(w.add(R),R.then(B,B))})}function Ua(h,f){var w=f.deletions;if(w!==null)for(var R=0;R<w.length;R++){var B=w[R],K=h,Se=f;if(yi){var Fe=Se;e:for(;Fe!==null;){switch(Fe.tag){case 27:case 5:vr=Fe.stateNode,Ao=!1;break e;case 3:vr=Fe.stateNode.containerInfo,Ao=!0;break e;case 4:vr=Fe.stateNode.containerInfo,Ao=!0;break e}Fe=Fe.return}if(vr===null)throw Error(a(160));Si(K,Se,B),vr=null,Ao=!1}else Si(K,Se,B);K=B.alternate,K!==null&&(K.return=null),B.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)po(f,h),f=f.sibling}function po(h,f){var w=h.alternate,R=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Ua(f,h),fr(h),R&4&&(Ji(3,h,h.return),Ml(3,h),Ji(5,h,h.return));break;case 1:Ua(f,h),fr(h),R&512&&(Ja||w===null||Hi(w,w.return)),R&64&&Jr&&(h=h.updateQueue,h!==null&&(R=h.callbacks,R!==null&&(w=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=w===null?R:w.concat(R))));break;case 26:if(Zo){var B=no;Ua(f,h),fr(h),R&512&&(Ja||w===null||Hi(w,w.return)),R&4&&(R=w!==null?w.memoizedState:null,f=h.memoizedState,w===null?f===null?h.stateNode===null?h.stateNode=Eg(B,h.type,h.memoizedProps,h):Cg(B,h.type,h.stateNode):h.stateNode=Mg(B,f,h.memoizedProps):R!==f?(R===null?w.stateNode!==null&&Ng(w.stateNode):Tg(R),f===null?Cg(B,h.type,h.stateNode):Mg(B,f,h.memoizedProps)):f===null&&h.stateNode!==null&&pu(h,h.memoizedProps,w.memoizedProps));break}case 27:if(Ts&&R&4&&h.alternate===null){B=h.stateNode;var K=h.memoizedProps;try{qb(B),Gb(h.type,K,B,h)}catch(Gt){hi(h,h.return,Gt)}}case 5:if(Ua(f,h),fr(h),R&512&&(Ja||w===null||Hi(w,w.return)),yi){if(h.flags&32){f=h.stateNode;try{ad(f)}catch(Gt){hi(h,h.return,Gt)}}R&4&&h.stateNode!=null&&(f=h.memoizedProps,pu(h,f,w!==null?w.memoizedProps:f)),R&1024&&(md=!0)}break;case 6:if(Ua(f,h),fr(h),R&4&&yi){if(h.stateNode===null)throw Error(a(162));R=h.memoizedProps,w=w!==null?w.memoizedProps:R,f=h.stateNode;try{uc(f,w,R)}catch(Gt){hi(h,h.return,Gt)}}break;case 3:if(Zo?(Rg(),B=no,no=Nm(f.containerInfo),Ua(f,h),no=B):Ua(f,h),fr(h),R&4){if(yi&&Hn&&w!==null&&w.memoizedState.isDehydrated)try{od(f.containerInfo)}catch(Gt){hi(h,h.return,Gt)}if(zn){R=f.containerInfo,w=f.pendingChildren;try{qh(R,w)}catch(Gt){hi(h,h.return,Gt)}}}md&&(md=!1,Zu(h));break;case 4:Zo?(w=no,no=Nm(h.stateNode.containerInfo),Ua(f,h),fr(h),no=w):(Ua(f,h),fr(h)),R&4&&zn&&Pc(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:Ua(f,h),fr(h);break;case 13:Ua(f,h),fr(h),h.child.flags&8192&&h.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(Xc=Es()),R&4&&(R=h.updateQueue,R!==null&&(h.updateQueue=null,Ia(h,R)));break;case 22:R&512&&(Ja||w===null||Hi(w,w.return)),B=h.memoizedState!==null;var Se=w!==null&&w.memoizedState!==null,Fe=Jr,it=Ja;if(Jr=Fe||B,Ja=it||Se,Ua(f,h),Ja=it,Jr=Fe,fr(h),f=h.stateNode,f._current=h,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,R&8192&&(f._visibility=B?f._visibility&-2:f._visibility|1,B&&(f=Jr||Ja,w===null||Se||f||gu(h)),yi&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(w=null,yi)for(f=h;;){if(f.tag===5||Zo&&f.tag===26||Ts&&f.tag===27){if(w===null){Se=w=f;try{K=Se.stateNode,B?Fc(K):wu(Se.stateNode,Se.memoizedProps)}catch(Gt){hi(Se,Se.return,Gt)}}}else if(f.tag===6){if(w===null){Se=f;try{var Ot=Se.stateNode;B?rd(Ot):Pl(Ot,Se.memoizedProps)}catch(Gt){hi(Se,Se.return,Gt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===h)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;w===f&&(w=null),f=f.return}w===f&&(w=null),f.sibling.return=f.return,f=f.sibling}}R&4&&(R=h.updateQueue,R!==null&&(w=R.retryQueue,w!==null&&(R.retryQueue=null,Ia(h,w))));break;case 19:Ua(f,h),fr(h),R&4&&(R=h.updateQueue,R!==null&&(h.updateQueue=null,Ia(h,R)));break;case 21:break;default:Ua(f,h),fr(h)}}function fr(h){var f=h.flags;if(f&2){try{if(yi&&(!Ts||h.tag!==27)){e:{for(var w=h.return;w!==null;){if(mu(w)){var R=w;break e}w=w.return}throw Error(a(160))}switch(R.tag){case 27:if(Ts){var B=R.stateNode,K=Xo(h);Zs(h,K,B);break}case 5:var Se=R.stateNode;R.flags&32&&(ad(Se),R.flags&=-33);var Fe=Xo(h);Zs(h,Fe,Se);break;case 3:case 4:var it=R.stateNode.containerInfo,Ot=Xo(h);Yo(h,Ot,it);break;default:throw Error(a(161))}}}catch(Gt){hi(h,h.return,Gt)}h.flags&=-3}f&4096&&(h.flags&=-4097)}function Zu(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var f=h;Zu(f),f.tag===5&&f.flags&1024&&En(f.stateNode),h=h.sibling}}function $o(h,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)El(h,f.alternate,f),f=f.sibling}function gu(h){for(h=h.child;h!==null;){var f=h;switch(f.tag){case 0:case 11:case 14:case 15:Ji(4,f,f.return),gu(f);break;case 1:Hi(f,f.return);var w=f.stateNode;typeof w.componentWillUnmount=="function"&&Wo(f,f.return,w),gu(f);break;case 26:case 27:case 5:Hi(f,f.return),gu(f);break;case 22:Hi(f,f.return),f.memoizedState===null&&gu(f);break;default:gu(f)}h=h.sibling}}function ac(h,f,w){for(w=w&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var R=f.alternate,B=h,K=f,Se=K.flags;switch(K.tag){case 0:case 11:case 15:ac(B,K,w),Ml(4,K);break;case 1:if(ac(B,K,w),R=K,B=R.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Ot){hi(R,R.return,Ot)}if(R=K,B=R.updateQueue,B!==null){var Fe=R.stateNode;try{var it=B.shared.hiddenCallbacks;if(it!==null)for(B.shared.hiddenCallbacks=null,B=0;B<it.length;B++)Ne(it[B],Fe)}catch(Ot){hi(R,R.return,Ot)}}w&&Se&64&&jd(K),ls(K,K.return);break;case 26:case 27:case 5:ac(B,K,w),w&&R===null&&Se&4&&Tl(K),ls(K,K.return);break;case 12:ac(B,K,w);break;case 13:ac(B,K,w),w&&Se&4&&xi(B,K);break;case 22:K.memoizedState===null&&ac(B,K,w),ls(K,K.return);break;default:ac(B,K,w)}f=f.sibling}}function kh(h,f){var w=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),h=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(h=f.memoizedState.cachePool.pool),h!==w&&(h!=null&&h.refCount++,w!=null&&_l(w))}function Fd(h,f){h=null,f.alternate!==null&&(h=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==h&&(f.refCount++,h!=null&&_l(h))}function Cl(h,f,w,R){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)kc(h,f,w,R),f=f.sibling}function kc(h,f,w,R){var B=f.flags;switch(f.tag){case 0:case 11:case 15:Cl(h,f,w,R),B&2048&&Ml(9,f);break;case 3:Cl(h,f,w,R),B&2048&&(h=null,f.alternate!==null&&(h=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==h&&(f.refCount++,h!=null&&_l(h)));break;case 12:if(B&2048){Cl(h,f,w,R),h=f.stateNode;try{var K=f.memoizedProps,Se=K.id,Fe=K.onPostCommit;typeof Fe=="function"&&Fe(Se,f.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(it){hi(f,f.return,it)}}else Cl(h,f,w,R);break;case 23:break;case 22:K=f.stateNode,f.memoizedState!==null?K._visibility&4?Cl(h,f,w,R):rc(h,f):K._visibility&4?Cl(h,f,w,R):(K._visibility|=4,Yr(h,f,w,R,(f.subtreeFlags&10256)!==0)),B&2048&&kh(f.alternate,f);break;case 24:Cl(h,f,w,R),B&2048&&Fd(f.alternate,f);break;default:Cl(h,f,w,R)}}function Yr(h,f,w,R,B){for(B=B&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var K=h,Se=f,Fe=w,it=R,Ot=Se.flags;switch(Se.tag){case 0:case 11:case 15:Yr(K,Se,Fe,it,B),Ml(8,Se);break;case 23:break;case 22:var Gt=Se.stateNode;Se.memoizedState!==null?Gt._visibility&4?Yr(K,Se,Fe,it,B):rc(K,Se):(Gt._visibility|=4,Yr(K,Se,Fe,it,B)),B&&Ot&2048&&kh(Se.alternate,Se);break;case 24:Yr(K,Se,Fe,it,B),B&&Ot&2048&&Fd(Se.alternate,Se);break;default:Yr(K,Se,Fe,it,B)}f=f.sibling}}function rc(h,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var w=h,R=f,B=R.flags;switch(R.tag){case 22:rc(w,R),B&2048&&kh(R.alternate,R);break;case 24:rc(w,R),B&2048&&Fd(R.alternate,R);break;default:rc(w,R)}f=f.sibling}}function pr(h){if(h.subtreeFlags&ah)for(h=h.child;h!==null;)Ic(h),h=h.sibling}function Ic(h){switch(h.tag){case 26:pr(h),h.flags&ah&&(h.memoizedState!==null?Dg(no,h.memoizedState,h.memoizedProps):vi(h.type,h.memoizedProps));break;case 5:pr(h),h.flags&ah&&vi(h.type,h.memoizedProps);break;case 3:case 4:if(Zo){var f=no;no=Nm(h.stateNode.containerInfo),pr(h),no=f}else pr(h);break;case 22:h.memoizedState===null&&(f=h.alternate,f!==null&&f.memoizedState!==null?(f=ah,ah=16777216,pr(h),ah=f):pr(h));break;default:pr(h)}}function Vd(h){var f=h.alternate;if(f!==null&&(h=f.child,h!==null)){f.child=null;do f=h.sibling,h.sibling=null,h=f;while(h!==null)}}function sc(h){var f=h.deletions;if((h.flags&16)!==0){if(f!==null)for(var w=0;w<f.length;w++){var R=f[w];lr=R,Nl(R,h)}Vd(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Ju(h),h=h.sibling}function Ju(h){switch(h.tag){case 0:case 11:case 15:sc(h),h.flags&2048&&Ji(9,h,h.return);break;case 3:sc(h);break;case 12:sc(h);break;case 22:var f=h.stateNode;h.memoizedState!==null&&f._visibility&4&&(h.return===null||h.return.tag!==13)?(f._visibility&=-5,yu(h)):sc(h);break;default:sc(h)}}function yu(h){var f=h.deletions;if((h.flags&16)!==0){if(f!==null)for(var w=0;w<f.length;w++){var R=f[w];lr=R,Nl(R,h)}Vd(h)}for(h=h.child;h!==null;){switch(f=h,f.tag){case 0:case 11:case 15:Ji(8,f,f.return),yu(f);break;case 22:w=f.stateNode,w._visibility&4&&(w._visibility&=-5,yu(f));break;default:yu(f)}h=h.sibling}}function Nl(h,f){for(;lr!==null;){var w=lr;switch(w.tag){case 0:case 11:case 15:Ji(8,w,f);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var R=w.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:_l(w.memoizedState.cache)}if(R=w.child,R!==null)R.return=w,lr=R;else e:for(w=h;lr!==null;){R=lr;var B=R.sibling,K=R.return;if(Xr(R),R===w){lr=null;break e}if(B!==null){B.return=K,lr=B;break e}lr=K}}}function xu(h){var f=Na(h);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(h=Ms(h),h===null)throw Error(a(362));return h.stateNode.current}function Lr(h,f){var w=h.tag;switch(f.$$typeof){case wp:if(h.type===f.value)return!0;break;case jm:e:{for(f=f.value,h=[h,0],w=0;w<h.length;){var R=h[w++],B=R.tag,K=h[w++],Se=f[K];if(B!==5&&B!==26&&B!==27||!vo(R)){for(;Se!=null&&Lr(R,Se);)K++,Se=f[K];if(K===f.length){f=!0;break e}else for(R=R.child;R!==null;)h.push(R,K),R=R.sibling}}f=!1}return f;case Fm:if((w===5||w===26||w===27)&&jh(h.stateNode,f.value))return!0;break;case ta:if((w===5||w===6||w===26||w===27)&&(h=jc(h),h!==null&&0<=h.indexOf(f.value)))return!0;break;case Ri:if((w===5||w===26||w===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function mr(h){switch(h.$$typeof){case wp:return"<"+(o(h.value)||"Unknown")+">";case jm:return":has("+(mr(h)||"")+")";case Fm:return'[role="'+h.value+'"]';case ta:return'"'+h.value+'"';case Ri:return'[data-testname="'+h.value+'"]';default:throw Error(a(365))}}function Hd(h,f){var w=[];h=[h,0];for(var R=0;R<h.length;){var B=h[R++],K=B.tag,Se=h[R++],Fe=f[Se];if(K!==5&&K!==26&&K!==27||!vo(B)){for(;Fe!=null&&Lr(B,Fe);)Se++,Fe=f[Se];if(Se===f.length)w.push(B);else for(B=B.child;B!==null;)h.push(B,Se),B=B.sibling}}return w}function Dr(h,f){if(!hs)throw Error(a(363));h=xu(h),h=Hd(h,f),f=[],h=Array.from(h);for(var w=0;w<h.length;){var R=h[w++],B=R.tag;if(B===5||B===26||B===27)vo(R)||f.push(R.stateNode);else for(R=R.child;R!==null;)h.push(R),R=R.sibling}return f}function cs(){if((Mn&2)!==0&&li!==0)return li&-li;if(et.T!==null){var h=wo;return h!==0?h:Ge()}return Ci()}function Qs(){Mo===0&&(Mo=(li&536870912)===0||ki?X():536870912);var h=al.current;return h!==null&&(h.flags|=32),Mo}function gr(h,f,w){(h===fi&&ga===2||h.cancelPendingCommit!==null)&&(Ko(h,0),ks(h,li,Mo,!1)),q(h,w),((Mn&2)===0||h!==fi)&&(h===fi&&((Mn&2)===0&&(xc|=w),Li===4&&ks(h,li,Mo,!1)),Re(h))}function vu(h,f,w){if((Mn&6)!==0)throw Error(a(327));var R=!w&&(f&60)===0&&(f&h.expiredLanes)===0||H(h,f),B=R?go(h,f):Ll(h,f,!0),K=R;do{if(B===0){rl&&!R&&ks(h,f,0,!1);break}else if(B===6)ks(h,f,0,!na);else{if(w=h.current.alternate,K&&!Ih(w)){B=Ll(h,f,!1),K=!1;continue}if(B===2){if(K=f,h.errorRecoveryDisabledLanes&K)var Se=0;else Se=h.pendingLanes&-536870913,Se=Se!==0?Se:Se&536870912?536870912:0;if(Se!==0){f=Se;e:{var Fe=h;B=sf;var it=Hn&&Fe.current.memoizedState.isDehydrated;if(it&&(Ko(Fe,Se).flags|=256),Se=Ll(Fe,Se,!1),Se!==2){if(Nu&&!it){Fe.errorRecoveryDisabledLanes|=K,xc|=K,B=4;break e}K=ol,ol=B,K!==null&&Rl(K)}B=Se}if(K=!1,B!==2)continue}}if(B===1){Ko(h,0),ks(h,f,0,!0);break}e:{switch(R=h,B){case 0:case 1:throw Error(a(345));case 4:if((f&4194176)===f){ks(R,f,Mo,!na);break e}break;case 2:ol=null;break;case 3:case 5:break;default:throw Error(a(329))}if(R.finishedWork=w,R.finishedLanes=f,(f&62914560)===f&&(K=Xc+300-Es(),10<K)){if(ks(R,f,Mo,!na),k(R,0)!==0)break e;R.timeoutHandle=Zr(Qu.bind(null,R,w,ol,vc,of,f,Mo,xc,Ru,na,2,-0,0),K);break e}Qu(R,w,ol,vc,of,f,Mo,xc,Ru,na,0,-0,0)}}break}while(!0);Re(h)}function Rl(h){ol===null?ol=h:ol.push.apply(ol,h)}function Qu(h,f,w,R,B,K,Se,Fe,it,Ot,Gt,Jt,tn){var qn=f.subtreeFlags;if((qn&8192||(qn&16785408)===16785408)&&(la(),Ic(f),f=ds(),f!==null)){h.cancelPendingCommit=f(fa.bind(null,h,w,R,B,Se,Fe,it,1,Jt,tn)),ks(h,K,Se,!Ot);return}fa(h,w,R,B,Se,Fe,it,Gt,Jt,tn)}function Ih(h){for(var f=h;;){var w=f.tag;if((w===0||w===11||w===15)&&f.flags&16384&&(w=f.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var R=0;R<w.length;R++){var B=w[R],K=B.getSnapshot;B=B.value;try{if(!Jo(K(),B))return!1}catch{return!1}}if(w=f.child,f.subtreeFlags&16384&&w!==null)w.return=f,f=w;else{if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ks(h,f,w,R){f&=~Vs,f&=~xc,h.suspendedLanes|=f,h.pingedLanes&=~f,R&&(h.warmLanes|=f),R=h.expirationTimes;for(var B=f;0<B;){var K=31-bo(B),Se=1<<K;R[K]=-1,B&=~Se}w!==0&&$(h,w,f)}function qd(){return(Mn&6)===0?(Pe(0),!1):!0}function Is(){if($n!==null){if(ga===0)var h=$n.return;else h=$n,or=pd=null,co(h),qc=null,Bl=0,h=$n;for(;h!==null;)fu(h.alternate,h),h=h.return;$n=null}}function Ko(h,f){h.finishedWork=null,h.finishedLanes=0;var w=h.timeoutHandle;w!==Ga&&(h.timeoutHandle=Ga,pa(w)),w=h.cancelPendingCommit,w!==null&&(h.cancelPendingCommit=null,w()),Is(),fi=h,$n=w=$r(h.current,null),li=f,ga=0,br=null,na=!1,rl=H(h,f),Nu=!1,Ru=Mo=Vs=xc=sl=Li=0,ol=sf=null,of=!1,(f&8)!==0&&(f|=f&32);var R=h.entangledLanes;if(R!==0)for(h=h.entanglements,R&=f;0<R;){var B=31-bo(R),K=1<<B;f|=h[B],R&=~K}return yc=f,W(),w}function Uc(h,f){ii=null,et.H=Ii,f===ua?(f=qt(),ga=3):f===Ig?(f=qt(),ga=4):ga=f===Gy?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,br=f,$n===null&&(Li=1,ec(h,le(f,h.current)))}function Gd(){var h=al.current;return h===null?!0:(li&4194176)===li?jl===null:(li&62914560)===li||(li&536870912)!==0?h===jl:!1}function ed(){var h=et.H;return et.H=Ii,h===null?Ii:h}function eo(){var h=et.A;return et.A=Bm,h}function Us(){Li=4,na||(li&4194176)!==li&&al.current!==null||(rl=!0),(sl&134217727)===0&&(xc&134217727)===0||fi===null||ks(fi,li,Mo,!1)}function Ll(h,f,w){var R=Mn;Mn|=2;var B=ed(),K=eo();(fi!==h||li!==f)&&(vc=null,Ko(h,f)),f=!1;var Se=Li;e:do try{if(ga!==0&&$n!==null){var Fe=$n,it=br;switch(ga){case 8:Is(),Se=6;break e;case 3:case 2:case 6:al.current===null&&(f=!0);var Ot=ga;if(ga=0,br=null,oc(h,Fe,it,Ot),w&&rl){Se=0;break e}break;default:Ot=ga,ga=0,br=null,oc(h,Fe,it,Ot)}}mo(),Se=Li;break}catch(Gt){Uc(h,Gt)}while(!0);return f&&h.shellSuspendCounter++,or=pd=null,Mn=R,et.H=B,et.A=K,$n===null&&(fi=null,li=0,W()),Se}function mo(){for(;$n!==null;)Jf($n)}function go(h,f){var w=Mn;Mn|=2;var R=ed(),B=eo();fi!==h||li!==f?(vc=null,Qa=Es()+500,Ko(h,f)):rl=H(h,f);e:do try{if(ga!==0&&$n!==null){f=$n;var K=br;t:switch(ga){case 1:ga=0,br=null,oc(h,f,K,1);break;case 2:if(bt(K)){ga=0,br=null,Uh(f);break}f=function(){ga===2&&fi===h&&(ga=7),Re(h)},K.then(f,f);break e;case 3:ga=7;break e;case 4:ga=5;break e;case 7:bt(K)?(ga=0,br=null,Uh(f)):(ga=0,br=null,oc(h,f,K,7));break;case 5:var Se=null;switch($n.tag){case 26:Se=$n.memoizedState;case 5:case 27:var Fe=$n,it=Fe.type,Ot=Fe.pendingProps;if(Se?Lg(Se):Za(it,Ot)){ga=0,br=null;var Gt=Fe.sibling;if(Gt!==null)$n=Gt;else{var Jt=Fe.return;Jt!==null?($n=Jt,Wd(Jt)):$n=null}break t}}ga=0,br=null,oc(h,f,K,5);break;case 6:ga=0,br=null,oc(h,f,K,6);break;case 8:Is(),Li=6;break e;default:throw Error(a(462))}}to();break}catch(tn){Uc(h,tn)}while(!0);return or=pd=null,et.H=R,et.A=B,Mn=w,$n!==null?0:(fi=null,li=0,W(),Li)}function to(){for(;$n!==null&&!jy();)Jf($n)}function Jf(h){var f=vl(h.alternate,h,yc);h.memoizedProps=h.pendingProps,f===null?Wd(h):$n=f}function Uh(h){var f=h,w=f.alternate;switch(f.tag){case 15:case 0:f=He(w,f,f.pendingProps,f.type,void 0,li);break;case 11:f=He(w,f,f.pendingProps,f.type.render,f.ref,li);break;case 5:co(f);default:fu(w,f),f=$n=cc(f,yc),f=vl(w,f,yc)}h.memoizedProps=h.pendingProps,f===null?Wd(h):$n=f}function oc(h,f,w,R){or=pd=null,co(f),qc=null,Bl=0;var B=f.return;try{if(Ud(h,B,f,w,li)){Li=1,ec(h,le(w,h.current)),$n=null;return}}catch(K){if(B!==null)throw $n=B,K;Li=1,ec(h,le(w,h.current)),$n=null;return}f.flags&32768?(ki||R===1?h=!0:rl||(li&536870912)!==0?h=!1:(na=h=!0,(R===2||R===3||R===6)&&(R=al.current,R!==null&&R.tag===13&&(R.flags|=16384))),Or(f,h)):Wd(f)}function Wd(h){var f=h;do{if((f.flags&32768)!==0){Or(f,na);return}h=f.return;var w=Al(f.alternate,f,yc);if(w!==null){$n=w;return}if(f=f.sibling,f!==null){$n=f;return}$n=f=h}while(f!==null);Li===0&&(Li=5)}function Or(h,f){do{var w=ic(h.alternate,h);if(w!==null){w.flags&=32767,$n=w;return}if(w=h.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!f&&(h=h.sibling,h!==null)){$n=h;return}$n=h=w}while(h!==null);Li=6,$n=null}function fa(h,f,w,R,B,K,Se,Fe,it,Ot){var Gt=et.T,Jt=qi();try{Ei(2),et.T=null,gi(h,f,w,R,Jt,B,K,Se,Fe,it,Ot)}finally{et.T=Gt,Ei(Jt)}}function gi(h,f,w,R,B,K,Se,Fe){do Qi();while(Lu!==null);if((Mn&6)!==0)throw Error(a(327));var it=h.finishedWork;if(R=h.finishedLanes,it===null)return null;if(h.finishedWork=null,h.finishedLanes=0,it===h.current)throw Error(a(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var Ot=it.lanes|it.childLanes;if(Ot|=ef,I(h,R,Ot,K,Se,Fe),h===fi&&($n=fi=null,li=0),(it.subtreeFlags&10256)===0&&(it.flags&10256)===0||Vl||(Vl=!0,Vm=Ot,sh=w,td(Lm,function(){return Qi(),null})),w=(it.flags&15990)!==0,(it.subtreeFlags&15990)!==0||w?(w=et.T,et.T=null,K=qi(),Ei(2),Se=Mn,Mn|=4,Js(h,it),po(it,h),Yt(h.containerInfo),h.current=it,El(h,it.alternate,it),Fy(),Mn=Se,Ei(K),et.T=w):h.current=it,Vl?(Vl=!1,Lu=h,rh=R):us(h,Ot),Ot=h.pendingLanes,Ot===0&&(ll=null),J(it.stateNode),Re(h),f!==null)for(B=h.onRecoverableError,it=0;it<f.length;it++)Ot=f[it],B(Ot.value,{componentStack:Ot.stack});return(rh&3)!==0&&Qi(),Ot=h.pendingLanes,(R&4194218)!==0&&(Ot&42)!==0?h===io?oh++:(oh=0,io=h):oh=0,Pe(0),null}function us(h,f){(h.pooledCacheLanes&=f)===0&&(f=h.pooledCache,f!=null&&(h.pooledCache=null,_l(f)))}function Qi(){if(Lu!==null){var h=Lu,f=Vm;Vm=0;var w=oe(rh),R=32>w?32:w;w=et.T;var B=qi();try{if(Ei(R),et.T=null,Lu===null)var K=!1;else{R=sh,sh=null;var Se=Lu,Fe=rh;if(Lu=null,rh=0,(Mn&6)!==0)throw Error(a(331));var it=Mn;if(Mn|=4,Ju(Se.current),kc(Se,Se.current,Fe,R),Mn=it,Pe(0,!1),_o&&typeof _o.onPostCommitFiberRoot=="function")try{_o.onPostCommitFiberRoot(Jh,Se)}catch{}K=!0}return K}finally{Ei(B),et.T=w,us(h,f)}}return!1}function yo(h,f,w){f=le(w,f),f=Go(h.stateNode,f,2),h=st(h,f,2),h!==null&&(q(h,2),Re(h))}function hi(h,f,w){if(h.tag===3)yo(h,h,w);else for(;f!==null;){if(f.tag===3){yo(f,h,w);break}else if(f.tag===1){var R=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(ll===null||!ll.has(R))){h=le(w,h),w=gl(2),R=st(f,w,2),R!==null&&(Dc(w,R,f,h),q(R,2),Re(R));break}}f=f.return}}function Xd(h,f,w){var R=h.pingCache;if(R===null){R=h.pingCache=new bi;var B=new Set;R.set(f,B)}else B=R.get(f),B===void 0&&(B=new Set,R.set(f,B));B.has(w)||(Nu=!0,B.add(w),h=lc.bind(null,h,f,w),f.then(h,h))}function lc(h,f,w){var R=h.pingCache;R!==null&&R.delete(f),h.pingedLanes|=h.suspendedLanes&w,h.warmLanes&=~w,fi===h&&(li&w)===w&&(Li===4||Li===3&&(li&62914560)===li&&300>Es()-Xc?(Mn&2)===0&&Ko(h,0):Vs|=w,Ru===li&&(Ru=0)),Re(h)}function Pr(h,f){f===0&&(f=O()),h=de(h,f),h!==null&&(q(h,f),Re(h))}function bu(h){var f=h.memoizedState,w=0;f!==null&&(w=f.retryLane),Pr(h,w)}function Qf(h,f){var w=0;switch(h.tag){case 13:var R=h.stateNode,B=h.memoizedState;B!==null&&(w=B.retryLane);break;case 19:R=h.stateNode;break;case 22:R=h.stateNode._retryCache;break;default:throw Error(a(314))}R!==null&&R.delete(f),Pr(h,w)}function td(h,f){return Zh(h,f)}function zh(h,f,w,R){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(h){return h=h.prototype,!(!h||!h.isReactComponent)}function $r(h,f){var w=h.alternate;return w===null?(w=t(h.tag,f,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=f,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&31457280,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,f=h.dependencies,w.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w.refCleanup=h.refCleanup,w}function cc(h,f){h.flags&=31457282;var w=h.alternate;return w===null?(h.childLanes=0,h.lanes=f,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=w.childLanes,h.lanes=w.lanes,h.child=w.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=w.memoizedProps,h.memoizedState=w.memoizedState,h.updateQueue=w.updateQueue,h.type=w.type,f=w.dependencies,h.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),h}function As(h,f,w,R,B,K){var Se=0;if(R=h,typeof h=="function")Dl(h)&&(Se=1);else if(typeof h=="string")Se=Zo&&Ts?Ag(h,w,fs.current)?26:$h(h)?27:5:Zo?Ag(h,w,fs.current)?26:5:Ts&&$h(h)?27:5;else e:switch(h){case Y:return xo(w.children,B,K,f);case Q:Se=8,B|=24;break;case fe:return h=t(12,w,f,B|2),h.elementType=fe,h.lanes=K,h;case Oe:return h=t(13,w,f,B),h.elementType=Oe,h.lanes=K,h;case Xe:return h=t(19,w,f,B),h.elementType=Xe,h.lanes=K,h;case $e:return zc(w,B,K,f);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case ye:case we:Se=10;break e;case ve:Se=9;break e;case Ce:Se=11;break e;case ut:Se=14;break e;case Le:Se=16,R=null;break e}Se=29,w=Error(a(130,h===null?"null":typeof h,"")),R=null}return f=t(Se,w,f,B),f.elementType=h,f.type=R,f.lanes=K,f}function xo(h,f,w,R){return h=t(7,h,R,f),h.lanes=w,h}function zc(h,f,w,R){h=t(22,h,R,f),h.elementType=$e,h.lanes=w;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var K=B._current;if(K===null)throw Error(a(456));if((B._pendingVisibility&2)===0){var Se=de(K,2);Se!==null&&(B._pendingVisibility|=2,gr(Se,K,2))}},attach:function(){var K=B._current;if(K===null)throw Error(a(456));if((B._pendingVisibility&2)!==0){var Se=de(K,2);Se!==null&&(B._pendingVisibility&=-3,gr(Se,K,2))}}};return h.stateNode=B,h}function Ol(h,f,w){return h=t(6,h,null,f),h.lanes=w,h}function nd(h,f,w){return f=t(4,h.children!==null?h.children:[],h.key,f),f.lanes=w,f.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},f}function Bc(h,f,w,R,B,K,Se,Fe){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ga,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=R,this.onUncaughtError=B,this.onCaughtError=K,this.onRecoverableError=Se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Fe,this.incompleteTransitions=new Map}function kr(h,f,w,R,B,K,Se,Fe,it,Ot,Gt,Jt){return h=new Bc(h,f,w,Se,Fe,it,Ot,Jt),f=1,K===!0&&(f|=24),K=t(3,null,null,f),h.current=K,K.stateNode=h,f=bl(),f.refCount++,h.pooledCache=f,f.refCount++,K.memoizedState={element:R,isDehydrated:w,cache:f},Mt(K),h}function Yd(h){return h?(h=Qd,h):Qd}function ep(h){var f=h._reactInternals;if(f===void 0)throw typeof h.render=="function"?Error(a(188)):(h=Object.keys(h).join(","),Error(a(268,h)));return h=g(f),h=h!==null?_(h):null,h===null?null:Kn(h.stateNode)}function Sm(h,f,w,R,B,K){B=Yd(B),R.context===null?R.context=B:R.pendingContext=B,R=Ke(f),R.payload={element:w},K=K===void 0?null:K,K!==null&&(R.callback=K),w=st(h,R,f),w!==null&&(gr(w,h,f),Dt(w,h,f))}function Am(h,f){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<f?w:f}}function tp(h,f){Am(h,f),(h=h.alternate)&&Am(h,f)}var gn={},id=cg(),Kr=u7(),_u=Object.assign,Bh=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),ve=Symbol.for("react.consumer"),we=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),rt=Symbol.for("react.memo_cache_sentinel"),Et=Symbol.iterator,lt=Symbol.for("react.client.reference"),et=id.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nt,Vt,It=!1,on=Array.isArray,nn=e.rendererVersion,Un=e.rendererPackageName,ln=e.extraDevToolsConfig,Kn=e.getPublicInstance,ba=e.getRootHostContext,Xn=e.getChildHostContext,an=e.prepareForCommit,Yt=e.resetAfterCommit,za=e.createInstance,Nn=e.appendInitialChild,Yn=e.finalizeInitialChildren,Ti=e.shouldSetTextContent,nr=e.createTextInstance,Zr=e.scheduleTimeout,pa=e.cancelTimeout,Ga=e.noTimeout,Ca=e.isPrimaryRenderer;e.warnsIfNotActing;var yi=e.supportsMutation,zn=e.supportsPersistence,Hn=e.supportsHydration,Na=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Pi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Ei=e.setCurrentUpdatePriority,qi=e.getCurrentUpdatePriority,Ci=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Ka=e.shouldAttemptEagerTransition,Gi=e.detachDeletedInstance;e.requestPostPaintCallback;var ir=e.maySuspendCommit,Za=e.preloadInstance,la=e.startSuspendingCommit,vi=e.suspendInstance,ds=e.waitForCommitToBeReady,ca=e.NotPendingTransition,hn=e.HostTransitionContext,En=e.resetFormInstance;e.bindToConsole;var Ni=e.supportsMicrotasks,zs=e.scheduleMicrotask,hs=e.supportsTestSelectors,Ms=e.findFiberRoot,ar=e.getBoundingRect,jc=e.getTextContent,vo=e.isHiddenSubtree,jh=e.matchAccessibilityRole,ma=e.setFocusIfFocusable,np=e.setupIntersectionObserver,ip=e.appendChild,Fh=e.appendChildToContainer,uc=e.commitTextUpdate,wg=e.commitMount,ap=e.commitUpdate,rp=e.insertBefore,Vh=e.insertInContainerBefore,Ir=e.removeChild,Wa=e.removeChildFromContainer,ad=e.resetTextContent,Fc=e.hideInstance,rd=e.hideTextInstance,wu=e.unhideInstance,Pl=e.unhideTextInstance,Hh=e.clearContainer,sd=e.cloneInstance,$d=e.createContainerChildSet,Kd=e.appendChildToContainerChildSet,dc=e.finalizeContainerChildren,qh=e.replaceContainerChildren,Gh=e.cloneHiddenInstance,sp=e.cloneHiddenTextInstance,Zd=e.isSuspenseInstancePending,kl=e.isSuspenseInstanceFallback,Mm=e.getSuspenseInstanceFallbackErrorDetails,Tm=e.registerSuspenseInstanceRetry,Em=e.canHydrateFormStateMarker,op=e.isFormStateMarkerMatching,lp=e.getNextHydratableSibling,Vc=e.getFirstHydratableChild,Wh=e.getFirstHydratableChildWithinContainer,Jd=e.getFirstHydratableChildWithinSuspenseInstance,Il=e.canHydrateInstance,hc=e.canHydrateTextInstance,fc=e.canHydrateSuspenseInstance,Xh=e.hydrateInstance,Yh=e.hydrateTextInstance,Su=e.hydrateSuspenseInstance,Cm=e.getNextHydratableInstanceAfterSuspenseInstance,od=e.commitHydratedContainer,ld=e.commitHydratedSuspenseInstance,Oy=e.clearSuspenseBoundary,Sg=e.clearSuspenseBoundaryFromContainer,Py=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var ky=e.validateHydratableInstance,Iy=e.validateHydratableTextInstance,Zo=e.supportsResources,Ag=e.isHostHoistableType,Nm=e.getHoistableRoot,Rm=e.getResource,Mg=e.acquireResource,Tg=e.releaseResource,Eg=e.hydrateHoistable,Cg=e.mountHoistable,Ng=e.unmountHoistable,Hb=e.createHoistableInstance,Rg=e.prepareToCommitHoistables,Uy=e.mayResourceSuspendCommit,Lg=e.preloadResource,Dg=e.suspendResource,Ts=e.supportsSingletons,Og=e.resolveSingletonInstance,qb=e.clearSingleton,Gb=e.acquireSingletonInstance,zy=e.releaseSingletonInstance,$h=e.isHostSingletonType,cp=[],Au=-1,Qd={},bo=Math.clz32?Math.clz32:C,up=Math.log,By=Math.LN2,Kh=128,dp=4194304,Zh=Kr.unstable_scheduleCallback,hp=Kr.unstable_cancelCallback,jy=Kr.unstable_shouldYield,Fy=Kr.unstable_requestPaint,Es=Kr.unstable_now,Pg=Kr.unstable_ImmediatePriority,Vy=Kr.unstable_UserBlockingPriority,Lm=Kr.unstable_NormalPriority,Dm=Kr.unstable_IdlePriority,Hy=Kr.log,kg=Kr.unstable_setDisableYieldValue,Jh=null,_o=null,Jo=typeof Object.is=="function"?Object.is:te,Om=new WeakMap,Ba=[],rr=0,fp=null,pp=0,Qo=[],el=0,pc=null,Hc=1,Ul="",fs=M(null),mp=M(null),mc=M(null),Qh=M(null),Bs=null,Cs=null,ki=!1,tl=null,zl=!1,gp=Error(a(519)),nl=[],cd=0,ef=0,tf=null,eh=null,yp=!1,xp=!1,gc=!1,ud=0,vp=null,Pm=0,wo=0,dd=null,Mu=!1,nf=!1,bp=Object.prototype.hasOwnProperty,ua=Error(a(460)),Ig=Error(a(474)),km={then:function(){}},th=null,qc=null,Bl=0,hd=Fi(!0),Ug=Fi(!1),Gc=M(null),il=M(0),al=M(null),jl=null,Ur=M(0),Wc=0,ii=null,Wi=null,yr=null,Fl=!1,ja=!1,Tu=!1,_p=0,sr=0,af=null,qy=0,Im=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Ii={readContext:Ea,use:ft,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useInsertionEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useSyncExternalStore:Dn,useId:Dn};Ii.useCacheRefresh=Dn,Ii.useMemoCache=Dn,Ii.useHostTransitionStatus=Dn,Ii.useFormState=Dn,Ii.useActionState=Dn,Ii.useOptimistic=Dn;var zr={readContext:Ea,use:ft,useCallback:function(h,f){return da().memoizedState=[h,f===void 0?null:f],h},useContext:Ea,useEffect:Od,useImperativeHandle:function(h,f,w){w=w!=null?w.concat([h]):null,Tr(4194308,4,vs.bind(null,f,h),w)},useLayoutEffect:function(h,f){return Tr(4194308,4,h,f)},useInsertionEffect:function(h,f){Tr(4,2,h,f)},useMemo:function(h,f){var w=da();f=f===void 0?null:f;var R=h();if(Tu){ae(!0);try{h()}finally{ae(!1)}}return w.memoizedState=[R,f],R},useReducer:function(h,f,w){var R=da();if(w!==void 0){var B=w(f);if(Tu){ae(!0);try{w(f)}finally{ae(!1)}}}else B=f;return R.memoizedState=R.baseState=B,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:B},R.queue=h,h=h.dispatch=Xs.bind(null,ii,h),[R.memoizedState,h]},useRef:function(h){var f=da();return h={current:h},f.memoizedState=h},useState:function(h){h=di(h);var f=h.queue,w=Rc.bind(null,ii,f);return f.dispatch=w,[h.memoizedState,w]},useDebugValue:Ho,useDeferredValue:function(h,f){var w=da();return Cn(w,h,f)},useTransition:function(){var h=di(!1);return h=Xu.bind(null,ii,h.queue,!0,!1),da().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,f,w){var R=ii,B=da();if(ki){if(w===void 0)throw Error(a(407));w=w()}else{if(w=f(),fi===null)throw Error(a(349));(li&60)!==0||vn(R,f,w)}B.memoizedState=w;var K={value:w,getSnapshot:f};return B.queue=K,Od(mn.bind(null,R,K,h),[h]),R.flags|=2048,xa(9,An.bind(null,R,K,w,f),{destroy:void 0},null),w},useId:function(){var h=da(),f=fi.identifierPrefix;if(ki){var w=Ul,R=Hc;w=(R&~(1<<32-bo(R)-1)).toString(32)+w,f=":"+f+"R"+w,w=_p++,0<w&&(f+="H"+w.toString(32)),f+=":"}else w=qy++,f=":"+f+"r"+w.toString(32)+":";return h.memoizedState=f},useCacheRefresh:function(){return da().memoizedState=lu.bind(null,ii)}};zr.useMemoCache=ct,zr.useHostTransitionStatus=bs,zr.useFormState=Ws,zr.useActionState=Ws,zr.useOptimistic=function(h){var f=da();f.memoizedState=f.baseState=h;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=w,f=$u.bind(null,ii,!0,w),w.dispatch=f,[h,f]};var js={readContext:Ea,use:ft,useCallback:Nc,useContext:Ea,useEffect:ou,useImperativeHandle:uo,useInsertionEffect:Wu,useLayoutEffect:Pd,useMemo:Ql,useReducer:Ft,useRef:os,useState:function(){return Ft(Je)},useDebugValue:Ho,useDeferredValue:function(h,f){var w=be();return kd(w,Wi.memoizedState,h,f)},useTransition:function(){var h=Ft(Je)[0],f=be().memoizedState;return[typeof h=="boolean"?h:Ze(h),f]},useSyncExternalStore:Zt,useId:Er};js.useCacheRefresh=Yu,js.useMemoCache=ct,js.useHostTransitionStatus=bs,js.useFormState=Vi,js.useActionState=Vi,js.useOptimistic=function(h,f){var w=be();return Sn(w,Wi,h,f)};var fd={readContext:Ea,use:ft,useCallback:Nc,useContext:Ea,useEffect:ou,useImperativeHandle:uo,useInsertionEffect:Wu,useLayoutEffect:Pd,useMemo:Ql,useReducer:Kt,useRef:os,useState:function(){return Kt(Je)},useDebugValue:Ho,useDeferredValue:function(h,f){var w=be();return Wi===null?Cn(w,h,f):kd(w,Wi.memoizedState,h,f)},useTransition:function(){var h=Kt(Je)[0],f=be().memoizedState;return[typeof h=="boolean"?h:Ze(h),f]},useSyncExternalStore:Zt,useId:Er};fd.useCacheRefresh=Yu,fd.useMemoCache=ct,fd.useHostTransitionStatus=bs,fd.useFormState=Va,fd.useActionState=Va,fd.useOptimistic=function(h,f){var w=be();return Wi!==null?Sn(w,Wi,h,f):(w.baseState=h,[h,w.queue.dispatch])};var Um={isMounted:function(h){return(h=h._reactInternals)?y(h)===h:!1},enqueueSetState:function(h,f,w){h=h._reactInternals;var R=cs(),B=Ke(R);B.payload=f,w!=null&&(B.callback=w),f=st(h,B,R),f!==null&&(gr(f,h,R),Dt(f,h,R))},enqueueReplaceState:function(h,f,w){h=h._reactInternals;var R=cs(),B=Ke(R);B.tag=1,B.payload=f,w!=null&&(B.callback=w),f=st(h,B,R),f!==null&&(gr(f,h,R),Dt(f,h,R))},enqueueForceUpdate:function(h,f){h=h._reactInternals;var w=cs(),R=Ke(w);R.tag=2,f!=null&&(R.callback=f),f=st(h,R,w),f!==null&&(gr(f,h,w),Dt(f,h,w))}},zg=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Gy=Error(a(461)),xr=!1,Fs={dehydrated:null,treeContext:null,retryLane:0},So=M(null),pd=null,or=null,Wy=typeof AbortController<"u"?AbortController:function(){var h=[],f=this.signal={aborted:!1,addEventListener:function(w,R){h.push(R)}};this.abort=function(){f.aborted=!0,h.forEach(function(w){return w()})}},Eu=Kr.unstable_scheduleCallback,nh=Kr.unstable_NormalPriority,ea={$$typeof:we,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},zm=et.S;et.S=function(h,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Be(h,f),zm!==null&&zm(h,f)};var Cu=M(null),Jr=!1,Ja=!1,md=!1,rf=typeof WeakSet=="function"?WeakSet:Set,lr=null,ih=!1,vr=null,Ao=!1,no=null,ah=8192,Bm={getCacheForType:function(h){var f=Ea(ea),w=f.data.get(h);return w===void 0&&(w=h(),f.data.set(h,w)),w}},wp=0,jm=1,Fm=2,Ri=3,ta=4;if(typeof Symbol=="function"&&Symbol.for){var ai=Symbol.for;wp=ai("selector.component"),jm=ai("selector.has_pseudo_class"),Fm=ai("selector.role"),Ri=ai("selector.test_id"),ta=ai("selector.text")}var bi=typeof WeakMap=="function"?WeakMap:Map,Mn=0,fi=null,$n=null,li=0,ga=0,br=null,na=!1,rl=!1,Nu=!1,yc=0,Li=0,sl=0,xc=0,Vs=0,Mo=0,Ru=0,sf=null,ol=null,of=!1,Xc=0,Qa=1/0,vc=null,ll=null,Vl=!1,Lu=null,rh=0,Vm=0,sh=null,oh=0,io=null;return gn.attemptContinuousHydration=function(h){if(h.tag===13){var f=de(h,67108864);f!==null&&gr(f,h,67108864),tp(h,67108864)}},gn.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var f=cs(),w=de(h,f);w!==null&&gr(w,h,f),tp(h,f)}},gn.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var f=D(h.pendingLanes);if(f!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;f;){var w=1<<31-bo(f);h.entanglements[1]|=w,f&=~w}Re(h),(Mn&6)===0&&(Qa=Es()+500,Pe(0))}}break;case 13:f=de(h,2),f!==null&&gr(f,h,2),qd(),tp(h,2)}},gn.batchedUpdates=function(h,f){return h(f)},gn.createComponentSelector=function(h){return{$$typeof:wp,value:h}},gn.createContainer=function(h,f,w,R,B,K,Se,Fe,it,Ot){return kr(h,f,!1,null,w,R,K,Se,Fe,it,Ot,null)},gn.createHasPseudoClassSelector=function(h){return{$$typeof:jm,value:h}},gn.createHydrationContainer=function(h,f,w,R,B,K,Se,Fe,it,Ot,Gt,Jt,tn){return h=kr(w,R,!0,h,B,K,Fe,it,Ot,Gt,Jt,tn),h.context=Yd(null),w=h.current,R=cs(),B=Ke(R),B.callback=f??null,st(w,B,R),h.current.lanes=R,q(h,R),Re(h),h},gn.createPortal=function(h,f,w){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:R==null?null:""+R,children:h,containerInfo:f,implementation:w}},gn.createRoleSelector=function(h){return{$$typeof:Fm,value:h}},gn.createTestNameSelector=function(h){return{$$typeof:Ri,value:h}},gn.createTextSelector=function(h){return{$$typeof:ta,value:h}},gn.defaultOnCaughtError=function(h){console.error(h)},gn.defaultOnRecoverableError=function(h){zg(h)},gn.defaultOnUncaughtError=function(h){zg(h)},gn.deferredUpdates=function(h){var f=et.T,w=qi();try{return Ei(32),et.T=null,h()}finally{Ei(w),et.T=f}},gn.discreteUpdates=function(h,f,w,R,B){var K=et.T,Se=qi();try{return Ei(2),et.T=null,h(f,w,R,B)}finally{Ei(Se),et.T=K,Mn===0&&(Qa=Es()+500)}},gn.findAllNodes=Dr,gn.findBoundingRects=function(h,f){if(!hs)throw Error(a(363));f=Dr(h,f),h=[];for(var w=0;w<f.length;w++)h.push(ar(f[w]));for(f=h.length-1;0<f;f--){w=h[f];for(var R=w.x,B=R+w.width,K=w.y,Se=K+w.height,Fe=f-1;0<=Fe;Fe--)if(f!==Fe){var it=h[Fe],Ot=it.x,Gt=Ot+it.width,Jt=it.y,tn=Jt+it.height;if(R>=Ot&&K>=Jt&&B<=Gt&&Se<=tn){h.splice(f,1);break}else if(R!==Ot||w.width!==it.width||tn<K||Jt>Se){if(!(K!==Jt||w.height!==it.height||Gt<R||Ot>B)){Ot>R&&(it.width+=Ot-R,it.x=R),Gt<B&&(it.width=B-Ot),h.splice(f,1);break}}else{Jt>K&&(it.height+=Jt-K,it.y=K),tn<Se&&(it.height=Se-Jt),h.splice(f,1);break}}}return h},gn.findHostInstance=ep,gn.findHostInstanceWithNoPortals=function(h){return h=g(h),h=h!==null?S(h):null,h===null?null:Kn(h.stateNode)},gn.findHostInstanceWithWarning=function(h){return ep(h)},gn.flushPassiveEffects=Qi,gn.flushSyncFromReconciler=function(h){var f=Mn;Mn|=1;var w=et.T,R=qi();try{if(Ei(2),et.T=null,h)return h()}finally{Ei(R),et.T=w,Mn=f,(Mn&6)===0&&Pe(0)}},gn.flushSyncWork=qd,gn.focusWithin=function(h,f){if(!hs)throw Error(a(363));for(h=xu(h),f=Hd(h,f),f=Array.from(f),h=0;h<f.length;){var w=f[h++],R=w.tag;if(!vo(w)){if((R===5||R===26||R===27)&&ma(w.stateNode))return!0;for(w=w.child;w!==null;)f.push(w),w=w.sibling}}return!1},gn.getFindAllNodesFailureDescription=function(h,f){if(!hs)throw Error(a(363));var w=0,R=[];h=[xu(h),0];for(var B=0;B<h.length;){var K=h[B++],Se=K.tag,Fe=h[B++],it=f[Fe];if((Se!==5&&Se!==26&&Se!==27||!vo(K))&&(Lr(K,it)&&(R.push(mr(it)),Fe++,Fe>w&&(w=Fe)),Fe<f.length))for(K=K.child;K!==null;)h.push(K,Fe),K=K.sibling}if(w<f.length){for(h=[];w<f.length;w++)h.push(mr(f[w]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},gn.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return Kn(h.child.stateNode);default:return h.child.stateNode}},gn.injectIntoDevTools=function(){var h={bundleType:0,version:nn,rendererPackageName:Un,currentDispatcherRef:et,findFiberByHostInstance:Na,reconcilerVersion:"19.0.0"};if(ln!==null&&(h.rendererConfig=ln),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)h=!0;else{try{Jh=f.inject(h),_o=f}catch{}h=!!f.checkDCE}}return h},gn.isAlreadyRendering=function(){return!1},gn.observeVisibleRects=function(h,f,w,R){if(!hs)throw Error(a(363));h=Dr(h,f);var B=np(h,w,R).disconnect;return{disconnect:function(){B()}}},gn.shouldError=function(){return null},gn.shouldSuspend=function(){return!1},gn.startHostTransition=function(h,f,w,R){if(h.tag!==5)throw Error(a(476));var B=Id(h).queue;Xu(h,B,f,ca,w===null?n:function(){var K=Id(h).next.queue;return Ds(h,K,{},cs()),w(R)})},gn.updateContainer=function(h,f,w,R){var B=f.current,K=cs();return Sm(B,K,h,f,w,R),K},gn.updateContainerSync=function(h,f,w,R){return f.tag===0&&Qi(),Sm(f.current,2,h,f,w,R),2},gn},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(u_)),u_.exports}var VC;function ZJ(){return VC||(VC=1,c_.exports=KJ()),c_.exports}var JJ=ZJ();const QJ=lg(JJ);var HC=u7();function QS(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const a=QS(n,e,t);if(a)return a;n=e?null:n.sibling}}function d7(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const eA=d7(Te.createContext(null));class h7 extends Te.Component{render(){return Te.createElement(eA.Provider,{value:this._reactInternals},this.props.children)}}function f7(){const i=Te.useContext(eA);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Te.useId();return Te.useMemo(()=>{for(const t of[i,i==null?void 0:i.alternate]){if(!t)continue;const n=QS(t,!1,a=>{let r=a.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(n)return n}},[i,e])}const eQ=Symbol.for("react.context"),tQ=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===eQ;function nQ(){const i=f7(),[e]=Te.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;tQ(n)&&n!==eA&&!e.has(n)&&e.set(n,Te.use(d7(n))),t=t.return}return e}function iQ(){const i=nQ();return Te.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>Te.createElement(e,null,Te.createElement(t.Provider,{...n,value:i.get(t)})),e=>Te.createElement(h7,{...e})),[i])}function p7(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const m7=i=>i&&i.isOrthographicCamera,aQ=i=>i&&i.hasOwnProperty("current"),rQ=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),Dy=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Te.useLayoutEffect:Te.useEffect;function g7(i){const e=Te.useRef(i);return Dy(()=>void(e.current=i),[i]),e}function sQ(){const i=f7(),e=iQ();return Te.useMemo(()=>({children:t})=>{const a=!!QS(i,!0,r=>r.type===Te.StrictMode)?Te.StrictMode:Te.Fragment;return A.jsx(a,{children:A.jsx(e,{children:t})})},[i,e])}function oQ({set:i}){return Dy(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const lQ=(i=>(i=class extends Te.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function y7(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function b0(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const _r={obj:i=>i===Object(i)&&!_r.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:a=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(_r.str(i)||_r.num(i)||_r.boo(i))return i===e;const r=_r.obj(i);if(r&&n==="reference")return i===e;const o=_r.arr(i);if(o&&t==="reference")return i===e;if((o||r)&&i===e)return!0;let l;for(l in i)if(!(l in e))return!1;if(r&&t==="shallow"&&n==="shallow"){for(l in a?e:i)if(!_r.equ(i[l],e[l],{strict:a,objects:"reference"}))return!1}else for(l in a?e:i)if(i[l]!==e[l])return!1;if(_r.und(l)){if(o&&i.length===0&&e.length===0||r&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function cQ(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const x7=["children","key","ref"];function uQ(i){const e={};for(const t in i)x7.includes(t)||(e[t]=i[t]);return e}function q2(i,e,t,n){const a=i;let r=a==null?void 0:a.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:uQ(n),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=r)),r}function hy(i,e){if(!e.includes("-"))return{root:i,key:e,target:i[e]};if(e in i)return{root:i,key:e,target:i[e]};let t=i;const n=e.split("-");for(const a of n){if(typeof t!="object"||t===null){if(t!==void 0){const r=n.slice(n.indexOf(a)).join("-");return{root:t,key:r,target:void 0}}return{root:i,key:e,target:void 0}}e=a,i=t,t=t[e]}return{root:i,key:e,target:t}}const qC=/-\d+$/;function G2(i,e){if(_r.str(e.props.attach)){if(qC.test(e.props.attach)){const a=e.props.attach.replace(qC,""),{root:r,key:o}=hy(i.object,a);Array.isArray(r[o])||(r[o]=[])}const{root:t,key:n}=hy(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else _r.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function W2(i,e){if(_r.str(e.props.attach)){const{root:t,key:n}=hy(i.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[n]:t[n]=a}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const mw=[...x7,"args","dispose","attach","object","onUpdate","dispose"],GC=new Map;function dQ(i){let e=GC.get(i.constructor);try{e||(e=new i.constructor,GC.set(i.constructor,e))}catch{}return e}function hQ(i,e){const t={};for(const n in e)if(!mw.includes(n)&&!_r.equ(e[n],i.props[n])){t[n]=e[n];for(const a in e)a.startsWith(`${n}-`)&&(t[a]=e[a])}for(const n in i.props){if(mw.includes(n)||e.hasOwnProperty(n))continue;const{root:a,key:r}=hy(i.object,n);if(a.constructor&&a.constructor.length===0){const o=dQ(a);_r.und(o)||(t[r]=o[r])}else t[r]=0}return t}const fQ=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],pQ=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Cf(i,e){var t;const n=i.__r3f,a=n&&p7(n).getState(),r=n==null?void 0:n.eventCount;for(const l in e){let u=e[l];if(mw.includes(l))continue;if(n&&pQ.test(l)){typeof u=="function"?n.handlers[l]=u:delete n.handlers[l],n.eventCount=Object.keys(n.handlers).length;continue}if(u===void 0)continue;let{root:d,key:m,target:y}=hy(i,l);if(y===void 0&&(typeof d!="object"||d===null))throw Error(`R3F: Cannot set "${l}". Ensure it is an object before setting "${m}".`);if(y instanceof ig&&u instanceof ig)y.mask=u.mask;else if(y instanceof rn&&rQ(u))y.set(u);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof y.copy=="function"&&u!=null&&u.constructor&&y.constructor===u.constructor)y.copy(u);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&Array.isArray(u))typeof y.fromArray=="function"?y.fromArray(u):y.set(...u);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof u=="number")typeof y.setScalar=="function"?y.setScalar(u):y.set(u);else{var o;d[m]=u,a&&!a.linear&&fQ.includes(m)&&(o=d[m])!=null&&o.isTexture&&d[m].format===zo&&d[m].type===au&&(d[m].colorSpace=Io)}}if(n!=null&&n.parent&&a!=null&&a.internal&&(t=n.object)!=null&&t.isObject3D&&r!==n.eventCount){const l=n.object,u=a.internal.interaction.indexOf(l);u>-1&&a.internal.interaction.splice(u,1),n.eventCount&&l.raycast!==null&&a.internal.interaction.push(l)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&_g(n),i}function _g(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function mQ(i,e){i.manual||(m7(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const Gl=i=>i==null?void 0:i.isObject3D;function bv(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function v7(i,e,t,n){const a=t.get(e);a&&(t.delete(e),t.size===0&&(i.delete(n),a.target.releasePointerCapture(n)))}function gQ(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,a)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((n,a)=>{v7(t.capturedMap,e,n,a)})}function yQ(i){function e(u){const{internal:d}=i.getState(),m=u.offsetX-d.initialClick[0],y=u.offsetY-d.initialClick[1];return Math.round(Math.sqrt(m*m+y*y))}function t(u){return u.filter(d=>["Move","Over","Enter","Out","Leave"].some(m=>{var y;return(y=d.__r3f)==null?void 0:y.handlers["onPointer"+m]}))}function n(u,d){const m=i.getState(),y=new Set,x=[],g=d?d(m.internal.interaction):m.internal.interaction;for(let b=0;b<g.length;b++){const E=b0(g[b]);E&&(E.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(u,m);function _(b){const E=b0(b);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var C;E.events.compute==null||E.events.compute(u,E,(C=E.previousRoot)==null?void 0:C.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(b,!0):[]}let S=g.flatMap(_).sort((b,E)=>{const C=b0(b.object),D=b0(E.object);return!C||!D?b.distance-E.distance:D.events.priority-C.events.priority||b.distance-E.distance}).filter(b=>{const E=bv(b);return y.has(E)?!1:(y.add(E),!0)});m.events.filter&&(S=m.events.filter(S,m));for(const b of S){let E=b.object;for(;E;){var M;(M=E.__r3f)!=null&&M.eventCount&&x.push({...b,eventObject:E}),E=E.parent}}if("pointerId"in u&&m.internal.capturedMap.has(u.pointerId))for(let b of m.internal.capturedMap.get(u.pointerId).values())y.has(bv(b.intersection))||x.push(b.intersection);return x}function a(u,d,m,y){if(u.length){const x={stopped:!1};for(const g of u){let _=b0(g.object);if(_||g.object.traverseAncestors(S=>{const M=b0(S);if(M)return _=M,!1}),_){const{raycaster:S,pointer:M,camera:b,internal:E}=_,C=new ke(M.x,M.y,0).unproject(b),D=O=>{var z,q;return(z=(q=E.capturedMap.get(O))==null?void 0:q.has(g.eventObject))!=null?z:!1},k=O=>{const z={intersection:g,target:d.target};E.capturedMap.has(O)?E.capturedMap.get(O).set(g.eventObject,z):E.capturedMap.set(O,new Map([[g.eventObject,z]])),d.target.setPointerCapture(O)},H=O=>{const z=E.capturedMap.get(O);z&&v7(E.capturedMap,g.eventObject,z,O)};let G={};for(let O in d){let z=d[O];typeof z!="function"&&(G[O]=z)}let X={...g,...G,pointer:M,intersections:u,stopped:x.stopped,delta:m,unprojectedPoint:C,ray:S.ray,camera:b,stopPropagation(){const O="pointerId"in d&&E.capturedMap.get(d.pointerId);if((!O||O.has(g.eventObject))&&(X.stopped=x.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(z=>z.eventObject===g.eventObject))){const z=u.slice(0,u.indexOf(g));r([...z,g])}},target:{hasPointerCapture:D,setPointerCapture:k,releasePointerCapture:H},currentTarget:{hasPointerCapture:D,setPointerCapture:k,releasePointerCapture:H},nativeEvent:d};if(y(X),x.stopped===!0)break}}}return u}function r(u){const{internal:d}=i.getState();for(const m of d.hovered.values())if(!u.length||!u.find(y=>y.object===m.object&&y.index===m.index&&y.instanceId===m.instanceId)){const x=m.eventObject.__r3f;if(d.hovered.delete(bv(m)),x!=null&&x.eventCount){const g=x.handlers,_={...m,intersections:u};g.onPointerOut==null||g.onPointerOut(_),g.onPointerLeave==null||g.onPointerLeave(_)}}}function o(u,d){for(let m=0;m<d.length;m++){const y=d[m].__r3f;y==null||y.handlers.onPointerMissed==null||y.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return d=>{const{internal:m}=i.getState();"pointerId"in d&&m.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(d.pointerId)&&(m.capturedMap.delete(d.pointerId),r([]))})}}return function(m){const{onPointerMissed:y,internal:x}=i.getState();x.lastEvent.current=m;const g=u==="onPointerMove",_=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",M=n(m,g?t:void 0),b=_?e(m):0;u==="onPointerDown"&&(x.initialClick=[m.offsetX,m.offsetY],x.initialHits=M.map(C=>C.eventObject)),_&&!M.length&&b<=2&&(o(m,x.interaction),y&&y(m)),g&&r(M);function E(C){const D=C.eventObject,k=D.__r3f;if(!(k!=null&&k.eventCount))return;const H=k.handlers;if(g){if(H.onPointerOver||H.onPointerEnter||H.onPointerOut||H.onPointerLeave){const G=bv(C),X=x.hovered.get(G);X?X.stopped&&C.stopPropagation():(x.hovered.set(G,C),H.onPointerOver==null||H.onPointerOver(C),H.onPointerEnter==null||H.onPointerEnter(C))}H.onPointerMove==null||H.onPointerMove(C)}else{const G=H[u];G?(!_||x.initialHits.includes(D))&&(o(m,x.interaction.filter(X=>!x.initialHits.includes(X))),G(C)):_&&x.initialHits.includes(D)&&o(m,x.interaction.filter(X=>!x.initialHits.includes(X)))}}a(M,m,b,E)}}return{handlePointer:l}}const WC=i=>!!(i!=null&&i.render),b7=Te.createContext(null),xQ=(i,e)=>{const t=YJ((l,u)=>{const d=new ke,m=new ke,y=new ke;function x(b=u().camera,E=m,C=u().size){const{width:D,height:k,top:H,left:G}=C,X=D/k;E.isVector3?y.copy(E):y.set(...E);const O=b.getWorldPosition(d).distanceTo(y);if(m7(b))return{width:D/b.zoom,height:k/b.zoom,top:H,left:G,factor:1,distance:O,aspect:X};{const z=b.fov*Math.PI/180,q=2*Math.tan(z/2)*O,I=q*(D/k);return{width:I,height:q,top:H,left:G,factor:D/I,distance:O,aspect:X}}}let g;const _=b=>l(E=>({performance:{...E.performance,current:b}})),S=new kt;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>i(u(),b),advance:(b,E)=>e(b,E,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new YS,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=u();g&&clearTimeout(g),b.performance.current!==b.performance.min&&_(b.performance.min),g=setTimeout(()=>_(u().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:b=>l(E=>({...E,events:{...E.events,...b}})),setSize:(b,E,C=0,D=0)=>{const k=u().camera,H={width:b,height:E,top:C,left:D};l(G=>({size:H,viewport:{...G.viewport,...x(k,m,H)}}))},setDpr:b=>l(E=>{const C=y7(b);return{viewport:{...E.viewport,dpr:C,initialDpr:E.viewport.initialDpr||C}}}),setFrameloop:(b="always")=>{const E=u().clock;E.stop(),E.elapsedTime=0,b!=="never"&&(E.start(),E.elapsedTime=0),l(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Te.createRef(),active:!1,frames:0,priority:0,subscribe:(b,E,C)=>{const D=u().internal;return D.priority=D.priority+(E>0?1:0),D.subscribers.push({ref:b,priority:E,store:C}),D.subscribers=D.subscribers.sort((k,H)=>k.priority-H.priority),()=>{const k=u().internal;k!=null&&k.subscribers&&(k.priority=k.priority-(E>0?1:0),k.subscribers=k.subscribers.filter(H=>H.ref!==b))}}}}}),n=t.getState();let a=n.size,r=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:l,size:u,viewport:d,gl:m,set:y}=t.getState();if(u.width!==a.width||u.height!==a.height||d.dpr!==r){a=u,r=d.dpr,mQ(l,u),d.dpr>0&&m.setPixelRatio(d.dpr);const x=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(u.width,u.height,x)}l!==o&&(o=l,y(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>i(l)),t};function _7(){const i=Te.useContext(b7);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function Mf(i=t=>t,e){return _7()(i,e)}function w7(i,e=0){const t=_7(),n=t.getState().internal.subscribe,a=g7(i);return Dy(()=>n(a,e,t),[e,n,t]),null}function vQ(i){const e=QJ(i);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Te.version}),e}const S7=0,og={},bQ=/^three(?=[A-Z])/,Vb=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let _Q=0;const wQ=i=>typeof i=="function";function SQ(i){if(wQ(i)){const e=`${_Q++}`;return og[e]=i,e}else Object.assign(og,i)}function A7(i,e){const t=Vb(i),n=og[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function AQ(i,e,t){var n;return i=Vb(i)in og?i:i.replace(bQ,""),A7(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,q2(e.object,t,i,e)}function MQ(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?W2(i.parent,i):Gl(i.object)&&(i.object.visible=!1),i.isHidden=!0,_g(i)}}function M7(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?G2(i.parent,i):Gl(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,_g(i)}}function tA(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var a,r;const o=og[Vb(e.type)];e.object=(a=e.props.object)!=null?a:new o(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(Cf(e.object,e.props),e.props.attach)G2(i,e);else if(Gl(e.object)&&Gl(i.object)){const o=i.object.children.indexOf(t==null?void 0:t.object);if(t&&o!==-1){const l=i.object.children.indexOf(e.object);if(l!==-1){i.object.children.splice(l,1);const u=l<o?o-1:o;i.object.children.splice(u,0,e.object)}else e.object.parent=i.object,i.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const o of e.children)tA(e,o);_g(e)}}function f_(i,e){e&&(e.parent=i,i.children.push(e),tA(i,e))}function XC(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),tA(i,e,t)}function T7(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():HC.unstable_scheduleCallback(HC.unstable_IdlePriority,e)}}function gw(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?W2(i,e):Gl(e.object)&&Gl(i.object)&&(i.object.remove(e.object),gQ(p7(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const o=e.children[r];gw(e,o,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&T7(e.object),t===void 0&&_g(e)}function TQ(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const zv=[];function EQ(){for(const[t]of zv){const n=t.parent;if(n){t.props.attach?W2(n,t):Gl(t.object)&&Gl(n.object)&&n.object.remove(t.object);for(const a of t.children)a.props.attach?W2(t,a):Gl(a.object)&&Gl(t.object)&&t.object.remove(a.object)}t.isHidden&&M7(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&T7(t.object)}for(const[t,n,a]of zv){t.props=n;const r=t.parent;if(r){var i,e;const o=og[Vb(t.type)];t.object=(i=t.props.object)!=null?i:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,TQ(a,t.object),Cf(t.object,t.props),t.props.attach?G2(r,t):Gl(t.object)&&Gl(r.object)&&r.object.add(t.object);for(const l of t.children)l.props.attach?G2(t,l):Gl(l.object)&&Gl(t.object)&&t.object.add(l.object);_g(t)}}zv.length=0}const p_=()=>{},YC={};let _v=S7;const CQ=0,NQ=4,yw=vQ({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:AQ,removeChild:gw,appendChild:f_,appendInitialChild:f_,insertBefore:XC,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||f_(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||gw(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||XC(n,e,t)},getRootHostContext:()=>YC,getChildHostContext:()=>YC,commitUpdate(i,e,t,n,a){var r,o,l;A7(e,n);let u=!1;if((i.type==="primitive"&&t.object!==n.object||((r=n.args)==null?void 0:r.length)!==((o=t.args)==null?void 0:o.length)||(l=n.args)!=null&&l.some((m,y)=>{var x;return m!==((x=t.args)==null?void 0:x[y])}))&&(u=!0),u)zv.push([i,{...n},a]);else{const m=hQ(i,n);Object.keys(m).length&&(Object.assign(i.props,m),Cf(i.object,m))}(a.sibling===null||(a.flags&NQ)===CQ)&&EQ()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i==null?void 0:i.object,prepareForCommit:()=>null,preparePortalMount:i=>q2(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:MQ,unhideInstance:M7,createTextInstance:p_,hideTextInstance:p_,unhideTextInstance:p_,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Te.createContext(null),setCurrentUpdatePriority(i){_v=i},getCurrentUpdatePriority(){return _v},resolveUpdatePriority(){var i;if(_v!==S7)return _v;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Pv.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Pv.ContinuousEventPriority;default:return Pv.DefaultEventPriority}},resetFormInstance(){}}),mm=new Map,_0={objects:"shallow",strict:!1};function RQ(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:a,left:r}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:a,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function LQ(i){const e=mm.get(i),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,r=n||xQ(bw,KC),o=t||yw.createContainer(r,Pv.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||mm.set(i,{fiber:o,store:r});let l,u,d=!1,m=null;return{async configure(y={}){let x;m=new Promise(Z=>x=Z);let{gl:g,size:_,scene:S,events:M,onCreated:b,shadows:E=!1,linear:C=!1,flat:D=!1,legacy:k=!1,orthographic:H=!1,frameloop:G="always",dpr:X=[1,2],performance:O,raycaster:z,camera:q,onPointerMissed:I}=y,$=r.getState(),U=$.gl;if(!$.gl){const Z={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},V=typeof g=="function"?await g(Z):g;WC(V)?U=V:U=new c7({...Z,...g}),$.set({gl:U})}let oe=$.raycaster;oe||$.set({raycaster:oe=new t7});const{params:J,...ae}=z||{};if(_r.equ(ae,oe,_0)||Cf(oe,{...ae}),_r.equ(J,oe.params,_0)||Cf(oe,{params:{...oe.params,...J}}),!$.camera||$.camera===u&&!_r.equ(u,q,_0)){u=q;const Z=q==null?void 0:q.isCamera,V=Z?q:H?new kf(0,0,0,0,.1,1e3):new rs(75,0,.1,1e3);Z||(V.position.z=5,q&&(Cf(V,q),V.manual||("aspect"in q||"left"in q||"right"in q||"bottom"in q||"top"in q)&&(V.manual=!0,V.updateProjectionMatrix())),!$.camera&&!(q!=null&&q.rotation)&&V.lookAt(0,0,0)),$.set({camera:V}),oe.camera=V}if(!$.scene){let Z;S!=null&&S.isScene?(Z=S,q2(Z,r,"",{})):(Z=new ES,q2(Z,r,"",{}),S&&Cf(Z,S)),$.set({scene:Z})}M&&!$.events.handlers&&$.set({events:M(r)});const te=RQ(i,_);if(_r.equ(te,$.size,_0)||$.setSize(te.width,te.height,te.top,te.left),X&&$.viewport.dpr!==y7(X)&&$.setDpr(X),$.frameloop!==G&&$.setFrameloop(G),$.onPointerMissed||$.set({onPointerMissed:I}),O&&!_r.equ(O,$.performance,_0)&&$.set(Z=>({performance:{...Z.performance,...O}})),!$.xr){var le;const Z=(ce,pe)=>{const me=r.getState();me.frameloop!=="never"&&KC(ce,!0,me,pe)},V=()=>{const ce=r.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?Z:null),ce.gl.xr.isPresenting||bw(ce)},re={connect(){const ce=r.getState().gl;ce.xr.addEventListener("sessionstart",V),ce.xr.addEventListener("sessionend",V)},disconnect(){const ce=r.getState().gl;ce.xr.removeEventListener("sessionstart",V),ce.xr.removeEventListener("sessionend",V)}};typeof((le=U.xr)==null?void 0:le.addEventListener)=="function"&&re.connect(),$.set({xr:re})}if(U.shadowMap){const Z=U.shadowMap.enabled,V=U.shadowMap.type;if(U.shadowMap.enabled=!!E,_r.boo(E))U.shadowMap.type=R1;else if(_r.str(E)){var Me;const re={basic:dR,percentage:ob,soft:R1,variance:zu};U.shadowMap.type=(Me=re[E])!=null?Me:R1}else _r.obj(E)&&Object.assign(U.shadowMap,E);(Z!==U.shadowMap.enabled||V!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}return Bi.enabled=!k,d||(U.outputColorSpace=C?qf:Io,U.toneMapping=D?Cd:fS),$.legacy!==k&&$.set(()=>({legacy:k})),$.linear!==C&&$.set(()=>({linear:C})),$.flat!==D&&$.set(()=>({flat:D})),g&&!_r.fun(g)&&!WC(g)&&!_r.equ(g,U,_0)&&Cf(U,g),l=b,d=!0,x(),this},render(y){return!d&&!m&&this.configure(),m.then(()=>{yw.updateContainer(A.jsx(DQ,{store:r,children:y,onCreated:l,rootElement:i}),o,null,()=>{})}),r},unmount(){E7(i)}}}function DQ({store:i,children:e,onCreated:t,rootElement:n}){return Dy(()=>{const a=i.getState();a.set(r=>({internal:{...r.internal,active:!0}})),t&&t(a),i.getState().events.connected||a.events.connect==null||a.events.connect(n)},[]),A.jsx(b7.Provider,{value:i,children:e})}function E7(i,e){const t=mm.get(i),n=t==null?void 0:t.fiber;if(n){const a=t==null?void 0:t.store.getState();a&&(a.internal.active=!1),yw.updateContainer(null,n,null,()=>{a&&setTimeout(()=>{try{var r,o,l,u;a.events.disconnect==null||a.events.disconnect(),(r=a.gl)==null||(o=r.renderLists)==null||o.dispose==null||o.dispose(),(l=a.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=a.gl)!=null&&u.xr&&a.xr.disconnect(),cQ(a.scene),mm.delete(i)}catch{}},500)})}}const OQ=new Set,PQ=new Set,kQ=new Set;function m_(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function B1(i,e){switch(i){case"before":return m_(OQ,e);case"after":return m_(PQ,e);case"tail":return m_(kQ,e)}}let g_,y_;function xw(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),g_=e.internal.subscribers;for(let a=0;a<g_.length;a++)y_=g_[a],y_.ref.current(y_.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let X2=!1,vw=!1,x_,$C,w0;function C7(i){$C=requestAnimationFrame(C7),X2=!0,x_=0,B1("before",i),vw=!0;for(const t of mm.values()){var e;w0=t.store.getState(),w0.internal.active&&(w0.frameloop==="always"||w0.internal.frames>0)&&!((e=w0.gl.xr)!=null&&e.isPresenting)&&(x_+=xw(i,w0))}if(vw=!1,B1("after",i),x_===0)return B1("tail",i),X2=!1,cancelAnimationFrame($C)}function bw(i,e=1){var t;if(!i)return mm.forEach(n=>bw(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):vw?i.internal.frames=2:i.internal.frames=1,X2||(X2=!0,requestAnimationFrame(C7)))}function KC(i,e=!0,t,n){if(e&&B1("before",i),t)xw(i,t,n);else for(const a of mm.values())xw(i,a.store.getState());e&&B1("after",i)}const v_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function IQ(i){const{handlePointer:e}=yQ(i);return{priority:1,enabled:!0,compute(t,n,a){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(v_).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:a}=i.getState();(t=a.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:n,events:a}=i.getState();if(a.disconnect==null||a.disconnect(),n(r=>({events:{...r.events,connected:t}})),a.handlers)for(const r in a.handlers){const o=a.handlers[r],[l,u]=v_[r];t.addEventListener(l,o,{passive:u})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const a in n.handlers){const r=n.handlers[a],[o]=v_[a];n.connected.removeEventListener(o,r)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function ZC(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function UQ({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,o]=Te.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Te.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),u=i?typeof i=="number"?i:i.scroll:null,d=i?typeof i=="number"?i:i.resize:null,m=Te.useRef(!1);Te.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[y,x,g]=Te.useMemo(()=>{const b=()=>{if(!l.current.element)return;const{left:E,top:C,width:D,height:k,bottom:H,right:G,x:X,y:O}=l.current.element.getBoundingClientRect(),z={left:E,top:C,width:D,height:k,bottom:H,right:G,x:X,y:O};l.current.element instanceof HTMLElement&&n&&(z.height=l.current.element.offsetHeight,z.width=l.current.element.offsetWidth),Object.freeze(z),m.current&&!FQ(l.current.lastBounds,z)&&o(l.current.lastBounds=z)};return[b,d?ZC(b,d):b,u?ZC(b,u):b]},[o,n,u,d]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function S(){l.current.element&&(l.current.resizeObserver=new a(g),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(b=>b.addEventListener("scroll",g,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const M=b=>{!b||b===l.current.element||(_(),l.current.element=b,l.current.scrollContainers=N7(b),S())};return BQ(g,!!e),zQ(x),Te.useEffect(()=>{_(),S()},[e,g,x]),Te.useEffect(()=>_,[]),[M,r,y]}function zQ(i){Te.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function BQ(i,e){Te.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function N7(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:a}=window.getComputedStyle(i);return[t,n,a].some(r=>r==="auto"||r==="scroll")&&e.push(i),[...e,...N7(i.parentElement)]}const jQ=["x","y","top","bottom","left","right","width","height"],FQ=(i,e)=>jQ.every(t=>i[t]===e[t]);function VQ({ref:i,children:e,fallback:t,resize:n,style:a,gl:r,events:o=IQ,eventSource:l,eventPrefix:u,shadows:d,linear:m,flat:y,legacy:x,orthographic:g,frameloop:_,dpr:S,performance:M,raycaster:b,camera:E,scene:C,onPointerMissed:D,onCreated:k,...H}){Te.useMemo(()=>SQ(UJ),[]);const G=sQ(),[X,O]=UQ({scroll:!0,debounce:{scroll:50,resize:0},...n}),z=Te.useRef(null),q=Te.useRef(null);Te.useImperativeHandle(i,()=>z.current);const I=g7(D),[$,U]=Te.useState(!1),[oe,J]=Te.useState(!1);if($)throw $;if(oe)throw oe;const ae=Te.useRef(null);Dy(()=>{const le=z.current;if(O.width>0&&O.height>0&&le){ae.current||(ae.current=LQ(le));async function Me(){await ae.current.configure({gl:r,scene:C,events:o,shadows:d,linear:m,flat:y,legacy:x,orthographic:g,frameloop:_,dpr:S,performance:M,raycaster:b,camera:E,size:O,onPointerMissed:(...Z)=>I.current==null?void 0:I.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(l?aQ(l)?l.current:l:q.current),u&&Z.setEvents({compute:(V,re)=>{const ce=V[u+"X"],pe=V[u+"Y"];re.pointer.set(ce/re.size.width*2-1,-(pe/re.size.height)*2+1),re.raycaster.setFromCamera(re.pointer,re.camera)}}),k==null||k(Z)}}),ae.current.render(A.jsx(G,{children:A.jsx(lQ,{set:J,children:A.jsx(Te.Suspense,{fallback:A.jsx(oQ,{set:U}),children:e??null})})}))}Me()}}),Te.useEffect(()=>{const le=z.current;if(le)return()=>E7(le)},[]);const te=l?"none":"auto";return A.jsx("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:te,...a},...H,children:A.jsx("div",{ref:X,style:{width:"100%",height:"100%"},children:A.jsx("canvas",{ref:z,style:{display:"block"},children:t})})})}function HQ(i){return A.jsx(h7,{children:A.jsx(VQ,{...i})})}function _w(){return _w=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},_w.apply(null,arguments)}var qQ=Object.defineProperty,GQ=(i,e,t)=>e in i?qQ(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,WQ=(i,e,t)=>(GQ(i,e+"",t),t);class XQ{constructor(){WQ(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const a=n.slice(0);for(let r=0,o=a.length;r<o;r++)a[r].call(this,e);e.target=null}}}var YQ=Object.defineProperty,$Q=(i,e,t)=>e in i?YQ(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Pn=(i,e,t)=>($Q(i,typeof e!="symbol"?e+"":e,t),t);const wv=new vm,JC=new _h,KQ=Math.cos(70*(Math.PI/180)),QC=(i,e)=>(i%e+e)%e;let ZQ=class extends XQ{constructor(e,t){super(),Pn(this,"object"),Pn(this,"domElement"),Pn(this,"enabled",!0),Pn(this,"target",new ke),Pn(this,"minDistance",0),Pn(this,"maxDistance",1/0),Pn(this,"minZoom",0),Pn(this,"maxZoom",1/0),Pn(this,"minPolarAngle",0),Pn(this,"maxPolarAngle",Math.PI),Pn(this,"minAzimuthAngle",-1/0),Pn(this,"maxAzimuthAngle",1/0),Pn(this,"enableDamping",!1),Pn(this,"dampingFactor",.05),Pn(this,"enableZoom",!0),Pn(this,"zoomSpeed",1),Pn(this,"enableRotate",!0),Pn(this,"rotateSpeed",1),Pn(this,"enablePan",!0),Pn(this,"panSpeed",1),Pn(this,"screenSpacePanning",!0),Pn(this,"keyPanSpeed",7),Pn(this,"zoomToCursor",!1),Pn(this,"autoRotate",!1),Pn(this,"autoRotateSpeed",2),Pn(this,"reverseOrbit",!1),Pn(this,"reverseHorizontalOrbit",!1),Pn(this,"reverseVerticalOrbit",!1),Pn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Pn(this,"mouseButtons",{LEFT:Vp.ROTATE,MIDDLE:Vp.DOLLY,RIGHT:Vp.PAN}),Pn(this,"touches",{ONE:Hp.ROTATE,TWO:Hp.DOLLY_PAN}),Pn(this,"target0"),Pn(this,"position0"),Pn(this,"zoom0"),Pn(this,"_domElementKeyEvents",null),Pn(this,"getPolarAngle"),Pn(this,"getAzimuthalAngle"),Pn(this,"setPolarAngle"),Pn(this,"setAzimuthalAngle"),Pn(this,"getDistance"),Pn(this,"getZoomScale"),Pn(this,"listenToKeyEvents"),Pn(this,"stopListenToKeyEvents"),Pn(this,"saveState"),Pn(this,"reset"),Pn(this,"update"),Pn(this,"connect"),Pn(this,"dispose"),Pn(this,"dollyIn"),Pn(this,"dollyOut"),Pn(this,"getScale"),Pn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=De=>{let qe=QC(De,2*Math.PI),St=m.phi;St<0&&(St+=2*Math.PI),qe<0&&(qe+=2*Math.PI);let Ne=Math.abs(qe-St);2*Math.PI-Ne<Ne&&(qe<St?qe+=2*Math.PI:St+=2*Math.PI),y.phi=qe-St,n.update()},this.setAzimuthalAngle=De=>{let qe=QC(De,2*Math.PI),St=m.theta;St<0&&(St+=2*Math.PI),qe<0&&(qe+=2*Math.PI);let Ne=Math.abs(qe-St);2*Math.PI-Ne<Ne&&(qe<St?qe+=2*Math.PI:St+=2*Math.PI),y.theta=qe-St,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=De=>{De.addEventListener("keydown",Be),this._domElementKeyEvents=De},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Be),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(a),n.update(),u=l.NONE},this.update=(()=>{const De=new ke,qe=new ke(0,1,0),St=new Bo().setFromUnitVectors(e.up,qe),Ne=St.clone().invert(),xt=new ke,Tt=new Bo,bt=2*Math.PI;return function(){const dt=n.object.position;St.setFromUnitVectors(e.up,qe),Ne.copy(St).invert(),De.copy(dt).sub(n.target),De.applyQuaternion(St),m.setFromVector3(De),n.autoRotate&&u===l.NONE&&U(I()),n.enableDamping?(m.theta+=y.theta*n.dampingFactor,m.phi+=y.phi*n.dampingFactor):(m.theta+=y.theta,m.phi+=y.phi);let qt=n.minAzimuthAngle,Xt=n.maxAzimuthAngle;isFinite(qt)&&isFinite(Xt)&&(qt<-Math.PI?qt+=bt:qt>Math.PI&&(qt-=bt),Xt<-Math.PI?Xt+=bt:Xt>Math.PI&&(Xt-=bt),qt<=Xt?m.theta=Math.max(qt,Math.min(Xt,m.theta)):m.theta=m.theta>(qt+Xt)/2?Math.max(qt,m.theta):Math.min(Xt,m.theta)),m.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,m.phi)),m.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(g,n.dampingFactor):n.target.add(g),n.zoomToCursor&&O||n.object.isOrthographicCamera?m.radius=re(m.radius):m.radius=re(m.radius*x),De.setFromSpherical(m),De.applyQuaternion(Ne),dt.copy(n.target).add(De),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(y.theta*=1-n.dampingFactor,y.phi*=1-n.dampingFactor,g.multiplyScalar(1-n.dampingFactor)):(y.set(0,0,0),g.set(0,0,0));let wn=!1;if(n.zoomToCursor&&O){let xn=null;if(n.object instanceof rs&&n.object.isPerspectiveCamera){const $t=De.length();xn=re($t*x);const Fi=$t-xn;n.object.position.addScaledVector(G,Fi),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const $t=new ke(X.x,X.y,0);$t.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/x)),n.object.updateProjectionMatrix(),wn=!0;const Fi=new ke(X.x,X.y,0);Fi.unproject(n.object),n.object.position.sub(Fi).add($t),n.object.updateMatrixWorld(),xn=De.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;xn!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(xn).add(n.object.position):(wv.origin.copy(n.object.position),wv.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(wv.direction))<KQ?e.lookAt(n.target):(JC.setFromNormalAndCoplanarPoint(n.object.up,n.target),wv.intersectPlane(JC,n.target))))}else n.object instanceof kf&&n.object.isOrthographicCamera&&(wn=x!==1,wn&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/x)),n.object.updateProjectionMatrix()));return x=1,O=!1,wn||xt.distanceToSquared(n.object.position)>d||8*(1-Tt.dot(n.object.quaternion))>d?(n.dispatchEvent(a),xt.copy(n.object.position),Tt.copy(n.object.quaternion),wn=!1,!0):!1}})(),this.connect=De=>{n.domElement=De,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Mt),n.domElement.addEventListener("pointerdown",ge),n.domElement.addEventListener("pointercancel",ee),n.domElement.addEventListener("wheel",Ge)},this.dispose=()=>{var De,qe,St,Ne,xt,Tt;n.domElement&&(n.domElement.style.touchAction="auto"),(De=n.domElement)==null||De.removeEventListener("contextmenu",Mt),(qe=n.domElement)==null||qe.removeEventListener("pointerdown",ge),(St=n.domElement)==null||St.removeEventListener("pointercancel",ee),(Ne=n.domElement)==null||Ne.removeEventListener("wheel",Ge),(xt=n.domElement)==null||xt.ownerDocument.removeEventListener("pointermove",se),(Tt=n.domElement)==null||Tt.ownerDocument.removeEventListener("pointerup",ee),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Be)};const n=this,a={type:"change"},r={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=l.NONE;const d=1e-6,m=new H2,y=new H2;let x=1;const g=new ke,_=new kt,S=new kt,M=new kt,b=new kt,E=new kt,C=new kt,D=new kt,k=new kt,H=new kt,G=new ke,X=new kt;let O=!1;const z=[],q={};function I(){return 2*Math.PI/60/60*n.autoRotateSpeed}function $(){return Math.pow(.95,n.zoomSpeed)}function U(De){n.reverseOrbit||n.reverseHorizontalOrbit?y.theta+=De:y.theta-=De}function oe(De){n.reverseOrbit||n.reverseVerticalOrbit?y.phi+=De:y.phi-=De}const J=(()=>{const De=new ke;return function(St,Ne){De.setFromMatrixColumn(Ne,0),De.multiplyScalar(-St),g.add(De)}})(),ae=(()=>{const De=new ke;return function(St,Ne){n.screenSpacePanning===!0?De.setFromMatrixColumn(Ne,1):(De.setFromMatrixColumn(Ne,0),De.crossVectors(n.object.up,De)),De.multiplyScalar(St),g.add(De)}})(),te=(()=>{const De=new ke;return function(St,Ne){const xt=n.domElement;if(xt&&n.object instanceof rs&&n.object.isPerspectiveCamera){const Tt=n.object.position;De.copy(Tt).sub(n.target);let bt=De.length();bt*=Math.tan(n.object.fov/2*Math.PI/180),J(2*St*bt/xt.clientHeight,n.object.matrix),ae(2*Ne*bt/xt.clientHeight,n.object.matrix)}else xt&&n.object instanceof kf&&n.object.isOrthographicCamera?(J(St*(n.object.right-n.object.left)/n.object.zoom/xt.clientWidth,n.object.matrix),ae(Ne*(n.object.top-n.object.bottom)/n.object.zoom/xt.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function le(De){n.object instanceof rs&&n.object.isPerspectiveCamera||n.object instanceof kf&&n.object.isOrthographicCamera?x=De:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Me(De){le(x/De)}function Z(De){le(x*De)}function V(De){if(!n.zoomToCursor||!n.domElement)return;O=!0;const qe=n.domElement.getBoundingClientRect(),St=De.clientX-qe.left,Ne=De.clientY-qe.top,xt=qe.width,Tt=qe.height;X.x=St/xt*2-1,X.y=-(Ne/Tt)*2+1,G.set(X.x,X.y,1).unproject(n.object).sub(n.object.position).normalize()}function re(De){return Math.max(n.minDistance,Math.min(n.maxDistance,De))}function ce(De){_.set(De.clientX,De.clientY)}function pe(De){V(De),D.set(De.clientX,De.clientY)}function me(De){b.set(De.clientX,De.clientY)}function Ee(De){S.set(De.clientX,De.clientY),M.subVectors(S,_).multiplyScalar(n.rotateSpeed);const qe=n.domElement;qe&&(U(2*Math.PI*M.x/qe.clientHeight),oe(2*Math.PI*M.y/qe.clientHeight)),_.copy(S),n.update()}function Ue(De){k.set(De.clientX,De.clientY),H.subVectors(k,D),H.y>0?Me($()):H.y<0&&Z($()),D.copy(k),n.update()}function ze(De){E.set(De.clientX,De.clientY),C.subVectors(E,b).multiplyScalar(n.panSpeed),te(C.x,C.y),b.copy(E),n.update()}function We(De){V(De),De.deltaY<0?Z($()):De.deltaY>0&&Me($()),n.update()}function at(De){let qe=!1;switch(De.code){case n.keys.UP:te(0,n.keyPanSpeed),qe=!0;break;case n.keys.BOTTOM:te(0,-n.keyPanSpeed),qe=!0;break;case n.keys.LEFT:te(n.keyPanSpeed,0),qe=!0;break;case n.keys.RIGHT:te(-n.keyPanSpeed,0),qe=!0;break}qe&&(De.preventDefault(),n.update())}function Ct(){if(z.length==1)_.set(z[0].pageX,z[0].pageY);else{const De=.5*(z[0].pageX+z[1].pageX),qe=.5*(z[0].pageY+z[1].pageY);_.set(De,qe)}}function gt(){if(z.length==1)b.set(z[0].pageX,z[0].pageY);else{const De=.5*(z[0].pageX+z[1].pageX),qe=.5*(z[0].pageY+z[1].pageY);b.set(De,qe)}}function W(){const De=z[0].pageX-z[1].pageX,qe=z[0].pageY-z[1].pageY,St=Math.sqrt(De*De+qe*qe);D.set(0,St)}function j(){n.enableZoom&&W(),n.enablePan&&gt()}function xe(){n.enableZoom&&W(),n.enableRotate&&Ct()}function de(De){if(z.length==1)S.set(De.pageX,De.pageY);else{const St=Dt(De),Ne=.5*(De.pageX+St.x),xt=.5*(De.pageY+St.y);S.set(Ne,xt)}M.subVectors(S,_).multiplyScalar(n.rotateSpeed);const qe=n.domElement;qe&&(U(2*Math.PI*M.x/qe.clientHeight),oe(2*Math.PI*M.y/qe.clientHeight)),_.copy(S)}function ue(De){if(z.length==1)E.set(De.pageX,De.pageY);else{const qe=Dt(De),St=.5*(De.pageX+qe.x),Ne=.5*(De.pageY+qe.y);E.set(St,Ne)}C.subVectors(E,b).multiplyScalar(n.panSpeed),te(C.x,C.y),b.copy(E)}function ie(De){const qe=Dt(De),St=De.pageX-qe.x,Ne=De.pageY-qe.y,xt=Math.sqrt(St*St+Ne*Ne);k.set(0,xt),H.set(0,Math.pow(k.y/D.y,n.zoomSpeed)),Me(H.y),D.copy(k)}function Re(De){n.enableZoom&&ie(De),n.enablePan&&ue(De)}function Pe(De){n.enableZoom&&ie(De),n.enableRotate&&de(De)}function ge(De){var qe,St;n.enabled!==!1&&(z.length===0&&((qe=n.domElement)==null||qe.ownerDocument.addEventListener("pointermove",se),(St=n.domElement)==null||St.ownerDocument.addEventListener("pointerup",ee)),jt(De),De.pointerType==="touch"?mt(De):Ae(De))}function se(De){n.enabled!==!1&&(De.pointerType==="touch"?yt(De):je(De))}function ee(De){var qe,St,Ne;Ke(De),z.length===0&&((qe=n.domElement)==null||qe.releasePointerCapture(De.pointerId),(St=n.domElement)==null||St.ownerDocument.removeEventListener("pointermove",se),(Ne=n.domElement)==null||Ne.ownerDocument.removeEventListener("pointerup",ee)),n.dispatchEvent(o),u=l.NONE}function Ae(De){let qe;switch(De.button){case 0:qe=n.mouseButtons.LEFT;break;case 1:qe=n.mouseButtons.MIDDLE;break;case 2:qe=n.mouseButtons.RIGHT;break;default:qe=-1}switch(qe){case Vp.DOLLY:if(n.enableZoom===!1)return;pe(De),u=l.DOLLY;break;case Vp.ROTATE:if(De.ctrlKey||De.metaKey||De.shiftKey){if(n.enablePan===!1)return;me(De),u=l.PAN}else{if(n.enableRotate===!1)return;ce(De),u=l.ROTATE}break;case Vp.PAN:if(De.ctrlKey||De.metaKey||De.shiftKey){if(n.enableRotate===!1)return;ce(De),u=l.ROTATE}else{if(n.enablePan===!1)return;me(De),u=l.PAN}break;default:u=l.NONE}u!==l.NONE&&n.dispatchEvent(r)}function je(De){if(n.enabled!==!1)switch(u){case l.ROTATE:if(n.enableRotate===!1)return;Ee(De);break;case l.DOLLY:if(n.enableZoom===!1)return;Ue(De);break;case l.PAN:if(n.enablePan===!1)return;ze(De);break}}function Ge(De){n.enabled===!1||n.enableZoom===!1||u!==l.NONE&&u!==l.ROTATE||(De.preventDefault(),n.dispatchEvent(r),We(De),n.dispatchEvent(o))}function Be(De){n.enabled===!1||n.enablePan===!1||at(De)}function mt(De){switch(st(De),z.length){case 1:switch(n.touches.ONE){case Hp.ROTATE:if(n.enableRotate===!1)return;Ct(),u=l.TOUCH_ROTATE;break;case Hp.PAN:if(n.enablePan===!1)return;gt(),u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(n.touches.TWO){case Hp.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;j(),u=l.TOUCH_DOLLY_PAN;break;case Hp.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;xe(),u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}u!==l.NONE&&n.dispatchEvent(r)}function yt(De){switch(st(De),u){case l.TOUCH_ROTATE:if(n.enableRotate===!1)return;de(De),n.update();break;case l.TOUCH_PAN:if(n.enablePan===!1)return;ue(De),n.update();break;case l.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Re(De),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Pe(De),n.update();break;default:u=l.NONE}}function Mt(De){n.enabled!==!1&&De.preventDefault()}function jt(De){z.push(De)}function Ke(De){delete q[De.pointerId];for(let qe=0;qe<z.length;qe++)if(z[qe].pointerId==De.pointerId){z.splice(qe,1);return}}function st(De){let qe=q[De.pointerId];qe===void 0&&(qe=new kt,q[De.pointerId]=qe),qe.set(De.pageX,De.pageY)}function Dt(De){const qe=De.pointerId===z[0].pointerId?z[1]:z[0];return q[qe.pointerId]}this.dollyIn=(De=$())=>{Z(De),n.update()},this.dollyOut=(De=$())=>{Me(De),n.update()},this.getScale=()=>x,this.setScale=De=>{le(De),n.update()},this.getZoomScale=()=>$(),t!==void 0&&this.connect(t),this.update()}};const JQ=()=>parseInt(wy.replace(/\D+/g,"")),QQ=JQ(),eee=Te.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:a=!0,keyEvents:r=!1,onChange:o,onStart:l,onEnd:u,...d},m)=>{const y=Mf(H=>H.invalidate),x=Mf(H=>H.camera),g=Mf(H=>H.gl),_=Mf(H=>H.events),S=Mf(H=>H.setEvents),M=Mf(H=>H.set),b=Mf(H=>H.get),E=Mf(H=>H.performance),C=e||x,D=n||_.connected||g.domElement,k=Te.useMemo(()=>new ZQ(C),[C]);return w7(()=>{k.enabled&&k.update()},-1),Te.useEffect(()=>(r&&k.connect(r===!0?D:r),k.connect(D),()=>void k.dispose()),[r,D,t,k,y]),Te.useEffect(()=>{const H=O=>{y(),t&&E.regress(),o&&o(O)},G=O=>{l&&l(O)},X=O=>{u&&u(O)};return k.addEventListener("change",H),k.addEventListener("start",G),k.addEventListener("end",X),()=>{k.removeEventListener("start",G),k.removeEventListener("end",X),k.removeEventListener("change",H)}},[o,l,u,k,y,S]),Te.useEffect(()=>{if(i){const H=b().controls;return M({controls:k}),()=>M({controls:H})}},[i,k]),Te.createElement("primitive",_w({ref:m,object:k,enableDamping:a},d))});class tee extends Cc{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${QQ>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const nee=i=>new ke().setFromSpherical(new H2(i,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),iee=Te.forwardRef(({radius:i=100,depth:e=50,count:t=5e3,saturation:n=0,factor:a=4,fade:r=!1,speed:o=1},l)=>{const u=Te.useRef(null),[d,m,y]=Te.useMemo(()=>{const g=[],_=[],S=Array.from({length:t},()=>(.5+.5*Math.random())*a),M=new rn;let b=i+e;const E=e/t;for(let C=0;C<t;C++)b-=E*Math.random(),g.push(...nee(b).toArray()),M.setHSL(C/t,n,.9),_.push(M.r,M.g,M.b);return[new Float32Array(g),new Float32Array(_),new Float32Array(S)]},[t,e,a,i,n]);w7(g=>u.current&&(u.current.uniforms.time.value=g.clock.elapsedTime*o));const[x]=Te.useState(()=>new tee);return Te.createElement("points",{ref:l},Te.createElement("bufferGeometry",null,Te.createElement("bufferAttribute",{attach:"attributes-position",args:[d,3]}),Te.createElement("bufferAttribute",{attach:"attributes-color",args:[m,3]}),Te.createElement("bufferAttribute",{attach:"attributes-size",args:[y,1]})),Te.createElement("primitive",{ref:u,object:x,attach:"material",blending:e2,"uniforms-fade-value":r,depthWrite:!1,transparent:!0,vertexColors:!0}))}),aee=()=>A.jsx("div",{className:"absolute inset-0 z-0 bg-black",children:A.jsxs(HQ,{camera:{position:[0,2,8],fov:60},children:[A.jsx("color",{attach:"background",args:["#050505"]}),A.jsx("fog",{attach:"fog",args:["#050505",5,20]}),A.jsx("ambientLight",{intensity:.5}),A.jsx("pointLight",{position:[10,10,10],intensity:1}),A.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"#4f46e5"}),A.jsx(iee,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),A.jsx(eee,{enableZoom:!1,enablePan:!1,autoRotate:!0,autoRotateSpeed:.5,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/3})]})}),ree=({onLoginClick:i})=>{const[e,t]=Te.useState(null),[n,a]=Te.useState("NABD CHAIN SYSTEM");return Te.useEffect(()=>{const r=setTimeout(()=>{a("MANAGE YOUR WHOLE COMPANY")},3e3);return()=>clearTimeout(r)},[]),A.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white font-sans selection:bg-brand-primary selection:text-white overflow-x-hidden relative",children:[A.jsx("div",{className:"fixed inset-0 z-0",children:A.jsx(aee,{})}),A.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[A.jsxs("nav",{className:"flex items-center justify-between px-6 py-6 max-w-7xl mx-auto w-full",children:[A.jsx("div",{className:"flex items-center p-2",children:A.jsx("img",{src:"/nabd-logo-light.svg",alt:"NABD Chain",className:"w-16 h-16 object-contain"})}),A.jsxs("div",{className:"flex items-center space-x-6",children:[A.jsxs("div",{className:"hidden md:flex items-center space-x-6 mr-6",children:[A.jsx("a",{href:"#features",className:"text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Features"}),A.jsx("a",{href:"#pricing",className:"text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Pricing"}),A.jsx("a",{href:"#enterprise",className:"text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Enterprise"}),A.jsx("a",{href:"#about",className:"text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"About"})]}),A.jsx("a",{href:"#",onClick:r=>{r.preventDefault(),i()},className:"text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Login"}),A.jsx("button",{onClick:i,className:"px-5 py-2 rounded-lg bg-white text-black font-bold text-sm hover:bg-gray-200 transition-colors",children:"Get Started"})]})]}),A.jsxs("div",{className:"min-h-[90vh] flex flex-col items-center justify-center px-6 text-center pt-20",children:[A.jsxs(_n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"inline-flex items-center space-x-2 bg-white/5 backdrop-blur-xl border border-white/10 rounded-full px-4 py-1.5 mb-8",children:[A.jsx(Vv,{size:14,className:"text-brand-accent"}),A.jsx("span",{className:"text-xs font-medium text-brand-accent tracking-wide uppercase",children:"System V3.0 Online"})]}),A.jsx("div",{className:"h-40 md:h-60 flex items-center justify-center mb-6",children:A.jsx(Y0,{mode:"wait",children:A.jsxs(_n.h1,{initial:{opacity:0,scale:.9,filter:"blur(10px)"},animate:{opacity:1,scale:1,filter:"blur(0px)"},exit:{opacity:0,scale:1.1,filter:"blur(10px)"},transition:{duration:1.5},className:"text-6xl md:text-8xl font-black tracking-tighter leading-tight",children:[A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-b from-white via-white to-gray-500 filter drop-shadow-2xl",children:n==="NABD CHAIN SYSTEM"?"NABD CHAIN":"MANAGE YOUR"}),A.jsx("br",{}),A.jsx("span",{className:"text-4xl md:text-7xl text-transparent bg-clip-text bg-gradient-to-r from-brand-primary via-purple-400 to-brand-accent",children:n==="NABD CHAIN SYSTEM"?"SYSTEM":"WHOLE COMPANY"})]},n)})}),A.jsxs(_n.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.4},className:"text-lg md:text-2xl text-gray-300 mb-12 max-w-3xl mx-auto leading-relaxed font-light backdrop-blur-sm bg-black/20 p-4 rounded-xl border border-white/5",children:["The ultimate ecosystem for enterprise management.",A.jsx("br",{}),"Data  Analytics  Marketplace  Smart Tools"]}),A.jsxs(_n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.6},className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[A.jsxs("button",{onClick:i,className:"group relative w-full sm:w-auto h-14 px-10 rounded-full bg-white text-black font-bold text-lg overflow-hidden transition-all hover:scale-105",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-primary to-purple-500 opacity-0 group-hover:opacity-10 transition-opacity"}),A.jsxs("span",{className:"relative flex items-center justify-center",children:["Enter System",A.jsx(Zg,{size:20,className:"ml-2 group-hover:translate-x-1 transition-transform"})]})]}),A.jsx("button",{className:"w-full sm:w-auto h-14 px-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 text-white font-bold text-lg hover:bg-white/10 transition-all hover:scale-105",children:"View Documentation"})]}),A.jsx(_n.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1,delay:.8},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-20 w-full max-w-5xl",children:[{label:"Active Modules",value:"12+",icon:Sw,color:"text-blue-400"},{label:"System Uptime",value:"99.9%",icon:Bf,color:"text-yellow-400"},{label:"Global Users",value:"10k+",icon:Mc,color:"text-green-400"},{label:"Data Secured",value:"AES-256",icon:Aw,color:"text-red-400"}].map((r,o)=>A.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 p-6 rounded-2xl hover:bg-white/5 transition-colors group",children:[A.jsx(r.icon,{className:`mb-3 ${r.color} group-hover:scale-110 transition-transform`,size:24}),A.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:r.value}),A.jsx("div",{className:"text-sm text-gray-400 font-medium uppercase tracking-wider",children:r.label})]},o))})]}),A.jsxs("div",{className:"py-32 space-y-32",children:[A.jsx("div",{className:"relative z-10",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center gap-16",children:[A.jsxs(_n.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0,margin:"-100px"},className:"flex-1 space-y-8",children:[A.jsx("div",{className:"w-20 h-20 rounded-3xl bg-blue-500/20 flex items-center justify-center backdrop-blur-xl border border-blue-500/30",children:A.jsx(Th,{size:40,className:"text-blue-400"})}),A.jsxs("h2",{className:"text-5xl md:text-6xl font-bold leading-tight",children:["Data Command ",A.jsx("br",{}),A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400",children:"Center"})]}),A.jsx("p",{className:"text-xl text-gray-400 leading-relaxed max-w-lg",children:"Transform raw data into actionable insights. Insert data into interactive 3D tables, organize with drag-and-drop cards, and manage your entire database visually."}),A.jsxs("button",{className:"flex items-center space-x-2 text-blue-400 font-bold hover:text-blue-300 transition-colors group",children:[A.jsx("span",{children:"Explore Data Tools"}),A.jsx(Zg,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]}),A.jsx(_n.div,{initial:{opacity:0,rotateY:30,x:50},whileInView:{opacity:1,rotateY:0,x:0},transition:{duration:1,type:"spring"},viewport:{once:!0},className:"flex-1 w-full perspective-1000",children:A.jsxs("div",{className:"relative aspect-square md:aspect-[4/3] rounded-3xl bg-gradient-to-br from-blue-900/20 to-cyan-900/20 border border-blue-500/30 backdrop-blur-xl overflow-hidden group transform transition-transform duration-500 hover:rotate-y-6 hover:rotate-x-6 preserve-3d shadow-2xl shadow-blue-900/20",children:[A.jsx("div",{className:"absolute inset-0 bg-blue-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center transform group-hover:scale-110 transition-transform duration-700",children:A.jsx("div",{className:"grid grid-cols-3 gap-4 opacity-80 transform rotate-12 rotate-x-12",children:[...Array(12)].map((r,o)=>A.jsx(_n.div,{initial:{opacity:0,y:20,z:0},whileInView:{opacity:1,y:0,z:0},transition:{duration:.5,delay:o*.05},whileHover:{z:20,scale:1.1},className:"w-24 h-16 bg-blue-500/10 rounded-lg border border-blue-500/30 backdrop-blur-md shadow-lg"},o))})})]})})]})}),A.jsx("div",{className:"relative z-10",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row-reverse items-center gap-16",children:[A.jsxs(_n.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0,margin:"-100px"},className:"flex-1 space-y-8",children:[A.jsx("div",{className:"w-20 h-20 rounded-3xl bg-purple-500/20 flex items-center justify-center backdrop-blur-xl border border-purple-500/30",children:A.jsx(d6,{size:40,className:"text-purple-400"})}),A.jsxs("h2",{className:"text-5xl md:text-6xl font-bold leading-tight",children:["Next-Gen ",A.jsx("br",{}),A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Analytics"})]}),A.jsx("p",{className:"text-xl text-gray-400 leading-relaxed max-w-lg",children:"Visualize performance with immersive 3D charts and real-time reporting. Watch your data come alive with animated loading sequences and interactive dashboards."}),A.jsxs("button",{className:"flex items-center space-x-2 text-purple-400 font-bold hover:text-purple-300 transition-colors group",children:[A.jsx("span",{children:"View Dashboards"}),A.jsx(Zg,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]}),A.jsx(_n.div,{initial:{opacity:0,rotateY:-30,x:-50},whileInView:{opacity:1,rotateY:0,x:0},transition:{duration:1,type:"spring"},viewport:{once:!0},className:"flex-1 w-full perspective-1000",children:A.jsxs("div",{className:"relative aspect-square md:aspect-[4/3] rounded-3xl bg-gradient-to-br from-purple-900/20 to-pink-900/20 border border-purple-500/30 backdrop-blur-xl overflow-hidden group transform transition-transform duration-500 hover:-rotate-y-6 hover:rotate-x-6 preserve-3d shadow-2xl shadow-purple-900/20",children:[A.jsx("div",{className:"absolute inset-0 bg-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),A.jsx("div",{className:"absolute inset-0 flex items-end justify-center pb-10 px-10",children:A.jsx("div",{className:"flex items-end justify-between w-full h-64 space-x-4 transform translate-z-10",children:[40,70,50,90,60,80].map((r,o)=>A.jsx(_n.div,{initial:{height:"10%"},whileInView:{height:`${r}%`},transition:{duration:1.5,delay:o*.1,ease:"easeOut"},viewport:{once:!1},className:"w-full bg-gradient-to-t from-purple-600 to-pink-500 rounded-t-lg opacity-90 shadow-[0_0_20px_rgba(168,85,247,0.4)] relative group-hover:scale-y-110 transition-transform origin-bottom",children:A.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-white/50"})},o))})})]})})]})}),A.jsx("div",{className:"relative z-10",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center gap-16",children:[A.jsxs(_n.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0,margin:"-100px"},className:"flex-1 space-y-8",children:[A.jsx("div",{className:"w-20 h-20 rounded-3xl bg-emerald-500/20 flex items-center justify-center backdrop-blur-xl border border-emerald-500/30",children:A.jsx(q0,{size:40,className:"text-emerald-400"})}),A.jsxs("h2",{className:"text-5xl md:text-6xl font-bold leading-tight",children:["Global ",A.jsx("br",{}),A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-green-400",children:"Marketplace"})]}),A.jsx("p",{className:"text-xl text-gray-400 leading-relaxed max-w-lg",children:"Connect with suppliers worldwide. Browse catalogs, request quotations instantly, and manage your procurement network in one seamless interface."}),A.jsxs("button",{className:"flex items-center space-x-2 text-emerald-400 font-bold hover:text-emerald-300 transition-colors group",children:[A.jsx("span",{children:"Find Suppliers"}),A.jsx(Zg,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]}),A.jsx(_n.div,{initial:{opacity:0,rotateY:30,x:50},whileInView:{opacity:1,rotateY:0,x:0},transition:{duration:1,type:"spring"},viewport:{once:!0},className:"flex-1 w-full perspective-1000",children:A.jsxs("div",{className:"relative aspect-square md:aspect-[4/3] rounded-3xl bg-gradient-to-br from-emerald-900/20 to-green-900/20 border border-emerald-500/30 backdrop-blur-xl overflow-hidden group transform transition-transform duration-500 hover:rotate-y-6 hover:rotate-x-6 preserve-3d shadow-2xl shadow-emerald-900/20 flex items-center justify-center",children:[A.jsx("div",{className:"absolute inset-0 bg-emerald-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),A.jsxs("div",{className:"relative w-64 h-64",children:[[...Array(5)].map((r,o)=>A.jsx(_n.div,{animate:{y:[0,-20,0],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,delay:o*.5,ease:"easeInOut"},className:"absolute w-16 h-16 rounded-full border-2 border-emerald-500/50 bg-black/50 backdrop-blur-md flex items-center justify-center text-xs font-bold text-emerald-300 shadow-lg shadow-emerald-500/20",style:{top:`${Math.random()*80}%`,left:`${Math.random()*80}%`},children:"Supplier"},o)),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-500 flex items-center justify-center shadow-[0_0_50px_rgba(16,185,129,0.5)] z-10",children:A.jsx(q0,{size:40,className:"text-black"})})})]})]})})]})}),A.jsx("div",{className:"relative z-10",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row-reverse items-center gap-16",children:[A.jsxs(_n.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0,margin:"-100px"},className:"flex-1 space-y-8",children:[A.jsx("div",{className:"w-20 h-20 rounded-3xl bg-amber-500/20 flex items-center justify-center backdrop-blur-xl border border-amber-500/30",children:A.jsx(HO,{size:40,className:"text-amber-400"})}),A.jsxs("h2",{className:"text-5xl md:text-6xl font-bold leading-tight",children:["Smart Tools ",A.jsx("br",{}),A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-400",children:"Suite"})]}),A.jsx("p",{className:"text-xl text-gray-400 leading-relaxed max-w-lg",children:"A complete toolkit for the modern enterprise. AI Assistants, Whiteboards, Mind Maps, Automations, and moreall integrated to supercharge your productivity."}),A.jsxs("button",{className:"flex items-center space-x-2 text-amber-400 font-bold hover:text-amber-300 transition-colors group",children:[A.jsx("span",{children:"Try Smart Tools"}),A.jsx(Zg,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]}),A.jsx(_n.div,{initial:{opacity:0,rotateY:-30,x:-50},whileInView:{opacity:1,rotateY:0,x:0},transition:{duration:1,type:"spring"},viewport:{once:!0},className:"flex-1 w-full perspective-1000",children:A.jsxs("div",{className:"relative aspect-square md:aspect-[4/3] rounded-3xl bg-gradient-to-br from-amber-900/20 to-orange-900/20 border border-amber-500/30 backdrop-blur-xl overflow-hidden group transform transition-transform duration-500 hover:-rotate-y-6 hover:rotate-x-6 preserve-3d shadow-2xl shadow-amber-900/20 flex items-center justify-center",children:[A.jsx("div",{className:"absolute inset-0 bg-amber-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),A.jsx("div",{className:"grid grid-cols-3 gap-6 p-8 transform rotate-6 hover:rotate-0 transition-transform duration-700",children:[Vv,zf,Df,Mw,Bf,fy,ug,Sv,Th].map((r,o)=>A.jsx(_n.div,{whileHover:{scale:1.2,rotate:10,backgroundColor:"rgba(245, 158, 11, 0.3)"},className:"w-20 h-20 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center backdrop-blur-md shadow-lg cursor-pointer transition-colors",children:A.jsx(r,{size:32,className:"text-gray-300 group-hover:text-amber-400 transition-colors"})},o))})]})})]})}),A.jsx("div",{id:"pricing",className:"relative z-10 py-32",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[A.jsxs(_n.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-20",children:[A.jsxs("h2",{className:"text-5xl md:text-6xl font-bold mb-6",children:["Simple, Transparent ",A.jsx("br",{}),A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-purple-400",children:"Pricing"})]}),A.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Choose the perfect plan for your business needs. No hidden fees, cancel anytime."})]}),A.jsxs(_n.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-center",children:[A.jsxs(_n.div,{variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6}}},className:"relative group md:scale-90",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-primary/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-3xl blur-xl"}),A.jsxs("div",{className:"relative h-full bg-white/5 border border-white/10 backdrop-blur-xl rounded-3xl p-8 flex flex-col hover:border-brand-primary/50 transition-colors",children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Pro"}),A.jsx("p",{className:"text-gray-400 text-sm",children:"For growing teams"})]}),A.jsxs("div",{className:"mb-8",children:[A.jsxs("div",{className:"flex items-baseline",children:[A.jsx("span",{className:"text-4xl font-bold text-white",children:"2,000"}),A.jsx("span",{className:"text-xl text-gray-400 ml-2",children:"SAR"})]}),A.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"/month"})]}),A.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:["Up to 5 Users","Basic Analytics","10GB Storage","Standard Support","Task Management"].map((r,o)=>A.jsxs("li",{className:"flex items-center text-gray-300",children:[A.jsx(x1,{size:18,className:"text-brand-primary mr-3 flex-shrink-0"}),r]},o))}),A.jsx("button",{className:"w-full py-4 rounded-xl bg-white/10 hover:bg-white/20 text-white font-bold transition-colors border border-white/5",children:"Get Started"})]})]}),A.jsxs(_n.div,{variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6}}},className:"relative group transform md:-translate-y-8 md:scale-125 z-20",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-3xl blur-xl"}),A.jsxs("div",{className:"relative h-full bg-gradient-to-b from-white/10 to-white/5 border-2 border-purple-500 backdrop-blur-xl rounded-3xl p-12 flex flex-col shadow-[0_0_50px_rgba(168,85,247,0.4)]",children:[A.jsx("div",{className:"absolute top-0 right-0 bg-purple-500 text-white text-xs font-bold px-3 py-1 rounded-bl-xl rounded-tr-2xl",children:"POPULAR"}),A.jsxs("div",{className:"mb-8",children:[A.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Pro+"}),A.jsx("p",{className:"text-purple-300 text-sm",children:"For scaling businesses"})]}),A.jsxs("div",{className:"mb-8",children:[A.jsxs("div",{className:"flex items-baseline",children:[A.jsx("span",{className:"text-5xl font-bold text-white",children:"5,000"}),A.jsx("span",{className:"text-xl text-gray-400 ml-2",children:"SAR"})]}),A.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"/month"})]}),A.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:["Up to 20 Users","Advanced Analytics","100GB Storage","Priority Support","Custom Workflows","API Access"].map((r,o)=>A.jsxs("li",{className:"flex items-center text-white",children:[A.jsx(x1,{size:18,className:"text-purple-400 mr-3 flex-shrink-0"}),r]},o))}),A.jsx("button",{className:"w-full py-4 rounded-xl bg-gradient-to-r from-brand-primary to-purple-600 hover:from-brand-primary/90 hover:to-purple-600/90 text-white font-bold transition-all shadow-lg shadow-purple-500/25",children:"Get Started"})]})]}),A.jsxs(_n.div,{variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6}}},className:"relative group md:scale-90",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-200/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-3xl blur-xl"}),A.jsxs("div",{className:"relative h-full bg-white/5 border border-white/10 backdrop-blur-xl rounded-3xl p-8 flex flex-col hover:border-slate-300/50 transition-colors",children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Enterprise"}),A.jsx("p",{className:"text-gray-400 text-sm",children:"For large organizations"})]}),A.jsxs("div",{className:"mb-8",children:[A.jsxs("div",{className:"flex items-baseline",children:[A.jsx("span",{className:"text-4xl font-bold text-white",children:"10,000"}),A.jsx("span",{className:"text-xl text-gray-400 ml-2",children:"SAR"})]}),A.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"/month"})]}),A.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:["Unlimited Users","Custom Solutions","Unlimited Storage","24/7 Dedicated Support","On-premise Deployment","SLA Guarantee"].map((r,o)=>A.jsxs("li",{className:"flex items-center text-gray-300",children:[A.jsx(x1,{size:18,className:"text-slate-300 mr-3 flex-shrink-0"}),r]},o))}),A.jsx("button",{className:"w-full py-4 rounded-xl bg-white/10 hover:bg-white/20 text-white font-bold transition-colors border border-white/5",children:"Contact Sales"})]})]}),A.jsxs(_n.div,{variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6}}},className:"relative group md:scale-90",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-amber-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-3xl blur-xl"}),A.jsxs("div",{className:"relative h-full bg-white/5 border border-white/10 backdrop-blur-xl rounded-3xl p-8 flex flex-col hover:border-amber-500/50 transition-colors",children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Enterprise+"}),A.jsx("p",{className:"text-amber-300 text-sm",children:"For global scale"})]}),A.jsxs("div",{className:"mb-8",children:[A.jsx("div",{className:"flex items-baseline",children:A.jsx("span",{className:"text-4xl font-bold text-white",children:"Custom"})}),A.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Contact for pricing"})]}),A.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:["Unlimited Everything","Dedicated Infrastructure","White Labeling","Custom AI Models","Strategic Partnership","On-site Training"].map((r,o)=>A.jsxs("li",{className:"flex items-center text-gray-300",children:[A.jsx(x1,{size:18,className:"text-amber-400 mr-3 flex-shrink-0"}),r]},o))}),A.jsx("button",{className:"w-full py-4 rounded-xl bg-white text-black font-bold transition-transform hover:scale-105 shadow-lg shadow-white/10",children:"Contact Sales"})]})]})]})]})}),A.jsx("div",{className:"relative z-10 py-32",children:A.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center",children:A.jsxs(_n.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"bg-gradient-to-b from-white/5 to-transparent border border-white/10 rounded-3xl p-12 backdrop-blur-xl relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-brand-primary to-transparent opacity-50"}),A.jsx("div",{className:"w-32 h-32 mx-auto mb-8 rounded-full p-1 bg-gradient-to-br from-brand-primary to-purple-500",children:A.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-black",children:A.jsx("img",{src:"/founder.png",alt:"Mohamed Ali",className:"w-full h-full object-cover",onError:r=>{r.currentTarget.src="https://ui-avatars.com/api/?name=Mohamed+Ali&background=7B61FF&color=fff&size=256"}})})}),A.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-3",children:"Mohamed Ali"}),A.jsx("div",{className:"text-brand-primary font-bold tracking-widest uppercase text-sm mb-8",children:"Founder & CEO"}),A.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 leading-relaxed max-w-5xl mx-auto font-light",children:['"A visionary leader with over ',A.jsx("span",{className:"text-amber-400 font-semibold",children:"11 years of expertise"})," in ",A.jsx("span",{className:"text-blue-400 font-semibold",children:"Supply Chain Management"})," across Saudi Arabia. Mohamed founded ",A.jsx("span",{className:"text-brand-primary font-bold",children:"Nabd Chain System"})," to solve critical industry challenges in ",A.jsx("span",{className:"text-emerald-400 font-semibold",children:"sourcing and workflow organization"}),', driven by a dream to revolutionize enterprise efficiency."']}),A.jsxs("div",{className:"mt-10 flex justify-center space-x-4",children:[A.jsx("div",{className:"w-2 h-2 rounded-full bg-white/20"}),A.jsx("div",{className:"w-2 h-2 rounded-full bg-white/20"}),A.jsx("div",{className:"w-2 h-2 rounded-full bg-white/20"})]})]})})})]}),A.jsx("footer",{className:"py-20 border-t border-white/10 bg-black/90 backdrop-blur-xl relative z-20",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-12 mb-16",children:[A.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("img",{src:"/nabd-logo-light.svg",alt:"NABD Chain",className:"w-10 h-10 object-contain"}),A.jsx("span",{className:"text-2xl font-bold tracking-tight text-white",children:"Nabd Chain"})]}),A.jsx("p",{className:"text-gray-400 leading-relaxed max-w-sm",children:"The ultimate ecosystem for enterprise management. Streamline operations, boost productivity, and scale your business with our all-in-one platform."}),A.jsx("div",{className:"flex space-x-4",children:["twitter","linkedin","github","discord"].map(r=>A.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 transition-colors",children:[A.jsx("span",{className:"sr-only",children:r}),A.jsx("div",{className:"w-4 h-4 bg-current rounded-sm"})]},r))})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-white font-bold mb-6",children:"Product"}),A.jsx("ul",{className:"space-y-4",children:["Features","Pricing","Enterprise","Changelog","Docs"].map(r=>A.jsx("li",{children:A.jsx("a",{href:"#",className:"text-gray-400 hover:text-brand-primary transition-colors",children:r})},r))})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-white font-bold mb-6",children:"Company"}),A.jsx("ul",{className:"space-y-4",children:["About","Careers","Blog","Contact","Partners"].map(r=>A.jsx("li",{children:A.jsx("a",{href:"#",className:"text-gray-400 hover:text-brand-primary transition-colors",children:r})},r))})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-white font-bold mb-6",children:"Resources"}),A.jsx("ul",{className:"space-y-4",children:["Community","Help Center","API Reference","Status","Terms"].map(r=>A.jsx("li",{children:A.jsx("a",{href:"#",className:"text-gray-400 hover:text-brand-primary transition-colors",children:r})},r))})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-white font-bold mb-6",children:"Legal"}),A.jsx("ul",{className:"space-y-4",children:["Privacy Policy","Terms of Service","Cookie Policy","Security"].map(r=>A.jsx("li",{children:A.jsx("a",{href:"#",className:"text-gray-400 hover:text-brand-primary transition-colors",children:r})},r))})]})]}),A.jsxs("div",{className:"pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-4",children:[A.jsxs("div",{className:"text-gray-500 text-sm",children:[" ",new Date().getFullYear()," Nabd Chain System. All rights reserved."]}),A.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[A.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"}),A.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"}),A.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookies"})]})]})]})})]})]})},see=({onLoginSuccess:i,onBack:e})=>{const[t,n]=Te.useState(""),[a,r]=Te.useState(""),[o,l]=Te.useState(!1),[u,d]=Te.useState(""),[m,y]=Te.useState(null),x=async g=>{g.preventDefault(),d(""),l(!0);try{const _=await Pf.login(t,a);_?i(_):d("Invalid email or password. Try max@nabdchain.com / 1")}catch{d("Something went wrong. Please try again.")}finally{l(!1)}};return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f8f9fa] px-4 relative overflow-hidden font-sans selection:bg-black selection:text-white perspective-1000",children:[A.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden pointer-events-none",children:[A.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),A.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_800px_at_50%_-30%,#ffffff_0%,transparent_100%)]"}),A.jsx(_n.div,{className:"absolute top-[20%] left-[5%] w-64 h-48 bg-white/40 backdrop-blur-md border border-white/60 rounded-xl shadow-2xl transform-gpu",style:{rotateX:15,rotateY:15,rotateZ:-5},animate:{y:[0,20,0],rotateY:[15,20,15]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:A.jsx("div",{className:"p-4 flex items-end justify-between h-full gap-2 opacity-80",children:[40,70,50,90,60].map((g,_)=>A.jsx("div",{className:"w-full bg-gradient-to-t from-gray-900/20 to-gray-900/5 rounded-t-sm",style:{height:`${g}%`}},_))})}),A.jsxs(_n.div,{className:"absolute bottom-[20%] right-[5%] w-72 h-56 bg-white/40 backdrop-blur-md border border-white/60 rounded-xl shadow-2xl transform-gpu flex flex-col overflow-hidden",style:{rotateX:15,rotateY:-15,rotateZ:5},animate:{y:[0,-20,0],rotateY:[-15,-20,-15]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},children:[A.jsxs("div",{className:"h-8 bg-gray-100/50 border-b border-gray-200/50 flex items-center px-3 gap-2",children:[A.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300"}),A.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300"})]}),A.jsx("div",{className:"p-3 space-y-2",children:[1,2,3,4].map(g=>A.jsxs("div",{className:"flex gap-2",children:[A.jsx("div",{className:"h-2 w-1/4 bg-gray-200/50 rounded"}),A.jsx("div",{className:"h-2 w-3/4 bg-gray-100/50 rounded"})]},g))})]}),A.jsx(_n.div,{className:"absolute top-[15%] right-[10%] w-48 h-48 bg-white/30 backdrop-blur-md border border-white/50 rounded-full shadow-2xl transform-gpu flex items-center justify-center",style:{rotateX:20,rotateY:-10},animate:{y:[0,15,0],rotate:[0,5,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2},children:A.jsx("div",{className:"relative w-32 h-32 rounded-full border-8 border-gray-100/50 flex items-center justify-center",children:A.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full -rotate-90 opacity-60",children:[A.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:"currentColor",strokeWidth:"20",className:"text-gray-200",strokeDasharray:"180 251"}),A.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:"currentColor",strokeWidth:"20",className:"text-gray-900",strokeDasharray:"60 251",strokeDashoffset:"-180"})]})})}),A.jsx(_n.div,{className:"absolute bottom-[15%] left-[8%] w-64 h-48 bg-white/30 backdrop-blur-md border border-white/50 rounded-xl shadow-2xl transform-gpu flex gap-2 p-3",style:{rotateX:10,rotateY:20,rotateZ:-2},animate:{y:[0,-15,0],rotateZ:[-2,0,-2]},transition:{duration:9,repeat:1/0,ease:"easeInOut",delay:1.5},children:[1,2,3].map(g=>A.jsxs("div",{className:"flex-1 bg-gray-50/30 rounded-lg flex flex-col gap-2 p-1",children:[A.jsx("div",{className:"h-1.5 w-1/2 bg-gray-300/50 rounded mb-1"}),[1,2].map(_=>A.jsx("div",{className:"h-8 bg-white/60 rounded shadow-sm border border-white/40"},_))]},g))}),A.jsx(_n.div,{className:"absolute top-[10%] left-[30%] w-40 h-40 opacity-30 pointer-events-none",animate:{rotate:360},transition:{duration:60,repeat:1/0,ease:"linear"},children:A.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[A.jsx("circle",{cx:"50",cy:"50",r:"2",fill:"black"}),A.jsx("circle",{cx:"20",cy:"20",r:"2",fill:"black"}),A.jsx("circle",{cx:"80",cy:"20",r:"2",fill:"black"}),A.jsx("circle",{cx:"20",cy:"80",r:"2",fill:"black"}),A.jsx("circle",{cx:"80",cy:"80",r:"2",fill:"black"}),A.jsx("line",{x1:"50",y1:"50",x2:"20",y2:"20",stroke:"black",strokeWidth:"0.5"}),A.jsx("line",{x1:"50",y1:"50",x2:"80",y2:"20",stroke:"black",strokeWidth:"0.5"}),A.jsx("line",{x1:"50",y1:"50",x2:"20",y2:"80",stroke:"black",strokeWidth:"0.5"}),A.jsx("line",{x1:"50",y1:"50",x2:"80",y2:"80",stroke:"black",strokeWidth:"0.5"})]})}),A.jsx(_n.div,{className:"absolute top-[15%] right-[20%] w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full blur-2xl opacity-40",animate:{scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),A.jsxs(_n.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},onClick:e,className:"absolute top-8 left-8 flex items-center text-gray-500 hover:text-black z-10 transition-colors font-medium text-sm group",children:[A.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm border border-gray-200 mr-3 group-hover:border-black transition-all group-hover:scale-110",children:A.jsx(KD,{size:16})}),A.jsx("span",{className:"opacity-70 group-hover:opacity-100 transition-opacity",children:"Back to Home"})]}),A.jsxs(_n.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:"easeOut"},className:"bg-white/70 backdrop-blur-2xl p-10 rounded-[2rem] shadow-[0_20px_50px_-12px_rgba(0,0,0,0.1)] w-full max-w-[440px] z-10 border border-white/50 relative",children:[A.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 bg-gradient-to-br from-white/80 to-transparent rounded-tl-[2rem] pointer-events-none"}),A.jsx("div",{className:"absolute bottom-0 right-0 w-20 h-20 bg-gradient-to-tl from-white/80 to-transparent rounded-br-[2rem] pointer-events-none"}),A.jsxs("div",{className:"text-center mb-10 relative",children:[A.jsx(_n.div,{className:"w-40 h-40 flex items-center justify-center mx-auto mb-6",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300,damping:15},children:A.jsx("img",{src:"/nabd-logo-dark.svg",alt:"NABD Chain",className:"w-full h-full object-contain p-2"})}),A.jsx(_n.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-black tracking-tight",children:"Welcome back"}),A.jsx(_n.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-gray-500 text-sm mt-3 font-medium",children:"Enter your credentials to access your workspace."})]}),A.jsxs("form",{onSubmit:x,className:"space-y-6",children:[u&&A.jsxs(_n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-100 text-red-600 p-4 rounded-xl text-sm flex items-start",children:[A.jsx(F0,{size:18,className:"mr-3 mt-0.5 shrink-0"}),u]}),A.jsxs("div",{className:"space-y-5",children:[A.jsxs("div",{className:"relative group",children:[A.jsx("label",{className:`absolute left-12 transition-all duration-200 pointer-events-none ${t?"-top-2.5 left-4 text-xs bg-white px-1 text-black font-bold":"top-4 text-gray-400 text-sm"}`,children:"Email Address"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"email",value:t,onChange:g=>n(g.target.value),onFocus:()=>y("email"),onBlur:()=>y(null),className:"w-full pl-12 pr-5 py-4 bg-gray-50/50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-black/5 focus:border-black transition-all text-gray-900 font-medium placeholder-transparent",placeholder:"",required:!0}),A.jsx(LP,{className:`absolute left-4 top-4 transition-colors duration-200 ${m==="email"?"text-black":"text-gray-400"}`,size:20})]})]}),A.jsxs("div",{className:"relative group",children:[A.jsx("label",{className:`absolute left-12 transition-all duration-200 pointer-events-none ${a?"-top-2.5 left-4 text-xs bg-white px-1 text-black font-bold":"top-4 text-gray-400 text-sm"}`,children:"Password"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"password",value:a,onChange:g=>r(g.target.value),onFocus:()=>y("password"),onBlur:()=>y(null),className:"w-full pl-12 pr-5 py-4 bg-gray-50/50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-black/5 focus:border-black transition-all text-gray-900 font-medium placeholder-transparent",placeholder:"",required:!0}),A.jsx(Aw,{className:`absolute left-4 top-4 transition-colors duration-200 ${m==="password"?"text-black":"text-gray-400"}`,size:20})]})]})]}),A.jsxs(_n.button,{type:"submit",disabled:o,whileHover:{scale:1.02,translateY:-2},whileTap:{scale:.98},className:"w-full bg-black text-white font-bold py-4 rounded-xl shadow-lg shadow-black/20 hover:shadow-xl hover:shadow-black/30 transition-all disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center mt-8 group relative overflow-hidden",children:[A.jsxs("span",{className:"relative z-10 flex items-center",children:[o?A.jsx(EP,{className:"animate-spin mr-2"}):"Sign In",!o&&A.jsx(ko,{className:"ml-2 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all",size:18})]}),A.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),A.jsx("div",{className:"mt-8 text-center",children:A.jsxs("a",{href:"#",className:"text-xs font-semibold text-gray-400 hover:text-black transition-colors relative group",children:["Forgot your password?",A.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-black transition-all group-hover:w-full"})]})})]}),A.jsxs(_n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-10 text-center text-xs font-medium text-gray-400 z-10",children:[" ",new Date().getFullYear()," ",L6(),". Secure Login."]})]})},e6=i=>{var o,l,u,d,m,y,x,g;const e={value:"0",trendValue:"0%",trend:"neutral",categories:["Jan","Feb","Mar","Apr","May","Jun"],values:[10,20,15,25,30,28]};if(!i)return e;const t=((o=i["Report Title"])==null?void 0:o.toLowerCase().includes("spend"))||((l=i["Report Title"])==null?void 0:l.toLowerCase().includes("cost"))||((u=i["Report Title"])==null?void 0:u.toLowerCase().includes("value")),n=((d=i["Report Title"])==null?void 0:d.toLowerCase().includes("rate"))||((m=i["Report Title"])==null?void 0:m.toLowerCase().includes("accuracy"))||((y=i["Report Title"])==null?void 0:y.toLowerCase().includes("%"));let a=Math.floor(Math.random()*1e3);t?e.value=`$${(a*1.5).toFixed(2)}`:n?e.value=`${Math.min(100,Math.floor(Math.random()*100))}%`:e.value=a.toString();const r=Math.random()>.5?"up":"down";return e.trend=r,e.trendValue=`${Math.floor(Math.random()*20)}%`,e.values=Array.from({length:6},()=>Math.floor(Math.random()*100)),((x=i["Chart Type (ECharts)"])!=null&&x.includes("Pie")||(g=i["Chart Type (ECharts)"])!=null&&g.includes("Donut"))&&(e.categories=["Category A","Category B","Category C","Category D"],e.values=[30,20,15,35]),e},oee=(i,e)=>{const[t,n]=Te.useState([]),[a,r]=Te.useState(!0),{showToast:o}=hg(),l=Te.useCallback(async()=>{try{r(!0);const x=Pf.getCurrentUser(),_=(await Yp.getTasks(x==null?void 0:x.id)).sort((S,M)=>(S.order||0)-(M.order||0));n(_)}catch{o("Failed to load tasks from backend","error")}finally{r(!1)}},[o]);return Te.useEffect(()=>{i==="app"&&l()},[i,l]),{tasks:t,isLoading:a,handleStatusChange:async(x,g)=>{const _=[...t];n(S=>S.map(M=>M.id===x?{...M,status:g}:M));try{await Yp.updateTask(x,{status:g})}catch{n(_),o("Failed to update task status","error")}},handleUpdateTask:async(x,g)=>{const _=[...t];n(S=>S.map(M=>M.id===x?{...M,...g}:M));try{await Yp.updateTask(x,g),o("Task updated","success")}catch{n(_),o("Failed to update task","error")}},handleReorder:x=>{n(x)},handleQuickCreate:async()=>{const x=prompt("Enter task title:");if(x){o("Creating task...","info");try{const g=await Yp.createTask({title:x,status:lm.Todo,priority:"None",assignees:[],tags:e==="backend"?["Backend"]:[],description:"",order:t.length,spaceId:"default"});n(_=>[..._,g]),o("Task created successfully","success")}catch{o("Failed to create task","error")}}},fetchTasks:l}},lee=()=>{const[i,e]=Te.useState([]);return{homeCards:i,handleAddHomeCard:o=>{let l=600,u=400;o.id==="agenda"?u=500:o.id==="lineup"&&(u=400);const d=30,m=32,x=i.reduce((b,E)=>Math.max(b,E.y+E.h),20-d),g=m,_=x+d,S=i.reduce((b,E)=>Math.max(b,E.zIndex||0),0),M={instanceId:Date.now().toString(),typeId:o.id,title:o.title,color:o.color,x:g,y:_,w:l,h:u,zIndex:S+1};e(b=>[...b,M])},handleUpdateHomeCard:o=>{e(l=>l.map(u=>u.instanceId===o.instanceId?o:u))},handleRemoveHomeCard:o=>{e(l=>l.filter(u=>u.instanceId!==o))},handleRemoveHomeCardByType:o=>{e(l=>l.filter(u=>u.typeId!==o))}}},t6=py(),n6={getWidgets:async()=>(await fetch(`${t6}/widgets`)).json(),updateWidgets:async i=>{await fetch(`${t6}/widgets`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})}},cee=i=>{const[e,t]=Te.useState({}),n=Te.useCallback(async()=>{try{const r=await n6.getWidgets();r&&t(r)}catch(r){console.error("Failed to fetch widgets:",r)}},[]);return Te.useEffect(()=>{i==="app"&&n()},[i,n]),{pageWidgets:e,setPageWidgets:t,onUpdateWidget:(r,o)=>{const l={...e,[r]:o};t(l),n6.updateWidgets(l).catch(u=>console.error("Failed to save widgets:",u))}}};class R7 extends Te.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("Uncaught error:",e,t),this.setState({errorInfo:t})}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-gray-200 p-8 max-w-lg w-full",children:[A.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4 mx-auto",children:A.jsx(E6,{className:"text-red-600",size:24})}),A.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:"Something went wrong"}),A.jsx("p",{className:"text-gray-500 text-center mb-6 text-sm",children:"The application encountered an unexpected error."}),A.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 overflow-auto max-h-48 border border-gray-200",children:[A.jsx("p",{className:"text-red-600 font-mono text-xs break-words",children:(e=this.state.error)==null?void 0:e.toString()}),this.state.errorInfo&&A.jsxs("details",{className:"mt-2",children:[A.jsx("summary",{className:"text-xs text-gray-400 cursor-pointer hover:text-gray-600",children:"Stack Trace"}),A.jsx("pre",{className:"text-[10px] text-gray-500 mt-2 whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]})]}),A.jsx("div",{className:"flex justify-center",children:A.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center space-x-2 bg-gray-900 hover:bg-black text-white px-4 py-2 rounded-lg transition-colors font-medium text-sm",children:[A.jsx(S6,{size:16}),A.jsx("span",{children:"Reload Application"})]})})]})}):this.props.children}}const L7={calculateUserLoad:(i,e)=>{if(!i.weeklyCapacity||i.weeklyCapacity===0)return 0;const n=e.filter(a=>a.assigneeId===i.id&&a.status===lm.InProgress).reduce((a,r)=>a+(r.estimatedHours||0),0);return Math.round(n/i.weeklyCapacity*100)},canAssignTask:(i,e,t,n=100)=>{const a=L7.calculateUserLoad(i,t),r=(e.estimatedHours||0)/(i.weeklyCapacity||40)*100;return a+r<=n},getLoadColor:i=>i<50?"#22c55e":i<80?"#3b82f6":i<100?"#eab308":"#ef4444"},D7={calculateTaskCost:(i,e)=>!e||!e.hourlyRate||!i.actualHours?0:i.actualHours*e.hourlyRate,calculateProjectBurn:(i,e,t)=>{let n=0;return e.forEach(a=>{const r=t.find(o=>o.id===a.assigneeId);r&&(n+=D7.calculateTaskCost(a,r))}),n},calculateRemainingBudget:(i,e)=>i.budget-e,getBudgetHealth:(i,e)=>{const t=e/i.budget*100;return t>90?"Critical":t>75?"At Risk":"Good"}},uee=[{id:"1",name:"Tafaseel For Advertising",nameArabic:"   ",category:"Advertising",subCategory:"",contactPerson:"",position:"53 385 8026",phone:"53 385 8026",email:"info@tafaseel-adve.com",website:"www.tafaseel-adve.com",address:"Riyadh",rating:4.5,reviews:279,description:"Advertising supplier",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$50"},{id:"2",name:"NEGM ALMTANA CO.",nameArabic:"  ",category:"Plastics & Wood Pallets",subCategory:"",contactPerson:"Tareq Al Ereny",position:"Sales Consultant",phone:"56 612 5142",email:"tarek@negmalmtana.com",website:"www.nejmalmtana.com",address:"Riyadh",rating:4.4,reviews:212,description:"Plastics & Wood Pallets supplier",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$100"},{id:"3",name:"Majid Al Khuzama For Enviromental Consultation",nameArabic:"   ",category:"Enviromental Consultation",subCategory:"",contactPerson:"Muhammed Sabry Ebrahim",position:"Enviromental Engineer",phone:"54 991 6936",email:"kamonna.mohamed@gmail.com",website:"www.majidalkhuzama.com",address:"Riyadh",rating:4.6,reviews:458,description:"Enviromental Consultation supplier",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$150"},{id:"4",name:"IPS Global",nameArabic:"",category:"Production Lines",subCategory:"Beverage",contactPerson:"Hazem Flifl",position:"Regional Enginnering Director",phone:"52 880 5374",email:"hazem.filfl@ipsg.ae",website:"",address:"Dubai",rating:4.9,reviews:353,description:"Production Lines - Beverage",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$200"},{id:"5",name:"Faris Electrical Shop",nameArabic:"  ",category:"Electrical",subCategory:"",contactPerson:"Ismail",position:"",phone:"53 002 6447",email:"fariselectricalshop@gmail.com",website:"",address:"Riyadh",rating:4.4,reviews:155,description:"Electrical supplier",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$300"},{id:"6",name:"Honeywell",nameArabic:"",category:"Industrial Automation",subCategory:"",contactPerson:"Evghenia Matas",position:"Lead Management Specialist",phone:"",email:"evghenia.matas@honeywell.com",website:"",address:"Romania",rating:4.8,reviews:37,description:"Industrial Automation supplier",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$500"},{id:"7",name:"For Enviromental Services",nameArabic:"   ",category:"Enviromental Services",subCategory:"",contactPerson:"Ali Mustafa",position:"Sales Consultant",phone:"55 748 1893",email:"a.mostafa@seet-e.com",website:"",address:"Riyadh",rating:4.3,reviews:149,description:"Enviromental Services supplier",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$1000"},{id:"8",name:"Office Automation",nameArabic:" ",category:"Office supplies",subCategory:"",contactPerson:"Mohamed Bakr",position:"sales Specialist",phone:"53 222 9921",email:"mbakr@oa-ka.com",website:"www.oa-ka.com",address:"Riyadh",rating:5,reviews:386,description:"Office supplies supplier",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$2000"},{id:"9",name:"Napco National",nameArabic:" ",category:"Raw Material",subCategory:"",contactPerson:"Ahmed Alharbi",position:"Account Excutive",phone:"53 356 9038",email:"Ahmed.alharbi@napconational.com",website:"www.napconational.com",address:"Riyadh",rating:4.4,reviews:233,description:"Raw Material supplier",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$5000"},{id:"10",name:"Takmeel Industry Holding Company",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Shihab Izzar",position:"VP Business Development",phone:"50 168 1427",email:"shehab@takmeel.sa",website:"",address:"Riyadh",rating:4.3,reviews:460,description:"Other supplier",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"Contract"},{id:"11",name:"ASPCO",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Ame Hamdi",position:"Sales Manager",phone:"50 883 7208",email:"amr.hamdi@aspco.com.sa",website:"www.aspci.com.sa",address:"Riyadh",rating:4,reviews:264,description:"Other supplier",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$20"},{id:"12",name:"Safe Arabia Trading & Contracting Company",nameArabic:"    ",category:"Other",subCategory:"",contactPerson:"Sumesh P.Ashok",position:"Sales Engineer",phone:"55 059 7669",email:"sumesh@safe-arabia.com",website:"www.safe-arabia.com",address:"Riyadh",rating:4.6,reviews:25,description:"Other supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$50"},{id:"13",name:"Middle East Trading Company (METCO)",nameArabic:"    ()",category:"Other",subCategory:"",contactPerson:"Linto Ceaser",position:"Saels Excutive",phone:"55 116 3494",email:"linto.thomas@metco.com.sa",website:"www.metco.com.sa",address:"Riyadh",rating:4.6,reviews:228,description:"Other supplier",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$100"},{id:"14",name:"Al- Sarh Steel Trade Est. (alsarh)",nameArabic:"    ()",category:"Raw Material",subCategory:"Steel & Wood",contactPerson:"Omar Nasser Al Nadeesh",position:"Sales Excutive",phone:"53 668 3285",email:"alsarhsteel@gmail.cm",website:"",address:"",rating:4.4,reviews:374,description:"Raw Material - Steel & Wood",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$150"},{id:"15",name:"SAPRO",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Abdulaziz A Aldrbas",position:"Genreal Manager",phone:"55 791 2129",email:"Abdulaziz@sapro-sa.com",website:"",address:"Riyadh",rating:4.7,reviews:150,description:"Other supplier",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$200"},{id:"16",name:"Smart Vision",nameArabic:"",category:"Security & Communication System",subCategory:"",contactPerson:"Mohamed Rabeh",position:"Projects Enginner",phone:"50 914 1878",email:"S.vision.telecom@gmail.com",website:"",address:"Riyadh",rating:4.4,reviews:437,description:"Security & Communication System supplier",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$300"},{id:"17",name:"Imiaz Automation",nameArabic:"",category:"Automation",subCategory:"",contactPerson:"Mohamed Elazhary",position:"Sales Manager",phone:"58 153 3591",email:"m.yahra@injazautomation.com",website:"www.injazautomation.com",address:"Egypt",rating:4.6,reviews:152,description:"Automation supplier",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$500"},{id:"18",name:"Third Step Trading Est.",nameArabic:"   ",category:"Other",subCategory:"",contactPerson:"Vinod. U",position:"Sales & Service Manager",phone:"56 603 8709",email:"vinod@tsgce-sa.com",website:"www.tsgce-sa.com",address:"Riyadh",rating:4.9,reviews:248,description:"Other supplier",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$1000"},{id:"19",name:"DataBand IT Solution",nameArabic:"    ",category:"IT Solution",subCategory:"",contactPerson:"Khalid A.Alnahedh",position:"Genreal Manager",phone:"55 140 0004",email:"Khalid@databand.sa",website:"",address:"Riyadh",rating:4.2,reviews:393,description:"IT Solution supplier",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$2000"},{id:"20",name:"VEOLIA",nameArabic:"",category:"Water Techbologies",subCategory:"",contactPerson:"Khalid Salamah",position:"Sales & Service Engineer",phone:"50 213 0660",email:"Lkhalil.salamah@veolia.com",website:"www.veoliawatertechnologies.com",address:"Riyadh",rating:4,reviews:406,description:"Water Techbologies supplier",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$5000"},{id:"21",name:"TAXIL HR Consultant",nameArabic:"   ",category:"Human Resources",subCategory:"",contactPerson:"Sahir Khan",position:"Director",phone:"53 770 3683",email:"sahir@taxil.net",website:"",address:"Riyadh",rating:4.1,reviews:409,description:"Human Resources supplier",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"Contract"},{id:"22",name:"Nationa Adhesives Ltd. (Henkel)",nameArabic:"   ",category:"Raw Material",subCategory:"Glue",contactPerson:"Mohammed A. Barajaa",position:"Technical Customer Service Manager",phone:"50 586 0254",email:"mohammed.barajaa@henker.com",website:"www.henkel.com",address:"Dammam",rating:4.8,reviews:59,description:"Raw Material - Glue",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$20"},{id:"23",name:"Redachem United (REDA)",nameArabic:"  ()",category:"Raw Material",subCategory:"",contactPerson:"Emad Al Wafaie",position:"Sales Engineer",phone:"54 586 4198",email:"emad.alwafaie@redachem.com",website:"www.redachem.com",address:"Riyadh",rating:4.6,reviews:281,description:"Raw Material supplier",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$50"},{id:"24",name:"DECANA FOR TRADING",nameArabic:"  ",category:"Other",subCategory:"",contactPerson:"Mansour Aladwan",position:"Department of Chemicals",phone:"53 702 1180",email:"",website:"",address:"",rating:4.1,reviews:79,description:"Other supplier",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$100"},{id:"25",name:"DECANA FOR TRADING",nameArabic:"  ",category:"Other",subCategory:"",contactPerson:"Ali Alnosaifi",position:"Department of Chemicals",phone:"50 315 1452",email:"Ali.alnosaifi@hotmail.com",website:"",address:"",rating:4.9,reviews:393,description:"Other supplier",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$150"},{id:"26",name:"Al Kasibar Al Mushriqah Trading Co. (ASIBEX)",nameArabic:"    ()",category:"Spare Parts & Equipments",subCategory:"",contactPerson:"Khader Al Sharif",position:"Aftermarket Manager",phone:"59 207 6949",email:"K.alsharif@asibex.com.jo",website:"",address:"Riyadh",rating:4.2,reviews:96,description:"Spare Parts & Equipments supplier",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$200"},{id:"27",name:"Jamjoom Chemical Division",nameArabic:"",category:"Raw Material",subCategory:"Chemicals",contactPerson:"Mohammad Atullah",position:"Sales Engineer",phone:"50 884 4514",email:"salesryd@jamjoomco.com",website:"www.jamjoom.com",address:"Riyadh",rating:4,reviews:140,description:"Raw Material - Chemicals",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$300"},{id:"28",name:"Pack Parint",nameArabic:"",category:"Packing & Printing",subCategory:"",contactPerson:"Abdullah Omar Al Wali",position:"Sales & Service Engineer",phone:"53 900 7400",email:"abdullah@packingprintsa.com",website:"www.packingprintsa.com",address:"Riyadh",rating:4.1,reviews:410,description:"Packing & Printing supplier",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$500"},{id:"29",name:"Al-Medan Project Company For Corrugated Carton",nameArabic:"    ",category:"Raw Material",subCategory:"Carton",contactPerson:"Mohammed Hussain Zouriq",position:"Key Accounts Manager",phone:"56 507 6009",email:"Mzouriq.sales@mpfc.com.sa",website:"",address:"Riyadh",rating:4.1,reviews:241,description:"Raw Material - Carton",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$1000"},{id:"30",name:"SAFANAA Ideal Trading Company",nameArabic:"   ",category:"Raw Material",subCategory:"Chemicals",contactPerson:"Nadeem Khan",position:"Marketing Manager",phone:"+971 54 356 0874",email:"nadeem@safanaa.com",website:"www.safanaa.com",address:"Dubai",rating:4.1,reviews:127,description:"Raw Material - Chemicals",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"$2000"},{id:"31",name:"Invention Technology Trading Company (ITEC)",nameArabic:"   ",category:"Packing & Printing",subCategory:"",contactPerson:"Kishan Piragari",position:"Regional Sales Manager",phone:"54 028 1974",email:"Kishan@itec-sa.com",website:"www.itec-sa.com",address:"Riyadh",rating:4.9,reviews:70,description:"Packing & Printing supplier",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$5000"},{id:"32",name:"Wedian Technical",nameArabic:" ",category:"Spare Parts & Equipments",subCategory:"",contactPerson:"Mohamed Metwally",position:"Sales Representative",phone:"55 210 6560",email:"ediantech86@gmail.com",website:"www.wediantec.com",address:"Riyadh",rating:4.4,reviews:191,description:"Spare Parts & Equipments supplier",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"Contract"},{id:"33",name:"Arcoma Company Ltd.",nameArabic:"  ",category:"Factory Automation Solution",subCategory:"",contactPerson:"Ahme Mutasim",position:"Sales Engineer",phone:"55 038 8687",email:"a.mutasim@arcoma.com",website:"www.arcoma.com",address:"Riyadh",rating:4.3,reviews:409,description:"Factory Automation Solution supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$20"},{id:"34",name:"Arcoma Company Ltd.",nameArabic:"  ",category:"Factory Automation Solution",subCategory:"",contactPerson:"Itrat haliq",position:"Sales Engineer",phone:"53 704 7183",email:"packsales3@arcoma.com",website:"www.arcoma.com",address:"Riyadh",rating:4.5,reviews:308,description:"Factory Automation Solution supplier",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$50"},{id:"35",name:"Assawayer Trading Co. Ltd.",nameArabic:"   ",category:"Other",subCategory:"",contactPerson:"Lito L. Amarante",position:"Sales Engineer",phone:"50 889 1492",email:"lito@assawayer.com",website:"www.assawayer.com",address:"Jubail",rating:4.7,reviews:440,description:"Other supplier",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$100"},{id:"36",name:"Distinctive Relationships trading Co.",nameArabic:"   ",category:"Packing",subCategory:"",contactPerson:"Asim Altejani",position:"Sales Consultant",phone:"54 122 4438",email:"ase.mm6@hotmail.com",website:"",address:"Riyadh",rating:4,reviews:41,description:"Packing supplier",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$150"},{id:"37",name:"Global Scales & Systems Co. Ltd.",nameArabic:"   ",category:"Scales",subCategory:"",contactPerson:"Muhammad Farhan Adil",position:"Sales Manager",phone:"58 170 4389",email:"farhan@gsse.com.sa",website:"www.gsse.com.sa",address:"Riyadh",rating:4.7,reviews:454,description:"Scales supplier",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$200"},{id:"38",name:"Safe Arabia International Company (SafeArabia)",nameArabic:"   ",category:"Other",subCategory:"",contactPerson:"V. Solomon",position:"Business Development Manager",phone:"50 004 3706",email:"solomon@safearabia.me",website:"www.safearabia.me",address:"Jubail",rating:4.8,reviews:459,description:"Other supplier",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$300"},{id:"39",name:"Al-Hulayel Shop",nameArabic:" ",category:"Materials",subCategory:"Plumping , Electrical & Building Materials",contactPerson:"",position:"",phone:"",email:"",website:"",address:"Kharj",rating:4.1,reviews:155,description:"Materials - Plumping , Electrical & Building Materials",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$500"},{id:"40",name:"Bearing Works CO.",nameArabic:"   ",category:"Spare Parts",subCategory:"Bearing",contactPerson:"Moez Hamid",position:"Sales",phone:"50 987 6574",email:"B-workds@hotmail.com",website:"",address:"Riyadh",rating:4.4,reviews:485,description:"Spare Parts - Bearing",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$1000"},{id:"41",name:"Zahid Tractor",nameArabic:"  ",category:"Heavy Equipments",subCategory:"",contactPerson:"Mir Liyakat",position:"Sales Engineer",phone:"55 388 0259",email:"mliyakat@zahid.com",website:"www.zahidcat.com",address:"Jeddah",rating:4.1,reviews:451,description:"Heavy Equipments supplier",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$2000"},{id:"42",name:"SADR",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Alaa Magdy",position:"Sales Consultant",phone:"55 632 4447",email:"amagdy@sgp.com.sa",website:"",address:"Riyadh",rating:4.8,reviews:422,description:"Other supplier",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$5000"},{id:"43",name:"Gulf Circle For Laboratory & Medical Supplies (GCLMS)",nameArabic:"  ",category:"Medical Supplies",subCategory:"",contactPerson:"Imranuddin Sayyed",position:"Sales Representative",phone:"57 347 8678",email:"imran@gulf-lab-supplies.com",website:"www.gulf-lab-supplies.com",address:"Riyadh",rating:4.3,reviews:50,description:"Medical Supplies supplier",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"Contract"},{id:"44",name:"Hamid Ali Mohammed Al-Dosari Est.",nameArabic:"    ",category:"Packing",subCategory:"",contactPerson:"Ali Hussein",position:"Sales Manager",phone:"57 089 4649",email:"alihussainmd003@gmail.com",website:"",address:"Riyadh",rating:4.6,reviews:274,description:"Packing supplier",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$20"},{id:"45",name:"Project Supply Company (PSC)",nameArabic:"  ",category:"Other",subCategory:"",contactPerson:"Abdul Aziz Ahmed",position:"Sales Representative",phone:"56 722 3322",email:"a.alrashoudi@psc.com.sa",website:"www.psc.com.sa",address:"Riyadh",rating:4.6,reviews:13,description:"Other supplier",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$50"},{id:"46",name:"LA VIE KINGDOM",nameArabic:" ",category:"Water & Power Services",subCategory:"",contactPerson:"Abdelrahman Kelany",position:"Technical Sales Engineer",phone:"50 566 0647",email:"sales2@laviekingdom.com",website:"www.laviekingdom.com",address:"Dammam",rating:4.5,reviews:47,description:"Water & Power Services supplier",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$100"},{id:"47",name:"Etmad Al Rail Trading Shop",nameArabic:"   ",category:"Industrial Tools",subCategory:"",contactPerson:"",position:"",phone:"50 479 0535",email:"",website:"",address:"Riyadh",rating:4.1,reviews:431,description:"Industrial Tools supplier",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$150"},{id:"48",name:"Gulf Printing Products Manufacturers Factory (GEPCOM)",nameArabic:"     ()",category:"Printing",subCategory:"",contactPerson:"Mohammed Ahmed Elrasheed",position:"Sales Account Manager",phone:"55 412 1990",email:"m.el-rasheed@gepcom.com.sa",website:"www.gepcom.com.sa",address:"Riyadh",rating:4.9,reviews:491,description:"Printing supplier",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$200"},{id:"49",name:"Najid Al-Atheer For Trading Co.",nameArabic:"   ",category:"Other",subCategory:"",contactPerson:"Walid Elgamasi",position:"Sales Excutive",phone:"58 319 7445",email:"sales@najidksa.com",website:"www.najdksa.com",address:"Riyadh",rating:4.1,reviews:260,description:"Other supplier",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$300"},{id:"50",name:"Modern Plast Group",nameArabic:"",category:"Raw Material",subCategory:"Preform",contactPerson:"Khaled Elalfy",position:"Technical Director",phone:"53 683 5575",email:"khaled.elalfy@modernplast-egypt.com",website:"www.awtadalbehar.com",address:"Riyadh",rating:4.8,reviews:61,description:"Raw Material - Preform",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"$500"},{id:"51",name:"Vendor Name English",nameArabic:"Vendor Name Arabic",category:"Category",subCategory:"Sub Category",contactPerson:"Contact Person",position:"Position",phone:"Phone",email:"Email",website:"Website",address:"Address",rating:4.4,reviews:195,description:"Category - Sub Category",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$1000"},{id:"52",name:"Middle East Factory For Machines (MEMCO)",nameArabic:"      ()",category:"Spare Parts Machine (SPM)",subCategory:"",contactPerson:"Eng.Abdelrahman Melhem",position:"Sales Engineer",phone:"+966 564553959",email:"a.rahman@memco.com.sa",website:"www.memco.com.sa",address:"3rd Industrial City - Riyadh",rating:4.4,reviews:509,description:"Spare Parts Machine (SPM) supplier",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$2000"},{id:"53",name:"Advance Machinery EST.",nameArabic:"   ",category:"Equipments",subCategory:"",contactPerson:"Muhammed Ali",position:"Sales Excutive",phone:"+966 510510936",email:"m.ali@advancemachinery.com.sa",website:"www.advancemachinery.com.sa",address:"Riyadh",rating:4.9,reviews:345,description:"Equipments supplier",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$5000"},{id:"54",name:"Alamat Invest",nameArabic:" ",category:"Investing",subCategory:"",contactPerson:"Saud Alsubaie",position:"Public Relations Manager",phone:"+966 500705004",email:"Salsubaue@alamatinves.sa",website:"",address:"Riyadh",rating:4.2,reviews:300,description:"Investing supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"Contract"},{id:"55",name:"Liquids Supplies Trading Company",nameArabic:"   ",category:"Liquids",subCategory:"",contactPerson:"Ahmed Erfan",position:"Sales Excutive",phone:"+966 548503437",email:"",website:"",address:"Riyadh",rating:4.7,reviews:133,description:"Liquids supplier",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$20"},{id:"56",name:"Obaid Al-Mutaini Foundation Distribution Hydrocarbons",nameArabic:"    ",category:"Petorl & Diesel",subCategory:"",contactPerson:"Abu Khaled",position:"Sales Excutive",phone:"+966 50113288",email:"",website:"",address:"Riyadh",rating:4.2,reviews:445,description:"Petorl & Diesel supplier",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$50"},{id:"57",name:"ELMAC",nameArabic:"",category:"Electro Mechanicals Services",subCategory:"",contactPerson:"Abdulelah Al Wahabi",position:"Mechanical Engineer",phone:"+966 542174116",email:"aalwahabi@elmac.com.sa",website:"www.elmac.com.sa",address:"Riyadh",rating:4.9,reviews:34,description:"Electro Mechanicals Services supplier",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$100"},{id:"58",name:"Professionalism Safety EST. For Trading",nameArabic:"   ",category:"Safety Equipments",subCategory:"",contactPerson:"Amro Abdulhameed Ali",position:"Projects Engineer",phone:"+966 595044011",email:"Amro.A.A.I@hotmail.com",website:"",address:"Riyadh",rating:4.8,reviews:214,description:"Safety Equipments supplier",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$150"},{id:"59",name:"Gulf Printing Products Manufacturing Factory",nameArabic:"    ",category:"Printing Products Mannufacturing",subCategory:"",contactPerson:"Mohmmed Ahmed Elrasheed",position:"Sales Account Manager",phone:"+966 554121990",email:"m.el-rasheed@gepcom.com.sa",website:"www.gepcom.sa",address:"Riyadh",rating:4.4,reviews:110,description:"Printing Products Mannufacturing supplier",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$200"},{id:"60",name:"Alsama Ink",nameArabic:"  ",category:"Printing Products Mannufacturing",subCategory:"",contactPerson:"Mohammed Abdullah",position:"Deputy Director of Sales",phone:"+966 53 7703220",email:"m.abdullah@alsamaink.com",website:"www.alsamaink.com",address:"Riyadh",rating:4.9,reviews:235,description:"Printing Products Mannufacturing supplier",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$300"},{id:"61",name:"Guf Paper",nameArabic:"",category:"Printing Products Mannufacturing",subCategory:"",contactPerson:"Abd Elrahman Atieh",position:"Sales Engineer",phone:"+966 570702513",email:"abdelrahman@gulfpaperfactory.com",website:"",address:"Kharj",rating:4.6,reviews:186,description:"Printing Products Mannufacturing supplier",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$500"},{id:"62",name:"Rasseen AlTayf for Paper and Packing Tools Co. (RSSEN)",nameArabic:"     ",category:"Printing Products Mannufacturing",subCategory:"",contactPerson:"Ayman Jumuah",position:"Sales Person",phone:"+966 552472448",email:"sales@rassenaltayf.com",website:"www.rassenaltayf.com",address:"Al Faisaliyyah , Riyadh",rating:5,reviews:452,description:"Printing Products Mannufacturing supplier",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$1000"},{id:"63",name:"Zahrat Al Waha For Trading Company",nameArabic:"  ",category:"Raw Materials",subCategory:"Preform - Cap",contactPerson:"Mohamed Elgreatly",position:"Sales Manager",phone:"+966 508680637",email:"mohamed.elgreatly@zaoasis.com",website:"www.zaoasis.com",address:"Al Rafaya , Kharj",rating:4.9,reviews:404,description:"Raw Materials - Preform - Cap",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$2000"},{id:"64",name:"Golden Experience Trading Est",nameArabic:"   ",category:"Other",subCategory:"",contactPerson:"Housam Makki",position:"Sales Engineer",phone:"+966 563141167",email:"Housam@goldene.com.sa",website:"www.goldene.com.sa",address:"",rating:4.6,reviews:459,description:"Other supplier",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$5000"},{id:"65",name:"Bearing Works Co.",nameArabic:"   ",category:"Spare Parts Machine (SPM)",subCategory:"Bearing",contactPerson:"Abdul Karim Mohanaya",position:"Sales Person",phone:"+966 504101878",email:"B-works@hotmail.com",website:"",address:"Riyadh",rating:4.6,reviews:422,description:"Spare Parts Machine (SPM) - Bearing",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"Contract"},{id:"66",name:"Bearing Works Co.",nameArabic:"   ",category:"Spare Parts Machine (SPM)",subCategory:"Bearing",contactPerson:"Mohammed Al-Sheikh",position:"Sales Person",phone:"+966 503262966",email:"B-works@hotmail.com",website:"",address:"Riyadh",rating:4.5,reviews:290,description:"Spare Parts Machine (SPM) - Bearing",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$20"},{id:"67",name:"Al_Madina",nameArabic:"",category:"Uniform",subCategory:"Traiors & Fabric",contactPerson:"Abdul Karim",position:"Master Sales Person",phone:"+966 565619464",email:"",website:"",address:"Riyadh",rating:4,reviews:214,description:"Uniform - Traiors & Fabric",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$50"},{id:"68",name:"Quality Bearing Trading Est.",nameArabic:"    ",category:"Spare Parts Machine (SPM)",subCategory:"Bearing",contactPerson:"Khalid",position:"Sales Person",phone:"+966 553368207",email:"arb2015banaeem@gmail.com",website:"",address:"Riyadh",rating:4.9,reviews:192,description:"Spare Parts Machine (SPM) - Bearing",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$100"},{id:"69",name:"Shop Munirax",nameArabic:" ",category:"Mattressess etc",subCategory:"",contactPerson:"",position:"",phone:"+966 508828461",email:"",website:"",address:"Kharj",rating:4.7,reviews:223,description:"Mattressess etc supplier",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$150"},{id:"70",name:"Rokn Al-Misbar Trading Est.",nameArabic:"   ",category:"Stanless Steel Parts",subCategory:"",contactPerson:"Ahmed Alia",position:"Sales Person",phone:"+966 504248305",email:"misbar_trading@hotmail.com",website:"",address:"Riyadh",rating:4.6,reviews:247,description:"Stanless Steel Parts supplier",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"$200"},{id:"71",name:"AL-RYLE HAND TOOLS",nameArabic:"   ",category:"Equipments",subCategory:"Building - Industrial - Hand Tools Equ",contactPerson:"Nasser Khan",position:"Sales Person",phone:"+966 583650231",email:"",website:"",address:"Batha Riyadh",rating:4.6,reviews:137,description:"Equipments - Building - Industrial - Hand Tools Equ",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$300"},{id:"72",name:"IDAC MERIEUX",nameArabic:" ",category:"Laboratry Analysis",subCategory:"Water Analysis",contactPerson:"Client Service",position:"Client Service",phone:"+966 535800123",email:"info@idac.com.sa",website:"www.idac.com.sa",address:"Exit 9 , Kharj",rating:4.8,reviews:186,description:"Laboratry Analysis - Water Analysis",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$500"},{id:"73",name:"Belt House Tradingn EST.",nameArabic:"     ",category:"Spare Parts Machine (SPM)",subCategory:"Bearing , Belts , Gaskets etc",contactPerson:"Mohamed Nizar",position:"Sales Excutive",phone:"+966 581131024",email:"",website:"",address:"",rating:4.1,reviews:338,description:"Spare Parts Machine (SPM) - Bearing , Belts , Gaskets etc",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$1000"},{id:"74",name:"SAUDIEX",nameArabic:" ",category:"Other",subCategory:"",contactPerson:"Ahmed Abdulwahab",position:"Key Account Manager",phone:"+966 530550120",email:"a.abdulwahab@saudiex.com.sa",website:"www.saudiex.com.sa",address:"Riyadh",rating:4.1,reviews:220,description:"Other supplier",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$2000"},{id:"75",name:"Muslat Al-Otaibi Foundation",nameArabic:"  ",category:"Light Equipment Rent",subCategory:"",contactPerson:"Ahmed",position:"Management",phone:"+966 549519271",email:"",website:"",address:"Kharj",rating:4.6,reviews:445,description:"Light Equipment Rent supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$5000"},{id:"76",name:"AES ARABIA LTD",nameArabic:"     ",category:"Enviromental & Process Engineering",subCategory:"",contactPerson:"Ibrahim Mahgoub",position:"Sales Excutive",phone:"+966 539095220",email:"ibrahim_mahgoub@aesarabia.com",website:"www.aesarabia.com",address:"Riyadh",rating:4.2,reviews:276,description:"Enviromental & Process Engineering supplier",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"Contract"},{id:"77",name:"Advanced Internatioj Industries",nameArabic:"   ",category:"Raw Materials",subCategory:"Carton",contactPerson:"Mohamed Farag",position:"Sales Excutive",phone:"+966 546208869",email:"m.farag@aiicsa.com",website:"www.aiicsa.com",address:"Jazan",rating:4.1,reviews:123,description:"Raw Materials - Carton",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$20"},{id:"78",name:"Electronics Components CO. LTS (Yastronics)",nameArabic:"   ",category:"Spare Parts Machine (SPM)",subCategory:"Calibration Services - SPM",contactPerson:"Sreekumar",position:"Sales Excutive",phone:"+966 502760963",email:"sreekumar@yastronics.net",website:"www.yastronics.con",address:"Riyadh",rating:4.7,reviews:261,description:"Spare Parts Machine (SPM) - Calibration Services - SPM",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$50"},{id:"79",name:"A.H. Al Rumayyan Trading Est (BAC)",nameArabic:"      ",category:"Machines Services",subCategory:"Cooling Tower Services",contactPerson:"Abdullah Syed",position:"Service Supervisor",phone:"+966 535997810",email:"mirzatareq@alrumayyantrading.com",website:"www.bac.ceu",address:"Riyadh",rating:4.3,reviews:298,description:"Machines Services - Cooling Tower Services",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$100"},{id:"80",name:"Dash Control Systems",nameArabic:"  ",category:"Machines Services",subCategory:"",contactPerson:"Ahsan Saeed",position:"Sales Engineer",phone:"+966 594357067",email:"a.saeed@dashcontrol.com",website:"www.dashcontrol.com",address:"Riyadh",rating:4.5,reviews:486,description:"Machines Services supplier",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$150"},{id:"81",name:"CYPET Technologies",nameArabic:"",category:"Technology",subCategory:"",contactPerson:"Michalis Sideris",position:"Head of Business Development",phone:"+357 99432820",email:"michalis.sideris@cypet.eu",website:"www.cypet,eu",address:"Cyprus",rating:5,reviews:507,description:"Technology supplier",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$200"},{id:"82",name:"REDA Food Ingradiebts",nameArabic:"",category:"Raw Materials",subCategory:"Minerals",contactPerson:"Bander Al Sheri",position:"Sales Engineer",phone:"54 9528570",email:"bander.alsheri@redafood.com",website:"www.redafood.com",address:"Riyadh",rating:4.7,reviews:92,description:"Raw Materials - Minerals",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$300"},{id:"83",name:"Rose",nameArabic:"  ",category:"Hotel",subCategory:"",contactPerson:"",position:"",phone:"5037720872",email:"kmk6@hotmail.com",website:"",address:"Khraj",rating:4.5,reviews:491,description:"Hotel supplier",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$500"},{id:"84",name:"Technical Solution Limited (TSL)",nameArabic:"",category:"Machines Services",subCategory:"",contactPerson:"Ibrahim Elbaz Galhoum",position:"Sales Engineer",phone:"50 7245683",email:"ibrahim@tsl-me.com",website:"www.tsl-me.com",address:"Riyadh",rating:4.8,reviews:389,description:"Machines Services supplier",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$1000"},{id:"85",name:"New Arab General Contracting Company",nameArabic:"    ",category:"Constructions",subCategory:"SPM - Equipments",contactPerson:"Mohammed Manzar Sohail",position:"Marketing Executive",phone:"559074842",email:"manzar_sohail@hotmail.com",website:"sales@newarabgcc.com",address:"Riyadh",rating:4.4,reviews:54,description:"Constructions - SPM - Equipments",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$2000"},{id:"86",name:"Unknown Vendor",nameArabic:"      ",category:"workshop",subCategory:"",contactPerson:"",position:"",phone:"592002728",email:"",website:"",address:"Riyadh",rating:4.7,reviews:151,description:"workshop supplier",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$5000"},{id:"87",name:"Qemat Al Wafi Car Showroom",nameArabic:"   ",category:"Cars Showroom",subCategory:"",contactPerson:"Emad Youssef",position:"Sales Representative",phone:"559942004",email:"qemetalwafi@hotmail.com",website:"",address:"Riyadh",rating:4.3,reviews:159,description:"Cars Showroom supplier",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"Contract"},{id:"88",name:"Altawhed Alssatile for Trading Est",nameArabic:"    ",category:"Uniform",subCategory:"",contactPerson:"Wael Saadallah",position:"Sales Supervisor",phone:"54 7304173",email:"altawheduniform@outlook.com",website:"",address:"",rating:4.8,reviews:246,description:"Uniform supplier",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$20"},{id:"89",name:"Rent O Care",nameArabic:"",category:"Enviromental Solutions",subCategory:"Insects",contactPerson:"Ali Mustafa Ali",position:"Sales Specialist",phone:"55 748 1893",email:"a.nasser@rent2care.com",website:"www.rent2care.com",address:"",rating:4.7,reviews:163,description:"Enviromental Solutions - Insects",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$50"},{id:"90",name:"Dorf Ketal Tribonds International",nameArabic:"     ",category:"Other",subCategory:"",contactPerson:"Hossam Zekralla",position:"Senior Technical Engineer",phone:"58 0772990",email:"hossam.zekralla@dorfketal.com.sa",website:"www.dorfketal.com.sa",address:"Dammam",rating:4.7,reviews:207,description:"Other supplier",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"$100"},{id:"91",name:"Lights of Power Est.",nameArabic:"   ",category:"Machines Service",subCategory:"Cintrol Systems & Accessories",contactPerson:"Sherif Khairy",position:"Sales Engineer",phone:"59 3860083",email:"sales2@lightsofpower.com",website:"www.lightsofpower.com",address:"Riyadh",rating:5,reviews:79,description:"Machines Service - Cintrol Systems & Accessories",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$150"},{id:"92",name:"Bahashwan Internation Trading CO.",nameArabic:"   ",category:"Spare Parts Trucks (SPT)",subCategory:"",contactPerson:"",position:"",phone:"50 7360554",email:"bahashwan22@gmail.com",website:"",address:"Riyadh",rating:4.3,reviews:192,description:"Spare Parts Trucks (SPT) supplier",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$200"},{id:"93",name:"Al-Lewa Al-Dahbi Co. For Security Guards",nameArabic:"    ",category:"Security",subCategory:"Mens Security",contactPerson:"Fahad Al Fares",position:"Projects Management",phone:"55 6679507",email:"f.alfars410@gmail.com",website:"www.al-lewadahbi.com",address:"",rating:4.9,reviews:490,description:"Security - Mens Security",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$300"},{id:"94",name:"O Plus Care Medical Clinic",nameArabic:"    ",category:"Medical",subCategory:"Medical Clink",contactPerson:"Abdelhameed S.Taha",position:"Business Development Manager",phone:"56 2245232",email:"abdelhameed.taha@altaawin.com",website:"www.altaawin.com",address:"",rating:4.8,reviews:101,description:"Medical - Medical Clink",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$500"},{id:"95",name:"SADR",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Ahmed Saad Elbialy",position:"Sales Consultant",phone:"55 8325553",email:"a.saad@sgp.com.sa",website:"www.sgp.com.sa",address:"",rating:4.2,reviews:122,description:"Other supplier",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$1000"},{id:"96",name:"HEXON ARABIA",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Ali Fathan",position:"Technical Sales Engineer",phone:"50 8889738",email:"ali.farhan@hexonarabia.com",website:"www.hexonarabia.com",address:"Riyadh",rating:4.9,reviews:233,description:"Other supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$2000"},{id:"97",name:"Fouz Chemical Company",nameArabic:"  ",category:"Minerals",subCategory:"Chemicals",contactPerson:"Ayaz Ahmad",position:"Sales Engineer",phone:"53 8222906",email:"sales.ryd03@fouz.com.sa",website:"www.fouz.com.sa",address:"Riyadh",rating:4.2,reviews:291,description:"Minerals - Chemicals",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$5000"},{id:"98",name:"Innovation through Technilogy (INNTESSA)",nameArabic:"",category:"Equipments",subCategory:"Automatic Doors - Loading Equipments",contactPerson:"Mohamed Hairi",position:"Bussiness Associate",phone:"54 7662137",email:"sales2@inntessa.com",website:"www.inntessa.com",address:"Riyadh",rating:4.2,reviews:139,description:"Leading advertising agency specializing in digital marketing, branding, and outdoor campaigns. We help businesses grow their presence with creative solutions.",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",coverImage:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=1200&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"Contract"},{id:"99",name:"Hidayath Metal Industries Co.",nameArabic:"   ",category:"Manufacturing",subCategory:"Metal Industries",contactPerson:"Mohyuddin Khan",position:"Sales Manager",phone:"55 0502593",email:"mikhan@hidayath.com",website:"www.hidayath.com",address:"Riyadh",rating:4,reviews:117,description:"Manufacturing - Metal Industries",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$20"},{id:"100",name:"Arabian Plastic Industial Co. (APICO)",nameArabic:"   ",category:"Manufacturing",subCategory:"Plastic Industrial",contactPerson:"Waqas Saleem",position:"Plant Manager",phone:"53 5087738",email:"m.waqas@apico.com.sa",website:"www.apico.com.sa",address:"Riyadh",rating:4.9,reviews:214,description:"Manufacturing - Plastic Industrial",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$50"},{id:"101",name:"Dibai Land",nameArabic:" ",category:"Trading",subCategory:"",contactPerson:"Sayed Shihab",position:"Sales Representative",phone:"55 4516847",email:"dubailandsa@hotmail.com",website:"",address:"Riyadh",rating:4.6,reviews:32,description:"Trading supplier",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$100"},{id:"102",name:"Attractive Car",nameArabic:" ",category:"Other",subCategory:"",contactPerson:"Abubakr Alsadiq",position:"Marketing Specialist",phone:"50 0067497",email:"alsadiqab@attcar.com",website:"www.attcar.com",address:"Riyadh",rating:4.2,reviews:329,description:"Other supplier",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$150"},{id:"103",name:"Yasir Yaslam Al-Nahdi Commercial Est. Branch (Alnahdi)",nameArabic:"     ",category:"Other",subCategory:"",contactPerson:"Mohammed AlMary",position:"Sales Man",phone:"55 9471037",email:"",website:"",address:"Riyadh",rating:4,reviews:322,description:"Other supplier",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$200"},{id:"104",name:"Global Scales & Systems Co.Ltd",nameArabic:"   ",category:"Scales",subCategory:"",contactPerson:"Navin Janardhanan",position:"Sr.Product Manager",phone:"53 946 4581",email:"navin@gsse.com.sa",website:"www.gsse.com.sa",address:"Riyadh",rating:5,reviews:88,description:"Scales supplier",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$300"},{id:"105",name:"Sun Capture",nameArabic:"",category:"Solar Energy",subCategory:"",contactPerson:"Rafiudeen Thajudeen",position:"Solar Energy Technician",phone:"54 186 8315",email:"rthajudeen@suncapture.com",website:"www.suncapture.com",address:"Dammam",rating:4.2,reviews:279,description:"Solar Energy supplier",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$500"},{id:"106",name:"ADDAMEGH FOR INDUSTRIAL SOLUTONS",nameArabic:"  ",category:"Industrial Solutions",subCategory:"",contactPerson:"Syed A. Baksh",position:"Branch Manager",phone:"54 911 7669",email:"syed.baksh@addameghgroup.com",website:"www.addameghgroup.com",address:"Riyadh",rating:4.3,reviews:89,description:"Industrial Solutions supplier",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$1000"},{id:"107",name:"LULUA",nameArabic:"",category:"Water",subCategory:"",contactPerson:"Emad Ismali Idris",position:"Operations Manager",phone:"56 353 0603",email:"emad8387@gmail.com",website:"www.lulua.sa",address:"Riyadh",rating:4.4,reviews:78,description:"Water supplier",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$2000"},{id:"108",name:"IPS Global",nameArabic:"",category:"Production Lines",subCategory:"",contactPerson:"Mina Yanni",position:"Regional Service Area Manager",phone:"+20 100097 0500",email:"mina.yanni@ipsg.ae",website:"www.ipsg.ae",address:"Dubai",rating:4.8,reviews:49,description:"Production Lines supplier",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$5000"},{id:"109",name:"Micro Automation",nameArabic:"",category:"Electro Mechanicals Services",subCategory:"Electrical Panel Service",contactPerson:"Sherif Abd EL-Aal",position:"",phone:"53 924 4474",email:"microautomationsa@gmail.com",website:"",address:"",rating:4.8,reviews:107,description:"Electro Mechanicals Services - Electrical Panel Service",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"Contract"},{id:"110",name:"Juffali Industrial Products Co. (JIPCO)",nameArabic:"",category:"Trucks",subCategory:"Used Trucks",contactPerson:"Mohammed Alhishl",position:"Sales Engineer",phone:"56 333 6850",email:"m.alhishl@jipco.com.sa",website:"www.juffalitrucks.com",address:"Riyadh",rating:4.5,reviews:219,description:"Trucks - Used Trucks",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"$20"},{id:"111",name:"H.K Mechanical Engineering",nameArabic:"",category:"Mechanical Engineering",subCategory:"",contactPerson:"Hany Salem",position:"General Manager",phone:"55 159 6282",email:"H.salem@HK-Mech.com",website:"www.HK-Mech.com",address:"Jeddah",rating:4.7,reviews:142,description:"Mechanical Engineering supplier",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$50"},{id:"112",name:"Arab Future Est. For Safety Equipment",nameArabic:"    ",category:"Safety Equipments",subCategory:"",contactPerson:"Mohd Baber",position:"",phone:"53 919 2609",email:"",website:"",address:"Kharj",rating:4.6,reviews:48,description:"Safety Equipments supplier",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$100"},{id:"113",name:"AH Plastic Products Company LTD",nameArabic:"   ",category:"Plastic Products",subCategory:"",contactPerson:"Mohamed Mustafa",position:"Sales Representative",phone:"55 654 4459",email:"sales.ah@ahgroups.com",website:"www.ahgroups.com",address:"Al Ahsa",rating:4.9,reviews:479,description:"Plastic Products supplier",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$150"},{id:"114",name:"Johnson Controls Arabia",nameArabic:"",category:"Smart & Health Building",subCategory:"",contactPerson:"Mansour Aljawhari",position:"Sales Excutive Engineer",phone:"54 483 3439",email:"mansour.aljawhari@jci.com",website:"www.jcarabia.com",address:"Riyadh",rating:4.2,reviews:160,description:"Smart & Health Building supplier",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$200"},{id:"115",name:"Hanen Najid Est. For General Contracting",nameArabic:"    ",category:"General Contracting",subCategory:"",contactPerson:"Shekh Harun",position:"Marketing Manager",phone:"55 144 2991",email:"shekhharun1441@gmail.com",website:"",address:"Riyadh",rating:4.1,reviews:331,description:"General Contracting supplier",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$300"},{id:"116",name:"Medtra Calibration Laboratory",nameArabic:"  ",category:"Calibration Laboratory",subCategory:"",contactPerson:"Javed Mianded",position:"Sales Engineer",phone:"55 260 2798",email:"javed@medtraworld.com",website:"www.medtraworld.com",address:"Riyadh",rating:4.9,reviews:89,description:"Calibration Laboratory supplier",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$500"},{id:"117",name:"SASCOM",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Omar Shahatit",position:"Senior Sales Engineer",phone:"56 361 1636",email:"Omar.shahatit@sascom-sa.com",website:"www.sascom-sa.com",address:"Riyadh",rating:4.6,reviews:501,description:"Other supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$1000"},{id:"118",name:"Saudi Modern Packing Factory Co.Ltd. (Printopack)",nameArabic:"     ",category:"Packing",subCategory:"",contactPerson:"Malik Tauqeer Aamir",position:"Sales Manager",phone:"54 811 9578",email:"tauqeer@printopack.com.sa",website:"www.printopack.com.sa",address:"Jeddah",rating:4.2,reviews:76,description:"Packing supplier",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$2000"},{id:"119",name:"BBM",nameArabic:"",category:"Technology",subCategory:"",contactPerson:"Manoj Gupta",position:"Business Development Manager",phone:"+91 93532 67609",email:"manoj.gupta@bbm-germany.de",website:"www.bbm-germany.de",address:"Germany",rating:4.4,reviews:139,description:"Technology supplier",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$5000"},{id:"120",name:"Filters Experts",nameArabic:" ",category:"Spare Parts",subCategory:"",contactPerson:"Riyadh Branch 2",position:"",phone:"54 570 1631",email:"riyadh@filtersexperts.com",website:"www.filtersexperts.com",address:"Riyadh",rating:4.1,reviews:343,description:"Spare Parts supplier",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"Contract"},{id:"121",name:"Rema Industrial Company",nameArabic:"  ",category:"Industrial Solutions",subCategory:"",contactPerson:"Mohamed Nasser Abbas",position:"Marketing Specialist",phone:"55 752 4645",email:"m.nasser@rema.sa",website:"www.rema.sa",address:"Riyadh",rating:4.4,reviews:441,description:"Industrial Solutions supplier",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$20"},{id:"122",name:"Juffali Commercial Vehicles",nameArabic:"  ",category:"Commercial Vehicles",subCategory:"",contactPerson:"Omar Al Ghazali",position:"Sales Engineer",phone:"59 103 9475",email:"omar.alghazali@jipco.com.sa",website:"www.jipco.com.sa",address:"Riyadh",rating:5,reviews:398,description:"Commercial Vehicles supplier",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$50"},{id:"123",name:"Alaa Intl. Trading Co. For Foundation Equipment",nameArabic:"      ",category:"Equipments",subCategory:"",contactPerson:"Riaz Khan",position:"Sales Engineer",phone:"50 389 4062",email:"riaz.khan@afi.com.sa",website:"www.afi.com.sa",address:"Riyadh",rating:4.3,reviews:86,description:"Equipments supplier",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$100"},{id:"124",name:"ALFURIDI FACTORY",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Ahmed Saber",position:"Sales Supervisor",phone:"59 511 0915",email:"Ahmedsaber@alfuridiplast.com",website:"www.alfuridiplast.com",address:"Riyadh",rating:4.9,reviews:80,description:"Other supplier",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$150"},{id:"125",name:"Resources Domain Factory & Industry",nameArabic:"   ",category:"Spare Parts",subCategory:"Filters",contactPerson:"Syed Hasan Abutalib",position:"Sales Excutive",phone:"54 092 2529",email:"sales4@resources-domain.com",website:"www.resoures-domain.com",address:"Riyadh",rating:4.7,reviews:417,description:"Spare Parts - Filters",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$200"},{id:"126",name:"anasia",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Mohammed Azmath",position:"Sales Engineer",phone:"58 124 5228",email:"azmath.m@anasiasaudi.com",website:"",address:"Riyadh",rating:4.9,reviews:15,description:"Other supplier",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$300"},{id:"127",name:"Prestige Saudi Co.Ltd.",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Waheed Murad",position:"Product Specialist",phone:"54 496 3776",email:"murad@disaudi.com",website:"www.dlisaudi.com",address:"Riyadh",rating:4.1,reviews:243,description:"Other supplier",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$500"},{id:"128",name:"Dawood Ahmad Al-Shizawi Trading Est. (arizone)",nameArabic:"    ",category:"Printing Products Mannufacturing",subCategory:"",contactPerson:"Noufal",position:"Sales Excutive",phone:"50 116 5088",email:"riyadhservice@arizone.com",website:"www.arizone.com",address:"Kharj",rating:4.2,reviews:23,description:"Printing Products Mannufacturing supplier",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$1000"},{id:"129",name:"SONACOMPUTER CO.",nameArabic:"  ",category:"Computer",subCategory:"",contactPerson:"",position:"",phone:"9200 12717",email:"",website:"www.sonacomputer.com.sa",address:"Riyadh",rating:4.6,reviews:377,description:"Computer supplier",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$2000"},{id:"130",name:"Alnujum Almasia Factory For Plastic Industries",nameArabic:"    ",category:"Plastic Products",subCategory:"",contactPerson:"Ahmed Moamen Alajh",position:"",phone:"55 434 1118",email:"alnujmalmashih@gmail.com",website:"",address:"Riyadh",rating:4.6,reviews:106,description:"Plastic Products supplier",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"$5000"},{id:"131",name:"METITO",nameArabic:"",category:"Raw Materials",subCategory:"Chemicals",contactPerson:"Islam Abdrabou",position:"Territory Sales Manager",phone:"50 399 1165",email:"islam.abdrabou@metito.com",website:"www.metito.com",address:"Riyadh",rating:4.7,reviews:40,description:"Raw Materials - Chemicals",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"Contract"},{id:"132",name:"Al Kasibat Al Mushriqah Trading CO.",nameArabic:"   ",category:"Spare Parts",subCategory:"Atlas Copco - Auth Dist - Compressors",contactPerson:"Mahmoud Al Ghazali",position:"Sales Engineer",phone:"59 097 2205",email:"m.alghazali@asibex.com.jo",website:"www.asibex.com.jo",address:"Riyadh",rating:4.1,reviews:187,description:"Spare Parts - Atlas Copco - Auth Dist - Compressors",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$20"},{id:"133",name:"Al Salem Johnson Controls Group of Companies",nameArabic:"    ",category:"Spare Parts",subCategory:"Chillers - Controls , etc",contactPerson:"Raja Mohammed",position:"Senior Sales Engineer",phone:"50 076 9357",email:"raja.mohamed@jci.com",website:"www.york.com.sa",address:"Riyadh",rating:4.2,reviews:399,description:"Spare Parts - Chillers - Controls , etc",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$50"},{id:"134",name:"MEMF Power Transformer industrial Company",nameArabic:"    ",category:"Spare Parts",subCategory:"Power Transformer",contactPerson:"Ifan Manzor",position:"Senior Service Engineer",phone:"59 799 1300",email:"irfan.manzoor@memf.com.sa",website:"www.memf.com.sa",address:"Riyadh",rating:4.9,reviews:264,description:"Spare Parts - Power Transformer",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$100"},{id:"135",name:"Diversey",nameArabic:"",category:"Raw Materials",subCategory:"Chemicals",contactPerson:"Cem Coskun",position:"Sector Sales Specialist F&B",phone:"50 308 2253",email:"cem.coskun@diversey.com",website:"www.diversey.com",address:"Riyadh",rating:4.2,reviews:142,description:"Raw Materials - Chemicals",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$150"},{id:"136",name:"Al Kasibat Al Mushriqah Trading CO.",nameArabic:"   ",category:"Spare Parts",subCategory:"Atlas Copco - Auth Dist - Compressors",contactPerson:"Tayseer AbuFara",position:"After Sales Engineer",phone:"53 562 6579",email:"t.fara@asibex.com.jo",website:"www.asibex.com.jo",address:"Riyadh",rating:4.7,reviews:10,description:"Spare Parts - Atlas Copco - Auth Dist - Compressors",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$200"},{id:"137",name:"SOOR UNITER For Contracting",nameArabic:" ",category:"Spare Parts",subCategory:"",contactPerson:"Abdul Razak Shaikh",position:"Sales & Marketing Manager",phone:"53 382 8063",email:"abdulrazak@soor.sa",website:"www.suecn.com",address:"Jeddah",rating:4.3,reviews:363,description:"Spare Parts supplier",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$300"},{id:"138",name:"Al Rabie Packing",nameArabic:" ",category:"Packing",subCategory:"",contactPerson:"Muhammed Ishaq CK",position:"Service Manager",phone:"53 658 9526",email:"admin@alrabiepacking.com",website:"www.alrabiepacking.com",address:"Dammam",rating:4.2,reviews:43,description:"Packing supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$500"},{id:"139",name:"Atlas Copco",nameArabic:"",category:"Industrial Equipment",subCategory:"Atlas Copco - Compressors",contactPerson:"Sufyan Lone",position:"Sales Engineer",phone:"56 025 2272",email:"sufyan.lone@sa.atlascopco.com",website:"",address:"Riyadh",rating:4.7,reviews:348,description:"Industrial Equipment - Atlas Copco - Compressors",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$1000"},{id:"140",name:"AL-Hawaiya for Industrial Solutions",nameArabic:"  ",category:"Spare Parts",subCategory:"",contactPerson:"Nayaz Pasha",position:"Senior Sales Engineer",phone:"50 524 1896",email:"n.pasha@alha.com.sa",website:"www.alha.com.sa",address:"Jeddah",rating:4,reviews:35,description:"Spare Parts supplier",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$2000"},{id:"141",name:"Rema Industrial Company",nameArabic:"  ",category:"Industrial Solutions",subCategory:"",contactPerson:"Ahmed Samir Khalil",position:"Marketing Director",phone:"55 222 0248",email:"a.samir@rema.sa",website:"www.rema.sa",address:"Riyadh",rating:4.9,reviews:204,description:"Industrial Solutions supplier",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$5000"},{id:"142",name:"Waster Collection & Recyeling Co.Ltd (WASCO)",nameArabic:"   ",category:"Waste Collection",subCategory:"",contactPerson:"Yasser Ali Abdul-Jaber",position:"Al-Kharj Branch Supervisor",phone:"55 684 8710",email:"yasser.ali@wasco-sa.com",website:"www.wasco-sa.com",address:"Jeddah",rating:4.1,reviews:201,description:"Waste Collection supplier",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"Contract"},{id:"143",name:"Al Rabie Packing",nameArabic:" ",category:"Packing",subCategory:"",contactPerson:"Muhammed Shahid",position:"Sales & Marketing",phone:"56 073 2969",email:"sales@alrabiepacking.com",website:"www.alrabiepacking.com",address:"Riyadh",rating:4.5,reviews:260,description:"Packing supplier",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$20"},{id:"144",name:"AL-Joaidi Group",nameArabic:" ",category:"Spare Parts",subCategory:"",contactPerson:"Ali Bin Merdas",position:"Factory Manager",phone:"55 987 7019",email:"ali.m@aljoaidigroup.com",website:"www.aljoaidigroup.com",address:"Riyadh",rating:4.9,reviews:279,description:"Spare Parts supplier",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$50"},{id:"145",name:"Rokn Al-Saed For Automatic Est.",nameArabic:"    ",category:"Automatic Doors",subCategory:"",contactPerson:"Ahmed",position:"Salesman",phone:"50 510 9071",email:"",website:"",address:"Kharj",rating:4.7,reviews:345,description:"Automatic Doors supplier",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$100"},{id:"146",name:"Khatwa Al Hada Alamen For Trading",nameArabic:"    ",category:"Uniform",subCategory:"",contactPerson:"Mukesh Rajangam",position:"Salesman",phone:"55 729 9863",email:"mubasafety@gmail.com",website:"",address:"Riyadh",rating:4.6,reviews:481,description:"Uniform supplier",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$150"},{id:"147",name:"National Carton Factory",nameArabic:"  ",category:"Raw Materials",subCategory:"Carton",contactPerson:"Karim Ahmed",position:"Assistant Sales Manager",phone:"58 175 4394",email:"karim@ncf.com.sa",website:"www.ncf.sa",address:"Riyadh",rating:4.9,reviews:184,description:"Raw Materials - Carton",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$200"},{id:"148",name:"Plastic Plus",nameArabic:" ",category:"Raw Materials",subCategory:"Preform - Cap",contactPerson:"Majdi Ahmed",position:"Factories and Projects Manager",phone:"55 890 0909",email:"m.ahmed@mawared-hayat.com",website:"",address:"Kharj",rating:4.4,reviews:229,description:"Raw Materials - Preform - Cap",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$300"},{id:"149",name:"mas int'l Trading",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Mohammmad Salim Shaikh",position:"Sales Representative",phone:"55 108 2748",email:"info@mastrading.sa",website:"www.mastrading.sa",address:"Riyadh",rating:4.4,reviews:229,description:"Other supplier",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$500"},{id:"150",name:"Global Scales & Systems Co.Ltd",nameArabic:"   ",category:"Equipments",subCategory:"Scales",contactPerson:"Sergev Kupriyanov",position:"Regional Manager",phone:"55 741 7296",email:"sergev@gsse.com.sa",website:"www.gsse.com.sa",address:"Riyadh",rating:4.5,reviews:80,description:"Equipments - Scales",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"$1000"},{id:"151",name:"INITIAL",nameArabic:"",category:"Human Resources Solutions",subCategory:"",contactPerson:"Alamgir Khan",position:"Sales Excutive",phone:"53 754 3982",email:"alamgir.khan@initialsaudi.com",website:"www.initialsaudi.com",address:"Riyadh",rating:4.6,reviews:409,description:"Human Resources Solutions supplier",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$2000"},{id:"152",name:"Confirmation Lab",nameArabic:"",category:"Calibration Laboratory",subCategory:"Food and Beverage Testing",contactPerson:"Abdelrhman Elhassany",position:"Sales Manager",phone:"53 618 9207",email:"aelhassany@clc.sa",website:"www.clc.sa",address:"Jeddah",rating:4.9,reviews:282,description:"Calibration Laboratory - Food and Beverage Testing",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$5000"},{id:"153",name:"Deema Al Urouba Maintenance CO.",nameArabic:"   ",category:"workshop",subCategory:"",contactPerson:"Mubarak Awad Al-Tuhaibi",position:"CNC Department Manager",phone:"50 990 9620",email:"sales@dimaalouroba.com",website:"",address:"Riyadh",rating:4.2,reviews:394,description:"workshop supplier",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"Contract"},{id:"154",name:"Rolaco",nameArabic:"",category:"Equipments",subCategory:"Automative & Equipment",contactPerson:"Abubakr Ahmad",position:"Sales Supervisor - Heavy Equipment",phone:"56 844 0082",email:"a.ahmad@rolaco.com.sa",website:"www.rolacom.com.sa",address:"Riyadh",rating:4.8,reviews:409,description:"Equipments - Automative & Equipment",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$20"},{id:"155",name:"Belt Technology Trading Est.",nameArabic:"   ",category:"Spare Parts",subCategory:"",contactPerson:"Abdulaziz Dahan",position:"",phone:"50 490 4425",email:"belt.tech2016@gmail.com",website:"",address:"Riyadh",rating:5,reviews:439,description:"Spare Parts supplier",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$50"},{id:"156",name:"LAWASEQ",nameArabic:"",category:"Sticker",subCategory:"",contactPerson:"Abid Khan",position:"Sales Excutive",phone:"50 425 2638",email:"a.khan@lawaseq.com",website:"www.lawaseq.com",address:"Riyadh",rating:5,reviews:424,description:"Sticker supplier",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$100"},{id:"157",name:"TSUSHO JAMJOOM (HINO)",nameArabic:"",category:"Cars Showroom",subCategory:"Toyota",contactPerson:"Haitham Elsherif",position:"Corporate Sales",phone:"50 431 4631",email:"haitham_elsherif@hino.com.sa",website:"",address:"Riyadh",rating:4.1,reviews:279,description:"Cars Showroom - Toyota",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$150"},{id:"158",name:"BASR",nameArabic:"",category:"Advertising",subCategory:"",contactPerson:"Naif Salem Alsalem",position:"Owner",phone:"59 977 9054",email:"basaradver@gmail.com",website:"",address:"Riyadh",rating:4.4,reviews:179,description:"Advertising supplier",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$200"},{id:"159",name:"Rayan Advanced Industrial Co.",nameArabic:"   ",category:"Other",subCategory:"",contactPerson:"Mohamed Ahmed Fouad",position:"Sales Representative",phone:"54 061 9557",email:"mfouad@rayanadvanced.com.sa",website:"",address:"Riyadh",rating:4.7,reviews:270,description:"Other supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$300"},{id:"160",name:"ORYX Technologies",nameArabic:"",category:"Technology",subCategory:"",contactPerson:"Mohamed Adili",position:"Business Development Manager",phone:"54 433 8711",email:"madili@oryxtechno.com",website:"www.oryxtechno.com",address:"Riyadh",rating:4.3,reviews:90,description:"Technology supplier",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$500"},{id:"161",name:"Techno Carton Factory",nameArabic:"  ",category:"Raw Material",subCategory:"Carton",contactPerson:"Mahmoud Elassy",position:"Sales Excutive",phone:"53 626 3048",email:"mahmoud.elassy@technocarton.com",website:"www.technocarton.com",address:"Riyadh",rating:4,reviews:341,description:"Raw Material - Carton",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$1000"},{id:"162",name:"Etihad Gate Industrial Co.",nameArabic:"   ",category:"Raw Material",subCategory:"Carton",contactPerson:"Essam Almazroui",position:"Sales Representative",phone:"59 072 0302",email:"esam@egic.com.sa",website:"www.egic.com.sa",address:"Riyadh",rating:4.3,reviews:416,description:"Raw Material - Carton",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$2000"},{id:"163",name:"Al Wasl Chem",nameArabic:"",category:"Raw Material",subCategory:"Chemicals",contactPerson:"Mohammed Khait Twait",position:"Sales Engineer",phone:"56 367 8831",email:"k.twait@alwaslchem.com",website:"",address:"Dammam",rating:4.6,reviews:246,description:"Raw Material - Chemicals",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$5000"},{id:"164",name:"Famous Areej Industrial Company",nameArabic:"   ",category:"Industrial Solutions",subCategory:"Chemicals",contactPerson:"Mohammad Ayaz Anwar",position:"Sales Representative",phone:"53 085 9661",email:"ayaz@afitchem.com",website:"www.afitchem.com",address:"Riyadh",rating:4.5,reviews:391,description:"Industrial Solutions - Chemicals",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"Contract"},{id:"165",name:"Control Systems Solutions",nameArabic:"    ",category:"Industrial Automation",subCategory:"",contactPerson:"Abdul Razak",position:"Sales Engineer",phone:"50 589 9943",email:"razak@cssarabia.com",website:"www.cssarabia.com",address:"Riyadh",rating:4,reviews:336,description:"Industrial Automation supplier",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$20"},{id:"166",name:"Al Hijaz Carton Factory",nameArabic:"   ",category:"Raw Material",subCategory:"Carton",contactPerson:"Atau Rahman Khan",position:"Sales Excutive",phone:"59 820 9006",email:"arahman@ahqcartons.com",website:"",address:"Riyadh",rating:4.5,reviews:348,description:"Raw Material - Carton",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$50"},{id:"167",name:"Smart System Tech",nameArabic:"    ",category:"Other",subCategory:"",contactPerson:"Ahmed Al Hosary",position:"Technical Sales Director",phone:"59 773 2558",email:"info.sa@smartsystemtech.com",website:"",address:"Jeddah",rating:4.4,reviews:152,description:"Other supplier",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$100"},{id:"168",name:"SAMAWI Al TAMAYUZ EST.",nameArabic:"   ",category:"Plastic & Cleaning",subCategory:"",contactPerson:"",position:"",phone:"55 300 7539",email:"",website:"",address:"Kharj",rating:4.9,reviews:260,description:"Plastic & Cleaning supplier",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$150"},{id:"169",name:"Gulf Life Science For Chemicals Co. (ecore)",nameArabic:"",category:"Raw Material",subCategory:"Chemicals",contactPerson:"Mohammed Aquil Khan",position:"Sales Manager",phone:"59 081 7398",email:"aquil.khan@ecoremena.com",website:"www.ecoremena.com",address:"Riyadh",rating:4.3,reviews:464,description:"Raw Material - Chemicals",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$200"},{id:"170",name:"Gulf Air Filters Factory Co",nameArabic:"    ",category:"Spare Parts",subCategory:"Filters",contactPerson:"Mohammed Khaled Abed",position:"Business Development Manager",phone:"55 045 1855",email:"sales@gaf-co.com",website:"www.gaf-co.com",address:"Riyadh",rating:4.8,reviews:502,description:"Spare Parts - Filters",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"$300"},{id:"171",name:"Al Mousa Specialized Cables",nameArabic:"  ",category:"Cables",subCategory:"",contactPerson:"Sayed Mosad",position:"Sales Excutive",phone:"55 678 9596",email:"mscgurabi02@almousacables.com.sa",website:"www.almousacables.com.sa",address:"Riyadh",rating:4.6,reviews:290,description:"Cables supplier",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$500"},{id:"172",name:"The Technical Team",nameArabic:" ",category:"Other",subCategory:"",contactPerson:"Mohammed Magdy",position:"Sales Representative",phone:"58 044 0696",email:"mohamed851985@outlook.com",website:"",address:"Riyadh",rating:4.1,reviews:148,description:"Other supplier",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$1000"},{id:"173",name:"Al Takareer Trading Company",nameArabic:"  ",category:"Other",subCategory:"",contactPerson:"Mohammed Shamil",position:"Sales Excutive",phone:"59 421 4389",email:"takareer.trading@gmail.com",website:"",address:"Riyadh",rating:4.9,reviews:330,description:"Other supplier",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$2000"},{id:"174",name:"Dawood A.Al-Dobaie Est.",nameArabic:"     ",category:"Electrical",subCategory:"",contactPerson:"Muhtaq",position:"Sales",phone:"56 329 5366",email:"dad1000000@hotmail.com",website:"",address:"Riyadh",rating:4.3,reviews:52,description:"Electrical supplier",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$5000"},{id:"175",name:"Makarem Al-Fakhama Trading Est.",nameArabic:"   ",category:"Packing",subCategory:"",contactPerson:"Jamshaid Anjum",position:"Salesman",phone:"56 424 3225",email:"mkarmm2019@gmail.com",website:"",address:"Riyadh",rating:4.4,reviews:81,description:"Packing supplier",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"Contract"},{id:"176",name:"Scientific Gate",nameArabic:"",category:"Industrial Automation",subCategory:"",contactPerson:"Muhammad Qamar",position:"Automation Engineer",phone:"50 414 9859",email:"sales@scientificgate.com",website:"www.scientificgate.com",address:"Riyadh",rating:4.1,reviews:483,description:"Industrial Automation supplier",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$20"},{id:"177",name:"QAMAT",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Abdulkhaliq Kannas",position:"Factor Manager",phone:"54 337 7260",email:"abdulkhaliq@qamatindustry.sa",website:"",address:"Riyadh",rating:4.3,reviews:74,description:"Other supplier",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$50"},{id:"178",name:"INEX AL KHALEEJ",nameArabic:"",category:"Industrial Automation",subCategory:"",contactPerson:"AJMAL",position:"Sales Engineer",phone:"56 487 7046",email:"aimal@ainexinfra.com",website:"",address:"Riyadh",rating:4.8,reviews:29,description:"Industrial Automation supplier",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$100"},{id:"179",name:"National Adhesives Ltd.",nameArabic:"   ",category:"Raw Material",subCategory:"Glue",contactPerson:"Majdi Al Hujailah",position:"Area Manager",phone:"55 808 8684",email:"majdi.alhujailah@henkel.com",website:"www.henkel.com",address:"Riyadh",rating:4.5,reviews:397,description:"Raw Material - Glue",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$150"},{id:"180",name:"WOODSERV",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Omar El Natour",position:"Sales Associate",phone:"56 220 1622",email:"omar.natour@woodserv.com",website:"www.woodserv.com",address:"Dammam",rating:4.2,reviews:472,description:"Other supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$200"},{id:"181",name:"Baltimore Aircoil Company",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Ramy Al-Sayed",position:"Area Sales Manager",phone:"50 082 0965",email:"ralsayed@baltimoreaircoil.be",website:"www.bac.eu",address:"Riyadh",rating:4.3,reviews:437,description:"Other supplier",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$300"},{id:"182",name:"top net",nameArabic:"",category:"Technology",subCategory:"Internet Provider",contactPerson:"Ahmed Swedan",position:"Key Account Manager",phone:"59 084 4129",email:"a.swedan@top.net.sa",website:"top.net.sa",address:"Riyadh",rating:4.2,reviews:123,description:"Technology - Internet Provider",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$500"},{id:"183",name:"AWRAQUNA",nameArabic:"",category:"Trading Company",subCategory:"",contactPerson:"Mohammed Suleman Anwer",position:"Marketing Specialist",phone:"53 456 3533",email:"suleman@awraquna.com",website:"",address:"Riyadh",rating:4.1,reviews:254,description:"Trading Company supplier",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$1000"},{id:"184",name:"Arabian Plastic Industial Co. (APICO)",nameArabic:"   ",category:"Plastic",subCategory:"",contactPerson:"Hassan Safwat Khider",position:"Redional Sales Manager",phone:"56 327 8121",email:"srmc1@apico.com.sa",website:"www.apico.com.sa",address:"Jeddah",rating:4.5,reviews:228,description:"Plastic supplier",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$2000"},{id:"185",name:"Hiyayath Metal Industries CO.",nameArabic:"   ",category:"Stanless Steel",subCategory:"",contactPerson:"Ahmed Yousry Afify",position:"Technical Engineer",phone:"53 658 8036",email:"a.yousry@hidayath.com",website:"www.hidayath.com",address:"Riyadh",rating:4.1,reviews:143,description:"Stanless Steel supplier",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$5000"},{id:"186",name:"Saudi can closure co. Ltd.",nameArabic:"    ",category:"Raw Material",subCategory:"",contactPerson:"Haysam Kurdi",position:"Sales Manager",phone:"53 771 5321",email:"hkurdi@saudican.com.sa",website:"www.saudican.com.sa",address:"Riyadh",rating:5,reviews:334,description:"Raw Material supplier",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"Contract"},{id:"187",name:"Wodoh Alroya Group",nameArabic:"  ",category:"Advertising",subCategory:"",contactPerson:"Mohamed Abdelbasset",position:"Marketing Representative",phone:"50 314 1510",email:"sales011@wodo7.com",website:"www.wodo7.com",address:"Riyadh",rating:4.3,reviews:470,description:"Advertising supplier",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$20"},{id:"188",name:"Medical Business Center Co. (MBC)",nameArabic:"",category:"Laboratory Products",subCategory:"",contactPerson:"Abdeltowab Ragab",position:"Tender & Sales Specialist",phone:"53 103 6501",email:"logistics@mbc-ksa.com",website:"www.mbc-ksa.com",address:"Jeddah",rating:4.7,reviews:414,description:"Laboratory Products supplier",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$50"},{id:"189",name:"Al Taqah Trading Est",nameArabic:"  ",category:"Raw Material",subCategory:"Glue",contactPerson:"Moamen Ramdan",position:"Sales Manager CP",phone:"50 334 6953",email:"Moamen.ramadan@altaqah.com.sa",website:"",address:"Riyadh",rating:4.6,reviews:467,description:"Raw Material - Glue",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$100"},{id:"190",name:"The Stability Laboratory",nameArabic:"     ",category:"Laboratory Products",subCategory:"",contactPerson:"Abdelrahman Eljohary",position:"Sales Representatives",phone:"55 506 0389",email:"sales@thestability.com",website:"www.thestability.com",address:"Riyadh",rating:4.2,reviews:275,description:"Laboratory Products supplier",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"$150"},{id:"191",name:"Entrance For Easy Solution (EES)",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Islam Hamdy",position:"Sales Manager",phone:"56 068 1548",email:"islam.hamdy@ees.sa",website:"",address:"Riyadh",rating:4.5,reviews:216,description:"Other supplier",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$200"},{id:"192",name:"Saudi Crawford",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Abdulrahman Saif",position:"Senior Sales Excutive",phone:"50 423 9413",email:"saif@crawforddoor.com.sa",website:"",address:"Riyadh",rating:4.5,reviews:297,description:"Other supplier",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$300"},{id:"193",name:"Al Mubadala Industrial Co. (Primex)",nameArabic:"  ",category:"Other",subCategory:"",contactPerson:"Mohamed Yehia",position:"Sales Excutive",phone:"54 814 4897",email:"m.yehia@primex.sa.com",website:"",address:"Riyadh",rating:4.6,reviews:415,description:"Other supplier",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$500"},{id:"194",name:"Elite Brothers Internationl Trading Co. (BROSCO)",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Mohamed Rilwan",position:"Sales Engineer",phone:"56 896 4091",email:",.rilwan@broscogroup.com",website:"",address:"Riyadh",rating:4.7,reviews:13,description:"Other supplier",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$1000"},{id:"195",name:"Oriental Colors Printing Co.",nameArabic:"   ",category:"Other",subCategory:"",contactPerson:"Hamza Maged",position:"Sales Manager",phone:"55 384 5536",email:"hamza@ocp.com.sa",website:"www.ocp.com.sa",address:"Riyadh",rating:4.8,reviews:495,description:"Other supplier",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$2000"},{id:"196",name:"C-I Center",nameArabic:"  ",category:"Laptop Maintinance",subCategory:"",contactPerson:"Mohammed Rashel",position:"",phone:"56 132 7041",email:"",website:"",address:"Riyadh",rating:4.5,reviews:10,description:"Laptop Maintinance supplier",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$5000"},{id:"197",name:"Addamegh For Industrial Solutions",nameArabic:"  ",category:"Industrial Solutions",subCategory:"",contactPerson:"Ashfaq Khan",position:"Sales Engineer",phone:"56 985 8436",email:"ashfaq@addameghgroup.com",website:"www.addameghgroup.com",address:"Riyadh",rating:4.5,reviews:110,description:"Industrial Solutions supplier",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"Contract"},{id:"198",name:"Valco Melton General Trading FZE",nameArabic:"",category:"Systems",subCategory:"",contactPerson:"Sandeep V",position:"Sales & Service Engineer",phone:"54 465 9139",email:"sandeep@valcomelton.com",website:"www.valcomelton.com",address:"Riyadh",rating:4.7,reviews:419,description:"Systems supplier",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$20"},{id:"199",name:"Nomu Alebtekar For Industry Co. LTD.",nameArabic:"   ",category:"Other",subCategory:"",contactPerson:"Khalid Afifi",position:"Salesman",phone:"50 533 1790",email:"khalid.a@nomu-alebtekar.com",website:"www.nomu-alebtekar.com",address:"Dammam",rating:4.1,reviews:105,description:"Other supplier",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$50"},{id:"200",name:"Veolia",nameArabic:"",category:"Raw Material",subCategory:"Chemical",contactPerson:"Khalid Salamah",position:"Sales & Service Engineer",phone:"50 213 0660",email:"khalil.salamah@veolia.com",website:"www.veoliawatertechnologies.com",address:"Riyadh",rating:4.5,reviews:130,description:"Raw Material - Chemical",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$100"},{id:"201",name:"Qaser Al-Samaha Est. For Contracting",nameArabic:"   ",category:"Contracting Works",subCategory:"",contactPerson:"Hanif Safia",position:"Office Co-Ordinator",phone:"53 241 8921",email:"a.islamkhai2017@gmail.com",website:"",address:"Riyadh",rating:4.1,reviews:66,description:"Contracting Works supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$150"},{id:"202",name:"Air Liquide Alkhafrah Industrial Gases Co,",nameArabic:"    ",category:"Industrial Gases",subCategory:"",contactPerson:"Abdulaziz Sarang",position:"Sales Account Manager",phone:"53 334 9006",email:"abdulaziz.sarang@airliquide.com",website:"www.airiquide.com",address:"Riyadh",rating:4.5,reviews:126,description:"Industrial Gases supplier",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$200"},{id:"203",name:"Desalination Solutions Trade Center",nameArabic:"  ",category:"Raw Material",subCategory:"Chemical",contactPerson:"Ayman Essam",position:"Sales Engineer",phone:"50 002 3670",email:"a.essam@dstc-sa.com",website:"www.dstc-sa.com",address:"Jeddah",rating:4.7,reviews:456,description:"Raw Material - Chemical",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$300"},{id:"204",name:"Abdullah Ahmed Abdullah Balubaid & Partner For Lubricants Co.",nameArabic:"         ",category:"Raw Material",subCategory:"Grease",contactPerson:"Shoaib S. Ghouth",position:"Regional Manager",phone:"56 967 7964",email:"s.ghouth@abco.sa.com",website:"www.abco.sa.com",address:"Riyadh",rating:4.8,reviews:157,description:"Raw Material - Grease",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$500"},{id:"205",name:"Como Advanced Industrial Solutions",nameArabic:"",category:"Industrial Solutions",subCategory:"",contactPerson:"Abdulrahman Mohamed",position:"Service Engineer",phone:"50 932 2392",email:"service1ksa@comoadvanced.com",website:"www.comoadvanced.com",address:"Jordan",rating:4.7,reviews:357,description:"Industrial Solutions supplier",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$1000"},{id:"206",name:"Al Jazirah Vechicles Agencies Co.",nameArabic:"   ",category:"Cars",subCategory:"",contactPerson:"Turki Yousef",position:"Sales Consultant",phone:"54 262 6244",email:"t.abdulaziz@aljazirahford.com",website:"",address:"Riyadh",rating:4.6,reviews:108,description:"Cars supplier",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$2000"},{id:"207",name:"ProMinent Juffali FZC",nameArabic:" ",category:"Other",subCategory:"",contactPerson:"Alae Abou Mourad",position:"National Sales Manager",phone:"59 765 4000",email:"a.abumourad@prominent.com",website:"www.prominentfzc.ae",address:"Dubai",rating:4.4,reviews:40,description:"Other supplier",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$5000"},{id:"208",name:"Plastic Plus",nameArabic:"",category:"Raw Material",subCategory:"",contactPerson:"Bader Al-Qahtani",position:"Factory Manager",phone:"55 449 6197",email:"bader.alqahtani@mawaredal-hayat.com",website:"",address:"Kharj",rating:4.4,reviews:459,description:"Raw Material supplier",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"Contract"},{id:"209",name:"Anasia",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Ramy M. Megally",position:"Sales Engineer",phone:"59 557 8648",email:"ramy.mohamed@anasiasaudi.com",website:"",address:"Riyadh",rating:4.6,reviews:316,description:"Other supplier",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$20"},{id:"210",name:"Alamat Invest",nameArabic:" ",category:"Investing",subCategory:"",contactPerson:"Omar H alsuwailem",position:"Deputy General Manager",phone:"58 114 0308",email:"oalsuwailem@alamatinvest.sa",website:"",address:"Riyadh",rating:4.6,reviews:46,description:"Investing supplier",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"$50"},{id:"211",name:"Dar Al Qassem P.Press",nameArabic:"  ",category:"Printing",subCategory:"",contactPerson:"Abdul Kadir Khan",position:"Sales Representatives",phone:"53 828 5738",email:"kadar4um@gmail.com",website:"",address:"Riyadh",rating:4.1,reviews:412,description:"Printing supplier",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$100"},{id:"212",name:"Saudi Iwaa Co. For Residential Compounds",nameArabic:"    ",category:"Housing",subCategory:"",contactPerson:"Marketing & sales Management",position:"",phone:"55 527 5584",email:"alkharj@saudiiwaa.com",website:"www.saudiiwaa.com",address:"Jeddah",rating:5,reviews:159,description:"Housing supplier",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$150"},{id:"213",name:"First Pest Control",nameArabic:"",category:"Pest Control",subCategory:"",contactPerson:"Hesham Aliyan ahmed",position:"Salesman",phone:"55 912 4735",email:"",website:"",address:"Riyadh",rating:4.4,reviews:195,description:"Pest Control supplier",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$200"},{id:"214",name:"Automation Pioneers",nameArabic:"   ",category:"Automation Solutions",subCategory:"",contactPerson:"Mohamed Saad",position:"Sales Engineer",phone:"59 253 0418",email:"sales@automation-pioneers.com",website:"",address:"Riyadh",rating:4.8,reviews:470,description:"Automation Solutions supplier",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$300"},{id:"215",name:"RAVAGO",nameArabic:"  ",category:"Other",subCategory:"",contactPerson:"Ahmed Elkholy",position:"Sales Manager",phone:"56 272 7617",email:"ahmed.elkholy@ravago.com",website:"www.ravago.com",address:"Riyadh",rating:4.6,reviews:420,description:"Other supplier",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$500"},{id:"216",name:"Wide Ind. Solutions Company (Quantech)",nameArabic:"     ",category:"Industrial Solutions",subCategory:"",contactPerson:"STALIN",position:"Technical Support Enginner",phone:"56 137 5506",email:"dmm@quantechseals.com",website:"www.quantechseals.com",address:"Riyadh",rating:4.4,reviews:187,description:"Industrial Solutions supplier",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$1000"},{id:"217",name:"Power Cleaning Company For Maintenance and Cleaning",nameArabic:"     ",category:"Maintinance and Cleaning",subCategory:"",contactPerson:"Abdur Rahman",position:"",phone:"50 823 8154",email:"arahmanksa01@gmail.com",website:"",address:"Riyadh",rating:4.1,reviews:164,description:"Maintinance and Cleaning supplier",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$2000"},{id:"218",name:"Al Mawarid Shields Trading Co.",nameArabic:"   ",category:"Industrial Solutions",subCategory:"",contactPerson:"",position:"",phone:"58 244 4166",email:"sales@doroalmawarid.com",website:"",address:"Riyadh",rating:4.6,reviews:198,description:"Industrial Solutions supplier",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$5000"},{id:"219",name:"Advanced Water Systems Trading Co.",nameArabic:"    ",category:"Other",subCategory:"",contactPerson:"Ammar Mahmoud Kannas",position:"Project Sales Engineer",phone:"58 305 3656",email:"a.kannass@aws-trading.com",website:"www.aws-trading.com",address:"Jeddah",rating:4.2,reviews:195,description:"Other supplier",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"Contract"},{id:"220",name:"Motion System Trading",nameArabic:"  ",category:"Spare Parts",subCategory:"Belts",contactPerson:"Ahmad Othman",position:"",phone:"53 108 3630",email:"ahmad.othman@motion-sys.com",website:"www.motion-sys.com",address:"Riyadh",rating:4,reviews:420,description:"Spare Parts - Belts",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$20"},{id:"221",name:"Macsons Overseas Consultants",nameArabic:"      ",category:"Employment Promoters",subCategory:"",contactPerson:"Mohamed Ahmed",position:"CEO",phone:"+92 321 9431917",email:"macsons4853@gmail.com",website:"www.macsons.org",address:"Pakistan",rating:4.4,reviews:433,description:"Employment Promoters supplier",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$50"},{id:"222",name:"The Uniqe Engraving Est.",nameArabic:"   ",category:"Uniform",subCategory:"",contactPerson:"Ahmed Ansari",position:"Marketing Manager",phone:"53 098 2091",email:"",website:"",address:"Riyadh",rating:4.7,reviews:361,description:"Uniform supplier",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"2-3 days",minOrder:"$100"},{id:"223",name:"Ahmed Swied. Al-Gulaimi Con.Est.",nameArabic:"    ",category:"Contracting & Maintenance",subCategory:"",contactPerson:"Hanif Safia",position:"Tig Welder",phone:"53 241 8921",email:"hanif993377@gmail.com",website:"www.asgcont.com",address:"Riyadh",rating:5,reviews:207,description:"Contracting & Maintenance supplier",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"3-5 days",minOrder:"$150"},{id:"224",name:"Paper Home",nameArabic:"  ",category:"Other",subCategory:"",contactPerson:"Hazem Khaled",position:"Sales Excutive",phone:"53 432 6800",email:"hazem@paperhome.com.sa",website:"www.paperhome.com.sa",address:"Riyadh",rating:4.4,reviews:475,description:"Other supplier",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"1 week",minOrder:"$200"},{id:"225",name:"A;-Medan Project Company For Corrugated Carton",nameArabic:"    ",category:"Raw Material",subCategory:"Carton",contactPerson:"Mosad Ewais",position:"General Manager",phone:"54 675 0116",email:"mosad.almedan@mpfc.com.sa",website:"www.mpfc.com.sa",address:"Riyadh",rating:4,reviews:137,description:"Raw Material - Carton",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Varies",minOrder:"$300"},{id:"226",name:"Donaldson Filtration Solutions",nameArabic:"",category:"Other",subCategory:"Filters",contactPerson:"Ramzy Bouabid",position:"Area Sales Manager",phone:"+971 4 88 55 311",email:"ramzy.bouabid@donaldson.com",website:"www.donaldson.com",address:"Dubai",rating:4.8,reviews:303,description:"Other - Filters",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Scheduled",minOrder:"$500"},{id:"227",name:"Rheoserve Industrial Solutions L.L.C.",nameArabic:"",category:"Industrial Solutions",subCategory:"",contactPerson:"Mohsen Khalifa",position:"Business Development Manager",phone:"50 844 9074",email:"mohsen.khalifa@rheoserve.com",website:"www.rheoserve.com",address:"Riyadh",rating:4.3,reviews:426,description:"Industrial Solutions supplier",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Immediate",minOrder:"$1000"},{id:"228",name:"Fouz Chemical Company",nameArabic:"  ",category:"Raw Material",subCategory:"Chemical",contactPerson:"Muhammad Ahmad",position:"Sales Engineer",phone:"54 373 9935",email:"muhammad.ahmad@fouz.com.sa",website:"www.fouz.com.sa",address:"Dammam",rating:4.9,reviews:312,description:"Raw Material - Chemical",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Project-based",minOrder:"$2000"},{id:"229",name:"Pack Print",nameArabic:"",category:"Printing",subCategory:"",contactPerson:"Hassan Faaez",position:"Sales Excutive",phone:"56 908 2687",email:"faez@packprontsa.com",website:"www.packprintsa.com",address:"Riyadh",rating:4.8,reviews:337,description:"Printing supplier",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Service-based",minOrder:"$5000"},{id:"230",name:"Awraquna",nameArabic:"",category:"Papers",subCategory:"",contactPerson:"Moaaz Bin Halabi",position:"Marketing Specialist",phone:"50 350 9290",email:"tawraquna@gmail.com",website:"",address:"Riyadh",rating:4.8,reviews:319,description:"Papers supplier",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Same day",minOrder:"Contract"},{id:"231",name:"Youssuf M. Al-Dossary & Sons Holding Groups",nameArabic:"     ",category:"Other",subCategory:"",contactPerson:"Satham Hussain",position:"Purchase Excutive",phone:"55 281 4655",email:"satham@banjer.com.sa",website:"www.aldossary-group.com",address:"Dammam",rating:4.2,reviews:476,description:"Other supplier",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"1-2 days",minOrder:"$20"},{id:"232",name:"Muhsen Rafa Al-Shamri For Contracting Est.",nameArabic:"    ",category:"Other",subCategory:"",contactPerson:"Shahed",position:"Marketing Manager",phone:"50 916 6228",email:"shahedm459@gmail.com",website:"",address:"Riyadh",rating:4.3,reviews:169,description:"Other supplier",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$50"},{id:"233",name:"Delta Plastic Company Industry",nameArabic:"   ",category:"Plastic",subCategory:"",contactPerson:"Omar Abd Elfattah",position:"Sales Representatives",phone:"54 933 7119",email:"m.jllani@delta-plas.com",website:"www.alrajhygroop.ucoz.com",address:"Riyadh",rating:4.4,reviews:140,description:"Plastic supplier",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"3-5 days",minOrder:"$100"},{id:"234",name:"Golden Bearing Company",nameArabic:"  ",category:"Spare Parts",subCategory:"",contactPerson:"Alaa Saadh",position:"Sales",phone:"53 007 2717",email:"sales@goldenbearing.net",website:"www.goldenbearing.net",address:"Riyadh",rating:4.4,reviews:98,description:"Spare Parts supplier",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$150"},{id:"235",name:"Diversey",nameArabic:"",category:"Raw Material",subCategory:"Cleaning Chemicals",contactPerson:"Mohamed Elsayed",position:"Sector Sales Specialist",phone:"54 268 8878",email:"mohamed.elsayed@diversey.com",website:"www.diversey.com",address:"Riyadh",rating:4.8,reviews:26,description:"Raw Material - Cleaning Chemicals",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Varies",minOrder:"$200"},{id:"236",name:"ACT",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Jihad Ali",position:"Sales Representatives",phone:"59 154 3222",email:"sales@act-card.com",website:"www.act.com",address:"Riyadh",rating:4.7,reviews:320,description:"Other supplier",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Scheduled",minOrder:"$300"},{id:"237",name:"Alalah Company For Investment",nameArabic:"  ",category:"Spare Parts",subCategory:"Pumps",contactPerson:"Mohammed Gaber",position:"Senior Sales Engineer",phone:"55 017 4984",email:"mohamed.alyan@alalah.com.sa",website:"www.alalah.com.sa",address:"Riyadh",rating:4.8,reviews:358,description:"Spare Parts - Pumps",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"$500"},{id:"238",name:"SIAD Macchine Impianti",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Mohanan Parambil",position:"GCC Area Manager",phone:"+971 50 6173233",email:"mohanan_parambil@e.siad.eu",website:"www.siadmi.com",address:"",rating:4.2,reviews:314,description:"Other supplier",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Project-based",minOrder:"$1000"},{id:"239",name:"Al Behar Group",nameArabic:"",category:"Other",subCategory:"",contactPerson:"Bassel Hamamdeh",position:"Sales Manager",phone:"+932 6 58 11799",email:"b.hamamdeh@al-behar.com",website:"",address:"",rating:4.7,reviews:95,description:"Other supplier",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Service-based",minOrder:"$2000"}],O7=Te.createContext(void 0),pte=()=>{const i=Te.useContext(O7);if(!i)throw new Error("useStore must be used within a StoreProvider");return i},dee=[{id:"u1",name:"Max",role:"Admin",avatar:"M",color:"bg-blue-500",hourlyRate:150,weeklyCapacity:40},{id:"u2",name:"Sarah",role:"Manager",avatar:"S",color:"bg-green-500",hourlyRate:120,weeklyCapacity:40}],hee=[{id:"t1",title:"Setup Infrastructure",status:lm.InProgress,priority:b_.High,assigneeId:"u1",estimatedHours:20,actualHours:5,workflowTriggers:{onComplete:"t2"}},{id:"t2",title:"Design Dashboard",status:lm.Todo,priority:b_.Normal,assigneeId:"u2",estimatedHours:15}],fee=[{id:"p1",name:"Alpha Launch",status:"Active",budget:5e4,spent:12e3,startDate:new Date,deadline:new Date(Date.now()+864e5*30),managerId:"u1",teamIds:[],health:"Good"}],pee=uee.map(i=>({...i,reliabilityScore:95,contractStatus:"Active",paymentTerms:"Net30"})),mee=({children:i})=>{const[e,t]=Te.useState(()=>{const O=localStorage.getItem("ncs_users");return O?JSON.parse(O):dee}),[n,a]=Te.useState(()=>{const O=localStorage.getItem("ncs_tasks");return O?JSON.parse(O):hee}),[r,o]=Te.useState(()=>{const O=localStorage.getItem("ncs_projects");return O?JSON.parse(O):fee}),[l,u]=Te.useState(()=>{const O=localStorage.getItem("ncs_vendors");return O?JSON.parse(O):pee}),[d,m]=Te.useState([]),[y,x]=Te.useState(()=>{const O=localStorage.getItem("ncs_pos");return O?JSON.parse(O):[]});Te.useEffect(()=>localStorage.setItem("ncs_users",JSON.stringify(e)),[e]),Te.useEffect(()=>localStorage.setItem("ncs_tasks",JSON.stringify(n)),[n]),Te.useEffect(()=>localStorage.setItem("ncs_projects",JSON.stringify(r)),[r]),Te.useEffect(()=>localStorage.setItem("ncs_vendors",JSON.stringify(l)),[l]),Te.useEffect(()=>localStorage.setItem("ncs_pos",JSON.stringify(y)),[y]);const g=O=>t(z=>[...z,O]),_=(O,z)=>t(q=>q.map(I=>I.id===O?{...I,...z}:I)),S=O=>a(z=>[...z,O]),M=(O,z)=>{a(q=>{var U;const I=q.map(oe=>oe.id===O?{...oe,...z}:oe),$=I.find(oe=>oe.id===O);if($&&($.status===lm.Complete||z.status==="Done")&&((U=$.workflowTriggers)!=null&&U.onComplete)){const oe=$.workflowTriggers.onComplete;return I.map(J=>J.id===oe?{...J,status:lm.InProgress}:J)}return I})},b=O=>o(z=>[...z,O]),E=(O,z)=>o(q=>q.map(I=>I.id===O?{...I,...z}:I)),C=O=>u(z=>[...z,O]),D=(O,z)=>u(q=>q.map(I=>I.id===O?{...I,...z}:I)),k=O=>x(z=>[...z,O]),H=(O,z)=>x(q=>q.map(I=>I.id===O?{...I,...z}:I)),G=O=>{const z=e.find(q=>q.id===O);return z?L7.calculateUserLoad(z,n):0},X=O=>{const z=r.find(I=>I.id===O);if(!z)return 0;const q=n.filter(I=>I.projectId===O);return D7.calculateProjectBurn(z,q,e)};return A.jsx(O7.Provider,{value:{users:e,tasks:n,projects:r,vendors:l,inventory:d,purchaseOrders:y,addUser:g,updateUser:_,addTask:S,updateTask:M,addProject:b,updateProject:E,addVendor:C,updateVendor:D,addPurchaseOrder:k,updatePurchaseOrder:H,getUserLoad:G,getProjectBurnRate:X},children:i})},gee=Te.lazy(()=>Qn(()=>import("./DepartmentAnalyticsPage-DesSiSgO.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),yee=Te.lazy(()=>Qn(()=>import("./TableBuilder-CjpBvzyO.js"),__vite__mapDeps([7,2,8,9]))),xee=Te.lazy(()=>Qn(()=>import("./TaskListView-Ccm04f_H.js"),__vite__mapDeps([10,11,12,13,8,14,9,15,4,16,17,18,19,20]))),vee=Te.lazy(()=>Qn(()=>import("./TaskBoardView-B6c8ojm6.js"),__vite__mapDeps([21,18,22,20]))),bee=Te.lazy(()=>Qn(()=>import("./CalendarView-C78UrDqy.js"),__vite__mapDeps([23,20]))),_ee=Te.lazy(()=>Qn(()=>import("./BrainModal-D8FPvWmk.js"),__vite__mapDeps([24,25,26]))),wee=Te.lazy(()=>Qn(()=>import("./AddCardsPanel-CjJQso_t.js"),__vite__mapDeps([27,28,29]))),See=Te.lazy(()=>Qn(()=>import("./TemplateModal-CVtTJ-vl.js"),__vite__mapDeps([30,31]))),Aee=Te.lazy(()=>Qn(()=>import("./ReportViewPage-BLi4q0Cy.js"),__vite__mapDeps([32,31,5,6]))),Mee=Te.lazy(()=>Qn(()=>import("./HomePage-BRdV5P-7.js"),__vite__mapDeps([33,6,17,9]))),Tee=Te.lazy(()=>Qn(()=>import("./InboxPage-Dk3xnAJr.js"),__vite__mapDeps([34,35,36,15,26]))),Eee=Te.lazy(()=>Qn(()=>import("./DiscussionPage-CtXO2Pya.js"),__vite__mapDeps([37,35,13,38,15,12,26]))),Cee=Te.lazy(()=>Qn(()=>import("./SpacePage-pAIt3Dqk.js"),[])),Nee=Te.lazy(()=>Qn(()=>import("./SpaceViewPage-C1n_ZDjK.js"),__vite__mapDeps([39,40,25,11,12,13,8,14,9,15,4,16,17,41,42,43,38,29,20,36,18,19,44,3]))),Ree=Te.lazy(()=>Qn(()=>import("./TowerGamePage-B5DmpZBD.js"),[])),Lee=Te.lazy(()=>Qn(()=>import("./RiverRaidPage-Cxomlgdp.js"),[])),Dee=Te.lazy(()=>Qn(()=>import("./SolitairePage-Bc8BIEci.js"),[])),Oee=Te.lazy(()=>Qn(()=>import("./MindMapPage-DvVeyKcv.js"),__vite__mapDeps([45,4,8]))),Pee=Te.lazy(()=>Qn(()=>import("./GoalsPage-mbezJUvK.js"),__vite__mapDeps([46,47,43]))),kee=Te.lazy(()=>Qn(()=>import("./OverviewPage-sTIoQbDO.js"),__vite__mapDeps([48,47]))),Iee=Te.lazy(()=>Qn(()=>import("./RemindersPage-DOPzmWCQ.js"),__vite__mapDeps([49,42,16,9,14,20]))),Uee=Te.lazy(()=>Qn(()=>import("./TasksPage-BXdrBUYu.js"),__vite__mapDeps([50,40,25,11,12,13,8,14,9,15,4,16,17,41,42,43,38,29,20,36,22,3]))),zee=Te.lazy(()=>Qn(()=>import("./VaultPage-CKyptH9T.js"),__vite__mapDeps([51,16,41,28]))),Bee=Te.lazy(()=>Qn(()=>import("./LocalMarketplacePage-CQFlQvHZ.js"),__vite__mapDeps([52,16,17,13]))),jee=Te.lazy(()=>Qn(()=>import("./SettingsPage-i1Kw_i8Q.js"),__vite__mapDeps([53,44]))),Fee=Te.lazy(()=>Qn(()=>import("./TeamPage-BMlZpkkV.js"),__vite__mapDeps([54,16])).then(i=>({default:i.TeamPage}))),Vee=Te.lazy(()=>Qn(()=>import("./MaintenancePage-DWXXkpYc.js"),__vite__mapDeps([55,1,2,3,4,5,6]))),Hee=Te.lazy(()=>Qn(()=>import("./ProductionPage-JFJEoepD.js"),__vite__mapDeps([56,0,1,2,3,4,5,6]))),qee=Te.lazy(()=>Qn(()=>import("./QualityPage-DNPlRzSl.js"),__vite__mapDeps([57,0,1,2,3,4,5,6]))),Gee=Te.lazy(()=>Qn(()=>import("./SalesPage-CxF5m6r6.js"),__vite__mapDeps([58,0,1,2,3,4,5,6]))),Wee=Te.lazy(()=>Qn(()=>import("./FinancePage-BzvcBj1K.js"),__vite__mapDeps([59,0,1,2,3,4,5,6]))),Xee=Te.lazy(()=>Qn(()=>import("./ITPage-By7yRgON.js"),__vite__mapDeps([60,0,1,2,3,4,5,6]))),Yee=Te.lazy(()=>Qn(()=>import("./HRPage-Crx0z0wD.js"),__vite__mapDeps([61,0,1,2,3,4,5,6]))),$ee=Te.lazy(()=>Qn(()=>import("./MarketingPage-Bb_NiRx_.js"),__vite__mapDeps([62,0,1,2,3,4,5,6]))),Kee=Te.lazy(()=>Qn(()=>import("./ProcurementPage-CLnMlNnY.js"),__vite__mapDeps([63,0,1,2,3,4,5,6]))),Zee=Te.lazy(()=>Qn(()=>import("./WarehousePage-BaxBJ1Cw.js"),__vite__mapDeps([64,0,1,2,3,4,5,6]))),Jee=Te.lazy(()=>Qn(()=>import("./ShippingPage-BAzijNaG.js"),__vite__mapDeps([65,0,1,2,3,4,5,6]))),Qee=Te.lazy(()=>Qn(()=>import("./PlanningPage-C3mrHkG9.js"),__vite__mapDeps([66,0,1,2,3,4,5,6]))),ete=Te.lazy(()=>Qn(()=>import("./FleetPage-BRcezV3G.js"),__vite__mapDeps([67,0,1,2,3,4,5,6]))),tte=Te.lazy(()=>Qn(()=>import("./VendorsPage-pKz4fEJc.js"),__vite__mapDeps([68,0,1,2,3,4,5,6,16]))),nte=Te.lazy(()=>Qn(()=>import("./SupplyChainMap-DIh8cO9g.js"),[]).then(i=>({default:i.SupplyChainMap}))),ite=({icon:i,title:e,description:t})=>A.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[A.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:Mh.isValidElement(i)?Mh.cloneElement(i,{size:64}):i}),A.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e}),A.jsx("p",{className:"text-gray-500 max-w-md text-center",children:t})]}),ate=()=>{const[i,e]=Te.useState(null),[t,n]=Te.useState("landing"),[a,r]=Te.useState(()=>{if(typeof window>"u")return{};try{const ge=localStorage.getItem("page-tabs");return ge?JSON.parse(ge):{}}catch{return{}}}),[o,l]=Te.useState(()=>{if(typeof window>"u")return{};try{const ge=localStorage.getItem("active-tab-by-page");return ge?JSON.parse(ge):{}}catch{return{}}}),{activePage:u,setActivePage:d,currentView:m,setCurrentView:y,getPageTitle:x,isImmersive:g}=my(),{isAddCardsOpen:_,setAddCardsOpen:S,isBrainOpen:M,setBrainOpen:b,isTableBuilderOpen:E,setTableBuilderOpen:C,isTemplateModalOpen:D,setTemplateModalOpen:k,appStyle:H,setAppStyle:G}=Tw(),{tasks:X,isLoading:O,handleStatusChange:z,handleUpdateTask:q,handleReorder:I,handleQuickCreate:$}=oee(t,u),{homeCards:U,handleAddHomeCard:oe,handleUpdateHomeCard:J,handleRemoveHomeCard:ae,handleRemoveHomeCardByType:te}=lee(),{pageWidgets:le,setPageWidgets:Me,onUpdateWidget:Z}=cee(t),{showToast:V}=hg();Te.useEffect(()=>{const ge=Pf.getCurrentUser();ge&&(e(ge),n("app"))},[]),Te.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("page-tabs",JSON.stringify(a))}catch(ge){console.warn("Failed to persist tabs",ge)}},[a]),Te.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("active-tab-by-page",JSON.stringify(o))}catch(ge){console.warn("Failed to persist active tab",ge)}},[o]),Te.useEffect(()=>{a[u]&&l(ge=>{var ee,Ae;if(ge[u]&&((ee=a[u])!=null&&ee.some(je=>je.id===ge[u])))return ge;const se=(Ae=a[u][0])==null?void 0:Ae.id;return se?{...ge,[u]:se}:ge})},[u,a]);const re=ge=>(a[ge]||[]).filter(se=>se.id!=="main"),pe=(ge=>{var Ae;const se=re(ge),ee=o[ge];return ee&&se.some(je=>je.id===ee)?ee:(Ae=se[0])==null?void 0:Ae.id})(u),me=pe?`${u}::${pe}`:u,Ee=pe?le[me]||[]:le[u]||[],Ue=ge=>{Z(pe?me:u,ge)},ze=()=>pe?le[me]||[]:le[u]||[],We=ge=>{const se=ze();Ue(se.filter(ee=>ee.id!==ge))},at=(ge,se)=>{const ee=ze();Ue(ee.map(Ae=>Ae.id===ge?{...Ae,...se}:Ae))},Ct=ge=>l(se=>({...se,[u]:ge})),gt=ge=>{r(se=>{const ee=re(u).filter(je=>je.id!==ge);return{...se,[u]:ee}}),l(se=>{var ee;if(se[u]===ge){const Ae=(ee=re(u).filter(Ge=>Ge.id!==ge)[0])==null?void 0:ee.id,je={...se};return Ae?je[u]=Ae:delete je[u],je}return se}),Z(`${u}::${ge}`,[]),Me(se=>{const ee={...se};return delete ee[`${u}::${ge}`],ee})},W=()=>{const ee=`Dashboard ${re(u).length+1}`,Ae=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,je={id:Ae,name:ee};r(Ge=>{const Be=(Ge[u]||[]).filter(mt=>mt.id!=="main");return{...Ge,[u]:[...Be,je]}}),l(Ge=>({...Ge,[u]:Ae})),Z(`${u}::${Ae}`,[]),V(`Created "${ee}"`,"success")},j=Te.useMemo(()=>{switch(u){case"inbox":case"home":return[];case"backend":return X.filter(ge=>ge.tags.includes("Backend")||ge.tags.includes("API")||ge.tags.includes("Auth"));case"sprints":return X.filter(ge=>ge.tags.includes("Feature")||ge.tags.includes("Bug"));case"frontend":return X;default:return X}},[X,u]),[xe,de]=Te.useState(()=>{const ge=localStorage.getItem("isSystemGenerated");return ge?JSON.parse(ge):!1});Te.useEffect(()=>{localStorage.setItem("isSystemGenerated",JSON.stringify(xe))},[xe]);const ue=Te.useMemo(()=>({activePage:u,allPageWidgets:le,widgets:Ee,onDeleteWidget:We,onUpdateWidget:at}),[u,le,Ee,We,at]),ie=Te.useCallback(ge=>{e(ge),n("loading"),setTimeout(()=>{n("app"),V(`Welcome back, ${ge.name}!`,"success")},2500)},[V]),Re=Te.useCallback(()=>{Pf.logout(),e(null),n("landing"),V("Logged out successfully","info")},[V]),Pe=Te.useCallback(()=>{V("Account activated successfully!","success")},[V]);return t==="landing"?A.jsx(ree,{onLoginClick:()=>n("login")}):t==="login"?A.jsx(see,{onLoginSuccess:ie,onBack:()=>n("landing")}):t==="loading"?A.jsx(tE,{}):A.jsxs("div",{className:"flex flex-col h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900 relative",children:[H==="main"&&A.jsx(eE,{user:i,onLogout:Re,onActivate:Pe}),H==="floating"&&A.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 shadow-2xl pointer-events-auto",children:A.jsx(eE,{user:i,onLogout:Re,onActivate:Pe,isSystemGenerated:xe,className:"rounded-2xl border border-gray-700/50 backdrop-blur-md bg-clickup-sidebar/90"})}),A.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[H==="main"&&A.jsx(n9,{onLogout:Re,user:i}),A.jsxs("div",{className:`flex flex-col flex-1 min-w-0 bg-white relative ${H==="floating"?"pt-24":""}`,children:[H==="floating"&&!xe&&A.jsx("div",{className:"absolute inset-0 bg-[#F8F9FC] z-40 flex items-center justify-center",children:A.jsx(jV,{onGenerate:()=>de(!0)})}),A.jsxs(Te.Suspense,{fallback:A.jsx(tE,{}),children:[(()=>{if(H==="floating"&&!xe)return null;const ge=u.startsWith("SPACE-");if(g||u==="inbox"||u==="discussion"||u.includes("mind-map")||u==="marketplace/local"||u==="tower-game"||u==="river-raid"||u==="baloot"||u==="solitaire"||ge||u==="settings")return null;const se=re(u).find(Ae=>Ae.id===pe),ee=se?se.name:void 0;return A.jsx(A.Fragment,{children:u.startsWith("operations/")||u.startsWith("business/")||u.startsWith("support/")||u.startsWith("supply-chain/")||u.startsWith("smart-tools/")?A.jsx(zV,{activeTabName:ee,onInsert:(Ae,je)=>{if(Ae==="custom-table"&&C(!0),Ae==="layout-clear"){Ue([]),r(Ge=>{const Be={...Ge};return delete Be[u],Be}),l(Ge=>{const Be={...Ge};return delete Be[u],Be}),V("Cleared layout and dashboards","success");return}if(Ae==="dashboard"){if(u.includes("/data"))return;W();return}if(Ae==="table-template"&&je){const Ge=je,Be={type:"custom-table",id:Date.now().toString(),title:Ge.title,showBorder:!0,columns:Ge.columns.map(yt=>({...yt,width:yt.width||150})),rows:[]},mt=ze();Ue([...mt,Be]);return}if(Ae==="requests-table"){const Ge={type:"custom-table",id:Date.now().toString(),title:"Requests Table",showBorder:!0,columns:[{id:"c1",name:"No",type:"number",width:60},{id:"c2",name:"PR Number",type:"text",width:120},{id:"c3",name:"Item Code",type:"text",width:120},{id:"c4",name:"Item Description",type:"text",width:200},{id:"c5",name:"Quantity",type:"number",width:100},{id:"c6",name:"UOM",type:"text",width:80},{id:"c7",name:"Date Requested",type:"date",width:150},{id:"c8",name:"Warehouse",type:"text",width:150},{id:"c9",name:"Department Requested",type:"text",width:180},{id:"c10",name:"Priority",type:"text",width:120},{id:"c11",name:"Approval Status",type:"text",width:140},{id:"c12",name:"PR Status",type:"text",width:120}],rows:[]},Be=ze();Ue([...Be,Ge]);return}if(Ae==="dashboard-template"&&je){const{moduleName:Ge,reports:Be}=je,mt=`tab-${Date.now()}`,yt={id:mt,name:Ge};r(jt=>{const Ke=re(u);return{...jt,[u]:[...Ke,yt]}}),l(jt=>({...jt,[u]:mt}));const Mt=Be.map((jt,Ke)=>{const st=jt["Chart Type (ECharts)"]||"Bar Chart";let Dt="chart",De="bar";st.includes("KPI")?Dt="kpi-card":st.includes("Bar")?De="bar":st.includes("Line")?De="line":st.includes("Pie")||st.includes("Donut")?De="pie":st.includes("Gauge")?De="gauge":st.includes("Funnel")?De="funnel":st.includes("Radar")?De="radar":st.includes("Scatter")?De="scatter":st.includes("Heatmap")?De="heatmap":st.includes("Treemap")?De="treemap":st.includes("Map")?De="map":st.includes("Table")&&(Dt="custom-table");let qe=null,St={},Ne=jt.logic,xt=0,Tt=0;const ot=Object.values(le).flat().filter(Xt=>Xt.type==="custom-table");if(Ne){if(Ne.sources&&Array.isArray(Ne.sources))Tt=Ne.sources.length,Ne.sources.forEach((Xt,wn)=>{if(Xt.table_keywords){const xn=ot.find($t=>Xt.table_keywords.some(Fi=>$t.title.toLowerCase().includes(Fi.toLowerCase())));xn&&(St[`source_${wn}`]=xn.id,qe||(qe=xn.id),xt++)}});else if(Ne.source&&Ne.source.table_keywords){Tt=1;const Xt=Ne.source.table_keywords,wn=ot.find(xn=>Xt.some($t=>xn.title.toLowerCase().includes($t.toLowerCase())));wn&&(qe=wn.id,St.primary=wn.id,xt=1)}}const dt=e6(jt),qt={id:Date.now().toString()+Ke,title:jt["Report Title"],subtext:jt.benefit||(xt>0?`Connected (${xt}/${Tt})`:"Connect to data source"),sourceTableId:qe,sourceTableIds:St,type:Dt,chartType:De,data:De==="heatmap"?{xLabels:["Financial","Operational","Geopolitical","Legal","Reputational"],yLabels:["Low","Medium","High","Critical"],values:Array.from({length:20},(Xt,wn)=>[wn%5,Math.floor(wn/5),Math.floor(Math.random()*100)])}:De==="treemap"?{name:"Root",children:[{name:"Category A",value:100,children:[{name:"Item A1",value:40},{name:"Item A2",value:60}]},{name:"Category B",value:80,children:[{name:"Item B1",value:30},{name:"Item B2",value:50}]},{name:"Category C",value:60,children:[{name:"Item C1",value:20},{name:"Item C2",value:40}]}]}:De==="map"?{data:[{name:"USA",value:100},{name:"China",value:80},{name:"Germany",value:60},{name:"Japan",value:40},{name:"India",value:20}]}:dt,logic:Ne,layout:{i:"",x:Ke%3*4,y:Math.floor(Ke/3)*4,w:4,h:4}};return Dt==="kpi-card"?(qt.icon="Activity",qt.value=dt.value,qt.trend={value:dt.trendValue,direction:dt.trend}):Dt==="custom-table"&&(qt.showBorder=!0,qt.columns=[{id:"c1",name:"Column 1",type:"text",width:150},{id:"c2",name:"Column 2",type:"number",width:100}],qt.rows=[]),qt});Z(`${u}::${mt}`,Mt),V(`Generated ${Mt.length} widgets for ${Ge}`,"success");return}if(Ae==="report-template"&&je){const Ge=je,Be=Ge["Chart Type (ECharts)"]||"Bar Chart";let mt="chart",yt="bar";Be.includes("KPI")?mt="kpi-card":Be.includes("Bar")?yt="bar":Be.includes("Line")?yt="line":Be.includes("Pie")||Be.includes("Donut")?yt="pie":Be.includes("Gauge")?yt="gauge":Be.includes("Funnel")?yt="funnel":Be.includes("Radar")?yt="radar":Be.includes("Scatter")?yt="scatter":Be.includes("Heatmap")?yt="heatmap":Be.includes("Treemap")?yt="treemap":Be.includes("Map")?yt="map":Be.includes("Table")&&(mt="custom-table");let Mt=null,jt={},Ke=Ge.logic,st=0,Dt=0;const qe=Object.values(le).flat().filter(Tt=>Tt.type==="custom-table");if(Ke){if(Ke.sources&&Array.isArray(Ke.sources))Dt=Ke.sources.length,Ke.sources.forEach((Tt,bt)=>{if(Tt.table_keywords){const ot=qe.find(dt=>Tt.table_keywords.some(qt=>dt.title.toLowerCase().includes(qt.toLowerCase())));ot&&(jt[`source_${bt}`]=ot.id,Mt||(Mt=ot.id),st++)}}),st>0&&V(`Connected to ${st}/${Dt} sources`,"success");else if(Ke.source&&Ke.source.table_keywords){Dt=1;const Tt=Ke.source.table_keywords,bt=qe.find(ot=>Tt.some(dt=>ot.title.toLowerCase().includes(dt.toLowerCase())));bt&&(Mt=bt.id,jt.primary=bt.id,st=1,V(`Auto-connected to ${bt.title}`,"success"))}}const St={id:Date.now().toString(),title:Ge["Report Title"],subtext:Ge.benefit||(st>0?`Connected (${st}/${Dt})`:"Connect to data source"),sourceTableId:Mt,config:{reportId:Ge.id,category:Ge["Category 1 (Detailed)"],module:Ge["Module (Category 2)"],smartLogic:Ke,sourceTableIds:jt}},Ne=e6(Ge);mt==="kpi-card"?(St.type="kpi-card",St.value=Ne.value,St.icon="Activity",St.trend={value:Ne.trendValue,direction:Ne.trend}):mt==="chart"&&(St.type="chart",St.chartType=yt,St.data=yt==="heatmap"?{xLabels:["Financial","Operational","Geopolitical","Legal","Reputational"],yLabels:["Low","Medium","High","Critical"],values:Array.from({length:20},(Tt,bt)=>[bt%5,Math.floor(bt/5),Math.floor(Math.random()*100)])}:yt==="treemap"?{name:"Root",children:[{name:"Category A",value:100,children:[{name:"Item A1",value:40},{name:"Item A2",value:60}]},{name:"Category B",value:80,children:[{name:"Item B1",value:30},{name:"Item B2",value:50}]},{name:"Category C",value:60,children:[{name:"Item C1",value:20},{name:"Item C2",value:40}]}]}:yt==="map"?{data:[{name:"USA",value:100},{name:"China",value:80},{name:"Germany",value:60},{name:"Japan",value:40},{name:"India",value:20}]}:Ne);const xt=ze();Ue([...xt,St]);return}if(Ae.startsWith("kpi-card")){const Ge=parseInt(Ae.split("-")[2]||"1",10),Be=Array.from({length:Ge}).map(()=>({type:"kpi-card",id:Date.now().toString()+Math.random().toString(36).substr(2,9),title:"New KPI",value:null,icon:"Activity",trend:null,subtext:"Connect to data source"})),mt=ze();Ue([...mt,...Be])}if(Ae.startsWith("chart")){const Ge=Ae.replace("chart-","")||"bar",Be={type:"chart",id:Date.now().toString(),title:`New ${Ge.charAt(0).toUpperCase()+Ge.slice(1)} Chart`,chartType:Ge,data:null,sourceTableId:null},mt=ze();Ue([...mt,Be])}if(Ae==="layout-4kpi-1chart"){const Ge=Date.now(),Be=`layout-${Ge}`,mt=[{type:"kpi-card",id:`${Ge}-1`,title:"KPI 1",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:Be,layoutPosition:1},{type:"kpi-card",id:`${Ge}-2`,title:"KPI 2",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:Be,layoutPosition:2},{type:"kpi-card",id:`${Ge}-3`,title:"KPI 3",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:Be,layoutPosition:3},{type:"kpi-card",id:`${Ge}-4`,title:"KPI 4",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:Be,layoutPosition:4},{type:"chart",id:`${Ge}-5`,title:"Main Chart",chartType:"bar",data:null,sourceTableId:null,layoutGroup:Be,layoutPosition:5}],yt=ze();Ue([...yt,...mt])}}}):A.jsx(a9,{})})})(),A.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[(u.startsWith("operations/")||u.startsWith("business/")||u.startsWith("support/")||u.startsWith("supply-chain/")||u.startsWith("smart-tools/"))&&!u.includes("/data")&&A.jsx("div",{className:"h-12 bg-white/80 backdrop-blur-md border-b border-gray-200/60 flex items-center px-6 gap-2 flex-shrink-0 overflow-x-auto no-scrollbar",children:re(u).length===0?A.jsxs("div",{className:"flex items-center text-sm text-gray-400 italic",children:[A.jsx(jv,{size:14,className:"mr-2"}),"Insert a dashboard from the menu to get started..."]}):re(u).map(ge=>{const se=ge.id===pe;return A.jsxs("div",{className:`
                          group flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all cursor-pointer border
                          ${se?"bg-black text-white border-black shadow-sm":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900"}
                        `,onClick:()=>Ct(ge.id),children:[A.jsx("span",{className:"truncate max-w-[150px]",children:ge.name}),A.jsx("button",{onClick:ee=>{ee.stopPropagation(),gt(ge.id)},className:`
                            p-0.5 rounded-md transition-all
                            ${se?"text-gray-400 hover:bg-gray-800 hover:text-white":"text-gray-300 opacity-0 group-hover:opacity-100 hover:bg-red-50 hover:text-red-500"}
                          `,title:"Close tab",children:A.jsx(Ph,{size:13})})]},ge.id)})}),u==="inbox"&&A.jsx(Tee,{}),u==="settings"&&A.jsx(jee,{onUpdateUser:async ge=>{const se=await Pf.updateCurrentUser(ge);se&&e(se)}}),u==="discussion"&&A.jsx(Eee,{}),u==="marketplace/local"&&A.jsx(Bee,{}),u==="home"&&A.jsx(Mee,{cards:U,onUpdateCard:J,onRemoveCard:ae,onOpenCustomize:()=>S(!0),userName:i==null?void 0:i.name}),u==="overview"&&A.jsx(kee,{}),u==="reminders"&&A.jsx(Iee,{}),u==="tasks"&&A.jsx(Uee,{}),u==="teams"&&A.jsx(Fee,{}),u==="vault"&&A.jsx(zee,{}),u==="goals"&&A.jsx(Pee,{}),(u==="mind-map"||u==="smart-tools/mind-map")&&A.jsx(Oee,{}),u==="solitaire"&&A.jsx(Dee,{}),u==="smart-tools/dashboard"&&A.jsx(gee,{...ue,placeholderTitle:"Smart Dashboard",placeholderDescription:"Your central hub for intelligence.",placeholderIcon:A.jsx(jv,{})}),u==="space"&&A.jsx(Cee,{}),u==="tower-game"&&A.jsx(Ree,{}),u==="river-raid"&&A.jsx(Lee,{}),u==="cosmos"&&A.jsx(nte,{}),u.startsWith("SPACE-")&&A.jsx(Nee,{spaceName:u.replace("SPACE-","Space "),spaceId:u}),u.startsWith("report-")&&A.jsx(Aee,{reportId:u.replace("report-","")}),u.startsWith("operations/maintenance")&&A.jsx(Vee,{...ue}),u.startsWith("operations/production")&&A.jsx(Hee,{...ue}),u.startsWith("operations/quality")&&A.jsx(qee,{...ue}),u.startsWith("business/sales")&&A.jsx(Gee,{...ue}),u.startsWith("business/finance")&&A.jsx(Wee,{...ue}),u.startsWith("support/it")&&A.jsx(Xee,{...ue}),u.startsWith("support/hr")&&A.jsx(Yee,{...ue}),u.startsWith("support/marketing")&&A.jsx($ee,{...ue}),u.startsWith("supply-chain/procurement")&&A.jsx(Kee,{...ue}),u.startsWith("supply-chain/warehouse")&&A.jsx(Zee,{...ue}),u.startsWith("supply-chain/shipping")&&A.jsx(Jee,{...ue}),u.startsWith("supply-chain/planning")&&A.jsx(Qee,{...ue}),u.startsWith("supply-chain/fleet")&&A.jsx(ete,{...ue}),u.startsWith("supply-chain/vendors")&&A.jsx(tte,{...ue}),(u.startsWith("operations/")||u.startsWith("business/")||u.startsWith("support/")||u.startsWith("supply-chain/"))&&!["operations/maintenance","operations/production","operations/quality","business/sales","business/finance","support/it","support/hr","support/marketing","supply-chain/procurement","supply-chain/warehouse","supply-chain/shipping","supply-chain/planning","supply-chain/fleet","supply-chain/vendors"].some(ge=>u.startsWith(ge))&&A.jsx(ite,{icon:A.jsx(zf,{}),title:x(),description:"This module is currently being built."}),(()=>{const ge=u.startsWith("SPACE-");return!["overview","goals","inbox","discussion","home","mind-map","space","ocean","reminders","tasks","vault","teams"].includes(u)&&!u.startsWith("operations/")&&!u.startsWith("business/")&&!u.startsWith("support/")&&!u.startsWith("supply-chain/")&&!u.startsWith("marketplace/")&&!u.startsWith("smart-tools/")&&!ge?A.jsxs(A.Fragment,{children:[m==="list"&&A.jsx(xee,{tasks:j,isLoading:O,onStatusChange:z,onAddTask:$,onReorder:I,onUpdateTask:q}),m==="board"&&A.jsx(vee,{tasks:j,isLoading:O,onAddTask:$,onStatusChange:z}),m==="calendar"&&A.jsx(bee,{tasks:j,isLoading:O,onAddTask:$})]}):null})(),_&&A.jsx(wee,{isOpen:_,onClose:()=>S(!1),onAddCard:oe,onRemoveCard:te,addedCardTypes:U.map(ge=>ge.typeId)})]}),!(!["tower-game","river-raid","baloot","solitaire","marketplace/local"].includes(u)&&!u.startsWith("SPACE-"))||u==="teams"?null:A.jsx(BV,{leftContent:A.jsx("div",{className:"flex items-center",children:A.jsx("span",{className:"font-medium text-gray-600",children:"Workspace Active"})})})]})]})]}),A.jsx(R7,{children:A.jsxs(Te.Suspense,{fallback:null,children:[A.jsx(_ee,{isOpen:M,onClose:()=>b(!1),tasks:X}),A.jsx(yee,{isOpen:E,onClose:()=>C(!1),onAdd:ge=>{const se={type:"custom-table",id:Date.now().toString(),...ge},ee=ze();Ue([...ee,se])}}),A.jsx(See,{isOpen:D,onClose:()=>k(!1)})]})})]})},rte=()=>A.jsx(R7,{children:A.jsx(Ik,{children:A.jsx(mee,{children:A.jsx(e9,{children:A.jsx(i9,{children:A.jsx(ate,{})})})})})}),P7=document.getElementById("root");if(!P7)throw new Error("Could not find root element to mount to");const ste=ID.createRoot(P7);ste.render(A.jsx(Mh.StrictMode,{children:A.jsx(rte,{})}));export{ww as $,j1 as A,s6 as B,ug as C,om as D,$O as E,Mc as F,Z2 as G,mP as H,Eh as I,my as J,KD as K,EP as L,Mw as M,vP as N,sm as O,Of as P,Df as Q,Mh as R,lm as S,vk as T,Tk as U,j0 as V,Th as W,Ph as X,fy as Y,Bf as Z,H0 as _,dl as a,Q2 as a$,rk as a0,py as a1,v6 as a2,Nk as a3,BO as a4,rn as a5,w7 as a6,e2 as a7,q0 as a8,HO as a9,W0 as aA,E6 as aB,D7 as aC,L7 as aD,fO as aE,$2 as aF,FO as aG,Pf as aH,lk as aI,x1 as aJ,LP as aK,OP as aL,Y2 as aM,dk as aN,oO as aO,GP as aP,aP as aQ,V0 as aR,QO as aS,OO as aT,l6 as aU,r6 as aV,uee as aW,Jk as aX,SP as aY,Uf as aZ,BV as a_,HQ as aa,eee as ab,iee as ac,yG as ad,ZT as ae,pte as af,Fv as ag,Aw as ah,A6 as ai,dg as aj,ek as ak,p6 as al,ZO as am,Sw as an,jv as ao,f6 as ap,oq as aq,zf as ar,Gp as as,d6 as at,If as au,fx as av,F0 as aw,_n as ax,S6 as ay,Y0 as az,lte as b,jz as b0,ur as b1,Uo as b2,Kw as b3,Ow as b4,X0 as b5,nS as b6,MN as b7,Ff as b8,FM as b9,Q_ as ba,VP as bb,lg as bc,N6 as bd,M6 as be,l4 as bf,dx as bg,Ma as bh,Bt as c,ko as d,Sv as e,G0 as f,cte as g,b_ as h,hS as i,A as j,XV as k,dm as l,GT as m,$V as n,Jc as o,h6 as p,KH as q,Te as r,KV as s,qT as t,hg as u,ZH as v,rR as w,o6 as x,Vv as y,_6 as z};
