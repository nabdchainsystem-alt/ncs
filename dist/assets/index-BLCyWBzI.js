(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var p4={exports:{}},rw={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wj;function Zxe(){if(wj)return rw;wj=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return rw.Fragment=e,rw.jsx=t,rw.jsxs=t,rw}var Tj;function Kxe(){return Tj||(Tj=1,p4.exports=Zxe()),p4.exports}var C=Kxe(),v4={exports:{}},Jn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj;function $xe(){if(Cj)return Jn;Cj=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),d=Symbol.iterator;function h(J){return J===null||typeof J!="object"?null:(J=d&&J[d]||J["@@iterator"],typeof J=="function"?J:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(J,H,ee){this.props=J,this.context=H,this.refs=g,this.updater=ee||p}y.prototype.isReactComponent={},y.prototype.setState=function(J,H){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,H,"setState")},y.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function _(){}_.prototype=y.prototype;function S(J,H,ee){this.props=J,this.context=H,this.refs=g,this.updater=ee||p}var A=S.prototype=new _;A.constructor=S,m(A,y.prototype),A.isPureReactComponent=!0;var M=Array.isArray;function E(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function N(J,H,ee){var Q=ee.ref;return{$$typeof:n,type:J,key:H,ref:Q!==void 0?Q:null,props:ee}}function L(J,H){return N(J.type,H,J.props)}function B(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function O(J){var H={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(ee){return H[ee]})}var G=/\/+/g;function V(J,H){return typeof J=="object"&&J!==null&&J.key!=null?O(""+J.key):H.toString(36)}function q(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(E,E):(J.status="pending",J.then(function(H){J.status==="pending"&&(J.status="fulfilled",J.value=H)},function(H){J.status==="pending"&&(J.status="rejected",J.reason=H)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function W(J,H,ee,Q,ne){var ce=typeof J;(ce==="undefined"||ce==="boolean")&&(J=null);var ve=!1;if(J===null)ve=!0;else switch(ce){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(J.$$typeof){case n:case e:ve=!0;break;case c:return ve=J._init,W(ve(J._payload),H,ee,Q,ne)}}if(ve)return ne=ne(J),ve=Q===""?"."+V(J,0):Q,M(ne)?(ee="",ve!=null&&(ee=ve.replace(G,"$&/")+"/"),W(ne,H,ee,"",function(Ae){return Ae})):ne!=null&&(B(ne)&&(ne=L(ne,ee+(ne.key==null||J&&J.key===ne.key?"":(""+ne.key).replace(G,"$&/")+"/")+ve)),H.push(ne)),1;ve=0;var xe=Q===""?".":Q+":";if(M(J))for(var we=0;we<J.length;we++)Q=J[we],ce=xe+V(Q,we),ve+=W(Q,H,ee,ce,ne);else if(we=h(J),typeof we=="function")for(J=we.call(J),we=0;!(Q=J.next()).done;)Q=Q.value,ce=xe+V(Q,we++),ve+=W(Q,H,ee,ce,ne);else if(ce==="object"){if(typeof J.then=="function")return W(q(J),H,ee,Q,ne);throw H=String(J),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Z(J,H,ee){if(J==null)return J;var Q=[],ne=0;return W(J,Q,"","",function(ce){return H.call(ee,ce,ne++)}),Q}function X(J){if(J._status===-1){var H=J._result;H=H(),H.then(function(ee){(J._status===0||J._status===-1)&&(J._status=1,J._result=ee)},function(ee){(J._status===0||J._status===-1)&&(J._status=2,J._result=ee)}),J._status===-1&&(J._status=0,J._result=H)}if(J._status===1)return J._result.default;throw J._result}var K=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},se={map:Z,forEach:function(J,H,ee){Z(J,function(){H.apply(this,arguments)},ee)},count:function(J){var H=0;return Z(J,function(){H++}),H},toArray:function(J){return Z(J,function(H){return H})||[]},only:function(J){if(!B(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Jn.Activity=f,Jn.Children=se,Jn.Component=y,Jn.Fragment=t,Jn.Profiler=i,Jn.PureComponent=S,Jn.StrictMode=r,Jn.Suspense=l,Jn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Jn.__COMPILER_RUNTIME={__proto__:null,c:function(J){return D.H.useMemoCache(J)}},Jn.cache=function(J){return function(){return J.apply(null,arguments)}},Jn.cacheSignal=function(){return null},Jn.cloneElement=function(J,H,ee){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Q=m({},J.props),ne=J.key;if(H!=null)for(ce in H.key!==void 0&&(ne=""+H.key),H)!I.call(H,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&H.ref===void 0||(Q[ce]=H[ce]);var ce=arguments.length-2;if(ce===1)Q.children=ee;else if(1<ce){for(var ve=Array(ce),xe=0;xe<ce;xe++)ve[xe]=arguments[xe+2];Q.children=ve}return N(J.type,ne,Q)},Jn.createContext=function(J){return J={$$typeof:s,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:a,_context:J},J},Jn.createElement=function(J,H,ee){var Q,ne={},ce=null;if(H!=null)for(Q in H.key!==void 0&&(ce=""+H.key),H)I.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ne[Q]=H[Q]);var ve=arguments.length-2;if(ve===1)ne.children=ee;else if(1<ve){for(var xe=Array(ve),we=0;we<ve;we++)xe[we]=arguments[we+2];ne.children=xe}if(J&&J.defaultProps)for(Q in ve=J.defaultProps,ve)ne[Q]===void 0&&(ne[Q]=ve[Q]);return N(J,ce,ne)},Jn.createRef=function(){return{current:null}},Jn.forwardRef=function(J){return{$$typeof:o,render:J}},Jn.isValidElement=B,Jn.lazy=function(J){return{$$typeof:c,_payload:{_status:-1,_result:J},_init:X}},Jn.memo=function(J,H){return{$$typeof:u,type:J,compare:H===void 0?null:H}},Jn.startTransition=function(J){var H=D.T,ee={};D.T=ee;try{var Q=J(),ne=D.S;ne!==null&&ne(ee,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(E,K)}catch(ce){K(ce)}finally{H!==null&&ee.types!==null&&(H.types=ee.types),D.T=H}},Jn.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Jn.use=function(J){return D.H.use(J)},Jn.useActionState=function(J,H,ee){return D.H.useActionState(J,H,ee)},Jn.useCallback=function(J,H){return D.H.useCallback(J,H)},Jn.useContext=function(J){return D.H.useContext(J)},Jn.useDebugValue=function(){},Jn.useDeferredValue=function(J,H){return D.H.useDeferredValue(J,H)},Jn.useEffect=function(J,H){return D.H.useEffect(J,H)},Jn.useEffectEvent=function(J){return D.H.useEffectEvent(J)},Jn.useId=function(){return D.H.useId()},Jn.useImperativeHandle=function(J,H,ee){return D.H.useImperativeHandle(J,H,ee)},Jn.useInsertionEffect=function(J,H){return D.H.useInsertionEffect(J,H)},Jn.useLayoutEffect=function(J,H){return D.H.useLayoutEffect(J,H)},Jn.useMemo=function(J,H){return D.H.useMemo(J,H)},Jn.useOptimistic=function(J,H){return D.H.useOptimistic(J,H)},Jn.useReducer=function(J,H,ee){return D.H.useReducer(J,H,ee)},Jn.useRef=function(J){return D.H.useRef(J)},Jn.useState=function(J){return D.H.useState(J)},Jn.useSyncExternalStore=function(J,H,ee){return D.H.useSyncExternalStore(J,H,ee)},Jn.useTransition=function(){return D.H.useTransition()},Jn.version="19.2.0",Jn}var Aj;function qb(){return Aj||(Aj=1,v4.exports=$xe()),v4.exports}var de=qb();const Dr=Yb(de);var m4={exports:{}},iw={},g4={exports:{}},y4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mj;function Jxe(){return Mj||(Mj=1,(function(n){function e(W,Z){var X=W.length;W.push(Z);e:for(;0<X;){var K=X-1>>>1,se=W[K];if(0<i(se,Z))W[K]=Z,W[X]=se,X=K;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Z=W[0],X=W.pop();if(X!==Z){W[0]=X;e:for(var K=0,se=W.length,J=se>>>1;K<J;){var H=2*(K+1)-1,ee=W[H],Q=H+1,ne=W[Q];if(0>i(ee,X))Q<se&&0>i(ne,ee)?(W[K]=ne,W[Q]=X,K=Q):(W[K]=ee,W[H]=X,K=H);else if(Q<se&&0>i(ne,X))W[K]=ne,W[Q]=X,K=Q;else break e}}return Z}function i(W,Z){var X=W.sortIndex-Z.sortIndex;return X!==0?X:W.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(W){for(var Z=t(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=W)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(u)}}function M(W){if(m=!1,A(W),!p)if(t(l)!==null)p=!0,E||(E=!0,O());else{var Z=t(u);Z!==null&&q(M,Z.startTime-W)}}var E=!1,D=-1,I=5,N=-1;function L(){return g?!0:!(n.unstable_now()-N<I)}function B(){if(g=!1,E){var W=n.unstable_now();N=W;var Z=!0;try{e:{p=!1,m&&(m=!1,_(D),D=-1),h=!0;var X=d;try{t:{for(A(W),f=t(l);f!==null&&!(f.expirationTime>W&&L());){var K=f.callback;if(typeof K=="function"){f.callback=null,d=f.priorityLevel;var se=K(f.expirationTime<=W);if(W=n.unstable_now(),typeof se=="function"){f.callback=se,A(W),Z=!0;break t}f===t(l)&&r(l),A(W)}else r(l);f=t(l)}if(f!==null)Z=!0;else{var J=t(u);J!==null&&q(M,J.startTime-W),Z=!1}}break e}finally{f=null,d=X,h=!1}Z=void 0}}finally{Z?O():E=!1}}}var O;if(typeof S=="function")O=function(){S(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,V=G.port2;G.port1.onmessage=B,O=function(){V.postMessage(null)}}else O=function(){y(B,0)};function q(W,Z){D=y(function(){W(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_next=function(W){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var X=d;d=Z;try{return W()}finally{d=X}},n.unstable_requestPaint=function(){g=!0},n.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var X=d;d=W;try{return Z()}finally{d=X}},n.unstable_scheduleCallback=function(W,Z,X){var K=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,W){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=X+se,W={id:c++,callback:Z,priorityLevel:W,startTime:X,expirationTime:se,sortIndex:-1},X>K?(W.sortIndex=X,e(u,W),t(l)===null&&W===t(u)&&(m?(_(D),D=-1):m=!0,q(M,X-K))):(W.sortIndex=se,e(l,W),p||h||(p=!0,E||(E=!0,O()))),W},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(W){var Z=d;return function(){var X=d;d=Z;try{return W.apply(this,arguments)}finally{d=X}}}})(y4)),y4}var Ej;function Qxe(){return Ej||(Ej=1,g4.exports=Jxe()),g4.exports}var x4={exports:{}},mo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj;function e1e(){if(Dj)return mo;Dj=1;var n=qb();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:u,implementation:c}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return mo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mo.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,c)},mo.flushSync=function(l){var u=s.T,c=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=u,r.p=c,r.d.f()}},mo.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},mo.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},mo.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,f=o(c,u.crossOrigin),d=typeof u.integrity=="string"?u.integrity:void 0,h=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:d,fetchPriority:h}):c==="script"&&r.d.X(l,{crossOrigin:f,integrity:d,fetchPriority:h,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},mo.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},mo.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,f=o(c,u.crossOrigin);r.d.L(l,c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},mo.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},mo.requestFormReset=function(l){r.d.r(l)},mo.unstable_batchedUpdates=function(l,u){return l(u)},mo.useFormState=function(l,u,c){return s.H.useFormState(l,u,c)},mo.useFormStatus=function(){return s.H.useHostTransitionStatus()},mo.version="19.2.0",mo}var Rj;function $ie(){if(Rj)return x4.exports;Rj=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),x4.exports=e1e(),x4.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nj;function t1e(){if(Nj)return iw;Nj=1;var n=Qxe(),e=qb(),t=$ie();function r(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)x+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(v){return!(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)}function a(v){var x=v,T=v;if(v.alternate)for(;x.return;)x=x.return;else{v=x;do x=v,(x.flags&4098)!==0&&(T=x.return),v=x.return;while(v)}return x.tag===3?T:null}function s(v){if(v.tag===13){var x=v.memoizedState;if(x===null&&(v=v.alternate,v!==null&&(x=v.memoizedState)),x!==null)return x.dehydrated}return null}function o(v){if(v.tag===31){var x=v.memoizedState;if(x===null&&(v=v.alternate,v!==null&&(x=v.memoizedState)),x!==null)return x.dehydrated}return null}function l(v){if(a(v)!==v)throw Error(r(188))}function u(v){var x=v.alternate;if(!x){if(x=a(v),x===null)throw Error(r(188));return x!==v?null:v}for(var T=v,R=x;;){var z=T.return;if(z===null)break;var j=z.alternate;if(j===null){if(R=z.return,R!==null){T=R;continue}break}if(z.child===j.child){for(j=z.child;j;){if(j===T)return l(z),v;if(j===R)return l(z),x;j=j.sibling}throw Error(r(188))}if(T.return!==R.return)T=z,R=j;else{for(var ae=!1,_e=z.child;_e;){if(_e===T){ae=!0,T=z,R=j;break}if(_e===R){ae=!0,R=z,T=j;break}_e=_e.sibling}if(!ae){for(_e=j.child;_e;){if(_e===T){ae=!0,T=j,R=z;break}if(_e===R){ae=!0,R=j,T=z;break}_e=_e.sibling}if(!ae)throw Error(r(189))}}if(T.alternate!==R)throw Error(r(190))}if(T.tag!==3)throw Error(r(188));return T.stateNode.current===T?v:x}function c(v){var x=v.tag;if(x===5||x===26||x===27||x===6)return v;for(v=v.child;v!==null;){if(x=c(v),x!==null)return x;v=v.sibling}return null}var f=Object.assign,d=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function O(v){return v===null||typeof v!="object"?null:(v=B&&v[B]||v["@@iterator"],typeof v=="function"?v:null)}var G=Symbol.for("react.client.reference");function V(v){if(v==null)return null;if(typeof v=="function")return v.$$typeof===G?null:v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case m:return"Fragment";case y:return"Profiler";case g:return"StrictMode";case M:return"Suspense";case E:return"SuspenseList";case N:return"Activity"}if(typeof v=="object")switch(v.$$typeof){case p:return"Portal";case S:return v.displayName||"Context";case _:return(v._context.displayName||"Context")+".Consumer";case A:var x=v.render;return v=v.displayName,v||(v=x.displayName||x.name||"",v=v!==""?"ForwardRef("+v+")":"ForwardRef"),v;case D:return x=v.displayName||null,x!==null?x:V(v.type)||"Memo";case I:x=v._payload,v=v._init;try{return V(v(x))}catch{}}return null}var q=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},K=[],se=-1;function J(v){return{current:v}}function H(v){0>se||(v.current=K[se],K[se]=null,se--)}function ee(v,x){se++,K[se]=v.current,v.current=x}var Q=J(null),ne=J(null),ce=J(null),ve=J(null);function xe(v,x){switch(ee(ce,x),ee(ne,v),ee(Q,null),x.nodeType){case 9:case 11:v=(v=x.documentElement)&&(v=v.namespaceURI)?YH(v):0;break;default:if(v=x.tagName,x=x.namespaceURI)x=YH(x),v=qH(x,v);else switch(v){case"svg":v=1;break;case"math":v=2;break;default:v=0}}H(Q),ee(Q,v)}function we(){H(Q),H(ne),H(ce)}function Ae(v){v.memoizedState!==null&&ee(ve,v);var x=Q.current,T=qH(x,v.type);x!==T&&(ee(ne,v),ee(Q,T))}function Ue(v){ne.current===v&&(H(Q),H(ne)),ve.current===v&&(H(ve),Q2._currentValue=X)}var pe,pt;function te(v){if(pe===void 0)try{throw Error()}catch(T){var x=T.stack.trim().match(/\n( *(at )?)/);pe=x&&x[1]||"",pt=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+v+pt}var oe=!1;function ge(v,x){if(!v||oe)return"";oe=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(x){var Mt=function(){throw Error()};if(Object.defineProperty(Mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Mt,[])}catch(dt){var ut=dt}Reflect.construct(v,[],Mt)}else{try{Mt.call()}catch(dt){ut=dt}v.call(Mt.prototype)}}else{try{throw Error()}catch(dt){ut=dt}(Mt=v())&&typeof Mt.catch=="function"&&Mt.catch(function(){})}}catch(dt){if(dt&&ut&&typeof dt.stack=="string")return[dt.stack,ut.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");z&&z.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=R.DetermineComponentFrameRoot(),ae=j[0],_e=j[1];if(ae&&_e){var Be=ae.split(`
`),it=_e.split(`
`);for(z=R=0;R<Be.length&&!Be[R].includes("DetermineComponentFrameRoot");)R++;for(;z<it.length&&!it[z].includes("DetermineComponentFrameRoot");)z++;if(R===Be.length||z===it.length)for(R=Be.length-1,z=it.length-1;1<=R&&0<=z&&Be[R]!==it[z];)z--;for(;1<=R&&0<=z;R--,z--)if(Be[R]!==it[z]){if(R!==1||z!==1)do if(R--,z--,0>z||Be[R]!==it[z]){var _t=`
`+Be[R].replace(" at new "," at ");return v.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",v.displayName)),_t}while(1<=R&&0<=z);break}}}finally{oe=!1,Error.prepareStackTrace=T}return(T=v?v.displayName||v.name:"")?te(T):""}function le(v,x){switch(v.tag){case 26:case 27:case 5:return te(v.type);case 16:return te("Lazy");case 13:return v.child!==x&&x!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return ge(v.type,!1);case 11:return ge(v.type.render,!1);case 1:return ge(v.type,!0);case 31:return te("Activity");default:return""}}function fe(v){try{var x="",T=null;do x+=le(v,T),T=v,v=v.return;while(v);return x}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}var be=Object.prototype.hasOwnProperty,Oe=n.unstable_scheduleCallback,Ve=n.unstable_cancelCallback,Pe=n.unstable_shouldYield,me=n.unstable_requestPaint,ue=n.unstable_now,Ie=n.unstable_getCurrentPriorityLevel,Ye=n.unstable_ImmediatePriority,ot=n.unstable_UserBlockingPriority,We=n.unstable_NormalPriority,zt=n.unstable_LowPriority,mt=n.unstable_IdlePriority,Nt=n.log,Ht=n.unstable_setDisableYieldValue,Qe=null,bt=null;function Yt(v){if(typeof Nt=="function"&&Ht(v),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Qe,v)}catch{}}var ke=Math.clz32?Math.clz32:Le,Je=Math.log,Et=Math.LN2;function Le(v){return v>>>=0,v===0?32:31-(Je(v)/Et|0)|0}var Dt=256,Rt=262144,wt=4194304;function yt(v){var x=v&42;if(x!==0)return x;switch(v&-v){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return v&261888;case 262144:case 524288:case 1048576:case 2097152:return v&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return v&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return v}}function vt(v,x,T){var R=v.pendingLanes;if(R===0)return 0;var z=0,j=v.suspendedLanes,ae=v.pingedLanes;v=v.warmLanes;var _e=R&134217727;return _e!==0?(R=_e&~j,R!==0?z=yt(R):(ae&=_e,ae!==0?z=yt(ae):T||(T=_e&~v,T!==0&&(z=yt(T))))):(_e=R&~j,_e!==0?z=yt(_e):ae!==0?z=yt(ae):T||(T=R&~v,T!==0&&(z=yt(T)))),z===0?0:x!==0&&x!==z&&(x&j)===0&&(j=z&-z,T=x&-x,j>=T||j===32&&(T&4194048)!==0)?x:z}function Ut(v,x){return(v.pendingLanes&~(v.suspendedLanes&~v.pingedLanes)&x)===0}function Zt(v,x){switch(v){case 1:case 2:case 4:case 8:case 64:return x+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mn(){var v=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),v}function En(v){for(var x=[],T=0;31>T;T++)x.push(v);return x}function Br(v,x){v.pendingLanes|=x,x!==268435456&&(v.suspendedLanes=0,v.pingedLanes=0,v.warmLanes=0)}function ur(v,x,T,R,z,j){var ae=v.pendingLanes;v.pendingLanes=T,v.suspendedLanes=0,v.pingedLanes=0,v.warmLanes=0,v.expiredLanes&=T,v.entangledLanes&=T,v.errorRecoveryDisabledLanes&=T,v.shellSuspendCounter=0;var _e=v.entanglements,Be=v.expirationTimes,it=v.hiddenUpdates;for(T=ae&~T;0<T;){var _t=31-ke(T),Mt=1<<_t;_e[_t]=0,Be[_t]=-1;var ut=it[_t];if(ut!==null)for(it[_t]=null,_t=0;_t<ut.length;_t++){var dt=ut[_t];dt!==null&&(dt.lane&=-536870913)}T&=~Mt}R!==0&&vs(v,R,0),j!==0&&z===0&&v.tag!==0&&(v.suspendedLanes|=j&~(ae&~x))}function vs(v,x,T){v.pendingLanes|=x,v.suspendedLanes&=~x;var R=31-ke(x);v.entangledLanes|=x,v.entanglements[R]=v.entanglements[R]|1073741824|T&261930}function Li(v,x){var T=v.entangledLanes|=x;for(v=v.entanglements;T;){var R=31-ke(T),z=1<<R;z&x|v[R]&x&&(v[R]|=x),T&=~z}}function ga(v,x){var T=x&-x;return T=(T&42)!==0?1:mi(T),(T&(v.suspendedLanes|x))!==0?0:T}function mi(v){switch(v){case 2:v=1;break;case 8:v=4;break;case 32:v=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:v=128;break;case 268435456:v=134217728;break;default:v=0}return v}function ms(v){return v&=-v,2<v?8<v?(v&134217727)!==0?32:268435456:8:2}function ye(){var v=Z.p;return v!==0?v:(v=window.event,v===void 0?32:mj(v.type))}function Me(v,x){var T=Z.p;try{return Z.p=v,x()}finally{Z.p=T}}var Ce=Math.random().toString(36).slice(2),Te="__reactFiber$"+Ce,Ee="__reactProps$"+Ce,Ne="__reactContainer$"+Ce,et="__reactEvents$"+Ce,xt="__reactListeners$"+Ce,tt="__reactHandles$"+Ce,rt="__reactResources$"+Ce,st="__reactMarker$"+Ce;function It(v){delete v[Te],delete v[Ee],delete v[et],delete v[xt],delete v[tt]}function Pt(v){var x=v[Te];if(x)return x;for(var T=v.parentNode;T;){if(x=T[Ne]||T[Te]){if(T=x.alternate,x.child!==null||T!==null&&T.child!==null)for(v=ej(v);v!==null;){if(T=v[Te])return T;v=ej(v)}return x}v=T,T=v.parentNode}return null}function he(v){if(v=v[Te]||v[Ne]){var x=v.tag;if(x===5||x===6||x===13||x===31||x===26||x===27||x===3)return v}return null}function Re(v){var x=v.tag;if(x===5||x===26||x===27||x===6)return v.stateNode;throw Error(r(33))}function ze(v){var x=v[rt];return x||(x=v[rt]={hoistableStyles:new Map,hoistableScripts:new Map}),x}function He(v){v[st]=!0}var Ge=new Set,At={};function Ft(v,x){qt(v,x),qt(v+"Capture",x)}function qt(v,x){for(At[v]=x,v=0;v<x.length;v++)Ge.add(x[v])}var Kt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yn={},xn={};function mn(v){return be.call(xn,v)?!0:be.call(yn,v)?!1:Kt.test(v)?xn[v]=!0:(yn[v]=!0,!1)}function In(v,x,T){if(mn(x))if(T===null)v.removeAttribute(x);else{switch(typeof T){case"undefined":case"function":case"symbol":v.removeAttribute(x);return;case"boolean":var R=x.toLowerCase().slice(0,5);if(R!=="data-"&&R!=="aria-"){v.removeAttribute(x);return}}v.setAttribute(x,""+T)}}function Tr(v,x,T){if(T===null)v.removeAttribute(x);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":v.removeAttribute(x);return}v.setAttribute(x,""+T)}}function Cr(v,x,T,R){if(R===null)v.removeAttribute(T);else{switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":v.removeAttribute(T);return}v.setAttributeNS(x,T,""+R)}}function mr(v){switch(typeof v){case"bigint":case"boolean":case"number":case"string":case"undefined":return v;case"object":return v;default:return""}}function qr(v){var x=v.type;return(v=v.nodeName)&&v.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function Dn(v,x,T){var R=Object.getOwnPropertyDescriptor(v.constructor.prototype,x);if(!v.hasOwnProperty(x)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var z=R.get,j=R.set;return Object.defineProperty(v,x,{configurable:!0,get:function(){return z.call(this)},set:function(ae){T=""+ae,j.call(this,ae)}}),Object.defineProperty(v,x,{enumerable:R.enumerable}),{getValue:function(){return T},setValue:function(ae){T=""+ae},stopTracking:function(){v._valueTracker=null,delete v[x]}}}}function ii(v){if(!v._valueTracker){var x=qr(v)?"checked":"value";v._valueTracker=Dn(v,x,""+v[x])}}function gr(v){if(!v)return!1;var x=v._valueTracker;if(!x)return!0;var T=x.getValue(),R="";return v&&(R=qr(v)?v.checked?"true":"false":v.value),v=R,v!==T?(x.setValue(v),!0):!1}function na(v){if(v=v||(typeof document<"u"?document:void 0),typeof v>"u")return null;try{return v.activeElement||v.body}catch{return v.body}}var Lc=/[\n"\\]/g;function ui(v){return v.replace(Lc,function(x){return"\\"+x.charCodeAt(0).toString(16)+" "})}function Iu(v,x,T,R,z,j,ae,_e){v.name="",ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?v.type=ae:v.removeAttribute("type"),x!=null?ae==="number"?(x===0&&v.value===""||v.value!=x)&&(v.value=""+mr(x)):v.value!==""+mr(x)&&(v.value=""+mr(x)):ae!=="submit"&&ae!=="reset"||v.removeAttribute("value"),x!=null?ya(v,ae,mr(x)):T!=null?ya(v,ae,mr(T)):R!=null&&v.removeAttribute("value"),z==null&&j!=null&&(v.defaultChecked=!!j),z!=null&&(v.checked=z&&typeof z!="function"&&typeof z!="symbol"),_e!=null&&typeof _e!="function"&&typeof _e!="symbol"&&typeof _e!="boolean"?v.name=""+mr(_e):v.removeAttribute("name")}function ci(v,x,T,R,z,j,ae,_e){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(v.type=j),x!=null||T!=null){if(!(j!=="submit"&&j!=="reset"||x!=null)){ii(v);return}T=T!=null?""+mr(T):"",x=x!=null?""+mr(x):T,_e||x===v.value||(v.value=x),v.defaultValue=x}R=R??z,R=typeof R!="function"&&typeof R!="symbol"&&!!R,v.checked=_e?v.checked:!!R,v.defaultChecked=!!R,ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"&&(v.name=ae),ii(v)}function ya(v,x,T){x==="number"&&na(v.ownerDocument)===v||v.defaultValue===""+T||(v.defaultValue=""+T)}function xa(v,x,T,R){if(v=v.options,x){x={};for(var z=0;z<T.length;z++)x["$"+T[z]]=!0;for(T=0;T<v.length;T++)z=x.hasOwnProperty("$"+v[T].value),v[T].selected!==z&&(v[T].selected=z),z&&R&&(v[T].defaultSelected=!0)}else{for(T=""+mr(T),x=null,z=0;z<v.length;z++){if(v[z].value===T){v[z].selected=!0,R&&(v[z].defaultSelected=!0);return}x!==null||v[z].disabled||(x=v[z])}x!==null&&(x.selected=!0)}}function _a(v,x,T){if(x!=null&&(x=""+mr(x),x!==v.value&&(v.value=x),T==null)){v.defaultValue!==x&&(v.defaultValue=x);return}v.defaultValue=T!=null?""+mr(T):""}function Pi(v,x,T,R){if(x==null){if(R!=null){if(T!=null)throw Error(r(92));if(q(R)){if(1<R.length)throw Error(r(93));R=R[0]}T=R}T==null&&(T=""),x=T}T=mr(x),v.defaultValue=T,R=v.textContent,R===T&&R!==""&&R!==null&&(v.value=R),ii(v)}function Kl(v,x){if(x){var T=v.firstChild;if(T&&T===v.lastChild&&T.nodeType===3){T.nodeValue=x;return}}v.textContent=x}var Cl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function um(v,x,T){var R=x.indexOf("--")===0;T==null||typeof T=="boolean"||T===""?R?v.setProperty(x,""):x==="float"?v.cssFloat="":v[x]="":R?v.setProperty(x,T):typeof T!="number"||T===0||Cl.has(x)?x==="float"?v.cssFloat=T:v[x]=(""+T).trim():v[x]=T+"px"}function kS(v,x,T){if(x!=null&&typeof x!="object")throw Error(r(62));if(v=v.style,T!=null){for(var R in T)!T.hasOwnProperty(R)||x!=null&&x.hasOwnProperty(R)||(R.indexOf("--")===0?v.setProperty(R,""):R==="float"?v.cssFloat="":v[R]="");for(var z in x)R=x[z],x.hasOwnProperty(z)&&T[z]!==R&&um(v,z,R)}else for(var j in x)x.hasOwnProperty(j)&&um(v,j,x[j])}function cm(v){if(v.indexOf("-")===-1)return!1;switch(v){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fm(v){return kM.test(""+v)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":v}function ku(){}var dm=null;function _x(v){return v=v.target||v.srcElement||window,v.correspondingUseElement&&(v=v.correspondingUseElement),v.nodeType===3?v.parentNode:v}var fh=null,zf=null;function LS(v){var x=he(v);if(x&&(v=x.stateNode)){var T=v[Ee]||null;e:switch(v=x.stateNode,x.type){case"input":if(Iu(v,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name),x=T.name,T.type==="radio"&&x!=null){for(T=v;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll('input[name="'+ui(""+x)+'"][type="radio"]'),x=0;x<T.length;x++){var R=T[x];if(R!==v&&R.form===v.form){var z=R[Ee]||null;if(!z)throw Error(r(90));Iu(R,z.value,z.defaultValue,z.defaultValue,z.checked,z.defaultChecked,z.type,z.name)}}for(x=0;x<T.length;x++)R=T[x],R.form===v.form&&gr(R)}break e;case"textarea":_a(v,T.value,T.defaultValue);break e;case"select":x=T.value,x!=null&&xa(v,!!T.multiple,x,!1)}}}var bx=!1;function PS(v,x,T){if(bx)return v(x,T);bx=!0;try{var R=v(x);return R}finally{if(bx=!1,(fh!==null||zf!==null)&&(Se(),fh&&(x=fh,v=zf,zf=fh=null,LS(x),v)))for(x=0;x<v.length;x++)LS(v[x])}}function dh(v,x){var T=v.stateNode;if(T===null)return null;var R=T[Ee]||null;if(R===null)return null;T=R[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(v=v.type,R=!(v==="button"||v==="input"||v==="select"||v==="textarea")),v=!R;break e;default:v=!1}if(v)return null;if(T&&typeof T!="function")throw Error(r(231,x,typeof T));return T}var Lu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sx=!1;if(Lu)try{var hm={};Object.defineProperty(hm,"passive",{get:function(){Sx=!0}}),window.addEventListener("test",hm,hm),window.removeEventListener("test",hm,hm)}catch{Sx=!1}var Uf=null,Tx=null,Vf=null;function Cx(){if(Vf)return Vf;var v,x=Tx,T=x.length,R,z="value"in Uf?Uf.value:Uf.textContent,j=z.length;for(v=0;v<T&&x[v]===z[v];v++);var ae=T-v;for(R=1;R<=ae&&x[T-R]===z[j-R];R++);return Vf=z.slice(v,1<R?1-R:void 0)}function hh(v){var x=v.keyCode;return"charCode"in v?(v=v.charCode,v===0&&x===13&&(v=13)):v=x,v===10&&(v=13),32<=v||v===13?v:0}function pm(){return!0}function OS(){return!1}function gs(v){function x(T,R,z,j,ae){this._reactName=T,this._targetInst=z,this.type=R,this.nativeEvent=j,this.target=ae,this.currentTarget=null;for(var _e in v)v.hasOwnProperty(_e)&&(T=v[_e],this[_e]=T?T(j):j[_e]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?pm:OS,this.isPropagationStopped=OS,this}return f(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=pm)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=pm)},persist:function(){},isPersistent:pm}),x}var Gf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(v){return v.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vm=gs(Gf),$l=f({},Gf,{view:0,detail:0}),Ax=gs($l),Mx,mm,$p,gm=f({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(v){return v.relatedTarget===void 0?v.fromElement===v.srcElement?v.toElement:v.fromElement:v.relatedTarget},movementX:function(v){return"movementX"in v?v.movementX:(v!==$p&&($p&&v.type==="mousemove"?(Mx=v.screenX-$p.screenX,mm=v.screenY-$p.screenY):mm=Mx=0,$p=v),Mx)},movementY:function(v){return"movementY"in v?v.movementY:mm}}),LM=gs(gm),Xa=f({},gm,{dataTransfer:0}),PM=gs(Xa),OM=f({},$l,{relatedTarget:0}),Ex=gs(OM),FM=f({},Gf,{animationName:0,elapsedTime:0,pseudoElement:0}),BM=gs(FM),ym=f({},Gf,{clipboardData:function(v){return"clipboardData"in v?v.clipboardData:window.clipboardData}}),FS=gs(ym),zM=f({},Gf,{data:0}),BS=gs(zM),UM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},US={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VM(v){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(v):(v=US[v])?!!x[v]:!1}function xm(){return VM}var VS=f({},$l,{key:function(v){if(v.key){var x=UM[v.key]||v.key;if(x!=="Unidentified")return x}return v.type==="keypress"?(v=hh(v),v===13?"Enter":String.fromCharCode(v)):v.type==="keydown"||v.type==="keyup"?zS[v.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(v){return v.type==="keypress"?hh(v):0},keyCode:function(v){return v.type==="keydown"||v.type==="keyup"?v.keyCode:0},which:function(v){return v.type==="keypress"?hh(v):v.type==="keydown"||v.type==="keyup"?v.keyCode:0}}),GS=gs(VS),GM=f({},gm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dx=gs(GM),HM=f({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),Pc=gs(HM),HS=f({},Gf,{propertyName:0,elapsedTime:0,pseudoElement:0}),kP=gs(HS),jM=f({},gm,{deltaX:function(v){return"deltaX"in v?v.deltaX:"wheelDeltaX"in v?-v.wheelDeltaX:0},deltaY:function(v){return"deltaY"in v?v.deltaY:"wheelDeltaY"in v?-v.wheelDeltaY:"wheelDelta"in v?-v.wheelDelta:0},deltaZ:0,deltaMode:0}),Hf=gs(jM),Oc=f({},Gf,{newState:0,oldState:0}),jS=gs(Oc),WS=[9,13,27,32],ph=Lu&&"CompositionEvent"in window,jf=null;Lu&&"documentMode"in document&&(jf=document.documentMode);var vh=Lu&&"TextEvent"in window&&!jf,Za=Lu&&(!ph||jf&&8<jf&&11>=jf),_m=" ",YS=!1;function Rx(v,x){switch(v){case"keyup":return WS.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jp(v){return v=v.detail,typeof v=="object"&&"data"in v?v.data:null}var Wf=!1;function Nx(v,x){switch(v){case"compositionend":return Jp(x);case"keypress":return x.which!==32?null:(YS=!0,_m);case"textInput":return v=x.data,v===_m&&YS?null:v;default:return null}}function WM(v,x){if(Wf)return v==="compositionend"||!ph&&Rx(v,x)?(v=Cx(),Vf=Tx=Uf=null,Wf=!1,v):null;switch(v){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return Za&&x.locale!=="ko"?null:x.data;default:return null}}var Go={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qS(v){var x=v&&v.nodeName&&v.nodeName.toLowerCase();return x==="input"?!!Go[v.type]:x==="textarea"}function Ix(v,x,T,R){fh?zf?zf.push(R):zf=[R]:fh=R,x=OE(x,"onChange"),0<x.length&&(T=new vm("onChange","change",null,T,R),v.push({event:T,listeners:x}))}var Qp=null,e0=null;function XS(v){UH(v,0)}function t0(v){var x=Re(v);if(gr(x))return v}function ZS(v,x){if(v==="change")return x}var bm=!1;if(Lu){var mh;if(Lu){var Ti="oninput"in document;if(!Ti){var YM=document.createElement("div");YM.setAttribute("oninput","return;"),Ti=typeof YM.oninput=="function"}mh=Ti}else mh=!1;bm=mh&&(!document.documentMode||9<document.documentMode)}function qM(){Qp&&(Qp.detachEvent("onpropertychange",KS),e0=Qp=null)}function KS(v){if(v.propertyName==="value"&&t0(e0)){var x=[];Ix(x,e0,v,_x(v)),PS(XS,x)}}function Sm(v,x,T){v==="focusin"?(qM(),Qp=x,e0=T,Qp.attachEvent("onpropertychange",KS)):v==="focusout"&&qM()}function Yf(v){if(v==="selectionchange"||v==="keyup"||v==="keydown")return t0(e0)}function XM(v,x){if(v==="click")return t0(x)}function ZM(v,x){if(v==="input"||v==="change")return t0(x)}function gh(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var Ci=typeof Object.is=="function"?Object.is:gh;function n0(v,x){if(Ci(v,x))return!0;if(typeof v!="object"||v===null||typeof x!="object"||x===null)return!1;var T=Object.keys(v),R=Object.keys(x);if(T.length!==R.length)return!1;for(R=0;R<T.length;R++){var z=T[R];if(!be.call(x,z)||!Ci(v[z],x[z]))return!1}return!0}function $S(v){for(;v&&v.firstChild;)v=v.firstChild;return v}function JS(v,x){var T=$S(v);v=0;for(var R;T;){if(T.nodeType===3){if(R=v+T.textContent.length,v<=x&&R>=x)return{node:T,offset:x-v};v=R}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=$S(T)}}function kx(v,x){return v&&x?v===x?!0:v&&v.nodeType===3?!1:x&&x.nodeType===3?kx(v,x.parentNode):"contains"in v?v.contains(x):v.compareDocumentPosition?!!(v.compareDocumentPosition(x)&16):!1:!1}function Lx(v){v=v!=null&&v.ownerDocument!=null&&v.ownerDocument.defaultView!=null?v.ownerDocument.defaultView:window;for(var x=na(v.document);x instanceof v.HTMLIFrameElement;){try{var T=typeof x.contentWindow.location.href=="string"}catch{T=!1}if(T)v=x.contentWindow;else break;x=na(v.document)}return x}function r0(v){var x=v&&v.nodeName&&v.nodeName.toLowerCase();return x&&(x==="input"&&(v.type==="text"||v.type==="search"||v.type==="tel"||v.type==="url"||v.type==="password")||x==="textarea"||v.contentEditable==="true")}var KM=Lu&&"documentMode"in document&&11>=document.documentMode,i0=null,Px=null,a0=null,Ho=!1;function Ox(v,x,T){var R=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;Ho||i0==null||i0!==na(R)||(R=i0,"selectionStart"in R&&r0(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),a0&&n0(a0,R)||(a0=R,R=OE(Px,"onSelect"),0<R.length&&(x=new vm("onSelect","select",null,x,T),v.push({event:x,listeners:R}),x.target=i0)))}function qf(v,x){var T={};return T[v.toLowerCase()]=x.toLowerCase(),T["Webkit"+v]="webkit"+x,T["Moz"+v]="moz"+x,T}var s0={animationend:qf("Animation","AnimationEnd"),animationiteration:qf("Animation","AnimationIteration"),animationstart:qf("Animation","AnimationStart"),transitionrun:qf("Transition","TransitionRun"),transitionstart:qf("Transition","TransitionStart"),transitioncancel:qf("Transition","TransitionCancel"),transitionend:qf("Transition","TransitionEnd")},wm={},Os={};Lu&&(Os=document.createElement("div").style,"AnimationEvent"in window||(delete s0.animationend.animation,delete s0.animationiteration.animation,delete s0.animationstart.animation),"TransitionEvent"in window||delete s0.transitionend.transition);function Xf(v){if(wm[v])return wm[v];if(!s0[v])return v;var x=s0[v],T;for(T in x)if(x.hasOwnProperty(T)&&T in Os)return wm[v]=x[T];return v}var io=Xf("animationend"),QS=Xf("animationiteration"),Pu=Xf("animationstart"),o0=Xf("transitionrun"),Zf=Xf("transitionstart"),e2=Xf("transitioncancel"),Fx=Xf("transitionend"),Fc=new Map,Bx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bx.push("scrollEnd");function ys(v,x){Fc.set(v,x),Ft(x,[v])}var Kf=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},ka=[],yh=0,zx=0;function $f(){for(var v=yh,x=zx=yh=0;x<v;){var T=ka[x];ka[x++]=null;var R=ka[x];ka[x++]=null;var z=ka[x];ka[x++]=null;var j=ka[x];if(ka[x++]=null,R!==null&&z!==null){var ae=R.pending;ae===null?z.next=z:(z.next=ae.next,ae.next=z),R.pending=z}j!==0&&Ux(T,z,j)}}function Tm(v,x,T,R){ka[yh++]=v,ka[yh++]=x,ka[yh++]=T,ka[yh++]=R,zx|=R,v.lanes|=R,v=v.alternate,v!==null&&(v.lanes|=R)}function l0(v,x,T,R){return Tm(v,x,T,R),u0(v)}function Jf(v,x){return Tm(v,null,null,x),u0(v)}function Ux(v,x,T){v.lanes|=T;var R=v.alternate;R!==null&&(R.lanes|=T);for(var z=!1,j=v.return;j!==null;)j.childLanes|=T,R=j.alternate,R!==null&&(R.childLanes|=T),j.tag===22&&(v=j.stateNode,v===null||v._visibility&1||(z=!0)),v=j,j=j.return;return v.tag===3?(j=v.stateNode,z&&x!==null&&(z=31-ke(T),v=j.hiddenUpdates,R=v[z],R===null?v[z]=[x]:R.push(x),x.lane=T|536870912),j):null}function u0(v){if(50<Ph)throw Ph=0,Oh=null,Error(r(185));for(var x=v.return;x!==null;)v=x,x=v.return;return v.tag===3?v.stateNode:null}var Qf={};function $M(v,x,T,R){this.tag=v,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(v,x,T,R){return new $M(v,x,T,R)}function Bs(v){return v=v.prototype,!(!v||!v.isReactComponent)}function Ou(v,x){var T=v.alternate;return T===null?(T=Fs(v.tag,x,v.key,v.mode),T.elementType=v.elementType,T.type=v.type,T.stateNode=v.stateNode,T.alternate=v,v.alternate=T):(T.pendingProps=x,T.type=v.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=v.flags&65011712,T.childLanes=v.childLanes,T.lanes=v.lanes,T.child=v.child,T.memoizedProps=v.memoizedProps,T.memoizedState=v.memoizedState,T.updateQueue=v.updateQueue,x=v.dependencies,T.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},T.sibling=v.sibling,T.index=v.index,T.ref=v.ref,T.refCleanup=v.refCleanup,T}function xs(v,x){v.flags&=65011714;var T=v.alternate;return T===null?(v.childLanes=0,v.lanes=x,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,x=T.dependencies,v.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),v}function Cm(v,x,T,R,z,j){var ae=0;if(R=v,typeof v=="function")Bs(v)&&(ae=1);else if(typeof v=="string")ae=Fxe(v,T,Q.current)?26:v==="html"||v==="head"||v==="body"?27:5;else e:switch(v){case N:return v=Fs(31,T,x,z),v.elementType=N,v.lanes=j,v;case m:return Bc(T.children,z,j,x);case g:ae=8,z|=24;break;case y:return v=Fs(12,T,x,z|2),v.elementType=y,v.lanes=j,v;case M:return v=Fs(13,T,x,z),v.elementType=M,v.lanes=j,v;case E:return v=Fs(19,T,x,z),v.elementType=E,v.lanes=j,v;default:if(typeof v=="object"&&v!==null)switch(v.$$typeof){case S:ae=10;break e;case _:ae=9;break e;case A:ae=11;break e;case D:ae=14;break e;case I:ae=16,R=null;break e}ae=29,T=Error(r(130,v===null?"null":typeof v,"")),R=null}return x=Fs(ae,T,x,z),x.elementType=v,x.type=R,x.lanes=j,x}function Bc(v,x,T,R){return v=Fs(7,v,R,x),v.lanes=T,v}function Vx(v,x,T){return v=Fs(6,v,null,x),v.lanes=T,v}function JM(v){var x=Fs(18,null,null,0);return x.stateNode=v,x}function Jl(v,x,T){return x=Fs(4,v.children!==null?v.children:[],v.key,x),x.lanes=T,x.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation},x}var t2=new WeakMap;function ao(v,x){if(typeof v=="object"&&v!==null){var T=t2.get(v);return T!==void 0?T:(x={value:v,source:x,stack:fe(x)},t2.set(v,x),x)}return{value:v,source:x,stack:fe(x)}}var Ql=[],xh=0,Am=null,c0=0,jo=[],so=0,Fu=null,Bu=1,zu="";function zc(v,x){Ql[xh++]=c0,Ql[xh++]=Am,Am=v,c0=x}function n2(v,x,T){jo[so++]=Bu,jo[so++]=zu,jo[so++]=Fu,Fu=v;var R=Bu;v=zu;var z=32-ke(R)-1;R&=~(1<<z),T+=1;var j=32-ke(x)+z;if(30<j){var ae=z-z%5;j=(R&(1<<ae)-1).toString(32),R>>=ae,z-=ae,Bu=1<<32-ke(x)+z|T<<z|R,zu=j+v}else Bu=1<<j|T<<z|R,zu=v}function Gx(v){v.return!==null&&(zc(v,1),n2(v,1,0))}function ed(v){for(;v===Am;)Am=Ql[--xh],Ql[xh]=null,c0=Ql[--xh],Ql[xh]=null;for(;v===Fu;)Fu=jo[--so],jo[so]=null,zu=jo[--so],jo[so]=null,Bu=jo[--so],jo[so]=null}function Mm(v,x){jo[so++]=Bu,jo[so++]=zu,jo[so++]=Fu,Bu=x.id,zu=x.overflow,Fu=v}var La=null,gi=null,Sr=!1,Uc=null,Pa=!1,Hx=Error(r(519));function yr(v){var x=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Em(ao(x,v)),Hx}function jx(v){var x=v.stateNode,T=v.type,R=v.memoizedProps;switch(x[Te]=v,x[Ee]=R,T){case"dialog":wr("cancel",x),wr("close",x);break;case"iframe":case"object":case"embed":wr("load",x);break;case"video":case"audio":for(T=0;T<X2.length;T++)wr(X2[T],x);break;case"source":wr("error",x);break;case"img":case"image":case"link":wr("error",x),wr("load",x);break;case"details":wr("toggle",x);break;case"input":wr("invalid",x),ci(x,R.value,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name,!0);break;case"select":wr("invalid",x);break;case"textarea":wr("invalid",x),Pi(x,R.value,R.defaultValue,R.children)}T=R.children,typeof T!="string"&&typeof T!="number"&&typeof T!="bigint"||x.textContent===""+T||R.suppressHydrationWarning===!0||jH(x.textContent,T)?(R.popover!=null&&(wr("beforetoggle",x),wr("toggle",x)),R.onScroll!=null&&wr("scroll",x),R.onScrollEnd!=null&&wr("scrollend",x),R.onClick!=null&&(x.onclick=ku),x=!0):x=!1,x||yr(v,!0)}function QM(v){for(La=v.return;La;)switch(La.tag){case 5:case 31:case 13:Pa=!1;return;case 27:case 3:Pa=!0;return;default:La=La.return}}function _h(v){if(v!==La)return!1;if(!Sr)return QM(v),Sr=!0,!1;var x=v.tag,T;if((T=x!==3&&x!==27)&&((T=x===5)&&(T=v.type,T=!(T!=="form"&&T!=="button")||QP(v.type,v.memoizedProps)),T=!T),T&&gi&&yr(v),QM(v),x===13){if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));gi=QH(v)}else if(x===31){if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));gi=QH(v)}else x===27?(x=gi,D0(v.type)?(v=i4,i4=null,gi=v):gi=x):gi=La?Ku(v.stateNode.nextSibling):null;return!0}function bh(){gi=La=null,Sr=!1}function r2(){var v=Uc;return v!==null&&(Cs===null?Cs=v:Cs.push.apply(Cs,v),Uc=null),v}function Em(v){Uc===null?Uc=[v]:Uc.push(v)}var i2=J(null),Vc=null,_s=null;function Gc(v,x,T){ee(i2,x._currentValue),x._currentValue=T}function Al(v){v._currentValue=i2.current,H(i2)}function Hc(v,x,T){for(;v!==null;){var R=v.alternate;if((v.childLanes&x)!==x?(v.childLanes|=x,R!==null&&(R.childLanes|=x)):R!==null&&(R.childLanes&x)!==x&&(R.childLanes|=x),v===T)break;v=v.return}}function Wx(v,x,T,R){var z=v.child;for(z!==null&&(z.return=v);z!==null;){var j=z.dependencies;if(j!==null){var ae=z.child;j=j.firstContext;e:for(;j!==null;){var _e=j;j=z;for(var Be=0;Be<x.length;Be++)if(_e.context===x[Be]){j.lanes|=T,_e=j.alternate,_e!==null&&(_e.lanes|=T),Hc(j.return,T,v),R||(ae=null);break e}j=_e.next}}else if(z.tag===18){if(ae=z.return,ae===null)throw Error(r(341));ae.lanes|=T,j=ae.alternate,j!==null&&(j.lanes|=T),Hc(ae,T,v),ae=null}else ae=z.child;if(ae!==null)ae.return=z;else for(ae=z;ae!==null;){if(ae===v){ae=null;break}if(z=ae.sibling,z!==null){z.return=ae.return,ae=z;break}ae=ae.return}z=ae}}function td(v,x,T,R){v=null;for(var z=x,j=!1;z!==null;){if(!j){if((z.flags&524288)!==0)j=!0;else if((z.flags&262144)!==0)break}if(z.tag===10){var ae=z.alternate;if(ae===null)throw Error(r(387));if(ae=ae.memoizedProps,ae!==null){var _e=z.type;Ci(z.pendingProps.value,ae.value)||(v!==null?v.push(_e):v=[_e])}}else if(z===ve.current){if(ae=z.alternate,ae===null)throw Error(r(387));ae.memoizedState.memoizedState!==z.memoizedState.memoizedState&&(v!==null?v.push(Q2):v=[Q2])}z=z.return}v!==null&&Wx(x,v,T,R),x.flags|=262144}function f0(v){for(v=v.firstContext;v!==null;){if(!Ci(v.context._currentValue,v.memoizedValue))return!0;v=v.next}return!1}function Sh(v){Vc=v,_s=null,v=v.dependencies,v!==null&&(v.firstContext=null)}function Oa(v){return a2(Vc,v)}function Dm(v,x){return Vc===null&&Sh(v),a2(v,x)}function a2(v,x){var T=x._currentValue;if(x={context:x,memoizedValue:T,next:null},_s===null){if(v===null)throw Error(r(308));_s=x,v.dependencies={lanes:0,firstContext:x},v.flags|=524288}else _s=_s.next=x;return T}var eE=typeof AbortController<"u"?AbortController:function(){var v=[],x=this.signal={aborted:!1,addEventListener:function(T,R){v.push(R)}};this.abort=function(){x.aborted=!0,v.forEach(function(T){return T()})}},tE=n.unstable_scheduleCallback,s2=n.unstable_NormalPriority,wn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function o2(){return{controller:new eE,data:new Map,refCount:0}}function Ka(v){v.refCount--,v.refCount===0&&tE(s2,function(){v.controller.abort()})}var wh=null,l2=0,jc=0,eu=null;function d0(v,x){if(wh===null){var T=wh=[];l2=0,jc=jP(),eu={status:"pending",value:void 0,then:function(R){T.push(R)}}}return l2++,x.then(u2,u2),x}function u2(){if(--l2===0&&wh!==null){eu!==null&&(eu.status="fulfilled");var v=wh;wh=null,jc=0,eu=null;for(var x=0;x<v.length;x++)(0,v[x])()}}function c2(v,x){var T=[],R={status:"pending",value:null,reason:null,then:function(z){T.push(z)}};return v.then(function(){R.status="fulfilled",R.value=x;for(var z=0;z<T.length;z++)(0,T[z])(x)},function(z){for(R.status="rejected",R.reason=z,z=0;z<T.length;z++)(0,T[z])(void 0)}),R}var nE=W.S;W.S=function(v,x){A0=ue(),typeof x=="object"&&x!==null&&typeof x.then=="function"&&d0(v,x),nE!==null&&nE(v,x)};var nd=J(null);function Uu(){var v=nd.current;return v!==null?v:Zr.pooledCache}function h0(v,x){x===null?ee(nd,nd.current):ee(nd,x.pool)}function Yx(){var v=Uu();return v===null?null:{parent:wn._currentValue,pool:v}}var rd=Error(r(460)),Rm=Error(r(474)),tu=Error(r(542)),Nm={then:function(){}};function rE(v){return v=v.status,v==="fulfilled"||v==="rejected"}function f2(v,x,T){switch(T=v[T],T===void 0?v.push(x):T!==x&&(x.then(ku,ku),x=T),x.status){case"fulfilled":return x.value;case"rejected":throw v=x.reason,d2(v),v;default:if(typeof x.status=="string")x.then(ku,ku);else{if(v=Zr,v!==null&&100<v.shellSuspendCounter)throw Error(r(482));v=x,v.status="pending",v.then(function(R){if(x.status==="pending"){var z=x;z.status="fulfilled",z.value=R}},function(R){if(x.status==="pending"){var z=x;z.status="rejected",z.reason=R}})}switch(x.status){case"fulfilled":return x.value;case"rejected":throw v=x.reason,d2(v),v}throw kn=x,rd}}function Th(v){try{var x=v._init;return x(v._payload)}catch(T){throw T!==null&&typeof T=="object"&&typeof T.then=="function"?(kn=T,rd):T}}var kn=null;function qx(){if(kn===null)throw Error(r(459));var v=kn;return kn=null,v}function d2(v){if(v===rd||v===tu)throw Error(r(483))}var id=null,ad=0;function Xx(v){var x=ad;return ad+=1,id===null&&(id=[]),f2(id,v,x)}function Im(v,x){x=x.props.ref,v.ref=x!==void 0?x:null}function km(v,x){throw x.$$typeof===d?Error(r(525)):(v=Object.prototype.toString.call(x),Error(r(31,v==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":v)))}function p0(v){function x(Ke,je){if(v){var nt=Ke.deletions;nt===null?(Ke.deletions=[je],Ke.flags|=16):nt.push(je)}}function T(Ke,je){if(!v)return null;for(;je!==null;)x(Ke,je),je=je.sibling;return null}function R(Ke){for(var je=new Map;Ke!==null;)Ke.key!==null?je.set(Ke.key,Ke):je.set(Ke.index,Ke),Ke=Ke.sibling;return je}function z(Ke,je){return Ke=Ou(Ke,je),Ke.index=0,Ke.sibling=null,Ke}function j(Ke,je,nt){return Ke.index=nt,v?(nt=Ke.alternate,nt!==null?(nt=nt.index,nt<je?(Ke.flags|=67108866,je):nt):(Ke.flags|=67108866,je)):(Ke.flags|=1048576,je)}function ae(Ke){return v&&Ke.alternate===null&&(Ke.flags|=67108866),Ke}function _e(Ke,je,nt,Tt){return je===null||je.tag!==6?(je=Vx(nt,Ke.mode,Tt),je.return=Ke,je):(je=z(je,nt),je.return=Ke,je)}function Be(Ke,je,nt,Tt){var Rn=nt.type;return Rn===m?_t(Ke,je,nt.props.children,Tt,nt.key):je!==null&&(je.elementType===Rn||typeof Rn=="object"&&Rn!==null&&Rn.$$typeof===I&&Th(Rn)===je.type)?(je=z(je,nt.props),Im(je,nt),je.return=Ke,je):(je=Cm(nt.type,nt.key,nt.props,null,Ke.mode,Tt),Im(je,nt),je.return=Ke,je)}function it(Ke,je,nt,Tt){return je===null||je.tag!==4||je.stateNode.containerInfo!==nt.containerInfo||je.stateNode.implementation!==nt.implementation?(je=Jl(nt,Ke.mode,Tt),je.return=Ke,je):(je=z(je,nt.children||[]),je.return=Ke,je)}function _t(Ke,je,nt,Tt,Rn){return je===null||je.tag!==7?(je=Bc(nt,Ke.mode,Tt,Rn),je.return=Ke,je):(je=z(je,nt),je.return=Ke,je)}function Mt(Ke,je,nt){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=Vx(""+je,Ke.mode,nt),je.return=Ke,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case h:return nt=Cm(je.type,je.key,je.props,null,Ke.mode,nt),Im(nt,je),nt.return=Ke,nt;case p:return je=Jl(je,Ke.mode,nt),je.return=Ke,je;case I:return je=Th(je),Mt(Ke,je,nt)}if(q(je)||O(je))return je=Bc(je,Ke.mode,nt,null),je.return=Ke,je;if(typeof je.then=="function")return Mt(Ke,Xx(je),nt);if(je.$$typeof===S)return Mt(Ke,Dm(Ke,je),nt);km(Ke,je)}return null}function ut(Ke,je,nt,Tt){var Rn=je!==null?je.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Rn!==null?null:_e(Ke,je,""+nt,Tt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case h:return nt.key===Rn?Be(Ke,je,nt,Tt):null;case p:return nt.key===Rn?it(Ke,je,nt,Tt):null;case I:return nt=Th(nt),ut(Ke,je,nt,Tt)}if(q(nt)||O(nt))return Rn!==null?null:_t(Ke,je,nt,Tt,null);if(typeof nt.then=="function")return ut(Ke,je,Xx(nt),Tt);if(nt.$$typeof===S)return ut(Ke,je,Dm(Ke,nt),Tt);km(Ke,nt)}return null}function dt(Ke,je,nt,Tt,Rn){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return Ke=Ke.get(nt)||null,_e(je,Ke,""+Tt,Rn);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case h:return Ke=Ke.get(Tt.key===null?nt:Tt.key)||null,Be(je,Ke,Tt,Rn);case p:return Ke=Ke.get(Tt.key===null?nt:Tt.key)||null,it(je,Ke,Tt,Rn);case I:return Tt=Th(Tt),dt(Ke,je,nt,Tt,Rn)}if(q(Tt)||O(Tt))return Ke=Ke.get(nt)||null,_t(je,Ke,Tt,Rn,null);if(typeof Tt.then=="function")return dt(Ke,je,nt,Xx(Tt),Rn);if(Tt.$$typeof===S)return dt(Ke,je,nt,Dm(je,Tt),Rn);km(je,Tt)}return null}function dn(Ke,je,nt,Tt){for(var Rn=null,$r=null,_n=je,fr=je=0,Er=null;_n!==null&&fr<nt.length;fr++){_n.index>fr?(Er=_n,_n=null):Er=_n.sibling;var Jr=ut(Ke,_n,nt[fr],Tt);if(Jr===null){_n===null&&(_n=Er);break}v&&_n&&Jr.alternate===null&&x(Ke,_n),je=j(Jr,je,fr),$r===null?Rn=Jr:$r.sibling=Jr,$r=Jr,_n=Er}if(fr===nt.length)return T(Ke,_n),Sr&&zc(Ke,fr),Rn;if(_n===null){for(;fr<nt.length;fr++)_n=Mt(Ke,nt[fr],Tt),_n!==null&&(je=j(_n,je,fr),$r===null?Rn=_n:$r.sibling=_n,$r=_n);return Sr&&zc(Ke,fr),Rn}for(_n=R(_n);fr<nt.length;fr++)Er=dt(_n,Ke,fr,nt[fr],Tt),Er!==null&&(v&&Er.alternate!==null&&_n.delete(Er.key===null?fr:Er.key),je=j(Er,je,fr),$r===null?Rn=Er:$r.sibling=Er,$r=Er);return v&&_n.forEach(function(L0){return x(Ke,L0)}),Sr&&zc(Ke,fr),Rn}function On(Ke,je,nt,Tt){if(nt==null)throw Error(r(151));for(var Rn=null,$r=null,_n=je,fr=je=0,Er=null,Jr=nt.next();_n!==null&&!Jr.done;fr++,Jr=nt.next()){_n.index>fr?(Er=_n,_n=null):Er=_n.sibling;var L0=ut(Ke,_n,Jr.value,Tt);if(L0===null){_n===null&&(_n=Er);break}v&&_n&&L0.alternate===null&&x(Ke,_n),je=j(L0,je,fr),$r===null?Rn=L0:$r.sibling=L0,$r=L0,_n=Er}if(Jr.done)return T(Ke,_n),Sr&&zc(Ke,fr),Rn;if(_n===null){for(;!Jr.done;fr++,Jr=nt.next())Jr=Mt(Ke,Jr.value,Tt),Jr!==null&&(je=j(Jr,je,fr),$r===null?Rn=Jr:$r.sibling=Jr,$r=Jr);return Sr&&zc(Ke,fr),Rn}for(_n=R(_n);!Jr.done;fr++,Jr=nt.next())Jr=dt(_n,Ke,fr,Jr.value,Tt),Jr!==null&&(v&&Jr.alternate!==null&&_n.delete(Jr.key===null?fr:Jr.key),je=j(Jr,je,fr),$r===null?Rn=Jr:$r.sibling=Jr,$r=Jr);return v&&_n.forEach(function(Xxe){return x(Ke,Xxe)}),Sr&&zc(Ke,fr),Rn}function _i(Ke,je,nt,Tt){if(typeof nt=="object"&&nt!==null&&nt.type===m&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case h:e:{for(var Rn=nt.key;je!==null;){if(je.key===Rn){if(Rn=nt.type,Rn===m){if(je.tag===7){T(Ke,je.sibling),Tt=z(je,nt.props.children),Tt.return=Ke,Ke=Tt;break e}}else if(je.elementType===Rn||typeof Rn=="object"&&Rn!==null&&Rn.$$typeof===I&&Th(Rn)===je.type){T(Ke,je.sibling),Tt=z(je,nt.props),Im(Tt,nt),Tt.return=Ke,Ke=Tt;break e}T(Ke,je);break}else x(Ke,je);je=je.sibling}nt.type===m?(Tt=Bc(nt.props.children,Ke.mode,Tt,nt.key),Tt.return=Ke,Ke=Tt):(Tt=Cm(nt.type,nt.key,nt.props,null,Ke.mode,Tt),Im(Tt,nt),Tt.return=Ke,Ke=Tt)}return ae(Ke);case p:e:{for(Rn=nt.key;je!==null;){if(je.key===Rn)if(je.tag===4&&je.stateNode.containerInfo===nt.containerInfo&&je.stateNode.implementation===nt.implementation){T(Ke,je.sibling),Tt=z(je,nt.children||[]),Tt.return=Ke,Ke=Tt;break e}else{T(Ke,je);break}else x(Ke,je);je=je.sibling}Tt=Jl(nt,Ke.mode,Tt),Tt.return=Ke,Ke=Tt}return ae(Ke);case I:return nt=Th(nt),_i(Ke,je,nt,Tt)}if(q(nt))return dn(Ke,je,nt,Tt);if(O(nt)){if(Rn=O(nt),typeof Rn!="function")throw Error(r(150));return nt=Rn.call(nt),On(Ke,je,nt,Tt)}if(typeof nt.then=="function")return _i(Ke,je,Xx(nt),Tt);if(nt.$$typeof===S)return _i(Ke,je,Dm(Ke,nt),Tt);km(Ke,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,je!==null&&je.tag===6?(T(Ke,je.sibling),Tt=z(je,nt),Tt.return=Ke,Ke=Tt):(T(Ke,je),Tt=Vx(nt,Ke.mode,Tt),Tt.return=Ke,Ke=Tt),ae(Ke)):T(Ke,je)}return function(Ke,je,nt,Tt){try{ad=0;var Rn=_i(Ke,je,nt,Tt);return id=null,Rn}catch(_n){if(_n===rd||_n===tu)throw _n;var $r=Fs(29,_n,null,Ke.mode);return $r.lanes=Tt,$r.return=Ke,$r}finally{}}}var Ch=p0(!0),iE=p0(!1),sd=!1;function h2(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function p2(v,x){v=v.updateQueue,x.updateQueue===v&&(x.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,callbacks:null})}function Vu(v){return{lane:v,tag:0,payload:null,callback:null,next:null}}function Wc(v,x,T){var R=v.updateQueue;if(R===null)return null;if(R=R.shared,(Ar&2)!==0){var z=R.pending;return z===null?x.next=x:(x.next=z.next,z.next=x),R.pending=x,x=u0(v),Ux(v,null,T),x}return Tm(v,R,x,T),u0(v)}function od(v,x,T){if(x=x.updateQueue,x!==null&&(x=x.shared,(T&4194048)!==0)){var R=x.lanes;R&=v.pendingLanes,T|=R,x.lanes=T,Li(v,T)}}function Zx(v,x){var T=v.updateQueue,R=v.alternate;if(R!==null&&(R=R.updateQueue,T===R)){var z=null,j=null;if(T=T.firstBaseUpdate,T!==null){do{var ae={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};j===null?z=j=ae:j=j.next=ae,T=T.next}while(T!==null);j===null?z=j=x:j=j.next=x}else z=j=x;T={baseState:R.baseState,firstBaseUpdate:z,lastBaseUpdate:j,shared:R.shared,callbacks:R.callbacks},v.updateQueue=T;return}v=T.lastBaseUpdate,v===null?T.firstBaseUpdate=x:v.next=x,T.lastBaseUpdate=x}var v2=!1;function Lm(){if(v2){var v=eu;if(v!==null)throw v}}function Ah(v,x,T,R){v2=!1;var z=v.updateQueue;sd=!1;var j=z.firstBaseUpdate,ae=z.lastBaseUpdate,_e=z.shared.pending;if(_e!==null){z.shared.pending=null;var Be=_e,it=Be.next;Be.next=null,ae===null?j=it:ae.next=it,ae=Be;var _t=v.alternate;_t!==null&&(_t=_t.updateQueue,_e=_t.lastBaseUpdate,_e!==ae&&(_e===null?_t.firstBaseUpdate=it:_e.next=it,_t.lastBaseUpdate=Be))}if(j!==null){var Mt=z.baseState;ae=0,_t=it=Be=null,_e=j;do{var ut=_e.lane&-536870913,dt=ut!==_e.lane;if(dt?(xr&ut)===ut:(R&ut)===ut){ut!==0&&ut===jc&&(v2=!0),_t!==null&&(_t=_t.next={lane:0,tag:_e.tag,payload:_e.payload,callback:null,next:null});e:{var dn=v,On=_e;ut=x;var _i=T;switch(On.tag){case 1:if(dn=On.payload,typeof dn=="function"){Mt=dn.call(_i,Mt,ut);break e}Mt=dn;break e;case 3:dn.flags=dn.flags&-65537|128;case 0:if(dn=On.payload,ut=typeof dn=="function"?dn.call(_i,Mt,ut):dn,ut==null)break e;Mt=f({},Mt,ut);break e;case 2:sd=!0}}ut=_e.callback,ut!==null&&(v.flags|=64,dt&&(v.flags|=8192),dt=z.callbacks,dt===null?z.callbacks=[ut]:dt.push(ut))}else dt={lane:ut,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},_t===null?(it=_t=dt,Be=Mt):_t=_t.next=dt,ae|=ut;if(_e=_e.next,_e===null){if(_e=z.shared.pending,_e===null)break;dt=_e,_e=dt.next,dt.next=null,z.lastBaseUpdate=dt,z.shared.pending=null}}while(!0);_t===null&&(Be=Mt),z.baseState=Be,z.firstBaseUpdate=it,z.lastBaseUpdate=_t,j===null&&(z.shared.lanes=0),tl|=ae,v.lanes=ae,v.memoizedState=Mt}}function Gu(v,x){if(typeof v!="function")throw Error(r(191,v));v.call(x)}function $a(v,x){var T=v.callbacks;if(T!==null)for(v.callbacks=null,v=0;v<T.length;v++)Gu(T[v],x)}var Wo=J(null),zs=J(0);function m2(v,x){v=Zi,ee(zs,v),ee(Wo,x),Zi=v|x.baseLanes}function g2(){ee(zs,Zi),ee(Wo,Wo.current)}function bs(){Zi=zs.current,H(Wo),H(zs)}var ba=J(null),Ml=null;function ld(v){var x=v.alternate;ee(Oi,Oi.current&1),ee(ba,v),Ml===null&&(x===null||Wo.current!==null||x.memoizedState!==null)&&(Ml=v)}function y2(v){ee(Oi,Oi.current),ee(ba,v),Ml===null&&(Ml=v)}function aE(v){v.tag===22?(ee(Oi,Oi.current),ee(ba,v),Ml===null&&(Ml=v)):Yc()}function Yc(){ee(Oi,Oi.current),ee(ba,ba.current)}function Yo(v){H(ba),Ml===v&&(Ml=null),H(Oi)}var Oi=J(0);function Kx(v){for(var x=v;x!==null;){if(x.tag===13){var T=x.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||n4(T)||r4(T)))return x}else if(x.tag===19&&(x.memoizedProps.revealOrder==="forwards"||x.memoizedProps.revealOrder==="backwards"||x.memoizedProps.revealOrder==="unstable_legacy-backwards"||x.memoizedProps.revealOrder==="together")){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===v)break;for(;x.sibling===null;){if(x.return===null||x.return===v)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var oo=0,Fn=null,ai=null,ra=null,$x=!1,Hu=!1,Mh=!1,Jx=0,Pm=0,ju=null,LP=0;function Fi(){throw Error(r(321))}function x2(v,x){if(x===null)return!1;for(var T=0;T<x.length&&T<v.length;T++)if(!Ci(v[T],x[T]))return!1;return!0}function _2(v,x,T,R,z,j){return oo=j,Fn=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,W.H=v===null||v.memoizedState===null?CE:g0,Mh=!1,j=T(R,z),Mh=!1,Hu&&(j=oE(x,T,R,z)),sE(v),j}function sE(v){W.H=Um;var x=ai!==null&&ai.next!==null;if(oo=0,ra=ai=Fn=null,$x=!1,Pm=0,ju=null,x)throw Error(r(300));v===null||Ai||(v=v.dependencies,v!==null&&f0(v)&&(Ai=!0))}function oE(v,x,T,R){Fn=v;var z=0;do{if(Hu&&(ju=null),Pm=0,Hu=!1,25<=z)throw Error(r(301));if(z+=1,ra=ai=null,v.updateQueue!=null){var j=v.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}W.H=Vm,j=x(T,R)}while(Hu);return j}function PP(){var v=W.H,x=v.useState()[0];return x=typeof x.then=="function"?Fm(x):x,v=v.useState()[0],(ai!==null?ai.memoizedState:null)!==v&&(Fn.flags|=1024),x}function b2(){var v=Jx!==0;return Jx=0,v}function S2(v,x,T){x.updateQueue=v.updateQueue,x.flags&=-2053,v.lanes&=~T}function w2(v){if($x){for(v=v.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}$x=!1}oo=0,ra=ai=Fn=null,Hu=!1,Pm=Jx=0,ju=null}function Us(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ra===null?Fn.memoizedState=ra=v:ra=ra.next=v,ra}function Wi(){if(ai===null){var v=Fn.alternate;v=v!==null?v.memoizedState:null}else v=ai.next;var x=ra===null?Fn.memoizedState:ra.next;if(x!==null)ra=x,ai=v;else{if(v===null)throw Fn.alternate===null?Error(r(467)):Error(r(310));ai=v,v={memoizedState:ai.memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},ra===null?Fn.memoizedState=ra=v:ra=ra.next=v}return ra}function Om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fm(v){var x=Pm;return Pm+=1,ju===null&&(ju=[]),v=f2(ju,v,x),x=Fn,(ra===null?x.memoizedState:ra.next)===null&&(x=x.alternate,W.H=x===null||x.memoizedState===null?CE:g0),v}function Qx(v){if(v!==null&&typeof v=="object"){if(typeof v.then=="function")return Fm(v);if(v.$$typeof===S)return Oa(v)}throw Error(r(438,String(v)))}function T2(v){var x=null,T=Fn.updateQueue;if(T!==null&&(x=T.memoCache),x==null){var R=Fn.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(x={data:R.data.map(function(z){return z.slice()}),index:0})))}if(x==null&&(x={data:[],index:0}),T===null&&(T=Om(),Fn.updateQueue=T),T.memoCache=x,T=x.data[x.index],T===void 0)for(T=x.data[x.index]=Array(v),R=0;R<v;R++)T[R]=L;return x.index++,T}function qc(v,x){return typeof x=="function"?x(v):x}function e1(v){var x=Wi();return C2(x,ai,v)}function C2(v,x,T){var R=v.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=T;var z=v.baseQueue,j=R.pending;if(j!==null){if(z!==null){var ae=z.next;z.next=j.next,j.next=ae}x.baseQueue=z=j,R.pending=null}if(j=v.baseState,z===null)v.memoizedState=j;else{x=z.next;var _e=ae=null,Be=null,it=x,_t=!1;do{var Mt=it.lane&-536870913;if(Mt!==it.lane?(xr&Mt)===Mt:(oo&Mt)===Mt){var ut=it.revertLane;if(ut===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),Mt===jc&&(_t=!0);else if((oo&ut)===ut){it=it.next,ut===jc&&(_t=!0);continue}else Mt={lane:0,revertLane:it.revertLane,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Be===null?(_e=Be=Mt,ae=j):Be=Be.next=Mt,Fn.lanes|=ut,tl|=ut;Mt=it.action,Mh&&T(j,Mt),j=it.hasEagerState?it.eagerState:T(j,Mt)}else ut={lane:Mt,revertLane:it.revertLane,gesture:it.gesture,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Be===null?(_e=Be=ut,ae=j):Be=Be.next=ut,Fn.lanes|=Mt,tl|=Mt;it=it.next}while(it!==null&&it!==x);if(Be===null?ae=j:Be.next=_e,!Ci(j,v.memoizedState)&&(Ai=!0,_t&&(T=eu,T!==null)))throw T;v.memoizedState=j,v.baseState=ae,v.baseQueue=Be,R.lastRenderedState=j}return z===null&&(R.lanes=0),[v.memoizedState,R.dispatch]}function t1(v){var x=Wi(),T=x.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=v;var R=T.dispatch,z=T.pending,j=x.memoizedState;if(z!==null){T.pending=null;var ae=z=z.next;do j=v(j,ae.action),ae=ae.next;while(ae!==z);Ci(j,x.memoizedState)||(Ai=!0),x.memoizedState=j,x.baseQueue===null&&(x.baseState=j),T.lastRenderedState=j}return[j,R]}function A2(v,x,T){var R=Fn,z=Wi(),j=Sr;if(j){if(T===void 0)throw Error(r(407));T=T()}else T=x();var ae=!Ci((ai||z).memoizedState,T);if(ae&&(z.memoizedState=T,Ai=!0),z=z.queue,N2(E2.bind(null,R,z,v),[v]),z.getSnapshot!==x||ae||ra!==null&&ra.memoizedState.tag&1){if(R.flags|=2048,v0(9,{destroy:void 0},M2.bind(null,R,z,T,x),null),Zr===null)throw Error(r(349));j||(oo&127)!==0||lE(R,x,T)}return T}function lE(v,x,T){v.flags|=16384,v={getSnapshot:x,value:T},x=Fn.updateQueue,x===null?(x=Om(),Fn.updateQueue=x,x.stores=[v]):(T=x.stores,T===null?x.stores=[v]:T.push(v))}function M2(v,x,T,R){x.value=T,x.getSnapshot=R,D2(x)&&n1(v)}function E2(v,x,T){return T(function(){D2(x)&&n1(v)})}function D2(v){var x=v.getSnapshot;v=v.value;try{var T=x();return!Ci(v,T)}catch{return!0}}function n1(v){var x=Jf(v,2);x!==null&&w(x,v,2)}function Bm(v){var x=Us();if(typeof v=="function"){var T=v;if(v=T(),Mh){Yt(!0);try{T()}finally{Yt(!1)}}}return x.memoizedState=x.baseState=v,x.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:v},x}function uE(v,x,T,R){return v.baseState=T,C2(v,ai,typeof R=="function"?R:qc)}function OP(v,x,T,R,z){if(Xc(v))throw Error(r(485));if(v=x.action,v!==null){var j={payload:z,action:v,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ae){j.listeners.push(ae)}};W.T!==null?T(!0):j.isTransition=!1,R(j),T=x.pending,T===null?(j.next=x.pending=j,cE(x,j)):(j.next=T.next,x.pending=T.next=j)}}function cE(v,x){var T=x.action,R=x.payload,z=v.state;if(x.isTransition){var j=W.T,ae={};W.T=ae;try{var _e=T(z,R),Be=W.S;Be!==null&&Be(ae,_e),fE(v,x,_e)}catch(it){r1(v,x,it)}finally{j!==null&&ae.types!==null&&(j.types=ae.types),W.T=j}}else try{j=T(z,R),fE(v,x,j)}catch(it){r1(v,x,it)}}function fE(v,x,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(R){R2(v,x,R)},function(R){return r1(v,x,R)}):R2(v,x,T)}function R2(v,x,T){x.status="fulfilled",x.value=T,dE(x),v.state=T,x=v.pending,x!==null&&(T=x.next,T===x?v.pending=null:(T=T.next,x.next=T,cE(v,T)))}function r1(v,x,T){var R=v.pending;if(v.pending=null,R!==null){R=R.next;do x.status="rejected",x.reason=T,dE(x),x=x.next;while(x!==R)}v.action=null}function dE(v){v=v.listeners;for(var x=0;x<v.length;x++)(0,v[x])()}function hE(v,x){return x}function pE(v,x){if(Sr){var T=Zr.formState;if(T!==null){e:{var R=Fn;if(Sr){if(gi){t:{for(var z=gi,j=Pa;z.nodeType!==8;){if(!j){z=null;break t}if(z=Ku(z.nextSibling),z===null){z=null;break t}}j=z.data,z=j==="F!"||j==="F"?z:null}if(z){gi=Ku(z.nextSibling),R=z.data==="F!";break e}}yr(R)}R=!1}R&&(x=T[0])}}return T=Us(),T.memoizedState=T.baseState=x,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hE,lastRenderedState:x},T.queue=R,T=TE.bind(null,Fn,R),R.dispatch=T,R=Bm(!1),j=zm.bind(null,Fn,!1,R.queue),R=Us(),z={state:x,dispatch:null,action:v,pending:null},R.queue=z,T=OP.bind(null,Fn,z,j,T),z.dispatch=T,R.memoizedState=v,[x,T,!1]}function vE(v){var x=Wi();return mE(x,ai,v)}function mE(v,x,T){if(x=C2(v,x,hE)[0],v=e1(qc)[0],typeof x=="object"&&x!==null&&typeof x.then=="function")try{var R=Fm(x)}catch(ae){throw ae===rd?tu:ae}else R=x;x=Wi();var z=x.queue,j=z.dispatch;return T!==x.memoizedState&&(Fn.flags|=2048,v0(9,{destroy:void 0},FP.bind(null,z,T),null)),[R,j,v]}function FP(v,x){v.action=x}function gE(v){var x=Wi(),T=ai;if(T!==null)return mE(x,T,v);Wi(),x=x.memoizedState,T=Wi();var R=T.queue.dispatch;return T.memoizedState=v,[x,R,!1]}function v0(v,x,T,R){return v={tag:v,create:T,deps:R,inst:x,next:null},x=Fn.updateQueue,x===null&&(x=Om(),Fn.updateQueue=x),T=x.lastEffect,T===null?x.lastEffect=v.next=v:(R=T.next,T.next=v,v.next=R,x.lastEffect=v),v}function yE(){return Wi().memoizedState}function i1(v,x,T,R){var z=Us();Fn.flags|=v,z.memoizedState=v0(1|x,{destroy:void 0},T,R===void 0?null:R)}function a1(v,x,T,R){var z=Wi();R=R===void 0?null:R;var j=z.memoizedState.inst;ai!==null&&R!==null&&x2(R,ai.memoizedState.deps)?z.memoizedState=v0(x,j,T,R):(Fn.flags|=v,z.memoizedState=v0(1|x,j,T,R))}function xE(v,x){i1(8390656,8,v,x)}function N2(v,x){a1(2048,8,v,x)}function _E(v){Fn.flags|=4;var x=Fn.updateQueue;if(x===null)x=Om(),Fn.updateQueue=x,x.events=[v];else{var T=x.events;T===null?x.events=[v]:T.push(v)}}function bE(v){var x=Wi().memoizedState;return _E({ref:x,nextImpl:v}),function(){if((Ar&2)!==0)throw Error(r(440));return x.impl.apply(void 0,arguments)}}function SE(v,x){return a1(4,2,v,x)}function qo(v,x){return a1(4,4,v,x)}function I2(v,x){if(typeof x=="function"){v=v();var T=x(v);return function(){typeof T=="function"?T():x(null)}}if(x!=null)return v=v(),x.current=v,function(){x.current=null}}function s1(v,x,T){T=T!=null?T.concat([v]):null,a1(4,4,I2.bind(null,x,v),T)}function o1(){}function k2(v,x){var T=Wi();x=x===void 0?null:x;var R=T.memoizedState;return x!==null&&x2(x,R[1])?R[0]:(T.memoizedState=[v,x],v)}function L2(v,x){var T=Wi();x=x===void 0?null:x;var R=T.memoizedState;if(x!==null&&x2(x,R[1]))return R[0];if(R=v(),Mh){Yt(!0);try{v()}finally{Yt(!1)}}return T.memoizedState=[R,x],R}function P2(v,x,T){return T===void 0||(oo&1073741824)!==0&&(xr&261930)===0?v.memoizedState=x:(v.memoizedState=T,v=b(),Fn.lanes|=v,tl|=v,T)}function O2(v,x,T,R){return Ci(T,x)?T:Wo.current!==null?(v=P2(v,T,R),Ci(v,x)||(Ai=!0),v):(oo&42)===0||(oo&1073741824)!==0&&(xr&261930)===0?(Ai=!0,v.memoizedState=T):(v=b(),Fn.lanes|=v,tl|=v,x)}function F2(v,x,T,R,z){var j=Z.p;Z.p=j!==0&&8>j?j:8;var ae=W.T,_e={};W.T=_e,zm(v,!1,x,T);try{var Be=z(),it=W.S;if(it!==null&&it(_e,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var _t=c2(Be,R);m0(v,x,_t,Gs(v))}else m0(v,x,R,Gs(v))}catch(Mt){m0(v,x,{then:function(){},status:"rejected",reason:Mt},Gs())}finally{Z.p=j,ae!==null&&_e.types!==null&&(ae.types=_e.types),W.T=ae}}function BP(){}function B2(v,x,T,R){if(v.tag!==5)throw Error(r(476));var z=wE(v).queue;F2(v,z,x,X,T===null?BP:function(){return z2(v),T(R)})}function wE(v){var x=v.memoizedState;if(x!==null)return x;x={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:X},next:null};var T={};return x.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:T},next:null},v.memoizedState=x,v=v.alternate,v!==null&&(v.memoizedState=x),x}function z2(v){var x=wE(v);x.next===null&&(x=v.alternate.memoizedState),m0(v,x.next.queue,{},Gs())}function U2(){return Oa(Q2)}function Ja(){return Wi().memoizedState}function V2(){return Wi().memoizedState}function zP(v){for(var x=v.return;x!==null;){switch(x.tag){case 24:case 3:var T=Gs();v=Vu(T);var R=Wc(x,v,T);R!==null&&(w(R,x,T),od(R,x,T)),x={cache:o2()},v.payload=x;return}x=x.return}}function UP(v,x,T){var R=Gs();T={lane:R,revertLane:0,gesture:null,action:T,hasEagerState:!1,eagerState:null,next:null},Xc(v)?Eh(x,T):(T=l0(v,x,T,R),T!==null&&(w(T,v,R),lo(T,x,R)))}function TE(v,x,T){var R=Gs();m0(v,x,T,R)}function m0(v,x,T,R){var z={lane:R,revertLane:0,gesture:null,action:T,hasEagerState:!1,eagerState:null,next:null};if(Xc(v))Eh(x,z);else{var j=v.alternate;if(v.lanes===0&&(j===null||j.lanes===0)&&(j=x.lastRenderedReducer,j!==null))try{var ae=x.lastRenderedState,_e=j(ae,T);if(z.hasEagerState=!0,z.eagerState=_e,Ci(_e,ae))return Tm(v,x,z,0),Zr===null&&$f(),!1}catch{}finally{}if(T=l0(v,x,z,R),T!==null)return w(T,v,R),lo(T,x,R),!0}return!1}function zm(v,x,T,R){if(R={lane:2,revertLane:jP(),gesture:null,action:R,hasEagerState:!1,eagerState:null,next:null},Xc(v)){if(x)throw Error(r(479))}else x=l0(v,T,R,2),x!==null&&w(x,v,2)}function Xc(v){var x=v.alternate;return v===Fn||x!==null&&x===Fn}function Eh(v,x){Hu=$x=!0;var T=v.pending;T===null?x.next=x:(x.next=T.next,T.next=x),v.pending=x}function lo(v,x,T){if((T&4194048)!==0){var R=x.lanes;R&=v.pendingLanes,T|=R,x.lanes=T,Li(v,T)}}var Um={readContext:Oa,use:Qx,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useLayoutEffect:Fi,useInsertionEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useSyncExternalStore:Fi,useId:Fi,useHostTransitionStatus:Fi,useFormState:Fi,useActionState:Fi,useOptimistic:Fi,useMemoCache:Fi,useCacheRefresh:Fi};Um.useEffectEvent=Fi;var CE={readContext:Oa,use:Qx,useCallback:function(v,x){return Us().memoizedState=[v,x===void 0?null:x],v},useContext:Oa,useEffect:xE,useImperativeHandle:function(v,x,T){T=T!=null?T.concat([v]):null,i1(4194308,4,I2.bind(null,x,v),T)},useLayoutEffect:function(v,x){return i1(4194308,4,v,x)},useInsertionEffect:function(v,x){i1(4,2,v,x)},useMemo:function(v,x){var T=Us();x=x===void 0?null:x;var R=v();if(Mh){Yt(!0);try{v()}finally{Yt(!1)}}return T.memoizedState=[R,x],R},useReducer:function(v,x,T){var R=Us();if(T!==void 0){var z=T(x);if(Mh){Yt(!0);try{T(x)}finally{Yt(!1)}}}else z=x;return R.memoizedState=R.baseState=z,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:z},R.queue=v,v=v.dispatch=UP.bind(null,Fn,v),[R.memoizedState,v]},useRef:function(v){var x=Us();return v={current:v},x.memoizedState=v},useState:function(v){v=Bm(v);var x=v.queue,T=TE.bind(null,Fn,x);return x.dispatch=T,[v.memoizedState,T]},useDebugValue:o1,useDeferredValue:function(v,x){var T=Us();return P2(T,v,x)},useTransition:function(){var v=Bm(!1);return v=F2.bind(null,Fn,v.queue,!0,!1),Us().memoizedState=v,[!1,v]},useSyncExternalStore:function(v,x,T){var R=Fn,z=Us();if(Sr){if(T===void 0)throw Error(r(407));T=T()}else{if(T=x(),Zr===null)throw Error(r(349));(xr&127)!==0||lE(R,x,T)}z.memoizedState=T;var j={value:T,getSnapshot:x};return z.queue=j,xE(E2.bind(null,R,j,v),[v]),R.flags|=2048,v0(9,{destroy:void 0},M2.bind(null,R,j,T,x),null),T},useId:function(){var v=Us(),x=Zr.identifierPrefix;if(Sr){var T=zu,R=Bu;T=(R&~(1<<32-ke(R)-1)).toString(32)+T,x="_"+x+"R_"+T,T=Jx++,0<T&&(x+="H"+T.toString(32)),x+="_"}else T=LP++,x="_"+x+"r_"+T.toString(32)+"_";return v.memoizedState=x},useHostTransitionStatus:U2,useFormState:pE,useActionState:pE,useOptimistic:function(v){var x=Us();x.memoizedState=x.baseState=v;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return x.queue=T,x=zm.bind(null,Fn,!0,T),T.dispatch=x,[v,x]},useMemoCache:T2,useCacheRefresh:function(){return Us().memoizedState=zP.bind(null,Fn)},useEffectEvent:function(v){var x=Us(),T={impl:v};return x.memoizedState=T,function(){if((Ar&2)!==0)throw Error(r(440));return T.impl.apply(void 0,arguments)}}},g0={readContext:Oa,use:Qx,useCallback:k2,useContext:Oa,useEffect:N2,useImperativeHandle:s1,useInsertionEffect:SE,useLayoutEffect:qo,useMemo:L2,useReducer:e1,useRef:yE,useState:function(){return e1(qc)},useDebugValue:o1,useDeferredValue:function(v,x){var T=Wi();return O2(T,ai.memoizedState,v,x)},useTransition:function(){var v=e1(qc)[0],x=Wi().memoizedState;return[typeof v=="boolean"?v:Fm(v),x]},useSyncExternalStore:A2,useId:Ja,useHostTransitionStatus:U2,useFormState:vE,useActionState:vE,useOptimistic:function(v,x){var T=Wi();return uE(T,ai,v,x)},useMemoCache:T2,useCacheRefresh:V2};g0.useEffectEvent=bE;var Vm={readContext:Oa,use:Qx,useCallback:k2,useContext:Oa,useEffect:N2,useImperativeHandle:s1,useInsertionEffect:SE,useLayoutEffect:qo,useMemo:L2,useReducer:t1,useRef:yE,useState:function(){return t1(qc)},useDebugValue:o1,useDeferredValue:function(v,x){var T=Wi();return ai===null?P2(T,v,x):O2(T,ai.memoizedState,v,x)},useTransition:function(){var v=t1(qc)[0],x=Wi().memoizedState;return[typeof v=="boolean"?v:Fm(v),x]},useSyncExternalStore:A2,useId:Ja,useHostTransitionStatus:U2,useFormState:gE,useActionState:gE,useOptimistic:function(v,x){var T=Wi();return ai!==null?uE(T,ai,v,x):(T.baseState=v,[v,T.queue.dispatch])},useMemoCache:T2,useCacheRefresh:V2};Vm.useEffectEvent=bE;function y0(v,x,T,R){x=v.memoizedState,T=T(R,x),T=T==null?x:f({},x,T),v.memoizedState=T,v.lanes===0&&(v.updateQueue.baseState=T)}var Gm={enqueueSetState:function(v,x,T){v=v._reactInternals;var R=Gs(),z=Vu(R);z.payload=x,T!=null&&(z.callback=T),x=Wc(v,z,R),x!==null&&(w(x,v,R),od(x,v,R))},enqueueReplaceState:function(v,x,T){v=v._reactInternals;var R=Gs(),z=Vu(R);z.tag=1,z.payload=x,T!=null&&(z.callback=T),x=Wc(v,z,R),x!==null&&(w(x,v,R),od(x,v,R))},enqueueForceUpdate:function(v,x){v=v._reactInternals;var T=Gs(),R=Vu(T);R.tag=2,x!=null&&(R.callback=x),x=Wc(v,R,T),x!==null&&(w(x,v,T),od(x,v,T))}};function AE(v,x,T,R,z,j,ae){return v=v.stateNode,typeof v.shouldComponentUpdate=="function"?v.shouldComponentUpdate(R,j,ae):x.prototype&&x.prototype.isPureReactComponent?!n0(T,R)||!n0(z,j):!0}function ME(v,x,T,R){v=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(T,R),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(T,R),x.state!==v&&Gm.enqueueReplaceState(x,x.state,null)}function Qa(v,x){var T=x;if("ref"in x){T={};for(var R in x)R!=="ref"&&(T[R]=x[R])}if(v=v.defaultProps){T===x&&(T=f({},T));for(var z in v)T[z]===void 0&&(T[z]=v[z])}return T}function G2(v){Kf(v)}function EE(v){console.error(v)}function l1(v){Kf(v)}function u1(v,x){try{var T=v.onUncaughtError;T(x.value,{componentStack:x.stack})}catch(R){setTimeout(function(){throw R})}}function DE(v,x,T){try{var R=v.onCaughtError;R(T.value,{componentStack:T.stack,errorBoundary:x.tag===1?x.stateNode:null})}catch(z){setTimeout(function(){throw z})}}function H2(v,x,T){return T=Vu(T),T.tag=3,T.payload={element:null},T.callback=function(){u1(v,x)},T}function x0(v){return v=Vu(v),v.tag=3,v}function uo(v,x,T,R){var z=T.type.getDerivedStateFromError;if(typeof z=="function"){var j=R.value;v.payload=function(){return z(j)},v.callback=function(){DE(x,T,R)}}var ae=T.stateNode;ae!==null&&typeof ae.componentDidCatch=="function"&&(v.callback=function(){DE(x,T,R),typeof z!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this));var _e=R.stack;this.componentDidCatch(R.value,{componentStack:_e!==null?_e:""})})}function Xo(v,x,T,R,z){if(T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(x=T.alternate,x!==null&&td(x,T,z,!0),T=ba.current,T!==null){switch(T.tag){case 31:case 13:return Ml===null?qn():T.alternate===null&&Kr===0&&(Kr=3),T.flags&=-257,T.flags|=65536,T.lanes=z,R===Nm?T.flags|=16384:(x=T.updateQueue,x===null?T.updateQueue=new Set([R]):x.add(R),VP(v,R,z)),!1;case 22:return T.flags|=65536,R===Nm?T.flags|=16384:(x=T.updateQueue,x===null?(x={transitions:null,markerInstances:null,retryQueue:new Set([R])},T.updateQueue=x):(T=x.retryQueue,T===null?x.retryQueue=new Set([R]):T.add(R)),VP(v,R,z)),!1}throw Error(r(435,T.tag))}return VP(v,R,z),qn(),!1}if(Sr)return x=ba.current,x!==null?((x.flags&65536)===0&&(x.flags|=256),x.flags|=65536,x.lanes=z,R!==Hx&&(v=Error(r(422),{cause:R}),Em(ao(v,T)))):(R!==Hx&&(x=Error(r(423),{cause:R}),Em(ao(x,T))),v=v.current.alternate,v.flags|=65536,z&=-z,v.lanes|=z,R=ao(R,T),z=H2(v.stateNode,R,z),Zx(v,z),Kr!==4&&(Kr=2)),!1;var j=Error(r(520),{cause:R});if(j=ao(j,T),su===null?su=[j]:su.push(j),Kr!==4&&(Kr=2),x===null)return!0;R=ao(R,T),T=x;do{switch(T.tag){case 3:return T.flags|=65536,v=z&-z,T.lanes|=v,v=H2(T.stateNode,R,v),Zx(T,v),!1;case 1:if(x=T.type,j=T.stateNode,(T.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Zu===null||!Zu.has(j))))return T.flags|=65536,z&=-z,T.lanes|=z,z=x0(z),uo(z,v,T,R),Zx(T,z),!1}T=T.return}while(T!==null);return!1}var c1=Error(r(461)),Ai=!1;function Bi(v,x,T,R){x.child=v===null?iE(x,null,T,R):Ch(x,v.child,T,R)}function Hm(v,x,T,R,z){T=T.render;var j=x.ref;if("ref"in R){var ae={};for(var _e in R)_e!=="ref"&&(ae[_e]=R[_e])}else ae=R;return Sh(x),R=_2(v,x,T,ae,j,z),_e=b2(),v!==null&&!Ai?(S2(v,x,z),iu(v,x,z)):(Sr&&_e&&Gx(x),x.flags|=1,Bi(v,x,R,z),x.child)}function jm(v,x,T,R,z){if(v===null){var j=T.type;return typeof j=="function"&&!Bs(j)&&j.defaultProps===void 0&&T.compare===null?(x.tag=15,x.type=j,Zo(v,x,j,R,z)):(v=Cm(T.type,null,R,x,x.mode,z),v.ref=x.ref,v.return=x,x.child=v)}if(j=v.child,!cd(v,z)){var ae=j.memoizedProps;if(T=T.compare,T=T!==null?T:n0,T(ae,R)&&v.ref===x.ref)return iu(v,x,z)}return x.flags|=1,v=Ou(j,R),v.ref=x.ref,v.return=x,x.child=v}function Zo(v,x,T,R,z){if(v!==null){var j=v.memoizedProps;if(n0(j,R)&&v.ref===x.ref)if(Ai=!1,x.pendingProps=R=j,cd(v,z))(v.flags&131072)!==0&&(Ai=!0);else return x.lanes=v.lanes,iu(v,x,z)}return _0(v,x,T,R,z)}function Ko(v,x,T,R){var z=R.children,j=v!==null?v.memoizedState:null;if(v===null&&x.stateNode===null&&(x.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),R.mode==="hidden"){if((x.flags&128)!==0){if(j=j!==null?j.baseLanes|T:T,v!==null){for(R=x.child=v.child,z=0;R!==null;)z=z|R.lanes|R.childLanes,R=R.sibling;R=z&~j}else R=0,x.child=null;return Wu(v,x,j,T,R)}if((T&536870912)!==0)x.memoizedState={baseLanes:0,cachePool:null},v!==null&&h0(x,j!==null?j.cachePool:null),j!==null?m2(x,j):g2(),aE(x);else return R=x.lanes=536870912,Wu(v,x,j!==null?j.baseLanes|T:T,T,R)}else j!==null?(h0(x,j.cachePool),m2(x,j),Yc(),x.memoizedState=null):(v!==null&&h0(x,null),g2(),Yc());return Bi(v,x,z,T),x.child}function nu(v,x){return v!==null&&v.tag===22||x.stateNode!==null||(x.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.sibling}function Wu(v,x,T,R,z){var j=Uu();return j=j===null?null:{parent:wn._currentValue,pool:j},x.memoizedState={baseLanes:T,cachePool:j},v!==null&&h0(x,null),g2(),aE(x),v!==null&&td(v,x,R,!0),x.childLanes=z,null}function El(v,x){return x=b0({mode:x.mode,children:x.children},v.mode),x.ref=v.ref,v.child=x,x.return=v,x}function Fa(v,x,T){return Ch(x,v.child,null,T),v=El(x,x.pendingProps),v.flags|=2,Yo(x),x.memoizedState=null,v}function Wm(v,x,T){var R=x.pendingProps,z=(x.flags&128)!==0;if(x.flags&=-129,v===null){if(Sr){if(R.mode==="hidden")return v=El(x,R),x.lanes=536870912,nu(null,v);if(y2(x),(v=gi)?(v=JH(v,Pa),v=v!==null&&v.data==="&"?v:null,v!==null&&(x.memoizedState={dehydrated:v,treeContext:Fu!==null?{id:Bu,overflow:zu}:null,retryLane:536870912,hydrationErrors:null},T=JM(v),T.return=x,x.child=T,La=x,gi=null)):v=null,v===null)throw yr(x);return x.lanes=536870912,null}return El(x,R)}var j=v.memoizedState;if(j!==null){var ae=j.dehydrated;if(y2(x),z)if(x.flags&256)x.flags&=-257,x=Fa(v,x,T);else if(x.memoizedState!==null)x.child=v.child,x.flags|=128,x=null;else throw Error(r(558));else if(Ai||td(v,x,T,!1),z=(T&v.childLanes)!==0,Ai||z){if(R=Zr,R!==null&&(ae=ga(R,T),ae!==0&&ae!==j.retryLane))throw j.retryLane=ae,Jf(v,ae),w(R,v,ae),c1;qn(),x=Fa(v,x,T)}else v=j.treeContext,gi=Ku(ae.nextSibling),La=x,Sr=!0,Uc=null,Pa=!1,v!==null&&Mm(x,v),x=El(x,R),x.flags|=4096;return x}return v=Ou(v.child,{mode:R.mode,children:R.children}),v.ref=x.ref,x.child=v,v.return=x,v}function ru(v,x){var T=x.ref;if(T===null)v!==null&&v.ref!==null&&(x.flags|=4194816);else{if(typeof T!="function"&&typeof T!="object")throw Error(r(284));(v===null||v.ref!==T)&&(x.flags|=4194816)}}function _0(v,x,T,R,z){return Sh(x),T=_2(v,x,T,R,void 0,z),R=b2(),v!==null&&!Ai?(S2(v,x,z),iu(v,x,z)):(Sr&&R&&Gx(x),x.flags|=1,Bi(v,x,T,z),x.child)}function Ss(v,x,T,R,z,j){return Sh(x),x.updateQueue=null,T=oE(x,R,T,z),sE(v),R=b2(),v!==null&&!Ai?(S2(v,x,j),iu(v,x,j)):(Sr&&R&&Gx(x),x.flags|=1,Bi(v,x,T,j),x.child)}function es(v,x,T,R,z){if(Sh(x),x.stateNode===null){var j=Qf,ae=T.contextType;typeof ae=="object"&&ae!==null&&(j=Oa(ae)),j=new T(R,j),x.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Gm,x.stateNode=j,j._reactInternals=x,j=x.stateNode,j.props=R,j.state=x.memoizedState,j.refs={},h2(x),ae=T.contextType,j.context=typeof ae=="object"&&ae!==null?Oa(ae):Qf,j.state=x.memoizedState,ae=T.getDerivedStateFromProps,typeof ae=="function"&&(y0(x,T,ae,R),j.state=x.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(ae=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),ae!==j.state&&Gm.enqueueReplaceState(j,j.state,null),Ah(x,R,j,z),Lm(),j.state=x.memoizedState),typeof j.componentDidMount=="function"&&(x.flags|=4194308),R=!0}else if(v===null){j=x.stateNode;var _e=x.memoizedProps,Be=Qa(T,_e);j.props=Be;var it=j.context,_t=T.contextType;ae=Qf,typeof _t=="object"&&_t!==null&&(ae=Oa(_t));var Mt=T.getDerivedStateFromProps;_t=typeof Mt=="function"||typeof j.getSnapshotBeforeUpdate=="function",_e=x.pendingProps!==_e,_t||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(_e||it!==ae)&&ME(x,j,R,ae),sd=!1;var ut=x.memoizedState;j.state=ut,Ah(x,R,j,z),Lm(),it=x.memoizedState,_e||ut!==it||sd?(typeof Mt=="function"&&(y0(x,T,Mt,R),it=x.memoizedState),(Be=sd||AE(x,T,Be,R,ut,it,ae))?(_t||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(x.flags|=4194308)):(typeof j.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=R,x.memoizedState=it),j.props=R,j.state=it,j.context=ae,R=Be):(typeof j.componentDidMount=="function"&&(x.flags|=4194308),R=!1)}else{j=x.stateNode,p2(v,x),ae=x.memoizedProps,_t=Qa(T,ae),j.props=_t,Mt=x.pendingProps,ut=j.context,it=T.contextType,Be=Qf,typeof it=="object"&&it!==null&&(Be=Oa(it)),_e=T.getDerivedStateFromProps,(it=typeof _e=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ae!==Mt||ut!==Be)&&ME(x,j,R,Be),sd=!1,ut=x.memoizedState,j.state=ut,Ah(x,R,j,z),Lm();var dt=x.memoizedState;ae!==Mt||ut!==dt||sd||v!==null&&v.dependencies!==null&&f0(v.dependencies)?(typeof _e=="function"&&(y0(x,T,_e,R),dt=x.memoizedState),(_t=sd||AE(x,T,_t,R,ut,dt,Be)||v!==null&&v.dependencies!==null&&f0(v.dependencies))?(it||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(R,dt,Be),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(R,dt,Be)),typeof j.componentDidUpdate=="function"&&(x.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof j.componentDidUpdate!="function"||ae===v.memoizedProps&&ut===v.memoizedState||(x.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ae===v.memoizedProps&&ut===v.memoizedState||(x.flags|=1024),x.memoizedProps=R,x.memoizedState=dt),j.props=R,j.state=dt,j.context=Be,R=_t):(typeof j.componentDidUpdate!="function"||ae===v.memoizedProps&&ut===v.memoizedState||(x.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ae===v.memoizedProps&&ut===v.memoizedState||(x.flags|=1024),R=!1)}return j=R,ru(v,x),R=(x.flags&128)!==0,j||R?(j=x.stateNode,T=R&&typeof T.getDerivedStateFromError!="function"?null:j.render(),x.flags|=1,v!==null&&R?(x.child=Ch(x,v.child,null,z),x.child=Ch(x,null,T,z)):Bi(v,x,T,z),x.memoizedState=j.state,v=x.child):v=iu(v,x,z),v}function Rr(v,x,T,R){return bh(),x.flags|=256,Bi(v,x,T,R),x.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dl(v){return{baseLanes:v,cachePool:Yx()}}function Ym(v,x,T){return v=v!==null?v.childLanes&~T:0,x&&(v|=Mr),v}function Jo(v,x,T){var R=x.pendingProps,z=!1,j=(x.flags&128)!==0,ae;if((ae=j)||(ae=v!==null&&v.memoizedState===null?!1:(Oi.current&2)!==0),ae&&(z=!0,x.flags&=-129),ae=(x.flags&32)!==0,x.flags&=-33,v===null){if(Sr){if(z?ld(x):Yc(),(v=gi)?(v=JH(v,Pa),v=v!==null&&v.data!=="&"?v:null,v!==null&&(x.memoizedState={dehydrated:v,treeContext:Fu!==null?{id:Bu,overflow:zu}:null,retryLane:536870912,hydrationErrors:null},T=JM(v),T.return=x,x.child=T,La=x,gi=null)):v=null,v===null)throw yr(x);return r4(v)?x.lanes=32:x.lanes=536870912,null}var _e=R.children;return R=R.fallback,z?(Yc(),z=x.mode,_e=b0({mode:"hidden",children:_e},z),R=Bc(R,z,T,null),_e.return=x,R.return=x,_e.sibling=R,x.child=_e,R=x.child,R.memoizedState=Dl(T),R.childLanes=Ym(v,ae,T),x.memoizedState=$o,nu(null,R)):(ld(x),ud(x,_e))}var Be=v.memoizedState;if(Be!==null&&(_e=Be.dehydrated,_e!==null)){if(j)x.flags&256?(ld(x),x.flags&=-257,x=S0(v,x,T)):x.memoizedState!==null?(Yc(),x.child=v.child,x.flags|=128,x=null):(Yc(),_e=R.fallback,z=x.mode,R=b0({mode:"visible",children:R.children},z),_e=Bc(_e,z,T,null),_e.flags|=2,R.return=x,_e.return=x,R.sibling=_e,x.child=R,Ch(x,v.child,null,T),R=x.child,R.memoizedState=Dl(T),R.childLanes=Ym(v,ae,T),x.memoizedState=$o,x=nu(null,R));else if(ld(x),r4(_e)){if(ae=_e.nextSibling&&_e.nextSibling.dataset,ae)var it=ae.dgst;ae=it,R=Error(r(419)),R.stack="",R.digest=ae,Em({value:R,source:null,stack:null}),x=S0(v,x,T)}else if(Ai||td(v,x,T,!1),ae=(T&v.childLanes)!==0,Ai||ae){if(ae=Zr,ae!==null&&(R=ga(ae,T),R!==0&&R!==Be.retryLane))throw Be.retryLane=R,Jf(v,R),w(ae,v,R),c1;n4(_e)||qn(),x=S0(v,x,T)}else n4(_e)?(x.flags|=192,x.child=v.child,x=null):(v=Be.treeContext,gi=Ku(_e.nextSibling),La=x,Sr=!0,Uc=null,Pa=!1,v!==null&&Mm(x,v),x=ud(x,R.children),x.flags|=4096);return x}return z?(Yc(),_e=R.fallback,z=x.mode,Be=v.child,it=Be.sibling,R=Ou(Be,{mode:"hidden",children:R.children}),R.subtreeFlags=Be.subtreeFlags&65011712,it!==null?_e=Ou(it,_e):(_e=Bc(_e,z,T,null),_e.flags|=2),_e.return=x,R.return=x,R.sibling=_e,x.child=R,nu(null,R),R=x.child,_e=v.child.memoizedState,_e===null?_e=Dl(T):(z=_e.cachePool,z!==null?(Be=wn._currentValue,z=z.parent!==Be?{parent:Be,pool:Be}:z):z=Yx(),_e={baseLanes:_e.baseLanes|T,cachePool:z}),R.memoizedState=_e,R.childLanes=Ym(v,ae,T),x.memoizedState=$o,nu(v.child,R)):(ld(x),T=v.child,v=T.sibling,T=Ou(T,{mode:"visible",children:R.children}),T.return=x,T.sibling=null,v!==null&&(ae=x.deletions,ae===null?(x.deletions=[v],x.flags|=16):ae.push(v)),x.child=T,x.memoizedState=null,T)}function ud(v,x){return x=b0({mode:"visible",children:x},v.mode),x.return=v,v.child=x}function b0(v,x){return v=Fs(22,v,null,x),v.lanes=0,v}function S0(v,x,T){return Ch(x,v.child,null,T),v=ud(x,x.pendingProps.children),v.flags|=2,x.memoizedState=null,v}function Dh(v,x,T){v.lanes|=x;var R=v.alternate;R!==null&&(R.lanes|=x),Hc(v.return,x,T)}function qm(v,x,T,R,z,j){var ae=v.memoizedState;ae===null?v.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:R,tail:T,tailMode:z,treeForkCount:j}:(ae.isBackwards=x,ae.rendering=null,ae.renderingStartTime=0,ae.last=R,ae.tail=T,ae.tailMode=z,ae.treeForkCount=j)}function Xm(v,x,T){var R=x.pendingProps,z=R.revealOrder,j=R.tail;R=R.children;var ae=Oi.current,_e=(ae&2)!==0;if(_e?(ae=ae&1|2,x.flags|=128):ae&=1,ee(Oi,ae),Bi(v,x,R,T),R=Sr?c0:0,!_e&&v!==null&&(v.flags&128)!==0)e:for(v=x.child;v!==null;){if(v.tag===13)v.memoizedState!==null&&Dh(v,T,x);else if(v.tag===19)Dh(v,T,x);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===x)break e;for(;v.sibling===null;){if(v.return===null||v.return===x)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}switch(z){case"forwards":for(T=x.child,z=null;T!==null;)v=T.alternate,v!==null&&Kx(v)===null&&(z=T),T=T.sibling;T=z,T===null?(z=x.child,x.child=null):(z=T.sibling,T.sibling=null),qm(x,!1,z,T,j,R);break;case"backwards":case"unstable_legacy-backwards":for(T=null,z=x.child,x.child=null;z!==null;){if(v=z.alternate,v!==null&&Kx(v)===null){x.child=z;break}v=z.sibling,z.sibling=T,T=z,z=v}qm(x,!0,T,null,j,R);break;case"together":qm(x,!1,null,null,void 0,R);break;default:x.memoizedState=null}return x.child}function iu(v,x,T){if(v!==null&&(x.dependencies=v.dependencies),tl|=x.lanes,(T&x.childLanes)===0)if(v!==null){if(td(v,x,T,!1),(T&x.childLanes)===0)return null}else return null;if(v!==null&&x.child!==v.child)throw Error(r(153));if(x.child!==null){for(v=x.child,T=Ou(v,v.pendingProps),x.child=T,T.return=x;v.sibling!==null;)v=v.sibling,T=T.sibling=Ou(v,v.pendingProps),T.return=x;T.sibling=null}return x.child}function cd(v,x){return(v.lanes&x)!==0?!0:(v=v.dependencies,!!(v!==null&&f0(v)))}function Zm(v,x,T){switch(x.tag){case 3:xe(x,x.stateNode.containerInfo),Gc(x,wn,v.memoizedState.cache),bh();break;case 27:case 5:Ae(x);break;case 4:xe(x,x.stateNode.containerInfo);break;case 10:Gc(x,x.type,x.memoizedProps.value);break;case 31:if(x.memoizedState!==null)return x.flags|=128,y2(x),null;break;case 13:var R=x.memoizedState;if(R!==null)return R.dehydrated!==null?(ld(x),x.flags|=128,null):(T&x.child.childLanes)!==0?Jo(v,x,T):(ld(x),v=iu(v,x,T),v!==null?v.sibling:null);ld(x);break;case 19:var z=(v.flags&128)!==0;if(R=(T&x.childLanes)!==0,R||(td(v,x,T,!1),R=(T&x.childLanes)!==0),z){if(R)return Xm(v,x,T);x.flags|=128}if(z=x.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),ee(Oi,Oi.current),R)break;return null;case 22:return x.lanes=0,Ko(v,x,T,x.pendingProps);case 24:Gc(x,wn,v.memoizedState.cache)}return iu(v,x,T)}function f1(v,x,T){if(v!==null)if(v.memoizedProps!==x.pendingProps)Ai=!0;else{if(!cd(v,T)&&(x.flags&128)===0)return Ai=!1,Zm(v,x,T);Ai=(v.flags&131072)!==0}else Ai=!1,Sr&&(x.flags&1048576)!==0&&n2(x,c0,x.index);switch(x.lanes=0,x.tag){case 16:e:{var R=x.pendingProps;if(v=Th(x.elementType),x.type=v,typeof v=="function")Bs(v)?(R=Qa(v,R),x.tag=1,x=es(null,x,v,R,T)):(x.tag=0,x=_0(null,x,v,R,T));else{if(v!=null){var z=v.$$typeof;if(z===A){x.tag=11,x=Hm(null,x,v,R,T);break e}else if(z===D){x.tag=14,x=jm(null,x,v,R,T);break e}}throw x=V(v)||v,Error(r(306,x,""))}}return x;case 0:return _0(v,x,x.type,x.pendingProps,T);case 1:return R=x.type,z=Qa(R,x.pendingProps),es(v,x,R,z,T);case 3:e:{if(xe(x,x.stateNode.containerInfo),v===null)throw Error(r(387));R=x.pendingProps;var j=x.memoizedState;z=j.element,p2(v,x),Ah(x,R,null,T);var ae=x.memoizedState;if(R=ae.cache,Gc(x,wn,R),R!==j.cache&&Wx(x,[wn],T,!0),Lm(),R=ae.element,j.isDehydrated)if(j={element:R,isDehydrated:!1,cache:ae.cache},x.updateQueue.baseState=j,x.memoizedState=j,x.flags&256){x=Rr(v,x,R,T);break e}else if(R!==z){z=ao(Error(r(424)),x),Em(z),x=Rr(v,x,R,T);break e}else{switch(v=x.stateNode.containerInfo,v.nodeType){case 9:v=v.body;break;default:v=v.nodeName==="HTML"?v.ownerDocument.body:v}for(gi=Ku(v.firstChild),La=x,Sr=!0,Uc=null,Pa=!0,T=iE(x,null,R,T),x.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling}else{if(bh(),R===z){x=iu(v,x,T);break e}Bi(v,x,R,T)}x=x.child}return x;case 26:return ru(v,x),v===null?(T=ij(x.type,null,x.pendingProps,null))?x.memoizedState=T:Sr||(T=x.type,v=x.pendingProps,R=FE(ce.current).createElement(T),R[Te]=x,R[Ee]=v,Hs(R,T,v),He(R),x.stateNode=R):x.memoizedState=ij(x.type,v.memoizedProps,x.pendingProps,v.memoizedState),null;case 27:return Ae(x),v===null&&Sr&&(R=x.stateNode=tj(x.type,x.pendingProps,ce.current),La=x,Pa=!0,z=gi,D0(x.type)?(i4=z,gi=Ku(R.firstChild)):gi=z),Bi(v,x,x.pendingProps.children,T),ru(v,x),v===null&&(x.flags|=4194304),x.child;case 5:return v===null&&Sr&&((z=R=gi)&&(R=Txe(R,x.type,x.pendingProps,Pa),R!==null?(x.stateNode=R,La=x,gi=Ku(R.firstChild),Pa=!1,z=!0):z=!1),z||yr(x)),Ae(x),z=x.type,j=x.pendingProps,ae=v!==null?v.memoizedProps:null,R=j.children,QP(z,j)?R=null:ae!==null&&QP(z,ae)&&(x.flags|=32),x.memoizedState!==null&&(z=_2(v,x,PP,null,null,T),Q2._currentValue=z),ru(v,x),Bi(v,x,R,T),x.child;case 6:return v===null&&Sr&&((v=T=gi)&&(T=Cxe(T,x.pendingProps,Pa),T!==null?(x.stateNode=T,La=x,gi=null,v=!0):v=!1),v||yr(x)),null;case 13:return Jo(v,x,T);case 4:return xe(x,x.stateNode.containerInfo),R=x.pendingProps,v===null?x.child=Ch(x,null,R,T):Bi(v,x,R,T),x.child;case 11:return Hm(v,x,x.type,x.pendingProps,T);case 7:return Bi(v,x,x.pendingProps,T),x.child;case 8:return Bi(v,x,x.pendingProps.children,T),x.child;case 12:return Bi(v,x,x.pendingProps.children,T),x.child;case 10:return R=x.pendingProps,Gc(x,x.type,R.value),Bi(v,x,R.children,T),x.child;case 9:return z=x.type._context,R=x.pendingProps.children,Sh(x),z=Oa(z),R=R(z),x.flags|=1,Bi(v,x,R,T),x.child;case 14:return jm(v,x,x.type,x.pendingProps,T);case 15:return Zo(v,x,x.type,x.pendingProps,T);case 19:return Xm(v,x,T);case 31:return Wm(v,x,T);case 22:return Ko(v,x,T,x.pendingProps);case 24:return Sh(x),R=Oa(wn),v===null?(z=Uu(),z===null&&(z=Zr,j=o2(),z.pooledCache=j,j.refCount++,j!==null&&(z.pooledCacheLanes|=T),z=j),x.memoizedState={parent:R,cache:z},h2(x),Gc(x,wn,z)):((v.lanes&T)!==0&&(p2(v,x),Ah(x,null,null,T),Lm()),z=v.memoizedState,j=x.memoizedState,z.parent!==R?(z={parent:R,cache:R},x.memoizedState=z,x.lanes===0&&(x.memoizedState=x.updateQueue.baseState=z),Gc(x,wn,R)):(R=j.cache,Gc(x,wn,R),R!==z.cache&&Wx(x,[wn],T,!0))),Bi(v,x,x.pendingProps.children,T),x.child;case 29:throw x.pendingProps}throw Error(r(156,x.tag))}function co(v){v.flags|=4}function fd(v,x,T,R,z){if((x=(v.mode&32)!==0)&&(x=!1),x){if(v.flags|=16777216,(z&335544128)===z)if(v.stateNode.complete)v.flags|=8192;else if(Vt())v.flags|=8192;else throw kn=Nm,Rm}else v.flags&=-16777217}function Zc(v,x){if(x.type!=="stylesheet"||(x.state.loading&4)!==0)v.flags&=-16777217;else if(v.flags|=16777216,!uj(x))if(Vt())v.flags|=8192;else throw kn=Nm,Rm}function w0(v,x){x!==null&&(v.flags|=4),v.flags&16384&&(x=v.tag!==22?Mn():536870912,v.lanes|=x,nl|=x)}function Km(v,x){if(!Sr)switch(v.tailMode){case"hidden":x=v.tail;for(var T=null;x!==null;)x.alternate!==null&&(T=x),x=x.sibling;T===null?v.tail=null:T.sibling=null;break;case"collapsed":T=v.tail;for(var R=null;T!==null;)T.alternate!==null&&(R=T),T=T.sibling;R===null?x||v.tail===null?v.tail=null:v.tail.sibling=null:R.sibling=null}}function ei(v){var x=v.alternate!==null&&v.alternate.child===v.child,T=0,R=0;if(x)for(var z=v.child;z!==null;)T|=z.lanes|z.childLanes,R|=z.subtreeFlags&65011712,R|=z.flags&65011712,z.return=v,z=z.sibling;else for(z=v.child;z!==null;)T|=z.lanes|z.childLanes,R|=z.subtreeFlags,R|=z.flags,z.return=v,z=z.sibling;return v.subtreeFlags|=R,v.childLanes=T,x}function j2(v,x,T){var R=x.pendingProps;switch(ed(x),x.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(x),null;case 1:return ei(x),null;case 3:return T=x.stateNode,R=null,v!==null&&(R=v.memoizedState.cache),x.memoizedState.cache!==R&&(x.flags|=2048),Al(wn),we(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(v===null||v.child===null)&&(_h(x)?co(x):v===null||v.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,r2())),ei(x),null;case 26:var z=x.type,j=x.memoizedState;return v===null?(co(x),j!==null?(ei(x),Zc(x,j)):(ei(x),fd(x,z,null,R,T))):j?j!==v.memoizedState?(co(x),ei(x),Zc(x,j)):(ei(x),x.flags&=-16777217):(v=v.memoizedProps,v!==R&&co(x),ei(x),fd(x,z,v,R,T)),null;case 27:if(Ue(x),T=ce.current,z=x.type,v!==null&&x.stateNode!=null)v.memoizedProps!==R&&co(x);else{if(!R){if(x.stateNode===null)throw Error(r(166));return ei(x),null}v=Q.current,_h(x)?jx(x):(v=tj(z,R,T),x.stateNode=v,co(x))}return ei(x),null;case 5:if(Ue(x),z=x.type,v!==null&&x.stateNode!=null)v.memoizedProps!==R&&co(x);else{if(!R){if(x.stateNode===null)throw Error(r(166));return ei(x),null}if(j=Q.current,_h(x))jx(x);else{var ae=FE(ce.current);switch(j){case 1:j=ae.createElementNS("http://www.w3.org/2000/svg",z);break;case 2:j=ae.createElementNS("http://www.w3.org/1998/Math/MathML",z);break;default:switch(z){case"svg":j=ae.createElementNS("http://www.w3.org/2000/svg",z);break;case"math":j=ae.createElementNS("http://www.w3.org/1998/Math/MathML",z);break;case"script":j=ae.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof R.is=="string"?ae.createElement("select",{is:R.is}):ae.createElement("select"),R.multiple?j.multiple=!0:R.size&&(j.size=R.size);break;default:j=typeof R.is=="string"?ae.createElement(z,{is:R.is}):ae.createElement(z)}}j[Te]=x,j[Ee]=R;e:for(ae=x.child;ae!==null;){if(ae.tag===5||ae.tag===6)j.appendChild(ae.stateNode);else if(ae.tag!==4&&ae.tag!==27&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===x)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===x)break e;ae=ae.return}ae.sibling.return=ae.return,ae=ae.sibling}x.stateNode=j;e:switch(Hs(j,z,R),z){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}R&&co(x)}}return ei(x),fd(x,x.type,v===null?null:v.memoizedProps,x.pendingProps,T),null;case 6:if(v&&x.stateNode!=null)v.memoizedProps!==R&&co(x);else{if(typeof R!="string"&&x.stateNode===null)throw Error(r(166));if(v=ce.current,_h(x)){if(v=x.stateNode,T=x.memoizedProps,R=null,z=La,z!==null)switch(z.tag){case 27:case 5:R=z.memoizedProps}v[Te]=x,v=!!(v.nodeValue===T||R!==null&&R.suppressHydrationWarning===!0||jH(v.nodeValue,T)),v||yr(x,!0)}else v=FE(v).createTextNode(R),v[Te]=x,x.stateNode=v}return ei(x),null;case 31:if(T=x.memoizedState,v===null||v.memoizedState!==null){if(R=_h(x),T!==null){if(v===null){if(!R)throw Error(r(318));if(v=x.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(557));v[Te]=x}else bh(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;ei(x),v=!1}else T=r2(),v!==null&&v.memoizedState!==null&&(v.memoizedState.hydrationErrors=T),v=!0;if(!v)return x.flags&256?(Yo(x),x):(Yo(x),null);if((x.flags&128)!==0)throw Error(r(558))}return ei(x),null;case 13:if(R=x.memoizedState,v===null||v.memoizedState!==null&&v.memoizedState.dehydrated!==null){if(z=_h(x),R!==null&&R.dehydrated!==null){if(v===null){if(!z)throw Error(r(318));if(z=x.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(r(317));z[Te]=x}else bh(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;ei(x),z=!1}else z=r2(),v!==null&&v.memoizedState!==null&&(v.memoizedState.hydrationErrors=z),z=!0;if(!z)return x.flags&256?(Yo(x),x):(Yo(x),null)}return Yo(x),(x.flags&128)!==0?(x.lanes=T,x):(T=R!==null,v=v!==null&&v.memoizedState!==null,T&&(R=x.child,z=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(z=R.alternate.memoizedState.cachePool.pool),j=null,R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(j=R.memoizedState.cachePool.pool),j!==z&&(R.flags|=2048)),T!==v&&T&&(x.child.flags|=8192),w0(x,x.updateQueue),ei(x),null);case 4:return we(),v===null&&XP(x.stateNode.containerInfo),ei(x),null;case 10:return Al(x.type),ei(x),null;case 19:if(H(Oi),R=x.memoizedState,R===null)return ei(x),null;if(z=(x.flags&128)!==0,j=R.rendering,j===null)if(z)Km(R,!1);else{if(Kr!==0||v!==null&&(v.flags&128)!==0)for(v=x.child;v!==null;){if(j=Kx(v),j!==null){for(x.flags|=128,Km(R,!1),v=j.updateQueue,x.updateQueue=v,w0(x,v),x.subtreeFlags=0,v=T,T=x.child;T!==null;)xs(T,v),T=T.sibling;return ee(Oi,Oi.current&1|2),Sr&&zc(x,R.treeForkCount),x.child}v=v.sibling}R.tail!==null&&ue()>rl&&(x.flags|=128,z=!0,Km(R,!1),x.lanes=4194304)}else{if(!z)if(v=Kx(j),v!==null){if(x.flags|=128,z=!0,v=v.updateQueue,x.updateQueue=v,w0(x,v),Km(R,!0),R.tail===null&&R.tailMode==="hidden"&&!j.alternate&&!Sr)return ei(x),null}else 2*ue()-R.renderingStartTime>rl&&T!==536870912&&(x.flags|=128,z=!0,Km(R,!1),x.lanes=4194304);R.isBackwards?(j.sibling=x.child,x.child=j):(v=R.last,v!==null?v.sibling=j:x.child=j,R.last=j)}return R.tail!==null?(v=R.tail,R.rendering=v,R.tail=v.sibling,R.renderingStartTime=ue(),v.sibling=null,T=Oi.current,ee(Oi,z?T&1|2:T&1),Sr&&zc(x,R.treeForkCount),v):(ei(x),null);case 22:case 23:return Yo(x),bs(),R=x.memoizedState!==null,v!==null?v.memoizedState!==null!==R&&(x.flags|=8192):R&&(x.flags|=8192),R?(T&536870912)!==0&&(x.flags&128)===0&&(ei(x),x.subtreeFlags&6&&(x.flags|=8192)):ei(x),T=x.updateQueue,T!==null&&w0(x,T.retryQueue),T=null,v!==null&&v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),R=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(R=x.memoizedState.cachePool.pool),R!==T&&(x.flags|=2048),v!==null&&H(nd),null;case 24:return T=null,v!==null&&(T=v.memoizedState.cache),x.memoizedState.cache!==T&&(x.flags|=2048),Al(wn),ei(x),null;case 25:return null;case 30:return null}throw Error(r(156,x.tag))}function d1(v,x){switch(ed(x),x.tag){case 1:return v=x.flags,v&65536?(x.flags=v&-65537|128,x):null;case 3:return Al(wn),we(),v=x.flags,(v&65536)!==0&&(v&128)===0?(x.flags=v&-65537|128,x):null;case 26:case 27:case 5:return Ue(x),null;case 31:if(x.memoizedState!==null){if(Yo(x),x.alternate===null)throw Error(r(340));bh()}return v=x.flags,v&65536?(x.flags=v&-65537|128,x):null;case 13:if(Yo(x),v=x.memoizedState,v!==null&&v.dehydrated!==null){if(x.alternate===null)throw Error(r(340));bh()}return v=x.flags,v&65536?(x.flags=v&-65537|128,x):null;case 19:return H(Oi),null;case 4:return we(),null;case 10:return Al(x.type),null;case 22:case 23:return Yo(x),bs(),v!==null&&H(nd),v=x.flags,v&65536?(x.flags=v&-65537|128,x):null;case 24:return Al(wn),null;case 25:return null;default:return null}}function Rh(v,x){switch(ed(x),x.tag){case 3:Al(wn),we();break;case 26:case 27:case 5:Ue(x);break;case 4:we();break;case 31:x.memoizedState!==null&&Yo(x);break;case 13:Yo(x);break;case 19:H(Oi);break;case 10:Al(x.type);break;case 22:case 23:Yo(x),bs(),v!==null&&H(nd);break;case 24:Al(wn)}}function Yu(v,x){try{var T=x.updateQueue,R=T!==null?T.lastEffect:null;if(R!==null){var z=R.next;T=z;do{if((T.tag&v)===v){R=void 0;var j=T.create,ae=T.inst;R=j(),ae.destroy=R}T=T.next}while(T!==z)}}catch(_e){fi(x,x.return,_e)}}function Rl(v,x,T){try{var R=x.updateQueue,z=R!==null?R.lastEffect:null;if(z!==null){var j=z.next;R=j;do{if((R.tag&v)===v){var ae=R.inst,_e=ae.destroy;if(_e!==void 0){ae.destroy=void 0,z=x;var Be=T,it=_e;try{it()}catch(_t){fi(z,Be,_t)}}}R=R.next}while(R!==j)}}catch(_t){fi(x,x.return,_t)}}function dd(v){var x=v.updateQueue;if(x!==null){var T=v.stateNode;try{$a(x,T)}catch(R){fi(v,v.return,R)}}}function W2(v,x,T){T.props=Qa(v.type,v.memoizedProps),T.state=v.memoizedState;try{T.componentWillUnmount()}catch(R){fi(v,x,R)}}function qu(v,x){try{var T=v.ref;if(T!==null){switch(v.tag){case 26:case 27:case 5:var R=v.stateNode;break;case 30:R=v.stateNode;break;default:R=v.stateNode}typeof T=="function"?v.refCleanup=T(R):T.current=R}}catch(z){fi(v,x,z)}}function Qo(v,x){var T=v.ref,R=v.refCleanup;if(T!==null)if(typeof R=="function")try{R()}catch(z){fi(v,x,z)}finally{v.refCleanup=null,v=v.alternate,v!=null&&(v.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(z){fi(v,x,z)}else T.current=null}function el(v){var x=v.type,T=v.memoizedProps,R=v.stateNode;try{e:switch(x){case"button":case"input":case"select":case"textarea":T.autoFocus&&R.focus();break e;case"img":T.src?R.src=T.src:T.srcSet&&(R.srcset=T.srcSet)}}catch(z){fi(v,v.return,z)}}function Nl(v,x,T){try{var R=v.stateNode;yxe(R,v.type,T,x),R[Ee]=x}catch(z){fi(v,v.return,z)}}function ia(v){return v.tag===5||v.tag===3||v.tag===26||v.tag===27&&D0(v.type)||v.tag===4}function Xu(v){e:for(;;){for(;v.sibling===null;){if(v.return===null||ia(v.return))return null;v=v.return}for(v.sibling.return=v.return,v=v.sibling;v.tag!==5&&v.tag!==6&&v.tag!==18;){if(v.tag===27&&D0(v.type)||v.flags&2||v.child===null||v.tag===4)continue e;v.child.return=v,v=v.child}if(!(v.flags&2))return v.stateNode}}function rr(v,x,T){var R=v.tag;if(R===5||R===6)v=v.stateNode,x?(T.nodeType===9?T.body:T.nodeName==="HTML"?T.ownerDocument.body:T).insertBefore(v,x):(x=T.nodeType===9?T.body:T.nodeName==="HTML"?T.ownerDocument.body:T,x.appendChild(v),T=T._reactRootContainer,T!=null||x.onclick!==null||(x.onclick=ku));else if(R!==4&&(R===27&&D0(v.type)&&(T=v.stateNode,x=null),v=v.child,v!==null))for(rr(v,x,T),v=v.sibling;v!==null;)rr(v,x,T),v=v.sibling}function Gr(v,x,T){var R=v.tag;if(R===5||R===6)v=v.stateNode,x?T.insertBefore(v,x):T.appendChild(v);else if(R!==4&&(R===27&&D0(v.type)&&(T=v.stateNode),v=v.child,v!==null))for(Gr(v,x,T),v=v.sibling;v!==null;)Gr(v,x,T),v=v.sibling}function Yi(v){var x=v.stateNode,T=v.memoizedProps;try{for(var R=v.type,z=x.attributes;z.length;)x.removeAttributeNode(z[0]);Hs(x,R,T),x[Te]=v,x[Ee]=T}catch(j){fi(v,v.return,j)}}var Il=!1,Mi=!1,Kc=!1,$m=typeof WeakSet=="function"?WeakSet:Set,zi=null;function T0(v,x){if(v=v.containerInfo,$P=jE,v=Lx(v),r0(v)){if("selectionStart"in v)var T={start:v.selectionStart,end:v.selectionEnd};else e:{T=(T=v.ownerDocument)&&T.defaultView||window;var R=T.getSelection&&T.getSelection();if(R&&R.rangeCount!==0){T=R.anchorNode;var z=R.anchorOffset,j=R.focusNode;R=R.focusOffset;try{T.nodeType,j.nodeType}catch{T=null;break e}var ae=0,_e=-1,Be=-1,it=0,_t=0,Mt=v,ut=null;t:for(;;){for(var dt;Mt!==T||z!==0&&Mt.nodeType!==3||(_e=ae+z),Mt!==j||R!==0&&Mt.nodeType!==3||(Be=ae+R),Mt.nodeType===3&&(ae+=Mt.nodeValue.length),(dt=Mt.firstChild)!==null;)ut=Mt,Mt=dt;for(;;){if(Mt===v)break t;if(ut===T&&++it===z&&(_e=ae),ut===j&&++_t===R&&(Be=ae),(dt=Mt.nextSibling)!==null)break;Mt=ut,ut=Mt.parentNode}Mt=dt}T=_e===-1||Be===-1?null:{start:_e,end:Be}}else T=null}T=T||{start:0,end:0}}else T=null;for(JP={focusedElem:v,selectionRange:T},jE=!1,zi=x;zi!==null;)if(x=zi,v=x.child,(x.subtreeFlags&1028)!==0&&v!==null)v.return=x,zi=v;else for(;zi!==null;){switch(x=zi,j=x.alternate,v=x.flags,x.tag){case 0:if((v&4)!==0&&(v=x.updateQueue,v=v!==null?v.events:null,v!==null))for(T=0;T<v.length;T++)z=v[T],z.ref.impl=z.nextImpl;break;case 11:case 15:break;case 1:if((v&1024)!==0&&j!==null){v=void 0,T=x,z=j.memoizedProps,j=j.memoizedState,R=T.stateNode;try{var dn=Qa(T.type,z);v=R.getSnapshotBeforeUpdate(dn,j),R.__reactInternalSnapshotBeforeUpdate=v}catch(On){fi(T,T.return,On)}}break;case 3:if((v&1024)!==0){if(v=x.stateNode.containerInfo,T=v.nodeType,T===9)t4(v);else if(T===1)switch(v.nodeName){case"HEAD":case"HTML":case"BODY":t4(v);break;default:v.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((v&1024)!==0)throw Error(r(163))}if(v=x.sibling,v!==null){v.return=x.return,zi=v;break}zi=x.return}}function RE(v,x,T){var R=T.flags;switch(T.tag){case 0:case 11:case 15:$c(v,T),R&4&&Yu(5,T);break;case 1:if($c(v,T),R&4)if(v=T.stateNode,x===null)try{v.componentDidMount()}catch(ae){fi(T,T.return,ae)}else{var z=Qa(T.type,x.memoizedProps);x=x.memoizedState;try{v.componentDidUpdate(z,x,v.__reactInternalSnapshotBeforeUpdate)}catch(ae){fi(T,T.return,ae)}}R&64&&dd(T),R&512&&qu(T,T.return);break;case 3:if($c(v,T),R&64&&(v=T.updateQueue,v!==null)){if(x=null,T.child!==null)switch(T.child.tag){case 27:case 5:x=T.child.stateNode;break;case 1:x=T.child.stateNode}try{$a(v,x)}catch(ae){fi(T,T.return,ae)}}break;case 27:x===null&&R&4&&Yi(T);case 26:case 5:$c(v,T),x===null&&R&4&&el(T),R&512&&qu(T,T.return);break;case 12:$c(v,T);break;case 31:$c(v,T),R&4&&p1(v,T);break;case 13:$c(v,T),R&4&&Y2(v,T),R&64&&(v=T.memoizedState,v!==null&&(v=v.dehydrated,v!==null&&(T=sxe.bind(null,T),Axe(v,T))));break;case 22:if(R=T.memoizedState!==null||Il,!R){x=x!==null&&x.memoizedState!==null||Mi,z=Il;var j=Mi;Il=R,(Mi=x)&&!j?Xr(v,T,(T.subtreeFlags&8772)!==0):$c(v,T),Il=z,Mi=j}break;case 30:break;default:$c(v,T)}}function h1(v){var x=v.alternate;x!==null&&(v.alternate=null,h1(x)),v.child=null,v.deletions=null,v.sibling=null,v.tag===5&&(x=v.stateNode,x!==null&&It(x)),v.stateNode=null,v.return=null,v.dependencies=null,v.memoizedProps=null,v.memoizedState=null,v.pendingProps=null,v.stateNode=null,v.updateQueue=null}var Nr=null,aa=!1;function ws(v,x,T){for(T=T.child;T!==null;)hd(v,x,T),T=T.sibling}function hd(v,x,T){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Qe,T)}catch{}switch(T.tag){case 26:Mi||Qo(T,x),ws(v,x,T),T.memoizedState?T.memoizedState.count--:T.stateNode&&(T=T.stateNode,T.parentNode.removeChild(T));break;case 27:Mi||Qo(T,x);var R=Nr,z=aa;D0(T.type)&&(Nr=T.stateNode,aa=!1),ws(v,x,T),K2(T.stateNode),Nr=R,aa=z;break;case 5:Mi||Qo(T,x);case 6:if(R=Nr,z=aa,Nr=null,ws(v,x,T),Nr=R,aa=z,Nr!==null)if(aa)try{(Nr.nodeType===9?Nr.body:Nr.nodeName==="HTML"?Nr.ownerDocument.body:Nr).removeChild(T.stateNode)}catch(j){fi(T,x,j)}else try{Nr.removeChild(T.stateNode)}catch(j){fi(T,x,j)}break;case 18:Nr!==null&&(aa?(v=Nr,KH(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,T.stateNode),C1(v)):KH(Nr,T.stateNode));break;case 4:R=Nr,z=aa,Nr=T.stateNode.containerInfo,aa=!0,ws(v,x,T),Nr=R,aa=z;break;case 0:case 11:case 14:case 15:Rl(2,T,x),Mi||Rl(4,T,x),ws(v,x,T);break;case 1:Mi||(Qo(T,x),R=T.stateNode,typeof R.componentWillUnmount=="function"&&W2(T,x,R)),ws(v,x,T);break;case 21:ws(v,x,T);break;case 22:Mi=(R=Mi)||T.memoizedState!==null,ws(v,x,T),Mi=R;break;default:ws(v,x,T)}}function p1(v,x){if(x.memoizedState===null&&(v=x.alternate,v!==null&&(v=v.memoizedState,v!==null))){v=v.dehydrated;try{C1(v)}catch(T){fi(x,x.return,T)}}}function Y2(v,x){if(x.memoizedState===null&&(v=x.alternate,v!==null&&(v=v.memoizedState,v!==null&&(v=v.dehydrated,v!==null))))try{C1(v)}catch(T){fi(x,x.return,T)}}function NE(v){switch(v.tag){case 31:case 13:case 19:var x=v.stateNode;return x===null&&(x=v.stateNode=new $m),x;case 22:return v=v.stateNode,x=v._retryCache,x===null&&(x=v._retryCache=new $m),x;default:throw Error(r(435,v.tag))}}function qi(v,x){var T=NE(v);x.forEach(function(R){if(!T.has(R)){T.add(R);var z=oxe.bind(null,v,R);R.then(z,z)}})}function Ts(v,x){var T=x.deletions;if(T!==null)for(var R=0;R<T.length;R++){var z=T[R],j=v,ae=x,_e=ae;e:for(;_e!==null;){switch(_e.tag){case 27:if(D0(_e.type)){Nr=_e.stateNode,aa=!1;break e}break;case 5:Nr=_e.stateNode,aa=!1;break e;case 3:case 4:Nr=_e.stateNode.containerInfo,aa=!0;break e}_e=_e.return}if(Nr===null)throw Error(r(160));hd(j,ae,z),Nr=null,aa=!1,j=z.alternate,j!==null&&(j.return=null),z.return=null}if(x.subtreeFlags&13886)for(x=x.child;x!==null;)pd(x,v),x=x.sibling}var fo=null;function pd(v,x){var T=v.alternate,R=v.flags;switch(v.tag){case 0:case 11:case 14:case 15:Ts(x,v),Ui(v),R&4&&(Rl(3,v,v.return),Yu(3,v),Rl(5,v,v.return));break;case 1:Ts(x,v),Ui(v),R&512&&(Mi||T===null||Qo(T,T.return)),R&64&&Il&&(v=v.updateQueue,v!==null&&(R=v.callbacks,R!==null&&(T=v.shared.hiddenCallbacks,v.shared.hiddenCallbacks=T===null?R:T.concat(R))));break;case 26:var z=fo;if(Ts(x,v),Ui(v),R&512&&(Mi||T===null||Qo(T,T.return)),R&4){var j=T!==null?T.memoizedState:null;if(R=v.memoizedState,T===null)if(R===null)if(v.stateNode===null){e:{R=v.type,T=v.memoizedProps,z=z.ownerDocument||z;t:switch(R){case"title":j=z.getElementsByTagName("title")[0],(!j||j[st]||j[Te]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=z.createElement(R),z.head.insertBefore(j,z.querySelector("head > title"))),Hs(j,R,T),j[Te]=v,He(j),R=j;break e;case"link":var ae=oj("link","href",z).get(R+(T.href||""));if(ae){for(var _e=0;_e<ae.length;_e++)if(j=ae[_e],j.getAttribute("href")===(T.href==null||T.href===""?null:T.href)&&j.getAttribute("rel")===(T.rel==null?null:T.rel)&&j.getAttribute("title")===(T.title==null?null:T.title)&&j.getAttribute("crossorigin")===(T.crossOrigin==null?null:T.crossOrigin)){ae.splice(_e,1);break t}}j=z.createElement(R),Hs(j,R,T),z.head.appendChild(j);break;case"meta":if(ae=oj("meta","content",z).get(R+(T.content||""))){for(_e=0;_e<ae.length;_e++)if(j=ae[_e],j.getAttribute("content")===(T.content==null?null:""+T.content)&&j.getAttribute("name")===(T.name==null?null:T.name)&&j.getAttribute("property")===(T.property==null?null:T.property)&&j.getAttribute("http-equiv")===(T.httpEquiv==null?null:T.httpEquiv)&&j.getAttribute("charset")===(T.charSet==null?null:T.charSet)){ae.splice(_e,1);break t}}j=z.createElement(R),Hs(j,R,T),z.head.appendChild(j);break;default:throw Error(r(468,R))}j[Te]=v,He(j),R=j}v.stateNode=R}else lj(z,v.type,v.stateNode);else v.stateNode=sj(z,R,v.memoizedProps);else j!==R?(j===null?T.stateNode!==null&&(T=T.stateNode,T.parentNode.removeChild(T)):j.count--,R===null?lj(z,v.type,v.stateNode):sj(z,R,v.memoizedProps)):R===null&&v.stateNode!==null&&Nl(v,v.memoizedProps,T.memoizedProps)}break;case 27:Ts(x,v),Ui(v),R&512&&(Mi||T===null||Qo(T,T.return)),T!==null&&R&4&&Nl(v,v.memoizedProps,T.memoizedProps);break;case 5:if(Ts(x,v),Ui(v),R&512&&(Mi||T===null||Qo(T,T.return)),v.flags&32){z=v.stateNode;try{Kl(z,"")}catch(dn){fi(v,v.return,dn)}}R&4&&v.stateNode!=null&&(z=v.memoizedProps,Nl(v,z,T!==null?T.memoizedProps:z)),R&1024&&(Kc=!0);break;case 6:if(Ts(x,v),Ui(v),R&4){if(v.stateNode===null)throw Error(r(162));R=v.memoizedProps,T=v.stateNode;try{T.nodeValue=R}catch(dn){fi(v,v.return,dn)}}break;case 3:if(UE=null,z=fo,fo=BE(x.containerInfo),Ts(x,v),fo=z,Ui(v),R&4&&T!==null&&T.memoizedState.isDehydrated)try{C1(x.containerInfo)}catch(dn){fi(v,v.return,dn)}Kc&&(Kc=!1,IE(v));break;case 4:R=fo,fo=BE(v.stateNode.containerInfo),Ts(x,v),Ui(v),fo=R;break;case 12:Ts(x,v),Ui(v);break;case 31:Ts(x,v),Ui(v),R&4&&(R=v.updateQueue,R!==null&&(v.updateQueue=null,qi(v,R)));break;case 13:Ts(x,v),Ui(v),v.child.flags&8192&&v.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(ef=ue()),R&4&&(R=v.updateQueue,R!==null&&(v.updateQueue=null,qi(v,R)));break;case 22:z=v.memoizedState!==null;var Be=T!==null&&T.memoizedState!==null,it=Il,_t=Mi;if(Il=it||z,Mi=_t||Be,Ts(x,v),Mi=_t,Il=it,Ui(v),R&8192)e:for(x=v.stateNode,x._visibility=z?x._visibility&-2:x._visibility|1,z&&(T===null||Be||Il||Mi||Nh(v)),T=null,x=v;;){if(x.tag===5||x.tag===26){if(T===null){Be=T=x;try{if(j=Be.stateNode,z)ae=j.style,typeof ae.setProperty=="function"?ae.setProperty("display","none","important"):ae.display="none";else{_e=Be.stateNode;var Mt=Be.memoizedProps.style,ut=Mt!=null&&Mt.hasOwnProperty("display")?Mt.display:null;_e.style.display=ut==null||typeof ut=="boolean"?"":(""+ut).trim()}}catch(dn){fi(Be,Be.return,dn)}}}else if(x.tag===6){if(T===null){Be=x;try{Be.stateNode.nodeValue=z?"":Be.memoizedProps}catch(dn){fi(Be,Be.return,dn)}}}else if(x.tag===18){if(T===null){Be=x;try{var dt=Be.stateNode;z?$H(dt,!0):$H(Be.stateNode,!1)}catch(dn){fi(Be,Be.return,dn)}}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===v)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===v)break e;for(;x.sibling===null;){if(x.return===null||x.return===v)break e;T===x&&(T=null),x=x.return}T===x&&(T=null),x.sibling.return=x.return,x=x.sibling}R&4&&(R=v.updateQueue,R!==null&&(T=R.retryQueue,T!==null&&(R.retryQueue=null,qi(v,T))));break;case 19:Ts(x,v),Ui(v),R&4&&(R=v.updateQueue,R!==null&&(v.updateQueue=null,qi(v,R)));break;case 30:break;case 21:break;default:Ts(x,v),Ui(v)}}function Ui(v){var x=v.flags;if(x&2){try{for(var T,R=v.return;R!==null;){if(ia(R)){T=R;break}R=R.return}if(T==null)throw Error(r(160));switch(T.tag){case 27:var z=T.stateNode,j=Xu(v);Gr(v,j,z);break;case 5:var ae=T.stateNode;T.flags&32&&(Kl(ae,""),T.flags&=-33);var _e=Xu(v);Gr(v,_e,ae);break;case 3:case 4:var Be=T.stateNode.containerInfo,it=Xu(v);rr(v,it,Be);break;default:throw Error(r(161))}}catch(_t){fi(v,v.return,_t)}v.flags&=-3}x&4096&&(v.flags&=-4097)}function IE(v){if(v.subtreeFlags&1024)for(v=v.child;v!==null;){var x=v;IE(x),x.tag===5&&x.flags&1024&&x.stateNode.reset(),v=v.sibling}}function $c(v,x){if(x.subtreeFlags&8772)for(x=x.child;x!==null;)RE(v,x.alternate,x),x=x.sibling}function Nh(v){for(v=v.child;v!==null;){var x=v;switch(x.tag){case 0:case 11:case 14:case 15:Rl(4,x,x.return),Nh(x);break;case 1:Qo(x,x.return);var T=x.stateNode;typeof T.componentWillUnmount=="function"&&W2(x,x.return,T),Nh(x);break;case 27:K2(x.stateNode);case 26:case 5:Qo(x,x.return),Nh(x);break;case 22:x.memoizedState===null&&Nh(x);break;case 30:Nh(x);break;default:Nh(x)}v=v.sibling}}function Xr(v,x,T){for(T=T&&(x.subtreeFlags&8772)!==0,x=x.child;x!==null;){var R=x.alternate,z=v,j=x,ae=j.flags;switch(j.tag){case 0:case 11:case 15:Xr(z,j,T),Yu(4,j);break;case 1:if(Xr(z,j,T),R=j,z=R.stateNode,typeof z.componentDidMount=="function")try{z.componentDidMount()}catch(it){fi(R,R.return,it)}if(R=j,z=R.updateQueue,z!==null){var _e=R.stateNode;try{var Be=z.shared.hiddenCallbacks;if(Be!==null)for(z.shared.hiddenCallbacks=null,z=0;z<Be.length;z++)Gu(Be[z],_e)}catch(it){fi(R,R.return,it)}}T&&ae&64&&dd(j),qu(j,j.return);break;case 27:Yi(j);case 26:case 5:Xr(z,j,T),T&&R===null&&ae&4&&el(j),qu(j,j.return);break;case 12:Xr(z,j,T);break;case 31:Xr(z,j,T),T&&ae&4&&p1(z,j);break;case 13:Xr(z,j,T),T&&ae&4&&Y2(z,j);break;case 22:j.memoizedState===null&&Xr(z,j,T),qu(j,j.return);break;case 30:break;default:Xr(z,j,T)}x=x.sibling}}function v1(v,x){var T=null;v!==null&&v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),v=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(v=x.memoizedState.cachePool.pool),v!==T&&(v!=null&&v.refCount++,T!=null&&Ka(T))}function Jc(v,x){v=null,x.alternate!==null&&(v=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==v&&(x.refCount++,v!=null&&Ka(v))}function Sa(v,x,T,R){if(x.subtreeFlags&10256)for(x=x.child;x!==null;)Ni(v,x,T,R),x=x.sibling}function Ni(v,x,T,R){var z=x.flags;switch(x.tag){case 0:case 11:case 15:Sa(v,x,T,R),z&2048&&Yu(9,x);break;case 1:Sa(v,x,T,R);break;case 3:Sa(v,x,T,R),z&2048&&(v=null,x.alternate!==null&&(v=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==v&&(x.refCount++,v!=null&&Ka(v)));break;case 12:if(z&2048){Sa(v,x,T,R),v=x.stateNode;try{var j=x.memoizedProps,ae=j.id,_e=j.onPostCommit;typeof _e=="function"&&_e(ae,x.alternate===null?"mount":"update",v.passiveEffectDuration,-0)}catch(Be){fi(x,x.return,Be)}}else Sa(v,x,T,R);break;case 31:Sa(v,x,T,R);break;case 13:Sa(v,x,T,R);break;case 23:break;case 22:j=x.stateNode,ae=x.alternate,x.memoizedState!==null?j._visibility&2?Sa(v,x,T,R):C0(v,x):j._visibility&2?Sa(v,x,T,R):(j._visibility|=2,vd(v,x,T,R,(x.subtreeFlags&10256)!==0||!1)),z&2048&&v1(ae,x);break;case 24:Sa(v,x,T,R),z&2048&&Jc(x.alternate,x);break;default:Sa(v,x,T,R)}}function vd(v,x,T,R,z){for(z=z&&((x.subtreeFlags&10256)!==0||!1),x=x.child;x!==null;){var j=v,ae=x,_e=T,Be=R,it=ae.flags;switch(ae.tag){case 0:case 11:case 15:vd(j,ae,_e,Be,z),Yu(8,ae);break;case 23:break;case 22:var _t=ae.stateNode;ae.memoizedState!==null?_t._visibility&2?vd(j,ae,_e,Be,z):C0(j,ae):(_t._visibility|=2,vd(j,ae,_e,Be,z)),z&&it&2048&&v1(ae.alternate,ae);break;case 24:vd(j,ae,_e,Be,z),z&&it&2048&&Jc(ae.alternate,ae);break;default:vd(j,ae,_e,Be,z)}x=x.sibling}}function C0(v,x){if(x.subtreeFlags&10256)for(x=x.child;x!==null;){var T=v,R=x,z=R.flags;switch(R.tag){case 22:C0(T,R),z&2048&&v1(R.alternate,R);break;case 24:C0(T,R),z&2048&&Jc(R.alternate,R);break;default:C0(T,R)}x=x.sibling}}var Vi=8192;function Ih(v,x,T){if(v.subtreeFlags&Vi)for(v=v.child;v!==null;)Xi(v,x,T),v=v.sibling}function Xi(v,x,T){switch(v.tag){case 26:Ih(v,x,T),v.flags&Vi&&v.memoizedState!==null&&Bxe(T,fo,v.memoizedState,v.memoizedProps);break;case 5:Ih(v,x,T);break;case 3:case 4:var R=fo;fo=BE(v.stateNode.containerInfo),Ih(v,x,T),fo=R;break;case 22:v.memoizedState===null&&(R=v.alternate,R!==null&&R.memoizedState!==null?(R=Vi,Vi=16777216,Ih(v,x,T),Vi=R):Ih(v,x,T));break;default:Ih(v,x,T)}}function ho(v){var x=v.alternate;if(x!==null&&(v=x.child,v!==null)){x.child=null;do x=v.sibling,v.sibling=null,v=x;while(v!==null)}}function Vs(v){var x=v.deletions;if((v.flags&16)!==0){if(x!==null)for(var T=0;T<x.length;T++){var R=x[T];zi=R,Jm(R,v)}ho(v)}if(v.subtreeFlags&10256)for(v=v.child;v!==null;)kh(v),v=v.sibling}function kh(v){switch(v.tag){case 0:case 11:case 15:Vs(v),v.flags&2048&&Rl(9,v,v.return);break;case 3:Vs(v);break;case 12:Vs(v);break;case 22:var x=v.stateNode;v.memoizedState!==null&&x._visibility&2&&(v.return===null||v.return.tag!==13)?(x._visibility&=-3,m1(v)):Vs(v);break;default:Vs(v)}}function m1(v){var x=v.deletions;if((v.flags&16)!==0){if(x!==null)for(var T=0;T<x.length;T++){var R=x[T];zi=R,Jm(R,v)}ho(v)}for(v=v.child;v!==null;){switch(x=v,x.tag){case 0:case 11:case 15:Rl(8,x,x.return),m1(x);break;case 22:T=x.stateNode,T._visibility&2&&(T._visibility&=-3,m1(x));break;default:m1(x)}v=v.sibling}}function Jm(v,x){for(;zi!==null;){var T=zi;switch(T.tag){case 0:case 11:case 15:Rl(8,T,x);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var R=T.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:Ka(T.memoizedState.cache)}if(R=T.child,R!==null)R.return=T,zi=R;else e:for(T=v;zi!==null;){R=zi;var z=R.sibling,j=R.return;if(h1(R),R===T){zi=null;break e}if(z!==null){z.return=j,zi=z;break e}zi=j}}}var g1={getCacheForType:function(v){var x=Oa(wn),T=x.data.get(v);return T===void 0&&(T=v(),x.data.set(v,T)),T},cacheSignal:function(){return Oa(wn).controller.signal}},y1=typeof WeakMap=="function"?WeakMap:Map,Ar=0,Zr=null,ir=null,xr=0,Tn=0,hr=null,Kn=!1,cr=!1,si=!1,Zi=0,Kr=0,tl=0,Qc=0,au=0,Mr=0,nl=0,su=null,Cs=null,po=!1,ef=0,A0=0,rl=1/0,M0=null,Zu=null,Ii=0,ou=null,il=null,kl=0,tf=0,Lh=null,x1=null,Ph=0,Oh=null;function Gs(){return(Ar&2)!==0&&xr!==0?xr&-xr:W.T!==null?jP():ye()}function b(){if(Mr===0)if((xr&536870912)===0||Sr){var v=Rt;Rt<<=1,(Rt&3932160)===0&&(Rt=262144),Mr=v}else Mr=536870912;return v=ba.current,v!==null&&(v.flags|=32),Mr}function w(v,x,T){(v===Zr&&(Tn===2||Tn===9)||v.cancelPendingCommit!==null)&&($e(v,0),re(v,xr,Mr,!1)),Br(v,T),((Ar&2)===0||v!==Zr)&&(v===Zr&&((Ar&2)===0&&(Qc|=T),Kr===4&&re(v,xr,Mr,!1)),md(v))}function k(v,x,T){if((Ar&6)!==0)throw Error(r(327));var R=!T&&(x&127)===0&&(x&v.expiredLanes)===0||Ut(v,x),z=R?Fh(v,x):vo(v,x,!0),j=R;do{if(z===0){cr&&!R&&re(v,x,0,!1);break}else{if(T=v.current.alternate,j&&!Y(T)){z=vo(v,x,!1),j=!1;continue}if(z===2){if(j=x,v.errorRecoveryDisabledLanes&j)var ae=0;else ae=v.pendingLanes&-536870913,ae=ae!==0?ae:ae&536870912?536870912:0;if(ae!==0){x=ae;e:{var _e=v;z=su;var Be=_e.current.memoizedState.isDehydrated;if(Be&&($e(_e,ae).flags|=256),ae=vo(_e,ae,!1),ae!==2){if(si&&!Be){_e.errorRecoveryDisabledLanes|=j,Qc|=j,z=4;break e}j=Cs,Cs=z,j!==null&&(Cs===null?Cs=j:Cs.push.apply(Cs,j))}z=ae}if(j=!1,z!==2)continue}}if(z===1){$e(v,0),re(v,x,0,!0);break}e:{switch(R=v,j=z,j){case 0:case 1:throw Error(r(345));case 4:if((x&4194048)!==x)break;case 6:re(R,x,Mr,!Kn);break e;case 2:Cs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((x&62914560)===x&&(z=ef+300-ue(),10<z)){if(re(R,x,Mr,!Kn),vt(R,0,!0)!==0)break e;kl=x,R.timeoutHandle=XH(U.bind(null,R,T,Cs,M0,po,x,Mr,Qc,nl,Kn,j,"Throttled",-0,0),z);break e}U(R,T,Cs,M0,po,x,Mr,Qc,nl,Kn,j,null,-0,0)}}break}while(!0);md(v)}function U(v,x,T,R,z,j,ae,_e,Be,it,_t,Mt,ut,dt){if(v.timeoutHandle=-1,Mt=x.subtreeFlags,Mt&8192||(Mt&16785408)===16785408){Mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ku},Xi(x,j,Mt);var dn=(j&62914560)===j?ef-ue():(j&4194048)===j?A0-ue():0;if(dn=zxe(Mt,dn),dn!==null){kl=j,v.cancelPendingCommit=dn(Bn.bind(null,v,x,j,T,R,z,ae,_e,Be,_t,Mt,null,ut,dt)),re(v,j,ae,!it);return}}Bn(v,x,j,T,R,z,ae,_e,Be)}function Y(v){for(var x=v;;){var T=x.tag;if((T===0||T===11||T===15)&&x.flags&16384&&(T=x.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var R=0;R<T.length;R++){var z=T[R],j=z.getSnapshot;z=z.value;try{if(!Ci(j(),z))return!1}catch{return!1}}if(T=x.child,x.subtreeFlags&16384&&T!==null)T.return=x,x=T;else{if(x===v)break;for(;x.sibling===null;){if(x.return===null||x.return===v)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function re(v,x,T,R){x&=~au,x&=~Qc,v.suspendedLanes|=x,v.pingedLanes&=~x,R&&(v.warmLanes|=x),R=v.expirationTimes;for(var z=x;0<z;){var j=31-ke(z),ae=1<<j;R[j]=-1,z&=~ae}T!==0&&vs(v,T,x)}function Se(){return(Ar&6)===0?(q2(0),!1):!0}function Fe(){if(ir!==null){if(Tn===0)var v=ir.return;else v=ir,_s=Vc=null,w2(v),id=null,ad=0,v=ir;for(;v!==null;)Rh(v.alternate,v),v=v.return;ir=null}}function $e(v,x){var T=v.timeoutHandle;T!==-1&&(v.timeoutHandle=-1,bxe(T)),T=v.cancelPendingCommit,T!==null&&(v.cancelPendingCommit=null,T()),kl=0,Fe(),Zr=v,ir=T=Ou(v.current,null),xr=x,Tn=0,hr=null,Kn=!1,cr=Ut(v,x),si=!1,nl=Mr=au=Qc=tl=Kr=0,Cs=su=null,po=!1,(x&8)!==0&&(x|=x&32);var R=v.entangledLanes;if(R!==0)for(v=v.entanglements,R&=x;0<R;){var z=31-ke(R),j=1<<z;x|=v[z],R&=~j}return Zi=x,$f(),T}function St(v,x){Fn=null,W.H=Um,x===rd||x===tu?(x=qx(),Tn=3):x===Rm?(x=qx(),Tn=4):Tn=x===c1?8:x!==null&&typeof x=="object"&&typeof x.then=="function"?6:1,hr=x,ir===null&&(Kr=1,u1(v,ao(x,v.current)))}function Vt(){var v=ba.current;return v===null?!0:(xr&4194048)===xr?Ml===null:(xr&62914560)===xr||(xr&536870912)!==0?v===Ml:!1}function $t(){var v=W.H;return W.H=Um,v===null?Um:v}function rn(){var v=W.A;return W.A=g1,v}function qn(){Kr=4,Kn||(xr&4194048)!==xr&&ba.current!==null||(cr=!0),(tl&134217727)===0&&(Qc&134217727)===0||Zr===null||re(Zr,xr,Mr,!1)}function vo(v,x,T){var R=Ar;Ar|=2;var z=$t(),j=rn();(Zr!==v||xr!==x)&&(M0=null,$e(v,x)),x=!1;var ae=Kr;e:do try{if(Tn!==0&&ir!==null){var _e=ir,Be=hr;switch(Tn){case 8:Fe(),ae=6;break e;case 3:case 2:case 9:case 6:ba.current===null&&(x=!0);var it=Tn;if(Tn=0,hr=null,Bt(v,_e,Be,it),T&&cr){ae=0;break e}break;default:it=Tn,Tn=0,hr=null,Bt(v,_e,Be,it)}}Qm(),ae=Kr;break}catch(_t){St(v,_t)}while(!0);return x&&v.shellSuspendCounter++,_s=Vc=null,Ar=R,W.H=z,W.A=j,ir===null&&(Zr=null,xr=0,$f()),ae}function Qm(){for(;ir!==null;)Ze(ir)}function Fh(v,x){var T=Ar;Ar|=2;var R=$t(),z=rn();Zr!==v||xr!==x?(M0=null,rl=ue()+500,$e(v,x)):cr=Ut(v,x);e:do try{if(Tn!==0&&ir!==null){x=ir;var j=hr;t:switch(Tn){case 1:Tn=0,hr=null,Bt(v,x,j,1);break;case 2:case 9:if(rE(j)){Tn=0,hr=null,ct(x);break}x=function(){Tn!==2&&Tn!==9||Zr!==v||(Tn=7),md(v)},j.then(x,x);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:rE(j)?(Tn=0,hr=null,ct(x)):(Tn=0,hr=null,Bt(v,x,j,7));break;case 5:var ae=null;switch(ir.tag){case 26:ae=ir.memoizedState;case 5:case 27:var _e=ir;if(ae?uj(ae):_e.stateNode.complete){Tn=0,hr=null;var Be=_e.sibling;if(Be!==null)ir=Be;else{var it=_e.return;it!==null?(ir=it,bn(it)):ir=null}break t}}Tn=0,hr=null,Bt(v,x,j,5);break;case 6:Tn=0,hr=null,Bt(v,x,j,6);break;case 8:Fe(),Kr=6;break e;default:throw Error(r(462))}}lt();break}catch(_t){St(v,_t)}while(!0);return _s=Vc=null,W.H=R,W.A=z,Ar=T,ir!==null?0:(Zr=null,xr=0,$f(),Kr)}function lt(){for(;ir!==null&&!Pe();)Ze(ir)}function Ze(v){var x=f1(v.alternate,v,Zi);v.memoizedProps=v.pendingProps,x===null?bn(v):ir=x}function ct(v){var x=v,T=x.alternate;switch(x.tag){case 15:case 0:x=Ss(T,x,x.pendingProps,x.type,void 0,xr);break;case 11:x=Ss(T,x,x.pendingProps,x.type.render,x.ref,xr);break;case 5:w2(x);default:Rh(T,x),x=ir=xs(x,Zi),x=f1(T,x,Zi)}v.memoizedProps=v.pendingProps,x===null?bn(v):ir=x}function Bt(v,x,T,R){_s=Vc=null,w2(x),id=null,ad=0;var z=x.return;try{if(Xo(v,z,x,T,xr)){Kr=1,u1(v,ao(T,v.current)),ir=null;return}}catch(j){if(z!==null)throw ir=z,j;Kr=1,u1(v,ao(T,v.current)),ir=null;return}x.flags&32768?(Sr||R===1?v=!0:cr||(xr&536870912)!==0?v=!1:(Kn=v=!0,(R===2||R===9||R===3||R===6)&&(R=ba.current,R!==null&&R.tag===13&&(R.flags|=16384))),yi(x,v)):bn(x)}function bn(v){var x=v;do{if((x.flags&32768)!==0){yi(x,Kn);return}v=x.return;var T=j2(x.alternate,x,Zi);if(T!==null){ir=T;return}if(x=x.sibling,x!==null){ir=x;return}ir=x=v}while(x!==null);Kr===0&&(Kr=5)}function yi(v,x){do{var T=d1(v.alternate,v);if(T!==null){T.flags&=32767,ir=T;return}if(T=v.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!x&&(v=v.sibling,v!==null)){ir=v;return}ir=v=T}while(v!==null);Kr=6,ir=null}function Bn(v,x,T,R,z,j,ae,_e,Be){v.cancelPendingCommit=null;do _1();while(Ii!==0);if((Ar&6)!==0)throw Error(r(327));if(x!==null){if(x===v.current)throw Error(r(177));if(j=x.lanes|x.childLanes,j|=zx,ur(v,T,j,ae,_e,Be),v===Zr&&(ir=Zr=null,xr=0),il=x,ou=v,kl=T,tf=j,Lh=z,x1=R,(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?(v.callbackNode=null,v.callbackPriority=0,lxe(We,function(){return NH(),null})):(v.callbackNode=null,v.callbackPriority=0),R=(x.flags&13878)!==0,(x.subtreeFlags&13878)!==0||R){R=W.T,W.T=null,z=Z.p,Z.p=2,ae=Ar,Ar|=4;try{T0(v,x,T)}finally{Ar=ae,Z.p=z,W.T=R}}Ii=1,Ir(),wa(),kr()}}function Ir(){if(Ii===1){Ii=0;var v=ou,x=il,T=(x.flags&13878)!==0;if((x.subtreeFlags&13878)!==0||T){T=W.T,W.T=null;var R=Z.p;Z.p=2;var z=Ar;Ar|=4;try{pd(x,v);var j=JP,ae=Lx(v.containerInfo),_e=j.focusedElem,Be=j.selectionRange;if(ae!==_e&&_e&&_e.ownerDocument&&kx(_e.ownerDocument.documentElement,_e)){if(Be!==null&&r0(_e)){var it=Be.start,_t=Be.end;if(_t===void 0&&(_t=it),"selectionStart"in _e)_e.selectionStart=it,_e.selectionEnd=Math.min(_t,_e.value.length);else{var Mt=_e.ownerDocument||document,ut=Mt&&Mt.defaultView||window;if(ut.getSelection){var dt=ut.getSelection(),dn=_e.textContent.length,On=Math.min(Be.start,dn),_i=Be.end===void 0?On:Math.min(Be.end,dn);!dt.extend&&On>_i&&(ae=_i,_i=On,On=ae);var Ke=JS(_e,On),je=JS(_e,_i);if(Ke&&je&&(dt.rangeCount!==1||dt.anchorNode!==Ke.node||dt.anchorOffset!==Ke.offset||dt.focusNode!==je.node||dt.focusOffset!==je.offset)){var nt=Mt.createRange();nt.setStart(Ke.node,Ke.offset),dt.removeAllRanges(),On>_i?(dt.addRange(nt),dt.extend(je.node,je.offset)):(nt.setEnd(je.node,je.offset),dt.addRange(nt))}}}}for(Mt=[],dt=_e;dt=dt.parentNode;)dt.nodeType===1&&Mt.push({element:dt,left:dt.scrollLeft,top:dt.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<Mt.length;_e++){var Tt=Mt[_e];Tt.element.scrollLeft=Tt.left,Tt.element.scrollTop=Tt.top}}jE=!!$P,JP=$P=null}finally{Ar=z,Z.p=R,W.T=T}}v.current=x,Ii=2}}function wa(){if(Ii===2){Ii=0;var v=ou,x=il,T=(x.flags&8772)!==0;if((x.subtreeFlags&8772)!==0||T){T=W.T,W.T=null;var R=Z.p;Z.p=2;var z=Ar;Ar|=4;try{RE(v,x.alternate,x)}finally{Ar=z,Z.p=R,W.T=T}}Ii=3}}function kr(){if(Ii===4||Ii===3){Ii=0,me();var v=ou,x=il,T=kl,R=x1;(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?Ii=5:(Ii=0,il=ou=null,nf(v,v.pendingLanes));var z=v.pendingLanes;if(z===0&&(Zu=null),ms(T),x=x.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Qe,x,void 0,(x.current.flags&128)===128)}catch{}if(R!==null){x=W.T,z=Z.p,Z.p=2,W.T=null;try{for(var j=v.onRecoverableError,ae=0;ae<R.length;ae++){var _e=R[ae];j(_e.value,{componentStack:_e.stack})}}finally{W.T=x,Z.p=z}}(kl&3)!==0&&_1(),md(v),z=v.pendingLanes,(T&261930)!==0&&(z&42)!==0?v===Oh?Ph++:(Ph=0,Oh=v):Ph=0,q2(0)}}function nf(v,x){(v.pooledCacheLanes&=x)===0&&(x=v.pooledCache,x!=null&&(v.pooledCache=null,Ka(x)))}function _1(){return Ir(),wa(),kr(),NH()}function NH(){if(Ii!==5)return!1;var v=ou,x=tf;tf=0;var T=ms(kl),R=W.T,z=Z.p;try{Z.p=32>T?32:T,W.T=null,T=Lh,Lh=null;var j=ou,ae=kl;if(Ii=0,il=ou=null,kl=0,(Ar&6)!==0)throw Error(r(331));var _e=Ar;if(Ar|=4,kh(j.current),Ni(j,j.current,ae,T),Ar=_e,q2(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Qe,j)}catch{}return!0}finally{Z.p=z,W.T=R,nf(v,x)}}function IH(v,x,T){x=ao(T,x),x=H2(v.stateNode,x,2),v=Wc(v,x,2),v!==null&&(Br(v,2),md(v))}function fi(v,x,T){if(v.tag===3)IH(v,v,T);else for(;x!==null;){if(x.tag===3){IH(x,v,T);break}else if(x.tag===1){var R=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Zu===null||!Zu.has(R))){v=ao(T,v),T=x0(2),R=Wc(x,T,2),R!==null&&(uo(T,R,x,v),Br(R,2),md(R));break}}x=x.return}}function VP(v,x,T){var R=v.pingCache;if(R===null){R=v.pingCache=new y1;var z=new Set;R.set(x,z)}else z=R.get(x),z===void 0&&(z=new Set,R.set(x,z));z.has(T)||(si=!0,z.add(T),v=axe.bind(null,v,x,T),x.then(v,v))}function axe(v,x,T){var R=v.pingCache;R!==null&&R.delete(x),v.pingedLanes|=v.suspendedLanes&T,v.warmLanes&=~T,Zr===v&&(xr&T)===T&&(Kr===4||Kr===3&&(xr&62914560)===xr&&300>ue()-ef?(Ar&2)===0&&$e(v,0):au|=T,nl===xr&&(nl=0)),md(v)}function kH(v,x){x===0&&(x=Mn()),v=Jf(v,x),v!==null&&(Br(v,x),md(v))}function sxe(v){var x=v.memoizedState,T=0;x!==null&&(T=x.retryLane),kH(v,T)}function oxe(v,x){var T=0;switch(v.tag){case 31:case 13:var R=v.stateNode,z=v.memoizedState;z!==null&&(T=z.retryLane);break;case 19:R=v.stateNode;break;case 22:R=v.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(x),kH(v,T)}function lxe(v,x){return Oe(v,x)}var kE=null,b1=null,GP=!1,LE=!1,HP=!1,E0=0;function md(v){v!==b1&&v.next===null&&(b1===null?kE=b1=v:b1=b1.next=v),LE=!0,GP||(GP=!0,cxe())}function q2(v,x){if(!HP&&LE){HP=!0;do for(var T=!1,R=kE;R!==null;){if(v!==0){var z=R.pendingLanes;if(z===0)var j=0;else{var ae=R.suspendedLanes,_e=R.pingedLanes;j=(1<<31-ke(42|v)+1)-1,j&=z&~(ae&~_e),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(T=!0,FH(R,j))}else j=xr,j=vt(R,R===Zr?j:0,R.cancelPendingCommit!==null||R.timeoutHandle!==-1),(j&3)===0||Ut(R,j)||(T=!0,FH(R,j));R=R.next}while(T);HP=!1}}function uxe(){LH()}function LH(){LE=GP=!1;var v=0;E0!==0&&_xe()&&(v=E0);for(var x=ue(),T=null,R=kE;R!==null;){var z=R.next,j=PH(R,x);j===0?(R.next=null,T===null?kE=z:T.next=z,z===null&&(b1=T)):(T=R,(v!==0||(j&3)!==0)&&(LE=!0)),R=z}Ii!==0&&Ii!==5||q2(v),E0!==0&&(E0=0)}function PH(v,x){for(var T=v.suspendedLanes,R=v.pingedLanes,z=v.expirationTimes,j=v.pendingLanes&-62914561;0<j;){var ae=31-ke(j),_e=1<<ae,Be=z[ae];Be===-1?((_e&T)===0||(_e&R)!==0)&&(z[ae]=Zt(_e,x)):Be<=x&&(v.expiredLanes|=_e),j&=~_e}if(x=Zr,T=xr,T=vt(v,v===x?T:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),R=v.callbackNode,T===0||v===x&&(Tn===2||Tn===9)||v.cancelPendingCommit!==null)return R!==null&&R!==null&&Ve(R),v.callbackNode=null,v.callbackPriority=0;if((T&3)===0||Ut(v,T)){if(x=T&-T,x===v.callbackPriority)return x;switch(R!==null&&Ve(R),ms(T)){case 2:case 8:T=ot;break;case 32:T=We;break;case 268435456:T=mt;break;default:T=We}return R=OH.bind(null,v),T=Oe(T,R),v.callbackPriority=x,v.callbackNode=T,x}return R!==null&&R!==null&&Ve(R),v.callbackPriority=2,v.callbackNode=null,2}function OH(v,x){if(Ii!==0&&Ii!==5)return v.callbackNode=null,v.callbackPriority=0,null;var T=v.callbackNode;if(_1()&&v.callbackNode!==T)return null;var R=xr;return R=vt(v,v===Zr?R:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),R===0?null:(k(v,R,x),PH(v,ue()),v.callbackNode!=null&&v.callbackNode===T?OH.bind(null,v):null)}function FH(v,x){if(_1())return null;k(v,x,!0)}function cxe(){Sxe(function(){(Ar&6)!==0?Oe(Ye,uxe):LH()})}function jP(){if(E0===0){var v=jc;v===0&&(v=Dt,Dt<<=1,(Dt&261888)===0&&(Dt=256)),E0=v}return E0}function BH(v){return v==null||typeof v=="symbol"||typeof v=="boolean"?null:typeof v=="function"?v:fm(""+v)}function zH(v,x){var T=x.ownerDocument.createElement("input");return T.name=x.name,T.value=x.value,v.id&&T.setAttribute("form",v.id),x.parentNode.insertBefore(T,x),v=new FormData(v),T.parentNode.removeChild(T),v}function fxe(v,x,T,R,z){if(x==="submit"&&T&&T.stateNode===z){var j=BH((z[Ee]||null).action),ae=R.submitter;ae&&(x=(x=ae[Ee]||null)?BH(x.formAction):ae.getAttribute("formAction"),x!==null&&(j=x,ae=null));var _e=new vm("action","action",null,R,z);v.push({event:_e,listeners:[{instance:null,listener:function(){if(R.defaultPrevented){if(E0!==0){var Be=ae?zH(z,ae):new FormData(z);B2(T,{pending:!0,data:Be,method:z.method,action:j},null,Be)}}else typeof j=="function"&&(_e.preventDefault(),Be=ae?zH(z,ae):new FormData(z),B2(T,{pending:!0,data:Be,method:z.method,action:j},j,Be))},currentTarget:z}]})}}for(var WP=0;WP<Bx.length;WP++){var YP=Bx[WP],dxe=YP.toLowerCase(),hxe=YP[0].toUpperCase()+YP.slice(1);ys(dxe,"on"+hxe)}ys(io,"onAnimationEnd"),ys(QS,"onAnimationIteration"),ys(Pu,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(o0,"onTransitionRun"),ys(Zf,"onTransitionStart"),ys(e2,"onTransitionCancel"),ys(Fx,"onTransitionEnd"),qt("onMouseEnter",["mouseout","mouseover"]),qt("onMouseLeave",["mouseout","mouseover"]),qt("onPointerEnter",["pointerout","pointerover"]),qt("onPointerLeave",["pointerout","pointerover"]),Ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var X2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pxe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(X2));function UH(v,x){x=(x&4)!==0;for(var T=0;T<v.length;T++){var R=v[T],z=R.event;R=R.listeners;e:{var j=void 0;if(x)for(var ae=R.length-1;0<=ae;ae--){var _e=R[ae],Be=_e.instance,it=_e.currentTarget;if(_e=_e.listener,Be!==j&&z.isPropagationStopped())break e;j=_e,z.currentTarget=it;try{j(z)}catch(_t){Kf(_t)}z.currentTarget=null,j=Be}else for(ae=0;ae<R.length;ae++){if(_e=R[ae],Be=_e.instance,it=_e.currentTarget,_e=_e.listener,Be!==j&&z.isPropagationStopped())break e;j=_e,z.currentTarget=it;try{j(z)}catch(_t){Kf(_t)}z.currentTarget=null,j=Be}}}}function wr(v,x){var T=x[et];T===void 0&&(T=x[et]=new Set);var R=v+"__bubble";T.has(R)||(VH(x,v,2,!1),T.add(R))}function qP(v,x,T){var R=0;x&&(R|=4),VH(T,v,R,x)}var PE="_reactListening"+Math.random().toString(36).slice(2);function XP(v){if(!v[PE]){v[PE]=!0,Ge.forEach(function(T){T!=="selectionchange"&&(pxe.has(T)||qP(T,!1,v),qP(T,!0,v))});var x=v.nodeType===9?v:v.ownerDocument;x===null||x[PE]||(x[PE]=!0,qP("selectionchange",!1,x))}}function VH(v,x,T,R){switch(mj(x)){case 2:var z=Gxe;break;case 8:z=Hxe;break;default:z=u4}T=z.bind(null,x,T,v),z=void 0,!Sx||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(z=!0),R?z!==void 0?v.addEventListener(x,T,{capture:!0,passive:z}):v.addEventListener(x,T,!0):z!==void 0?v.addEventListener(x,T,{passive:z}):v.addEventListener(x,T,!1)}function ZP(v,x,T,R,z){var j=R;if((x&1)===0&&(x&2)===0&&R!==null)e:for(;;){if(R===null)return;var ae=R.tag;if(ae===3||ae===4){var _e=R.stateNode.containerInfo;if(_e===z)break;if(ae===4)for(ae=R.return;ae!==null;){var Be=ae.tag;if((Be===3||Be===4)&&ae.stateNode.containerInfo===z)return;ae=ae.return}for(;_e!==null;){if(ae=Pt(_e),ae===null)return;if(Be=ae.tag,Be===5||Be===6||Be===26||Be===27){R=j=ae;continue e}_e=_e.parentNode}}R=R.return}PS(function(){var it=j,_t=_x(T),Mt=[];e:{var ut=Fc.get(v);if(ut!==void 0){var dt=vm,dn=v;switch(v){case"keypress":if(hh(T)===0)break e;case"keydown":case"keyup":dt=GS;break;case"focusin":dn="focus",dt=Ex;break;case"focusout":dn="blur",dt=Ex;break;case"beforeblur":case"afterblur":dt=Ex;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=LM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=PM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Pc;break;case io:case QS:case Pu:dt=BM;break;case Fx:dt=kP;break;case"scroll":case"scrollend":dt=Ax;break;case"wheel":dt=Hf;break;case"copy":case"cut":case"paste":dt=FS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Dx;break;case"toggle":case"beforetoggle":dt=jS}var On=(x&4)!==0,_i=!On&&(v==="scroll"||v==="scrollend"),Ke=On?ut!==null?ut+"Capture":null:ut;On=[];for(var je=it,nt;je!==null;){var Tt=je;if(nt=Tt.stateNode,Tt=Tt.tag,Tt!==5&&Tt!==26&&Tt!==27||nt===null||Ke===null||(Tt=dh(je,Ke),Tt!=null&&On.push(Z2(je,Tt,nt))),_i)break;je=je.return}0<On.length&&(ut=new dt(ut,dn,null,T,_t),Mt.push({event:ut,listeners:On}))}}if((x&7)===0){e:{if(ut=v==="mouseover"||v==="pointerover",dt=v==="mouseout"||v==="pointerout",ut&&T!==dm&&(dn=T.relatedTarget||T.fromElement)&&(Pt(dn)||dn[Ne]))break e;if((dt||ut)&&(ut=_t.window===_t?_t:(ut=_t.ownerDocument)?ut.defaultView||ut.parentWindow:window,dt?(dn=T.relatedTarget||T.toElement,dt=it,dn=dn?Pt(dn):null,dn!==null&&(_i=a(dn),On=dn.tag,dn!==_i||On!==5&&On!==27&&On!==6)&&(dn=null)):(dt=null,dn=it),dt!==dn)){if(On=LM,Tt="onMouseLeave",Ke="onMouseEnter",je="mouse",(v==="pointerout"||v==="pointerover")&&(On=Dx,Tt="onPointerLeave",Ke="onPointerEnter",je="pointer"),_i=dt==null?ut:Re(dt),nt=dn==null?ut:Re(dn),ut=new On(Tt,je+"leave",dt,T,_t),ut.target=_i,ut.relatedTarget=nt,Tt=null,Pt(_t)===it&&(On=new On(Ke,je+"enter",dn,T,_t),On.target=nt,On.relatedTarget=_i,Tt=On),_i=Tt,dt&&dn)t:{for(On=vxe,Ke=dt,je=dn,nt=0,Tt=Ke;Tt;Tt=On(Tt))nt++;Tt=0;for(var Rn=je;Rn;Rn=On(Rn))Tt++;for(;0<nt-Tt;)Ke=On(Ke),nt--;for(;0<Tt-nt;)je=On(je),Tt--;for(;nt--;){if(Ke===je||je!==null&&Ke===je.alternate){On=Ke;break t}Ke=On(Ke),je=On(je)}On=null}else On=null;dt!==null&&GH(Mt,ut,dt,On,!1),dn!==null&&_i!==null&&GH(Mt,_i,dn,On,!0)}}e:{if(ut=it?Re(it):window,dt=ut.nodeName&&ut.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ut.type==="file")var $r=ZS;else if(qS(ut))if(bm)$r=ZM;else{$r=Yf;var _n=Sm}else dt=ut.nodeName,!dt||dt.toLowerCase()!=="input"||ut.type!=="checkbox"&&ut.type!=="radio"?it&&cm(it.elementType)&&($r=ZS):$r=XM;if($r&&($r=$r(v,it))){Ix(Mt,$r,T,_t);break e}_n&&_n(v,ut,it),v==="focusout"&&it&&ut.type==="number"&&it.memoizedProps.value!=null&&ya(ut,"number",ut.value)}switch(_n=it?Re(it):window,v){case"focusin":(qS(_n)||_n.contentEditable==="true")&&(i0=_n,Px=it,a0=null);break;case"focusout":a0=Px=i0=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,Ox(Mt,T,_t);break;case"selectionchange":if(KM)break;case"keydown":case"keyup":Ox(Mt,T,_t)}var fr;if(ph)e:{switch(v){case"compositionstart":var Er="onCompositionStart";break e;case"compositionend":Er="onCompositionEnd";break e;case"compositionupdate":Er="onCompositionUpdate";break e}Er=void 0}else Wf?Rx(v,T)&&(Er="onCompositionEnd"):v==="keydown"&&T.keyCode===229&&(Er="onCompositionStart");Er&&(Za&&T.locale!=="ko"&&(Wf||Er!=="onCompositionStart"?Er==="onCompositionEnd"&&Wf&&(fr=Cx()):(Uf=_t,Tx="value"in Uf?Uf.value:Uf.textContent,Wf=!0)),_n=OE(it,Er),0<_n.length&&(Er=new BS(Er,v,null,T,_t),Mt.push({event:Er,listeners:_n}),fr?Er.data=fr:(fr=Jp(T),fr!==null&&(Er.data=fr)))),(fr=vh?Nx(v,T):WM(v,T))&&(Er=OE(it,"onBeforeInput"),0<Er.length&&(_n=new BS("onBeforeInput","beforeinput",null,T,_t),Mt.push({event:_n,listeners:Er}),_n.data=fr)),fxe(Mt,v,it,T,_t)}UH(Mt,x)})}function Z2(v,x,T){return{instance:v,listener:x,currentTarget:T}}function OE(v,x){for(var T=x+"Capture",R=[];v!==null;){var z=v,j=z.stateNode;if(z=z.tag,z!==5&&z!==26&&z!==27||j===null||(z=dh(v,T),z!=null&&R.unshift(Z2(v,z,j)),z=dh(v,x),z!=null&&R.push(Z2(v,z,j))),v.tag===3)return R;v=v.return}return[]}function vxe(v){if(v===null)return null;do v=v.return;while(v&&v.tag!==5&&v.tag!==27);return v||null}function GH(v,x,T,R,z){for(var j=x._reactName,ae=[];T!==null&&T!==R;){var _e=T,Be=_e.alternate,it=_e.stateNode;if(_e=_e.tag,Be!==null&&Be===R)break;_e!==5&&_e!==26&&_e!==27||it===null||(Be=it,z?(it=dh(T,j),it!=null&&ae.unshift(Z2(T,it,Be))):z||(it=dh(T,j),it!=null&&ae.push(Z2(T,it,Be)))),T=T.return}ae.length!==0&&v.push({event:x,listeners:ae})}var mxe=/\r\n?/g,gxe=/\u0000|\uFFFD/g;function HH(v){return(typeof v=="string"?v:""+v).replace(mxe,`
`).replace(gxe,"")}function jH(v,x){return x=HH(x),HH(v)===x}function xi(v,x,T,R,z,j){switch(T){case"children":typeof R=="string"?x==="body"||x==="textarea"&&R===""||Kl(v,R):(typeof R=="number"||typeof R=="bigint")&&x!=="body"&&Kl(v,""+R);break;case"className":Tr(v,"class",R);break;case"tabIndex":Tr(v,"tabindex",R);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(v,T,R);break;case"style":kS(v,R,j);break;case"data":if(x!=="object"){Tr(v,"data",R);break}case"src":case"href":if(R===""&&(x!=="a"||T!=="href")){v.removeAttribute(T);break}if(R==null||typeof R=="function"||typeof R=="symbol"||typeof R=="boolean"){v.removeAttribute(T);break}R=fm(""+R),v.setAttribute(T,R);break;case"action":case"formAction":if(typeof R=="function"){v.setAttribute(T,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(T==="formAction"?(x!=="input"&&xi(v,x,"name",z.name,z,null),xi(v,x,"formEncType",z.formEncType,z,null),xi(v,x,"formMethod",z.formMethod,z,null),xi(v,x,"formTarget",z.formTarget,z,null)):(xi(v,x,"encType",z.encType,z,null),xi(v,x,"method",z.method,z,null),xi(v,x,"target",z.target,z,null)));if(R==null||typeof R=="symbol"||typeof R=="boolean"){v.removeAttribute(T);break}R=fm(""+R),v.setAttribute(T,R);break;case"onClick":R!=null&&(v.onclick=ku);break;case"onScroll":R!=null&&wr("scroll",v);break;case"onScrollEnd":R!=null&&wr("scrollend",v);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(T=R.__html,T!=null){if(z.children!=null)throw Error(r(60));v.innerHTML=T}}break;case"multiple":v.multiple=R&&typeof R!="function"&&typeof R!="symbol";break;case"muted":v.muted=R&&typeof R!="function"&&typeof R!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(R==null||typeof R=="function"||typeof R=="boolean"||typeof R=="symbol"){v.removeAttribute("xlink:href");break}T=fm(""+R),v.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",T);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":R!=null&&typeof R!="function"&&typeof R!="symbol"?v.setAttribute(T,""+R):v.removeAttribute(T);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":R&&typeof R!="function"&&typeof R!="symbol"?v.setAttribute(T,""):v.removeAttribute(T);break;case"capture":case"download":R===!0?v.setAttribute(T,""):R!==!1&&R!=null&&typeof R!="function"&&typeof R!="symbol"?v.setAttribute(T,R):v.removeAttribute(T);break;case"cols":case"rows":case"size":case"span":R!=null&&typeof R!="function"&&typeof R!="symbol"&&!isNaN(R)&&1<=R?v.setAttribute(T,R):v.removeAttribute(T);break;case"rowSpan":case"start":R==null||typeof R=="function"||typeof R=="symbol"||isNaN(R)?v.removeAttribute(T):v.setAttribute(T,R);break;case"popover":wr("beforetoggle",v),wr("toggle",v),In(v,"popover",R);break;case"xlinkActuate":Cr(v,"http://www.w3.org/1999/xlink","xlink:actuate",R);break;case"xlinkArcrole":Cr(v,"http://www.w3.org/1999/xlink","xlink:arcrole",R);break;case"xlinkRole":Cr(v,"http://www.w3.org/1999/xlink","xlink:role",R);break;case"xlinkShow":Cr(v,"http://www.w3.org/1999/xlink","xlink:show",R);break;case"xlinkTitle":Cr(v,"http://www.w3.org/1999/xlink","xlink:title",R);break;case"xlinkType":Cr(v,"http://www.w3.org/1999/xlink","xlink:type",R);break;case"xmlBase":Cr(v,"http://www.w3.org/XML/1998/namespace","xml:base",R);break;case"xmlLang":Cr(v,"http://www.w3.org/XML/1998/namespace","xml:lang",R);break;case"xmlSpace":Cr(v,"http://www.w3.org/XML/1998/namespace","xml:space",R);break;case"is":In(v,"is",R);break;case"innerText":case"textContent":break;default:(!(2<T.length)||T[0]!=="o"&&T[0]!=="O"||T[1]!=="n"&&T[1]!=="N")&&(T=IM.get(T)||T,In(v,T,R))}}function KP(v,x,T,R,z,j){switch(T){case"style":kS(v,R,j);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(T=R.__html,T!=null){if(z.children!=null)throw Error(r(60));v.innerHTML=T}}break;case"children":typeof R=="string"?Kl(v,R):(typeof R=="number"||typeof R=="bigint")&&Kl(v,""+R);break;case"onScroll":R!=null&&wr("scroll",v);break;case"onScrollEnd":R!=null&&wr("scrollend",v);break;case"onClick":R!=null&&(v.onclick=ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!At.hasOwnProperty(T))e:{if(T[0]==="o"&&T[1]==="n"&&(z=T.endsWith("Capture"),x=T.slice(2,z?T.length-7:void 0),j=v[Ee]||null,j=j!=null?j[T]:null,typeof j=="function"&&v.removeEventListener(x,j,z),typeof R=="function")){typeof j!="function"&&j!==null&&(T in v?v[T]=null:v.hasAttribute(T)&&v.removeAttribute(T)),v.addEventListener(x,R,z);break e}T in v?v[T]=R:R===!0?v.setAttribute(T,""):In(v,T,R)}}}function Hs(v,x,T){switch(x){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wr("error",v),wr("load",v);var R=!1,z=!1,j;for(j in T)if(T.hasOwnProperty(j)){var ae=T[j];if(ae!=null)switch(j){case"src":R=!0;break;case"srcSet":z=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,x));default:xi(v,x,j,ae,T,null)}}z&&xi(v,x,"srcSet",T.srcSet,T,null),R&&xi(v,x,"src",T.src,T,null);return;case"input":wr("invalid",v);var _e=j=ae=z=null,Be=null,it=null;for(R in T)if(T.hasOwnProperty(R)){var _t=T[R];if(_t!=null)switch(R){case"name":z=_t;break;case"type":ae=_t;break;case"checked":Be=_t;break;case"defaultChecked":it=_t;break;case"value":j=_t;break;case"defaultValue":_e=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(r(137,x));break;default:xi(v,x,R,_t,T,null)}}ci(v,j,_e,Be,it,ae,z,!1);return;case"select":wr("invalid",v),R=ae=j=null;for(z in T)if(T.hasOwnProperty(z)&&(_e=T[z],_e!=null))switch(z){case"value":j=_e;break;case"defaultValue":ae=_e;break;case"multiple":R=_e;default:xi(v,x,z,_e,T,null)}x=j,T=ae,v.multiple=!!R,x!=null?xa(v,!!R,x,!1):T!=null&&xa(v,!!R,T,!0);return;case"textarea":wr("invalid",v),j=z=R=null;for(ae in T)if(T.hasOwnProperty(ae)&&(_e=T[ae],_e!=null))switch(ae){case"value":R=_e;break;case"defaultValue":z=_e;break;case"children":j=_e;break;case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(91));break;default:xi(v,x,ae,_e,T,null)}Pi(v,R,z,j);return;case"option":for(Be in T)if(T.hasOwnProperty(Be)&&(R=T[Be],R!=null))switch(Be){case"selected":v.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:xi(v,x,Be,R,T,null)}return;case"dialog":wr("beforetoggle",v),wr("toggle",v),wr("cancel",v),wr("close",v);break;case"iframe":case"object":wr("load",v);break;case"video":case"audio":for(R=0;R<X2.length;R++)wr(X2[R],v);break;case"image":wr("error",v),wr("load",v);break;case"details":wr("toggle",v);break;case"embed":case"source":case"link":wr("error",v),wr("load",v);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in T)if(T.hasOwnProperty(it)&&(R=T[it],R!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,x));default:xi(v,x,it,R,T,null)}return;default:if(cm(x)){for(_t in T)T.hasOwnProperty(_t)&&(R=T[_t],R!==void 0&&KP(v,x,_t,R,T,void 0));return}}for(_e in T)T.hasOwnProperty(_e)&&(R=T[_e],R!=null&&xi(v,x,_e,R,T,null))}function yxe(v,x,T,R){switch(x){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var z=null,j=null,ae=null,_e=null,Be=null,it=null,_t=null;for(dt in T){var Mt=T[dt];if(T.hasOwnProperty(dt)&&Mt!=null)switch(dt){case"checked":break;case"value":break;case"defaultValue":Be=Mt;default:R.hasOwnProperty(dt)||xi(v,x,dt,null,R,Mt)}}for(var ut in R){var dt=R[ut];if(Mt=T[ut],R.hasOwnProperty(ut)&&(dt!=null||Mt!=null))switch(ut){case"type":j=dt;break;case"name":z=dt;break;case"checked":it=dt;break;case"defaultChecked":_t=dt;break;case"value":ae=dt;break;case"defaultValue":_e=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,x));break;default:dt!==Mt&&xi(v,x,ut,dt,R,Mt)}}Iu(v,ae,_e,Be,it,_t,j,z);return;case"select":dt=ae=_e=ut=null;for(j in T)if(Be=T[j],T.hasOwnProperty(j)&&Be!=null)switch(j){case"value":break;case"multiple":dt=Be;default:R.hasOwnProperty(j)||xi(v,x,j,null,R,Be)}for(z in R)if(j=R[z],Be=T[z],R.hasOwnProperty(z)&&(j!=null||Be!=null))switch(z){case"value":ut=j;break;case"defaultValue":_e=j;break;case"multiple":ae=j;default:j!==Be&&xi(v,x,z,j,R,Be)}x=_e,T=ae,R=dt,ut!=null?xa(v,!!T,ut,!1):!!R!=!!T&&(x!=null?xa(v,!!T,x,!0):xa(v,!!T,T?[]:"",!1));return;case"textarea":dt=ut=null;for(_e in T)if(z=T[_e],T.hasOwnProperty(_e)&&z!=null&&!R.hasOwnProperty(_e))switch(_e){case"value":break;case"children":break;default:xi(v,x,_e,null,R,z)}for(ae in R)if(z=R[ae],j=T[ae],R.hasOwnProperty(ae)&&(z!=null||j!=null))switch(ae){case"value":ut=z;break;case"defaultValue":dt=z;break;case"children":break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:z!==j&&xi(v,x,ae,z,R,j)}_a(v,ut,dt);return;case"option":for(var dn in T)if(ut=T[dn],T.hasOwnProperty(dn)&&ut!=null&&!R.hasOwnProperty(dn))switch(dn){case"selected":v.selected=!1;break;default:xi(v,x,dn,null,R,ut)}for(Be in R)if(ut=R[Be],dt=T[Be],R.hasOwnProperty(Be)&&ut!==dt&&(ut!=null||dt!=null))switch(Be){case"selected":v.selected=ut&&typeof ut!="function"&&typeof ut!="symbol";break;default:xi(v,x,Be,ut,R,dt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var On in T)ut=T[On],T.hasOwnProperty(On)&&ut!=null&&!R.hasOwnProperty(On)&&xi(v,x,On,null,R,ut);for(it in R)if(ut=R[it],dt=T[it],R.hasOwnProperty(it)&&ut!==dt&&(ut!=null||dt!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,x));break;default:xi(v,x,it,ut,R,dt)}return;default:if(cm(x)){for(var _i in T)ut=T[_i],T.hasOwnProperty(_i)&&ut!==void 0&&!R.hasOwnProperty(_i)&&KP(v,x,_i,void 0,R,ut);for(_t in R)ut=R[_t],dt=T[_t],!R.hasOwnProperty(_t)||ut===dt||ut===void 0&&dt===void 0||KP(v,x,_t,ut,R,dt);return}}for(var Ke in T)ut=T[Ke],T.hasOwnProperty(Ke)&&ut!=null&&!R.hasOwnProperty(Ke)&&xi(v,x,Ke,null,R,ut);for(Mt in R)ut=R[Mt],dt=T[Mt],!R.hasOwnProperty(Mt)||ut===dt||ut==null&&dt==null||xi(v,x,Mt,ut,R,dt)}function WH(v){switch(v){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xxe(){if(typeof performance.getEntriesByType=="function"){for(var v=0,x=0,T=performance.getEntriesByType("resource"),R=0;R<T.length;R++){var z=T[R],j=z.transferSize,ae=z.initiatorType,_e=z.duration;if(j&&_e&&WH(ae)){for(ae=0,_e=z.responseEnd,R+=1;R<T.length;R++){var Be=T[R],it=Be.startTime;if(it>_e)break;var _t=Be.transferSize,Mt=Be.initiatorType;_t&&WH(Mt)&&(Be=Be.responseEnd,ae+=_t*(Be<_e?1:(_e-it)/(Be-it)))}if(--R,x+=8*(j+ae)/(z.duration/1e3),v++,10<v)break}}if(0<v)return x/v/1e6}return navigator.connection&&(v=navigator.connection.downlink,typeof v=="number")?v:5}var $P=null,JP=null;function FE(v){return v.nodeType===9?v:v.ownerDocument}function YH(v){switch(v){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qH(v,x){if(v===0)switch(x){case"svg":return 1;case"math":return 2;default:return 0}return v===1&&x==="foreignObject"?0:v}function QP(v,x){return v==="textarea"||v==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.children=="bigint"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var e4=null;function _xe(){var v=window.event;return v&&v.type==="popstate"?v===e4?!1:(e4=v,!0):(e4=null,!1)}var XH=typeof setTimeout=="function"?setTimeout:void 0,bxe=typeof clearTimeout=="function"?clearTimeout:void 0,ZH=typeof Promise=="function"?Promise:void 0,Sxe=typeof queueMicrotask=="function"?queueMicrotask:typeof ZH<"u"?function(v){return ZH.resolve(null).then(v).catch(wxe)}:XH;function wxe(v){setTimeout(function(){throw v})}function D0(v){return v==="head"}function KH(v,x){var T=x,R=0;do{var z=T.nextSibling;if(v.removeChild(T),z&&z.nodeType===8)if(T=z.data,T==="/$"||T==="/&"){if(R===0){v.removeChild(z),C1(x);return}R--}else if(T==="$"||T==="$?"||T==="$~"||T==="$!"||T==="&")R++;else if(T==="html")K2(v.ownerDocument.documentElement);else if(T==="head"){T=v.ownerDocument.head,K2(T);for(var j=T.firstChild;j;){var ae=j.nextSibling,_e=j.nodeName;j[st]||_e==="SCRIPT"||_e==="STYLE"||_e==="LINK"&&j.rel.toLowerCase()==="stylesheet"||T.removeChild(j),j=ae}}else T==="body"&&K2(v.ownerDocument.body);T=z}while(T);C1(x)}function $H(v,x){var T=v;v=0;do{var R=T.nextSibling;if(T.nodeType===1?x?(T._stashedDisplay=T.style.display,T.style.display="none"):(T.style.display=T._stashedDisplay||"",T.getAttribute("style")===""&&T.removeAttribute("style")):T.nodeType===3&&(x?(T._stashedText=T.nodeValue,T.nodeValue=""):T.nodeValue=T._stashedText||""),R&&R.nodeType===8)if(T=R.data,T==="/$"){if(v===0)break;v--}else T!=="$"&&T!=="$?"&&T!=="$~"&&T!=="$!"||v++;T=R}while(T)}function t4(v){var x=v.firstChild;for(x&&x.nodeType===10&&(x=x.nextSibling);x;){var T=x;switch(x=x.nextSibling,T.nodeName){case"HTML":case"HEAD":case"BODY":t4(T),It(T);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(T.rel.toLowerCase()==="stylesheet")continue}v.removeChild(T)}}function Txe(v,x,T,R){for(;v.nodeType===1;){var z=T;if(v.nodeName.toLowerCase()!==x.toLowerCase()){if(!R&&(v.nodeName!=="INPUT"||v.type!=="hidden"))break}else if(R){if(!v[st])switch(x){case"meta":if(!v.hasAttribute("itemprop"))break;return v;case"link":if(j=v.getAttribute("rel"),j==="stylesheet"&&v.hasAttribute("data-precedence"))break;if(j!==z.rel||v.getAttribute("href")!==(z.href==null||z.href===""?null:z.href)||v.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin)||v.getAttribute("title")!==(z.title==null?null:z.title))break;return v;case"style":if(v.hasAttribute("data-precedence"))break;return v;case"script":if(j=v.getAttribute("src"),(j!==(z.src==null?null:z.src)||v.getAttribute("type")!==(z.type==null?null:z.type)||v.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin))&&j&&v.hasAttribute("async")&&!v.hasAttribute("itemprop"))break;return v;default:return v}}else if(x==="input"&&v.type==="hidden"){var j=z.name==null?null:""+z.name;if(z.type==="hidden"&&v.getAttribute("name")===j)return v}else return v;if(v=Ku(v.nextSibling),v===null)break}return null}function Cxe(v,x,T){if(x==="")return null;for(;v.nodeType!==3;)if((v.nodeType!==1||v.nodeName!=="INPUT"||v.type!=="hidden")&&!T||(v=Ku(v.nextSibling),v===null))return null;return v}function JH(v,x){for(;v.nodeType!==8;)if((v.nodeType!==1||v.nodeName!=="INPUT"||v.type!=="hidden")&&!x||(v=Ku(v.nextSibling),v===null))return null;return v}function n4(v){return v.data==="$?"||v.data==="$~"}function r4(v){return v.data==="$!"||v.data==="$?"&&v.ownerDocument.readyState!=="loading"}function Axe(v,x){var T=v.ownerDocument;if(v.data==="$~")v._reactRetry=x;else if(v.data!=="$?"||T.readyState!=="loading")x();else{var R=function(){x(),T.removeEventListener("DOMContentLoaded",R)};T.addEventListener("DOMContentLoaded",R),v._reactRetry=R}}function Ku(v){for(;v!=null;v=v.nextSibling){var x=v.nodeType;if(x===1||x===3)break;if(x===8){if(x=v.data,x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"||x==="F!"||x==="F")break;if(x==="/$"||x==="/&")return null}}return v}var i4=null;function QH(v){v=v.nextSibling;for(var x=0;v;){if(v.nodeType===8){var T=v.data;if(T==="/$"||T==="/&"){if(x===0)return Ku(v.nextSibling);x--}else T!=="$"&&T!=="$!"&&T!=="$?"&&T!=="$~"&&T!=="&"||x++}v=v.nextSibling}return null}function ej(v){v=v.previousSibling;for(var x=0;v;){if(v.nodeType===8){var T=v.data;if(T==="$"||T==="$!"||T==="$?"||T==="$~"||T==="&"){if(x===0)return v;x--}else T!=="/$"&&T!=="/&"||x++}v=v.previousSibling}return null}function tj(v,x,T){switch(x=FE(T),v){case"html":if(v=x.documentElement,!v)throw Error(r(452));return v;case"head":if(v=x.head,!v)throw Error(r(453));return v;case"body":if(v=x.body,!v)throw Error(r(454));return v;default:throw Error(r(451))}}function K2(v){for(var x=v.attributes;x.length;)v.removeAttributeNode(x[0]);It(v)}var $u=new Map,nj=new Set;function BE(v){return typeof v.getRootNode=="function"?v.getRootNode():v.nodeType===9?v:v.ownerDocument}var Bh=Z.d;Z.d={f:Mxe,r:Exe,D:Dxe,C:Rxe,L:Nxe,m:Ixe,X:Lxe,S:kxe,M:Pxe};function Mxe(){var v=Bh.f(),x=Se();return v||x}function Exe(v){var x=he(v);x!==null&&x.tag===5&&x.type==="form"?z2(x):Bh.r(v)}var S1=typeof document>"u"?null:document;function rj(v,x,T){var R=S1;if(R&&typeof x=="string"&&x){var z=ui(x);z='link[rel="'+v+'"][href="'+z+'"]',typeof T=="string"&&(z+='[crossorigin="'+T+'"]'),nj.has(z)||(nj.add(z),v={rel:v,crossOrigin:T,href:x},R.querySelector(z)===null&&(x=R.createElement("link"),Hs(x,"link",v),He(x),R.head.appendChild(x)))}}function Dxe(v){Bh.D(v),rj("dns-prefetch",v,null)}function Rxe(v,x){Bh.C(v,x),rj("preconnect",v,x)}function Nxe(v,x,T){Bh.L(v,x,T);var R=S1;if(R&&v&&x){var z='link[rel="preload"][as="'+ui(x)+'"]';x==="image"&&T&&T.imageSrcSet?(z+='[imagesrcset="'+ui(T.imageSrcSet)+'"]',typeof T.imageSizes=="string"&&(z+='[imagesizes="'+ui(T.imageSizes)+'"]')):z+='[href="'+ui(v)+'"]';var j=z;switch(x){case"style":j=w1(v);break;case"script":j=T1(v)}$u.has(j)||(v=f({rel:"preload",href:x==="image"&&T&&T.imageSrcSet?void 0:v,as:x},T),$u.set(j,v),R.querySelector(z)!==null||x==="style"&&R.querySelector($2(j))||x==="script"&&R.querySelector(J2(j))||(x=R.createElement("link"),Hs(x,"link",v),He(x),R.head.appendChild(x)))}}function Ixe(v,x){Bh.m(v,x);var T=S1;if(T&&v){var R=x&&typeof x.as=="string"?x.as:"script",z='link[rel="modulepreload"][as="'+ui(R)+'"][href="'+ui(v)+'"]',j=z;switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=T1(v)}if(!$u.has(j)&&(v=f({rel:"modulepreload",href:v},x),$u.set(j,v),T.querySelector(z)===null)){switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(T.querySelector(J2(j)))return}R=T.createElement("link"),Hs(R,"link",v),He(R),T.head.appendChild(R)}}}function kxe(v,x,T){Bh.S(v,x,T);var R=S1;if(R&&v){var z=ze(R).hoistableStyles,j=w1(v);x=x||"default";var ae=z.get(j);if(!ae){var _e={loading:0,preload:null};if(ae=R.querySelector($2(j)))_e.loading=5;else{v=f({rel:"stylesheet",href:v,"data-precedence":x},T),(T=$u.get(j))&&a4(v,T);var Be=ae=R.createElement("link");He(Be),Hs(Be,"link",v),Be._p=new Promise(function(it,_t){Be.onload=it,Be.onerror=_t}),Be.addEventListener("load",function(){_e.loading|=1}),Be.addEventListener("error",function(){_e.loading|=2}),_e.loading|=4,zE(ae,x,R)}ae={type:"stylesheet",instance:ae,count:1,state:_e},z.set(j,ae)}}}function Lxe(v,x){Bh.X(v,x);var T=S1;if(T&&v){var R=ze(T).hoistableScripts,z=T1(v),j=R.get(z);j||(j=T.querySelector(J2(z)),j||(v=f({src:v,async:!0},x),(x=$u.get(z))&&s4(v,x),j=T.createElement("script"),He(j),Hs(j,"link",v),T.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},R.set(z,j))}}function Pxe(v,x){Bh.M(v,x);var T=S1;if(T&&v){var R=ze(T).hoistableScripts,z=T1(v),j=R.get(z);j||(j=T.querySelector(J2(z)),j||(v=f({src:v,async:!0,type:"module"},x),(x=$u.get(z))&&s4(v,x),j=T.createElement("script"),He(j),Hs(j,"link",v),T.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},R.set(z,j))}}function ij(v,x,T,R){var z=(z=ce.current)?BE(z):null;if(!z)throw Error(r(446));switch(v){case"meta":case"title":return null;case"style":return typeof T.precedence=="string"&&typeof T.href=="string"?(x=w1(T.href),T=ze(z).hoistableStyles,R=T.get(x),R||(R={type:"style",instance:null,count:0,state:null},T.set(x,R)),R):{type:"void",instance:null,count:0,state:null};case"link":if(T.rel==="stylesheet"&&typeof T.href=="string"&&typeof T.precedence=="string"){v=w1(T.href);var j=ze(z).hoistableStyles,ae=j.get(v);if(ae||(z=z.ownerDocument||z,ae={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(v,ae),(j=z.querySelector($2(v)))&&!j._p&&(ae.instance=j,ae.state.loading=5),$u.has(v)||(T={rel:"preload",as:"style",href:T.href,crossOrigin:T.crossOrigin,integrity:T.integrity,media:T.media,hrefLang:T.hrefLang,referrerPolicy:T.referrerPolicy},$u.set(v,T),j||Oxe(z,v,T,ae.state))),x&&R===null)throw Error(r(528,""));return ae}if(x&&R!==null)throw Error(r(529,""));return null;case"script":return x=T.async,T=T.src,typeof T=="string"&&x&&typeof x!="function"&&typeof x!="symbol"?(x=T1(T),T=ze(z).hoistableScripts,R=T.get(x),R||(R={type:"script",instance:null,count:0,state:null},T.set(x,R)),R):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,v))}}function w1(v){return'href="'+ui(v)+'"'}function $2(v){return'link[rel="stylesheet"]['+v+"]"}function aj(v){return f({},v,{"data-precedence":v.precedence,precedence:null})}function Oxe(v,x,T,R){v.querySelector('link[rel="preload"][as="style"]['+x+"]")?R.loading=1:(x=v.createElement("link"),R.preload=x,x.addEventListener("load",function(){return R.loading|=1}),x.addEventListener("error",function(){return R.loading|=2}),Hs(x,"link",T),He(x),v.head.appendChild(x))}function T1(v){return'[src="'+ui(v)+'"]'}function J2(v){return"script[async]"+v}function sj(v,x,T){if(x.count++,x.instance===null)switch(x.type){case"style":var R=v.querySelector('style[data-href~="'+ui(T.href)+'"]');if(R)return x.instance=R,He(R),R;var z=f({},T,{"data-href":T.href,"data-precedence":T.precedence,href:null,precedence:null});return R=(v.ownerDocument||v).createElement("style"),He(R),Hs(R,"style",z),zE(R,T.precedence,v),x.instance=R;case"stylesheet":z=w1(T.href);var j=v.querySelector($2(z));if(j)return x.state.loading|=4,x.instance=j,He(j),j;R=aj(T),(z=$u.get(z))&&a4(R,z),j=(v.ownerDocument||v).createElement("link"),He(j);var ae=j;return ae._p=new Promise(function(_e,Be){ae.onload=_e,ae.onerror=Be}),Hs(j,"link",R),x.state.loading|=4,zE(j,T.precedence,v),x.instance=j;case"script":return j=T1(T.src),(z=v.querySelector(J2(j)))?(x.instance=z,He(z),z):(R=T,(z=$u.get(j))&&(R=f({},T),s4(R,z)),v=v.ownerDocument||v,z=v.createElement("script"),He(z),Hs(z,"link",R),v.head.appendChild(z),x.instance=z);case"void":return null;default:throw Error(r(443,x.type))}else x.type==="stylesheet"&&(x.state.loading&4)===0&&(R=x.instance,x.state.loading|=4,zE(R,T.precedence,v));return x.instance}function zE(v,x,T){for(var R=T.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),z=R.length?R[R.length-1]:null,j=z,ae=0;ae<R.length;ae++){var _e=R[ae];if(_e.dataset.precedence===x)j=_e;else if(j!==z)break}j?j.parentNode.insertBefore(v,j.nextSibling):(x=T.nodeType===9?T.head:T,x.insertBefore(v,x.firstChild))}function a4(v,x){v.crossOrigin==null&&(v.crossOrigin=x.crossOrigin),v.referrerPolicy==null&&(v.referrerPolicy=x.referrerPolicy),v.title==null&&(v.title=x.title)}function s4(v,x){v.crossOrigin==null&&(v.crossOrigin=x.crossOrigin),v.referrerPolicy==null&&(v.referrerPolicy=x.referrerPolicy),v.integrity==null&&(v.integrity=x.integrity)}var UE=null;function oj(v,x,T){if(UE===null){var R=new Map,z=UE=new Map;z.set(T,R)}else z=UE,R=z.get(T),R||(R=new Map,z.set(T,R));if(R.has(v))return R;for(R.set(v,null),T=T.getElementsByTagName(v),z=0;z<T.length;z++){var j=T[z];if(!(j[st]||j[Te]||v==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var ae=j.getAttribute(x)||"";ae=v+ae;var _e=R.get(ae);_e?_e.push(j):R.set(ae,[j])}}return R}function lj(v,x,T){v=v.ownerDocument||v,v.head.insertBefore(T,x==="title"?v.querySelector("head > title"):null)}function Fxe(v,x,T){if(T===1||x.itemProp!=null)return!1;switch(v){case"meta":case"title":return!0;case"style":if(typeof x.precedence!="string"||typeof x.href!="string"||x.href==="")break;return!0;case"link":if(typeof x.rel!="string"||typeof x.href!="string"||x.href===""||x.onLoad||x.onError)break;switch(x.rel){case"stylesheet":return v=x.disabled,typeof x.precedence=="string"&&v==null;default:return!0}case"script":if(x.async&&typeof x.async!="function"&&typeof x.async!="symbol"&&!x.onLoad&&!x.onError&&x.src&&typeof x.src=="string")return!0}return!1}function uj(v){return!(v.type==="stylesheet"&&(v.state.loading&3)===0)}function Bxe(v,x,T,R){if(T.type==="stylesheet"&&(typeof R.media!="string"||matchMedia(R.media).matches!==!1)&&(T.state.loading&4)===0){if(T.instance===null){var z=w1(R.href),j=x.querySelector($2(z));if(j){x=j._p,x!==null&&typeof x=="object"&&typeof x.then=="function"&&(v.count++,v=VE.bind(v),x.then(v,v)),T.state.loading|=4,T.instance=j,He(j);return}j=x.ownerDocument||x,R=aj(R),(z=$u.get(z))&&a4(R,z),j=j.createElement("link"),He(j);var ae=j;ae._p=new Promise(function(_e,Be){ae.onload=_e,ae.onerror=Be}),Hs(j,"link",R),T.instance=j}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(T,x),(x=T.state.preload)&&(T.state.loading&3)===0&&(v.count++,T=VE.bind(v),x.addEventListener("load",T),x.addEventListener("error",T))}}var o4=0;function zxe(v,x){return v.stylesheets&&v.count===0&&HE(v,v.stylesheets),0<v.count||0<v.imgCount?function(T){var R=setTimeout(function(){if(v.stylesheets&&HE(v,v.stylesheets),v.unsuspend){var j=v.unsuspend;v.unsuspend=null,j()}},6e4+x);0<v.imgBytes&&o4===0&&(o4=62500*xxe());var z=setTimeout(function(){if(v.waitingForImages=!1,v.count===0&&(v.stylesheets&&HE(v,v.stylesheets),v.unsuspend)){var j=v.unsuspend;v.unsuspend=null,j()}},(v.imgBytes>o4?50:800)+x);return v.unsuspend=T,function(){v.unsuspend=null,clearTimeout(R),clearTimeout(z)}}:null}function VE(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)HE(this,this.stylesheets);else if(this.unsuspend){var v=this.unsuspend;this.unsuspend=null,v()}}}var GE=null;function HE(v,x){v.stylesheets=null,v.unsuspend!==null&&(v.count++,GE=new Map,x.forEach(Uxe,v),GE=null,VE.call(v))}function Uxe(v,x){if(!(x.state.loading&4)){var T=GE.get(v);if(T)var R=T.get(null);else{T=new Map,GE.set(v,T);for(var z=v.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<z.length;j++){var ae=z[j];(ae.nodeName==="LINK"||ae.getAttribute("media")!=="not all")&&(T.set(ae.dataset.precedence,ae),R=ae)}R&&T.set(null,R)}z=x.instance,ae=z.getAttribute("data-precedence"),j=T.get(ae)||R,j===R&&T.set(null,z),T.set(ae,z),this.count++,R=VE.bind(this),z.addEventListener("load",R),z.addEventListener("error",R),j?j.parentNode.insertBefore(z,j.nextSibling):(v=v.nodeType===9?v.head:v,v.insertBefore(z,v.firstChild)),x.state.loading|=4}}var Q2={$$typeof:S,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function Vxe(v,x,T,R,z,j,ae,_e,Be){this.tag=1,this.containerInfo=v,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=En(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=En(0),this.hiddenUpdates=En(null),this.identifierPrefix=R,this.onUncaughtError=z,this.onCaughtError=j,this.onRecoverableError=ae,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function cj(v,x,T,R,z,j,ae,_e,Be,it,_t,Mt){return v=new Vxe(v,x,T,ae,Be,it,_t,Mt,_e),x=1,j===!0&&(x|=24),j=Fs(3,null,null,x),v.current=j,j.stateNode=v,x=o2(),x.refCount++,v.pooledCache=x,x.refCount++,j.memoizedState={element:R,isDehydrated:T,cache:x},h2(j),v}function fj(v){return v?(v=Qf,v):Qf}function dj(v,x,T,R,z,j){z=fj(z),R.context===null?R.context=z:R.pendingContext=z,R=Vu(x),R.payload={element:T},j=j===void 0?null:j,j!==null&&(R.callback=j),T=Wc(v,R,x),T!==null&&(w(T,v,x),od(T,v,x))}function hj(v,x){if(v=v.memoizedState,v!==null&&v.dehydrated!==null){var T=v.retryLane;v.retryLane=T!==0&&T<x?T:x}}function l4(v,x){hj(v,x),(v=v.alternate)&&hj(v,x)}function pj(v){if(v.tag===13||v.tag===31){var x=Jf(v,67108864);x!==null&&w(x,v,67108864),l4(v,67108864)}}function vj(v){if(v.tag===13||v.tag===31){var x=Gs();x=mi(x);var T=Jf(v,x);T!==null&&w(T,v,x),l4(v,x)}}var jE=!0;function Gxe(v,x,T,R){var z=W.T;W.T=null;var j=Z.p;try{Z.p=2,u4(v,x,T,R)}finally{Z.p=j,W.T=z}}function Hxe(v,x,T,R){var z=W.T;W.T=null;var j=Z.p;try{Z.p=8,u4(v,x,T,R)}finally{Z.p=j,W.T=z}}function u4(v,x,T,R){if(jE){var z=c4(R);if(z===null)ZP(v,x,R,WE,T),gj(v,R);else if(Wxe(z,v,x,T,R))R.stopPropagation();else if(gj(v,R),x&4&&-1<jxe.indexOf(v)){for(;z!==null;){var j=he(z);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var ae=yt(j.pendingLanes);if(ae!==0){var _e=j;for(_e.pendingLanes|=2,_e.entangledLanes|=2;ae;){var Be=1<<31-ke(ae);_e.entanglements[1]|=Be,ae&=~Be}md(j),(Ar&6)===0&&(rl=ue()+500,q2(0))}}break;case 31:case 13:_e=Jf(j,2),_e!==null&&w(_e,j,2),Se(),l4(j,2)}if(j=c4(R),j===null&&ZP(v,x,R,WE,T),j===z)break;z=j}z!==null&&R.stopPropagation()}else ZP(v,x,R,null,T)}}function c4(v){return v=_x(v),f4(v)}var WE=null;function f4(v){if(WE=null,v=Pt(v),v!==null){var x=a(v);if(x===null)v=null;else{var T=x.tag;if(T===13){if(v=s(x),v!==null)return v;v=null}else if(T===31){if(v=o(x),v!==null)return v;v=null}else if(T===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;v=null}else x!==v&&(v=null)}}return WE=v,null}function mj(v){switch(v){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case Ye:return 2;case ot:return 8;case We:case zt:return 32;case mt:return 268435456;default:return 32}default:return 32}}var d4=!1,R0=null,N0=null,I0=null,ew=new Map,tw=new Map,k0=[],jxe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gj(v,x){switch(v){case"focusin":case"focusout":R0=null;break;case"dragenter":case"dragleave":N0=null;break;case"mouseover":case"mouseout":I0=null;break;case"pointerover":case"pointerout":ew.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":tw.delete(x.pointerId)}}function nw(v,x,T,R,z,j){return v===null||v.nativeEvent!==j?(v={blockedOn:x,domEventName:T,eventSystemFlags:R,nativeEvent:j,targetContainers:[z]},x!==null&&(x=he(x),x!==null&&pj(x)),v):(v.eventSystemFlags|=R,x=v.targetContainers,z!==null&&x.indexOf(z)===-1&&x.push(z),v)}function Wxe(v,x,T,R,z){switch(x){case"focusin":return R0=nw(R0,v,x,T,R,z),!0;case"dragenter":return N0=nw(N0,v,x,T,R,z),!0;case"mouseover":return I0=nw(I0,v,x,T,R,z),!0;case"pointerover":var j=z.pointerId;return ew.set(j,nw(ew.get(j)||null,v,x,T,R,z)),!0;case"gotpointercapture":return j=z.pointerId,tw.set(j,nw(tw.get(j)||null,v,x,T,R,z)),!0}return!1}function yj(v){var x=Pt(v.target);if(x!==null){var T=a(x);if(T!==null){if(x=T.tag,x===13){if(x=s(T),x!==null){v.blockedOn=x,Me(v.priority,function(){vj(T)});return}}else if(x===31){if(x=o(T),x!==null){v.blockedOn=x,Me(v.priority,function(){vj(T)});return}}else if(x===3&&T.stateNode.current.memoizedState.isDehydrated){v.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}v.blockedOn=null}function YE(v){if(v.blockedOn!==null)return!1;for(var x=v.targetContainers;0<x.length;){var T=c4(v.nativeEvent);if(T===null){T=v.nativeEvent;var R=new T.constructor(T.type,T);dm=R,T.target.dispatchEvent(R),dm=null}else return x=he(T),x!==null&&pj(x),v.blockedOn=T,!1;x.shift()}return!0}function xj(v,x,T){YE(v)&&T.delete(x)}function Yxe(){d4=!1,R0!==null&&YE(R0)&&(R0=null),N0!==null&&YE(N0)&&(N0=null),I0!==null&&YE(I0)&&(I0=null),ew.forEach(xj),tw.forEach(xj)}function qE(v,x){v.blockedOn===x&&(v.blockedOn=null,d4||(d4=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Yxe)))}var XE=null;function _j(v){XE!==v&&(XE=v,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){XE===v&&(XE=null);for(var x=0;x<v.length;x+=3){var T=v[x],R=v[x+1],z=v[x+2];if(typeof R!="function"){if(f4(R||T)===null)continue;break}var j=he(T);j!==null&&(v.splice(x,3),x-=3,B2(j,{pending:!0,data:z,method:T.method,action:R},R,z))}}))}function C1(v){function x(Be){return qE(Be,v)}R0!==null&&qE(R0,v),N0!==null&&qE(N0,v),I0!==null&&qE(I0,v),ew.forEach(x),tw.forEach(x);for(var T=0;T<k0.length;T++){var R=k0[T];R.blockedOn===v&&(R.blockedOn=null)}for(;0<k0.length&&(T=k0[0],T.blockedOn===null);)yj(T),T.blockedOn===null&&k0.shift();if(T=(v.ownerDocument||v).$$reactFormReplay,T!=null)for(R=0;R<T.length;R+=3){var z=T[R],j=T[R+1],ae=z[Ee]||null;if(typeof j=="function")ae||_j(T);else if(ae){var _e=null;if(j&&j.hasAttribute("formAction")){if(z=j,ae=j[Ee]||null)_e=ae.formAction;else if(f4(z)!==null)continue}else _e=ae.action;typeof _e=="function"?T[R+1]=_e:(T.splice(R,3),R-=3),_j(T)}}}function bj(){function v(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(ae){return z=ae})},focusReset:"manual",scroll:"manual"})}function x(){z!==null&&(z(),z=null),R||setTimeout(T,20)}function T(){if(!R&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var R=!1,z=null;return navigation.addEventListener("navigate",v),navigation.addEventListener("navigatesuccess",x),navigation.addEventListener("navigateerror",x),setTimeout(T,100),function(){R=!0,navigation.removeEventListener("navigate",v),navigation.removeEventListener("navigatesuccess",x),navigation.removeEventListener("navigateerror",x),z!==null&&(z(),z=null)}}}function h4(v){this._internalRoot=v}ZE.prototype.render=h4.prototype.render=function(v){var x=this._internalRoot;if(x===null)throw Error(r(409));var T=x.current,R=Gs();dj(T,R,v,x,null,null)},ZE.prototype.unmount=h4.prototype.unmount=function(){var v=this._internalRoot;if(v!==null){this._internalRoot=null;var x=v.containerInfo;dj(v.current,2,null,v,null,null),Se(),x[Ne]=null}};function ZE(v){this._internalRoot=v}ZE.prototype.unstable_scheduleHydration=function(v){if(v){var x=ye();v={blockedOn:null,target:v,priority:x};for(var T=0;T<k0.length&&x!==0&&x<k0[T].priority;T++);k0.splice(T,0,v),T===0&&yj(v)}};var Sj=e.version;if(Sj!=="19.2.0")throw Error(r(527,Sj,"19.2.0"));Z.findDOMNode=function(v){var x=v._reactInternals;if(x===void 0)throw typeof v.render=="function"?Error(r(188)):(v=Object.keys(v).join(","),Error(r(268,v)));return v=u(x),v=v!==null?c(v):null,v=v===null?null:v.stateNode,v};var qxe={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var KE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!KE.isDisabled&&KE.supportsFiber)try{Qe=KE.inject(qxe),bt=KE}catch{}}return iw.createRoot=function(v,x){if(!i(v))throw Error(r(299));var T=!1,R="",z=G2,j=EE,ae=l1;return x!=null&&(x.unstable_strictMode===!0&&(T=!0),x.identifierPrefix!==void 0&&(R=x.identifierPrefix),x.onUncaughtError!==void 0&&(z=x.onUncaughtError),x.onCaughtError!==void 0&&(j=x.onCaughtError),x.onRecoverableError!==void 0&&(ae=x.onRecoverableError)),x=cj(v,1,!1,null,null,T,R,null,z,j,ae,bj),v[Ne]=x.current,XP(v),new h4(x)},iw.hydrateRoot=function(v,x,T){if(!i(v))throw Error(r(299));var R=!1,z="",j=G2,ae=EE,_e=l1,Be=null;return T!=null&&(T.unstable_strictMode===!0&&(R=!0),T.identifierPrefix!==void 0&&(z=T.identifierPrefix),T.onUncaughtError!==void 0&&(j=T.onUncaughtError),T.onCaughtError!==void 0&&(ae=T.onCaughtError),T.onRecoverableError!==void 0&&(_e=T.onRecoverableError),T.formState!==void 0&&(Be=T.formState)),x=cj(v,1,!0,x,T??null,R,z,Be,j,ae,_e,bj),x.context=fj(null),T=x.current,R=Gs(),R=mi(R),z=Vu(R),z.callback=null,Wc(T,z,R),T=R,x.current.lanes=T,Br(x,T),md(x),v[Ne]=x.current,XP(v),new ZE(x)},iw.version="19.2.0",iw}var Ij;function n1e(){if(Ij)return m4.exports;Ij=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),m4.exports=t1e(),m4.exports}var r1e=n1e();const i1e=Yb(r1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1e=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s1e=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),kj=n=>{const e=s1e(n);return e.charAt(0).toUpperCase()+e.slice(1)},Jie=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),o1e=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l1e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1e=de.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>de.createElement("svg",{ref:l,...l1e,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Jie("lucide",i),...!a&&!o1e(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,c])=>de.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(n,e)=>{const t=de.forwardRef(({className:r,...i},a)=>de.createElement(u1e,{ref:a,iconNode:e,className:Jie(`lucide-${a1e(kj(n))}`,`lucide-${n}`,r),...i}));return t.displayName=kj(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1e=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],yy=gt("activity",c1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1e=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Qie=gt("archive",f1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1e=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],h1e=gt("arrow-down-up",d1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1e=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],v1e=gt("arrow-left",p1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],g1e=gt("arrow-right",m1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1e=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],x1e=gt("arrow-up-right",y1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1e=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],b1e=gt("bell",_1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1e=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],w1e=gt("bot",S1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1e=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],C1e=gt("box",T1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1e=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],GB=gt("brain-circuit",A1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1e=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],HB=gt("briefcase",M1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1e=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],D1e=gt("building-2",E1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mp=gt("calendar",R1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1e=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],I1e=gt("car",N1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1e=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],eae=gt("chart-no-axes-column-increasing",k1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1e=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Lj=gt("chart-no-axes-column",L1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1e=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Pj=gt("chart-pie",P1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wo=gt("chevron-down",O1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1e=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yC=gt("chevron-left",F1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1e=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dc=gt("chevron-right",B1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1e=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],_4=gt("chevrons-down",z1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1e=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],V1e=gt("chevrons-left",U1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1e=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],JE=gt("chevrons-right",G1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$y=gt("circle-alert",H1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1e=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tae=gt("circle-check-big",j1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zd=gt("circle-check",W1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1e=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q1e=gt("circle-play",Y1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Z1e=gt("circle-plus",X1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$1e=gt("circle-question-mark",K1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Q1e=gt("circle-x",J1e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t_e=gt("circle",e_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_e=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],nae=gt("clipboard-list",n_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_e=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OA=gt("clock",r_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_e=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],a_e=gt("code",i_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],o_e=gt("columns-2",s_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_e=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],u_e=gt("command",l_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_e=[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],f_e=gt("copy-plus",c_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_e=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],h_e=gt("copy",d_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_e=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],wU=gt("credit-card",p_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_e=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Oj=gt("database",v_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_e=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],g_e=gt("diamond",m_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_e=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Iy=gt("dollar-sign",y_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_e=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rae=gt("download",x_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __e=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],b_e=gt("ellipsis-vertical",__e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_e=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],FA=gt("ellipsis",S_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_e=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],T_e=gt("eye-off",w_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_e=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],A_e=gt("eye",C_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],E_e=gt("file-spreadsheet",M_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],R_e=gt("file-text",D_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_e=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],TU=gt("flag",N_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_e=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],k_e=gt("folder",I_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_e=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],P_e=gt("fuel",L_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_e=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],CU=gt("funnel",O_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],iae=gt("grid-3x3",F_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_e=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],AU=gt("grip-vertical",B_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_e=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],U_e=gt("hash",z_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_e=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],aae=gt("history",V_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_e=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],H_e=gt("house",G_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],W_e=gt("image",j_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_e=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],MU=gt("inbox",Y_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],X_e=gt("info",q_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_e=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],K_e=gt("kanban",Z_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_e=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Gk=gt("layout-dashboard",$_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_e=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],EU=gt("layout-grid",J_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_e=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],ebe=gt("layout-template",Q_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tbe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],nbe=gt("life-buoy",tbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rbe=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],ibe=gt("link-2",rbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const abe=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],sae=gt("list-ordered",abe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sbe=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],fb=gt("list-todo",sbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const obe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],lbe=gt("list",obe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ube=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],DU=gt("loader-circle",ube);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cbe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fbe=gt("lock",cbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dbe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oae=gt("log-out",dbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hbe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],RU=gt("map-pin",hbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pbe=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Fj=gt("megaphone",pbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vbe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],lae=gt("message-square",vbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mbe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Sv=gt("minus",mbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gbe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ybe=gt("monitor",gbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xbe=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],Bj=gt("move-right",xbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _be=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],bbe=gt("move",_be);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sbe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],NU=gt("package",Sbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wbe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Tbe=gt("palette",wbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cbe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],wv=gt("panels-top-left",Cbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Abe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mbe=gt("pen",Abe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ebe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Dbe=gt("pencil",Ebe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rbe=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Nbe=gt("pin",Rbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ibe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],li=gt("plus",Ibe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kbe=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Lbe=gt("redo",kbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pbe=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Obe=gt("reply",Pbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fbe=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Bbe=gt("rocket",Fbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zbe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ube=gt("save",zbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vbe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xC=gt("search",Vbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gbe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],uae=gt("send",Gbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hbe=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zj=gt("server",Hbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jbe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_C=gt("settings",jbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wbe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],cae=gt("share-2",Wbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ybe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qbe=gt("shield-check",Ybe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xbe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fae=gt("shield",Xbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zbe=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],jB=gt("ship",Zbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kbe=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],IU=gt("shopping-bag",Kbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $be=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],WB=gt("shopping-cart",$be);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jbe=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],dae=gt("sliders-horizontal",Jbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qbe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wf=gt("sparkles",Qbe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eSe=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tSe=gt("square-check-big",eSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nSe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],rSe=gt("square-kanban",nSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iSe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],aSe=gt("square-pen",iSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sSe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],hae=gt("square",sSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oSe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],X_=gt("star",oSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lSe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],uSe=gt("sticky-note",lSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cSe=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],lN=gt("store",cSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fSe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],kU=gt("table",fSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dSe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pae=gt("target",dSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hSe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vp=gt("trash-2",hSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pSe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],vae=gt("trending-down",pSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vSe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Sc=gt("trending-up",vSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mSe=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],gSe=gt("trophy",mSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ySe=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],YB=gt("truck",ySe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xSe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],mae=gt("type",xSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Se=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],bSe=gt("undo",_Se);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SSe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],wSe=gt("user-plus",SSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TSe=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],CSe=gt("user-round",TSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ASe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],MSe=gt("user",ASe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ESe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mp=gt("users",ESe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DSe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Uj=gt("video",DSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RSe=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],qB=gt("warehouse",RSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NSe=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],ISe=gt("waves",NSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kSe=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],b4=gt("wind",kSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LSe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],PSe=gt("wrench",LSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OSe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ep=gt("x",OSe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FSe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],MT=gt("zap",FSe),gae=de.createContext(void 0),Du=()=>{const n=de.useContext(gae);return n||{showToast:e=>console.log("Toast:",e)}},BSe=({id:n,message:e,type:t,onClose:r})=>{const i={info:"bg-gray-900 text-white border-gray-800",success:"bg-emerald-600 text-white border-emerald-700",error:"bg-red-600 text-white border-red-700"},a={info:C.jsx(X_e,{size:18}),success:C.jsx(tae,{size:18}),error:C.jsx($y,{size:18})};return C.jsxs("div",{className:`${i[t]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border`,children:[C.jsx("div",{className:"flex-shrink-0",children:a[t]}),C.jsx("span",{className:"text-sm font-medium flex-1",children:e}),C.jsx("button",{onClick:()=>r(n),className:"opacity-70 hover:opacity-100 transition-opacity",children:C.jsx(Ep,{size:16})})]})},zSe=({children:n})=>{const[e,t]=de.useState([]),r=de.useCallback((a,s="info")=>{const o=Date.now();t(l=>[...l,{id:o,message:a,type:s}]),setTimeout(()=>{t(l=>l.filter(u=>u.id!==o))},3e3)},[]),i=a=>{t(s=>s.filter(o=>o.id!==a))};return C.jsxs(gae.Provider,{value:{showToast:r},children:[n,C.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto",children:e.map(a=>C.jsx(BSe,{...a,onClose:i},a.id))})]})},QE="http://localhost:3001",aT={getSpaces:async()=>(await fetch(`${QE}/spaces`)).json(),createSpace:async n=>{const e={id:`SPACE-${Date.now()}`,name:n,color:"#"+Math.floor(Math.random()*16777215).toString(16)};return(await fetch(`${QE}/spaces`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()},updateSpace:async(n,e)=>{await fetch(`${QE}/spaces/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},deleteSpace:async n=>{await fetch(`${QE}/spaces/${n}`,{method:"DELETE"})}},e3="http://localhost:3001",ay={getTasks:async()=>(await fetch(`${e3}/tasks`)).json(),updateTask:async(n,e)=>(await fetch(`${e3}/tasks/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),createTask:async n=>{const e={...n,id:`TASK-${Math.floor(1e3+Math.random()*9e3)}`};return(await fetch(`${e3}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()},deleteTask:async n=>{await fetch(`${e3}/tasks/${n}`,{method:"DELETE"})},deleteTasksBySpaceId:async n=>{const t=(await ay.getTasks()).filter(r=>r.spaceId===n);await Promise.all(t.map(r=>ay.deleteTask(r.id)))}};function t3(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var S4={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Vj;function USe(){return Vj||(Vj=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(r,i,a){function s(u,c){if(!i[u]){if(!r[u]){var f=typeof t3=="function"&&t3;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return s(m||p)},h,h.exports,t,r,i,a)}return i[u].exports}for(var o=typeof t3=="function"&&t3,l=0;l<a.length;l++)s(a[l]);return s})({1:[function(t,r,i){var a=t("./utils"),s=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,d,h,p,m,g=[],y=0,_=l.length,S=_,A=a.getTypeOf(l)!=="string";y<l.length;)S=_-y,f=A?(u=l[y++],c=y<_?l[y++]:0,y<_?l[y++]:0):(u=l.charCodeAt(y++),c=y<_?l.charCodeAt(y++):0,y<_?l.charCodeAt(y++):0),d=u>>2,h=(3&u)<<4|c>>4,p=1<S?(15&c)<<2|f>>6:64,m=2<S?63&f:64,g.push(o.charAt(d)+o.charAt(h)+o.charAt(p)+o.charAt(m));return g.join("")},i.decode=function(l){var u,c,f,d,h,p,m=0,g=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var _,S=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&S--,l.charAt(l.length-2)===o.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=s.uint8array?new Uint8Array(0|S):new Array(0|S);m<l.length;)u=o.indexOf(l.charAt(m++))<<2|(d=o.indexOf(l.charAt(m++)))>>4,c=(15&d)<<4|(h=o.indexOf(l.charAt(m++)))>>2,f=(3&h)<<6|(p=o.indexOf(l.charAt(m++))),_[g++]=u,h!==64&&(_[g++]=c),p!==64&&(_[g++]=f);return _}},{"./support":30,"./utils":32}],2:[function(t,r,i){var a=t("./external"),s=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function u(c,f,d,h,p){this.compressedSize=c,this.uncompressedSize=f,this.crc32=d,this.compression=h,this.compressedContent=p}u.prototype={getContentWorker:function(){var c=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,d){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var a=t("./utils"),s=(function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?(function(u,c,f,d){var h=s,p=d+f;u^=-1;for(var m=d;m<p;m++)u=u>>>8^h[255&(u^c[m])];return-1^u})(0|l,o,o.length,0):(function(u,c,f,d){var h=s,p=d+f;u^=-1;for(var m=d;m<p;m++)u=u>>>8^h[255&(u^c.charCodeAt(m))];return-1^u})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var a=null;a=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:a}},{lie:37}],7:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),o=t("./utils"),l=t("./stream/GenericWorker"),u=a?"uint8array":"array";function c(f,d){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=d,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(d){f.push({data:d,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function a(h,p){var m,g="";for(m=0;m<p;m++)g+=String.fromCharCode(255&h),h>>>=8;return g}function s(h,p,m,g,y,_){var S,A,M=h.file,E=h.compression,D=_!==u.utf8encode,I=o.transformTo("string",_(M.name)),N=o.transformTo("string",u.utf8encode(M.name)),L=M.comment,B=o.transformTo("string",_(L)),O=o.transformTo("string",u.utf8encode(L)),G=N.length!==M.name.length,V=O.length!==L.length,q="",W="",Z="",X=M.dir,K=M.date,se={crc32:0,compressedSize:0,uncompressedSize:0};p&&!m||(se.crc32=h.crc32,se.compressedSize=h.compressedSize,se.uncompressedSize=h.uncompressedSize);var J=0;p&&(J|=8),D||!G&&!V||(J|=2048);var H=0,ee=0;X&&(H|=16),y==="UNIX"?(ee=798,H|=(function(ne,ce){var ve=ne;return ne||(ve=ce?16893:33204),(65535&ve)<<16})(M.unixPermissions,X)):(ee=20,H|=(function(ne){return 63&(ne||0)})(M.dosPermissions)),S=K.getUTCHours(),S<<=6,S|=K.getUTCMinutes(),S<<=5,S|=K.getUTCSeconds()/2,A=K.getUTCFullYear()-1980,A<<=4,A|=K.getUTCMonth()+1,A<<=5,A|=K.getUTCDate(),G&&(W=a(1,1)+a(c(I),4)+N,q+="up"+a(W.length,2)+W),V&&(Z=a(1,1)+a(c(B),4)+O,q+="uc"+a(Z.length,2)+Z);var Q="";return Q+=`
\0`,Q+=a(J,2),Q+=E.magic,Q+=a(S,2),Q+=a(A,2),Q+=a(se.crc32,4),Q+=a(se.compressedSize,4),Q+=a(se.uncompressedSize,4),Q+=a(I.length,2),Q+=a(q.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Q+I+q,dirRecord:f.CENTRAL_FILE_HEADER+a(ee,2)+Q+a(B.length,2)+"\0\0\0\0"+a(H,4)+a(g,4)+I+q+B}}var o=t("../utils"),l=t("../stream/GenericWorker"),u=t("../utf8"),c=t("../crc32"),f=t("../signature");function d(h,p,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(d,l),d.prototype.push=function(h){var p=h.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(p+100*(m-g-1))/m:100}}))},d.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var p=this.streamFiles&&!h.file.dir;if(p){var m=s(h,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(h){this.accumulate=!1;var p=this.streamFiles&&!h.file.dir,m=s(h,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),p)this.push({data:(function(g){return f.DATA_DESCRIPTOR+a(g.crc32,4)+a(g.compressedSize,4)+a(g.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var h=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var m=this.bytesWritten-h,g=(function(y,_,S,A,M){var E=o.transformTo("string",M(A));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(y,2)+a(y,2)+a(_,4)+a(S,4)+a(E.length,2)+E})(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(h){this._sources.push(h);var p=this;return h.on("data",function(m){p.processChunk(m)}),h.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),h.on("error",function(m){p.error(m)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(h){var p=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<p.length;m++)try{p[m].error(h)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,p=0;p<h.length;p++)h[p].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var a=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{o.forEach(function(d,h){f++;var p=(function(_,S){var A=_||S,M=a[A];if(!M)throw new Error(A+" is not a valid compression method !");return M})(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,y=h.date;h._compressWorker(p,m).withStreamInfo("file",{name:d,dir:g,date:y,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=t("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var a=t("./utils"),s=t("./external"),o=t("./utf8"),l=t("./zipEntries"),u=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function f(d){return new s.Promise(function(h,p){var m=d.decompressed.getContentWorker().pipe(new u);m.on("error",function(g){p(g)}).on("end",function(){m.streamInfo.crc32!==d.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(d,h){var p=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(d)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",d,!0,h.optimizedBinaryString,h.base64).then(function(m){var g=new l(h);return g.load(m),g}).then(function(m){var g=[s.Promise.resolve(m)],y=m.files;if(h.checkCRC32)for(var _=0;_<y.length;_++)g.push(f(y[_]));return s.Promise.all(g)}).then(function(m){for(var g=m.shift(),y=g.files,_=0;_<y.length;_++){var S=y[_],A=S.fileNameStr,M=a.resolve(S.fileNameStr);p.file(M,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:h.createFolders}),S.dir||(p.file(M).unsafeOriginalName=A)}return g.zipComment.length&&(p.comment=g.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var a=t("../utils"),s=t("../stream/GenericWorker");function o(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var a=t("readable-stream").Readable;function s(o,l,u){a.call(this,l),this._helper=o;var c=this;o.on("data",function(f,d){c.push(f)||c._helper.pause(),u&&u(d)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}t("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,r,i){function a(M,E,D){var I,N=o.getTypeOf(E),L=o.extend(D||{},c);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(M=y(M)),L.createFolders&&(I=g(M))&&_.call(this,I,!0);var B=N==="string"&&L.binary===!1&&L.base64===!1;D&&D.binary!==void 0||(L.binary=!B),(E instanceof f&&E.uncompressedSize===0||L.dir||!E||E.length===0)&&(L.base64=!1,L.binary=!0,E="",L.compression="STORE",N="string");var O=null;O=E instanceof f||E instanceof l?E:p.isNode&&p.isStream(E)?new m(M,E):o.prepareContent(M,E,L.binary,L.optimizedBinaryString,L.base64);var G=new d(M,O,L);this.files[M]=G}var s=t("./utf8"),o=t("./utils"),l=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),c=t("./defaults"),f=t("./compressedObject"),d=t("./zipObject"),h=t("./generate"),p=t("./nodejsUtils"),m=t("./nodejs/NodejsStreamInputAdapter"),g=function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var E=M.lastIndexOf("/");return 0<E?M.substring(0,E):""},y=function(M){return M.slice(-1)!=="/"&&(M+="/"),M},_=function(M,E){return E=E!==void 0?E:c.createFolders,M=y(M),this.files[M]||a.call(this,M,null,{dir:!0,createFolders:E}),this.files[M]};function S(M){return Object.prototype.toString.call(M)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var E,D,I;for(E in this.files)I=this.files[E],(D=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&M(D,I)},filter:function(M){var E=[];return this.forEach(function(D,I){M(D,I)&&E.push(I)}),E},file:function(M,E,D){if(arguments.length!==1)return M=this.root+M,a.call(this,M,E,D),this;if(S(M)){var I=M;return this.filter(function(L,B){return!B.dir&&I.test(L)})}var N=this.files[this.root+M];return N&&!N.dir?N:null},folder:function(M){if(!M)return this;if(S(M))return this.filter(function(N,L){return L.dir&&M.test(N)});var E=this.root+M,D=_.call(this,E),I=this.clone();return I.root=D.name,I},remove:function(M){M=this.root+M;var E=this.files[M];if(E||(M.slice(-1)!=="/"&&(M+="/"),E=this.files[M]),E&&!E.dir)delete this.files[M];else for(var D=this.filter(function(N,L){return L.name.slice(0,M.length)===M}),I=0;I<D.length;I++)delete this.files[D[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var E,D={};try{if((D=o.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");o.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var I=D.comment||this.comment||"";E=h.generateWorker(this,D,I)}catch(N){(E=new l("error")).error(N)}return new u(E,D.type||"string",D.mimeType)},generateAsync:function(M,E){return this.generateInternalStream(M).accumulate(E)},generateNodeStream:function(M,E){return(M=M||{}).type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream(E)}};r.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var a=t("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}t("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),f=o.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===f)return d-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),f=o.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&c===d[2]&&f===d[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var a=t("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(t,r,i){var a=t("./Uint8ArrayReader");function s(o){a.call(this,o)}t("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var a=t("./DataReader");function s(o){a.call(this,o)}t("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var a=t("./ArrayReader");function s(o){a.call(this,o)}t("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var a=t("../utils"),s=t("../support"),o=t("./ArrayReader"),l=t("./StringReader"),u=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");r.exports=function(f){var d=a.getTypeOf(f);return a.checkSupport(d),d!=="string"||s.uint8array?d==="nodebuffer"?new u(f):s.uint8array?new c(a.transformTo("uint8array",f)):new o(a.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var a=t("./GenericWorker"),s=t("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var a=t("./GenericWorker"),s=t("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function o(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=a.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(t,r,i){var a=t("../utils"),s=t("./ConvertWorker"),o=t("./GenericWorker"),l=t("../base64"),u=t("../support"),c=t("../external"),f=null;if(u.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(p,m){return new c.Promise(function(g,y){var _=[],S=p._internalType,A=p._outputType,M=p._mimeType;p.on("data",function(E,D){_.push(E),m&&m(D)}).on("error",function(E){_=[],y(E)}).on("end",function(){try{var E=(function(D,I,N){switch(D){case"blob":return a.newBlob(a.transformTo("arraybuffer",I),N);case"base64":return l.encode(I);default:return a.transformTo(D,I)}})(A,(function(D,I){var N,L=0,B=null,O=0;for(N=0;N<I.length;N++)O+=I[N].length;switch(D){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(B=new Uint8Array(O),N=0;N<I.length;N++)B.set(I[N],L),L+=I[N].length;return B;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+D+"'")}})(S,_),M);g(E)}catch(D){y(D)}_=[]}).resume()})}function h(p,m,g){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=g,a.checkSupport(y),this._worker=p.pipe(new s(y)),p.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}h.prototype={accumulate:function(p){return d(this,p)},on:function(p,m){var g=this;return p==="data"?this._worker.on(p,function(y){m.call(g,y.data,y.meta)}):this._worker.on(p,function(){a.delay(m,arguments,g)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var a=t("./utils"),s=t("./support"),o=t("./nodejsUtils"),l=t("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?o.newBufferFrom(h,"utf-8"):(function(p){var m,g,y,_,S,A=p.length,M=0;for(_=0;_<A;_++)(64512&(g=p.charCodeAt(_)))==55296&&_+1<A&&(64512&(y=p.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),_++),M+=g<128?1:g<2048?2:g<65536?3:4;for(m=s.uint8array?new Uint8Array(M):new Array(M),_=S=0;S<M;_++)(64512&(g=p.charCodeAt(_)))==55296&&_+1<A&&(64512&(y=p.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),_++),g<128?m[S++]=g:(g<2048?m[S++]=192|g>>>6:(g<65536?m[S++]=224|g>>>12:(m[S++]=240|g>>>18,m[S++]=128|g>>>12&63),m[S++]=128|g>>>6&63),m[S++]=128|63&g);return m})(h)},i.utf8decode=function(h){return s.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):(function(p){var m,g,y,_,S=p.length,A=new Array(2*S);for(m=g=0;m<S;)if((y=p[m++])<128)A[g++]=y;else if(4<(_=u[y]))A[g++]=65533,m+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&m<S;)y=y<<6|63&p[m++],_--;1<_?A[g++]=65533:y<65536?A[g++]=y:(y-=65536,A[g++]=55296|y>>10&1023,A[g++]=56320|1023&y)}return A.length!==g&&(A.subarray?A=A.subarray(0,g):A.length=g),a.applyFromCharCode(A)})(h=a.transformTo(s.uint8array?"uint8array":"array",h))},a.inherits(f,l),f.prototype.processChunk=function(h){var p=a.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var m=p;(p=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),p.set(m,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var g=(function(_,S){var A;for((S=S||_.length)>_.length&&(S=_.length),A=S-1;0<=A&&(192&_[A])==128;)A--;return A<0||A===0?S:A+u[_[A]]>S?A:S})(p),y=p;g!==p.length&&(s.uint8array?(y=p.subarray(0,g),this.leftOver=p.subarray(g,p.length)):(y=p.slice(0,g),this.leftOver=p.slice(g,p.length))),this.push({data:i.utf8decode(y),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(d,l),d.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var a=t("./support"),s=t("./base64"),o=t("./nodejsUtils"),l=t("./external");function u(m){return m}function c(m,g){for(var y=0;y<m.length;++y)g[y]=255&m.charCodeAt(y);return g}t("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,g,y){var _=[],S=0,A=m.length;if(A<=y)return String.fromCharCode.apply(null,m);for(;S<A;)g==="array"||g==="nodebuffer"?_.push(String.fromCharCode.apply(null,m.slice(S,Math.min(S+y,A)))):_.push(String.fromCharCode.apply(null,m.subarray(S,Math.min(S+y,A)))),S+=y;return _.join("")},stringifyByChar:function(m){for(var g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);return g},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function d(m){var g=65536,y=i.getTypeOf(m),_=!0;if(y==="uint8array"?_=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(_=f.applyCanBeUsed.nodebuffer),_)for(;1<g;)try{return f.stringifyByChunk(m,y,g)}catch{g=Math.floor(g/2)}return f.stringifyByChar(m)}function h(m,g){for(var y=0;y<m.length;y++)g[y]=m[y];return g}i.applyFromCharCode=d;var p={};p.string={string:u,array:function(m){return c(m,new Array(m.length))},arraybuffer:function(m){return p.string.uint8array(m).buffer},uint8array:function(m){return c(m,new Uint8Array(m.length))},nodebuffer:function(m){return c(m,o.allocBuffer(m.length))}},p.array={string:d,array:u,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},p.arraybuffer={string:function(m){return d(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:u,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},p.uint8array={string:d,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:u,nodebuffer:function(m){return o.newBufferFrom(m)}},p.nodebuffer={string:d,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return p.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:u},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var y=i.getTypeOf(g);return p[y][m](g)},i.resolve=function(m){for(var g=m.split("/"),y=[],_=0;_<g.length;_++){var S=g[_];S==="."||S===""&&_!==0&&_!==g.length-1||(S===".."?y.pop():y.push(S))}return y.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(m)?"nodebuffer":a.uint8array&&m instanceof Uint8Array?"uint8array":a.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!a[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,y,_="";for(y=0;y<(m||"").length;y++)_+="\\x"+((g=m.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return _},i.delay=function(m,g,y){setImmediate(function(){m.apply(y||null,g||[])})},i.inherits=function(m,g){function y(){}y.prototype=g.prototype,m.prototype=new y},i.extend=function(){var m,g,y={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&y[g]===void 0&&(y[g]=arguments[m][g]);return y},i.prepareContent=function(m,g,y,_,S){return l.Promise.resolve(g).then(function(A){return a.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new l.Promise(function(M,E){var D=new FileReader;D.onload=function(I){M(I.target.result)},D.onerror=function(I){E(I.target.error)},D.readAsArrayBuffer(A)}):A}).then(function(A){var M=i.getTypeOf(A);return M?(M==="arraybuffer"?A=i.transformTo("uint8array",A):M==="string"&&(S?A=s.decode(A):y&&_!==!0&&(A=(function(E){return c(E,a.uint8array?new Uint8Array(E.length):new Array(E.length))})(A))),A):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),o=t("./signature"),l=t("./zipEntry"),u=t("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(d)+", expected "+s.pretty(f)+")")}},isSignature:function(f,d){var h=this.reader.index;this.reader.setIndex(f);var p=this.reader.readString(4)===d;return this.reader.setIndex(h),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",h=s.transformTo(d,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,d,h,p=this.zip64EndOfCentralSize-44;0<p;)f=this.reader.readInt(2),d=this.reader.readInt(4),h=this.reader.readData(d),this.zip64ExtensibleData[f]={id:f,length:d,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,d;for(f=0;f<this.files.length;f++)d=this.files[f],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var d=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var p=d-h;if(0<p)this.isSignature(d,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),o=t("./compressedObject"),l=t("./crc32"),u=t("./utf8"),c=t("./compressions"),f=t("./support");function d(h,p){this.options=h,this.loadOptions=p}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var p,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=(function(g){for(var y in c)if(Object.prototype.hasOwnProperty.call(c,y)&&c[y].magic===g)return c[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var p=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(p),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var p,m,g,y=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<y;)p=h.readInt(2),m=h.readInt(2),g=h.readData(m),this.extraFields[p]={id:p,length:m,value:g};h.setIndex(y)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var m=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var p=a(h.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var p=a(h.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(h.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function a(p,m,g){this.name=p,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),l=t("./utf8"),u=t("./compressedObject"),c=t("./stream/GenericWorker");a.prototype={internalStream:function(p){var m=null,g="string";try{if(!p)throw new Error("No output type specified.");var y=(g=p.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var _=!this._dataBinary;_&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!_&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(S){(m=new c("error")).error(S)}return new s(m,g,"")},async:function(p,m){return this.internalStream(p).accumulate(m)},nodeStream:function(p,m){return this.internalStream(p||"nodebuffer").toNodejsStream(m)},_compressWorker:function(p,m){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(g,p,m)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)a.prototype[f[h]]=d;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,c=new l(p),f=a.document.createTextNode("");c.observe(f,{characterData:!0}),s=function(){f.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var m=a.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:function(){setTimeout(p,0)};else{var d=new a.MessageChannel;d.port1.onmessage=p,s=function(){d.port2.postMessage(0)}}var h=[];function p(){var m,g;o=!0;for(var y=h.length;y;){for(g=h,h=[],m=-1;++m<y;)g[m]();y=h.length}o=!1}r.exports=function(m){h.push(m)!==1||o||s()}}).call(this,typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var a=t("immediate");function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,y!==s&&m(this,y)}function d(y,_,S){this.promise=y,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function h(y,_,S){a(function(){var A;try{A=_(S)}catch(M){return o.reject(y,M)}A===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,A)})}function p(y){var _=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof _=="function")return function(){_.apply(y,arguments)}}function m(y,_){var S=!1;function A(D){S||(S=!0,o.reject(y,D))}function M(D){S||(S=!0,o.resolve(y,D))}var E=g(function(){_(M,A)});E.status==="error"&&A(E.value)}function g(y,_){var S={};try{S.value=y(_),S.status="success"}catch(A){S.status="error",S.value=A}return S}(r.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var _=this.constructor;return this.then(function(S){return _.resolve(y()).then(function(){return S})},function(S){return _.resolve(y()).then(function(){throw S})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,_){if(typeof y!="function"&&this.state===u||typeof _!="function"&&this.state===l)return this;var S=new this.constructor(s);return this.state!==c?h(S,this.state===u?y:_,this.outcome):this.queue.push(new d(S,y,_)),S},d.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},d.prototype.otherCallFulfilled=function(y){h(this.promise,this.onFulfilled,y)},d.prototype.callRejected=function(y){o.reject(this.promise,y)},d.prototype.otherCallRejected=function(y){h(this.promise,this.onRejected,y)},o.resolve=function(y,_){var S=g(p,_);if(S.status==="error")return o.reject(y,S.value);var A=S.value;if(A)m(y,A);else{y.state=u,y.outcome=_;for(var M=-1,E=y.queue.length;++M<E;)y.queue[M].callFulfilled(_)}return y},o.reject=function(y,_){y.state=l,y.outcome=_;for(var S=-1,A=y.queue.length;++S<A;)y.queue[S].callRejected(_);return y},f.resolve=function(y){return y instanceof this?y:o.resolve(new this(s),y)},f.reject=function(y){var _=new this(s);return o.reject(_,y)},f.all=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,A=!1;if(!S)return this.resolve([]);for(var M=new Array(S),E=0,D=-1,I=new this(s);++D<S;)N(y[D],D);return I;function N(L,B){_.resolve(L).then(function(O){M[B]=O,++E!==S||A||(A=!0,o.resolve(I,M))},function(O){A||(A=!0,o.reject(I,O))})}},f.race=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,A=!1;if(!S)return this.resolve([]);for(var M=-1,E=new this(s);++M<S;)D=y[M],_.resolve(D).then(function(I){A||(A=!0,o.resolve(E,I))},function(I){A||(A=!0,o.reject(E,I))});var D;return E}},{immediate:36}],38:[function(t,r,i){var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var a=t("./zlib/deflate"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),c=Object.prototype.toString,f=0,d=-1,h=0,p=8;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},y||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var S=a.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(S!==f)throw new Error(l[S]);if(_.header&&a.deflateSetHeader(this.strm,_.header),_.dictionary){var A;if(A=typeof _.dictionary=="string"?o.string2buf(_.dictionary):c.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(S=a.deflateSetDictionary(this.strm,A))!==f)throw new Error(l[S]);this._dict_set=!0}}function g(y,_){var S=new m(_);if(S.push(y,!0),S.err)throw S.msg||l[S.err];return S.result}m.prototype.push=function(y,_){var S,A,M=this.strm,E=this.options.chunkSize;if(this.ended)return!1;A=_===~~_?_:_===!0?4:0,typeof y=="string"?M.input=o.string2buf(y):c.call(y)==="[object ArrayBuffer]"?M.input=new Uint8Array(y):M.input=y,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new s.Buf8(E),M.next_out=0,M.avail_out=E),(S=a.deflate(M,A))!==1&&S!==f)return this.onEnd(S),!(this.ended=!0);M.avail_out!==0&&(M.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(M.output,M.next_out))):this.onData(s.shrinkBuf(M.output,M.next_out)))}while((0<M.avail_in||M.avail_out===0)&&S!==1);return A===4?(S=a.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===f):A!==2||(this.onEnd(f),!(M.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(y,_){return(_=_||{}).raw=!0,g(y,_)},i.gzip=function(y,_){return(_=_||{}).gzip=!0,g(y,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var a=t("./zlib/inflate"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),c=t("./zlib/zstream"),f=t("./zlib/gzheader"),d=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=a.inflateInit2(this.strm,g.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function p(m,g){var y=new h(g);if(y.push(m,!0),y.err)throw y.msg||u[y.err];return y.result}h.prototype.push=function(m,g){var y,_,S,A,M,E,D=this.strm,I=this.options.chunkSize,N=this.options.dictionary,L=!1;if(this.ended)return!1;_=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?D.input=o.binstring2buf(m):d.call(m)==="[object ArrayBuffer]"?D.input=new Uint8Array(m):D.input=m,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new s.Buf8(I),D.next_out=0,D.avail_out=I),(y=a.inflate(D,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&N&&(E=typeof N=="string"?o.string2buf(N):d.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,y=a.inflateSetDictionary(this.strm,E)),y===l.Z_BUF_ERROR&&L===!0&&(y=l.Z_OK,L=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&y!==l.Z_STREAM_END&&(D.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=o.utf8border(D.output,D.next_out),A=D.next_out-S,M=o.buf2string(D.output,S),D.next_out=A,D.avail_out=I-A,A&&s.arraySet(D.output,D.output,S,A,0),this.onData(M)):this.onData(s.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(L=!0)}while((0<D.avail_in||D.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(y=a.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(D.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=p,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,p(m,g)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,f,d){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),d);else for(var h=0;h<f;h++)l[d+h]=u[c+h]},flattenChunks:function(l){var u,c,f,d,h,p;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(p=new Uint8Array(f),u=d=0,c=l.length;u<c;u++)h=l[u],p.set(h,d),d+=h.length;return p}},o={arraySet:function(l,u,c,f,d){for(var h=0;h<f;h++)l[d+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(t,r,i){var a=t("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,d){if(d<65537&&(f.subarray&&o||!f.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(f,d));for(var h="",p=0;p<d;p++)h+=String.fromCharCode(f[p]);return h}l[254]=l[254]=1,i.string2buf=function(f){var d,h,p,m,g,y=f.length,_=0;for(m=0;m<y;m++)(64512&(h=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(p=f.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),m++),_+=h<128?1:h<2048?2:h<65536?3:4;for(d=new a.Buf8(_),m=g=0;g<_;m++)(64512&(h=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(p=f.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),m++),h<128?d[g++]=h:(h<2048?d[g++]=192|h>>>6:(h<65536?d[g++]=224|h>>>12:(d[g++]=240|h>>>18,d[g++]=128|h>>>12&63),d[g++]=128|h>>>6&63),d[g++]=128|63&h);return d},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var d=new a.Buf8(f.length),h=0,p=d.length;h<p;h++)d[h]=f.charCodeAt(h);return d},i.buf2string=function(f,d){var h,p,m,g,y=d||f.length,_=new Array(2*y);for(h=p=0;h<y;)if((m=f[h++])<128)_[p++]=m;else if(4<(g=l[m]))_[p++]=65533,h+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&h<y;)m=m<<6|63&f[h++],g--;1<g?_[p++]=65533:m<65536?_[p++]=m:(m-=65536,_[p++]=55296|m>>10&1023,_[p++]=56320|1023&m)}return c(_,p)},i.utf8border=function(f,d){var h;for((d=d||f.length)>f.length&&(d=f.length),h=d-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?d:h+l[f[h]]>d?h:d}},{"./common":41}],43:[function(t,r,i){r.exports=function(a,s,o,l){for(var u=65535&a|0,c=a>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;c=c+(u=u+s[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var a=(function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o})();r.exports=function(s,o,l,u){var c=a,f=u+l;s^=-1;for(var d=u;d<f;d++)s=s>>>8^c[255&(s^o[d])];return-1^s}},{}],46:[function(t,r,i){var a,s=t("../utils/common"),o=t("./trees"),l=t("./adler32"),u=t("./crc32"),c=t("./messages"),f=0,d=4,h=0,p=-2,m=-1,g=4,y=2,_=8,S=9,A=286,M=30,E=19,D=2*A+1,I=15,N=3,L=258,B=L+N+1,O=42,G=113,V=1,q=2,W=3,Z=4;function X(te,oe){return te.msg=c[oe],oe}function K(te){return(te<<1)-(4<te?9:0)}function se(te){for(var oe=te.length;0<=--oe;)te[oe]=0}function J(te){var oe=te.state,ge=oe.pending;ge>te.avail_out&&(ge=te.avail_out),ge!==0&&(s.arraySet(te.output,oe.pending_buf,oe.pending_out,ge,te.next_out),te.next_out+=ge,oe.pending_out+=ge,te.total_out+=ge,te.avail_out-=ge,oe.pending-=ge,oe.pending===0&&(oe.pending_out=0))}function H(te,oe){o._tr_flush_block(te,0<=te.block_start?te.block_start:-1,te.strstart-te.block_start,oe),te.block_start=te.strstart,J(te.strm)}function ee(te,oe){te.pending_buf[te.pending++]=oe}function Q(te,oe){te.pending_buf[te.pending++]=oe>>>8&255,te.pending_buf[te.pending++]=255&oe}function ne(te,oe){var ge,le,fe=te.max_chain_length,be=te.strstart,Oe=te.prev_length,Ve=te.nice_match,Pe=te.strstart>te.w_size-B?te.strstart-(te.w_size-B):0,me=te.window,ue=te.w_mask,Ie=te.prev,Ye=te.strstart+L,ot=me[be+Oe-1],We=me[be+Oe];te.prev_length>=te.good_match&&(fe>>=2),Ve>te.lookahead&&(Ve=te.lookahead);do if(me[(ge=oe)+Oe]===We&&me[ge+Oe-1]===ot&&me[ge]===me[be]&&me[++ge]===me[be+1]){be+=2,ge++;do;while(me[++be]===me[++ge]&&me[++be]===me[++ge]&&me[++be]===me[++ge]&&me[++be]===me[++ge]&&me[++be]===me[++ge]&&me[++be]===me[++ge]&&me[++be]===me[++ge]&&me[++be]===me[++ge]&&be<Ye);if(le=L-(Ye-be),be=Ye-L,Oe<le){if(te.match_start=oe,Ve<=(Oe=le))break;ot=me[be+Oe-1],We=me[be+Oe]}}while((oe=Ie[oe&ue])>Pe&&--fe!=0);return Oe<=te.lookahead?Oe:te.lookahead}function ce(te){var oe,ge,le,fe,be,Oe,Ve,Pe,me,ue,Ie=te.w_size;do{if(fe=te.window_size-te.lookahead-te.strstart,te.strstart>=Ie+(Ie-B)){for(s.arraySet(te.window,te.window,Ie,Ie,0),te.match_start-=Ie,te.strstart-=Ie,te.block_start-=Ie,oe=ge=te.hash_size;le=te.head[--oe],te.head[oe]=Ie<=le?le-Ie:0,--ge;);for(oe=ge=Ie;le=te.prev[--oe],te.prev[oe]=Ie<=le?le-Ie:0,--ge;);fe+=Ie}if(te.strm.avail_in===0)break;if(Oe=te.strm,Ve=te.window,Pe=te.strstart+te.lookahead,me=fe,ue=void 0,ue=Oe.avail_in,me<ue&&(ue=me),ge=ue===0?0:(Oe.avail_in-=ue,s.arraySet(Ve,Oe.input,Oe.next_in,ue,Pe),Oe.state.wrap===1?Oe.adler=l(Oe.adler,Ve,ue,Pe):Oe.state.wrap===2&&(Oe.adler=u(Oe.adler,Ve,ue,Pe)),Oe.next_in+=ue,Oe.total_in+=ue,ue),te.lookahead+=ge,te.lookahead+te.insert>=N)for(be=te.strstart-te.insert,te.ins_h=te.window[be],te.ins_h=(te.ins_h<<te.hash_shift^te.window[be+1])&te.hash_mask;te.insert&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[be+N-1])&te.hash_mask,te.prev[be&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=be,be++,te.insert--,!(te.lookahead+te.insert<N)););}while(te.lookahead<B&&te.strm.avail_in!==0)}function ve(te,oe){for(var ge,le;;){if(te.lookahead<B){if(ce(te),te.lookahead<B&&oe===f)return V;if(te.lookahead===0)break}if(ge=0,te.lookahead>=N&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+N-1])&te.hash_mask,ge=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart),ge!==0&&te.strstart-ge<=te.w_size-B&&(te.match_length=ne(te,ge)),te.match_length>=N)if(le=o._tr_tally(te,te.strstart-te.match_start,te.match_length-N),te.lookahead-=te.match_length,te.match_length<=te.max_lazy_match&&te.lookahead>=N){for(te.match_length--;te.strstart++,te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+N-1])&te.hash_mask,ge=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart,--te.match_length!=0;);te.strstart++}else te.strstart+=te.match_length,te.match_length=0,te.ins_h=te.window[te.strstart],te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+1])&te.hash_mask;else le=o._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++;if(le&&(H(te,!1),te.strm.avail_out===0))return V}return te.insert=te.strstart<N-1?te.strstart:N-1,oe===d?(H(te,!0),te.strm.avail_out===0?W:Z):te.last_lit&&(H(te,!1),te.strm.avail_out===0)?V:q}function xe(te,oe){for(var ge,le,fe;;){if(te.lookahead<B){if(ce(te),te.lookahead<B&&oe===f)return V;if(te.lookahead===0)break}if(ge=0,te.lookahead>=N&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+N-1])&te.hash_mask,ge=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart),te.prev_length=te.match_length,te.prev_match=te.match_start,te.match_length=N-1,ge!==0&&te.prev_length<te.max_lazy_match&&te.strstart-ge<=te.w_size-B&&(te.match_length=ne(te,ge),te.match_length<=5&&(te.strategy===1||te.match_length===N&&4096<te.strstart-te.match_start)&&(te.match_length=N-1)),te.prev_length>=N&&te.match_length<=te.prev_length){for(fe=te.strstart+te.lookahead-N,le=o._tr_tally(te,te.strstart-1-te.prev_match,te.prev_length-N),te.lookahead-=te.prev_length-1,te.prev_length-=2;++te.strstart<=fe&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+N-1])&te.hash_mask,ge=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart),--te.prev_length!=0;);if(te.match_available=0,te.match_length=N-1,te.strstart++,le&&(H(te,!1),te.strm.avail_out===0))return V}else if(te.match_available){if((le=o._tr_tally(te,0,te.window[te.strstart-1]))&&H(te,!1),te.strstart++,te.lookahead--,te.strm.avail_out===0)return V}else te.match_available=1,te.strstart++,te.lookahead--}return te.match_available&&(le=o._tr_tally(te,0,te.window[te.strstart-1]),te.match_available=0),te.insert=te.strstart<N-1?te.strstart:N-1,oe===d?(H(te,!0),te.strm.avail_out===0?W:Z):te.last_lit&&(H(te,!1),te.strm.avail_out===0)?V:q}function we(te,oe,ge,le,fe){this.good_length=te,this.max_lazy=oe,this.nice_length=ge,this.max_chain=le,this.func=fe}function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*D),this.dyn_dtree=new s.Buf16(2*(2*M+1)),this.bl_tree=new s.Buf16(2*(2*E+1)),se(this.dyn_ltree),se(this.dyn_dtree),se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(I+1),this.heap=new s.Buf16(2*A+1),se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*A+1),se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ue(te){var oe;return te&&te.state?(te.total_in=te.total_out=0,te.data_type=y,(oe=te.state).pending=0,oe.pending_out=0,oe.wrap<0&&(oe.wrap=-oe.wrap),oe.status=oe.wrap?O:G,te.adler=oe.wrap===2?0:1,oe.last_flush=f,o._tr_init(oe),h):X(te,p)}function pe(te){var oe=Ue(te);return oe===h&&(function(ge){ge.window_size=2*ge.w_size,se(ge.head),ge.max_lazy_match=a[ge.level].max_lazy,ge.good_match=a[ge.level].good_length,ge.nice_match=a[ge.level].nice_length,ge.max_chain_length=a[ge.level].max_chain,ge.strstart=0,ge.block_start=0,ge.lookahead=0,ge.insert=0,ge.match_length=ge.prev_length=N-1,ge.match_available=0,ge.ins_h=0})(te.state),oe}function pt(te,oe,ge,le,fe,be){if(!te)return p;var Oe=1;if(oe===m&&(oe=6),le<0?(Oe=0,le=-le):15<le&&(Oe=2,le-=16),fe<1||S<fe||ge!==_||le<8||15<le||oe<0||9<oe||be<0||g<be)return X(te,p);le===8&&(le=9);var Ve=new Ae;return(te.state=Ve).strm=te,Ve.wrap=Oe,Ve.gzhead=null,Ve.w_bits=le,Ve.w_size=1<<Ve.w_bits,Ve.w_mask=Ve.w_size-1,Ve.hash_bits=fe+7,Ve.hash_size=1<<Ve.hash_bits,Ve.hash_mask=Ve.hash_size-1,Ve.hash_shift=~~((Ve.hash_bits+N-1)/N),Ve.window=new s.Buf8(2*Ve.w_size),Ve.head=new s.Buf16(Ve.hash_size),Ve.prev=new s.Buf16(Ve.w_size),Ve.lit_bufsize=1<<fe+6,Ve.pending_buf_size=4*Ve.lit_bufsize,Ve.pending_buf=new s.Buf8(Ve.pending_buf_size),Ve.d_buf=1*Ve.lit_bufsize,Ve.l_buf=3*Ve.lit_bufsize,Ve.level=oe,Ve.strategy=be,Ve.method=ge,pe(te)}a=[new we(0,0,0,0,function(te,oe){var ge=65535;for(ge>te.pending_buf_size-5&&(ge=te.pending_buf_size-5);;){if(te.lookahead<=1){if(ce(te),te.lookahead===0&&oe===f)return V;if(te.lookahead===0)break}te.strstart+=te.lookahead,te.lookahead=0;var le=te.block_start+ge;if((te.strstart===0||te.strstart>=le)&&(te.lookahead=te.strstart-le,te.strstart=le,H(te,!1),te.strm.avail_out===0)||te.strstart-te.block_start>=te.w_size-B&&(H(te,!1),te.strm.avail_out===0))return V}return te.insert=0,oe===d?(H(te,!0),te.strm.avail_out===0?W:Z):(te.strstart>te.block_start&&(H(te,!1),te.strm.avail_out),V)}),new we(4,4,8,4,ve),new we(4,5,16,8,ve),new we(4,6,32,32,ve),new we(4,4,16,16,xe),new we(8,16,32,32,xe),new we(8,16,128,128,xe),new we(8,32,128,256,xe),new we(32,128,258,1024,xe),new we(32,258,258,4096,xe)],i.deflateInit=function(te,oe){return pt(te,oe,_,15,8,0)},i.deflateInit2=pt,i.deflateReset=pe,i.deflateResetKeep=Ue,i.deflateSetHeader=function(te,oe){return te&&te.state?te.state.wrap!==2?p:(te.state.gzhead=oe,h):p},i.deflate=function(te,oe){var ge,le,fe,be;if(!te||!te.state||5<oe||oe<0)return te?X(te,p):p;if(le=te.state,!te.output||!te.input&&te.avail_in!==0||le.status===666&&oe!==d)return X(te,te.avail_out===0?-5:p);if(le.strm=te,ge=le.last_flush,le.last_flush=oe,le.status===O)if(le.wrap===2)te.adler=0,ee(le,31),ee(le,139),ee(le,8),le.gzhead?(ee(le,(le.gzhead.text?1:0)+(le.gzhead.hcrc?2:0)+(le.gzhead.extra?4:0)+(le.gzhead.name?8:0)+(le.gzhead.comment?16:0)),ee(le,255&le.gzhead.time),ee(le,le.gzhead.time>>8&255),ee(le,le.gzhead.time>>16&255),ee(le,le.gzhead.time>>24&255),ee(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),ee(le,255&le.gzhead.os),le.gzhead.extra&&le.gzhead.extra.length&&(ee(le,255&le.gzhead.extra.length),ee(le,le.gzhead.extra.length>>8&255)),le.gzhead.hcrc&&(te.adler=u(te.adler,le.pending_buf,le.pending,0)),le.gzindex=0,le.status=69):(ee(le,0),ee(le,0),ee(le,0),ee(le,0),ee(le,0),ee(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),ee(le,3),le.status=G);else{var Oe=_+(le.w_bits-8<<4)<<8;Oe|=(2<=le.strategy||le.level<2?0:le.level<6?1:le.level===6?2:3)<<6,le.strstart!==0&&(Oe|=32),Oe+=31-Oe%31,le.status=G,Q(le,Oe),le.strstart!==0&&(Q(le,te.adler>>>16),Q(le,65535&te.adler)),te.adler=1}if(le.status===69)if(le.gzhead.extra){for(fe=le.pending;le.gzindex<(65535&le.gzhead.extra.length)&&(le.pending!==le.pending_buf_size||(le.gzhead.hcrc&&le.pending>fe&&(te.adler=u(te.adler,le.pending_buf,le.pending-fe,fe)),J(te),fe=le.pending,le.pending!==le.pending_buf_size));)ee(le,255&le.gzhead.extra[le.gzindex]),le.gzindex++;le.gzhead.hcrc&&le.pending>fe&&(te.adler=u(te.adler,le.pending_buf,le.pending-fe,fe)),le.gzindex===le.gzhead.extra.length&&(le.gzindex=0,le.status=73)}else le.status=73;if(le.status===73)if(le.gzhead.name){fe=le.pending;do{if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>fe&&(te.adler=u(te.adler,le.pending_buf,le.pending-fe,fe)),J(te),fe=le.pending,le.pending===le.pending_buf_size)){be=1;break}be=le.gzindex<le.gzhead.name.length?255&le.gzhead.name.charCodeAt(le.gzindex++):0,ee(le,be)}while(be!==0);le.gzhead.hcrc&&le.pending>fe&&(te.adler=u(te.adler,le.pending_buf,le.pending-fe,fe)),be===0&&(le.gzindex=0,le.status=91)}else le.status=91;if(le.status===91)if(le.gzhead.comment){fe=le.pending;do{if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>fe&&(te.adler=u(te.adler,le.pending_buf,le.pending-fe,fe)),J(te),fe=le.pending,le.pending===le.pending_buf_size)){be=1;break}be=le.gzindex<le.gzhead.comment.length?255&le.gzhead.comment.charCodeAt(le.gzindex++):0,ee(le,be)}while(be!==0);le.gzhead.hcrc&&le.pending>fe&&(te.adler=u(te.adler,le.pending_buf,le.pending-fe,fe)),be===0&&(le.status=103)}else le.status=103;if(le.status===103&&(le.gzhead.hcrc?(le.pending+2>le.pending_buf_size&&J(te),le.pending+2<=le.pending_buf_size&&(ee(le,255&te.adler),ee(le,te.adler>>8&255),te.adler=0,le.status=G)):le.status=G),le.pending!==0){if(J(te),te.avail_out===0)return le.last_flush=-1,h}else if(te.avail_in===0&&K(oe)<=K(ge)&&oe!==d)return X(te,-5);if(le.status===666&&te.avail_in!==0)return X(te,-5);if(te.avail_in!==0||le.lookahead!==0||oe!==f&&le.status!==666){var Ve=le.strategy===2?(function(Pe,me){for(var ue;;){if(Pe.lookahead===0&&(ce(Pe),Pe.lookahead===0)){if(me===f)return V;break}if(Pe.match_length=0,ue=o._tr_tally(Pe,0,Pe.window[Pe.strstart]),Pe.lookahead--,Pe.strstart++,ue&&(H(Pe,!1),Pe.strm.avail_out===0))return V}return Pe.insert=0,me===d?(H(Pe,!0),Pe.strm.avail_out===0?W:Z):Pe.last_lit&&(H(Pe,!1),Pe.strm.avail_out===0)?V:q})(le,oe):le.strategy===3?(function(Pe,me){for(var ue,Ie,Ye,ot,We=Pe.window;;){if(Pe.lookahead<=L){if(ce(Pe),Pe.lookahead<=L&&me===f)return V;if(Pe.lookahead===0)break}if(Pe.match_length=0,Pe.lookahead>=N&&0<Pe.strstart&&(Ie=We[Ye=Pe.strstart-1])===We[++Ye]&&Ie===We[++Ye]&&Ie===We[++Ye]){ot=Pe.strstart+L;do;while(Ie===We[++Ye]&&Ie===We[++Ye]&&Ie===We[++Ye]&&Ie===We[++Ye]&&Ie===We[++Ye]&&Ie===We[++Ye]&&Ie===We[++Ye]&&Ie===We[++Ye]&&Ye<ot);Pe.match_length=L-(ot-Ye),Pe.match_length>Pe.lookahead&&(Pe.match_length=Pe.lookahead)}if(Pe.match_length>=N?(ue=o._tr_tally(Pe,1,Pe.match_length-N),Pe.lookahead-=Pe.match_length,Pe.strstart+=Pe.match_length,Pe.match_length=0):(ue=o._tr_tally(Pe,0,Pe.window[Pe.strstart]),Pe.lookahead--,Pe.strstart++),ue&&(H(Pe,!1),Pe.strm.avail_out===0))return V}return Pe.insert=0,me===d?(H(Pe,!0),Pe.strm.avail_out===0?W:Z):Pe.last_lit&&(H(Pe,!1),Pe.strm.avail_out===0)?V:q})(le,oe):a[le.level].func(le,oe);if(Ve!==W&&Ve!==Z||(le.status=666),Ve===V||Ve===W)return te.avail_out===0&&(le.last_flush=-1),h;if(Ve===q&&(oe===1?o._tr_align(le):oe!==5&&(o._tr_stored_block(le,0,0,!1),oe===3&&(se(le.head),le.lookahead===0&&(le.strstart=0,le.block_start=0,le.insert=0))),J(te),te.avail_out===0))return le.last_flush=-1,h}return oe!==d?h:le.wrap<=0?1:(le.wrap===2?(ee(le,255&te.adler),ee(le,te.adler>>8&255),ee(le,te.adler>>16&255),ee(le,te.adler>>24&255),ee(le,255&te.total_in),ee(le,te.total_in>>8&255),ee(le,te.total_in>>16&255),ee(le,te.total_in>>24&255)):(Q(le,te.adler>>>16),Q(le,65535&te.adler)),J(te),0<le.wrap&&(le.wrap=-le.wrap),le.pending!==0?h:1)},i.deflateEnd=function(te){var oe;return te&&te.state?(oe=te.state.status)!==O&&oe!==69&&oe!==73&&oe!==91&&oe!==103&&oe!==G&&oe!==666?X(te,p):(te.state=null,oe===G?X(te,-3):h):p},i.deflateSetDictionary=function(te,oe){var ge,le,fe,be,Oe,Ve,Pe,me,ue=oe.length;if(!te||!te.state||(be=(ge=te.state).wrap)===2||be===1&&ge.status!==O||ge.lookahead)return p;for(be===1&&(te.adler=l(te.adler,oe,ue,0)),ge.wrap=0,ue>=ge.w_size&&(be===0&&(se(ge.head),ge.strstart=0,ge.block_start=0,ge.insert=0),me=new s.Buf8(ge.w_size),s.arraySet(me,oe,ue-ge.w_size,ge.w_size,0),oe=me,ue=ge.w_size),Oe=te.avail_in,Ve=te.next_in,Pe=te.input,te.avail_in=ue,te.next_in=0,te.input=oe,ce(ge);ge.lookahead>=N;){for(le=ge.strstart,fe=ge.lookahead-(N-1);ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[le+N-1])&ge.hash_mask,ge.prev[le&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=le,le++,--fe;);ge.strstart=le,ge.lookahead=N-1,ce(ge)}return ge.strstart+=ge.lookahead,ge.block_start=ge.strstart,ge.insert=ge.lookahead,ge.lookahead=0,ge.match_length=ge.prev_length=N-1,ge.match_available=0,te.next_in=Ve,te.input=Pe,te.avail_in=Oe,ge.wrap=be,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(a,s){var o,l,u,c,f,d,h,p,m,g,y,_,S,A,M,E,D,I,N,L,B,O,G,V,q;o=a.state,l=a.next_in,V=a.input,u=l+(a.avail_in-5),c=a.next_out,q=a.output,f=c-(s-a.avail_out),d=c+(a.avail_out-257),h=o.dmax,p=o.wsize,m=o.whave,g=o.wnext,y=o.window,_=o.hold,S=o.bits,A=o.lencode,M=o.distcode,E=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;e:do{S<15&&(_+=V[l++]<<S,S+=8,_+=V[l++]<<S,S+=8),I=A[_&E];t:for(;;){if(_>>>=N=I>>>24,S-=N,(N=I>>>16&255)===0)q[c++]=65535&I;else{if(!(16&N)){if((64&N)==0){I=A[(65535&I)+(_&(1<<N)-1)];continue t}if(32&N){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}L=65535&I,(N&=15)&&(S<N&&(_+=V[l++]<<S,S+=8),L+=_&(1<<N)-1,_>>>=N,S-=N),S<15&&(_+=V[l++]<<S,S+=8,_+=V[l++]<<S,S+=8),I=M[_&D];n:for(;;){if(_>>>=N=I>>>24,S-=N,!(16&(N=I>>>16&255))){if((64&N)==0){I=M[(65535&I)+(_&(1<<N)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(B=65535&I,S<(N&=15)&&(_+=V[l++]<<S,(S+=8)<N&&(_+=V[l++]<<S,S+=8)),h<(B+=_&(1<<N)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=N,S-=N,(N=c-f)<B){if(m<(N=B-N)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(G=y,(O=0)===g){if(O+=p-N,N<L){for(L-=N;q[c++]=y[O++],--N;);O=c-B,G=q}}else if(g<N){if(O+=p+g-N,(N-=g)<L){for(L-=N;q[c++]=y[O++],--N;);if(O=0,g<L){for(L-=N=g;q[c++]=y[O++],--N;);O=c-B,G=q}}}else if(O+=g-N,N<L){for(L-=N;q[c++]=y[O++],--N;);O=c-B,G=q}for(;2<L;)q[c++]=G[O++],q[c++]=G[O++],q[c++]=G[O++],L-=3;L&&(q[c++]=G[O++],1<L&&(q[c++]=G[O++]))}else{for(O=c-B;q[c++]=q[O++],q[c++]=q[O++],q[c++]=q[O++],2<(L-=3););L&&(q[c++]=q[O++],1<L&&(q[c++]=q[O++]))}break}}break}}while(l<u&&c<d);l-=L=S>>3,_&=(1<<(S-=L<<3))-1,a.next_in=l,a.next_out=c,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=c<d?d-c+257:257-(c-d),o.hold=_,o.bits=S}},{}],49:[function(t,r,i){var a=t("../utils/common"),s=t("./adler32"),o=t("./crc32"),l=t("./inffast"),u=t("./inftrees"),c=1,f=2,d=0,h=-2,p=1,m=852,g=592;function y(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(O){var G;return O&&O.state?(G=O.state,O.total_in=O.total_out=G.total=0,O.msg="",G.wrap&&(O.adler=1&G.wrap),G.mode=p,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new a.Buf32(m),G.distcode=G.distdyn=new a.Buf32(g),G.sane=1,G.back=-1,d):h}function A(O){var G;return O&&O.state?((G=O.state).wsize=0,G.whave=0,G.wnext=0,S(O)):h}function M(O,G){var V,q;return O&&O.state?(q=O.state,G<0?(V=0,G=-G):(V=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?h:(q.window!==null&&q.wbits!==G&&(q.window=null),q.wrap=V,q.wbits=G,A(O))):h}function E(O,G){var V,q;return O?(q=new _,(O.state=q).window=null,(V=M(O,G))!==d&&(O.state=null),V):h}var D,I,N=!0;function L(O){if(N){var G;for(D=new a.Buf32(512),I=new a.Buf32(32),G=0;G<144;)O.lens[G++]=8;for(;G<256;)O.lens[G++]=9;for(;G<280;)O.lens[G++]=7;for(;G<288;)O.lens[G++]=8;for(u(c,O.lens,0,288,D,0,O.work,{bits:9}),G=0;G<32;)O.lens[G++]=5;u(f,O.lens,0,32,I,0,O.work,{bits:5}),N=!1}O.lencode=D,O.lenbits=9,O.distcode=I,O.distbits=5}function B(O,G,V,q){var W,Z=O.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new a.Buf8(Z.wsize)),q>=Z.wsize?(a.arraySet(Z.window,G,V-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(q<(W=Z.wsize-Z.wnext)&&(W=q),a.arraySet(Z.window,G,V-q,W,Z.wnext),(q-=W)?(a.arraySet(Z.window,G,V-q,q,0),Z.wnext=q,Z.whave=Z.wsize):(Z.wnext+=W,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=W))),0}i.inflateReset=A,i.inflateReset2=M,i.inflateResetKeep=S,i.inflateInit=function(O){return E(O,15)},i.inflateInit2=E,i.inflate=function(O,G){var V,q,W,Z,X,K,se,J,H,ee,Q,ne,ce,ve,xe,we,Ae,Ue,pe,pt,te,oe,ge,le,fe=0,be=new a.Buf8(4),Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return h;(V=O.state).mode===12&&(V.mode=13),X=O.next_out,W=O.output,se=O.avail_out,Z=O.next_in,q=O.input,K=O.avail_in,J=V.hold,H=V.bits,ee=K,Q=se,oe=d;e:for(;;)switch(V.mode){case p:if(V.wrap===0){V.mode=13;break}for(;H<16;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}if(2&V.wrap&&J===35615){be[V.check=0]=255&J,be[1]=J>>>8&255,V.check=o(V.check,be,2,0),H=J=0,V.mode=2;break}if(V.flags=0,V.head&&(V.head.done=!1),!(1&V.wrap)||(((255&J)<<8)+(J>>8))%31){O.msg="incorrect header check",V.mode=30;break}if((15&J)!=8){O.msg="unknown compression method",V.mode=30;break}if(H-=4,te=8+(15&(J>>>=4)),V.wbits===0)V.wbits=te;else if(te>V.wbits){O.msg="invalid window size",V.mode=30;break}V.dmax=1<<te,O.adler=V.check=1,V.mode=512&J?10:12,H=J=0;break;case 2:for(;H<16;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}if(V.flags=J,(255&V.flags)!=8){O.msg="unknown compression method",V.mode=30;break}if(57344&V.flags){O.msg="unknown header flags set",V.mode=30;break}V.head&&(V.head.text=J>>8&1),512&V.flags&&(be[0]=255&J,be[1]=J>>>8&255,V.check=o(V.check,be,2,0)),H=J=0,V.mode=3;case 3:for(;H<32;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}V.head&&(V.head.time=J),512&V.flags&&(be[0]=255&J,be[1]=J>>>8&255,be[2]=J>>>16&255,be[3]=J>>>24&255,V.check=o(V.check,be,4,0)),H=J=0,V.mode=4;case 4:for(;H<16;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}V.head&&(V.head.xflags=255&J,V.head.os=J>>8),512&V.flags&&(be[0]=255&J,be[1]=J>>>8&255,V.check=o(V.check,be,2,0)),H=J=0,V.mode=5;case 5:if(1024&V.flags){for(;H<16;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}V.length=J,V.head&&(V.head.extra_len=J),512&V.flags&&(be[0]=255&J,be[1]=J>>>8&255,V.check=o(V.check,be,2,0)),H=J=0}else V.head&&(V.head.extra=null);V.mode=6;case 6:if(1024&V.flags&&(K<(ne=V.length)&&(ne=K),ne&&(V.head&&(te=V.head.extra_len-V.length,V.head.extra||(V.head.extra=new Array(V.head.extra_len)),a.arraySet(V.head.extra,q,Z,ne,te)),512&V.flags&&(V.check=o(V.check,q,ne,Z)),K-=ne,Z+=ne,V.length-=ne),V.length))break e;V.length=0,V.mode=7;case 7:if(2048&V.flags){if(K===0)break e;for(ne=0;te=q[Z+ne++],V.head&&te&&V.length<65536&&(V.head.name+=String.fromCharCode(te)),te&&ne<K;);if(512&V.flags&&(V.check=o(V.check,q,ne,Z)),K-=ne,Z+=ne,te)break e}else V.head&&(V.head.name=null);V.length=0,V.mode=8;case 8:if(4096&V.flags){if(K===0)break e;for(ne=0;te=q[Z+ne++],V.head&&te&&V.length<65536&&(V.head.comment+=String.fromCharCode(te)),te&&ne<K;);if(512&V.flags&&(V.check=o(V.check,q,ne,Z)),K-=ne,Z+=ne,te)break e}else V.head&&(V.head.comment=null);V.mode=9;case 9:if(512&V.flags){for(;H<16;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}if(J!==(65535&V.check)){O.msg="header crc mismatch",V.mode=30;break}H=J=0}V.head&&(V.head.hcrc=V.flags>>9&1,V.head.done=!0),O.adler=V.check=0,V.mode=12;break;case 10:for(;H<32;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}O.adler=V.check=y(J),H=J=0,V.mode=11;case 11:if(V.havedict===0)return O.next_out=X,O.avail_out=se,O.next_in=Z,O.avail_in=K,V.hold=J,V.bits=H,2;O.adler=V.check=1,V.mode=12;case 12:if(G===5||G===6)break e;case 13:if(V.last){J>>>=7&H,H-=7&H,V.mode=27;break}for(;H<3;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}switch(V.last=1&J,H-=1,3&(J>>>=1)){case 0:V.mode=14;break;case 1:if(L(V),V.mode=20,G!==6)break;J>>>=2,H-=2;break e;case 2:V.mode=17;break;case 3:O.msg="invalid block type",V.mode=30}J>>>=2,H-=2;break;case 14:for(J>>>=7&H,H-=7&H;H<32;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}if((65535&J)!=(J>>>16^65535)){O.msg="invalid stored block lengths",V.mode=30;break}if(V.length=65535&J,H=J=0,V.mode=15,G===6)break e;case 15:V.mode=16;case 16:if(ne=V.length){if(K<ne&&(ne=K),se<ne&&(ne=se),ne===0)break e;a.arraySet(W,q,Z,ne,X),K-=ne,Z+=ne,se-=ne,X+=ne,V.length-=ne;break}V.mode=12;break;case 17:for(;H<14;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}if(V.nlen=257+(31&J),J>>>=5,H-=5,V.ndist=1+(31&J),J>>>=5,H-=5,V.ncode=4+(15&J),J>>>=4,H-=4,286<V.nlen||30<V.ndist){O.msg="too many length or distance symbols",V.mode=30;break}V.have=0,V.mode=18;case 18:for(;V.have<V.ncode;){for(;H<3;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}V.lens[Oe[V.have++]]=7&J,J>>>=3,H-=3}for(;V.have<19;)V.lens[Oe[V.have++]]=0;if(V.lencode=V.lendyn,V.lenbits=7,ge={bits:V.lenbits},oe=u(0,V.lens,0,19,V.lencode,0,V.work,ge),V.lenbits=ge.bits,oe){O.msg="invalid code lengths set",V.mode=30;break}V.have=0,V.mode=19;case 19:for(;V.have<V.nlen+V.ndist;){for(;we=(fe=V.lencode[J&(1<<V.lenbits)-1])>>>16&255,Ae=65535&fe,!((xe=fe>>>24)<=H);){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}if(Ae<16)J>>>=xe,H-=xe,V.lens[V.have++]=Ae;else{if(Ae===16){for(le=xe+2;H<le;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}if(J>>>=xe,H-=xe,V.have===0){O.msg="invalid bit length repeat",V.mode=30;break}te=V.lens[V.have-1],ne=3+(3&J),J>>>=2,H-=2}else if(Ae===17){for(le=xe+3;H<le;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}H-=xe,te=0,ne=3+(7&(J>>>=xe)),J>>>=3,H-=3}else{for(le=xe+7;H<le;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}H-=xe,te=0,ne=11+(127&(J>>>=xe)),J>>>=7,H-=7}if(V.have+ne>V.nlen+V.ndist){O.msg="invalid bit length repeat",V.mode=30;break}for(;ne--;)V.lens[V.have++]=te}}if(V.mode===30)break;if(V.lens[256]===0){O.msg="invalid code -- missing end-of-block",V.mode=30;break}if(V.lenbits=9,ge={bits:V.lenbits},oe=u(c,V.lens,0,V.nlen,V.lencode,0,V.work,ge),V.lenbits=ge.bits,oe){O.msg="invalid literal/lengths set",V.mode=30;break}if(V.distbits=6,V.distcode=V.distdyn,ge={bits:V.distbits},oe=u(f,V.lens,V.nlen,V.ndist,V.distcode,0,V.work,ge),V.distbits=ge.bits,oe){O.msg="invalid distances set",V.mode=30;break}if(V.mode=20,G===6)break e;case 20:V.mode=21;case 21:if(6<=K&&258<=se){O.next_out=X,O.avail_out=se,O.next_in=Z,O.avail_in=K,V.hold=J,V.bits=H,l(O,Q),X=O.next_out,W=O.output,se=O.avail_out,Z=O.next_in,q=O.input,K=O.avail_in,J=V.hold,H=V.bits,V.mode===12&&(V.back=-1);break}for(V.back=0;we=(fe=V.lencode[J&(1<<V.lenbits)-1])>>>16&255,Ae=65535&fe,!((xe=fe>>>24)<=H);){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}if(we&&(240&we)==0){for(Ue=xe,pe=we,pt=Ae;we=(fe=V.lencode[pt+((J&(1<<Ue+pe)-1)>>Ue)])>>>16&255,Ae=65535&fe,!(Ue+(xe=fe>>>24)<=H);){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}J>>>=Ue,H-=Ue,V.back+=Ue}if(J>>>=xe,H-=xe,V.back+=xe,V.length=Ae,we===0){V.mode=26;break}if(32&we){V.back=-1,V.mode=12;break}if(64&we){O.msg="invalid literal/length code",V.mode=30;break}V.extra=15&we,V.mode=22;case 22:if(V.extra){for(le=V.extra;H<le;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}V.length+=J&(1<<V.extra)-1,J>>>=V.extra,H-=V.extra,V.back+=V.extra}V.was=V.length,V.mode=23;case 23:for(;we=(fe=V.distcode[J&(1<<V.distbits)-1])>>>16&255,Ae=65535&fe,!((xe=fe>>>24)<=H);){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}if((240&we)==0){for(Ue=xe,pe=we,pt=Ae;we=(fe=V.distcode[pt+((J&(1<<Ue+pe)-1)>>Ue)])>>>16&255,Ae=65535&fe,!(Ue+(xe=fe>>>24)<=H);){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}J>>>=Ue,H-=Ue,V.back+=Ue}if(J>>>=xe,H-=xe,V.back+=xe,64&we){O.msg="invalid distance code",V.mode=30;break}V.offset=Ae,V.extra=15&we,V.mode=24;case 24:if(V.extra){for(le=V.extra;H<le;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}V.offset+=J&(1<<V.extra)-1,J>>>=V.extra,H-=V.extra,V.back+=V.extra}if(V.offset>V.dmax){O.msg="invalid distance too far back",V.mode=30;break}V.mode=25;case 25:if(se===0)break e;if(ne=Q-se,V.offset>ne){if((ne=V.offset-ne)>V.whave&&V.sane){O.msg="invalid distance too far back",V.mode=30;break}ce=ne>V.wnext?(ne-=V.wnext,V.wsize-ne):V.wnext-ne,ne>V.length&&(ne=V.length),ve=V.window}else ve=W,ce=X-V.offset,ne=V.length;for(se<ne&&(ne=se),se-=ne,V.length-=ne;W[X++]=ve[ce++],--ne;);V.length===0&&(V.mode=21);break;case 26:if(se===0)break e;W[X++]=V.length,se--,V.mode=21;break;case 27:if(V.wrap){for(;H<32;){if(K===0)break e;K--,J|=q[Z++]<<H,H+=8}if(Q-=se,O.total_out+=Q,V.total+=Q,Q&&(O.adler=V.check=V.flags?o(V.check,W,Q,X-Q):s(V.check,W,Q,X-Q)),Q=se,(V.flags?J:y(J))!==V.check){O.msg="incorrect data check",V.mode=30;break}H=J=0}V.mode=28;case 28:if(V.wrap&&V.flags){for(;H<32;){if(K===0)break e;K--,J+=q[Z++]<<H,H+=8}if(J!==(4294967295&V.total)){O.msg="incorrect length check",V.mode=30;break}H=J=0}V.mode=29;case 29:oe=1;break e;case 30:oe=-3;break e;case 31:return-4;case 32:default:return h}return O.next_out=X,O.avail_out=se,O.next_in=Z,O.avail_in=K,V.hold=J,V.bits=H,(V.wsize||Q!==O.avail_out&&V.mode<30&&(V.mode<27||G!==4))&&B(O,O.output,O.next_out,Q-O.avail_out)?(V.mode=31,-4):(ee-=O.avail_in,Q-=O.avail_out,O.total_in+=ee,O.total_out+=Q,V.total+=Q,V.wrap&&Q&&(O.adler=V.check=V.flags?o(V.check,W,Q,O.next_out-Q):s(V.check,W,Q,O.next_out-Q)),O.data_type=V.bits+(V.last?64:0)+(V.mode===12?128:0)+(V.mode===20||V.mode===15?256:0),(ee==0&&Q===0||G===4)&&oe===d&&(oe=-5),oe)},i.inflateEnd=function(O){if(!O||!O.state)return h;var G=O.state;return G.window&&(G.window=null),O.state=null,d},i.inflateGetHeader=function(O,G){var V;return O&&O.state?(2&(V=O.state).wrap)==0?h:((V.head=G).done=!1,d):h},i.inflateSetDictionary=function(O,G){var V,q=G.length;return O&&O.state?(V=O.state).wrap!==0&&V.mode!==11?h:V.mode===11&&s(1,G,q,0)!==V.check?-3:B(O,G,q,q)?(V.mode=31,-4):(V.havedict=1,d):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var a=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,f,d,h,p,m,g,y){var _,S,A,M,E,D,I,N,L,B=y.bits,O=0,G=0,V=0,q=0,W=0,Z=0,X=0,K=0,se=0,J=0,H=null,ee=0,Q=new a.Buf16(16),ne=new a.Buf16(16),ce=null,ve=0;for(O=0;O<=15;O++)Q[O]=0;for(G=0;G<h;G++)Q[f[d+G]]++;for(W=B,q=15;1<=q&&Q[q]===0;q--);if(q<W&&(W=q),q===0)return p[m++]=20971520,p[m++]=20971520,y.bits=1,0;for(V=1;V<q&&Q[V]===0;V++);for(W<V&&(W=V),O=K=1;O<=15;O++)if(K<<=1,(K-=Q[O])<0)return-1;if(0<K&&(c===0||q!==1))return-1;for(ne[1]=0,O=1;O<15;O++)ne[O+1]=ne[O]+Q[O];for(G=0;G<h;G++)f[d+G]!==0&&(g[ne[f[d+G]]++]=G);if(D=c===0?(H=ce=g,19):c===1?(H=s,ee-=257,ce=o,ve-=257,256):(H=l,ce=u,-1),O=V,E=m,X=G=J=0,A=-1,M=(se=1<<(Z=W))-1,c===1&&852<se||c===2&&592<se)return 1;for(;;){for(I=O-X,L=g[G]<D?(N=0,g[G]):g[G]>D?(N=ce[ve+g[G]],H[ee+g[G]]):(N=96,0),_=1<<O-X,V=S=1<<Z;p[E+(J>>X)+(S-=_)]=I<<24|N<<16|L|0,S!==0;);for(_=1<<O-1;J&_;)_>>=1;if(_!==0?(J&=_-1,J+=_):J=0,G++,--Q[O]==0){if(O===q)break;O=f[d+g[G]]}if(W<O&&(J&M)!==A){for(X===0&&(X=W),E+=V,K=1<<(Z=O-X);Z+X<q&&!((K-=Q[Z+X])<=0);)Z++,K<<=1;if(se+=1<<Z,c===1&&852<se||c===2&&592<se)return 1;p[A=J&M]=W<<24|Z<<16|E-m|0}}return J!==0&&(p[E+J]=O-X<<24|64<<16|0),y.bits=W,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var a=t("../utils/common"),s=0,o=1;function l(fe){for(var be=fe.length;0<=--be;)fe[be]=0}var u=0,c=29,f=256,d=f+1+c,h=30,p=19,m=2*d+1,g=15,y=16,_=7,S=256,A=16,M=17,E=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(d+2));l(B);var O=new Array(2*h);l(O);var G=new Array(512);l(G);var V=new Array(256);l(V);var q=new Array(c);l(q);var W,Z,X,K=new Array(h);function se(fe,be,Oe,Ve,Pe){this.static_tree=fe,this.extra_bits=be,this.extra_base=Oe,this.elems=Ve,this.max_length=Pe,this.has_stree=fe&&fe.length}function J(fe,be){this.dyn_tree=fe,this.max_code=0,this.stat_desc=be}function H(fe){return fe<256?G[fe]:G[256+(fe>>>7)]}function ee(fe,be){fe.pending_buf[fe.pending++]=255&be,fe.pending_buf[fe.pending++]=be>>>8&255}function Q(fe,be,Oe){fe.bi_valid>y-Oe?(fe.bi_buf|=be<<fe.bi_valid&65535,ee(fe,fe.bi_buf),fe.bi_buf=be>>y-fe.bi_valid,fe.bi_valid+=Oe-y):(fe.bi_buf|=be<<fe.bi_valid&65535,fe.bi_valid+=Oe)}function ne(fe,be,Oe){Q(fe,Oe[2*be],Oe[2*be+1])}function ce(fe,be){for(var Oe=0;Oe|=1&fe,fe>>>=1,Oe<<=1,0<--be;);return Oe>>>1}function ve(fe,be,Oe){var Ve,Pe,me=new Array(g+1),ue=0;for(Ve=1;Ve<=g;Ve++)me[Ve]=ue=ue+Oe[Ve-1]<<1;for(Pe=0;Pe<=be;Pe++){var Ie=fe[2*Pe+1];Ie!==0&&(fe[2*Pe]=ce(me[Ie]++,Ie))}}function xe(fe){var be;for(be=0;be<d;be++)fe.dyn_ltree[2*be]=0;for(be=0;be<h;be++)fe.dyn_dtree[2*be]=0;for(be=0;be<p;be++)fe.bl_tree[2*be]=0;fe.dyn_ltree[2*S]=1,fe.opt_len=fe.static_len=0,fe.last_lit=fe.matches=0}function we(fe){8<fe.bi_valid?ee(fe,fe.bi_buf):0<fe.bi_valid&&(fe.pending_buf[fe.pending++]=fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0}function Ae(fe,be,Oe,Ve){var Pe=2*be,me=2*Oe;return fe[Pe]<fe[me]||fe[Pe]===fe[me]&&Ve[be]<=Ve[Oe]}function Ue(fe,be,Oe){for(var Ve=fe.heap[Oe],Pe=Oe<<1;Pe<=fe.heap_len&&(Pe<fe.heap_len&&Ae(be,fe.heap[Pe+1],fe.heap[Pe],fe.depth)&&Pe++,!Ae(be,Ve,fe.heap[Pe],fe.depth));)fe.heap[Oe]=fe.heap[Pe],Oe=Pe,Pe<<=1;fe.heap[Oe]=Ve}function pe(fe,be,Oe){var Ve,Pe,me,ue,Ie=0;if(fe.last_lit!==0)for(;Ve=fe.pending_buf[fe.d_buf+2*Ie]<<8|fe.pending_buf[fe.d_buf+2*Ie+1],Pe=fe.pending_buf[fe.l_buf+Ie],Ie++,Ve===0?ne(fe,Pe,be):(ne(fe,(me=V[Pe])+f+1,be),(ue=D[me])!==0&&Q(fe,Pe-=q[me],ue),ne(fe,me=H(--Ve),Oe),(ue=I[me])!==0&&Q(fe,Ve-=K[me],ue)),Ie<fe.last_lit;);ne(fe,S,be)}function pt(fe,be){var Oe,Ve,Pe,me=be.dyn_tree,ue=be.stat_desc.static_tree,Ie=be.stat_desc.has_stree,Ye=be.stat_desc.elems,ot=-1;for(fe.heap_len=0,fe.heap_max=m,Oe=0;Oe<Ye;Oe++)me[2*Oe]!==0?(fe.heap[++fe.heap_len]=ot=Oe,fe.depth[Oe]=0):me[2*Oe+1]=0;for(;fe.heap_len<2;)me[2*(Pe=fe.heap[++fe.heap_len]=ot<2?++ot:0)]=1,fe.depth[Pe]=0,fe.opt_len--,Ie&&(fe.static_len-=ue[2*Pe+1]);for(be.max_code=ot,Oe=fe.heap_len>>1;1<=Oe;Oe--)Ue(fe,me,Oe);for(Pe=Ye;Oe=fe.heap[1],fe.heap[1]=fe.heap[fe.heap_len--],Ue(fe,me,1),Ve=fe.heap[1],fe.heap[--fe.heap_max]=Oe,fe.heap[--fe.heap_max]=Ve,me[2*Pe]=me[2*Oe]+me[2*Ve],fe.depth[Pe]=(fe.depth[Oe]>=fe.depth[Ve]?fe.depth[Oe]:fe.depth[Ve])+1,me[2*Oe+1]=me[2*Ve+1]=Pe,fe.heap[1]=Pe++,Ue(fe,me,1),2<=fe.heap_len;);fe.heap[--fe.heap_max]=fe.heap[1],(function(We,zt){var mt,Nt,Ht,Qe,bt,Yt,ke=zt.dyn_tree,Je=zt.max_code,Et=zt.stat_desc.static_tree,Le=zt.stat_desc.has_stree,Dt=zt.stat_desc.extra_bits,Rt=zt.stat_desc.extra_base,wt=zt.stat_desc.max_length,yt=0;for(Qe=0;Qe<=g;Qe++)We.bl_count[Qe]=0;for(ke[2*We.heap[We.heap_max]+1]=0,mt=We.heap_max+1;mt<m;mt++)wt<(Qe=ke[2*ke[2*(Nt=We.heap[mt])+1]+1]+1)&&(Qe=wt,yt++),ke[2*Nt+1]=Qe,Je<Nt||(We.bl_count[Qe]++,bt=0,Rt<=Nt&&(bt=Dt[Nt-Rt]),Yt=ke[2*Nt],We.opt_len+=Yt*(Qe+bt),Le&&(We.static_len+=Yt*(Et[2*Nt+1]+bt)));if(yt!==0){do{for(Qe=wt-1;We.bl_count[Qe]===0;)Qe--;We.bl_count[Qe]--,We.bl_count[Qe+1]+=2,We.bl_count[wt]--,yt-=2}while(0<yt);for(Qe=wt;Qe!==0;Qe--)for(Nt=We.bl_count[Qe];Nt!==0;)Je<(Ht=We.heap[--mt])||(ke[2*Ht+1]!==Qe&&(We.opt_len+=(Qe-ke[2*Ht+1])*ke[2*Ht],ke[2*Ht+1]=Qe),Nt--)}})(fe,be),ve(me,ot,fe.bl_count)}function te(fe,be,Oe){var Ve,Pe,me=-1,ue=be[1],Ie=0,Ye=7,ot=4;for(ue===0&&(Ye=138,ot=3),be[2*(Oe+1)+1]=65535,Ve=0;Ve<=Oe;Ve++)Pe=ue,ue=be[2*(Ve+1)+1],++Ie<Ye&&Pe===ue||(Ie<ot?fe.bl_tree[2*Pe]+=Ie:Pe!==0?(Pe!==me&&fe.bl_tree[2*Pe]++,fe.bl_tree[2*A]++):Ie<=10?fe.bl_tree[2*M]++:fe.bl_tree[2*E]++,me=Pe,ot=(Ie=0)===ue?(Ye=138,3):Pe===ue?(Ye=6,3):(Ye=7,4))}function oe(fe,be,Oe){var Ve,Pe,me=-1,ue=be[1],Ie=0,Ye=7,ot=4;for(ue===0&&(Ye=138,ot=3),Ve=0;Ve<=Oe;Ve++)if(Pe=ue,ue=be[2*(Ve+1)+1],!(++Ie<Ye&&Pe===ue)){if(Ie<ot)for(;ne(fe,Pe,fe.bl_tree),--Ie!=0;);else Pe!==0?(Pe!==me&&(ne(fe,Pe,fe.bl_tree),Ie--),ne(fe,A,fe.bl_tree),Q(fe,Ie-3,2)):Ie<=10?(ne(fe,M,fe.bl_tree),Q(fe,Ie-3,3)):(ne(fe,E,fe.bl_tree),Q(fe,Ie-11,7));me=Pe,ot=(Ie=0)===ue?(Ye=138,3):Pe===ue?(Ye=6,3):(Ye=7,4)}}l(K);var ge=!1;function le(fe,be,Oe,Ve){Q(fe,(u<<1)+(Ve?1:0),3),(function(Pe,me,ue,Ie){we(Pe),ee(Pe,ue),ee(Pe,~ue),a.arraySet(Pe.pending_buf,Pe.window,me,ue,Pe.pending),Pe.pending+=ue})(fe,be,Oe)}i._tr_init=function(fe){ge||((function(){var be,Oe,Ve,Pe,me,ue=new Array(g+1);for(Pe=Ve=0;Pe<c-1;Pe++)for(q[Pe]=Ve,be=0;be<1<<D[Pe];be++)V[Ve++]=Pe;for(V[Ve-1]=Pe,Pe=me=0;Pe<16;Pe++)for(K[Pe]=me,be=0;be<1<<I[Pe];be++)G[me++]=Pe;for(me>>=7;Pe<h;Pe++)for(K[Pe]=me<<7,be=0;be<1<<I[Pe]-7;be++)G[256+me++]=Pe;for(Oe=0;Oe<=g;Oe++)ue[Oe]=0;for(be=0;be<=143;)B[2*be+1]=8,be++,ue[8]++;for(;be<=255;)B[2*be+1]=9,be++,ue[9]++;for(;be<=279;)B[2*be+1]=7,be++,ue[7]++;for(;be<=287;)B[2*be+1]=8,be++,ue[8]++;for(ve(B,d+1,ue),be=0;be<h;be++)O[2*be+1]=5,O[2*be]=ce(be,5);W=new se(B,D,f+1,d,g),Z=new se(O,I,0,h,g),X=new se(new Array(0),N,0,p,_)})(),ge=!0),fe.l_desc=new J(fe.dyn_ltree,W),fe.d_desc=new J(fe.dyn_dtree,Z),fe.bl_desc=new J(fe.bl_tree,X),fe.bi_buf=0,fe.bi_valid=0,xe(fe)},i._tr_stored_block=le,i._tr_flush_block=function(fe,be,Oe,Ve){var Pe,me,ue=0;0<fe.level?(fe.strm.data_type===2&&(fe.strm.data_type=(function(Ie){var Ye,ot=4093624447;for(Ye=0;Ye<=31;Ye++,ot>>>=1)if(1&ot&&Ie.dyn_ltree[2*Ye]!==0)return s;if(Ie.dyn_ltree[18]!==0||Ie.dyn_ltree[20]!==0||Ie.dyn_ltree[26]!==0)return o;for(Ye=32;Ye<f;Ye++)if(Ie.dyn_ltree[2*Ye]!==0)return o;return s})(fe)),pt(fe,fe.l_desc),pt(fe,fe.d_desc),ue=(function(Ie){var Ye;for(te(Ie,Ie.dyn_ltree,Ie.l_desc.max_code),te(Ie,Ie.dyn_dtree,Ie.d_desc.max_code),pt(Ie,Ie.bl_desc),Ye=p-1;3<=Ye&&Ie.bl_tree[2*L[Ye]+1]===0;Ye--);return Ie.opt_len+=3*(Ye+1)+5+5+4,Ye})(fe),Pe=fe.opt_len+3+7>>>3,(me=fe.static_len+3+7>>>3)<=Pe&&(Pe=me)):Pe=me=Oe+5,Oe+4<=Pe&&be!==-1?le(fe,be,Oe,Ve):fe.strategy===4||me===Pe?(Q(fe,2+(Ve?1:0),3),pe(fe,B,O)):(Q(fe,4+(Ve?1:0),3),(function(Ie,Ye,ot,We){var zt;for(Q(Ie,Ye-257,5),Q(Ie,ot-1,5),Q(Ie,We-4,4),zt=0;zt<We;zt++)Q(Ie,Ie.bl_tree[2*L[zt]+1],3);oe(Ie,Ie.dyn_ltree,Ye-1),oe(Ie,Ie.dyn_dtree,ot-1)})(fe,fe.l_desc.max_code+1,fe.d_desc.max_code+1,ue+1),pe(fe,fe.dyn_ltree,fe.dyn_dtree)),xe(fe),Ve&&we(fe)},i._tr_tally=function(fe,be,Oe){return fe.pending_buf[fe.d_buf+2*fe.last_lit]=be>>>8&255,fe.pending_buf[fe.d_buf+2*fe.last_lit+1]=255&be,fe.pending_buf[fe.l_buf+fe.last_lit]=255&Oe,fe.last_lit++,be===0?fe.dyn_ltree[2*Oe]++:(fe.matches++,be--,fe.dyn_ltree[2*(V[Oe]+f+1)]++,fe.dyn_dtree[2*H(be)]++),fe.last_lit===fe.lit_bufsize-1},i._tr_align=function(fe){Q(fe,2,3),ne(fe,S,B),(function(be){be.bi_valid===16?(ee(be,be.bi_buf),be.bi_buf=0,be.bi_valid=0):8<=be.bi_valid&&(be.pending_buf[be.pending++]=255&be.bi_buf,be.bi_buf>>=8,be.bi_valid-=8)})(fe)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(a){(function(s,o){if(!s.setImmediate){var l,u,c,f,d=1,h={},p=!1,m=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,l={}.toString.call(s.process)==="[object process]"?function(A){process.nextTick(function(){_(A)})}:(function(){if(s.postMessage&&!s.importScripts){var A=!0,M=s.onmessage;return s.onmessage=function(){A=!1},s.postMessage("","*"),s.onmessage=M,A}})()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",S,!1):s.attachEvent("onmessage",S),function(A){s.postMessage(f+A,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(A){_(A.data)},function(A){c.port2.postMessage(A)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,function(A){var M=m.createElement("script");M.onreadystatechange=function(){_(A),M.onreadystatechange=null,u.removeChild(M),M=null},u.appendChild(M)}):function(A){setTimeout(_,0,A)},g.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var M=new Array(arguments.length-1),E=0;E<M.length;E++)M[E]=arguments[E+1];var D={callback:A,args:M};return h[d]=D,l(d),d++},g.clearImmediate=y}function y(A){delete h[A]}function _(A){if(p)setTimeout(_,0,A);else{var M=h[A];if(M){p=!0;try{(function(E){var D=E.callback,I=E.args;switch(I.length){case 0:D();break;case 1:D(I[0]);break;case 2:D(I[0],I[1]);break;case 3:D(I[0],I[1],I[2]);break;default:D.apply(o,I)}})(M)}finally{y(A),p=!1}}}}function S(A){A.source===s&&typeof A.data=="string"&&A.data.indexOf(f)===0&&_(+A.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(S4)),S4.exports}var VSe=USe();const GSe=Yb(VSe),HSe=`{
  "name": "clickup-clone-gemini",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "license": "MIT",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "preview": "vite preview"
  },
  "dependencies": {
    "@google/genai": "^1.30.0",
    "lucide-react": "^0.344.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "jszip": "^3.10.1"
  },
  "devDependencies": {
    "@types/react": "^19.2.0",
    "@types/react-dom": "^19.2.0",
    "@vitejs/plugin-react": "^4.2.1",
    "autoprefixer": "^10.4.18",
    "postcss": "^8.4.35",
    "tailwindcss": "^3.4.1",
    "typescript": "^5.2.2",
    "vite": "^5.1.4"
  }
}`,jSe=`MIT License

Copyright (c) 2024 ClickUp Clone Generator

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.`,WSe=`{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}`,YSe=`{
  "compilerOptions": {
    "composite": true,
    "skipLibCheck": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}`,qSe=`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
})`,XSe=`/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        clickup: {
          purple: '#7b68ee',
          dark: '#292d34',
          light: '#f7f8f9',
          sidebar: '#1e2126',
          hover: '#363a43',
          border: '#e9ebf0',
          text: '#292d34',
          textLight: '#87909e',
        },
        priority: {
          urgent: '#e44356',
          high: '#ffcc00',
          normal: '#6fddff',
          low: '#87909e',
        }
      },
      fontFamily: {
        sans: ['Inter', 'Segoe UI', 'Helvetica', 'Arial', 'sans-serif'],
      }
    },
  },
  plugins: [],
}`,ZSe=`export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}`,KSe=`<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ClickUp Clone</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"><\/script>
  </body>
</html>`,$Se=`# ClickUp Clone with Gemini AI

This is a high-fidelity clone of the ClickUp UI featuring List and Board views, task management, and an integrated AI Brain powered by Google Gemini.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Getting Started

1.  Install dependencies:
    \`\`\`bash
    npm install
    \`\`\`

2.  Create a \`.env.local\` file in the root directory and add your Gemini API key:
    \`\`\`
    VITE_GEMINI_API_KEY=your_api_key_here
    \`\`\`
    *(Note: You may need to update \`geminiService.ts\` to use \`import.meta.env.VITE_GEMINI_API_KEY\` instead of \`process.env.API_KEY\` for Vite compatibility).*

3.  Run the development server:
    \`\`\`bash
    npm run dev
    \`\`\`

## Features

*   **Task Management**: List and Kanban Board views.
*   **AI Brain**: Integrated Gemini AI for task summarization and Q&A.
*   **Mock Backend**: LocalStorage persistence with simulated latency.
*   **Responsive Design**: Tailwind CSS styling matching ClickUp's aesthetic.
`,JSe=`@tailwind base;
@tailwind components;
@tailwind utilities;

body { font-family: 'Inter', sans-serif; }

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}`,QSe=async()=>{const n=new GSe;n.file("package.json",HSe),n.file("LICENSE",jSe),n.file("tsconfig.json",WSe),n.file("tsconfig.node.json",YSe),n.file("vite.config.ts",qSe),n.file("tailwind.config.js",XSe),n.file("postcss.config.js",ZSe),n.file("index.html",KSe),n.file("README.md",$Se);const e=n.folder("src");if(!e)return;e.file("index.css",JSe),e.file("App.tsx",`import React, { useState, useEffect, useMemo } from 'react';
import Sidebar from './components/Sidebar';
import Header from './components/Header';
import TaskListView from './components/TaskListView';
import TaskBoardView from './components/TaskBoardView';
import BrainModal from './components/BrainModal';
import { ViewType, Task, Status } from './types';
import { ToastProvider, useToast } from './components/Toast';
import { api } from './services/api';
import { Target, Layout } from 'lucide-react';

const PlaceholderView: React.FC<{ icon: React.ReactNode; title: string; description: string }> = ({ icon, title, description }) => (
  <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50">
    <div className="mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple">
      {React.isValidElement(icon) ? React.cloneElement(icon as React.ReactElement<any>, { size: 64 }) : icon}
    </div>
    <h3 className="text-xl font-bold text-gray-800 mb-2">{title}</h3>
    <p className="text-gray-500 max-w-md text-center">{description}</p>
  </div>
);

const AppContent: React.FC = () => {
  const [currentView, setCurrentView] = useState<ViewType>('list');
  const [activePage, setActivePage] = useState('frontend');
  const [tasks, setTasks] = useState<Task[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isBrainOpen, setIsBrainOpen] = useState(false);
  const { showToast } = useToast();

  useEffect(() => {
    fetchTasks();
  }, []);

  const fetchTasks = async () => {
    try {
      setIsLoading(true);
      const data = await api.getTasks();
      setTasks(data);
    } catch (error) {
      showToast('Failed to load tasks from backend', 'error');
    } finally {
      setIsLoading(false);
    }
  };

  const handleStatusChange = async (taskId: string, newStatus: Status) => {
    const previousTasks = [...tasks];
    setTasks(prev => prev.map(t => 
      t.id === taskId ? { ...t, status: newStatus } : t
    ));

    try {
      await api.updateTask(taskId, { status: newStatus });
    } catch (error) {
      setTasks(previousTasks);
      showToast('Failed to update task status', 'error');
    }
  };

  const handleQuickCreate = async () => {
    const title = prompt("Enter task title:");
    if (!title) return;

    showToast('Creating task...', 'info');
    try {
      const newTask = await api.createTask({
        title,
        status: Status.Todo,
        priority: 'None' as any,
        assignees: [],
        tags: activePage === 'backend' ? ['Backend'] : [],
        description: ''
      });
      setTasks(prev => [...prev, newTask]);
      showToast('Task created successfully', 'success');
    } catch (e) {
      showToast('Failed to create task', 'error');
    }
  };

  const filteredTasks = useMemo(() => {
    switch (activePage) {
      case 'inbox':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.assignees.length === 0);
      case 'home':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.priority === 'Urgent');
      case 'backend':
        return tasks.filter(t => t.tags.includes('Backend') || t.tags.includes('API') || t.tags.includes('Auth'));
      case 'sprints':
        return tasks.filter(t => t.tags.includes('Feature') || t.tags.includes('Bug'));
      case 'frontend':
      default:
        return tasks;
    }
  }, [tasks, activePage]);

  const getPageTitle = () => {
    const map: Record<string, string> = {
      home: 'Home',
      inbox: 'Inbox',
      sprints: 'Engineering / Sprints',
      frontend: 'Engineering / Frontend App',
      backend: 'Engineering / Backend API',
      overview: 'Dashboards / Overview',
      goals: 'Dashboards / Goals'
    };
    return map[activePage] || 'Space';
  };

  return (
    <div className="flex h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900">
      <Sidebar 
        activePage={activePage} 
        onNavigate={setActivePage} 
      />
      
      <div className="flex flex-col flex-1 min-w-0 bg-white">
        <Header 
          currentView={currentView} 
          setCurrentView={setCurrentView} 
          onOpenBrain={() => setIsBrainOpen(true)}
          pageTitle={getPageTitle()}
        />

        <div className="flex-1 flex flex-col min-h-0 relative">
          {['overview'].includes(activePage) && (
             <PlaceholderView 
                icon={<Layout />} 
                title="Overview Dashboard" 
                description="Track high-level metrics and project health here. This module is currently being built." 
             />
          )}
          
          {['goals'].includes(activePage) && (
             <PlaceholderView 
                icon={<Target />} 
                title="Goals & OKRs" 
                description="Set, track, and achieve your team's goals. This feature is coming in the next release." 
             />
          )}

          {!['overview', 'goals'].includes(activePage) && (
            <>
              {currentView === 'list' && (
                <TaskListView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onStatusChange={handleStatusChange} 
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'board' && (
                <TaskBoardView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'calendar' && (
                <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500">
                    <div className="text-6xl mb-6 bg-gray-50 p-8 rounded-full"></div>
                    <h3 className="text-lg font-semibold text-gray-700 mb-2">Calendar View</h3>
                    <p className="text-sm text-gray-500">This view is currently under construction.</p>
                    <button className="mt-6 px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors">
                      Vote for this feature
                    </button>
                </div>
              )}
            </>
          )}
        </div>
      </div>

      <BrainModal 
        isOpen={isBrainOpen} 
        onClose={() => setIsBrainOpen(false)} 
        tasks={tasks}
      />
    </div>
  );
};

const App: React.FC = () => {
  return (
    <ToastProvider>
      <AppContent />
    </ToastProvider>
  );
};

export default App;`),e.file("index.tsx",`import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);`),e.file("types.ts",`export enum Priority {
  Urgent = 'Urgent',
  High = 'High',
  Normal = 'Normal',
  Low = 'Low',
  None = 'None'
}

export enum Status {
  Todo = 'To do',
  InProgress = 'In Progress',
  Review = 'Review',
  Complete = 'Complete'
}

export interface User {
  id: string;
  name: string;
  avatar: string;
  color: string;
}

export interface Task {
  id: string;
  title: string;
  status: Status;
  priority: Priority;
  assignees: User[];
  dueDate?: string;
  tags: string[];
  description?: string;
}

export type ViewType = 'list' | 'board' | 'calendar';

export const STATUS_COLORS: Record<Status, string> = {
  [Status.Todo]: '#87909e',
  [Status.InProgress]: '#3b82f6',
  [Status.Review]: '#eab308',
  [Status.Complete]: '#22c55e',
};

export const PRIORITY_COLORS: Record<Priority, string> = {
  [Priority.Urgent]: '#e44356',
  [Priority.High]: '#ffcc00',
  [Priority.Normal]: '#6fddff',
  [Priority.Low]: '#87909e',
  [Priority.None]: '#d1d5db',
};`);const t=e.folder("services");t&&(t.file("api.ts",`import { Task, Status, Priority } from '../types';
import { MOCK_TASKS } from '../constants';

const STORAGE_KEY = 'clickup_clone_db_v1';
const DELAY_MS = 600;

const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));

const initDB = () => {
  if (typeof window === 'undefined') return;
  const existing = localStorage.getItem(STORAGE_KEY);
  if (!existing) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(MOCK_TASKS));
  }
};

initDB();

export const api = {
  getTasks: async (): Promise<Task[]> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    return data ? JSON.parse(data) : [];
  },

  updateTask: async (taskId: string, updates: Partial<Task>): Promise<Task> => {
    await delay(DELAY_MS / 2);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const index = tasks.findIndex(t => t.id === taskId);
    if (index === -1) throw new Error('Task not found');

    const updatedTask = { ...tasks[index], ...updates };
    tasks[index] = updatedTask;
    
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return updatedTask;
  },

  createTask: async (task: Omit<Task, 'id'>): Promise<Task> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const newId = \`TASK-\${Math.floor(1000 + Math.random() * 9000)}\`;
    
    const newTask: Task = {
      ...task,
      id: newId,
    };
    
    tasks.push(newTask);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return newTask;
  },

  deleteTask: async (taskId: string): Promise<void> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    let tasks: Task[] = data ? JSON.parse(data) : [];
    
    tasks = tasks.filter(t => t.id !== taskId);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
  }
};`),t.file("geminiService.ts",`import { GoogleGenAI, GenerateContentResponse } from "@google/genai";
import { Task } from "../types";

// In local dev, utilize import.meta.env for Vite
const apiKey = process.env.API_KEY || ''; 

const ai = apiKey ? new GoogleGenAI({ apiKey }) : null;

export const generateTaskSummary = async (tasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing. Please check your configuration.";

  const taskListString = tasks.map(t => 
    \`- \${t.title} (Status: \${t.status}, Priority: \${t.priority})\`
  ).join('\\n');

  const prompt = \`
    You are an AI project manager assistant called "ClickUp Brain". 
    Analyze the following tasks and provide a concise, professional summary of the current workload.
    Identify potential bottlenecks based on priority and status.
    Keep it under 100 words.

    Tasks:
    \${taskListString}
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "Could not generate summary.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "Sorry, I encountered an error while analyzing your tasks.";
  }
};

export const chatWithBrain = async (message: string, contextTasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing.";

  const context = JSON.stringify(contextTasks.map(t => ({ title: t.title, status: t.status })));
  
  const prompt = \`
    Context (Current Tasks): \${context}
    
    User Question: \${message}
    
    Answer as "ClickUp Brain", a helpful productivity assistant. Be concise and helpful.
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "No response generated.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "I'm having trouble connecting to the brain right now.";
  }
};`)),e.file("constants.ts",`import { Task, Status, Priority } from './types';

export const MOCK_TASKS: Task[] = [
  {
    id: 'TASK-1023',
    title: 'Implement authentication flow with JWT',
    status: Status.InProgress,
    priority: Priority.High,
    assignees: [
        { id: '1', name: 'Alex', avatar: 'A', color: '#ef4444' },
        { id: '2', name: 'Sam', avatar: 'S', color: '#3b82f6' }
    ],
    dueDate: '2023-11-15',
    tags: ['Backend', 'Auth'],
    description: 'Need to secure the API endpoints.'
  }
];`);const r=e.folder("components");r&&(r.file("Toast.tsx",`import React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';
import { CheckCircle, Info, AlertCircle, X } from 'lucide-react';

interface ToastMessage {
  id: number;
  message: string;
  type: 'info' | 'success' | 'error';
}

interface ToastContextType {
  showToast: (message: string, type?: 'info' | 'success' | 'error') => void;
}

const ToastContext = createContext<ToastContextType | undefined>(undefined);

export const useToast = () => {
  const context = useContext(ToastContext);
  if (!context) {
    return { showToast: (msg: string) => console.log('Toast:', msg) };
  }
  return context;
};

const ToastItem: React.FC<ToastMessage & { onClose: (id: number) => void }> = ({ id, message, type, onClose }) => {
  const bgColors = {
    info: 'bg-gray-900 text-white border-gray-800',
    success: 'bg-emerald-600 text-white border-emerald-700',
    error: 'bg-red-600 text-white border-red-700'
  };
  
  const icons = {
    info: <Info size={18} />,
    success: <CheckCircle size={18} />,
    error: <AlertCircle size={18} />
  };

  return (
    <div className={\`\${bgColors[type]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border\`}>
      <div className="flex-shrink-0">{icons[type]}</div>
      <span className="text-sm font-medium flex-1">{message}</span>
      <button onClick={() => onClose(id)} className="opacity-70 hover:opacity-100 transition-opacity">
        <X size={16} />
      </button>
    </div>
  );
};

export const ToastProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [toasts, setToasts] = useState<ToastMessage[]>([]);
  
  const showToast = useCallback((message: string, type: 'info' | 'success' | 'error' = 'info') => {
    const id = Date.now();
    setToasts(prev => [...prev, { id, message, type }]);
    setTimeout(() => {
      setToasts(prev => prev.filter(t => t.id !== id));
    }, 3000);
  }, []);

  const removeToast = (id: number) => {
    setToasts(prev => prev.filter(t => t.id !== id));
  };

  return (
    <ToastContext.Provider value={{ showToast }}>
      {children}
      <div className="fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto">
        {toasts.map(t => (
          <ToastItem key={t.id} {...t} onClose={removeToast} />
        ))}
      </div>
    </ToastContext.Provider>
  );
};`),r.file("Sidebar.tsx",`import React, { useState, useRef, useEffect } from 'react';
import { 
  Search, Home, Layout, Folder, Hash, MoreHorizontal, 
  ChevronRight, ChevronDown, Plus, Settings, Users, Inbox, Target,
  Download, LogOut, CreditCard, Code
} from 'lucide-react';
import { useToast } from './Toast';
import { api } from '../services/api';
import { downloadProjectSource } from '../utils/projectDownloader';

interface SidebarProps {
  activePage: string;
  onNavigate: (page: string) => void;
}

const Sidebar: React.FC<SidebarProps> = ({ activePage, onNavigate }) => {
  const [spacesExpanded, setSpacesExpanded] = useState(true);
  const [showWorkspaceMenu, setShowWorkspaceMenu] = useState(false);
  const menuRef = useRef<HTMLDivElement>(null);
  const { showToast } = useToast();

  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {
        setShowWorkspaceMenu(false);
      }
    };

    document.addEventListener('mousedown', handleClickOutside);
    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, []);

  const handleNavClick = (pageId: string, message: string) => {
    onNavigate(pageId);
  };

  const handleExport = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Preparing JSON export...', 'info');
    
    try {
      const tasks = await api.getTasks();
      const exportData = {
        exportedAt: new Date().toISOString(),
        appName: "ClickUp Clone",
        version: "1.0.0",
        tasks: tasks
      };
      
      const dataStr = JSON.stringify(exportData, null, 2);
      const blob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = \`clickup_workspace_export_\${new Date().toISOString().slice(0, 10)}.json\`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showToast('Workspace data exported successfully!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to export data', 'error');
    }
  };

  const handleDownloadSource = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Generating project ZIP...', 'info');
    try {
      await downloadProjectSource();
      showToast('Source code downloaded!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to generate ZIP', 'error');
    }
  };

  const getItemClass = (id: string) => {
    return activePage === id 
      ? 'bg-clickup-hover text-white font-medium' 
      : 'hover:bg-clickup-hover hover:text-white';
  };

  const getIconClass = (id: string, defaultColor: string = '') => {
    return activePage === id ? 'text-clickup-purple' : (defaultColor || '');
  };

  return (
    <div className="w-64 bg-clickup-sidebar text-gray-400 flex flex-col h-full border-r border-gray-800 flex-shrink-0 select-none relative">
      
      <div className="relative" ref={menuRef}>
        <div 
          className={\`p-3 border-b border-gray-800 flex items-center justify-between cursor-pointer transition-colors group \${showWorkspaceMenu ? 'bg-clickup-hover' : 'hover:bg-clickup-hover'}\`}
          onClick={() => setShowWorkspaceMenu(!showWorkspaceMenu)}
        >
          <div className="flex items-center space-x-2">
            <div className="w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-md flex items-center justify-center text-white font-bold text-sm shadow-md group-hover:shadow-lg transition-shadow">
              G
            </div>
            <div className="flex flex-col">
              <span className="text-gray-200 text-sm font-semibold leading-tight group-hover:text-white transition-colors">Gemini Corp</span>
              <span className="text-[10px] text-gray-500 group-hover:text-gray-400">Free Plan</span>
            </div>
          </div>
          <Settings size={14} className={\`text-gray-500 group-hover:text-gray-300 transition-all duration-300 \${showWorkspaceMenu ? 'rotate-90 text-white' : ''}\`} />
        </div>

        {showWorkspaceMenu && (
          <div className="absolute top-full left-2 right-2 mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden">
            <div className="px-3 py-2 border-b border-gray-700/50 mb-1">
               <p className="text-xs font-semibold text-white">Gemini Corp</p>
               <p className="text-[10px] text-gray-500">owner@example.com</p>
            </div>
            
            <div className="px-1 space-y-0.5">
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Settings size={14} />
                    <span>Settings</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Users size={14} />
                    <span>Members</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <CreditCard size={14} />
                    <span>Billing</span>
                </button>
            </div>

            <div className="h-[1px] bg-gray-700/50 mx-2 my-1.5"></div>

            <div className="px-1 space-y-0.5">
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleExport}
                >
                    <Download size={14} />
                    <span>Export Data (JSON)</span>
                </button>
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleDownloadSource}
                >
                    <Code size={14} />
                    <span>Download Source</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left">
                    <LogOut size={14} />
                    <span>Logout</span>
                </button>
            </div>
          </div>
        )}
      </div>

      <div className="px-3 py-2 space-y-0.5">
        <div 
          className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm group transition-colors"
          onClick={() => showToast('Global Search activated', 'info')}
        >
          <Search size={16} className="group-hover:text-white transition-colors" />
          <span className="group-hover:text-white transition-colors">Search</span>
          <span className="ml-auto text-[10px] bg-gray-800 px-1.5 py-0.5 rounded border border-gray-700 text-gray-500 group-hover:border-gray-600">Cmd K</span>
        </div>
        
        <div 
          className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('home')}\`}
          onClick={() => handleNavClick('home', 'Navigated to Home')}
        >
          <Home size={16} className={getIconClass('home')} />
          <span>Home</span>
        </div>
        
        <div 
           className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('inbox')}\`}
           onClick={() => handleNavClick('inbox', 'Navigated to Inbox')}
        >
          <Inbox size={16} className={activePage === 'inbox' ? 'text-blue-400' : ''} />
          <span>Inbox</span>
        </div>
      </div>

      <div className="h-[1px] bg-gray-800 mx-3 my-1 opacity-50"></div>

      <div className="flex-1 overflow-y-auto px-3 py-2 custom-scrollbar">
        <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6">
            <span onClick={() => setSpacesExpanded(!spacesExpanded)}>Spaces</span>
            <div className="flex items-center space-x-1">
               <Plus size={14} className="opacity-0 group-hover:opacity-100 hover:text-white transition-opacity" onClick={(e) => { e.stopPropagation(); showToast('Create new Space', 'info'); }} />
               <div onClick={() => setSpacesExpanded(!spacesExpanded)}>
                {spacesExpanded ? <ChevronDown size={14} /> : <ChevronRight size={14} />}
               </div>
            </div>
          </div>

          {spacesExpanded && (
            <div className="space-y-0.5 animate-in slide-in-from-top-2 duration-200">
              <div className="group">
                <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors">
                  <div className="w-1.5 h-1.5 rounded-full bg-blue-500"></div>
                  <span className="flex-1 truncate font-medium">Engineering</span>
                  <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
                </div>
                <div className="ml-3 pl-3 border-l border-gray-800 mt-0.5 space-y-0.5">
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('sprints')}\`}
                    onClick={() => handleNavClick('sprints', 'Viewing Sprints')}
                  >
                    <Folder size={14} className={activePage === 'sprints' ? 'text-blue-400' : 'text-gray-500'} />
                    <span>Sprints</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('frontend')}\`}
                    onClick={() => handleNavClick('frontend', 'Viewing Frontend App')}
                  >
                    <Hash size={14} className={getIconClass('frontend', 'text-gray-500')} />
                    <span className="truncate">Frontend App</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('backend')}\`}
                    onClick={() => handleNavClick('backend', 'Viewing Backend API')}
                  >
                    <Hash size={14} className={getIconClass('backend', 'text-gray-500')} />
                    <span className="truncate">Backend API</span>
                  </div>
                </div>
              </div>

              <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-green-500"></div>
                <span className="flex-1 truncate font-medium">Design</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>

               <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-orange-500"></div>
                <span className="flex-1 truncate font-medium">Marketing</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>
            </div>
          )}
        </div>

         <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group">
             <span>Dashboards</span>
             <Plus size={14} className="cursor-pointer hover:text-white opacity-0 group-hover:opacity-100 transition-opacity" onClick={() => showToast('New Dashboard', 'info')} />
          </div>
          <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('overview')}\`}
            onClick={() => handleNavClick('overview', 'Dashboards Overview')}
          >
             <Layout size={14} />
             <span>Overview</span>
          </div>
           <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('goals')}\`}
            onClick={() => handleNavClick('goals', 'Goals Dashboard')}
          >
             <Target size={14} />
             <span>Goals</span>
          </div>
        </div>
      </div>

      <div className="p-3 border-t border-gray-800">
         <div 
            className="bg-gradient-to-r from-clickup-purple to-indigo-600 rounded-md p-2 text-white flex items-center justify-center space-x-2 cursor-pointer hover:brightness-110 transition-all active:scale-95"
            onClick={() => showToast('Invite dialog opened', 'info')}
         >
            <Users size={14} />
            <span className="text-sm font-medium">Invite Team</span>
         </div>
      </div>
    </div>
  );
};

export default Sidebar;`),r.file("Header.tsx",`import React from 'react';
import { 
  List, Kanban, Calendar, ChevronDown, Filter, 
  ArrowDownUp, BrainCircuit, Search, Share2
} from 'lucide-react';
import { ViewType } from '../types';
import { useToast } from './Toast';

interface HeaderProps {
  currentView: ViewType;
  setCurrentView: (view: ViewType) => void;
  onOpenBrain: () => void;
  pageTitle: string;
}

const Header: React.FC<HeaderProps> = ({ currentView, setCurrentView, onOpenBrain, pageTitle }) => {
  const { showToast } = useToast();

  return (
    <header className="h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none">
      <div className="flex items-center h-full">
        <div className="flex items-center mr-4 pr-4 border-r border-gray-200 h-6">
          <span 
            className="text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors"
            onClick={() => showToast('Breadcrumb navigation', 'info')}
          >
            {pageTitle} <ChevronDown size={12} className="ml-1 text-gray-400" />
          </span>
        </div>

        <div className="flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg">
          <button 
            onClick={() => setCurrentView('list')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'list' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <List size={14} />
            <span>List</span>
          </button>
          <button 
            onClick={() => setCurrentView('board')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'board' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Kanban size={14} />
            <span>Board</span>
          </button>
           <button 
            onClick={() => setCurrentView('calendar')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'calendar' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Calendar size={14} />
            <span>Calendar</span>
          </button>
          
          <button 
            className="flex items-center space-x-1 px-2 py-1 text-xs text-gray-400 hover:text-gray-700 hover:bg-gray-200/50 rounded transition-colors ml-1"
            onClick={() => showToast('Add View menu', 'info')}
          >
            <ChevronDown size={12} />
            <span>View</span>
          </button>
        </div>
      </div>

      <div className="flex items-center space-x-3">
        <button 
          onClick={onOpenBrain}
          className="group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95"
        >
          <BrainCircuit size={16} className="text-clickup-purple group-hover:rotate-12 transition-transform" />
          <span className="text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent">
            Ask AI
          </span>
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>
        
        <div className="flex items-center space-x-1 text-gray-500">
             <div className="relative group">
                <div 
                    className="flex -space-x-2 cursor-pointer hover:scale-105 transition-transform" 
                    onClick={() => showToast('Manage Assignees', 'info')}
                >
                    <div className="w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">A</div>
                    <div className="w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">S</div>
                    <div className="w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold">+</div>
                </div>
             </div>
        </div>
        
        <button 
            className="p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors"
            onClick={() => showToast('Share view options', 'info')}
        >
            <Share2 size={16} />
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>

        <div className="flex items-center space-x-1 text-gray-500">
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Filter menu', 'info')}
            >
                <Filter size={14} />
                <span className="hidden md:inline">Filter</span>
            </button>
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Sort menu', 'info')}
            >
                <ArrowDownUp size={14} />
                 <span className="hidden md:inline">Sort</span>
            </button>
        </div>

        <div className="flex items-center border border-gray-200 rounded-md px-2 py-1.5 bg-gray-50 focus-within:bg-white focus-within:border-clickup-purple focus-within:ring-1 focus-within:ring-purple-100 transition-all w-40 md:w-56">
             <Search size={14} className="text-gray-400" />
             <input 
                type="text" 
                placeholder="Search tasks..." 
                className="bg-transparent border-none outline-none text-xs ml-2 w-full text-gray-700 placeholder-gray-400"
                onKeyDown={(e) => e.key === 'Enter' && showToast('Searching tasks...', 'info')}
             />
        </div>
      </div>
    </header>
  );
};

export default Header;`));const i=await n.generateAsync({type:"blob"}),a=URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download="clickup-clone-source.zip",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)},yae=de.createContext(void 0),e2e=({children:n})=>{const[e,t]=de.useState(()=>localStorage.getItem("activePage")||"home"),[r,i]=de.useState("list");de.useEffect(()=>{localStorage.setItem("activePage",e)},[e]);const a=["space","ocean"].includes(e),s=()=>{var l,u,c,f,d,h,p,m,g,y,_,S,A,M,E,D,I,N;const o={home:"Home",inbox:"Inbox",sprints:"Engineering / Sprints",frontend:"Engineering / Frontend App",backend:"Engineering / Backend API",overview:"Dashboards / Overview",goals:"Dashboards / Goals",space:"Space",ocean:"Deep Ocean","supply-chain/procurement":"Supply Chain / Procurement","supply-chain/warehouse":"Supply Chain / Warehouse","supply-chain/shipping":"Supply Chain / Shipping","supply-chain/planning":"Supply Chain / Planning","supply-chain/fleet":"Supply Chain / Fleet",operations:"Departments / Operations",business:"Departments / Business",support:"Departments / Business Support"};if(o[e])return o[e];if(e.startsWith("supply-chain/")){const L=e.split("/");return L.length>=3?`Supply Chain / ${((l=L[1])==null?void 0:l.charAt(0).toUpperCase())+((u=L[1])==null?void 0:u.slice(1))} / ${((c=L[2])==null?void 0:c.charAt(0).toUpperCase())+((f=L[2])==null?void 0:f.slice(1))}`:`Supply Chain / ${((d=L[1])==null?void 0:d.charAt(0).toUpperCase())+((h=L[1])==null?void 0:h.slice(1))}`}if(e.startsWith("operations/")){const L=e.split("/");return`Operations / ${((p=L[1])==null?void 0:p.charAt(0).toUpperCase())+((m=L[1])==null?void 0:m.slice(1))} / ${((g=L[2])==null?void 0:g.charAt(0).toUpperCase())+((y=L[2])==null?void 0:y.slice(1))}`}if(e.startsWith("business/")){const L=e.split("/");return`Business / ${((_=L[1])==null?void 0:_.charAt(0).toUpperCase())+((S=L[1])==null?void 0:S.slice(1))} / ${((A=L[2])==null?void 0:A.charAt(0).toUpperCase())+((M=L[2])==null?void 0:M.slice(1))}`}if(e.startsWith("support/")){const L=e.split("/");return`Business Support / ${((E=L[1])==null?void 0:E.charAt(0).toUpperCase())+((D=L[1])==null?void 0:D.slice(1))} / ${((I=L[2])==null?void 0:I.charAt(0).toUpperCase())+((N=L[2])==null?void 0:N.slice(1))}`}return"Space"};return C.jsx(yae.Provider,{value:{activePage:e,setActivePage:t,currentView:r,setCurrentView:i,isImmersive:a,getPageTitle:s},children:n})},Hk=()=>{const n=de.useContext(yae);if(n===void 0)throw new Error("useNavigation must be used within a NavigationProvider");return n},t2e=({onLogout:n})=>{const{activePage:e,setActivePage:t,isImmersive:r}=Hk(),[i,a]=de.useState([]),[s,o]=de.useState(()=>{const H=localStorage.getItem("sidebar_spacesExpanded");return H!==null?JSON.parse(H):!0}),[l,u]=de.useState(()=>{const H=localStorage.getItem("sidebar_departmentsExpanded");return H!==null?JSON.parse(H):!1}),[c,f]=de.useState(()=>{const H=localStorage.getItem("sidebar_supplyChainExpanded");return H!==null?JSON.parse(H):!1}),[d,h]=de.useState(()=>{const H=localStorage.getItem("sidebar_expandedItems");return H!==null?JSON.parse(H):{}}),[p,m]=de.useState(()=>{const H=localStorage.getItem("sidebar_smartToolsExpanded");return H!==null?JSON.parse(H):!1}),[g,y]=de.useState(!1),[_,S]=de.useState(!1),[A,M]=de.useState(!0),E=de.useRef(null),{showToast:D}=Du();de.useEffect(()=>{I()},[]),de.useEffect(()=>{localStorage.setItem("sidebar_spacesExpanded",JSON.stringify(s))},[s]),de.useEffect(()=>{localStorage.setItem("sidebar_departmentsExpanded",JSON.stringify(l))},[l]),de.useEffect(()=>{localStorage.setItem("sidebar_supplyChainExpanded",JSON.stringify(c))},[c]),de.useEffect(()=>{localStorage.setItem("sidebar_expandedItems",JSON.stringify(d))},[d]),de.useEffect(()=>{localStorage.setItem("sidebar_smartToolsExpanded",JSON.stringify(p))},[p]);const I=async()=>{try{const H=await aT.getSpaces();a(H)}catch(H){console.error("Failed to load spaces",H)}finally{M(!1)}},N=async H=>{H.stopPropagation();const ee=prompt("Enter Space Name:");if(ee)try{const Q=await aT.createSpace(ee);a(ne=>[...ne,Q]),D("Space created!","success"),t(Q.id)}catch{D("Failed to create space","error")}},L=async(H,ee)=>{if(H.stopPropagation(),confirm("Are you sure you want to delete this space and all its tasks?"))try{await aT.deleteSpace(ee),a(Q=>Q.filter(ne=>ne.id!==ee)),e===ee&&t("home"),D("Space deleted","success")}catch{D("Failed to delete space","error")}},B=async(H,ee,Q)=>{H.stopPropagation();const ne=prompt("Rename Space:",Q);if(ne&&ne!==Q)try{await aT.updateSpace(ee,{name:ne}),a(ce=>ce.map(ve=>ve.id===ee?{...ve,name:ne}:ve)),D("Space renamed","success")}catch{D("Failed to rename space","error")}};de.useEffect(()=>{const H=ee=>{E.current&&!E.current.contains(ee.target)&&y(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]);const O=H=>{h(ee=>({...ee,[H]:!ee[H]}))},G=(H,ee)=>{t(H)},V=async H=>{H.stopPropagation(),y(!1),D("Preparing JSON export...","info");try{const ee=await ay.getTasks(),Q={exportedAt:new Date().toISOString(),appName:"ClickUp Clone",version:"2.0.0",tasks:ee,spaces:i},ne=JSON.stringify(Q,null,2),ce=new Blob([ne],{type:"application/json"}),ve=URL.createObjectURL(ce),xe=document.createElement("a");xe.href=ve,xe.download=`clickup_workspace_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(ve),D("Workspace data exported successfully!","success")}catch(ee){console.error(ee),D("Failed to export data","error")}},q=async H=>{H.stopPropagation(),y(!1),D("Generating project ZIP...","info");try{await QSe(),D("Source code downloaded!","success")}catch(ee){console.error(ee),D("Failed to generate ZIP","error")}},W=H=>e===H?"bg-clickup-hover text-white font-medium":"hover:bg-clickup-hover hover:text-white",Z=(H,ee="")=>e===H?"text-clickup-purple":ee||"",X=["supply-chain","operations","business","support","supply-chain/procurement","supply-chain/warehouse","supply-chain/shipping","supply-chain/planning","supply-chain/fleet","supply-chain/vendors","operations/maintenance","operations/production","operations/quality","business/sales","business/finance","support/it","support/hr","support/marketing"],K=H=>{H.stopPropagation();const ee=!l;u(ee),f(ee),h(Q=>{const ne={...Q};return X.forEach(ce=>{ne[ce]=ee}),ne})},se=H=>{H.stopPropagation(),o(!s)},J=H=>{H.stopPropagation(),m(!p)};return C.jsxs("div",{className:`${_?"w-16":"w-64"} bg-clickup-sidebar text-gray-400 flex flex-col h-[calc(100vh-3rem)] flex-shrink-0 select-none relative transition-all duration-300 z-50`,children:[C.jsx("button",{onClick:()=>S(!_),className:"absolute -right-3 top-4 bg-clickup-sidebar border border-gray-700 rounded-full p-0.5 text-gray-400 hover:text-white hover:bg-gray-700 z-50 shadow-md transition-colors",children:_?C.jsx(JE,{size:12}):C.jsx(V1e,{size:12})}),C.jsxs("div",{className:"relative",ref:E,children:[C.jsxs("div",{className:`p-3 flex items-center ${_?"justify-center":"justify-between"} cursor-pointer transition-colors group ${g?"bg-clickup-hover":"hover:bg-clickup-hover"}`,onClick:()=>y(!g),children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-red-500 rounded flex items-center justify-center text-white font-bold text-xs shadow-sm group-hover:shadow transition-shadow shrink-0",children:"G"}),!_&&C.jsx("div",{className:"flex flex-col min-w-0",children:C.jsx("span",{className:"text-gray-200 text-sm font-medium leading-tight group-hover:text-white transition-colors truncate",children:"Gemini Corp"})})]}),!_&&C.jsx(wo,{size:14,className:`text-gray-500 group-hover:text-gray-300 transition-all duration-200 ${g?"rotate-180":""}`})]}),g&&C.jsxs("div",{className:`absolute top-full mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden ${_?"left-14 w-56":"left-2 right-2"}`,children:[C.jsxs("div",{className:"px-3 py-2 border-b border-gray-700/50 mb-1",children:[C.jsx("p",{className:"text-xs font-semibold text-white",children:"Gemini Corp"}),C.jsx("p",{className:"text-[10px] text-gray-500",children:"owner@example.com"})]}),C.jsxs("div",{className:"px-1 space-y-0.5",children:[C.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[C.jsx(_C,{size:14}),C.jsx("span",{children:"Settings"})]}),C.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[C.jsx(mp,{size:14}),C.jsx("span",{children:"Members"})]}),C.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[C.jsx(wU,{size:14}),C.jsx("span",{children:"Billing"})]})]}),C.jsx("div",{className:"h-[1px] bg-gray-700/50 mx-2 my-1.5"}),C.jsxs("div",{className:"px-1 space-y-0.5",children:[C.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",onClick:V,children:[C.jsx(rae,{size:14}),C.jsx("span",{children:"Export Data (JSON)"})]}),C.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",onClick:q,children:[C.jsx(a_e,{size:14}),C.jsx("span",{children:"Download Source"})]}),C.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left",onClick:()=>{n&&n()},children:[C.jsx(oae,{size:14}),C.jsx("span",{children:"Logout"})]})]})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[C.jsxs("div",{className:"px-2 py-1 space-y-0.5",children:[C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("home")} ${_?"justify-center":""}`,onClick:()=>G("home"),title:_?"Home":"",children:[C.jsx(H_e,{size:16,className:`${Z("home")} shrink-0`}),!_&&C.jsx("span",{children:"Home"})]}),C.jsxs("div",{className:"mt-1 mb-2",children:[C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("inbox")} ${_?"justify-center":""}`,onClick:()=>G("inbox"),title:_?"Inbox":"",children:[C.jsx(MU,{size:16,className:`${e==="inbox"?"text-blue-400":""} shrink-0`}),!_&&C.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[C.jsx("span",{children:"Inbox"}),C.jsx("span",{className:"bg-clickup-dark text-xs px-1.5 py-0.5 rounded text-gray-400 group-hover:text-white transition-colors",children:"4"})]})]}),C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("overview")} ${_?"justify-center":""}`,onClick:()=>G("overview"),title:_?"Overview":"",children:[C.jsx(wv,{size:16,className:"shrink-0"}),!_&&C.jsx("span",{children:"Overview"})]}),C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("goals")} ${_?"justify-center":""}`,onClick:()=>G("goals"),title:_?"Goals":"",children:[C.jsx(pae,{size:16,className:"shrink-0"}),!_&&C.jsx("span",{children:"Goals"})]}),C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("reminders")} ${_?"justify-center":""}`,onClick:()=>G("reminders"),title:_?"Reminders":"",children:[C.jsx(b1e,{size:16,className:"shrink-0"}),!_&&C.jsx("span",{children:"Reminders"})]}),C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("tasks")} ${_?"justify-center":""}`,onClick:()=>G("tasks"),title:_?"Tasks":"",children:[C.jsx(fb,{size:16,className:"shrink-0"}),!_&&C.jsx("span",{children:"Tasks"})]}),C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("vault")} ${_?"justify-center":""}`,onClick:()=>G("vault"),title:_?"Vault":"",children:[C.jsx(fae,{size:16,className:"shrink-0"}),!_&&C.jsx("span",{children:"Vault"})]}),C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("teams")} ${_?"justify-center":""}`,onClick:()=>G("teams"),title:_?"Teams":"",children:[C.jsx(mp,{size:16,className:"shrink-0"}),!_&&C.jsx("span",{children:"Teams"})]})]}),C.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors group ${["departments","supply-chain","operations","business","support"].some(H=>e.startsWith(H))?"bg-clickup-hover text-white":"hover:bg-clickup-hover hover:text-white"} ${_?"justify-center":""}`,onClick:()=>!_&&u(!l),title:_?"Departments":"",children:[C.jsx(D1e,{size:16,className:"shrink-0"}),!_&&C.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[C.jsx("span",{children:"Departments"}),C.jsxs("div",{className:"flex items-center space-x-1",children:[C.jsx("div",{onClick:K,className:"p-0.5 hover:bg-gray-700 rounded transition-colors text-gray-500 hover:text-white",title:l?"Collapse All":"Expand All",children:l?C.jsx(JE,{size:12}):C.jsx(_4,{size:12})}),l?C.jsx(wo,{size:14}):C.jsx(dc,{size:14})]})]})]}),!_&&l&&C.jsxs("div",{className:"ml-4 mt-1 space-y-0.5 border-l border-gray-700 pl-2",children:[C.jsxs("div",{children:[C.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith("supply-chain")?"text-blue-400":"text-gray-400 hover:text-gray-200"}`,onClick:()=>f(!c),children:[C.jsx(YB,{size:14,className:"shrink-0"}),C.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[C.jsx("span",{className:"text-sm",children:"Supply Chain"}),c?C.jsx(wo,{size:12}):C.jsx(dc,{size:12})]})]}),c&&C.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:[{id:"procurement",label:"Procurement",icon:WB},{id:"warehouse",label:"Warehouse",icon:qB},{id:"shipping",label:"Shipping",icon:jB},{id:"planning",label:"Planning",icon:Mp},{id:"fleet",label:"Fleet",icon:I1e},{id:"vendors",label:"Vendors",icon:lN}].map(H=>{const ee=`supply-chain/${H.id}`,Q=e.startsWith(ee)||(d[ee]!==void 0?d[ee]:!1);return C.jsxs("div",{children:[C.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith(ee)?"text-blue-300":"text-gray-500 hover:text-gray-300"}`,onClick:()=>O(ee),children:[C.jsx(H.icon,{size:12,className:"shrink-0"}),C.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[C.jsx("span",{className:"text-xs font-medium",children:H.label}),Q?C.jsx(wo,{size:10}):C.jsx(dc,{size:10})]})]}),Q&&C.jsx("div",{className:"ml-3 mt-0.5 space-y-0.5 border-l border-gray-700/50 pl-2",children:[{id:"data",label:"Data",icon:Oj},{id:"analytics",label:"Analytics",icon:Lj}].map(ne=>C.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md cursor-pointer ${e===`${ee}/${ne.id}`?"text-clickup-purple bg-[#2a2e35]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>G(`${ee}/${ne.id}`,`Opening ${H.label} ${ne.label}`),children:[C.jsx(ne.icon,{size:10,className:"shrink-0"}),C.jsx("span",{className:"ml-2 text-[10px] uppercase tracking-wide font-medium",children:ne.label})]},ne.id))})]},H.id)})})]}),[{id:"operations",label:"Operations",icon:_C,children:[{id:"maintenance",label:"Maintenance"},{id:"production",label:"Production"},{id:"quality",label:"Quality"}]},{id:"business",label:"Business",icon:HB,children:[{id:"sales",label:"Sales"},{id:"finance",label:"Finance"}]},{id:"support",label:"Business Support",icon:nbe,children:[{id:"it",label:"IT"},{id:"hr",label:"HR"},{id:"marketing",label:"Marketing"}]}].map(H=>{const ee=e.startsWith(H.id)||(d[H.id]!==void 0?d[H.id]:!1);return C.jsxs("div",{children:[C.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith(H.id)?"text-blue-400":"text-gray-400 hover:text-gray-200"}`,onClick:()=>O(H.id),children:[C.jsx(H.icon,{size:14,className:"shrink-0"}),C.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[C.jsx("span",{className:"text-sm",children:H.label}),ee?C.jsx(wo,{size:12}):C.jsx(dc,{size:12})]})]}),ee&&C.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:H.children.map(Q=>{const ne=`${H.id}/${Q.id}`,ce=e.startsWith(ne)||(d[ne]!==void 0?d[ne]:!1);return C.jsxs("div",{children:[C.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith(ne)?"text-blue-300":"text-gray-500 hover:text-gray-300"}`,onClick:()=>O(ne),children:[C.jsx(k_e,{size:12,className:"shrink-0"}),C.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[C.jsx("span",{className:"text-xs font-medium",children:Q.label}),ce?C.jsx(wo,{size:10}):C.jsx(dc,{size:10})]})]}),ce&&C.jsx("div",{className:"ml-3 mt-0.5 space-y-0.5 border-l border-gray-700/50 pl-2",children:[{id:"data",label:"Data",icon:Oj},{id:"analytics",label:"Analytics",icon:Lj}].map(ve=>C.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md cursor-pointer ${e===`${ne}/${ve.id}`?"text-clickup-purple bg-[#2a2e35]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>G(`${ne}/${ve.id}`,`Opening ${Q.label} ${ve.label}`),children:[C.jsx(ve.icon,{size:10,className:"shrink-0"}),C.jsx("span",{className:"ml-2 text-[10px] uppercase tracking-wide font-medium",children:ve.label})]},ve.id))})]},Q.id)})})]},H.id)})]})]}),C.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-1 opacity-50"}),C.jsxs("div",{className:"px-2 py-2",children:[C.jsxs("div",{className:"mb-4",children:[C.jsxs("div",{className:`flex items-center ${_?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6`,children:[!_&&C.jsx("span",{onClick:()=>o(!s),children:"Spaces"}),_&&C.jsx("span",{className:"text-[10px]",children:"SPC"}),!_&&C.jsxs("div",{className:"flex items-center space-x-1",children:[C.jsx("div",{className:"opacity-0 group-hover:opacity-100 hover:text-white transition-opacity cursor-pointer",onClick:N,title:"Create Space",children:C.jsx(li,{size:14})}),C.jsx("div",{onClick:se,className:"p-0.5 hover:bg-gray-700 rounded transition-colors text-gray-500 hover:text-white",title:s?"Collapse All":"Expand All",children:s?C.jsx(JE,{size:12}):C.jsx(_4,{size:12})}),C.jsx("div",{onClick:()=>o(!s),children:s?C.jsx(wo,{size:14}):C.jsx(dc,{size:14})})]})]}),s&&!A&&C.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[i.length===0&&!_&&C.jsx("div",{className:"p-3 border border-dashed border-gray-700 rounded text-center text-xs text-gray-500 hover:text-gray-400 hover:border-gray-600 cursor-pointer transition-colors",onClick:N,children:"+ Create your first Space"}),i.map(H=>C.jsx("div",{className:"group relative",children:C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W(H.id)} ${_?"justify-center":""}`,onClick:()=>G(H.id,`Viewing ${H.name}`),children:[C.jsx("div",{className:"w-1.5 h-1.5 rounded-full shrink-0",style:{backgroundColor:H.color}}),!_&&C.jsx("span",{className:"flex-1 truncate font-medium",children:H.name}),!_&&C.jsxs("div",{className:"hidden group-hover:flex items-center space-x-1",children:[C.jsx(Mbe,{size:10,className:"text-gray-500 hover:text-white",onClick:ee=>B(ee,H.id,H.name)}),C.jsx(vp,{size:10,className:"text-gray-500 hover:text-red-400",onClick:ee=>L(ee,H.id)})]})]})},H.id))]})]}),C.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),C.jsxs("div",{className:"mb-4",children:[C.jsxs("div",{className:`flex items-center ${_?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group cursor-pointer hover:text-gray-300`,onClick:()=>!_&&m(!p),children:[!_&&C.jsx("span",{children:"Smart Tools"}),_&&C.jsx("span",{children:"SMT"}),!_&&C.jsxs("div",{className:"flex items-center space-x-1",children:[C.jsx("div",{onClick:J,className:"p-0.5 hover:bg-gray-700 rounded transition-colors text-gray-500 hover:text-white",title:p?"Collapse All":"Expand All",children:p?C.jsx(JE,{size:12}):C.jsx(_4,{size:12})}),p?C.jsx(wo,{size:14}):C.jsx(dc,{size:14})]})]}),p&&!_&&C.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("smart-tools/mind-map")}`,onClick:()=>G("smart-tools/mind-map"),children:[C.jsx(GB,{size:14,className:"shrink-0"}),C.jsx("span",{children:"Mind Mapping"})]}),C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("smart-tools/dashboard")}`,onClick:()=>G("smart-tools/dashboard"),children:[C.jsx(Gk,{size:14,className:"shrink-0"}),C.jsx("span",{children:"Smart Dashboard"})]})]}),_&&C.jsx("div",{className:"flex flex-col items-center space-y-2",children:C.jsx("div",{className:`p-2 rounded-md cursor-pointer hover:bg-clickup-hover hover:text-white ${e.startsWith("smart-tools")?"text-clickup-purple":""}`,title:"Smart Tools",children:C.jsx(GB,{size:16})})})]}),C.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),C.jsx("div",{className:"mb-4",children:C.jsxs("div",{className:`flex items-center ${_?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!_&&C.jsx("span",{children:"Dashboards"}),_&&C.jsx("span",{children:"DBD"}),!_&&C.jsx(li,{size:14,className:"cursor-pointer hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>D("New Dashboard","info")})]})}),C.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),C.jsxs("div",{className:"mb-4",children:[C.jsxs("div",{className:`flex items-center ${_?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!_&&C.jsx("span",{children:"Marketplace"}),_&&C.jsx("span",{children:"MKT"})]}),C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("marketplace/local")} ${_?"justify-center":""}`,onClick:()=>G("marketplace/local"),title:_?"Local Marketplace":"",children:[C.jsx(RU,{size:14,className:"shrink-0"}),!_&&C.jsx("span",{children:"Local Marketplace"})]}),C.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${W("marketplace/foreign")} ${_?"justify-center":""}`,onClick:()=>G("marketplace/foreign"),title:_?"Foreign Marketplace":"",children:[C.jsx(lN,{size:14,className:"shrink-0"}),!_&&C.jsx("span",{children:"Forigen Marketplace"})]})]})]})]}),C.jsxs("div",{className:"p-3 border-t border-gray-800",children:[C.jsxs("div",{className:`bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center ${_?"justify-center":"justify-center space-x-2"} cursor-pointer transition-all active:scale-95 group mb-2 shadow-md`,onClick:()=>D("Invite dialog opened","info"),title:"Invite Team",children:[C.jsx(mp,{size:14,className:"shrink-0"}),!_&&C.jsx("span",{className:"text-sm font-medium",children:"Invite Team"})]}),C.jsxs("div",{className:`flex ${_?"flex-col space-y-2":"flex-row space-x-2"}`,children:[C.jsxs("div",{className:"flex-1 bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center justify-center cursor-pointer transition-all active:scale-95 group shadow-md",onClick:()=>G("space"),title:"Space",children:[C.jsx(Bbe,{size:14,className:"shrink-0"}),!_&&C.jsx("span",{className:"text-xs font-bold tracking-wide ml-1",children:"Space"})]}),C.jsxs("div",{className:"flex-1 bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center justify-center cursor-pointer transition-all active:scale-95 group shadow-md",onClick:()=>G("ocean"),title:"Deep Ocean",children:[C.jsx(ISe,{size:14,className:"shrink-0"}),!_&&C.jsx("span",{className:"text-xs font-bold tracking-wide ml-1",children:"Ocean"})]})]})]})]})},xae=de.createContext(void 0),n2e=({children:n})=>{const[e,t]=de.useState(!1),[r,i]=de.useState(!1),[a,s]=de.useState(!1);return C.jsx(xae.Provider,{value:{isBrainOpen:e,setBrainOpen:t,isAddCardsOpen:r,setAddCardsOpen:i,isTableBuilderOpen:a,setTableBuilderOpen:s},children:n})},LU=()=>{const n=de.useContext(xae);if(n===void 0)throw new Error("useUI must be used within a UIProvider");return n},r2e=()=>{const{currentView:n,setCurrentView:e,getPageTitle:t,activePage:r}=Hk(),{setBrainOpen:i,setAddCardsOpen:a}=LU(),{showToast:s}=Du(),o=t(),l=r==="home",u=()=>i(!0),c=()=>a(!0),f=()=>s("Template gallery coming soon","info");return C.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none",children:[C.jsxs("div",{className:"flex items-center h-full",children:[C.jsx("div",{className:`flex items-center ${l?"":"mr-4 pr-4 border-r border-gray-200"} h-6`,children:C.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors",onClick:()=>s("Breadcrumb navigation","info"),children:[o," ",!l&&C.jsx(wo,{size:12,className:"ml-1 text-gray-400"})]})}),!l&&C.jsxs("div",{className:"flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg",children:[C.jsxs("button",{onClick:()=>e("list"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${n==="list"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[C.jsx(lbe,{size:14}),C.jsx("span",{children:"List"})]}),C.jsxs("button",{onClick:()=>e("board"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${n==="board"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[C.jsx(K_e,{size:14}),C.jsx("span",{children:"Board"})]}),C.jsxs("button",{onClick:()=>e("calendar"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${n==="calendar"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[C.jsx(Mp,{size:14}),C.jsx("span",{children:"Calendar"})]}),C.jsxs("button",{onClick:()=>e("dashboard"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${n==="dashboard"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[C.jsx(Gk,{size:14}),C.jsx("span",{children:"Dashboard"})]})]})]}),C.jsx("div",{className:"flex items-center space-x-3",children:l?C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsxs("button",{className:"group flex items-center space-x-2 bg-black text-white px-4 py-2 rounded-lg text-sm font-semibold shadow-md shadow-black/20 hover:bg-gray-900 hover:shadow-lg hover:-translate-y-0.5 active:scale-95 transition-all",onClick:c,children:[C.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/20 group-hover:bg-white/30 transition-colors",children:C.jsx(li,{size:14,className:"opacity-90"})}),C.jsx("span",{children:"Add Cards"}),C.jsx(wf,{size:14,className:"opacity-80 group-hover:rotate-12 transition-transform"})]}),C.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-semibold text-black border border-black bg-white hover:bg-black hover:text-white shadow-sm hover:shadow-md active:scale-95 transition-all",onClick:f,children:[C.jsx(ebe,{size:14}),C.jsx("span",{children:"Templates"})]})]}):!r.startsWith("operations")&&!r.startsWith("business")&&!r.startsWith("support")&&!r.startsWith("supply-chain")?C.jsxs(C.Fragment,{children:[C.jsxs("button",{onClick:u,className:"group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95",children:[C.jsx(GB,{size:16,className:"text-clickup-purple group-hover:rotate-12 transition-transform"}),C.jsx("span",{className:"text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent",children:"Ask AI"})]}),C.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),C.jsx("div",{className:"flex items-center space-x-1 text-gray-500",children:C.jsx("div",{className:"relative group",children:C.jsxs("div",{className:"flex -space-x-2 cursor-pointer hover:scale-105 transition-transform",onClick:()=>s("Manage Assignees","info"),children:[C.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"A"}),C.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"S"}),C.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold",children:"+"})]})})}),C.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors",onClick:()=>s("Share view options","info"),children:C.jsx(cae,{size:16})}),C.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),C.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[C.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>s("Filter menu","info"),children:[C.jsx(CU,{size:14}),C.jsx("span",{className:"hidden md:inline",children:"Filter"})]}),C.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>s("Sort menu","info"),children:[C.jsx(h1e,{size:14}),C.jsx("span",{className:"hidden md:inline",children:"Sort"})]})]})]}):null})]})},i2e=({onInsert:n})=>{const{getPageTitle:e,activePage:t}=Hk(),r=e(),{showToast:i}=Du(),[a,s]=de.useState(null),o=t.includes("/analytics"),l=t.includes("/data"),u=[{name:"File",icon:R_e},{name:"Edit",icon:aSe},{name:"Insert",icon:a2e},...l?[]:[{name:"Layout",icon:wv}],{name:"View",icon:A_e},{name:"Window",icon:ybe},{name:"Help",icon:$1e}];return C.jsx("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none",children:C.jsxs("div",{className:"flex items-center h-full",children:[C.jsx("div",{className:"flex items-center mr-4 pr-4 border-r border-gray-200 h-6 min-w-[320px] flex-shrink-0",children:C.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors whitespace-nowrap",onClick:()=>i("Breadcrumb navigation","info"),children:[r," ",C.jsx(wo,{size:12,className:"ml-1 text-gray-400 flex-shrink-0"})]})}),C.jsx("div",{className:"flex items-center space-x-1",children:u.map(c=>C.jsxs("div",{className:"relative",children:[C.jsx("button",{className:`relative z-30 px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-1.5 ${a===c.name?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>s(a===c.name?null:c.name),children:C.jsx("span",{children:c.name})}),a===c.name&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(null)}),C.jsxs("div",{className:"absolute top-full left-0 mt-1 w-56 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 z-20 ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-100",children:[c.name==="Layout"?C.jsxs(C.Fragment,{children:[C.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 hover:text-red-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{n&&n("layout-clear"),s(null)},children:C.jsxs("div",{className:"flex items-center",children:[C.jsx(Q1e,{size:16,className:"mr-2.5 text-red-400 group-hover:text-red-500 transition-colors"}),C.jsx("span",{children:"Clear layout"})]})}),C.jsx("div",{className:"border-t border-gray-100 my-1"})]}):null,c.name==="Layout"?C.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{n&&n("layout-4kpi-1chart"),s(null)},children:C.jsxs("div",{className:"flex items-center",children:[C.jsx(wv,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),C.jsx("span",{children:"4 KPI 1 Chart"})]})}):c.name==="Insert"?C.jsxs(C.Fragment,{children:[!l&&C.jsx("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{n&&n("dashboard"),s(null)},children:C.jsxs("div",{className:"flex items-center",children:[C.jsx(Gk,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),C.jsx("span",{children:"Dashboard"})]})}),!o&&C.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",onClick:()=>{n&&n("custom-table"),s(null)},children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx(kU,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),C.jsx("span",{children:"Custom Table"})]}),C.jsx("span",{className:"text-xs text-gray-400 group-hover:text-blue-400",children:"T"})]}),!l&&C.jsxs("div",{className:"relative group/kpi px-1",children:[C.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx(wU,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),C.jsx("span",{children:"KPI Card"})]}),C.jsx(wo,{size:14,className:"text-gray-400 -rotate-90 group-hover:text-blue-500"})]}),C.jsxs("div",{className:"absolute left-full top-0 ml-1 w-48 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 hidden group-hover/kpi:block ring-1 ring-black/5",children:[C.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{n&&n("kpi-card-1"),s(null)},children:[C.jsx(hae,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),C.jsx("span",{children:"1 KPI"})]}),C.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{n&&n("kpi-card-2"),s(null)},children:[C.jsx(o_e,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),C.jsx("span",{children:"2 KPI"})]}),C.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{n&&n("kpi-card-3"),s(null)},children:[C.jsx(wv,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),C.jsx("span",{children:"3 KPI"})]}),C.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{n&&n("kpi-card-4"),s(null)},children:[C.jsx(iae,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),C.jsx("span",{children:"4 KPI"})]})]})]}),!l&&C.jsxs("div",{className:"relative group/chart px-1",children:[C.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center justify-between group rounded-lg transition-colors",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx(Pj,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),C.jsx("span",{children:"Chart"})]}),C.jsx(wo,{size:14,className:"text-gray-400 -rotate-90 group-hover:text-blue-500"})]}),C.jsxs("div",{className:"absolute left-full top-0 ml-1 w-48 bg-white/95 backdrop-blur-sm border border-gray-200/60 rounded-xl shadow-xl py-1.5 hidden group-hover/chart:block ring-1 ring-black/5",children:[C.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{n&&n("chart-bar"),s(null)},children:[C.jsx(eae,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),C.jsx("span",{children:"Bar Chart"})]}),C.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{n&&n("chart-line"),s(null)},children:[C.jsx(yy,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),C.jsx("span",{children:"Line Chart"})]}),C.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center rounded-lg transition-colors",onClick:()=>{n&&n("chart-pie"),s(null)},children:[C.jsx(Pj,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500"}),C.jsx("span",{children:"Pie Chart"})]})]})]}),C.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 flex items-center group rounded-lg transition-colors",children:[C.jsx(W_e,{size:16,className:"mr-2.5 text-gray-400 group-hover:text-blue-500 transition-colors"}),C.jsx("span",{children:"Image"})]})]}):["1","2","3","4","5"].map(f=>C.jsxs("button",{className:"w-[calc(100%-8px)] mx-1 text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors flex items-center",onClick:()=>{i(`${c.name} Item ${f} clicked`,"success"),s(null)},children:[C.jsx("span",{className:"w-4 h-4 mr-2.5 rounded-full bg-gray-100 flex items-center justify-center text-[10px] text-gray-500 group-hover:bg-blue-100 group-hover:text-blue-600",children:f}),c.name," Item ",f]},f))]})]})]},c.name))})]})})},a2e=({size:n,className:e})=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[C.jsx("path",{d:"M5 12h14"}),C.jsx("path",{d:"M12 5v14"})]}),s2e=[{name:"Default",value:"transparent"},{name:"Red",value:"#fee2e2"},{name:"Green",value:"#dcfce7"},{name:"Blue",value:"#dbeafe"},{name:"Yellow",value:"#fef9c3"},{name:"Purple",value:"#f3e8ff"},{name:"Orange",value:"#ffedd5"}],n3=10,_ae=({id:n,title:e,columns:t,showBorder:r,headerColor:i,onDelete:a,onRenameTable:s,onRenameColumn:o,onAddColumn:l,onUpdateColumnType:u,onDeleteColumn:c,onUpdateColumnColor:f,onUpdateRow:d,rows:h})=>{const[p,m]=de.useState(h||[{id:"1",data:{}},{id:"2",data:{}},{id:"2",data:{}},{id:"3",data:{}}]),[g,y]=de.useState(1),_=Math.ceil(p.length/n3),S=p.slice((g-1)*n3,g*n3);de.useEffect(()=>{g>_&&_>0&&y(_)},[p.length,_,g]),de.useEffect(()=>{h&&m(h)},[h]);const A=()=>{const I={id:Math.random().toString(36).substr(2,9),data:{}},N=[...p,I];m(N);const L=Math.ceil(N.length/n3);y(L)},M=(I,N,L)=>{const B=p.map(O=>{if(O.id===I){const G={...O.data,[N]:L};return d&&d(I,G),{...O,data:G}}return O});m(B)},E=I=>{m(p.filter(N=>N.id!==I))},D=(I,N)=>{m(p.map(L=>L.id===I?{...L,color:N}:L))};return C.jsxs("div",{className:"mb-8 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden animate-in fade-in duration-500 flex flex-col",children:[C.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-white shrink-0",children:[C.jsx("input",{type:"text",value:e,onChange:I=>s&&s(I.target.value),className:"text-lg font-semibold text-gray-800 bg-transparent border-none focus:ring-0 p-0 w-full mr-4",placeholder:"Table Name"}),C.jsxs("div",{className:"flex items-center space-x-2",children:[a&&C.jsx("button",{onClick:a,className:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded hover:bg-red-50",title:"Delete Table",children:C.jsx(vp,{size:18})}),C.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-100",children:C.jsx(FA,{size:20})})]})]}),C.jsx("div",{className:"overflow-x-auto flex-1",children:C.jsxs("table",{className:`min-w-full border-collapse ${r?"border-l border-r border-gray-200":""}`,style:{tableLayout:"auto"},children:[C.jsx("thead",{children:C.jsxs("tr",{style:{backgroundColor:i},children:[t.map(I=>C.jsx("th",{className:`px-4 py-3 text-left relative group/header ${r?"border-r border-gray-200 last:border-r-0":""}`,style:{minWidth:I.width},children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"relative w-full",children:[C.jsx("span",{className:"invisible whitespace-pre text-xs font-bold uppercase tracking-wider block min-w-[80px]",children:I.name||"Column"}),C.jsx("input",{type:"text",value:I.name,onChange:N=>o&&o(I.id,N.target.value),className:"absolute inset-0 w-full h-full bg-transparent border-none focus:ring-0 p-0 text-xs font-bold text-gray-600 uppercase tracking-wider"})]}),C.jsx("button",{onClick:()=>c&&c(I.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1 opacity-0 group-hover/header:opacity-100 ml-2 shrink-0",title:"Delete Column",children:C.jsx(vp,{size:12})})]})},I.id)),C.jsx("th",{className:"px-2 py-2 w-10 border-l border-transparent hover:border-gray-200",children:C.jsx("button",{onClick:l,className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Add Column",children:C.jsx(li,{size:16})})})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(I=>C.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",style:{backgroundColor:I.color||"transparent"},children:[t.map(N=>C.jsx("td",{className:`p-0 align-top ${r?"border-r border-gray-200 last:border-r-0":""}`,style:{backgroundColor:N.color||"transparent"},children:N.type==="checkbox"?C.jsx("div",{className:"w-full h-full flex items-center justify-center py-3",children:C.jsx("input",{type:"checkbox",checked:I.data[N.id]||!1,onChange:L=>M(I.id,N.id,L.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}):C.jsxs("div",{className:"relative w-full h-full",children:[C.jsx("span",{className:"invisible whitespace-pre px-4 py-3 block min-w-[80px] text-sm",children:I.data[N.id]||"..."}),C.jsx("input",{type:N.type==="number"?"number":N.type==="date"?"date":"text",value:I.data[N.id]||"",onChange:L=>M(I.id,N.id,L.target.value),className:"absolute inset-0 w-full h-full px-4 py-3 bg-transparent border-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 text-sm text-gray-900",placeholder:"..."})]})},N.id)),C.jsx("td",{className:"w-16 p-0 align-middle",children:C.jsxs("div",{className:"flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity space-x-1 px-2",children:[C.jsxs("div",{className:"relative group/color",children:[C.jsx("button",{className:"text-gray-400 hover:text-indigo-600 p-1 rounded hover:bg-indigo-50",children:C.jsx(Tbe,{size:14})}),C.jsx("div",{className:"absolute bottom-full right-0 mb-1 bg-white rounded-lg shadow-xl border border-gray-100 p-2 hidden group-hover/color:grid grid-cols-4 gap-1 w-32 z-50",children:s2e.map(N=>C.jsx("button",{onClick:()=>D(I.id,N.value),className:`w-5 h-5 rounded-full border border-gray-200 ${I.color===N.value?"ring-2 ring-indigo-500":""}`,style:{backgroundColor:N.value},title:N.name},N.value))})]}),C.jsx("button",{onClick:()=>E(I.id),className:"text-gray-400 hover:text-red-500 p-1 rounded hover:bg-red-50",title:"Delete Row",children:C.jsx(vp,{size:14})})]})})]},I.id))})]})}),C.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50 flex items-center justify-between shrink-0",children:[C.jsxs("button",{onClick:A,className:"flex items-center space-x-1 px-2 py-1 text-sm text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Add Row",children:[C.jsx(li,{size:16}),C.jsx("span",{children:"Add Row"})]}),_>1&&C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("button",{onClick:()=>y(I=>Math.max(1,I-1)),disabled:g===1,className:`p-1 rounded transition-colors ${g===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-indigo-600 hover:bg-indigo-50"}`,children:C.jsx(yC,{size:16})}),C.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Page ",g," of ",_]}),C.jsx("button",{onClick:()=>y(I=>Math.min(_,I+1)),disabled:g===_,className:`p-1 rounded transition-colors ${g===_?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-indigo-600 hover:bg-indigo-50"}`,children:C.jsx(dc,{size:16})})]})]})]})},bae=({title:n,value:e,icon:t,trend:r,subtext:i,iconColorClass:a="text-blue-600",iconBgClass:s="bg-blue-50",isEmpty:o,onConnect:l,onTitleChange:u})=>{const[c,f]=Dr.useState(!1),[d,h]=Dr.useState(n);Dr.useEffect(()=>{h(n)},[n]);const p=()=>{f(!1),d.trim()!==n&&u?u(d.trim()):h(n)};if(o)return C.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-dashed border-gray-300 shadow-sm flex flex-col items-center justify-center h-full min-h-[140px] hover:bg-gray-50 transition-colors cursor-pointer group",onClick:l,children:[C.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-100 transition-colors",children:C.jsx(t,{size:20,className:"text-gray-400 group-hover:text-blue-500"})}),C.jsx("span",{className:"text-sm font-medium text-gray-500 group-hover:text-blue-600",children:"Connect Data"})]});const m=()=>{if(!r)return"text-gray-500 bg-gray-50";switch(r.direction){case"up":return"text-green-600 bg-green-50";case"down":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},g=()=>{if(!r)return null;switch(r.direction){case"up":return C.jsx(Sc,{size:12,className:"mr-1"});case"down":return C.jsx(vae,{size:12,className:"mr-1"});default:return C.jsx(Sv,{size:12,className:"mr-1"})}};return C.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow h-full",children:[C.jsxs("div",{children:[c?C.jsx("input",{type:"text",value:d,onChange:y=>h(y.target.value),onBlur:p,onKeyDown:y=>y.key==="Enter"&&p(),className:"text-xs font-medium text-gray-900 uppercase tracking-wide border-b border-blue-500 outline-none w-full bg-transparent",autoFocus:!0}):C.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide cursor-text hover:text-blue-600 transition-colors",onClick:()=>{u&&f(!0)},children:n}),C.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:e}),r&&C.jsxs("div",{className:`flex items-center mt-2 text-xs font-medium px-2 py-0.5 rounded-full w-fit ${m()}`,children:[g(),r.label||r.value]}),i&&C.jsx("div",{className:"flex items-center mt-2 text-xs font-medium text-gray-500",children:i})]}),C.jsx("div",{className:`p-3 rounded-xl ${s} ${a}`,children:C.jsx(t,{size:24})})]})};var XB=function(n,e){return XB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},XB(n,e)};function Sae(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");XB(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ET=function(){return ET=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ET.apply(this,arguments)};function o2e(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Gj(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(n,e||[])).next())})}function Hj(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZB=function(n,e){return ZB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},ZB(n,e)};function Xe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ZB(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var l2e=(function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n})(),u2e=(function(){function n(){this.browser=new l2e,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n})(),Zn=new u2e;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Zn.wxa=!0,Zn.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Zn.worker=!0:!Zn.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(Zn.node=!0,Zn.svgSupported=!0):c2e(navigator.userAgent,Zn);function c2e(n,e){var t=e.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(n);r&&(t.firefox=!0,t.version=r[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11);var o=e.domSupported=typeof document<"u";if(o){var l=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in l||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}}var PU=12,wae="sans-serif",Dp=PU+"px "+wae,f2e=20,d2e=100,h2e="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function p2e(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var r=String.fromCharCode(t+32),i=(n.charCodeAt(t)-f2e)/d2e;e[r]=i}return e}var v2e=p2e(h2e),ql={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var n,e;return function(t,r){if(!n){var i=ql.createCanvas();n=i&&i.getContext("2d")}if(n)return e!==r&&(e=n.font=r||Dp),n.measureText(t);t=t||"",r=r||Dp;var a=/((?:\d+)?\.?\d*)px/.exec(r),s=a&&+a[1]||PU,o=0;if(r.indexOf("mono")>=0)o=s*t.length;else for(var l=0;l<t.length;l++){var u=v2e[t[l]];o+=u==null?s:u*s}return{width:o}}})(),loadImage:function(n,e,t){var r=new Image;return r.onload=e,r.onerror=t,r.src=n,r}};function Tae(n){for(var e in ql)n[e]&&(ql[e]=n[e])}var Cae=wc(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),Aae=wc(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),Xb=Object.prototype.toString,jk=Array.prototype,m2e=jk.forEach,g2e=jk.filter,OU=jk.slice,y2e=jk.map,jj=(function(){}).constructor,r3=jj?jj.prototype:null,FU="__proto__",x2e=2311;function BU(){return x2e++}function Wk(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function tn(n){if(n==null||typeof n!="object")return n;var e=n,t=Xb.call(n);if(t==="[object Array]"){if(!Z_(n)){e=[];for(var r=0,i=n.length;r<i;r++)e[r]=tn(n[r])}}else if(Aae[t]){if(!Z_(n)){var a=n.constructor;if(a.from)e=a.from(n);else{e=new a(n.length);for(var r=0,i=n.length;r<i;r++)e[r]=n[r]}}}else if(!Cae[t]&&!Z_(n)&&!ky(n)){e={};for(var s in n)n.hasOwnProperty(s)&&s!==FU&&(e[s]=tn(n[s]))}return e}function An(n,e,t){if(!on(e)||!on(n))return t?tn(e):n;for(var r in e)if(e.hasOwnProperty(r)&&r!==FU){var i=n[r],a=e[r];on(a)&&on(i)&&!ft(a)&&!ft(i)&&!ky(a)&&!ky(i)&&!KB(a)&&!KB(i)&&!Z_(a)&&!Z_(i)?An(i,a,t):(t||!(r in n))&&(n[r]=tn(e[r]))}return n}function Yk(n,e){for(var t=n[0],r=1,i=n.length;r<i;r++)t=An(t,n[r],e);return t}function at(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==FU&&(n[t]=e[t]);return n}function sn(n,e,t){for(var r=$n(e),i=0,a=r.length;i<a;i++){var s=r[i];(t?e[s]!=null:n[s]==null)&&(n[s]=e[s])}return n}var _2e=ql.createCanvas;function Cn(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t}return-1}function zU(n,e){var t=n.prototype;function r(){}r.prototype=e.prototype,n.prototype=new r;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);n.prototype.constructor=n,n.superClass=e}function ta(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var a=r[i];a!=="constructor"&&(t?e[a]!=null:n[a]==null)&&(n[a]=e[a])}else sn(n,e,t)}function eo(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function ie(n,e,t){if(n&&e)if(n.forEach&&n.forEach===m2e)n.forEach(e,t);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);else for(var a in n)n.hasOwnProperty(a)&&e.call(t,n[a],a,n)}function ht(n,e,t){if(!n)return[];if(!e)return qk(n);if(n.map&&n.map===y2e)return n.map(e,t);for(var r=[],i=0,a=n.length;i<a;i++)r.push(e.call(t,n[i],i,n));return r}function wc(n,e,t,r){if(n&&e){for(var i=0,a=n.length;i<a;i++)t=e.call(r,t,n[i],i,n);return t}}function vr(n,e,t){if(!n)return[];if(!e)return qk(n);if(n.filter&&n.filter===g2e)return n.filter(e,t);for(var r=[],i=0,a=n.length;i<a;i++)e.call(t,n[i],i,n)&&r.push(n[i]);return r}function Kv(n,e,t){if(n&&e){for(var r=0,i=n.length;r<i;r++)if(e.call(t,n[r],r,n))return n[r]}}function $n(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function b2e(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return n.apply(e,t.concat(OU.call(arguments)))}}var Ot=r3&&Xt(r3.bind)?r3.call.bind(r3.bind):b2e;function Sn(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(OU.call(arguments)))}}function ft(n){return Array.isArray?Array.isArray(n):Xb.call(n)==="[object Array]"}function Xt(n){return typeof n=="function"}function Lt(n){return typeof n=="string"}function uN(n){return Xb.call(n)==="[object String]"}function nr(n){return typeof n=="number"}function on(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function KB(n){return!!Cae[Xb.call(n)]}function _l(n){return!!Aae[Xb.call(n)]}function ky(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function BA(n){return n.colorStops!=null}function Mae(n){return n.image!=null}function Eae(n){return Xb.call(n)==="[object RegExp]"}function Zs(n){return n!==n}function Is(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n.length;t<r;t++)if(n[t]!=null)return n[t]}function Wt(n,e){return n??e}function Yl(n,e,t){return n??e??t}function qk(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return OU.apply(n,e)}function zA(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function to(n,e){if(!n)throw new Error(e)}function yu(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Dae="__ec_primitive__";function bC(n){n[Dae]=!0}function Z_(n){return n[Dae]}var S2e=(function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return $n(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},n})(),Rae=typeof Map=="function";function w2e(){return Rae?new Map:new S2e}var Nae=(function(){function n(e){var t=ft(e);this.data=w2e();var r=this;e instanceof n?e.each(i):e&&ie(e,i);function i(a,s){t?r.set(a,s):r.set(s,a)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(r,i){e.call(t,r,i)})},n.prototype.keys=function(){var e=this.data.keys();return Rae?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n})();function jt(n){return new Nae(n)}function db(n,e){for(var t=new n.constructor(n.length+e.length),r=0;r<n.length;r++)t[r]=n[r];for(var i=n.length,r=0;r<e.length;r++)t[r+i]=e[r];return t}function UA(n,e){var t;if(Object.create)t=Object.create(n);else{var r=function(){};r.prototype=n,t=new r}return e&&at(t,e),t}function UU(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Gt(n,e){return n.hasOwnProperty(e)}function Qi(){}var DT=180/Math.PI,T2e=Number.EPSILON||Math.pow(2,-52);const C2e=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:T2e,HashMap:Nae,RADIAN_TO_DEGREE:DT,assert:to,bind:Ot,clone:tn,concatArray:db,createCanvas:_2e,createHashMap:jt,createObject:UA,curry:Sn,defaults:sn,disableUserSelect:UU,each:ie,eqNaN:Zs,extend:at,filter:vr,find:Kv,guid:BU,hasOwn:Gt,indexOf:Cn,inherits:zU,isArray:ft,isArrayLike:eo,isBuiltInObject:KB,isDom:ky,isFunction:Xt,isGradientObject:BA,isImagePatternObject:Mae,isNumber:nr,isObject:on,isPrimitive:Z_,isRegExp:Eae,isString:Lt,isStringSafe:uN,isTypedArray:_l,keys:$n,logError:Wk,map:ht,merge:An,mergeAll:Yk,mixin:ta,noop:Qi,normalizeCssArray:zA,reduce:wc,retrieve:Is,retrieve2:Wt,retrieve3:Yl,setAsPrimitive:bC,slice:qk,trim:yu},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $B=function(n,e){return $B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},$B(n,e)};function Si(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$B(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function $v(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function So(n,e){return n[0]=e[0],n[1]=e[1],n}function Gd(n){return[n[0],n[1]]}function Xk(n,e,t){return n[0]=e,n[1]=t,n}function JB(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function cN(n,e,t,r){return n[0]=e[0]+t[0]*r,n[1]=e[1]+t[1]*r,n}function cv(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function SC(n){return Math.sqrt(VU(n))}var A2e=SC;function VU(n){return n[0]*n[0]+n[1]*n[1]}var M2e=VU;function E2e(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function D2e(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function R2e(n,e){return n[0]*e[0]+n[1]*e[1]}function RT(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function Jy(n,e){var t=SC(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function fN(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var lp=fN;function Iae(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var Tv=Iae;function N2e(n,e){return n[0]=-e[0],n[1]=-e[1],n}function NT(n,e,t,r){return n[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n}function ea(n,e,t){var r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i+t[4],n[1]=t[1]*r+t[3]*i+t[5],n}function up(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function cp(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}const I2e=Object.freeze(Object.defineProperty({__proto__:null,add:JB,applyTransform:ea,clone:Gd,copy:So,create:$v,dist:lp,distSquare:Tv,distance:fN,distanceSquare:Iae,div:D2e,dot:R2e,len:SC,lenSquare:VU,length:A2e,lengthSquare:M2e,lerp:NT,max:cp,min:up,mul:E2e,negate:N2e,normalize:Jy,scale:RT,scaleAndAdd:cN,set:Xk,sub:cv},Symbol.toStringTag,{value:"Module"}));var A1=(function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n})(),k2e=(function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new A1(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,i=e.offsetY,a=r-this._x,s=i-this._y;this._x=r,this._y=i,t.drift(a,s,e),this.handler.dispatchToElement(new A1(t,e),"drag",e.event);var o=this.handler.findHover(r,i,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.handler.dispatchToElement(new A1(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new A1(o,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new A1(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new A1(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n})(),Dc=(function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(i=r,r=t,t=null),!r||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===r)return this;var l={h:r,query:t,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},u=a[e].length-1,c=a[e][u];return c&&c.callAtLast?a[e].splice(u,0,l):a[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var i=[],a=0,s=r[e].length;a<s;a++)r[e][a].h!==t&&i.push(r[e][a]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=i.length,l=0;l<o;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=t[s-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(s){case 0:c.h.call(o);break;case 1:c.h.call(o,t[0]);break;case 2:c.h.call(o,t[0],t[1]);break;default:c.h.apply(o,t.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n})(),L2e=Math.log(2);function QB(n,e,t,r,i,a){var s=r+"-"+i,o=n.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~i)/L2e);return n[t][l]}for(var u=r|1<<t,c=t+1;r&1<<c;)c++;for(var f=0,d=0,h=0;d<o;d++){var p=1<<d;p&i||(f+=(h%2?-1:1)*n[t][d]*QB(n,e-1,c,u,i|p,a),h++)}return a[s]=f,f}function Wj(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],r={},i=QB(t,8,0,0,0,r);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*QB(t,7,s===0?1:0,1<<s,1<<o,r)/i*e[s];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var dN="___zrEVENTSAVED",w4=[];function P2e(n,e,t,r,i){return e6(w4,e,r,i,!0)&&e6(n,t,w4[0],w4[1])}function O2e(n,e){n&&t(n),e&&t(e);function t(r){var i=r[dN];i&&(i.clearMarkers&&i.clearMarkers(),delete r[dN])}}function e6(n,e,t,r,i){if(e.getBoundingClientRect&&Zn.domSupported&&!kae(e)){var a=e[dN]||(e[dN]={}),s=F2e(e,a),o=B2e(s,a,i);if(o)return o(n,t,r),!0}return!1}function F2e(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,u=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[u]+":0",r[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),n.appendChild(s),t.push(s)}return e.clearMarkers=function(){ie(t,function(c){c.parentNode&&c.parentNode.removeChild(c)})},t}function B2e(n,e,t){for(var r=t?"invTrans":"trans",i=e[r],a=e.srcCoords,s=[],o=[],l=!0,u=0;u<4;u++){var c=n[u].getBoundingClientRect(),f=2*u,d=c.left,h=c.top;s.push(d,h),l=l&&a&&d===a[f]&&h===a[f+1],o.push(n[u].offsetLeft,n[u].offsetTop)}return l&&i?i:(e.srcCoords=s,e[r]=t?Wj(o,s):Wj(s,o))}function kae(n){return n.nodeName.toUpperCase()==="CANVAS"}var z2e=/([&<>"'])/g,U2e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Mo(n){return n==null?"":(n+"").replace(z2e,function(e,t){return U2e[t]})}var V2e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,T4=[],G2e=Zn.browser.firefox&&+Zn.browser.version.split(".")[0]<39;function t6(n,e,t,r){return t=t||{},r?Yj(n,e,t):G2e&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):Yj(n,e,t),t}function Yj(n,e,t){if(Zn.domSupported&&n.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(kae(n)){var a=n.getBoundingClientRect();t.zrX=r-a.left,t.zrY=i-a.top;return}else if(e6(T4,n,r,i)){t.zrX=T4[0],t.zrY=T4[1];return}}t.zrX=t.zrY=0}function GU(n){return n||window.event}function oc(n,e,t){if(e=GU(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var s=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&t6(n,s,e,t)}else{t6(n,e,e,t);var a=H2e(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&V2e.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function H2e(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,r=n.deltaY;if(t==null||r==null)return e;var i=Math.abs(r!==0?r:t),a=r>0?-1:r<0?1:t>0?-1:1;return 3*i*a}function n6(n,e,t,r){n.addEventListener(e,t,r)}function j2e(n,e,t,r){n.removeEventListener(e,t,r)}var Rp=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function qj(n){return n.which===2||n.which===3}var W2e=(function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,r){var i=e.touches;if(i){for(var a={points:[],touches:[],target:t,event:e},s=0,o=i.length;s<o;s++){var l=i[s],u=t6(r,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},n.prototype._recognize=function(e){for(var t in C4)if(C4.hasOwnProperty(t)){var r=C4[t](this._track,e);if(r)return r}},n})();function Xj(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function Y2e(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var C4={pinch:function(n,e){var t=n.length;if(t){var r=(n[t-1]||{}).points,i=(n[t-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=Xj(r)/Xj(i);!isFinite(a)&&(a=1),e.pinchScale=a;var s=Y2e(r);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:n[0].target,event:e}}}}};function os(){return[1,0,0,1,0,0]}function VA(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function GA(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Tf(n,e,t){var r=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=r,n[1]=i,n[2]=a,n[3]=s,n[4]=o,n[5]=l,n}function Rf(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function Wp(n,e,t,r){r===void 0&&(r=[0,0]);var i=e[0],a=e[2],s=e[4],o=e[1],l=e[3],u=e[5],c=Math.sin(t),f=Math.cos(t);return n[0]=i*f+o*c,n[1]=-i*c+o*f,n[2]=a*f+l*c,n[3]=-a*c+f*l,n[4]=f*(s-r[0])+c*(u-r[1])+r[0],n[5]=f*(u-r[1])-c*(s-r[0])+r[1],n}function Zk(n,e,t){var r=t[0],i=t[1];return n[0]=e[0]*r,n[1]=e[1]*i,n[2]=e[2]*r,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*i,n}function Tc(n,e){var t=e[0],r=e[2],i=e[4],a=e[1],s=e[3],o=e[5],l=t*s-a*r;return l?(l=1/l,n[0]=s*l,n[1]=-a*l,n[2]=-r*l,n[3]=t*l,n[4]=(r*o-s*i)*l,n[5]=(a*i-t*o)*l,n):null}function Lae(n){var e=os();return GA(e,n),e}const q2e=Object.freeze(Object.defineProperty({__proto__:null,clone:Lae,copy:GA,create:os,identity:VA,invert:Tc,mul:Tf,rotate:Wp,scale:Zk,translate:Rf},Symbol.toStringTag,{value:"Module"}));var un=(function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,r=this.y;return this.x=e[0]*t+e[2]*r+e[4],this.y=e[1]*t+e[3]*r+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,r){e.x=t,e.y=r},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},n.sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},n.scale=function(e,t,r){e.x=t.x*r,e.y=t.y*r},n.scaleAndAdd=function(e,t,r,i){e.x=t.x+r.x*i,e.y=t.y+r.y*i},n.lerp=function(e,t,r,i){var a=1-i;e.x=a*t.x+i*r.x,e.y=a*t.y+i*r.y},n})(),sy=Math.min,N_=Math.max,r6=Math.abs,Zj=["x","y"],X2e=["width","height"],eg=new un,tg=new un,ng=new un,rg=new un,hu=Pae(),sT=hu.minTv,i6=hu.maxTv,IT=[0,0],cn=(function(){function n(e,t,r,i){n.set(this,e,t,r,i)}return n.set=function(e,t,r,i,a){return i<0&&(t=t+i,i=-i),a<0&&(r=r+a,a=-a),e.x=t,e.y=r,e.width=i,e.height=a,e},n.prototype.union=function(e){var t=sy(e.x,this.x),r=sy(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=N_(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=N_(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=t,this.y=r},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,r=e.width/t.width,i=e.height/t.height,a=os();return Rf(a,a,[-t.x,-t.y]),Zk(a,a,[r,i]),Rf(a,a,[e.x,e.y]),a},n.prototype.intersect=function(e,t,r){return n.intersect(this,e,t,r)},n.intersect=function(e,t,r,i){r&&un.set(r,0,0);var a=i&&i.outIntersectRect||null,s=i&&i.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!e||!t)return!1;e instanceof n||(e=n.set(Z2e,e.x,e.y,e.width,e.height)),t instanceof n||(t=n.set(K2e,t.x,t.y,t.width,t.height));var o=!!r;hu.reset(i,o);var l=hu.touchThreshold,u=e.x+l,c=e.x+e.width-l,f=e.y+l,d=e.y+e.height-l,h=t.x+l,p=t.x+t.width-l,m=t.y+l,g=t.y+t.height-l;if(u>c||f>d||h>p||m>g)return!1;var y=!(c<h||p<u||d<m||g<f);return(o||a)&&(IT[0]=1/0,IT[1]=0,Kj(u,c,h,p,0,o,a,s),Kj(f,d,m,g,1,o,a,s),o&&un.copy(r,y?hu.useDir?hu.dirMinTv:sT:i6)),y},n.contain=function(e,t,r){return t>=e.x&&t<=e.x+e.width&&r>=e.y&&r<=e.y+e.height},n.prototype.contain=function(e,t){return n.contain(this,e,t)},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e},n.applyTransform=function(e,t,r){if(!r){e!==t&&n.copy(e,t);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],s=r[4],o=r[5];e.x=t.x*i+s,e.y=t.y*a+o,e.width=t.width*i,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}eg.x=ng.x=t.x,eg.y=rg.y=t.y,tg.x=rg.x=t.x+t.width,tg.y=ng.y=t.y+t.height,eg.transform(r),rg.transform(r),tg.transform(r),ng.transform(r),e.x=sy(eg.x,tg.x,ng.x,rg.x),e.y=sy(eg.y,tg.y,ng.y,rg.y);var l=N_(eg.x,tg.x,ng.x,rg.x),u=N_(eg.y,tg.y,ng.y,rg.y);e.width=l-e.x,e.height=u-e.y},n})(),Z2e=new cn(0,0,0,0),K2e=new cn(0,0,0,0);function Kj(n,e,t,r,i,a,s,o){var l=r6(e-t),u=r6(r-n),c=sy(l,u),f=Zj[i],d=Zj[1-i],h=X2e[i];e<t||r<n?l<u?(a&&(i6[f]=-l),o&&(s[f]=e,s[h]=0)):(a&&(i6[f]=u),o&&(s[f]=n,s[h]=0)):(s&&(s[f]=N_(n,t),s[h]=sy(e,r)-s[f]),a&&(c<IT[0]||hu.useDir)&&(IT[0]=sy(c,IT[0]),(l<u||!hu.bidirectional)&&(sT[f]=l,sT[d]=0,hu.useDir&&hu.calcDirMTV()),(l>=u||!hu.bidirectional)&&(sT[f]=-u,sT[d]=0,hu.useDir&&hu.calcDirMTV())))}function Pae(){var n=0,e=new un,t=new un,r={minTv:new un,maxTv:new un,useDir:!1,dirMinTv:new un,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,s){r.touchThreshold=0,a&&a.touchThreshold!=null&&(r.touchThreshold=N_(0,a.touchThreshold)),r.negativeSize=!1,s&&(r.minTv.set(1/0,1/0),r.maxTv.set(0,0),r.useDir=!1,a&&a.direction!=null&&(r.useDir=!0,r.dirMinTv.copy(r.minTv),t.copy(r.minTv),n=a.direction,r.bidirectional=a.bidirectional==null||!!a.bidirectional,r.bidirectional||e.set(Math.cos(n),Math.sin(n))))},calcDirMTV:function(){var a=r.minTv,s=r.dirMinTv,o=a.y*a.y+a.x*a.x,l=Math.sin(n),u=Math.cos(n),c=l*a.y+u*a.x;if(i(c)){i(a.x)&&i(a.y)&&s.set(0,0);return}if(t.x=o*u/c,t.y=o*l/c,i(t.x)&&i(t.y)){s.set(0,0);return}(r.bidirectional||e.dot(t)>0)&&t.len()<s.len()&&s.copy(t)}};function i(a){return r6(a)<1e-10}return r}var Oae="silent";function $2e(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:J2e}}function J2e(){Rp(this.event)}var Q2e=(function(n){Si(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e})(Dc),aw=(function(){function n(e,t){this.x=e,this.y=t}return n})(),ewe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],A4=new cn(0,0,0,0),Fae=(function(n){Si(e,n);function e(t,r,i,a,s){var o=n.call(this)||this;return o._hovered=new aw(0,0),o.storage=t,o.painter=r,o.painterRoot=a,o._pointerSize=s,i=i||new Q2e,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new k2e(o),o}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(ie(ewe,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,a=Bae(this,r,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new aw(r,i):this.findHover(r,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),o&&u!==o&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),u&&u!==o&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var r=t.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new aw(0,0)},e.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},e.prototype.dispatchToElement=function(t,r,i){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var s="on"+r,o=$2e(r,t,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(r,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(r,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(r,o)}))}},e.prototype.findHover=function(t,r,i){var a=this.storage.getDisplayList(),s=new aw(t,r);if($j(a,s,t,r,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,u=l/2,c=new cn(t-u,r-u,l,l),f=a.length-1;f>=0;f--){var d=a[f];d!==i&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(A4.copy(d.getBoundingRect()),d.transform&&A4.applyTransform(d.transform),A4.intersect(c)&&o.push(d))}if(o.length)for(var h=4,p=Math.PI/12,m=Math.PI*2,g=0;g<u;g+=h)for(var y=0;y<m;y+=p){var _=t+g*Math.cos(y),S=r+g*Math.sin(y);if($j(o,s,_,S,i),s.target)return s}}return s},e.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new W2e);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var s=a.type;t.gestureEvent=s;var o=new aw;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e})(Dc);ie(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){Fae.prototype[n]=function(e){var t=e.zrX,r=e.zrY,i=Bae(this,t,r),a,s;if((n!=="mouseup"||!i)&&(a=this.findHover(t,r),s=a.target),n==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(n==="mouseup")this._upEl=s;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||lp(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,e)}});function twe(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var r=n,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var s=r.getClipPath();if(s&&!s.contain(e,t))return!1}r.silent&&(i=!0);var o=r.__hostTarget;r=o?r.ignoreHostSilent?null:o:r.parent}return i?Oae:!0}return!1}function $j(n,e,t,r,i){for(var a=n.length-1;a>=0;a--){var s=n[a],o=void 0;if(s!==i&&!s.ignore&&(o=twe(s,t,r))&&(!e.topTarget&&(e.topTarget=s),o!==Oae)){e.target=s;break}}}function Bae(n,e,t){var r=n.painter;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var zae=32,sw=7;function nwe(n){for(var e=0;n>=zae;)e|=n&1,n>>=1;return n+e}function Jj(n,e,t,r){var i=e+1;if(i===t)return 1;if(r(n[i++],n[e])<0){for(;i<t&&r(n[i],n[i-1])<0;)i++;rwe(n,e,i)}else for(;i<t&&r(n[i],n[i-1])>=0;)i++;return i-e}function rwe(n,e,t){for(t--;e<t;){var r=n[e];n[e++]=n[t],n[t--]=r}}function Qj(n,e,t,r,i){for(r===e&&r++;r<t;r++){for(var a=n[r],s=e,o=r,l;s<o;)l=s+o>>>1,i(a,n[l])<0?o=l:s=l+1;var u=r-s;switch(u){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;u>0;)n[s+u]=n[s+u-1],u--}n[s]=a}}function M4(n,e,t,r,i,a){var s=0,o=0,l=1;if(a(n,e[t+i])>0){for(o=r-i;l<o&&a(n,e[t+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(n,e[t+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}for(s++;s<l;){var c=s+(l-s>>>1);a(n,e[t+c])>0?s=c+1:l=c}return l}function E4(n,e,t,r,i,a){var s=0,o=0,l=1;if(a(n,e[t+i])<0){for(o=i+1;l<o&&a(n,e[t+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}else{for(o=r-i;l<o&&a(n,e[t+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var c=s+(l-s>>>1);a(n,e[t+c])<0?l=c:s=c+1}return l}function iwe(n,e){var t=sw,r,i,a=0,s=[];r=[],i=[];function o(h,p){r[a]=h,i[a]=p,a+=1}function l(){for(;a>1;){var h=a-2;if(h>=1&&i[h-1]<=i[h]+i[h+1]||h>=2&&i[h-2]<=i[h]+i[h-1])i[h-1]<i[h+1]&&h--;else if(i[h]>i[h+1])break;c(h)}}function u(){for(;a>1;){var h=a-2;h>0&&i[h-1]<i[h+1]&&h--,c(h)}}function c(h){var p=r[h],m=i[h],g=r[h+1],y=i[h+1];i[h]=m+y,h===a-3&&(r[h+1]=r[h+2],i[h+1]=i[h+2]),a--;var _=E4(n[g],n,p,m,0,e);p+=_,m-=_,m!==0&&(y=M4(n[p+m-1],n,g,y,y-1,e),y!==0&&(m<=y?f(p,m,g,y):d(p,m,g,y)))}function f(h,p,m,g){var y=0;for(y=0;y<p;y++)s[y]=n[h+y];var _=0,S=m,A=h;if(n[A++]=n[S++],--g===0){for(y=0;y<p;y++)n[A+y]=s[_+y];return}if(p===1){for(y=0;y<g;y++)n[A+y]=n[S+y];n[A+g]=s[_];return}for(var M=t,E,D,I;;){E=0,D=0,I=!1;do if(e(n[S],s[_])<0){if(n[A++]=n[S++],D++,E=0,--g===0){I=!0;break}}else if(n[A++]=s[_++],E++,D=0,--p===1){I=!0;break}while((E|D)<M);if(I)break;do{if(E=E4(n[S],s,_,p,0,e),E!==0){for(y=0;y<E;y++)n[A+y]=s[_+y];if(A+=E,_+=E,p-=E,p<=1){I=!0;break}}if(n[A++]=n[S++],--g===0){I=!0;break}if(D=M4(s[_],n,S,g,0,e),D!==0){for(y=0;y<D;y++)n[A+y]=n[S+y];if(A+=D,S+=D,g-=D,g===0){I=!0;break}}if(n[A++]=s[_++],--p===1){I=!0;break}M--}while(E>=sw||D>=sw);if(I)break;M<0&&(M=0),M+=2}if(t=M,t<1&&(t=1),p===1){for(y=0;y<g;y++)n[A+y]=n[S+y];n[A+g]=s[_]}else{if(p===0)throw new Error;for(y=0;y<p;y++)n[A+y]=s[_+y]}}function d(h,p,m,g){var y=0;for(y=0;y<g;y++)s[y]=n[m+y];var _=h+p-1,S=g-1,A=m+g-1,M=0,E=0;if(n[A--]=n[_--],--p===0){for(M=A-(g-1),y=0;y<g;y++)n[M+y]=s[y];return}if(g===1){for(A-=p,_-=p,E=A+1,M=_+1,y=p-1;y>=0;y--)n[E+y]=n[M+y];n[A]=s[S];return}for(var D=t;;){var I=0,N=0,L=!1;do if(e(s[S],n[_])<0){if(n[A--]=n[_--],I++,N=0,--p===0){L=!0;break}}else if(n[A--]=s[S--],N++,I=0,--g===1){L=!0;break}while((I|N)<D);if(L)break;do{if(I=p-E4(s[S],n,h,p,p-1,e),I!==0){for(A-=I,_-=I,p-=I,E=A+1,M=_+1,y=I-1;y>=0;y--)n[E+y]=n[M+y];if(p===0){L=!0;break}}if(n[A--]=s[S--],--g===1){L=!0;break}if(N=g-M4(n[_],s,0,g,g-1,e),N!==0){for(A-=N,S-=N,g-=N,E=A+1,M=S+1,y=0;y<N;y++)n[E+y]=s[M+y];if(g<=1){L=!0;break}}if(n[A--]=n[_--],--p===0){L=!0;break}D--}while(I>=sw||N>=sw);if(L)break;D<0&&(D=0),D+=2}if(t=D,t<1&&(t=1),g===1){for(A-=p,_-=p,E=A+1,M=_+1,y=p-1;y>=0;y--)n[E+y]=n[M+y];n[A]=s[S]}else{if(g===0)throw new Error;for(M=A-(g-1),y=0;y<g;y++)n[M+y]=s[y]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:o}}function DR(n,e,t,r){t||(t=0),r||(r=n.length);var i=r-t;if(!(i<2)){var a=0;if(i<zae){a=Jj(n,t,r,e),Qj(n,t,r,t+a,e);return}var s=iwe(n,e),o=nwe(i);do{if(a=Jj(n,t,r,e),a<o){var l=i;l>o&&(l=o),Qj(n,t,t+l,t+a,e),a=l}s.pushRun(t,a),s.mergeRuns(),i-=a,t+=a}while(i!==0);s.forceMergeRuns()}}var vu=1,oT=2,A_=4,eW=!1;function D4(){eW||(eW=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function tW(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var awe=(function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=tW}return n.prototype.traverse=function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(t),r},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,e);r.length=this._displayListLen,DR(r,tW)},n.prototype._updateAndAddDisplayable=function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath(),a=t&&t.length,s=0,o=e.__clipPaths;if(!e.ignoreClip&&(a||i)){if(o||(o=e.__clipPaths=[]),a)for(var l=0;l<t.length;l++)o[s++]=t[l];for(var u=i,c=e;u;)u.parent=c,u.updateTransform(),o[s++]=u,c=u,u=u.getClipPath()}if(o&&(o.length=s),e.childrenRef){for(var f=e.childrenRef(),d=0;d<f.length;d++){var h=f[d];e.__dirty&&(h.__dirty|=vu),this._updateAndAddDisplayable(h,o,r)}e.__dirty=0}else{var p=e;isNaN(p.z)&&(D4(),p.z=0),isNaN(p.z2)&&(D4(),p.z2=0),isNaN(p.zlevel)&&(D4(),p.zlevel=0),this._displayList[this._displayListLen++]=p}var m=e.getDecalElement&&e.getDecalElement();m&&this._updateAndAddDisplayable(m,o,r);var g=e.getTextGuideLine();g&&this._updateAndAddDisplayable(g,o,r);var y=e.getTextContent();y&&this._updateAndAddDisplayable(y,o,r)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);return}var i=Cn(this._roots,e);i>=0&&this._roots.splice(i,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n})(),hN;hN=Zn.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var kT={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)))},elasticOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-kT.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?kT.bounceIn(n*2)*.5:kT.bounceOut(n*2-1)*.5+.5}},i3=Math.pow,Cv=Math.sqrt,pN=1e-8,Uae=1e-4,nW=Cv(3),a3=1/3,Nd=$v(),pc=$v(),K_=$v();function fv(n){return n>-pN&&n<pN}function Vae(n){return n>pN||n<-pN}function rs(n,e,t,r,i){var a=1-i;return a*a*(a*n+3*i*e)+i*i*(i*r+3*a*t)}function rW(n,e,t,r,i){var a=1-i;return 3*(((e-n)*a+2*(t-e)*i)*a+(r-t)*i*i)}function vN(n,e,t,r,i,a){var s=r+3*(e-t)-n,o=3*(t-e*2+n),l=3*(e-n),u=n-i,c=o*o-3*s*l,f=o*l-9*s*u,d=l*l-3*o*u,h=0;if(fv(c)&&fv(f))if(fv(o))a[0]=0;else{var p=-l/o;p>=0&&p<=1&&(a[h++]=p)}else{var m=f*f-4*c*d;if(fv(m)){var g=f/c,p=-o/s+g,y=-g/2;p>=0&&p<=1&&(a[h++]=p),y>=0&&y<=1&&(a[h++]=y)}else if(m>0){var _=Cv(m),S=c*o+1.5*s*(-f+_),A=c*o+1.5*s*(-f-_);S<0?S=-i3(-S,a3):S=i3(S,a3),A<0?A=-i3(-A,a3):A=i3(A,a3);var p=(-o-(S+A))/(3*s);p>=0&&p<=1&&(a[h++]=p)}else{var M=(2*c*o-3*s*f)/(2*Cv(c*c*c)),E=Math.acos(M)/3,D=Cv(c),I=Math.cos(E),p=(-o-2*D*I)/(3*s),y=(-o+D*(I+nW*Math.sin(E)))/(3*s),N=(-o+D*(I-nW*Math.sin(E)))/(3*s);p>=0&&p<=1&&(a[h++]=p),y>=0&&y<=1&&(a[h++]=y),N>=0&&N<=1&&(a[h++]=N)}}return h}function Gae(n,e,t,r,i){var a=6*t-12*e+6*n,s=9*e+3*r-3*n-9*t,o=3*e-3*n,l=0;if(fv(s)){if(Vae(a)){var u=-o/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*s*o;if(fv(c))i[0]=-a/(2*s);else if(c>0){var f=Cv(c),u=(-a+f)/(2*s),d=(-a-f)/(2*s);u>=0&&u<=1&&(i[l++]=u),d>=0&&d<=1&&(i[l++]=d)}}return l}function Lv(n,e,t,r,i,a){var s=(e-n)*i+n,o=(t-e)*i+e,l=(r-t)*i+t,u=(o-s)*i+s,c=(l-o)*i+o,f=(c-u)*i+u;a[0]=n,a[1]=s,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=r}function Hae(n,e,t,r,i,a,s,o,l,u,c){var f,d=.005,h=1/0,p,m,g,y;Nd[0]=l,Nd[1]=u;for(var _=0;_<1;_+=.05)pc[0]=rs(n,t,i,s,_),pc[1]=rs(e,r,a,o,_),g=Tv(Nd,pc),g<h&&(f=_,h=g);h=1/0;for(var S=0;S<32&&!(d<Uae);S++)p=f-d,m=f+d,pc[0]=rs(n,t,i,s,p),pc[1]=rs(e,r,a,o,p),g=Tv(pc,Nd),p>=0&&g<h?(f=p,h=g):(K_[0]=rs(n,t,i,s,m),K_[1]=rs(e,r,a,o,m),y=Tv(K_,Nd),m<=1&&y<h?(f=m,h=y):d*=.5);return c&&(c[0]=rs(n,t,i,s,f),c[1]=rs(e,r,a,o,f)),Cv(h)}function swe(n,e,t,r,i,a,s,o,l){for(var u=n,c=e,f=0,d=1/l,h=1;h<=l;h++){var p=h*d,m=rs(n,t,i,s,p),g=rs(e,r,a,o,p),y=m-u,_=g-c;f+=Math.sqrt(y*y+_*_),u=m,c=g}return f}function Rs(n,e,t,r){var i=1-r;return i*(i*n+2*r*e)+r*r*t}function a6(n,e,t,r){return 2*((1-r)*(e-n)+r*(t-e))}function owe(n,e,t,r,i){var a=n-2*e+t,s=2*(e-n),o=n-r,l=0;if(fv(a)){if(Vae(s)){var u=-o/s;u>=0&&u<=1&&(i[l++]=u)}}else{var c=s*s-4*a*o;if(fv(c)){var u=-s/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var f=Cv(c),u=(-s+f)/(2*a),d=(-s-f)/(2*a);u>=0&&u<=1&&(i[l++]=u),d>=0&&d<=1&&(i[l++]=d)}}return l}function jae(n,e,t){var r=n+t-2*e;return r===0?.5:(n-e)/r}function wC(n,e,t,r,i){var a=(e-n)*r+n,s=(t-e)*r+e,o=(s-a)*r+a;i[0]=n,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=t}function Wae(n,e,t,r,i,a,s,o,l){var u,c=.005,f=1/0;Nd[0]=s,Nd[1]=o;for(var d=0;d<1;d+=.05){pc[0]=Rs(n,t,i,d),pc[1]=Rs(e,r,a,d);var h=Tv(Nd,pc);h<f&&(u=d,f=h)}f=1/0;for(var p=0;p<32&&!(c<Uae);p++){var m=u-c,g=u+c;pc[0]=Rs(n,t,i,m),pc[1]=Rs(e,r,a,m);var h=Tv(pc,Nd);if(m>=0&&h<f)u=m,f=h;else{K_[0]=Rs(n,t,i,g),K_[1]=Rs(e,r,a,g);var y=Tv(K_,Nd);g<=1&&y<f?(u=g,f=y):c*=.5}}return l&&(l[0]=Rs(n,t,i,u),l[1]=Rs(e,r,a,u)),Cv(f)}function lwe(n,e,t,r,i,a,s){for(var o=n,l=e,u=0,c=1/s,f=1;f<=s;f++){var d=f*c,h=Rs(n,t,i,d),p=Rs(e,r,a,d),m=h-o,g=p-l;u+=Math.sqrt(m*m+g*g),o=h,l=p}return u}var uwe=/cubic-bezier\(([0-9,\.e ]+)\)/;function HU(n){var e=n&&uwe.exec(n);if(e){var t=e[1].split(","),r=+yu(t[0]),i=+yu(t[1]),a=+yu(t[2]),s=+yu(t[3]);if(isNaN(r+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:vN(0,r,a,1,l,o)&&rs(0,i,s,1,o[0])}}}var cwe=(function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Qi,this.ondestroy=e.ondestroy||Qi,this.onrestart=e.onrestart||Qi,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var r=this._life,i=e-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Xt(e)?e:kT[e]||HU(e)},n})(),Yae=(function(){function n(e){this.value=e}return n})(),fwe=(function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new Yae(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n})(),hb=(function(){function n(e){this._list=new fwe,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var r=this._list,i=this._map,a=null;if(i[e]==null){var s=r.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new Yae(t),o.key=e,r.insertEntry(o),i[e]=o}return a},n.prototype.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n})(),iW={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Cf(n){return n=Math.round(n),n<0?0:n>255?255:n}function dwe(n){return n=Math.round(n),n<0?0:n>360?360:n}function TC(n){return n<0?0:n>1?1:n}function RR(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?Cf(parseFloat(e)/100*255):Cf(parseInt(e,10))}function gp(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?TC(parseFloat(e)/100):TC(parseFloat(e))}function R4(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function dv(n,e,t){return n+(e-n)*t}function ic(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function s6(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var qae=new hb(20),s3=null;function M1(n,e){s3&&s6(s3,e),s3=qae.put(n,s3||e.slice())}function ko(n,e){if(n){e=e||[];var t=qae.get(n);if(t)return s6(e,t);n=n+"";var r=n.replace(/ /g,"").toLowerCase();if(r in iW)return s6(e,iW[r]),M1(n,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(r.slice(1,4),16);if(!(a>=0&&a<=4095)){ic(e,0,0,0,1);return}return ic(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),M1(n,e),e}else if(i===7||i===9){var a=parseInt(r.slice(1,7),16);if(!(a>=0&&a<=16777215)){ic(e,0,0,0,1);return}return ic(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(r.slice(7),16)/255:1),M1(n,e),e}return}var s=r.indexOf("("),o=r.indexOf(")");if(s!==-1&&o+1===i){var l=r.substr(0,s),u=r.substr(s+1,o-(s+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?ic(e,+u[0],+u[1],+u[2],1):ic(e,0,0,0,1);c=gp(u.pop());case"rgb":if(u.length>=3)return ic(e,RR(u[0]),RR(u[1]),RR(u[2]),u.length===3?c:gp(u[3])),M1(n,e),e;ic(e,0,0,0,1);return;case"hsla":if(u.length!==4){ic(e,0,0,0,1);return}return u[3]=gp(u[3]),o6(u,e),M1(n,e),e;case"hsl":if(u.length!==3){ic(e,0,0,0,1);return}return o6(u,e),M1(n,e),e;default:return}}ic(e,0,0,0,1)}}function o6(n,e){var t=(parseFloat(n[0])%360+360)%360/360,r=gp(n[1]),i=gp(n[2]),a=i<=.5?i*(r+1):i+r-i*r,s=i*2-a;return e=e||[],ic(e,Cf(R4(s,a,t+1/3)*255),Cf(R4(s,a,t)*255),Cf(R4(s,a,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function hwe(n){if(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),a=Math.max(e,t,r),s=a-i,o=(a+i)/2,l,u;if(s===0)l=0,u=0;else{o<.5?u=s/(a+i):u=s/(2-a-i);var c=((a-e)/6+s/2)/s,f=((a-t)/6+s/2)/s,d=((a-r)/6+s/2)/s;e===a?l=d-f:t===a?l=1/3+c-d:r===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,o];return n[3]!=null&&h.push(n[3]),h}}function mN(n,e){var t=ko(n);if(t){for(var r=0;r<3;r++)e<0?t[r]=t[r]*(1-e)|0:t[r]=(255-t[r])*e+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return yc(t,t.length===4?"rgba":"rgb")}}function pwe(n){var e=ko(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function LT(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){t=t||[];var r=n*(e.length-1),i=Math.floor(r),a=Math.ceil(r),s=e[i],o=e[a],l=r-i;return t[0]=Cf(dv(s[0],o[0],l)),t[1]=Cf(dv(s[1],o[1],l)),t[2]=Cf(dv(s[2],o[2],l)),t[3]=TC(dv(s[3],o[3],l)),t}}var vwe=LT;function jU(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){var r=n*(e.length-1),i=Math.floor(r),a=Math.ceil(r),s=ko(e[i]),o=ko(e[a]),l=r-i,u=yc([Cf(dv(s[0],o[0],l)),Cf(dv(s[1],o[1],l)),Cf(dv(s[2],o[2],l)),TC(dv(s[3],o[3],l))],"rgba");return t?{color:u,leftIndex:i,rightIndex:a,value:r}:u}}var mwe=jU;function yp(n,e,t,r){var i=ko(n);if(n)return i=hwe(i),e!=null&&(i[0]=dwe(Xt(e)?e(i[0]):e)),t!=null&&(i[1]=gp(Xt(t)?t(i[1]):t)),r!=null&&(i[2]=gp(Xt(r)?r(i[2]):r)),yc(o6(i),"rgba")}function CC(n,e){var t=ko(n);if(t&&e!=null)return t[3]=TC(e),yc(t,"rgba")}function yc(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function AC(n,e){var t=ko(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function gwe(){return yc([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var aW=new hb(100);function gN(n){if(Lt(n)){var e=aW.get(n);return e||(e=mN(n,-.1),aW.put(n,e)),e}else if(BA(n)){var t=at({},n);return t.colorStops=ht(n.colorStops,function(r){return{offset:r.offset,color:mN(r.color,-.1)}}),t}return n}const ywe=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:LT,fastMapToColor:vwe,lerp:jU,lift:mN,liftColor:gN,lum:AC,mapToColor:mwe,modifyAlpha:CC,modifyHSL:yp,parse:ko,parseCssFloat:gp,parseCssInt:RR,random:gwe,stringify:yc,toHex:pwe},Symbol.toStringTag,{value:"Module"}));var yN=Math.round;function MC(n){var e;if(!n||n==="transparent")n="none";else if(typeof n=="string"&&n.indexOf("rgba")>-1){var t=ko(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:n,opacity:e??1}}var sW=1e-4;function hv(n){return n<sW&&n>-sW}function o3(n){return yN(n*1e3)/1e3}function l6(n){return yN(n*1e4)/1e4}function xwe(n){return"matrix("+o3(n[0])+","+o3(n[1])+","+o3(n[2])+","+o3(n[3])+","+l6(n[4])+","+l6(n[5])+")"}var _we={left:"start",right:"end",center:"middle",middle:"middle"};function bwe(n,e,t){return t==="top"?n+=e/2:t==="bottom"&&(n-=e/2),n}function Swe(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}function wwe(n){var e=n.style,t=n.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function Xae(n){return n&&!!n.image}function Twe(n){return n&&!!n.svgElement}function WU(n){return Xae(n)||Twe(n)}function Zae(n){return n.type==="linear"}function Kae(n){return n.type==="radial"}function $ae(n){return n&&(n.type==="linear"||n.type==="radial")}function Kk(n){return"url(#"+n+")"}function Jae(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function Qae(n){var e=n.x||0,t=n.y||0,r=(n.rotation||0)*DT,i=Wt(n.scaleX,1),a=Wt(n.scaleY,1),s=n.skewX||0,o=n.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),r&&l.push("rotate("+r+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(s||o)&&l.push("skew("+yN(s*DT)+"deg, "+yN(o*DT)+"deg)"),l.join(" ")}var Cwe=(function(){return Zn.hasGlobalWindow&&Xt(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})(),u6=Array.prototype.slice;function np(n,e,t){return(e-n)*t+n}function N4(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=np(e[a],t[a],r);return n}function Awe(n,e,t,r){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){n[s]||(n[s]=[]);for(var o=0;o<a;o++)n[s][o]=np(e[s][o],t[s][o],r)}return n}function l3(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=e[a]+t[a]*r;return n}function oW(n,e,t,r){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){n[s]||(n[s]=[]);for(var o=0;o<a;o++)n[s][o]=e[s][o]+t[s][o]*r}return n}function Mwe(n,e){for(var t=n.length,r=e.length,i=t>r?e:n,a=Math.min(t,r),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(t,r);o++)i.push({offset:s.offset,color:s.color.slice()})}function Ewe(n,e,t){var r=n,i=e;if(!(!r.push||!i.push)){var a=r.length,s=i.length;if(a!==s){var o=a>s;if(o)r.length=s;else for(var l=a;l<s;l++)r.push(t===1?i[l]:u6.call(i[l]))}for(var u=r[0]&&r[0].length,l=0;l<r.length;l++)if(t===1)isNaN(r[l])&&(r[l]=i[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=i[l][c])}}function PT(n){if(eo(n)){var e=n.length;if(eo(n[0])){for(var t=[],r=0;r<e;r++)t.push(u6.call(n[r]));return t}return u6.call(n)}return n}function NR(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function Dwe(n){return eo(n&&n[0])?2:1}var u3=0,IR=1,ese=2,lT=3,c6=4,f6=5,lW=6;function uW(n){return n===c6||n===f6}function c3(n){return n===IR||n===ese}var ow=[0,0,0,0],Rwe=(function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,r){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=lW,l=t;if(eo(t)){var u=Dwe(t);o=u,(u===1&&!nr(t[0])||u===2&&!nr(t[0][0]))&&(s=!0)}else if(nr(t)&&!Zs(t))o=u3;else if(Lt(t))if(!isNaN(+t))o=u3;else{var c=ko(t);c&&(l=c,o=lT)}else if(BA(t)){var f=at({},l);f.colorStops=ht(t.colorStops,function(h){return{offset:h.offset,color:ko(h.color)}}),Zae(t)?o=c6:Kae(t)&&(o=f6),l=f}a===0?this.valType=o:(o!==this.valType||o===lW)&&(s=!0),this.discrete=this.discrete||s;var d={time:e,value:l,rawValue:t,percent:0};return r&&(d.easing=r,d.easingFunc=Xt(r)?r:kT[r]||HU(r)),i.push(d),d},n.prototype.prepare=function(e,t){var r=this.keyframes;this._needsSort&&r.sort(function(m,g){return m.time-g.time});for(var i=this.valType,a=r.length,s=r[a-1],o=this.discrete,l=c3(i),u=uW(i),c=0;c<a;c++){var f=r[c],d=f.value,h=s.value;f.percent=f.time/e,o||(l&&c!==a-1?Ewe(d,h,i):u&&Mwe(d.colorStops,h.colorStops))}if(!o&&i!==f6&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var p=r[0].value,c=0;c<a;c++)i===u3?r[c].additiveValue=r[c].value-p:i===lT?r[c].additiveValue=l3([],r[c].value,p,-1):c3(i)&&(r[c].additiveValue=i===IR?l3([],r[c].value,p,-1):oW([],r[c].value,p,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,u=a===lT,c,f=this._lastFr,d=Math.min,h,p;if(o===1)h=p=s[0];else{if(t<0)c=0;else if(t<this._lastFrP){var m=d(f+1,o-1);for(c=m;c>=0&&!(s[c].percent<=t);c--);c=d(c,o-2)}else{for(c=f;c<o&&!(s[c].percent>t);c++);c=d(c-1,o-2)}p=s[c+1],h=s[c]}if(h&&p){this._lastFr=c,this._lastFrP=t;var g=p.percent-h.percent,y=g===0?1:d((t-h.percent)/g,1);p.easingFunc&&(y=p.easingFunc(y));var _=r?this._additiveValue:u?ow:e[l];if((c3(a)||u)&&!_&&(_=this._additiveValue=[]),this.discrete)e[l]=y<1?h.rawValue:p.rawValue;else if(c3(a))a===IR?N4(_,h[i],p[i],y):Awe(_,h[i],p[i],y);else if(uW(a)){var S=h[i],A=p[i],M=a===c6;e[l]={type:M?"linear":"radial",x:np(S.x,A.x,y),y:np(S.y,A.y,y),colorStops:ht(S.colorStops,function(D,I){var N=A.colorStops[I];return{offset:np(D.offset,N.offset,y),color:NR(N4([],D.color,N.color,y))}}),global:A.global},M?(e[l].x2=np(S.x2,A.x2,y),e[l].y2=np(S.y2,A.y2,y)):e[l].r=np(S.r,A.r,y)}else if(u)N4(_,h[i],p[i],y),r||(e[l]=NR(_));else{var E=np(h[i],p[i],y);r?this._additiveValue=E:e[l]=E}r&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,r=this.propName,i=this._additiveValue;t===u3?e[r]=e[r]+i:t===lT?(ko(e[r],ow),l3(ow,ow,i,1),e[r]=NR(ow)):t===IR?l3(e[r],e[r],i,1):t===ese&&oW(e[r],e[r],i,1)},n})(),YU=(function(){function n(e,t,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){Wk("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,r){return this.whenWithKeys(e,t,$n(t),r)},n.prototype.whenWithKeys=function(e,t,r,i){for(var a=this._tracks,s=0;s<r.length;s++){var o=r[s],l=a[o];if(!l){l=a[o]=new Rwe(o);var u=void 0,c=this._getAdditiveTrack(o);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===lT&&u&&(u=NR(u))}else u=this._target[o];if(u==null)continue;e>0&&l.addKeyframe(0,PT(u),i),this._trackKeys.push(o)}l.addKeyframe(e,PT(t[o]),i)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,r=0;r<t;r++)e[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)e[t[r]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(e);a&&(t=a)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),u=o.keyframes,c=u.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var f=u[c-1];f&&(t._target[o.propName]=f.rawValue),o.setFinished()}else r.push(o)}if(r.length||this._force){var d=new cwe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){t._started=2;var p=t._additiveAnimators;if(p){for(var m=!1,g=0;g<p.length;g++)if(p[g]._clip){m=!0;break}m||(t._additiveAnimators=null)}for(var g=0;g<r.length;g++)r[g].step(t._target,h);var y=t._onframeCbs;if(y)for(var g=0;g<y.length;g++)y[g](t._target,h)},ondestroy:function(){t._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),e&&d.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return ht(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var s=r[e[a]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},n.prototype.saveTo=function(e,t,r){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[r?0:o.length-1];l&&(e[a]=PT(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||$n(e);for(var r=0;r<t.length;r++){var i=t[r],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n})();function I_(){return new Date().getTime()}var Nwe=(function(n){Si(e,n);function e(t){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,t=t||{},r.stage=t.stage||{},r}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(t){if(t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},e.prototype.update=function(t){for(var r=I_()-this._pausedTime,i=r-this._time,a=this._head;a;){var s=a.next,o=a.step(r,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=r,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function r(){t._running&&(hN(r),!t._paused&&t.update())}hN(r)},e.prototype.start=function(){this._running||(this._time=I_(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=I_(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=I_()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,r){r=r||{},this.start();var i=new YU(t,r.loop);return this.addAnimator(i),i},e})(Dc),Iwe=300,I4=Zn.domSupported,k4=(function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=ht(n,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i});return{mouse:n,touch:e,pointer:r}})(),cW={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},fW=!1;function d6(n){var e=n.pointerType;return e==="pen"||e==="touch"}function kwe(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function L4(n){n&&(n.zrByTouch=!0)}function Lwe(n,e){return oc(n.dom,new Pwe(n,e),!0)}function tse(n,e){for(var t=e,r=!1;t&&t.nodeType!==9&&!(r=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return r}var Pwe=(function(){function n(e,t){this.stopPropagation=Qi,this.stopImmediatePropagation=Qi,this.preventDefault=Qi,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n})(),ff={mousedown:function(n){n=oc(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=oc(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=oc(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=oc(this.dom,n);var e=n.toElement||n.relatedTarget;tse(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){fW=!0,n=oc(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){fW||(n=oc(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=oc(this.dom,n),L4(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),ff.mousemove.call(this,n),ff.mousedown.call(this,n)},touchmove:function(n){n=oc(this.dom,n),L4(n),this.handler.processGesture(n,"change"),ff.mousemove.call(this,n)},touchend:function(n){n=oc(this.dom,n),L4(n),this.handler.processGesture(n,"end"),ff.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<Iwe&&ff.click.call(this,n)},pointerdown:function(n){ff.mousedown.call(this,n)},pointermove:function(n){d6(n)||ff.mousemove.call(this,n)},pointerup:function(n){ff.mouseup.call(this,n)},pointerout:function(n){d6(n)||ff.mouseout.call(this,n)}};ie(["click","dblclick","contextmenu"],function(n){ff[n]=function(e){e=oc(this.dom,e),this.trigger(n,e)}});var h6={pointermove:function(n){d6(n)||h6.mousemove.call(this,n)},pointerup:function(n){h6.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function Owe(n,e){var t=e.domHandlers;Zn.pointerEventsSupported?ie(k4.pointer,function(r){kR(e,r,function(i){t[r].call(n,i)})}):(Zn.touchEventsSupported&&ie(k4.touch,function(r){kR(e,r,function(i){t[r].call(n,i),kwe(e)})}),ie(k4.mouse,function(r){kR(e,r,function(i){i=GU(i),e.touching||t[r].call(n,i)})}))}function Fwe(n,e){Zn.pointerEventsSupported?ie(cW.pointer,t):Zn.touchEventsSupported||ie(cW.mouse,t);function t(r){function i(a){a=GU(a),tse(n,a.target)||(a=Lwe(n,a),e.domHandlers[r].call(n,a))}kR(e,r,i,{capture:!0})}}function kR(n,e,t,r){n.mounted[e]=t,n.listenerOpts[e]=r,n6(n.domTarget,e,t,r)}function P4(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&j2e(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var dW=(function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n})(),Bwe=(function(n){Si(e,n);function e(t,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=r,i._localHandlerScope=new dW(t,ff),I4&&(i._globalHandlerScope=new dW(document,h6)),Owe(i,i._localHandlerScope),i}return e.prototype.dispose=function(){P4(this._localHandlerScope),I4&&P4(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,I4&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?Fwe(this,r):P4(r)}},e})(Dc),nse=1;Zn.hasGlobalWindow&&(nse=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var xN=nse,p6=.4,v6="#333",m6="#ccc",zwe="#eee",hW=VA,pW=5e-5;function ig(n){return n>pW||n<-pW}var ag=[],E1=[],O4=os(),F4=Math.abs,fp=(function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return ig(this.rotation)||ig(this.x)||ig(this.y)||ig(this.scaleX-1)||ig(this.scaleY-1)||ig(this.skewX)||ig(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;if(!(t||e)){r&&(hW(r),this.invTransform=null);return}r=r||os(),t?this.getLocalTransform(r):hW(r),e&&(t?Tf(r,e,r):GA(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(ag);var r=ag[0]<0?-1:1,i=ag[1]<0?-1:1,a=((ag[0]-r)*t+r)/ag[0]||0,s=((ag[1]-i)*t+i)/ag[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||os(),Tc(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||os(),Tf(E1,e.invTransform,t),t=E1);var r=this.originX,i=this.originY;(r||i)&&(O4[4]=r,O4[5]=i,Tf(E1,t,O4),E1[4]-=r,E1[5]-=i,t=E1),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var r=[e,t],i=this.invTransform;return i&&ea(r,r,i),r},n.prototype.transformCoordToGlobal=function(e,t){var r=[e,t],i=this.transform;return i&&ea(r,r,i),r},n.prototype.getLineScale=function(){var e=this.transform;return e&&F4(e[0]-1)>1e-10&&F4(e[3]-1)>1e-10?Math.sqrt(F4(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){_N(this,e)},n.getLocalTransform=function(e,t){t=t||[];var r=e.originX||0,i=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,f=e.y,d=e.skewX?Math.tan(e.skewX):0,h=e.skewY?Math.tan(-e.skewY):0;if(r||i||o||l){var p=r+o,m=i+l;t[4]=-p*a-d*m*s,t[5]=-m*s-h*p*a}else t[4]=t[5]=0;return t[0]=a,t[3]=s,t[1]=h*a,t[2]=d*s,u&&Wp(t,t,u),t[4]+=r+c,t[5]+=i+f,t},n.initDefaultProps=(function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0})(),n})(),Kd=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function _N(n,e){for(var t=0;t<Kd.length;t++){var r=Kd[t];n[r]=e[r]}}function Hd(n){f3||(f3=new hb(100)),n=n||Dp;var e=f3.get(n);return e||(e={font:n,strWidthCache:new hb(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:ql.measureText("",n).width,asciiCharWidth:ql.measureText("a",n).width},f3.put(n,e)),e}var f3;function Uwe(n){if(!(B4>=vW)){n=n||Dp;for(var e=[],t=+new Date,r=0;r<=127;r++)e[r]=ql.measureText(String.fromCharCode(r),n).width;var i=+new Date-t;return i>16?B4=vW:i>2&&B4++,e}}var B4=0,vW=5;function rse(n,e){return n.asciiWidthMapTried||(n.asciiWidthMap=Uwe(n.font),n.asciiWidthMapTried=!0),0<=e&&e<=127?n.asciiWidthMap!=null?n.asciiWidthMap[e]:n.asciiCharWidth:n.stWideCharWidth}function jd(n,e){var t=n.strWidthCache,r=t.get(e);return r==null&&(r=ql.measureText(e,n.font).width,t.put(e,r)),r}function mW(n,e,t,r){var i=jd(Hd(e),n),a=HA(e),s=pb(0,i,t),o=xy(0,a,r),l=new cn(s,o,i,a);return l}function $k(n,e,t,r){var i=((n||"")+"").split(`
`),a=i.length;if(a===1)return mW(i[0],e,t,r);for(var s=new cn(0,0,0,0),o=0;o<i.length;o++){var l=mW(i[o],e,t,r);o===0?s.copy(l):s.union(l)}return s}function pb(n,e,t,r){return t==="right"?r?n+=e:n-=e:t==="center"&&(r?n+=e/2:n-=e/2),n}function xy(n,e,t,r){return t==="middle"?r?n+=e/2:n-=e/2:t==="bottom"&&(r?n+=e:n-=e),n}function HA(n){return Hd(n).stWideCharWidth}function Nf(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function bN(n,e,t){var r=e.position||"inside",i=e.distance!=null?e.distance:5,a=t.height,s=t.width,o=a/2,l=t.x,u=t.y,c="left",f="top";if(r instanceof Array)l+=Nf(r[0],t.width),u+=Nf(r[1],t.height),c=null,f=null;else switch(r){case"left":l-=i,u+=o,c="right",f="middle";break;case"right":l+=i+s,u+=o,f="middle";break;case"top":l+=s/2,u-=i,c="center",f="bottom";break;case"bottom":l+=s/2,u+=a+i,c="center";break;case"inside":l+=s/2,u+=o,c="center",f="middle";break;case"insideLeft":l+=i,u+=o,f="middle";break;case"insideRight":l+=s-i,u+=o,c="right",f="middle";break;case"insideTop":l+=s/2,u+=i,c="center";break;case"insideBottom":l+=s/2,u+=a-i,c="center",f="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=s-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,f="bottom";break;case"insideBottomRight":l+=s-i,u+=a-i,c="right",f="bottom";break}return n=n||{},n.x=l,n.y=u,n.align=c,n.verticalAlign=f,n}var z4="__zr_normal__",U4=Kd.concat(["ignore"]),Vwe=wc(Kd,function(n,e){return n[e]=!0,n},{ignore:!1}),D1={},Gwe=new cn(0,0,0,0),d3=[],Jk=(function(){function n(e){this.id=BU(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=t.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var u=!1;a.copyTransform(t);var c=r.position!=null,f=r.autoOverflowArea,d=void 0;if((f||c)&&(d=Gwe,r.layoutRect?d.copy(r.layoutRect):d.copy(this.getBoundingRect()),i||d.applyTransform(this.transform)),c){this.calculateTextPosition?this.calculateTextPosition(D1,r,d):bN(D1,r,d),a.x=D1.x,a.y=D1.y,s=D1.align,o=D1.verticalAlign;var h=r.origin;if(h&&r.rotation!=null){var p=void 0,m=void 0;h==="center"?(p=d.width*.5,m=d.height*.5):(p=Nf(h[0],d.width),m=Nf(h[1],d.height)),u=!0,a.originX=-a.x+p+(i?0:d.x),a.originY=-a.y+m+(i?0:d.y)}}r.rotation!=null&&(a.rotation=r.rotation);var g=r.offset;g&&(a.x+=g[0],a.y+=g[1],u||(a.originX=-g[0],a.originY=-g[1]));var y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var _=y.overflowRect=y.overflowRect||new cn(0,0,0,0);a.getLocalTransform(d3),Tc(d3,d3),cn.copy(_,d),_.applyTransform(d3)}else y.overflowRect=null;var S=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,A=void 0,M=void 0,E=void 0;S&&this.canBeInsideText()?(A=r.insideFill,M=r.insideStroke,(A==null||A==="auto")&&(A=this.getInsideTextFill()),(M==null||M==="auto")&&(M=this.getInsideTextStroke(A),E=!0)):(A=r.outsideFill,M=r.outsideStroke,(A==null||A==="auto")&&(A=this.getOutsideFill()),(M==null||M==="auto")&&(M=this.getOutsideStroke(A),E=!0)),A=A||"#000",(A!==y.fill||M!==y.stroke||E!==y.autoStroke||s!==y.align||o!==y.verticalAlign)&&(l=!0,y.fill=A,y.stroke=M,y.autoStroke=E,y.align=s,y.verticalAlign=o,t.setDefaultTextStyle(y)),t.__dirty|=vu,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?m6:v6},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),r=typeof t=="string"&&ko(t);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*i+(a?0:255)*(1-i);return r[3]=1,yc(r,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},at(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(on(e))for(var r=e,i=$n(r),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,e[s])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==z4)){var s=i.targetName,o=s?t[s]:t;i.saveTo(o)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,U4)},n.prototype._savePrimaryToNormal=function(e,t,r){for(var i=0;i<r.length;i++){var a=r[i];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(z4,!1,e)},n.prototype.useState=function(e,t,r,i){var a=e===z4,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(Cn(o,e)>=0&&(t||o.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!a){Wk("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(e,t,r,c),d&&d.useState(e,t,r,c),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~vu),u}}},n.prototype.useStates=function(e,t,r){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(e[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&i.push(c)}var f=i[s-1],d=!!(f&&f.hoverLayer||r);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var m=this._textContent,g=this._textGuide;m&&m.useStates(e,t,d),g&&g.useStates(e,t,d),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~vu)}},n.prototype.isSilent=function(){for(var e=this;e;){if(e.silent)return!0;var t=e.__hostTarget;e=t?e.ignoreHostSilent?null:t:e.parent}return!1},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=Cn(this.currentStates,e);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},n.prototype.replaceState=function(e,t,r){var i=this.currentStates.slice(),a=Cn(i,e),s=Cn(i,t)>=0;a>=0?s?i.splice(a,1):i[a]=t:r&&!s&&i.push(t),this.useStates(i)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},r,i=0;i<e.length;i++){var a=e[i];at(t,a),a.textConfig&&(r=r||{},at(r,a.textConfig))}return r&&(t.textConfig=r),t},n.prototype._applyStateObj=function(e,t,r,i,a,s){var o=!(t&&i);t&&t.textConfig?(this.textConfig=at({},i?this.textConfig:r.textConfig),at(this.textConfig,t.textConfig)):o&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,c=0;c<U4.length;c++){var f=U4[c],d=a&&Vwe[f];t&&t[f]!=null?d?(u=!0,l[f]=t[f]):this[f]=t[f]:o&&r[f]!=null&&(d?(u=!0,l[f]=r[f]):this[f]=r[f])}if(!a)for(var c=0;c<this.animators.length;c++){var h=this.animators[c],p=h.targetName;h.getLoop()||h.__changeFinalValue(p?(t||r)[p]:t||r)}u&&this._transitionState(e,l,s)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new fp,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),at(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=vu;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=e),r&&(r.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,r){var i=e?this[e]:this,a=new YU(i,t,r);return e&&(a.targetName=e),this.addAnimator(a,e),a},n.prototype.addAnimator=function(e,t){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,s=Cn(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var r=this.animators,i=r.length,a=[],s=0;s<i;s++){var o=r[s];!e||e===o.scope?o.stop(t):a.push(o)}return this.animators=a,this},n.prototype.animateTo=function(e,t,r){V4(this,e,t,r)},n.prototype.animateFrom=function(e,t,r){V4(this,e,t,r,!0)},n.prototype._transitionState=function(e,t,r,i){for(var a=V4(this,t,r,i),s=0;s<a.length;s++)a[s].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=(function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.ignoreHostSilent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=vu;function t(r,i,a,s){Object.defineProperty(e,r,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(c){l[s]=c}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))})(),n})();ta(Jk,Dc);ta(Jk,fp);function V4(n,e,t,r,i){t=t||{};var a=[];ise(n,"",n,e,t,r,a,i);var s=a.length,o=!1,l=t.done,u=t.aborted,c=function(){o=!0,s--,s<=0&&(o?l&&l():u&&u())},f=function(){s--,s<=0&&(o?l&&l():u&&u())};s||l&&l(),a.length>0&&t.during&&a[0].during(function(p,m){t.during(m)});for(var d=0;d<a.length;d++){var h=a[d];c&&h.done(c),f&&h.aborted(f),t.force&&h.duration(t.duration),h.start(t.easing)}return a}function G4(n,e,t){for(var r=0;r<t;r++)n[r]=e[r]}function Hwe(n){return eo(n[0])}function jwe(n,e,t){if(eo(e[t]))if(eo(n[t])||(n[t]=[]),_l(e[t])){var r=e[t].length;n[t].length!==r&&(n[t]=new e[t].constructor(r),G4(n[t],e[t],r))}else{var i=e[t],a=n[t],s=i.length;if(Hwe(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?G4(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else G4(a,i,s);a.length=i.length}else n[t]=e[t]}function Wwe(n,e){return n===e||eo(n)&&eo(e)&&Ywe(n,e)}function Ywe(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function ise(n,e,t,r,i,a,s,o){for(var l=$n(r),u=i.duration,c=i.delay,f=i.additive,d=i.setToFinal,h=!on(a),p=n.animators,m=[],g=0;g<l.length;g++){var y=l[g],_=r[y];if(_!=null&&t[y]!=null&&(h||a[y]))if(on(_)&&!eo(_)&&!BA(_)){if(e){o||(t[y]=_,n.updateDuringAnimation(e));continue}ise(n,y,t[y],_,i,a&&a[y],s,o)}else m.push(y);else o||(t[y]=_,n.updateDuringAnimation(e),m.push(y))}var S=m.length;if(!f&&S)for(var A=0;A<p.length;A++){var M=p[A];if(M.targetName===e){var E=M.stopTracks(m);if(E){var D=Cn(p,M);p.splice(D,1)}}}if(i.force||(m=vr(m,function(B){return!Wwe(r[B],t[B])}),S=m.length),S>0||i.force&&!s.length){var I=void 0,N=void 0,L=void 0;if(o){N={},d&&(I={});for(var A=0;A<S;A++){var y=m[A];N[y]=t[y],d?I[y]=r[y]:t[y]=r[y]}}else if(d){L={};for(var A=0;A<S;A++){var y=m[A];L[y]=PT(t[y]),jwe(t,r,y)}}var M=new YU(t,!1,!1,f?vr(p,function(O){return O.targetName===e}):null);M.targetName=e,i.scope&&(M.scope=i.scope),d&&I&&M.whenWithKeys(0,I,m),L&&M.whenWithKeys(0,L,m),M.whenWithKeys(u??500,o?N:r,m).delay(c||0),n.addAnimator(M,e),s.push(M)}}var nn=(function(n){Si(e,n);function e(t){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,r){var i=Cn(this._children,t);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(t,r){var i=this._children,a=i[r];if(t&&t!==this&&t.parent!==this&&t!==a){i[r]=t,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(t){var r=this.__zr,i=this._children,a=Cn(i,t);return a<0?this:(i.splice(a,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var a=t[i];r&&a.removeSelfFromZr(r),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,r){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];t.call(r,s,a)}return this},e.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=t.call(r,a);a.isGroup&&!s&&a.traverse(t,r)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var r=new cn(0,0,0,0),i=t||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(cn.applyTransform(r,u,c),s=s||r.clone(),s.union(r)):(s=s||u.clone(),s.union(u))}}return s||r},e})(Jk);nn.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var LR={},oy={};function qwe(n){delete oy[n]}function Xwe(n){if(!n)return!1;if(typeof n=="string")return AC(n,1)<p6;if(n.colorStops){for(var e=n.colorStops,t=0,r=e.length,i=0;i<r;i++)t+=AC(e[i].color,1);return t/=r,t<p6}return!1}var Zwe=(function(){function n(e,t,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=e;var a=new awe,s=r.renderer||"canvas";LR[s]||(s=$n(LR)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var o=new LR[s](t,a,r,e),l=r.ssr||o.ssrOnly;this.storage=a,this.painter=o;var u=!Zn.node&&!Zn.worker&&!l?new Bwe(o.getViewportRoot(),o.root):null,c=r.useCoarsePointer,f=c==null||c==="auto"?Zn.touchEventsSupported:!!c,d=44,h;f&&(h=Wt(r.pointerSize,d)),this.handler=new Fae(a,o,u,o.root,h),this.animation=new Nwe({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},n.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=Xwe(e))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(e){var t,r=I_();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=I_();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},n.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},n.prototype.on=function(e,t,r){return this._disposed||this.handler.on(e,t,r),this},n.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},n.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},n.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof nn&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,qwe(this.id))},n})();function g6(n,e){var t=new Zwe(BU(),n,e);return oy[t.id]=t,t}function Kwe(n){n.dispose()}function $we(){for(var n in oy)oy.hasOwnProperty(n)&&oy[n].dispose();oy={}}function Jwe(n){return oy[n]}function ase(n,e){LR[n]=e}var y6;function sse(n){if(typeof y6=="function")return y6(n)}function ose(n){y6=n}var Qwe="6.0.0";const eTe=Object.freeze(Object.defineProperty({__proto__:null,dispose:Kwe,disposeAll:$we,getElementSSRData:sse,getInstance:Jwe,init:g6,registerPainter:ase,registerSSRDataGetter:ose,version:Qwe},Symbol.toStringTag,{value:"Module"}));var gW=1e-4,lse=20;function tTe(n){return n.replace(/^\s+|\s+$/g,"")}var wu=Math.min,fa=Math.max,Pd=Math.abs;function _r(n,e,t,r){var i=e[0],a=e[1],s=t[0],o=t[1],l=a-i,u=o-s;if(l===0)return u===0?s:(s+o)/2;if(r)if(l>0){if(n<=i)return s;if(n>=a)return o}else{if(n>=i)return s;if(n<=a)return o}else{if(n===i)return s;if(n===a)return o}return(n-i)/l*u+s}var kt=nTe;function nTe(n,e,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return SN(n,e,t)}function SN(n,e,t){return Lt(n)?tTe(n).match(/%$/)?parseFloat(n)/100*e+(t||0):parseFloat(n):n==null?NaN:+n}function da(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),lse),n=(+n).toFixed(e),t?n:+n}function xu(n){return n.sort(function(e,t){return e-t}),n}function yf(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return use(n)}function use(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),r=t>0?+e.slice(t+1):0,i=t>0?t:e.length,a=e.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-r)}function qU(n,e){var t=Math.log,r=Math.LN10,i=Math.floor(t(n[1]-n[0])/r),a=Math.round(t(Pd(e[1]-e[0]))/r),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function rTe(n,e,t){if(!n[e])return 0;var r=cse(n,t);return r[e]||0}function cse(n,e){var t=wc(n,function(h,p){return h+(isNaN(p)?0:p)},0);if(t===0)return[];for(var r=Math.pow(10,e),i=ht(n,function(h){return(isNaN(h)?0:h)/t*r*100}),a=r*100,s=ht(i,function(h){return Math.floor(h)}),o=wc(s,function(h,p){return h+p},0),l=ht(i,function(h,p){return h-s[p]});o<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,d=l.length;f<d;++f)l[f]>u&&(u=l[f],c=f);++s[c],l[c]=0,++o}return ht(s,function(h){return h/r})}function iTe(n,e){var t=Math.max(yf(n),yf(e)),r=n+e;return t>lse?r:da(r,t)}var x6=9007199254740991;function XU(n){var e=Math.PI*2;return(n%e+e)%e}function vb(n){return n>-gW&&n<gW}var aTe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ih(n){if(n instanceof Date)return n;if(Lt(n)){var e=aTe.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function fse(n){return Math.pow(10,Qk(n))}function Qk(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function ZU(n,e){var t=Qk(n),r=Math.pow(10,t),i=n/r,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,n=a*r,t>=-20?+n.toFixed(t<0?-t:0):n}function PR(n,e){var t=(n.length-1)*e+1,r=Math.floor(t),i=+n[r-1],a=t-r;return a?i+a*(n[r]-i):i}function _6(n){n.sort(function(l,u){return o(l,u,0)?-1:1});for(var e=-1/0,t=1,r=0;r<n.length;){for(var i=n[r].interval,a=n[r].close,s=0;s<2;s++)i[s]<=e&&(i[s]=e,a[s]=s?1:1-t),e=i[s],t=a[s];i[0]===i[1]&&a[0]*a[1]!==1?n.splice(r,1):r++}return n;function o(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&o(l,u,1))}}function $d(n){var e=parseFloat(n);return e==n&&(e!==0||!Lt(n)||n.indexOf("x")<=0)?e:NaN}function KU(n){return!isNaN($d(n))}function dse(){return Math.round(Math.random()*9)}function hse(n,e){return e===0?n:hse(e,n%e)}function yW(n,e){return n==null?e:e==null?n:n*e/hse(n,e)}var sTe="[ECharts] ",oTe=typeof console<"u"&&console.warn&&console.log;function lTe(n,e,t){oTe&&console[n](sTe+e)}function pse(n,e){lTe("error",n)}function br(n){throw new Error(n)}function xW(n,e,t){return(e-n)*t+n}var vse="series\0",mse="\0_ec_\0";function ni(n){return n instanceof Array?n:n==null?[]:[n]}function Ly(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var r=0,i=t.length;r<i;r++){var a=t[r];!n.emphasis[e].hasOwnProperty(a)&&n[e].hasOwnProperty(a)&&(n.emphasis[e][a]=n[e][a])}}}var _W=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Zb(n){return on(n)&&!ft(n)&&!(n instanceof Date)?n.value:n}function uTe(n){return on(n)&&!(n instanceof Array)}function gse(n,e,t){var r=t==="normalMerge",i=t==="replaceMerge",a=t==="replaceAll";n=n||[],e=(e||[]).slice();var s=jt();ie(e,function(l,u){if(!on(l)){e[u]=null;return}});var o=cTe(n,s,t);return(r||i)&&fTe(o,n,s,e),r&&dTe(o,e),r||i?hTe(o,e,i):a&&pTe(o,e),vTe(o),o}function cTe(n,e,t){var r=[];if(t==="replaceAll")return r;for(var i=0;i<n.length;i++){var a=n[i];a&&a.id!=null&&e.set(a.id,i),r.push({existing:t==="replaceMerge"||EC(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function fTe(n,e,t,r){ie(r,function(i,a){if(!(!i||i.id==null)){var s=OT(i.id),o=t.get(s);if(o!=null){var l=n[o];to(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=e[o],r[a]=null}}})}function dTe(n,e){ie(e,function(t,r){if(!(!t||t.name==null))for(var i=0;i<n.length;i++){var a=n[i].existing;if(!n[i].newOption&&a&&(a.id==null||t.id==null)&&!EC(t)&&!EC(a)&&yse("name",a,t)){n[i].newOption=t,e[r]=null;return}}})}function hTe(n,e,t){ie(e,function(r){if(r){for(var i,a=0;(i=n[a])&&(i.newOption||EC(i.existing)||i.existing&&r.id!=null&&!yse("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=t):n.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),a++}})}function pTe(n,e){ie(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function vTe(n){var e=jt();ie(n,function(t){var r=t.existing;r&&e.set(r.id,t)}),ie(n,function(t){var r=t.newOption;to(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),ie(n,function(t,r){var i=t.existing,a=t.newOption,s=t.keyInfo;if(on(a)){if(s.name=a.name!=null?OT(a.name):i?i.name:vse+r,i)s.id=OT(i.id);else if(a.id!=null)s.id=OT(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,t)}})}function yse(n,e,t){var r=ja(e[n],null),i=ja(t[n],null);return r!=null&&i!=null&&r===i}function OT(n){return ja(n,"")}function ja(n,e){return n==null?e:Lt(n)?n:nr(n)||uN(n)?n+"":e}function $U(n){var e=n.name;return!!(e&&e.indexOf(vse))}function EC(n){return n&&n.id!=null&&OT(n.id).indexOf(mse)===0}function mTe(n){return mse+n}function gTe(n,e,t){ie(n,function(r){var i=r.newOption;on(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=yTe(e,i,r.existing,t))})}function yTe(n,e,t,r){var i=e.type?e.type:t?t.subType:r.determineSubType(n,e);return i}function xTe(n,e){var t={},r={};return i(n||[],t),i(e||[],r,t),[a(t),a(r)];function i(s,o,l){for(var u=0,c=s.length;u<c;u++){var f=ja(s[u].seriesId,null);if(f==null)return;for(var d=ni(s[u].dataIndex),h=l&&l[f],p=0,m=d.length;p<m;p++){var g=d[p];h&&h[g]?h[g]=null:(o[f]||(o[f]={}))[g]=1}}}function a(s,o){var l=[];for(var u in s)if(s.hasOwnProperty(u)&&s[u]!=null)if(o)l.push(+u);else{var c=a(s[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Py(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return ft(e.dataIndex)?ht(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return ft(e.name)?ht(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function Un(){var n="__ec_inner_"+_Te++;return function(e){return e[n]||(e[n]={})}}var _Te=dse();function $_(n,e,t){var r=JU(e,t),i=r.mainTypeSpecified,a=r.queryOptionMap,s=r.others,o=s,l=t?t.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var f=Kb(n,c,u,{useDefault:l===c,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});o[c+"Models"]=f.models,o[c+"Model"]=f.models[0]}),o}function JU(n,e){var t;if(Lt(n)){var r={};r[n+"Index"]=0,t=r}else t=n;var i=jt(),a={},s=!1;return ie(t,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||e&&e.includeMainTypes&&Cn(e.includeMainTypes,c)<0)){s=s||!!c;var d=i.get(c)||i.set(c,{});d[f]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var Hi={useDefault:!0,enableAll:!1,enableNone:!1},bTe={useDefault:!1,enableAll:!0,enableNone:!0};function Kb(n,e,t,r){r=r||Hi;var i=t.index,a=t.id,s=t.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=r.useDefault&&(l=n.getComponent(e))?[l]:[],o}if(i==="none"||i===!1){if(r.enableNone)return o.models=[],o;i=-1}return i==="all"&&(r.enableAll?i=a=s=null:i=-1),o.models=n.queryComponents({mainType:e,index:i,id:a,name:s}),o}function xse(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function STe(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function wTe(n){return n==="auto"?Zn.domSupported?"html":"richText":n||"html"}function b6(n,e){var t=jt(),r=[];return ie(n,function(i){var a=e(i);(t.get(a)||(r.push(a),t.set(a,[]))).push(i)}),{keys:r,buckets:t}}function _se(n,e,t,r,i){var a=e==null||e==="auto";if(r==null)return r;if(nr(r)){var s=xW(t||0,r,i);return da(s,a?Math.max(yf(t||0),yf(r)):e)}else{if(Lt(r))return i<1?t:r;for(var o=[],l=t,u=r,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var d=n.getDimensionInfo(f);if(d&&d.type==="ordinal")o[f]=(i<1&&l?l:u)[f];else{var h=l&&l[f]?l[f]:0,p=u[f],s=xW(h,p,i);o[f]=da(s,a?Math.max(yf(h),yf(p)):e)}}return o}}var Av=(function(){function n(){}return n.prototype.reset=function(e,t,r,i){return this._list=e,this._step=i=i||1,this._idx=t,this._end=r??(i>0?e.length:0),this.item=null,this.key=NaN,this},n.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},n})();function H4(n){n.option=n.parentModel=n.ecModel=null}var TTe=".",sg="___EC__COMPONENT__CONTAINER___",bse="___EC__EXTENDED_CLASS___";function Od(n){var e={main:"",sub:""};if(n){var t=n.split(TTe);e.main=t[0]||"",e.sub=t[1]||""}return e}function CTe(n){to(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function ATe(n){return!!(n&&n[bse])}function QU(n,e){n.$constructor=n,n.extend=function(t){var r=this,i;return MTe(r)?i=(function(a){Xe(s,a);function s(){return a.apply(this,arguments)||this}return s})(r):(i=function(){(t.$constructor||r).apply(this,arguments)},zU(i,this)),at(i.prototype,t),i[bse]=!0,i.extend=this.extend,i.superCall=RTe,i.superApply=NTe,i.superClass=r,i}}function MTe(n){return Xt(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function Sse(n,e){n.extend=e.extend}var ETe=Math.round(Math.random()*10);function DTe(n){var e=["__\0is_clz",ETe++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function RTe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[e].apply(n,t)}function NTe(n,e,t){return this.superClass.prototype[e].apply(n,t)}function eL(n){var e={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){CTe(i),r.prototype.type=i;var a=Od(i);if(!a.sub)e[a.main]=r;else if(a.sub!==sg){var s=t(a);s[a.sub]=r}}return r},n.getClass=function(r,i,a){var s=e[r];if(s&&s[sg]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return s},n.getClassesByMainType=function(r){var i=Od(r),a=[],s=e[i.main];return s&&s[sg]?ie(s,function(o,l){l!==sg&&a.push(o)}):a.push(s),a},n.hasClass=function(r){var i=Od(r);return!!e[i.main]},n.getAllClassMainTypes=function(){var r=[];return ie(e,function(i,a){r.push(a)}),r},n.hasSubTypes=function(r){var i=Od(r),a=e[i.main];return a&&a[sg]};function t(r){var i=e[r.main];return(!i||!i[sg])&&(i=e[r.main]={},i[sg]=!0),i}}function Oy(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(r,i,a){for(var s={},o=0;o<n.length;o++){var l=n[o][1];if(!(i&&Cn(i,l)>=0||a&&Cn(a,l)<0)){var u=r.getShallow(l,e);u!=null&&(s[n[o][0]]=u)}}return s}}var ITe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],kTe=Oy(ITe),LTe=(function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return kTe(this,e,t)},n})(),S6=new hb(50);function PTe(n){if(typeof n=="string"){var e=S6.get(n);return e&&e.image}else return n}function eV(n,e,t,r,i){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var a=S6.get(n),s={hostEl:t,cb:r,cbPayload:i};return a?(e=a.image,!tL(e)&&a.pending.push(s)):(e=ql.loadImage(n,bW,bW),e.__zrImageSrc=n,S6.put(n,e.__cachedImgObj={image:e,pending:[s]})),e}else return n;else return e}function bW(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function tL(n){return n&&n.width&&n.height}var j4=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function OTe(n,e,t,r,i){var a={};return wse(a,n,e,t,r,i),a.text}function wse(n,e,t,r,i,a){if(!t){n.text="",n.isTruncated=!1;return}var s=(e+"").split(`
`);a=Tse(t,r,i,a);for(var o=!1,l={},u=0,c=s.length;u<c;u++)Cse(l,s[u],a),s[u]=l.textLine,o=o||l.isTruncated;n.text=s.join(`
`),n.isTruncated=o}function Tse(n,e,t,r){r=r||{};var i=at({},r);t=Wt(t,"..."),i.maxIterations=Wt(r.maxIterations,2);var a=i.minChar=Wt(r.minChar,0),s=i.fontMeasureInfo=Hd(e),o=s.asciiCharWidth;i.placeholder=Wt(r.placeholder,"");for(var l=n=Math.max(0,n-1),u=0;u<a&&l>=o;u++)l-=o;var c=jd(s,t);return c>l&&(t="",c=0),l=n-c,i.ellipsis=t,i.ellipsisWidth=c,i.contentWidth=l,i.containerWidth=n,i}function Cse(n,e,t){var r=t.containerWidth,i=t.contentWidth,a=t.fontMeasureInfo;if(!r){n.textLine="",n.isTruncated=!1;return}var s=jd(a,e);if(s<=r){n.textLine=e,n.isTruncated=!1;return}for(var o=0;;o++){if(s<=i||o>=t.maxIterations){e+=t.ellipsis;break}var l=o===0?FTe(e,i,a):s>0?Math.floor(e.length*i/s):0;e=e.substr(0,l),s=jd(a,e)}e===""&&(e=t.placeholder),n.textLine=e,n.isTruncated=!0}function FTe(n,e,t){for(var r=0,i=0,a=n.length;i<a&&r<e;i++)r+=rse(t,n.charCodeAt(i));return i}function BTe(n,e,t,r){var i=tV(n),a=e.overflow,s=e.padding,o=s?s[1]+s[3]:0,l=s?s[0]+s[2]:0,u=e.font,c=a==="truncate",f=HA(u),d=Wt(e.lineHeight,f),h=e.lineOverflow==="truncate",p=!1,m=e.width;m==null&&t!=null&&(m=t-o);var g=e.height;g==null&&r!=null&&(g=r-l);var y;m!=null&&(a==="break"||a==="breakAll")?y=i?Ase(i,e.font,m,a==="breakAll",0).lines:[]:y=i?i.split(`
`):[];var _=y.length*d;if(g==null&&(g=_),_>g&&h){var S=Math.floor(g/d);p=p||y.length>S,y=y.slice(0,S),_=y.length*d}if(i&&c&&m!=null)for(var A=Tse(m,u,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),M={},E=0;E<y.length;E++)Cse(M,y[E],A),y[E]=M.textLine,p=p||M.isTruncated;for(var D=g,I=0,N=Hd(u),E=0;E<y.length;E++)I=Math.max(jd(N,y[E]),I);m==null&&(m=I);var L=m;return D+=l,L+=o,{lines:y,height:g,outerWidth:L,outerHeight:D,lineHeight:d,calculatedLineHeight:f,contentWidth:I,contentHeight:_,width:m,isTruncated:p}}var zTe=(function(){function n(){}return n})(),SW=(function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n})(),UTe=(function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return n})();function VTe(n,e,t,r,i){var a=new UTe,s=tV(n);if(!s)return a;var o=e.padding,l=o?o[1]+o[3]:0,u=o?o[0]+o[2]:0,c=e.width;c==null&&t!=null&&(c=t-l);var f=e.height;f==null&&r!=null&&(f=r-u);for(var d=e.overflow,h=(d==="break"||d==="breakAll")&&c!=null?{width:c,accumWidth:0,breakAll:d==="breakAll"}:null,p=j4.lastIndex=0,m;(m=j4.exec(s))!=null;){var g=m.index;g>p&&W4(a,s.substring(p,g),e,h),W4(a,m[2],e,h,m[1]),p=j4.lastIndex}p<s.length&&W4(a,s.substring(p,s.length),e,h);var y=[],_=0,S=0,A=d==="truncate",M=e.lineOverflow==="truncate",E={};function D(ce,ve,xe){ce.width=ve,ce.lineHeight=xe,_+=xe,S=Math.max(S,ve)}e:for(var I=0;I<a.lines.length;I++){for(var N=a.lines[I],L=0,B=0,O=0;O<N.tokens.length;O++){var G=N.tokens[O],V=G.styleName&&e.rich[G.styleName]||{},q=G.textPadding=V.padding,W=q?q[1]+q[3]:0,Z=G.font=V.font||e.font;G.contentHeight=HA(Z);var X=Wt(V.height,G.contentHeight);if(G.innerHeight=X,q&&(X+=q[0]+q[2]),G.height=X,G.lineHeight=Yl(V.lineHeight,e.lineHeight,X),G.align=V&&V.align||i,G.verticalAlign=V&&V.verticalAlign||"middle",M&&f!=null&&_+G.lineHeight>f){var K=a.lines.length;O>0?(N.tokens=N.tokens.slice(0,O),D(N,B,L),a.lines=a.lines.slice(0,I+1)):a.lines=a.lines.slice(0,I),a.isTruncated=a.isTruncated||a.lines.length<K;break e}var se=V.width,J=se==null||se==="auto";if(typeof se=="string"&&se.charAt(se.length-1)==="%")G.percentWidth=se,y.push(G),G.contentWidth=jd(Hd(Z),G.text);else{if(J){var H=V.backgroundColor,ee=H&&H.image;ee&&(ee=PTe(ee),tL(ee)&&(G.width=Math.max(G.width,ee.width*X/ee.height)))}var Q=A&&c!=null?c-B:null;Q!=null&&Q<G.width?!J||Q<W?(G.text="",G.width=G.contentWidth=0):(wse(E,G.text,Q-W,Z,e.ellipsis,{minChar:e.truncateMinChar}),G.text=E.text,a.isTruncated=a.isTruncated||E.isTruncated,G.width=G.contentWidth=jd(Hd(Z),G.text)):G.contentWidth=jd(Hd(Z),G.text)}G.width+=W,B+=G.width,V&&(L=Math.max(L,G.lineHeight))}D(N,B,L)}a.outerWidth=a.width=Wt(c,S),a.outerHeight=a.height=Wt(f,_),a.contentHeight=_,a.contentWidth=S,a.outerWidth+=l,a.outerHeight+=u;for(var I=0;I<y.length;I++){var G=y[I],ne=G.percentWidth;G.width=parseInt(ne,10)/100*a.width}return a}function W4(n,e,t,r,i){var a=e==="",s=i&&t.rich[i]||{},o=n.lines,l=s.font||t.font,u=!1,c,f;if(r){var d=s.padding,h=d?d[1]+d[3]:0;if(s.width!=null&&s.width!=="auto"){var p=Nf(s.width,r.width)+h;o.length>0&&p+r.accumWidth>r.width&&(c=e.split(`
`),u=!0),r.accumWidth=p}else{var m=Ase(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=m.accumWidth+h,f=m.linesWidths,c=m.lines}}c||(c=e.split(`
`));for(var g=Hd(l),y=0;y<c.length;y++){var _=c[y],S=new zTe;if(S.styleName=i,S.text=_,S.isLineHolder=!_&&!a,typeof s.width=="number"?S.width=s.width:S.width=f?f[y]:jd(g,_),!y&&!u){var A=(o[o.length-1]||(o[0]=new SW)).tokens,M=A.length;M===1&&A[0].isLineHolder?A[0]=S:(_||!M||a)&&A.push(S)}else o.push(new SW([S]))}}function GTe(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var HTe=wc(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function jTe(n){return GTe(n)?!!HTe[n]:!0}function Ase(n,e,t,r,i){for(var a=[],s=[],o="",l="",u=0,c=0,f=Hd(e),d=0;d<n.length;d++){var h=n.charAt(d);if(h===`
`){l&&(o+=l,c+=u),a.push(o),s.push(c),o="",l="",u=0,c=0;continue}var p=rse(f,h.charCodeAt(0)),m=r?!1:!jTe(h);if(a.length?c+p>t:i+c+p>t){c?(o||l)&&(m?(o||(o=l,l="",u=0,c=u),a.push(o),s.push(c-u),l+=h,u+=p,o="",c=u):(l&&(o+=l,l="",u=0),a.push(o),s.push(c),o=h,c=p)):m?(a.push(l),s.push(u),l=h,u=p):(a.push(h),s.push(p));continue}c+=p,m?(l+=h,u+=p):(l&&(o+=l,l="",u=0),o+=h)}return l&&(o+=l),o&&(a.push(o),s.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:s}}function wW(n,e,t,r,i,a){if(n.baseX=t,n.baseY=r,n.outerWidth=n.outerHeight=null,!!e){var s=e.width*2,o=e.height*2;cn.set(TW,pb(t,s,i),xy(r,o,a),s,o),cn.intersect(e,TW,null,CW);var l=CW.outIntersectRect;n.outerWidth=l.width,n.outerHeight=l.height,n.baseX=pb(l.x,l.width,i,!0),n.baseY=xy(l.y,l.height,a,!0)}}var TW=new cn(0,0,0,0),CW={outIntersectRect:{},clamp:!0};function tV(n){return n!=null?n+="":n=""}function WTe(n){var e=tV(n.text),t=n.font,r=jd(Hd(t),e),i=HA(t);return w6(n,r,i,null)}function w6(n,e,t,r){var i=new cn(pb(n.x||0,e,n.textAlign),xy(n.y||0,t,n.textBaseline),e,t),a=r??(Mse(n)?n.lineWidth:0);return a>0&&(i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a),i}function Mse(n){var e=n.stroke;return e!=null&&e!=="none"&&n.lineWidth>0}var T6="__zr_style_"+Math.round(Math.random()*10),_y={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},nL={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};_y[T6]=!0;var AW=["z","z2","invisible"],YTe=["invisible"],Cc=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var r=$n(t),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(t[a]):n.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,r,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&qTe(this,t,r)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths&&this.__clipPaths.length){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,r){return this.rectContain(t,r)},e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new cn(0,0,0,0)),r?cn.applyTransform(t,i,r):t.copy(i),(s||o||l)&&(t.width+=s*2+Math.abs(o),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+o-s),t.y=Math.min(t.y,t.y+l-s));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+u*2),t.height=Math.ceil(t.height+1+u*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new cn(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,r){t!=="style"?n.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,r){return typeof t=="string"?this.style[t]=r:at(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=oT,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&oT)},e.prototype.styleUpdated=function(){this.__dirty&=~oT},e.prototype.createStyle=function(t){return UA(_y,t)},e.prototype.useStyle=function(t){t[T6]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[T6]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,AW)},e.prototype._applyStateObj=function(t,r,i,a,s,o){n.prototype._applyStateObj.call(this,t,r,i,a,s,o);var l=!(r&&a),u;if(r&&r.style?s?a?u=r.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,r.style)):l&&(u=i.style),u)if(s){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=$n(c),d=0;d<f.length;d++){var h=f[d];h in u&&(u[h]=u[h],this.style[h]=c[h])}for(var p=$n(u),d=0;d<p.length;d++){var h=p[d];this.style[h]=this.style[h]}this._transitionState(t,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);for(var m=this.__inHover?YTe:AW,d=0;d<m.length;d++){var h=m[d];r&&r[h]!=null?this[h]=r[h]:l&&i[h]!=null&&(this[h]=i[h])}},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(t,r){return at(t,r),t},e.prototype.getAnimationStyleProps=function(){return nL},e.initDefaultProps=(function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=vu|oT})(),e})(Jk),Y4=new cn(0,0,0,0),q4=new cn(0,0,0,0);function qTe(n,e,t){return Y4.copy(n.getBoundingRect()),n.transform&&Y4.applyTransform(n.transform),q4.width=e,q4.height=t,!Y4.intersect(q4)}var zl=Math.min,Ul=Math.max,X4=Math.sin,Z4=Math.cos,og=Math.PI*2,h3=$v(),p3=$v(),v3=$v();function rL(n,e,t){if(n.length!==0){for(var r=n[0],i=r[0],a=r[0],s=r[1],o=r[1],l=1;l<n.length;l++)r=n[l],i=zl(i,r[0]),a=Ul(a,r[0]),s=zl(s,r[1]),o=Ul(o,r[1]);e[0]=i,e[1]=s,t[0]=a,t[1]=o}}function MW(n,e,t,r,i,a){i[0]=zl(n,t),i[1]=zl(e,r),a[0]=Ul(n,t),a[1]=Ul(e,r)}var EW=[],DW=[];function XTe(n,e,t,r,i,a,s,o,l,u){var c=Gae,f=rs,d=c(n,t,i,s,EW);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<d;h++){var p=f(n,t,i,s,EW[h]);l[0]=zl(p,l[0]),u[0]=Ul(p,u[0])}d=c(e,r,a,o,DW);for(var h=0;h<d;h++){var m=f(e,r,a,o,DW[h]);l[1]=zl(m,l[1]),u[1]=Ul(m,u[1])}l[0]=zl(n,l[0]),u[0]=Ul(n,u[0]),l[0]=zl(s,l[0]),u[0]=Ul(s,u[0]),l[1]=zl(e,l[1]),u[1]=Ul(e,u[1]),l[1]=zl(o,l[1]),u[1]=Ul(o,u[1])}function ZTe(n,e,t,r,i,a,s,o){var l=jae,u=Rs,c=Ul(zl(l(n,t,i),1),0),f=Ul(zl(l(e,r,a),1),0),d=u(n,t,i,c),h=u(e,r,a,f);s[0]=zl(n,i,d),s[1]=zl(e,a,h),o[0]=Ul(n,i,d),o[1]=Ul(e,a,h)}function KTe(n,e,t,r,i,a,s,o,l){var u=up,c=cp,f=Math.abs(i-a);if(f%og<1e-4&&f>1e-4){o[0]=n-t,o[1]=e-r,l[0]=n+t,l[1]=e+r;return}if(h3[0]=Z4(i)*t+n,h3[1]=X4(i)*r+e,p3[0]=Z4(a)*t+n,p3[1]=X4(a)*r+e,u(o,h3,p3),c(l,h3,p3),i=i%og,i<0&&(i=i+og),a=a%og,a<0&&(a=a+og),i>a&&!s?a+=og:i<a&&s&&(i+=og),s){var d=a;a=i,i=d}for(var h=0;h<a;h+=Math.PI/2)h>i&&(v3[0]=Z4(h)*t+n,v3[1]=X4(h)*r+e,u(o,v3,o),c(l,v3,l))}var oi={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},lg=[],ug=[],gd=[],P0=[],yd=[],xd=[],K4=Math.min,$4=Math.max,cg=Math.cos,fg=Math.sin,zh=Math.abs,C6=Math.PI,ev=C6*2,J4=typeof Float32Array<"u",lw=[];function Q4(n){var e=Math.round(n/C6*1e8)/1e8;return e%2*C6}function iL(n,e){var t=Q4(n[0]);t<0&&(t+=ev);var r=t-n[0],i=n[1];i+=r,!e&&i-t>=ev?i=t+ev:e&&t-i>=ev?i=t-ev:!e&&t>i?i=t+(ev-Q4(t-i)):e&&t<i&&(i=t-(ev-Q4(i-t))),n[0]=t,n[1]=i}var Jd=(function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,r){r=r||0,r>0&&(this._ux=zh(r/xN/e)||0,this._uy=zh(r/xN/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(oi.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var r=zh(e-this._xi),i=zh(t-this._yi),a=r>this._ux||i>this._uy;if(this.addData(oi.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=r*r+i*i;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},n.prototype.bezierCurveTo=function(e,t,r,i,a,s){return this._drawPendingPt(),this.addData(oi.C,e,t,r,i,a,s),this._ctx&&this._ctx.bezierCurveTo(e,t,r,i,a,s),this._xi=a,this._yi=s,this},n.prototype.quadraticCurveTo=function(e,t,r,i){return this._drawPendingPt(),this.addData(oi.Q,e,t,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(e,t,r,i,a,s){this._drawPendingPt(),lw[0]=i,lw[1]=a,iL(lw,s),i=lw[0],a=lw[1];var o=a-i;return this.addData(oi.A,e,t,r,r,i,o,0,s?0:1),this._ctx&&this._ctx.arc(e,t,r,i,a,s),this._xi=cg(a)*r+e,this._yi=fg(a)*r+t,this},n.prototype.arcTo=function(e,t,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,r,i,a),this},n.prototype.rect=function(e,t,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,r,i),this.addData(oi.R,e,t,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(oi.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&e.closePath(),this._xi=t,this._yi=r,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){if(this._saveData){var t=e.length;!(this.data&&this.data.length===t)&&J4&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t}},n.prototype.appendPath=function(e){if(this._saveData){e instanceof Array||(e=[e]);for(var t=e.length,r=0,i=this._len,a=0;a<t;a++)r+=e[a].len();var s=this.data;if(J4&&(s instanceof Float32Array||!s)&&(this.data=new Float32Array(i+r),i>0&&s))for(var o=0;o<i;o++)this.data[o]=s[o];for(var a=0;a<t;a++)for(var l=e[a].data,o=0;o<l.length;o++)this.data[i++]=l[o];this._len=i}},n.prototype.addData=function(e,t,r,i,a,s,o,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,J4&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){gd[0]=gd[1]=yd[0]=yd[1]=Number.MAX_VALUE,P0[0]=P0[1]=xd[0]=xd[1]=-Number.MAX_VALUE;var e=this.data,t=0,r=0,i=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(t=e[s],r=e[s+1],i=t,a=r),o){case oi.M:t=i=e[s++],r=a=e[s++],yd[0]=i,yd[1]=a,xd[0]=i,xd[1]=a;break;case oi.L:MW(t,r,e[s],e[s+1],yd,xd),t=e[s++],r=e[s++];break;case oi.C:XTe(t,r,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],yd,xd),t=e[s++],r=e[s++];break;case oi.Q:ZTe(t,r,e[s++],e[s++],e[s],e[s+1],yd,xd),t=e[s++],r=e[s++];break;case oi.A:var u=e[s++],c=e[s++],f=e[s++],d=e[s++],h=e[s++],p=e[s++]+h;s+=1;var m=!e[s++];l&&(i=cg(h)*f+u,a=fg(h)*d+c),KTe(u,c,f,d,h,p,m,yd,xd),t=cg(p)*f+u,r=fg(p)*d+c;break;case oi.R:i=t=e[s++],a=r=e[s++];var g=e[s++],y=e[s++];MW(i,a,i+g,a+y,yd,xd);break;case oi.Z:t=i,r=a;break}up(gd,gd,yd),cp(P0,P0,xd)}return s===0&&(gd[0]=gd[1]=P0[0]=P0[1]=0),new cn(gd[0],gd[1],P0[0]-gd[0],P0[1]-gd[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,r=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,d=0;d<t;){var h=e[d++],p=d===1;p&&(a=e[d],s=e[d+1],o=a,l=s);var m=-1;switch(h){case oi.M:a=o=e[d++],s=l=e[d++];break;case oi.L:{var g=e[d++],y=e[d++],_=g-a,S=y-s;(zh(_)>r||zh(S)>i||d===t-1)&&(m=Math.sqrt(_*_+S*S),a=g,s=y);break}case oi.C:{var A=e[d++],M=e[d++],g=e[d++],y=e[d++],E=e[d++],D=e[d++];m=swe(a,s,A,M,g,y,E,D,10),a=E,s=D;break}case oi.Q:{var A=e[d++],M=e[d++],g=e[d++],y=e[d++];m=lwe(a,s,A,M,g,y,10),a=g,s=y;break}case oi.A:var I=e[d++],N=e[d++],L=e[d++],B=e[d++],O=e[d++],G=e[d++],V=G+O;d+=1,p&&(o=cg(O)*L+I,l=fg(O)*B+N),m=$4(L,B)*K4(ev,Math.abs(G)),a=cg(V)*L+I,s=fg(V)*B+N;break;case oi.R:{o=a=e[d++],l=s=e[d++];var q=e[d++],W=e[d++];m=q*2+W*2;break}case oi.Z:{var _=o-a,S=l-s;m=Math.sqrt(_*_+S*S),a=o,s=l;break}}m>=0&&(u[f++]=m,c+=m)}return this._pathLen=c,c},n.prototype.rebuildPath=function(e,t){var r=this.data,i=this._ux,a=this._uy,s=this._len,o,l,u,c,f,d,h=t<1,p,m,g=0,y=0,_,S=0,A,M;if(!(h&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,m=this._pathLen,_=t*m,!_)))e:for(var E=0;E<s;){var D=r[E++],I=E===1;switch(I&&(u=r[E],c=r[E+1],o=u,l=c),D!==oi.L&&S>0&&(e.lineTo(A,M),S=0),D){case oi.M:o=u=r[E++],l=c=r[E++],e.moveTo(u,c);break;case oi.L:{f=r[E++],d=r[E++];var N=zh(f-u),L=zh(d-c);if(N>i||L>a){if(h){var B=p[y++];if(g+B>_){var O=(_-g)/B;e.lineTo(u*(1-O)+f*O,c*(1-O)+d*O);break e}g+=B}e.lineTo(f,d),u=f,c=d,S=0}else{var G=N*N+L*L;G>S&&(A=f,M=d,S=G)}break}case oi.C:{var V=r[E++],q=r[E++],W=r[E++],Z=r[E++],X=r[E++],K=r[E++];if(h){var B=p[y++];if(g+B>_){var O=(_-g)/B;Lv(u,V,W,X,O,lg),Lv(c,q,Z,K,O,ug),e.bezierCurveTo(lg[1],ug[1],lg[2],ug[2],lg[3],ug[3]);break e}g+=B}e.bezierCurveTo(V,q,W,Z,X,K),u=X,c=K;break}case oi.Q:{var V=r[E++],q=r[E++],W=r[E++],Z=r[E++];if(h){var B=p[y++];if(g+B>_){var O=(_-g)/B;wC(u,V,W,O,lg),wC(c,q,Z,O,ug),e.quadraticCurveTo(lg[1],ug[1],lg[2],ug[2]);break e}g+=B}e.quadraticCurveTo(V,q,W,Z),u=W,c=Z;break}case oi.A:var se=r[E++],J=r[E++],H=r[E++],ee=r[E++],Q=r[E++],ne=r[E++],ce=r[E++],ve=!r[E++],xe=H>ee?H:ee,we=zh(H-ee)>.001,Ae=Q+ne,Ue=!1;if(h){var B=p[y++];g+B>_&&(Ae=Q+ne*(_-g)/B,Ue=!0),g+=B}if(we&&e.ellipse?e.ellipse(se,J,H,ee,ce,Q,Ae,ve):e.arc(se,J,xe,Q,Ae,ve),Ue)break e;I&&(o=cg(Q)*H+se,l=fg(Q)*ee+J),u=cg(Ae)*H+se,c=fg(Ae)*ee+J;break;case oi.R:o=u=r[E],l=c=r[E+1],f=r[E++],d=r[E++];var pe=r[E++],pt=r[E++];if(h){var B=p[y++];if(g+B>_){var te=_-g;e.moveTo(f,d),e.lineTo(f+K4(te,pe),d),te-=pe,te>0&&e.lineTo(f+pe,d+K4(te,pt)),te-=pt,te>0&&e.lineTo(f+$4(pe-te,0),d+pt),te-=pe,te>0&&e.lineTo(f,d+$4(pt-te,0));break e}g+=B}e.rect(f,d,pe,pt);break;case oi.Z:if(h){var B=p[y++];if(g+B>_){var O=(_-g)/B;e.lineTo(u*(1-O)+o*O,c*(1-O)+l*O);break e}g+=B}e.closePath(),u=o,c=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.prototype.canSave=function(){return!!this._saveData},n.CMD=oi,n.initDefaultProps=(function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0})(),n})();function rv(n,e,t,r,i,a,s){if(i===0)return!1;var o=i,l=0,u=n;if(s>e+o&&s>r+o||s<e-o&&s<r-o||a>n+o&&a>t+o||a<n-o&&a<t-o)return!1;if(n!==t)l=(e-r)/(n-t),u=(n*r-t*e)/(n-t);else return Math.abs(a-n)<=o/2;var c=l*a-s+u,f=c*c/(l*l+1);return f<=o/2*o/2}function $Te(n,e,t,r,i,a,s,o,l,u,c){if(l===0)return!1;var f=l;if(c>e+f&&c>r+f&&c>a+f&&c>o+f||c<e-f&&c<r-f&&c<a-f&&c<o-f||u>n+f&&u>t+f&&u>i+f&&u>s+f||u<n-f&&u<t-f&&u<i-f&&u<s-f)return!1;var d=Hae(n,e,t,r,i,a,s,o,u,c,null);return d<=f/2}function Ese(n,e,t,r,i,a,s,o,l){if(s===0)return!1;var u=s;if(l>e+u&&l>r+u&&l>a+u||l<e-u&&l<r-u&&l<a-u||o>n+u&&o>t+u&&o>i+u||o<n-u&&o<t-u&&o<i-u)return!1;var c=Wae(n,e,t,r,i,a,o,l,null);return c<=u/2}var RW=Math.PI*2;function _u(n){return n%=RW,n<0&&(n+=RW),n}var uw=Math.PI*2;function JTe(n,e,t,r,i,a,s,o,l){if(s===0)return!1;var u=s;o-=n,l-=e;var c=Math.sqrt(o*o+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(r-i)%uw<1e-4)return!0;if(a){var f=r;r=_u(i),i=_u(f)}else r=_u(r),i=_u(i);r>i&&(i+=uw);var d=Math.atan2(l,o);return d<0&&(d+=uw),d>=r&&d<=i||d+uw>=r&&d+uw<=i}function rp(n,e,t,r,i,a){if(a>e&&a>r||a<e&&a<r||r===e)return 0;var s=(a-e)/(r-e),o=r<e?1:-1;(s===1||s===0)&&(o=r<e?.5:-.5);var l=s*(t-n)+n;return l===i?1/0:l>i?o:0}var O0=Jd.CMD,dg=Math.PI*2,QTe=1e-4;function eCe(n,e){return Math.abs(n-e)<QTe}var ll=[-1,-1,-1],cc=[-1,-1];function tCe(){var n=cc[0];cc[0]=cc[1],cc[1]=n}function nCe(n,e,t,r,i,a,s,o,l,u){if(u>e&&u>r&&u>a&&u>o||u<e&&u<r&&u<a&&u<o)return 0;var c=vN(e,r,a,o,u,ll);if(c===0)return 0;for(var f=0,d=-1,h=void 0,p=void 0,m=0;m<c;m++){var g=ll[m],y=g===0||g===1?.5:1,_=rs(n,t,i,s,g);_<l||(d<0&&(d=Gae(e,r,a,o,cc),cc[1]<cc[0]&&d>1&&tCe(),h=rs(e,r,a,o,cc[0]),d>1&&(p=rs(e,r,a,o,cc[1]))),d===2?g<cc[0]?f+=h<e?y:-y:g<cc[1]?f+=p<h?y:-y:f+=o<p?y:-y:g<cc[0]?f+=h<e?y:-y:f+=o<h?y:-y)}return f}function rCe(n,e,t,r,i,a,s,o){if(o>e&&o>r&&o>a||o<e&&o<r&&o<a)return 0;var l=owe(e,r,a,o,ll);if(l===0)return 0;var u=jae(e,r,a);if(u>=0&&u<=1){for(var c=0,f=Rs(e,r,a,u),d=0;d<l;d++){var h=ll[d]===0||ll[d]===1?.5:1,p=Rs(n,t,i,ll[d]);p<s||(ll[d]<u?c+=f<e?h:-h:c+=a<f?h:-h)}return c}else{var h=ll[0]===0||ll[0]===1?.5:1,p=Rs(n,t,i,ll[0]);return p<s?0:a<e?h:-h}}function iCe(n,e,t,r,i,a,s,o){if(o-=e,o>t||o<-t)return 0;var l=Math.sqrt(t*t-o*o);ll[0]=-l,ll[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u>=dg-1e-4){r=0,i=dg;var c=a?1:-1;return s>=ll[0]+n&&s<=ll[1]+n?c:0}if(r>i){var f=r;r=i,i=f}r<0&&(r+=dg,i+=dg);for(var d=0,h=0;h<2;h++){var p=ll[h];if(p+n>s){var m=Math.atan2(o,p),c=a?1:-1;m<0&&(m=dg+m),(m>=r&&m<=i||m+dg>=r&&m+dg<=i)&&(m>Math.PI/2&&m<Math.PI*1.5&&(c=-c),d+=c)}}return d}function Dse(n,e,t,r,i){for(var a=n.data,s=n.len(),o=0,l=0,u=0,c=0,f=0,d,h,p=0;p<s;){var m=a[p++],g=p===1;switch(m===O0.M&&p>1&&(t||(o+=rp(l,u,c,f,r,i))),g&&(l=a[p],u=a[p+1],c=l,f=u),m){case O0.M:c=a[p++],f=a[p++],l=c,u=f;break;case O0.L:if(t){if(rv(l,u,a[p],a[p+1],e,r,i))return!0}else o+=rp(l,u,a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case O0.C:if(t){if($Te(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else o+=nCe(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case O0.Q:if(t){if(Ese(l,u,a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else o+=rCe(l,u,a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case O0.A:var y=a[p++],_=a[p++],S=a[p++],A=a[p++],M=a[p++],E=a[p++];p+=1;var D=!!(1-a[p++]);d=Math.cos(M)*S+y,h=Math.sin(M)*A+_,g?(c=d,f=h):o+=rp(l,u,d,h,r,i);var I=(r-y)*A/S+y;if(t){if(JTe(y,_,A,M,M+E,D,e,I,i))return!0}else o+=iCe(y,_,A,M,M+E,D,I,i);l=Math.cos(M+E)*S+y,u=Math.sin(M+E)*A+_;break;case O0.R:c=l=a[p++],f=u=a[p++];var N=a[p++],L=a[p++];if(d=c+N,h=f+L,t){if(rv(c,f,d,f,e,r,i)||rv(d,f,d,h,e,r,i)||rv(d,h,c,h,e,r,i)||rv(c,h,c,f,e,r,i))return!0}else o+=rp(d,f,d,h,r,i),o+=rp(c,h,c,f,r,i);break;case O0.Z:if(t){if(rv(l,u,c,f,e,r,i))return!0}else o+=rp(l,u,c,f,r,i);l=c,u=f;break}}return!t&&!eCe(u,f)&&(o+=rp(l,u,c,f,r,i)||0),o!==0}function aCe(n,e,t){return Dse(n,0,!1,e,t)}function sCe(n,e,t,r){return Dse(n,e,!0,t,r)}var wN=sn({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},_y),oCe={style:sn({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},nL.style)},e5=Kd.concat(["invisible","culling","z","z2","zlevel","parent"]),Hn=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var o=0;o<e5.length;++o)i[e5[o]]=this[e5[o]];i.__dirty|=vu}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var r=$n(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var s=r[a],o=t[s];s==="style"?this.style?at(this.style,o):this.useStyle(o):s==="shape"?at(this.shape,o):n.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(Lt(t)){var r=AC(t,0);return r>.5?v6:r>.2?zwe:m6}else if(t)return m6}return v6},e.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(Lt(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=AC(t,0)<p6;if(a===s)return r}},e.prototype.buildPath=function(t,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~A_},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Jd(!1)},e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(r==null||r==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&A_)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){o.copy(t);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(o.width+=u/l,o.height+=u/l,o.x-=u/l/2,o.y-=u/l/2)}return o}return t},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect(),s=this.style;if(t=i[0],r=i[1],a.contain(t,r)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),sCe(o,l/u,t,r)))return!0}if(this.hasFill())return aCe(o,t,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=A_,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,r){t==="shape"?this.setShape(r):n.prototype.attrKV.call(this,t,r)},e.prototype.setShape=function(t,r){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=r:at(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&A_)},e.prototype.createStyle=function(t){return UA(wN,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=at({},this.shape))},e.prototype._applyStateObj=function(t,r,i,a,s,o){n.prototype._applyStateObj.call(this,t,r,i,a,s,o);var l=!(r&&a),u;if(r&&r.shape?s?a?u=r.shape:(u=at({},i.shape),at(u,r.shape)):(u=at({},a?this.shape:i.shape),at(u,r.shape)):l&&(u=i.shape),u)if(s){this.shape=at({},this.shape);for(var c={},f=$n(u),d=0;d<f.length;d++){var h=f[d];typeof u[h]=="object"?this.shape[h]=u[h]:c[h]=u[h]}this._transitionState(t,{shape:c},o)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return oCe},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=(function(a){Si(s,a);function s(o){var l=a.call(this,o)||this;return t.init&&t.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return tn(t.style)},s.prototype.getDefaultShape=function(){return tn(t.shape)},s})(e);for(var i in t)typeof t[i]=="function"&&(r.prototype[i]=t[i]);return r},e.initDefaultProps=(function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=vu|oT|A_})(),e})(Cc),lCe=sn({strokeFirst:!0,font:Dp,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},wN),mb=(function(n){Si(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){return Mse(this.style)},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(t){return UA(lCe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){return this._rect||(this._rect=WTe(this.style)),this._rect},e.initDefaultProps=(function(){var t=e.prototype;t.dirtyRectTolerance=10})(),e})(Cc);mb.prototype.type="tspan";var uCe=sn({x:0,y:0},_y),cCe={style:sn({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},nL.style)};function fCe(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var ps=(function(n){Si(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return UA(uCe,t)},e.prototype._getSize=function(t){var r=this.style,i=r[t];if(i!=null)return i;var a=fCe(r.image)?r.image:this.__image;if(!a)return 0;var s=t==="width"?"height":"width",o=r[s];return o==null?a[t]:a[t]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return cCe},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new cn(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e})(Cc);ps.prototype.type="image";function dCe(n,e){var t=e.x,r=e.y,i=e.width,a=e.height,s=e.r,o,l,u,c;i<0&&(t=t+i,i=-i),a<0&&(r=r+a,a=-a),typeof s=="number"?o=l=u=c=s:s instanceof Array?s.length===1?o=l=u=c=s[0]:s.length===2?(o=u=s[0],l=c=s[1]):s.length===3?(o=s[0],l=c=s[1],u=s[2]):(o=s[0],l=s[1],u=s[2],c=s[3]):o=l=u=c=0;var f;o+l>i&&(f=o+l,o*=i/f,l*=i/f),u+c>i&&(f=u+c,u*=i/f,c*=i/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),o+c>a&&(f=o+c,o*=a/f,c*=a/f),n.moveTo(t+o,r),n.lineTo(t+i-l,r),l!==0&&n.arc(t+i-l,r+l,l,-Math.PI/2,0),n.lineTo(t+i,r+a-u),u!==0&&n.arc(t+i-u,r+a-u,u,0,Math.PI/2),n.lineTo(t+c,r+a),c!==0&&n.arc(t+c,r+a-c,c,Math.PI/2,Math.PI),n.lineTo(t,r+o),o!==0&&n.arc(t+o,r+o,o,Math.PI,Math.PI*1.5)}var k_=Math.round;function aL(n,e,t){if(e){var r=e.x1,i=e.x2,a=e.y1,s=e.y2;n.x1=r,n.x2=i,n.y1=a,n.y2=s;var o=t&&t.lineWidth;return o&&(k_(r*2)===k_(i*2)&&(n.x1=n.x2=bu(r,o,!0)),k_(a*2)===k_(s*2)&&(n.y1=n.y2=bu(a,o,!0))),n}}function Rse(n,e,t){if(e){var r=e.x,i=e.y,a=e.width,s=e.height;n.x=r,n.y=i,n.width=a,n.height=s;var o=t&&t.lineWidth;return o&&(n.x=bu(r,o,!0),n.y=bu(i,o,!0),n.width=Math.max(bu(r+a,o,!1)-n.x,a===0?0:1),n.height=Math.max(bu(i+s,o,!1)-n.y,s===0?0:1)),n}}function bu(n,e,t){if(!e)return n;var r=k_(n*2);return(r+k_(e))%2===0?r/2:(r+(t?1:-1))/2}var hCe=(function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n})(),pCe={},Pn=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new hCe},e.prototype.buildPath=function(t,r){var i,a,s,o;if(this.subPixelOptimize){var l=Rse(pCe,r,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,s=r.width,o=r.height;r.r?dCe(t,r):t.rect(i,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e})(Hn);Pn.prototype.type="rect";var NW={fill:"#000"},IW=2,_d={},vCe={style:sn({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},nL.style)},tr=(function(n){Si(e,n);function e(t){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=NW,r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,yCe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new cn(0,0,0,0),r=this._children,i=[],a=null,s=0;s<r.length;s++){var o=r[s],l=o.getBoundingRect(),u=o.getLocalTransform(i);u?(t.copy(l),t.applyTransform(u),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||NW},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,a=t.rich||i&&{};return at(t,r),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,r){for(var i=$n(r),a=0;a<i.length;a++){var s=i[a];t[s]=t[s]||{},at(t[s],r[s])}},e.prototype.getAnimationStyleProps=function(){return vCe},e.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||Dp,i=t.padding,a=this._defaultStyle,s=t.x||0,o=t.y||0,l=t.align||a.align||"left",u=t.verticalAlign||a.verticalAlign||"top";wW(_d,a.overflowRect,s,o,l,u),s=_d.baseX,o=_d.baseY;var c=zW(t),f=BTe(c,t,_d.outerWidth,_d.outerHeight),d=t5(t),h=!!t.backgroundColor,p=f.outerHeight,m=f.outerWidth,g=f.lines,y=f.lineHeight;this.isTruncated=!!f.isTruncated;var _=s,S=xy(o,f.contentHeight,u);if(d||i){var A=pb(s,m,l),M=xy(o,p,u);d&&this._renderBackground(t,t,A,M,m,p)}S+=y/2,i&&(_=BW(s,l,i),u==="top"?S+=i[0]:u==="bottom"&&(S-=i[2]));for(var E=0,D=!1,I=!1,N=FW("fill"in t?t.fill:(I=!0,a.fill)),L=OW("stroke"in t?t.stroke:!h&&(!a.autoStroke||I)?(E=IW,D=!0,a.stroke):null),B=t.textShadowBlur>0,O=0;O<g.length;O++){var G=this._getOrCreateChild(mb),V=G.createStyle();G.useStyle(V),V.text=g[O],V.x=_,V.y=S,V.textAlign=l,V.textBaseline="middle",V.opacity=t.opacity,V.strokeFirst=!0,B&&(V.shadowBlur=t.textShadowBlur||0,V.shadowColor=t.textShadowColor||"transparent",V.shadowOffsetX=t.textShadowOffsetX||0,V.shadowOffsetY=t.textShadowOffsetY||0),V.stroke=L,V.fill=N,L&&(V.lineWidth=t.lineWidth||E,V.lineDash=t.lineDash,V.lineDashOffset=t.lineDashOffset||0),V.font=r,LW(V,t),S+=y,G.setBoundingRect(w6(V,f.contentWidth,f.calculatedLineHeight,D?0:null))}},e.prototype._updateRichTexts=function(){var t=this.style,r=this._defaultStyle,i=t.align||r.align,a=t.verticalAlign||r.verticalAlign,s=t.x||0,o=t.y||0;wW(_d,r.overflowRect,s,o,i,a),s=_d.baseX,o=_d.baseY;var l=zW(t),u=VTe(l,t,_d.outerWidth,_d.outerHeight,i),c=u.width,f=u.outerWidth,d=u.outerHeight,h=t.padding;this.isTruncated=!!u.isTruncated;var p=pb(s,f,i),m=xy(o,d,a),g=p,y=m;h&&(g+=h[3],y+=h[0]);var _=g+c;t5(t)&&this._renderBackground(t,t,p,m,f,d);for(var S=!!t.backgroundColor,A=0;A<u.lines.length;A++){for(var M=u.lines[A],E=M.tokens,D=E.length,I=M.lineHeight,N=M.width,L=0,B=g,O=_,G=D-1,V=void 0;L<D&&(V=E[L],!V.align||V.align==="left");)this._placeToken(V,t,I,y,B,"left",S),N-=V.width,B+=V.width,L++;for(;G>=0&&(V=E[G],V.align==="right");)this._placeToken(V,t,I,y,O,"right",S),N-=V.width,O-=V.width,G--;for(B+=(c-(B-g)-(_-O)-N)/2;L<=G;)V=E[L],this._placeToken(V,t,I,y,B+V.width/2,"center",S),B+=V.width,L++;y+=I}},e.prototype._placeToken=function(t,r,i,a,s,o,l){var u=r.rich[t.styleName]||{};u.text=t.text;var c=t.verticalAlign,f=a+i/2;c==="top"?f=a+t.height/2:c==="bottom"&&(f=a+i-t.height/2);var d=!t.isLineHolder&&t5(u);d&&this._renderBackground(u,r,o==="right"?s-t.width:o==="center"?s-t.width/2:s,f-t.height/2,t.width,t.height);var h=!!u.backgroundColor,p=t.textPadding;p&&(s=BW(s,o,p),f-=t.height/2-p[0]-t.innerHeight/2);var m=this._getOrCreateChild(mb),g=m.createStyle();m.useStyle(g);var y=this._defaultStyle,_=!1,S=0,A=!1,M=FW("fill"in u?u.fill:"fill"in r?r.fill:(_=!0,y.fill)),E=OW("stroke"in u?u.stroke:"stroke"in r?r.stroke:!h&&!l&&(!y.autoStroke||_)?(S=IW,A=!0,y.stroke):null),D=u.textShadowBlur>0||r.textShadowBlur>0;g.text=t.text,g.x=s,g.y=f,D&&(g.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,g.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),g.textAlign=o,g.textBaseline="middle",g.font=t.font||Dp,g.opacity=Yl(u.opacity,r.opacity,1),LW(g,u),E&&(g.lineWidth=Yl(u.lineWidth,r.lineWidth,S),g.lineDash=Wt(u.lineDash,r.lineDash),g.lineDashOffset=r.lineDashOffset||0,g.stroke=E),M&&(g.fill=M),m.setBoundingRect(w6(g,t.contentWidth,t.contentHeight,A?0:null))},e.prototype._renderBackground=function(t,r,i,a,s,o){var l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,f=l&&l.image,d=l&&!f,h=t.borderRadius,p=this,m,g;if(d||t.lineHeight||u&&c){m=this._getOrCreateChild(Pn),m.useStyle(m.createStyle()),m.style.fill=null;var y=m.shape;y.x=i,y.y=a,y.width=s,y.height=o,y.r=h,m.dirtyShape()}if(d){var _=m.style;_.fill=l||null,_.fillOpacity=Wt(t.fillOpacity,1)}else if(f){g=this._getOrCreateChild(ps),g.onload=function(){p.dirtyStyle()};var S=g.style;S.image=l.image,S.x=i,S.y=a,S.width=s,S.height=o}if(u&&c){var _=m.style;_.lineWidth=u,_.stroke=c,_.strokeOpacity=Wt(t.strokeOpacity,1),_.lineDash=t.borderDash,_.lineDashOffset=t.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2)}var A=(m||g).style;A.shadowBlur=t.shadowBlur||0,A.shadowColor=t.shadowColor||"transparent",A.shadowOffsetX=t.shadowOffsetX||0,A.shadowOffsetY=t.shadowOffsetY||0,A.opacity=Yl(t.opacity,r.opacity,1)},e.makeFont=function(t){var r="";return Ise(t)&&(r=[t.fontStyle,t.fontWeight,Nse(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&yu(r)||t.textFont||t.font},e})(Cc),mCe={left:!0,right:1,center:1},gCe={top:1,bottom:1,middle:1},kW=["fontStyle","fontWeight","fontSize","fontFamily"];function Nse(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?PU+"px":n+"px"}function LW(n,e){for(var t=0;t<kW.length;t++){var r=kW[t],i=e[r];i!=null&&(n[r]=i)}}function Ise(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function yCe(n){return PW(n),ie(n.rich,PW),n}function PW(n){if(n){n.font=tr.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||mCe[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||gCe[t]?t:"top";var r=n.padding;r&&(n.padding=zA(n.padding))}}function OW(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function FW(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function BW(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function zW(n){var e=n.text;return e!=null&&(e+=""),e}function t5(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var fn=Un(),A6=function(n,e,t,r){if(r){var i=fn(r);i.dataIndex=t,i.dataType=e,i.seriesIndex=n,i.ssrType="chart",r.type==="group"&&r.traverse(function(a){var s=fn(a);s.seriesIndex=n,s.dataIndex=t,s.dataType=e,s.ssrType="chart"})}},UW=1,VW={},kse=Un(),nV=Un(),rV=0,jA=1,sL=2,bl=["emphasis","blur","select"],DC=["normal","emphasis","blur","select"],$b=10,xCe=9,by="highlight",OR="downplay",TN="select",M6="unselect",CN="toggleSelect",iV="selectchanged";function R1(n){return n!=null&&n!=="none"}function oL(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function Lse(n){oL(n,"emphasis",sL)}function Pse(n){n.hoverState===sL&&oL(n,"normal",rV)}function aV(n){oL(n,"blur",jA)}function Ose(n){n.hoverState===jA&&oL(n,"normal",rV)}function _Ce(n){n.selected=!0}function bCe(n){n.selected=!1}function GW(n,e,t){e(n,t)}function Yp(n,e,t){GW(n,e,t),n.isGroup&&n.traverse(function(r){GW(r,e,t)})}function AN(n,e){switch(e){case"emphasis":n.hoverState=sL;break;case"normal":n.hoverState=rV;break;case"blur":n.hoverState=jA;break;case"select":n.selected=!0}}function SCe(n,e,t,r){for(var i=n.style,a={},s=0;s<e.length;s++){var o=e[s],l=i[o];a[o]=l??(r&&r[o])}for(var s=0;s<n.animators.length;s++){var u=n.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(t)<0&&u.targetName==="style"&&u.saveTo(a,e)}return a}function wCe(n,e,t,r){var i=t&&Cn(t,"select")>=0,a=!1;if(n instanceof Hn){var s=kse(n),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(R1(o)||R1(l)){r=r||{};var u=r.style||{};u.fill==="inherit"?(a=!0,r=at({},r),u=at({},u),u.fill=o):!R1(u.fill)&&R1(o)?(a=!0,r=at({},r),u=at({},u),u.fill=gN(o)):!R1(u.stroke)&&R1(l)&&(a||(r=at({},r),u=at({},u)),u.stroke=gN(l)),r.style=u}}if(r&&r.z2==null){a||(r=at({},r));var c=n.z2EmphasisLift;r.z2=n.z2+(c??$b)}return r}function TCe(n,e,t){if(t&&t.z2==null){t=at({},t);var r=n.z2SelectLift;t.z2=n.z2+(r??xCe)}return t}function CCe(n,e,t){var r=Cn(n.currentStates,e)>=0,i=n.style.opacity,a=r?null:SCe(n,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=at({},t),s=at({opacity:r?i:a.opacity*.1},s),t.style=s),t}function n5(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return wCe(this,n,e,t);if(n==="blur")return CCe(this,n,t);if(n==="select")return TCe(this,n,t)}return t}function Fy(n){n.stateProxy=n5;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=n5),t&&(t.stateProxy=n5)}function HW(n,e){!Use(n,e)&&!n.__highByOuter&&Yp(n,Lse)}function jW(n,e){!Use(n,e)&&!n.__highByOuter&&Yp(n,Pse)}function Np(n,e){n.__highByOuter|=1<<(e||0),Yp(n,Lse)}function Ip(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Yp(n,Pse)}function Fse(n){Yp(n,aV)}function sV(n){Yp(n,Ose)}function Bse(n){Yp(n,_Ce)}function zse(n){Yp(n,bCe)}function Use(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function Vse(n){var e=n.getModel(),t=[],r=[];e.eachComponent(function(i,a){var s=nV(a),o=i==="series",l=o?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!o&&r.push(l),s.isBlured&&(l.group.traverse(function(u){Ose(u)}),o&&t.push(a)),s.isBlured=!1}),ie(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function E6(n,e,t,r){var i=r.getModel();t=t||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var d=u.getItemGraphicEl(c[f]);d&&sV(d)}}if(n!=null&&!(!e||e==="none")){var s=i.getSeriesByIndex(n),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(u){var c=s===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&o?f===o:c;if(!(t==="series"&&!c||t==="coordinateSystem"&&!d||e==="series"&&c)){var h=r.getViewOfSeriesModel(u);if(h.group.traverse(function(g){g.__highByOuter&&c&&e==="self"||aV(g)}),eo(e))a(u.getData(),e);else if(on(e))for(var p=$n(e),m=0;m<p.length;m++)a(u.getData(p[m]),e[p[m]]);l.push(u),nV(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var f=r.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function D6(n,e,t){if(!(n==null||e==null)){var r=t.getModel().getComponent(n,e);if(r){nV(r).isBlured=!0;var i=t.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){aV(a)})}}}function ACe(n,e,t){var r=n.seriesIndex,i=n.getData(e.dataType);if(i){var a=Py(i,e);a=(ft(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var u=fn(s);E6(r,u.focus,u.blurScope,t)}else{var c=n.get(["emphasis","focus"]),f=n.get(["emphasis","blurScope"]);c!=null&&E6(r,c,f,t)}}}function oV(n,e,t,r){var i={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return i;var a=r.getModel().getComponent(n,e);if(!a)return i;var s=r.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(t),l,u=0;u<o.length;u++)if(fn(o[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function MCe(n,e,t){var r=fn(n),i=oV(r.componentMainType,r.componentIndex,r.componentHighDownName,t),a=i.dispatchers,s=i.focusSelf;a?(s&&D6(r.componentMainType,r.componentIndex,t),ie(a,function(o){return HW(o,e)})):(E6(r.seriesIndex,r.focus,r.blurScope,t),r.focus==="self"&&D6(r.componentMainType,r.componentIndex,t),HW(n,e))}function ECe(n,e,t){Vse(t);var r=fn(n),i=oV(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;i?ie(i,function(a){return jW(a,e)}):jW(n,e)}function DCe(n,e,t){if(N6(e)){var r=e.dataType,i=n.getData(r),a=Py(i,e);ft(a)||(a=[a]),n[e.type===CN?"toggleSelect":e.type===TN?"select":"unselect"](a,r)}}function WW(n){var e=n.getAllData();ie(e,function(t){var r=t.data,i=t.type;r.eachItemGraphicEl(function(a,s){n.isSelected(s,i)?Bse(a):zse(a)})})}function RCe(n){var e=[];return n.eachSeries(function(t){var r=t.getAllData();ie(r,function(i){i.data;var a=i.type,s=t.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:t.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function Mv(n,e,t){ly(n,!0),Yp(n,Fy),R6(n,e,t)}function NCe(n){ly(n,!1)}function Ei(n,e,t,r){r?NCe(n):Mv(n,e,t)}function R6(n,e,t){var r=fn(n);e!=null?(r.focus=e,r.blurScope=t):r.focus&&(r.focus=null)}var YW=["emphasis","blur","select"],ICe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Wa(n,e,t,r){t=t||"itemStyle";for(var i=0;i<YW.length;i++){var a=YW[i],s=e.getModel([a,t]),o=n.ensureState(a);o.style=r?r(s):s[ICe[t]]()}}function ly(n,e){var t=e===!1,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function RC(n){return!!(n&&n.__highDownDispatcher)}function kCe(n,e,t){var r=fn(n);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=t}function LCe(n){var e=VW[n];return e==null&&UW<=32&&(e=VW[n]=UW++),e}function N6(n){var e=n.type;return e===TN||e===M6||e===CN}function qW(n){var e=n.type;return e===by||e===OR}function PCe(n){var e=kse(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var N1=Jd.CMD,OCe=[[],[],[]],XW=Math.sqrt,FCe=Math.atan2;function Gse(n,e){if(e){var t=n.data,r=n.len(),i,a,s,o,l,u,c=N1.M,f=N1.C,d=N1.L,h=N1.R,p=N1.A,m=N1.Q;for(s=0,o=0;s<r;){switch(i=t[s++],o=s,a=0,i){case c:a=1;break;case d:a=1;break;case f:a=3;break;case m:a=2;break;case p:var g=e[4],y=e[5],_=XW(e[0]*e[0]+e[1]*e[1]),S=XW(e[2]*e[2]+e[3]*e[3]),A=FCe(-e[1]/S,e[0]/_);t[s]*=_,t[s++]+=g,t[s]*=S,t[s++]+=y,t[s++]*=_,t[s++]*=S,t[s++]+=A,t[s++]+=A,s+=2,o=s;break;case h:u[0]=t[s++],u[1]=t[s++],ea(u,u,e),t[o++]=u[0],t[o++]=u[1],u[0]+=t[s++],u[1]+=t[s++],ea(u,u,e),t[o++]=u[0],t[o++]=u[1]}for(l=0;l<a;l++){var M=OCe[l];M[0]=t[s++],M[1]=t[s++],ea(M,M,e),t[o++]=M[0],t[o++]=M[1]}}n.increaseVersion()}}var r5=Math.sqrt,m3=Math.sin,g3=Math.cos,cw=Math.PI;function ZW(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function I6(n,e){return(n[0]*e[0]+n[1]*e[1])/(ZW(n)*ZW(e))}function KW(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(I6(n,e))}function $W(n,e,t,r,i,a,s,o,l,u,c){var f=l*(cw/180),d=g3(f)*(n-t)/2+m3(f)*(e-r)/2,h=-1*m3(f)*(n-t)/2+g3(f)*(e-r)/2,p=d*d/(s*s)+h*h/(o*o);p>1&&(s*=r5(p),o*=r5(p));var m=(i===a?-1:1)*r5((s*s*(o*o)-s*s*(h*h)-o*o*(d*d))/(s*s*(h*h)+o*o*(d*d)))||0,g=m*s*h/o,y=m*-o*d/s,_=(n+t)/2+g3(f)*g-m3(f)*y,S=(e+r)/2+m3(f)*g+g3(f)*y,A=KW([1,0],[(d-g)/s,(h-y)/o]),M=[(d-g)/s,(h-y)/o],E=[(-1*d-g)/s,(-1*h-y)/o],D=KW(M,E);if(I6(M,E)<=-1&&(D=cw),I6(M,E)>=1&&(D=0),D<0){var I=Math.round(D/cw*1e6)/1e6;D=cw*2+I%2*cw}c.addData(u,_,S,s,o,A,D,f,a)}var BCe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,zCe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function UCe(n){var e=new Jd;if(!n)return e;var t=0,r=0,i=t,a=r,s,o=Jd.CMD,l=n.match(BCe);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d=void 0,h=c.match(zCe)||[],p=h.length,m=0;m<p;m++)h[m]=parseFloat(h[m]);for(var g=0;g<p;){var y=void 0,_=void 0,S=void 0,A=void 0,M=void 0,E=void 0,D=void 0,I=t,N=r,L=void 0,B=void 0;switch(f){case"l":t+=h[g++],r+=h[g++],d=o.L,e.addData(d,t,r);break;case"L":t=h[g++],r=h[g++],d=o.L,e.addData(d,t,r);break;case"m":t+=h[g++],r+=h[g++],d=o.M,e.addData(d,t,r),i=t,a=r,f="l";break;case"M":t=h[g++],r=h[g++],d=o.M,e.addData(d,t,r),i=t,a=r,f="L";break;case"h":t+=h[g++],d=o.L,e.addData(d,t,r);break;case"H":t=h[g++],d=o.L,e.addData(d,t,r);break;case"v":r+=h[g++],d=o.L,e.addData(d,t,r);break;case"V":r=h[g++],d=o.L,e.addData(d,t,r);break;case"C":d=o.C,e.addData(d,h[g++],h[g++],h[g++],h[g++],h[g++],h[g++]),t=h[g-2],r=h[g-1];break;case"c":d=o.C,e.addData(d,h[g++]+t,h[g++]+r,h[g++]+t,h[g++]+r,h[g++]+t,h[g++]+r),t+=h[g-2],r+=h[g-1];break;case"S":y=t,_=r,L=e.len(),B=e.data,s===o.C&&(y+=t-B[L-4],_+=r-B[L-3]),d=o.C,I=h[g++],N=h[g++],t=h[g++],r=h[g++],e.addData(d,y,_,I,N,t,r);break;case"s":y=t,_=r,L=e.len(),B=e.data,s===o.C&&(y+=t-B[L-4],_+=r-B[L-3]),d=o.C,I=t+h[g++],N=r+h[g++],t+=h[g++],r+=h[g++],e.addData(d,y,_,I,N,t,r);break;case"Q":I=h[g++],N=h[g++],t=h[g++],r=h[g++],d=o.Q,e.addData(d,I,N,t,r);break;case"q":I=h[g++]+t,N=h[g++]+r,t+=h[g++],r+=h[g++],d=o.Q,e.addData(d,I,N,t,r);break;case"T":y=t,_=r,L=e.len(),B=e.data,s===o.Q&&(y+=t-B[L-4],_+=r-B[L-3]),t=h[g++],r=h[g++],d=o.Q,e.addData(d,y,_,t,r);break;case"t":y=t,_=r,L=e.len(),B=e.data,s===o.Q&&(y+=t-B[L-4],_+=r-B[L-3]),t+=h[g++],r+=h[g++],d=o.Q,e.addData(d,y,_,t,r);break;case"A":S=h[g++],A=h[g++],M=h[g++],E=h[g++],D=h[g++],I=t,N=r,t=h[g++],r=h[g++],d=o.A,$W(I,N,t,r,E,D,S,A,M,d,e);break;case"a":S=h[g++],A=h[g++],M=h[g++],E=h[g++],D=h[g++],I=t,N=r,t+=h[g++],r+=h[g++],d=o.A,$W(I,N,t,r,E,D,S,A,M,d,e);break}}(f==="z"||f==="Z")&&(d=o.Z,e.addData(d),t=i,r=a),s=d}return e.toStatic(),e}var Hse=(function(n){Si(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e})(Hn);function jse(n){return n.setData!=null}function Wse(n,e){var t=UCe(n),r=at({},e);return r.buildPath=function(i){var a=jse(i);if(a&&i.canSave()){i.appendPath(t);var s=i.getContext();s&&i.rebuildPath(s,1)}else{var s=a?i.getContext():i;s&&t.rebuildPath(s,1)}},r.applyTransform=function(i){Gse(t,i),this.dirtyShape()},r}function Yse(n,e){return new Hse(Wse(n,e))}function VCe(n,e){var t=Wse(n,e),r=(function(i){Si(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=t.applyTransform,o.buildPath=t.buildPath,o}return a})(Hse);return r}function GCe(n,e){for(var t=[],r=n.length,i=0;i<r;i++){var a=n[i];t.push(a.getUpdatedPathProxy(!0))}var s=new Hn(e);return s.createPathProxy(),s.buildPath=function(o){if(jse(o)){o.appendPath(t);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function lV(n,e){e=e||{};var t=new Hn;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?Gse(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var HCe=(function(){function n(){this.cx=0,this.cy=0,this.r=0}return n})(),ah=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new HCe},e.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e})(Hn);ah.prototype.type="circle";var jCe=(function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n})(),WA=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new jCe},e.prototype.buildPath=function(t,r){var i=.5522848,a=r.cx,s=r.cy,o=r.rx,l=r.ry,u=o*i,c=l*i;t.moveTo(a-o,s),t.bezierCurveTo(a-o,s-c,a-u,s-l,a,s-l),t.bezierCurveTo(a+u,s-l,a+o,s-c,a+o,s),t.bezierCurveTo(a+o,s+c,a+u,s+l,a,s+l),t.bezierCurveTo(a-u,s+l,a-o,s+c,a-o,s),t.closePath()},e})(Hn);WA.prototype.type="ellipse";var qse=Math.PI,i5=qse*2,hg=Math.sin,I1=Math.cos,WCe=Math.acos,go=Math.atan2,JW=Math.abs,FT=Math.sqrt,uT=Math.max,bd=Math.min,cf=1e-4;function YCe(n,e,t,r,i,a,s,o){var l=t-n,u=r-e,c=s-i,f=o-a,d=f*l-c*u;if(!(d*d<cf))return d=(c*(e-a)-f*(n-i))/d,[n+d*l,e+d*u]}function y3(n,e,t,r,i,a,s){var o=n-t,l=e-r,u=(s?a:-a)/FT(o*o+l*l),c=u*l,f=-u*o,d=n+c,h=e+f,p=t+c,m=r+f,g=(d+p)/2,y=(h+m)/2,_=p-d,S=m-h,A=_*_+S*S,M=i-a,E=d*m-p*h,D=(S<0?-1:1)*FT(uT(0,M*M*A-E*E)),I=(E*S-_*D)/A,N=(-E*_-S*D)/A,L=(E*S+_*D)/A,B=(-E*_+S*D)/A,O=I-g,G=N-y,V=L-g,q=B-y;return O*O+G*G>V*V+q*q&&(I=L,N=B),{cx:I,cy:N,x0:-c,y0:-f,x1:I*(i/M-1),y1:N*(i/M-1)}}function qCe(n){var e;if(ft(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function XCe(n,e){var t,r=uT(e.r,0),i=uT(e.r0||0,0),a=r>0,s=i>0;if(!(!a&&!s)){if(a||(r=i,i=0),i>r){var o=r;r=i,i=o}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,f=e.cy,d=!!e.clockwise,h=JW(u-l),p=h>i5&&h%i5;if(p>cf&&(h=p),!(r>cf))n.moveTo(c,f);else if(h>i5-cf)n.moveTo(c+r*I1(l),f+r*hg(l)),n.arc(c,f,r,l,u,!d),i>cf&&(n.moveTo(c+i*I1(u),f+i*hg(u)),n.arc(c,f,i,u,l,d));else{var m=void 0,g=void 0,y=void 0,_=void 0,S=void 0,A=void 0,M=void 0,E=void 0,D=void 0,I=void 0,N=void 0,L=void 0,B=void 0,O=void 0,G=void 0,V=void 0,q=r*I1(l),W=r*hg(l),Z=i*I1(u),X=i*hg(u),K=h>cf;if(K){var se=e.cornerRadius;se&&(t=qCe(se),m=t[0],g=t[1],y=t[2],_=t[3]);var J=JW(r-i)/2;if(S=bd(J,y),A=bd(J,_),M=bd(J,m),E=bd(J,g),N=D=uT(S,A),L=I=uT(M,E),(D>cf||I>cf)&&(B=r*I1(u),O=r*hg(u),G=i*I1(l),V=i*hg(l),h<qse)){var H=YCe(q,W,G,V,B,O,Z,X);if(H){var ee=q-H[0],Q=W-H[1],ne=B-H[0],ce=O-H[1],ve=1/hg(WCe((ee*ne+Q*ce)/(FT(ee*ee+Q*Q)*FT(ne*ne+ce*ce)))/2),xe=FT(H[0]*H[0]+H[1]*H[1]);N=bd(D,(r-xe)/(ve+1)),L=bd(I,(i-xe)/(ve-1))}}}if(!K)n.moveTo(c+q,f+W);else if(N>cf){var we=bd(y,N),Ae=bd(_,N),Ue=y3(G,V,q,W,r,we,d),pe=y3(B,O,Z,X,r,Ae,d);n.moveTo(c+Ue.cx+Ue.x0,f+Ue.cy+Ue.y0),N<D&&we===Ae?n.arc(c+Ue.cx,f+Ue.cy,N,go(Ue.y0,Ue.x0),go(pe.y0,pe.x0),!d):(we>0&&n.arc(c+Ue.cx,f+Ue.cy,we,go(Ue.y0,Ue.x0),go(Ue.y1,Ue.x1),!d),n.arc(c,f,r,go(Ue.cy+Ue.y1,Ue.cx+Ue.x1),go(pe.cy+pe.y1,pe.cx+pe.x1),!d),Ae>0&&n.arc(c+pe.cx,f+pe.cy,Ae,go(pe.y1,pe.x1),go(pe.y0,pe.x0),!d))}else n.moveTo(c+q,f+W),n.arc(c,f,r,l,u,!d);if(!(i>cf)||!K)n.lineTo(c+Z,f+X);else if(L>cf){var we=bd(m,L),Ae=bd(g,L),Ue=y3(Z,X,B,O,i,-Ae,d),pe=y3(q,W,G,V,i,-we,d);n.lineTo(c+Ue.cx+Ue.x0,f+Ue.cy+Ue.y0),L<I&&we===Ae?n.arc(c+Ue.cx,f+Ue.cy,L,go(Ue.y0,Ue.x0),go(pe.y0,pe.x0),!d):(Ae>0&&n.arc(c+Ue.cx,f+Ue.cy,Ae,go(Ue.y0,Ue.x0),go(Ue.y1,Ue.x1),!d),n.arc(c,f,i,go(Ue.cy+Ue.y1,Ue.cx+Ue.x1),go(pe.cy+pe.y1,pe.cx+pe.x1),d),we>0&&n.arc(c+pe.cx,f+pe.cy,we,go(pe.y1,pe.x1),go(pe.y0,pe.x0),!d))}else n.lineTo(c+Z,f+X),n.arc(c,f,i,u,l,d)}n.closePath()}}}var ZCe=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n})(),no=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new ZCe},e.prototype.buildPath=function(t,r){XCe(t,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e})(Hn);no.prototype.type="sector";var KCe=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n})(),Jb=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new KCe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.PI*2;t.moveTo(i+r.r,a),t.arc(i,a,r.r,0,s,!1),t.moveTo(i+r.r0,a),t.arc(i,a,r.r0,0,s,!0)},e})(Hn);Jb.prototype.type="ring";function $Ce(n,e,t,r){var i=[],a=[],s=[],o=[],l,u,c,f;if(r){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=n.length;d<h;d++)up(c,c,n[d]),cp(f,f,n[d]);up(c,c,r[0]),cp(f,f,r[1])}for(var d=0,h=n.length;d<h;d++){var p=n[d];if(t)l=n[d?d-1:h-1],u=n[(d+1)%h];else if(d===0||d===h-1){i.push(Gd(n[d]));continue}else l=n[d-1],u=n[d+1];cv(a,u,l),RT(a,a,e);var m=fN(p,l),g=fN(p,u),y=m+g;y!==0&&(m/=y,g/=y),RT(s,a,-m),RT(o,a,g);var _=JB([],p,s),S=JB([],p,o);r&&(cp(_,_,c),up(_,_,f),cp(S,S,c),up(S,S,f)),i.push(_),i.push(S)}return t&&i.push(i.shift()),i}function Xse(n,e,t){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var a=$Ce(i,r,t,e.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(t?s:s-1);o++){var l=a[o*2],u=a[o*2+1],c=i[(o+1)%s];n.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{n.moveTo(i[0][0],i[0][1]);for(var o=1,f=i.length;o<f;o++)n.lineTo(i[o][0],i[o][1])}t&&n.closePath()}}var JCe=(function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n})(),ro=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new JCe},e.prototype.buildPath=function(t,r){Xse(t,r,!0)},e})(Hn);ro.prototype.type="polygon";var QCe=(function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n})(),Ls=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new QCe},e.prototype.buildPath=function(t,r){Xse(t,r,!1)},e})(Hn);Ls.prototype.type="polyline";var eAe={},tAe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n})(),ha=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new tAe},e.prototype.buildPath=function(t,r){var i,a,s,o;if(this.subPixelOptimize){var l=aL(eAe,r,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=r.x1,a=r.y1,s=r.x2,o=r.y2;var u=r.percent;u!==0&&(t.moveTo(i,a),u<1&&(s=i*(1-u)+s*u,o=a*(1-u)+o*u),t.lineTo(s,o))},e.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},e})(Hn);ha.prototype.type="line";var Ll=[],nAe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n})();function QW(n,e,t){var r=n.cpx2,i=n.cpy2;return r!=null||i!=null?[(t?rW:rs)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?rW:rs)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?a6:Rs)(n.x1,n.cpx1,n.x2,e),(t?a6:Rs)(n.y1,n.cpy1,n.y2,e)]}var Qb=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new nAe},e.prototype.buildPath=function(t,r){var i=r.x1,a=r.y1,s=r.x2,o=r.y2,l=r.cpx1,u=r.cpy1,c=r.cpx2,f=r.cpy2,d=r.percent;d!==0&&(t.moveTo(i,a),c==null||f==null?(d<1&&(wC(i,l,s,d,Ll),l=Ll[1],s=Ll[2],wC(a,u,o,d,Ll),u=Ll[1],o=Ll[2]),t.quadraticCurveTo(l,u,s,o)):(d<1&&(Lv(i,l,c,s,d,Ll),l=Ll[1],c=Ll[2],s=Ll[3],Lv(a,u,f,o,d,Ll),u=Ll[1],f=Ll[2],o=Ll[3]),t.bezierCurveTo(l,u,c,f,s,o)))},e.prototype.pointAt=function(t){return QW(this.shape,t,!1)},e.prototype.tangentAt=function(t){var r=QW(this.shape,t,!0);return Jy(r,r)},e})(Hn);Qb.prototype.type="bezier-curve";var rAe=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})(),YA=(function(n){Si(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new rAe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.max(r.r,0),o=r.startAngle,l=r.endAngle,u=r.clockwise,c=Math.cos(o),f=Math.sin(o);t.moveTo(c*s+i,f*s+a),t.arc(i,a,s,o,l,!u)},e})(Hn);YA.prototype.type="arc";var qA=(function(n){Si(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Hn.prototype.getBoundingRect.call(this)},e})(Hn),Zse=(function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n})(),Qy=(function(n){Si(e,n);function e(t,r,i,a,s,o){var l=n.call(this,s)||this;return l.x=t??0,l.y=r??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return e})(Zse),uV=(function(n){Si(e,n);function e(t,r,i,a,s){var o=n.call(this,a)||this;return o.x=t??.5,o.y=r??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return e})(Zse),a5=Math.min,iAe=Math.max,x3=Math.abs,pg=[0,0],vg=[0,0],Es=Pae(),_3=Es.minTv,b3=Es.maxTv,Kse=(function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new un;for(var r=0;r<2;r++)this._axes[r]=new un;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var r=this._corners,i=this._axes,a=e.x,s=e.y,o=a+e.width,l=s+e.height;if(r[0].set(a,s),r[1].set(o,s),r[2].set(o,l),r[3].set(a,l),t)for(var u=0;u<4;u++)r[u].transform(t);un.sub(i[0],r[1],r[0]),un.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(r[0])},n.prototype.intersect=function(e,t,r){var i=!0,a=!t;return t&&un.set(t,0,0),Es.reset(r,!a),!this._intersectCheckOneSide(this,e,a,1)&&(i=!1,a)||!this._intersectCheckOneSide(e,this,a,-1)&&(i=!1,a)||!a&&!Es.negativeSize&&un.copy(t,i?Es.useDir?Es.dirMinTv:_3:b3),i},n.prototype._intersectCheckOneSide=function(e,t,r,i){for(var a=!0,s=0;s<2;s++){var o=e._axes[s];if(e._getProjMinMaxOnAxis(s,e._corners,pg),e._getProjMinMaxOnAxis(s,t._corners,vg),Es.negativeSize||pg[1]<vg[0]||pg[0]>vg[1]){if(a=!1,Es.negativeSize||r)return a;var l=x3(vg[0]-pg[1]),u=x3(pg[0]-vg[1]);a5(l,u)>b3.len()&&(l<u?un.scale(b3,o,-l*i):un.scale(b3,o,u*i))}else if(!r){var l=x3(vg[0]-pg[1]),u=x3(pg[0]-vg[1]);(Es.useDir||a5(l,u)<_3.len())&&((l<u||!Es.bidirectional)&&(un.scale(_3,o,l*i),Es.useDir&&Es.calcDirMTV()),(l>=u||!Es.bidirectional)&&(un.scale(_3,o,-u*i),Es.useDir&&Es.calcDirMTV()))}}return a},n.prototype._getProjMinMaxOnAxis=function(e,t,r){for(var i=this._axes[e],a=this._origin,s=t[0].dot(i)+a[e],o=s,l=s,u=1;u<t.length;u++){var c=t[u].dot(i)+a[e];o=a5(c,o),l=iAe(c,l)}r[0]=o+Es.touchThreshold,r[1]=l-Es.touchThreshold,Es.negativeSize=r[1]<r[0]},n})(),aAe=[],$se=(function(n){Si(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var r=this._displayables[t];r.parent=this,r.update(),r.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var r=this._temporaryDisplayables[t];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new cn(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(aAe)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(t,r))return!0}return!1},e})(Cc),Jse=Un();function eS(n,e,t,r,i){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=n==="update";if(o){var u=void 0,c=void 0,f=void 0;r?(u=Wt(r.duration,200),c=Wt(r.easing,"cubicOut"),f=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),Xt(f)&&(f=f(t,i)),Xt(u)&&(u=u(t));var d={duration:u||0,delay:f,easing:c};return d}else return null}function cV(n,e,t,r,i,a,s){var o=!1,l;Xt(i)?(s=a,a=i,i=null):on(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=n==="leave";u||e.stopAnimation("leave");var c=eS(n,r,i,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var f=c.duration,d=c.delay,h=c.easing,p={duration:f,delay:d||0,easing:h,done:a,force:!!a||!!s,setToFinal:!u,scope:n,during:s};o?e.animateFrom(t,p):e.animateTo(t,p)}else e.stopAnimation(),!o&&e.attr(t),s&&s(1),a&&a()}function lr(n,e,t,r,i,a){cV("update",n,e,t,r,i,a)}function vi(n,e,t,r,i,a){cV("enter",n,e,t,r,i,a)}function J_(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function Pv(n,e,t,r,i,a){J_(n)||cV("leave",n,e,t,r,i,a)}function eY(n,e,t,r){n.removeTextContent(),n.removeTextGuideLine(),Pv(n,{style:{opacity:0}},e,t,r)}function xp(n,e,t){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||eY(i,e,t,r)}):eY(n,e,t,r)}function Ac(n){Jse(n).oldStyle=n.style}function sAe(n){return Jse(n).oldStyle}var k6={},gn=["x","y"],Na=["width","height"];function Qse(n){return Hn.extend(n)}var oAe=VCe;function eoe(n,e){return oAe(n,e)}function Rc(n,e){k6[n]=e}function NC(n){if(k6.hasOwnProperty(n))return k6[n]}function gb(n,e,t,r){var i=Yse(n,e);return t&&(r==="center"&&(t=toe(t,i.getBoundingRect())),dV(i,t)),i}function fV(n,e,t){var r=new ps({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var a={width:i.width,height:i.height};r.setStyle(toe(e,a))}}});return r}function toe(n,e){var t=e.width/e.height,r=n.height*t,i;r<=n.width?i=n.height:(r=n.width,i=r/t);var a=n.x+n.width/2,s=n.y+n.height/2;return{x:a-r/2,y:s-i/2,width:r,height:i}}var mu=GCe;function dV(n,e){if(n.applyTransform){var t=n.getBoundingRect(),r=t.calculateTransform(e);n.applyTransform(r)}}function yb(n,e){return aL(n,n,{lineWidth:e}),n}function lAe(n,e){return Rse(n,n,e),n}var FR=bu;function Ev(n,e){for(var t=VA([]);n&&n!==e;)Tf(t,n.getLocalTransform(),t),n=n.parent;return t}function Af(n,e,t){return e&&!eo(e)&&(e=fp.getLocalTransform(e)),t&&(e=Tc([],e)),ea([],n,e)}function lL(n,e,t){var r=e[4]===0||e[5]===0||e[0]===0?1:Pd(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Pd(2*e[4]/e[2]),a=[n==="left"?-r:n==="right"?r:0,n==="top"?-i:n==="bottom"?i:0];return a=Af(a,e,t),Pd(a[0])>Pd(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function tY(n){return!n.isGroup}function uAe(n){return n.shape!=null}function XA(n,e,t){if(!n||!e)return;function r(s){var o={};return s.traverse(function(l){tY(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return uAe(s)&&(o.shape=tn(s.shape)),o}var a=r(n);e.traverse(function(s){if(tY(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),lr(s,l,t,fn(s).dataIndex)}}})}function hV(n,e){return ht(n,function(t){var r=t[0];r=fa(r,e.x),r=wu(r,e.x+e.width);var i=t[1];return i=fa(i,e.y),i=wu(i,e.y+e.height),[r,i]})}function noe(n,e){var t=fa(n.x,e.x),r=wu(n.x+n.width,e.x+e.width),i=fa(n.y,e.y),a=wu(n.y+n.height,e.y+e.height);if(r>=t&&a>=i)return{x:t,y:i,width:r-t,height:a-i}}function tS(n,e,t){var r=at({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(i.image=n.slice(8),sn(i,t),new ps(r)):gb(n.replace("path://",""),r,t,"center")}function cT(n,e,t,r,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(roe(n,e,t,r,o[0],o[1],s[0],s[1]))return!0;s=o}}function roe(n,e,t,r,i,a,s,o){var l=t-n,u=r-e,c=s-i,f=o-a,d=s5(c,f,l,u);if(cAe(d))return!1;var h=n-i,p=e-a,m=s5(h,p,l,u)/d;if(m<0||m>1)return!1;var g=s5(h,p,c,f)/d;return!(g<0||g>1)}function s5(n,e,t,r){return n*r-t*e}function cAe(n){return n<=1e-6&&n>=-1e-6}function By(n,e,t,r,i){return e==null||(nr(e)?Di[0]=Di[1]=Di[2]=Di[3]=e:(Di[0]=e[0],Di[1]=e[1],Di[2]=e[2],Di[3]=e[3]),r&&(Di[0]=fa(0,Di[0]),Di[1]=fa(0,Di[1]),Di[2]=fa(0,Di[2]),Di[3]=fa(0,Di[3])),t&&(Di[0]=-Di[0],Di[1]=-Di[1],Di[2]=-Di[2],Di[3]=-Di[3]),nY(n,Di,"x","width",3,1,i&&i[0]||0),nY(n,Di,"y","height",0,2,i&&i[1]||0)),n}var Di=[0,0,0,0];function nY(n,e,t,r,i,a,s){var o=e[a]+e[i],l=n[r];n[r]+=o,s=fa(0,wu(s,l)),n[r]<s?(n[r]=s,n[t]+=e[i]>=0?-e[i]:e[a]>=0?l+e[a]:Pd(o)>1e-8?(l-s)*e[i]/o:0):n[t]-=e[i]}function qp(n){var e=n.itemTooltipOption,t=n.componentModel,r=n.itemName,i=Lt(e)?{formatter:e}:e,a=t.mainType,s=t.componentIndex,o={componentType:a,name:r,$vars:["name"]};o[a+"Index"]=s;var l=n.formatterParamsExtra;l&&ie($n(l),function(c){Gt(o,c)||(o[c]=l[c],o.$vars.push(c))});var u=fn(n.el);u.componentMainType=a,u.componentIndex=s,u.tooltipConfig={name:r,option:sn({content:r,encodeHTMLContent:!0,formatterParams:o},i)}}function L6(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function Jv(n,e){if(n)if(ft(n))for(var t=0;t<n.length;t++)L6(n[t],e);else L6(n,e)}function pV(n){return!n||Pd(n[1])<S3&&Pd(n[2])<S3||Pd(n[0])<S3&&Pd(n[3])<S3}var S3=1e-5;function IC(n,e){return n?cn.copy(n,e):e.clone()}function vV(n,e){return e?GA(n||os(),e):void 0}function zy(n){return{z:n.get("z")||0,zlevel:n.get("zlevel")||0}}function ioe(n){var e=-1/0,t=1/0;L6(n,function(a){r(a),r(a.getTextContent()),r(a.getTextGuideLine())});function r(a){if(!(!a||a.isGroup)){var s=a.currentStates;if(s.length)for(var o=0;o<s.length;o++)i(a.states[s[o]]);i(a)}}function i(a){if(a){var s=a.z2;s>e&&(e=s),s<t&&(t=s)}}return t>e&&(t=e=0),{min:t,max:e}}function uL(n,e,t){aoe(n,e,t,-1/0)}function aoe(n,e,t,r){if(n.ignoreModelZ)return r;var i=n.getTextContent(),a=n.getTextGuideLine(),s=n.isGroup;if(s)for(var o=n.childrenRef(),l=0;l<o.length;l++)r=fa(aoe(o[l],e,t,r),r);else n.z=e,n.zlevel=t,r=fa(n.z2||0,r);if(i&&(i.z=e,i.zlevel=t,isFinite(r)&&(i.z2=r+2)),a){var u=n.textGuideLineConfig;a.z=e,a.zlevel=t,isFinite(r)&&(a.z2=r+(u&&u.showAbove?1:-1))}return r}Rc("circle",ah);Rc("ellipse",WA);Rc("sector",no);Rc("ring",Jb);Rc("polygon",ro);Rc("polyline",Ls);Rc("rect",Pn);Rc("line",ha);Rc("bezierCurve",Qb);Rc("arc",YA);const ex=Object.freeze(Object.defineProperty({__proto__:null,Arc:YA,BezierCurve:Qb,BoundingRect:cn,Circle:ah,CompoundPath:qA,Ellipse:WA,Group:nn,Image:ps,IncrementalDisplayable:$se,Line:ha,LinearGradient:Qy,OrientedBoundingRect:Kse,Path:Hn,Point:un,Polygon:ro,Polyline:Ls,RadialGradient:uV,Rect:Pn,Ring:Jb,Sector:no,Text:tr,WH:Na,XY:gn,applyTransform:Af,calcZ2Range:ioe,clipPointsByRect:hV,clipRectByRect:noe,createIcon:tS,ensureCopyRect:IC,ensureCopyTransform:vV,expandOrShrinkRect:By,extendPath:eoe,extendShape:Qse,getShapeClass:NC,getTransform:Ev,groupTransition:XA,initProps:vi,isBoundingRectAxisAligned:pV,isElementRemoved:J_,lineLineIntersect:roe,linePolygonIntersect:cT,makeImage:fV,makePath:gb,mergePath:mu,registerShape:Rc,removeElement:Pv,removeElementWithFadeOut:xp,resizePath:dV,retrieveZInfo:zy,setTooltipConfig:qp,subPixelOptimize:FR,subPixelOptimizeLine:yb,subPixelOptimizeRect:lAe,transformDirection:lL,traverseElements:Jv,traverseUpdateZ:uL,updateProps:lr},Symbol.toStringTag,{value:"Module"}));var cL={};function soe(n,e){for(var t=0;t<bl.length;t++){var r=bl[t],i=e[r],a=n.ensureState(r);a.style=a.style||{},a.style.text=i}var s=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(s,!0)}function P6(n,e,t){var r=n.labelFetcher,i=n.labelDataIndex,a=n.labelDimIndex,s=e.normal,o;r&&(o=r.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),o==null&&(o=Xt(n.defaultText)?n.defaultText(i,n,t):n.defaultText);for(var l={normal:o},u=0;u<bl.length;u++){var c=bl[u],f=e[c];l[c]=Wt(r?r.getFormattedLabel(i,c,null,a,f&&f.get("formatter")):null,o)}return l}function cs(n,e,t,r){t=t||cL;for(var i=n instanceof tr,a=!1,s=0;s<DC.length;s++){var o=e[DC[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?n:n.getTextContent();if(a){i||(l||(l=new tr,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=P6(t,e),c=e.normal,f=!!c.getShallow("show"),d=ti(c,r&&r.normal,t,!1,!i);d.text=u.normal,i||n.setTextConfig(MN(c,t,!1));for(var s=0;s<bl.length;s++){var h=bl[s],o=e[h];if(o){var p=l.ensureState(h),m=!!Wt(o.getShallow("show"),f);if(m!==f&&(p.ignore=!m),p.style=ti(o,r&&r[h],t,!0,!i),p.style.text=u[h],!i){var g=n.ensureState(h);g.textConfig=MN(o,t,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),t.enableTextSetter&&(nS(l).setLabelText=function(y){var _=P6(t,e,y);soe(l,_)})}else l&&(l.ignore=!0);n.dirty()}function Ya(n,e){e=e||"label";for(var t={normal:n.getModel(e)},r=0;r<bl.length;r++){var i=bl[r];t[i]=n.getModel([i,e])}return t}function ti(n,e,t,r,i){var a={};return fAe(a,n,t,r,i),e&&at(a,e),a}function MN(n,e,t){e=e||{};var r={},i,a=n.getShallow("rotate"),s=Wt(n.getShallow("distance"),t?null:5),o=n.getShallow("offset");return i=n.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),o!=null&&(r.offset=o),a!=null&&(a*=Math.PI/180,r.rotation=a),s!=null&&(r.distance=s),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",e.autoOverflowArea!=null&&(r.autoOverflowArea=e.autoOverflowArea),e.layoutRect!=null&&(r.layoutRect=e.layoutRect),r}function fAe(n,e,t,r,i){t=t||cL;var a=e.ecModel,s=a&&a.option.textStyle,o=dAe(e),l;if(o){l={};var u="richInheritPlainLabel",c=Wt(e.get(u),a?a.get(u):void 0);for(var f in o)if(o.hasOwnProperty(f)){var d=e.getModel(["rich",f]);sY(l[f]={},d,s,e,c,t,r,i,!1,!0)}}l&&(n.rich=l);var h=e.get("overflow");h&&(n.overflow=h);var p=e.get("lineOverflow");p&&(n.lineOverflow=p);var m=n,g=e.get("minMargin");if(g!=null)g=nr(g)?g/2:0,m.margin=[g,g,g,g],m.__marginType=L_.minMargin;else{var y=e.get("textMargin");y!=null&&(m.margin=zA(y),m.__marginType=L_.textMargin)}sY(n,e,s,null,null,t,r,i,!0,!1)}function dAe(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||cL).rich;if(t){e=e||{};for(var r=$n(t),i=0;i<r.length;i++){var a=r[i];e[a]=1}}n=n.parentModel}return e}var rY=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],iY=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],aY=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function sY(n,e,t,r,i,a,s,o,l,u){t=!s&&t||cL;var c=a&&a.inheritColor,f=e.getShallow("color"),d=e.getShallow("textBorderColor"),h=Wt(e.getShallow("opacity"),t.opacity);(f==="inherit"||f==="auto")&&(c?f=c:f=null),(d==="inherit"||d==="auto")&&(c?d=c:d=null),o||(f=f||t.color,d=d||t.textBorderColor),f!=null&&(n.fill=f),d!=null&&(n.stroke=d);var p=Wt(e.getShallow("textBorderWidth"),t.textBorderWidth);p!=null&&(n.lineWidth=p);var m=Wt(e.getShallow("textBorderType"),t.textBorderType);m!=null&&(n.lineDash=m);var g=Wt(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);g!=null&&(n.lineDashOffset=g),!s&&h==null&&!u&&(h=a&&a.defaultOpacity),h!=null&&(n.opacity=h),!s&&!o&&n.fill==null&&a.inheritColor&&(n.fill=a.inheritColor);for(var y=0;y<rY.length;y++){var _=rY[y],S=i!==!1&&r?Yl(e.getShallow(_),r.getShallow(_),t[_]):Wt(e.getShallow(_),t[_]);S!=null&&(n[_]=S)}for(var y=0;y<iY.length;y++){var _=iY[y],S=e.getShallow(_);S!=null&&(n[_]=S)}if(n.verticalAlign==null){var A=e.getShallow("baseline");A!=null&&(n.verticalAlign=A)}if(!l||!a.disableBox){for(var y=0;y<aY.length;y++){var _=aY[y],S=e.getShallow(_);S!=null&&(n[_]=S)}var M=e.getShallow("borderType");M!=null&&(n.borderDash=M),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&c&&(n.backgroundColor=c),(n.borderColor==="auto"||n.borderColor==="inherit")&&c&&(n.borderColor=c)}}function mV(n,e){var t=e&&e.getModel("textStyle");return yu([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var nS=Un();function ooe(n,e,t,r){if(n){var i=nS(n);i.prevValue=i.value,i.value=t;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}function loe(n,e,t,r,i){var a=nS(n);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=Wt(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=_se(t,a.precision,o,l,c);a.interpolatedValue=c===1?null:f;var d=P6({labelDataIndex:e,labelFetcher:i,defaultText:s?s(f):f+""},a.statesModels,f);soe(n,d)}n.percent=0,(a.prevValue==null?vi:lr)(n,{percent:1},r,e,null,u)}var L_={minMargin:1,textMargin:2},hAe=["textStyle","color"],o5=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],l5=new tr,pAe=(function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(hAe):null)},n.prototype.getFont=function(){return mV({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<o5.length;r++)t[o5[r]]=this.getShallow(o5[r]);return l5.useStyle(t),l5.update(),l5.getBoundingRect()},n})(),uoe=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],vAe=Oy(uoe),mAe=(function(){function n(){}return n.prototype.getLineStyle=function(e){return vAe(this,e)},n})(),coe=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],gAe=Oy(coe),yAe=(function(){function n(){}return n.prototype.getItemStyle=function(e,t){return gAe(this,e,t)},n})(),Gn=(function(){function n(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}return n.prototype.init=function(e,t,r){},n.prototype.mergeOption=function(e,t){An(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var r=this.option,i=r==null?r:r[e];if(i==null&&!t){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},n.prototype.getModel=function(e,t){var r=e!=null,i=r?this.parsePath(e):null,a=r?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new n(a,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(tn(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Zn.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&t&&(r=t._doGet(this.resolveParentPath(e),t.parentModel)),r},n})();QU(Gn);DTe(Gn);ta(Gn,mAe);ta(Gn,yAe);ta(Gn,LTe);ta(Gn,pAe);var xAe=Math.round(Math.random()*10);function rS(n){return[n||"",xAe++].join("_")}function _Ae(n){var e={};n.registerSubTypeDefaulter=function(t,r){var i=Od(t);e[i.main]=r},n.determineSubType=function(t,r){var i=r.type;if(!i){var a=Od(t).main;n.hasSubTypes(t)&&e[a]&&(i=e[a](r))}return i}}function bAe(n,e){n.topologicalTravel=function(a,s,o,l){if(!a.length)return;var u=t(s),c=u.graph,f=u.noEntryList,d={};for(ie(a,function(_){d[_]=!0});f.length;){var h=f.pop(),p=c[h],m=!!d[h];m&&(o.call(l,h,p.originalDeps.slice()),delete d[h]),ie(p.successor,m?y:g)}ie(d,function(){var _="";throw new Error(_)});function g(_){c[_].entryCount--,c[_].entryCount===0&&f.push(_)}function y(_){d[_]=!0,g(_)}};function t(a){var s={},o=[];return ie(a,function(l){var u=r(s,l),c=u.originalDeps=e(l),f=i(c,a);u.entryCount=f.length,u.entryCount===0&&o.push(l),ie(f,function(d){Cn(u.predecessor,d)<0&&u.predecessor.push(d);var h=r(s,d);Cn(h.successor,d)<0&&h.successor.push(l)})}),{graph:s,noEntryList:o}}function r(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return ie(a,function(l){Cn(s,l)>=0&&o.push(l)}),o}}function Qv(n,e){return An(An({},n,!0),e,!0)}const SAe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},wAe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var EN="ZH",gV="EN",Q_=gV,BR={},yV={},foe=Zn.domSupported?(function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Q_).toUpperCase();return n.indexOf(EN)>-1?EN:Q_})():Q_;function xV(n,e){n=n.toUpperCase(),yV[n]=new Gn(e),BR[n]=e}function TAe(n){if(Lt(n)){var e=BR[n.toUpperCase()]||{};return n===EN||n===gV?tn(e):An(tn(e),tn(BR[Q_]),!1)}else return An(tn(n),tn(BR[Q_]),!1)}function O6(n){return yV[n]}function CAe(){return yV[Q_]}xV(gV,SAe);xV(EN,wAe);var F6=null;function AAe(n){F6||(F6=n)}function Da(){return F6}var _V=1e3,bV=_V*60,BT=bV*60,mc=BT*24,oY=mc*365,MAe={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},zR={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},EAe="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",w3="{yyyy}-{MM}-{dd}",lY={year:"{yyyy}",month:"{yyyy}-{MM}",day:w3,hour:w3+" "+zR.hour,minute:w3+" "+zR.minute,second:w3+" "+zR.second,millisecond:EAe},du=["year","month","day","hour","minute","second","millisecond"],DAe=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function RAe(n){return!Lt(n)&&!Xt(n)?NAe(n):n}function NAe(n){n=n||{};var e={},t=!0;return ie(du,function(r){t&&(t=n[r]==null)}),ie(du,function(r,i){var a=n[r];e[r]={};for(var s=null,o=i;o>=0;o--){var l=du[o],u=on(a)&&!ft(a)?a[l]:a,c=void 0;ft(u)?(c=u.slice(),s=c[0]||""):Lt(u)?(s=u,c=[s]):(s==null?s=zR[r]:MAe[l].test(s)||(s=e[l][l][0]+" "+s),c=[s],t&&(c[1]="{primary|"+s+"}")),e[r][l]=c}}),e}function ul(n,e){return n+="","0000".substr(0,e-n.length)+n}function zT(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function IAe(n){return n===zT(n)}function kAe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function ZA(n,e,t,r){var i=ih(n),a=i[doe(t)](),s=i[SV(t)]()+1,o=Math.floor((s-1)/3)+1,l=i[wV(t)](),u=i["get"+(t?"UTC":"")+"Day"](),c=i[TV(t)](),f=(c-1)%12+1,d=i[CV(t)](),h=i[AV(t)](),p=i[MV(t)](),m=c>=12?"pm":"am",g=m.toUpperCase(),y=r instanceof Gn?r:O6(r||foe)||CAe(),_=y.getModel("time"),S=_.get("month"),A=_.get("monthAbbr"),M=_.get("dayOfWeek"),E=_.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,m+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,ul(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,S[s-1]).replace(/{MMM}/g,A[s-1]).replace(/{MM}/g,ul(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,ul(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,M[u]).replace(/{ee}/g,E[u]).replace(/{e}/g,u+"").replace(/{HH}/g,ul(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,ul(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,ul(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,ul(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,ul(p,3)).replace(/{S}/g,p+"")}function LAe(n,e,t,r,i){var a=null;if(Lt(t))a=t;else if(Xt(t)){var s={time:n.time,level:n.time.level},o=Da();o&&o.makeAxisLabelFormatterParamBreak(s,n.break),a=t(n.value,e,s)}else{var l=n.time;if(l){var u=t[l.lowerTimeUnit][l.upperTimeUnit];a=u[Math.min(l.level,u.length-1)]||""}else{var c=P_(n.value,i);a=t[c][c][0]}}return ZA(new Date(n.value),a,i,r)}function P_(n,e){var t=ih(n),r=t[SV(e)]()+1,i=t[wV(e)](),a=t[TV(e)](),s=t[CV(e)](),o=t[AV(e)](),l=t[MV(e)](),u=l===0,c=u&&o===0,f=c&&s===0,d=f&&a===0,h=d&&i===1,p=h&&r===1;return p?"year":h?"month":d?"day":f?"hour":c?"minute":u?"second":"millisecond"}function DN(n,e,t){switch(e){case"year":n[hoe(t)](0);case"month":n[poe(t)](1);case"day":n[voe(t)](0);case"hour":n[moe(t)](0);case"minute":n[goe(t)](0);case"second":n[yoe(t)](0)}return n}function doe(n){return n?"getUTCFullYear":"getFullYear"}function SV(n){return n?"getUTCMonth":"getMonth"}function wV(n){return n?"getUTCDate":"getDate"}function TV(n){return n?"getUTCHours":"getHours"}function CV(n){return n?"getUTCMinutes":"getMinutes"}function AV(n){return n?"getUTCSeconds":"getSeconds"}function MV(n){return n?"getUTCMilliseconds":"getMilliseconds"}function PAe(n){return n?"setUTCFullYear":"setFullYear"}function hoe(n){return n?"setUTCMonth":"setMonth"}function poe(n){return n?"setUTCDate":"setDate"}function voe(n){return n?"setUTCHours":"setHours"}function moe(n){return n?"setUTCMinutes":"setMinutes"}function goe(n){return n?"setUTCSeconds":"setSeconds"}function yoe(n){return n?"setUTCMilliseconds":"setMilliseconds"}function OAe(n,e,t,r,i,a,s,o){var l=new tr({style:{text:n,font:e,align:t,verticalAlign:r,padding:i,rich:a,overflow:s?"truncate":null,lineHeight:o}});return l.getBoundingRect()}function EV(n){if(!KU(n))return Lt(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function DV(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var iS=zA;function B6(n,e,t){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&yu(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var s=e==="time",o=n instanceof Date;if(s||o){var l=s?ih(n):n;if(isNaN(+l)){if(o)return"-"}else return ZA(l,r,t)}if(e==="ordinal")return uN(n)?i(n):nr(n)&&a(n)?n+"":"-";var u=$d(n);return a(u)?EV(u):uN(n)?i(n):typeof n=="boolean"?n+"":"-"}var uY=["a","b","c","d","e","f","g"],u5=function(n,e){return"{"+n+(e??"")+"}"};function RV(n,e,t){ft(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var s=uY[a];n=n.replace(u5(s),u5(s,0))}for(var o=0;o<r;o++)for(var l=0;l<i.length;l++){var u=e[o][i[l]];n=n.replace(u5(uY[l],o),t?Mo(u):u)}return n}function FAe(n,e,t){return ie(e,function(r,i){n=n.replace("{"+i+"}",r)}),n}function xoe(n,e){var t=Lt(n)?{color:n,extraCssText:e}:n||{},r=t.color,i=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Mo(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Mo(r)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function BAe(n,e,t){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var r=ih(e),i=t?"getUTC":"get",a=r[i+"FullYear"](),s=r[i+"Month"]()+1,o=r[i+"Date"](),l=r[i+"Hours"](),u=r[i+"Minutes"](),c=r[i+"Seconds"](),f=r[i+"Milliseconds"]();return n=n.replace("MM",ul(s,2)).replace("M",s).replace("yyyy",a).replace("yy",ul(a%100+"",2)).replace("dd",ul(o,2)).replace("d",o).replace("hh",ul(l,2)).replace("h",l).replace("mm",ul(u,2)).replace("m",u).replace("ss",ul(c,2)).replace("s",c).replace("SSS",ul(f,3)),n}function zAe(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function Uy(n,e){return e=e||"transparent",Lt(n)?n:on(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function RN(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var UR={},c5={},aS=(function(){function n(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return n.prototype.create=function(e,t){this._nonSeriesBoxMasterList=r(UR),this._normalMasterList=r(c5);function r(i,a){var s=[];return ie(i,function(o,l){var u=o.create(e,t);s=s.concat(u||[])}),s}},n.prototype.update=function(e,t){ie(this._normalMasterList,function(r){r.update&&r.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},n.register=function(e,t){if(e==="matrix"||e==="calendar"){UR[e]=t;return}c5[e]=t},n.get=function(e){return c5[e]||UR[e]},n})();function UAe(n){return!!UR[n]}var z6={coord:1,coord2:2};function VAe(n){_oe.set(n.fullType,{getCoord2:void 0}).getCoord2=n.getCoord2}var _oe=jt();function GAe(n){var e=n.getShallow("coord",!0),t=z6.coord;if(e==null){var r=_oe.get(n.type);r&&r.getCoord2&&(t=z6.coord2,e=r.getCoord2(n))}return{coord:e,from:t}}var Id={none:0,dataCoordSys:1,boxCoordSys:2};function boe(n,e){var t=n.getShallow("coordinateSystem"),r=n.getShallow("coordinateSystemUsage",!0),i=Id.none;if(t){var a=n.mainType==="series";r==null&&(r=a?"data":"box"),r==="data"?(i=Id.dataCoordSys,a||(i=Id.none)):r==="box"&&(i=Id.boxCoordSys,!a&&!UAe(t)&&(i=Id.none))}return{coordSysType:t,kind:i}}function KA(n){var e=n.targetModel,t=n.coordSysType,r=n.coordSysProvider,i=n.isDefaultDataCoordSys;n.allowNotFound;var a=boe(e),s=a.kind,o=a.coordSysType;if(i&&s!==Id.dataCoordSys&&(s=Id.dataCoordSys,o=t),s===Id.none||o!==t)return!1;var l=r(t,e);return l?(s===Id.dataCoordSys?e.coordinateSystem=l:e.boxCoordinateSystem=l,!0):!1}var Soe=function(n,e){var t=e.getReferringComponents(n,Hi).models[0];return t&&t.coordinateSystem},VR=ie,woe=["left","right","top","bottom","width","height"],uy=[["width","left","right"],["height","top","bottom"]];function NV(n,e,t,r,i){var a=0,s=0;r==null&&(r=1/0),i==null&&(i=1/0);var o=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),f=e.childAt(u+1),d=f&&f.getBoundingRect(),h,p;if(n==="horizontal"){var m=c.width+(d?-d.x+c.x:0);h=a+m,h>r||l.newline?(a=0,h=m,s+=o+t,o=c.height):o=Math.max(o,c.height)}else{var g=c.height+(d?-d.y+c.y:0);p=s+g,p>i||l.newline?(a+=o+t,s=0,p=g,o=c.width):o=Math.max(o,c.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),n==="horizontal"?a=h+t:s=p+t)})}var Sy=NV;Sn(NV,"vertical");Sn(NV,"horizontal");function Toe(n,e){return{left:n.getShallow("left",e),top:n.getShallow("top",e),right:n.getShallow("right",e),bottom:n.getShallow("bottom",e),width:n.getShallow("width",e),height:n.getShallow("height",e)}}function HAe(n,e){var t=qa(n,e,{enableLayoutOnlyByCenter:!0}),r=n.getBoxLayoutParams(),i,a;if(t.type===fT.point)a=t.refPoint,i=wi(r,{width:e.getWidth(),height:e.getHeight()});else{var s=n.get("center"),o=ft(s)?s:[s,s];i=wi(r,t.refContainer),a=t.boxCoordFrom===z6.coord2?t.refPoint:[kt(o[0],i.width)+i.x,kt(o[1],i.height)+i.y]}return{viewRect:i,center:a}}function Coe(n,e){var t=HAe(n,e),r=t.viewRect,i=t.center,a=n.get("radius");ft(a)||(a=[0,a]);var s=kt(r.width,e.getWidth()),o=kt(r.height,e.getHeight()),l=Math.min(s,o),u=kt(a[0],l/2),c=kt(a[1],l/2);return{cx:i[0],cy:i[1],r0:u,r:c,viewRect:r}}function wi(n,e,t){t=iS(t||0);var r=e.width,i=e.height,a=kt(n.left,r),s=kt(n.top,i),o=kt(n.right,r),l=kt(n.bottom,i),u=kt(n.width,r),c=kt(n.height,i),f=t[2]+t[0],d=t[1]+t[3],h=n.aspect;switch(isNaN(u)&&(u=r-o-d-a),isNaN(c)&&(c=i-l-f-s),h!=null&&(isNaN(u)&&isNaN(c)&&(h>r/i?u=r*.8:c=i*.8),isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),isNaN(a)&&(a=r-o-u-d),isNaN(s)&&(s=i-l-c-f),n.left||n.right){case"center":a=r/2-u/2-t[3];break;case"right":a=r-u-d;break}switch(n.top||n.bottom){case"middle":case"center":s=i/2-c/2-t[0];break;case"bottom":s=i-c-f;break}a=a||0,s=s||0,isNaN(u)&&(u=r-d-a-(o||0)),isNaN(c)&&(c=i-f-s-(l||0));var p=new cn((e.x||0)+a+t[3],(e.y||0)+s+t[0],u,c);return p.margin=t,p}function Aoe(n,e,t){var r=n.getShallow("preserveAspect",!0);if(!r)return e;var i=e.width/e.height;if(Math.abs(Math.atan(t)-Math.atan(i))<1e-9)return e;var a=n.getShallow("preserveAspectAlign",!0),s=n.getShallow("preserveAspectVerticalAlign",!0),o={width:e.width,height:e.height},l=r==="cover";return i>t&&!l||i<t&&l?(o.width=e.height*t,a==="left"?o.left=0:a==="right"?o.right=0:o.left="center"):(o.height=e.width/t,s==="top"?o.top=0:s==="bottom"?o.bottom=0:o.top="middle"),wi(o,e)}var fT={rect:1,point:2};function qa(n,e,t){var r,i,a,s=n.boxCoordinateSystem,o;if(s){var l=GAe(n),u=l.coord,c=l.from;if(s.dataToLayout){a=fT.rect,o=c;var f=s.dataToLayout(u);r=f.contentRect||f.rect}else t&&t.enableLayoutOnlyByCenter&&s.dataToPoint&&(a=fT.point,o=c,i=s.dataToPoint(u))}return a==null&&(a=fT.rect),a===fT.rect&&(r||(r={x:0,y:0,width:e.getWidth(),height:e.getHeight()}),i=[r.x+r.width/2,r.y+r.height/2]),{type:a,refContainer:r,refPoint:i,boxCoordFrom:o}}function fL(n,e,t,r,i,a){var s=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||n,a.x=n.x,a.y=n.y,!s&&!o)return!1;var u;if(l==="raw")u=n.type==="group"?new cn(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(u=n.getBoundingRect(),n.needLocalTransform()){var c=n.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=wi(sn({width:u.width,height:u.height},e),t,r),d=s?f.x-u.x:0,h=o?f.y-u.y:0;return l==="raw"?(a.x=d,a.y=h):(a.x+=d,a.y+=h),a===n&&n.markRedraw(),!0}function jAe(n,e){return n[uy[e][0]]!=null||n[uy[e][1]]!=null&&n[uy[e][2]]!=null}function kC(n){var e=n.layoutMode||n.constructor.layoutMode;return on(e)?e:e?{type:e}:null}function Qd(n,e,t){var r=t&&t.ignoreSize;!ft(r)&&(r=[r,r]);var i=s(uy[0],0),a=s(uy[1],1);l(uy[0],n,i),l(uy[1],n,a);function s(u,c){var f={},d=0,h={},p=0,m=2;if(VR(u,function(_){h[_]=n[_]}),VR(u,function(_){Gt(e,_)&&(f[_]=h[_]=e[_]),o(f,_)&&d++,o(h,_)&&p++}),r[c])return o(e,u[1])?h[u[2]]=null:o(e,u[2])&&(h[u[1]]=null),h;if(p===m||!d)return h;if(d>=m)return f;for(var g=0;g<u.length;g++){var y=u[g];if(!Gt(f,y)&&Gt(n,y)){f[y]=n[y];break}}return f}function o(u,c){return u[c]!=null&&u[c]!=="auto"}function l(u,c,f){VR(u,function(d){c[d]=f[d]})}}function tx(n){return Moe({},n)}function Moe(n,e){return e&&n&&VR(woe,function(t){Gt(e,t)&&(n[t]=e[t])}),n}var WAe=Un(),zn=(function(n){Xe(e,n);function e(t,r,i){var a=n.call(this,t,r,i)||this;return a.uid=rS("ec_cpt_model"),a}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=kC(this),a=i?tx(t):{},s=r.getTheme();An(t,s.get(this.mainType)),An(t,this.getDefaultOption()),i&&Qd(t,a,i)},e.prototype.mergeOption=function(t,r){An(this.option,t,!0);var i=kC(this);i&&Qd(this.option,t,i)},e.prototype.optionUpdated=function(t,r){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!ATe(t))return t.defaultOption;var r=WAe(this);if(!r.defaultOption){for(var i=[],a=t;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=An(o,i[l],!0);r.defaultOption=o}return r.defaultOption},e.prototype.getReferringComponents=function(t,r){var i=t+"Index",a=t+"Id";return Kb(this.ecModel,t,{index:this.get(i,!0),id:this.get(a,!0)},r)},e.prototype.getBoxLayoutParams=function(){return Toe(this,!1)},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=(function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0})(),e})(Gn);Sse(zn,Gn);eL(zn);_Ae(zn);bAe(zn,YAe);function YAe(n){var e=[];return ie(zn.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=ht(e,function(t){return Od(t).main}),n!=="dataset"&&Cn(e,"dataset")<=0&&e.unshift("dataset"),e}var qe={color:{},darkColor:{},size:{}},oa=qe.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};at(oa,{primary:oa.neutral80,secondary:oa.neutral70,tertiary:oa.neutral60,quaternary:oa.neutral50,disabled:oa.neutral20,border:oa.neutral30,borderTint:oa.neutral20,borderShade:oa.neutral40,background:oa.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:oa.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:oa.neutral70,axisLineTint:oa.neutral40,axisTick:oa.neutral70,axisTickMinor:oa.neutral60,axisLabel:oa.neutral70,axisSplitLine:oa.neutral15,axisMinorSplitLine:oa.neutral05});for(var mg in oa)if(oa.hasOwnProperty(mg)){var cY=oa[mg];mg==="theme"?qe.darkColor.theme=oa.theme.slice():mg==="highlight"?qe.darkColor.highlight="rgba(255,231,130,0.4)":mg.indexOf("accent")===0?qe.darkColor[mg]=yp(cY,null,function(n){return n*.5},function(n){return Math.min(1,1.3-n)}):qe.darkColor[mg]=yp(cY,null,function(n){return n*.9},function(n){return 1-Math.pow(n,1.5)})}qe.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var Eoe="";typeof navigator<"u"&&(Eoe=navigator.platform||"");var k1="rgba(0, 0, 0, 0.2)",Doe=qe.color.theme[0],qAe=yp(Doe,null,null,.9);const XAe={darkMode:"auto",colorBy:"series",color:qe.color.theme,gradientColor:[qAe,Doe],aria:{decal:{decals:[{color:k1,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:k1,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:k1,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:k1,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:k1,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:k1,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Eoe.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Roe=jt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Ru="original",Ps="arrayRows",Nu="objectRows",Pf="keyedColumns",Dv="typedArray",Noe="unknown",Mf="column",nx="row",Ws={Must:1,Might:2,Not:3},Ioe=Un();function ZAe(n){Ioe(n).datasetMap=jt()}function koe(n,e,t){var r={},i=kV(e);if(!i||!n)return r;var a=[],s=[],o=e.ecModel,l=Ioe(o).datasetMap,u=i.uid+"_"+t.seriesLayoutBy,c,f;n=n.slice(),ie(n,function(m,g){var y=on(m)?m:n[g]={name:m};y.type==="ordinal"&&c==null&&(c=g,f=p(y)),r[y.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});ie(n,function(m,g){var y=m.name,_=p(m);if(c==null){var S=d.valueWayDim;h(r[y],S,_),h(s,S,_),d.valueWayDim+=_}else if(c===g)h(r[y],0,_),h(a,0,_);else{var S=d.categoryWayDim;h(r[y],S,_),h(s,S,_),d.categoryWayDim+=_}});function h(m,g,y){for(var _=0;_<y;_++)m.push(g+_)}function p(m){var g=m.dimsDef;return g?g.length:1}return a.length&&(r.itemName=a),s.length&&(r.seriesName=s),r}function IV(n,e,t){var r={},i=kV(n);if(!i)return r;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===Nu||a===Pf)&&ie(s,function(c,f){(on(c)?c.name:c)==="name"&&(o=f)});var l=(function(){for(var c={},f={},d=[],h=0,p=Math.min(5,t);h<p;h++){var m=Poe(e.data,a,e.seriesLayoutBy,s,e.startIndex,h);d.push(m);var g=m===Ws.Not;if(g&&c.v==null&&h!==o&&(c.v=h),(c.n==null||c.n===c.v||!g&&d[c.n]===Ws.Not)&&(c.n=h),y(c)&&d[c.n]!==Ws.Not)return c;g||(m===Ws.Might&&f.v==null&&h!==o&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function y(_){return _.v!=null&&_.n!=null}return y(c)?c:y(f)?f:null})();if(l){r.value=[l.v];var u=o??l.n;r.itemName=[u],r.seriesName=[u]}return r}function kV(n){var e=n.get("data",!0);if(!e)return Kb(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Hi).models[0]}function KAe(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:Kb(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},Hi).models}function Loe(n,e){return Poe(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function Poe(n,e,t,r,i,a){var s,o=5;if(_l(n))return Ws.Not;var l,u;if(r){var c=r[a];on(c)?(l=c.name,u=c.type):Lt(c)&&(l=c)}if(u!=null)return u==="ordinal"?Ws.Must:Ws.Not;if(e===Ps){var f=n;if(t===nx){for(var d=f[a],h=0;h<(d||[]).length&&h<o;h++)if((s=A(d[i+h]))!=null)return s}else for(var h=0;h<f.length&&h<o;h++){var p=f[i+h];if(p&&(s=A(p[a]))!=null)return s}}else if(e===Nu){var m=n;if(!l)return Ws.Not;for(var h=0;h<m.length&&h<o;h++){var g=m[h];if(g&&(s=A(g[l]))!=null)return s}}else if(e===Pf){var y=n;if(!l)return Ws.Not;var d=y[l];if(!d||_l(d))return Ws.Not;for(var h=0;h<d.length&&h<o;h++)if((s=A(d[h]))!=null)return s}else if(e===Ru)for(var _=n,h=0;h<_.length&&h<o;h++){var g=_[h],S=Zb(g);if(!ft(S))return Ws.Not;if((s=A(S[a]))!=null)return s}function A(M){var E=Lt(M);if(M!=null&&Number.isFinite(Number(M))&&M!=="")return E?Ws.Might:Ws.Not;if(E&&M!=="-")return Ws.Must}return Ws.Not}var U6=jt();function $Ae(n,e){to(U6.get(n)==null&&e),U6.set(n,e)}function JAe(n,e,t){var r=U6.get(e);if(!r)return t;var i=r(n);return i?t.concat(i):t}var fY=Un(),QAe=Un(),LV=(function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,r){var i=ni(this.get("color",!0)),a=this.get("colorLayer",!0);return Ooe(this,fY,i,a,e,t,r)},n.prototype.clearColorPalette=function(){tMe(this,fY)},n})();function V6(n,e,t,r){var i=ni(n.get(["aria","decal","decals"]));return Ooe(n,QAe,i,null,e,t,r)}function eMe(n,e){for(var t=n.length,r=0;r<t;r++)if(n[r].length>e)return n[r];return n[t-1]}function Ooe(n,e,t,r,i,a,s){a=a||n;var o=e(a),l=o.paletteIdx||0,u=o.paletteNameMap=o.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=s==null||!r?t:eMe(r,s);if(c=c||t,!(!c||!c.length)){var f=c[l];return i&&(u[i]=f),o.paletteIdx=(l+1)%c.length,f}}function tMe(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var T3,fw,dY,hY="\0_ec_inner",nMe=1,PV=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,i,a,s,o){a=a||{},this.option=null,this._theme=new Gn(a),this._locale=new Gn(s),this._optionManager=o},e.prototype.setOption=function(t,r,i){var a=mY(r);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,r){return this._resetOption(t,mY(r))},e.prototype._resetOption=function(t,r){var i=!1,a=this._optionManager;if(!t||t==="recreate"){var s=a.mountOption(t==="recreate");!this.option||t==="recreate"?dY(this,s):(this.restoreData(),this._mergeOption(s,r)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,r))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&ie(l,function(u){i=!0,this._mergeOption(u,r)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,r){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=jt(),u=r&&r.replaceMergeMainTypeMap;ZAe(this),ie(t,function(f,d){f!=null&&(zn.hasClass(d)?d&&(o.push(d),l.set(d,!0)):i[d]=i[d]==null?tn(f):An(i[d],f,!0))}),u&&u.each(function(f,d){zn.hasClass(d)&&!l.get(d)&&(o.push(d),l.set(d,!0))}),zn.topologicalTravel(o,zn.getAllClassMainTypes(),c,this);function c(f){var d=JAe(this,f,ni(t[f])),h=a.get(f),p=h?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",m=gse(h,d,p);gTe(m,f,zn),i[f]=null,a.set(f,null),s.set(f,0);var g=[],y=[],_=0,S;ie(m,function(A,M){var E=A.existing,D=A.newOption;if(!D)E&&(E.mergeOption({},this),E.optionUpdated({},!1));else{var I=f==="series",N=zn.getClass(f,A.keyInfo.subType,!I);if(!N)return;if(f==="tooltip"){if(S)return;S=!0}if(E&&E.constructor===N)E.name=A.keyInfo.name,E.mergeOption(D,this),E.optionUpdated(D,!1);else{var L=at({componentIndex:M},A.keyInfo);E=new N(D,this,this,L),at(E,L),A.brandNew&&(E.__requireNewView=!0),E.init(D,this,this),E.optionUpdated(null,!0)}}E?(g.push(E.option),y.push(E),_++):(g.push(void 0),y.push(void 0))},this),i[f]=g,a.set(f,y),s.set(f,_),f==="series"&&T3(this)}this._seriesIndices||T3(this)},e.prototype.getOption=function(){var t=tn(this.option);return ie(t,function(r,i){if(zn.hasClass(i)){for(var a=ni(r),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!EC(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,t[i]=a}}),delete t[hY],t},e.prototype.setTheme=function(t){this._theme=new Gn(t),this._resetOption("recreate",null)},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},e.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var i=t.index,a=t.id,s=t.name,o=this._componentsMap.get(r);if(!o||!o.length)return[];var l;return i!=null?(l=[],ie(ni(i),function(u){o[u]&&l.push(o[u])})):a!=null?l=pY("id",a,o):s!=null?l=pY("name",s,o):l=vr(o,function(u){return!!u}),vY(l,t)},e.prototype.findComponents=function(t){var r=t.query,i=t.mainType,a=o(r),s=a?this.queryComponents(a):vr(this._componentsMap.get(i),function(u){return!!u});return l(vY(s,t));function o(u){var c=i+"Index",f=i+"Id",d=i+"Name";return u&&(u[c]!=null||u[f]!=null||u[d]!=null)?{mainType:i,index:u[c],id:u[f],name:u[d]}:null}function l(u){return t.filter?vr(u,t.filter):u}},e.prototype.eachComponent=function(t,r,i){var a=this._componentsMap;if(Xt(t)){var s=r,o=t;a.each(function(f,d){for(var h=0;f&&h<f.length;h++){var p=f[h];p&&o.call(s,d,p,p.componentIndex)}})}else for(var l=Lt(t)?a.get(t):on(t)?this.findComponents(t):null,u=0;l&&u<l.length;u++){var c=l[u];c&&r.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var r=ja(t,null);return vr(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return vr(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},e.prototype.getSeries=function(){return vr(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,r){fw(this),ie(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(r,a,i)},this)},e.prototype.eachRawSeries=function(t,r){ie(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,r,i){fw(this),ie(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===t&&r.call(i,s,a)},this)},e.prototype.eachRawSeriesByType=function(t,r,i){return ie(this.getSeriesByType(t),r,i)},e.prototype.isSeriesFiltered=function(t){return fw(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,r){fw(this);var i=[];ie(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];t.call(r,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=jt(i)},e.prototype.restoreData=function(t){T3(this);var r=this._componentsMap,i=[];r.each(function(a,s){zn.hasClass(s)&&i.push(s)}),zn.topologicalTravel(i,zn.getAllClassMainTypes(),function(a){ie(r.get(a),function(s){s&&(a!=="series"||!rMe(s,t))&&s.restoreData()})})},e.internalField=(function(){T3=function(t){var r=t._seriesIndices=[];ie(t._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),t._seriesIndicesMap=jt(r)},fw=function(t){},dY=function(t,r){t.option={},t.option[hY]=nMe,t._componentsMap=jt({series:[]}),t._componentsCount=jt();var i=r.aria;on(i)&&i.enabled==null&&(i.enabled=!0),iMe(r,t._theme.option),An(r,XAe,!1),t._mergeOption(r,null)}})(),e})(Gn);function rMe(n,e){if(e){var t=e.seriesIndex,r=e.seriesId,i=e.seriesName;return t!=null&&n.componentIndex!==t||r!=null&&n.id!==r||i!=null&&n.name!==i}}function iMe(n,e){var t=n.color&&!n.colorLayer;ie(e,function(r,i){i==="colorLayer"&&t||i==="color"&&n.color||zn.hasClass(i)||(typeof r=="object"?n[i]=n[i]?An(n[i],r,!1):tn(r):n[i]==null&&(n[i]=r))})}function pY(n,e,t){if(ft(e)){var r=jt();return ie(e,function(a){if(a!=null){var s=ja(a,null);s!=null&&r.set(a,!0)}}),vr(t,function(a){return a&&r.get(a[n])})}else{var i=ja(e,null);return vr(t,function(a){return a&&i!=null&&a[n]===i})}}function vY(n,e){return e.hasOwnProperty("subType")?vr(n,function(t){return t&&t.subType===e.subType}):n}function mY(n){var e=jt();return n&&ie(ni(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}ta(PV,LV);var aMe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Foe=(function(){function n(e){ie(aMe,function(t){this[t]=Ot(e[t],e)},this)}return n})(),sMe=/^(min|max)?(.+)$/,oMe=(function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,r){e&&(ie(ni(e.series),function(s){s&&s.data&&_l(s.data)&&bC(s.data)}),ie(ni(e.dataset),function(s){s&&s.source&&_l(s.source)&&bC(s.source)})),e=tn(e);var i=this._optionBackup,a=lMe(e,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],tn(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(t=tn(r[i.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,u=i.length;l<u;l++)uMe(i[l].query,t,r)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!fMe(s,this._currentMediaIndices)&&(o=ht(s,function(c){return tn(c===-1?a.option:i[c].option)})),this._currentMediaIndices=s,o},n})();function lMe(n,e,t){var r=[],i,a,s=n.baseOption,o=n.timeline,l=n.options,u=n.media,c=!!n.media,f=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((f||c)&&(n.options=n.media=null),a=n),c&&ft(u)&&ie(u,function(h){h&&h.option&&(h.query?r.push(h):i||(i=h))}),d(a),ie(l,function(h){return d(h)}),ie(r,function(h){return d(h.option)});function d(h){ie(e,function(p){p(h,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function uMe(n,e,t){var r={width:e,height:t,aspectratio:e/t},i=!0;return ie(n,function(a,s){var o=s.match(sMe);if(!(!o||!o[1]||!o[2])){var l=o[1],u=o[2].toLowerCase();cMe(r[u],a,l)||(i=!1)}}),i}function cMe(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function fMe(n,e){return n.join(",")===e.join(",")}var rf=ie,LC=on,gY=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function f5(n){var e=n&&n.itemStyle;if(e)for(var t=0,r=gY.length;t<r;t++){var i=gY[t],a=e.normal,s=e.emphasis;a&&a[i]&&(n[i]=n[i]||{},n[i].normal?An(n[i].normal,a[i]):n[i].normal=a[i],a[i]=null),s&&s[i]&&(n[i]=n[i]||{},n[i].emphasis?An(n[i].emphasis,s[i]):n[i].emphasis=s[i],s[i]=null)}}function To(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var r=n[e].normal,i=n[e].emphasis;r&&(t?(n[e].normal=n[e].emphasis=null,sn(n[e],r)):n[e]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[e]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function dT(n){To(n,"itemStyle"),To(n,"lineStyle"),To(n,"areaStyle"),To(n,"label"),To(n,"labelLine"),To(n,"upperLabel"),To(n,"edgeLabel")}function Ma(n,e){var t=LC(n)&&n[e],r=LC(t)&&t.textStyle;if(r)for(var i=0,a=_W.length;i<a;i++){var s=_W[i];r.hasOwnProperty(s)&&(t[s]=r[s])}}function lc(n){n&&(dT(n),Ma(n,"label"),n.emphasis&&Ma(n.emphasis,"label"))}function dMe(n){if(LC(n)){f5(n),dT(n),Ma(n,"label"),Ma(n,"upperLabel"),Ma(n,"edgeLabel"),n.emphasis&&(Ma(n.emphasis,"label"),Ma(n.emphasis,"upperLabel"),Ma(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(f5(e),lc(e));var t=n.markLine;t&&(f5(t),lc(t));var r=n.markArea;r&&lc(r);var i=n.data;if(n.type==="graph"){i=i||n.nodes;var a=n.links||n.edges;if(a&&!_l(a))for(var s=0;s<a.length;s++)lc(a[s]);ie(n.categories,function(u){dT(u)})}if(i&&!_l(i))for(var s=0;s<i.length;s++)lc(i[s]);if(e=n.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)lc(o[s]);if(t=n.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)ft(l[s])?(lc(l[s][0]),lc(l[s][1])):lc(l[s]);n.type==="gauge"?(Ma(n,"axisLabel"),Ma(n,"title"),Ma(n,"detail")):n.type==="treemap"?(To(n.breadcrumb,"itemStyle"),ie(n.levels,function(u){dT(u)})):n.type==="tree"&&dT(n.leaves)}}function Uh(n){return ft(n)?n:n?[n]:[]}function yY(n){return(ft(n)?n[0]:n)||{}}function hMe(n,e){rf(Uh(n.series),function(r){LC(r)&&dMe(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),rf(t,function(r){rf(Uh(n[r]),function(i){i&&(Ma(i,"axisLabel"),Ma(i.axisPointer,"label"))})}),rf(Uh(n.parallel),function(r){var i=r&&r.parallelAxisDefault;Ma(i,"axisLabel"),Ma(i&&i.axisPointer,"label")}),rf(Uh(n.calendar),function(r){To(r,"itemStyle"),Ma(r,"dayLabel"),Ma(r,"monthLabel"),Ma(r,"yearLabel")}),rf(Uh(n.radar),function(r){Ma(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),rf(Uh(n.geo),function(r){LC(r)&&(lc(r),rf(Uh(r.regions),function(i){lc(i)}))}),rf(Uh(n.timeline),function(r){lc(r),To(r,"label"),To(r,"itemStyle"),To(r,"controlStyle",!0);var i=r.data;ft(i)&&ie(i,function(a){on(a)&&(To(a,"label"),To(a,"itemStyle"))})}),rf(Uh(n.toolbox),function(r){To(r,"iconStyle"),rf(r.feature,function(i){To(i,"iconStyle")})}),Ma(yY(n.axisPointer),"label"),Ma(yY(n.tooltip).axisPointer,"label")}function pMe(n,e){for(var t=e.split(","),r=n,i=0;i<t.length&&(r=r&&r[t[i]],r!=null);i++);return r}function vMe(n,e,t,r){for(var i=e.split(","),a=n,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];a[i[o]]==null&&(a[i[o]]=t)}function xY(n){n&&ie(mMe,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var mMe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],gMe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],d5=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function dw(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<d5.length;t++){var r=d5[t][1],i=d5[t][0];e[r]!=null&&(e[i]=e[r])}}function _Y(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function bY(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function yMe(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function Boe(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&Boe(n[t].children,e)}function zoe(n,e){hMe(n,e),n.series=ni(n.series),ie(n.series,function(t){if(on(t)){var r=t.type;if(r==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(r==="pie"||r==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),_Y(t.label);var i=t.data;if(i&&!_l(i))for(var a=0;a<i.length;a++)_Y(i[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(r==="gauge"){var s=pMe(t,"pointer.color");s!=null&&vMe(t,"itemStyle.color",s)}else if(r==="bar"){dw(t),dw(t.backgroundStyle),dw(t.emphasis);var i=t.data;if(i&&!_l(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(dw(i[a]),dw(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),bY(t),Boe(t.data,bY)}else r==="graph"||r==="sankey"?yMe(t):r==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&sn(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),xY(t)}}),n.dataRange&&(n.visualMap=n.dataRange),ie(gMe,function(t){var r=n[t];r&&(ft(r)||(r=[r]),ie(r,function(i){xY(i)}))})}function xMe(n){var e=jt();n.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]),a=t.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.push(s)}}),e.each(function(t){if(t.length!==0){var r=t[0].seriesModel,i=r.get("stackOrder")||"seriesAsc";i==="seriesDesc"&&t.reverse(),ie(t,function(a,s){a.data.setCalculationInfo("stackedOnSeries",s>0?t[s-1].seriesModel:null)}),_Me(t)}})}function _Me(n){ie(n,function(e,t){var r=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(u,c,f){var d=s.get(e.stackedDimension,f);if(isNaN(d))return i;var h,p;o?p=s.getRawIndex(f):h=s.get(e.stackedByDimension,f);for(var m=NaN,g=t-1;g>=0;g--){var y=n[g];if(o||(p=y.data.rawIndexOf(y.stackedByDimension,h)),p>=0){var _=y.data.getByRawIndex(y.stackResultDimension,p);if(l==="all"||l==="positive"&&_>0||l==="negative"&&_<0||l==="samesign"&&d>=0&&_>0||l==="samesign"&&d<=0&&_<0){d=iTe(d,_),m=_;break}}}return r[0]=d,r[1]=m,r})})}var dL=(function(){function n(e){this.data=e.data||(e.sourceFormat===Pf?{}:[]),this.sourceFormat=e.sourceFormat||Noe,this.seriesLayoutBy=e.seriesLayoutBy||Mf,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var i=t[r];i.type==null&&Loe(this,r)===Ws.Must&&(i.type="ordinal")}}return n})();function OV(n){return n instanceof dL}function G6(n,e,t){t=t||Uoe(n);var r=e.seriesLayoutBy,i=SMe(n,t,r,e.sourceHeader,e.dimensions),a=new dL({data:n,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:tn(e)});return a}function FV(n){return new dL({data:n,sourceFormat:_l(n)?Dv:Ru})}function bMe(n){return new dL({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:tn(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function Uoe(n){var e=Noe;if(_l(n))e=Dv;else if(ft(n)){n.length===0&&(e=Ps);for(var t=0,r=n.length;t<r;t++){var i=n[t];if(i!=null){if(ft(i)||_l(i)){e=Ps;break}else if(on(i)){e=Nu;break}}}}else if(on(n)){for(var a in n)if(Gt(n,a)&&eo(n[a])){e=Pf;break}}return e}function SMe(n,e,t,r,i){var a,s;if(!n)return{dimensionsDefine:SY(i),startIndex:s,dimensionsDetectedCount:a};if(e===Ps){var o=n;r==="auto"||r==null?wY(function(u){u!=null&&u!=="-"&&(Lt(u)?s==null&&(s=1):s=0)},t,o,10):s=nr(r)?r:r?1:0,!i&&s===1&&(i=[],wY(function(u,c){i[c]=u!=null?u+"":""},t,o,1/0)),a=i?i.length:t===nx?o.length:o[0]?o[0].length:null}else if(e===Nu)i||(i=wMe(n));else if(e===Pf)i||(i=[],ie(n,function(u,c){i.push(c)}));else if(e===Ru){var l=Zb(n[0]);a=ft(l)&&l.length||1}return{startIndex:s,dimensionsDefine:SY(i),dimensionsDetectedCount:a}}function wMe(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return $n(t)}function SY(n){if(n){var e=jt();return ht(n,function(t,r){t=on(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function wY(n,e,t,r){if(e===nx)for(var i=0;i<t.length&&i<r;i++)n(t[i]?t[i][0]:null,i);else for(var a=t[0]||[],i=0;i<a.length&&i<r;i++)n(a[i],i)}function Voe(n){var e=n.sourceFormat;return e===Nu||e===Pf}var gg,yg,xg,_g,TY,CY,Goe=(function(){function n(e,t){var r=OV(e)?e:FV(e);this._source=r;var i=this._data=r.data,a=r.sourceFormat;r.seriesLayoutBy,a===Dv&&(this._offset=0,this._dimSize=t,this._data=i),CY(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=(function(){var e=n.prototype;e.pure=!1,e.persistent=!0})(),n.internalField=(function(){var e;CY=function(s,o,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=TY[BV(u,c)];if(at(s,h),u===Dv)s.getItem=t,s.count=i,s.fillStorage=r;else{var p=Hoe(u,c);s.getItem=Ot(p,null,o,f,d);var m=joe(u,c);s.count=Ot(m,null,o,f,d)}};var t=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,u=this._dimSize,c=u*s,f=0;f<u;f++)o[f]=l[c+f];return o},r=function(s,o,l,u){for(var c=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=u[d],p=h[0]==null?1/0:h[0],m=h[1]==null?-1/0:h[1],g=o-s,y=l[d],_=0;_<g;_++){var S=c[_*f+d];y[s+_]=S,S<p&&(p=S),S>m&&(m=S)}h[0]=p,h[1]=m}},i=function(){return this._data?this._data.length/this._dimSize:0};TY=(e={},e[Ps+"_"+Mf]={pure:!0,appendData:a},e[Ps+"_"+nx]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Nu]={pure:!0,appendData:a},e[Pf]={pure:!0,appendData:function(s){var o=this._data;ie(s,function(l,u){for(var c=o[u]||(o[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},e[Ru]={appendData:a},e[Dv]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}})(),n})(),C3=function(n){ft(n)||pse("series.data or dataset.source must be an array.")};gg={},gg[Ps+"_"+Mf]=C3,gg[Ps+"_"+nx]=C3,gg[Nu]=C3,gg[Pf]=function(n,e){for(var t=0;t<e.length;t++){var r=e[t].name;r==null&&pse("dimension name must not be null/undefined.")}},gg[Ru]=C3;var AY=function(n,e,t,r){return n[r]},TMe=(yg={},yg[Ps+"_"+Mf]=function(n,e,t,r){return n[r+e]},yg[Ps+"_"+nx]=function(n,e,t,r,i){r+=e;for(var a=i||[],s=n,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[r]:null}return a},yg[Nu]=AY,yg[Pf]=function(n,e,t,r,i){for(var a=i||[],s=0;s<t.length;s++){var o=t[s].name,l=o!=null?n[o]:null;a[s]=l?l[r]:null}return a},yg[Ru]=AY,yg);function Hoe(n,e){var t=TMe[BV(n,e)];return t}var MY=function(n,e,t){return n.length},CMe=(xg={},xg[Ps+"_"+Mf]=function(n,e,t){return Math.max(0,n.length-e)},xg[Ps+"_"+nx]=function(n,e,t){var r=n[0];return r?Math.max(0,r.length-e):0},xg[Nu]=MY,xg[Pf]=function(n,e,t){var r=t[0].name,i=r!=null?n[r]:null;return i?i.length:0},xg[Ru]=MY,xg);function joe(n,e){var t=CMe[BV(n,e)];return t}var h5=function(n,e,t){return n[e]},AMe=(_g={},_g[Ps]=h5,_g[Nu]=function(n,e,t){return n[t]},_g[Pf]=h5,_g[Ru]=function(n,e,t){var r=Zb(n);return r instanceof Array?r[e]:r},_g[Dv]=h5,_g);function Woe(n){var e=AMe[n];return e}function BV(n,e){return n===Ps?n+"_"+e:n}function xb(n,e,t){if(n){var r=n.getRawDataItem(e);if(r!=null){var i=n.getStore(),a=i.getSource().sourceFormat;if(t!=null){var s=n.getDimensionIndex(t),o=i.getDimensionProperty(s);return Woe(a)(r,s,o)}else{var l=r;return a===Ru&&(l=Zb(r)),l}}}}var MMe=/\{@(.+?)\}/g,hL=(function(){function n(){}return n.prototype.getDataParams=function(e,t){var r=this.getData(t),i=this.getRawValue(e,t),a=r.getRawIndex(e),s=r.getName(e),o=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),u=l&&l[r.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,d=f==="series",h=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:s,dataIndex:a,data:o,dataType:t,value:i,color:u,borderColor:c,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,r,i,a,s){t=t||"normal";var o=this.getData(r),l=this.getDataParams(e,r);if(s&&(l.value=s.interpolatedValue),i!=null&&ft(l.value)&&(l.value=l.value[i]),!a){var u=o.getItemModel(e);a=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(Xt(a))return l.status=t,l.dimensionIndex=i,a(l);if(Lt(a)){var c=RV(a,l);return c.replace(MMe,function(f,d){var h=d.length,p=d;p.charAt(0)==="["&&p.charAt(h-1)==="]"&&(p=+p.slice(1,h-1));var m=xb(o,e,p);if(s&&ft(s.interpolatedValue)){var g=o.getDimensionIndex(p);g>=0&&(m=s.interpolatedValue[g])}return m!=null?m+"":""})}},n.prototype.getRawValue=function(e,t){return xb(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,r){},n})();function EY(n){var e,t;return on(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function UT(n){return new EMe(n)}var EMe=(function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var s=c(this._modBy),o=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(s!==l||o!==u)&&(a="reset");function c(_){return!(_>=1)&&(_=1),_}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=u;var d=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!r&&(f||h<p)){var m=this._progress;if(ft(m))for(var g=0;g<m.length;g++)this._doProgress(m[g],h,p,l,u);else this._doProgress(m,h,p,l,u)}this._dueIndex=p;var y=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,r,i,a){DY.reset(t,r,i,a),this._callingProgress=e,this._callingProgress({start:t,end:r,count:r-t,next:DY.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,r;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(r=t.forceFirstProgress,t=t.progress),ft(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n})(),DY=(function(){var n,e,t,r,i,a={reset:function(l,u,c,f){e=l,n=u,t=c,r=f,i=Math.ceil(r/t),a.next=t>1&&r>0?o:s}};return a;function s(){return e<n?e++:null}function o(){var l=e%i*t+Math.ceil(e/i),u=e>=n?null:l<r?l:e;return e++,u}})();function Rv(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!nr(n)&&n!=null&&n!=="-"&&(n=+ih(n)),n==null||n===""?NaN:Number(n))}var DMe=jt({number:function(n){return parseFloat(n)},time:function(n){return+ih(n)},trim:function(n){return Lt(n)?yu(n):n}});function Yoe(n){return DMe.get(n)}var qoe={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},RMe=(function(){function n(e,t){if(!nr(t)){var r="";br(r)}this._opFn=qoe[e],this._rvalFloat=$d(t)}return n.prototype.evaluate=function(e){return nr(e)?this._opFn(e,this._rvalFloat):this._opFn($d(e),this._rvalFloat)},n})(),Xoe=(function(){function n(e,t){var r=e==="desc";this._resultLT=r?1:-1,t==null&&(t=r?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var r=nr(e)?e:$d(e),i=nr(t)?t:$d(t),a=isNaN(r),s=isNaN(i);if(a&&(r=this._incomparable),s&&(i=this._incomparable),a&&s){var o=Lt(e),l=Lt(t);o&&(r=l?e:0),l&&(i=o?t:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n})(),NMe=(function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=$d(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var r=typeof e;r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")&&(t=$d(e)===this._rvalFloat)}return this._isEQ?t:!t},n})();function IMe(n,e){return n==="eq"||n==="ne"?new NMe(n==="eq",e):Gt(qoe,n)?new RMe(n,e):null}var kMe=(function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return Rv(e,t)},n})();function LMe(n,e){var t=new kMe,r=n.data,i=t.sourceFormat=n.sourceFormat,a=n.startIndex,s="";n.seriesLayoutBy!==Mf&&br(s);var o=[],l={},u=n.dimensionsDefine;if(u)ie(u,function(m,g){var y=m.name,_={index:g,name:y,displayName:m.displayName};if(o.push(_),y!=null){var S="";Gt(l,y)&&br(S),l[y]=_}});else for(var c=0;c<n.dimensionsDetectedCount;c++)o.push({index:c});var f=Hoe(i,Mf);e.__isBuiltIn&&(t.getRawDataItem=function(m){return f(r,a,o,m)},t.getRawData=Ot(PMe,null,n)),t.cloneRawData=Ot(OMe,null,n);var d=joe(i,Mf);t.count=Ot(d,null,r,a,o);var h=Woe(i);t.retrieveValue=function(m,g){var y=f(r,a,o,m);return p(y,g)};var p=t.retrieveValueFromItem=function(m,g){if(m!=null){var y=o[g];if(y)return h(m,g,y.name)}};return t.getDimensionInfo=Ot(FMe,null,o,l),t.cloneAllDimensionInfo=Ot(BMe,null,o),t}function PMe(n){var e=n.sourceFormat;if(!zV(e)){var t="";br(t)}return n.data}function OMe(n){var e=n.sourceFormat,t=n.data;if(!zV(e)){var r="";br(r)}if(e===Ps){for(var i=[],a=0,s=t.length;a<s;a++)i.push(t[a].slice());return i}else if(e===Nu){for(var i=[],a=0,s=t.length;a<s;a++)i.push(at({},t[a]));return i}}function FMe(n,e,t){if(t!=null){if(nr(t)||!isNaN(t)&&!Gt(e,t))return n[t];if(Gt(e,t))return e[t]}}function BMe(n){return tn(n)}var Zoe=jt();function zMe(n){n=tn(n);var e=n.type,t="";e||br(t);var r=e.split(":");r.length!==2&&br(t);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),n.__isBuiltIn=i,Zoe.set(e,n)}function UMe(n,e,t){var r=ni(n),i=r.length,a="";i||br(a);for(var s=0,o=i;s<o;s++){var l=r[s];e=VMe(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function VMe(n,e,t,r){var i="";e.length||br(i),on(n)||br(i);var a=n.type,s=Zoe.get(a);s||br(i);var o=ht(e,function(u){return LMe(u,s)}),l=ni(s.transform({upstream:o[0],upstreamList:o,config:tn(n.config)}));return ht(l,function(u,c){var f="";on(u)||br(f),u.data||br(f);var d=Uoe(u.data);zV(d)||br(f);var h,p=e[0];if(p&&c===0&&!u.dimensions){var m=p.startIndex;m&&(u.data=p.data.slice(0,m).concat(u.data)),h={seriesLayoutBy:Mf,sourceHeader:m,dimensions:p.metaRawOption.dimensions}}else h={seriesLayoutBy:Mf,sourceHeader:0,dimensions:u.dimensions};return G6(u.data,h,null)})}function zV(n){return n===Ps||n===Nu}var pL="undefined",GMe=typeof Uint32Array===pL?Array:Uint32Array,HMe=typeof Uint16Array===pL?Array:Uint16Array,Koe=typeof Int32Array===pL?Array:Int32Array,RY=typeof Float64Array===pL?Array:Float64Array,$oe={float:RY,int:Koe,ordinal:Array,number:Array,time:RY},p5;function L1(n){return n>65535?GMe:HMe}function P1(){return[1/0,-1/0]}function jMe(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function NY(n,e,t,r,i){var a=$oe[t||"float"];if(i){var s=n[e],o=s&&s.length;if(o!==r){for(var l=new a(r),u=0;u<o;u++)l[u]=s[u];n[e]=l}}else n[e]=new a(r)}var H6=(function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=jt()}return n.prototype.initData=function(e,t,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=p5[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],Voe(i),this._dimensions=ht(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(e);if(a!=null){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},r.set(e,a),this._chunks[a]=new $oe[t||"float"](this._rawCount),this._rawExtent[a]=P1(),a},n.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,s=i.ordinalOffset||0,o=r.length;s===0&&(a[e]=P1());for(var l=a[e],u=s;u<o;u++){var c=r[u]=t.parseAndCollect(r[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=t,i.ordinalOffset=o,i.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],r=t.ordinalMeta;return r},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,r=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(e,t){for(var r=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t||0),u=0;u<a;u++){var c=i[u];NY(r,u,c.type,l,!0)}for(var f=[],d=o;d<l;d++)for(var h=d-o,p=0;p<a;p++){var c=i[p],m=p5.arrayRows.call(this,e[h]||f,c.property,h,p);r[p][d]=m;var g=s[p];m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}return this._rawCount=this._count=l,{start:o,end:l}},n.prototype._initDataFromProvider=function(e,t,r){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,u=ht(s,function(_){return _.property}),c=0;c<o;c++){var f=s[c];l[c]||(l[c]=P1()),NY(a,c,f.type,t,r)}if(i.fillStorage)i.fillStorage(e,t,a,l);else for(var d=[],h=e;h<t;h++){d=i.getItem(h,d);for(var p=0;p<o;p++){var m=a[p],g=this._dimValueGetter(d,u[p],h,p);m[h]=g;var y=l[p];g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var r=[],i=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,s=i.length;a<s;a++)r.push(this.get(i[a],t));return r},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[e];return r?r[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],r=0;if(t)for(var i=0,a=this.count();i<a;i++){var s=this.get(e,i);isNaN(s)||(r+=s)}return r},n.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var r=t.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,r=t[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(t[s]<e)i=s+1;else if(t[s]>e)a=s-1;else return s}return-1},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=t.constructor,i=this._count;if(r===Array){e=new r(i);for(var a=0;a<i;a++)e[a]=t[a]}else e=new r(t.buffer,0,i)}else{var r=L1(this._rawCount);e=new r(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=L1(r._rawCount),s=new a(i),o=[],l=e.length,u=0,c=e[0],f=r._chunks,d=0;d<i;d++){var h=void 0,p=r.getRawIndex(d);if(l===0)h=t(d);else if(l===1){var m=f[c][p];h=t(m,d)}else{for(var g=0;g<l;g++)o[g]=f[e[g]][p];o[g]=d,h=t.apply(null,o)}h&&(s[u++]=p)}return u<i&&(r._indices=s),r._count=u,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(e){var t=this.clone(),r=t._count;if(!r)return this;var i=$n(e),a=i.length;if(!a)return this;var s=t.count(),o=L1(t._rawCount),l=new o(s),u=0,c=i[0],f=e[c][0],d=e[c][1],h=t._chunks,p=!1;if(!t._indices){var m=0;if(a===1){for(var g=h[i[0]],y=0;y<r;y++){var _=g[y];(_>=f&&_<=d||isNaN(_))&&(l[u++]=m),m++}p=!0}else if(a===2){for(var g=h[i[0]],S=h[i[1]],A=e[i[1]][0],M=e[i[1]][1],y=0;y<r;y++){var _=g[y],E=S[y];(_>=f&&_<=d||isNaN(_))&&(E>=A&&E<=M||isNaN(E))&&(l[u++]=m),m++}p=!0}}if(!p)if(a===1)for(var y=0;y<s;y++){var D=t.getRawIndex(y),_=h[i[0]][D];(_>=f&&_<=d||isNaN(_))&&(l[u++]=D)}else for(var y=0;y<s;y++){for(var I=!0,D=t.getRawIndex(y),N=0;N<a;N++){var L=i[N],_=h[L][D];(_<e[L][0]||_>e[L][1])&&(I=!1)}I&&(l[u++]=t.getRawIndex(y))}return u<s&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var r=this.clone(e);return this._updateDims(r,e,t),r},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,r){for(var i=e._chunks,a=[],s=t.length,o=e.count(),l=[],u=e._rawExtent,c=0;c<t.length;c++)u[t[c]]=P1();for(var f=0;f<o;f++){for(var d=e.getRawIndex(f),h=0;h<s;h++)l[h]=i[t[h]][d];l[s]=f;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var c=0;c<p.length;c++){var m=t[c],g=p[c],y=u[m],_=i[m];_&&(_[d]=g),g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}}},n.prototype.lttbDownSample=function(e,t){var r=this.clone([e],!0),i=r._chunks,a=i[e],s=this.count(),o=0,l=Math.floor(1/t),u=this.getRawIndex(0),c,f,d,h=new(L1(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));h[o++]=u;for(var p=1;p<s-1;p+=l){for(var m=Math.min(p+l,s-1),g=Math.min(p+l*2,s),y=(g+m)/2,_=0,S=m;S<g;S++){var A=this.getRawIndex(S),M=a[A];isNaN(M)||(_+=M)}_/=g-m;var E=p,D=Math.min(p+l,s),I=p-1,N=a[u];c=-1,d=E;for(var L=-1,B=0,S=E;S<D;S++){var A=this.getRawIndex(S),M=a[A];if(isNaN(M)){B++,L<0&&(L=A);continue}f=Math.abs((I-y)*(M-N)-(I-S)*(_-N)),f>c&&(c=f,d=A)}B>0&&B<D-E&&(h[o++]=Math.min(L,d),d=Math.max(L,d)),h[o++]=d,u=d}return h[o++]=this.getRawIndex(s-1),r._count=o,r._indices=h,r.getRawIndex=this._getRawIdx,r},n.prototype.minmaxDownSample=function(e,t){for(var r=this.clone([e],!0),i=r._chunks,a=Math.floor(1/t),s=i[e],o=this.count(),l=new(L1(this._rawCount))(Math.ceil(o/a)*2),u=0,c=0;c<o;c+=a){var f=c,d=s[this.getRawIndex(f)],h=c,p=s[this.getRawIndex(h)],m=a;c+a>o&&(m=o-c);for(var g=0;g<m;g++){var y=this.getRawIndex(c+g),_=s[y];_<d&&(d=_,f=c+g),_>p&&(p=_,h=c+g)}var S=this.getRawIndex(f),A=this.getRawIndex(h);f<h?(l[u++]=S,l[u++]=A):(l[u++]=A,l[u++]=S)}return r._count=u,r._indices=l,r._updateGetRawIdx(),r},n.prototype.downSample=function(e,t,r,i){for(var a=this.clone([e],!0),s=a._chunks,o=[],l=Math.floor(1/t),u=s[e],c=this.count(),f=a._rawExtent[e]=P1(),d=new(L1(this._rawCount))(Math.ceil(c/l)),h=0,p=0;p<c;p+=l){l>c-p&&(l=c-p,o.length=l);for(var m=0;m<l;m++){var g=this.getRawIndex(p+m);o[m]=u[g]}var y=r(o),_=this.getRawIndex(Math.min(p+i(o,y)||0,c-1));u[_]=y,y<f[0]&&(f[0]=y),y>f[1]&&(f[1]=y),d[h++]=_}return a._count=h,a._indices=d,a._updateGetRawIdx(),a},n.prototype.each=function(e,t){if(this._count)for(var r=e.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(r){case 0:t(a);break;case 1:t(i[e[0]][o],a);break;case 2:t(i[e[0]][o],i[e[1]][o],a);break;default:for(var l=0,u=[];l<r;l++)u[l]=i[e[l]][o];u[l]=a,t.apply(null,u)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],r=P1();if(!t)return r;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=r;for(var o=s[0],l=s[1],u=0;u<i;u++){var c=this.getRawIndex(u),f=t[c];f<o&&(o=f),f>l&&(l=f)}return s=[o,l],this._extent[e]=s,s},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][t]);return r},n.prototype.clone=function(e,t){var r=new n,i=this._chunks,a=e&&wc(e,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)r._chunks[s]=a[s]?jMe(i[s]):i[s];else r._chunks=i;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=tn(this._extent),e._rawExtent=tn(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var i=0;i<r;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=(function(){function e(t,r,i,a){return Rv(t[a],this._dimensions[a])}p5={arrayRows:e,objectRows:function(t,r,i,a){return Rv(t[r],this._dimensions[a])},keyedColumns:e,original:function(t,r,i,a){var s=t&&(t.value==null?t:t.value);return Rv(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(t,r,i,a){return t[a]}}})(),n})(),Joe=(function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length,i,a;if(A3(e)){var s=e,o=void 0,l=void 0,u=void 0;if(r){var c=t[0];c.prepareSource(),u=c.getSource(),o=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else o=s.get("data",!0),l=_l(o)?Dv:Ru,a=[];var f=this._getSourceMetaRawOption()||{},d=u&&u.metaRawOption||{},h=Wt(f.seriesLayoutBy,d.seriesLayoutBy)||null,p=Wt(f.sourceHeader,d.sourceHeader),m=Wt(f.dimensions,d.dimensions),g=h!==d.seriesLayoutBy||!!p!=!!d.sourceHeader||m;i=g?[G6(o,{seriesLayoutBy:h,sourceHeader:p,dimensions:m},l)]:[]}else{var y=e;if(r){var _=this._applyTransform(t);i=_.sourceList,a=_.upstreamSignList}else{var S=y.get("source",!0);i=[G6(S,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},n.prototype._applyTransform=function(e){var t=this._sourceHost,r=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&kY(a)}var s,o=[],l=[];return ie(e,function(u){u.prepareSource();var c=u.getSource(i||0),f="";i!=null&&!c&&kY(f),o.push(c),l.push(u._getVersionSign())}),r?s=UMe(r,o,{datasetIndex:t.componentIndex}):i!=null&&(s=[bMe(o[0])]),{sourceList:s,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,r){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[r];if(!o){var l=this._getUpstreamSourceManagers()[0];A3(this._sourceHost)&&l?o=l._innerGetDataStore(e,t,r):(o=new H6,o.initData(new Goe(t,e.length),e)),s[r]=o}return o},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(A3(e)){var t=kV(e);return t?[t.getSourceManager()]:[]}else return ht(KAe(e),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,r,i;if(A3(e))t=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},n})();function IY(n){var e=n.option.transform;e&&bC(n.option.transform)}function A3(n){return n.mainType==="series"}function kY(n){throw new Error(n)}var WMe="line-height:1";function Qoe(n){var e=n.lineHeight;return e==null?WMe:"line-height:"+Mo(e+"")+"px"}function ele(n,e){var t=n.color||qe.color.tertiary,r=n.fontSize||12,i=n.fontWeight||"400",a=n.color||qe.color.secondary,s=n.fontSize||14,o=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Mo(r+"")+"px;color:"+Mo(t)+";font-weight:"+Mo(i+""),valueStyle:"font-size:"+Mo(s+"")+"px;color:"+Mo(a)+";font-weight:"+Mo(o+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var YMe=[0,10,20,30],qMe=["",`
`,`

`,`


`];function Ia(n,e){return e.type=n,e}function j6(n){return n.type==="section"}function tle(n){return j6(n)?XMe:ZMe}function nle(n){if(j6(n)){var e=0,t=n.blocks.length,r=t>1||t>0&&!n.noHeader;return ie(n.blocks,function(i){var a=nle(i);a>=e&&(e=a+ +(r&&(!a||j6(i)&&!i.noHeader)))}),e}return 0}function XMe(n,e,t,r){var i=e.noHeader,a=KMe(nle(e)),s=[],o=e.blocks||[];to(!o||ft(o)),o=o||[];var l=n.orderMode;if(e.sortBlocks&&l){o=o.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Gt(u,l)){var c=new Xoe(u[l],null);o.sort(function(m,g){return c.evaluate(m.sortParam,g.sortParam)})}else l==="seriesDesc"&&o.reverse()}ie(o,function(m,g){var y=e.valueFormatter,_=tle(m)(y?at(at({},n),{valueFormatter:y}):n,m,g>0?a.html:0,r);_!=null&&s.push(_)});var f=n.renderMode==="richText"?s.join(a.richText):W6(r,s.join(""),i?t:a.html);if(i)return f;var d=B6(e.header,"ordinal",n.useUTC),h=ele(r,n.renderMode).nameStyle,p=Qoe(r);return n.renderMode==="richText"?rle(n,d,h)+a.richText+f:W6(r,'<div style="'+h+";"+p+';">'+Mo(d)+"</div>"+f,t)}function ZMe(n,e,t,r){var i=n.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,l=e.name,u=n.useUTC,c=e.valueFormatter||n.valueFormatter||function(A){return A=ft(A)?A:[A],ht(A,function(M,E){return B6(M,ft(h)?h[E]:h,u)})};if(!(a&&s)){var f=o?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||qe.color.secondary,i),d=a?"":B6(l,"ordinal",u),h=e.valueType,p=s?[]:c(e.value,e.dataIndex),m=!o||!a,g=!o&&a,y=ele(r,i),_=y.nameStyle,S=y.valueStyle;return i==="richText"?(o?"":f)+(a?"":rle(n,d,_))+(s?"":QMe(n,p,m,g,S)):W6(r,(o?"":f)+(a?"":$Me(d,!o,_))+(s?"":JMe(p,m,g,S)),t)}}function LY(n,e,t,r,i,a){if(n){var s=tle(n),o={useUTC:i,renderMode:t,orderMode:r,markupStyleCreator:e,valueFormatter:n.valueFormatter};return s(o,n,0,a)}}function KMe(n){return{html:YMe[n],richText:qMe[n]}}function W6(n,e,t){var r='<div style="clear:both"></div>',i="margin: "+t+"px 0 0",a=Qoe(n);return'<div style="'+i+";"+a+';">'+e+r+"</div>"}function $Me(n,e,t){var r=e?"margin-left:2px":"";return'<span style="'+t+";"+r+'">'+Mo(n)+"</span>"}function JMe(n,e,t,r){var i=t?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return n=ft(n)?n:[n],'<span style="'+a+";"+r+'">'+ht(n,function(s){return Mo(s)}).join("&nbsp;&nbsp;")+"</span>"}function rle(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function QMe(n,e,t,r,i){var a=[i],s=r?10:20;return t&&a.push({padding:[0,0,0,s],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(ft(e)?e.join("  "):e,a)}function ile(n,e){var t=n.getData().getItemVisual(e,"style"),r=t[n.visualDrawType];return Uy(r)}function ale(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var v5=(function(){function n(){this.richTextStyles={},this._nextStyleNameId=dse()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,r){var i=r==="richText"?this._generateStyleName():null,a=xoe({color:t,type:e,renderMode:r,markerId:i});return Lt(a)?a:(this.richTextStyles[i]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(e,t){var r={};ft(t)?ie(t,function(a){return at(r,a)}):at(r,t);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},n})();function sle(n){var e=n.series,t=n.dataIndex,r=n.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(t),l=ft(o),u=ile(e,t),c,f,d,h;if(s>1||l&&!s){var p=eEe(o,e,t,a,u);c=p.inlineValues,f=p.inlineValueTypes,d=p.blocks,h=p.inlineValues[0]}else if(s){var m=i.getDimensionInfo(a[0]);h=c=xb(i,t,a[0]),f=m.type}else h=c=l?o[0]:o;var g=$U(e),y=g&&e.name||"",_=i.getName(t),S=r?y:_;return Ia("section",{header:y,noHeader:r||!g,sortParam:h,blocks:[Ia("nameValue",{markerType:"item",markerColor:u,name:S,noName:!yu(S),value:c,valueType:f,dataIndex:t})].concat(d||[])})}function eEe(n,e,t,r,i){var a=e.getData(),s=wc(n,function(f,d,h){var p=a.getDimensionInfo(h);return f=f||p&&p.tooltip!==!1&&p.displayName!=null},!1),o=[],l=[],u=[];r.length?ie(r,function(f){c(xb(a,t,f),f)}):ie(n,c);function c(f,d){var h=a.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(s?u.push(Ia("nameValue",{markerType:"subItem",markerColor:i,name:h.displayName,value:f,valueType:h.type})):(o.push(f),l.push(h.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:u}}var F0=Un();function M3(n,e){return n.getName(e)||n.getId(e)}var GR="__universalTransitionEnabled",Yr=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=UT({count:nEe,reset:rEe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var a=F0(this).sourceManager=new Joe(this);a.prepareSource();var s=this.getInitialData(t,i);OY(s,this),this.dataTask.context.data=s,F0(this).dataBeforeProcessed=s,PY(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=kC(this),a=i?tx(t):{},s=this.subType;zn.hasClass(s)&&(s+="Series"),An(t,r.getTheme().get(this.subType)),An(t,this.getDefaultOption()),Ly(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&Qd(t,a,i)},e.prototype.mergeOption=function(t,r){t=An(this.option,t,!0),this.fillDataTextStyle(t.data);var i=kC(this);i&&Qd(this.option,t,i);var a=F0(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(t,r);OY(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,F0(this).dataBeforeProcessed=s,PY(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!_l(t))for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&Ly(t[i],"label",r)},e.prototype.getInitialData=function(t,r){},e.prototype.appendData=function(t){var r=this.getRawData();r.appendData(t.data)},e.prototype.getData=function(t){var r=Y6(this);if(r){var i=r.context.data;return t==null||!i.getLinkedData?i:i.getLinkedData(t)}else return F0(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var r=Y6(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}F0(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return jt(t)},e.prototype.getSourceManager=function(){return F0(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return F0(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.indicesOfNearest=function(t,r,i,a){var s=this.getData(),o=this.coordinateSystem,l=o&&o.getAxis(t);if(!o||!l)return[];var u=l.dataToCoord(i);a==null&&(a=1/0);var c=[],f=1/0,d=-1,h=0;return s.each(r,function(p,m){var g=l.dataToCoord(p),y=u-g,_=Math.abs(y);_<=a&&((_<f||_===f&&y>=0&&d<0)&&(f=_,d=y,h=0),y===d&&(c[h++]=m))}),c.length=h,c},e.prototype.formatTooltip=function(t,r,i){return sle({series:this,dataIndex:t,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Zn.node&&!(t&&t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,r,i){var a=this.ecModel,s=LV.prototype.getColorFromPalette.call(this,t,r,i);return s||(s=a.getColorFromPalette(t,r,i)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},e.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<t.length;o++){var l=t[o],u=M3(s,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,r){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=$n(t),i=[],a=0;a<r.length;a++){var s=t[r[a]];s>=0&&i.push(s)}return i},e.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[M3(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[GR])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,r){var i,a,s=this.option,o=s.selectedMode,l=r.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){on(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,c=0;c<l;c++){var f=r[c],d=M3(t,f);u[d]=!0,this._selectedDataIndicesMap[d]=t.getRawIndex(f)}}else if(o==="single"||o===!0){var h=r[l-1],d=M3(t,h);s.selectedMap=(i={},i[d]=!0,i),this._selectedDataIndicesMap=(a={},a[d]=t.getRawIndex(h),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},e.registerClass=function(t){return zn.registerClass(t)},e.protoInitialize=(function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"})(),e})(zn);ta(Yr,hL);ta(Yr,LV);Sse(Yr,zn);function PY(n){var e=n.name;$U(n)||(n.name=tEe(n)||e)}function tEe(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),r=[];return ie(t,function(i){var a=e.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function nEe(n){return n.model.getRawData().count()}function rEe(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),iEe}function iEe(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function OY(n,e){ie(db(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,Sn(aEe,e))})}function aEe(n,e){var t=Y6(n);return t&&t.setOutputEnd((e||this).count()),e}function Y6(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var r=t.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}var ri=(function(){function n(){this.group=new nn,this.uid=rS("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){},n.prototype.updateLayout=function(e,t,r,i){},n.prototype.updateVisual=function(e,t,r,i){},n.prototype.toggleBlurSeries=function(e,t,r){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n})();QU(ri);eL(ri);function sS(){var n=Un();return function(e){var t=n(e),r=e.pipelineContext,i=!!t.large,a=!!t.progressiveRender,s=t.large=!!(r&&r.large),o=t.progressiveRender=!!(r&&r.progressiveRender);return(i!==s||a!==o)&&"reset"}}var ole=Un(),sEe=sS(),Fr=(function(){function n(){this.group=new nn,this.uid=rS("viewChart"),this.renderTask=UT({plan:oEe,reset:lEe}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.highlight=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&BY(a,i,"emphasis")},n.prototype.downplay=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&BY(a,i,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateLayout=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateVisual=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.eachRendered=function(e){Jv(this.group,e)},n.markUpdateMethod=function(e,t){ole(e).updateMethod=t},n.protoInitialize=(function(){var e=n.prototype;e.type="chart"})(),n})();function FY(n,e,t){n&&RC(n)&&(e==="emphasis"?Np:Ip)(n,t)}function BY(n,e,t){var r=Py(n,e),i=e&&e.highlightKey!=null?LCe(e.highlightKey):null;r!=null?ie(ni(r),function(a){FY(n.getItemGraphicEl(a),t,i)}):n.eachItemGraphicEl(function(a){FY(a,t,i)})}QU(Fr);eL(Fr);function oEe(n){return sEe(n.model)}function lEe(n){var e=n.model,t=n.ecModel,r=n.api,i=n.payload,a=e.pipelineContext.progressiveRender,s=n.view,o=i&&ole(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,t,r,i),uEe[l]}var uEe={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},NN="\0__throttleOriginMethod",zY="\0__throttleRate",UY="\0__throttleType";function vL(n,e,t){var r,i=0,a=0,s=null,o,l,u,c;e=e||0;function f(){a=new Date().getTime(),s=null,n.apply(l,u||[])}var d=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];r=new Date().getTime(),l=this,u=h;var m=c||e,g=c||t;c=null,o=r-(g?i:a)-m,clearTimeout(s),g?s=setTimeout(f,m):o>=0?f():s=setTimeout(f,-o),i=r};return d.clear=function(){s&&(clearTimeout(s),s=null)},d.debounceNextCall=function(h){c=h},d}function oS(n,e,t,r){var i=n[e];if(i){var a=i[NN]||i,s=i[UY],o=i[zY];if(o!==t||s!==r){if(t==null||!r)return n[e]=a;i=n[e]=vL(a,t,r==="debounce"),i[NN]=a,i[UY]=r,i[zY]=t}return i}}function PC(n,e){var t=n[e];t&&t[NN]&&(t.clear&&t.clear(),n[e]=t[NN])}var VY=Un(),GY={itemStyle:Oy(coe,!0),lineStyle:Oy(uoe,!0)},cEe={lineStyle:"stroke",itemStyle:"fill"};function lle(n,e){var t=n.visualStyleMapper||GY[e];return t||(console.warn("Unknown style type '"+e+"'."),GY.itemStyle)}function ule(n,e){var t=n.visualDrawType||cEe[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var fEe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),a=lle(n,r),s=a(i),o=i.getShallow("decal");o&&(t.setVisual("decal",o),o.dirty=!0);var l=ule(n,r),u=s[l],c=Xt(u)?u:null,f=s.fill==="auto"||s.stroke==="auto";if(!s[l]||c||f){var d=n.getColorFromPalette(n.name,null,e.getSeriesCount());s[l]||(s[l]=d,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||Xt(s.fill)?d:s.fill,s.stroke=s.stroke==="auto"||Xt(s.stroke)?d:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&c)return t.setVisual("colorFromPalette",!1),{dataEach:function(h,p){var m=n.getDataParams(p),g=at({},s);g[l]=c(m),h.setItemVisual(p,"style",g)}}}},hw=new Gn,dEe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=lle(n,r),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[r]){hw.option=l[r];var u=i(hw),c=s.ensureUniqueItemVisual(o,"style");at(c,u),hw.option.decal&&(s.setItemVisual(o,"decal",hw.option.decal),hw.option.decal.dirty=!0),a in u&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},hEe={performRawSeries:!0,overallReset:function(n){var e=jt();n.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+r,a=e.get(i);a||(a={},e.set(i,a)),VY(t).scope=a}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var r=t.getRawData(),i={},a=t.getData(),s=VY(t).scope,o=t.visualStyleAccessPath||"itemStyle",l=ule(t,o);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),r.each(function(u){var c=i[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var d=a.ensureUniqueItemVisual(c,"style"),h=r.getName(u)||u+"",p=r.count();d[l]=t.getColorFromPalette(h,s,p)}})}})}},E3=Math.PI;function pEe(n,e){e=e||{},sn(e,{text:"loading",textColor:qe.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:qe.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var t=new nn,r=new Pn({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(r);var i=new tr({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Pn({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var s;return e.showSpinner&&(s=new YA({shape:{startAngle:-E3/2,endAngle:-E3/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:E3*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:E3*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var o=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(n.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),c=n.getHeight()/2;e.showSpinner&&s.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var cle=(function(){function n(e,t,r,i){this._stageTaskMap=jt(),this.ecInstance=e,this.api=t,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,a=!t&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,s=a?r.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),s=r.progressiveEnabled&&t.incrementalPrepareRender&&a>=r.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=r.context={progressiveRender:s,modDataCount:l,large:o}},n.prototype.restorePipelines=function(e){var t=this,r=t._pipelineMap=jt();e.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;r.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),r=this.api;ie(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),s="";to(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,t,r),i.overallReset&&this._createOverallStageTask(i,a,t,r)},this)},n.prototype.prepareView=function(e,t,r,i){var a=e.renderTask,s=a.context;s.model=t,s.ecModel=r,s.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)},n.prototype._performStageTasks=function(e,t,r,i){i=i||{};var a=!1,s=this;ie(e,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=s._stageTaskMap.get(l.uid),f=c.seriesTaskMap,d=c.overallTask;if(d){var h,p=d.agentStubMap;p.each(function(g){o(i,g)&&(g.dirty(),h=!0)}),h&&d.dirty(),s.updatePayload(d,r);var m=s.getPerformArgs(d,i.block);p.each(function(g){g.perform(m)}),d.perform(m)&&(a=!0)}else f&&f.each(function(g,y){o(i,g)&&g.dirty();var _=s.getPerformArgs(g,i.block);_.skip=!l.performRawSeries&&t.isSeriesFiltered(g.context.model),s.updatePayload(g,r),g.perform(_)&&(a=!0)})}});function o(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,r,i){var a=this,s=t.seriesTaskMap,o=t.seriesTaskMap=jt(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(c):l?r.eachRawSeriesByType(l,c):u&&u(r,i).each(c);function c(f){var d=f.uid,h=o.set(d,s&&s.get(d)||UT({plan:xEe,reset:_Ee,count:SEe}));h.context={model:f,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(f,h)}},n.prototype._createOverallStageTask=function(e,t,r,i){var a=this,s=t.overallTask=t.overallTask||UT({reset:vEe});s.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=jt(),u=e.seriesType,c=e.getTargetSeries,f=!0,d=!1,h="";to(!e.createOnAllSeries,h),u?r.eachRawSeriesByType(u,p):c?c(r,i).each(p):(f=!1,ie(r.getSeries(),p));function p(m){var g=m.uid,y=l.set(g,o&&o.get(g)||(d=!0,UT({reset:mEe,onDirty:yEe})));y.context={model:m,overallProgress:f},y.agent=s,y.__block=f,a._pipe(m,y)}d&&s.dirty()},n.prototype._pipe=function(e,t){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},n.wrapStageHandler=function(e,t){return Xt(e)&&(e={overallReset:e,seriesType:wEe(e)}),e.uid=rS("stageHandler"),t&&(e.visualType=t),e},n})();function vEe(n){n.overallReset(n.ecModel,n.api,n.payload)}function mEe(n){return n.overallProgress&&gEe}function gEe(){this.agent.dirty(),this.getDownstream().dirty()}function yEe(){this.agent&&this.agent.dirty()}function xEe(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function _Ee(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=ni(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?ht(e,function(t,r){return fle(r)}):bEe}var bEe=fle(0);function fle(n){return function(e,t){var r=t.data,i=t.resetDefines[n];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function SEe(n){return n.data.count()}function wEe(n){IN=null;try{n(OC,dle)}catch{}return IN}var OC={},dle={},IN;hle(OC,PV);hle(dle,Foe);OC.eachSeriesByType=OC.eachRawSeriesByType=function(n){IN=n};OC.eachComponent=function(n){n.mainType==="series"&&n.subType&&(IN=n.subType)};function hle(n,e){for(var t in e.prototype)n[t]=Qi}var ln=qe.darkColor,TEe=ln.background,pw=function(){return{axisLine:{lineStyle:{color:ln.axisLine}},splitLine:{lineStyle:{color:ln.axisSplitLine}},splitArea:{areaStyle:{color:[ln.backgroundTint,ln.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:ln.axisMinorSplitLine}},axisLabel:{color:ln.axisLabel},axisName:{}}},HY={label:{color:ln.secondary},itemStyle:{borderColor:ln.borderTint},dividerLineStyle:{color:ln.border}},ple={darkMode:!0,color:ln.theme,backgroundColor:TEe,axisPointer:{lineStyle:{color:ln.border},crossStyle:{color:ln.borderShade},label:{color:ln.tertiary}},legend:{textStyle:{color:ln.secondary},pageTextStyle:{color:ln.tertiary}},textStyle:{color:ln.secondary},title:{textStyle:{color:ln.primary},subtextStyle:{color:ln.quaternary}},toolbox:{iconStyle:{borderColor:ln.accent50}},tooltip:{backgroundColor:ln.neutral20,defaultBorderColor:ln.border,textStyle:{color:ln.tertiary}},dataZoom:{borderColor:ln.accent10,textStyle:{color:ln.tertiary},brushStyle:{color:ln.backgroundTint},handleStyle:{color:ln.neutral00,borderColor:ln.accent20},moveHandleStyle:{color:ln.accent40},emphasis:{handleStyle:{borderColor:ln.accent50}},dataBackground:{lineStyle:{color:ln.accent30},areaStyle:{color:ln.accent20}},selectedDataBackground:{lineStyle:{color:ln.accent50},areaStyle:{color:ln.accent30}}},visualMap:{textStyle:{color:ln.secondary},handleStyle:{borderColor:ln.neutral30}},timeline:{lineStyle:{color:ln.accent10},label:{color:ln.tertiary},controlStyle:{color:ln.accent30,borderColor:ln.accent30}},calendar:{itemStyle:{color:ln.neutral00,borderColor:ln.neutral20},dayLabel:{color:ln.tertiary},monthLabel:{color:ln.secondary},yearLabel:{color:ln.secondary}},matrix:{x:HY,y:HY,backgroundColor:{borderColor:ln.axisLine},body:{itemStyle:{borderColor:ln.borderTint}}},timeAxis:pw(),logAxis:pw(),valueAxis:pw(),categoryAxis:pw(),line:{symbol:"circle"},graph:{color:ln.theme},gauge:{title:{color:ln.secondary},axisLine:{lineStyle:{color:[[1,ln.neutral05]]}},axisLabel:{color:ln.axisLabel},detail:{color:ln.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:ln.background}},radar:(function(){var n=pw();return n.axisName={color:ln.axisLabel},n.axisLine.lineStyle.color=ln.neutral20,n})(),treemap:{breadcrumb:{itemStyle:{color:ln.neutral20,textStyle:{color:ln.secondary}},emphasis:{itemStyle:{color:ln.neutral30}}}},sunburst:{itemStyle:{borderColor:ln.background}},map:{itemStyle:{borderColor:ln.border,areaColor:ln.neutral10},label:{color:ln.tertiary},emphasis:{label:{color:ln.primary},itemStyle:{areaColor:ln.highlight}},select:{label:{color:ln.primary},itemStyle:{areaColor:ln.highlight}}},geo:{itemStyle:{borderColor:ln.border,areaColor:ln.neutral10},emphasis:{label:{color:ln.primary},itemStyle:{areaColor:ln.highlight}},select:{label:{color:ln.primary},itemStyle:{color:ln.highlight}}}};ple.categoryAxis.splitLine.show=!1;var CEe=(function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},r={},i={};if(Lt(e)){var a=Od(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};ie(e,function(l,u){for(var c=!1,f=0;f<s.length;f++){var d=s[f],h=u.lastIndexOf(d);if(h>0&&h===u.length-d.length){var p=u.slice(0,h);p!=="data"&&(t.mainType=p,t[d.toLowerCase()]=l,c=!0)}}o.hasOwnProperty(u)&&(r[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},n.prototype.filter=function(e,t){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,s=r.model,o=r.view;if(!s||!o)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,s,"mainType")&&c(l,s,"subType")&&c(l,s,"index","componentIndex")&&c(l,s,"name")&&c(l,s,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,i,a));function c(f,d,h,p){return f[h]==null||d[p||h]===f[h]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n})(),q6=["symbol","symbolSize","symbolRotate","symbolOffset"],jY=q6.concat(["symbolKeepAspect"]),AEe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var r={},i={},a=!1,s=0;s<q6.length;s++){var o=q6[s],l=n.get(o);Xt(l)?(a=!0,i[o]=l):r[o]=l}if(r.symbol=r.symbol||n.defaultSymbol,t.setVisual(at({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),e.isSeriesFiltered(n))return;var u=$n(i);function c(f,d){for(var h=n.getRawValue(d),p=n.getDataParams(d),m=0;m<u.length;m++){var g=u[m];f.setItemVisual(d,g,i[g](h,p))}}return{dataEach:a?c:null}}},MEe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function r(i,a){for(var s=i.getItemModel(a),o=0;o<jY.length;o++){var l=jY[o],u=s.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:t.hasItemOption?r:null}}};function UV(n,e,t){switch(t){case"color":var r=n.getItemVisual(e,"style");return r[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function $A(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function vle(n,e,t,r){switch(t){case"color":var i=n.ensureUniqueItemVisual(e,"style");i[n.getVisual("drawType")]=r,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,r);break}}function mle(n,e){function t(r,i){var a=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(s){a.push(s.seriesIndex)}),a}ie([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){e(r[0],function(i,a,s){i=at({},i),s.dispatchAction(at(i,{type:r[1],seriesIndex:t(a,i)}))})})}function O1(n,e,t,r,i){var a=n+e;t.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===o){var f=s.getData(),d=Py(f,i.fromActionPayload);t.trigger(a,{type:a,seriesId:s.id,name:ft(d)?f.getName(d[0]):f.getName(d),selected:Lt(l)?l:at({},l)})}})}function EEe(n,e,t){n.on("selectchanged",function(r){var i=t.getModel();r.isFromClick?(O1("map","selectchanged",e,i,r),O1("pie","selectchanged",e,i,r)):r.fromAction==="select"?(O1("map","selected",e,i,r),O1("pie","selected",e,i,r)):r.fromAction==="unselect"&&(O1("map","unselected",e,i,r),O1("pie","unselected",e,i,r))})}function cy(n,e,t){for(var r;n&&!(e(n)&&(r=n,t));)n=n.__hostTarget||n.parent;return r}var DEe=Math.round(Math.random()*9),REe=typeof Object.defineProperty=="function",NEe=(function(){function n(){this._id="__ec_inner_"+DEe++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var r=this._guard(e);return REe?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n})(),IEe=Hn.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r+a),n.lineTo(t-i,r+a),n.closePath()}}),kEe=Hn.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r),n.lineTo(t,r+a),n.lineTo(t-i,r),n.closePath()}}),LEe=Hn.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),s=i/2,o=s*s/(a-s),l=r-a+s+o,u=Math.asin(o/s),c=Math.cos(u)*s,f=Math.sin(u),d=Math.cos(u),h=s*.6,p=s*.7;n.moveTo(t-c,l+o),n.arc(t,l,s,Math.PI-u,Math.PI*2+u),n.bezierCurveTo(t+c-f*h,l+o+d*h,t,r-p,t,r),n.bezierCurveTo(t,r-p,t-c+f*h,l+o+d*h,t-c,l+o),n.closePath()}}),PEe=Hn.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.width,i=e.x,a=e.y,s=r/3*2;n.moveTo(i,a),n.lineTo(i+s,a+t),n.lineTo(i,a+t/4*3),n.lineTo(i-s,a+t),n.lineTo(i,a),n.closePath()}}),OEe={line:ha,rect:Pn,roundRect:Pn,square:Pn,circle:ah,diamond:kEe,pin:LEe,arrow:PEe,triangle:IEe},FEe={line:function(n,e,t,r,i){i.x1=n,i.y1=e+r/2,i.x2=n+t,i.y2=e+r/2},rect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r},roundRect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r,i.r=Math.min(t,r)/4},square:function(n,e,t,r,i){var a=Math.min(t,r);i.x=n,i.y=e,i.width=a,i.height=a},circle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.r=Math.min(t,r)/2},diamond:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r},pin:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},arrow:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},triangle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r}},kN={};ie(OEe,function(n,e){kN[e]=new n});var BEe=Hn.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var r=bN(n,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=t.y+t.height*.4),r},buildPath:function(n,e,t){var r=e.symbolType;if(r!=="none"){var i=kN[r];i||(r="rect",i=kN[r]),FEe[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(n,i.shape,t)}}});function zEe(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||qe.color.neutral00,t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function va(n,e,t,r,i,a,s){var o=n.indexOf("empty")===0;o&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=fV(n.slice(8),new cn(e,t,r,i),s?"center":"cover"):n.indexOf("path://")===0?l=gb(n.slice(7),{},new cn(e,t,r,i),s?"center":"cover"):l=new BEe({shape:{symbolType:n,x:e,y:t,width:r,height:i}}),l.__isEmptyBrush=o,l.setColor=zEe,a&&l.setColor(a),l}function lS(n){return ft(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function rx(n,e){if(n!=null)return ft(n)||(n=[n,n]),[kt(n[0],e[0])||0,kt(Wt(n[1],n[0]),e[1])||0]}function fy(n){return isFinite(n)}function UEe(n,e,t){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(r=r*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,s=s*t.height+t.y),r=fy(r)?r:0,i=fy(i)?i:1,a=fy(a)?a:0,s=fy(s)?s:0;var o=n.createLinearGradient(r,a,i,s);return o}function VEe(n,e,t){var r=t.width,i=t.height,a=Math.min(r,i),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*r+t.x,o=o*i+t.y,l=l*a),s=fy(s)?s:.5,o=fy(o)?o:.5,l=l>=0&&fy(l)?l:.5;var u=n.createRadialGradient(s,o,0,s,o,l);return u}function X6(n,e,t){for(var r=e.type==="radial"?VEe(n,e,t):UEe(n,e,t),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function GEe(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function D3(n){return parseInt(n,10)}function O_(n,e,t){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var o=document.defaultView.getComputedStyle(n);return(n[i]||D3(o[r])||D3(n.style[r]))-(D3(o[a])||0)-(D3(o[s])||0)|0}function HEe(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:nr(n)?[n]:ft(n)?n:null}function VV(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&HEe(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(t){var i=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&i!==1&&(t=ht(t,function(a){return a/i}),r/=i)}return[t,r]}var jEe=new Jd(!0);function LN(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function WY(n){return typeof n=="string"&&n!=="none"}function PN(n){var e=n.fill;return e!=null&&e!=="none"}function YY(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function qY(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function Z6(n,e,t){var r=eV(e.image,e.__image,t);if(tL(r)){var i=n.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*DT),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function WEe(n,e,t,r){var i,a=LN(t),s=PN(t),o=t.strokePercent,l=o<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||jEe,f=e.__dirty;if(!r){var d=t.fill,h=t.stroke,p=s&&!!d.colorStops,m=a&&!!h.colorStops,g=s&&!!d.image,y=a&&!!h.image,_=void 0,S=void 0,A=void 0,M=void 0,E=void 0;(p||m)&&(E=e.getBoundingRect()),p&&(_=f?X6(n,d,E):e.__canvasFillGradient,e.__canvasFillGradient=_),m&&(S=f?X6(n,h,E):e.__canvasStrokeGradient,e.__canvasStrokeGradient=S),g&&(A=f||!e.__canvasFillPattern?Z6(n,d,e):e.__canvasFillPattern,e.__canvasFillPattern=A),y&&(M=f||!e.__canvasStrokePattern?Z6(n,h,e):e.__canvasStrokePattern,e.__canvasStrokePattern=M),p?n.fillStyle=_:g&&(A?n.fillStyle=A:s=!1),m?n.strokeStyle=S:y&&(M?n.strokeStyle=M:a=!1)}var D=e.getGlobalScale();c.setScale(D[0],D[1],e.segmentIgnoreThreshold);var I,N;n.setLineDash&&t.lineDash&&(i=VV(e),I=i[0],N=i[1]);var L=!0;(u||f&A_)&&(c.setDPR(n.dpr),l?c.setContext(null):(c.setContext(n),L=!1),c.reset(),e.buildPath(c,e.shape,r),c.toStatic(),e.pathUpdated()),L&&c.rebuildPath(n,l?o:1),I&&(n.setLineDash(I),n.lineDashOffset=N),r||(t.strokeFirst?(a&&qY(n,t),s&&YY(n,t)):(s&&YY(n,t),a&&qY(n,t))),I&&n.setLineDash([])}function YEe(n,e,t){var r=e.__image=eV(t.image,e.__image,e,e.onload);if(!(!r||!tL(r))){var i=t.x||0,a=t.y||0,s=e.getWidth(),o=e.getHeight(),l=r.width/r.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=r.width,o=r.height),t.sWidth&&t.sHeight){var u=t.sx||0,c=t.sy||0;n.drawImage(r,u,c,t.sWidth,t.sHeight,i,a,s,o)}else if(t.sx&&t.sy){var u=t.sx,c=t.sy,f=s-u,d=o-c;n.drawImage(r,u,c,f,d,i,a,s,o)}else n.drawImage(r,i,a,s,o)}}function qEe(n,e,t){var r,i=t.text;if(i!=null&&(i+=""),i){n.font=t.font||Dp,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var a=void 0,s=void 0;n.setLineDash&&t.lineDash&&(r=VV(e),a=r[0],s=r[1]),a&&(n.setLineDash(a),n.lineDashOffset=s),t.strokeFirst?(LN(t)&&n.strokeText(i,t.x,t.y),PN(t)&&n.fillText(i,t.x,t.y)):(PN(t)&&n.fillText(i,t.x,t.y),LN(t)&&n.strokeText(i,t.x,t.y)),a&&n.setLineDash([])}}var XY=["shadowBlur","shadowOffsetX","shadowOffsetY"],ZY=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function gle(n,e,t,r,i){var a=!1;if(!r&&(t=t||{},e===t))return!1;if(r||e.opacity!==t.opacity){Vl(n,i),a=!0;var s=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(s)?_y.opacity:s}(r||e.blend!==t.blend)&&(a||(Vl(n,i),a=!0),n.globalCompositeOperation=e.blend||_y.blend);for(var o=0;o<XY.length;o++){var l=XY[o];(r||e[l]!==t[l])&&(a||(Vl(n,i),a=!0),n[l]=n.dpr*(e[l]||0))}return(r||e.shadowColor!==t.shadowColor)&&(a||(Vl(n,i),a=!0),n.shadowColor=e.shadowColor||_y.shadowColor),a}function KY(n,e,t,r,i){var a=FC(e,i.inHover),s=r?null:t&&FC(t,i.inHover)||{};if(a===s)return!1;var o=gle(n,a,s,r,i);if((r||a.fill!==s.fill)&&(o||(Vl(n,i),o=!0),WY(a.fill)&&(n.fillStyle=a.fill)),(r||a.stroke!==s.stroke)&&(o||(Vl(n,i),o=!0),WY(a.stroke)&&(n.strokeStyle=a.stroke)),(r||a.opacity!==s.opacity)&&(o||(Vl(n,i),o=!0),n.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==u&&(o||(Vl(n,i),o=!0),n.lineWidth=u)}for(var c=0;c<ZY.length;c++){var f=ZY[c],d=f[0];(r||a[d]!==s[d])&&(o||(Vl(n,i),o=!0),n[d]=a[d]||f[1])}return o}function XEe(n,e,t,r,i){return gle(n,FC(e,i.inHover),t&&FC(t,i.inHover),r,i)}function yle(n,e){var t=e.transform,r=n.dpr||1;t?n.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):n.setTransform(r,0,0,r,0,0)}function ZEe(n,e,t){for(var r=!1,i=0;i<n.length;i++){var a=n[i];r=r||a.isZeroArea(),yle(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=r}function KEe(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var $Y=1,JY=2,QY=3,eq=4;function $Ee(n){var e=PN(n),t=LN(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function Vl(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function FC(n,e){return e&&n.__hoverStyle||n.style}function GV(n,e){dy(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function dy(n,e,t,r){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~vu,e.__isRendered=!1;return}var a=e.__clipPaths,s=t.prevElClipPaths,o=!1,l=!1;if((!s||GEe(a,s))&&(s&&s.length&&(Vl(n,t),n.restore(),l=o=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(Vl(n,t),n.save(),ZEe(a,n,t),o=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=t.prevEl;u||(l=o=!0);var c=e instanceof Hn&&e.autoBatch&&$Ee(e.style);o||KEe(i,u.transform)?(Vl(n,t),yle(n,e)):c||Vl(n,t);var f=FC(e,t.inHover);e instanceof Hn?(t.lastDrawType!==$Y&&(l=!0,t.lastDrawType=$Y),KY(n,e,u,l,t),(!c||!t.batchFill&&!t.batchStroke)&&n.beginPath(),WEe(n,e,f,c),c&&(t.batchFill=f.fill||"",t.batchStroke=f.stroke||"")):e instanceof mb?(t.lastDrawType!==QY&&(l=!0,t.lastDrawType=QY),KY(n,e,u,l,t),qEe(n,e,f)):e instanceof ps?(t.lastDrawType!==JY&&(l=!0,t.lastDrawType=JY),XEe(n,e,u,l,t),YEe(n,e,f)):e.getTemporalDisplayables&&(t.lastDrawType!==eq&&(l=!0,t.lastDrawType=eq),JEe(n,e,t)),c&&r&&Vl(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function JEe(n,e,t){var r=e.getDisplayables(),i=e.getTemporalDisplayables();n.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,o;for(s=e.getCursor(),o=r.length;s<o;s++){var l=r[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),dy(n,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),dy(n,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var m5=new NEe,tq=new hb(100),nq=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function _b(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";n.dirty&&m5.delete(n);var a=m5.get(n);if(a)return a;var s=sn(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/t,m5.set(n,o),n.dirty=!1,o;function l(u){for(var c=[t],f=!0,d=0;d<nq.length;++d){var h=s[nq[d]];if(h!=null&&!ft(h)&&!Lt(h)&&!nr(h)&&typeof h!="boolean"){f=!1;break}c.push(h)}var p;if(f){p=c.join(",")+(i?"-svg":"");var m=tq.get(p);m&&(i?u.svgElement=m:u.image=m)}var g=_le(s.dashArrayX),y=QEe(s.dashArrayY),_=xle(s.symbol),S=e3e(g),A=ble(y),M=!i&&ql.createCanvas(),E=i&&{tag:"g",attrs:{},key:"dcl",children:[]},D=N(),I;M&&(M.width=D.width*t,M.height=D.height*t,I=M.getContext("2d")),L(),f&&tq.put(p,M||E),u.image=M,u.svgElement=E,u.svgWidth=D.width,u.svgHeight=D.height;function N(){for(var B=1,O=0,G=S.length;O<G;++O)B=yW(B,S[O]);for(var V=1,O=0,G=_.length;O<G;++O)V=yW(V,_[O].length);B*=V;var q=A*S.length*_.length;return{width:Math.max(1,Math.min(B,s.maxTileWidth)),height:Math.max(1,Math.min(q,s.maxTileHeight))}}function L(){I&&(I.clearRect(0,0,M.width,M.height),s.backgroundColor&&(I.fillStyle=s.backgroundColor,I.fillRect(0,0,M.width,M.height)));for(var B=0,O=0;O<y.length;++O)B+=y[O];if(B<=0)return;for(var G=-A,V=0,q=0,W=0;G<D.height;){if(V%2===0){for(var Z=q/2%_.length,X=0,K=0,se=0;X<D.width*2;){for(var J=0,O=0;O<g[W].length;++O)J+=g[W][O];if(J<=0)break;if(K%2===0){var H=(1-s.symbolSize)*.5,ee=X+g[W][K]*H,Q=G+y[V]*H,ne=g[W][K]*s.symbolSize,ce=y[V]*s.symbolSize,ve=se/2%_[Z].length;xe(ee,Q,ne,ce,_[Z][ve])}X+=g[W][K],++se,++K,K===g[W].length&&(K=0)}++W,W===g.length&&(W=0)}G+=y[V],++q,++V,V===y.length&&(V=0)}function xe(we,Ae,Ue,pe,pt){var te=i?1:t,oe=va(pt,we*te,Ae*te,Ue*te,pe*te,s.color,s.symbolKeepAspect);if(i){var ge=r.painter.renderOneToVNode(oe);ge&&E.children.push(ge)}else GV(I,oe)}}}}function xle(n){if(!n||n.length===0)return[["rect"]];if(Lt(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!Lt(n[t])){e=!1;break}if(e)return xle([n]);for(var r=[],t=0;t<n.length;++t)Lt(n[t])?r.push([n[t]]):r.push(n[t]);return r}function _le(n){if(!n||n.length===0)return[[0,0]];if(nr(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,r=0;r<n.length;++r)if(!nr(n[r])){t=!1;break}if(t)return _le([n]);for(var i=[],r=0;r<n.length;++r)if(nr(n[r])){var e=Math.ceil(n[r]);i.push([e,e])}else{var e=ht(n[r],function(o){return Math.ceil(o)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function QEe(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(nr(n)){var e=Math.ceil(n);return[e,e]}var t=ht(n,function(r){return Math.ceil(r)});return n.length%2?t.concat(t):t}function e3e(n){return ht(n,function(e){return ble(e)})}function ble(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function t3e(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(s){var o=r.getItemVisual(s,"decal");if(o){var l=r.ensureUniqueItemVisual(s,"style");l.decal=_b(o,e)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=_b(i,e)}}})}var df=new Dc,Sle={};function n3e(n,e){Sle[n]=e}function wle(n){return Sle[n]}var Tle={};function Cle(n,e){Tle[n]=e}function r3e(n){return Tle[n]}var i3e="6.0.0",a3e={zrender:"6.0.0"},s3e=1,o3e=800,l3e=900,u3e=1e3,c3e=2e3,f3e=5e3,Ale=1e3,d3e=1100,HV=2e3,Mle=3e3,h3e=4e3,mL=4500,p3e=4600,v3e=5e3,m3e=6e3,Ele=7e3,Dle={PROCESSOR:{FILTER:u3e,SERIES_FILTER:o3e,STATISTIC:f3e},VISUAL:{LAYOUT:Ale,PROGRESSIVE_LAYOUT:d3e,GLOBAL:HV,CHART:Mle,POST_CHART_LAYOUT:p3e,COMPONENT:h3e,BRUSH:v3e,CHART_ITEM:mL,ARIA:m3e,DECAL:Ele}},Ba="__flagInMainProcess",R3="__mainProcessVersion",As="__pendingUpdate",g5="__needsUpdateStatus",rq=/^[a-zA-Z0-9_]+$/,y5="__connectUpdateStatus",iq=0,g3e=1,y3e=2;function Rle(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return Ile(this,n,e)}}function Nle(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ile(this,n,e)}}function Ile(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Dc.prototype[e].apply(n,t)}var kle=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(Dc),Lle=kle.prototype;Lle.on=Nle("on");Lle.off=Nle("off");var bg,x5,N3,Vh,I3,_5,b5,F1,B1,aq,sq,S5,oq,k3,lq,Ple,Ju,uq,z1,ON=(function(n){Xe(e,n);function e(t,r,i){var a=n.call(this,new CEe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},a._dom=t;var s="canvas",o="auto",l=!1;a[R3]=1,i.ssr&&ose(function(d){var h=fn(d),p=h.dataIndex;if(p!=null){var m=jt();return m.set("series_index",h.seriesIndex),m.set("data_index",p),h.ssrType&&m.set("ssr_type",h.ssrType),m}});var u=a._zr=g6(t,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Wt(i.useDirtyRect,l),useCoarsePointer:Wt(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=vL(Ot(u.flush,u),17),a._updateTheme(r),a._locale=TAe(i.locale||foe),a._coordSysMgr=new aS;var c=a._api=lq(a);function f(d,h){return d.__prio-h.__prio}return DR(BN,f),DR(J6,f),a._scheduler=new cle(a,c,J6,BN),a._messageCenter=new kle,a._initEvents(),a.resize=Ot(a.resize,a),u.animation.on("frame",a._onframe,a),aq(u,a),sq(u,a),bC(a),a}return e.prototype._onframe=function(){if(!this._disposed){uq(this);var t=this._scheduler;if(this[As]){var r=this[As].silent;this[Ba]=!0,z1(this);try{bg(this),Vh.update.call(this,null,this[As].updateParams)}catch(l){throw this[Ba]=!1,this[As]=null,l}this._zr.flush(),this[Ba]=!1,this[As]=null,F1.call(this,r),B1.call(this,r)}else if(t.unfinished){var i=s3e,a=this._model,s=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),_5(this,a),t.performVisualTasks(a),k3(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,r,i){if(!this[Ba]){if(this._disposed){this.id;return}var a,s,o;if(on(r)&&(i=r.lazyUpdate,a=r.silent,s=r.replaceMerge,o=r.transition,r=r.notMerge),this[Ba]=!0,z1(this),!this._model||r){var l=new oMe(this._api),u=this._theme,c=this._model=new PV;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(t,{replaceMerge:s},Q6);var f={seriesTransition:o,optionChanged:!0};if(i)this[As]={silent:a,updateParams:f},this[Ba]=!1,this.getZr().wakeUp();else{try{bg(this),Vh.update.call(this,null,f)}catch(d){throw this[As]=null,this[Ba]=!1,d}this._ssr||this._zr.flush(),this[As]=null,this[Ba]=!1,F1.call(this,a),B1.call(this,a)}}},e.prototype.setTheme=function(t,r){if(!this[Ba]){if(this._disposed){this.id;return}var i=this._model;if(i){var a=r&&r.silent,s=null;this[As]&&(a==null&&(a=this[As].silent),s=this[As].updateParams,this[As]=null),this[Ba]=!0,z1(this);try{this._updateTheme(t),i.setTheme(this._theme),bg(this),Vh.update.call(this,{type:"setTheme"},s)}catch(o){throw this[Ba]=!1,o}this[Ba]=!1,F1.call(this,a),B1.call(this,a)}}},e.prototype._updateTheme=function(t){Lt(t)&&(t=Ole[t]),t&&(t=tn(t),t&&zoe(t,!0),this._theme=t)},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Zn.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var r=this._zr.painter;return r.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){var t=this._zr,r=t.storage.getDisplayList();return ie(r,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var r=t.excludeComponents,i=this._model,a=[],s=this;ie(r,function(l){i.eachComponent({mainType:l},function(u){var c=s._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return ie(a,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var r=t.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(zN[i]){var l=o,u=o,c=-o,f=-o,d=[],h=t&&t.pixelRatio||this.getDevicePixelRatio();ie(wy,function(S,A){if(S.group===i){var M=r?S.getZr().painter.getSvgDom().innerHTML:S.renderToCanvas(tn(t)),E=S.getDom().getBoundingClientRect();l=a(E.left,l),u=a(E.top,u),c=s(E.right,c),f=s(E.bottom,f),d.push({dom:M,left:E.left,top:E.top})}}),l*=h,u*=h,c*=h,f*=h;var p=c-l,m=f-u,g=ql.createCanvas(),y=g6(g,{renderer:r?"svg":"canvas"});if(y.resize({width:p,height:m}),r){var _="";return ie(d,function(S){var A=S.left-l,M=S.top-u;_+='<g transform="translate('+A+","+M+')">'+S.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=_,t.connectedBackgroundColor&&y.painter.setBackgroundColor(t.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return t.connectedBackgroundColor&&y.add(new Pn({shape:{x:0,y:0,width:p,height:m},style:{fill:t.connectedBackgroundColor}})),ie(d,function(S){var A=new ps({style:{x:S.left*h-l,y:S.top*h-u,image:S.dom}});y.add(A)}),y.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,r,i){return I3(this,"convertToPixel",t,r,i)},e.prototype.convertToLayout=function(t,r,i){return I3(this,"convertToLayout",t,r,i)},e.prototype.convertFromPixel=function(t,r,i){return I3(this,"convertFromPixel",t,r,i)},e.prototype.containPixel=function(t,r){if(this._disposed){this.id;return}var i=this._model,a,s=$_(i,t);return ie(s,function(o,l){l.indexOf("Models")>=0&&ie(o,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(r);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(r,u))}},this)},this),!!a},e.prototype.getVisual=function(t,r){var i=this._model,a=$_(i,t,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?UV(o,l,r):$A(o,r)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;ie(x3e,function(i){var a=function(s){var o=t.getModel(),l=s.target,u,c=i==="globalout";if(c?u={}:l&&cy(l,function(m){var g=fn(m);if(g&&g.dataIndex!=null){var y=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return u=y&&y.getDataParams(g.dataIndex,g.dataType,l)||{},!0}else if(g.eventData)return u=at({},g.eventData),!0},!0),u){var f=u.componentType,d=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",d=u.seriesIndex);var h=f&&d!=null&&o.getComponent(f,d),p=h&&t[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];u.event=s,u.type=i,t._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:h,view:p},t.trigger(i,u)}};a.zrEventfulCallAtLast=!0,t._zr.on(i,a,t)});var r=this._messageCenter;ie($6,function(i,a){r.on(a,function(s){t.trigger(a,s)})}),EEe(r,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&xse(this.getDom(),WV,"");var r=this,i=r._api,a=r._model;ie(r._componentsViews,function(s){s.dispose(a,i)}),ie(r._chartsViews,function(s){s.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete wy[r.id]},e.prototype.resize=function(t){if(!this[Ba]){if(this._disposed){this.id;return}this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=t&&t.silent;this[As]&&(a==null&&(a=this[As].silent),i=!0,this[As]=null),this[Ba]=!0,z1(this);try{i&&bg(this),Vh.update.call(this,{type:"resize",animation:at({duration:0},t&&t.animation)})}catch(s){throw this[Ba]=!1,s}this[Ba]=!1,F1.call(this,a),B1.call(this,a)}}},e.prototype.showLoading=function(t,r){if(this._disposed){this.id;return}if(on(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),!!e8[t]){var i=e8[t](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var r=at({},t);return r.type=K6[t.type],r},e.prototype.dispatchAction=function(t,r){if(this._disposed){this.id;return}if(on(r)||(r={silent:!!r}),!!FN[t.type]&&this._model){if(this[Ba]){this._pendingActions.push(t);return}var i=r.silent;b5.call(this,t,i);var a=r.flush;a?this._zr.flush():a!==!1&&Zn.browser.weChat&&this._throttledZrFlush(),F1.call(this,i),B1.call(this,i)}},e.prototype.updateLabelLayout=function(){df.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var r=t.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=(function(){bg=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),x5(f,!0),x5(f,!1),d.plan()},x5=function(f,d){for(var h=f._model,p=f._scheduler,m=d?f._componentsViews:f._chartsViews,g=d?f._componentsMap:f._chartsMap,y=f._zr,_=f._api,S=0;S<m.length;S++)m[S].__alive=!1;d?h.eachComponent(function(E,D){E!=="series"&&A(D)}):h.eachSeries(A);function A(E){var D=E.__requireNewView;E.__requireNewView=!1;var I="_ec_"+E.id+"_"+E.type,N=!D&&g[I];if(!N){var L=Od(E.type),B=d?ri.getClass(L.main,L.sub):Fr.getClass(L.sub);N=new B,N.init(h,_),g[I]=N,m.push(N),y.add(N.group)}E.__viewId=N.__id=I,N.__alive=!0,N.__model=E,N.group.__ecComponentInfo={mainType:E.mainType,index:E.componentIndex},!d&&p.prepareView(N,E,h,_)}for(var S=0;S<m.length;){var M=m[S];M.__alive?S++:(!d&&M.renderTask.dispose(),y.remove(M.group),M.dispose(h,_),m.splice(S,1),g[M.__id]===M&&delete g[M.__id],M.__id=M.group.__ecComponentInfo=null)}},N3=function(f,d,h,p,m){var g=f._model;if(g.setUpdatePayload(h),!p){ie([].concat(f._componentsViews).concat(f._chartsViews),M);return}var y={};y[p+"Id"]=h[p+"Id"],y[p+"Index"]=h[p+"Index"],y[p+"Name"]=h[p+"Name"];var _={mainType:p,query:y};m&&(_.subType=m);var S=h.excludeSeriesId,A;S!=null&&(A=jt(),ie(ni(S),function(E){var D=ja(E,null);D!=null&&A.set(D,!0)})),g&&g.eachComponent(_,function(E){var D=A&&A.get(E.id)!=null;if(!D)if(qW(h))if(E instanceof Yr)h.type===by&&!h.notBlur&&!E.get(["emphasis","disabled"])&&ACe(E,h,f._api);else{var I=oV(E.mainType,E.componentIndex,h.name,f._api),N=I.focusSelf,L=I.dispatchers;h.type===by&&N&&!h.notBlur&&D6(E.mainType,E.componentIndex,f._api),L&&ie(L,function(B){h.type===by?Np(B):Ip(B)})}else N6(h)&&E instanceof Yr&&(DCe(E,h,f._api),WW(E),Ju(f))},f),g&&g.eachComponent(_,function(E){var D=A&&A.get(E.id)!=null;D||M(f[p==="series"?"_chartsMap":"_componentsMap"][E.__viewId])},f);function M(E){E&&E.__alive&&E[d]&&E[d](E.__model,g,f._api,h)}},Vh={prepareAndUpdate:function(f){bg(this),Vh.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,p=this._api,m=this._zr,g=this._coordSysMgr,y=this._scheduler;if(h){h.setUpdatePayload(f),y.restoreData(h,f),y.performSeriesTasks(h),g.create(h,p),y.performDataProcessorTasks(h,f),_5(this,h),g.update(h,p),r(h),y.performVisualTasks(h,f);var _=h.get("backgroundColor")||"transparent";m.setBackgroundColor(_);var S=h.get("darkMode");S!=null&&S!=="auto"&&m.setDarkMode(S),S5(this,h,p,f,d),df.trigger("afterupdate",h,p)}},updateTransform:function(f){var d=this,h=this._model,p=this._api;if(h){h.setUpdatePayload(f);var m=[];h.eachComponent(function(y,_){if(y!=="series"){var S=d.getViewOfComponentModel(_);if(S&&S.__alive)if(S.updateTransform){var A=S.updateTransform(_,h,p,f);A&&A.update&&m.push(S)}else m.push(S)}});var g=jt();h.eachSeries(function(y){var _=d._chartsMap[y.__viewId];if(_.updateTransform){var S=_.updateTransform(y,h,p,f);S&&S.update&&g.set(y.uid,1)}else g.set(y.uid,1)}),r(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:g}),k3(this,h,p,f,{},g),df.trigger("afterupdate",h,p)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),Fr.markUpdateMethod(f,"updateView"),r(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),S5(this,d,this._api,f,{}),df.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(p){p.getData().clearAllVisual()}),Fr.markUpdateMethod(f,"updateVisual"),r(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(p,m){if(p!=="series"){var g=d.getViewOfComponentModel(m);g&&g.__alive&&g.updateVisual(m,h,d._api,f)}}),h.eachSeries(function(p){var m=d._chartsMap[p.__viewId];m.updateVisual(p,h,d._api,f)}),df.trigger("afterupdate",h,this._api))},updateLayout:function(f){Vh.update.call(this,f)}};function t(f,d,h,p,m){if(f._disposed){f.id;return}for(var g=f._model,y=f._coordSysMgr.getCoordinateSystems(),_,S=$_(g,h),A=0;A<y.length;A++){var M=y[A];if(M[d]&&(_=M[d](g,S,p,m))!=null)return _}}I3=t,_5=function(f,d){var h=f._chartsMap,p=f._scheduler;d.eachSeries(function(m){p.updateStreamModes(m,h[m.__viewId])})},b5=function(f,d){var h=this,p=this.getModel(),m=f.type,g=f.escapeConnect,y=FN[m],_=(y.update||"update").split(":"),S=_.pop(),A=_[0]!=null&&Od(_[0]);this[Ba]=!0,z1(this);var M=[f],E=!1;f.batch&&(E=!0,M=ht(f.batch,function(W){return W=sn(at({},W),f),W.batch=null,W}));var D=[],I,N=[],L=y.nonRefinedEventType,B=N6(f),O=qW(f);if(O&&Vse(this._api),ie(M,function(W){var Z=y.action(W,p,h._api);if(y.refineEvent?N.push(Z):I=Z,I=I||at({},W),I.type=L,D.push(I),O){var X=JU(f),K=X.queryOptionMap,se=X.mainTypeSpecified,J=se?K.keys()[0]:"series";N3(h,S,W,J),Ju(h)}else B?(N3(h,S,W,"series"),Ju(h)):A&&N3(h,S,W,A.main,A.sub)}),S!=="none"&&!O&&!B&&!A)try{this[As]?(bg(this),Vh.update.call(this,f),this[As]=null):Vh[S].call(this,f)}catch(W){throw this[Ba]=!1,W}if(E?I={type:L,escapeConnect:g,batch:D}:I=D[0],this[Ba]=!1,!d){var G=void 0;if(y.refineEvent){var V=y.refineEvent(N,f,p,this._api).eventContent;to(on(V)),G=sn({type:y.refinedEventType},V),G.fromAction=f.type,G.fromActionPayload=f,G.escapeConnect=!0}var q=this._messageCenter;q.trigger(I.type,I),G&&q.trigger(G.type,G)}},F1=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();b5.call(this,h,f)}},B1=function(f){!f&&this.trigger("updated")},aq=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[As]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},sq=function(f,d){f.on("mouseover",function(h){var p=h.target,m=cy(p,RC);m&&(MCe(m,h,d._api),Ju(d))}).on("mouseout",function(h){var p=h.target,m=cy(p,RC);m&&(ECe(m,h,d._api),Ju(d))}).on("click",function(h){var p=h.target,m=cy(p,function(_){return fn(_).dataIndex!=null},!0);if(m){var g=m.selected?"unselect":"select",y=fn(m);d._api.dispatchAction({type:g,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})};function r(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function i(f){var d=[],h=[],p=!1;if(f.eachComponent(function(_,S){var A=S.get("zlevel")||0,M=S.get("z")||0,E=S.getZLevelKey();p=p||!!E,(_==="series"?h:d).push({zlevel:A,z:M,idx:S.componentIndex,type:_,key:E})}),p){var m=d.concat(h),g,y;DR(m,function(_,S){return _.zlevel===S.zlevel?_.z-S.z:_.zlevel-S.zlevel}),ie(m,function(_){var S=f.getComponent(_.type,_.idx),A=_.zlevel,M=_.key;g!=null&&(A=Math.max(g,A)),M?(A===g&&M!==y&&A++,y=M):y&&(A===g&&A++,y=""),g=A,S.setZLevel(A)})}}S5=function(f,d,h,p,m){i(d),oq(f,d,h,p,m),ie(f._chartsViews,function(g){g.__alive=!1}),k3(f,d,h,p,m),ie(f._chartsViews,function(g){g.__alive||g.remove(d,h)})},oq=function(f,d,h,p,m,g){ie(g||f._componentsViews,function(y){var _=y.__model;u(_,y),y.render(_,d,h,p),l(_,y),c(_,y)})},k3=function(f,d,h,p,m,g){var y=f._scheduler;m=at(m||{},{updatedSeries:d.getSeries()}),df.trigger("series:beforeupdate",d,h,m);var _=!1;d.eachSeries(function(S){var A=f._chartsMap[S.__viewId];A.__alive=!0;var M=A.renderTask;y.updatePayload(M,p),u(S,A),g&&g.get(S.uid)&&M.dirty(),M.perform(y.getPerformArgs(M))&&(_=!0),A.group.silent=!!S.get("silent"),o(S,A),WW(S)}),y.unfinished=_||y.unfinished,df.trigger("series:layoutlabels",d,h,m),df.trigger("series:transition",d,h,m),d.eachSeries(function(S){var A=f._chartsMap[S.__viewId];l(S,A),c(S,A)}),s(f,d),df.trigger("series:afterupdate",d,h,m)},Ju=function(f){f[g5]=!0,f.getZr().wakeUp()},z1=function(f){f[R3]=(f[R3]+1)%1e3},uq=function(f){f[g5]&&(f.getZr().storage.traverse(function(d){J_(d)||a(d)}),f[g5]=!1)};function a(f){for(var d=[],h=f.currentStates,p=0;p<h.length;p++){var m=h[p];m==="emphasis"||m==="blur"||m==="select"||d.push(m)}f.selected&&f.states.select&&d.push("select"),f.hoverState===sL&&f.states.emphasis?d.push("emphasis"):f.hoverState===jA&&f.states.blur&&d.push("blur"),f.useStates(d)}function s(f,d){var h=f._zr,p=h.storage,m=0;p.traverse(function(g){g.isGroup||m++}),m>d.get("hoverLayerThreshold")&&!Zn.node&&!Zn.worker&&d.eachSeries(function(g){if(!g.preventUsingHoverLayer){var y=f._chartsMap[g.__viewId];y.__alive&&y.eachRendered(function(_){_.states.emphasis&&(_.states.emphasis.hoverLayer=!0)})}})}function o(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(p){p.isGroup||(p.style.blend=h)})}function l(f,d){if(!f.preventAutoZ){var h=zy(f);d.eachRendered(function(p){return uL(p,h.z,h.zlevel),!0})}}function u(f,d){d.eachRendered(function(h){if(!J_(h)){var p=h.getTextContent(),m=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function c(f,d){var h=f.getModel("stateAnimation"),p=f.isAnimationEnabled(),m=h.get("duration"),g=m>0?{duration:m,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(y){if(y.states&&y.states.emphasis){if(J_(y))return;if(y instanceof Hn&&PCe(y),y.__dirty){var _=y.prevStates;_&&y.useStates(_)}if(p){y.stateTransition=g;var S=y.getTextContent(),A=y.getTextGuideLine();S&&(S.stateTransition=g),A&&(A.stateTransition=g)}y.__dirty&&a(y)}})}lq=function(f){return new((function(d){Xe(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(p){for(;p;){var m=p.__ecComponentInfo;if(m!=null)return f._model.getComponent(m.mainType,m.index);p=p.parent}},h.prototype.enterEmphasis=function(p,m){Np(p,m),Ju(f)},h.prototype.leaveEmphasis=function(p,m){Ip(p,m),Ju(f)},h.prototype.enterBlur=function(p){Fse(p),Ju(f)},h.prototype.leaveBlur=function(p){sV(p),Ju(f)},h.prototype.enterSelect=function(p){Bse(p),Ju(f)},h.prototype.leaveSelect=function(p){zse(p),Ju(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(p){return f.getViewOfComponentModel(p)},h.prototype.getViewOfSeriesModel=function(p){return f.getViewOfSeriesModel(p)},h.prototype.getMainProcessVersion=function(){return f[R3]},h})(Foe))(f)},Ple=function(f){function d(h,p){for(var m=0;m<h.length;m++){var g=h[m];g[y5]=p}}ie(K6,function(h,p){f._messageCenter.on(p,function(m){if(zN[f.group]&&f[y5]!==iq){if(m&&m.escapeConnect)return;var g=f.makeActionFromEvent(m),y=[];ie(wy,function(_){_!==f&&_.group===f.group&&y.push(_)}),d(y,iq),ie(y,function(_){_[y5]!==g3e&&_.dispatchAction(g)}),d(y,y3e)}})})}})(),e})(Dc),jV=ON.prototype;jV.on=Rle("on");jV.off=Rle("off");jV.one=function(n,e,t){var r=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),r.off(n,i)}this.on.call(this,n,i,t)};var x3e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var FN={},K6={},$6={},J6=[],Q6=[],BN=[],Ole={},e8={},wy={},zN={},_3e=+new Date-0,b3e=+new Date-0,WV="_echarts_instance_";function S3e(n,e,t){var r=!(t&&t.ssr);if(r){var i=YV(n);if(i)return i}var a=new ON(n,e,t);return a.id="ec_"+_3e++,wy[a.id]=a,r&&xse(n,WV,a.id),Ple(a),df.trigger("afterinit",a),a}function w3e(n){if(ft(n)){var e=n;n=null,ie(e,function(t){t.group!=null&&(n=t.group)}),n=n||"g_"+b3e++,ie(e,function(t){t.group=n})}return zN[n]=!0,n}function Fle(n){zN[n]=!1}var T3e=Fle;function C3e(n){Lt(n)?n=wy[n]:n instanceof ON||(n=YV(n)),n instanceof ON&&!n.isDisposed()&&n.dispose()}function YV(n){return wy[STe(n,WV)]}function A3e(n){return wy[n]}function qV(n,e){Ole[n]=e}function XV(n){Cn(Q6,n)<0&&Q6.push(n)}function ZV(n,e){KV(J6,n,e,c3e)}function Ble(n){gL("afterinit",n)}function zle(n){gL("afterupdate",n)}function gL(n,e){df.on(n,e)}function Of(n,e,t){var r,i,a,s,o;Xt(e)&&(t=e,e=""),on(n)?(r=n.type,i=n.event,s=n.update,o=n.publishNonRefinedEvent,t||(t=n.action),a=n.refineEvent):(r=n,i=e);function l(c){return c.toLowerCase()}i=l(i||r);var u=a?l(r):i;FN[r]||(to(rq.test(r)&&rq.test(i)),a&&to(i!==r),FN[r]={actionType:r,refinedEventType:i,nonRefinedEventType:u,update:s,action:t,refineEvent:a},$6[i]=1,a&&o&&($6[u]=1),K6[u]=r)}function Ule(n,e){aS.register(n,e)}function M3e(n){var e=aS.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function E3e(n,e){Cle(n,e)}function Vle(n,e){KV(BN,n,e,Ale,"layout")}function em(n,e){KV(BN,n,e,Mle,"visual")}var cq=[];function KV(n,e,t,r,i){if((Xt(e)||on(e))&&(t=e,e=r),!(Cn(cq,t)>=0)){cq.push(t);var a=cle.wrapStageHandler(t,i);a.__prio=e,a.__raw=t,n.push(a)}}function $V(n,e){e8[n]=e}function D3e(n){Tae({createCanvas:n})}function Gle(n,e,t){var r=wle("registerMap");r&&r(n,e,t)}function R3e(n){var e=wle("getMap");return e&&e(n)}var Hle=zMe;em(HV,fEe);em(mL,dEe);em(mL,hEe);em(HV,AEe);em(mL,MEe);em(Ele,t3e);XV(zoe);ZV(l3e,xMe);$V("default",pEe);Of({type:by,event:by,update:by},Qi);Of({type:OR,event:OR,update:OR},Qi);Of({type:TN,event:iV,update:TN,action:Qi,refineEvent:JV,publishNonRefinedEvent:!0});Of({type:M6,event:iV,update:M6,action:Qi,refineEvent:JV,publishNonRefinedEvent:!0});Of({type:CN,event:iV,update:CN,action:Qi,refineEvent:JV,publishNonRefinedEvent:!0});function JV(n,e,t,r){return{eventContent:{selected:RCe(t),isFromClick:e.isFromClick||!1}}}qV("default",{});qV("dark",ple);var N3e={},fq=[],I3e={registerPreprocessor:XV,registerProcessor:ZV,registerPostInit:Ble,registerPostUpdate:zle,registerUpdateLifecycle:gL,registerAction:Of,registerCoordinateSystem:Ule,registerLayout:Vle,registerVisual:em,registerTransform:Hle,registerLoading:$V,registerMap:Gle,registerImpl:n3e,PRIORITY:Dle,ComponentModel:zn,ComponentView:ri,SeriesModel:Yr,ChartView:Fr,registerComponentModel:function(n){zn.registerClass(n)},registerComponentView:function(n){ri.registerClass(n)},registerSeriesModel:function(n){Yr.registerClass(n)},registerChartView:function(n){Fr.registerClass(n)},registerCustomSeries:function(n,e){Cle(n,e)},registerSubTypeDefaulter:function(n,e){zn.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){ase(n,e)}};function Nn(n){if(ft(n)){ie(n,function(e){Nn(e)});return}Cn(fq,n)>=0||(fq.push(n),Xt(n)&&(n={install:n}),n.install(I3e))}function vw(n){return n==null?0:n.length||1}function dq(n){return n}var kp=(function(){function n(e,t,r,i,a,s){this._old=e,this._new=t,this._oldKeyGetter=r||dq,this._newKeyGetter=i||dq,this.context=a,this._diffModeMultiple=s==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=i[s],l=r[o],u=vw(l);if(u>1){var c=l.shift();l.length===1&&(r[o]=l[0]),this._update&&this._update(c,s)}else u===1?(r[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,r)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},a=[],s=[];this._initIndexMap(e,r,a,"_oldKeyGetter"),this._initIndexMap(t,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],u=r[l],c=i[l],f=vw(u),d=vw(c);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(f===1&&d===1)this._update&&this._update(c,u),i[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(s,i)},n.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=t[i],s=vw(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);t[i]=null}},n.prototype._initIndexMap=function(e,t,r,i){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[i](e[s],s);if(a||(r[s]=o),!!t){var l=t[o],u=vw(l);u===0?(t[o]=s,a&&r.push(o)):u===1?t[o]=[l,s]:l.push(s)}}},n})(),k3e=(function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n})();function L3e(n,e){var t={},r=t.encode={},i=jt(),a=[],s=[],o={};ie(n.dimensions,function(d){var h=n.getDimensionInfo(d),p=h.coordDim;if(p){var m=h.coordDimIndex;w5(r,p)[m]=d,h.isExtraCoord||(i.set(p,1),P3e(h.type)&&(a[0]=d),w5(o,p)[m]=n.getDimensionIndex(h.name)),h.defaultTooltip&&s.push(d)}Roe.each(function(g,y){var _=w5(r,y),S=h.otherDims[y];S!=null&&S!==!1&&(_[S]=h.name)})});var l=[],u={};i.each(function(d,h){var p=r[h];u[h]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=ht(l,function(d){return n.getDimensionInfo(d).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=r.label;c&&c.length&&(a=c.slice());var f=r.tooltip;return f&&f.length?s=f.slice():s.length||(s=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=s,t.userOutput=new k3e(o,e),t}function w5(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function UN(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function P3e(n){return!(n==="ordinal"||n==="time")}var HR=(function(){function n(e){this.otherDims={},e!=null&&at(this,e)}return n})(),O3e=Un(),F3e={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},jle=(function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=qle(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return Wt(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Voe(this.source),r=!Xle(e),i="",a=[],s=0,o=0;s<e;s++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[o];if(f&&f.storeDimIndex===s)l=t?f.name:null,u=f.type,c=f.ordinalMeta,o++;else{var d=this.getSourceDimension(s);d&&(l=t?d.name:null,u=d.type)}a.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=F3e[u]||"f",c&&(i+=c.uid),i+="$"}var h=this.source,p=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:a,hash:p}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),r++;else{var s=this.getSourceDimension(t);s&&(i=s.name)}e.push(i)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n})();function Wle(n){return n instanceof jle}function Yle(n){for(var e=jt(),t=0;t<(n||[]).length;t++){var r=n[t],i=on(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function qle(n){var e=O3e(n);return e.dimNameMap||(e.dimNameMap=Yle(n.dimensionsDefine))}function Xle(n){return n>30}var mw=on,B0=ht,B3e=typeof Int32Array>"u"?Array:Int32Array,z3e="e\0\0",hq=-1,U3e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],V3e=["_approximateExtent"],pq,L3,gw,yw,T5,xw,C5,Lo=(function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,i=!1;Wle(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var a={},s=[],o={},l=!1,u={},c=0;c<r.length;c++){var f=r[c],d=Lt(f)?new HR({name:f}):f instanceof HR?f:new HR(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var p=d.otherDims=d.otherDims||{};s.push(h),a[h]=d,u[h]!=null&&(l=!0),d.createInvertedIndices&&(o[h]=[]);var m=c;nr(d.storeDimIndex)&&(m=d.storeDimIndex),p.itemName===0&&(this._nameDimIdx=m),p.itemId===0&&(this._idDimIdx=m),i&&(d.storeDimIndex=c)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var g=this._dimIdxToName=jt();ie(s,function(y){g.set(a[y].storeDimIndex,y)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var i=this._schema.getSourceDimension(t);if(i)return i.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(nr(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,r){var i=this,a;if(e instanceof H6&&(a=e),!a){var s=this.dimensions,o=OV(e)||eo(e)?new Goe(e,s.length):e;a=new H6;var l=B0(s,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(o,l,r)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=L3e(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t&&t.length),i=r.start,a=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=t[l],s&&C5(this,o)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Dv&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===Ru;if(l&&!i.pure)for(var u=[],c=e;c<t;c++){var f=i.getItem(c,u);if(!this.hasItemOption&&uTe(f)&&(this.hasItemOption=!0),f){var d=f.name;a[c]==null&&d!=null&&(a[c]=ja(d,null));var h=f.id;s[c]==null&&h!=null&&(s[c]=ja(h,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)C5(this,c);pq(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){mw(e)?at(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=gw(this,this._nameDimIdx,t)),r==null&&(r=""),r},n.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},n.prototype.getId=function(e){return L3(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var r=this,i=this._store;return ft(e)?i.getValues(B0(e,function(a){return r._getStoreDimIndex(a)}),t):i.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r&&r[t];return i==null||isNaN(i)?hq:i},n.prototype.each=function(e,t,r){Xt(e)&&(r=t,t=e,e=[]);var i=r||this,a=B0(yw(e),this._getStoreDimIndex,this);this._store.each(a,i?Ot(t,i):t)},n.prototype.filterSelf=function(e,t,r){Xt(e)&&(r=t,t=e,e=[]);var i=r||this,a=B0(yw(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Ot(t,i):t),this},n.prototype.selectRange=function(e){var t=this,r={},i=$n(e);return ie(i,function(a){var s=t._getStoreDimIndex(a);r[s]=e[a]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(e,t,r){Xt(e)&&(r=t,t=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r),i},n.prototype.map=function(e,t,r,i){var a=r||i||this,s=B0(yw(e),this._getStoreDimIndex,this),o=xw(this);return o._store=this._store.map(s,a?Ot(t,a):t),o},n.prototype.modify=function(e,t,r,i){var a=r||i||this,s=B0(yw(e),this._getStoreDimIndex,this);this._store.modify(s,a?Ot(t,a):t)},n.prototype.downSample=function(e,t,r,i){var a=xw(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),a},n.prototype.minmaxDownSample=function(e,t){var r=xw(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),r},n.prototype.lttbDownSample=function(e,t){var r=xw(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new Gn(r,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new kp(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return L3(e,r)},function(r){return L3(t,r)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},mw(e)?at(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],i=r&&r[t];return i??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var a=i[t];return a==null&&(a=this.getVisual(t),ft(a)?a=a.slice():mw(a)&&(a=at({},a)),i[t]=a),a},n.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,mw(t)?at(i,t):i[t]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){mw(e)?at(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?at(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;A6(r,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){ie(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:B0(this.dimensions,this._getDimInfo,this),this.hostModel)),T5(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var r=this[e];Xt(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(qk(arguments)))})},n.internalField=(function(){pq=function(e){var t=e._invertedIndicesMap;ie(t,function(r,i){var a=e._dimInfos[i],s=a.ordinalMeta,o=e._store;if(s){r=t[i]=new B3e(s.categories.length);for(var l=0;l<r.length;l++)r[l]=hq;for(var l=0;l<o.count();l++)r[o.get(a.storeDimIndex,l)]=l}})},gw=function(e,t,r){return ja(e._getCategory(t,r),null)},L3=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=gw(e,e._idDimIdx,t)),r==null&&(r=z3e+t),r},yw=function(e){return ft(e)||(e=e!=null?[e]:[]),e},xw=function(e){var t=new n(e._schema?e._schema:B0(e.dimensions,e._getDimInfo,e),e.hostModel);return T5(t,e),t},T5=function(e,t){ie(U3e.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,ie(V3e,function(r){e[r]=tn(t[r])}),e._calculationInfo=at({},t._calculationInfo)},C5=function(e,t){var r=e._nameList,i=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=r[t],l=i[t];if(o==null&&a!=null&&(r[t]=o=gw(e,a,t)),l==null&&s!=null&&(i[t]=l=gw(e,s,t)),l==null&&o!=null){var u=e._nameRepeatCount,c=u[o]=(u[o]||0)+1;l=o,c>1&&(l+="__ec__"+c),i[t]=l}}})(),n})();function G3e(n,e){return uS(n,e).dimensions}function uS(n,e){OV(n)||(n=FV(n)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||n.dimensionsDefine||[],i=jt(),a=[],s=j3e(n,t,r,e.dimensionsCount),o=e.canOmitUnusedDimensions&&Xle(s),l=r===n.dimensionsDefine,u=l?qle(n):Yle(r),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(n,s));for(var f=jt(c),d=new Koe(s),h=0;h<d.length;h++)d[h]=-1;function p(N){var L=d[N];if(L<0){var B=r[N],O=on(B)?B:{name:B},G=new HR,V=O.name;V!=null&&u.get(V)!=null&&(G.name=G.displayName=V),O.type!=null&&(G.type=O.type),O.displayName!=null&&(G.displayName=O.displayName);var q=a.length;return d[N]=q,G.storeDimIndex=N,a.push(G),G}return a[L]}if(!o)for(var h=0;h<s;h++)p(h);f.each(function(N,L){var B=ni(N).slice();if(B.length===1&&!Lt(B[0])&&B[0]<0){f.set(L,!1);return}var O=f.set(L,[]);ie(B,function(G,V){var q=Lt(G)?u.get(G):G;q!=null&&q<s&&(O[V]=q,g(p(q),L,V))})});var m=0;ie(t,function(N){var L,B,O,G;if(Lt(N))L=N,G={};else{G=N,L=G.name;var V=G.ordinalMeta;G.ordinalMeta=null,G=at({},G),G.ordinalMeta=V,B=G.dimsDef,O=G.otherDims,G.name=G.coordDim=G.coordDimIndex=G.dimsDef=G.otherDims=null}var q=f.get(L);if(q!==!1){if(q=ni(q),!q.length)for(var W=0;W<(B&&B.length||1);W++){for(;m<s&&p(m).coordDim!=null;)m++;m<s&&q.push(m++)}ie(q,function(Z,X){var K=p(Z);if(l&&G.type!=null&&(K.type=G.type),g(sn(K,G),L,X),K.name==null&&B){var se=B[X];!on(se)&&(se={name:se}),K.name=K.displayName=se.name,K.defaultTooltip=se.defaultTooltip}O&&sn(K.otherDims,O)})}});function g(N,L,B){Roe.get(L)!=null?N.otherDims[L]=B:(N.coordDim=L,N.coordDimIndex=B,i.set(L,!0))}var y=e.generateCoord,_=e.generateCoordCount,S=_!=null;_=y?_||1:0;var A=y||"value";function M(N){N.name==null&&(N.name=N.coordDim)}if(o)ie(a,function(N){M(N)}),a.sort(function(N,L){return N.storeDimIndex-L.storeDimIndex});else for(var E=0;E<s;E++){var D=p(E),I=D.coordDim;I==null&&(D.coordDim=W3e(A,i,S),D.coordDimIndex=0,(!y||_<=0)&&(D.isExtraCoord=!0),_--),M(D),D.type==null&&(Loe(n,E)===Ws.Must||D.isExtraCoord&&(D.otherDims.itemName!=null||D.otherDims.seriesName!=null))&&(D.type="ordinal")}return H3e(a),new jle({source:n,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function H3e(n){for(var e=jt(),t=0;t<n.length;t++){var r=n[t],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}function j3e(n,e,t,r){var i=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,r||0);return ie(e,function(a){var s;on(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function W3e(n,e,t){if(t||e.hasKey(n)){for(var r=0;e.hasKey(n+r);)r++;n+=r}return e.set(n,!0),n}var Y3e=(function(){function n(e){this.coordSysDims=[],this.axisMap=jt(),this.categoryAxisMap=jt(),this.coordSysName=e}return n})();function q3e(n){var e=n.get("coordinateSystem"),t=new Y3e(e),r=X3e[e];if(r)return r(n,t,t.axisMap,t.categoryAxisMap),t}var X3e={cartesian2d:function(n,e,t,r){var i=n.getReferringComponents("xAxis",Hi).models[0],a=n.getReferringComponents("yAxis",Hi).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",a),U1(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),U1(a)&&(r.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,r){var i=n.getReferringComponents("singleAxis",Hi).models[0];e.coordSysDims=["single"],t.set("single",i),U1(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(n,e,t,r){var i=n.getReferringComponents("polar",Hi).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",s),U1(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),U1(s)&&(r.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,r){var i=n.ecModel,a=i.getComponent("parallel",n.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();ie(a.parallelAxisIndex,function(o,l){var u=i.getComponent("parallelAxis",o),c=s[l];t.set(c,u),U1(u)&&(r.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})},matrix:function(n,e,t,r){var i=n.getReferringComponents("matrix",Hi).models[0];e.coordSysDims=["x","y"];var a=i.getDimensionModel("x"),s=i.getDimensionModel("y");t.set("x",a),t.set("y",s),r.set("x",a),r.set("y",s)}};function U1(n){return n.get("type")==="category"}function Zle(n,e,t){t=t||{};var r=t.byIndex,i=t.stackedCoordDimension,a,s,o;Z3e(e)?a=e:(s=e.schema,a=s.dimensions,o=e.store);var l=!!(n&&n.get("stack")),u,c,f,d;if(ie(a,function(_,S){Lt(_)&&(a[S]=_={name:_}),l&&!_.isExtraCoord&&(!r&&!u&&_.ordinalMeta&&(u=_),!c&&_.type!=="ordinal"&&_.type!=="time"&&(!i||i===_.coordDim)&&(c=_))}),c&&!r&&!u&&(r=!0),c){f="__\0ecstackresult_"+n.id,d="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var h=c.coordDim,p=c.type,m=0;ie(a,function(_){_.coordDim===h&&m++});var g={name:f,coordDim:h,coordDimIndex:m,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},y={name:d,coordDim:d,coordDimIndex:m+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(g.storeDimIndex=o.ensureCalculationDimension(d,p),y.storeDimIndex=o.ensureCalculationDimension(f,p)),s.appendCalculationDimension(g),s.appendCalculationDimension(y)):(a.push(g),a.push(y))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:d,stackResultDimension:f}}function Z3e(n){return!Wle(n.schema)}function Lp(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function QV(n,e){return Lp(n,e)?n.getCalculationInfo("stackResultDimension"):e}function K3e(n,e){var t=n.get("coordinateSystem"),r=aS.get(t),i;return e&&e.coordSysDims&&(i=ht(e.coordSysDims,function(a){var s={name:a},o=e.axisMap.get(a);if(o){var l=o.get("type");s.type=UN(l)}return s})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function $3e(n,e,t){var r,i;return t&&ie(n,function(a,s){var o=a.coordDim,l=t.categoryAxisMap.get(o);l&&(r==null&&(r=s),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(n[r].otherDims.itemName=0),r}function sh(n,e,t){t=t||{};var r=e.getSourceManager(),i,a=!1;n?(a=!0,i=FV(n)):(i=r.getSource(),a=i.sourceFormat===Ru);var s=q3e(e),o=K3e(e,s),l=t.useEncodeDefaulter,u=Xt(l)?l:l?Sn(koe,o,e):null,c={coordDimensions:o,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=uS(i,c),d=$3e(f.dimensions,t.createInvertedIndices,s),h=a?null:r.getSharedDataStore(f),p=Zle(e,{schema:f,store:h}),m=new Lo(f,e);m.setCalculationInfo(p);var g=d!=null&&J3e(i)?function(y,_,S,A){return A===d?S:this.defaultDimValueGetter(y,_,S,A)}:null;return m.hasItemOption=!1,m.initData(a?i:h,null,g),m}function J3e(n){if(n.sourceFormat===Ru){var e=Q3e(n.data||[]);return!ft(Zb(e))}}function Q3e(n){for(var e=0;e<n.length&&n[e]==null;)e++;return n[e]}function t8(n){return n.type==="interval"||n.type==="log"}function eDe(n,e,t,r,i){var a={},s=a.interval=ZU(e/t,!0);r!=null&&s<r&&(s=a.interval=r),i!=null&&s>i&&(s=a.interval=i);var o=a.intervalPrecision=BC(s),l=a.niceTickExtent=[da(Math.ceil(n[0]/s)*s,o),da(Math.floor(n[1]/s)*s,o)];return tDe(l,n),a}function A5(n){var e=Math.pow(10,Qk(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,da(t*e)}function BC(n){return yf(n)+2}function vq(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function tDe(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),vq(n,0,e),vq(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function e9(n,e){return n>=e[0]&&n<=e[1]}var nDe=(function(){function n(){this.normalize=mq,this.scale=gq}return n.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=Ot(e.normalize,e),this.scale=Ot(e.scale,e)):(this.normalize=mq,this.scale=gq)},n})();function mq(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function gq(n,e){return n*(e[1]-e[0])+e[0]}function n8(n,e,t){var r=Math.log(n);return[Math.log(t?e[0]:Math.max(0,e[0]))/r,Math.log(t?e[1]:Math.max(0,e[1]))/r]}var tm=(function(){function n(e){this._calculator=new nDe,this._setting=e||{},this._extent=[1/0,-1/0];var t=Da();t&&(this._brkCtx=t.createScaleBreakContext(),this._brkCtx.update(this._extent))}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype._innerUnionExtent=function(e){var t=this._extent;this._innerSetExtent(e[0]<t[0]?e[0]:t[0],e[1]>t[1]?e[1]:t[1])},n.prototype.unionExtentFromData=function(e,t){this._innerUnionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){this._innerSetExtent(e,t)},n.prototype._innerSetExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t),this._brkCtx&&this._brkCtx.update(r)},n.prototype.setBreaksFromOption=function(e){var t=Da();t&&this._innerSetBreak(t.parseAxisBreakOption(e,Ot(this.parse,this)))},n.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},n.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},n.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},n.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n})();eL(tm);var rDe=0,zC=(function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++rDe,this._onCollect=e.onCollect}return n.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&ht(r,iDe);return new n({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!Lt(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,this._onCollect&&this._onCollect(e,t),t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,i.set(e,t),this._onCollect&&this._onCollect(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=jt(this.categories))},n})();function iDe(n){return on(n)&&n.value!=null?n.value:n+""}var bb=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new zC({})),ft(i)&&(i=new zC({categories:ht(i,function(a){return on(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:Lt(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return e9(t,this._extent)&&t>=0&&t<this._ordinalMeta.categories.length},e.prototype.normalize=function(t){return t=this._getTickNumber(t),this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(this._calculator.scale(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,r.length);s<l;++s){var u=r[s];i[s]=u,a[u]=s}for(var c=0;s<o;++s){for(;a[c]!=null;)c++;i.push(c),a[c]=s}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(tm);tm.registerClass(bb);var z0=da,Pp=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t==null||t===""?NaN:Number(t)},e.prototype.contain=function(t){return e9(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=BC(t)},e.prototype.getTicks=function(t){t=t||{};var r=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=Da(),l=[];if(!r)return l;if(t.breakTicks==="only_break"&&o)return o.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var u=1e4;i[0]<a[0]&&(t.expandToNicedExtent?l.push({value:z0(a[0]-r,s)}):l.push({value:i[0]}));for(var c=function(p,m){return Math.round((m-p)/r)},f=a[0];f<=a[1];){if(l.push({value:f}),f=z0(f+r,s),this._brkCtx){var d=this._brkCtx.calcNiceTickMultiple(f,c);d>=0&&(f=z0(f+d*r,s))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>u)return[]}var h=l.length?l[l.length-1].value:a[1];return i[1]>h&&(t.expandToNicedExtent?l.push({value:z0(h+r,s)}):l.push({value:i[1]})),o&&o.pruneTicksByBreak(t.pruneByBreak,l,this._brkCtx.breaks,function(p){return p.value},this._interval,this._extent),t.breakTicks!=="none"&&o&&o.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks({expandToNicedExtent:!0}),i=[],a=this.getExtent(),s=1;s<r.length;s++){var o=r[s],l=r[s-1];if(!(l.break||o.break)){for(var u=0,c=[],f=o.value-l.value,d=f/t,h=BC(d);u<t-1;){var p=z0(l.value+(u+1)*d,h);p>a[0]&&p<a[1]&&c.push(p),u++}var m=Da();m&&m.pruneTicksByBreak("auto",c,this._getNonTransBreaks(),function(g){return g},this._interval,a),i.push(c)}}return i},e.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.getLabel=function(t,r){if(t==null)return"";var i=r&&r.precision;i==null?i=yf(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=z0(t.value,i,!0);return EV(a)},e.prototype.calcNiceTicks=function(t,r,i){t=t||5;var a=this._extent.slice(),s=this._getExtentSpanWithBreaks();if(isFinite(s)){s<0&&(s=-s,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var o=eDe(a,s,t,r,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent.slice();if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this._innerSetExtent(r[0],r[1]),r=this._extent.slice(),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval,o=this._intervalPrecision;t.fixMin||(r[0]=z0(Math.floor(r[0]/s)*s,o)),t.fixMax||(r[1]=z0(Math.ceil(r[1]/s)*s,o)),this._innerSetExtent(r[0],r[1])},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e})(tm);tm.registerClass(Pp);var Kle=typeof Float32Array<"u",aDe=Kle?Float32Array:Array;function Fd(n){return ft(n)?Kle?new Float32Array(n):n:new aDe(n)}var r8="__ec_stack_";function $le(n){return n.get("stack")||r8+n.seriesIndex}function t9(n){return n.dim+n.index}function sDe(n){var e=[],t=n.axis,r="axis0";if(t.type==="category"){for(var i=t.getBandWidth(),a=0;a<n.count;a++)e.push(sn({bandWidth:i,axisKey:r,stackId:r8+a},n));for(var s=eue(e),o=[],a=0;a<n.count;a++){var l=s[r][r8+a];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function Jle(n,e){var t=[];return e.eachSeriesByType(n,function(r){rue(r)&&t.push(r)}),t}function oDe(n){var e={};ie(n,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),d=c.dim+"_"+c.index,h=f.getDimensionIndex(f.mapDimension(c.dim)),p=f.getStore(),m=0,g=p.count();m<g;++m){var y=p.get(h,m);e[d]?e[d].push(y):e[d]=[y]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,u){return l-u});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}t[r]=a}}return t}function Qle(n){var e=oDe(n),t=[];return ie(n,function(r){var i=r.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=e[l],c=Math.abs(s[1]-s[0]),f=a.scale.getExtent(),d=Math.abs(f[1]-f[0]);o=u?c/d*u:c}else{var h=r.getData();o=Math.abs(s[1]-s[0])/h.count()}var p=kt(r.get("barWidth"),o),m=kt(r.get("barMaxWidth"),o),g=kt(r.get("barMinWidth")||(iue(r)?.5:1),o),y=r.get("barGap"),_=r.get("barCategoryGap"),S=r.get("defaultBarGap");t.push({bandWidth:o,barWidth:p,barMaxWidth:m,barMinWidth:g,barGap:y,barCategoryGap:_,defaultBarGap:S,axisKey:t9(a),stackId:$le(r)})}),eue(t)}function eue(n){var e={};ie(n,function(r,i){var a=r.axisKey,s=r.bandWidth,o=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:r.defaultBarGap||0,stacks:{}},l=o.stacks;e[a]=o;var u=r.stackId;l[u]||o.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=r.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(o.remainedWidth,c),o.remainedWidth-=c);var f=r.barMaxWidth;f&&(l[u].maxWidth=f);var d=r.barMinWidth;d&&(l[u].minWidth=d);var h=r.barGap;h!=null&&(o.gap=h);var p=r.barCategoryGap;p!=null&&(o.categoryGap=p)});var t={};return ie(e,function(r,i){t[i]={};var a=r.stacks,s=r.bandWidth,o=r.categoryGap;if(o==null){var l=$n(a).length;o=Math.max(35-l*4,15)+"%"}var u=kt(o,s),c=kt(r.gap,1),f=r.remainedWidth,d=r.autoWidthCount,h=(f-u)/(d+(d-1)*c);h=Math.max(h,0),ie(a,function(y){var _=y.maxWidth,S=y.minWidth;if(y.width){var A=y.width;_&&(A=Math.min(A,_)),S&&(A=Math.max(A,S)),y.width=A,f-=A+c*A,d--}else{var A=h;_&&_<A&&(A=Math.min(_,f)),S&&S>A&&(A=S),A!==h&&(y.width=A,f-=A+c*A,d--)}}),h=(f-u)/(d+(d-1)*c),h=Math.max(h,0);var p=0,m;ie(a,function(y,_){y.width||(y.width=h),m=y,p+=y.width*(1+c)}),m&&(p-=m.width*c);var g=-p/2;ie(a,function(y,_){t[i][_]=t[i][_]||{bandWidth:s,offset:g,width:y.width},g+=y.width*(1+c)})}),t}function lDe(n,e,t){if(n&&e){var r=n[t9(e)];return r}}function tue(n,e){var t=Jle(n,e),r=Qle(t);ie(t,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=$le(i),u=r[t9(o)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function nue(n){return{seriesType:n,plan:sS(),reset:function(e){if(rue(e)){var t=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),s=t.getDimensionIndex(t.mapDimension(a.dim)),o=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),u=t.mapDimension(a.dim),c=t.getCalculationInfo("stackResultDimension"),f=Lp(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),d=a.isHorizontal(),h=uDe(i,a),p=iue(e),m=e.get("barMinHeight")||0,g=c&&t.getDimensionIndex(c),y=t.getLayout("size"),_=t.getLayout("offset");return{progress:function(S,A){for(var M=S.count,E=p&&Fd(M*3),D=p&&l&&Fd(M*3),I=p&&Fd(M),N=r.master.getRect(),L=d?N.width:N.height,B,O=A.getStore(),G=0;(B=S.next())!=null;){var V=O.get(f?g:s,B),q=O.get(o,B),W=h,Z=void 0;f&&(Z=+V-O.get(s,B));var X=void 0,K=void 0,se=void 0,J=void 0;if(d){var H=r.dataToPoint([V,q]);if(f){var ee=r.dataToPoint([Z,q]);W=ee[0]}X=W,K=H[1]+_,se=H[0]-W,J=y,Math.abs(se)<m&&(se=(se<0?-1:1)*m)}else{var H=r.dataToPoint([q,V]);if(f){var ee=r.dataToPoint([q,Z]);W=ee[1]}X=H[0]+_,K=W,se=y,J=H[1]-W,Math.abs(J)<m&&(J=(J<=0?-1:1)*m)}p?(E[G]=X,E[G+1]=K,E[G+2]=d?se:J,D&&(D[G]=d?N.x:X,D[G+1]=d?K:N.y,D[G+2]=L),I[B]=B):A.setItemLayout(B,{x:X,y:K,width:se,height:J}),G+=3}p&&A.setLayout({largePoints:E,largeDataIndices:I,largeBackgroundPoints:D,valueAxisHorizontal:d})}}}}}}function rue(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function iue(n){return n.pipelineContext&&n.pipelineContext.large}function uDe(n,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var cDe=function(n,e,t,r){for(;t<r;){var i=t+r>>>1;n[i][1]<e?t=i+1:r=i}return t},n9=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return ZA(t.value,lY[kAe(zT(this._minLevelUnit))]||lY.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return LAe(t,r,i,s,a)},e.prototype.getTicks=function(t){t=t||{};var r=this._interval,i=this._extent,a=Da(),s=[];if(!r)return s;var o=this.getSetting("useUTC");if(a&&t.breakTicks==="only_break")return Da().addBreaksToTicks(s,this._brkCtx.breaks,this._extent),s;var l=P_(i[1],o);s.push({value:i[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=gDe(this._minLevelUnit,this._approxInterval,o,i,this._getExtentSpanWithBreaks(),this._brkCtx);s=s.concat(u);var c=P_(i[1],o);s.push({value:i[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}});var f=this.getSetting("useUTC"),d=du.length-1,h=0;return ie(s,function(p){d=Math.min(d,Cn(du,p.time.upperTimeUnit)),h=Math.max(h,p.time.level)}),a&&Da().pruneTicksByBreak(t.pruneByBreak,s,this._brkCtx.breaks,function(p){return p.value},this._approxInterval,this._extent),a&&t.breakTicks!=="none"&&Da().addBreaksToTicks(s,this._brkCtx.breaks,this._extent,function(p){for(var m=Math.max(Cn(du,P_(p.vmin,f)),Cn(du,P_(p.vmax,f))),g=0,y=0;y<du.length;y++)if(!aue(du[y],p.vmin,p.vmax,f)){g=y;break}var _=Math.min(g,d),S=Math.max(_,m);return{level:h,lowerTimeUnit:du[S],upperTimeUnit:du[_]}}),s},e.prototype.calcNiceExtent=function(t){var r=this.getExtent();if(r[0]===r[1]&&(r[0]-=mc,r[1]+=mc),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-mc}this._innerSetExtent(r[0],r[1]),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,i){t=t||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=P3.length,o=Math.min(cDe(P3,this._approxInterval,0,s),s-1);this._interval=P3[o][1],this._intervalPrecision=BC(this._interval),this._minLevelUnit=P3[Math.max(o-1,0)][0]},e.prototype.parse=function(t){return nr(t)?t:+ih(t)},e.prototype.contain=function(t){return e9(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.type="time",e})(Pp),P3=[["second",_V],["minute",bV],["hour",BT],["quarter-day",BT*6],["half-day",BT*12],["day",mc*1.2],["half-week",mc*3.5],["week",mc*7],["month",mc*31],["quarter",mc*95],["half-year",oY/2],["year",oY]];function aue(n,e,t,r){return DN(new Date(e),n,r).getTime()===DN(new Date(t),n,r).getTime()}function fDe(n,e){return n/=mc,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function dDe(n){var e=30*mc;return n/=e,n>6?6:n>3?3:n>2?2:1}function hDe(n){return n/=BT,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function yq(n,e){return n/=e?bV:_V,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function pDe(n){return ZU(n,!0)}function vDe(n,e,t){var r=Math.max(0,Cn(du,e)-1);return DN(new Date(n),du[r],t).getTime()}function mDe(n,e){var t=new Date(0);t[n](1);var r=t.getTime();t[n](1+e);var i=t.getTime()-r;return function(a,s){return Math.max(0,Math.round((s-a)/i))}}function gDe(n,e,t,r,i,a){var s=1e4,o=DAe,l=0;function u(G,V,q,W,Z,X,K){for(var se=mDe(Z,G),J=V,H=new Date(J);J<q&&J<=r[1]&&(K.push({value:J}),!(l++>s));)if(H[Z](H[W]()+G),J=H.getTime(),a){var ee=a.calcNiceTickMultiple(J,se);ee>0&&(H[Z](H[W]()+ee*G),J=H.getTime())}K.push({value:J,notAdd:!0})}function c(G,V,q){var W=[],Z=!V.length;if(!aue(zT(G),r[0],r[1],t)){Z&&(V=[{value:vDe(r[0],G,t)},{value:r[1]}]);for(var X=0;X<V.length-1;X++){var K=V[X].value,se=V[X+1].value;if(K!==se){var J=void 0,H=void 0,ee=void 0,Q=!1;switch(G){case"year":J=Math.max(1,Math.round(e/mc/365)),H=doe(t),ee=PAe(t);break;case"half-year":case"quarter":case"month":J=dDe(e),H=SV(t),ee=hoe(t);break;case"week":case"half-week":case"day":J=fDe(e),H=wV(t),ee=poe(t),Q=!0;break;case"half-day":case"quarter-day":case"hour":J=hDe(e),H=TV(t),ee=voe(t);break;case"minute":J=yq(e,!0),H=CV(t),ee=moe(t);break;case"second":J=yq(e,!1),H=AV(t),ee=goe(t);break;case"millisecond":J=pDe(e),H=MV(t),ee=yoe(t);break}se>=r[0]&&K<=r[1]&&u(J,K,se,H,ee,Q,W),G==="year"&&q.length>1&&X===0&&q.unshift({value:q[0].value-J})}}for(var X=0;X<W.length;X++)q.push(W[X])}}for(var f=[],d=[],h=0,p=0,m=0;m<o.length;++m){var g=zT(o[m]);if(IAe(o[m])){c(o[m],f[f.length-1]||[],d);var y=o[m+1]?zT(o[m+1]):null;if(g!==y){if(d.length){p=h,d.sort(function(G,V){return G.value-V.value});for(var _=[],S=0;S<d.length;++S){var A=d[S].value;(S===0||d[S-1].value!==A)&&(_.push(d[S]),A>=r[0]&&A<=r[1]&&h++)}var M=i/e;if(h>M*1.5&&p>M/1.5||(f.push(_),h>M||n===o[m]))break}d=[]}}}for(var E=vr(ht(f,function(G){return vr(G,function(V){return V.value>=r[0]&&V.value<=r[1]&&!V.notAdd})}),function(G){return G.length>0}),D=[],I=E.length-1,m=0;m<E.length;++m)for(var N=E[m],L=0;L<N.length;++L){var B=P_(N[L].value,t);D.push({value:N[L].value,time:{level:I-m,upperTimeUnit:B,lowerTimeUnit:B}})}D.sort(function(G,V){return G.value-V.value});for(var O=[],m=0;m<D.length;++m)(m===0||D[m].value!==D[m-1].value)&&O.push(D[m]);return O}tm.registerClass(n9);var i8=da,yDe=Math.floor,xDe=Math.ceil,O3=Math.pow,F3=Math.log,sue=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Pp,t}return e.prototype.getTicks=function(t){t=t||{};var r=this._extent.slice(),i=this._originalScale.getExtent(),a=n.prototype.getTicks.call(this,t),s=this.base,o=this._originalScale._innerGetBreaks(),l=Da();return ht(a,function(u){var c=u.value,f=null,d=O3(s,c);c===r[0]&&this._fixMin?f=i[0]:c===r[1]&&this._fixMax&&(f=i[1]);var h;if(l){var p=l.getTicksLogTransformBreak(u,s,o,B3);h=p.vBreak,f==null&&(f=p.brkRoundingCriterion)}return f!=null&&(d=B3(d,f)),{value:d,break:h}},this)},e.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},e.prototype.setExtent=function(t,r){this._originalScale.setExtent(t,r);var i=n8(this.base,[t,r]);n.prototype.setExtent.call(this,i[0],i[1])},e.prototype.getExtent=function(){var t=this.base,r=n.prototype.getExtent.call(this);r[0]=O3(t,r[0]),r[1]=O3(t,r[1]);var i=this._originalScale.getExtent();return this._fixMin&&(r[0]=B3(r[0],i[0])),this._fixMax&&(r[1]=B3(r[1],i[1])),r},e.prototype.unionExtentFromData=function(t,r){this._originalScale.unionExtentFromData(t,r);var i=n8(this.base,t.getApproximateExtent(r),!0);this._innerUnionExtent(i)},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(!(!isFinite(i)||i<=0)){var a=fse(i),s=t/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[i8(xDe(r[0]/a)*a),i8(yDe(r[1]/a)*a)];this._interval=a,this._intervalPrecision=BC(a),this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){n.prototype.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.contain=function(t){return t=F3(t)/F3(this.base),n.prototype.contain.call(this,t)},e.prototype.normalize=function(t){return t=F3(t)/F3(this.base),n.prototype.normalize.call(this,t)},e.prototype.scale=function(t){return t=n.prototype.scale.call(this,t),O3(this.base,t)},e.prototype.setBreaksFromOption=function(t){var r=Da();if(r){var i=r.logarithmicParseBreaksFromOption(t,this.base,Ot(this.parse,this)),a=i.parsedOriginal,s=i.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(s)}},e.type="log",e})(Pp);function B3(n,e){return i8(n,yf(e))}tm.registerClass(sue);var _De=(function(){function n(e,t,r){this._prepareParams(e,t,r)}return n.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=t.get("min",!0);a==null&&(a=t.get("startValue",!0));var s=this._modelMinRaw=a;Xt(s)?this._modelMinNum=z3(e,s({min:r[0],max:r[1]})):s!=="dataMin"&&(this._modelMinNum=z3(e,s));var o=this._modelMaxRaw=t.get("max",!0);if(Xt(o)?this._modelMaxNum=z3(e,o({min:r[0],max:r[1]})):o!=="dataMax"&&(this._modelMaxNum=z3(e,o)),i)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=ft(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Nf(u[0],1),Nf(u[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=e?null:r-t||Math.abs(t),o=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=o!=null,c=l!=null;o==null&&(o=e?i?0:NaN:t-a[0]*s),l==null&&(l=e?i?i-1:NaN:r+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Zs(o)||Zs(l)||e&&!i;this._needCrossZero&&(o>0&&l>0&&!u&&(o=0),o<0&&l<0&&!c&&(l=0));var d=this._determinedMin,h=this._determinedMax;return d!=null&&(o=d,u=!0),h!=null&&(l=h,c=!0),{min:o,max:l,minFixed:u,maxFixed:c,isBlank:f}},n.prototype.modifyDataMinMax=function(e,t){this[SDe[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var r=bDe[e];this[r]=t},n.prototype.freeze=function(){this.frozen=!0},n})(),bDe={min:"_determinedMin",max:"_determinedMax"},SDe={min:"_dataMin",max:"_dataMax"};function oue(n,e,t){var r=n.rawExtentInfo;return r||(r=new _De(n,e,t),n.rawExtentInfo=r,r)}function z3(n,e){return e==null?null:Zs(e)?NaN:n.parse(e)}function lue(n,e){var t=n.type,r=oue(n,e,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,a=r.max,s=e.ecModel;if(s&&t==="time"){var o=Jle("bar",s),l=!1;if(ie(o,function(f){l=l||f.getBaseAxis()===e.axis}),l){var u=Qle(o),c=wDe(i,a,e,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function wDe(n,e,t,r){var i=t.axis.getExtent(),a=Math.abs(i[1]-i[0]),s=lDe(r,t.axis);if(s===void 0)return{min:n,max:e};var o=1/0;ie(s,function(h){o=Math.min(h.offset,o)});var l=-1/0;ie(s,function(h){l=Math.max(h.offset+h.width,l)}),o=Math.abs(o),l=Math.abs(l);var u=o+l,c=e-n,f=1-(o+l)/a,d=c/f-c;return e+=d*(l/u),n-=d*(o/u),{min:n,max:e}}function Vy(n,e){var t=e,r=lue(n,t),i=r.extent,a=t.get("splitNumber");n instanceof sue&&(n.base=t.get("logBase"));var s=n.type,o=t.get("interval"),l=s==="interval"||s==="time";n.setBreaksFromOption(cue(t)),n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),o!=null&&n.setInterval&&n.setInterval(o)}function JA(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new bb({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new n9({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(tm.getClass(e)||Pp)}}function TDe(n){var e=n.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function cS(n){var e=n.getLabelModel().get("formatter");if(n.type==="time"){var t=RAe(e);return function(i,a){return n.scale.getFormattedLabel(i,a,t)}}else{if(Lt(e))return function(i){var a=n.scale.getLabel(i),s=e.replace("{value}",a??"");return s};if(Xt(e)){if(n.type==="category")return function(i,a){return e(VN(n,i),i.value-n.scale.getExtent()[0],null)};var r=Da();return function(i,a){var s=null;return r&&(s=r.makeAxisLabelFormatterParamBreak(s,i.break)),e(VN(n,i),a,s)}}else return function(i){return n.scale.getLabel(i)}}}function VN(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function r9(n){var e=n.get("interval");return e??"auto"}function uue(n){return n.type==="category"&&r9(n.getLabelModel())===0}function GN(n,e){var t={};return ie(n.mapDimensionsAll(e),function(r){t[QV(n,r)]=!0}),$n(t)}function CDe(n,e,t){e&&ie(GN(e,t),function(r){var i=e.getApproximateExtent(r);i[0]<n[0]&&(n[0]=i[0]),i[1]>n[1]&&(n[1]=i[1])})}function Sb(n){return n==="middle"||n==="center"}function UC(n){return n.getShallow("show")}function cue(n){var e=n.get("breaks",!0);if(e!=null)return!Da()||!ADe(n.axis)?void 0:e}function ADe(n){return(n.dim==="x"||n.dim==="y"||n.dim==="z"||n.dim==="single")&&n.type!=="category"}var fS=(function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n})();function MDe(n){return sh(null,n)}var EDe={isDimensionStacked:Lp,enableDataStack:Zle,getStackedDimension:QV};function DDe(n,e){var t=e;e instanceof Gn||(t=new Gn(e));var r=JA(t);return r.setExtent(n[0],n[1]),Vy(r,t),r}function RDe(n){ta(n,fS)}function NDe(n,e){return e=e||{},ti(n,null,null,e.state!=="normal")}const IDe=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:G3e,createList:MDe,createScale:DDe,createSymbol:va,createTextStyle:NDe,dataStack:EDe,enableHoverEmphasis:Mv,getECData:fn,getLayoutRect:wi,mixinAxisModelCommonMethods:RDe},Symbol.toStringTag,{value:"Module"}));var kDe=1e-8;function xq(n,e){return Math.abs(n-e)<kDe}function Qg(n,e,t){var r=0,i=n[0];if(!i)return!1;for(var a=1;a<n.length;a++){var s=n[a];r+=rp(i[0],i[1],s[0],s[1],e,t),i=s}var o=n[0];return(!xq(i[0],o[0])||!xq(i[1],o[1]))&&(r+=rp(i[0],i[1],o[0],o[1],e,t)),r!==0}var LDe=[];function M5(n,e){for(var t=0;t<n.length;t++)ea(n[t],n[t],e)}function _q(n,e,t,r){for(var i=0;i<n.length;i++){var a=n[i];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(up(e,e,a),cp(t,t,a))}}function PDe(n){for(var e=0,t=0,r=0,i=n.length,a=n[i-1][0],s=n[i-1][1],o=0;o<i;o++){var l=n[o][0],u=n[o][1],c=a*u-l*s;e+=c,t+=(a+l)*c,r+=(s+u)*c,a=l,s=u}return e?[t/e/3,r/e/3,e]:[n[0][0]||0,n[0][1]||0]}var fue=(function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n})(),bq=(function(){function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return n})(),Sq=(function(){function n(e){this.type="linestring",this.points=e}return n})(),due=(function(n){Xe(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.type="geoJSON",a.geometries=r,a._center=i&&[i[0],i[1]],a}return e.prototype.calcCenter=function(){for(var t=this.geometries,r,i=0,a=0;a<t.length;a++){var s=t[a],o=s.exterior,l=o&&o.length;l>i&&(r=s,i=l)}if(r)return PDe(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var r=this._rect;if(r&&!t)return r;var i=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return ie(s,function(o){o.type==="polygon"?_q(o.exterior,i,a,t):ie(o.points,function(l){_q(l,i,a,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),r=new cn(i[0],i[1],a[0]-i[0],a[1]-i[1]),t||(this._rect=r),r},e.prototype.contain=function(t){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(t[0],t[1]))return!1;e:for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o.type==="polygon"){var l=o.exterior,u=o.interiors;if(Qg(l,t[0],t[1])){for(var c=0;c<(u?u.length:0);c++)if(Qg(u[c],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,r,i,a){var s=this.getBoundingRect(),o=s.width/s.height;i?a||(a=i/o):i=o*a;for(var l=new cn(t,r,i,a),u=s.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.type==="polygon"?(M5(d.exterior,u),ie(d.interiors,function(h){M5(h,u)})):ie(d.points,function(h){M5(h,u)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var r=new e(t,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},e})(fue),ODe=(function(n){Xe(e,n);function e(t,r){var i=n.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,r=t.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],a=VA(LDe),s=t;s&&!s.isGeoSVGGraphicRoot;)Tf(a,s.getLocalTransform(),a),s=s.parent;return Tc(a,a),ea(i,i,a),i},e})(fue);function FDe(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;t==null&&(t=1024);var r=e.features;return ie(r,function(i){var a=i.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=hue(o,s,t);break;case"Polygon":E5(o,s,t);break;case"MultiLineString":E5(o,s,t);break;case"MultiPolygon":ie(o,function(l,u){return E5(l,s[u],t)})}}),e.UTF8Encoding=!1,e}function E5(n,e,t){for(var r=0;r<n.length;r++)n[r]=hue(n[r],e[r],t)}function hue(n,e,t){for(var r=[],i=e[0],a=e[1],s=0;s<n.length;s+=2){var o=n.charCodeAt(s)-64,l=n.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=i,l+=a,i=o,a=l,r.push([o/t,l/t])}return r}function a8(n,e){return n=FDe(n),ht(vr(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties,i=t.geometry,a=[];switch(i.type){case"Polygon":var s=i.coordinates;a.push(new bq(s[0],s.slice(1)));break;case"MultiPolygon":ie(i.coordinates,function(l){l[0]&&a.push(new bq(l[0],l.slice(1)))});break;case"LineString":a.push(new Sq([i.coordinates]));break;case"MultiLineString":a.push(new Sq(i.coordinates))}var o=new due(r[e||"name"],a,r.cp);return o.properties=r,o})}const BDe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:x6,asc:xu,getPercentWithPrecision:rTe,getPixelPrecision:qU,getPrecision:yf,getPrecisionSafe:use,isNumeric:KU,isRadianAroundZero:vb,linearMap:_r,nice:ZU,numericToNumber:$d,parseDate:ih,parsePercent:kt,quantile:PR,quantity:fse,quantityExponent:Qk,reformIntervals:_6,remRadian:XU,round:da},Symbol.toStringTag,{value:"Module"})),zDe=Object.freeze(Object.defineProperty({__proto__:null,format:ZA,parse:ih,roundTime:DN},Symbol.toStringTag,{value:"Module"})),UDe=Object.freeze(Object.defineProperty({__proto__:null,Arc:YA,BezierCurve:Qb,BoundingRect:cn,Circle:ah,CompoundPath:qA,Ellipse:WA,Group:nn,Image:ps,IncrementalDisplayable:$se,Line:ha,LinearGradient:Qy,Polygon:ro,Polyline:Ls,RadialGradient:uV,Rect:Pn,Ring:Jb,Sector:no,Text:tr,clipPointsByRect:hV,clipRectByRect:noe,createIcon:tS,extendPath:eoe,extendShape:Qse,getShapeClass:NC,getTransform:Ev,initProps:vi,makeImage:fV,makePath:gb,mergePath:mu,registerShape:Rc,resizePath:dV,updateProps:lr},Symbol.toStringTag,{value:"Module"})),VDe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:EV,capitalFirst:zAe,encodeHTML:Mo,formatTime:BAe,formatTpl:RV,getTextRect:OAe,getTooltipMarker:xoe,normalizeCssArray:iS,toCamelCase:DV,truncateText:OTe},Symbol.toStringTag,{value:"Module"})),GDe=Object.freeze(Object.defineProperty({__proto__:null,bind:Ot,clone:tn,curry:Sn,defaults:sn,each:ie,extend:at,filter:vr,indexOf:Cn,inherits:zU,isArray:ft,isFunction:Xt,isObject:on,isString:Lt,map:ht,merge:An,reduce:wc},Symbol.toStringTag,{value:"Module"}));var HDe=Un(),VT=Un(),If={estimate:1,determine:2};function HN(n){return{out:{noPxChangeTryDetermine:[]},kind:n}}function pue(n,e){var t=ht(e,function(r){return n.scale.parse(r)});return n.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function jDe(n,e){var t=n.getLabelModel().get("customValues");if(t){var r=cS(n),i=n.scale.getExtent(),a=pue(n,t),s=vr(a,function(o){return o>=i[0]&&o<=i[1]});return{labels:ht(s,function(o){var l={value:o};return{formattedLabel:r(l),rawLabel:n.scale.getLabel(l),tickValue:o,time:void 0,break:void 0}})}}return n.type==="category"?YDe(n,e):XDe(n)}function WDe(n,e,t){var r=n.getTickModel().get("customValues");if(r){var i=n.scale.getExtent(),a=pue(n,r);return{ticks:vr(a,function(s){return s>=i[0]&&s<=i[1]})}}return n.type==="category"?qDe(n,e):{ticks:ht(n.scale.getTicks(t),function(s){return s.value})}}function YDe(n,e){var t=n.getLabelModel(),r=vue(n,t,e);return!t.get("show")||n.scale.isBlank()?{labels:[]}:r}function vue(n,e,t){var r=KDe(n),i=r9(e),a=t.kind===If.estimate;if(!a){var s=gue(r,i);if(s)return s}var o,l;Xt(i)?o=_ue(n,i):(l=i==="auto"?$De(n,t):i,o=xue(n,l));var u={labels:o,labelCategoryInterval:l};return a?t.out.noPxChangeTryDetermine.push(function(){return s8(r,i,u),!0}):s8(r,i,u),u}function qDe(n,e){var t=ZDe(n),r=r9(e),i=gue(t,r);if(i)return i;var a,s;if((!e.get("show")||n.scale.isBlank())&&(a=[]),Xt(r))a=_ue(n,r,!0);else if(r==="auto"){var o=vue(n,n.getLabelModel(),HN(If.determine));s=o.labelCategoryInterval,a=ht(o.labels,function(l){return l.tickValue})}else s=r,a=xue(n,s,!0);return s8(t,r,{ticks:a,tickCategoryInterval:s})}function XDe(n){var e=n.scale.getTicks(),t=cS(n);return{labels:ht(e,function(r,i){return{formattedLabel:t(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value,time:r.time,break:r.break}})}}var ZDe=mue("axisTick"),KDe=mue("axisLabel");function mue(n){return function(t){return VT(t)[n]||(VT(t)[n]={list:[]})}}function gue(n,e){for(var t=0;t<n.list.length;t++)if(n.list[t].key===e)return n.list[t].value}function s8(n,e,t){return n.list.push({key:e,value:t}),t}function $De(n,e){if(e.kind===If.estimate){var t=n.calculateCategoryInterval(e);return e.out.noPxChangeTryDetermine.push(function(){return VT(n).autoInterval=t,!0}),t}var r=VT(n).autoInterval;return r??(VT(n).autoInterval=n.calculateCategoryInterval(e))}function JDe(n,e){var t=e.kind,r=eRe(n),i=cS(n),a=(r.axisRotate-r.labelRotate)/180*Math.PI,s=n.scale,o=s.getExtent(),l=s.count();if(o[1]-o[0]<1)return 0;var u=1,c=40;l>c&&(u=Math.max(1,Math.floor(l/c)));for(var f=o[0],d=n.dataToCoord(f+1)-n.dataToCoord(f),h=Math.abs(d*Math.cos(a)),p=Math.abs(d*Math.sin(a)),m=0,g=0;f<=o[1];f+=u){var y=0,_=0,S=$k(i({value:f}),r.font,"center","top");y=S.width*1.3,_=S.height*1.3,m=Math.max(m,y,7),g=Math.max(g,_,7)}var A=m/h,M=g/p;isNaN(A)&&(A=1/0),isNaN(M)&&(M=1/0);var E=Math.max(0,Math.floor(Math.min(A,M)));if(t===If.estimate)return e.out.noPxChangeTryDetermine.push(Ot(QDe,null,n,E,l)),E;var D=yue(n,E,l);return D??E}function QDe(n,e,t){return yue(n,e,t)==null}function yue(n,e,t){var r=HDe(n.model),i=n.getExtent(),a=r.lastAutoInterval,s=r.lastTickCount;if(a!=null&&s!=null&&Math.abs(a-e)<=1&&Math.abs(s-t)<=1&&a>e&&r.axisExtent0===i[0]&&r.axisExtent1===i[1])return a;r.lastTickCount=t,r.lastAutoInterval=e,r.axisExtent0=i[0],r.axisExtent1=i[1]}function eRe(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function xue(n,e,t){var r=cS(n),i=n.scale,a=i.getExtent(),s=n.getLabelModel(),o=[],l=Math.max((e||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=uue(n),d=s.get("showMinLabel")||f,h=s.get("showMaxLabel")||f;d&&u!==a[0]&&m(a[0]);for(var p=u;p<=a[1];p+=l)m(p);h&&p-l!==a[1]&&m(a[1]);function m(g){var y={value:g};o.push(t?g:{formattedLabel:r(y),rawLabel:i.getLabel(y),tickValue:g,time:void 0,break:void 0})}return o}function _ue(n,e,t){var r=n.scale,i=cS(n),a=[];return ie(r.getTicks(),function(s){var o=r.getLabel(s),l=s.value;e(s.value,o)&&a.push(t?l:{formattedLabel:i(s),rawLabel:o,tickValue:l,time:void 0,break:void 0})}),a}var wq=[0,1],Nc=(function(){function n(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return n.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},n.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return qU(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},n.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(i.parse(e)),this.onBand&&i.type==="ordinal"&&(r=r.slice(),Tq(r,i.count())),_r(e,wq,r,t)},n.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),Tq(r,i.count()));var a=_r(e,r,wq,t);return this.scale.scale(a)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=WDe(this,t,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}),i=r.ticks,a=ht(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=t.get("alignWithLabel");return tRe(this,a,s,e.clamp),a},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),i=ht(r,function(a){return ht(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},n.prototype.getViewLabels=function(e){return e=e||HN(If.determine),jDe(this,e).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(e){return e=e||HN(If.determine),JDe(this,e)},n})();function Tq(n,e){var t=n[1]-n[0],r=e,i=t/r/2;n[0]+=i,n[1]-=i}function tRe(n,e,t,r){var i=e.length;if(!n.onBand||t||!i)return;var a=n.getExtent(),s,o;if(i===1)e[0].coord=a[0],e[0].onBand=!0,s=e[1]={coord:a[1],tickValue:e[0].tickValue,onBand:!0};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;ie(e,function(h){h.coord-=u/2,h.onBand=!0});var c=n.scale.getExtent();o=1+c[1]-e[i-1].tickValue,s={coord:e[i-1].coord+u*o,tickValue:c[1]+1,onBand:!0},e.push(s)}var f=a[0]>a[1];d(e[0].coord,a[0])&&(r?e[0].coord=a[0]:e.shift()),r&&d(a[0],e[0].coord)&&e.unshift({coord:a[0],onBand:!0}),d(a[1],s.coord)&&(r?s.coord=a[1]:e.pop()),r&&d(s.coord,a[1])&&e.push({coord:a[1],onBand:!0});function d(h,p){return h=da(h),p=da(p),f?h>p:h<p}}function nRe(n){var e=zn.extend(n);return zn.registerClass(e),e}function rRe(n){var e=ri.extend(n);return ri.registerClass(e),e}function iRe(n){var e=Yr.extend(n);return Yr.registerClass(e),e}function aRe(n){var e=Fr.extend(n);return Fr.registerClass(e),e}var _w=Math.PI*2,Sg=Jd.CMD,sRe=["top","right","bottom","left"];function oRe(n,e,t,r,i){var a=t.width,s=t.height;switch(n){case"top":r.set(t.x+a/2,t.y-e),i.set(0,-1);break;case"bottom":r.set(t.x+a/2,t.y+s+e),i.set(0,1);break;case"left":r.set(t.x-e,t.y+s/2),i.set(-1,0);break;case"right":r.set(t.x+a+e,t.y+s/2),i.set(1,0);break}}function lRe(n,e,t,r,i,a,s,o,l){s-=n,o-=e;var u=Math.sqrt(s*s+o*o);s/=u,o/=u;var c=s*t+n,f=o*t+e;if(Math.abs(r-i)%_w<1e-4)return l[0]=c,l[1]=f,u-t;if(a){var d=r;r=_u(i),i=_u(d)}else r=_u(r),i=_u(i);r>i&&(i+=_w);var h=Math.atan2(o,s);if(h<0&&(h+=_w),h>=r&&h<=i||h+_w>=r&&h+_w<=i)return l[0]=c,l[1]=f,u-t;var p=t*Math.cos(r)+n,m=t*Math.sin(r)+e,g=t*Math.cos(i)+n,y=t*Math.sin(i)+e,_=(p-s)*(p-s)+(m-o)*(m-o),S=(g-s)*(g-s)+(y-o)*(y-o);return _<S?(l[0]=p,l[1]=m,Math.sqrt(_)):(l[0]=g,l[1]=y,Math.sqrt(S))}function jN(n,e,t,r,i,a,s,o){var l=i-n,u=a-e,c=t-n,f=r-e,d=Math.sqrt(c*c+f*f);c/=d,f/=d;var h=l*c+u*f,p=h/d;o&&(p=Math.min(Math.max(p,0),1)),p*=d;var m=s[0]=n+p*c,g=s[1]=e+p*f;return Math.sqrt((m-i)*(m-i)+(g-a)*(g-a))}function bue(n,e,t,r,i,a,s){t<0&&(n=n+t,t=-t),r<0&&(e=e+r,r=-r);var o=n+t,l=e+r,u=s[0]=Math.min(Math.max(i,n),o),c=s[1]=Math.min(Math.max(a,e),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var pf=[];function uRe(n,e,t){var r=bue(e.x,e.y,e.width,e.height,n.x,n.y,pf);return t.set(pf[0],pf[1]),r}function cRe(n,e,t){for(var r=0,i=0,a=0,s=0,o,l,u=1/0,c=e.data,f=n.x,d=n.y,h=0;h<c.length;){var p=c[h++];h===1&&(r=c[h],i=c[h+1],a=r,s=i);var m=u;switch(p){case Sg.M:a=c[h++],s=c[h++],r=a,i=s;break;case Sg.L:m=jN(r,i,c[h],c[h+1],f,d,pf,!0),r=c[h++],i=c[h++];break;case Sg.C:m=Hae(r,i,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],f,d,pf),r=c[h++],i=c[h++];break;case Sg.Q:m=Wae(r,i,c[h++],c[h++],c[h],c[h+1],f,d,pf),r=c[h++],i=c[h++];break;case Sg.A:var g=c[h++],y=c[h++],_=c[h++],S=c[h++],A=c[h++],M=c[h++];h+=1;var E=!!(1-c[h++]);o=Math.cos(A)*_+g,l=Math.sin(A)*S+y,h<=1&&(a=o,s=l);var D=(f-g)*S/_+g;m=lRe(g,y,S,A,A+M,E,D,d,pf),r=Math.cos(A+M)*_+g,i=Math.sin(A+M)*S+y;break;case Sg.R:a=r=c[h++],s=i=c[h++];var I=c[h++],N=c[h++];m=bue(a,s,I,N,f,d,pf);break;case Sg.Z:m=jN(r,i,a,s,f,d,pf,!0),r=a,i=s;break}m<u&&(u=m,t.set(pf[0],pf[1]))}return u}var xf=new un,pi=new un,ua=new un,Bd=new un,kd=new un;function Cq(n,e){if(n){var t=n.getTextGuideLine(),r=n.getTextContent();if(r&&t){var i=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||sRe,o=r.getBoundingRect().clone();o.applyTransform(r.getComputedTransform());var l=1/0,u=i.anchor,c=n.getComputedTransform(),f=c&&Tc([],c),d=e.get("length2")||0;u&&ua.copy(u);for(var h=0;h<s.length;h++){var p=s[h];oRe(p,0,o,xf,Bd),un.scaleAndAdd(pi,xf,Bd,d),pi.transform(f);var m=n.getBoundingRect(),g=u?u.distance(pi):n instanceof Hn?cRe(pi,n.path,ua):uRe(pi,m,ua);g<l&&(l=g,pi.transform(c),ua.transform(c),ua.toArray(a[0]),pi.toArray(a[1]),xf.toArray(a[2]))}Sue(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var WN=[],cl=new un;function Sue(n,e){if(e<=180&&e>0){e=e/180*Math.PI,xf.fromArray(n[0]),pi.fromArray(n[1]),ua.fromArray(n[2]),un.sub(Bd,xf,pi),un.sub(kd,ua,pi);var t=Bd.len(),r=kd.len();if(!(t<.001||r<.001)){Bd.scale(1/t),kd.scale(1/r);var i=Bd.dot(kd),a=Math.cos(e);if(a<i){var s=jN(pi.x,pi.y,ua.x,ua.y,xf.x,xf.y,WN,!1);cl.fromArray(WN),cl.scaleAndAdd(kd,s/Math.tan(Math.PI-e));var o=ua.x!==pi.x?(cl.x-pi.x)/(ua.x-pi.x):(cl.y-pi.y)/(ua.y-pi.y);if(isNaN(o))return;o<0?un.copy(cl,pi):o>1&&un.copy(cl,ua),cl.toArray(n[1])}}}}function fRe(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,xf.fromArray(n[0]),pi.fromArray(n[1]),ua.fromArray(n[2]),un.sub(Bd,pi,xf),un.sub(kd,ua,pi);var r=Bd.len(),i=kd.len();if(!(r<.001||i<.001)){Bd.scale(1/r),kd.scale(1/i);var a=Bd.dot(e),s=Math.cos(t);if(a<s){var o=jN(pi.x,pi.y,ua.x,ua.y,xf.x,xf.y,WN,!1);cl.fromArray(WN);var l=Math.PI/2,u=Math.acos(kd.dot(e)),c=l+u-t;if(c>=l)un.copy(cl,ua);else{cl.scaleAndAdd(kd,o/Math.tan(Math.PI/2-c));var f=ua.x!==pi.x?(cl.x-pi.x)/(ua.x-pi.x):(cl.y-pi.y)/(ua.y-pi.y);if(isNaN(f))return;f<0?un.copy(cl,pi):f>1&&un.copy(cl,ua)}cl.toArray(n[1])}}}}function D5(n,e,t,r){var i=t==="normal",a=i?n:n.ensureState(t);a.ignore=e;var s=r.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=r.getModel("lineStyle").getLineStyle();i?n.useStyle(o):a.style=o}function dRe(n,e){var t=e.smooth,r=e.points;if(r)if(n.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var i=lp(r[0],r[1]),a=lp(r[1],r[2]);if(!i||!a){n.lineTo(r[1][0],r[1][1]),n.lineTo(r[2][0],r[2][1]);return}var s=Math.min(i,a)*t,o=NT([],r[1],r[0],s/i),l=NT([],r[1],r[2],s/a),u=NT([],o,l,.5);n.bezierCurveTo(o[0],o[1],o[0],o[1],u[0],u[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)n.lineTo(r[c][0],r[c][1])}function i9(n,e,t){var r=n.getTextGuideLine(),i=n.getTextContent();if(!i){r&&n.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=i.ignore,l=0;l<DC.length;l++){var u=DC[l],c=e[u],f=u==="normal";if(c){var d=c.get("show"),h=f?o:Wt(i.states[u]&&i.states[u].ignore,o);if(h||!Wt(d,s)){var p=f?r:r&&r.states[u];p&&(p.ignore=!0),r&&D5(r,!0,u,c);continue}r||(r=new Ls,n.setTextGuideLine(r),!f&&(o||!s)&&D5(r,!0,"normal",e.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),D5(r,!1,u,c)}}if(r){sn(r.style,t),r.style.fill=null;var m=a.get("showAbove"),g=n.textGuideLineConfig=n.textGuideLineConfig||{};g.showAbove=m||!1,r.buildPath=dRe}}function a9(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},r=0;r<bl.length;r++){var i=bl[r];t[i]=n.getModel([i,e])}return t}var Aq=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],hRe=1,YN=2,wue=hRe|YN;function qN(n,e,t){t=t||wue,e?n.dirty|=t:n.dirty&=~t}function Tue(n,e){return e=e||wue,n.dirty==null||!!(n.dirty&e)}function eh(n){if(n)return Tue(n)&&Cue(n,n.label,n),n}function Cue(n,e,t){var r=e.getComputedTransform();n.transform=vV(n.transform,r);var i=n.localRect=IC(n.localRect,e.getBoundingRect()),a=e.style,s=a.margin,o=t&&t.marginForce,l=t&&t.minMarginForce,u=t&&t.marginDefault,c=a.__marginType;c==null&&u&&(s=u,c=L_.textMargin);for(var f=0;f<4;f++)R5[f]=c===L_.minMargin&&l&&l[f]!=null?l[f]:o&&o[f]!=null?o[f]:s?s[f]:0;c===L_.textMargin&&By(i,R5,!1,!1);var d=n.rect=IC(n.rect,i);return r&&d.applyTransform(r),c===L_.minMargin&&By(d,R5,!1,!1),n.axisAligned=pV(r),(n.label=n.label||{}).ignore=e.ignore,qN(n,!1),qN(n,!0,YN),n}var R5=[0,0,0,0];function pRe(n,e,t){return n.transform=vV(n.transform,t),n.localRect=IC(n.localRect,e),n.rect=IC(n.rect,e),t&&n.rect.applyTransform(t),n.axisAligned=pV(t),n.obb=void 0,(n.label=n.label||{}).ignore=!1,n}function o8(n,e){if(n){n.label.x+=e.x,n.label.y+=e.y,n.label.markRedraw();var t=n.transform;t&&(t[4]+=e.x,t[5]+=e.y);var r=n.rect;r&&(r.x+=e.x,r.y+=e.y);var i=n.obb;i&&i.fromBoundingRect(n.localRect,t)}}function l8(n,e){for(var t=0;t<Aq.length;t++){var r=Aq[t];n[r]==null&&(n[r]=e[r])}return eh(n)}function Mq(n){var e=n.obb;return(!e||Tue(n,YN))&&(n.obb=e=e||new Kse,e.fromBoundingRect(n.localRect,n.transform),qN(n,!1,YN)),e}function u8(n,e,t,r,i){var a=n.length,s=gn[e],o=Na[e];if(a<2)return!1;n.sort(function(D,I){return D.rect[s]-I.rect[s]});for(var l=0,u,c=!1,f=0;f<a;f++){var d=n[f],h=d.rect;u=h[s]-l,u<0&&(h[s]-=u,d.label[s]-=u,c=!0),l=h[s]+h[o]}var p=n[0],m=n[a-1],g,y;_(),g<0&&M(-g,.8),y<0&&M(y,.8),_(),S(g,y,1),S(y,g,-1),_(),g<0&&E(-g),y<0&&E(y);function _(){g=p.rect[s]-t,y=r-m.rect[s]-m.rect[o]}function S(D,I,N){if(D<0){var L=Math.min(I,-D);if(L>0){A(L*N,0,a);var B=L+D;B<0&&M(-B*N,1)}else M(-D*N,1)}}function A(D,I,N){D!==0&&(c=!0);for(var L=I;L<N;L++){var B=n[L],O=B.rect;O[s]+=D,B.label[s]+=D}}function M(D,I){for(var N=[],L=0,B=1;B<a;B++){var O=n[B-1].rect,G=Math.max(n[B].rect[s]-O[s]-O[o],0);N.push(G),L+=G}if(L){var V=Math.min(Math.abs(D)/L,I);if(D>0)for(var B=0;B<a-1;B++){var q=N[B]*V;A(q,0,B+1)}else for(var B=a-1;B>0;B--){var q=N[B-1]*V;A(-q,B,a)}}}function E(D){var I=D<0?-1:1;D=Math.abs(D);for(var N=Math.ceil(D/(a-1)),L=0;L<a-1;L++)if(I>0?A(N,0,L+1):A(-N,a-L-1,a),D-=N,D<=0)return}return c}function vRe(n){for(var e=0;e<n.length;e++){var t=n[e],r=t.defaultAttr,i=t.labelLine;t.label.attr("ignore",r.ignore),i&&i.attr("ignore",r.labelGuideIgnore)}}function Aue(n){var e=[];n.sort(function(u,c){return(c.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||c.priority-u.priority});function t(u){if(!u.ignore){var c=u.ensureState("emphasis");c.ignore==null&&(c.ignore=!1)}u.ignore=!0}for(var r=0;r<n.length;r++){var i=eh(n[r]);if(!i.label.ignore){for(var a=i.label,s=i.labelLine,o=!1,l=0;l<e.length;l++)if(yL(i,e[l],null,{touchThreshold:.05})){o=!0;break}o?(t(a),s&&t(s)):e.push(i)}}}function yL(n,e,t,r){return!n||!e||n.label&&n.label.ignore||e.label&&e.label.ignore||!n.rect.intersect(e.rect,t,r)?!1:n.axisAligned&&e.axisAligned?!0:Mq(n).intersect(Mq(e),t,r)}function mRe(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function gRe(n,e){var t=n.label,r=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:mRe(r&&r.shape.points)}}var Eq=["align","verticalAlign","width","height","fontSize"],al=new fp,N5=Un(),yRe=Un();function U3(n,e,t){for(var r=0;r<t.length;r++){var i=t[r];e[i]!=null&&(n[i]=e[i])}}var V3=["x","y","rotation"],xRe=(function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,r,i,a){var s=i.style,o=i.__hostTarget,l=o.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();cn.applyTransform(c,c,u),u?al.setLocalTransform(u):(al.x=al.y=al.rotation=al.originX=al.originY=0,al.scaleX=al.scaleY=1),al.rotation=_u(al.rotation);var f=i.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var h=f.getComputedTransform();cn.applyTransform(d,d,h)}var p=d&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:r,dataIndex:e,dataType:t,layoutOptionOrCb:a,layoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:al.x,y:al.y,scaleX:al.scaleX,scaleY:al.scaleY,rotation:al.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var r=e.__model,i=r.get("labelLayout");(Xt(i)||$n(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=fn(a);s&&!s.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,r,s,i)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),r=e.getHeight();function i(S,A){return function(){Cq(S,A)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,u=s.defaultAttr,c=void 0;Xt(s.layoutOptionOrCb)?c=s.layoutOptionOrCb(gRe(s,l)):c=s.layoutOptionOrCb,c=c||{},s.layoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(c.x!=null?(o.x=kt(c.x,t),o.setStyle("x",0),d=!0):(o.x=u.x,o.setStyle("x",u.style.x)),c.y!=null?(o.y=kt(c.y,r),o.setStyle("y",0),d=!0):(o.y=u.y,o.setStyle("y",u.style.y)),c.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:c.labelLinePoints}),d=!1)}var p=N5(o);p.needsUpdateLabelLine=d,o.rotation=c.rotate!=null?c.rotate*f:u.rotation,o.scaleX=u.scaleX,o.scaleY=u.scaleY;for(var m=0;m<Eq.length;m++){var g=Eq[m];o.setStyle(g,c[g]!=null?c[g]:u.style[g])}if(c.draggable){if(o.draggable=!0,o.cursor="move",l){var y=s.seriesModel;if(s.dataIndex!=null){var _=s.seriesModel.getData(s.dataType);y=_.getItemModel(s.dataIndex)}o.on("drag",i(l,y.getModel("labelLine")))}}else o.off("drag"),o.cursor=u.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),r=e.getHeight(),i=[];ie(this._labelList,function(l){l.defaultAttr.ignore||i.push(l8({},l))});var a=vr(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=vr(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});u8(a,0,0,t),u8(s,1,0,r);var o=vr(i,function(l){return l.layoutOption.hideOverlap});vRe(o),Aue(o)},n.prototype.processLabelsOverall=function(){var e=this;ie(this._chartViewList,function(t){var r=t.__model,i=t.ignoreLabelLineUpdate,a=r.isAnimationEnabled();t.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!i,l=s.getTextContent();!o&&l&&(o=N5(l).needsUpdateLabelLine),o&&e._updateLabelLine(s,r),a&&e._animateLabels(s,r)})})},n.prototype._updateLabelLine=function(e,t){var r=e.getTextContent(),i=fn(e),a=i.dataIndex;if(r&&a!=null){var s=t.getData(i.dataType),o=s.getItemModel(a),l={},u=s.getItemVisual(a,"style");if(u){var c=s.getVisual("drawType");l.stroke=u[c]}var f=o.getModel("labelLine");i9(e,a9(o),l),Cq(e,f)}},n.prototype._animateLabels=function(e,t){var r=e.getTextContent(),i=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!J_(e))){var a=N5(r),s=a.oldLayout,o=fn(e),l=o.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},c=t.getData(o.dataType);if(s){r.attr(s);var d=e.prevStates;d&&(Cn(d,"select")>=0&&r.attr(a.oldLayoutSelect),Cn(d,"emphasis")>=0&&r.attr(a.oldLayoutEmphasis)),lr(r,u,t,l)}else if(r.attr(u),!nS(r).valueAnimation){var f=Wt(r.style.opacity,1);r.style.opacity=0,vi(r,{style:{opacity:f}},t,l)}if(a.oldLayout=u,r.states.select){var h=a.oldLayoutSelect={};U3(h,u,V3),U3(h,r.states.select,V3)}if(r.states.emphasis){var p=a.oldLayoutEmphasis={};U3(p,u,V3),U3(p,r.states.emphasis,V3)}loe(r,l,c,t,t)}if(i&&!i.ignore&&!i.invisible){var a=yRe(i),s=a.oldLayout,m={points:i.shape.points};s?(i.attr({shape:s}),lr(i,{shape:m},t)):(i.setShape(m),i.style.strokePercent=0,vi(i,{style:{strokePercent:1}},t)),a.oldLayout=m}},n})(),I5=Un();function _Re(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){var i=I5(t).labelManager;i||(i=I5(t).labelManager=new xRe),i.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,r){var i=I5(t).labelManager;r.updatedSeries.forEach(function(a){i.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}var k5=Math.sin,L5=Math.cos,Mue=Math.PI,wg=Math.PI*2,bRe=180/Mue,Eue=(function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,r,i,a,s){this._add("C",e,t,r,i,a,s)},n.prototype.quadraticCurveTo=function(e,t,r,i){this._add("Q",e,t,r,i)},n.prototype.arc=function(e,t,r,i,a,s){this.ellipse(e,t,r,r,0,i,a,s)},n.prototype.ellipse=function(e,t,r,i,a,s,o,l){var u=o-s,c=!l,f=Math.abs(u),d=hv(f-wg)||(c?u>=wg:-u>=wg),h=u>0?u%wg:u%wg+wg,p=!1;d?p=!0:hv(f)?p=!1:p=h>=Mue==!!c;var m=e+r*L5(s),g=t+i*k5(s);this._start&&this._add("M",m,g);var y=Math.round(a*bRe);if(d){var _=1/this._p,S=(c?1:-1)*(wg-_);this._add("A",r,i,y,1,+c,e+r*L5(s+S),t+i*k5(s+S)),_>.01&&this._add("A",r,i,y,0,+c,m,g)}else{var A=e+r*L5(o),M=t+i*k5(o);this._add("A",r,i,y,+p,+c,A,M)}},n.prototype.rect=function(e,t,r,i){this._add("M",e,t),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,r,i,a,s,o,l,u){for(var c=[],f=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h)){this._invalid=!0;return}c.push(Math.round(h*f)/f)}this._d.push(e+c.join(" ")),this._start=e==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n})(),s9="none",SRe=Math.round;function wRe(n){var e=n.fill;return e!=null&&e!==s9}function TRe(n){var e=n.stroke;return e!=null&&e!==s9}var c8=["lineCap","miterLimit","lineJoin"],CRe=ht(c8,function(n){return"stroke-"+n.toLowerCase()});function ARe(n,e,t,r){var i=e.opacity==null?1:e.opacity;if(t instanceof ps){n("opacity",i);return}if(wRe(e)){var a=MC(e.fill);n("fill",a.color);var s=e.fillOpacity!=null?e.fillOpacity*a.opacity*i:a.opacity*i;s<1&&n("fill-opacity",s)}else n("fill",s9);if(TRe(e)){var o=MC(e.stroke);n("stroke",o.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*o.opacity*i:o.opacity*i,f=e.strokeFirst;if(u!==1&&n("stroke-width",u),f&&n("paint-order",f?"stroke":"fill"),c<1&&n("stroke-opacity",c),e.lineDash){var d=VV(t),h=d[0],p=d[1];h&&(p=SRe(p||0),n("stroke-dasharray",h.join(",")),(p||r)&&n("stroke-dashoffset",p))}for(var m=0;m<c8.length;m++){var g=c8[m];if(e[g]!==wN[g]){var y=e[g]||wN[g];y&&n(CRe[m],y)}}}}var Due="http://www.w3.org/2000/svg",Rue="http://www.w3.org/1999/xlink",MRe="http://www.w3.org/2000/xmlns/",ERe="http://www.w3.org/XML/1998/namespace",Dq="ecmeta_";function Nue(n){return document.createElementNS(Due,n)}function as(n,e,t,r,i){return{tag:n,attrs:t||{},children:r,text:i,key:e}}function DRe(n,e){var t=[];if(e)for(var r in e){var i=e[r],a=r;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),t.push(a))}return"<"+n+" "+t.join(" ")+">"}function RRe(n){return"</"+n+">"}function o9(n,e){e=e||{};var t=e.newline?`
`:"";function r(i){var a=i.children,s=i.tag,o=i.attrs,l=i.text;return DRe(s,o)+(s!=="style"?Mo(l):l||"")+(a?""+t+ht(a,function(u){return r(u)}).join(t)+t:"")+RRe(s)}return r(n)}function NRe(n,e,t){t=t||{};var r=t.newline?`
`:"",i=" {"+r,a=r+"}",s=ht($n(n),function(l){return l+i+ht($n(n[l]),function(u){return u+":"+n[l][u]+";"}).join(r)+a}).join(r),o=ht($n(e),function(l){return"@keyframes "+l+i+ht($n(e[l]),function(u){return u+i+ht($n(e[l][u]),function(c){var f=e[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(r)+a}).join(r)+a}).join(r);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(r)}function f8(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Rq(n,e,t,r){return as("svg","root",{width:n,height:e,xmlns:Due,"xmlns:xlink":Rue,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+n+" "+e:!1},t)}var IRe=0;function Iue(){return IRe++}var Nq={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Gg="transform-origin";function kRe(n,e,t){var r=at({},n.shape);at(r,e),n.buildPath(t,r);var i=new Eue;return i.reset(Jae(n)),t.rebuildPath(i,1),i.generateStr(),i.getStr()}function LRe(n,e){var t=e.originX,r=e.originY;(t||r)&&(n[Gg]=t+"px "+r+"px")}var PRe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function kue(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function ORe(n,e,t){var r=n.shape.paths,i={},a,s;if(ie(r,function(l){var u=f8(t.zrId);u.animation=!0,xL(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,d=$n(c),h=d.length;if(h){s=d[h-1];var p=c[s];for(var m in p){var g=p[m];i[m]=i[m]||{d:""},i[m].d+=g.d||""}for(var y in f){var _=f[y].animation;_.indexOf(s)>=0&&(a=_)}}}),!!a){e.d=!1;var o=kue(i,t);return a.replace(s,o)}}function Iq(n){return Lt(n)?Nq[n]?"cubic-bezier("+Nq[n]+")":HU(n)?n:"":""}function xL(n,e,t,r){var i=n.animators,a=i.length,s=[];if(n instanceof qA){var o=ORe(n,e,t);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],f=[c.getMaxTime()/1e3+"s"],d=Iq(c.getClip().easing),h=c.getDelay();d?f.push(d):f.push("linear"),h&&f.push(h/1e3+"s"),c.getLoop()&&f.push("infinite");var p=f.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(c)}function m(_){var S=_[1],A=S.length,M={},E={},D={},I="animation-timing-function";function N(xe,we,Ae){for(var Ue=xe.getTracks(),pe=xe.getMaxTime(),pt=0;pt<Ue.length;pt++){var te=Ue[pt];if(te.needsAnimate()){var oe=te.keyframes,ge=te.propName;if(Ae&&(ge=Ae(ge)),ge)for(var le=0;le<oe.length;le++){var fe=oe[le],be=Math.round(fe.time/pe*100)+"%",Oe=Iq(fe.easing),Ve=fe.rawValue;(Lt(Ve)||nr(Ve))&&(we[be]=we[be]||{},we[be][ge]=fe.rawValue,Oe&&(we[be][I]=Oe))}}}}for(var L=0;L<A;L++){var B=S[L],O=B.targetName;O?O==="shape"&&N(B,E):!r&&N(B,M)}for(var G in M){var V={};_N(V,n),at(V,M[G]);var q=Qae(V),W=M[G][I];D[G]=q?{transform:q}:{},LRe(D[G],V),W&&(D[G][I]=W)}var Z,X=!0;for(var G in E){D[G]=D[G]||{};var K=!Z,W=E[G][I];K&&(Z=new Jd);var se=Z.len();Z.reset(),D[G].d=kRe(n,E[G],Z);var J=Z.len();if(!K&&se!==J){X=!1;break}W&&(D[G][I]=W)}if(!X)for(var G in D)delete D[G].d;if(!r)for(var L=0;L<A;L++){var B=S[L],O=B.targetName;O==="style"&&N(B,D,function(Ue){return PRe[Ue]})}for(var H=$n(D),ee=!0,Q,L=1;L<H.length;L++){var ne=H[L-1],ce=H[L];if(D[ne][Gg]!==D[ce][Gg]){ee=!1;break}Q=D[ne][Gg]}if(ee&&Q){for(var G in D)D[G][Gg]&&delete D[G][Gg];e[Gg]=Q}if(vr(H,function(xe){return $n(D[xe]).length>0}).length){var ve=kue(D,t);return ve+" "+_[0]+" both"}}for(var g in l){var o=m(l[g]);o&&s.push(o)}if(s.length){var y=t.zrId+"-cls-"+Iue();t.cssNodes["."+y]={animation:s.join(",")},e.class=y}}function FRe(n,e,t){if(!n.ignore)if(n.isSilent()){var r={"pointer-events":"none"};kq(r,e,t)}else{var i=n.states.emphasis&&n.states.emphasis.style?n.states.emphasis.style:{},a=i.fill;if(!a){var s=n.style&&n.style.fill,o=n.states.select&&n.states.select.style&&n.states.select.style.fill,l=n.currentStates.indexOf("select")>=0&&o||s;l&&(a=gN(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&n.transform?n.transform[0]:1;u=u/c}var r={cursor:"pointer"};a&&(r.fill=a),i.stroke&&(r.stroke=i.stroke),u&&(r["stroke-width"]=u),kq(r,e,t)}}function kq(n,e,t,r){var i=JSON.stringify(n),a=t.cssStyleCache[i];a||(a=t.zrId+"-cls-"+Iue(),t.cssStyleCache[i]=a,t.cssNodes["."+a+":hover"]=n),e.class=e.class?e.class+" "+a:a}var VC=Math.round;function Lue(n){return n&&Lt(n.src)}function Pue(n){return n&&Xt(n.toDataURL)}function l9(n,e,t,r){ARe(function(i,a){var s=i==="fill"||i==="stroke";s&&$ae(a)?Fue(e,n,i,r):s&&WU(a)?Bue(t,n,i,r):n[i]=a,s&&r.ssr&&a==="none"&&(n["pointer-events"]="visible")},e,t,!1),jRe(t,n,r)}function u9(n,e){var t=sse(e);t&&(t.each(function(r,i){r!=null&&(n[(Dq+i).toLowerCase()]=r+"")}),e.isSilent()&&(n[Dq+"silent"]="true"))}function Lq(n){return hv(n[0]-1)&&hv(n[1])&&hv(n[2])&&hv(n[3]-1)}function BRe(n){return hv(n[4])&&hv(n[5])}function c9(n,e,t){if(e&&!(BRe(e)&&Lq(e))){var r=1e4;n.transform=Lq(e)?"translate("+VC(e[4]*r)/r+" "+VC(e[5]*r)/r+")":xwe(e)}}function Pq(n,e,t){for(var r=n.points,i=[],a=0;a<r.length;a++)i.push(VC(r[a][0]*t)/t),i.push(VC(r[a][1]*t)/t);e.points=i.join(" ")}function Oq(n){return!n.smooth}function zRe(n){var e=ht(n,function(t){return typeof t=="string"?[t,t]:t});return function(t,r,i){for(var a=0;a<e.length;a++){var s=e[a],o=t[s[0]];o!=null&&(r[s[1]]=VC(o*i)/i)}}}var URe={circle:[zRe(["cx","cy","r"])],polyline:[Pq,Oq],polygon:[Pq,Oq]};function VRe(n){for(var e=n.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function Oue(n,e){var t=n.style,r=n.shape,i=URe[n.type],a={},s=e.animation,o="path",l=n.style.strokePercent,u=e.compress&&Jae(n)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](r))&&!(s&&VRe(n))&&!(l<1)){o=n.type;var c=Math.pow(10,u);i[0](r,a,c)}else{var f=!n.path||n.shapeChanged();n.path||n.createPathProxy();var d=n.path;f&&(d.beginPath(),n.buildPath(d,n.shape),n.pathUpdated());var h=d.getVersion(),p=n,m=p.__svgPathBuilder;(p.__svgPathVersion!==h||!m||l!==p.__svgPathStrokePercent)&&(m||(m=p.__svgPathBuilder=new Eue),m.reset(u),d.rebuildPath(m,l),m.generateStr(),p.__svgPathVersion=h,p.__svgPathStrokePercent=l),a.d=m.getStr()}return c9(a,n.transform),l9(a,t,n,e),u9(a,n),e.animation&&xL(n,a,e),e.emphasis&&FRe(n,a,e),as(o,n.id+"",a)}function GRe(n,e){var t=n.style,r=t.image;if(r&&!Lt(r)&&(Lue(r)?r=r.src:Pue(r)&&(r=r.toDataURL())),!!r){var i=t.x||0,a=t.y||0,s=t.width,o=t.height,l={href:r,width:s,height:o};return i&&(l.x=i),a&&(l.y=a),c9(l,n.transform),l9(l,t,n,e),u9(l,n),e.animation&&xL(n,l,e),as("image",n.id+"",l)}}function HRe(n,e){var t=n.style,r=t.text;if(r!=null&&(r+=""),!(!r||isNaN(t.x)||isNaN(t.y))){var i=t.font||Dp,a=t.x||0,s=bwe(t.y||0,HA(i),t.textBaseline),o=_we[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(Ise(t)){var u="",c=t.fontStyle,f=Nse(t.fontSize);if(!parseFloat(f))return;var d=t.fontFamily||wae,h=t.fontWeight;u+="font-size:"+f+";font-family:"+d+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),h&&h!=="normal"&&(u+="font-weight:"+h+";"),l.style=u}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),s&&(l.y=s),c9(l,n.transform),l9(l,t,n,e),u9(l,n),e.animation&&xL(n,l,e),as("text",n.id+"",l,void 0,r)}}function Fq(n,e){if(n instanceof Hn)return Oue(n,e);if(n instanceof ps)return GRe(n,e);if(n instanceof mb)return HRe(n,e)}function jRe(n,e,t){var r=n.style;if(Swe(r)){var i=wwe(n),a=t.shadowCache,s=a[i];if(!s){var o=n.getGlobalScale(),l=o[0],u=o[1];if(!l||!u)return;var c=r.shadowOffsetX||0,f=r.shadowOffsetY||0,d=r.shadowBlur,h=MC(r.shadowColor),p=h.opacity,m=h.color,g=d/2/l,y=d/2/u,_=g+" "+y;s=t.zrId+"-s"+t.shadowIdx++,t.defs[s]=as("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[as("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:_,"flood-color":m,"flood-opacity":p})]),a[i]=s}e.filter=Kk(s)}}function Fue(n,e,t,r){var i=n[t],a,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Zae(i))a="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(Kae(i))a="radialGradient",s.cx=Wt(i.x,.5),s.cy=Wt(i.y,.5),s.r=Wt(i.r,.5);else return;for(var o=i.colorStops,l=[],u=0,c=o.length;u<c;++u){var f=l6(o[u].offset)*100+"%",d=o[u].color,h=MC(d),p=h.color,m=h.opacity,g={offset:f};g["stop-color"]=p,m<1&&(g["stop-opacity"]=m),l.push(as("stop",u+"",g))}var y=as(a,"",s,l),_=o9(y),S=r.gradientCache,A=S[_];A||(A=r.zrId+"-g"+r.gradientIdx++,S[_]=A,s.id=A,r.defs[A]=as(a,A,s,l)),e[t]=Kk(A)}function Bue(n,e,t,r){var i=n.style[t],a=n.getBoundingRect(),s={},o=i.repeat,l=o==="no-repeat",u=o==="repeat-x",c=o==="repeat-y",f;if(Xae(i)){var d=i.imageWidth,h=i.imageHeight,p=void 0,m=i.image;if(Lt(m)?p=m:Lue(m)?p=m.src:Pue(m)&&(p=m.toDataURL()),typeof Image>"u"){var g="Image width/height must been given explictly in svg-ssr renderer.";to(d,g),to(h,g)}else if(d==null||h==null){var y=function(L,B){if(L){var O=L.elm,G=d||B.width,V=h||B.height;L.tag==="pattern"&&(u?(V=1,G/=a.width):c&&(G=1,V/=a.height)),L.attrs.width=G,L.attrs.height=V,O&&(O.setAttribute("width",G),O.setAttribute("height",V))}},_=eV(p,null,n,function(L){l||y(E,L),y(f,L)});_&&_.width&&_.height&&(d=d||_.width,h=h||_.height)}f=as("image","img",{href:p,width:d,height:h}),s.width=d,s.height=h}else i.svgElement&&(f=tn(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(f){var S,A;l?S=A=1:u?(A=1,S=s.width/a.width):c?(S=1,A=s.height/a.height):s.patternUnits="userSpaceOnUse",S!=null&&!isNaN(S)&&(s.width=S),A!=null&&!isNaN(A)&&(s.height=A);var M=Qae(i);M&&(s.patternTransform=M);var E=as("pattern","",s,[f]),D=o9(E),I=r.patternCache,N=I[D];N||(N=r.zrId+"-p"+r.patternIdx++,I[D]=N,s.id=N,E=r.defs[N]=as("pattern",N,s,[f])),e[t]=Kk(N)}}function WRe(n,e,t){var r=t.clipPathCache,i=t.defs,a=r[n.id];if(!a){a=t.zrId+"-c"+t.clipPathIdx++;var s={id:a};r[n.id]=a,i[a]=as("clipPath",a,s,[Oue(n,t)])}e["clip-path"]=Kk(a)}function Bq(n){return document.createTextNode(n)}function ey(n,e,t){n.insertBefore(e,t)}function zq(n,e){n.removeChild(e)}function Uq(n,e){n.appendChild(e)}function zue(n){return n.parentNode}function Uue(n){return n.nextSibling}function P5(n,e){n.textContent=e}var Vq=58,YRe=120,qRe=as("","");function d8(n){return n===void 0}function Rd(n){return n!==void 0}function XRe(n,e,t){for(var r={},i=e;i<=t;++i){var a=n[i].key;a!==void 0&&(r[a]=i)}return r}function hT(n,e){var t=n.key===e.key,r=n.tag===e.tag;return r&&t}function GC(n){var e,t=n.children,r=n.tag;if(Rd(r)){var i=n.elm=Nue(r);if(f9(qRe,n),ft(t))for(e=0;e<t.length;++e){var a=t[e];a!=null&&Uq(i,GC(a))}else Rd(n.text)&&!on(n.text)&&Uq(i,Bq(n.text))}else n.elm=Bq(n.text);return n.elm}function Vue(n,e,t,r,i){for(;r<=i;++r){var a=t[r];a!=null&&ey(n,GC(a),e)}}function XN(n,e,t,r){for(;t<=r;++t){var i=e[t];if(i!=null)if(Rd(i.tag)){var a=zue(i.elm);zq(a,i.elm)}else zq(n,i.elm)}}function f9(n,e){var t,r=e.elm,i=n&&n.attrs||{},a=e.attrs||{};if(i!==a){for(t in a){var s=a[t],o=i[t];o!==s&&(s===!0?r.setAttribute(t,""):s===!1?r.removeAttribute(t):t==="style"?r.style.cssText=s:t.charCodeAt(0)!==YRe?r.setAttribute(t,s):t==="xmlns:xlink"||t==="xmlns"?r.setAttributeNS(MRe,t,s):t.charCodeAt(3)===Vq?r.setAttributeNS(ERe,t,s):t.charCodeAt(5)===Vq?r.setAttributeNS(Rue,t,s):r.setAttribute(t,s))}for(t in i)t in a||r.removeAttribute(t)}}function ZRe(n,e,t){for(var r=0,i=0,a=e.length-1,s=e[0],o=e[a],l=t.length-1,u=t[0],c=t[l],f,d,h,p;r<=a&&i<=l;)s==null?s=e[++r]:o==null?o=e[--a]:u==null?u=t[++i]:c==null?c=t[--l]:hT(s,u)?(M_(s,u),s=e[++r],u=t[++i]):hT(o,c)?(M_(o,c),o=e[--a],c=t[--l]):hT(s,c)?(M_(s,c),ey(n,s.elm,Uue(o.elm)),s=e[++r],c=t[--l]):hT(o,u)?(M_(o,u),ey(n,o.elm,s.elm),o=e[--a],u=t[++i]):(d8(f)&&(f=XRe(e,r,a)),d=f[u.key],d8(d)?ey(n,GC(u),s.elm):(h=e[d],h.tag!==u.tag?ey(n,GC(u),s.elm):(M_(h,u),e[d]=void 0,ey(n,h.elm,s.elm))),u=t[++i]);(r<=a||i<=l)&&(r>a?(p=t[l+1]==null?null:t[l+1].elm,Vue(n,p,t,i,l)):XN(n,e,r,a))}function M_(n,e){var t=e.elm=n.elm,r=n.children,i=e.children;n!==e&&(f9(n,e),d8(e.text)?Rd(r)&&Rd(i)?r!==i&&ZRe(t,r,i):Rd(i)?(Rd(n.text)&&P5(t,""),Vue(t,null,i,0,i.length-1)):Rd(r)?XN(t,r,0,r.length-1):Rd(n.text)&&P5(t,""):n.text!==e.text&&(Rd(r)&&XN(t,r,0,r.length-1),P5(t,e.text)))}function KRe(n,e){if(hT(n,e))M_(n,e);else{var t=n.elm,r=zue(t);GC(e),r!==null&&(ey(r,e.elm,Uue(t)),XN(r,[n],0,0))}return e}var $Re=0,JRe=(function(){function n(e,t,r){if(this.type="svg",this.refreshHover=Gq(),this.configLayer=Gq(),this.storage=t,this._opts=r=at({},r),this.root=e,this._id="zr"+$Re++,this._oldVNode=Rq(r.width,r.height),e&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=Nue("svg");f9(null,this._oldVNode),i.appendChild(a),e.appendChild(i)}this.resize(r.width,r.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",KRe(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return Fq(e,f8(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),r=this._width,i=this._height,a=f8(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis,a.ssr=this._opts.ssr;var s=[],o=this._bgVNode=QRe(r,i,this._backgroundColor,a);o&&s.push(o);var l=e.compress?null:this._mainVNode=as("g","main",{},[]);this._paintList(t,a,l?l.children:s),l&&s.push(l);var u=ht($n(a.defs),function(d){return a.defs[d]});if(u.length&&s.push(as("defs","defs",{},u)),e.animation){var c=NRe(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=as("style","stl",{},[],c);s.push(f)}}return Rq(r,i,s,e.useViewBox)},n.prototype.renderToString=function(e){return e=e||{},o9(this.renderToVNode({animation:Wt(e.cssAnimation,!0),emphasis:Wt(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Wt(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,r){for(var i=e.length,a=[],s=0,o,l,u=0,c=0;c<i;c++){var f=e[c];if(!f.invisible){var d=f.__clipPaths,h=d&&d.length||0,p=l&&l.length||0,m=void 0;for(m=Math.max(h-1,p-1);m>=0&&!(d&&l&&d[m]===l[m]);m--);for(var g=p-1;g>m;g--)s--,o=a[s-1];for(var y=m+1;y<h;y++){var _={};WRe(d[y],_,t);var S=as("g","clip-g-"+u++,_,[]);(o?o.children:r).push(S),a[s++]=S,o=S}l=d;var A=Fq(f,t);A&&(o?o.children:r).push(A)}}},n.prototype.resize=function(e,t){var r=this._opts,i=this.root,a=this._viewport;if(e!=null&&(r.width=e),t!=null&&(r.height=t),i&&a&&(a.style.display="none",e=O_(i,0,r),t=O_(i,1,r),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var s=a.style;s.width=e+"px",s.height=t+"px"}if(WU(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),r="data:image/svg+xml;";return e?(t=Cwe(t),t&&r+"base64,"+t):r+"charset=UTF-8,"+encodeURIComponent(t)},n})();function Gq(n){return function(){}}function QRe(n,e,t,r){var i;if(t&&t!=="none")if(i=as("rect","bg",{width:n,height:e,x:"0",y:"0"}),$ae(t))Fue({fill:t},i.attrs,"fill",r);else if(WU(t))Bue({style:{fill:t},dirty:Qi,getBoundingRect:function(){return{width:n,height:e}}},i.attrs,"fill",r);else{var a=MC(t),s=a.color,o=a.opacity;i.attrs.fill=s,o<1&&(i.attrs["fill-opacity"]=o)}return i}function eNe(n){n.registerPainter("svg",JRe)}function Hq(n,e,t){var r=ql.createCanvas(),i=e.getWidth(),a=e.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*t,r.height=a*t,r}var O5=(function(n){Si(e,n);function e(t,r,i){var a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||xN,typeof t=="string"?s=Hq(t,r,i):on(t)&&(s=t,t=s.id),a.id=t,a.dom=s;var o=s.style;return o&&(UU(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=r,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Hq("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new cn(0,0,0,0);function c(_){if(!(!_.isFinite()||_.isZero()))if(s.length===0){var S=new cn(0,0,0,0);S.copy(_),s.push(S)}else{for(var A=!1,M=1/0,E=0,D=0;D<s.length;++D){var I=s[D];if(I.intersect(_)){var N=new cn(0,0,0,0);N.copy(I),N.union(_),s[D]=N,A=!0;break}else if(l){u.copy(_),u.union(I);var L=_.width*_.height,B=I.width*I.height,O=u.width*u.height,G=O-L-B;G<M&&(M=G,E=D)}}if(l&&(s[E].union(_),A=!0),!A){var S=new cn(0,0,0,0);S.copy(_),s.push(S)}l||(l=s.length>=o)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=t[f];if(d){var h=d.shouldBePainted(i,a,!0,!0),p=d.__isRendered&&(d.__dirty&vu||!h)?d.getPrevPaintRect():null;p&&c(p);var m=h&&(d.__dirty&vu||!d.__isRendered)?d.getPaintRect():null;m&&c(m)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=r[f],h=d&&d.shouldBePainted(i,a,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var p=d.getPrevPaintRect();p&&c(p)}}var g;do{g=!1;for(var f=0;f<s.length;){if(s[f].isZero()){s.splice(f,1);continue}for(var y=f+1;y<s.length;)s[f].intersect(s[y])?(g=!0,s[f].union(s[y]),s.splice(y,1)):y++;f++}}while(g);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=t+"px",s.height=r+"px"),a.width=t*i,a.height=r*i,o&&(o.width=t*i,o.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;r=r||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,f=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/f,l/f));var h=this.domBack;function p(m,g,y,_){if(s.clearRect(m,g,y,_),r&&r!=="transparent"){var S=void 0;if(BA(r)){var A=r.global||r.__width===y&&r.__height===_;S=A&&r.__canvasGradient||X6(s,r,{x:0,y:0,width:y,height:_}),r.__canvasGradient=S,r.__width=y,r.__height=_}else Mae(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,S=Z6(s,r,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));s.save(),s.fillStyle=S||r,s.fillRect(m,g,y,_),s.restore()}u&&(s.save(),s.globalAlpha=c,s.drawImage(h,m,g,y,_),s.restore())}!i||u?p(0,0,o,l):i.length&&ie(i,function(m){p(m.x*f,m.y*f,m.width*f,m.height*f)})},e})(Dc),jq=1e5,Tg=314159,G3=.01,tNe=.001;function nNe(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function rNe(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var iNe=(function(){function n(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=at({},r||{}),this.dpr=r.devicePixelRatio||xN,this._singleCanvas=a,this.root=e;var s=e.style;s&&(UU(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=e,f=c.width,d=c.height;r.width!=null&&(f=r.width),r.height!=null&&(d=r.height),this.dpr=r.devicePixelRatio||1,c.width=f*this.dpr,c.height=d*this.dpr,this._width=f,this._height=d;var h=new O5(c,this,this.dpr);h.__builtin__=!0,h.initContext(),l[Tg]=h,h.zlevel=Tg,o.push(Tg),this._domRoot=e}else{this._width=O_(e,0,r),this._height=O_(e,1,r);var u=this._domRoot=rNe(this._width,this._height);e.appendChild(u)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<t;s++){var o=e[s];o.__inHover&&(r||(r=this._hoverlayer=this.getLayer(jq)),a||(a=r.ctx,a.save()),dy(a,o,i,s===t-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(jq)},n.prototype.paintOne=function(e,t){GV(e,t)},n.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,r),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;hN(function(){l._paintList(e,t,r,i)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(Tg).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},n.prototype._doPaintList=function(e,t,r){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&a.push(u)}for(var c=!0,f=!1,d=function(m){var g=a[m],y=g.ctx,_=s&&g.createRepaintRects(e,t,h._width,h._height),S=r?g.__startIndex:g.__drawIndex,A=!r&&g.incremental&&Date.now,M=A&&Date.now(),E=g.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,E,_);else if(S===g.__startIndex){var D=e[S];(!D.incremental||!D.notClear||r)&&g.clear(!1,E,_)}S===-1&&(console.error("For some unknown reason. drawIndex is -1"),S=g.__startIndex);var I,N=function(G){var V={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(I=S;I<g.__endIndex;I++){var q=e[I];if(q.__inHover&&(f=!0),i._doPaintEl(q,g,s,G,V,I===g.__endIndex-1),A){var W=Date.now()-M;if(W>15)break}}V.prevElClipPaths&&y.restore()};if(_)if(_.length===0)I=g.__endIndex;else for(var L=h.dpr,B=0;B<_.length;++B){var O=_[B];y.save(),y.beginPath(),y.rect(O.x*L,O.y*L,O.width*L,O.height*L),y.clip(),N(O),y.restore()}else y.save(),N(),y.restore();g.__drawIndex=I,g.__drawIndex<g.__endIndex&&(c=!1)},h=this,p=0;p<a.length;p++)d(p);return Zn.wxa&&ie(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:c,needsRefreshHover:f}},n.prototype._doPaintEl=function(e,t,r,i,a,s){var o=t.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(dy(o,e,a,s),e.setPrevPaintRect(l))}else dy(o,e,a,s)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Tg);var r=this._layers[e];return r||(r=new O5("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?An(r,this._layerConfig[e],!0):this._layerConfig[e-G3]&&An(r,this._layerConfig[e-G3],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},n.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!r[e]&&nNe(t)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);o=r[i[l]]}if(i.splice(l+1,0,e),r[e]=t,!t.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(t.dom,u.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.painter||(t.painter=this)}},n.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];e.call(t,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__&&e.call(t,s,a)}},n.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__||e.call(t,s,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function t(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,c=void 0;o!==u&&(o=u,s=0),i.incremental?(c=this.getLayer(u+tNe,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(u+(s>0?G3:0),this._needsManuallyCompositing),c.__builtin__||Wk("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),a=c),i.__dirty&vu&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,ie(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?An(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+G3){var s=this._layers[a];An(s,r[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(Cn(r,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=O_(a,0,i),t=O_(a,1,i),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Tg).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Tg].dom;var t=new O5("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var c=o[l];dy(r,c,s,l===u-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n})();function aNe(n){n.registerPainter("canvas",iNe)}var sNe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return sh(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var r=new nn,i=va("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(i),i.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,l=t.itemHeight*.8,u=va(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);r.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?s:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=qe.color.neutral00,u.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(Yr);function wb(n,e){var t=n.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var i=xb(n,e,t[0]);return i!=null?i+"":null}else if(r){for(var a=[],s=0;s<t.length;s++)a.push(xb(n,e,t[s]));return a.join(" ")}}function Gue(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!ft(e))return e+"";for(var r=[],i=0;i<t.length;i++){var a=n.getDimensionIndex(t[i]);a>=0&&r.push(e[a])}return r.join(" ")}var QA=(function(n){Xe(e,n);function e(t,r,i,a){var s=n.call(this)||this;return s.updateData(t,r,i,a),s}return e.prototype._createSymbol=function(t,r,i,a,s,o){this.removeAll();var l=va(t,-1,-1,2,2,null,o);l.attr({z2:Wt(s,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=oNe,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Np(this.childAt(0))},e.prototype.downplay=function(){Ip(this.childAt(0))},e.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},e.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},e.prototype.updateData=function(t,r,i,a){this.silent=!1;var s=t.getItemVisual(r,"symbol")||"circle",o=t.hostModel,l=e.getSymbolSize(t,r),u=e.getSymbolZ2(t,r),c=s!==this._symbolType,f=a&&a.disableAnimation;if(c){var d=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(s,t,r,l,u,d)}else{var h=this.childAt(0);h.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};f?h.attr(p):lr(h,p,o,r),Ac(h)}if(this._updateCommon(t,r,l,i,a),c){var h=this.childAt(0);if(!f){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,vi(h,p,o,r)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,i,a,s){var o=this.childAt(0),l=t.hostModel,u,c,f,d,h,p,m,g,y;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,d=a.focus,h=a.blurScope,m=a.labelStatesModels,g=a.hoverScale,y=a.cursorStyle,p=a.emphasisDisabled),!a||t.hasItemOption){var _=a&&a.itemModel?a.itemModel:t.getItemModel(r),S=_.getModel("emphasis");u=S.getModel("itemStyle").getItemStyle(),f=_.getModel(["select","itemStyle"]).getItemStyle(),c=_.getModel(["blur","itemStyle"]).getItemStyle(),d=S.get("focus"),h=S.get("blurScope"),p=S.get("disabled"),m=Ya(_),g=S.getShallow("scale"),y=_.getShallow("cursor")}var A=t.getItemVisual(r,"symbolRotate");o.attr("rotation",(A||0)*Math.PI/180||0);var M=rx(t.getItemVisual(r,"symbolOffset"),i);M&&(o.x=M[0],o.y=M[1]),y&&o.attr("cursor",y);var E=t.getItemVisual(r,"style"),D=E.fill;if(o instanceof ps){var I=o.style;o.useStyle(at({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},E))}else o.__isEmptyBrush?o.useStyle(at({},E)):o.useStyle(E),o.style.decal=null,o.setColor(D,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var N=t.getItemVisual(r,"liftZ"),L=this._z2;N!=null?L==null&&(this._z2=o.z2,o.z2+=N):L!=null&&(o.z2=L,this._z2=null);var B=s&&s.useNameLabel;cs(o,m,{labelFetcher:l,labelDataIndex:r,defaultText:O,inheritColor:D,defaultOpacity:E.opacity});function O(q){return B?t.getName(q):wb(t,q)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var G=o.ensureState("emphasis");G.style=u,o.ensureState("select").style=f,o.ensureState("blur").style=c;var V=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;G.scaleX=this._sizeX*V,G.scaleY=this._sizeY*V,this.setSymbolScale(1),Ei(this,d,h,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,i){var a=this.childAt(0),s=fn(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&Pv(l,{style:{opacity:0}},r,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Pv(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:s,cb:t,removeOpt:o})},e.getSymbolSize=function(t,r){return lS(t.getItemVisual(r,"symbolSize"))},e.getSymbolZ2=function(t,r){return t.getItemVisual(r,"z2")},e})(nn);function oNe(n,e){this.parent.drift(n,e)}function F5(n,e,t,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function Wq(n){return n!=null&&!on(n)&&(n={isIgnore:n}),n||{}}function Yq(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Ya(e),cursorStyle:e.get("cursor")}}var eM=(function(){function n(e){this.group=new nn,this._SymbolCtor=e||QA}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=Wq(t);var r=this.group,i=e.hostModel,a=this._data,s=this._SymbolCtor,o=t.disableAnimation,l=Yq(e),u={disableAnimation:o},c=t.getSymbolPoint||function(f){return e.getItemLayout(f)};a||r.removeAll(),e.diff(a).add(function(f){var d=c(f);if(F5(e,d,f,t)){var h=new s(e,f,l,u);h.setPosition(d),e.setItemGraphicEl(f,h),r.add(h)}}).update(function(f,d){var h=a.getItemGraphicEl(d),p=c(f);if(!F5(e,p,f,t)){r.remove(h);return}var m=e.getItemVisual(f,"symbol")||"circle",g=h&&h.getSymbolType&&h.getSymbolType();if(!h||g&&g!==m)r.remove(h),h=new s(e,f,l,u),h.setPosition(p);else{h.updateData(e,f,l,u);var y={x:p[0],y:p[1]};o?h.attr(y):lr(h,y,i)}r.add(h),e.setItemGraphicEl(f,h)}).remove(function(f){var d=a.getItemGraphicEl(f);d&&d.fadeOut(function(){r.remove(d)},i)}).execute(),this._getSymbolPoint=c,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(r,i){var a=e._getSymbolPoint(i);r.setPosition(a),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Yq(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[],r=Wq(r);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var s=t.getItemLayout(a);if(F5(t,s,a,r)){var o=new this._SymbolCtor(t,a,this._seriesScope);o.traverse(i),o.setPosition(s),this.group.add(o),t.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},n.prototype.eachRendered=function(e){Jv(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},r.hostModel)}):t.removeAll()},n})();function Hue(n,e,t){var r=n.getBaseAxis(),i=n.getOtherAxis(r),a=lNe(i,t),s=r.dim,o=i.dim,l=e.mapDimension(o),u=e.mapDimension(s),c=o==="x"||o==="radius"?1:0,f=ht(n.dimensions,function(p){return e.mapDimension(p)}),d=!1,h=e.getCalculationInfo("stackResultDimension");return Lp(e,f[0])&&(d=!0,f[0]=h),Lp(e,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function lNe(n,e){var t=0,r=n.scale.getExtent();return e==="start"?t=r[0]:e==="end"?t=r[1]:nr(e)&&!isNaN(e)?t=e:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function jue(n,e,t,r){var i=NaN;n.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=n.valueStart);var a=n.baseDataOffset,s=[];return s[a]=t.get(n.baseDim,r),s[1-a]=i,e.dataToPoint(s)}function uNe(n,e){var t=[];return e.diff(n).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,i){t.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function cNe(n,e,t,r,i,a,s,o){for(var l=uNe(n,e),u=[],c=[],f=[],d=[],h=[],p=[],m=[],g=Hue(i,e,s),y=n.getLayout("points")||[],_=e.getLayout("points")||[],S=0;S<l.length;S++){var A=l[S],M=!0,E=void 0,D=void 0;switch(A.cmd){case"=":E=A.idx*2,D=A.idx1*2;var I=y[E],N=y[E+1],L=_[D],B=_[D+1];(isNaN(I)||isNaN(N))&&(I=L,N=B),u.push(I,N),c.push(L,B),f.push(t[E],t[E+1]),d.push(r[D],r[D+1]),m.push(e.getRawIndex(A.idx1));break;case"+":var O=A.idx,G=g.dataDimsForPoint,V=i.dataToPoint([e.get(G[0],O),e.get(G[1],O)]);D=O*2,u.push(V[0],V[1]),c.push(_[D],_[D+1]);var q=jue(g,i,e,O);f.push(q[0],q[1]),d.push(r[D],r[D+1]),m.push(e.getRawIndex(O));break;case"-":M=!1}M&&(h.push(A),p.push(p.length))}p.sort(function(ne,ce){return m[ne]-m[ce]});for(var W=u.length,Z=Fd(W),X=Fd(W),K=Fd(W),se=Fd(W),J=[],S=0;S<p.length;S++){var H=p[S],ee=S*2,Q=H*2;Z[ee]=u[Q],Z[ee+1]=u[Q+1],X[ee]=c[Q],X[ee+1]=c[Q+1],K[ee]=f[Q],K[ee+1]=f[Q+1],se[ee]=d[Q],se[ee+1]=d[Q+1],J[S]=h[H]}return{current:Z,next:X,stackedOnCurrent:K,stackedOnNext:se,status:J}}var U0=Math.min,V0=Math.max;function Ty(n,e){return isNaN(n)||isNaN(e)}function h8(n,e,t,r,i,a,s,o,l){for(var u,c,f,d,h,p,m=t,g=0;g<r;g++){var y=e[m*2],_=e[m*2+1];if(m>=i||m<0)break;if(Ty(y,_)){if(l){m+=a;continue}break}if(m===t)n[a>0?"moveTo":"lineTo"](y,_),f=y,d=_;else{var S=y-u,A=_-c;if(S*S+A*A<.5){m+=a;continue}if(s>0){for(var M=m+a,E=e[M*2],D=e[M*2+1];E===y&&D===_&&g<r;)g++,M+=a,m+=a,E=e[M*2],D=e[M*2+1],y=e[m*2],_=e[m*2+1],S=y-u,A=_-c;var I=g+1;if(l)for(;Ty(E,D)&&I<r;)I++,M+=a,E=e[M*2],D=e[M*2+1];var N=.5,L=0,B=0,O=void 0,G=void 0;if(I>=r||Ty(E,D))h=y,p=_;else{L=E-u,B=D-c;var V=y-u,q=E-y,W=_-c,Z=D-_,X=void 0,K=void 0;if(o==="x"){X=Math.abs(V),K=Math.abs(q);var se=L>0?1:-1;h=y-se*X*s,p=_,O=y+se*K*s,G=_}else if(o==="y"){X=Math.abs(W),K=Math.abs(Z);var J=B>0?1:-1;h=y,p=_-J*X*s,O=y,G=_+J*K*s}else X=Math.sqrt(V*V+W*W),K=Math.sqrt(q*q+Z*Z),N=K/(K+X),h=y-L*s*(1-N),p=_-B*s*(1-N),O=y+L*s*N,G=_+B*s*N,O=U0(O,V0(E,y)),G=U0(G,V0(D,_)),O=V0(O,U0(E,y)),G=V0(G,U0(D,_)),L=O-y,B=G-_,h=y-L*X/K,p=_-B*X/K,h=U0(h,V0(u,y)),p=U0(p,V0(c,_)),h=V0(h,U0(u,y)),p=V0(p,U0(c,_)),L=y-h,B=_-p,O=y+L*K/X,G=_+B*K/X}n.bezierCurveTo(f,d,h,p,y,_),f=O,d=G}else n.lineTo(y,_)}u=y,c=_,m+=a}return g}var Wue=(function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n})(),fNe=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:qe.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new Wue},e.prototype.buildPath=function(t,r){var i=r.points,a=0,s=i.length/2;if(r.connectNulls){for(;s>0&&Ty(i[s*2-2],i[s*2-1]);s--);for(;a<s&&Ty(i[a*2],i[a*2+1]);a++);}for(;a<s;)a+=h8(t,i,a,s,s,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,s=Jd.CMD,o,l,u=r==="x",c=[],f=0;f<a.length;){var d=a[f++],h=void 0,p=void 0,m=void 0,g=void 0,y=void 0,_=void 0,S=void 0;switch(d){case s.M:o=a[f++],l=a[f++];break;case s.L:if(h=a[f++],p=a[f++],S=u?(t-o)/(h-o):(t-l)/(p-l),S<=1&&S>=0){var A=u?(p-l)*S+l:(h-o)*S+o;return u?[t,A]:[A,t]}o=h,l=p;break;case s.C:h=a[f++],p=a[f++],m=a[f++],g=a[f++],y=a[f++],_=a[f++];var M=u?vN(o,h,m,y,t,c):vN(l,p,g,_,t,c);if(M>0)for(var E=0;E<M;E++){var D=c[E];if(D<=1&&D>=0){var A=u?rs(l,p,g,_,D):rs(o,h,m,y,D);return u?[t,A]:[A,t]}}o=y,l=_;break}}},e})(Hn),dNe=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(Wue),Yue=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new dNe},e.prototype.buildPath=function(t,r){var i=r.points,a=r.stackedOnPoints,s=0,o=i.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;o>0&&Ty(i[o*2-2],i[o*2-1]);o--);for(;s<o&&Ty(i[s*2],i[s*2+1]);s++);}for(;s<o;){var u=h8(t,i,s,o,o,1,r.smooth,l,r.connectNulls);h8(t,a,s+u-1,u,o,-1,r.stackedOnSmooth,l,r.connectNulls),s+=u+1,t.closePath()}},e})(Hn);function que(n,e,t,r,i){var a=n.getArea(),s=a.x,o=a.y,l=a.width,u=a.height,c=t.get(["lineStyle","width"])||0;s-=c/2,o-=c/2,l+=c,u+=c,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var f=new Pn({shape:{x:s,y:o,width:l,height:u}});if(e){var d=n.getBaseAxis(),h=d.isHorizontal(),p=d.inverse;h?(p&&(f.shape.x+=l),f.shape.width=0):(p||(f.shape.y+=u),f.shape.height=0);var m=Xt(i)?function(g){i(g,f)}:null;vi(f,{shape:{width:l,height:u,x:s,y:o}},t,null,r,m)}return f}function Xue(n,e,t){var r=n.getArea(),i=da(r.r0,1),a=da(r.r,1),s=new no({shape:{cx:da(n.cx,1),cy:da(n.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var o=n.getBaseAxis().dim==="angle";o?s.shape.endAngle=r.startAngle:s.shape.r=i,vi(s,{shape:{endAngle:r.endAngle,r:a}},t)}return s}function tM(n,e,t,r,i){if(n){if(n.type==="polar")return Xue(n,e,t);if(n.type==="cartesian2d")return que(n,e,t,r,i)}else return null;return null}function Ov(n,e){return n.type===e}function qq(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function Xq(n){for(var e=1/0,t=1/0,r=-1/0,i=-1/0,a=0;a<n.length;){var s=n[a++],o=n[a++];isNaN(s)||(e=Math.min(s,e),r=Math.max(s,r)),isNaN(o)||(t=Math.min(o,t),i=Math.max(o,i))}return[[e,t],[r,i]]}function Zq(n,e){var t=Xq(n),r=t[0],i=t[1],a=Xq(e),s=a[0],o=a[1];return Math.max(Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function Kq(n){return nr(n)?n:n?.5:0}function hNe(n,e,t){if(!t.valueDim)return[];for(var r=e.count(),i=Fd(r*2),a=0;a<r;a++){var s=jue(t,n,e,a);i[a*2]=s[0],i[a*2+1]=s[1]}return i}function G0(n,e,t,r,i){var a=t.getBaseAxis(),s=a.dim==="x"||a.dim==="radius"?0:1,o=[],l=0,u=[],c=[],f=[],d=[];if(i){for(l=0;l<n.length;l+=2){var h=e||n;!isNaN(h[l])&&!isNaN(h[l+1])&&d.push(n[l],n[l+1])}n=d}for(l=0;l<n.length-2;l+=2)switch(f[0]=n[l+2],f[1]=n[l+3],c[0]=n[l],c[1]=n[l+1],o.push(c[0],c[1]),r){case"end":u[s]=f[s],u[1-s]=c[1-s],o.push(u[0],u[1]);break;case"middle":var p=(c[s]+f[s])/2,m=[];u[s]=m[s]=p,u[1-s]=c[1-s],m[1-s]=f[1-s],o.push(u[0],u[1]),o.push(m[0],m[1]);break;default:u[s]=c[s],u[1-s]=f[1-s],o.push(u[0],u[1])}return o.push(n[l++],n[l++]),o}function pNe(n,e){var t=[],r=n.length,i,a;function s(c,f,d){var h=c.coord,p=(d-h)/(f.coord-h),m=jU(p,[c.color,f.color]);return{coord:d,color:m}}for(var o=0;o<r;o++){var l=n[o],u=l.coord;if(u<0)i=l;else if(u>e){a?t.push(s(a,l,e)):i&&t.push(s(i,l,0),s(i,l,e));break}else i&&(t.push(s(i,l,0)),i=null),t.push(l),a=l}return t}function vNe(n,e,t){var r=n.getVisual("visualMeta");if(!(!r||!r.length||!n.count())&&e.type==="cartesian2d"){for(var i,a,s=r.length-1;s>=0;s--){var o=n.getDimensionInfo(r[s].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){a=r[s];break}}if(a){var l=e.getAxis(i),u=ht(a.stops,function(S){return{coord:l.toGlobalCoord(l.dataToCoord(S.value)),color:S.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var d=pNe(u,i==="x"?t.getWidth():t.getHeight()),h=d.length;if(!h&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var p=10,m=d[0].coord-p,g=d[h-1].coord+p,y=g-m;if(y<.001)return"transparent";ie(d,function(S){S.offset=(S.coord-m)/y}),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var _=new Qy(0,0,0,0,d,!0);return _[i]=m,_[i+"2"]=g,_}}}function mNe(n,e,t){var r=n.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var a=t.getAxesByScale("ordinal")[0];if(a&&!(i&&gNe(a,e))){var s=e.mapDimension(a.dim),o={};return ie(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(e.get(s,l))}}}}function gNe(n,e){var t=n.getExtent(),r=Math.abs(t[1]-t[0])/n.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),s=0;s<i;s+=a)if(QA.getSymbolSize(e,s)[n.isHorizontal()?1:0]*1.5>r)return!1;return!0}function yNe(n,e){return isNaN(n)||isNaN(e)}function xNe(n){for(var e=n.length/2;e>0&&yNe(n[e*2-2],n[e*2-1]);e--);return e-1}function $q(n,e){return[n[e*2],n[e*2+1]]}function _Ne(n,e,t){for(var r=n.length/2,i=t==="x"?0:1,a,s,o=0,l=-1,u=0;u<r;u++)if(s=n[u*2+i],!(isNaN(s)||isNaN(n[u*2+1-i]))){if(u===0){a=s;continue}if(a<=e&&s>=e||a>=e&&s<=e){l=u;break}o=u,a=s}return{range:[o,l],t:(e-a)/(s-a)}}function Zue(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<bl.length;e++)if(n.get([bl[e],"endLabel","show"]))return!0;return!1}function B5(n,e,t,r){if(Ov(e,"cartesian2d")){var i=r.getModel("endLabel"),a=i.get("valueAnimation"),s=r.getData(),o={lastFrameIndex:0},l=Zue(r)?function(h,p){n._endLabelOnDuring(h,p,s,o,a,i,e)}:null,u=e.getBaseAxis().isHorizontal(),c=que(e,t,r,function(){var h=n._endLabel;h&&t&&o.originalX!=null&&h.attr({x:o.originalX,y:o.originalY})},l);if(!r.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);u?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,c),c}else return Xue(e,t,r)}function bNe(n,e){var t=e.getBaseAxis(),r=t.isHorizontal(),i=t.inverse,a=r?i?"right":"left":"center",s=r?"middle":i?"top":"bottom";return{normal:{align:n.get("align")||a,verticalAlign:n.get("verticalAlign")||s}}}var SNe=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=new nn,r=new eM;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t,this._changePolyState=Ot(this._changePolyState,this)},e.prototype.render=function(t,r,i){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=o.getLayout("points")||[],f=a.type==="polar",d=this._coordSys,h=this._symbolDraw,p=this._polyline,m=this._polygon,g=this._lineGroup,y=!r.ssr&&t.get("animation"),_=!u.isEmpty(),S=u.get("origin"),A=Hue(a,o,S),M=_&&hNe(a,o,A),E=t.get("showSymbol"),D=t.get("connectNulls"),I=E&&!f&&mNe(t,o,a),N=this._data;N&&N.eachItemGraphicEl(function(ne,ce){ne.__temp&&(s.remove(ne),N.setItemGraphicEl(ce,null))}),E||h.remove(),s.add(g);var L=f?!1:t.get("step"),B;a&&a.getArea&&t.get("clip",!0)&&(B=a.getArea(),B.width!=null?(B.x-=.1,B.y-=.1,B.width+=.2,B.height+=.2):B.r0&&(B.r0-=.5,B.r+=.5)),this._clipShapeForSymbol=B;var O=vNe(o,a,i)||o.getVisual("style")[o.getVisual("drawType")];if(!(p&&d.type===a.type&&L===this._step))E&&h.updateData(o,{isIgnore:I,clipShape:B,disableAnimation:!0,getSymbolPoint:function(ne){return[c[ne*2],c[ne*2+1]]}}),y&&this._initSymbolLabelAnimation(o,a,B),L&&(M&&(M=G0(M,c,a,L,D)),c=G0(c,null,a,L,D)),p=this._newPolyline(c),_?m=this._newPolygon(c,M):m&&(g.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,Uy(O)),g.setClipPath(B5(this,a,!0,t));else{_&&!m?m=this._newPolygon(c,M):m&&!_&&(g.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,Uy(O));var G=g.getClipPath();if(G){var V=B5(this,a,!1,t);vi(G,{shape:V.shape},t)}else g.setClipPath(B5(this,a,!0,t));E&&h.updateData(o,{isIgnore:I,clipShape:B,disableAnimation:!0,getSymbolPoint:function(ne){return[c[ne*2],c[ne*2+1]]}}),(!qq(this._stackedOnPoints,M)||!qq(this._points,c))&&(y?this._doUpdateAnimation(o,M,a,i,L,S,D):(L&&(M&&(M=G0(M,c,a,L,D)),c=G0(c,null,a,L,D)),p.setShape({points:c}),m&&m.setShape({points:c,stackedOnPoints:M})))}var q=t.getModel("emphasis"),W=q.get("focus"),Z=q.get("blurScope"),X=q.get("disabled");if(p.useStyle(sn(l.getLineStyle(),{fill:"none",stroke:O,lineJoin:"bevel"})),Wa(p,t,"lineStyle"),p.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var K=p.getState("emphasis").style;K.lineWidth=+p.style.lineWidth+1}fn(p).seriesIndex=t.seriesIndex,Ei(p,W,Z,X);var se=Kq(t.get("smooth")),J=t.get("smoothMonotone");if(p.setShape({smooth:se,smoothMonotone:J,connectNulls:D}),m){var H=o.getCalculationInfo("stackedOnSeries"),ee=0;m.useStyle(sn(u.getAreaStyle(),{fill:O,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),H&&(ee=Kq(H.get("smooth"))),m.setShape({smooth:se,stackedOnSmooth:ee,smoothMonotone:J,connectNulls:D}),Wa(m,t,"areaStyle"),fn(m).seriesIndex=t.seriesIndex,Ei(m,W,Z,X)}var Q=this._changePolyState;o.eachItemGraphicEl(function(ne){ne&&(ne.onHoverStateChange=Q)}),this._polyline.onHoverStateChange=Q,this._data=o,this._coordSys=a,this._stackedOnPoints=M,this._points=c,this._step=L,this._valueOrigin=S,t.get("triggerLineEvent")&&(this.packEventData(t,p),m&&this.packEventData(t,m))},e.prototype.packEventData=function(t,r){fn(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,r,i,a){var s=t.getData(),o=Py(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(o);if(!u){var c=l[o*2],f=l[o*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var d=t.get("zlevel")||0,h=t.get("z")||0;u=new QA(s,o),u.x=c,u.y=f,u.setZ(d,h);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=h,p.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Fr.prototype.highlight.call(this,t,r,i,a)},e.prototype.downplay=function(t,r,i,a){var s=t.getData(),o=Py(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else Fr.prototype.downplay.call(this,t,r,i,a)},e.prototype._changePolyState=function(t){var r=this._polygon;AN(this._polyline,t),r&&AN(r,t)},e.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new fNe({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(t,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Yue({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,r,i){var a,s,o=r.getBaseAxis(),l=o.inverse;r.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):r.type==="polar"&&(a=o.dim==="angle",s=!0);var u=t.hostModel,c=u.get("animationDuration");Xt(c)&&(c=c(null));var f=u.get("animationDelay")||0,d=Xt(f)?f(null):f;t.eachItemGraphicEl(function(h,p){var m=h;if(m){var g=[h.x,h.y],y=void 0,_=void 0,S=void 0;if(i)if(s){var A=i,M=r.pointToCoord(g);a?(y=A.startAngle,_=A.endAngle,S=-M[1]/180*Math.PI):(y=A.r0,_=A.r,S=M[0])}else{var E=i;a?(y=E.x,_=E.x+E.width,S=h.x):(y=E.y+E.height,_=E.y,S=h.y)}var D=_===y?0:(S-y)/(_-y);l&&(D=1-D);var I=Xt(f)?f(p):c*D+d,N=m.getSymbolPath(),L=N.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),L&&L.animateFrom({style:{opacity:0}},{duration:300,delay:I}),N.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,r,i){var a=t.getModel("endLabel");if(Zue(t)){var s=t.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new tr({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var c=xNe(l);c>=0&&(cs(o,Ya(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:c,defaultText:function(f,d,h){return h!=null?Gue(s,h):wb(s,f)},enableTextSetter:!0},bNe(a,r)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,r,i,a,s,o,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=i.getLayout("points"),d=i.hostModel,h=d.get("connectNulls"),p=o.get("precision"),m=o.get("distance")||0,g=l.getBaseAxis(),y=g.isHorizontal(),_=g.inverse,S=r.shape,A=_?y?S.x:S.y+S.height:y?S.x+S.width:S.y,M=(y?m:0)*(_?-1:1),E=(y?0:-m)*(_?-1:1),D=y?"x":"y",I=_Ne(f,A,D),N=I.range,L=N[1]-N[0],B=void 0;if(L>=1){if(L>1&&!h){var O=$q(f,N[0]);u.attr({x:O[0]+M,y:O[1]+E}),s&&(B=d.getRawValue(N[0]))}else{var O=c.getPointOn(A,D);O&&u.attr({x:O[0]+M,y:O[1]+E});var G=d.getRawValue(N[0]),V=d.getRawValue(N[1]);s&&(B=_se(i,p,G,V,I.t))}a.lastFrameIndex=N[0]}else{var q=t===1||a.lastFrameIndex>0?N[0]:0,O=$q(f,q);s&&(B=d.getRawValue(q)),u.attr({x:O[0]+M,y:O[1]+E})}if(s){var W=nS(u);typeof W.setLabelText=="function"&&W.setLabelText(B)}}},e.prototype._doUpdateAnimation=function(t,r,i,a,s,o,l){var u=this._polyline,c=this._polygon,f=t.hostModel,d=cNe(this._data,t,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),h=d.current,p=d.stackedOnCurrent,m=d.next,g=d.stackedOnNext;if(s&&(p=G0(d.stackedOnCurrent,d.current,i,s,l),h=G0(d.current,null,i,s,l),g=G0(d.stackedOnNext,d.next,i,s,l),m=G0(d.next,null,i,s,l)),Zq(h,m)>3e3||c&&Zq(p,g)>3e3){u.stopAnimation(),u.setShape({points:m}),c&&(c.stopAnimation(),c.setShape({points:m,stackedOnPoints:g}));return}u.shape.__points=d.current,u.shape.points=h;var y={shape:{points:m}};d.current!==h&&(y.shape.__points=d.next),u.stopAnimation(),lr(u,y,f),c&&(c.setShape({points:h,stackedOnPoints:p}),c.stopAnimation(),lr(c,{shape:{stackedOnPoints:g}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var _=[],S=d.status,A=0;A<S.length;A++){var M=S[A].cmd;if(M==="="){var E=t.getItemGraphicEl(S[A].idx1);E&&_.push({el:E,ptIdx:A})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var D=u.shape.__points,I=0;I<_.length;I++){var N=_[I].el,L=_[I].ptIdx*2;N.x=D[L],N.y=D[L+1],N.markRedraw()}})},e.prototype.remove=function(t){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,s){a.__temp&&(r.remove(a),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(Fr);function nM(n,e){return{seriesType:n,plan:sS(),reset:function(t){var r=t.getData(),i=t.coordinateSystem,a=t.pipelineContext,s=e||a.large;if(i){var o=ht(i.dimensions,function(h){return r.mapDimension(h)}).slice(0,2),l=o.length,u=r.getCalculationInfo("stackResultDimension");Lp(r,o[0])&&(o[0]=u),Lp(r,o[1])&&(o[1]=u);var c=r.getStore(),f=r.getDimensionIndex(o[0]),d=r.getDimensionIndex(o[1]);return l&&{progress:function(h,p){for(var m=h.end-h.start,g=s&&Fd(m*l),y=[],_=[],S=h.start,A=0;S<h.end;S++){var M=void 0;if(l===1){var E=c.get(f,S);M=i.dataToPoint(E,null,_)}else y[0]=c.get(f,S),y[1]=c.get(d,S),M=i.dataToPoint(y,null,_);s?(g[A++]=M[0],g[A++]=M[1]):p.setItemLayout(S,M.slice())}s&&p.setLayout("points",g)}}}}}}var wNe={average:function(n){for(var e=0,t=0,r=0;r<n.length;r++)isNaN(n[r])||(e+=n[r],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},TNe=function(n){return Math.round(n.length/2)};function Kue(n){return{seriesType:n,reset:function(e,t,r){var i=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),u=s.getOtherAxis(l),c=l.getExtent(),f=r.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(f||1),h=Math.round(o/d);if(isFinite(h)&&h>1){a==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/h)):a==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/h));var p=void 0;Lt(a)?p=wNe[a]:Xt(a)&&(p=a),p&&e.setData(i.downSample(i.mapDimension(u.dim),1/h,p,TNe))}}}}}function CNe(n){n.registerChartView(SNe),n.registerSeriesModel(sNe),n.registerLayout(nM("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Kue("line"))}var HC=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return sh(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(t),o=a.dataToPoint(s);if(i)ie(a.getAxes(),function(d,h){if(d.type==="category"&&r!=null){var p=d.getTicksCoords(),m=d.getTickModel().get("alignWithLabel"),g=s[h],y=r[h]==="x1"||r[h]==="y1";if(y&&!m&&(g+=1),p.length<2)return;if(p.length===2){o[h]=d.toGlobalCoord(d.getExtent()[y?1:0]);return}for(var _=void 0,S=void 0,A=1,M=0;M<p.length;M++){var E=p[M].coord,D=M===p.length-1?p[M-1].tickValue+A:p[M].tickValue;if(D===g){S=E;break}else if(D<g)_=E;else if(_!=null&&D>g){S=(E+_)/2;break}M===1&&(A=D-p[0].tickValue)}S==null&&(_?_&&(S=p[p.length-1].coord):S=p[0].coord),o[h]=d.toGlobalCoord(S)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;o[f]+=u+c/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},e})(Yr);Yr.registerClass(HC);var ANe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return sh(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},e.prototype.brushSelector=function(t,r,i){return i.rect(r.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Qv(HC.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:qe.color.primary,borderWidth:2}},realtimeSort:!1}),e})(HC),MNe=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})(),ZN=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new MNe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.max(r.r0||0,0),o=Math.max(r.r,0),l=(o-s)*.5,u=s+l,c=r.startAngle,f=r.endAngle,d=r.clockwise,h=Math.PI*2,p=d?f-c<h:c-f<h;p||(c=f-(d?h:-h));var m=Math.cos(c),g=Math.sin(c),y=Math.cos(f),_=Math.sin(f);p?(t.moveTo(m*s+i,g*s+a),t.arc(m*u+i,g*u+a,l,-Math.PI+c,c,!d)):t.moveTo(m*o+i,g*o+a),t.arc(i,a,o,c,f,!d),t.arc(y*u+i,_*u+a,l,f-Math.PI*2,f-Math.PI,!d),s!==0&&t.arc(i,a,s,f,c,d)},e})(Hn);function ENe(n,e){e=e||{};var t=e.isRoundCap;return function(r,i,a){var s=i.position;if(!s||s instanceof Array)return bN(r,i,a);var o=n(s),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,f=u.cy,d=u.r,h=u.r0,p=(d+h)/2,m=u.startAngle,g=u.endAngle,y=(m+g)/2,_=t?Math.abs(d-h)/2:0,S=Math.cos,A=Math.sin,M=c+d*S(m),E=f+d*A(m),D="left",I="top";switch(o){case"startArc":M=c+(h-l)*S(y),E=f+(h-l)*A(y),D="center",I="top";break;case"insideStartArc":M=c+(h+l)*S(y),E=f+(h+l)*A(y),D="center",I="bottom";break;case"startAngle":M=c+p*S(m)+H3(m,l+_,!1),E=f+p*A(m)+j3(m,l+_,!1),D="right",I="middle";break;case"insideStartAngle":M=c+p*S(m)+H3(m,-l+_,!1),E=f+p*A(m)+j3(m,-l+_,!1),D="left",I="middle";break;case"middle":M=c+p*S(y),E=f+p*A(y),D="center",I="middle";break;case"endArc":M=c+(d+l)*S(y),E=f+(d+l)*A(y),D="center",I="bottom";break;case"insideEndArc":M=c+(d-l)*S(y),E=f+(d-l)*A(y),D="center",I="top";break;case"endAngle":M=c+p*S(g)+H3(g,l+_,!0),E=f+p*A(g)+j3(g,l+_,!0),D="left",I="middle";break;case"insideEndAngle":M=c+p*S(g)+H3(g,-l+_,!0),E=f+p*A(g)+j3(g,-l+_,!0),D="right",I="middle";break;default:return bN(r,i,a)}return r=r||{},r.x=M,r.y=E,r.align=D,r.verticalAlign=I,r}}function DNe(n,e,t,r){if(nr(r)){n.setTextConfig({rotation:r});return}else if(ft(e)){n.setTextConfig({rotation:0});return}var i=n.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:n.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),n.setTextConfig({rotation:c})}function H3(n,e,t){return e*Math.sin(n)*(t?-1:1)}function j3(n,e,t){return e*Math.cos(n)*(t?1:-1)}function zd(n,e,t){var r=n.get("borderRadius");if(r==null)return t?{cornerRadius:0}:null;ft(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:ht(r,function(a){return Nf(a,i)})}}var z5=Math.max,U5=Math.min;function RNe(n,e){var t=n.getArea&&n.getArea();if(Ov(n,"cartesian2d")){var r=n.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var NNe=(function(n){Xe(e,n);function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,r,i,a){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,i):this._renderNormal(t,r,i,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},e.prototype.eachRendered=function(t){Jv(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t,r,i,a){var s=this.group,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var d=t.isAnimationEnabled()?t:null,h=INe(t,u);h&&this._enableRealtimeSort(h,o,i);var p=t.get("clip",!0)||h,m=RNe(u,o);s.removeClipPath();var g=t.get("roundCap",!0),y=t.get("showBackground",!0),_=t.getModel("backgroundStyle"),S=_.get("borderRadius")||0,A=[],M=this._backgroundEls,E=a&&a.isInitSort,D=a&&a.type==="changeAxisOrder";function I(B){var O=W3[u.type](o,B);if(!O)return null;var G=zNe(u,f,O);return G.useStyle(_.getItemStyle()),u.type==="cartesian2d"?G.setShape("r",S):G.setShape("cornerRadius",S),A[B]=G,G}o.diff(l).add(function(B){var O=o.getItemModel(B),G=W3[u.type](o,B,O);if(G&&(y&&I(B),!(!o.hasValue(B)||!nX[u.type](G)))){var V=!1;p&&(V=Jq[u.type](m,G));var q=Qq[u.type](t,o,B,G,f,d,c.model,!1,g);h&&(q.forceLabelAnimation=!0),rX(q,o,B,O,G,t,f,u.type==="polar"),E?q.attr({shape:G}):h?eX(h,d,q,G,B,f,!1,!1):vi(q,{shape:G},t,B),o.setItemGraphicEl(B,q),s.add(q),q.ignore=V}}).update(function(B,O){var G=o.getItemModel(B),V=W3[u.type](o,B,G);if(V){if(y){var q=void 0;M.length===0?q=I(O):(q=M[O],q.useStyle(_.getItemStyle()),u.type==="cartesian2d"?q.setShape("r",S):q.setShape("cornerRadius",S),A[B]=q);var W=W3[u.type](o,B),Z=Jue(f,W,u);lr(q,{shape:Z},d,B)}var X=l.getItemGraphicEl(O);if(!o.hasValue(B)||!nX[u.type](V)){s.remove(X);return}var K=!1;p&&(K=Jq[u.type](m,V),K&&s.remove(X));var se=X&&(X.type==="sector"&&g||X.type==="sausage"&&!g);if(se&&(X&&xp(X,t,O),X=null),X?Ac(X):X=Qq[u.type](t,o,B,V,f,d,c.model,!0,g),h&&(X.forceLabelAnimation=!0),D){var J=X.getTextContent();if(J){var H=nS(J);H.prevValue!=null&&(H.prevValue=H.value)}}else rX(X,o,B,G,V,t,f,u.type==="polar");E?X.attr({shape:V}):h?eX(h,d,X,V,B,f,!0,D):lr(X,{shape:V},t,B,null),o.setItemGraphicEl(B,X),X.ignore=K,s.add(X)}}).remove(function(B){var O=l.getItemGraphicEl(B);O&&xp(O,t,B)}).execute();var N=this._backgroundGroup||(this._backgroundGroup=new nn);N.removeAll();for(var L=0;L<A.length;++L)N.add(A[L]);s.add(N),this._backgroundEls=A,this._data=o},e.prototype._renderLarge=function(t,r,i){this._clear(),aX(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),aX(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&tM(t.coordinateSystem,!1,t),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,r,i){var a=this;if(r.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,i),this._isFirstFrame=!1;else{var o=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(s.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,r,i){var a=[];return t.each(t.mapDimension(r.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:ht(a,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,r,i){for(var a=i.scale,s=t.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(s,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:r(t.indexOfRawIndex(c));if(f>o)return!0;o=f}return!1},e.prototype._isOrderDifferentInView=function(t,r){for(var i=r.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(t.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,r,i,a){if(this._isOrderChangedWithinSameData(t,r,i)){var s=this._dataSort(t,i,r);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,r,i){var a=r.baseAxis,s=this._dataSort(t,a,function(o){return t.get(t.mapDimension(r.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},e.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var r=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){xp(a,t,fn(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e})(Fr),Jq={cartesian2d:function(n,e){var t=e.width<0?-1:1,r=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=n.x+n.width,a=n.y+n.height,s=z5(e.x,n.x),o=U5(e.x+e.width,i),l=z5(e.y,n.y),u=U5(e.y+e.height,a),c=o<s,f=u<l;return e.x=c&&s>i?o:s,e.y=f&&l>a?u:l,e.width=c?0:o-s,e.height=f?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),c||f},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}var i=U5(e.r,n.r),a=z5(e.r0,n.r0);e.r=i,e.r0=a;var s=i-a<0;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}return s}},Qq={cartesian2d:function(n,e,t,r,i,a,s,o,l){var u=new Pn({shape:at({},r),z2:1});if(u.__dataIndex=t,u.name="item",a){var c=u.shape,f=i?"height":"width";c[f]=0}return u},polar:function(n,e,t,r,i,a,s,o,l){var u=!i&&l?ZN:no,c=new u({shape:r,z2:1});c.name="item";var f=$ue(i);if(c.calculateTextPosition=ENe(f,{isRoundCap:u===ZN}),a){var d=c.shape,h=i?"r":"endAngle",p={};d[h]=i?r.r0:r.startAngle,p[h]=r[h],(o?lr:vi)(c,{shape:p},a)}return c}};function INe(n,e){var t=n.get("realtimeSort",!0),r=e.getBaseAxis();if(t&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function eX(n,e,t,r,i,a,s,o){var l,u;a?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),o||(s?lr:vi)(t,{shape:l},e,i,null);var c=e?n.baseAxis.model:null;(s?lr:vi)(t,{shape:u},c,i)}function tX(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var kNe=["x","y","width","height"],LNe=["cx","cy","r","startAngle","endAngle"],nX={cartesian2d:function(n){return!tX(n,kNe)},polar:function(n){return!tX(n,LNe)}},W3={cartesian2d:function(n,e,t){var r=n.getItemLayout(e);if(!r)return null;var i=t?ONe(t,r):0,a=r.width>0?1:-1,s=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+s*i/2,width:r.width-a*i,height:r.height-s*i}},polar:function(n,e,t){var r=n.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function PNe(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function $ue(n){return(function(e){var t=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}})(n)}function rX(n,e,t,r,i,a,s,o){var l=e.getItemVisual(t,"style");if(o){if(!a.get("roundCap")){var c=n.shape,f=zd(r.getModel("itemStyle"),c,!0);at(c,f),n.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",u)}n.useStyle(l);var d=r.getShallow("cursor");d&&n.attr("cursor",d);var h=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=Ya(r);cs(n,p,{labelFetcher:a,labelDataIndex:t,defaultText:wb(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var m=n.getTextContent();if(o&&m){var g=r.get(["label","position"]);n.textConfig.inside=g==="middle"?!0:null,DNe(n,g==="outside"?h:g,$ue(s),r.get(["label","rotate"]))}ooe(m,p,a.getRawValue(t),function(_){return Gue(e,_)});var y=r.getModel(["emphasis"]);Ei(n,y.get("focus"),y.get("blurScope"),y.get("disabled")),Wa(n,r),PNe(i)&&(n.style.fill="none",n.style.stroke="none",ie(n.states,function(_){_.style&&(_.style.fill=_.style.stroke="none")}))}function ONe(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=n.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,a)}var FNe=(function(){function n(){}return n})(),iX=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new FNe},e.prototype.buildPath=function(t,r){for(var i=r.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[s]=i[c+2],o[a]=i[c+a],o[s]=i[c+s],t.rect(o[0],o[1],l[0],l[1])},e})(Hn);function aX(n,e,t,r){var i=n.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=n.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new iX({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=s,c.barWidth=o,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var f=new iX({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=s,f.barWidth=o,e.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,fn(f).seriesIndex=n.seriesIndex,n.get("silent")||(f.on("mousedown",sX),f.on("mousemove",sX)),t&&t.push(f)}var sX=vL(function(n){var e=this,t=BNe(e,n.offsetX,n.offsetY);fn(e).dataIndex=t>=0?t:null},30,!1);function BNe(n,e,t){for(var r=n.baseDimIdx,i=1-r,a=n.shape.points,s=n.largeDataIndices,o=[],l=[],u=n.barWidth,c=0,f=a.length/3;c<f;c++){var d=c*3;if(l[r]=u,l[i]=a[d+2],o[r]=a[d+r],o[i]=a[d+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),e>=o[0]&&e<=o[0]+l[0]&&t>=o[1]&&t<=o[1]+l[1])return s[c]}return-1}function Jue(n,e,t){if(Ov(t,"cartesian2d")){var r=e,i=t.getArea();return{x:n?r.x:i.x,y:n?i.y:r.y,width:n?r.width:i.width,height:n?i.height:r.height}}else{var i=t.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:n?i.r0:a.r0,r:n?i.r:a.r,startAngle:n?a.startAngle:0,endAngle:n?a.endAngle:Math.PI*2}}}function zNe(n,e,t){var r=n.type==="polar"?no:Pn;return new r({shape:Jue(e,t,n),silent:!0,z2:0})}function UNe(n){n.registerChartView(NNe),n.registerSeriesModel(ANe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Sn(tue,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,nue("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Kue("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var oX=Math.PI*2,Y3=Math.PI/180;function VNe(n,e,t){e.eachSeriesByType(n,function(r){var i=r.getData(),a=i.mapDimension("value"),s=Coe(r,t),o=s.cx,l=s.cy,u=s.r,c=s.r0,f=s.viewRect,d=-r.get("startAngle")*Y3,h=r.get("endAngle"),p=r.get("padAngle")*Y3;h=h==="auto"?d-oX:-h*Y3;var m=r.get("minAngle")*Y3,g=m+p,y=0;i.each(a,function(Z){!isNaN(Z)&&y++});var _=i.getSum(a),S=Math.PI/(_||y)*2,A=r.get("clockwise"),M=r.get("roseType"),E=r.get("stillShowZeroSum"),D=i.getDataExtent(a);D[0]=0;var I=A?1:-1,N=[d,h],L=I*p/2;iL(N,!A),d=N[0],h=N[1];var B=Que(r);B.startAngle=d,B.endAngle=h,B.clockwise=A,B.cx=o,B.cy=l,B.r=u,B.r0=c;var O=Math.abs(h-d),G=O,V=0,q=d;if(i.setLayout({viewRect:f,r:u}),i.each(a,function(Z,X){var K;if(isNaN(Z)){i.setItemLayout(X,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:o,cy:l,r0:c,r:M?NaN:u});return}M!=="area"?K=_===0&&E?S:Z*S:K=O/y,K<g?(K=g,G-=g):V+=Z;var se=q+I*K,J=0,H=0;p>K?(J=q+I*K/2,H=J):(J=q+L,H=se-L),i.setItemLayout(X,{angle:K,startAngle:J,endAngle:H,clockwise:A,cx:o,cy:l,r0:c,r:M?_r(Z,D,[c,u]):u}),q=se}),G<oX&&y)if(G<=.001){var W=O/y;i.each(a,function(Z,X){if(!isNaN(Z)){var K=i.getItemLayout(X);K.angle=W;var se=0,J=0;W<p?(se=d+I*(X+1/2)*W,J=se):(se=d+I*X*W+L,J=d+I*(X+1)*W-L),K.startAngle=se,K.endAngle=J}})}else S=G/V,q=d,i.each(a,function(Z,X){if(!isNaN(Z)){var K=i.getItemLayout(X),se=K.angle===g?g:Z*S,J=0,H=0;se<p?(J=q+I*se/2,H=J):(J=q+L,H=q+I*se-L),K.startAngle=J,K.endAngle=H,q+=I*se}})})}var Que=Un();function dS(n){return{seriesType:n,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<r.length;o++)if(!r[o].isSelected(s))return!1;return!0})}}}}var GNe=Math.PI/180;function lX(n,e,t,r,i,a,s,o,l,u){if(n.length<2)return;function c(m){for(var g=m.rB,y=g*g,_=0;_<m.list.length;_++){var S=m.list[_],A=Math.abs(S.label.y-t),M=r+S.len,E=M*M,D=Math.sqrt(Math.abs((1-A*A/y)*E)),I=e+(D+S.len2)*i,N=I-S.label.x,L=S.targetTextWidth-N*i;ece(S,L,!0),S.label.x=I}}function f(m){for(var g={list:[],maxY:0},y={list:[],maxY:0},_=0;_<m.length;_++)if(m[_].labelAlignTo==="none"){var S=m[_],A=S.label.y>t?y:g,M=Math.abs(S.label.y-t);if(M>=A.maxY){var E=S.label.x-e-S.len2*i,D=r+S.len,I=Math.abs(E)<D?Math.sqrt(M*M/(1-E*E/D/D)):D;A.rB=I,A.maxY=M}A.list.push(S)}c(g),c(y)}for(var d=n.length,h=0;h<d;h++)if(n[h].position==="outer"&&n[h].labelAlignTo==="labelLine"){var p=n[h].label.x-u;n[h].linePoints[1][0]+=p,n[h].label.x=u}u8(n,1,l,l+s)&&f(n)}function HNe(n,e,t,r,i,a,s,o){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<n.length;d++){var h=n[d].label;V5(n[d])||(h.x<e?(c=Math.min(c,h.x),l.push(n[d])):(f=Math.max(f,h.x),u.push(n[d])))}for(var d=0;d<n.length;d++){var p=n[d];if(!V5(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var h=p.label,m=p.linePoints,g=void 0;p.labelAlignTo==="edge"?h.x<e?g=m[2][0]-p.labelDistance-s-p.edgeDistance:g=s+i-p.edgeDistance-m[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?h.x<e?g=c-s-p.bleedMargin:g=s+i-f-p.bleedMargin:h.x<e?g=h.x-s-p.bleedMargin:g=s+i-h.x-p.bleedMargin,p.targetTextWidth=g,ece(p,g,!1)}}lX(u,e,t,r,1,i,a,s,o,f),lX(l,e,t,r,-1,i,a,s,o,c);for(var d=0;d<n.length;d++){var p=n[d];if(!V5(p)&&p.linePoints){var h=p.label,m=p.linePoints,y=p.labelAlignTo==="edge",_=h.style.padding,S=_?_[1]+_[3]:0,A=h.style.backgroundColor?0:S,M=p.rect.width+A,E=m[1][0]-m[2][0];y?h.x<e?m[2][0]=s+p.edgeDistance+M+p.labelDistance:m[2][0]=s+i-p.edgeDistance-M-p.labelDistance:(h.x<e?m[2][0]=h.x+p.labelDistance:m[2][0]=h.x-p.labelDistance,m[1][0]=m[2][0]+E),m[1][1]=m[2][1]=h.y}}}function ece(n,e,t){if(n.labelStyleWidth==null){var r=n.label,i=r.style,a=n.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,u=i.overflow,c=a.width+(s?0:l);if(e<c||t){if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var f=r.getBoundingRect();r.setStyle("width",Math.ceil(f.width)),r.setStyle("backgroundColor",s)}else{var d=e-l,h=e<c?d:t?d>n.unconstrainedWidth?null:d:null;r.setStyle("width",h)}tce(a,r)}}}function tce(n,e){uX.rect=n,Cue(uX,e,jNe)}var jNe={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},uX={};function V5(n){return n.position==="center"}function WNe(n){var e=n.getData(),t=[],r,i,a=!1,s=(n.get("minShowLabelAngle")||0)*GNe,o=e.getLayout("viewRect"),l=e.getLayout("r"),u=o.width,c=o.x,f=o.y,d=o.height;function h(E){E.ignore=!0}function p(E){if(!E.ignore)return!0;for(var D in E.states)if(E.states[D].ignore===!1)return!0;return!1}e.each(function(E){var D=e.getItemGraphicEl(E),I=D.shape,N=D.getTextContent(),L=D.getTextGuideLine(),B=e.getItemModel(E),O=B.getModel("label"),G=O.get("position")||B.get(["emphasis","label","position"]),V=O.get("distanceToLabelLine"),q=O.get("alignTo"),W=kt(O.get("edgeDistance"),u),Z=O.get("bleedMargin");Z==null&&(Z=Math.min(u,d)>200?10:2);var X=B.getModel("labelLine"),K=X.get("length");K=kt(K,u);var se=X.get("length2");if(se=kt(se,u),Math.abs(I.endAngle-I.startAngle)<s){ie(N.states,h),N.ignore=!0,L&&(ie(L.states,h),L.ignore=!0);return}if(p(N)){var J=(I.startAngle+I.endAngle)/2,H=Math.cos(J),ee=Math.sin(J),Q,ne,ce,ve;r=I.cx,i=I.cy;var xe=G==="inside"||G==="inner";if(G==="center")Q=I.cx,ne=I.cy,ve="center";else{var we=(xe?(I.r+I.r0)/2*H:I.r*H)+r,Ae=(xe?(I.r+I.r0)/2*ee:I.r*ee)+i;if(Q=we+H*3,ne=Ae+ee*3,!xe){var Ue=we+H*(K+l-I.r),pe=Ae+ee*(K+l-I.r),pt=Ue+(H<0?-1:1)*se,te=pe;q==="edge"?Q=H<0?c+W:c+u-W:Q=pt+(H<0?-V:V),ne=te,ce=[[we,Ae],[Ue,pe],[pt,te]]}ve=xe?"center":q==="edge"?H>0?"right":"left":H>0?"left":"right"}var oe=Math.PI,ge=0,le=O.get("rotate");if(nr(le))ge=le*(oe/180);else if(G==="center")ge=0;else if(le==="radial"||le===!0){var fe=H<0?-J+oe:-J;ge=fe}else if(le==="tangential"&&G!=="outside"&&G!=="outer"){var be=Math.atan2(H,ee);be<0&&(be=oe*2+be);var Oe=ee>0;Oe&&(be=oe+be),ge=be-oe}if(a=!!ge,N.x=Q,N.y=ne,N.rotation=ge,N.setStyle({verticalAlign:"middle"}),xe){N.setStyle({align:ve});var Pe=N.states.select;Pe&&(Pe.x+=N.x,Pe.y+=N.y)}else{var Ve=new cn(0,0,0,0);tce(Ve,N),t.push({label:N,labelLine:L,position:G,len:K,len2:se,minTurnAngle:X.get("minTurnAngle"),maxSurfaceAngle:X.get("maxSurfaceAngle"),surfaceNormal:new un(H,ee),linePoints:ce,textAlign:ve,labelDistance:V,labelAlignTo:q,edgeDistance:W,bleedMargin:Z,rect:Ve,unconstrainedWidth:Ve.width,labelStyleWidth:N.style.width})}D.setTextConfig({inside:xe})}}),!a&&n.get("avoidLabelOverlap")&&HNe(t,r,i,l,u,d,c,f);for(var m=0;m<t.length;m++){var g=t[m],y=g.label,_=g.labelLine,S=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:g.textAlign}),S&&(ie(y.states,h),y.ignore=!0);var A=y.states.select;A&&(A.x+=y.x,A.y+=y.y)}if(_){var M=g.linePoints;S||!M?(ie(_.states,h),_.ignore=!0):(Sue(M,g.minTurnAngle),fRe(M,g.surfaceNormal,g.maxSurfaceAngle),_.setShape({points:M}),y.__hostTarget.textGuideLineConfig={anchor:new un(M[0][0],M[0][1])})}}}var YNe=(function(n){Xe(e,n);function e(t,r,i){var a=n.call(this)||this;a.z2=2;var s=new tr;return a.setTextContent(s),a.updateData(t,r,i,!0),a}return e.prototype.updateData=function(t,r,i,a){var s=this,o=t.hostModel,l=t.getItemModel(r),u=l.getModel("emphasis"),c=t.getItemLayout(r),f=at(zd(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){s.setShape(f);return}if(a){s.setShape(f);var d=o.getShallow("animationType");o.ecModel.ssr?(vi(s,{scaleX:0,scaleY:0},o,{dataIndex:r,isFrom:!0}),s.originX=f.cx,s.originY=f.cy):d==="scale"?(s.shape.r=c.r0,vi(s,{shape:{r:c.r}},o,r)):i!=null?(s.setShape({startAngle:i,endAngle:i}),vi(s,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},o,r)):(s.shape.endAngle=c.startAngle,lr(s,{shape:{endAngle:c.endAngle}},o,r))}else Ac(s),lr(s,{shape:f},o,r);s.useStyle(t.getItemVisual(r,"style")),Wa(s,l);var h=(c.startAngle+c.endAngle)/2,p=o.get("selectedOffset"),m=Math.cos(h)*p,g=Math.sin(h)*p,y=l.getShallow("cursor");y&&s.attr("cursor",y),this._updateLabel(o,t,r),s.ensureState("emphasis").shape=at({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},zd(u.getModel("itemStyle"),c)),at(s.ensureState("select"),{x:m,y:g,shape:zd(l.getModel(["select","itemStyle"]),c)}),at(s.ensureState("blur"),{shape:zd(l.getModel(["blur","itemStyle"]),c)});var _=s.getTextGuideLine(),S=s.getTextContent();_&&at(_.ensureState("select"),{x:m,y:g}),at(S.ensureState("select"),{x:m,y:g}),Ei(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,r,i){var a=this,s=r.getItemModel(i),o=s.getModel("labelLine"),l=r.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;cs(a,Ya(s),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:t.getFormattedLabel(i,"normal")||r.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=s.get(["label","position"]);if(d!=="outside"&&d!=="outer")a.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new Ls,this.setTextGuideLine(h)),i9(this,a9(s),{stroke:u,opacity:Yl(o.get(["lineStyle","opacity"]),c,1)})}},e})(no),qNe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i,a){var s=t.getData(),o=this._data,l=this.group,u;if(!o&&s.count()>0){for(var c=s.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<s.count();++f)c=s.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var d=Que(t),h=new no({shape:tn(d)});h.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}s.diff(o).add(function(p){var m=new YNe(s,p,u);s.setItemGraphicEl(p,m),l.add(m)}).update(function(p,m){var g=o.getItemGraphicEl(m);g.updateData(s,p,u),g.off("click"),l.add(g),s.setItemGraphicEl(p,g)}).remove(function(p){var m=o.getItemGraphicEl(p);xp(m,t,p)}).execute(),WNe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="pie",e})(Fr);function hS(n,e,t){e=ft(e)&&{coordDimensions:e}||at({encodeDefine:n.getEncode()},e);var r=n.getSource(),i=uS(r,e).dimensions,a=new Lo(i,n);return a.initData(r,t),a}var pS=(function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)},n})(),XNe=Un(),nce=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new pS(Ot(this.getData,this),Ot(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return hS(this,{coordDimensions:["value"],encodeDefaulter:Sn(IV,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),i=XNe(r),a=i.seats;if(!a){var s=[];r.each(r.mapDimension("value"),function(l){s.push(l)}),a=i.seats=cse(s,r.hostModel.get("percentPrecision"))}var o=n.prototype.getDataParams.call(this,t);return o.percent=a[t]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(t){Ly(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e})(Yr);VAe({fullType:nce.type,getCoord2:function(n){return n.getShallow("center")}});function ZNe(n){return{seriesType:n,reset:function(e,t){var r=e.getData();r.filterSelf(function(i){var a=r.mapDimension("value"),s=r.get(a,i);return!(nr(s)&&!isNaN(s)&&s<0)})}}}function KNe(n){n.registerChartView(qNe),n.registerSeriesModel(nce),mle("pie",n.registerAction),n.registerLayout(Sn(VNe,"pie")),n.registerProcessor(dS("pie")),n.registerProcessor(ZNe("pie"))}var $Ne=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,r){return sh(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,r,i){return i.point(r.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:qe.color.primary}},universalTransition:{divideShape:"clone"}},e})(Yr),rce=4,JNe=(function(){function n(){}return n})(),QNe=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.getDefaultShape=function(){return new JNe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,r){var i=r.points,a=r.size,s=this.symbolProxy,o=s.shape,l=t.getContext?t.getContext():t,u=l&&a[0]<rce,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var d=i[f++],h=i[f++];isNaN(d)||isNaN(h)||c&&!c.contain(d,h)||(o.x=d-a[0]/2,o.y=h-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(t,o,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,r=t.points,i=t.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<r.length;){var l=r[o++],u=r[o++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=o,this.notClear=!0)}},e.prototype.findDataIndex=function(t,r){for(var i=this.shape,a=i.points,s=i.size,o=Math.max(s[0],4),l=Math.max(s[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-o/2,d=a[c+1]-l/2;if(t>=f&&r>=d&&t<=f+o&&r<=d+l)return u}return-1},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(t=i[0],r=i[1],a.contain(t,r)){var s=this.hoverDataIdx=this.findDataIndex(t,r);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,i=r.points,a=r.size,s=a[0],o=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<i.length;){var h=i[d++],p=i[d++];l=Math.min(h,l),c=Math.max(h,c),u=Math.min(p,u),f=Math.max(p,f)}t=this._rect=new cn(l-s/2,u-o/2,c-l+s,f-u+o)}return t},e})(Hn),eIe=(function(){function n(){this.group=new nn}return n.prototype.updateData=function(e,t){this._clear();var r=this._create();r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2,a=r.startIndex*4*2;t=new Float32Array(t.buffer,a,i)}r.setShape("points",t),r.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,r){var i=this._newAdded[0],a=t.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+a.length);l.set(s),l.set(a,o),i.endIndex=e.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,t,r)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new QNe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,r){var i=t.hostModel;r=r||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=r.clipShape||null,e.symbolProxy=va(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<rce;e.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),l=o&&o.fill;l&&e.setColor(l);var u=fn(e);u.seriesIndex=i.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(u.dataIndex=f+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n})(),tIe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,r,i){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,r,i){this._symbolDraw.incrementalUpdate(t,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=t.end===r.getData().count()},e.prototype.updateTransform=function(t,r,i){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=nM("").reset(t,r,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var r=t.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,r){var i=this._symbolDraw,a=r.pipelineContext,s=a.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new eIe:new eM,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e})(Fr),ice={left:0,right:0,top:0,bottom:0},KN=["25%","25%"],nIe=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(t,r){var i=tx(t.outerBounds);n.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&t.outerBounds&&Qd(t.outerBounds,i)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&Qd(this.option.outerBounds,t.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:ice,outerBoundsContain:"all",outerBoundsClampWidth:KN[0],outerBoundsClampHeight:KN[1],backgroundColor:qe.color.transparent,borderWidth:1,borderColor:qe.color.neutral30},e})(zn),p8=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Hi).models[0]},e.type="cartesian2dAxis",e})(zn);ta(p8,fS);var ace={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:qe.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:qe.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:qe.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[qe.color.backgroundTint,qe.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:qe.color.neutral00,borderColor:qe.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},rIe=An({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},ace),d9=An({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:qe.color.axisMinorSplitLine,width:1}}},ace),iIe=An({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},d9),aIe=sn({logBase:10},d9);const sce={category:rIe,value:d9,time:iIe,log:aIe};var sIe={value:1,category:1,time:1,log:1},v8=null;function oIe(n){v8||(v8=n)}function rM(){return v8}function Tb(n,e,t,r){ie(sIe,function(i,a){var s=An(An({},sce[a],!0),r,!0),o=(function(l){Xe(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var d=kC(this),h=d?tx(c):{},p=f.getTheme();An(c,p.get(a+"Axis")),An(c,this.getDefaultOption()),c.type=cX(c),d&&Qd(c,h,d)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=zC.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(c){var f=rM();return f?f.updateModelAxisBreak(this,c):{breaks:[]}},u.type=e+"Axis."+a,u.defaultOption=s,u})(t);n.registerComponentModel(o)}),n.registerSubTypeDefaulter(e+"Axis",cX)}function cX(n){return n.type||(n.data?"category":"value")}var lIe=(function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return ht(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),vr(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n})(),m8=["x","y"];function fX(n){return(n.type==="interval"||n.type==="time")&&!n.hasBreaks()}var uIe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=m8,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!fX(t)||!fX(r))){var i=t.getExtent(),a=r.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(o[0]-s[0])/l,f=(o[1]-s[1])/u,d=s[0]-i[0]*c,h=s[1]-a[0]*f,p=this._transform=[c,0,0,f,d,h];this._invTransform=Tc([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var i=this.dataToPoint(t),a=this.dataToPoint(r),s=this.getArea(),o=new cn(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},e.prototype.dataToPoint=function(t,r,i){i=i||[];var a=t[0],s=t[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return ea(i,t,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(s,r)),i},e.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(t[0]),u=a.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),r[1]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),r},e.prototype.pointToData=function(t,r,i){if(i=i||[],this._invTransform)return ea(i,t,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),r),i[1]=s.coordToData(s.toLocalCoord(t[1]),r),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(r[0],r[1])-t,s=Math.min(i[0],i[1])-t,o=Math.max(r[0],r[1])-a+t,l=Math.max(i[0],i[1])-s+t;return new cn(a,s,o,l)},e})(lIe),oce=(function(n){Xe(e,n);function e(t,r,i,a,s){var o=n.call(this,t,r,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e})(Nc),_L="expandAxisBreak",lce="collapseAxisBreak",uce="toggleAxisBreak",h9="axisbreakchanged",cIe={type:_L,event:h9,update:"update",refineEvent:p9},fIe={type:lce,event:h9,update:"update",refineEvent:p9},dIe={type:uce,event:h9,update:"update",refineEvent:p9};function p9(n,e,t,r){var i=[];return ie(n,function(a){i=i.concat(a.eventBreaks)}),{eventContent:{breaks:i}}}function hIe(n){n.registerAction(cIe,e),n.registerAction(fIe,e),n.registerAction(dIe,e);function e(t,r){var i=[],a=$_(r,t);function s(o,l){ie(a[o],function(u){var c=u.updateAxisBreaks(t);ie(c.breaks,function(f){var d;i.push(sn((d={},d[l]=u.componentIndex,d),f))})})}return s("xAxisModels","xAxisIndex"),s("yAxisModels","yAxisIndex"),s("singleAxisModels","singleAxisIndex"),{eventBreaks:i}}}var pv=Math.PI,pIe=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],vIe=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],Cb=Un(),cce=Un(),fce=(function(){function n(e){this.recordMap={},this.resolveAxisNameOverlap=e}return n.prototype.ensureRecord=function(e){var t=e.axis.dim,r=e.componentIndex,i=this.recordMap,a=i[t]||(i[t]=[]);return a[r]||(a[r]={ready:{}})},n})();function mIe(n,e,t,r){var i=t.axis,a=e.ensureRecord(t),s=[],o,l=v9(n.axisName)&&Sb(n.nameLocation);ie(r,function(p){var m=eh(p);if(!(!m||m.label.ignore)){s.push(m);var g=a.transGroup;l&&(g.transform?Tc(bw,g.transform):VA(bw),m.transform&&Tf(bw,bw,m.transform),cn.copy(q3,m.localRect),q3.applyTransform(bw),o?o.union(q3):cn.copy(o=new cn(0,0,0,0),q3))}});var u=Math.abs(a.dirVec.x)>.1?"x":"y",c=a.transGroup[u];if(s.sort(function(p,m){return Math.abs(p.label[u]-c)-Math.abs(m.label[u]-c)}),l&&o){var f=i.getExtent(),d=Math.min(f[0],f[1]),h=Math.max(f[0],f[1])-d;o.union(new cn(d,0,h,1))}a.stOccupiedRect=o,a.labelInfoList=s}var bw=os(),q3=new cn(0,0,0,0),dce=function(n,e,t,r,i,a){if(Sb(n.nameLocation)){var s=a.stOccupiedRect;s&&hce(pRe({},s,a.transGroup.transform),r,i)}else pce(a.labelInfoList,a.dirVec,r,i)};function hce(n,e,t){var r=new un;yL(n,e,r,{direction:Math.atan2(t.y,t.x),bidirectional:!1,touchThreshold:.05})&&o8(e,r)}function pce(n,e,t,r){for(var i=un.dot(r,e)>=0,a=0,s=n.length;a<s;a++){var o=n[i?a:s-1-a];o.label.ignore||hce(o,t,r)}}var gl=(function(){function n(e,t,r,i){this.group=new nn,this._axisModel=e,this._api=t,this._local={},this._shared=i||new fce(dce),this._resetCfgDetermined(r)}return n.prototype.updateCfg=function(e){var t=this._cfg.raw;t.position=e.position,t.labelOffset=e.labelOffset,this._resetCfgDetermined(t)},n.prototype.__getRawCfg=function(){return this._cfg.raw},n.prototype._resetCfgDetermined=function(e){var t=this._axisModel,r=t.getDefaultOption?t.getDefaultOption():{},i=Wt(e.axisName,t.get("name")),a=t.get("nameMoveOverlap");(a==null||a==="auto")&&(a=Wt(e.defaultNameMoveOverlap,!0));var s={raw:e,position:e.position,rotation:e.rotation,nameDirection:Wt(e.nameDirection,1),tickDirection:Wt(e.tickDirection,1),labelDirection:Wt(e.labelDirection,1),labelOffset:Wt(e.labelOffset,0),silent:Wt(e.silent,!0),axisName:i,nameLocation:Yl(t.get("nameLocation"),r.nameLocation,"end"),shouldNameMoveOverlap:v9(i)&&a,optionHideOverlap:t.get(["axisLabel","hideOverlap"]),showMinorTicks:t.get(["minorTick","show"])};this._cfg=s;var o=new nn({x:s.position[0],y:s.position[1],rotation:s.rotation});o.updateTransform(),this._transformGroup=o;var l=this._shared.ensureRecord(t);l.transGroup=this._transformGroup,l.dirVec=new un(Math.cos(-s.rotation),Math.sin(-s.rotation))},n.prototype.build=function(e,t){var r=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),ie(gIe,function(i){e[i]&&yIe[i](r._cfg,r._local,r._shared,r._axisModel,r.group,r._transformGroup,r._api,t||{})}),this},n.innerTextLayout=function(e,t,r){var i=XU(t-e),a,s;return vb(i)?(s=r>0?"top":"bottom",a="center"):vb(i-pv)?(s=r>0?"bottom":"top",a="center"):(s="middle",i>0&&i<pv?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n})(),gIe=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],yIe={axisLine:function(n,e,t,r,i,a,s){var o=r.get(["axisLine","show"]);if(o==="auto"&&(o=!0,n.raw.axisLineAutoShow!=null&&(o=!!n.raw.axisLineAutoShow)),!!o){var l=r.axis.getExtent(),u=a.transform,c=[l[0],0],f=[l[1],0],d=c[0]>f[0];u&&(ea(c,c,u),ea(f,f,u));var h=at({lineCap:"round"},r.getModel(["axisLine","lineStyle"]).getLineStyle()),p={strokeContainThreshold:n.raw.strokeContainThreshold||5,silent:!0,z2:1,style:h};if(r.get(["axisLine","breakLine"])&&r.axis.scale.hasBreaks())rM().buildAxisBreakLine(r,i,a,p);else{var m=new ha(at({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]}},p));yb(m.shape,m.style.lineWidth),m.anid="line",i.add(m)}var g=r.get(["axisLine","symbol"]);if(g!=null){var y=r.get(["axisLine","symbolSize"]);Lt(g)&&(g=[g,g]),(Lt(y)||nr(y))&&(y=[y,y]);var _=rx(r.get(["axisLine","symbolOffset"])||0,y),S=y[0],A=y[1];ie([{rotate:n.rotation+Math.PI/2,offset:_[0],r:0},{rotate:n.rotation-Math.PI/2,offset:_[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(M,E){if(g[E]!=="none"&&g[E]!=null){var D=va(g[E],-S/2,-A/2,S,A,h.stroke,!0),I=M.r+M.offset,N=d?f:c;D.attr({rotation:M.rotate,x:N[0]+I*Math.cos(n.rotation),y:N[1]-I*Math.sin(n.rotation),silent:!0,z2:11}),i.add(D)}})}}},axisTickLabelEstimate:function(n,e,t,r,i,a,s,o){var l=hX(e,i,o);l&&dX(n,e,t,r,i,a,s,If.estimate)},axisTickLabelDetermine:function(n,e,t,r,i,a,s,o){var l=hX(e,i,o);l&&dX(n,e,t,r,i,a,s,If.determine);var u=SIe(n,i,a,r);bIe(n,e.labelLayoutList,u),wIe(n,i,a,r,n.tickDirection)},axisName:function(n,e,t,r,i,a,s,o){var l=t.ensureRecord(r);e.nameEl&&(i.remove(e.nameEl),e.nameEl=l.nameLayout=l.nameLocation=null);var u=n.axisName;if(v9(u)){var c=n.nameLocation,f=n.nameDirection,d=r.getModel("nameTextStyle"),h=r.get("nameGap")||0,p=r.axis.getExtent(),m=r.axis.inverse?-1:1,g=new un(0,0),y=new un(0,0);c==="start"?(g.x=p[0]-m*h,y.x=-m):c==="end"?(g.x=p[1]+m*h,y.x=m):(g.x=(p[0]+p[1])/2,g.y=n.labelOffset+f*h,y.y=f);var _=os();y.transform(Wp(_,_,n.rotation));var S=r.get("nameRotate");S!=null&&(S=S*pv/180);var A,M;Sb(c)?A=gl.innerTextLayout(n.rotation,S??n.rotation,f):(A=xIe(n.rotation,c,S||0,p),M=n.raw.axisNameAvailableWidth,M!=null&&(M=Math.abs(M/Math.sin(A.rotation)),!isFinite(M)&&(M=null)));var E=d.getFont(),D=r.get("nameTruncate",!0)||{},I=D.ellipsis,N=Is(n.raw.nameTruncateMaxWidth,D.maxWidth,M),L=o.nameMarginLevel||0,B=new tr({x:g.x,y:g.y,rotation:A.rotation,silent:gl.isLabelSilent(r),style:ti(d,{text:u,font:E,overflow:"truncate",width:N,ellipsis:I,fill:d.getTextColor()||r.get(["axisLine","lineStyle","color"]),align:d.get("align")||A.textAlign,verticalAlign:d.get("verticalAlign")||A.textVerticalAlign}),z2:1});if(qp({el:B,componentModel:r,itemName:u}),B.__fullText=u,B.anid="name",r.get("triggerEvent")){var O=gl.makeAxisEventDataBase(r);O.targetType="axisName",O.name=u,fn(B).eventData=O}a.add(B),B.updateTransform(),e.nameEl=B;var G=l.nameLayout=eh({label:B,priority:B.z2,defaultAttr:{ignore:B.ignore},marginDefault:Sb(c)?pIe[L]:vIe[L]});if(l.nameLocation=c,i.add(B),B.decomposeTransform(),n.shouldNameMoveOverlap&&G){var V=t.ensureRecord(r);t.resolveAxisNameOverlap(n,t,r,G,y,V)}}}};function dX(n,e,t,r,i,a,s,o){mce(e)||TIe(n,e,i,o,r,s);var l=e.labelLayoutList;CIe(n,r,l,a),EIe(r,n.rotation,l);var u=n.optionHideOverlap;_Ie(r,l,u),u&&Aue(vr(l,function(c){return c&&!c.label.ignore})),mIe(n,t,r,l)}function xIe(n,e,t,r){var i=XU(t-n),a,s,o=r[0]>r[1],l=e==="start"&&!o||e!=="start"&&o;return vb(i-pv/2)?(s=l?"bottom":"top",a="center"):vb(i-pv*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<pv*1.5&&i>pv/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function _Ie(n,e,t){if(uue(n.axis))return;function r(o,l,u){var c=eh(e[l]),f=eh(e[u]);if(!(!c||!f)){if(o===!1||c.suggestIgnore){pT(c.label);return}if(f.suggestIgnore){pT(f.label);return}var d=.1;if(!t){var h=[0,0,0,0];c=l8({marginForce:h},c),f=l8({marginForce:h},f)}yL(c,f,null,{touchThreshold:d})&&pT(o?f.label:c.label)}}var i=n.get(["axisLabel","showMinLabel"]),a=n.get(["axisLabel","showMaxLabel"]),s=e.length;r(i,0,1),r(a,s-1,s-2)}function bIe(n,e,t){n.showMinorTicks||ie(e,function(r){if(r&&r.label.ignore)for(var i=0;i<t.length;i++){var a=t[i],s=cce(a),o=Cb(r.label);if(s.tickValue!=null&&!s.onBand&&s.tickValue===o.tickValue){pT(a);return}}})}function pT(n){n&&(n.ignore=!0)}function vce(n,e,t,r,i){for(var a=[],s=[],o=[],l=0;l<n.length;l++){var u=n[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=t,e&&(ea(s,s,e),ea(o,o,e));var c=new ha({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:r,z2:2,autoBatch:!0,silent:!0});yb(c.shape,c.style.lineWidth),c.anid=i+"_"+n[l].tickValue,a.push(c);var f=cce(c);f.onBand=!!n[l].onBand,f.tickValue=n[l].tickValue}return a}function SIe(n,e,t,r){var i=r.axis,a=r.getModel("axisTick"),s=a.get("show");if(s==="auto"&&(s=!0,n.raw.axisTickAutoShow!=null&&(s=!!n.raw.axisTickAutoShow)),!s||i.scale.isBlank())return[];for(var o=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),u=i.getTicksCoords(),c=vce(u,t.transform,l,sn(o.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)e.add(c[f]);return c}function wIe(n,e,t,r,i){var a=r.axis,s=r.getModel("minorTick");if(!(!n.showMinorTicks||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var l=s.getModel("lineStyle"),u=i*s.get("length"),c=sn(l.getLineStyle(),sn(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),f=0;f<o.length;f++)for(var d=vce(o[f],t.transform,u,c,"minorticks_"+f),h=0;h<d.length;h++)e.add(d[h])}}function hX(n,e,t){if(mce(n)){var r=n.axisLabelsCreationContext,i=r.out.noPxChangeTryDetermine;if(t.noPxChange){for(var a=!0,s=0;s<i.length;s++)a=a&&i[s]();if(a)return!1}i.length&&(e.remove(n.labelGroup),g8(n,null,null,null))}return!0}function TIe(n,e,t,r,i,a){var s=i.axis,o=Is(n.raw.axisLabelShow,i.get(["axisLabel","show"])),l=new nn;t.add(l);var u=HN(r);if(!o||s.scale.isBlank()){g8(e,[],l,u);return}var c=i.getModel("axisLabel"),f=s.getViewLabels(u),d=(Is(n.raw.labelRotate,c.get("rotate"))||0)*pv/180,h=gl.innerTextLayout(n.rotation,d,n.labelDirection),p=i.getCategories&&i.getCategories(!0),m=[],g=i.get("triggerEvent"),y=1/0,_=-1/0;ie(f,function(A,M){var E,D=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(A.tickValue):A.tickValue,I=A.formattedLabel,N=A.rawLabel,L=c;if(p&&p[D]){var B=p[D];on(B)&&B.textStyle&&(L=new Gn(B.textStyle,c,i.ecModel))}var O=L.getTextColor()||i.get(["axisLine","lineStyle","color"]),G=L.getShallow("align",!0)||h.textAlign,V=Wt(L.getShallow("alignMinLabel",!0),G),q=Wt(L.getShallow("alignMaxLabel",!0),G),W=L.getShallow("verticalAlign",!0)||L.getShallow("baseline",!0)||h.textVerticalAlign,Z=Wt(L.getShallow("verticalAlignMinLabel",!0),W),X=Wt(L.getShallow("verticalAlignMaxLabel",!0),W),K=10+(((E=A.time)===null||E===void 0?void 0:E.level)||0);y=Math.min(y,K),_=Math.max(_,K);var se=new tr({x:0,y:0,rotation:0,silent:gl.isLabelSilent(i),z2:K,style:ti(L,{text:I,align:M===0?V:M===f.length-1?q:G,verticalAlign:M===0?Z:M===f.length-1?X:W,fill:Xt(O)?O(s.type==="category"?N:s.type==="value"?D+"":D,M):O})});se.anid="label_"+D;var J=Cb(se);if(J.break=A.break,J.tickValue=D,J.layoutRotation=h.rotation,qp({el:se,componentModel:i,itemName:I,formatterParamsExtra:{isTruncated:function(){return se.isTruncated},value:N,tickIndex:M}}),g){var H=gl.makeAxisEventDataBase(i);H.targetType="axisLabel",H.value=N,H.tickIndex=M,A.break&&(H.break={start:A.break.parsedBreak.vmin,end:A.break.parsedBreak.vmax}),s.type==="category"&&(H.dataIndex=D),fn(se).eventData=H,A.break&&MIe(i,a,se,A.break)}m.push(se),l.add(se)});var S=ht(m,function(A){return{label:A,priority:Cb(A).break?A.z2+(_-y+1):A.z2,defaultAttr:{ignore:A.ignore}}});g8(e,S,l,u)}function mce(n){return!!n.labelLayoutList}function g8(n,e,t,r){n.labelLayoutList=e,n.labelGroup=t,n.axisLabelsCreationContext=r}function CIe(n,e,t,r){var i=e.get(["axisLabel","margin"]);ie(t,function(a,s){var o=eh(a);if(o){var l=o.label,u=Cb(l);o.suggestIgnore=l.ignore,l.ignore=!1,_N(Gh,AIe),Gh.x=e.axis.dataToCoord(u.tickValue),Gh.y=n.labelOffset+n.labelDirection*i,Gh.rotation=u.layoutRotation,r.add(Gh),Gh.updateTransform(),r.remove(Gh),Gh.decomposeTransform(),_N(l,Gh),l.markRedraw(),qN(o,!0),eh(o)}})}var Gh=new Pn,AIe=new Pn;function v9(n){return!!n}function MIe(n,e,t,r){t.on("click",function(i){var a={type:_L,breaks:[{start:r.parsedBreak.breakOption.start,end:r.parsedBreak.breakOption.end}]};a[n.axis.dim+"AxisIndex"]=n.componentIndex,e.dispatchAction(a)})}function EIe(n,e,t){var r=Da();if(r){var i=r.retrieveAxisBreakPairs(t,function(s){return s&&Cb(s.label).break},!0),a=n.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&ie(i,function(s){rM().adjustBreakLabelPair(n.axis.inverse,e,[eh(t[s[0]]),eh(t[s[1]])])})}}function $N(n,e,t){t=t||{};var r=e.axis,i={},a=r.getAxesOnZeroOf()[0],s=r.position,o=a?"onZero":s,l=r.dim,u=[n.x,n.x+n.width,n.y,n.y+n.height],c={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,d=l==="x"?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(a){var h=a.toGlobalCoord(a.dataToCoord(0));d[c.onZero]=Math.max(Math.min(h,d[1]),d[0])}i.position=[l==="y"?d[c[o]]:u[0],l==="x"?d[c[o]]:u[3]],i.rotation=Math.PI/2*(l==="x"?0:1);var p={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=p[s],i.labelOffset=a?d[c[s]]-d[c.onZero]:0,e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Is(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=e.get(["axisLabel","rotate"]);return i.labelRotate=o==="top"?-m:m,i.z2=1,i}function DIe(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function pX(n){var e={xAxisModel:null,yAxisModel:null};return ie(e,function(t,r){var i=r.replace(/Model$/,""),a=n.getReferringComponents(i,Hi).models[0];e[r]=a}),e}function RIe(n,e,t,r,i,a){for(var s=$N(n,t),o=!1,l=!1,u=0;u<e.length;u++)t8(e[u].getOtherAxis(t.axis).scale)&&(o=l=!0,t.axis.type==="category"&&t.axis.onBand&&(l=!1));return s.axisLineAutoShow=o,s.axisTickAutoShow=l,s.defaultNameMoveOverlap=a,new gl(t,r,s,i)}function NIe(n,e,t){var r=$N(e,t);n.updateCfg(r)}function gce(n,e,t){var r=Pp.prototype,i=r.getTicks.call(t),a=r.getTicks.call(t,{expandToNicedExtent:!0}),s=i.length-1,o=r.getInterval.call(t),l=lue(n,e),u=l.extent,c=l.fixMin,f=l.fixMax;n.type==="log"&&(u=n8(n.base,u,!0)),n.setBreaksFromOption(cue(e)),n.setExtent(u[0],u[1]),n.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:f});var d=r.getExtent.call(n);c&&(u[0]=d[0]),f&&(u[1]=d[1]);var h=r.getInterval.call(n),p=u[0],m=u[1];if(c&&f)h=(m-p)/s;else if(c)for(m=u[0]+h*s;m<u[1]&&isFinite(m)&&isFinite(u[1]);)h=A5(h),m=u[0]+h*s;else if(f)for(p=u[1]-h*s;p>u[0]&&isFinite(p)&&isFinite(u[0]);)h=A5(h),p=u[1]-h*s;else{var g=n.getTicks().length-1;g>s&&(h=A5(h));var y=h*s;m=Math.ceil(u[1]/h)*h,p=da(m-y),p<0&&u[0]>=0?(p=0,m=da(y)):m>0&&u[1]<=0&&(m=0,p=-da(y))}var _=(i[0].value-a[0].value)/o,S=(i[s].value-a[s].value)/o;r.setExtent.call(n,p+h*_,m+h*S),r.setInterval.call(n,h),(_||S)&&r.setNiceExtent.call(n,p+h,m-h)}var vX=[[3,1],[0,2]],IIe=(function(){function n(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=m8,this._initCartesian(e,t,r),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function i(s){var o,l=$n(s),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var d=+l[f],h=s[d],p=h.model,m=h.scale;t8(m)&&p.get("alignTicks")&&p.get("interval")==null?c.push(h):(Vy(m,p),t8(m)&&(o=h))}c.length&&(o||(o=c.pop(),Vy(o.scale,o.model)),ie(c,function(g){gce(g.scale,g.model,o.scale)}))}}i(r.x),i(r.y);var a={};ie(r.x,function(s){mX(r,"y",s,a)}),ie(r.y,function(s){mX(r,"x",s,a)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,r){var i=qa(e,t),a=this._rect=wi(e.getBoxLayoutParams(),i.refContainer),s=this._axesMap,o=this._coordsList,l=e.get("containLabel");if(y8(s,a),!r){var u=PIe(a,o,s,l,t),c=void 0;if(l)x8?(x8(this._axesList,a),y8(s,a)):c=xX(a.clone(),"axisLabel",null,a,s,u,i);else{var f=OIe(e,a,i),d=f.outerBoundsRect,h=f.parsedOuterBoundsContain,p=f.outerBoundsClamp;d&&(c=xX(d,h,p,a,s,u,i))}yce(a,s,If.determine,null,c,i)}ie(this._coordsList,function(m){m.calcAffineTransform()})},n.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}on(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",Hi).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",Hi).models[0],a=e.gridModel,s=this._coordsList,o,l;if(t)o=t.coordinateSystem,Cn(s,o)<0&&(o=null);else if(r&&i)o=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,r){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,ie(o.x,function(c,f){ie(o.y,function(d,h){var p="x"+f+"y"+h,m=new uIe(p);m.master=i,m.model=e,i._coordsMap[p]=m,i._coordsList.push(m),m.addAxis(c),m.addAxis(d)})});function u(c){return function(f,d){if(G5(f,e)){var h=f.get("position");c==="x"?h!=="top"&&h!=="bottom"&&(h=s.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=s.left?"right":"left"),s[h]=!0;var p=new oce(c,JA(f),[0,0],f.get("type"),h),m=p.type==="category";p.onBand=m&&f.get("boundaryGap"),p.inverse=f.get("inverse"),f.axis=p,p.model=f,p.grid=a,p.index=d,a._axesList.push(p),o[c][d]=p,l[c]++}}}},n.prototype._updateScale=function(e,t){ie(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(DIe(i)){var a=pX(i),s=a.xAxisModel,o=a.yAxisModel;if(!G5(s,t)||!G5(o,t))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),u=i.getData(),c=l.getAxis("x"),f=l.getAxis("y");r(u,c),r(u,f)}},this);function r(i,a){ie(GN(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},n.prototype.getTooltipAxes=function(e){var t=[],r=[];return ie(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),s=i.getOtherAxis(a);Cn(t,a)<0&&t.push(a),Cn(r,s)<0&&r.push(s)}),{baseAxes:t,otherAxes:r}},n.create=function(e,t){var r=[];return e.eachComponent("grid",function(i,a){var s=new n(i,e,t);s.name="grid_"+a,s.resize(i,t,!0),i.coordinateSystem=s,r.push(s)}),e.eachSeries(function(i){KA({targetModel:i,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var s=pX(i),o=s.xAxisModel,l=s.yAxisModel,u=o.getCoordSysModel(),c=u.coordinateSystem;return c.getCartesian(o.componentIndex,l.componentIndex)}}),r},n.dimensions=m8,n})();function G5(n,e){return n.getCoordSysModel()===e}function mX(n,e,t,r){t.getAxesOnZeroOf=function(){return a?[a]:[]};var i=n[e],a,s=t.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)gX(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&gX(i[u])&&!r[c(i[u])]){a=i[u];break}a&&(r[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function gX(n){return n&&n.type!=="category"&&n.type!=="time"&&TDe(n)}function kIe(n,e){var t=n.getExtent(),r=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(i){return i+e}:function(i){return r-i+e},n.toLocalCoord=n.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}function y8(n,e){ie(n.x,function(t){return yX(t,e.x,e.width)}),ie(n.y,function(t){return yX(t,e.y,e.height)})}function yX(n,e,t){var r=[0,t],i=n.inverse?1:0;n.setExtent(r[i],r[1-i]),kIe(n,e)}var x8;function LIe(n){x8=n}function xX(n,e,t,r,i,a,s){yce(r,i,If.estimate,e,!1,s);var o=[0,0,0,0];u(0),u(1),c(r,0,NaN),c(r,1,NaN);var l=Kv(o,function(d){return d>0})==null;return By(r,o,!0,!0,t),y8(i,r),l;function u(d){ie(i[gn[d]],function(h){if(UC(h.model)){var p=a.ensureRecord(h.model),m=p.labelInfoList;if(m)for(var g=0;g<m.length;g++){var y=m[g],_=h.scale.normalize(Cb(y.label).tickValue);_=d===1?1-_:_,c(y.rect,d,_),c(y.rect,1-d,NaN)}var S=p.nameLayout;if(S){var _=Sb(p.nameLocation)?.5:NaN;c(S.rect,d,_),c(S.rect,1-d,NaN)}}})}function c(d,h,p){var m=n[gn[h]]-d[gn[h]],g=d[Na[h]]+d[gn[h]]-(n[Na[h]]+n[gn[h]]);m=f(m,1-p),g=f(g,p);var y=vX[h][0],_=vX[h][1];o[y]=fa(o[y],m),o[_]=fa(o[_],g)}function f(d,h){return d>0&&!Zs(h)&&h>1e-4&&(d/=h),d}}function PIe(n,e,t,r,i){var a=new fce(FIe);return ie(t,function(s){return ie(s,function(o){if(UC(o.model)){var l=!r;o.axisBuilder=RIe(n,e,o.model,i,a,l)}})}),a}function yce(n,e,t,r,i,a){var s=t===If.determine;ie(e,function(u){return ie(u,function(c){UC(c.model)&&(NIe(c.axisBuilder,n,c.model),c.axisBuilder.build(s?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var o={x:0,y:0};l(0),l(1);function l(u){o[gn[1-u]]=n[Na[u]]<=a.refContainer[Na[u]]*.5?0:1-u===1?2:1}ie(e,function(u,c){return ie(u,function(f){UC(f.model)&&((r==="all"||s)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:o[c]}),s&&f.axisBuilder.build({axisLine:!0}))})})}function OIe(n,e,t){var r,i=n.get("outerBoundsMode",!0);i==="same"?r=e.clone():(i==null||i==="auto")&&(r=wi(n.get("outerBounds",!0)||ice,t.refContainer));var a=n.get("outerBoundsContain",!0),s;a==null||a==="auto"||Cn(["all","axisLabel"],a)<0?s="all":s=a;var o=[SN(Wt(n.get("outerBoundsClampWidth",!0),KN[0]),e.width),SN(Wt(n.get("outerBoundsClampHeight",!0),KN[1]),e.height)];return{outerBoundsRect:r,parsedOuterBoundsContain:s,outerBoundsClamp:o}}var FIe=function(n,e,t,r,i,a){var s=t.axis.dim==="x"?"y":"x";dce(n,e,t,r,i,a),Sb(n.nameLocation)||ie(e.recordMap[s],function(o){o&&o.labelInfoList&&o.dirVec&&pce(o.labelInfoList,o.dirVec,r,i)})};function BIe(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return zIe(t,n,e),t.seriesInvolved&&VIe(t,n),t}function zIe(n,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];ie(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=jC(o.model),u=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=o;var c=o.model,f=c.getModel("tooltip",r);if(ie(o.getAxes(),Sn(m,!1,null)),o.getTooltipAxes&&r&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",p=o.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&ie(p.baseAxes,Sn(m,h?"cross":!0,d)),h&&ie(p.otherAxes,Sn(m,"cross",!1))}function m(g,y,_){var S=_.model.getModel("axisPointer",i),A=S.get("show");if(!(!A||A==="auto"&&!g&&!_8(S))){y==null&&(y=S.get("triggerTooltip")),S=g?UIe(_,f,i,e,g,y):S;var M=S.get("snap"),E=S.get("triggerEmphasis"),D=jC(_.model),I=y||M||_.type==="category",N=n.axesInfo[D]={key:D,axis:_,coordSys:o,axisPointerModel:S,triggerTooltip:y,triggerEmphasis:E,involveSeries:I,snap:M,useHandle:_8(S),seriesModels:[],linkGroup:null};u[D]=N,n.seriesInvolved=n.seriesInvolved||I;var L=GIe(a,_);if(L!=null){var B=s[L]||(s[L]={axesInfo:{}});B.axesInfo[D]=N,B.mapper=a[L].mapper,N.linkGroup=B}}}})}function UIe(n,e,t,r,i,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};ie(o,function(d){l[d]=tn(s.get(d))}),l.snap=n.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=s.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=s.get("crossStyle");f&&sn(u,f.textStyle)}}return n.model.getModel("axisPointer",new Gn(l,t,r))}function VIe(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!r||!r.model||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||ie(n.coordSysAxesInfo[jC(r.model)],function(s){var o=s.axis;r.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function GIe(n,e){for(var t=e.model,r=e.dim,i=0;i<n.length;i++){var a=n[i]||{};if(H5(a[r+"AxisId"],t.id)||H5(a[r+"AxisIndex"],t.componentIndex)||H5(a[r+"AxisName"],t.name))return i}}function H5(n,e){return n==="all"||ft(n)&&Cn(n,e)>=0||n===e}function HIe(n){var e=m9(n);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,a=t.get("status"),s=t.get("value");s!=null&&(s=r.parse(s));var o=_8(t);a==null&&(i.status=o?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function m9(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[jC(n)]}function jIe(n){var e=m9(n);return e&&e.axisPointerModel}function _8(n){return!!n.get(["handle","show"])}function jC(n){return n.type+"||"+n.id}var _X={},ix=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.axisPointerClass&&HIe(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=jIe(t);s?(this._axisPointer||(this._axisPointer=new a)).render(t,s,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){_X[t]=r},e.getAxisPointerClass=function(t){return t&&_X[t]},e.type="axis",e})(ri),b8=Un();function xce(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var c=o.length,f=b8(n).splitAreaColors,d=jt(),h=0;if(f)for(var p=0;p<u.length;p++){var m=f.get(u[p].tickValue);if(m!=null){h=(m+(c-1)*p)%c;break}}var g=i.toGlobalCoord(u[0].coord),y=s.getAreaStyle();o=ft(o)?o:[o];for(var p=1;p<u.length;p++){var _=i.toGlobalCoord(u[p].coord),S=void 0,A=void 0,M=void 0,E=void 0;i.isHorizontal()?(S=g,A=l.y,M=_-S,E=l.height,g=S+M):(S=l.x,A=g,M=l.width,E=_-A,g=A+E);var D=u[p-1].tickValue;D!=null&&d.set(D,h),e.add(new Pn({anid:D!=null?"area_"+D:null,shape:{x:S,y:A,width:M,height:E},style:sn({fill:o[h]},y),autoBatch:!0,silent:!0})),h=(h+1)%c}b8(n).splitAreaColors=d}}}function _ce(n){b8(n).splitAreaColors=null}var WIe=["splitArea","splitLine","minorSplitLine","breakArea"],bce=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new nn,this.group.add(this._axisGroup),!!UC(t)){this._axisGroup.add(t.axis.axisBuilder.group),ie(WIe,function(l){t.get([l,"show"])&&YIe[l](this,this._axisGroup,t,t.getCoordSysModel(),i)},this);var o=a&&a.type==="changeAxisOrder"&&a.isInitSort;o||XA(s,this._axisGroup,t),n.prototype.render.call(this,t,r,i,a)}},e.prototype.remove=function(){_ce(this)},e.type="cartesianAxis",e})(ix),YIe={splitLine:function(n,e,t,r,i){var a=t.axis;if(!a.scale.isBlank()){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=s.get("showMinLine")!==!1,c=s.get("showMaxLine")!==!1;l=ft(l)?l:[l];for(var f=r.coordinateSystem.getRect(),d=a.isHorizontal(),h=0,p=a.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),m=[],g=[],y=o.getLineStyle(),_=0;_<p.length;_++){var S=a.toGlobalCoord(p[_].coord);if(!(_===0&&!u||_===p.length-1&&!c)){var A=p[_].tickValue;d?(m[0]=S,m[1]=f.y,g[0]=S,g[1]=f.y+f.height):(m[0]=f.x,m[1]=S,g[0]=f.x+f.width,g[1]=S);var M=h++%l.length,E=new ha({anid:A!=null?"line_"+A:null,autoBatch:!0,shape:{x1:m[0],y1:m[1],x2:g[0],y2:g[1]},style:sn({stroke:l[M]},y),silent:!0});yb(E.shape,y.lineWidth),e.add(E)}}}},minorSplitLine:function(n,e,t,r,i){var a=t.axis,s=t.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=r.coordinateSystem.getRect(),u=a.isHorizontal(),c=a.getMinorTicksCoords();if(c.length)for(var f=[],d=[],h=o.getLineStyle(),p=0;p<c.length;p++)for(var m=0;m<c[p].length;m++){var g=a.toGlobalCoord(c[p][m].coord);u?(f[0]=g,f[1]=l.y,d[0]=g,d[1]=l.y+l.height):(f[0]=l.x,f[1]=g,d[0]=l.x+l.width,d[1]=g);var y=new ha({anid:"minor_line_"+c[p][m].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:h,silent:!0});yb(y.shape,h.lineWidth),e.add(y)}},splitArea:function(n,e,t,r,i){xce(n,e,t,r)},breakArea:function(n,e,t,r,i){var a=rM(),s=t.axis.scale;a&&s.type!=="ordinal"&&a.rectCoordBuildBreakAxis(e,n,t,r.coordinateSystem.getRect(),i)}},Sce=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e})(bce),qIe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Sce.type,t}return e.type="yAxis",e})(bce),XIe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new Pn({shape:t.coordinateSystem.getRect(),style:sn({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(ri),bX={offset:0};function wce(n){n.registerComponentView(XIe),n.registerComponentModel(nIe),n.registerCoordinateSystem("cartesian2d",IIe),Tb(n,"x",p8,bX),Tb(n,"y",p8,bX),n.registerComponentView(Sce),n.registerComponentView(qIe),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function ZIe(n,e){var t=n.coordinateSystem,r=t&&t.type,i=t&&t.getBaseAxis&&t.getBaseAxis(),a=i&&i.scale&&i.scale.type,s=r==="cartesian2d"&&a==="ordinal"||r==="single",o=e.model.get("jitter")>0;return s&&o}var KIe=Un();function SX(n,e,t,r){if(n instanceof oce){var i=n.scale.type;if(i!=="category"&&i!=="ordinal")return t}var a=n.model,s=a.get("jitter"),o=a.get("jitterOverlap"),l=a.get("jitterMargin")||0,u=n.scale.type==="ordinal"?n.getBandWidth():null;return s>0?o?Tce(t,s,u,r):$Ie(n,e,t,r,s,l):t}function Tce(n,e,t,r){if(t===null)return n+(Math.random()-.5)*e;var i=t-r*2,a=Math.min(Math.max(0,e),i);return n+(Math.random()-.5)*a}function $Ie(n,e,t,r,i,a){var s=KIe(n);s.items||(s.items=[]);var o=s.items,l=wX(o,e,t,r,i,a,1),u=wX(o,e,t,r,i,a,-1),c=Math.abs(l-t)<Math.abs(u-t)?l:u,f=n.scale.type==="ordinal"?n.getBandWidth():null,d=Math.abs(c-t);return d>i/2||f&&d>f/2-r?Tce(t,i,f,r):(o.push({fixedCoord:e,floatCoord:c,r}),c)}function wX(n,e,t,r,i,a,s){for(var o=t,l=0;l<n.length;l++){var u=n[l],c=e-u.fixedCoord,f=o-u.floatCoord,d=c*c+f*f,h=r+u.r+a;if(d<h*h){var p=u.floatCoord+Math.sqrt(h*h-c*c)*s;if(Math.abs(p-t)>i/2)return Number.MAX_VALUE;if(s===1&&p>o||s===-1&&p<o){o=p,l=-1;continue}}}return o}function JIe(n){n.eachSeriesByType("scatter",function(e){var t=e.coordinateSystem;if(t&&(t.type==="cartesian2d"||t.type==="single")){var r=t.getBaseAxis?t.getBaseAxis():null,i=r&&ZIe(e,r);if(i){var a=e.getData();a.each(function(s){var o=r.dim,l=r.orient,u=l==="horizontal"&&r.type!=="category"||l==="vertical"&&r.type==="category",c=a.getItemLayout(s),f=a.getItemVisual(s,"symbolSize"),d=f instanceof Array?(f[1]+f[0])/2:f;if(o==="y"||o==="single"&&u){var h=SX(r,c[0],c[1],d/2);a.setItemLayout(s,[c[0],h])}else if(o==="x"||o==="single"&&!u){var h=SX(r,c[1],c[0],d/2);a.setItemLayout(s,[h,c[1]])}})}}})}function QIe(n){Nn(wce),n.registerSeriesModel($Ne),n.registerChartView(tIe),n.registerLayout(nM("scatter"))}function eke(n){n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,JIe)}function tke(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),r=[],i=e.coordinateSystem;if(i){var a=i.getIndicatorAxes();ie(a,function(s,o){t.each(t.mapDimension(a[o].dim),function(l,u){r[u]=r[u]||[];var c=i.dataToPoint(l,o);r[u][o]=TX(c)?c:CX(i)})}),t.each(function(s){var o=Kv(r[s],function(l){return TX(l)})||CX(i);r[s].push(o.slice()),t.setItemLayout(s,r[s])})}})}function TX(n){return!isNaN(n[0])&&!isNaN(n[1])}function CX(n){return[n.cx,n.cy]}function nke(n){var e=n.polar;if(e){ft(e)||(e=[e]);var t=[];ie(e,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],ft(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):t.push(r)}),n.polar=t}ie(n.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var rke=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=this._data;function u(d,h){var p=d.getItemVisual(h,"symbol")||"circle";if(p!=="none"){var m=lS(d.getItemVisual(h,"symbolSize")),g=va(p,-1,-1,2,2),y=d.getItemVisual(h,"symbolRotate")||0;return g.attr({style:{strokeNoScale:!0},z2:100,scaleX:m[0]/2,scaleY:m[1]/2,rotation:y*Math.PI/180||0}),g}}function c(d,h,p,m,g,y){p.removeAll();for(var _=0;_<h.length-1;_++){var S=u(m,g);S&&(S.__dimIdx=_,d[_]?(S.setPosition(d[_]),ex[y?"initProps":"updateProps"](S,{x:h[_][0],y:h[_][1]},t,g)):S.setPosition(h[_]),p.add(S))}}function f(d){return ht(d,function(h){return[a.cx,a.cy]})}o.diff(l).add(function(d){var h=o.getItemLayout(d);if(h){var p=new ro,m=new Ls,g={shape:{points:h}};p.shape.points=f(h),m.shape.points=f(h),vi(p,g,t,d),vi(m,g,t,d);var y=new nn,_=new nn;y.add(m),y.add(p),y.add(_),c(m.shape.points,h,_,o,d,!0),o.setItemGraphicEl(d,y)}}).update(function(d,h){var p=l.getItemGraphicEl(h),m=p.childAt(0),g=p.childAt(1),y=p.childAt(2),_={shape:{points:o.getItemLayout(d)}};_.shape.points&&(c(m.shape.points,_.shape.points,y,o,d,!1),Ac(g),Ac(m),lr(m,_,t),lr(g,_,t),o.setItemGraphicEl(d,p))}).remove(function(d){s.remove(l.getItemGraphicEl(d))}).execute(),o.eachItemGraphicEl(function(d,h){var p=o.getItemModel(h),m=d.childAt(0),g=d.childAt(1),y=d.childAt(2),_=o.getItemVisual(h,"style"),S=_.fill;s.add(d),m.useStyle(sn(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),Wa(m,p,"lineStyle"),Wa(g,p,"areaStyle");var A=p.getModel("areaStyle"),M=A.isEmpty()&&A.parentModel.isEmpty();g.ignore=M,ie(["emphasis","select","blur"],function(D){var I=p.getModel([D,"areaStyle"]),N=I.isEmpty()&&I.parentModel.isEmpty();g.ensureState(D).ignore=N&&M;var L=p.getModel([D,"lineStyle"]).getLineStyle();m.ensureState(D).style=L;var B=I.getAreaStyle();g.ensureState(D).style=B;var O=p.getModel([D,"itemStyle"]).getItemStyle();y.eachChild(function(G){G.ensureState(D).style=tn(O)})}),g.useStyle(sn(p.getModel("areaStyle").getAreaStyle(),{fill:S,opacity:.7,decal:_.decal}));var E=p.getModel("emphasis");y.eachChild(function(D){if(D instanceof ps){var I=D.style;D.useStyle(at({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},_))}else D.useStyle(_),D.setColor(S),D.style.strokeNoScale=!0;var N=o.getStore().get(o.getDimensionIndex(D.__dimIdx),h);(N==null||isNaN(N))&&(N=""),cs(D,Ya(p),{labelFetcher:o.hostModel,labelDataIndex:h,labelDimIndex:D.__dimIdx,defaultText:N,inheritColor:S,defaultOpacity:_.opacity})}),Ei(d,E.get("focus"),E.get("blurScope"),E.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e})(Fr),ike=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new pS(Ot(this.getData,this),Ot(this.getRawData,this))},e.prototype.getInitialData=function(t,r){return hS(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,c=ile(this,t);return Ia("section",{header:u,sortBlocks:!0,blocks:ht(o,function(f){var d=a.get(a.mapDimension(f.dim),t);return Ia("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:d,sortParam:d})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var r=this.getData(),i=this.coordinateSystem,a=r.getValues(ht(i.dimensions,function(u){return r.mapDimension(u)}),t),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var l=i.getIndicatorAxes();return i.coordToPoint(l[s].dataToCoord(a[s]),s)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e})(Yr),Sw=sce.value;function X3(n,e){return sn({show:e},n)}var ake=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),d=this.get("triggerEvent"),h=ht(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var m=l;p.color!=null&&(m=sn({color:p.color},l));var g=An(tn(p),{boundaryGap:t,splitNumber:r,scale:i,axisLine:a,axisTick:s,axisLabel:o,name:p.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:m,triggerEvent:d},!1);if(Lt(c)){var y=g.name;g.name=c.replace("{value}",y??"")}else Xt(c)&&(g.name=c(g.name,g));var _=new Gn(g,null,this.ecModel);return ta(_,fS.prototype),_.mainType="radar",_.componentIndex=this.componentIndex,_},this);this._indicatorModels=h},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:qe.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:An({lineStyle:{color:qe.color.neutral20}},Sw.axisLine),axisLabel:X3(Sw.axisLabel,!1),axisTick:X3(Sw.axisTick,!1),splitLine:X3(Sw.splitLine,!0),splitArea:X3(Sw.splitArea,!0),indicator:[]},e})(zn),ske=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=this.group;a.removeAll(),this._buildAxes(t,i),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t,r){var i=t.coordinateSystem,a=i.getIndicatorAxes(),s=ht(a,function(o){var l=o.model.get("showName")?o.name:"",u=new gl(o.model,r,{axisName:l,position:[i.cx,i.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});ie(s,function(o){o.build(),this.group.add(o.group)},this)},e.prototype._buildSplitLineAndArea=function(t){var r=t.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var a=t.get("shape"),s=t.getModel("splitLine"),o=t.getModel("splitArea"),l=s.getModel("lineStyle"),u=o.getModel("areaStyle"),c=s.get("show"),f=o.get("show"),d=l.get("color"),h=u.get("color"),p=ft(d)?d:[d],m=ft(h)?h:[h],g=[],y=[];function _(q,W,Z){var X=Z%W.length;return q[X]=q[X]||[],X}if(a==="circle")for(var S=i[0].getTicksCoords(),A=r.cx,M=r.cy,E=0;E<S.length;E++){if(c){var D=_(g,p,E);g[D].push(new ah({shape:{cx:A,cy:M,r:S[E].coord}}))}if(f&&E<S.length-1){var D=_(y,m,E);y[D].push(new Jb({shape:{cx:A,cy:M,r0:S[E].coord,r:S[E+1].coord}}))}}else for(var I,N=ht(i,function(q,W){var Z=q.getTicksCoords();return I=I==null?Z.length-1:Math.min(Z.length-1,I),ht(Z,function(X){return r.coordToPoint(X.coord,W)})}),L=[],E=0;E<=I;E++){for(var B=[],O=0;O<i.length;O++)B.push(N[O][E]);if(B[0]&&B.push(B[0].slice()),c){var D=_(g,p,E);g[D].push(new Ls({shape:{points:B}}))}if(f&&L){var D=_(y,m,E-1);y[D].push(new ro({shape:{points:B.concat(L)}}))}L=B.slice().reverse()}var G=l.getLineStyle(),V=u.getAreaStyle();ie(y,function(q,W){this.group.add(mu(q,{style:sn({stroke:"none",fill:m[W%m.length]},V),silent:!0}))},this),ie(g,function(q,W){this.group.add(mu(q,{style:sn({fill:"none",stroke:p[W%p.length]},G),silent:!0}))},this)},e.type="radar",e})(ri),oke=(function(n){Xe(e,n);function e(t,r,i){var a=n.call(this,t,r,i)||this;return a.type="value",a.angle=0,a.name="",a}return e})(Nc),lke=(function(){function n(e,t,r){this.dimensions=[],this._model=e,this._indicatorAxes=ht(e.getIndicatorModels(),function(i,a){var s="indicator_"+a,o=new oke(s,new Pp);return o.name=i.get("name"),o.model=i,i.axis=o,this.dimensions.push(s),o},this),this.resize(e,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){var r=this._indicatorAxes[t];return this.coordToPoint(r.dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t],i=r.angle,a=this.cx+e*Math.cos(i),s=this.cy-e*Math.sin(i);return[a,s]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=Math.sqrt(t*t+r*r);t/=i,r/=i;for(var a=Math.atan2(-r,t),s=1/0,o,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<s&&(o=c,l=u,s=f)}return[l,+(o&&o.coordToData(i))]},n.prototype.resize=function(e,t){var r=qa(e,t).refContainer,i=e.get("center"),a=Math.min(r.width,r.height)/2;this.cx=kt(i[0],r.width)+r.x,this.cy=kt(i[1],r.height)+r.y,this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(Lt(s)||nr(s))&&(s=[0,s]),this.r0=kt(s[0],a),this.r=kt(s[1],a),ie(this._indicatorAxes,function(o,l){o.setExtent(this.r0,this.r);var u=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),o.angle=u},this)},n.prototype.update=function(e,t){var r=this._indicatorAxes,i=this._model;ie(r,function(o){o.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||e.getComponent("radar",o.get("radarIndex"))!==i)){var u=o.getData();ie(r,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),s=new Pp;s.setExtent(0,a),s.setInterval(1),ie(r,function(o,l){gce(o.scale,o.model,s)})},n.prototype.convertToPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var r=[];return e.eachComponent("radar",function(i){var a=new n(i,e,t);r.push(a),i.coordinateSystem=a}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},n.dimensions=[],n})();function uke(n){n.registerCoordinateSystem("radar",lke),n.registerComponentModel(ake),n.registerComponentView(ske),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(r){t.setItemVisual(r,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function cke(n){Nn(uke),n.registerChartView(rke),n.registerSeriesModel(ike),n.registerLayout(tke),n.registerProcessor(dS("radar")),n.registerPreprocessor(nke)}var g9=Un();function fke(n,e,t){g9(n)[e]=t}function dke(n,e,t){var r=g9(n),i=r[e];i===t&&(r[e]=null)}function AX(n,e){return!!g9(n)[e]}Of({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Qi);var hke={axisPointer:1,tooltip:1,brush:1};function Cce(n,e,t){var r=e.getComponentByElement(n.topTarget);if(!r||r===t||hke.hasOwnProperty(r.mainType))return!1;var i=r.coordinateSystem;if(!i||i.model===t)return!1;var a=zy(r),s=zy(t);return!((a.zlevel-s.zlevel||a.z-s.z)<=0)}var ax=(function(n){Xe(e,n);function e(t){var r=n.call(this)||this;r._zr=t;var i=Ot(r._mousedownHandler,r),a=Ot(r._mousemoveHandler,r),s=Ot(r._mouseupHandler,r),o=Ot(r._mousewheelHandler,r),l=Ot(r._pinchHandler,r);return r.enable=function(u,c){var f=c.zInfo,d=zy(f.component),h=d.z,p=d.zlevel,m={component:f.component,z:h,zlevel:p,z2:Wt(f.z2,-1/0)},g=at({},c.triggerInfo);this._opt=sn(at({},c),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:m,triggerInfo:g}),u==null&&(u=!0),(!this._enabled||this._controlType!==u)&&(this._enabled=!0,this.disable(),(u===!0||u==="move"||u==="pan")&&(Tw(t,"mousedown",i,m),Tw(t,"mousemove",a,m),Tw(t,"mouseup",s,m)),(u===!0||u==="scale"||u==="zoom")&&(Tw(t,"mousewheel",o,m),Tw(t,"pinch",l,m)))},r.disable=function(){this._enabled=!1,Cw(t,"mousedown",i),Cw(t,"mousemove",a),Cw(t,"mouseup",s),Cw(t,"mousewheel",o),Cw(t,"pinch",l)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype._checkPointer=function(t,r,i){var a=this._opt,s=a.zInfoParsed;if(Cce(t,a.api,s.component))return!1;var o=a.triggerInfo,l=o.roamTrigger,u=!1;return l==="global"&&(u=!0),u||(u=o.isInSelf(t,r,i)),u&&o.isInClip&&!o.isInClip(t,r,i)&&(u=!1),u},e.prototype._decideCursorStyle=function(t,r,i,a){var s=t.target;if(!s&&this._checkPointer(t,r,i))return"grab";if(a)return s&&s.cursor||"default"},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(qj(t)||ww(t))){for(var r=t.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=t.offsetX,a=t.offsetY;this._checkPointer(t,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){var r=this._zr;if(!(t.gestureEvent==="pinch"||AX(r,"globalPan")||ww(t))){var i=t.offsetX,a=t.offsetY;if(!this._dragging||!jR("moveOnMouseMove",t,this._opt)){var s=this._decideCursorStyle(t,i,a,!1);s&&r.setCursorStyle(s);return}r.setCursorStyle("grabbing");var o=this._x,l=this._y,u=i-o,c=a-l;this._x=i,this._y=a,this._opt.preventDefaultMouseMove&&Rp(t.event),t.__ecRoamConsumed=!0,MX(this,"pan","moveOnMouseMove",t,{dx:u,dy:c,oldX:o,oldY:l,newX:i,newY:a,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){if(!ww(t)){var r=this._zr;if(!qj(t)){this._dragging=!1;var i=this._decideCursorStyle(t,t.offsetX,t.offsetY,!0);i&&r.setCursorStyle(i)}}},e.prototype._mousewheelHandler=function(t){if(!ww(t)){var r=jR("zoomOnMouseWheel",t,this._opt),i=jR("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,s=Math.abs(a),o=t.offsetX,l=t.offsetY;if(!(a===0||!r&&!i)){if(r){var u=s>3?1.4:s>1?1.2:1.1,c=a>0?u:1/u;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:o,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(a),d=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:d,originX:o,originY:l,isAvailableBehavior:null})}}}},e.prototype._pinchHandler=function(t){if(!(AX(this._zr,"globalPan")||ww(t))){var r=t.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e.prototype._checkTriggerMoveZoom=function(t,r,i,a,s){t._checkPointer(a,s.originX,s.originY)&&(Rp(a.event),a.__ecRoamConsumed=!0,MX(t,r,i,a,s))},e})(Dc);function ww(n){return n.__ecRoamConsumed}var pke=Un();function bL(n){var e=pke(n);return e.roam=e.roam||{},e.uniform=e.uniform||{},e}function Tw(n,e,t,r){for(var i=bL(n),a=i.roam,s=a[e]=a[e]||[],o=0;o<s.length;o++){var l=s[o].zInfoParsed;if((l.zlevel-r.zlevel||l.z-r.z||l.z2-r.z2)<=0)break}s.splice(o,0,{listener:t,zInfoParsed:r}),vke(n,e)}function Cw(n,e,t){for(var r=bL(n),i=r.roam[e]||[],a=0;a<i.length;a++)if(i[a].listener===t){i.splice(a,1),i.length||mke(n,e);return}}function vke(n,e){var t=bL(n);t.uniform[e]||n.on(e,t.uniform[e]=function(r){var i=t.roam[e];if(i)for(var a=0;a<i.length;a++)i[a].listener(r)})}function mke(n,e){var t=bL(n),r=t.uniform;r[e]&&(n.off(e,r[e]),r[e]=null)}function MX(n,e,t,r,i){i.isAvailableBehavior=Ot(jR,null,t,r),n.trigger(e,i)}function jR(n,e,t){var r=t[n];return!n||r&&(!Lt(r)||e.event[r+"Key"])}function y9(n,e,t){var r=n.target;r.x+=e,r.y+=t,r.dirty()}function x9(n,e,t,r){var i=n.target,a=n.zoomLimit,s=n.zoom=n.zoom||1;s*=e,s=_9(s,a);var o=s/n.zoom;n.zoom=s,Mce(i,t,r,o),i.dirty()}function Ace(n,e,t,r,i,a){var s=new cn(0,0,0,0);r.enable(n.get("roam"),{api:e,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(u,c,f){return s.copy(t.getBoundingRect()),s.applyTransform(t.getComputedTransform()),s.contain(c,f)},isInClip:function(u,c,f){return!a||a.contain(c,f)}}}),i.zoomLimit=n.get("scaleLimit");var o=n.coordinateSystem;i.zoom=o?o.getZoom():1;var l=n.subType+"Roam";r.off("pan").off("zoom").on("pan",function(u){y9(i,u.dx,u.dy),e.dispatchAction({seriesId:n.id,type:l,dx:u.dx,dy:u.dy})}).on("zoom",function(u){x9(i,u.scale,u.originX,u.originY),e.dispatchAction({seriesId:n.id,type:l,zoom:u.scale,originX:u.originX,originY:u.originY}),e.updateLabelLayout()})}function EX(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function SL(n,e,t){var r=n.getZoom(),i=n.getCenter(),a=e.zoom,s=n.projectedToPoint?n.projectedToPoint(i):n.dataToPoint(i);return e.dx!=null&&e.dy!=null&&(s[0]-=e.dx,s[1]-=e.dy,n.setCenter(EX(n,s))),a!=null&&(a=_9(r*a,t)/r,Mce(n,e.originX,e.originY,a),n.updateTransform(),n.setCenter(EX(n,s)),n.setZoom(a*r)),{center:n.getCenter(),zoom:n.getZoom()}}function Mce(n,e,t,r){n.x-=(e-n.x)*(r-1),n.y-=(t-n.y)*(r-1),n.scaleX*=r,n.scaleY*=r}function _9(n,e){if(e){var t=e.min||0,r=e.max||1/0;n=Math.max(Math.min(r,n),t)}return n}function Ece(n){if(Lt(n)){var e=new DOMParser;n=e.parseFromString(n,"text/xml")}var t=n;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var j5,JN={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},DX=$n(JN),QN={"alignment-baseline":"textBaseline","stop-color":"stopColor"},RX=$n(QN),gke=(function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var r=Ece(e);this._defsUsePending=[];var i=new nn;this._root=i;var a=[],s=r.getAttribute("viewBox")||"",o=parseFloat(r.getAttribute("width")||t.width),l=parseFloat(r.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),lu(r,i,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;_ke(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(s){var d=wL(s);d.length>=4&&(c={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(c&&o!=null&&l!=null&&(f=Rce(c,{x:0,y:0,width:o,height:l}),!t.ignoreViewBox)){var h=i;i=new nn,i.add(h),h.scaleX=h.scaleY=f.scale,h.x=f.x,h.y=f.y}return!t.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new Pn({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},n.prototype._parseNode=function(e,t,r,i,a,s){var o=e.nodeName.toLowerCase(),l,u=i;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=t;else{if(!a){var c=j5[o];if(c&&Gt(j5,o)){l=c.call(this,e,t);var f=e.getAttribute("name");if(f){var d={name:f,namedFrom:null,svgNodeTagLower:o,el:l};r.push(d),o==="g"&&(u=d)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});t.add(l)}}var h=NX[o];if(h&&Gt(NX,o)){var p=h.call(this,e),m=e.getAttribute("id");m&&(this._defs[m]=p)}}if(l&&l.isGroup)for(var g=e.firstChild;g;)g.nodeType===1?this._parseNode(g,l,r,u,a,s):g.nodeType===3&&s&&this._parseText(g,l),g=g.nextSibling},n.prototype._parseText=function(e,t){var r=new mb({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Qu(t,r),lu(e,r,this._defsUsePending,!1,!1),yke(r,t);var i=r.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,r.scaleX*=a/9,r.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var o=r.getBoundingRect();return this._textX+=o.width,t.add(r),r},n.internalField=(function(){j5={g:function(e,t){var r=new nn;return Qu(t,r),lu(e,r,this._defsUsePending,!1,!1),r},rect:function(e,t){var r=new Pn;return Qu(t,r),lu(e,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(e,t){var r=new ah;return Qu(t,r),lu(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),r.silent=!0,r},line:function(e,t){var r=new ha;return Qu(t,r),lu(e,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(e,t){var r=new WA;return Qu(t,r),lu(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(e,t){var r=e.getAttribute("points"),i;r&&(i=LX(r));var a=new ro({shape:{points:i||[]},silent:!0});return Qu(t,a),lu(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var r=e.getAttribute("points"),i;r&&(i=LX(r));var a=new Ls({shape:{points:i||[]},silent:!0});return Qu(t,a),lu(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var r=new ps;return Qu(t,r),lu(e,r,this._defsUsePending,!1,!1),r.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),r.silent=!0,r},text:function(e,t){var r=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(s);var o=new nn;return Qu(t,o),lu(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,t){var r=e.getAttribute("x"),i=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",o=new nn;return Qu(t,o),lu(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(e,t){var r=e.getAttribute("d")||"",i=Yse(r);return Qu(t,i),lu(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}})(),n})(),NX={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),i=parseInt(n.getAttribute("y2")||"0",10),a=new Qy(e,t,r,i);return IX(n,a),kX(n,a),a},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),i=new uV(e,t,r);return IX(n,i),kX(n,i),i}};function IX(n,e){var t=n.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function kX(n,e){for(var t=n.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var r=t.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var a={};Dce(t,a,a);var s=a.stopColor||t.getAttribute("stop-color")||"#000000",o=a.stopOpacity||t.getAttribute("stop-opacity");if(o){var l=ko(s),u=l&&l[3];u&&(l[3]*=gp(o),s=yc(l,"rgba"))}e.colorStops.push({offset:i,color:s})}t=t.nextSibling}}function Qu(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),sn(e.__inheritedStyle,n.__inheritedStyle))}function LX(n){for(var e=wL(n),t=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),a=parseFloat(e[r+1]);t.push([i,a])}return t}function lu(n,e,t,r,i){var a=e,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};n.nodeType===1&&(wke(n,e),Dce(n,s,o),r||Tke(n,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=PX(a,"fill",s.fill,t)),s.stroke!=null&&(a.style.stroke=PX(a,"stroke",s.stroke,t)),ie(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(a.style[l]=parseFloat(s[l]))}),ie(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(a.style[l]=s[l])}),i&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=ht(wL(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function yke(n,e){var t=e.__selfStyle;if(t){var r=t.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),n.style.textBaseline=i}var a=e.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),n.style.textAlign=o)}}var xke=/^url\(\s*#(.*?)\)/;function PX(n,e,t,r){var i=t&&t.match(xke);if(i){var a=yu(i[1]);r.push([n,e,a]);return}return t==="none"&&(t=null),t}function _ke(n,e){for(var t=0;t<e.length;t++){var r=e[t];r[0].style[r[1]]=n[r[2]]}}var bke=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function wL(n){return n.match(bke)||[]}var Ske=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,W5=Math.PI/180;function wke(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var r=[],i=null;t.replace(Ske,function(f,d,h){return r.push(d,h),""});for(var a=r.length-1;a>0;a-=2){var s=r[a],o=r[a-1],l=wL(s);switch(i=i||os(),o){case"translate":Rf(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Zk(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Wp(i,i,-parseFloat(l[0])*W5,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*W5);Tf(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*W5);Tf(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}e.setLocalTransform(i)}}var OX=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Dce(n,e,t){var r=n.getAttribute("style");if(r){OX.lastIndex=0;for(var i;(i=OX.exec(r))!=null;){var a=i[1],s=Gt(JN,a)?JN[a]:null;s&&(e[s]=i[2]);var o=Gt(QN,a)?QN[a]:null;o&&(t[o]=i[2])}}}function Tke(n,e,t){for(var r=0;r<DX.length;r++){var i=DX[r],a=n.getAttribute(i);a!=null&&(e[JN[i]]=a)}for(var r=0;r<RX.length;r++){var i=RX[r],a=n.getAttribute(i);a!=null&&(t[QN[i]]=a)}}function Rce(n,e){var t=e.width/n.width,r=e.height/n.height,i=Math.min(t,r);return{scale:i,x:-(n.x+n.width/2)*i+(e.x+e.width/2),y:-(n.y+n.height/2)*i+(e.y+e.height/2)}}function Cke(n,e){var t=new gke;return t.parse(n,e)}var Ake=jt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Mke=(function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=jt(),this._freedGraphics=[],this._mapName=e,this._parsedXML=Ece(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=Dke(e.named),r=t.regions,i=t.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,r;try{t=e&&Cke(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=t.root,to(r!=null)}catch(g){throw new Error(`Invalid svg format
`+g.message)}var i=new nn;i.add(r),i.isGeoSVGGraphicRoot=!0;var a=t.width,s=t.height,o=t.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,d=void 0;if(a!=null?(u=0,f=a):o&&(u=o.x,f=o.width),s!=null?(c=0,d=s):o&&(c=o.y,d=o.height),u==null||c==null){var h=r.getBoundingRect();u==null&&(u=h.x,f=h.width),c==null&&(c=h.y,d=h.height)}l=this._boundingRect=new cn(u,c,f,d)}if(o){var p=Rce(o,l);r.scaleX=r.scaleY=p.scale,r.x=p.x,r.y=p.y}i.setClipPath(new Pn({shape:l.plain()}));var m=[];return ie(t.named,function(g){Ake.get(g.svgNodeTagLower)!=null&&(m.push(g),Eke(g.el))}),{root:i,boundingRect:l,named:m}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,r),r)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);r&&(t.removeKey(e),this._freedGraphics.push(r))},n})();function Eke(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}function Dke(n){var e=[],t=jt();return ie(n,function(r){if(r.namedFrom==null){var i=new ODe(r.name,r.el);e.push(i),t.set(r.name,i)}}),{regions:e,regionsMap:t}}var S8=[126,25],FX="",Hg=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Cg=0;Cg<Hg.length;Cg++)for(var V1=0;V1<Hg[Cg].length;V1++)Hg[Cg][V1][0]/=10.5,Hg[Cg][V1][1]/=-10.5/.75,Hg[Cg][V1][0]+=S8[0],Hg[Cg][V1][1]+=S8[1];function Rke(n,e){if(n==="china"){for(var t=0;t<e.length;t++)if(e[t].name===FX)return;e.push(new due(FX,ht(Hg,function(r){return{type:"polygon",exterior:r}}),S8))}}var Nke={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function Ike(n,e){if(n==="china"){var t=Nke[e.name];if(t){var r=e.getCenter();r[0]+=t[0]/10.5,r[1]+=-t[1]/(10.5/.75),e.setCenter(r)}}}var kke=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Lke(n,e){n==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:kke[0]})}var Pke="name",Oke=(function(){function n(e,t,r){this.type="geoJSON",this._parsedMap=jt(),this._mapName=e,this._specialAreas=r,this._geoJSON=Bke(t)}return n.prototype.load=function(e,t){t=t||Pke;var r=this._parsedMap.get(t);if(!r){var i=this._parseToRegions(t);r=this._parsedMap.set(t,{regions:i,boundingRect:Fke(i)})}var a=jt(),s=[];return ie(r.regions,function(o){var l=o.name;e&&Gt(e,l)&&(o=o.cloneShallow(l=e[l])),s.push(o),a.set(l,o)}),{regions:s,boundingRect:r.boundingRect||new cn(0,0,0,0),regionsMap:a}},n.prototype._parseToRegions=function(e){var t=this._mapName,r=this._geoJSON,i;try{i=r?a8(r,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return Rke(t,i),ie(i,function(a){var s=a.name;Ike(t,a),Lke(t,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),i},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n})();function Fke(n){for(var e,t=0;t<n.length;t++){var r=n[t].getBoundingRect();e=e||r.clone(),e.union(r)}return e}function Bke(n){return Lt(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var Aw=jt();const Op={registerMap:function(n,e,t){if(e.svg){var r=new Mke(n,e.svg);Aw.set(n,r)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?t=e.specialAreas:i=e;var r=new Oke(n,i,t);Aw.set(n,r)}},getGeoResource:function(n){return Aw.get(n)},getMapForUser:function(n){var e=Aw.get(n);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(n,e,t){var r=Aw.get(n);if(r)return r.load(e,t)}};var b9=["rect","circle","line","ellipse","polygon","polyline","path"],zke=jt(b9),Uke=jt(b9.concat(["g"])),Vke=jt(b9.concat(["g"])),Nce=Un();function Z3(n){var e=n.getItemStyle(),t=n.get("areaColor");return t!=null&&(e.fill=t),e}function BX(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var Ice=(function(){function n(e){var t=this.group=new nn,r=this._transformGroup=new nn;t.add(r),this.uid=rS("ec_map_draw"),this._controller=new ax(e.getZr()),this._controllerHost={target:r},r.add(this._regionsGroup=new nn),r.add(this._svgGroup=new nn)}return n.prototype.draw=function(e,t,r,i,a){var s=e.mainType==="geo",o=e.getData&&e.getData();s&&t.eachComponent({mainType:"series",subType:"map"},function(S){!o&&S.getHostGeoModel()===e&&(o=S.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this._transformGroup,f=l.getTransformInfo(),d=f.raw,h=f.roam,p=!u.childAt(0)||a,m=e.getShallow("clip",!0),g;m?(g=l.getViewRect().clone(),this.group.setClipPath(new Pn({shape:g.clone()}))):this.group.removeClipPath(),p?(c.x=h.x,c.y=h.y,c.scaleX=h.scaleX,c.scaleY=h.scaleY,c.dirty()):lr(c,h,e);var y=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,_={api:r,geo:l,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:y,isGeo:s,transformInfoRaw:d};l.resourceType==="geoJSON"?this._buildGeoJSON(_):l.resourceType==="geoSVG"&&this._buildSVG(_),this._updateController(e,g,t,r),this._updateMapSelectHandler(e,u,r,i)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=jt(),r=jt(),i=this._regionsGroup,a=e.transformInfoRaw,s=e.mapOrGeoModel,o=e.data,l=e.geo.projection,u=l&&l.stream;function c(h,p){return p&&(h=p(h)),h&&[h[0]*a.scaleX+a.x,h[1]*a.scaleY+a.y]}function f(h){for(var p=[],m=!u&&l&&l.project,g=0;g<h.length;++g){var y=c(h[g],m);y&&p.push(y)}return p}function d(h){return{shape:{points:f(h)}}}i.removeAll(),ie(e.geo.regions,function(h){var p=h.name,m=t.get(p),g=r.get(p)||{},y=g.dataIdx,_=g.regionModel;if(!m){m=t.set(p,new nn),i.add(m),y=o?o.indexOfName(p):null,_=e.isGeo?s.getRegionModel(p):o?o.getItemModel(y):null;var S=_.get("silent",!0);S!=null&&(m.silent=S),r.set(p,{dataIdx:y,regionModel:_})}var A=[],M=[];ie(h.geometries,function(I){if(I.type==="polygon"){var N=[I.exterior].concat(I.interiors||[]);u&&(N=jX(N,u)),ie(N,function(B){A.push(new ro(d(B)))})}else{var L=I.points;u&&(L=jX(L,u,!0)),ie(L,function(B){M.push(new Ls(d(B)))})}});var E=c(h.getCenter(),l&&l.project);function D(I,N){if(I.length){var L=new qA({culling:!0,segmentIgnoreThreshold:1,shape:{paths:I}});m.add(L),zX(e,L,y,_),UX(e,L,p,_,s,y,E),N&&(BX(L),ie(L.states,BX))}}D(A),D(M,!0)}),t.each(function(h,p){var m=r.get(p),g=m.dataIdx,y=m.regionModel;VX(e,h,p,y,s,g),GX(e,h,p,y,s),HX(e,h,p,y,s)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,r=e.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=jt(),a=!1;ie(this._svgGraphicRecord.named,function(s){var o=s.name,l=e.mapOrGeoModel,u=e.data,c=s.svgNodeTagLower,f=s.el,d=u?u.indexOfName(o):null,h=l.getRegionModel(o);zke.get(c)!=null&&f instanceof Cc&&zX(e,f,d,h),f instanceof Cc&&(f.culling=!0);var p=h.get("silent",!0);if(p!=null&&(f.silent=p),f.z2EmphasisLift=0,!s.namedFrom&&(Vke.get(c)!=null&&UX(e,f,o,h,l,d,null),VX(e,f,o,h,l,d),GX(e,f,o,h,l),Uke.get(c)!=null)){var m=HX(e,f,o,h,l);m==="self"&&(a=!0);var g=i.get(o)||i.set(o,[]);g.push(f)}},this),this._enableBlurEntireSVG(a,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Fy(a);var s=a.ensureState("blur").style||{};s.opacity==null&&i!=null&&(s.opacity=i),a.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var r=t.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(e);return a?[a]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=Op.getGeoResource(e);if(t&&t.type==="geoSVG"){var r=t.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=Op.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,r,i){var a=e.coordinateSystem,s=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=a.getZoom(),s.enable(e.get("roam")||!1,{api:i,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(c,f,d){return a.containPoint([f,d])},isInClip:function(c,f,d){return!t||t.contain(f,d)}}});var l=e.mainType;function u(){var c={type:"geoRoam",componentType:l};return c[l+"Id"]=e.id,c}s.off("pan").on("pan",function(c){this._mouseDownFlag=!1,y9(o,c.dx,c.dy),i.dispatchAction(at(u(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),s.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,x9(o,c.scale,c.originX,c.originY),i.dispatchAction(at(u(),{totalZoom:o.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this)},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=Nce(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,r,i){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},n})();function zX(n,e,t,r){var i=r.getModel("itemStyle"),a=r.getModel(["emphasis","itemStyle"]),s=r.getModel(["blur","itemStyle"]),o=r.getModel(["select","itemStyle"]),l=Z3(i),u=Z3(a),c=Z3(o),f=Z3(s),d=n.data;if(d){var h=d.getItemVisual(t,"style"),p=d.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),p&&(l.decal=_b(p,n.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=f,Fy(e)}function UX(n,e,t,r,i,a,s){var o=n.data,l=n.isGeo,u=o&&isNaN(o.get(o.mapDimension("value"),a)),c=o&&o.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?t:a,d=void 0;(!o||a>=0)&&(d=i);var h=s?{normal:{align:"center",verticalAlign:"middle"}}:null;cs(e,Ya(r),{labelFetcher:d,labelDataIndex:f,defaultText:t},h);var p=e.getTextContent();if(p&&(Nce(p).ignore=p.ignore,e.textConfig&&s)){var m=e.getBoundingRect().clone();e.textConfig.layoutRect=m,e.textConfig.position=[(s[0]-m.x)/m.width*100+"%",(s[1]-m.y)/m.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function VX(n,e,t,r,i,a){n.data?n.data.setItemGraphicEl(a,e):fn(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:t,region:r&&r.option||{}}}function GX(n,e,t,r,i){n.data||qp({el:e,componentModel:i,itemName:t,itemTooltipOption:r.get("tooltip")})}function HX(n,e,t,r,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var a=r.getModel("emphasis"),s=a.get("focus");return Ei(e,s,a.get("blurScope"),a.get("disabled")),n.isGeo&&kCe(e,i,t),s}function jX(n,e,t){var r=[],i;function a(){i=[]}function s(){i.length&&(r.push(i),i=[])}var o=e({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!t&&o.polygonStart(),ie(n,function(l){o.lineStart();for(var u=0;u<l.length;u++)o.point(l[u][0],l[u][1]);o.lineEnd()}),!t&&o.polygonEnd(),r}var Gke=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===t.id){var o=this._mapDraw;o&&s.add(o.group)}else if(t.needsDrawMap){var o=this._mapDraw||new Ice(i);s.add(o.group),o.draw(t,r,i,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(t,r,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,r,i){var a=t.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,l){if(!isNaN(o)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,d=new ah({style:{fill:t.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:$b+1)});if(!f){var h=t.mainSeries.getData(),p=a.getName(l),m=h.indexOfName(p),g=a.getItemModel(l),y=g.getModel("label"),_=h.getItemGraphicEl(m);cs(d,Ya(g),{labelFetcher:{getFormattedLabel:function(S,A){return t.getFormattedLabel(m,A)}},defaultText:p}),d.disableLabelAnimation=!0,y.get("position")||d.setTextConfig({position:"bottom"}),_.onHoverStateChange=function(S){AN(d,S)}}s.add(d)}}})},e.type="map",e})(Fr),Hke=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(r){if(r!=null){var i=this.getData().getName(r),a=this.coordinateSystem,s=a.getRegion(i);return s&&a.dataToPoint(s.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var r=hS(this,{coordDimensions:["value"],encodeDefaulter:Sn(IV,this)}),i=jt(),a=[],s=0,o=r.count();s<o;s++){var l=r.getName(s);i.set(l,s)}var u=Op.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return ie(u.regions,function(c){var f=c.name,d=i.get(f),h=c.properties&&c.properties.echartsStyle,p;d==null?(p={name:f},a.push(p)):p=r.getRawDataItem(d),h&&An(p,h)}),r.appendData(a),r},e.prototype.getHostGeoModel=function(){if(boe(this).kind!==Id.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var r=this.getData();return r.get(r.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var r=this.getData();return r.getItemModel(r.indexOfName(t))},e.prototype.formatTooltip=function(t,r,i){for(var a=this.getData(),s=this.getRawValue(t),o=a.getName(t),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(o),d=a.mapDimension("value");isNaN(l[c].originalData.get(d,f))||u.push(l[c].name)}return Ia("section",{header:u.join(", "),noHeader:!u.length,blocks:[Ia("nameValue",{name:o,value:s})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var r=t.icon||"roundRect",i=va(r,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill=qe.color.neutral00,i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:qe.color.tertiary},itemStyle:{borderWidth:.5,borderColor:qe.color.border,areaColor:qe.color.background},emphasis:{label:{show:!0,color:qe.color.primary},itemStyle:{areaColor:qe.color.highlight}},select:{label:{show:!0,color:qe.color.primary},itemStyle:{color:qe.color.highlight}},nameProperty:"name"},e})(Yr);function jke(n,e){var t={};return ie(n,function(r){r.each(r.mapDimension("value"),function(i,a){var s="ec-"+r.getName(a);t[s]=t[s]||[],isNaN(i)||t[s].push(i)})}),n[0].map(n[0].mapDimension("value"),function(r,i){for(var a="ec-"+n[0].getName(i),s=0,o=1/0,l=-1/0,u=t[a].length,c=0;c<u;c++)o=Math.min(o,t[a][c]),l=Math.max(l,t[a][c]),s+=t[a][c];var f;return e==="min"?f=o:e==="max"?f=l:e==="average"?f=s/u:f=s,u===0?NaN:f})}function Wke(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getHostGeoModel(),i=r?"o"+r.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),ie(e,function(t,r){for(var i=jke(ht(t,function(s){return s.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=a===0&&!t[a].getHostGeoModel(),t[a].setData(i.cloneShallow()),t[a].mainSeries=t[0]})}function Yke(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getMapType();if(!(t.getHostGeoModel()||e[r])){var i={};ie(t.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),d=o.getRegion(f);if(!(!d||isNaN(u))){var h=i[f]||0,p=o.dataToPoint(d.getCenter());i[f]=h+1,l.setItemLayout(c,{point:p,offset:h})}})});var a=t.getData();a.each(function(s){var o=a.getName(s),l=a.getItemLayout(s)||{};l.showLabel=!i[o],a.setItemLayout(s,l)}),e[r]=!0}})}var WX=ea,sx=(function(n){Xe(e,n);function e(t,r){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new fp,i._rawTransformable=new fp,i.name=t,i._opt=r,i}return e.prototype.setBoundingRect=function(t,r,i,a){return this._rect=new cn(t,r,i,a),this._updateCenterAndZoom(),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,r,i,a){this._transformTo(t,r,i,a),this._viewRect=new cn(t,r,i,a)},e.prototype._transformTo=function(t,r,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new cn(t,r,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},e.prototype.setCenter=function(t){var r=this._opt;r&&r.api&&r.ecModel&&r.ecModel.getShallow("legacyViewCoordSysCenterBase")&&t&&(t=[kt(t[0],r.api.getWidth()),kt(t[1],r.api.getWidth())]),this._centerOption=tn(t),this._updateCenterAndZoom()},e.prototype.setZoom=function(t){this._zoom=_9(t||1,this.zoomLimit),this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),r=t.x+t.width/2,i=t.y+t.height/2;return[r,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._centerOption,r=this._rect;t&&r&&(this._center=[kt(t[0],r.width,r.x),kt(t[1],r.height,r.y)]);var i=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,s=this.getDefaultCenter(),o=this.getCenter(),l=this.getZoom();o=ea([],o,i),s=ea([],s,i),a.originX=o[0],a.originY=o[1],a.x=s[0]-o[0],a.y=s[1]-o[1],a.scaleX=a.scaleY=l,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,r=this._rawTransformable;r.parent=t,t.updateTransform(),r.updateTransform(),GA(this.transform||(this.transform=[]),r.transform||os()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],Tc(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,r=this._roamTransformable,i=new fp;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,r,i){var a=r?this._rawTransform:this.transform;return i=i||[],a?WX(i,t,a):So(i,t)},e.prototype.pointToData=function(t,r,i){i=i||[];var a=this.invTransform;return a?WX(i,t,a):(i[0]=t[0],i[1]=t[1],i)},e.prototype.convertToPixel=function(t,r,i){var a=YX(r);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var a=YX(r);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e})(fp);function YX(n){var e=n.seriesModel;return e?e.coordinateSystem:null}var qke={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},kce=["lng","lat"],w8=(function(n){Xe(e,n);function e(t,r,i){var a=n.call(this,t,{api:i.api,ecModel:i.ecModel})||this;a.dimensions=kce,a.type="geo",a._nameCoordMap=jt(),a.map=r;var s=i.projection,o=Op.load(r,i.nameMap,i.nameProperty),l=Op.getGeoResource(r);a.resourceType=l?l.type:null;var u=a.regions=o.regions,c=qke[l.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var f;if(s)for(var d=0;d<u.length;d++){var h=u[d].getBoundingRect(s);f=f||h.clone(),f.union(h)}else f=o.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=s?1:Wt(i.aspectScale,c.aspectScale),a._invertLongitute=s?!1:c.invertLongitute,a}return e.prototype._transformTo=function(t,r,i,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new cn(t,r,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,o&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var r=this.regions,i=0;i<r.length;i++){var a=r[i];if(a.type==="geoJSON"&&a.contain(t))return r[i]}},e.prototype.addGeoCoord=function(t,r){this._nameCoordMap.set(t,r)},e.prototype.getGeoCoord=function(t){var r=this._regionsMap.get(t);return this._nameCoordMap.get(t)||r&&r.getCenter()},e.prototype.dataToPoint=function(t,r,i){if(Lt(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,r,i)}},e.prototype.pointToData=function(t,r,i){var a=this.projection;return a&&(t=a.unproject(t)),t&&this.pointToProjected(t,i)},e.prototype.pointToProjected=function(t,r){return n.prototype.pointToData.call(this,t,0,r)},e.prototype.projectedToPoint=function(t,r,i){return n.prototype.dataToPoint.call(this,t,r,i)},e.prototype.convertToPixel=function(t,r,i){var a=qX(r);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var a=qX(r);return a===this?a.pointToData(i):null},e})(sx);ta(w8,sx);function qX(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Hi).models[0]||{}).coordinateSystem:null}function XX(n,e){var t=n.get("boundingCoords");if(t!=null){var r=t[0],i=t[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var s=r[0],o=r[1],l=i[0],u=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(M,E,D,I){for(var N=D-M,L=I-E,B=0;B<=100;B++){var O=B/100,G=a.project([M+N*O,E+L*O]);up(r,r,G),cp(i,i,G)}};c(s,o,l,o),c(l,o,l,u),c(l,u,s,u),c(s,u,l,o)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var f=this.getBoundingRect(),d=n.get("layoutCenter"),h=n.get("layoutSize"),p=qa(n,e).refContainer,m=f.width/f.height*this.aspectScale,g=!1,y,_;d&&h&&(y=[kt(d[0],p.width)+p.x,kt(d[1],p.height)+p.y],_=kt(h,Math.min(p.width,p.height)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(_)&&(g=!0));var S;if(g)S={},m>1?(S.width=_,S.height=_/m):(S.height=_,S.width=_*m),S.y=y[1]-S.height/2,S.x=y[0]-S.width/2;else{var A=n.getBoxLayoutParams();A.aspect=m,S=wi(A,p),S=Aoe(n,S,m)}this.setViewRect(S.x,S.y,S.width,S.height),this.setCenter(n.get("center")),this.setZoom(n.get("zoom"))}function Xke(n,e){ie(e.get("geoCoord"),function(t,r){n.addGeoCoord(r,t)})}var Zke=(function(){function n(){this.dimensions=kce}return n.prototype.create=function(e,t){var r=[];function i(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}e.eachComponent("geo",function(s,o){var l=s.get("map"),u=new w8(l+o,l,at({nameMap:s.get("nameMap"),api:t,ecModel:e},i(s)));u.zoomLimit=s.get("scaleLimit"),r.push(u),s.coordinateSystem=u,u.model=s,u.resize=XX,u.resize(s,t)}),e.eachSeries(function(s){KA({targetModel:s,coordSysType:"geo",coordSysProvider:function(){var o=s.subType==="map"?s.getHostGeoModel():s.getReferringComponents("geo",Hi).models[0];return o&&o.coordinateSystem},allowNotFound:!0})});var a={};return e.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),ie(a,function(s,o){var l=ht(s,function(c){return c.get("nameMap")}),u=new w8(o,o,at({nameMap:Yk(l),api:t,ecModel:e},i(s[0])));u.zoomLimit=Is.apply(null,ht(s,function(c){return c.get("scaleLimit")})),r.push(u),u.resize=XX,u.resize(s[0],t),ie(s,function(c){c.coordinateSystem=u,Xke(u,c)})}),r},n.prototype.getFilledRegions=function(e,t,r,i){for(var a=(e||[]).slice(),s=jt(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var l=Op.load(t,r,i);return ie(l.regions,function(u){var c=u.name,f=s.get(c),d=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),d&&An(f,d)}),a},n})(),Lce=new Zke,Kke=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i);var a=Op.getGeoResource(t.map);if(a&&a.type==="geoJSON"){var s=t.itemStyle=t.itemStyle||{};"color"in s||(s.color=t.defaultItemStyleColor||qe.color.backgroundTint)}Ly(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,r=this.option;r.regions=Lce.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=wc(r.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new Gn(s,t,t.ecModel)),s.selected&&(i[o]=!0)),a},jt()),r.selectedMap||(r.selectedMap=i)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Gn(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,r){var i=this.getRegionModel(t),a=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),s={name:t};if(Xt(a))return s.status=r,a(s);if(Lt(a))return a.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var r=this.option,i=r.selectedMode;if(i){i!=="multiple"&&(r.selectedMap=null);var a=r.selectedMap||(r.selectedMap={});a[t]=!0}},e.prototype.unSelect=function(t){var r=this.option.selectedMap;r&&(r[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var r=this.option.selectedMap;return!!(r&&r[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:qe.color.tertiary},itemStyle:{borderWidth:.5,borderColor:qe.color.border},emphasis:{label:{show:!0,color:qe.color.primary},itemStyle:{color:qe.color.highlight}},select:{label:{show:!0,color:qe.color.primary},itemStyle:{color:qe.color.highlight}},regions:[]},e})(zn),$ke=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,r){this._api=r},e.prototype.render=function(t,r,i,a){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Ice(i));var s=this._mapDraw;s.draw(t,r,i,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=t.get("silent"),this.group.add(s.group),this.updateSelectStatus(t,r,i)},e.prototype._handleRegionClick=function(t){var r;cy(t.target,function(i){return(r=fn(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},e.prototype.updateSelectStatus=function(t,r,i){var a=this;this._mapDraw.group.traverse(function(s){var o=fn(s).eventData;if(o)return a._model.isSelected(o.name)?i.enterSelect(s):i.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e})(ri);function Jke(n,e,t){Op.registerMap(n,e,t)}function Pce(n){n.registerCoordinateSystem("geo",Lce),n.registerComponentModel(Kke),n.registerComponentView($ke),n.registerImpl("registerMap",Jke),n.registerImpl("getMap",function(t){return Op.getMapForUser(t)});function e(t,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(i,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[t](i.name);var u=l.coordinateSystem;ie(u.regions,function(f){s[f.name]=l.isSelected(f.name)||!1});var c=[];ie(s,function(f,d){s[d]&&c.push(d)}),o.push({geoIndex:l.componentIndex,name:c})}),{selected:s,allSelected:o,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,r,i){var a=t.componentType;a||(t.geoId!=null?a="geo":t.seriesId!=null&&(a="series")),a||(a="series"),r.eachComponent({mainType:a,query:t},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=SL(o,t,s.get("scaleLimit"));s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),a==="series"&&ie(s.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function Qke(n){Nn(Pce),n.registerChartView(Gke),n.registerSeriesModel(Hke),n.registerLayout(Yke),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Wke),mle("map",n.registerAction)}function eLe(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],r,i;r=t.pop();)if(i=r.children,r.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},t.push(o)}}function tLe(n,e){var t=n.isExpand?n.children:[],r=n.parentNode.children,i=n.hierNode.i?r[n.hierNode.i-1]:null;if(t.length){rLe(n);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;i?(n.hierNode.prelim=i.hierNode.prelim+e(n,i),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else i&&(n.hierNode.prelim=i.hierNode.prelim+e(n,i));n.parentNode.hierNode.defaultAncestor=iLe(n,i,n.parentNode.hierNode.defaultAncestor||r[0],e)}function nLe(n){var e=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:e},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function ZX(n){return arguments.length?n:oLe}function vT(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function rLe(n){for(var e=n.children,t=e.length,r=0,i=0;--t>=0;){var a=e[t];a.hierNode.prelim+=r,a.hierNode.modifier+=r,i+=a.hierNode.change,r+=a.hierNode.shift+i}}function iLe(n,e,t,r){if(e){for(var i=n,a=n,s=a.parentNode.children[0],o=e,l=i.hierNode.modifier,u=a.hierNode.modifier,c=s.hierNode.modifier,f=o.hierNode.modifier;o=Y5(o),a=q5(a),o&&a;){i=Y5(i),s=q5(s),i.hierNode.ancestor=n;var d=o.hierNode.prelim+f-a.hierNode.prelim-u+r(o,a);d>0&&(sLe(aLe(o,n,t),n,d),u+=d,l+=d),f+=o.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=s.hierNode.modifier}o&&!Y5(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=f-l),a&&!q5(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=u-c,t=n)}return t}function Y5(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function q5(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function aLe(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function sLe(n,e,t){var r=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=r}function oLe(n,e){return n.parentNode===e.parentNode?1:2}var lLe=(function(){function n(){this.parentPoint=[],this.childPoints=[]}return n})(),uLe=(function(n){Xe(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:qe.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new lLe},e.prototype.buildPath=function(t,r){var i=r.childPoints,a=i.length,s=r.parentPoint,o=i[0],l=i[a-1];if(a===1){t.moveTo(s[0],s[1]),t.lineTo(o[0],o[1]);return}var u=r.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,d=kt(r.forkPosition,1),h=[];h[c]=s[c],h[f]=s[f]+(l[f]-s[f])*d,t.moveTo(s[0],s[1]),t.lineTo(h[0],h[1]),t.moveTo(o[0],o[1]),h[c]=o[c],t.lineTo(h[0],h[1]),h[c]=l[c],t.lineTo(h[0],h[1]),t.lineTo(l[0],l[1]);for(var p=1;p<a-1;p++){var m=i[p];t.moveTo(m[0],m[1]),h[c]=m[c],t.lineTo(h[0],h[1])}},e})(Hn),cLe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new nn,t}return e.prototype.init=function(t,r){this._controller=new ax(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,r,i){var a=t.getData(),s=t.layoutInfo,o=this._mainGroup,l=t.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(t,i),this._updateController(t,null,r,i);var u=this._data;a.diff(u).add(function(c){KX(a,c)&&$X(a,c,null,o,t)}).update(function(c,f){var d=u.getItemGraphicEl(f);if(!KX(a,c)){d&&QX(u,f,d,o,t);return}$X(a,c,d,o,t)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&QX(u,c,f,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:f})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,r){var i=t.getData(),a=[];i.each(function(f){var d=i.getItemLayout(f);d&&!isNaN(d.x)&&!isNaN(d.y)&&a.push([+d.x,+d.y])});var s=[],o=[];rL(a,s,o);var l=this._min,u=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=u?u[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=u?u[1]:o[1]+1);var c=t.coordinateSystem=new sx(null,{api:r,ecModel:t.ecModel});c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),c.setCenter(t.get("center")),c.setZoom(t.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(t,r,i,a){var s=this;Ace(t,a,this.group,this._controller,this._controllerHost,r),this._controller.on("zoom",function(o){s._updateNodeAndLinkScale(t)})},e.prototype._updateNodeAndLinkScale=function(t){var r=t.getData(),i=this._getNodeGlobalScale(t);r.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(t){var r=t.coordinateSystem;if(r.type!=="view")return 1;var i=this._nodeScaleRatio,a=r.scaleX||1,s=r.getZoom(),o=(s-1)*i+1;return o/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e})(Fr);function KX(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function $X(n,e,t,r,i){var a=!t,s=n.tree.getNodeByDataIndex(e),o=s.getModel(),l=s.getVisual("style").fill,u=s.isExpand===!1&&s.children.length!==0?l:qe.color.neutral00,c=n.tree.root,f=s.parentNode===c?s:s.parentNode||s,d=n.getItemGraphicEl(f.dataIndex),h=f.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,m=s.getLayout();a?(t=new QA(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.x=p.x,t.y=p.y):t.updateData(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=m.rawX,t.__radialRawY=m.rawY,r.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,lr(t,{x:m.x,y:m.y},i);var g=t.getSymbolPath();if(i.get("layout")==="radial"){var y=c.children[0],_=y.getLayout(),S=y.children.length,A=void 0,M=void 0;if(m.x===_.x&&s.isExpand===!0&&y.children.length){var E={x:(y.children[0].getLayout().x+y.children[S-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[S-1].getLayout().y)/2};A=Math.atan2(E.y-_.y,E.x-_.x),A<0&&(A=Math.PI*2+A),M=E.x<_.x,M&&(A=A-Math.PI)}else A=Math.atan2(m.y-_.y,m.x-_.x),A<0&&(A=Math.PI*2+A),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(M=m.x<_.x,M&&(A=A-Math.PI)):(M=m.x>_.x,M||(A=A-Math.PI));var D=M?"left":"right",I=o.getModel("label"),N=I.get("rotate"),L=N*(Math.PI/180),B=g.getTextContent();B&&(g.setTextConfig({position:I.get("position")||D,rotation:N==null?-A:L,origin:"center"}),B.setStyle("verticalAlign","middle"))}var O=o.get(["emphasis","focus"]),G=O==="relative"?db(s.getAncestorsIndices(),s.getDescendantIndices()):O==="ancestor"?s.getAncestorsIndices():O==="descendant"?s.getDescendantIndices():null;G&&(fn(t).focus=G),fLe(i,s,c,t,p,h,m,r),t.__edge&&(t.onHoverStateChange=function(V){if(V!=="blur"){var q=s.parentNode&&n.getItemGraphicEl(s.parentNode.dataIndex);q&&q.hoverState===jA||AN(t.__edge,V)}})}function fLe(n,e,t,r,i,a,s,o){var l=e.getModel(),u=n.get("edgeShape"),c=n.get("layout"),f=n.getOrient(),d=n.get(["lineStyle","curveness"]),h=n.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),m=r.__edge;if(u==="curve")e.parentNode&&e.parentNode!==t&&(m||(m=r.__edge=new Qb({shape:T8(c,f,d,i,i)})),lr(m,{shape:T8(c,f,d,a,s)},n));else if(u==="polyline"&&c==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var g=e.children,y=[],_=0;_<g.length;_++){var S=g[_].getLayout();y.push([S.x,S.y])}m||(m=r.__edge=new uLe({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:f,forkPosition:h}})),lr(m,{shape:{parentPoint:[s.x,s.y],childPoints:y}},n)}m&&!(u==="polyline"&&!e.isExpand)&&(m.useStyle(sn({strokeNoScale:!0,fill:null},p)),Wa(m,l,"lineStyle"),Fy(m),o.add(m))}function JX(n,e,t,r,i){var a=e.tree.root,s=Oce(a,n),o=s.source,l=s.sourceLayout,u=e.getItemGraphicEl(n.dataIndex);if(u){var c=e.getItemGraphicEl(o.dataIndex),f=c.__edge,d=u.__edge||(o.isExpand===!1||o.children.length===1?f:void 0),h=r.get("edgeShape"),p=r.get("layout"),m=r.get("orient"),g=r.get(["lineStyle","curveness"]);d&&(h==="curve"?Pv(d,{shape:T8(p,m,g,l,l),style:{opacity:0}},r,{cb:function(){t.remove(d)},removeOpt:i}):h==="polyline"&&r.get("layout")==="orthogonal"&&Pv(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){t.remove(d)},removeOpt:i}))}}function Oce(n,e){for(var t=e.parentNode===n?e:e.parentNode||e,r;r=t.getLayout(),r==null;)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:r}}function QX(n,e,t,r,i){var a=n.tree.getNodeByDataIndex(e),s=n.tree.root,o=Oce(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Pv(t,{x:o.x+1,y:o.y+1},i,{cb:function(){r.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){JX(u,n,r,i,l)}),JX(a,n,r,i,l)}function T8(n,e,t,r,i){var a,s,o,l,u,c,f,d;if(n==="radial"){u=r.rawX,f=r.rawY,c=i.rawX,d=i.rawY;var h=vT(u,f),p=vT(u,f+(d-f)*t),m=vT(c,d+(f-d)*t),g=vT(c,d);return{x1:h.x||0,y1:h.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:m.x||0,cpy2:m.y||0}}else u=r.x,f=r.y,c=i.x,d=i.y,(e==="LR"||e==="RL")&&(a=u+(c-u)*t,s=f,o=c+(u-c)*t,l=d),(e==="TB"||e==="BT")&&(a=u,s=f+(d-f)*t,o=c,l=d+(f-d)*t);return{x1:u,y1:f,x2:c,y2:d,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}var xc=Un();function Fce(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,Bce(e,t,n),ie(t,function(r){ie(e.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,Sn(dLe,n))})}),e.wrapMethod("cloneShallow",Sn(pLe,n)),ie(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,Sn(hLe,n))}),to(t[e.dataType]===e)}function dLe(n,e){if(gLe(this)){var t=at({},xc(this).datas);t[this.dataType]=e,Bce(e,t,n)}else S9(e,this.dataType,xc(this).mainData,n);return e}function hLe(n,e){return n.struct&&n.struct.update(),e}function pLe(n,e){return ie(xc(e).datas,function(t,r){t!==e&&S9(t.cloneShallow(),r,e,n)}),e}function vLe(n){var e=xc(this).mainData;return n==null||e==null?e:xc(e).datas[n]}function mLe(){var n=xc(this).mainData;return n==null?[{data:n}]:ht($n(xc(n).datas),function(e){return{type:e,data:xc(n).datas[e]}})}function gLe(n){return xc(n).mainData===n}function Bce(n,e,t){xc(n).datas={},ie(e,function(r,i){S9(r,i,n,t)})}function S9(n,e,t,r){xc(t).datas[e]=n,xc(n).mainData=t,n.dataType=e,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=n),n.getLinkedData=vLe,n.getLinkedDataAll=mLe}var yLe=(function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,r){Xt(e)&&(r=t,t=e,e=null),e=e||{},Lt(e)&&(e={order:e});var i=e.order||"preorder",a=this[e.attr||"children"],s;i==="preorder"&&(s=t.call(r,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(e,t,r);i==="postorder"&&t.call(r,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,r=this.children,i=r.length;t<i;t++){var a=r[t].getNodeById(e);if(a)return a}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,r=this.children,i=r.length;t<i;t++){var a=r[t].contains(e);if(a)return a}},n.prototype.getAncestors=function(e){for(var t=[],r=e?this:this.parentNode;r;)t.push(r),r=r.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,r=t.data.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n})(),w9=(function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,r){this.root.eachNode(e,t,r)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,r=0,i=t.length;r<i;r++)t[r].dataIndex=-1;for(var r=0,i=e.count();r<i;r++)t[e.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,r){var i=new n(t),a=[],s=1;o(e);function o(c,f){var d=c.value;s=Math.max(s,ft(d)?d.length:1),a.push(c);var h=new yLe(ja(c.name,""),i);f?xLe(h,f):i.root=h,i._nodes.push(h);var p=c.children;if(p)for(var m=0;m<p.length;m++)o(p[m],h)}i.root.updateDepthAndHeight(0);var l=uS(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new Lo(l,t);return u.initData(a),r&&r(u),Fce({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},n})();function xLe(n,e){var t=e.children;n.parentNode!==e&&(t.push(n),n.parentNode=e)}function WC(n,e,t){if(n&&Cn(e,n.type)>=0){var r=t.getData().tree.root,i=n.targetNode;if(Lt(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var a=n.targetNodeId;if(a!=null&&(i=r.getNodeById(a)))return{node:i}}}function zce(n){for(var e=[];n;)n=n.parentNode,n&&e.push(n);return e.reverse()}function T9(n,e){var t=zce(n);return Cn(t,e)>=0}function TL(n,e){for(var t=[];n;){var r=n.dataIndex;t.push({name:n.name,dataIndex:r,value:e.getRawValue(r)}),n=n.parentNode}return t.reverse(),t}var _Le=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var r={name:t.name,children:t.data},i=t.leaves||{},a=new Gn(i,this,this.ecModel),s=w9.createTree(r,this,o);function o(f){f.wrapMethod("getItemModel",function(d,h){var p=s.getNodeByDataIndex(h);return p&&p.children.length&&p.isExpand||(d.parentModel=a),d})}var l=0;s.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=t.expandAndCollapse,c=u&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(f){var d=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=d&&d.collapsed!=null?!d.collapsed:f.depth<=c}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,r,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(t),l=o.getValue(),u=o.name;o&&o!==s;)u=o.parentNode.name+"."+u,o=o.parentNode;return Ia("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treeAncestors=TL(i,this),r.collapsed=!i.isExpand,r},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:qe.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e})(Yr);function bLe(n,e,t){for(var r=[n],i=[],a;a=r.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)r.push(s[o])}for(;a=i.pop();)e(a,t)}function Mw(n,e){for(var t=[n],r;r=t.pop();)if(e(r),r.isExpand){var i=r.children;if(i.length)for(var a=i.length-1;a>=0;a--)t.push(i[a])}}function SLe(n,e){n.eachSeriesByType("tree",function(t){wLe(t,e)})}function wLe(n,e){var t=qa(n,e).refContainer,r=wi(n.getBoxLayoutParams(),t);n.layoutInfo=r;var i=n.get("layout"),a=0,s=0,o=null;i==="radial"?(a=2*Math.PI,s=Math.min(r.height,r.width)/2,o=ZX(function(A,M){return(A.parentNode===M.parentNode?1:2)/A.depth})):(a=r.width,s=r.height,o=ZX());var l=n.getData().tree.root,u=l.children[0];if(u){eLe(l),bLe(u,tLe,o),l.hierNode.modifier=-u.hierNode.prelim,Mw(u,nLe);var c=u,f=u,d=u;Mw(u,function(A){var M=A.getLayout().x;M<c.getLayout().x&&(c=A),M>f.getLayout().x&&(f=A),A.depth>d.depth&&(d=A)});var h=c===f?1:o(c,f)/2,p=h-c.getLayout().x,m=0,g=0,y=0,_=0;if(i==="radial")m=a/(f.getLayout().x+h+p),g=s/(d.depth-1||1),Mw(u,function(A){y=(A.getLayout().x+p)*m,_=(A.depth-1)*g;var M=vT(y,_);A.setLayout({x:M.x,y:M.y,rawX:y,rawY:_},!0)});else{var S=n.getOrient();S==="RL"||S==="LR"?(g=s/(f.getLayout().x+h+p),m=a/(d.depth-1||1),Mw(u,function(A){_=(A.getLayout().x+p)*g,y=S==="LR"?(A.depth-1)*m:a-(A.depth-1)*m,A.setLayout({x:y,y:_},!0)})):(S==="TB"||S==="BT")&&(m=a/(f.getLayout().x+h+p),g=s/(d.depth-1||1),Mw(u,function(A){y=(A.getLayout().x+p)*m,_=S==="TB"?(A.depth-1)*g:s-(A.depth-1)*g,A.setLayout({x:y,y:_},!0)}))}}}function TLe(n){n.eachSeriesByType("tree",function(e){var t=e.getData(),r=t.tree;r.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(i.dataIndex,"style");at(o,s)})})}function CLe(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var i=e.dataIndex,a=r.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,r){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=i.coordinateSystem,s=SL(a,e,i.get("scaleLimit"));i.setCenter(s.center),i.setZoom(s.zoom)})})}function ALe(n){n.registerChartView(cLe),n.registerSeriesModel(_Le),n.registerLayout(SLe),n.registerVisual(TLe),CLe(n)}var eZ=["treemapZoomToNode","treemapRender","treemapMove"];function MLe(n){for(var e=0;e<eZ.length;e++)n.registerAction({type:eZ[e],update:"updateView"},Qi);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"treemap",query:t},i);function i(a,s){var o=["treemapZoomToNode","treemapRootToNode"],l=WC(t,o,a);if(l){var u=a.getViewRoot();u&&(t.direction=T9(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function Uce(n){var e=n.getData(),t=e.tree,r={};t.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=V6(n.ecModel,a.name||a.dataIndex+"",r);i.setVisual("decal",s)})}var ELe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,r){var i={name:t.name,children:t.data};Vce(i);var a=t.levels||[],s=this.designatedVisualItemStyle={},o=new Gn({itemStyle:s},this,r);a=t.levels=DLe(a,r);var l=ht(a||[],function(f){return new Gn(f,o,r)},this),u=w9.createTree(i,this,c);function c(f){f.wrapMethod("getItemModel",function(d,h){var p=u.getNodeByDataIndex(h),m=p?l[p.depth]:null;return d.parentModel=m||o,d})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return Ia("nameValue",{name:o,value:s})},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treeAncestors=TL(i,this),r.treePathInfo=r.treeAncestors,r},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},at(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var r=this._idIndexMap;r||(r=this._idIndexMap=jt(),this._idIndexMapCount=0);var i=r.get(t);return i==null&&r.set(t,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var r=this.getRawData().tree.root;(!t||t!==r&&!r.contains(t))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){Uce(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,coordinateSystemUsage:"box",left:qe.size.l,top:qe.size.xxxl,right:qe.size.l,bottom:qe.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:qe.size.m,emptyItemWidth:25,itemStyle:{color:qe.color.backgroundShade,textStyle:{color:qe.color.secondary}},emphasis:{itemStyle:{color:qe.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:qe.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:qe.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e})(Yr);function Vce(n){var e=0;ie(n.children,function(r){Vce(r);var i=r.value;ft(i)&&(i=i[0]),e+=i});var t=n.value;ft(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ft(n.value)?n.value[0]=t:n.value=t}function DLe(n,e){var t=ni(e.get("color")),r=ni(e.get(["aria","decal","decals"]));if(t){n=n||[];var i,a;ie(n,function(o){var l=new Gn(o),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var s=n[0]||(n[0]={});return i||(s.color=t.slice()),!a&&r&&(s.decal=r.slice()),n}}var RLe=8,tZ=8,X5=5,NLe=(function(){function n(e){this.group=new nn,e.add(this.group)}return n.prototype.render=function(e,t,r,i){var a=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!r)){var o=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=o.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f=qa(e,t).refContainer,d={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},h={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},p=wi(d,f);this._prepare(r,h,u),this._renderContent(e,h,p,o,l,u,c,i),fL(s,d,f)}},n.prototype._prepare=function(e,t,r){for(var i=e;i;i=i.parentNode){var a=ja(i.getModel().get("name"),""),s=r.getTextRect(a),o=Math.max(s.width+RLe*2,t.emptyItemWidth);t.totalWidth+=o+tZ,t.renderList.push({node:i,text:a,width:o})}},n.prototype._renderContent=function(e,t,r,i,a,s,o,l){for(var u=0,c=t.emptyItemWidth,f=e.get(["breadcrumb","height"]),d=t.totalWidth,h=t.renderList,p=a.getModel("itemStyle").getItemStyle(),m=h.length-1;m>=0;m--){var g=h[m],y=g.node,_=g.width,S=g.text;d>r.width&&(d-=_-c,_=c,S=null);var A=new ro({shape:{points:ILe(u,0,_,f,m===h.length-1,m===0)},style:sn(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new tr({style:ti(s,{text:S})}),textConfig:{position:"inside"},z2:$b*1e4,onclick:Sn(l,y)});A.disableLabelAnimation=!0,A.getTextContent().ensureState("emphasis").style=ti(o,{text:S}),A.ensureState("emphasis").style=p,Ei(A,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(A),kLe(A,e,y),u+=_+tZ}},n.prototype.remove=function(){this.group.removeAll()},n})();function ILe(n,e,t,r,i,a){var s=[[i?n:n-X5,e],[n+t,e],[n+t,e+r],[i?n:n-X5,e+r]];return!a&&s.splice(2,0,[n+t+X5,e+r/2]),!i&&s.push([n,e+r/2]),s}function kLe(n,e,t){fn(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&TL(t,e)}}var LLe=(function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,r,i,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:r,delay:i,easing:a}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,r=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var s=this._storage[i];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:r,aborted:r})}return this},n})();function PLe(){return new LLe}var C8=nn,nZ=Pn,rZ=3,iZ="label",aZ="upperLabel",OLe=$b*10,FLe=$b*2,BLe=$b*3,jg=Oy([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),sZ=function(n){var e=jg(n);return e.stroke=e.fill=e.lineWidth=null,e},eI=Un(),zLe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=Ew(),t}return e.prototype.render=function(t,r,i,a){var s=r.findComponents({mainType:"series",subType:"treemap",query:a});if(!(Cn(s,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=r;var o=["treemapZoomToNode","treemapRootToNode"],l=WC(a,o,t),u=a&&a.type,c=t.layoutInfo,f=!this._oldTree,d=this._storage,h=u==="treemapRootToNode"&&l&&d?{rootNodeGroup:d.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,p=this._giveContainerGroup(c),m=t.get("animation"),g=this._doRender(p,t,h);m&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(p,g,t,h):g.renderFinally(),this._resetController(i),this._renderBreadcrumb(t,i,l)}},e.prototype._giveContainerGroup=function(t){var r=this._containerGroup;return r||(r=this._containerGroup=new C8,this._initEvents(r),this.group.add(r)),r.x=t.x,r.y=t.y,r},e.prototype._doRender=function(t,r,i){var a=r.getData().tree,s=this._oldTree,o=Ew(),l=Ew(),u=this._storage,c=[];function f(_,S,A,M){return ULe(r,l,u,i,o,c,_,S,A,M)}m(a.root?[a.root]:[],s&&s.root?[s.root]:[],t,a===s||!s,0);var d=g(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var h=this.seriesModel.layoutInfo,p=a.root.getLayout();p.width===h.width&&p.height===h.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:d,renderFinally:y};function m(_,S,A,M,E){M?(S=_,ie(_,function(N,L){!N.isRemoved()&&I(L,L)})):new kp(S,_,D,D).add(I).update(I).remove(Sn(I,null)).execute();function D(N){return N.getId()}function I(N,L){var B=N!=null?_[N]:null,O=L!=null?S[L]:null,G=f(B,O,A,E);G&&m(B&&B.viewChildren||[],O&&O.viewChildren||[],G,M,E+1)}}function g(_){var S=Ew();return _&&ie(_,function(A,M){var E=S[M];ie(A,function(D){D&&(E.push(D),eI(D).willDelete=!0)})}),S}function y(){ie(d,function(_){ie(_,function(S){S.parent&&S.parent.remove(S)})}),ie(c,function(_){_.invisible=!0,_.dirty()})}},e.prototype._doAnimation=function(t,r,i,a){var s=i.get("animationDurationUpdate"),o=i.get("animationEasing"),l=(Xt(s)?0:s)||0,u=(Xt(o)?null:o)||"cubicOut",c=PLe();ie(r.willDeleteEls,function(f,d){ie(f,function(h,p){if(!h.invisible){var m=h.parent,g,y=eI(m);if(a&&a.direction==="drillDown")g=m===a.rootNodeGroup?{shape:{x:0,y:0,width:y.nodeWidth,height:y.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var _=0,S=0;y.willDelete||(_=y.nodeWidth/2,S=y.nodeHeight/2),g=d==="nodeGroup"?{x:_,y:S,style:{opacity:0}}:{shape:{x:_,y:S,width:0,height:0},style:{opacity:0}}}g&&c.add(h,g,l,0,u)}})}),ie(this._storage,function(f,d){ie(f,function(h,p){var m=r.lastsForAnimation[d][p],g={};m&&(h instanceof nn?m.oldX!=null&&(g.x=h.x,g.y=h.y,h.x=m.oldX,h.y=m.oldY):(m.oldShape&&(g.shape=at({},h.shape),h.setShape(m.oldShape)),m.fadein?(h.setStyle("opacity",0),g.style={opacity:1}):h.style.opacity!==1&&(g.style={opacity:1})),c.add(h,g,l,0,u))})},this),this._state="animating",c.finished(Ot(function(){this._state="ready",r.renderFinally()},this)).start()},e.prototype._resetController=function(t){var r=this,i=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var s=this.seriesModel;i||(i=this._controller=new ax(t.getZr()),i.on("pan",Ot(this._onPan,this)),i.on("zoom",Ot(this._onZoom,this))),i.enable(s.get("roam"),{api:t,zInfo:{component:s},triggerInfo:{roamTrigger:s.get("roamTrigger"),isInSelf:function(o,l,u){var c=r._containerGroup;return c?c.getBoundingRect().contain(l-c.x,u-c.y):!1}}}),a.zoomLimit=s.get("scaleLimit"),a.zoom=s.get("zoom")},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>rZ||Math.abs(t.dy)>rZ)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(t){var r=t.originX,i=t.originY,a=t.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new cn(o.x,o.y,o.width,o.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var d=u.min||0,h=u.max||1/0;f=Math.max(Math.min(h,f),d)}var p=f/c.zoom;c.zoom=f;var m=this.seriesModel.layoutInfo;r-=m.x,i-=m.y;var g=os();Rf(g,g,[-r,-i]),Zk(g,g,[p,p]),Rf(g,g,[r,i]),l.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var r=this;t.on("click",function(i){if(r._state==="ready"){var a=r.seriesModel.get("nodeClick",!0);if(a){var s=r.findTarget(i.offsetX,i.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)r._rootToNode(s);else if(a==="zoomToNode")r._zoomToNode(s);else if(a==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&RN(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(t,r,i){var a=this;i||(i=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new NLe(this.group))).render(t,r,i.node,function(s){a._state!=="animating"&&(T9(t.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Ew(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,r){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(t,r),u=o.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},e.type="treemap",e})(Fr);function Ew(){return{nodeGroup:[],background:[],content:[]}}function ULe(n,e,t,r,i,a,s,o,l,u){if(!s)return;var c=s.getLayout(),f=n.getData(),d=s.getModel();if(f.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var h=c.width,p=c.height,m=c.borderWidth,g=c.invisible,y=s.getRawIndex(),_=o&&o.getRawIndex(),S=s.viewChildren,A=c.upperHeight,M=S&&S.length,E=d.getModel("itemStyle"),D=d.getModel(["emphasis","itemStyle"]),I=d.getModel(["blur","itemStyle"]),N=d.getModel(["select","itemStyle"]),L=E.get("borderRadius")||0,B=ne("nodeGroup",C8);if(!B)return;if(l.add(B),B.x=c.x||0,B.y=c.y||0,B.markRedraw(),eI(B).nodeWidth=h,eI(B).nodeHeight=p,c.isAboveViewRoot)return B;var O=ne("background",nZ,u,FLe);O&&se(B,O,M&&c.upperLabelHeight);var G=d.getModel("emphasis"),V=G.get("focus"),q=G.get("blurScope"),W=G.get("disabled"),Z=V==="ancestor"?s.getAncestorsIndices():V==="descendant"?s.getDescendantIndices():V;if(M)RC(B)&&ly(B,!1),O&&(ly(O,!W),f.setItemGraphicEl(s.dataIndex,O),R6(O,Z,q));else{var X=ne("content",nZ,u,BLe);X&&J(B,X),O.disableMorphing=!0,O&&RC(O)&&ly(O,!1),ly(B,!W),f.setItemGraphicEl(s.dataIndex,B);var K=d.getShallow("cursor");K&&X.attr("cursor",K),R6(B,Z,q)}return B;function se(xe,we,Ae){var Ue=fn(we);if(Ue.dataIndex=s.dataIndex,Ue.seriesIndex=n.seriesIndex,we.setShape({x:0,y:0,width:h,height:p,r:L}),g)H(we);else{we.invisible=!1;var pe=s.getVisual("style"),pt=pe.stroke,te=sZ(E);te.fill=pt;var oe=jg(D);oe.fill=D.get("borderColor");var ge=jg(I);ge.fill=I.get("borderColor");var le=jg(N);if(le.fill=N.get("borderColor"),Ae){var fe=h-2*m;ee(we,pt,pe.opacity,{x:m,y:0,width:fe,height:A})}else we.removeTextContent();we.setStyle(te),we.ensureState("emphasis").style=oe,we.ensureState("blur").style=ge,we.ensureState("select").style=le,Fy(we)}xe.add(we)}function J(xe,we){var Ae=fn(we);Ae.dataIndex=s.dataIndex,Ae.seriesIndex=n.seriesIndex;var Ue=Math.max(h-2*m,0),pe=Math.max(p-2*m,0);if(we.culling=!0,we.setShape({x:m,y:m,width:Ue,height:pe,r:L}),g)H(we);else{we.invisible=!1;var pt=s.getVisual("style"),te=pt.fill,oe=sZ(E);oe.fill=te,oe.decal=pt.decal;var ge=jg(D),le=jg(I),fe=jg(N);ee(we,te,pt.opacity,null),we.setStyle(oe),we.ensureState("emphasis").style=ge,we.ensureState("blur").style=le,we.ensureState("select").style=fe,Fy(we)}xe.add(we)}function H(xe){!xe.invisible&&a.push(xe)}function ee(xe,we,Ae,Ue){var pe=d.getModel(Ue?aZ:iZ),pt=ja(d.get("name"),null),te=pe.getShallow("show");cs(xe,Ya(d,Ue?aZ:iZ),{defaultText:te?pt:null,inheritColor:we,defaultOpacity:Ae,labelFetcher:n,labelDataIndex:s.dataIndex});var oe=xe.getTextContent();if(oe){var ge=oe.style,le=zA(ge.padding||0);Ue&&(xe.setTextConfig({layoutRect:Ue}),oe.disableLabelLayout=!0),oe.beforeUpdate=function(){var be=Math.max((Ue?Ue.width:xe.shape.width)-le[1]-le[3],0),Oe=Math.max((Ue?Ue.height:xe.shape.height)-le[0]-le[2],0);(ge.width!==be||ge.height!==Oe)&&oe.setStyle({width:be,height:Oe})},ge.truncateMinChar=2,ge.lineOverflow="truncate",Q(ge,Ue,c);var fe=oe.getState("emphasis");Q(fe?fe.style:null,Ue,c)}}function Q(xe,we,Ae){var Ue=xe?xe.text:null;if(!we&&Ae.isLeafRoot&&Ue!=null){var pe=n.get("drillDownIcon",!0);xe.text=pe?pe+" "+Ue:Ue}}function ne(xe,we,Ae,Ue){var pe=_!=null&&t[xe][_],pt=i[xe];return pe?(t[xe][_]=null,ce(pt,pe)):g||(pe=new we,pe instanceof Cc&&(pe.z2=VLe(Ae,Ue)),ve(pt,pe)),e[xe][y]=pe}function ce(xe,we){var Ae=xe[y]={};we instanceof C8?(Ae.oldX=we.x,Ae.oldY=we.y):Ae.oldShape=at({},we.shape)}function ve(xe,we){var Ae=xe[y]={},Ue=s.parentNode,pe=we instanceof nn;if(Ue&&(!r||r.direction==="drillDown")){var pt=0,te=0,oe=i.background[Ue.getRawIndex()];!r&&oe&&oe.oldShape&&(pt=oe.oldShape.width,te=oe.oldShape.height),pe?(Ae.oldX=0,Ae.oldY=te):Ae.oldShape={x:pt,y:te,width:0,height:0}}Ae.fadein=!pe}}function VLe(n,e){return n*OLe+e}var YC=ie,GLe=on,tI=-1,ls=(function(){function n(e){var t=e.mappingMethod,r=e.type,i=this.option=tn(e);this.type=r,this.mappingMethod=t,this._normalizeData=WLe[t];var a=n.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],t==="piecewise"?(Z5(i),HLe(i)):t==="category"?i.categories?jLe(i):Z5(i,!0):(to(t!=="linear"||i.dataExtent),Z5(i))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return Ot(this._normalizeData,this)},n.listVisualTypes=function(){return $n(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,r){on(e)?ie(e,t,r):t.call(r,e)},n.mapVisual=function(e,t,r){var i,a=ft(e)?[]:on(e)?{}:(i=!0,null);return n.eachVisual(e,function(s,o){var l=t.call(r,s,o);i?a=l:a[o]=l}),a},n.retrieveVisuals=function(e){var t={},r;return e&&YC(n.visualHandlers,function(i,a){e.hasOwnProperty(a)&&(t[a]=e[a],r=!0)}),r?t:null},n.prepareVisualTypes=function(e){if(ft(e))e=e.slice();else if(GLe(e)){var t=[];YC(e,function(r,i){t.push(i)}),e=t}else return[];return e.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),e},n.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},n.findPieceIndex=function(e,t,r){for(var i,a=1/0,s=0,o=t.length;s<o;s++){var l=t[s].value;if(l!=null){if(l===e||Lt(l)&&l===e+"")return s;r&&d(l,s)}}for(var s=0,o=t.length;s<o;s++){var u=t[s],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if($3(f[1],e,c[1]))return s}else if(c[1]===1/0){if($3(f[0],c[0],e))return s}else if($3(f[0],c[0],e)&&$3(f[1],e,c[1]))return s;r&&d(c[0],s),r&&d(c[1],s)}}if(r)return e===1/0?t.length-1:e===-1/0?0:i;function d(h,p){var m=Math.abs(h-e);m<a&&(a=m,i=p)}},n.visualHandlers={color:{applyVisual:Dw("color"),getColorMapper:function(){var e=this.option;return Ot(e.mappingMethod==="category"?function(t,r){return!r&&(t=this._normalizeData(t)),mT.call(this,t)}:function(t,r,i){var a=!!i;return!r&&(t=this._normalizeData(t)),i=LT(t,e.parsedVisual,i),a?i:yc(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return yc(LT(e,this.option.parsedVisual),"rgba")},category:mT,piecewise:function(e,t){var r=M8.call(this,t);return r==null&&(r=yc(LT(e,this.option.parsedVisual),"rgba")),r},fixed:Wg}},colorHue:K3(function(e,t){return yp(e,t)}),colorSaturation:K3(function(e,t){return yp(e,null,t)}),colorLightness:K3(function(e,t){return yp(e,null,null,t)}),colorAlpha:K3(function(e,t){return CC(e,t)}),decal:{applyVisual:Dw("decal"),_normalizedToVisual:{linear:null,category:mT,piecewise:null,fixed:null}},opacity:{applyVisual:Dw("opacity"),_normalizedToVisual:A8([0,1])},liftZ:{applyVisual:Dw("liftZ"),_normalizedToVisual:{linear:Wg,category:Wg,piecewise:Wg,fixed:Wg}},symbol:{applyVisual:function(e,t,r){var i=this.mapValueToVisual(e);r("symbol",i)},_normalizedToVisual:{linear:oZ,category:mT,piecewise:function(e,t){var r=M8.call(this,t);return r==null&&(r=oZ.call(this,e)),r},fixed:Wg}},symbolSize:{applyVisual:Dw("symbolSize"),_normalizedToVisual:A8([0,1])}},n})();function HLe(n){var e=n.pieceList;n.hasSpecialVisual=!1,ie(e,function(t,r){t.originIndex=r,t.visual!=null&&(n.hasSpecialVisual=!0)})}function jLe(n){var e=n.categories,t=n.categoryMap={},r=n.visual;if(YC(e,function(s,o){t[s]=o}),!ft(r)){var i=[];on(r)?YC(r,function(s,o){var l=t[o];i[l??tI]=s}):i[tI]=r,r=Gce(n,i)}for(var a=e.length-1;a>=0;a--)r[a]==null&&(delete t[e[a]],e.pop())}function Z5(n,e){var t=n.visual,r=[];on(t)?YC(t,function(a){r.push(a)}):t!=null&&r.push(t);var i={color:1,symbol:1};!e&&r.length===1&&!i.hasOwnProperty(n.type)&&(r[1]=r[0]),Gce(n,r)}function K3(n){return{applyVisual:function(e,t,r){var i=this.mapValueToVisual(e);r("color",n(t("color"),i))},_normalizedToVisual:A8([0,1])}}function oZ(n){var e=this.option.visual;return e[Math.round(_r(n,[0,1],[0,e.length-1],!0))]||{}}function Dw(n){return function(e,t,r){r(n,this.mapValueToVisual(e))}}function mT(n){var e=this.option.visual;return e[this.option.loop&&n!==tI?n%e.length:n]}function Wg(){return this.option.visual[0]}function A8(n){return{linear:function(e){return _r(e,n,this.option.visual,!0)},category:mT,piecewise:function(e,t){var r=M8.call(this,t);return r==null&&(r=_r(e,n,this.option.visual,!0)),r},fixed:Wg}}function M8(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var r=ls.findPieceIndex(n,t),i=t[r];if(i&&i.visual)return i.visual[this.type]}}function Gce(n,e){return n.visual=e,n.type==="color"&&(n.parsedVisual=ht(e,function(t){var r=ko(t);return r||[0,0,0,1]})),e}var WLe={linear:function(n){return _r(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=ls.findPieceIndex(n,e,!0);if(t!=null)return _r(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return e??tI},fixed:Qi};function $3(n,e,t){return n?e<=t:e<t}var YLe="itemStyle",Hce=Un();const qLe={seriesType:"treemap",reset:function(n){var e=n.getData().tree,t=e.root;t.isRemoved()||jce(t,{},n.getViewRoot().getAncestors(),n)}};function jce(n,e,t,r){var i=n.getModel(),a=n.getLayout(),s=n.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=i.getModel(YLe),l=XLe(o,e,r),u=s.ensureUniqueItemVisual(n.dataIndex,"style"),c=o.get("borderColor"),f=o.get("borderColorSaturation"),d;f!=null&&(d=lZ(l),c=ZLe(f,d)),u.stroke=c;var h=n.viewChildren;if(!h||!h.length)d=lZ(l),u.fill=d;else{var p=KLe(n,i,a,o,l,h);ie(h,function(m,g){if(m.depth>=t.length||m===t[m.depth]){var y=$Le(i,l,m,g,p,r);jce(m,y,t,r)}})}}}function XLe(n,e,t){var r=at({},e),i=t.designatedVisualItemStyle;return ie(["color","colorAlpha","colorSaturation"],function(a){i[a]=e[a];var s=n.get(a);i[a]=null,s!=null&&(r[a]=s)}),r}function lZ(n){var e=K5(n,"color");if(e){var t=K5(n,"colorAlpha"),r=K5(n,"colorSaturation");return r&&(e=yp(e,null,null,r)),t&&(e=CC(e,t)),e}}function ZLe(n,e){return e!=null?yp(e,null,null,n):null}function K5(n,e){var t=n[e];if(t!=null&&t!=="none")return t}function KLe(n,e,t,r,i,a){if(!(!a||!a.length)){var s=$5(e,"color")||i.color!=null&&i.color!=="none"&&($5(e,"colorAlpha")||$5(e,"colorSaturation"));if(s){var o=e.get("visualMin"),l=e.get("visualMax"),u=t.dataExtent.slice();o!=null&&o<u[0]&&(u[0]=o),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),f={type:s.name,dataExtent:u,visual:s.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var d=new ls(f);return Hce(d).drColorMappingBy=c,d}}}function $5(n,e){var t=n.get(e);return ft(t)&&t.length?{name:e,range:t}:null}function $Le(n,e,t,r,i,a){var s=at({},e);if(i){var o=i.type,l=o==="color"&&Hce(i).drColorMappingBy,u=l==="index"?r:l==="id"?a.mapIdToIndex(t.getId()):t.getValue(n.get("visualDimension"));s[o]=i.mapValueToVisual(u)}return s}var qC=Math.max,nI=Math.min,uZ=Is,C9=ie,Wce=["itemStyle","borderWidth"],JLe=["itemStyle","gapWidth"],QLe=["upperLabel","show"],ePe=["upperLabel","height"];const tPe={seriesType:"treemap",reset:function(n,e,t,r){var i=n.option,a=qa(n,t).refContainer,s=wi(n.getBoxLayoutParams(),a),o=i.size||[],l=kt(uZ(s.width,o[0]),a.width),u=kt(uZ(s.height,o[1]),a.height),c=r&&r.type,f=["treemapZoomToNode","treemapRootToNode"],d=WC(r,f,n),h=c==="treemapRender"||c==="treemapMove"?r.rootRect:null,p=n.getViewRoot(),m=zce(p);if(c!=="treemapMove"){var g=c==="treemapZoomToNode"?oPe(n,d,p,l,u):h?[h.width,h.height]:[l,u],y=i.sort;y&&y!=="asc"&&y!=="desc"&&(y="desc");var _={squareRatio:i.squareRatio,sort:y,leafDepth:i.leafDepth};p.hostTree.clearLayouts();var S={x:0,y:0,width:g[0],height:g[1],area:g[0]*g[1]};p.setLayout(S),Yce(p,_,!1,0),S=p.getLayout(),C9(m,function(M,E){var D=(m[E+1]||p).getValue();M.setLayout(at({dataExtent:[D,D],borderWidth:0,upperHeight:0},S))})}var A=n.getData().tree.root;A.setLayout(lPe(s,h,d),!0),n.setLayoutInfo(s),qce(A,new cn(-s.x,-s.y,t.getWidth(),t.getHeight()),m,p,0)}};function Yce(n,e,t,r){var i,a;if(!n.isRemoved()){var s=n.getLayout();i=s.width,a=s.height;var o=n.getModel(),l=o.get(Wce),u=o.get(JLe)/2,c=Xce(o),f=Math.max(l,c),d=l-u,h=f-u;n.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),i=qC(i-2*d,0),a=qC(a-d-h,0);var p=i*a,m=nPe(n,o,p,e,t,r);if(m.length){var g={x:d,y:h,width:i,height:a},y=nI(i,a),_=1/0,S=[];S.area=0;for(var A=0,M=m.length;A<M;){var E=m[A];S.push(E),S.area+=E.getLayout().area;var D=sPe(S,y,e.squareRatio);D<=_?(A++,_=D):(S.area-=S.pop().getLayout().area,cZ(S,y,g,u,!1),y=nI(g.width,g.height),S.length=S.area=0,_=1/0)}if(S.length&&cZ(S,y,g,u,!0),!t){var I=o.get("childrenVisibleMin");I!=null&&p<I&&(t=!0)}for(var A=0,M=m.length;A<M;A++)Yce(m[A],e,t,r+1)}}}function nPe(n,e,t,r,i,a){var s=n.children||[],o=r.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=r.leafDepth!=null&&r.leafDepth<=a;if(i&&!l)return n.viewChildren=[];s=vr(s,function(h){return!h.isRemoved()}),iPe(s,o);var u=aPe(e,s,o);if(u.sum===0)return n.viewChildren=[];if(u.sum=rPe(e,t,u.sum,o,s),u.sum===0)return n.viewChildren=[];for(var c=0,f=s.length;c<f;c++){var d=s[c].getValue()/u.sum*t;s[c].setLayout({area:d})}return l&&(s.length&&n.setLayout({isLeafRoot:!0},!0),s.length=0),n.viewChildren=s,n.setLayout({dataExtent:u.dataExtent},!0),s}function rPe(n,e,t,r,i){if(!r)return t;for(var a=n.get("visibleMin"),s=i.length,o=s,l=s-1;l>=0;l--){var u=i[r==="asc"?s-l-1:l].getValue();u/t*e<a&&(o=l,t-=u)}return r==="asc"?i.splice(0,s-o):i.splice(o,s-o),t}function iPe(n,e){return e&&n.sort(function(t,r){var i=e==="asc"?t.getValue()-r.getValue():r.getValue()-t.getValue();return i===0?e==="asc"?t.dataIndex-r.dataIndex:r.dataIndex-t.dataIndex:i}),n}function aPe(n,e,t){for(var r=0,i=0,a=e.length;i<a;i++)r+=e[i].getValue();var s=n.get("visualDimension"),o;return!e||!e.length?o=[NaN,NaN]:s==="value"&&t?(o=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&o.reverse()):(o=[1/0,-1/0],C9(e,function(l){var u=l.getValue(s);u<o[0]&&(o[0]=u),u>o[1]&&(o[1]=u)})),{sum:r,dataExtent:o}}function sPe(n,e,t){for(var r=0,i=1/0,a=0,s=void 0,o=n.length;a<o;a++)s=n[a].getLayout().area,s&&(s<i&&(i=s),s>r&&(r=s));var l=n.area*n.area,u=e*e*t;return l?qC(u*r/l,l/(u*i)):1/0}function cZ(n,e,t,r,i){var a=e===t.width?0:1,s=1-a,o=["x","y"],l=["width","height"],u=t[o[a]],c=e?n.area/e:0;(i||c>t[l[s]])&&(c=t[l[s]]);for(var f=0,d=n.length;f<d;f++){var h=n[f],p={},m=c?h.getLayout().area/c:0,g=p[l[s]]=qC(c-2*r,0),y=t[o[a]]+t[l[a]]-u,_=f===d-1||y<m?y:m,S=p[l[a]]=qC(_-2*r,0);p[o[s]]=t[o[s]]+nI(r,g/2),p[o[a]]=u+nI(r,S/2),u+=_,h.setLayout(p,!0)}t[o[s]]+=c,t[l[s]]-=c}function oPe(n,e,t,r,i){var a=(e||{}).node,s=[r,i];if(!a||a===t)return s;for(var o,l=r*i,u=l*n.option.zoomToNodeRatio;o=a.parentNode;){for(var c=0,f=o.children,d=0,h=f.length;d<h;d++)c+=f[d].getValue();var p=a.getValue();if(p===0)return s;u*=c/p;var m=o.getModel(),g=m.get(Wce),y=Math.max(g,Xce(m));u+=4*g*g+(3*g+y)*Math.pow(u,.5),u>x6&&(u=x6),a=o}u<l&&(u=l);var _=Math.pow(u/l,.5);return[r*_,i*_]}function lPe(n,e,t){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!t)return r;var i=t.node,a=i.getLayout();if(!a)return r;for(var s=[a.width/2,a.height/2],o=i;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:n.width/2-s[0],y:n.height/2-s[1]}}function qce(n,e,t,r,i){var a=n.getLayout(),s=t[i],o=s&&s===n;if(!(s&&!o||i===t.length&&n!==r)){n.setLayout({isInView:!0,invisible:!o&&!e.intersect(a),isAboveViewRoot:o},!0);var l=new cn(e.x-a.x,e.y-a.y,e.width,e.height);C9(n.viewChildren||[],function(u){qce(u,l,t,r,i+1)})}}function Xce(n){return n.get(QLe)?n.get(ePe):0}function uPe(n){n.registerSeriesModel(ELe),n.registerChartView(zLe),n.registerVisual(qLe),n.registerLayout(tPe),MLe(n)}function cPe(n){var e=n.findComponents({mainType:"legend"});!e||!e.length||n.eachSeriesByType("graph",function(t){var r=t.getCategoriesData(),i=t.getGraph(),a=i.data,s=r.mapArray(r.getName);a.filterSelf(function(o){var l=a.getItemModel(o),u=l.getShallow("category");if(u!=null){nr(u)&&(u=s[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function fPe(n){var e={};n.eachSeriesByType("graph",function(t){var r=t.getCategoriesData(),i=t.getData(),a={};r.each(function(s){var o=r.getName(s);a["ec-"+o]=s;var l=r.getItemModel(s),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(o,e)),r.setItemVisual(s,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var d=l.getShallow(c[f],!0);d!=null&&r.setItemVisual(s,c[f],d)}}),r.count()&&i.each(function(s){var o=i.getItemModel(s),l=o.getShallow("category");if(l!=null){Lt(l)&&(l=a["ec-"+l]);var u=r.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(s,"style");at(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],d=0;d<f.length;d++)i.setItemVisual(s,f[d],r.getItemVisual(l,f[d]))}})})}function J3(n){return n instanceof Array||(n=[n,n]),n}function dPe(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),r=e.getEdgeData(),i=J3(e.get("edgeSymbol")),a=J3(e.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",a&&a[0]),r.setVisual("toSymbolSize",a&&a[1]),r.setVisual("style",e.getModel("lineStyle").getLineStyle()),r.each(function(s){var o=r.getItemModel(s),l=t.getEdgeByIndex(s),u=J3(o.getShallow("symbol",!0)),c=J3(o.getShallow("symbolSize",!0)),f=o.getModel("lineStyle").getLineStyle(),d=r.ensureUniqueItemVisual(s,"style");switch(at(d,f),d.stroke){case"source":{var h=l.node1.getVisual("style");d.stroke=h&&h.fill;break}case"target":{var h=l.node2.getVisual("style");d.stroke=h&&h.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var E8="-->",CL=function(n){return n.get("autoCurveness")||null},Zce=function(n,e){var t=CL(n),r=20,i=[];if(nr(t))r=t;else if(ft(t)){n.__curvenessList=t;return}e>r&&(r=e);var a=r%2?r+2:r+3;i=[];for(var s=0;s<a;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));n.__curvenessList=i},XC=function(n,e,t){var r=[n.id,n.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[t.uid,r,i].join(E8)},Kce=function(n){var e=n.split(E8);return[e[0],e[2],e[1]].join(E8)},hPe=function(n,e){var t=XC(n.node1,n.node2,e);return e.__edgeMap[t]},pPe=function(n,e){var t=D8(XC(n.node1,n.node2,e),e),r=D8(XC(n.node2,n.node1,e),e);return t+r},D8=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function vPe(n){CL(n)&&(n.__curvenessList=[],n.__edgeMap={},Zce(n))}function mPe(n,e,t,r){if(CL(t)){var i=XC(n,e,t),a=t.__edgeMap,s=a[Kce(i)];a[i]&&!s?a[i].isForward=!0:s&&a[i]&&(s.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(r)}}function A9(n,e,t,r){var i=CL(e),a=ft(i);if(!i)return null;var s=hPe(n,e);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===t){o=l;break}var u=pPe(n,e);Zce(e,u),n.lineStyle=n.lineStyle||{};var c=XC(n.node1,n.node2,e),f=e.__curvenessList,d=a||u%2?0:1;if(s.isForward)return f[d+o];var h=Kce(c),p=D8(h,e),m=f[o+p+d];return r?a?i&&i[0]===0?(p+d)%2?m:-m:((p%2?0:1)+d)%2?m:-m:(p+d)%2?m:-m:f[o+p+d]}function $ce(n){var e=n.coordinateSystem;if(!(e&&e.type!=="view")){var t=n.getGraph();t.eachNode(function(r){var i=r.getModel();r.setLayout([+i.get("x"),+i.get("y")])}),M9(t,n)}}function M9(n,e){n.eachEdge(function(t,r){var i=Yl(t.getModel().get(["lineStyle","curveness"]),-A9(t,e,r,!0),0),a=Gd(t.node1.getLayout()),s=Gd(t.node2.getLayout()),o=[a,s];+i&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*i,(a[1]+s[1])/2-(s[0]-a[0])*i]),t.setLayout(o)})}function gPe(n,e){n.eachSeriesByType("graph",function(t){var r=t.get("layout"),i=t.coordinateSystem;if(i&&i.type!=="view"){var a=t.getData(),s=[];ie(i.dimensions,function(d){s=s.concat(a.mapDimensionsAll(d))});for(var o=0;o<a.count();o++){for(var l=[],u=!1,c=0;c<s.length;c++){var f=a.get(s[c],o);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(o,i.dataToPoint(l)):a.setItemLayout(o,[NaN,NaN])}M9(a.graph,t)}else(!r||r==="none")&&$ce(t)})}function gT(n){var e=n.coordinateSystem;if(e.type!=="view")return 1;var t=n.option.nodeScaleRatio,r=e.scaleX,i=e.getZoom(),a=(i-1)*t+1;return a/r}function yT(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var fZ=Math.PI,J5=[];function E9(n,e,t,r){var i=n.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),s=n.getData(),o=s.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=s.count();if(s.setLayout({cx:l,cy:u}),!!f){if(t){var d=i.pointToData(r),h=d[0],p=d[1],m=[h-l,p-u];Jy(m,m),RT(m,m,c),t.setLayout([l+m[0],u+m[1]],!0);var g=n.get(["circular","rotateLabel"]);Jce(t,g,l,u)}yPe[e](n,o,s,c,l,u,f),o.eachEdge(function(y,_){var S=Yl(y.getModel().get(["lineStyle","curveness"]),A9(y,n,_),0),A=Gd(y.node1.getLayout()),M=Gd(y.node2.getLayout()),E,D=(A[0]+M[0])/2,I=(A[1]+M[1])/2;+S&&(S*=3,E=[l*S+D*(1-S),u*S+I*(1-S)]),y.setLayout([A,M,E])})}}}var yPe={value:function(n,e,t,r,i,a,s){var o=0,l=t.getSum("value"),u=Math.PI*2/(l||s);e.eachNode(function(c){var f=c.getValue("value"),d=u*(l?f:1)/2;o+=d,c.setLayout([r*Math.cos(o)+i,r*Math.sin(o)+a]),o+=d})},symbolSize:function(n,e,t,r,i,a,s){var o=0;J5.length=s;var l=gT(n);e.eachNode(function(f){var d=yT(f);isNaN(d)&&(d=2),d<0&&(d=0),d*=l;var h=Math.asin(d/2/r);isNaN(h)&&(h=fZ/2),J5[f.dataIndex]=h,o+=h*2});var u=(2*fZ-o)/s/2,c=0;e.eachNode(function(f){var d=u+J5[f.dataIndex];c+=d,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+a]),c+=d})}};function Jce(n,e,t,r){var i=n.getGraphicEl();if(i){var a=n.getModel(),s=a.get(["label","rotate"])||0,o=i.getSymbolPath();if(e){var l=n.getLayout(),u=Math.atan2(l[1]-r,l[0]-t);u<0&&(u=Math.PI*2+u);var c=l[0]<t;c&&(u=u-Math.PI);var f=c?"left":"right";o.setTextConfig({rotation:-u,position:f,origin:"center"});var d=o.ensureState("emphasis");at(d.textConfig||(d.textConfig={}),{position:f})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function xPe(n){n.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&E9(e,"symbolSize")})}var G1=cN;function _Pe(n,e,t){for(var r=n,i=e,a=t.rect,s=a.width,o=a.height,l=[a.x+s/2,a.y+o/2],u=t.gravity==null?.1:t.gravity,c=0;c<r.length;c++){var f=r[c];f.p||(f.p=$v(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),f.pp=Gd(f.p),f.edges=null}var d=t.friction==null?.6:t.friction,h=d,p,m;return{warmUp:function(){h=d*.8},setFixed:function(g){r[g].fixed=!0},setUnfixed:function(g){r[g].fixed=!1},beforeStep:function(g){p=g},afterStep:function(g){m=g},step:function(g){p&&p(r,i);for(var y=[],_=r.length,S=0;S<i.length;S++){var A=i[S];if(!A.ignoreForceLayout){var M=A.n1,E=A.n2;cv(y,E.p,M.p);var D=SC(y)-A.d,I=E.w/(M.w+E.w);isNaN(I)&&(I=0),Jy(y,y),!M.fixed&&G1(M.p,M.p,y,I*D*h),!E.fixed&&G1(E.p,E.p,y,-(1-I)*D*h)}}for(var S=0;S<_;S++){var N=r[S];N.fixed||(cv(y,l,N.p),G1(N.p,N.p,y,u*h))}for(var S=0;S<_;S++)for(var M=r[S],L=S+1;L<_;L++){var E=r[L];cv(y,E.p,M.p);var D=SC(y);D===0&&(Xk(y,Math.random()-.5,Math.random()-.5),D=1);var B=(M.rep+E.rep)/D/D;!M.fixed&&G1(M.pp,M.pp,y,B),!E.fixed&&G1(E.pp,E.pp,y,-B)}for(var O=[],S=0;S<_;S++){var N=r[S];N.fixed||(cv(O,N.p,N.pp),G1(N.p,N.p,O,h),So(N.pp,N.p))}h=h*.992;var G=h<.01;m&&m(r,i,G),g&&g(G)}}}function bPe(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var r=e.preservedPoints||{},i=e.getGraph(),a=i.data,s=i.edgeData,o=e.getModel("force"),l=o.get("initLayout");e.preservedPoints?a.each(function(S){var A=a.getId(S);a.setItemLayout(S,r[A]||[NaN,NaN])}):!l||l==="none"?$ce(e):l==="circular"&&E9(e,"value");var u=a.getDataExtent("value"),c=s.getDataExtent("value"),f=o.get("repulsion"),d=o.get("edgeLength"),h=ft(f)?f:[f,f],p=ft(d)?d:[d,d];p=[p[1],p[0]];var m=a.mapArray("value",function(S,A){var M=a.getItemLayout(A),E=_r(S,u,h);return isNaN(E)&&(E=(h[0]+h[1])/2),{w:E,rep:E,fixed:a.getItemModel(A).get("fixed"),p:!M||isNaN(M[0])||isNaN(M[1])?null:M}}),g=s.mapArray("value",function(S,A){var M=i.getEdgeByIndex(A),E=_r(S,c,p);isNaN(E)&&(E=(p[0]+p[1])/2);var D=M.getModel(),I=Yl(M.getModel().get(["lineStyle","curveness"]),-A9(M,e,A,!0),0);return{n1:m[M.node1.dataIndex],n2:m[M.node2.dataIndex],d:E,curveness:I,ignoreForceLayout:D.get("ignoreForceLayout")}}),y=t.getBoundingRect(),_=_Pe(m,g,{rect:y,gravity:o.get("gravity"),friction:o.get("friction")});_.beforeStep(function(S,A){for(var M=0,E=S.length;M<E;M++)S[M].fixed&&So(S[M].p,i.getNodeByIndex(M).getLayout())}),_.afterStep(function(S,A,M){for(var E=0,D=S.length;E<D;E++)S[E].fixed||i.getNodeByIndex(E).setLayout(S[E].p),r[a.getId(E)]=S[E].p;for(var E=0,D=A.length;E<D;E++){var I=A[E],N=i.getEdgeByIndex(E),L=I.n1.p,B=I.n2.p,O=N.getLayout();O=O?O.slice():[],O[0]=O[0]||[],O[1]=O[1]||[],So(O[0],L),So(O[1],B),+I.curveness&&(O[2]=[(L[0]+B[0])/2-(L[1]-B[1])*I.curveness,(L[1]+B[1])/2-(B[0]-L[0])*I.curveness]),N.setLayout(O)}}),e.forceLayout=_,e.preservedPoints=r,_.step()}else e.forceLayout=null})}function SPe(n,e,t){var r=qa(n,e),i=at(n.getBoxLayoutParams(),{aspect:t}),a=wi(i,r.refContainer);return Aoe(n,a,t)}function wPe(n,e){var t=[];return n.eachSeriesByType("graph",function(r){KA({targetModel:r,coordSysType:"view",coordSysProvider:i,isDefaultDataCoordSys:!0});function i(){var a=r.getData(),s=a.mapArray(function(p){var m=a.getItemModel(p);return[+m.get("x"),+m.get("y")]}),o=[],l=[];rL(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var u=(l[0]-o[0])/(l[1]-o[1]),c=SPe(r,e,u);isNaN(u)&&(o=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-o[0],d=l[1]-o[1],h=new sx(null,{api:e,ecModel:n});return h.zoomLimit=r.get("scaleLimit"),h.setBoundingRect(o[0],o[1],f,d),h.setViewRect(c.x,c.y,c.width,c.height),h.setCenter(r.get("center")),h.setZoom(r.get("zoom")),t.push(h),h}}),t}var dZ=ha.prototype,Q5=Qb.prototype,Qce=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n})();(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(Qce);function eO(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var efe=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-line",r}return e.prototype.getDefaultStyle=function(){return{stroke:qe.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new Qce},e.prototype.buildPath=function(t,r){eO(r)?dZ.buildPath.call(this,t,r):Q5.buildPath.call(this,t,r)},e.prototype.pointAt=function(t){return eO(this.shape)?dZ.pointAt.call(this,t):Q5.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var r=this.shape,i=eO(r)?[r.x2-r.x1,r.y2-r.y1]:Q5.tangentAt.call(this,t);return Jy(i,i)},e})(Hn),tO=["fromSymbol","toSymbol"];function hZ(n){return"_"+n+"Type"}function pZ(n,e,t){var r=e.getItemVisual(t,n);if(!r||r==="none")return r;var i=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),s=e.getItemVisual(t,n+"Offset"),o=e.getItemVisual(t,n+"KeepAspect"),l=lS(i),u=rx(s||0,l);return r+l+u+(a||"")+(o||"")}function vZ(n,e,t){var r=e.getItemVisual(t,n);if(!(!r||r==="none")){var i=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),s=e.getItemVisual(t,n+"Offset"),o=e.getItemVisual(t,n+"KeepAspect"),l=lS(i),u=rx(s||0,l),c=va(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,o);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=n,c}}function TPe(n){var e=new efe({name:"line",subPixelOptimize:!0});return R8(e.shape,n),e}function R8(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var D9=(function(n){Xe(e,n);function e(t,r,i){var a=n.call(this)||this;return a._createLine(t,r,i),a}return e.prototype._createLine=function(t,r,i){var a=t.hostModel,s=t.getItemLayout(r),o=t.getItemVisual(r,"z2"),l=TPe(s);l.shape.percent=0,vi(l,{z2:Wt(o,0),shape:{percent:1}},a,r),this.add(l),ie(tO,function(u){var c=vZ(u,t,r);this.add(c),this[hZ(u)]=pZ(u,t,r)},this),this._updateCommonStl(t,r,i)},e.prototype.updateData=function(t,r,i){var a=t.hostModel,s=this.childOfName("line"),o=t.getItemLayout(r),l={shape:{}};R8(l.shape,o),lr(s,l,a,r),ie(tO,function(u){var c=pZ(u,t,r),f=hZ(u);if(this[f]!==c){this.remove(this.childOfName(u));var d=vZ(u,t,r);this.add(d)}this[f]=c},this),this._updateCommonStl(t,r,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,r,i){var a=t.hostModel,s=this.childOfName("line"),o=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,d=i&&i.focus,h=i&&i.blurScope;if(!i||t.hasItemOption){var p=t.getItemModel(r),m=p.getModel("emphasis");o=m.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),f=m.get("disabled"),d=m.get("focus"),h=m.get("blurScope"),c=Ya(p)}var g=t.getItemVisual(r,"style"),y=g.stroke;s.useStyle(g),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=u,ie(tO,function(E){var D=this.childOfName(E);if(D){D.setColor(y),D.style.opacity=g.opacity;for(var I=0;I<bl.length;I++){var N=bl[I],L=s.getState(N);if(L){var B=L.style||{},O=D.ensureState(N),G=O.style||(O.style={});B.stroke!=null&&(G[D.__isEmptyBrush?"stroke":"fill"]=B.stroke),B.opacity!=null&&(G.opacity=B.opacity)}}D.markRedraw()}},this);var _=a.getRawValue(r);cs(this,c,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(E,D){return a.getFormattedLabel(E,D,t.dataType)}},inheritColor:y||qe.color.neutral99,defaultOpacity:g.opacity,defaultText:(_==null?t.getName(r):isFinite(_)?da(_):_)+""});var S=this.getTextContent();if(S){var A=c.normal;S.__align=S.style.align,S.__verticalAlign=S.style.verticalAlign,S.__position=A.get("position")||"middle";var M=A.get("distance");ft(M)||(M=[M,M]),S.__labelDistance=M}this.setTextConfig({position:null,local:!0,inside:!1}),Ei(this,d,h,f)},e.prototype.highlight=function(){Np(this)},e.prototype.downplay=function(){Ip(this)},e.prototype.updateLayout=function(t,r){this.setLinePoints(t.getItemLayout(r))},e.prototype.setLinePoints=function(t){var r=this.childOfName("line");R8(r.shape,t),r.dirty()},e.prototype.beforeUpdate=function(){var t=this,r=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),a=t.getTextContent();if(!r&&!i&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),d=cv([],f,c);Jy(d,d);function h(L,B){var O=L.__specifiedRotation;if(O==null){var G=l.tangentAt(B);L.attr("rotation",(B===1?-1:1)*Math.PI/2-Math.atan2(G[1],G[0]))}else L.attr("rotation",O)}if(r&&(r.setPosition(c),h(r,0),r.scaleX=r.scaleY=s*u,r.markRedraw()),i&&(i.setPosition(f),h(i,1),i.scaleX=i.scaleY=s*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var p=void 0,m=void 0,g=a.__labelDistance,y=g[0]*s,_=g[1]*s,S=u/2,A=l.tangentAt(S),M=[A[1],-A[0]],E=l.pointAt(S);M[1]>0&&(M[0]=-M[0],M[1]=-M[1]);var D=A[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var I=-Math.atan2(A[1],A[0]);f[0]<c[0]&&(I=Math.PI+I),a.rotation=I}var N=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":N=-_,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":N=_,m="top";break;default:N=0,m="middle"}switch(a.__position){case"end":a.x=d[0]*y+f[0],a.y=d[1]*_+f[1],p=d[0]>.8?"left":d[0]<-.8?"right":"center",m=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":a.x=-d[0]*y+c[0],a.y=-d[1]*_+c[1],p=d[0]>.8?"right":d[0]<-.8?"left":"center",m=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=y*D+c[0],a.y=c[1]+N,p=A[0]<0?"right":"left",a.originX=-y*D,a.originY=-N;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=E[0],a.y=E[1]+N,p="center",a.originY=-N;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-y*D+f[0],a.y=f[1]+N,p=A[0]>=0?"right":"left",a.originX=y*D,a.originY=-N;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||m,align:a.__align||p})}},e})(nn),R9=(function(){function n(e){this.group=new nn,this._LineCtor=e||D9}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var r=this,i=r.group,a=r._lineData;r._lineData=e,a||i.removeAll();var s=mZ(e);e.diff(a).add(function(o){t._doAdd(e,o,s)}).update(function(o,l){t._doUpdate(a,e,l,o,s)}).remove(function(o){i.remove(a.getItemGraphicEl(o))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,r){t.updateLayout(e,r)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=mZ(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function r(o){!o.isGroup&&!CPe(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var a=t.getItemLayout(i);if(nO(a)){var s=new this._LineCtor(t,i,this._seriesScope);s.traverse(r),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){Jv(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,r){var i=e.getItemLayout(t);if(nO(i)){var a=new this._LineCtor(e,t,r);e.setItemGraphicEl(t,a),this.group.add(a)}},n.prototype._doUpdate=function(e,t,r,i,a){var s=e.getItemGraphicEl(r);if(!nO(t.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(t,i,a):s=new this._LineCtor(t,i,a),t.setItemGraphicEl(i,s),this.group.add(s)},n})();function CPe(n){return n.animators&&n.animators.length>0}function mZ(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Ya(e)}}function gZ(n){return isNaN(n[0])||isNaN(n[1])}function nO(n){return n&&!gZ(n[0])&&!gZ(n[1])}var rO=[],iO=[],aO=[],H1=Rs,sO=Tv,yZ=Math.abs;function xZ(n,e,t){for(var r=n[0],i=n[1],a=n[2],s=1/0,o,l=t*t,u=.1,c=.1;c<=.9;c+=.1){rO[0]=H1(r[0],i[0],a[0],c),rO[1]=H1(r[1],i[1],a[1],c);var f=yZ(sO(rO,e)-l);f<s&&(s=f,o=c)}for(var d=0;d<32;d++){var h=o+u;iO[0]=H1(r[0],i[0],a[0],o),iO[1]=H1(r[1],i[1],a[1],o),aO[0]=H1(r[0],i[0],a[0],h),aO[1]=H1(r[1],i[1],a[1],h);var f=sO(iO,e)-l;if(yZ(f)<.01)break;var p=sO(aO,e)-l;u/=2,f<0?p>=0?o=o+u:o=o-u:p>=0?o=o-u:o=o+u}return o}function oO(n,e){var t=[],r=wC,i=[[],[],[]],a=[[],[]],s=[];e/=2,n.eachEdge(function(o,l){var u=o.getLayout(),c=o.getVisual("fromSymbol"),f=o.getVisual("toSymbol");u.__original||(u.__original=[Gd(u[0]),Gd(u[1])],u[2]&&u.__original.push(Gd(u[2])));var d=u.__original;if(u[2]!=null){if(So(i[0],d[0]),So(i[1],d[2]),So(i[2],d[1]),c&&c!=="none"){var h=yT(o.node1),p=xZ(i,d[0],h*e);r(i[0][0],i[1][0],i[2][0],p,t),i[0][0]=t[3],i[1][0]=t[4],r(i[0][1],i[1][1],i[2][1],p,t),i[0][1]=t[3],i[1][1]=t[4]}if(f&&f!=="none"){var h=yT(o.node2),p=xZ(i,d[1],h*e);r(i[0][0],i[1][0],i[2][0],p,t),i[1][0]=t[1],i[2][0]=t[2],r(i[0][1],i[1][1],i[2][1],p,t),i[1][1]=t[1],i[2][1]=t[2]}So(u[0],i[0]),So(u[1],i[2]),So(u[2],i[1])}else{if(So(a[0],d[0]),So(a[1],d[1]),cv(s,a[1],a[0]),Jy(s,s),c&&c!=="none"){var h=yT(o.node1);cN(a[0],a[0],s,h*e)}if(f&&f!=="none"){var h=yT(o.node2);cN(a[1],a[1],s,-h*e)}So(u[0],a[0]),So(u[1],a[1])}})}var tfe=Un();function APe(n){if(n)return tfe(n).bridge}function _Z(n,e){n&&(tfe(n).bridge=e)}function bZ(n){return n.type==="view"}var MPe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){var i=new eM,a=new R9,s=this.group,o=new nn;this._controller=new ax(r.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(a.group),s.add(o),this._symbolDraw=i,this._lineDraw=a,this._mainGroup=o,this._firstRender=!0},e.prototype.render=function(t,r,i){var a=this,s=t.coordinateSystem,o=!1;this._model=t,this._api=i,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(i);var u=this._symbolDraw,c=this._lineDraw;if(bZ(s)){var f={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?this._mainGroup.attr(f):lr(this._mainGroup,f,t)}oO(t.getGraph(),gT(t));var d=t.getData();u.updateData(d);var h=t.getEdgeData();c.updateData(h),this._updateNodeAndLinkScale(),this._updateController(null,t,i),clearTimeout(this._layoutTimeout);var p=t.forceLayout,m=t.get(["force","layoutAnimation"]);p&&(o=!0,this._startForceLayoutIteration(p,i,m));var g=t.get("layout");d.graph.eachNode(function(A){var M=A.dataIndex,E=A.getGraphicEl(),D=A.getModel();if(E){E.off("drag").off("dragend");var I=D.get("draggable");I&&E.on("drag",function(L){switch(g){case"force":p.warmUp(),!a._layouting&&a._startForceLayoutIteration(p,i,m),p.setFixed(M),d.setItemLayout(M,[E.x,E.y]);break;case"circular":d.setItemLayout(M,[E.x,E.y]),A.setLayout({fixed:!0},!0),E9(t,"symbolSize",A,[L.offsetX,L.offsetY]),a.updateLayout(t);break;case"none":default:d.setItemLayout(M,[E.x,E.y]),M9(t.getGraph(),t),a.updateLayout(t);break}}).on("dragend",function(){p&&p.setUnfixed(M)}),E.setDraggable(I,!!D.get("cursor"));var N=D.get(["emphasis","focus"]);N==="adjacency"&&(fn(E).focus=A.getAdjacentDataIndices())}}),d.graph.eachEdge(function(A){var M=A.getGraphicEl(),E=A.getModel().get(["emphasis","focus"]);M&&E==="adjacency"&&(fn(M).focus={edge:[A.dataIndex],node:[A.node1.dataIndex,A.node2.dataIndex]})});var y=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),_=d.getLayout("cx"),S=d.getLayout("cy");d.graph.eachNode(function(A){Jce(A,y,_,S)}),this._firstRender=!1,o||this._renderThumbnail(t,i,this._symbolDraw,this._lineDraw)},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,r,i){var a=this,s=!1;(function o(){t.step(function(l){a.updateLayout(a._model),(l||!s)&&(s=!0,a._renderThumbnail(a._model,r,a._symbolDraw,a._lineDraw)),(a._layouting=!l)&&(i?a._layoutTimeout=setTimeout(o,16):o())})})()},e.prototype._updateController=function(t,r,i){var a=this._controller,s=this._controllerHost,o=r.coordinateSystem;if(!bZ(o)){a.disable();return}a.enable(r.get("roam"),{api:i,zInfo:{component:r},triggerInfo:{roamTrigger:r.get("roamTrigger"),isInSelf:function(l,u,c){return o.containPoint([u,c])},isInClip:function(l,u,c){return!t||t.contain(u,c)}}}),s.zoomLimit=r.get("scaleLimit"),s.zoom=o.getZoom(),a.off("pan").off("zoom").on("pan",function(l){i.dispatchAction({seriesId:r.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){i.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},e.prototype.updateViewOnPan=function(t,r,i){this._active&&(y9(this._controllerHost,i.dx,i.dy),this._updateThumbnailWindow())},e.prototype.updateViewOnZoom=function(t,r,i){this._active&&(x9(this._controllerHost,i.zoom,i.originX,i.originY),this._updateNodeAndLinkScale(),oO(t.getGraph(),gT(t)),this._lineDraw.updateLayout(),r.updateLabelLayout(),this._updateThumbnailWindow())},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,r=t.getData(),i=gT(t);r.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(i)})},e.prototype.updateLayout=function(t){this._active&&(oO(t.getGraph(),gT(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},e.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},e.prototype._getThumbnailInfo=function(){var t=this._model,r=t.coordinateSystem;if(r.type==="view"){var i=APe(t);if(i)return{bridge:i,coordSys:r}}},e.prototype._updateThumbnailWindow=function(){var t=this._getThumbnailInfo();t&&t.bridge.updateWindow(t.coordSys.transform,this._api)},e.prototype._renderThumbnail=function(t,r,i,a){var s=this._getThumbnailInfo();if(s){var o=new nn,l=i.group.children(),u=a.group.children(),c=new nn,f=new nn;o.add(f),o.add(c);for(var d=0;d<l.length;d++){var h=l[d],p=h.children()[0],m=h.x,g=h.y,y=tn(p.shape),_=at(y,{width:p.scaleX,height:p.scaleY,x:m-p.scaleX/2,y:g-p.scaleY/2}),S=tn(p.style),A=new p.constructor({shape:_,style:S,z2:151});f.add(A)}for(var d=0;d<u.length;d++){var h=u[d],M=h.children()[0],S=tn(M.style),_=tn(M.shape),E=new efe({style:S,shape:_,z2:151});c.add(E)}s.bridge.renderContent({api:r,roamType:t.get("roam"),viewportRect:null,group:o,targetTrans:s.coordSys.transform})}},e.type="graph",e})(Fr);function j1(n){return"_EC_"+n}var EPe=(function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var r=this._nodesMap;if(!r[j1(e)]){var i=new Yg(e,t);return i.hostGraph=this,this.nodes.push(i),r[j1(e)]=i,i}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[j1(e)]},n.prototype.addEdge=function(e,t,r){var i=this._nodesMap,a=this._edgesMap;if(nr(e)&&(e=this.nodes[e]),nr(t)&&(t=this.nodes[t]),e instanceof Yg||(e=i[j1(e)]),t instanceof Yg||(t=i[j1(t)]),!(!e||!t)){var s=e.id+"-"+t.id,o=new nfe(e,t,r);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),a[s]=o,o}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof Yg&&(e=e.id),t instanceof Yg&&(t=t.id);var r=this._edgesMap;return this._directed?r[e+"-"+t]:r[e+"-"+t]||r[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var r=this.nodes,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&e.call(t,r[a],a)},n.prototype.eachEdge=function(e,t){for(var r=this.edges,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0&&e.call(t,r[a],a)},n.prototype.breadthFirstTraverse=function(e,t,r,i){if(t instanceof Yg||(t=this._nodesMap[j1(t)]),!!t){for(var a=r==="out"?"outEdges":r==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(i,t,null))for(var o=[t];o.length;)for(var l=o.shift(),u=l[a],s=0;s<u.length;s++){var c=u[s],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(e.call(i,f,l))return;o.push(f),f.__visited=!0}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,r=this.nodes,i=this.edges,a=0,s=r.length;a<s;a++)r[a].dataIndex=-1;for(var a=0,s=e.count();a<s;a++)r[e.getRawIndex(a)].dataIndex=a;t.filterSelf(function(o){var l=i[t.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=t.count();a<s;a++)i[t.getRawIndex(a)].dataIndex=a},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,r=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(var i=0;i<r.length;i++){var a=r[i];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},n})(),Yg=(function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,r=t.data.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var r=this.edges[t];r.dataIndex<0||(e.edge.push(r.dataIndex),e.node.push(r.node1.dataIndex,r.node2.dataIndex))}return e},n.prototype.getTrajectoryDataIndices=function(){for(var e=jt(),t=jt(),r=0,i=this.edges.length;r<i;r++){var a=this.edges[r];if(!(a.dataIndex<0)){e.set(a.dataIndex,!0);for(var s=[a.node1],o=[a.node2],l=0;l<s.length;){var u=s[l];l++,t.set(u.dataIndex,!0);for(var c=u.inEdges,f=0,d=c.length,h=void 0,p=void 0;f<d;f++)h=c[f],p=h.dataIndex,p>=0&&!e.hasKey(p)&&(e.set(p,!0),s.push(h.node1))}for(l=0;l<o.length;){var m=o[l];l++,t.set(m.dataIndex,!0);for(var g=m.outEdges,f=0,y=g.length,_=void 0,S=void 0;f<y;f++)_=g[f],S=_.dataIndex,S>=0&&!e.hasKey(S)&&(e.set(S,!0),o.push(_.node2))}}}return{edge:e.keys(),node:t.keys()}},n})(),nfe=(function(){function n(e,t,r){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=r??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,r=t.edgeData.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var e=jt(),t=jt();e.set(this.dataIndex,!0);for(var r=[this.node1],i=[this.node2],a=0;a<r.length;){var s=r[a];a++,t.set(s.dataIndex,!0);for(var o=s.inEdges,l=0,u=o.length,c=void 0,f=void 0;l<u;l++)c=s.inEdges[l],f=c.dataIndex,f>=0&&!e.hasKey(f)&&(e.set(f,!0),r.push(c.node1))}for(a=0;a<i.length;){var d=i[a];a++,t.set(d.dataIndex,!0);for(var h=d.outEdges,l=0,u=h.length,p=void 0,m=void 0;l<u;l++)p=d.outEdges[l],m=p.dataIndex,m>=0&&!e.hasKey(m)&&(e.set(m,!0),i.push(p.node2))}return{edge:e.keys(),node:t.keys()}},n})();function rfe(n,e){return{getValue:function(t){var r=this[n][e];return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,r){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,r)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,r){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,r)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}ta(Yg,rfe("hostGraph","data"));ta(nfe,rfe("hostGraph","edgeData"));function N9(n,e,t,r,i){for(var a=new EPe(r),s=0;s<n.length;s++)a.addNode(Is(n[s].id,n[s].name,s),s);for(var o=[],l=[],u=0,s=0;s<e.length;s++){var c=e[s],f=c.source,d=c.target;a.addEdge(f,d,u)&&(l.push(c),o.push(Is(ja(c.id,null),f+" > "+d)),u++)}var h=t.get("coordinateSystem"),p;if(h==="cartesian2d"||h==="polar"||h==="matrix")p=sh(n,t);else{var m=aS.get(h),g=m?m.dimensions||[]:[];Cn(g,"value")<0&&g.concat(["value"]);var y=uS(n,{coordDimensions:g,encodeDefine:t.getEncode()}).dimensions;p=new Lo(y,t),p.initData(n)}var _=new Lo(["value"],t);return _.initData(l,o),i&&i(p,_),Fce({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var DPe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new pS(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Ly(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,r){var i=t.edges||t.links||[],a=t.data||t.nodes||[],s=this;if(a&&i){vPe(this);var o=N9(a,i,this,!0,l);return ie(o.edges,function(u){mPe(u.node1,u.node2,this,u.dataIndex)},this),o.data}function l(u,c){u.wrapMethod("getItemModel",function(p){var m=s._categoriesModels,g=p.getShallow("category"),y=m[g];return y&&(y.parentModel=p.parentModel,p.parentModel=y),p});var f=Gn.prototype.getModel;function d(p,m){var g=f.call(this,p,m);return g.resolveParentPath=h,g}c.wrapMethod("getItemModel",function(p){return p.resolveParentPath=h,p.getModel=d,p});function h(p){if(p&&(p[0]==="label"||p[1]==="label")){var m=p.slice();return p[0]==="label"?m[0]="edgeLabel":p[1]==="label"&&(m[1]="edgeLabel"),m}return p}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,r,i){if(i==="edge"){var a=this.getData(),s=this.getDataParams(t,i),o=a.graph.getEdgeByIndex(t),l=a.getName(o.node1.dataIndex),u=a.getName(o.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Ia("nameValue",{name:c.join(" > "),value:s.value,noValue:s.value==null})}var f=sle({series:this,dataIndex:t,multipleSeries:r});return f},e.prototype._updateCategoriesData=function(){var t=ht(this.option.categories||[],function(i){return i.value!=null?i:at({value:0},i)}),r=new Lo(["value"],this);r.initData(t),this._categoriesData=r,this._categoriesModels=r.mapArray(function(i){return r.getItemModel(i)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:qe.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:qe.color.primary}}},e})(Yr);function RPe(n){n.registerChartView(MPe),n.registerSeriesModel(DPe),n.registerProcessor(cPe),n.registerVisual(fPe),n.registerVisual(dPe),n.registerLayout(gPe),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,xPe),n.registerLayout(bPe),n.registerCoordinateSystem("graphView",{dimensions:sx.dimensions,create:wPe}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Qi),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Qi),n.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t,r){t.eachComponent({mainType:"series",query:e},function(i){var a=r.getViewOfSeriesModel(i);a&&(e.dx!=null&&e.dy!=null&&a.updateViewOnPan(i,r,e),e.zoom!=null&&e.originX!=null&&e.originY!=null&&a.updateViewOnZoom(i,r,e));var s=i.coordinateSystem,o=SL(s,e,i.get("scaleLimit"));i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}var SZ=(function(n){Xe(e,n);function e(t,r,i){var a=n.call(this)||this;fn(a).dataType="node",a.z2=2;var s=new tr;return a.setTextContent(s),a.updateData(t,r,i,!0),a}return e.prototype.updateData=function(t,r,i,a){var s=this,o=t.graph.getNodeByIndex(r),l=t.hostModel,u=o.getModel(),c=u.getModel("emphasis"),f=t.getItemLayout(r),d=at(zd(u.getModel("itemStyle"),f,!0),f),h=this;if(isNaN(d.startAngle)){h.setShape(d);return}a?h.setShape(d):lr(h,{shape:d},l,r);var p=at(zd(u.getModel("itemStyle"),f,!0),f);s.setShape(p),s.useStyle(t.getItemVisual(r,"style")),Wa(s,u),this._updateLabel(l,u,o),t.setItemGraphicEl(r,h),Wa(h,u,"itemStyle");var m=c.get("focus");Ei(this,m==="adjacency"?o.getAdjacentDataIndices():m,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,r,i){var a=this.getTextContent(),s=i.getLayout(),o=(s.startAngle+s.endAngle)/2,l=Math.cos(o),u=Math.sin(o),c=r.getModel("label");a.ignore=!c.get("show");var f=Ya(r),d=i.getVisual("style");cs(a,f,{labelFetcher:{getFormattedLabel:function(_,S,A,M,E,D){return t.getFormattedLabel(_,S,"node",M,Yl(E,f.normal&&f.normal.get("formatter"),r.get("name")),D)}},labelDataIndex:i.dataIndex,defaultText:i.dataIndex+"",inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:"startArc"});var h=c.get("position")||"outside",p=c.get("distance")||0,m;h==="outside"?m=s.r+p:m=(s.r+s.r0)/2,this.textConfig={inside:h!=="outside"};var g=h!=="outside"?c.get("align")||"center":l>0?"left":"right",y=h!=="outside"?c.get("verticalAlign")||"middle":u>0?"top":"bottom";a.attr({x:l*m+s.cx,y:u*m+s.cy,rotation:0,style:{align:g,verticalAlign:y}})},e})(no),NPe=(function(n){Xe(e,n);function e(t,r,i,a){var s=n.call(this)||this;return fn(s).dataType="edge",s.updateData(t,r,i,a,!0),s}return e.prototype.buildPath=function(t,r){t.moveTo(r.s1[0],r.s1[1]);var i=.7,a=r.clockwise;t.arc(r.cx,r.cy,r.r,r.sStartAngle,r.sEndAngle,!a),t.bezierCurveTo((r.cx-r.s2[0])*i+r.s2[0],(r.cy-r.s2[1])*i+r.s2[1],(r.cx-r.t1[0])*i+r.t1[0],(r.cy-r.t1[1])*i+r.t1[1],r.t1[0],r.t1[1]),t.arc(r.cx,r.cy,r.r,r.tStartAngle,r.tEndAngle,!a),t.bezierCurveTo((r.cx-r.t2[0])*i+r.t2[0],(r.cy-r.t2[1])*i+r.t2[1],(r.cx-r.s1[0])*i+r.s1[0],(r.cy-r.s1[1])*i+r.s1[1],r.s1[0],r.s1[1]),t.closePath()},e.prototype.updateData=function(t,r,i,a,s){var o=t.hostModel,l=r.graph.getEdgeByIndex(i),u=l.getLayout(),c=l.node1.getModel(),f=r.getItemModel(l.dataIndex),d=f.getModel("lineStyle"),h=f.getModel("emphasis"),p=h.get("focus"),m=at(zd(c.getModel("itemStyle"),u,!0),u),g=this;if(isNaN(m.sStartAngle)||isNaN(m.tStartAngle)){g.setShape(m);return}s?(g.setShape(m),wZ(g,l,t,d)):(Ac(g),wZ(g,l,t,d),lr(g,{shape:m},o,i)),Ei(this,p==="adjacency"?l.getAdjacentDataIndices():p,h.get("blurScope"),h.get("disabled")),Wa(g,f,"lineStyle"),r.setItemGraphicEl(l.dataIndex,g)},e})(Hn);function wZ(n,e,t,r){var i=e.node1,a=e.node2,s=n.style;n.setStyle(r.getLineStyle());var o=r.get("color");switch(o){case"source":s.fill=t.getItemVisual(i.dataIndex,"style").fill,s.decal=i.getVisual("style").decal;break;case"target":s.fill=t.getItemVisual(a.dataIndex,"style").fill,s.decal=a.getVisual("style").decal;break;case"gradient":var l=t.getItemVisual(i.dataIndex,"style").fill,u=t.getItemVisual(a.dataIndex,"style").fill;if(Lt(l)&&Lt(u)){var c=n.shape,f=(c.s1[0]+c.s2[0])/2,d=(c.s1[1]+c.s2[1])/2,h=(c.t1[0]+c.t2[0])/2,p=(c.t1[1]+c.t2[1])/2;s.fill=new Qy(f,d,h,p,[{offset:0,color:l},{offset:1,color:u}],!0)}break}}var IPe=Math.PI/180,kPe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,i){var a=t.getData(),s=this._data,o=this.group,l=-t.get("startAngle")*IPe;if(a.diff(s).add(function(c){var f=a.getItemLayout(c);if(f){var d=new SZ(a,c,l);fn(d).dataIndex=c,o.add(d)}}).update(function(c,f){var d=s.getItemGraphicEl(f),h=a.getItemLayout(c);if(!h){d&&xp(d,t,f);return}d?d.updateData(a,c,l):d=new SZ(a,c,l),o.add(d)}).remove(function(c){var f=s.getItemGraphicEl(c);f&&xp(f,t,c)}).execute(),!s){var u=t.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=kt(u[0],i.getWidth()),this.group.originY=kt(u[1],i.getHeight()),vi(this.group,{scaleX:1,scaleY:1},t)}this._data=a,this.renderEdges(t,l)},e.prototype.renderEdges=function(t,r){var i=t.getData(),a=t.getEdgeData(),s=this._edgeData,o=this.group;a.diff(s).add(function(l){var u=new NPe(i,a,l,r);fn(u).dataIndex=l,o.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(i,a,l,r),o.add(c)}).remove(function(l){var u=s.getItemGraphicEl(l);u&&xp(u,t,l)}).execute(),this._edgeData=a},e.prototype.dispose=function(){},e.type="chord",e})(Fr),LPe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this.legendVisualProvider=new pS(Ot(this.getData,this),Ot(this.getRawData,this))},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links)},e.prototype.getInitialData=function(t,r){var i=t.edges||t.links||[],a=t.data||t.nodes||[];if(a&&i){var s=N9(a,i,this,!0,o);return s.data}function o(l,u){var c=Gn.prototype.getModel;function f(h,p){var m=c.call(this,h,p);return m.resolveParentPath=d,m}u.wrapMethod("getItemModel",function(h){return h.resolveParentPath=d,h.getModel=f,h});function d(h){if(h&&(h[0]==="label"||h[1]==="label")){var p=h.slice();return h[0]==="label"?p[0]="edgeLabel":h[1]==="label"&&(p[1]="edgeLabel"),p}return h}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,r,i){var a=this.getDataParams(t,i);if(i==="edge"){var s=this.getData(),o=s.graph.getEdgeByIndex(t),l=s.getName(o.node1.dataIndex),u=s.getName(o.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Ia("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}return Ia("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},e.prototype.getDataParams=function(t,r){var i=n.prototype.getDataParams.call(this,t,r);if(r==="node"){var a=this.getData(),s=this.getGraph().getNodeByIndex(t);if(i.name==null&&(i.name=a.getName(t)),i.value==null){var o=s.getLayout().value;i.value=o}}return i},e.type="series.chord",e.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},e})(Yr),lO=Math.PI/180;function PPe(n,e){n.eachSeriesByType("chord",function(t){OPe(t,e)})}function OPe(n,e){var t=n.getData(),r=t.graph,i=n.getEdgeData(),a=i.count();if(a){var s=Coe(n,e),o=s.cx,l=s.cy,u=s.r,c=s.r0,f=Math.max((n.get("padAngle")||0)*lO,0),d=Math.max((n.get("minAngle")||0)*lO,0),h=-n.get("startAngle")*lO,p=h+Math.PI*2,m=n.get("clockwise"),g=m?1:-1,y=[h,p];iL(y,!m);var _=y[0],S=y[1],A=S-_,M=t.getSum("value")===0&&i.getSum("value")===0,E=[],D=0;r.eachEdge(function(X){var K=M?1:X.getValue("value");M&&(K>0||d)&&(D+=2);var se=X.node1.dataIndex,J=X.node2.dataIndex;E[se]=(E[se]||0)+K,E[J]=(E[J]||0)+K});var I=0;if(r.eachNode(function(X){var K=X.getValue("value");isNaN(K)||(E[X.dataIndex]=Math.max(K,E[X.dataIndex]||0)),!M&&(E[X.dataIndex]>0||d)&&D++,I+=E[X.dataIndex]||0}),!(D===0||I===0)){f*D>=Math.abs(A)&&(f=Math.max(0,(Math.abs(A)-d*D)/D)),(f+d)*D>=Math.abs(A)&&(d=(Math.abs(A)-f*D)/D);var N=(A-f*D*g)/I,L=0,B=0,O=0;r.eachNode(function(X){var K=E[X.dataIndex]||0,se=N*(I?K:1)*g;Math.abs(se)<d?L+=d-Math.abs(se):(B+=Math.abs(se)-d,O+=Math.abs(se)),X.setLayout({angle:se,value:K})});var G=!1;if(L>B){var V=L/B;r.eachNode(function(X){var K=X.getLayout().angle;Math.abs(K)>=d?X.setLayout({angle:K*V,ratio:V},!0):X.setLayout({angle:d,ratio:d===0?1:K/d},!0)})}else r.eachNode(function(X){if(!G){var K=X.getLayout().angle,se=Math.min(K/O,1),J=se*L;K-J<d&&(G=!0)}});var q=L;r.eachNode(function(X){if(!(q<=0)){var K=X.getLayout().angle;if(K>d&&d>0){var se=G?1:Math.min(K/O,1),J=K-d,H=Math.min(J,Math.min(q,L*se));q-=H,X.setLayout({angle:K-H,ratio:(K-H)/K},!0)}else d>0&&X.setLayout({angle:d,ratio:K===0?1:d/K},!0)}});var W=_,Z=[];r.eachNode(function(X){var K=Math.max(X.getLayout().angle,d);X.setLayout({cx:o,cy:l,r0:c,r:u,startAngle:W,endAngle:W+K*g,clockwise:m},!0),Z[X.dataIndex]=W,W+=(K+f)*g}),r.eachEdge(function(X){var K=M?1:X.getValue("value"),se=N*(I?K:1)*g,J=X.node1.dataIndex,H=Z[J]||0,ee=Math.abs((X.node1.getLayout().ratio||1)*se),Q=H+ee*g,ne=[o+c*Math.cos(H),l+c*Math.sin(H)],ce=[o+c*Math.cos(Q),l+c*Math.sin(Q)],ve=X.node2.dataIndex,xe=Z[ve]||0,we=Math.abs((X.node2.getLayout().ratio||1)*se),Ae=xe+we*g,Ue=[o+c*Math.cos(xe),l+c*Math.sin(xe)],pe=[o+c*Math.cos(Ae),l+c*Math.sin(Ae)];X.setLayout({s1:ne,s2:ce,sStartAngle:H,sEndAngle:Q,t1:Ue,t2:pe,tStartAngle:xe,tEndAngle:Ae,cx:o,cy:l,r:c,value:K,clockwise:m}),Z[J]=Q,Z[ve]=Ae})}}}function FPe(n){n.registerChartView(kPe),n.registerSeriesModel(LPe),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,PPe),n.registerProcessor(dS("chord"))}var BPe=(function(){function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return n})(),zPe=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="pointer",r}return e.prototype.getDefaultShape=function(){return new BPe},e.prototype.buildPath=function(t,r){var i=Math.cos,a=Math.sin,s=r.r,o=r.width,l=r.angle,u=r.x-i(l)*o*(o>=s/3?1:2),c=r.y-a(l)*o*(o>=s/3?1:2);l=r.angle-Math.PI/2,t.moveTo(u,c),t.lineTo(r.x+i(l)*o,r.y+a(l)*o),t.lineTo(r.x+i(r.angle)*s,r.y+a(r.angle)*s),t.lineTo(r.x-i(l)*o,r.y-a(l)*o),t.lineTo(u,c)},e})(Hn);function UPe(n,e){var t=n.get("center"),r=e.getWidth(),i=e.getHeight(),a=Math.min(r,i),s=kt(t[0],e.getWidth()),o=kt(t[1],e.getHeight()),l=kt(n.get("radius"),a/2);return{cx:s,cy:o,r:l}}function Q3(n,e){var t=n==null?"":n+"";return e&&(Lt(e)?t=e.replace("{value}",t):Xt(e)&&(t=e(n))),t}var VPe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),s=UPe(t,i);this._renderMain(t,r,i,a,s),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,r,i,a,s){var o=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,f=t.getModel("axisLine"),d=f.get("roundCap"),h=d?ZN:no,p=f.get("show"),m=f.getModel("lineStyle"),g=m.get("width"),y=[u,c];iL(y,!l),u=y[0],c=y[1];for(var _=c-u,S=u,A=[],M=0;p&&M<a.length;M++){var E=Math.min(Math.max(a[M][0],0),1);c=u+_*E;var D=new h({shape:{startAngle:S,endAngle:c,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-g,r:s.r},silent:!0});D.setStyle({fill:a[M][1]}),D.setStyle(m.getLineStyle(["color","width"])),A.push(D),S=c}A.reverse(),ie(A,function(N){return o.add(N)});var I=function(N){if(N<=0)return a[0][1];var L;for(L=0;L<a.length;L++)if(a[L][0]>=N&&(L===0?0:a[L-1][0])<N)return a[L][1];return a[L-1][1]};this._renderTicks(t,r,i,I,s,u,c,l,g),this._renderTitleAndDetail(t,r,i,I,s),this._renderAnchor(t,s),this._renderPointer(t,r,i,I,s,u,c,l,g)},e.prototype._renderTicks=function(t,r,i,a,s,o,l,u,c){for(var f=this.group,d=s.cx,h=s.cy,p=s.r,m=+t.get("min"),g=+t.get("max"),y=t.getModel("splitLine"),_=t.getModel("axisTick"),S=t.getModel("axisLabel"),A=t.get("splitNumber"),M=_.get("splitNumber"),E=kt(y.get("length"),p),D=kt(_.get("length"),p),I=o,N=(l-o)/A,L=N/M,B=y.getModel("lineStyle").getLineStyle(),O=_.getModel("lineStyle").getLineStyle(),G=y.get("distance"),V,q,W=0;W<=A;W++){if(V=Math.cos(I),q=Math.sin(I),y.get("show")){var Z=G?G+c:c,X=new ha({shape:{x1:V*(p-Z)+d,y1:q*(p-Z)+h,x2:V*(p-E-Z)+d,y2:q*(p-E-Z)+h},style:B,silent:!0});B.stroke==="auto"&&X.setStyle({stroke:a(W/A)}),f.add(X)}if(S.get("show")){var Z=S.get("distance")+G,K=Q3(da(W/A*(g-m)+m),S.get("formatter")),se=a(W/A),J=V*(p-E-Z)+d,H=q*(p-E-Z)+h,ee=S.get("rotate"),Q=0;ee==="radial"?(Q=-I+2*Math.PI,Q>Math.PI/2&&(Q+=Math.PI)):ee==="tangential"?Q=-I-Math.PI/2:nr(ee)&&(Q=ee*Math.PI/180),Q===0?f.add(new tr({style:ti(S,{text:K,x:J,y:H,verticalAlign:q<-.8?"top":q>.8?"bottom":"middle",align:V<-.4?"left":V>.4?"right":"center"},{inheritColor:se}),silent:!0})):f.add(new tr({style:ti(S,{text:K,x:J,y:H,verticalAlign:"middle",align:"center"},{inheritColor:se}),silent:!0,originX:J,originY:H,rotation:Q}))}if(_.get("show")&&W!==A){var Z=_.get("distance");Z=Z?Z+c:c;for(var ne=0;ne<=M;ne++){V=Math.cos(I),q=Math.sin(I);var ce=new ha({shape:{x1:V*(p-Z)+d,y1:q*(p-Z)+h,x2:V*(p-D-Z)+d,y2:q*(p-D-Z)+h},silent:!0,style:O});O.stroke==="auto"&&ce.setStyle({stroke:a((W+ne/M)/A)}),f.add(ce),I+=L}I-=L}else I+=N}},e.prototype._renderPointer=function(t,r,i,a,s,o,l,u,c){var f=this.group,d=this._data,h=this._progressEls,p=[],m=t.get(["pointer","show"]),g=t.getModel("progress"),y=g.get("show"),_=t.getData(),S=_.mapDimension("value"),A=+t.get("min"),M=+t.get("max"),E=[A,M],D=[o,l];function I(L,B){var O=_.getItemModel(L),G=O.getModel("pointer"),V=kt(G.get("width"),s.r),q=kt(G.get("length"),s.r),W=t.get(["pointer","icon"]),Z=G.get("offsetCenter"),X=kt(Z[0],s.r),K=kt(Z[1],s.r),se=G.get("keepAspect"),J;return W?J=va(W,X-V/2,K-q,V,q,null,se):J=new zPe({shape:{angle:-Math.PI/2,width:V,r:q,x:X,y:K}}),J.rotation=-(B+Math.PI/2),J.x=s.cx,J.y=s.cy,J}function N(L,B){var O=g.get("roundCap"),G=O?ZN:no,V=g.get("overlap"),q=V?g.get("width"):c/_.count(),W=V?s.r-q:s.r-(L+1)*q,Z=V?s.r:s.r-L*q,X=new G({shape:{startAngle:o,endAngle:B,cx:s.cx,cy:s.cy,clockwise:u,r0:W,r:Z}});return V&&(X.z2=_r(_.get(S,L),[A,M],[100,0],!0)),X}(y||m)&&(_.diff(d).add(function(L){var B=_.get(S,L);if(m){var O=I(L,o);vi(O,{rotation:-((isNaN(+B)?D[0]:_r(B,E,D,!0))+Math.PI/2)},t),f.add(O),_.setItemGraphicEl(L,O)}if(y){var G=N(L,o),V=g.get("clip");vi(G,{shape:{endAngle:_r(B,E,D,V)}},t),f.add(G),A6(t.seriesIndex,_.dataType,L,G),p[L]=G}}).update(function(L,B){var O=_.get(S,L);if(m){var G=d.getItemGraphicEl(B),V=G?G.rotation:o,q=I(L,V);q.rotation=V,lr(q,{rotation:-((isNaN(+O)?D[0]:_r(O,E,D,!0))+Math.PI/2)},t),f.add(q),_.setItemGraphicEl(L,q)}if(y){var W=h[B],Z=W?W.shape.endAngle:o,X=N(L,Z),K=g.get("clip");lr(X,{shape:{endAngle:_r(O,E,D,K)}},t),f.add(X),A6(t.seriesIndex,_.dataType,L,X),p[L]=X}}).execute(),_.each(function(L){var B=_.getItemModel(L),O=B.getModel("emphasis"),G=O.get("focus"),V=O.get("blurScope"),q=O.get("disabled");if(m){var W=_.getItemGraphicEl(L),Z=_.getItemVisual(L,"style"),X=Z.fill;if(W instanceof ps){var K=W.style;W.useStyle(at({image:K.image,x:K.x,y:K.y,width:K.width,height:K.height},Z))}else W.useStyle(Z),W.type!=="pointer"&&W.setColor(X);W.setStyle(B.getModel(["pointer","itemStyle"]).getItemStyle()),W.style.fill==="auto"&&W.setStyle("fill",a(_r(_.get(S,L),E,[0,1],!0))),W.z2EmphasisLift=0,Wa(W,B),Ei(W,G,V,q)}if(y){var se=p[L];se.useStyle(_.getItemVisual(L,"style")),se.setStyle(B.getModel(["progress","itemStyle"]).getItemStyle()),se.z2EmphasisLift=0,Wa(se,B),Ei(se,G,V,q)}}),this._progressEls=p)},e.prototype._renderAnchor=function(t,r){var i=t.getModel("anchor"),a=i.get("show");if(a){var s=i.get("size"),o=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=va(o,r.cx-s/2+kt(l[0],r.r),r.cy-s/2+kt(l[1],r.r),s,s,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(t,r,i,a,s){var o=this,l=t.getData(),u=l.mapDimension("value"),c=+t.get("min"),f=+t.get("max"),d=new nn,h=[],p=[],m=t.isAnimationEnabled(),g=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(y){h[y]=new tr({silent:!0}),p[y]=new tr({silent:!0})}).update(function(y,_){h[y]=o._titleEls[_],p[y]=o._detailEls[_]}).execute(),l.each(function(y){var _=l.getItemModel(y),S=l.get(u,y),A=new nn,M=a(_r(S,[c,f],[0,1],!0)),E=_.getModel("title");if(E.get("show")){var D=E.get("offsetCenter"),I=s.cx+kt(D[0],s.r),N=s.cy+kt(D[1],s.r),L=h[y];L.attr({z2:g?0:2,style:ti(E,{x:I,y:N,text:l.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:M})}),A.add(L)}var B=_.getModel("detail");if(B.get("show")){var O=B.get("offsetCenter"),G=s.cx+kt(O[0],s.r),V=s.cy+kt(O[1],s.r),q=kt(B.get("width"),s.r),W=kt(B.get("height"),s.r),Z=t.get(["progress","show"])?l.getItemVisual(y,"style").fill:M,L=p[y],X=B.get("formatter");L.attr({z2:g?0:2,style:ti(B,{x:G,y:V,text:Q3(S,X),width:isNaN(q)?null:q,height:isNaN(W)?null:W,align:"center",verticalAlign:"middle"},{inheritColor:Z})}),ooe(L,{normal:B},S,function(se){return Q3(se,X)}),m&&loe(L,y,l,t,{getFormattedLabel:function(se,J,H,ee,Q,ne){return Q3(ne?ne.interpolatedValue:S,X)}}),A.add(L)}d.add(A)}),this.group.add(d),this._titleEls=h,this._detailEls=p},e.type="gauge",e})(Fr),GPe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,r){return hS(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,qe.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:qe.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:qe.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:qe.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:qe.color.neutral00,borderWidth:0,borderColor:qe.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:qe.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:qe.color.transparent,borderWidth:0,borderColor:qe.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:qe.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e})(Yr);function HPe(n){n.registerChartView(VPe),n.registerSeriesModel(GPe)}var jPe=["itemStyle","opacity"],WPe=(function(n){Xe(e,n);function e(t,r){var i=n.call(this)||this,a=i,s=new Ls,o=new tr;return a.setTextContent(o),i.setTextGuideLine(s),i.updateData(t,r,!0),i}return e.prototype.updateData=function(t,r,i){var a=this,s=t.hostModel,o=t.getItemModel(r),l=t.getItemLayout(r),u=o.getModel("emphasis"),c=o.get(jPe);c=c??1,i||Ac(a),a.useStyle(t.getItemVisual(r,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,vi(a,{style:{opacity:c}},s,r)):lr(a,{style:{opacity:c},shape:{points:l.points}},s,r),Wa(a,o),this._updateLabel(t,r),Ei(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,r){var i=this,a=this.getTextGuideLine(),s=i.getTextContent(),o=t.hostModel,l=t.getItemModel(r),u=t.getItemLayout(r),c=u.label,f=t.getItemVisual(r,"style"),d=f.fill;cs(s,Ya(l),{labelFetcher:t.hostModel,labelDataIndex:r,defaultOpacity:f.opacity,defaultText:t.getName(r)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}});var h=l.getModel("label"),p=h.get("color"),m=p==="inherit"?d:null;i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:m,outsideFill:m});var g=c.linePoints;a.setShape({points:g}),i.textGuideLineConfig={anchor:g?new un(g[0][0],g[0][1]):null},lr(s,{style:{x:c.x,y:c.y}},o,r),s.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),i9(i,a9(l),{stroke:d})},e})(ro),YPe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i){var a=t.getData(),s=this._data,o=this.group;a.diff(s).add(function(l){var u=new WPe(a,l);a.setItemGraphicEl(l,u),o.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(a,l),o.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=s.getItemGraphicEl(l);xp(u,t,l)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e})(Fr),qPe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new pS(Ot(this.getData,this),Ot(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,r){return hS(this,{coordDimensions:["value"],encodeDefaulter:Sn(IV,this)})},e.prototype._defaultLabelLine=function(t){Ly(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var r=this.getData(),i=n.prototype.getDataParams.call(this,t),a=r.mapDimension("value"),s=r.getSum(a);return i.percent=s?+(r.get(a,t)/s*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:qe.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:qe.color.primary}}},e})(Yr);function XPe(n,e){for(var t=n.mapDimension("value"),r=n.mapArray(t,function(l){return l}),i=[],a=e==="ascending",s=0,o=n.count();s<o;s++)i[s]=s;return Xt(e)?i.sort(e):e!=="none"&&i.sort(function(l,u){return a?r[l]-r[u]:r[u]-r[l]}),i}function ZPe(n){var e=n.hostModel,t=e.get("orient");n.each(function(r){var i=n.getItemModel(r),a=i.getModel("label"),s=a.get("position"),o=i.getModel("labelLine"),l=n.getItemLayout(r),u=l.points,c=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",f,d,h,p;if(c)s==="insideLeft"?(d=(u[0][0]+u[3][0])/2+5,h=(u[0][1]+u[3][1])/2,f="left"):s==="insideRight"?(d=(u[1][0]+u[2][0])/2-5,h=(u[1][1]+u[2][1])/2,f="right"):(d=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,h=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),p=[[d,h],[d,h]];else{var m=void 0,g=void 0,y=void 0,_=void 0,S=o.get("length");s==="left"?(m=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,y=m-S,d=y-5,f="right"):s==="right"?(m=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,y=m+S,d=y+5,f="left"):s==="top"?(m=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,_=g-S,h=_-5,f="center"):s==="bottom"?(m=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,_=g+S,h=_+5,f="center"):s==="rightTop"?(m=t==="horizontal"?u[3][0]:u[1][0],g=t==="horizontal"?u[3][1]:u[1][1],t==="horizontal"?(_=g-S,h=_-5,f="center"):(y=m+S,d=y+5,f="top")):s==="rightBottom"?(m=u[2][0],g=u[2][1],t==="horizontal"?(_=g+S,h=_+5,f="center"):(y=m+S,d=y+5,f="bottom")):s==="leftTop"?(m=u[0][0],g=t==="horizontal"?u[0][1]:u[1][1],t==="horizontal"?(_=g-S,h=_-5,f="center"):(y=m-S,d=y-5,f="right")):s==="leftBottom"?(m=t==="horizontal"?u[1][0]:u[3][0],g=t==="horizontal"?u[1][1]:u[2][1],t==="horizontal"?(_=g+S,h=_+5,f="center"):(y=m-S,d=y-5,f="right")):(m=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,t==="horizontal"?(_=g+S,h=_+5,f="center"):(y=m+S,d=y+5,f="left")),t==="horizontal"?(y=m,d=y):(_=g,h=_),p=[[m,g],[y,_]]}l.label={linePoints:p,x:d,y:h,verticalAlign:"middle",textAlign:f,inside:c}})}function KPe(n,e){n.eachSeriesByType("funnel",function(t){var r=t.getData(),i=r.mapDimension("value"),a=t.get("sort"),s=qa(t,e),o=wi(t.getBoxLayoutParams(),s.refContainer),l=t.get("orient"),u=o.width,c=o.height,f=XPe(r,a),d=o.x,h=o.y,p=l==="horizontal"?[kt(t.get("minSize"),c),kt(t.get("maxSize"),c)]:[kt(t.get("minSize"),u),kt(t.get("maxSize"),u)],m=r.getDataExtent(i),g=t.get("min"),y=t.get("max");g==null&&(g=Math.min(m[0],0)),y==null&&(y=m[1]);var _=t.get("funnelAlign"),S=t.get("gap"),A=l==="horizontal"?u:c,M=(A-S*(r.count()-1))/r.count(),E=function(q,W){if(l==="horizontal"){var Z=r.get(i,q)||0,X=_r(Z,[g,y],p,!0),K=void 0;switch(_){case"top":K=h;break;case"center":K=h+(c-X)/2;break;case"bottom":K=h+(c-X);break}return[[W,K],[W,K+X]]}var se=r.get(i,q)||0,J=_r(se,[g,y],p,!0),H;switch(_){case"left":H=d;break;case"center":H=d+(u-J)/2;break;case"right":H=d+u-J;break}return[[H,W],[H+J,W]]};a==="ascending"&&(M=-M,S=-S,l==="horizontal"?d+=u:h+=c,f=f.reverse());for(var D=0;D<f.length;D++){var I=f[D],N=f[D+1],L=r.getItemModel(I);if(l==="horizontal"){var B=L.get(["itemStyle","width"]);B==null?B=M:(B=kt(B,u),a==="ascending"&&(B=-B));var O=E(I,d),G=E(N,d+B);d+=B+S,r.setItemLayout(I,{points:O.concat(G.slice().reverse())})}else{var V=L.get(["itemStyle","height"]);V==null?V=M:(V=kt(V,c),a==="ascending"&&(V=-V));var O=E(I,h),G=E(N,h+V);h+=V+S,r.setItemLayout(I,{points:O.concat(G.slice().reverse())})}}ZPe(r)})}function $Pe(n){n.registerChartView(YPe),n.registerSeriesModel(qPe),n.registerLayout(KPe),n.registerProcessor(dS("funnel"))}var JPe=.3,QPe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new nn,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,r,i,a){this._progressiveEls=null;var s=this._dataGroup,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.dimensions,f=CZ(t);o.diff(l).add(d).update(h).remove(p).execute();function d(g){var y=TZ(o,s,g,c,u);uO(y,o,g,f)}function h(g,y){var _=l.getItemGraphicEl(y),S=ife(o,g,c,u);o.setItemGraphicEl(g,_),lr(_,{shape:{points:S}},t,g),Ac(_),uO(_,o,g,f)}function p(g){var y=l.getItemGraphicEl(g);s.remove(y)}if(!this._initialized){this._initialized=!0;var m=e4e(u,t,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(m)}this._data=o},e.prototype.incrementalPrepareRender=function(t,r,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,r,i){for(var a=r.getData(),s=r.coordinateSystem,o=s.dimensions,l=CZ(r),u=this._progressiveEls=[],c=t.start;c<t.end;c++){var f=TZ(a,this._dataGroup,c,o,s);f.incremental=!0,uO(f,a,c,l),u.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e})(Fr);function e4e(n,e,t){var r=n.model,i=n.getRect(),a=new Pn({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s=r.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),vi(a,{shape:{width:i.width,height:i.height}},e,t),a}function ife(n,e,t,r){for(var i=[],a=0;a<t.length;a++){var s=t[a],o=n.get(n.mapDimension(s),e);t4e(o,r.getAxis(s).type)||i.push(r.dataToPoint(o,s))}return i}function TZ(n,e,t,r,i){var a=ife(n,t,r,i),s=new Ls({shape:{points:a},z2:10});return e.add(s),n.setItemGraphicEl(t,s),s}function CZ(n){var e=n.get("smooth",!0);return e===!0&&(e=JPe),e=$d(e),Zs(e)&&(e=0),{smooth:e}}function uO(n,e,t,r){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",r.smooth);var i=e.getItemModel(t),a=i.getModel("emphasis");Wa(n,i,"lineStyle"),Ei(n,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function t4e(n,e){return e==="category"?n==null:n==null||isNaN(n)}var n4e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,r){return sh(null,this,{useEncodeDefaulter:Ot(r4e,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var r=this.coordinateSystem,i=this.getData(),a=[];return r.eachActiveState(i,function(s,o){t===s&&a.push(i.getRawIndex(o))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e})(Yr);function r4e(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return ie(e.dimensions,function(r){var i=i4e(r);t[r]=i}),t}}function i4e(n){return+n.replace("dim","")}var a4e=["lineStyle","opacity"],s4e={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,r={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(i,a){t.eachActiveState(a,function(s,o){var l=r[s];if(s==="normal"&&a.hasItemOption){var u=a.getItemModel(o).get(a4e,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(o,"style");c.opacity=l},i.start,i.end)}}}};function o4e(n){l4e(n),u4e(n)}function l4e(n){if(!n.parallel){var e=!1;ie(n.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(n.parallel=[{}])}}function u4e(n){var e=ni(n.parallelAxis);ie(e,function(t){if(on(t)){var r=t.parallelIndex||0,i=ni(n.parallel)[r];i&&i.parallelAxisDefault&&An(t,i.parallelAxisDefault,!1)}})}var c4e=5,f4e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this._model=t,this._api=i,this._handlers||(this._handlers={},ie(d4e,function(a,s){i.getZr().on(s,this._handlers[s]=Ot(a,this))},this)),oS(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,r){PC(this,"_throttledDispatchExpand"),ie(this._handlers,function(i,a){r.getZr().off(a,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(at({type:"parallelAxisExpand"},t))},e.type="parallel",e})(ri),d4e={mousedown:function(n){cO(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(cO(this,"click")&&e){var t=[n.offsetX,n.offsetY],r=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(r>c4e)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!cO(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=t.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function cO(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var h4e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var r=this.option;t&&An(r,t,!0),this._initDimensions()},e.prototype.contains=function(t,r){var i=t.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){ie(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){t.hasOwnProperty(r)&&(this.option[r]=t[r])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],r=this.parallelAxisIndex=[],i=vr(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);ie(i,function(a){t.push("dim"+a.get("dim")),r.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e})(zn),p4e=(function(n){Xe(e,n);function e(t,r,i,a,s){var o=n.call(this,t,r,i)||this;return o.type=a||"value",o.axisIndex=s,o}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e})(Nc);function Fv(n,e,t,r,i,a){n=n||0;var s=t[1]-t[0];if(i!=null&&(i=W1(i,[0,s])),a!=null&&(a=Math.max(a,i??0)),r==="all"){var o=Math.abs(e[1]-e[0]);o=W1(o,[0,s]),i=a=W1(o,[i,a]),r=0}e[0]=W1(e[0],t),e[1]=W1(e[1],t);var l=fO(e,r);e[r]+=n;var u=i||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[r]=W1(e[r],c);var f;return f=fO(e,r),i!=null&&(f.sign!==l.sign||f.span<i)&&(e[1-r]=e[r]+l.sign*i),f=fO(e,r),a!=null&&f.span>a&&(e[1-r]=e[r]+f.sign*a),e}function fO(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function W1(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var dO=ie,afe=Math.min,sfe=Math.max,AZ=Math.floor,v4e=Math.ceil,MZ=da,m4e=Math.PI,g4e=(function(){function n(e,t,r){this.type="parallel",this._axesMap=jt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,r)}return n.prototype._init=function(e,t,r){var i=e.dimensions,a=e.parallelAxisIndex;dO(i,function(s,o){var l=a[o],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(s,new p4e(s,JA(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),r=t.axisBase,i=t.layoutBase,a=t.pixelDimIndex,s=e[1-a],o=e[a];return s>=r&&s<=r+t.axisLength&&o>=i&&o<=i+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(r){if(e.contains(r,t)){var i=r.getData();dO(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(i,i.mapDimension(a)),Vy(s.scale,s.model)},this)}},this)},n.prototype.resize=function(e,t){var r=qa(e,t).refContainer;this._rect=wi(e.getBoxLayoutParams(),r),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,r=["x","y"],i=["width","height"],a=e.get("layout"),s=a==="horizontal"?0:1,o=t[i[s]],l=[0,o],u=this.dimensions.length,c=eD(e.get("axisExpandWidth"),l),f=eD(e.get("axisExpandCount")||0,[0,u]),d=e.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&o>0,h=e.get("axisExpandWindow"),p;if(h)p=eD(h[1]-h[0],l),h[1]=h[0]+p;else{p=eD(c*(f-1),l);var m=e.get("axisExpandCenter")||AZ(u/2);h=[c*m-p/2],h[1]=h[0]+p}var g=(o-p)/(u-f);g<3&&(g=0);var y=[AZ(MZ(h[0]/c,1))+1,v4e(MZ(h[1]/c,1))-1],_=g/c*h[0];return{layout:a,pixelDimIndex:s,layoutBase:t[r[s]],layoutLength:o,axisBase:t[r[1-s]],axisLength:t[i[1-s]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:h,axisCount:u,winInnerIndices:y,axisExpandWindow0Pos:_}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;t.each(function(s){var o=[0,i.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),dO(r,function(s,o){var l=(i.axisExpandable?x4e:y4e)(o,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:m4e/2,vertical:0},f=[u[a].x+e.x,u[a].y+e.y],d=c[a],h=os();Wp(h,h,d),Rf(h,h,f),this._axesLayout[s]={position:f,rotation:d,transform:h,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,r,i){r==null&&(r=0),i==null&&(i=e.count());var a=this._axesMap,s=this.dimensions,o=[],l=[];ie(s,function(g){o.push(e.mapDimension(g)),l.push(a.get(g).model)});for(var u=this.hasAxisBrushed(),c=r;c<i;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var d=e.getValues(o,c),h=0,p=s.length;h<p;h++){var m=l[h].getActiveState(d[h]);if(m==="inactive"){f="inactive";break}}}t(f,c)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,r=!1,i=0,a=e.length;i<a;i++)t.get(e[i]).model.getActiveState()!=="normal"&&(r=!0);return r},n.prototype.axisCoordToPoint=function(e,t){var r=this._axesLayout[t];return Af([e,0],r.transform)},n.prototype.getAxisLayout=function(e){return tn(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),r=t.pixelDimIndex,i=t.axisExpandWindow.slice(),a=i[1]-i[0],s=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var o=e[r]-t.layoutBase-t.axisExpandWindow0Pos,l,u="slide",c=t.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),d=f[0]!=null;if(c)d&&c&&o<a*f[0]?(u="jump",l=o-a*f[2]):d&&c&&o>a*(1-f[0])?(u="jump",l=o-a*(1-f[2])):(l=o-a*f[1])>=0&&(l=o-a*(1-f[1]))<=0&&(l=0),l*=t.axisExpandWidth/c,l?Fv(l,i,s,"all"):u="none";else{var h=i[1]-i[0],p=s[1]*o/h;i=[sfe(0,p-h/2)],i[1]=afe(s[1],i[0]+h),i[0]=i[1]-h}return{axisExpandWindow:i,behavior:u}},n})();function eD(n,e){return afe(sfe(n,e[0]),e[1])}function y4e(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function x4e(n,e){var t=e.layoutLength,r=e.axisExpandWidth,i=e.axisCount,a=e.axisCollapseWidth,s=e.winInnerIndices,o,l=a,u=!1,c;return n<s[0]?(o=n*a,c=a):n<=s[1]?(o=e.axisExpandWindow0Pos+n*r-e.axisExpandWindow[0],l=r,u=!0):(o=t-(i-1-n)*a,c=a),{position:o,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function _4e(n,e){var t=[];return n.eachComponent("parallel",function(r,i){var a=new g4e(r,n,e);a.name="parallel_"+i,a.resize(r,e),r.coordinateSystem=a,a.model=r,t.push(a)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",Hi).models[0];r.coordinateSystem=i.coordinateSystem}}),t}var b4e={create:_4e},N8=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return Oy([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var r=this.activeIntervals=tn(t);if(r)for(var i=r.length-1;i>=0;i--)xu(r[i])},e.prototype.getActiveState=function(t){var r=this.activeIntervals;if(!r.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var a=0,s=r.length;a<s;a++)if(r[a][0]<=t&&t<=r[a][1])return"active";return"inactive"},e})(zn);ta(N8,fS);var Gy=!0,ZC=Math.min,Ab=Math.max,S4e=Math.pow,w4e=1e4,T4e=6,C4e=6,EZ="globalPan",A4e={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},M4e={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DZ={brushStyle:{lineWidth:2,stroke:qe.color.backgroundTint,fill:qe.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},E4e=0,I9=(function(n){Xe(e,n);function e(t){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=t,r.group=new nn,r._uid="brushController_"+E4e++,ie(P4e,function(i,a){this._handlers[a]=Ot(i,this)},r),r}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var r=this._zr;this._enableGlobalPan||fke(r,EZ,this._uid),ie(this._handlers,function(i,a){r.on(a,i)}),this._brushType=t.brushType,this._brushOption=An(tn(DZ),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;dke(t,EZ,this._uid),ie(this._handlers,function(r,i){t.off(i,r)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var r=this._panels={};ie(t,function(i){r[i.panelId]=tn(i)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=r.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=ht(t,function(d){return An(tn(DZ),d,!0)});var r="\0-brush-index-",i=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new kp(i,t,u,l).add(c).update(c).remove(f).execute(),this;function l(d,h){return(d.id!=null?d.id:r+h)+"-"+d.brushType}function u(d,h){return l(d.__brushOption,h)}function c(d,h){var p=t[d];if(h!=null&&i[h]===o)a[d]=i[h];else{var m=a[d]=h!=null?(i[h].__brushOption=p,i[h]):lfe(s,ofe(s,p));k9(s,m)}}function f(d){i[d]!==o&&s.group.remove(i[d])}},e.prototype.unmount=function(){return this.enableBrush(!1),I8(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e})(Dc);function ofe(n,e){var t=AL[e.brushType].createCover(n,e);return t.__brushOption=e,cfe(t,e),n.group.add(t),t}function lfe(n,e){var t=L9(e);return t.endCreating&&(t.endCreating(n,e),cfe(e,e.__brushOption)),e}function ufe(n,e){var t=e.__brushOption;L9(e).updateCoverShape(n,e,t.range,t)}function cfe(n,e){var t=e.z;t==null&&(t=w4e),n.traverse(function(r){r.z=t,r.z2=t})}function k9(n,e){L9(e).updateCommon(n,e),ufe(n,e)}function L9(n){return AL[n.__brushOption.brushType]}function P9(n,e,t){var r=n._panels;if(!r)return Gy;var i,a=n._transform;return ie(r,function(s){s.isTargetByCursor(e,t,a)&&(i=s)}),i}function ffe(n,e){var t=n._panels;if(!t)return Gy;var r=e.__brushOption.panelId;return r!=null?t[r]:Gy}function I8(n){var e=n._covers,t=e.length;return ie(e,function(r){n.group.remove(r)},n),e.length=0,!!t}function Hy(n,e){var t=ht(n._covers,function(r){var i=r.__brushOption,a=tn(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function D4e(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],r=e[0],i=t[0]-r[0],a=t[1]-r[1],s=S4e(i*i+a*a,.5);return s>T4e}function dfe(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function hfe(n,e,t,r){var i=new nn;return i.add(new Pn({name:"main",style:O9(t),silent:!0,draggable:!0,cursor:"move",drift:Sn(RZ,n,e,i,["n","s","w","e"]),ondragend:Sn(Hy,e,{isEnd:!0})})),ie(r,function(a){i.add(new Pn({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Sn(RZ,n,e,i,a),ondragend:Sn(Hy,e,{isEnd:!0})}))}),i}function pfe(n,e,t,r){var i=r.brushStyle.lineWidth||0,a=Ab(i,C4e),s=t[0][0],o=t[1][0],l=s-i/2,u=o-i/2,c=t[0][1],f=t[1][1],d=c-a+i/2,h=f-a+i/2,p=c-s,m=f-o,g=p+i,y=m+i;Hh(n,e,"main",s,o,p,m),r.transformable&&(Hh(n,e,"w",l,u,a,y),Hh(n,e,"e",d,u,a,y),Hh(n,e,"n",l,u,g,a),Hh(n,e,"s",l,h,g,a),Hh(n,e,"nw",l,u,a,a),Hh(n,e,"ne",d,u,a,a),Hh(n,e,"sw",l,h,a,a),Hh(n,e,"se",d,h,a,a))}function k8(n,e){var t=e.__brushOption,r=t.transformable,i=e.childAt(0);i.useStyle(O9(t)),i.attr({silent:!r,cursor:r?"move":"default"}),ie([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=e.childOfName(a.join("")),o=a.length===1?L8(n,a[0]):N4e(n,a);s&&s.attr({silent:!r,invisible:!r,cursor:r?M4e[o]+"-resize":null})})}function Hh(n,e,t,r,i,a,s){var o=e.childOfName(t);o&&o.setShape(k4e(F9(n,e,[[r,i],[r+a,i+s]])))}function O9(n){return sn({strokeNoScale:!0},n.brushStyle)}function vfe(n,e,t,r){var i=[ZC(n,t),ZC(e,r)],a=[Ab(n,t),Ab(e,r)];return[[i[0],a[0]],[i[1],a[1]]]}function R4e(n){return Ev(n.group)}function L8(n,e){var t={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=lL(t[e],R4e(n));return r[i]}function N4e(n,e){var t=[L8(n,e[0]),L8(n,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function RZ(n,e,t,r,i,a){var s=t.__brushOption,o=n.toRectRange(s.range),l=mfe(e,i,a);ie(r,function(u){var c=A4e[u];o[c[0]][c[1]]+=l[c[0]]}),s.range=n.fromRectRange(vfe(o[0][0],o[1][0],o[0][1],o[1][1])),k9(e,t),Hy(e,{isEnd:!1})}function I4e(n,e,t,r){var i=e.__brushOption.range,a=mfe(n,t,r);ie(i,function(s){s[0]+=a[0],s[1]+=a[1]}),k9(n,e),Hy(n,{isEnd:!1})}function mfe(n,e,t){var r=n.group,i=r.transformCoordToLocal(e,t),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function F9(n,e,t){var r=ffe(n,e);return r&&r!==Gy?r.clipPath(t,n._transform):tn(t)}function k4e(n){var e=ZC(n[0][0],n[1][0]),t=ZC(n[0][1],n[1][1]),r=Ab(n[0][0],n[1][0]),i=Ab(n[0][1],n[1][1]);return{x:e,y:t,width:r-e,height:i-t}}function L4e(n,e,t){if(!(!n._brushType||O4e(n,e.offsetX,e.offsetY))){var r=n._zr,i=n._covers,a=P9(n,e,t);if(!n._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(a&&(a===Gy||o.panelId===a.panelId)&&AL[o.brushType].contain(i[s],t[0],t[1]))return}a&&r.setCursorStyle("crosshair")}}function P8(n){var e=n.event;e.preventDefault&&e.preventDefault()}function O8(n,e,t){return n.childOfName("main").contain(e,t)}function gfe(n,e,t,r){var i=n._creatingCover,a=n._creatingPanel,s=n._brushOption,o;if(n._track.push(t.slice()),D4e(n)||i){if(a&&!i){s.brushMode==="single"&&I8(n);var l=tn(s);l.brushType=NZ(l.brushType,a),l.panelId=a===Gy?null:a.panelId,i=n._creatingCover=ofe(n,l),n._covers.push(i)}if(i){var u=AL[NZ(n._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(F9(n,i,n._track)),r&&(lfe(n,i),u.updateCommon(n,i)),ufe(n,i),o={isEnd:r}}}else r&&s.brushMode==="single"&&s.removeOnClick&&P9(n,e,t)&&I8(n)&&(o={isEnd:r,removeOnClick:!0});return o}function NZ(n,e){return n==="auto"?e.defaultBrushType:n}var P4e={mousedown:function(n){if(this._dragging)IZ(this,n);else if(!n.target||!n.target.draggable){P8(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var t=this._creatingPanel=P9(this,n,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,r=this.group.transformCoordToLocal(e,t);if(L4e(this,n,r),this._dragging){P8(n);var i=gfe(this,n,r,!1);i&&Hy(this,i)}},mouseup:function(n){IZ(this,n)}};function IZ(n,e){if(n._dragging){P8(e);var t=e.offsetX,r=e.offsetY,i=n.group.transformCoordToLocal(t,r),a=gfe(n,e,i,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&Hy(n,a)}}function O4e(n,e,t){var r=n._zr;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var AL={lineX:kZ(0),lineY:kZ(1),rect:{createCover:function(n,e){function t(r){return r}return hfe({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=dfe(n);return vfe(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,r){pfe(n,e,t,r)},updateCommon:k8,contain:O8},polygon:{createCover:function(n,e){var t=new nn;return t.add(new Ls({name:"main",style:O9(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new ro({name:"main",draggable:!0,drift:Sn(I4e,n,e),ondragend:Sn(Hy,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,r){e.childAt(0).setShape({points:F9(n,e,t)})},updateCommon:k8,contain:O8}};function kZ(n){return{createCover:function(e,t){return hfe({toRectRange:function(r){var i=[r,[0,100]];return n&&i.reverse(),i},fromRectRange:function(r){return r[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=dfe(e),r=ZC(t[0][n],t[1][n]),i=Ab(t[0][n],t[1][n]);return[r,i]},updateCoverShape:function(e,t,r,i){var a,s=ffe(e,t);if(s!==Gy&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(n);else{var o=e._zr;a=[0,[o.getWidth(),o.getHeight()][1-n]]}var l=[r,a];n&&l.reverse(),pfe(e,t,l,i)},updateCommon:k8,contain:O8}}function yfe(n){return n=B9(n),function(e){return hV(e,n)}}function xfe(n,e){return n=B9(n),function(t){var r=e??t,i=r?n.width:n.height,a=r?n.x:n.y;return[a,a+(i||0)]}}function _fe(n,e,t){var r=B9(n);return function(i,a){return r.contain(a[0],a[1])&&!Cce(i,e,t)}}function B9(n){return cn.create(n)}var F4e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){n.prototype.init.apply(this,arguments),(this._brushController=new I9(r.getZr())).on("brush",Ot(this._onBrush,this))},e.prototype.render=function(t,r,i,a){if(!B4e(t,r,a)){this.axisModel=t,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new nn,this.group.add(this._axisGroup),!!t.get("show")){var o=U4e(t,r),l=o.coordinateSystem,u=t.getAreaSelectStyle(),c=u.width,f=t.axis.dim,d=l.getAxisLayout(f),h=at({strokeContainThreshold:c},d),p=new gl(t,i,h);p.build(),this._axisGroup.add(p.group),this._refreshBrushController(h,u,t,o,c,i),XA(s,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,r,i,a,s,o){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=cn.create({x:l[0],y:-s/2,width:u,height:s});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:yfe(f),isTargetByCursor:_fe(f,o,a),getLinearBrushOtherExtent:xfe(f,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(z4e(i))},e.prototype._onBrush=function(t){var r=t.areas,i=this.axisModel,a=i.axis,s=ht(r,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e})(ri);function B4e(n,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}function z4e(n){var e=n.axis;return ht(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function U4e(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}var V4e={type:"axisAreaSelect",event:"axisAreaSelected"};function G4e(n){n.registerAction(V4e,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}var H4e={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function bfe(n){n.registerComponentView(f4e),n.registerComponentModel(h4e),n.registerCoordinateSystem("parallel",b4e),n.registerPreprocessor(o4e),n.registerComponentModel(N8),n.registerComponentView(F4e),Tb(n,"parallel",N8,H4e),G4e(n)}function j4e(n){Nn(bfe),n.registerChartView(QPe),n.registerSeriesModel(n4e),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,s4e)}var W4e=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return n})(),Y4e=(function(n){Xe(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new W4e},e.prototype.buildPath=function(t,r){var i=r.extent;t.moveTo(r.x1,r.y1),t.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(t.lineTo(r.x2+i,r.y2),t.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(t.lineTo(r.x2,r.y2+i),t.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),t.closePath()},e.prototype.highlight=function(){Np(this)},e.prototype.downplay=function(){Ip(this)},e})(Hn),q4e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new nn,t._focusAdjacencyDisabled=!1,t}return e.prototype.init=function(t,r){this._controller=new ax(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,r,i){var a=this,s=t.getGraph(),o=this._mainGroup,l=t.layoutInfo,u=l.width,c=l.height,f=t.getData(),d=t.getData("edge"),h=t.get("orient");this._model=t,o.removeAll(),o.x=l.x,o.y=l.y,this._updateViewCoordSys(t,i),Ace(t,i,o,this._controller,this._controllerHost,null),s.eachEdge(function(p){var m=new Y4e,g=fn(m);g.dataIndex=p.dataIndex,g.seriesIndex=t.seriesIndex,g.dataType="edge";var y=p.getModel(),_=y.getModel("lineStyle"),S=_.get("curveness"),A=p.node1.getLayout(),M=p.node1.getModel(),E=M.get("localX"),D=M.get("localY"),I=p.node2.getLayout(),N=p.node2.getModel(),L=N.get("localX"),B=N.get("localY"),O=p.getLayout(),G,V,q,W,Z,X,K,se;m.shape.extent=Math.max(1,O.dy),m.shape.orient=h,h==="vertical"?(G=(E!=null?E*u:A.x)+O.sy,V=(D!=null?D*c:A.y)+A.dy,q=(L!=null?L*u:I.x)+O.ty,W=B!=null?B*c:I.y,Z=G,X=V*(1-S)+W*S,K=q,se=V*S+W*(1-S)):(G=(E!=null?E*u:A.x)+A.dx,V=(D!=null?D*c:A.y)+O.sy,q=L!=null?L*u:I.x,W=(B!=null?B*c:I.y)+O.ty,Z=G*(1-S)+q*S,X=V,K=G*S+q*(1-S),se=W),m.setShape({x1:G,y1:V,x2:q,y2:W,cpx1:Z,cpy1:X,cpx2:K,cpy2:se}),m.useStyle(_.getItemStyle()),LZ(m.style,h,p);var J=""+y.get("value"),H=Ya(y,"edgeLabel");cs(m,H,{labelFetcher:{getFormattedLabel:function(ne,ce,ve,xe,we,Ae){return t.getFormattedLabel(ne,ce,"edge",xe,Yl(we,H.normal&&H.normal.get("formatter"),J),Ae)}},labelDataIndex:p.dataIndex,defaultText:J}),m.setTextConfig({position:"inside"});var ee=y.getModel("emphasis");Wa(m,y,"lineStyle",function(ne){var ce=ne.getItemStyle();return LZ(ce,h,p),ce}),o.add(m),d.setItemGraphicEl(p.dataIndex,m);var Q=ee.get("focus");Ei(m,Q==="adjacency"?p.getAdjacentDataIndices():Q==="trajectory"?p.getTrajectoryDataIndices():Q,ee.get("blurScope"),ee.get("disabled"))}),s.eachNode(function(p){var m=p.getLayout(),g=p.getModel(),y=g.get("localX"),_=g.get("localY"),S=g.getModel("emphasis"),A=g.get(["itemStyle","borderRadius"])||0,M=new Pn({shape:{x:y!=null?y*u:m.x,y:_!=null?_*c:m.y,width:m.dx,height:m.dy,r:A},style:g.getModel("itemStyle").getItemStyle(),z2:10});cs(M,Ya(g),{labelFetcher:{getFormattedLabel:function(D,I){return t.getFormattedLabel(D,I,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),M.disableLabelAnimation=!0,M.setStyle("fill",p.getVisual("color")),M.setStyle("decal",p.getVisual("style").decal),Wa(M,g),o.add(M),f.setItemGraphicEl(p.dataIndex,M),fn(M).dataType="node";var E=S.get("focus");Ei(M,E==="adjacency"?p.getAdjacentDataIndices():E==="trajectory"?p.getTrajectoryDataIndices():E,S.get("blurScope"),S.get("disabled"))}),f.eachItemGraphicEl(function(p,m){var g=f.getItemModel(m);g.get("draggable")&&(p.drift=function(y,_){a._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=_,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:f.getRawIndex(m),localX:this.shape.x/u,localY:this.shape.y/c})},p.ondragend=function(){a._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&t.isAnimationEnabled()&&o.setClipPath(X4e(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._updateViewCoordSys=function(t,r){var i=t.layoutInfo,a=i.width,s=i.height,o=t.coordinateSystem=new sx(null,{api:r,ecModel:t.ecModel});o.zoomLimit=t.get("scaleLimit"),o.setBoundingRect(0,0,a,s),o.setCenter(t.get("center")),o.setZoom(t.get("zoom")),this._controllerHost.target.attr({x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY})},e.type="sankey",e})(Fr);function LZ(n,e,t){switch(n.fill){case"source":n.fill=t.node1.getVisual("color"),n.decal=t.node1.getVisual("style").decal;break;case"target":n.fill=t.node2.getVisual("color"),n.decal=t.node2.getVisual("style").decal;break;case"gradient":var r=t.node1.getVisual("color"),i=t.node2.getVisual("color");Lt(r)&&Lt(i)&&(n.fill=new Qy(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:r,offset:0},{color:i,offset:1}]))}}function X4e(n,e,t){var r=new Pn({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return vi(r,{shape:{width:n.width+20}},e,t),r}var Z4e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){var i=t.edges||t.links||[],a=t.data||t.nodes||[],s=t.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new Gn(s[l],this,r));var u=N9(a,i,this,!0,c);return u.data;function c(f,d){f.wrapMethod("getItemModel",function(h,p){var m=h.parentModel,g=m.getData().getItemLayout(p);if(g){var y=g.depth,_=m.levelModels[y];_&&(h.parentModel=_)}return h}),d.wrapMethod("getItemModel",function(h,p){var m=h.parentModel,g=m.getGraph().getEdgeByIndex(p),y=g.node1.getLayout();if(y){var _=y.depth,S=m.levelModels[_];S&&(h.parentModel=S)}return h})}},e.prototype.setNodePosition=function(t,r){var i=this.option.data||this.option.nodes,a=i[t];a.localX=r[0],a.localY=r[1]},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,r,i){function a(h){return isNaN(h)||h==null}if(i==="edge"){var s=this.getDataParams(t,i),o=s.data,l=s.value,u=o.source+" -- "+o.target;return Ia("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(t),f=c.getLayout().value,d=this.getDataParams(t,i).data.name;return Ia("nameValue",{name:d!=null?d+"":null,value:f,noValue:a(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,r){var i=n.prototype.getDataParams.call(this,t,r);if(i.value==null&&r==="node"){var a=this.getGraph().getNodeByIndex(t),s=a.getLayout().value;i.value=s}return i},e.type="series.sankey",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:qe.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:qe.color.primary}},animationEasing:"linear",animationDuration:1e3},e})(Yr);function K4e(n,e){n.eachSeriesByType("sankey",function(t){var r=t.get("nodeWidth"),i=t.get("nodeGap"),a=qa(t,e).refContainer,s=wi(t.getBoxLayoutParams(),a);t.layoutInfo=s;var o=s.width,l=s.height,u=t.getGraph(),c=u.nodes,f=u.edges;J4e(c);var d=vr(c,function(g){return g.getLayout().value===0}),h=d.length!==0?0:t.get("layoutIterations"),p=t.get("orient"),m=t.get("nodeAlign");$4e(c,f,r,i,o,l,h,p,m)})}function $4e(n,e,t,r,i,a,s,o,l){Q4e(n,e,t,i,a,o,l),r5e(n,e,a,i,r,s,o),d5e(n,o)}function J4e(n){ie(n,function(e){var t=Nv(e.outEdges,rI),r=Nv(e.inEdges,rI),i=e.getValue()||0,a=Math.max(t,r,i);e.setLayout({value:a},!0)})}function Q4e(n,e,t,r,i,a,s){for(var o=[],l=[],u=[],c=[],f=0,d=0;d<e.length;d++)o[d]=1;for(var d=0;d<n.length;d++)l[d]=n[d].inEdges.length,l[d]===0&&u.push(n[d]);for(var h=-1;u.length;){for(var p=0;p<u.length;p++){var m=u[p],g=m.hostGraph.data.getRawDataItem(m.dataIndex),y=g.depth!=null&&g.depth>=0;y&&g.depth>h&&(h=g.depth),m.setLayout({depth:y?g.depth:f},!0),a==="vertical"?m.setLayout({dy:t},!0):m.setLayout({dx:t},!0);for(var _=0;_<m.outEdges.length;_++){var S=m.outEdges[_],A=e.indexOf(S);o[A]=0;var M=S.node2,E=n.indexOf(M);--l[E]===0&&c.indexOf(M)<0&&c.push(M)}}++f,u=c,c=[]}for(var d=0;d<o.length;d++)if(o[d]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var D=h>f-1?h:f-1;s&&s!=="left"&&e5e(n,s,a,D);var I=a==="vertical"?(i-t)/D:(r-t)/D;n5e(n,I,a)}function Sfe(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return e.depth!=null&&e.depth>=0}function e5e(n,e,t,r){if(e==="right"){for(var i=[],a=n,s=0;a.length;){for(var o=0;o<a.length;o++){var l=a[o];l.setLayout({skNodeHeight:s},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++s}ie(n,function(f){Sfe(f)||f.setLayout({depth:Math.max(0,r-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&t5e(n,r)}function t5e(n,e){ie(n,function(t){!Sfe(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function n5e(n,e,t){ie(n,function(r){var i=r.getLayout().depth*e;t==="vertical"?r.setLayout({y:i},!0):r.setLayout({x:i},!0)})}function r5e(n,e,t,r,i,a,s){var o=i5e(n,s);a5e(o,e,t,r,i,s),hO(o,i,t,r,s);for(var l=1;a>0;a--)l*=.99,s5e(o,l,s),hO(o,i,t,r,s),f5e(o,l,s),hO(o,i,t,r,s)}function i5e(n,e){var t=[],r=e==="vertical"?"y":"x",i=b6(n,function(a){return a.getLayout()[r]});return i.keys.sort(function(a,s){return a-s}),ie(i.keys,function(a){t.push(i.buckets.get(a))}),t}function a5e(n,e,t,r,i,a){var s=1/0;ie(n,function(o){var l=o.length,u=0;ie(o,function(f){u+=f.getLayout().value});var c=a==="vertical"?(r-(l-1)*i)/u:(t-(l-1)*i)/u;c<s&&(s=c)}),ie(n,function(o){ie(o,function(l,u){var c=l.getLayout().value*s;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),ie(e,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function hO(n,e,t,r,i){var a=i==="vertical"?"x":"y";ie(n,function(s){s.sort(function(m,g){return m.getLayout()[a]-g.getLayout()[a]});for(var o,l,u,c=0,f=s.length,d=i==="vertical"?"dx":"dy",h=0;h<f;h++)l=s[h],u=c-l.getLayout()[a],u>0&&(o=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]+l.getLayout()[d]+e;var p=i==="vertical"?r:t;if(u=c-e-p,u>0){o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),c=o;for(var h=f-2;h>=0;--h)l=s[h],u=l.getLayout()[a]+l.getLayout()[d]+e-c,u>0&&(o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]}})}function s5e(n,e,t){ie(n.slice().reverse(),function(r){ie(r,function(i){if(i.outEdges.length){var a=Nv(i.outEdges,o5e,t)/Nv(i.outEdges,rI);if(isNaN(a)){var s=i.outEdges.length;a=s?Nv(i.outEdges,l5e,t)/s:0}if(t==="vertical"){var o=i.getLayout().x+(a-Bv(i,t))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-Bv(i,t))*e;i.setLayout({y:l},!0)}}})})}function o5e(n,e){return Bv(n.node2,e)*n.getValue()}function l5e(n,e){return Bv(n.node2,e)}function u5e(n,e){return Bv(n.node1,e)*n.getValue()}function c5e(n,e){return Bv(n.node1,e)}function Bv(n,e){return e==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function rI(n){return n.getValue()}function Nv(n,e,t){for(var r=0,i=n.length,a=-1;++a<i;){var s=+e(n[a],t);isNaN(s)||(r+=s)}return r}function f5e(n,e,t){ie(n,function(r){ie(r,function(i){if(i.inEdges.length){var a=Nv(i.inEdges,u5e,t)/Nv(i.inEdges,rI);if(isNaN(a)){var s=i.inEdges.length;a=s?Nv(i.inEdges,c5e,t)/s:0}if(t==="vertical"){var o=i.getLayout().x+(a-Bv(i,t))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-Bv(i,t))*e;i.setLayout({y:l},!0)}}})})}function d5e(n,e){var t=e==="vertical"?"x":"y";ie(n,function(r){r.outEdges.sort(function(i,a){return i.node2.getLayout()[t]-a.node2.getLayout()[t]}),r.inEdges.sort(function(i,a){return i.node1.getLayout()[t]-a.node1.getLayout()[t]})}),ie(n,function(r){var i=0,a=0;ie(r.outEdges,function(s){s.setLayout({sy:i},!0),i+=s.getLayout().dy}),ie(r.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function h5e(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),r=t.nodes,i=t.edges;if(r.length){var a=1/0,s=-1/0;ie(r,function(o){var l=o.getLayout().value;l<a&&(a=l),l>s&&(s=l)}),ie(r,function(o){var l=new ls({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:e.get("color")}),u=l.mapValueToVisual(o.getLayout().value),c=o.getModel().get(["itemStyle","color"]);c!=null?(o.setVisual("color",c),o.setVisual("style",{fill:c})):(o.setVisual("color",u),o.setVisual("style",{fill:u}))})}i.length&&ie(i,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function p5e(n){n.registerChartView(q4e),n.registerSeriesModel(Z4e),n.registerLayout(K4e),n.registerVisual(h5e),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(r){r.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),n.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(e,t,r){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){var a=i.coordinateSystem,s=SL(a,e,i.get("scaleLimit"));i.setCenter(s.center),i.setZoom(s.zoom)})})}var wfe=(function(){function n(){}return n.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},n.prototype.getInitialData=function(e,t){var r,i=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),o=a.get("type"),l;s==="category"?(e.layout="horizontal",r=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(e.layout="vertical",r=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],d=u[1-c],h=[i,a],p=h[c].get("type"),m=h[1-c].get("type"),g=e.data;if(g&&l){var y=[];ie(g,function(A,M){var E;ft(A)?(E=A.slice(),A.unshift(M)):ft(A.value)?(E=at({},A),E.value=E.value.slice(),A.value.unshift(M)):E=A,y.push(E)}),e.data=y}var _=this.defaultValueDimensions,S=[{name:f,type:UN(p),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:UN(m),dimsDef:_.slice()}];return hS(this,{coordDimensions:S,dimensionsCount:_.length+1,encodeDefaulter:Sn(koe,S,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n})(),Tfe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:qe.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:qe.color.shadow}},animationDuration:800},e})(Yr);ta(Tfe,wfe,!0);var v5e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=t.get("layout")==="horizontal"?1:0;a.diff(o).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=PZ(c,a,u,l,!0);a.setItemGraphicEl(u,f),s.add(f)}}).update(function(u,c){var f=o.getItemGraphicEl(c);if(!a.hasValue(u)){s.remove(f);return}var d=a.getItemLayout(u);f?(Ac(f),Cfe(d,f,a,u)):f=PZ(d,a,u,l),s.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=o.getItemGraphicEl(u);c&&s.remove(c)}).execute(),this._data=a},e.prototype.remove=function(t){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&r.remove(a)})},e.type="boxplot",e})(Fr),m5e=(function(){function n(){}return n})(),g5e=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="boxplotBoxPath",r}return e.prototype.getDefaultShape=function(){return new m5e},e.prototype.buildPath=function(t,r){var i=r.points,a=0;for(t.moveTo(i[a][0],i[a][1]),a++;a<4;a++)t.lineTo(i[a][0],i[a][1]);for(t.closePath();a<i.length;a++)t.moveTo(i[a][0],i[a][1]),a++,t.lineTo(i[a][0],i[a][1])},e})(Hn);function PZ(n,e,t,r,i){var a=n.ends,s=new g5e({shape:{points:i?y5e(a,r,n):a}});return Cfe(n,s,e,t,i),s}function Cfe(n,e,t,r,i){var a=t.hostModel,s=ex[i?"initProps":"updateProps"];s(e,{shape:{points:n.ends}},a,r),e.useStyle(t.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.z2=100;var o=t.getItemModel(r),l=o.getModel("emphasis");Wa(e,o),Ei(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function y5e(n,e,t){return ht(n,function(r){return r=r.slice(),r[e]=t.initBaseline,r})}var GT=ie;function x5e(n){var e=_5e(n);GT(e,function(t){var r=t.seriesModels;r.length&&(b5e(t),GT(r,function(i,a){S5e(i,t.boxOffsetList[a],t.boxWidthList[a])}))})}function _5e(n){var e=[],t=[];return n.eachSeriesByType("boxplot",function(r){var i=r.getBaseAxis(),a=Cn(t,i);a<0&&(a=t.length,t[a]=i,e[a]={axis:i,seriesModels:[]}),e[a].seriesModels.push(r)}),e}function b5e(n){var e=n.axis,t=n.seriesModels,r=t.length,i=n.boxWidthList=[],a=n.boxOffsetList=[],s=[],o;if(e.type==="category")o=e.getBandWidth();else{var l=0;GT(t,function(p){l=Math.max(l,p.getData().count())});var u=e.getExtent();o=Math.abs(u[1]-u[0])/l}GT(t,function(p){var m=p.get("boxWidth");ft(m)||(m=[m,m]),s.push([kt(m[0],o)||0,kt(m[1],o)||0])});var c=o*.8-2,f=c/r*.3,d=(c-f*(r-1))/r,h=d/2-c/2;GT(t,function(p,m){a.push(h),h+=f+d,i.push(Math.min(Math.max(d,s[m][0]),s[m][1]))})}function S5e(n,e,t){var r=n.coordinateSystem,i=n.getData(),a=t/2,s=n.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],u=i.mapDimension(l[s]),c=i.mapDimensionsAll(l[o]);if(u==null||c.length<5)return;for(var f=0;f<i.count();f++){var d=i.get(u,f),h=S(d,c[2],f),p=S(d,c[0],f),m=S(d,c[1],f),g=S(d,c[3],f),y=S(d,c[4],f),_=[];A(_,m,!1),A(_,g,!0),_.push(p,m,y,g),M(_,p),M(_,y),M(_,h),i.setItemLayout(f,{initBaseline:h[o],ends:_})}function S(E,D,I){var N=i.get(D,I),L=[];L[s]=E,L[o]=N;var B;return isNaN(E)||isNaN(N)?B=[NaN,NaN]:(B=r.dataToPoint(L),B[s]+=e),B}function A(E,D,I){var N=D.slice(),L=D.slice();N[s]+=a,L[s]-=a,I?E.push(N,L):E.push(L,N)}function M(E,D){var I=D.slice(),N=D.slice();I[s]-=a,N[s]+=a,E.push(I,N)}}function w5e(n,e){e=e||{};for(var t=[],r=[],i=e.boundIQR,a=i==="none"||i===0,s=0;s<n.length;s++){var o=xu(n[s].slice()),l=PR(o,.25),u=PR(o,.5),c=PR(o,.75),f=o[0],d=o[o.length-1],h=(i??1.5)*(c-l),p=a?f:Math.max(f,l-h),m=a?d:Math.min(d,c+h),g=e.itemNameFormatter,y=Xt(g)?g({value:s}):Lt(g)?g.replace("{value}",s+""):s+"";t.push([y,p,l,u,c,m]);for(var _=0;_<o.length;_++){var S=o[_];if(S<p||S>m){var A=[y,S];r.push(A)}}}return{boxData:t,outliers:r}}var T5e={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==Ps){var r="";br(r)}var i=w5e(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function C5e(n){n.registerSeriesModel(Tfe),n.registerChartView(v5e),n.registerLayout(x5e),n.registerTransform(T5e)}var A5e=["itemStyle","borderColor"],M5e=["itemStyle","borderColor0"],E5e=["itemStyle","borderColorDoji"],D5e=["itemStyle","color"],R5e=["itemStyle","color0"];function z9(n,e){return e.get(n>0?D5e:R5e)}function U9(n,e){return e.get(n===0?E5e:n>0?A5e:M5e)}var N5e={seriesType:"candlestick",plan:sS(),performRawSeries:!0,reset:function(n,e){if(!e.isSeriesFiltered(n)){var t=n.pipelineContext.large;return!t&&{progress:function(r,i){for(var a;(a=r.next())!=null;){var s=i.getItemModel(a),o=i.getItemLayout(a).sign,l=s.getItemStyle();l.fill=z9(o,s),l.stroke=U9(o,s)||l.fill;var u=i.ensureUniqueItemVisual(a,"style");at(u,l)}}}}}},I5e=["color","borderColor"],k5e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,r,i){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,r,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,r):this._incrementalRenderNormal(t,r)},e.prototype.eachRendered=function(t){Jv(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t){var r=t.getData(),i=this._data,a=this.group,s=r.getLayout("isSimpleBox"),o=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),r.diff(i).add(function(c){if(r.hasValue(c)){var f=r.getItemLayout(c);if(o&&OZ(u,f))return;var d=pO(f,c,!0);vi(d,{shape:{points:f.ends}},t,c),vO(d,r,c,s),a.add(d),r.setItemGraphicEl(c,d)}}).update(function(c,f){var d=i.getItemGraphicEl(f);if(!r.hasValue(c)){a.remove(d);return}var h=r.getItemLayout(c);if(o&&OZ(u,h)){a.remove(d);return}d?(lr(d,{shape:{points:h.ends}},t,c),Ac(d)):d=pO(h),vO(d,r,c,s),a.add(d),r.setItemGraphicEl(c,d)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=r},e.prototype._renderLarge=function(t){this._clear(),FZ(t,this.group);var r=t.get("clip",!0)?tM(t.coordinateSystem,!1,t):null;r?this.group.setClipPath(r):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,r){for(var i=r.getData(),a=i.getLayout("isSimpleBox"),s;(s=t.next())!=null;){var o=i.getItemLayout(s),l=pO(o);vO(l,i,s,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,r){FZ(r,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e})(Fr),L5e=(function(){function n(){}return n})(),P5e=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="normalCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new L5e},e.prototype.buildPath=function(t,r){var i=r.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},e})(Hn);function pO(n,e,t){var r=n.ends;return new P5e({shape:{points:t?O5e(r,n):r},z2:100})}function OZ(n,e){for(var t=!0,r=0;r<e.ends.length;r++)if(n.contain(e.ends[r][0],e.ends[r][1])){t=!1;break}return t}function vO(n,e,t,r){var i=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=r,Wa(n,i);var a=e.getItemLayout(t).sign;ie(n.states,function(o,l){var u=i.getModel(l),c=z9(a,u),f=U9(a,u)||c,d=o.style||(o.style={});c&&(d.fill=c),f&&(d.stroke=f)});var s=i.getModel("emphasis");Ei(n,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function O5e(n,e){return ht(n,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var F5e=(function(){function n(){}return n})(),mO=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new F5e},e.prototype.buildPath=function(t,r){for(var i=r.points,a=0;a<i.length;)if(this.__sign===i[a++]){var s=i[a++];t.moveTo(s,i[a++]),t.lineTo(s,i[a++])}else a+=3},e})(Hn);function FZ(n,e,t,r){var i=n.getData(),a=i.getLayout("largePoints"),s=new mO({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(s);var o=new mO({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(o);var l=new mO({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),gO(1,s,n),gO(-1,o,n),gO(0,l,n),r&&(s.incremental=!0,o.incremental=!0),t&&t.push(s,o)}function gO(n,e,t,r){var i=U9(n,t)||z9(n,t),a=t.getModel("itemStyle").getItemStyle(I5e);e.useStyle(a),e.style.fill=null,e.style.stroke=i}var Afe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,r,i){var a=r.getItemLayout(t);return a&&i.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e})(Yr);ta(Afe,wfe,!0);function B5e(n){!n||!ft(n.series)||ie(n.series,function(e){on(e)&&e.type==="k"&&(e.type="candlestick")})}var z5e={seriesType:"candlestick",plan:sS(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),r=U5e(n,t),i=0,a=1,s=["x","y"],o=t.getDimensionIndex(t.mapDimension(s[i])),l=ht(t.mapDimensionsAll(s[a]),t.getDimensionIndex,t),u=l[0],c=l[1],f=l[2],d=l[3];if(t.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),o<0||l.length<4)return;return{progress:n.pipelineContext.large?p:h};function h(m,g){for(var y,_=g.getStore();(y=m.next())!=null;){var S=_.get(o,y),A=_.get(u,y),M=_.get(c,y),E=_.get(f,y),D=_.get(d,y),I=Math.min(A,M),N=Math.max(A,M),L=Z(I,S),B=Z(N,S),O=Z(E,S),G=Z(D,S),V=[];X(V,B,0),X(V,L,1),V.push(se(G),se(B),se(O),se(L));var q=g.getItemModel(y),W=!!q.get(["itemStyle","borderColorDoji"]);g.setItemLayout(y,{sign:BZ(_,y,A,M,c,W),initBaseline:A>M?B[a]:L[a],ends:V,brushRect:K(E,D,S)})}function Z(J,H){var ee=[];return ee[i]=H,ee[a]=J,isNaN(H)||isNaN(J)?[NaN,NaN]:e.dataToPoint(ee)}function X(J,H,ee){var Q=H.slice(),ne=H.slice();Q[i]=FR(Q[i]+r/2,1,!1),ne[i]=FR(ne[i]-r/2,1,!0),ee?J.push(Q,ne):J.push(ne,Q)}function K(J,H,ee){var Q=Z(J,ee),ne=Z(H,ee);return Q[i]-=r/2,ne[i]-=r/2,{x:Q[0],y:Q[1],width:r,height:ne[1]-Q[1]}}function se(J){return J[i]=FR(J[i],1),J}}function p(m,g){for(var y=Fd(m.count*4),_=0,S,A=[],M=[],E,D=g.getStore(),I=!!n.get(["itemStyle","borderColorDoji"]);(E=m.next())!=null;){var N=D.get(o,E),L=D.get(u,E),B=D.get(c,E),O=D.get(f,E),G=D.get(d,E);if(isNaN(N)||isNaN(O)||isNaN(G)){y[_++]=NaN,_+=3;continue}y[_++]=BZ(D,E,L,B,c,I),A[i]=N,A[a]=O,S=e.dataToPoint(A,null,M),y[_++]=S?S[0]:NaN,y[_++]=S?S[1]:NaN,A[a]=G,S=e.dataToPoint(A,null,M),y[_++]=S?S[1]:NaN}g.setLayout("largePoints",y)}}};function BZ(n,e,t,r,i,a){var s;return t>r?s=-1:t<r?s=1:s=a?0:e>0?n.get(i,e-1)<=r?1:-1:1,s}function U5e(n,e){var t=n.getBaseAxis(),r,i=t.type==="category"?t.getBandWidth():(r=t.getExtent(),Math.abs(r[1]-r[0])/e.count()),a=kt(Wt(n.get("barMaxWidth"),i),i),s=kt(Wt(n.get("barMinWidth"),1),i),o=n.get("barWidth");return o!=null?kt(o,i):Math.max(Math.min(i/2,a),s)}function V5e(n){n.registerChartView(k5e),n.registerSeriesModel(Afe),n.registerPreprocessor(B5e),n.registerVisual(N5e),n.registerLayout(z5e)}function zZ(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(r){r.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var G5e=(function(n){Xe(e,n);function e(t,r){var i=n.call(this)||this,a=new QA(t,r),s=new nn;return i.add(a),i.add(s),i.updateData(t,r),i}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var r=t.symbolType,i=t.color,a=t.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var l=va(r,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-o/a*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),s.add(l)}zZ(s,t)},e.prototype.updateEffectAnimation=function(t){for(var r=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(r[o]!==t[o]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}zZ(i,t)},e.prototype.highlight=function(){Np(this)},e.prototype.downplay=function(){Ip(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,r){var i=this,a=t.hostModel;this.childAt(0).updateData(t,r);var s=this.childAt(1),o=t.getItemModel(r),l=t.getItemVisual(r,"symbol"),u=lS(t.getItemVisual(r,"symbolSize")),c=t.getItemVisual(r,"style"),f=c&&c.fill,d=o.getModel("emphasis");s.setScale(u),s.traverse(function(g){g.setStyle("fill",f)});var h=rx(t.getItemVisual(r,"symbolOffset"),u);h&&(s.x=h[0],s.y=h[1]);var p=t.getItemVisual(r,"symbolRotate");s.rotation=(p||0)*Math.PI/180||0;var m={};m.showEffectOn=a.get("showEffectOn"),m.rippleScale=o.get(["rippleEffect","scale"]),m.brushType=o.get(["rippleEffect","brushType"]),m.period=o.get(["rippleEffect","period"])*1e3,m.effectOffset=r/t.count(),m.z=a.getShallow("z")||0,m.zlevel=a.getShallow("zlevel")||0,m.symbolType=l,m.color=f,m.rippleEffectColor=o.get(["rippleEffect","color"]),m.rippleNumber=o.get(["rippleEffect","number"]),m.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){g==="emphasis"?m.showEffectOn!=="render"&&i.startEffectAnimation(m):g==="normal"&&m.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=m,Ei(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e})(nn),H5e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new eM(G5e)},e.prototype.render=function(t,r,i){var a=t.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(s.group)},e.prototype._getClipShape=function(t){var r=t.coordinateSystem,i=r&&r.getArea&&r.getArea();return t.get("clip",!0)?i:null},e.prototype.updateTransform=function(t,r,i){var a=t.getData();this.group.dirty();var s=nM("").reset(t,r,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var r=t.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=Lae(r.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e})(Fr),j5e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,r){return sh(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,r,i){return i.point(r.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e})(Yr);function W5e(n){n.registerChartView(H5e),n.registerSeriesModel(j5e),n.registerLayout(nM("effectScatter"))}var Mfe=(function(n){Xe(e,n);function e(t,r,i){var a=n.call(this)||this;return a.add(a.createLine(t,r,i)),a._updateEffectSymbol(t,r),a}return e.prototype.createLine=function(t,r,i){return new D9(t,r,i)},e.prototype._updateEffectSymbol=function(t,r){var i=t.getItemModel(r),a=i.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");ft(s)||(s=[s,s]);var l=t.getItemVisual(r,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==o&&(this.remove(c),c=va(o,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=s[0],c.scaleY=s[1],c.setColor(u),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(t,a,r))},e.prototype._updateEffectAnimation=function(t,r,i){var a=this.childAt(1);if(a){var s=t.getItemLayout(i),o=r.get("period")*1e3,l=r.get("loop"),u=r.get("roundTrip"),c=r.get("constantSpeed"),f=Is(r.get("delay"),function(h){return h/t.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),c>0&&(o=this._getLineLength(a)/c*1e3),o!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var d=void 0;Xt(f)?d=f(i):d=f,a.__t>0&&(d=-o*a.__t),this._animateSymbol(a,o,d,l,u)}this._period=o,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(t,r,i,a,s){if(r>0){t.__t=0;var o=this,l=t.animate("",a).when(s?r*2:r,{__t:s?2:1}).delay(i).during(function(){o._updateSymbolPosition(t)});a||l.done(function(){o.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return lp(t.__p1,t.__cp1)+lp(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,r){t.__p1=r[0],t.__p2=r[1],t.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},e.prototype.updateData=function(t,r,i){this.childAt(0).updateData(t,r,i),this._updateEffectSymbol(t,r)},e.prototype._updateSymbolPosition=function(t){var r=t.__p1,i=t.__p2,a=t.__cp1,s=t.__t<1?t.__t:2-t.__t,o=[t.x,t.y],l=o.slice(),u=Rs,c=a6;o[0]=u(r[0],a[0],i[0],s),o[1]=u(r[1],a[1],i[1],s);var f=t.__t<1?c(r[0],a[0],i[0],s):c(i[0],a[0],r[0],1-s),d=t.__t<1?c(r[1],a[1],i[1],s):c(i[1],a[1],r[1],1-s);t.rotation=-Math.atan2(d,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=lp(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*lp(r,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,r){this.childAt(0).updateLayout(t,r);var i=t.getItemModel(r).getModel("effect");this._updateEffectAnimation(t,i,r)},e})(nn),Efe=(function(n){Xe(e,n);function e(t,r,i){var a=n.call(this)||this;return a._createPolyline(t,r,i),a}return e.prototype._createPolyline=function(t,r,i){var a=t.getItemLayout(r),s=new Ls({shape:{points:a}});this.add(s),this._updateCommonStl(t,r,i)},e.prototype.updateData=function(t,r,i){var a=t.hostModel,s=this.childAt(0),o={shape:{points:t.getItemLayout(r)}};lr(s,o,a,r),this._updateCommonStl(t,r,i)},e.prototype._updateCommonStl=function(t,r,i){var a=this.childAt(0),s=t.getItemModel(r),o=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var f=s.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(t.getItemVisual(r,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var d=a.ensureState("emphasis");d.style=o,Ei(this,l,u,c)},e.prototype.updateLayout=function(t,r){var i=this.childAt(0);i.setShape("points",t.getItemLayout(r))},e})(nn),Y5e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,r,i){return new Efe(t,r,i)},e.prototype._updateAnimationPoints=function(t,r){this._points=r;for(var i=[0],a=0,s=1;s<r.length;s++){var o=r[s-1],l=r[s];a+=lp(o,l),i.push(a)}if(a===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=a;this._offsets=i,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var r=t.__t<1?t.__t:2-t.__t,i=this._points,a=this._offsets,s=i.length;if(a){var o=this._lastFrame,l;if(r<this._lastFramePercent){var u=Math.min(o+1,s-1);for(l=u;l>=0&&!(a[l]<=r);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(a[l]>r);l++);l=Math.min(l-1,s-2)}var c=(r-a[l])/(a[l+1]-a[l]),f=i[l],d=i[l+1];t.x=f[0]*(1-c)+c*d[0],t.y=f[1]*(1-c)+c*d[1];var h=t.__t<1?d[0]-f[0]:f[0]-d[0],p=t.__t<1?d[1]-f[1]:f[1]-d[1];t.rotation=-Math.atan2(p,h)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,t.ignore=!1}},e})(Mfe),q5e=(function(){function n(){this.polyline=!1,this.curveness=0,this.segs=[]}return n})(),X5e=(function(n){Xe(e,n);function e(t){var r=n.call(this,t)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:qe.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new q5e},e.prototype.buildPath=function(t,r){var i=r.segs,a=r.curveness,s;if(r.polyline)for(s=this._off;s<i.length;){var o=i[s++];if(o>0){t.moveTo(i[s++],i[s++]);for(var l=1;l<o;l++)t.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var u=i[s++],c=i[s++],f=i[s++],d=i[s++];if(t.moveTo(u,c),a>0){var h=(u+f)/2-(c-d)*a,p=(c+d)/2-(f-u)*a;t.quadraticCurveTo(h,p,f,d)}else t.lineTo(f,d)}this.incremental&&(this._off=s,this.notClear=!0)},e.prototype.findDataIndex=function(t,r){var i=this.shape,a=i.segs,s=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],d=a[u++],h=1;h<c;h++){var p=a[u++],m=a[u++];if(rv(f,d,p,m,o,t,r))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],d=a[u++],p=a[u++],m=a[u++];if(s>0){var g=(f+p)/2-(d-m)*s,y=(d+m)/2-(p-f)*s;if(Ese(f,d,g,y,p,m,o,t,r))return l}else if(rv(f,d,p,m,o,t,r))return l;l++}return-1},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(t=i[0],r=i[1],a.contain(t,r)){var s=this.hoverDataIdx=this.findDataIndex(t,r);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,i=r.segs,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],f=i[u++];a=Math.min(c,a),o=Math.max(c,o),s=Math.min(f,s),l=Math.max(f,l)}t=this._rect=new cn(a,s,o,l)}return t},e})(Hn),Z5e=(function(){function n(){this.group=new nn}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var r=this._newAdded[0],i=t.getLayout("linesPoints"),a=r&&r.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+i.length);o.set(a),o.set(i,s),r.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,t),l.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new X5e({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,r){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var s=fn(e);s.seriesIndex=i.seriesIndex,e.on("mousemove",function(o){s.dataIndex=null;var l=e.hoverDataIdx;l>0&&(s.dataIndex=l+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n})(),Dfe={seriesType:"lines",plan:sS(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),r=n.pipelineContext.large;return{progress:function(i,a){var s=[];if(r){var o=void 0,l=i.end-i.start;if(t){for(var u=0,c=i.start;c<i.end;c++)u+=n.getLineCoordsCount(c);o=new Float32Array(l+u*2)}else o=new Float32Array(l*4);for(var f=0,d=[],c=i.start;c<i.end;c++){var h=n.getLineCoords(c,s);t&&(o[f++]=h);for(var p=0;p<h;p++)d=e.dataToPoint(s[p],!1,d),o[f++]=d[0],o[f++]=d[1]}a.setLayout("linesPoints",o)}else for(var c=i.start;c<i.end;c++){var m=a.getItemModel(c),h=n.getLineCoords(c,s),g=[];if(t)for(var y=0;y<h;y++)g.push(e.dataToPoint(s[y]));else{g[0]=e.dataToPoint(s[0]),g[1]=e.dataToPoint(s[1]);var _=m.get(["lineStyle","curveness"]);+_&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*_,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*_])}a.setItemLayout(c,g)}}}}}},K5e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.getData(),s=this._updateLineDraw(a,t),o=t.get("zlevel"),l=t.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(c||u.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(a);var f=t.get("clip",!0)&&tM(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,r,i){var a=t.getData(),s=this._updateLineDraw(a,t);s.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(t,r,i){this._lineDraw.incrementalUpdate(t,r.getData()),this._finished=t.end===r.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,r,i){var a=t.getData(),s=t.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=Dfe.reset(t,r,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(t,r){var i=this._lineDraw,a=this._showEffect(r),s=!!r.get("polyline"),o=r.pipelineContext,l=o.large;return(!i||a!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new Z5e:new R9(s?a?Y5e:Efe:a?Mfe:D9),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(i.group),i},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var r=t.getZr(),i=r.painter.getType()==="svg";!i&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.type="lines",e})(Fr),$5e=typeof Uint32Array>"u"?Array:Uint32Array,J5e=typeof Float64Array>"u"?Array:Float64Array;function UZ(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=ht(e,function(t){var r=[t[0].coord,t[1].coord],i={coords:r};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),Yk([i,t[0],t[1]])}))}var Q5e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],UZ(t);var r=this._processFlatCoordsArray(t.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(t.data=new Float32Array(r.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(UZ(t),t.data){var r=this._processFlatCoordsArray(t.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(t.data=new Float32Array(r.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var r=this._processFlatCoordsArray(t.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=db(this._flatCoords,r.flatCoords),this._flatCoordsOffset=db(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),t.data=new Float32Array(r.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var r=this.getData().getItemModel(t),i=r.option instanceof Array?r.option:r.getShallow("coords");return i},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[t*2],a=this._flatCoordsOffset[t*2+1],s=0;s<a;s++)r[s]=r[s]||[],r[s][0]=this._flatCoords[i+s*2],r[s][1]=this._flatCoords[i+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(t),s=0;s<o.length;s++)r[s]=r[s]||[],r[s][0]=o[s][0],r[s][1]=o[s][1];return o.length}},e.prototype._processFlatCoordsArray=function(t){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),nr(t[0])){for(var i=t.length,a=new $5e(i),s=new J5e(i),o=0,l=0,u=0,c=0;c<i;){u++;var f=t[c++];a[l++]=o+r,a[l++]=f;for(var d=0;d<f;d++){var h=t[c++],p=t[c++];s[o++]=h,s[o++]=p}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:s,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,r){var i=new Lo(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(a,s,o,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),s=a.getItemModel(t),o=s.get("name");if(o)return o;var l=s.get("fromName"),u=s.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Ia("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),r=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&r>0?r+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e})(Yr);function tD(n){return n instanceof Array||(n=[n,n]),n}var eOe={seriesType:"lines",reset:function(n){var e=tD(n.get("symbol")),t=tD(n.get("symbolSize")),r=n.getData();r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",t&&t[0]),r.setVisual("toSymbolSize",t&&t[1]);function i(a,s){var o=a.getItemModel(s),l=tD(o.getShallow("symbol",!0)),u=tD(o.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(s,"fromSymbol",l[0]),l[1]&&a.setItemVisual(s,"toSymbol",l[1]),u[0]&&a.setItemVisual(s,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(s,"toSymbolSize",u[1])}return{dataEach:r.hasItemOption?i:null}}};function tOe(n){n.registerChartView(K5e),n.registerSeriesModel(Q5e),n.registerLayout(Dfe),n.registerVisual(eOe)}var nOe=256,rOe=(function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=ql.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,r,i,a,s){var o=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,d=f.getContext("2d"),h=e.length;f.width=t,f.height=r;for(var p=0;p<h;++p){var m=e[p],g=m[0],y=m[1],_=m[2],S=i(_);d.globalAlpha=S,d.drawImage(o,g-c,y-c)}if(!f.width||!f.height)return f;for(var A=d.getImageData(0,0,f.width,f.height),M=A.data,E=0,D=M.length,I=this.minOpacity,N=this.maxOpacity,L=N-I;E<D;){var S=M[E+3]/256,B=Math.floor(S*(nOe-1))*4;if(S>0){var O=s(S)?l:u;S>0&&(S=S*L+I),M[E++]=O[B],M[E++]=O[B+1],M[E++]=O[B+2],M[E++]=O[B+3]*S*256}else E+=4}return d.putImageData(A,0,0),f},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=ql.createCanvas()),t=this.pointSize+this.blurSize,r=t*2;e.width=r,e.height=r;var i=e.getContext("2d");return i.clearRect(0,0,r,r),i.shadowOffsetX=r,i.shadowBlur=this.blurSize,i.shadowColor=qe.color.neutral99,i.beginPath(),i.arc(-t,t,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),e},n.prototype._getGradient=function(e,t){for(var r=this._gradientPixels,i=r[t]||(r[t]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)e[t](o/255,!0,a),i[s++]=a[0],i[s++]=a[1],i[s++]=a[2],i[s++]=a[3];return i},n})();function iOe(n,e,t){var r=n[1]-n[0];e=ht(e,function(s){return{interval:[(s.interval[0]-n[0])/r,(s.interval[1]-n[0])/r]}});var i=e.length,a=0;return function(s){var o;for(o=a;o<i;o++){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}if(o===i)for(o=a-1;o>=0;o--){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}return o>=0&&o<i&&t[o]}}function aOe(n,e){var t=n[1]-n[0];return e=[(e[0]-n[0])/t,(e[1]-n[0])/t],function(r){return r>=e[0]&&r<=e[1]}}function VZ(n){var e=n.dimensions;return e[0]==="lng"&&e[1]==="lat"}var sOe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a;r.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===t&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=t.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"||s.type==="matrix"?this._renderOnGridLike(t,i,0,t.getData().count()):VZ(s)&&this._renderOnGeo(s,t,a,i)},e.prototype.incrementalPrepareRender=function(t,r,i){this.group.removeAll()},e.prototype.incrementalRender=function(t,r,i,a){var s=r.coordinateSystem;s&&(VZ(s)?this.render(r,i,a):(this._progressiveEls=[],this._renderOnGridLike(r,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Jv(this._progressiveEls||this.group,t)},e.prototype._renderOnGridLike=function(t,r,i,a,s){var o=t.coordinateSystem,l=Ov(o,"cartesian2d"),u=Ov(o,"matrix"),c,f,d,h;if(l){var p=o.getAxis("x"),m=o.getAxis("y");c=p.getBandWidth()+.5,f=m.getBandWidth()+.5,d=p.scale.getExtent(),h=m.scale.getExtent()}for(var g=this.group,y=t.getData(),_=t.getModel(["emphasis","itemStyle"]).getItemStyle(),S=t.getModel(["blur","itemStyle"]).getItemStyle(),A=t.getModel(["select","itemStyle"]).getItemStyle(),M=t.get(["itemStyle","borderRadius"]),E=Ya(t),D=t.getModel("emphasis"),I=D.get("focus"),N=D.get("blurScope"),L=D.get("disabled"),B=l||u?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],O=i;O<a;O++){var G=void 0,V=y.getItemVisual(O,"style");if(l){var q=y.get(B[0],O),W=y.get(B[1],O);if(isNaN(y.get(B[2],O))||isNaN(q)||isNaN(W)||q<d[0]||q>d[1]||W<h[0]||W>h[1])continue;var Z=o.dataToPoint([q,W]);G=new Pn({shape:{x:Z[0]-c/2,y:Z[1]-f/2,width:c,height:f},style:V})}else if(u){var X=o.dataToLayout([y.get(B[0],O),y.get(B[1],O)]).rect;if(Zs(X.x))continue;G=new Pn({z2:1,shape:X,style:V})}else{if(isNaN(y.get(B[1],O)))continue;var K=o.dataToLayout([y.get(B[0],O)]),X=K.contentRect||K.rect;if(Zs(X.x)||Zs(X.y))continue;G=new Pn({z2:1,shape:X,style:V})}if(y.hasItemOption){var se=y.getItemModel(O),J=se.getModel("emphasis");_=J.getModel("itemStyle").getItemStyle(),S=se.getModel(["blur","itemStyle"]).getItemStyle(),A=se.getModel(["select","itemStyle"]).getItemStyle(),M=se.get(["itemStyle","borderRadius"]),I=J.get("focus"),N=J.get("blurScope"),L=J.get("disabled"),E=Ya(se)}G.shape.r=M;var H=t.getRawValue(O),ee="-";H&&H[2]!=null&&(ee=H[2]+""),cs(G,E,{labelFetcher:t,labelDataIndex:O,defaultOpacity:V.opacity,defaultText:ee}),G.ensureState("emphasis").style=_,G.ensureState("blur").style=S,G.ensureState("select").style=A,Ei(G,I,N,L),G.incremental=s,s&&(G.states.emphasis.hoverLayer=!0),g.add(G),y.setItemGraphicEl(O,G),this._progressiveEls&&this._progressiveEls.push(G)}},e.prototype._renderOnGeo=function(t,r,i,a){var s=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,l=r.getData(),u=this._hmLayer||this._hmLayer||new rOe;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var c=t.getViewRect().clone(),f=t.getRoamTransform();c.applyTransform(f);var d=Math.max(c.x,0),h=Math.max(c.y,0),p=Math.min(c.width+c.x,a.getWidth()),m=Math.min(c.height+c.y,a.getHeight()),g=p-d,y=m-h,_=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],S=l.mapArray(_,function(D,I,N){var L=t.dataToPoint([D,I]);return L[0]-=d,L[1]-=h,L.push(N),L}),A=i.getExtent(),M=i.type==="visualMap.continuous"?aOe(A,i.option.range):iOe(A,i.getPieceList(),i.option.selected);u.update(S,g,y,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},M);var E=new ps({style:{width:g,height:y,x:d,y:h,image:u.canvas},silent:!0});this.group.add(E)},e.type="heatmap",e})(Fr),oOe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return sh(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=aS.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:qe.color.primary}}},e})(Yr);function lOe(n){n.registerChartView(sOe),n.registerSeriesModel(oOe)}var uOe=["itemStyle","borderWidth"],GZ=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],yO=new ah,cOe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=this.group,s=t.getData(),o=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),d={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:GZ[+c],categoryDim:GZ[1-+c]};s.diff(o).add(function(p){if(s.hasValue(p)){var m=jZ(s,p),g=HZ(s,p,m,d),y=WZ(s,d,g);s.setItemGraphicEl(p,y),a.add(y),qZ(y,d,g)}}).update(function(p,m){var g=o.getItemGraphicEl(m);if(!s.hasValue(p)){a.remove(g);return}var y=jZ(s,p),_=HZ(s,p,y,d),S=Pfe(s,_);g&&S!==g.__pictorialShapeStr&&(a.remove(g),s.setItemGraphicEl(p,null),g=null),g?gOe(g,d,_):g=WZ(s,d,_,!0),s.setItemGraphicEl(p,g),g.__pictorialSymbolMeta=_,a.add(g),qZ(g,d,_)}).remove(function(p){var m=o.getItemGraphicEl(p);m&&YZ(o,p,m.__pictorialSymbolMeta.animationModel,m)}).execute();var h=t.get("clip",!0)?tM(t.coordinateSystem,!1,t):null;return h?a.setClipPath(h):a.removeClipPath(),this._data=s,this.group},e.prototype.remove=function(t,r){var i=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(s){YZ(a,fn(s).dataIndex,t,s)}):i.removeAll()},e.type="pictorialBar",e})(Fr);function HZ(n,e,t,r){var i=n.getItemLayout(e),a=t.get("symbolRepeat"),s=t.get("symbolClip"),o=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=t.get("symbolPatternSize")||2,f=t.isAnimationEnabled(),d={dataIndex:e,layout:i,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?t:null,hoverScale:f&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};fOe(t,a,i,r,d),dOe(n,e,i,a,s,d.boundingLength,d.pxSign,c,r,d),hOe(t,d.symbolScale,u,r,d);var h=d.symbolSize,p=rx(t.get("symbolOffset"),h);return pOe(t,h,i,a,s,p,o,d.valueLineWidth,d.boundingLength,d.repeatCutLength,r,d),d}function fOe(n,e,t,r,i){var a=r.valueDim,s=n.get("symbolBoundingData"),o=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),u=1-+(t[a.wh]<=0),c;if(ft(s)){var f=[xO(o,s[0])-l,xO(o,s[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else s!=null?c=xO(o,s)-l:e?c=r.coordSysExtent[a.index][u]-l:c=t[a.wh];i.boundingLength=c,e&&(i.repeatCutLength=t[a.wh]);var d=a.xy==="x",h=o.inverse;i.pxSign=d&&!h||!d&&h?c>=0?1:-1:c>0?1:-1}function xO(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function dOe(n,e,t,r,i,a,s,o,l,u){var c=l.valueDim,f=l.categoryDim,d=Math.abs(t[f.wh]),h=n.getItemVisual(e,"symbolSize"),p;ft(h)?p=h.slice():h==null?p=["100%","100%"]:p=[h,h],p[f.index]=kt(p[f.index],d),p[c.index]=kt(p[c.index],r?d:Math.abs(a)),u.symbolSize=p;var m=u.symbolScale=[p[0]/o,p[1]/o];m[c.index]*=(l.isHorizontal?-1:1)*s}function hOe(n,e,t,r,i){var a=n.get(uOe)||0;a&&(yO.attr({scaleX:e[0],scaleY:e[1],rotation:t}),yO.updateTransform(),a/=yO.getLineScale(),a*=e[r.valueDim.index]),i.valueLineWidth=a||0}function pOe(n,e,t,r,i,a,s,o,l,u,c,f){var d=c.categoryDim,h=c.valueDim,p=f.pxSign,m=Math.max(e[h.index]+o,0),g=m;if(r){var y=Math.abs(l),_=Is(n.get("symbolMargin"),"15%")+"",S=!1;_.lastIndexOf("!")===_.length-1&&(S=!0,_=_.slice(0,_.length-1));var A=kt(_,e[h.index]),M=Math.max(m+A*2,0),E=S?0:A*2,D=KU(r),I=D?r:XZ((y+E)/M),N=y-I*m;A=N/2/(S?I:Math.max(I-1,1)),M=m+A*2,E=S?0:A*2,!D&&r!=="fixed"&&(I=u?XZ((Math.abs(u)+E)/M):0),g=I*M-E,f.repeatTimes=I,f.symbolMargin=A}var L=p*(g/2),B=f.pathPosition=[];B[d.index]=t[d.wh]/2,B[h.index]=s==="start"?L:s==="end"?l-L:l/2,a&&(B[0]+=a[0],B[1]+=a[1]);var O=f.bundlePosition=[];O[d.index]=t[d.xy],O[h.index]=t[h.xy];var G=f.barRectShape=at({},t);G[h.wh]=p*Math.max(Math.abs(t[h.wh]),Math.abs(B[h.index]+L)),G[d.wh]=t[d.wh];var V=f.clipShape={};V[d.xy]=-t[d.xy],V[d.wh]=c.ecSize[d.wh],V[h.xy]=0,V[h.wh]=t[h.wh]}function Rfe(n){var e=n.symbolPatternSize,t=va(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function Nfe(n,e,t,r){var i=n.__pictorialBundle,a=t.symbolSize,s=t.valueLineWidth,o=t.pathPosition,l=e.valueDim,u=t.repeatTimes||0,c=0,f=a[e.valueDim.index]+s+t.symbolMargin*2;for(V9(n,function(m){m.__pictorialAnimationIndex=c,m.__pictorialRepeatTimes=u,c<u?eb(m,null,p(c),t,r):eb(m,null,{scaleX:0,scaleY:0},t,r,function(){i.remove(m)}),c++});c<u;c++){var d=Rfe(t);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,i.add(d);var h=p(c);eb(d,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},t,r)}function p(m){var g=o.slice(),y=t.pxSign,_=m;return(t.symbolRepeatDirection==="start"?y>0:y<0)&&(_=u-1-m),g[l.index]=f*(_-u/2+.5)+o[l.index],{x:g[0],y:g[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function Ife(n,e,t,r){var i=n.__pictorialBundle,a=n.__pictorialMainPath;a?eb(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,r):(a=n.__pictorialMainPath=Rfe(t),i.add(a),eb(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,r))}function kfe(n,e,t){var r=at({},e.barRectShape),i=n.__pictorialBarRect;i?eb(i,null,{shape:r},e,t):(i=n.__pictorialBarRect=new Pn({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,n.add(i))}function Lfe(n,e,t,r){if(t.symbolClip){var i=n.__pictorialClipPath,a=at({},t.clipShape),s=e.valueDim,o=t.animationModel,l=t.dataIndex;if(i)lr(i,{shape:a},o,l);else{a[s.wh]=0,i=new Pn({shape:a}),n.__pictorialBundle.setClipPath(i),n.__pictorialClipPath=i;var u={};u[s.wh]=t.clipShape[s.wh],ex[r?"updateProps":"initProps"](i,{shape:u},o,l)}}}function jZ(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=vOe,t.isAnimationEnabled=mOe,t}function vOe(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function mOe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function WZ(n,e,t,r){var i=new nn,a=new nn;return i.add(a),i.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?Nfe(i,e,t):Ife(i,e,t),kfe(i,t,r),Lfe(i,e,t,r),i.__pictorialShapeStr=Pfe(n,t),i.__pictorialSymbolMeta=t,i}function gOe(n,e,t){var r=t.animationModel,i=t.dataIndex,a=n.__pictorialBundle;lr(a,{x:t.bundlePosition[0],y:t.bundlePosition[1]},r,i),t.symbolRepeat?Nfe(n,e,t,!0):Ife(n,e,t,!0),kfe(n,t,!0),Lfe(n,e,t,!0)}function YZ(n,e,t,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var a=[];V9(r,function(s){a.push(s)}),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(t=null),ie(a,function(s){Pv(s,{scaleX:0,scaleY:0},t,e,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(e,null)}function Pfe(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function V9(n,e,t){ie(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&e.call(t,r)})}function eb(n,e,t,r,i,a){e&&n.attr(e),r.symbolClip&&!i?t&&n.attr(t):t&&ex[i?"updateProps":"initProps"](n,t,r.animationModel,r.dataIndex,a)}function qZ(n,e,t){var r=t.dataIndex,i=t.itemModel,a=i.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),d=a.get("scale");V9(n,function(m){if(m instanceof ps){var g=m.style;m.useStyle(at({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},t.style))}else m.useStyle(t.style);var y=m.ensureState("emphasis");y.style=s,d&&(y.scaleX=m.scaleX*1.1,y.scaleY=m.scaleY*1.1),m.ensureState("blur").style=o,m.ensureState("select").style=l,u&&(m.cursor=u),m.z2=t.z2});var h=e.valueDim.posDesc[+(t.boundingLength>0)],p=n.__pictorialBarRect;p.ignoreClip=!0,cs(p,Ya(i),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:wb(e.seriesModel.getData(),r),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:h}),Ei(n,c,f,a.get("disabled"))}function XZ(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}var yOe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Qv(HC.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:qe.color.primary}}}),e})(HC);function xOe(n){n.registerChartView(cOe),n.registerSeriesModel(yOe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Sn(tue,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,nue("pictorialBar"))}var _Oe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,r,i){var a=t.getData(),s=this,o=this.group,l=t.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;o.x=0,o.y=c.y+f[0];function d(g){return g.name}var h=new kp(this._layersSeries||[],l,d,d),p=[];h.add(Ot(m,this,"add")).update(Ot(m,this,"update")).remove(Ot(m,this,"remove")).execute();function m(g,y,_){var S=s._layers;if(g==="remove"){o.remove(S[y]);return}for(var A=[],M=[],E,D=l[y].indices,I=0;I<D.length;I++){var N=a.getItemLayout(D[I]),L=N.x,B=N.y0,O=N.y;A.push(L,B),M.push(L,B+O),E=a.getItemVisual(D[I],"style")}var G,V=a.getItemLayout(D[0]),q=t.getModel("label"),W=q.get("margin"),Z=t.getModel("emphasis");if(g==="add"){var X=p[y]=new nn;G=new Yue({shape:{points:A,stackedOnPoints:M,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),X.add(G),o.add(X),t.isAnimationEnabled()&&G.setClipPath(bOe(G.getBoundingRect(),t,function(){G.removeClipPath()}))}else{var X=S[_];G=X.childAt(0),o.add(X),p[y]=X,lr(G,{shape:{points:A,stackedOnPoints:M}},t),Ac(G)}cs(G,Ya(t),{labelDataIndex:D[I-1],defaultText:a.getName(D[I-1]),inheritColor:E.fill},{normal:{verticalAlign:"middle"}}),G.setTextConfig({position:null,local:!0});var K=G.getTextContent();K&&(K.x=V.x-W,K.y=V.y0+V.y/2),G.useStyle(E),a.setItemGraphicEl(y,G),Wa(G,t),Ei(G,Z.get("focus"),Z.get("blurScope"),Z.get("disabled"))}this._layersSeries=l,this._layers=p},e.type="themeRiver",e})(Fr);function bOe(n,e,t){var r=new Pn({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return vi(r,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},e,t),r}var _O=2,SOe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new pS(Ot(this.getData,this),Ot(this.getRawData,this))},e.prototype.fixData=function(t){var r=t.length,i={},a=b6(t,function(d){return i.hasOwnProperty(d[0]+"")||(i[d[0]+""]=-1),d[2]}),s=[];a.buckets.each(function(d,h){s.push({name:h,dataList:d})});for(var o=s.length,l=0;l<o;++l){for(var u=s[l].name,c=0;c<s[l].dataList.length;++c){var f=s[l].dataList[c][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,t[r]=[f,0,u],r++)}return t},e.prototype.getInitialData=function(t,r){for(var i=this.getReferringComponents("singleAxis",Hi).models[0],a=i.get("type"),s=vr(t.data,function(p){return p[2]!==void 0}),o=this.fixData(s||[]),l=[],u=this.nameMap=jt(),c=0,f=0;f<o.length;++f)l.push(o[f][_O]),u.get(o[f][_O])||(u.set(o[f][_O],c),c++);var d=uS(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:UN(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new Lo(d,this);return h.initData(o),h},e.prototype.getLayerSeries=function(){for(var t=this.getData(),r=t.count(),i=[],a=0;a<r;++a)i[a]=a;var s=t.mapDimension("single"),o=b6(i,function(u){return t.get("name",u)}),l=[];return o.buckets.each(function(u,c){u.sort(function(f,d){return t.get(s,f)-t.get(s,d)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(t,r,i){ft(t)||(t=t?[t]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,d=-1,h=s[c].indices.length,p=0;p<h;++p){var m=a.get(t[0],s[c].indices[p]),g=Math.abs(m-r);g<=f&&(u=m,f=g,d=s[c].indices[p])}o.push(d)}return{dataIndices:o,nestestValue:u}},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),s=a.getName(t),o=a.get(a.mapDimension("value"),t);return Ia("nameValue",{name:s,value:o})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e})(Yr);function wOe(n,e){n.eachSeriesByType("themeRiver",function(t){var r=t.getData(),i=t.coordinateSystem,a={},s=i.getRect();a.rect=s;var o=t.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=o,l.orient==="horizontal"){o[0]=kt(o[0],s.height),o[1]=kt(o[1],s.height);var u=s.height-o[0]-o[1];ZZ(r,t,u)}else{o[0]=kt(o[0],s.width),o[1]=kt(o[1],s.width);var c=s.width-o[0]-o[1];ZZ(r,t,c)}r.setLayout("layoutInfo",a)})}function ZZ(n,e,t){if(n.count())for(var r=e.coordinateSystem,i=e.getLayerSeries(),a=n.mapDimension("single"),s=n.mapDimension("value"),o=ht(i,function(g){return ht(g.indices,function(y){var _=r.dataToPoint(n.get(a,y));return _[1]=n.get(s,y),_})}),l=TOe(o),u=l.y0,c=t/l.max,f=i.length,d=i[0].indices.length,h,p=0;p<d;++p){h=u[p]*c,n.setItemLayout(i[0].indices[p],{layerIndex:0,x:o[0][p][0],y0:h,y:o[0][p][1]*c});for(var m=1;m<f;++m)h+=o[m-1][p][1]*c,n.setItemLayout(i[m].indices[p],{layerIndex:m,x:o[m][p][0],y0:h,y:o[m][p][1]*c})}}function TOe(n){for(var e=n.length,t=n[0].length,r=[],i=[],a=0,s=0;s<t;++s){for(var o=0,l=0;l<e;++l)o+=n[l][s][1];o>a&&(a=o),r.push(o)}for(var u=0;u<t;++u)i[u]=(a-r[u])/2;a=0;for(var c=0;c<t;++c){var f=r[c]+i[c];f>a&&(a=f)}return{y0:i,max:a}}function COe(n){n.registerChartView(_Oe),n.registerSeriesModel(SOe),n.registerLayout(wOe),n.registerProcessor(dS("themeRiver"))}var AOe=2,MOe=4,KZ=(function(n){Xe(e,n);function e(t,r,i,a){var s=n.call(this)||this;s.z2=AOe,s.textConfig={inside:!0},fn(s).seriesIndex=r.seriesIndex;var o=new tr({z2:MOe,silent:t.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,t,r,i,a),s}return e.prototype.updateData=function(t,r,i,a,s){this.node=r,r.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var o=this;fn(o).dataIndex=r.dataIndex;var l=r.getModel(),u=l.getModel("emphasis"),c=r.getLayout(),f=at({},c);f.label=null;var d=r.getVisual("style");d.lineJoin="bevel";var h=r.getVisual("decal");h&&(d.decal=_b(h,s));var p=zd(l.getModel("itemStyle"),f,!0);at(f,p),ie(bl,function(_){var S=o.ensureState(_),A=l.getModel([_,"itemStyle"]);S.style=A.getItemStyle();var M=zd(A,f);M&&(S.shape=M)}),t?(o.setShape(f),o.shape.r=c.r0,vi(o,{shape:{r:c.r}},i,r.dataIndex)):(lr(o,{shape:f},i),Ac(o)),o.useStyle(d),this._updateLabel(i);var m=l.getShallow("cursor");m&&o.attr("cursor",m),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var g=u.get("focus"),y=g==="relative"?db(r.getAncestorsIndices(),r.getDescendantIndices()):g==="ancestor"?r.getAncestorsIndices():g==="descendant"?r.getDescendantIndices():g;Ei(this,y,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t){var r=this,i=this.node.getModel(),a=i.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,d=f.getTextContent(),h=this.node.dataIndex,p=a.get("minAngle")/180*Math.PI,m=a.get("show")&&!(p!=null&&Math.abs(o)<p);d.ignore=!m,ie(DC,function(y){var _=y==="normal"?i.getModel("label"):i.getModel([y,"label"]),S=y==="normal",A=S?d:d.ensureState(y),M=t.getFormattedLabel(h,y);S&&(M=M||r.node.name),A.style=ti(_,{},null,y!=="normal",!0),M&&(A.style.text=M);var E=_.get("show");E!=null&&!S&&(A.ignore=!E);var D=g(_,"position"),I=S?f:f.states[y],N=I.style.fill;I.textConfig={outsideFill:_.get("color")==="inherit"?N:null,inside:D!=="outside"};var L,B=g(_,"distance")||0,O=g(_,"align"),G=g(_,"rotate"),V=Math.PI*.5,q=Math.PI*1.5,W=_u(G==="tangential"?Math.PI/2-l:l),Z=W>V&&!vb(W-V)&&W<q;D==="outside"?(L=s.r+B,O=Z?"right":"left"):!O||O==="center"?(o===2*Math.PI&&s.r0===0?L=0:L=(s.r+s.r0)/2,O="center"):O==="left"?(L=s.r0+B,O=Z?"right":"left"):O==="right"&&(L=s.r-B,O=Z?"left":"right"),A.style.align=O,A.style.verticalAlign=g(_,"verticalAlign")||"middle",A.x=L*u+s.cx,A.y=L*c+s.cy;var X=0;G==="radial"?X=_u(-l)+(Z?Math.PI:0):G==="tangential"?X=_u(Math.PI/2-l)+(Z?Math.PI:0):nr(G)&&(X=G*Math.PI/180),A.rotation=_u(X)});function g(y,_){var S=y.get(_);return S??a.get(_)}d.dirtyStyle()},e})(no),F8="sunburstRootToNode",$Z="sunburstHighlight",EOe="sunburstUnhighlight";function DOe(n){n.registerAction({type:F8,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(i,a){var s=WC(e,[F8],i);if(s){var o=i.getViewRoot();o&&(e.direction=T9(o,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}}),n.registerAction({type:$Z,update:"none"},function(e,t,r){e=at({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(a){var s=WC(e,[$Z],a);s&&(e.dataIndex=s.node.dataIndex)}r.dispatchAction(at(e,{type:"highlight"}))}),n.registerAction({type:EOe,update:"updateView"},function(e,t,r){e=at({},e),r.dispatchAction(at(e,{type:"downplay"}))})}var ROe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){var s=this;this.seriesModel=t,this.api=i,this.ecModel=r;var o=t.getData(),l=o.tree.root,u=t.getViewRoot(),c=this.group,f=t.get("renderLabelForZeroData"),d=[];u.eachNode(function(_){d.push(_)});var h=this._oldChildren||[];p(d,h),y(l,u),this._initEvents(),this._oldChildren=d;function p(_,S){if(_.length===0&&S.length===0)return;new kp(S,_,A,A).add(M).update(M).remove(Sn(M,null)).execute();function A(E){return E.getId()}function M(E,D){var I=E==null?null:_[E],N=D==null?null:S[D];m(I,N)}}function m(_,S){if(!f&&_&&!_.getValue()&&(_=null),_!==l&&S!==l){if(S&&S.piece)_?(S.piece.updateData(!1,_,t,r,i),o.setItemGraphicEl(_.dataIndex,S.piece)):g(S);else if(_){var A=new KZ(_,t,r,i);c.add(A),o.setItemGraphicEl(_.dataIndex,A)}}}function g(_){_&&_.piece&&(c.remove(_.piece),_.piece=null)}function y(_,S){S.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,_,t,r,i):(s.virtualPiece=new KZ(_,t,r,i),c.add(s.virtualPiece)),S.piece.off("click"),s.virtualPiece.on("click",function(A){s._rootToNode(S.parentNode)})):s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(r){var i=!1,a=t.seriesModel.getViewRoot();a.eachNode(function(s){if(!i&&s.piece&&s.piece===r.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")t._rootToNode(s);else if(o==="link"){var l=s.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";RN(u,c)}}i=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:F8,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="sunburst",e})(Fr),NOe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,r){var i={name:t.name,children:t.data};Ofe(i);var a=this._levelModels=ht(t.levels||[],function(l){return new Gn(l,this,r)},this),s=w9.createTree(i,this,o);function o(l){l.wrapMethod("getItemModel",function(u,c){var f=s.getNodeByDataIndex(c),d=a[f.depth];return d&&(u.parentModel=d),u})}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treePathInfo=TL(i,this),r},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var r=this.getRawData().tree.root;(!t||t!==r&&!r.contains(t))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){Uce(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e})(Yr);function Ofe(n){var e=0;ie(n.children,function(r){Ofe(r);var i=r.value;ft(i)&&(i=i[0]),e+=i});var t=n.value;ft(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ft(n.value)?n.value[0]=t:n.value=t}var JZ=Math.PI/180;function IOe(n,e,t){e.eachSeriesByType(n,function(r){var i=r.get("center"),a=r.get("radius");ft(a)||(a=[0,a]),ft(i)||(i=[i,i]);var s=t.getWidth(),o=t.getHeight(),l=Math.min(s,o),u=kt(i[0],s),c=kt(i[1],o),f=kt(a[0],l/2),d=kt(a[1],l/2),h=-r.get("startAngle")*JZ,p=r.get("minAngle")*JZ,m=r.getData().tree.root,g=r.getViewRoot(),y=g.depth,_=r.get("sort");_!=null&&Ffe(g,_);var S=0;ie(g.children,function(W){!isNaN(W.getValue())&&S++});var A=g.getValue(),M=Math.PI/(A||S)*2,E=g.depth>0,D=g.height-(E?-1:1),I=(d-f)/(D||1),N=r.get("clockwise"),L=r.get("stillShowZeroSum"),B=N?1:-1,O=function(W,Z){if(W){var X=Z;if(W!==m){var K=W.getValue(),se=A===0&&L?M:K*M;se<p&&(se=p),X=Z+B*se;var J=W.depth-y-(E?-1:1),H=f+I*J,ee=f+I*(J+1),Q=r.getLevelModel(W);if(Q){var ne=Q.get("r0",!0),ce=Q.get("r",!0),ve=Q.get("radius",!0);ve!=null&&(ne=ve[0],ce=ve[1]),ne!=null&&(H=kt(ne,l/2)),ce!=null&&(ee=kt(ce,l/2))}W.setLayout({angle:se,startAngle:Z,endAngle:X,clockwise:N,cx:u,cy:c,r0:H,r:ee})}if(W.children&&W.children.length){var xe=0;ie(W.children,function(we){xe+=O(we,Z+xe)})}return X-Z}};if(E){var G=f,V=f+I,q=Math.PI*2;m.setLayout({angle:q,startAngle:h,endAngle:h+q,clockwise:N,cx:u,cy:c,r0:G,r:V})}O(g,h)})}function Ffe(n,e){var t=n.children||[];n.children=kOe(t,e),t.length&&ie(n.children,function(r){Ffe(r,e)})}function kOe(n,e){if(Xt(e)){var t=ht(n,function(i,a){var s=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return s}},index:a}});return t.sort(function(i,a){return e(i.params,a.params)}),ht(t,function(i){return n[i.index]})}else{var r=e==="asc";return n.sort(function(i,a){var s=(i.getValue()-a.getValue())*(r?1:-1);return s===0?(i.dataIndex-a.dataIndex)*(r?-1:1):s})}}function LOe(n){var e={};function t(r,i,a){if(r.depth===0)return qe.color.neutral50;for(var s=r;s&&s.depth>1;)s=s.parentNode;var o=i.getColorFromPalette(s.name||s.dataIndex+"",e);return r.depth>1&&Lt(o)&&(o=mN(o,(r.depth-1)/(a-1)*.5)),o}n.eachSeriesByType("sunburst",function(r){var i=r.getData(),a=i.tree;a.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(s,r,a.root.height));var u=i.ensureUniqueItemVisual(s.dataIndex,"style");at(u,l)})})}function POe(n){n.registerChartView(ROe),n.registerSeriesModel(NOe),n.registerLayout(Sn(IOe,"sunburst")),n.registerProcessor(Sn(dS,"sunburst")),n.registerVisual(LOe),DOe(n)}var QZ={color:"fill",borderColor:"stroke"},OOe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},_p=Un(),FOe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,r){return sh(null,this)},e.prototype.getDataParams=function(t,r,i){var a=n.prototype.getDataParams.call(this,t,r);return i&&(a.info=_p(i).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e})(Yr);function BOe(n,e){return e=e||[0,0],ht(["x","y"],function(t,r){var i=this.getAxis(t),a=e[r],s=n[r]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s))},this)}function zOe(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:Ot(BOe,n)}}}function UOe(n,e){return e=e||[0,0],ht([0,1],function(t){var r=e[t],i=n[t]/2,a=[],s=[];return a[t]=r-i,s[t]=r+i,a[1-t]=s[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(s)[t])},this)}function VOe(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:Ot(UOe,n)}}}function GOe(n,e){var t=this.getAxis(),r=e instanceof Array?e[0]:e,i=(n instanceof Array?n[0]:n)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(r-i)-t.dataToCoord(r+i))}function HOe(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:Ot(GOe,n)}}}function jOe(n,e){return e=e||[0,0],ht(["Radius","Angle"],function(t,r){var i="get"+t+"Axis",a=this[i](),s=e[r],o=n[r]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function WOe(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:r[1],r0:r[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]),s=t.dataToAngle(i[1]),o=n.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:Ot(jOe,n)}}}function YOe(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(r,i){return n.dataToPoint(r,i)},layout:function(r,i){return n.dataToLayout(r,i)}}}}function qOe(n){var e=n.getRect();return{coordSys:{type:"matrix",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t,r){return n.dataToPoint(t,r)},layout:function(t,r){return n.dataToLayout(t,r)}}}}function Bfe(n,e,t,r){return n&&(n.legacy||n.legacy!==!1&&!t&&!r&&e!=="tspan"&&(e==="text"||Gt(n,"text")))}function zfe(n,e,t){var r=n,i,a,s;if(e==="text")s=r;else{s={},Gt(r,"text")&&(s.text=r.text),Gt(r,"rich")&&(s.rich=r.rich),Gt(r,"textFill")&&(s.fill=r.textFill),Gt(r,"textStroke")&&(s.stroke=r.textStroke),Gt(r,"fontFamily")&&(s.fontFamily=r.fontFamily),Gt(r,"fontSize")&&(s.fontSize=r.fontSize),Gt(r,"fontStyle")&&(s.fontStyle=r.fontStyle),Gt(r,"fontWeight")&&(s.fontWeight=r.fontWeight),a={type:"text",style:s,silent:!0},i={};var o=Gt(r,"textPosition");t?i.position=o?r.textPosition:"inside":o&&(i.position=r.textPosition),Gt(r,"textPosition")&&(i.position=r.textPosition),Gt(r,"textOffset")&&(i.offset=r.textOffset),Gt(r,"textRotation")&&(i.rotation=r.textRotation),Gt(r,"textDistance")&&(i.distance=r.textDistance)}return eK(s,n),ie(s.rich,function(l){eK(l,l)}),{textConfig:i,textContent:a}}function eK(n,e){e&&(e.font=e.textFont||e.font,Gt(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),Gt(e,"textAlign")&&(n.align=e.textAlign),Gt(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),Gt(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),Gt(e,"textWidth")&&(n.width=e.textWidth),Gt(e,"textHeight")&&(n.height=e.textHeight),Gt(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),Gt(e,"textPadding")&&(n.padding=e.textPadding),Gt(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),Gt(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),Gt(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),Gt(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),Gt(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),Gt(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),Gt(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function tK(n,e,t){var r=n;r.textPosition=r.textPosition||t.position||"inside",t.offset!=null&&(r.textOffset=t.offset),t.rotation!=null&&(r.textRotation=t.rotation),t.distance!=null&&(r.textDistance=t.distance);var i=r.textPosition.indexOf("inside")>=0,a=n.fill||qe.color.neutral99;nK(r,e);var s=r.textFill==null;return i?s&&(r.textFill=t.insideFill||qe.color.neutral00,!r.textStroke&&t.insideStroke&&(r.textStroke=t.insideStroke),!r.textStroke&&(r.textStroke=a),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(s&&(r.textFill=n.fill||t.outsideFill||qe.color.neutral00),!r.textStroke&&t.outsideStroke&&(r.textStroke=t.outsideStroke)),r.text=e.text,r.rich=e.rich,ie(e.rich,function(o){nK(o,o)}),r}function nK(n,e){e&&(Gt(e,"fill")&&(n.textFill=e.fill),Gt(e,"stroke")&&(n.textStroke=e.fill),Gt(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),Gt(e,"font")&&(n.font=e.font),Gt(e,"fontStyle")&&(n.fontStyle=e.fontStyle),Gt(e,"fontWeight")&&(n.fontWeight=e.fontWeight),Gt(e,"fontSize")&&(n.fontSize=e.fontSize),Gt(e,"fontFamily")&&(n.fontFamily=e.fontFamily),Gt(e,"align")&&(n.textAlign=e.align),Gt(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),Gt(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),Gt(e,"width")&&(n.textWidth=e.width),Gt(e,"height")&&(n.textHeight=e.height),Gt(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),Gt(e,"padding")&&(n.textPadding=e.padding),Gt(e,"borderColor")&&(n.textBorderColor=e.borderColor),Gt(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),Gt(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),Gt(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),Gt(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),Gt(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),Gt(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),Gt(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),Gt(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),Gt(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),Gt(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var Ufe={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},rK=$n(Ufe);wc(Kd,function(n,e){return n[e]=1,n},{});Kd.join(", ");var iI=["","style","shape","extra"],Mb=Un();function G9(n,e,t,r,i){var a=n+"Animation",s=eS(n,r,i)||{},o=Mb(e).userDuring;return s.duration>0&&(s.during=o?Ot(JOe,{el:e,userDuring:o}):null,s.setToFinal=!0,s.scope=n),at(s,t[a]),s}function WR(n,e,t,r){r=r||{};var i=r.dataIndex,a=r.isInit,s=r.clearStyle,o=t.isAnimationEnabled(),l=Mb(n),u=e.style;l.userDuring=e.during;var c={},f={};if(eFe(n,e,f),n.type==="compound")for(var d=n.shape.paths,h=e.shape.paths,p=0;p<h.length;p++){var m=h[p];bO("shape",m,d[p])}else bO("shape",e,f),bO("extra",e,f);if(!a&&o&&(QOe(n,e,c),iK("shape",n,e,c),iK("extra",n,e,c),tFe(n,e,u,c)),f.style=u,XOe(n,f,s),KOe(n,e),o)if(a){var g={};ie(iI,function(_){var S=_?e[_]:e;S&&S.enterFrom&&(_&&(g[_]=g[_]||{}),at(_?g[_]:g,S.enterFrom))});var y=G9("enter",n,e,t,i);y.duration>0&&n.animateFrom(g,y)}else ZOe(n,e,i||0,t,c);Vfe(n,e),u?n.dirty():n.markRedraw()}function Vfe(n,e){for(var t=Mb(n).leaveToProps,r=0;r<iI.length;r++){var i=iI[r],a=i?e[i]:e;a&&a.leaveTo&&(t||(t=Mb(n).leaveToProps={}),i&&(t[i]=t[i]||{}),at(i?t[i]:t,a.leaveTo))}}function ML(n,e,t,r){if(n){var i=n.parent,a=Mb(n).leaveToProps;if(a){var s=G9("update",n,e,t,0);s.done=function(){i&&i.remove(n)},n.animateTo(a,s)}else i&&i.remove(n)}}function Cy(n){return n==="all"}function XOe(n,e,t){var r=e.style;if(!n.isGroup&&r){if(t){n.useStyle({});for(var i=n.animators,a=0;a<i.length;a++){var s=i[a];s.targetName==="style"&&s.changeTarget(n.style)}}n.setStyle(r)}e&&(e.style=null,e&&n.attr(e),e.style=r)}function ZOe(n,e,t,r,i){if(i){var a=G9("update",n,e,r,t);a.duration>0&&n.animateFrom(i,a)}}function KOe(n,e){Gt(e,"silent")&&(n.silent=e.silent),Gt(e,"ignore")&&(n.ignore=e.ignore),n instanceof Cc&&Gt(e,"invisible")&&(n.invisible=e.invisible),n instanceof Hn&&Gt(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}var Md={},$Oe={setTransform:function(n,e){return Md.el[n]=e,this},getTransform:function(n){return Md.el[n]},setShape:function(n,e){var t=Md.el,r=t.shape||(t.shape={});return r[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=Md.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=Md.el,r=t.style;return r&&(r[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=Md.el.style;if(e)return e[n]},setExtra:function(n,e){var t=Md.el.extra||(Md.el.extra={});return t[n]=e,this},getExtra:function(n){var e=Md.el.extra;if(e)return e[n]}};function JOe(){var n=this,e=n.el;if(e){var t=Mb(e).userDuring,r=n.userDuring;if(t!==r){n.el=n.userDuring=null;return}Md.el=e,r($Oe)}}function iK(n,e,t,r){var i=t[n];if(i){var a=e[n],s;if(a){var o=t.transition,l=i.transition;if(l)if(!s&&(s=r[n]={}),Cy(l))at(s,a);else for(var u=ni(l),c=0;c<u.length;c++){var f=u[c],d=a[f];s[f]=d}else if(Cy(o)||Cn(o,n)>=0){!s&&(s=r[n]={});for(var h=$n(a),c=0;c<h.length;c++){var f=h[c],d=a[f];nFe(i[f],d)&&(s[f]=d)}}}}}function bO(n,e,t){var r=e[n];if(r)for(var i=t[n]={},a=$n(r),s=0;s<a.length;s++){var o=a[s];i[o]=PT(r[o])}}function QOe(n,e,t){for(var r=e.transition,i=Cy(r)?Kd:ni(r||[]),a=0;a<i.length;a++){var s=i[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=n[s];t[s]=o}}}function eFe(n,e,t){for(var r=0;r<rK.length;r++){var i=rK[r],a=Ufe[i],s=e[i];s&&(t[a[0]]=s[0],t[a[1]]=s[1])}for(var r=0;r<Kd.length;r++){var o=Kd[r];e[o]!=null&&(t[o]=e[o])}}function tFe(n,e,t,r){if(t){var i=n.style,a;if(i){var s=t.transition,o=e.transition;if(s&&!Cy(s)){var l=ni(s);!a&&(a=r.style={});for(var u=0;u<l.length;u++){var c=l[u],f=i[c];a[c]=f}}else if(n.getAnimationStyleProps&&(Cy(o)||Cy(s)||Cn(o,"style")>=0)){var d=n.getAnimationStyleProps(),h=d?d.style:null;if(h){!a&&(a=r.style={});for(var p=$n(t),u=0;u<p.length;u++){var c=p[u];if(h[c]){var f=i[c];a[c]=f}}}}}}}function nFe(n,e){return eo(n)?n!==e:n!=null&&isFinite(n)}var Gfe=Un(),rFe=["percent","easing","shape","style","extra"];function Hfe(n){n.stopAnimation("keyframe"),n.attr(Gfe(n))}function aI(n,e,t){if(!(!t.isAnimationEnabled()||!e)){if(ft(e)){ie(e,function(o){aI(n,o,t)});return}var r=e.keyframes,i=e.duration;if(t&&i==null){var a=eS("enter",t,0);i=a&&a.duration}if(!(!r||!i)){var s=Gfe(n);ie(iI,function(o){if(!(o&&!n[o])){var l;r.sort(function(u,c){return u.percent-c.percent}),ie(r,function(u){var c=n.animators,f=o?u[o]:u;if(f){var d=$n(f);if(o||(d=vr(d,function(m){return Cn(rFe,m)<0})),!!d.length){l||(l=n.animate(o,e.loop,!0),l.scope="keyframe");for(var h=0;h<c.length;h++)c[h]!==l&&c[h].targetName===l.targetName&&c[h].stopTracks(d);o&&(s[o]=s[o]||{});var p=o?s[o]:s;ie(d,function(m){p[m]=((o?n[o]:n)||{})[m]}),l.whenWithKeys(i*u.percent,f,d,u.easing)}}}),l&&l.delay(e.delay||0).duration(i).start(e.easing)}})}}}var bp="emphasis",vv="normal",H9="blur",j9="select",zv=[vv,bp,H9,j9],SO={normal:["itemStyle"],emphasis:[bp,"itemStyle"],blur:[H9,"itemStyle"],select:[j9,"itemStyle"]},wO={normal:["label"],emphasis:[bp,"label"],blur:[H9,"label"],select:[j9,"label"]},iFe=["x","y"],aFe="e\0\0",ec={normal:{},emphasis:{},blur:{},select:{}},sFe={cartesian2d:zOe,geo:VOe,single:HOe,polar:WOe,calendar:YOe,matrix:qOe};function B8(n){return n instanceof Hn}function z8(n){return n instanceof Cc}function oFe(n,e){e.copyTransform(n),z8(e)&&z8(n)&&(e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e.invisible=n.invisible,e.ignore=n.ignore,B8(e)&&B8(n)&&e.setShape(n.shape))}var lFe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this._progressiveEls=null;var s=this._data,o=t.getData(),l=this.group,u=aK(t,o,r,i);s||l.removeAll(),o.diff(s).add(function(f){TO(i,null,f,u(f,a),t,l,o)}).remove(function(f){var d=s.getItemGraphicEl(f);d&&ML(d,_p(d).option,t)}).update(function(f,d){var h=s.getItemGraphicEl(d);TO(i,h,f,u(f,a),t,l,o)}).execute();var c=t.get("clip",!0)?tM(t.coordinateSystem,!1,t):null;c?l.setClipPath(c):l.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,r,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,r,i,a,s){var o=r.getData(),l=aK(r,o,i,a),u=this._progressiveEls=[];function c(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var f=t.start;f<t.end;f++){var d=TO(null,null,f,l(f,s),r,this.group,o);d&&(d.traverse(c),u.push(d))}},e.prototype.eachRendered=function(t){Jv(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,r,i,a){var s=r.element;if(s==null||i.name===s)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===s)return!0;return!1},e.type="custom",e})(Fr);function W9(n){var e=n.type,t;if(e==="path"){var r=n.shape,i=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=Yfe(r);t=gb(a,null,i,r.layout||"center"),_p(t).customPathData=a}else if(e==="image")t=new ps({}),_p(t).customImagePath=n.style.image;else if(e==="text")t=new tr({});else if(e==="group")t=new nn;else if(e==="compoundPath"){var r=n.shape;if(!r||!r.paths){var s="";br(s)}var o=ht(r.paths,function(c){if(c.type==="path")return gb(c.shape.pathData,c,null);var f=NC(c.type);if(!f){var d="";br(d)}return new f});t=new qA({shape:{paths:o}})}else{var l=NC(e);if(!l){var s="";br(s)}t=new l}return _p(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function Y9(n,e,t,r,i,a,s){Hfe(e);var o=i&&i.normal.cfg;o&&e.setTextConfig(o),r&&r.transition==null&&(r.transition=iFe);var l=r&&r.style;if(l){if(e.type==="text"){var u=l;Gt(u,"textFill")&&(u.fill=u.textFill),Gt(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=B8(e)?l.decal:null;n&&f&&(f.dirty=!0,c=_b(f,n)),l.__decalPattern=c}if(z8(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}WR(e,r,a,{dataIndex:t,isInit:s,clearStyle:!0}),aI(e,r.keyframeAnimation,a)}function jfe(n,e,t,r,i){var a=e.isGroup?null:e,s=i&&i[n].cfg;if(a){var o=a.ensureState(n);if(r===!1){var l=a.getState(n);l&&(l.style=null)}else o.style=r||null;s&&(o.textConfig=s),Fy(a)}}function uFe(n,e,t){if(!n.isGroup){var r=n,i=t.currentZ,a=t.currentZLevel;r.z=i,r.zlevel=a;var s=e.z2;s!=null&&(r.z2=s||0);for(var o=0;o<zv.length;o++)cFe(r,e,zv[o])}}function cFe(n,e,t){var r=t===vv,i=r?e:sI(e,t),a=i?i.z2:null,s;a!=null&&(s=r?n:n.ensureState(t),s.z2=a||0)}function aK(n,e,t,r){var i=n.get("renderItem");if(typeof i=="string"){var a=r3e(i);a&&(i=a)}var s=n.coordinateSystem,o={};s&&(o=s.prepareCustoms?s.prepareCustoms(s):sFe[s.type](s));for(var l=sn({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:M,style:D,ordinalRawValue:E,styleEmphasis:I,visual:B,barLayout:O,currentSeriesIndices:G,font:V},o.api||{}),u={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:fFe(n.getData()),itemPayload:n.get("itemPayload")||{}},c,f,d={},h={},p={},m={},g=0;g<zv.length;g++){var y=zv[g];p[y]=n.getModel(SO[y]),m[y]=n.getModel(wO[y])}function _(q){return q===c?f||(f=e.getItemModel(q)):e.getItemModel(q)}function S(q,W){return e.hasItemOption?q===c?d[W]||(d[W]=_(q).getModel(SO[W])):_(q).getModel(SO[W]):p[W]}function A(q,W){return e.hasItemOption?q===c?h[W]||(h[W]=_(q).getModel(wO[W])):_(q).getModel(wO[W]):m[W]}return function(q,W){return c=q,f=null,d={},h={},i&&i(sn({dataIndexInside:q,dataIndex:e.getRawIndex(q),actionType:W?W.type:null},u),l)};function M(q,W){return W==null&&(W=c),e.getStore().get(e.getDimensionIndex(q||0),W)}function E(q,W){W==null&&(W=c),q=q||0;var Z=e.getDimensionInfo(q);if(!Z){var X=e.getDimensionIndex(q);return X>=0?e.getStore().get(X,W):void 0}var K=e.get(Z.name,W),se=Z&&Z.ordinalMeta;return se?se.categories[K]:K}function D(q,W){W==null&&(W=c);var Z=e.getItemVisual(W,"style"),X=Z&&Z.fill,K=Z&&Z.opacity,se=S(W,vv).getItemStyle();X!=null&&(se.fill=X),K!=null&&(se.opacity=K);var J={inheritColor:Lt(X)?X:qe.color.neutral99},H=A(W,vv),ee=ti(H,null,J,!1,!0);ee.text=H.getShallow("show")?Wt(n.getFormattedLabel(W,vv),wb(e,W)):null;var Q=MN(H,J,!1);return L(q,se),se=tK(se,ee,Q),q&&N(se,q),se.legacy=!0,se}function I(q,W){W==null&&(W=c);var Z=S(W,bp).getItemStyle(),X=A(W,bp),K=ti(X,null,null,!0,!0);K.text=X.getShallow("show")?Yl(n.getFormattedLabel(W,bp),n.getFormattedLabel(W,vv),wb(e,W)):null;var se=MN(X,null,!0);return L(q,Z),Z=tK(Z,K,se),q&&N(Z,q),Z.legacy=!0,Z}function N(q,W){for(var Z in W)Gt(W,Z)&&(q[Z]=W[Z])}function L(q,W){q&&(q.textFill&&(W.textFill=q.textFill),q.textPosition&&(W.textPosition=q.textPosition))}function B(q,W){if(W==null&&(W=c),Gt(QZ,q)){var Z=e.getItemVisual(W,"style");return Z?Z[QZ[q]]:null}if(Gt(OOe,q))return e.getItemVisual(W,q)}function O(q){if(s.type==="cartesian2d"){var W=s.getBaseAxis();return sDe(sn({axis:W},q))}}function G(){return t.getCurrentSeriesIndices()}function V(q){return mV(q,t)}}function fFe(n){var e={};return ie(n.dimensions,function(t){var r=n.getDimensionInfo(t);if(!r.isExtraCoord){var i=r.coordDim,a=e[i]=e[i]||[];a[r.coordDimIndex]=n.getDimensionIndex(t)}}),e}function TO(n,e,t,r,i,a,s){if(!r){a.remove(e);return}var o=q9(n,e,t,r,i,a);return o&&s.setItemGraphicEl(t,o),o&&Ei(o,r.focus,r.blurScope,r.emphasisDisabled),o}function q9(n,e,t,r,i,a){var s=-1,o=e;e&&Wfe(e,r,i)&&(s=Cn(a.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=W9(r),o&&oFe(o,u)),r.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),r.tooltipDisabled&&(u.tooltipDisabled=!0),ec.normal.cfg=ec.normal.conOpt=ec.emphasis.cfg=ec.emphasis.conOpt=ec.blur.cfg=ec.blur.conOpt=ec.select.cfg=ec.select.conOpt=null,ec.isLegacy=!1,hFe(u,t,r,i,l,ec),dFe(u,t,r,i,l),Y9(n,u,t,r,ec,i,l),Gt(r,"info")&&(_p(u).info=r.info);for(var c=0;c<zv.length;c++){var f=zv[c];if(f!==vv){var d=sI(r,f),h=X9(r,d,f);jfe(f,u,d,h,ec)}}return uFe(u,r,i),r.type==="group"&&pFe(n,u,t,r,i),s>=0?a.replaceAt(u,s):a.add(u),u}function Wfe(n,e,t){var r=_p(n),i=e.type,a=e.shape,s=e.style;return t.isUniversalTransitionEnabled()||i!=null&&i!==r.customGraphicType||i==="path"&&yFe(a)&&Yfe(a)!==r.customPathData||i==="image"&&Gt(s,"image")&&s.image!==r.customImagePath}function dFe(n,e,t,r,i){var a=t.clipPath;if(a===!1)n&&n.getClipPath()&&n.removeClipPath();else if(a){var s=n.getClipPath();s&&Wfe(s,a,r)&&(s=null),s||(s=W9(a),n.setClipPath(s)),Y9(null,s,e,a,null,r,i)}}function hFe(n,e,t,r,i,a){if(!(n.isGroup||n.type==="compoundPath")){sK(t,null,a),sK(t,bp,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(s!=null||o!=null||u!=null||l!=null){var c=n.getTextContent();if(s===!1)c&&n.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},c?c.clearStates():(c=W9(s),n.setTextContent(c)),Y9(null,c,e,s,null,r,i);for(var f=s&&s.style,d=0;d<zv.length;d++){var h=zv[d];if(h!==vv){var p=a[h].conOpt;jfe(h,c,p,X9(s,p,h),null)}}f?c.dirty():c.markRedraw()}}}}function sK(n,e,t){var r=e?sI(n,e):n,i=e?X9(n,r,bp):n.style,a=n.type,s=r?r.textConfig:null,o=n.textContent,l=o?e?sI(o,e):o:null;if(i&&(t.isLegacy||Bfe(i,a,!!s,!!l))){t.isLegacy=!0;var u=zfe(i,a,!e);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var f=e?t[e]:t.normal;f.cfg=s,f.conOpt=l}function sI(n,e){return e?n?n[e]:null:n}function X9(n,e,t){var r=e&&e.style;return r==null&&t===bp&&n&&(r=n.styleEmphasis),r}function pFe(n,e,t,r,i){var a=r.children,s=a?a.length:0,o=r.$mergeChildren,l=o==="byName"||r.diffChildrenByName,u=o===!1;if(!(!s&&!l&&!u)){if(l){mFe({api:n,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:i,group:e});return}u&&e.removeAll();for(var c=0;c<s;c++){var f=a[c],d=e.childAt(c);f?(f.ignore==null&&(f.ignore=!1),q9(n,d,t,f,i,e)):d.ignore=!0}for(var h=e.childCount()-1;h>=c;h--){var p=e.childAt(h);vFe(e,p,i)}}}function vFe(n,e,t){e&&ML(e,_p(n).option,t)}function mFe(n){new kp(n.oldChildren,n.newChildren,oK,oK,n).add(lK).update(lK).remove(gFe).execute()}function oK(n,e){var t=n&&n.name;return t??aFe+e}function lK(n,e){var t=this.context,r=n!=null?t.newChildren[n]:null,i=e!=null?t.oldChildren[e]:null;q9(t.api,i,t.dataIndex,r,t.seriesModel,t.group)}function gFe(n){var e=this.context,t=e.oldChildren[n];t&&ML(t,_p(t).option,e.seriesModel)}function Yfe(n){return n&&(n.pathData||n.d)}function yFe(n){return n&&(Gt(n,"pathData")||Gt(n,"d"))}function xFe(n){n.registerChartView(lFe),n.registerSeriesModel(FOe)}var ty=Un(),uK=tn,CO=Ot,Z9=(function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,i){var a=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,a,e,t,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new nn,this.createPointerEl(o,u,e,t),this.createLabelEl(o,u,e,t),r.getZr().add(o);else{var d=Sn(cK,t,f);this.updatePointerEl(o,u,d),this.updateLabelEl(o,u,d,t)}dK(o,t,!0),this._renderHandle(a)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,a=i.type==="category",s=t.get("snap");if(!s&&!a)return!1;if(r==="auto"||r==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=m9(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return r===!0},n.prototype.makeElOption=function(e,t,r,i,a){},n.prototype.createPointerEl=function(e,t,r,i){var a=t.pointer;if(a){var s=ty(e).pointerEl=new ex[a.type](uK(t.pointer));e.add(s)}},n.prototype.createLabelEl=function(e,t,r,i){if(t.label){var a=ty(e).labelEl=new tr(uK(t.label));e.add(a),fK(a,i)}},n.prototype.updatePointerEl=function(e,t,r){var i=ty(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,i){var a=ty(e).labelEl;a&&(a.setStyle(t.label.style),r(a,{x:t.label.x,y:t.label.y}),fK(a,i))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=t.getModel("handle"),s=t.get("status");if(!a.get("show")||!s||s==="hide"){i&&r.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=tS(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Rp(u.event)},onmousedown:CO(this._onHandleDragMove,this,0,0),drift:CO(this._onHandleDragMove,this),ondragend:CO(this._onHandleDragEnd,this)}),r.add(i)),dK(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ft(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,oS(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},n.prototype._moveHandleToValue=function(e,t){cK(this._axisPointerModel,!t&&this._moveAnimation,this._handle,AO(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(AO(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(AO(i)),ty(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),PC(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},n})();function cK(n,e,t,r){qfe(ty(t).lastProp,r)||(ty(t).lastProp=r,e?lr(t,r,n):(t.stopAnimation(),t.attr(r)))}function qfe(n,e){if(on(n)&&on(e)){var t=!0;return ie(e,function(r,i){t=t&&qfe(n[i],r)}),!!t}else return n===e}function fK(n,e){n[e.get(["label","show"])?"show":"hide"]()}function AO(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function dK(n,e,t){var r=e.get("z"),i=e.get("zlevel");n&&n.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=t)})}function K9(n){var e=n.get("type"),t=n.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function Xfe(n,e,t,r,i){var a=t.get("value"),s=Zfe(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=iS(o.get("padding")||0),u=o.getFont(),c=$k(s,u),f=i.position,d=c.width+l[1]+l[3],h=c.height+l[0]+l[2],p=i.align;p==="right"&&(f[0]-=d),p==="center"&&(f[0]-=d/2);var m=i.verticalAlign;m==="bottom"&&(f[1]-=h),m==="middle"&&(f[1]-=h/2),_Fe(f,d,h,r);var g=o.get("backgroundColor");(!g||g==="auto")&&(g=e.get(["axisLine","lineStyle","color"])),n.label={x:f[0],y:f[1],style:ti(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function _Fe(n,e,t,r){var i=r.getWidth(),a=r.getHeight();n[0]=Math.min(n[0]+e,i)-e,n[1]=Math.min(n[1]+t,a)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function Zfe(n,e,t,r,i){n=e.scale.parse(n);var a=e.scale.getLabel({value:n},{precision:i.precision}),s=i.formatter;if(s){var o={value:VN(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};ie(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&o.seriesData.push(f)}),Lt(s)?a=s.replace("{value}",a):Xt(s)&&(a=s(o))}return a}function $9(n,e,t){var r=os();return Wp(r,r,t.rotation),Rf(r,r,t.position),Af([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function Kfe(n,e,t,r,i,a){var s=gl.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),Xfe(e,r,i,a,{position:$9(r.axis,n,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function J9(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function $fe(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}function hK(n,e,t,r,i,a){return{cx:n,cy:e,r0:t,r,startAngle:i,endAngle:a,clockwise:!0}}var bFe=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,s){var o=i.axis,l=o.grid,u=a.get("type"),c=pK(l,o).getOtherAxis(o).getGlobalExtent(),f=o.toGlobalCoord(o.dataToCoord(r,!0));if(u&&u!=="none"){var d=K9(a),h=SFe[u](o,f,c);h.style=d,t.graphicKey=h.type,t.pointer=h}var p=$N(l.getRect(),i);Kfe(r,t,p,i,a,s)},e.prototype.getHandleTransform=function(t,r,i){var a=$N(r.axis.grid.getRect(),r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=$9(r.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),u=pK(o,s).getOtherAxis(s).getGlobalExtent(),c=s.dim==="x"?0:1,f=[t.x,t.y];f[c]+=r[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var d=(u[1]+u[0])/2,h=[d,d];h[c]=f[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:h,tooltipOption:p[c]}},e})(Z9);function pK(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var SFe={line:function(n,e,t){var r=J9([e,t[0]],[e,t[1]],vK(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:$fe([e-r/2,t[0]],[r,i],vK(n))}}};function vK(n){return n.dim==="x"?0:1}var wFe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:qe.color.border,width:1,type:"dashed"},shadowStyle:{color:qe.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:qe.color.neutral00,padding:[5,7,5,7],backgroundColor:qe.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:qe.color.accent40,throttle:40}},e})(zn),dp=Un(),TFe=ie;function Jfe(n,e,t){if(!Zn.node){var r=e.getZr();dp(r).records||(dp(r).records={}),CFe(r,e);var i=dp(r).records[n]||(dp(r).records[n]={});i.handler=t}}function CFe(n,e){if(dp(n).initialized)return;dp(n).initialized=!0,t("click",Sn(mK,"click")),t("mousemove",Sn(mK,"mousemove")),t("globalout",MFe);function t(r,i){n.on(r,function(a){var s=EFe(e);TFe(dp(n).records,function(o){o&&i(o,a,s.dispatchAction)}),AFe(s.pendings,e)})}}function AFe(n,e){var t=n.showTip.length,r=n.hideTip.length,i;t?i=n.showTip[t-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function MFe(n,e,t){n.handler("leave",null,t)}function mK(n,e,t,r){e.handler(n,t,r)}function EFe(n){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function U8(n,e){if(!Zn.node){var t=e.getZr(),r=(dp(t).records||{})[n];r&&(dp(t).records[n]=null)}}var DFe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=r.getComponent("tooltip"),s=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";Jfe("axisPointer",i,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){U8("axisPointer",r)},e.prototype.dispose=function(t,r){U8("axisPointer",r)},e.type="axisPointer",e})(ri);function Qfe(n,e){var t=[],r=n.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),s=Py(a,n);if(s==null||s<0||ft(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,d=u.dim,h=f==="x"||f==="radius"?1:0,p=a.mapDimension(d),m=[];m[h]=a.get(p,s),m[1-h]=a.get(a.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(m)||[]}else t=l.dataToPoint(a.getValues(ht(l.dimensions,function(y){return a.mapDimension(y)}),s))||[];else if(o){var g=o.getBoundingRect().clone();g.applyTransform(o.transform),t=[g.x+g.width/2,g.y+g.height/2]}return{point:t,el:o}}var gK=Un();function RFe(n,e,t){var r=n.currTrigger,i=[n.x,n.y],a=n,s=n.dispatchAction||Ot(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){YR(i)&&(i=Qfe({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=YR(i),u=a.axesInfo,c=o.axesInfo,f=r==="leave"||YR(i),d={},h={},p={list:[],map:{}},m={showPointer:Sn(IFe,h),showTooltip:Sn(kFe,p)};ie(o.coordSysMap,function(y,_){var S=l||y.containPoint(i);ie(o.coordSysAxesInfo[_],function(A,M){var E=A.axis,D=FFe(u,A);if(!f&&S&&(!u||D)){var I=D&&D.value;I==null&&!l&&(I=E.pointToData(i)),I!=null&&yK(A,I,m,!1,d)}})});var g={};return ie(c,function(y,_){var S=y.linkGroup;S&&!h[_]&&ie(S.axesInfo,function(A,M){var E=h[M];if(A!==y&&E){var D=E.value;S.mapper&&(D=y.axis.scale.parse(S.mapper(D,xK(A),xK(y)))),g[y.key]=D}})}),ie(g,function(y,_){yK(c[_],y,m,!0,d)}),LFe(h,c,d),PFe(p,i,n,s),OFe(c,s,t),d}}function yK(n,e,t,r,i){var a=n.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var s=NFe(e,n),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&at(i,o[0]),!r&&n.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(n,e,o),t.showTooltip(n,s,l)}}function NFe(n,e){var t=e.axis,r=t.dim,i=n,a=[],s=Number.MAX_VALUE,o=-1;return ie(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(r),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(c,n,t);d=h.dataIndices,f=h.nestestValue}else{if(d=l.indicesOfNearest(r,c[0],n,t.type==="category"?.5:null),!d.length)return;f=l.getData().get(c[0],d[0])}if(!(f==null||!isFinite(f))){var p=n-f,m=Math.abs(p);m<=s&&((m<s||p>=0&&o<0)&&(s=m,o=p,i=f,a.length=0),ie(d,function(g){a.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:a,snapToValue:i}}function IFe(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function kFe(n,e,t,r){var i=t.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=jC(l),c=n.map[u];c||(c=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function LFe(n,e,t){var r=t.axesInfo=[];ie(e,function(i,a){var s=i.axisPointerModel.option,o=n[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function PFe(n,e,t,r){if(YR(e)||!n.list.length){r({type:"hideTip"});return}var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}function OFe(n,e,t){var r=t.getZr(),i="axisPointerLastHighlights",a=gK(r)[i]||{},s=gK(r)[i]={};ie(n,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&ie(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;s[h]=d})});var o=[],l=[];ie(a,function(u,c){!s[c]&&l.push(u)}),ie(s,function(u,c){!a[c]&&o.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function FFe(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function xK(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function YR(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function iM(n){ix.registerAxisPointerClass("CartesianAxisPointer",bFe),n.registerComponentModel(wFe),n.registerComponentView(DFe),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!ft(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=BIe(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},RFe)}function BFe(n){Nn(wce),Nn(iM)}var zFe=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,s){var o=i.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,u=l.getOtherAxis(o),c=u.getExtent(),f=o.dataToCoord(r),d=a.get("type");if(d&&d!=="none"){var h=K9(a),p=VFe[d](o,l,f,c);p.style=h,t.graphicKey=p.type,t.pointer=p}var m=a.get(["label","margin"]),g=UFe(r,i,a,l,m);Xfe(t,i,a,s,g)},e})(Z9);function UFe(n,e,t,r,i){var a=e.axis,s=a.dataToCoord(n),o=r.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var d=os();Wp(d,d,o),Rf(d,d,[r.cx,r.cy]),u=Af([s,-i],d);var h=e.getModel("axisLabel").get("rotate")||0,p=gl.innerTextLayout(o,h*Math.PI/180,-1);c=p.textAlign,f=p.textVerticalAlign}else{var m=l[1];u=r.coordToPoint([m+i,s]);var g=r.cx,y=r.cy;c=Math.abs(u[0]-g)/m<.3?"center":u[0]>g?"left":"right",f=Math.abs(u[1]-y)/m<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var VFe={line:function(n,e,t,r){return n.dim==="angle"?{type:"Line",shape:J9(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,r){var i=Math.max(1,n.getBandWidth()),a=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:hK(e.cx,e.cy,r[0],r[1],(-t-i/2)*a,(-t+i/2)*a)}:{type:"Sector",shape:hK(e.cx,e.cy,t-i/2,t+i/2,0,Math.PI*2)}}},GFe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,i=this.ecModel;return i.eachComponent(t,function(a){a.getCoordSysModel()===this&&(r=a)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e})(zn),Q9=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Hi).models[0]},e.type="polarAxis",e})(zn);ta(Q9,fS);var HFe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e})(Q9),jFe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e})(Q9),e7=(function(n){Xe(e,n);function e(t,r){return n.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e})(Nc);e7.prototype.dataToRadius=Nc.prototype.dataToCoord;e7.prototype.radiusToData=Nc.prototype.coordToData;var WFe=Un(),t7=(function(n){Xe(e,n);function e(t,r){return n.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),i=t.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=a[0],l=t.dataToCoord(o+1)-t.dataToCoord(o),u=Math.abs(l),c=$k(o==null?"":o+"",r.getFont(),"center","top"),f=Math.max(c.height,7),d=f/u;isNaN(d)&&(d=1/0);var h=Math.max(0,Math.floor(d)),p=WFe(t.model),m=p.lastAutoInterval,g=p.lastTickCount;return m!=null&&g!=null&&Math.abs(m-h)<=1&&Math.abs(g-s)<=1&&m>h?h=m:(p.lastTickCount=s,p.lastAutoInterval=h),h},e})(Nc);t7.prototype.dataToAngle=Nc.prototype.dataToCoord;t7.prototype.angleToData=Nc.prototype.coordToData;var ede=["radius","angle"],YFe=(function(){function n(e){this.dimensions=ede,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new e7,this._angleAxis=new t7,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===e&&t.push(r),i.scale.type===e&&t.push(i),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t,r){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)],r)},n.prototype.pointToData=function(e,t,r){r=r||[];var i=this.pointToCoord(e);return r[0]=this._radiusAxis.radiusToData(i[0],t),r[1]=this._angleAxis.angleToData(i[1],t),r},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);i.inverse?s=o-360:o=s+360;var l=Math.sqrt(t*t+r*r);t/=l,r/=l;for(var u=Math.atan2(-r,t)/Math.PI*180,c=u<s?1:-1;u<s||u>o;)u+=c*360;return[l,u]},n.prototype.coordToPoint=function(e,t){t=t||[];var r=e[0],i=e[1]/180*Math.PI;return t[0]=Math.cos(i)*r+this.cx,t[1]=-Math.sin(i)*r+this.cy,t},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var i=e.getExtent(),a=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:e.inverse,contain:function(o,l){var u=o-this.cx,c=l-this.cy,f=u*u+c*c,d=this.r,h=this.r0;return d!==h&&f-s<=d*d&&f+s>=h*h},x:this.cx-r[1],y:this.cy-r[1],width:r[1]*2,height:r[1]*2}},n.prototype.convertToPixel=function(e,t,r){var i=_K(t);return i===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=_K(t);return i===this?this.pointToData(r):null},n})();function _K(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function qFe(n,e,t){var r=e.get("center"),i=qa(e,t).refContainer;n.cx=kt(r[0],i.width)+i.x,n.cy=kt(r[1],i.height)+i.y;var a=n.getRadiusAxis(),s=Math.min(i.width,i.height)/2,o=e.get("radius");o==null?o=[0,"100%"]:ft(o)||(o=[0,o]);var l=[kt(o[0],s),kt(o[1],s)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}function XFe(n,e){var t=this,r=t.getAngleAxis(),i=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),n.eachSeries(function(o){if(o.coordinateSystem===t){var l=o.getData();ie(GN(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),ie(GN(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),Vy(r.scale,r.model),Vy(i.scale,i.model),r.type==="category"&&!r.onBand){var a=r.getExtent(),s=360/r.scale.count();r.inverse?a[1]+=s:a[1]-=s,r.setExtent(a[0],a[1])}}function ZFe(n){return n.mainType==="angleAxis"}function bK(n,e){var t;if(n.type=e.get("type"),n.scale=JA(e),n.onBand=e.get("boundaryGap")&&n.type==="category",n.inverse=e.get("inverse"),ZFe(e)){n.inverse=n.inverse!==e.get("clockwise");var r=e.get("startAngle"),i=(t=e.get("endAngle"))!==null&&t!==void 0?t:r+(n.inverse?-360:360);n.setExtent(r,i)}e.axis=n,n.model=e}var KFe={dimensions:ede,create:function(n,e){var t=[];return n.eachComponent("polar",function(r,i){var a=new YFe(i+"");a.update=XFe;var s=a.getRadiusAxis(),o=a.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");bK(s,l),bK(o,u),qFe(a,r,e),t.push(a),r.coordinateSystem=a,a.model=r}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",Hi).models[0];r.coordinateSystem=i.coordinateSystem}}),t}},$Fe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function nD(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=n.coordToPoint([e[0],t]),i=n.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function rD(n){var e=n.getRadiusAxis();return e.inverse?0:1}function SK(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var JFe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,a=i.polar,s=a.getRadiusAxis().getExtent(),o=i.getTicksCoords({breakTicks:"none"}),l=i.getMinorTicksCoords(),u=ht(i.getViewLabels(),function(c){c=tn(c);var f=i.scale,d=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(d),c});SK(u),SK(o),ie($Fe,function(c){t.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&QFe[c](this.group,t,a,o,l,s,u)},this)}},e.type="angleAxis",e})(ix),QFe={axisLine:function(n,e,t,r,i,a){var s=e.getModel(["axisLine","lineStyle"]),o=t.getAngleAxis(),l=Math.PI/180,u=o.getExtent(),c=rD(t),f=c?0:1,d,h=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?d=new ex[h]({shape:{cx:t.cx,cy:t.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):d=new Jb({shape:{cx:t.cx,cy:t.cy,r:a[c],r0:a[f]},style:s.getLineStyle(),z2:1,silent:!0}),d.style.fill=null,n.add(d)},axisTick:function(n,e,t,r,i,a){var s=e.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=a[rD(t)],u=ht(r,function(c){return new ha({shape:nD(t,[l,l+o],c.coord)})});n.add(mu(u,{style:sn(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,r,i,a){if(i.length){for(var s=e.getModel("axisTick"),o=e.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),u=a[rD(t)],c=[],f=0;f<i.length;f++)for(var d=0;d<i[f].length;d++)c.push(new ha({shape:nD(t,[u,u+l],i[f][d].coord)}));n.add(mu(c,{style:sn(o.getModel("lineStyle").getLineStyle(),sn(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,r,i,a,s){var o=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");ie(s,function(f,d){var h=l,p=f.tickValue,m=a[rD(t)],g=t.coordToPoint([m+u,f.coord]),y=t.cx,_=t.cy,S=Math.abs(g[0]-y)/m<.3?"center":g[0]>y?"left":"right",A=Math.abs(g[1]-_)/m<.3?"middle":g[1]>_?"top":"bottom";if(o&&o[p]){var M=o[p];on(M)&&M.textStyle&&(h=new Gn(M.textStyle,l,l.ecModel))}var E=new tr({silent:gl.isLabelSilent(e),style:ti(h,{x:g[0],y:g[1],fill:h.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:S,verticalAlign:A})});if(n.add(E),qp({el:E,componentModel:e,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return E.isTruncated},value:f.rawLabel,tickIndex:d}}),c){var D=gl.makeAxisEventDataBase(e);D.targetType="axisLabel",D.value=f.rawLabel,fn(E).eventData=D}},this)},splitLine:function(n,e,t,r,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<r.length;f++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new ha({shape:nD(t,a,r[f].coord)}))}for(var f=0;f<c.length;f++)n.add(mu(c[f],{style:sn({stroke:l[f%l.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,r,i,a){if(i.length){for(var s=e.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new ha({shape:nD(t,a,i[u][c].coord)}));n.add(mu(l,{style:o.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,r,i,a){if(r.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,d=-r[0].coord*f,h=Math.min(a[0],a[1]),p=Math.max(a[0],a[1]),m=e.get("clockwise"),g=1,y=r.length;g<=y;g++){var _=g===y?r[0].coord:r[g].coord,S=u++%l.length;c[S]=c[S]||[],c[S].push(new no({shape:{cx:t.cx,cy:t.cy,r0:h,r:p,startAngle:d,endAngle:-_*f,clockwise:m},silent:!0})),d=-_*f}for(var g=0;g<c.length;g++)n.add(mu(c[g],{style:sn({fill:l[g%l.length]},o.getAreaStyle()),silent:!0}))}}},eBe=["splitLine","splitArea","minorSplitLine"],tBe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var a=this._axisGroup,s=this._axisGroup=new nn;this.group.add(s);var o=t.axis,l=o.polar,u=l.getAngleAxis(),c=o.getTicksCoords(),f=o.getMinorTicksCoords(),d=u.getExtent()[0],h=o.getExtent(),p=rBe(l,t,d),m=new gl(t,i,p);m.build(),s.add(m.group),XA(a,s,t),ie(eBe,function(g){t.get([g,"show"])&&!o.scale.isBlank()&&nBe[g](this.group,t,l,d,h,c,f)},this)}},e.type="radiusAxis",e})(ix),nBe={splitLine:function(n,e,t,r,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0,c=t.getAngleAxis(),f=Math.PI/180,d=c.getExtent(),h=Math.abs(d[1]-d[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],m=0;m<a.length;m++){var g=u++%l.length;p[g]=p[g]||[],p[g].push(new ex[h]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[m].coord,0),startAngle:-d[0]*f,endAngle:-d[1]*f,clockwise:c.inverse}}))}for(var m=0;m<p.length;m++)n.add(mu(p[m],{style:sn({stroke:l[m%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,r,i,a,s){if(s.length){for(var o=e.getModel("minorSplitLine"),l=o.getModel("lineStyle"),u=[],c=0;c<s.length;c++)for(var f=0;f<s[c].length;f++)u.push(new ah({shape:{cx:t.cx,cy:t.cy,r:s[c][f].coord}}));n.add(mu(u,{style:sn({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,r,i,a){if(a.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,d=1;d<a.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new no({shape:{cx:t.cx,cy:t.cy,r0:f,r:a[d].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[d].coord}for(var d=0;d<c.length;d++)n.add(mu(c[d],{style:sn({fill:l[d%l.length]},o.getAreaStyle()),silent:!0}))}}};function rBe(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function tde(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function nde(n,e){return e.dim+n.model.componentIndex}function iBe(n,e,t){var r={},i=aBe(vr(e.getSeriesByType(n),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(n,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,l=o.getBaseAxis(),u=nde(o,l),c=tde(a),f=i[u][c],d=f.offset,h=f.width,p=o.getOtherAxis(l),m=a.coordinateSystem.cx,g=a.coordinateSystem.cy,y=a.get("barMinHeight")||0,_=a.get("barMinAngle")||0;r[c]=r[c]||[];for(var S=s.mapDimension(p.dim),A=s.mapDimension(l.dim),M=Lp(s,S),E=l.dim!=="radius"||!a.get("roundCap",!0),D=p.model,I=D.get("startValue"),N=p.dataToCoord(I||0),L=0,B=s.count();L<B;L++){var O=s.get(S,L),G=s.get(A,L),V=O>=0?"p":"n",q=N;M&&(r[c][G]||(r[c][G]={p:N,n:N}),q=r[c][G][V]);var W=void 0,Z=void 0,X=void 0,K=void 0;if(p.dim==="radius"){var se=p.dataToCoord(O)-N,J=l.dataToCoord(G);Math.abs(se)<y&&(se=(se<0?-1:1)*y),W=q,Z=q+se,X=J-d,K=X-h,M&&(r[c][G][V]=Z)}else{var H=p.dataToCoord(O,E)-N,ee=l.dataToCoord(G);Math.abs(H)<_&&(H=(H<0?-1:1)*_),W=ee+d,Z=W+h,X=q,K=q+H,M&&(r[c][G][V]=K)}s.setItemLayout(L,{cx:m,cy:g,r0:W,r:Z,startAngle:-X*Math.PI/180,endAngle:-K*Math.PI/180,clockwise:X>=K})}}})}function aBe(n){var e={};ie(n,function(r,i){var a=r.getData(),s=r.coordinateSystem,o=s.getBaseAxis(),l=nde(s,o),u=o.getExtent(),c=o.type==="category"?o.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=f.stacks;e[l]=f;var h=tde(r);d[h]||f.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var p=kt(r.get("barWidth"),c),m=kt(r.get("barMaxWidth"),c),g=r.get("barGap"),y=r.get("barCategoryGap");p&&!d[h].width&&(p=Math.min(f.remainedWidth,p),d[h].width=p,f.remainedWidth-=p),m&&(d[h].maxWidth=m),g!=null&&(f.gap=g),y!=null&&(f.categoryGap=y)});var t={};return ie(e,function(r,i){t[i]={};var a=r.stacks,s=r.bandWidth,o=kt(r.categoryGap,s),l=kt(r.gap,1),u=r.remainedWidth,c=r.autoWidthCount,f=(u-o)/(c+(c-1)*l);f=Math.max(f,0),ie(a,function(m,g){var y=m.maxWidth;y&&y<f&&(y=Math.min(y,u),m.width&&(y=Math.min(y,m.width)),u-=y,m.width=y,c--)}),f=(u-o)/(c+(c-1)*l),f=Math.max(f,0);var d=0,h;ie(a,function(m,g){m.width||(m.width=f),h=m,d+=m.width*(1+l)}),h&&(d-=h.width*l);var p=-d/2;ie(a,function(m,g){t[i][g]=t[i][g]||{offset:p,width:m.width},p+=m.width*(1+l)})}),t}var sBe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},oBe={splitNumber:5},lBe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e})(ri);function uBe(n){Nn(iM),ix.registerAxisPointerClass("PolarAxisPointer",zFe),n.registerCoordinateSystem("polar",KFe),n.registerComponentModel(GFe),n.registerComponentView(lBe),Tb(n,"angle",HFe,sBe),Tb(n,"radius",jFe,oBe),n.registerComponentView(JFe),n.registerComponentView(tBe),n.registerLayout(Sn(iBe,"bar"))}function V8(n,e){e=e||{};var t=n.coordinateSystem,r=n.axis,i={},a=r.position,s=r.orient,o=t.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[s==="vertical"?u.vertical[a]:l[0],s==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[s];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[a],n.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Is(e.labelInside,n.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var d=n.get(["axisLabel","rotate"]);return i.labelRotate=a==="top"?-d:d,i.z2=1,i}var cBe=["splitArea","splitLine","breakArea"],fBe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,r,i,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new nn;var l=V8(t),u=new gl(t,i,l);u.build(),s.add(this._axisGroup),s.add(u.group),ie(cBe,function(c){t.get([c,"show"])&&dBe[c](this,this.group,this._axisGroup,t,i)},this),XA(o,this._axisGroup,t),n.prototype.render.call(this,t,r,i,a)},e.prototype.remove=function(){_ce(this)},e.type="singleAxis",e})(ix),dBe={splitLine:function(n,e,t,r,i){var a=r.axis;if(!a.scale.isBlank()){var s=r.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color");l=l instanceof Array?l:[l];for(var u=o.get("width"),c=r.coordinateSystem.getRect(),f=a.isHorizontal(),d=[],h=0,p=a.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),m=[],g=[],y=0;y<p.length;++y){var _=a.toGlobalCoord(p[y].coord);f?(m[0]=_,m[1]=c.y,g[0]=_,g[1]=c.y+c.height):(m[0]=c.x,m[1]=_,g[0]=c.x+c.width,g[1]=_);var S=new ha({shape:{x1:m[0],y1:m[1],x2:g[0],y2:g[1]},silent:!0});yb(S.shape,u);var A=h++%l.length;d[A]=d[A]||[],d[A].push(S)}for(var M=o.getLineStyle(["color"]),y=0;y<d.length;++y)e.add(mu(d[y],{style:sn({stroke:l[y%l.length]},M),silent:!0}))}},splitArea:function(n,e,t,r,i){xce(n,t,r,r)},breakArea:function(n,e,t,r,i){var a=rM(),s=r.axis.scale;a&&s.type!=="ordinal"&&a.rectCoordBuildBreakAxis(e,n,r,r.coordinateSystem.getRect(),i)}},qR=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},e})(zn);ta(qR,fS.prototype);var hBe=(function(n){Xe(e,n);function e(t,r,i,a,s){var o=n.call(this,t,r,i)||this;return o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,r){return this.coordinateSystem.pointToData(t)[0]},e})(Nc),rde=["single"],pBe=(function(){function n(e,t,r){this.type="single",this.dimension="single",this.dimensions=rde,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,r)}return n.prototype._init=function(e,t,r){var i=this.dimension,a=new hBe(i,JA(e),[0,0],e.get("type"),e.get("position")),s=a.type==="category";a.onBand=s&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},n.prototype.update=function(e,t){e.eachSeries(function(r){if(r.coordinateSystem===this){var i=r.getData();ie(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),Vy(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){var r=qa(e,t).refContainer;this._rect=wi(e.getBoxLayoutParams(),r),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,r=t.isHorizontal(),i=r?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(i[a],i[1-a]),this._updateAxisTransform(t,r?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var r=e.getExtent(),i=r[0]+r[1],a=e.isHorizontal();e.toGlobalCoord=a?function(s){return s+t}:function(s){return i-s+t},e.toLocalCoord=a?function(s){return s-t}:function(s){return i-s+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),r=this.getAxis(),i=r.orient;return i==="horizontal"?r.contain(r.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:r.contain(r.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e,t,r){r=r||[];var i=this.getAxis();return r[0]=i.coordToData(i.toLocalCoord(e[i.orient==="horizontal"?0:1])),r},n.prototype.dataToPoint=function(e,t,r){var i=this.getAxis(),a=this.getRect();r=r||[];var s=i.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),r[s]=i.toGlobalCoord(i.dataToCoord(+e)),r[1-s]=s===0?a.y+a.height/2:a.x+a.width/2,r},n.prototype.convertToPixel=function(e,t,r){var i=wK(t);return i===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=wK(t);return i===this?this.pointToData(r):null},n})();function wK(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function vBe(n,e){var t=[];return n.eachComponent("singleAxis",function(r,i){var a=new pBe(r,n,e);a.name="single_"+i,a.resize(r,e),r.coordinateSystem=a,t.push(a)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var i=r.getReferringComponents("singleAxis",Hi).models[0];r.coordinateSystem=i&&i.coordinateSystem}}),t}var mBe={create:vBe,dimensions:rde},TK=["x","y"],gBe=["width","height"],yBe=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,s){var o=i.axis,l=o.coordinateSystem,u=MO(l,1-oI(o)),c=l.dataToPoint(r)[0],f=a.get("type");if(f&&f!=="none"){var d=K9(a),h=xBe[f](o,c,u);h.style=d,t.graphicKey=h.type,t.pointer=h}var p=V8(i);Kfe(r,t,p,i,a,s)},e.prototype.getHandleTransform=function(t,r,i){var a=V8(r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=$9(r.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,a){var s=i.axis,o=s.coordinateSystem,l=oI(s),u=MO(o,l),c=[t.x,t.y];c[l]+=r[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=MO(o,1-l),d=(f[1]+f[0])/2,h=[d,d];return h[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},e})(Z9),xBe={line:function(n,e,t){var r=J9([e,t[0]],[e,t[1]],oI(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=n.getBandWidth(),i=t[1]-t[0];return{type:"Rect",shape:$fe([e-r/2,t[0]],[r,i],oI(n))}}};function oI(n){return n.isHorizontal()?0:1}function MO(n,e){var t=n.getRect();return[t[TK[e]],t[TK[e]]+t[gBe[e]]]}var _Be=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e})(ri);function bBe(n){Nn(iM),ix.registerAxisPointerClass("SingleAxisPointer",yBe),n.registerComponentView(_Be),n.registerComponentView(fBe),n.registerComponentModel(qR),Tb(n,"single",qR,qR.defaultOption),n.registerCoordinateSystem("single",mBe)}var SBe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){var a=tx(t);n.prototype.init.apply(this,arguments),CK(t,a)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),CK(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.layoutMode="box",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:qe.color.axisLine,width:1,type:"solid"}},itemStyle:{color:qe.color.neutral00,borderWidth:1,borderColor:qe.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:qe.size.s,color:qe.color.secondary},monthLabel:{show:!0,position:"start",margin:qe.size.s,align:"center",formatter:null,color:qe.color.secondary},yearLabel:{show:!0,position:null,margin:qe.size.xl,formatter:null,color:qe.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e})(zn);function CK(n,e){var t=n.cellSize,r;ft(t)?r=t:r=n.cellSize=[t,t],r.length===1&&(r[1]=r[0]);var i=ht([0,1],function(a){return jAe(e,a)&&(r[a]="auto"),r[a]!=null&&r[a]!=="auto"});Qd(n,e,{type:"box",ignoreSize:i})}var wBe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=this.group;a.removeAll();var s=t.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),u=r.getLocaleModel();this._renderDayRect(t,o,a),this._renderLines(t,o,l,a),this._renderYearText(t,o,l,a),this._renderMonthText(t,u,l,a),this._renderWeekText(t,u,o,l,a)},e.prototype._renderDayRect=function(t,r,i){for(var a=t.coordinateSystem,s=t.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),l=a.getCellHeight(),u=r.start.time;u<=r.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToCalendarLayout([u],!1).tl,f=new Pn({shape:{x:c[0],y:c[1],width:o,height:l},cursor:"default",style:s});i.add(f)}},e.prototype._renderLines=function(t,r,i,a){var s=this,o=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=r.start,d=0;f.time<=r.end.time;d++){p(f.formatedDate),d===0&&(f=o.getDateInfo(r.start.y+"-"+r.start.m));var h=f.date;h.setMonth(h.getMonth()+1),f=o.getDateInfo(h)}p(o.getNextNDay(r.end.time,1).formatedDate);function p(m){s._firstDayOfMonth.push(o.getDateInfo(m)),s._firstDayPoints.push(o.dataToCalendarLayout([m],!1).tl);var g=s._getLinePointsOfOneWeek(t,m,i);s._tlpoints.push(g[0]),s._blpoints.push(g[g.length-1]),u&&s._drawSplitline(g,l,a)}u&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,c,i),l,a),u&&this._drawSplitline(s._getEdgesPoints(s._blpoints,c,i),l,a)},e.prototype._getEdgesPoints=function(t,r,i){var a=[t[0].slice(),t[t.length-1].slice()],s=i==="horizontal"?0:1;return a[0][s]=a[0][s]-r/2,a[1][s]=a[1][s]+r/2,a},e.prototype._drawSplitline=function(t,r,i){var a=new Ls({z2:20,shape:{points:t},style:r});i.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,r,i){for(var a=t.coordinateSystem,s=a.getDateInfo(r),o=[],l=0;l<7;l++){var u=a.getNextNDay(s.time,l),c=a.dataToCalendarLayout([u.time],!1);o[2*u.day]=c.tl,o[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,r){return Lt(t)&&t?FAe(t,r):Xt(t)?t(r):r.nameMap},e.prototype._yearTextPositionControl=function(t,r,i,a,s){var o=r[0],l=r[1],u=["center","bottom"];a==="bottom"?(l+=s,u=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,u=["center","top"]):l-=s;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:o,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,r,i,a){var s=t.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,d=i==="horizontal"?0:1,h={top:[c,u[d][1]],bottom:[c,u[1-d][1]],left:[u[1-d][0],f],right:[u[d][0],f]},p=r.start.y;+r.end.y>+r.start.y&&(p=p+"-"+r.end.y);var m=s.get("formatter"),g={start:r.start.y,end:r.end.y,nameMap:p},y=this._formatterLabel(m,g),_=new tr({z2:30,style:ti(s,{text:y}),silent:s.get("silent")});_.attr(this._yearTextPositionControl(_,h[l],i,l,o)),a.add(_)}},e.prototype._monthTextPositionControl=function(t,r,i,a,s){var o="left",l="top",u=t[0],c=t[1];return i==="horizontal"?(c=c+s,r&&(o="center"),a==="start"&&(l="bottom")):(u=u+s,r&&(l="middle"),a==="start"&&(o="right")),{x:u,y:c,align:o,verticalAlign:l}},e.prototype._renderMonthText=function(t,r,i,a){var s=t.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),u=s.get("position"),c=s.get("align"),f=[this._tlpoints,this._blpoints];(!o||Lt(o))&&(o&&(r=O6(o)||r),o=r.get(["time","monthAbbr"])||[]);var d=u==="start"?0:1,h=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var p=c==="center",m=s.get("silent"),g=0;g<f[d].length-1;g++){var y=f[d][g].slice(),_=this._firstDayOfMonth[g];if(p){var S=this._firstDayPoints[g];y[h]=(S[h]+f[0][g+1][h])/2}var A=s.get("formatter"),M=o[+_.m-1],E={yyyy:_.y,yy:(_.y+"").slice(2),MM:_.m,M:+_.m,nameMap:M},D=this._formatterLabel(A,E),I=new tr({z2:30,style:at(ti(s,{text:D}),this._monthTextPositionControl(y,p,i,u,l)),silent:m});a.add(I)}}},e.prototype._weekTextPositionControl=function(t,r,i,a,s){var o="center",l="middle",u=t[0],c=t[1],f=i==="start";return r==="horizontal"?(u=u+a+(f?1:-1)*s[0]/2,o=f?"right":"left"):(c=c+a+(f?1:-1)*s[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:o,verticalAlign:l}},e.prototype._renderWeekText=function(t,r,i,a,s){var o=t.getModel("dayLabel");if(o.get("show")){var l=t.coordinateSystem,u=o.get("position"),c=o.get("nameMap"),f=o.get("margin"),d=l.getFirstDayOfWeek();if(!c||Lt(c)){c&&(r=O6(c)||r);var h=r.get(["time","dayOfWeekShort"]);c=h||ht(r.get(["time","dayOfWeekAbbr"]),function(E){return E[0]})}var p=l.getNextNDay(i.end.time,7-i.lweek).time,m=[l.getCellWidth(),l.getCellHeight()];f=kt(f,Math.min(m[1],m[0])),u==="start"&&(p=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var g=o.get("silent"),y=0;y<7;y++){var _=l.getNextNDay(p,y),S=l.dataToCalendarLayout([_.time],!1).center,A=y;A=Math.abs((y+d)%7);var M=new tr({z2:30,style:at(ti(o,{text:c[A]}),this._weekTextPositionControl(S,a,u,f,m)),silent:g});s.add(M)}}},e.type="calendar",e})(ri),EO=864e5,TBe=(function(){function n(e,t,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e,this._update(t,r)}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){e=ih(e);var t=e.getFullYear(),r=e.getMonth()+1,i=r<10?"0"+r:""+r,a=e.getDate(),s=a<10?"0"+a:""+a,o=e.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:s,day:o,time:e.getTime(),formatedDate:t+"-"+i+"-"+s,date:e}},n.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},n.prototype._update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[r,7]:[7,r];ie([0,1],function(f){c(a,f)&&(s[i[f]]=a[f]*o[f])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=wi(s,l);ie([0,1],function(f){c(a,f)||(a[f]=u[i[f]]/o[f])});function c(f,d){return f[d]!=null&&f[d]!=="auto"}this._sw=a[0],this._sh=a[1]},n.prototype.dataToPoint=function(e,t,r){r=r||[],ft(e)&&(e=e[0]),t==null&&(t=!0);var i=this.getDateInfo(e),a=this._rangeInfo,s=i.formatedDate;if(t&&!(i.time>=a.start.time&&i.time<a.end.time+EO))return r[0]=r[1]=NaN,r;var o=i.day,l=this._getRangeInfo([a.start.time,s]).nthWeek;return this._orient==="vertical"?(r[0]=this._rect.x+o*this._sw+this._sw/2,r[1]=this._rect.y+l*this._sh+this._sh/2):(r[0]=this._rect.x+l*this._sw+this._sw/2,r[1]=this._rect.y+o*this._sh+this._sh/2),r},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToLayout=function(e,t,r){r=r||{};var i=r.rect=r.rect||{},a=r.contentRect=r.contentRect||{},s=this.dataToPoint(e,t);return i.x=s[0]-this._sw/2,i.y=s[1]-this._sh/2,i.width=this._sw,i.height=this._sh,cn.copy(a,i),By(a,this._lineWidth/2,!0,!0),r},n.prototype.dataToCalendarLayout=function(e,t){var r=this.dataToPoint(e,t);return{center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,t-1,i):this._getDateByWeeksAndDay(t,r-1,i)},n.prototype.convertToPixel=function(e,t,r){var i=DO(t);return i===this?i.dataToPoint(r):null},n.prototype.convertToLayout=function(e,t,r){var i=DO(t);return i===this?i.dataToLayout(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=DO(t);return i===this?i.pointToData(r):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(ft(e)&&e.length===1&&(e=e[0]),ft(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),a=i.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);t=[i.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;t[0].time>t[1].time&&(r=!0,t.reverse());var i=Math.floor(t[1].time/EO)-Math.floor(t[0].time/EO)+1,a=new Date(t[0].time),s=a.getDate(),o=t[1].date.getDate();a.setDate(s+i-1);var l=a.getDate();if(l!==o)for(var u=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==o&&(a.getTime()-t[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+t[0].day+6)/7),f=r?-c+1:c-1;return r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:c,nthWeek:f,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,r){var i=this._getRangeInfo(r);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var a=(e-1)*7-i.fweek+t,s=new Date(i.start.time);return s.setDate(+i.start.d+a),this.getDateInfo(s)},n.create=function(e,t){var r=[];return e.eachComponent("calendar",function(i){var a=new n(i,e,t);r.push(a),i.coordinateSystem=a}),e.eachComponent(function(i,a){KA({targetModel:a,coordSysType:"calendar",coordSysProvider:Soe})}),r},n.dimensions=["time","value"],n})();function DO(n){var e=n.calendarModel,t=n.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}function CBe(n){n.registerComponentModel(SBe),n.registerComponentView(wBe),n.registerCoordinateSystem("calendar",TBe)}var ap={level:1,leaf:2,nonLeaf:3},Sp={none:0,all:1,body:2,corner:3};function G8(n,e,t){var r=e[gn[t]].getCell(n);return!r&&nr(n)&&n<0&&(r=e[gn[1-t]].getUnitLayoutInfo(t,Math.round(n))),r}function ide(n){var e=n||[];return e[0]=e[0]||[],e[1]=e[1]||[],e[0][0]=e[0][1]=e[1][0]=e[1][1]=NaN,e}function ade(n,e,t,r,i){AK(n[0],e,i,t,r,0),AK(n[1],e,i,t,r,1)}function AK(n,e,t,r,i,a){n[0]=1/0,n[1]=-1/0;var s=r[a],o=ft(s)?s:[s],l=o.length,u=!!t;if(l>=1?(MK(n,e,o,u,i,a,0),l>1&&MK(n,e,o,u,i,a,l-1)):n[0]=n[1]=NaN,u){var c=-i[gn[1-a]].getLocatorCount(a),f=i[gn[a]].getLocatorCount(a)-1;t===Sp.body?c=fa(0,c):t===Sp.corner&&(f=wu(-1,f)),f<c&&(c=f=NaN),Zs(n[0])&&(n[0]=c),Zs(n[1])&&(n[1]=f),n[0]=fa(wu(n[0],f),c),n[1]=fa(wu(n[1],f),c)}}function MK(n,e,t,r,i,a,s){var o=G8(t[s],i,a);if(!o){n[0]=n[1]=NaN;return}var l=o.id[gn[a]],u=l,c=DBe(o);c&&(u+=c.span[gn[a]]-1),n[0]=wu(n[0],l,u),n[1]=fa(n[1],l,u)}function iD(n,e){return Zs(n[e][0])||Zs(n[e][1])}function EK(n,e,t,r){e=e||ABe;for(var i=0;i<r;i++)e[i]=!1;for(;;){for(var a=!1,i=0;i<r;i++){var s=t[i];!e[i]&&s.cellMergeOwner&&MBe(n,s.locatorRange)&&(e[i]=!0,a=!0)}if(!a)break}}var ABe=[];function MBe(n,e){return!DK(n[0],e[0])||!DK(n[1],e[1])?!1:(n[0][0]=wu(n[0][0],e[0][0]),n[0][1]=fa(n[0][1],e[0][1]),n[1][0]=wu(n[1][0],e[1][0]),n[1][1]=fa(n[1][1],e[1][1]),!0)}function DK(n,e){return n[1]>=e[0]&&n[0]<=e[1]}function RK(n,e){n.id.set(e[0][0],e[1][0]),n.span.set(e[0][1]-n.id.x+1,e[1][1]-n.id.y+1)}function EBe(n,e){n[0][0]=e[0][0],n[0][1]=e[0][1],n[1][0]=e[1][0],n[1][1]=e[1][1]}function NK(n,e,t,r){var i=G8(e[r][0],t,r),a=G8(e[r][1],t,r);n[gn[r]]=n[Na[r]]=NaN,i&&a&&(n[gn[r]]=i.xy,n[Na[r]]=a.xy+a.wh-i.xy)}function Rw(n,e,t,r){return n[gn[e]]=t,n[gn[1-e]]=r,n}function DBe(n){return n&&(n.type===ap.leaf||n.type===ap.nonLeaf)?n:null}function lI(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var IK=(function(){function n(e,t){this._cells=[],this._levels=[],this.dim=e,this.dimIdx=e==="x"?0:1,this._model=t,this._uniqueValueGen=RBe(e);var r=t.get("data",!0);r!=null&&!ft(r)&&(r=[]),r?this._initByDimModelData(r):this._initBySeriesData()}return n.prototype._initByDimModelData=function(e){var t=this,r=t._cells,i=t._levels,a=[],s=0;t._leavesCount=o(e,0,0),l();return;function o(u,c,f){var d=0;return u&&ie(u,function(h,p){var m;Lt(h)?m={value:h}:on(h)?(m=h,h.value!=null&&!Lt(h.value)&&(m={value:null})):m={value:null};var g={type:ap.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:c,id:new un,span:Rw(new un,t.dimIdx,1,1),option:m,xy:NaN,wh:NaN,dim:t,rect:lI()};s++,(a[c]||(a[c]=[])).push(g),i[f]||(i[f]={type:ap.level,xy:NaN,wh:NaN,option:null,id:new un,dim:t});var y=o(m.children,c,f+1),_=Math.max(1,y);g.span[gn[t.dimIdx]]=_,d+=_,c+=_}),d}function l(){for(var u=[];r.length<s;)for(var c=0;c<a.length;c++){var f=a[c].pop();if(f){f.ordinal=u.length;var d=f.option.value;u.push(d),r.push(f),t._uniqueValueGen.calcDupBase(d)}}t._uniqueValueGen.ensureValueUnique(u,r);var h=t._ordinalMeta=new zC({categories:u,needCollect:!1,deduplication:!1});t._scale=new bb({ordinalMeta:h});for(var p=0;p<t._leavesCount;p++){var m=t._cells[p];m.type=ap.leaf,m.span[gn[1-t.dimIdx]]=t._levels.length-m.level}t._initCellsId(),t._initLevelIdOptions()}},n.prototype._initBySeriesData=function(){var e=this;e._leavesCount=0,e._levels=[{type:ap.level,xy:NaN,wh:NaN,option:null,id:new un,dim:e}],e._initLevelIdOptions();var t=e._ordinalMeta=new zC({needCollect:!0,deduplication:!0,onCollect:function(r,i){var a=e._cells[i]={type:ap.leaf,ordinal:i,level:0,firstLeafLocator:i,id:new un,span:Rw(new un,e.dimIdx,1,1),option:{value:r+""},xy:NaN,wh:NaN,dim:e,rect:lI()};e._leavesCount++,e._setCellId(a)}});e._scale=new bb({ordinalMeta:t})},n.prototype._setCellId=function(e){var t=this._levels.length,r=this.dimIdx;Rw(e.id,r,e.firstLeafLocator,e.level-t)},n.prototype._initCellsId=function(){var e=this._levels.length,t=this.dimIdx;ie(this._cells,function(r){Rw(r.id,t,r.firstLeafLocator,r.level-e)})},n.prototype._initLevelIdOptions=function(){var e=this._levels.length,t=this.dimIdx,r=this._model.get("levels",!0);r=ft(r)?r:[],ie(this._levels,function(i,a){Rw(i.id,t,0,a-e),i.option=r[a]})},n.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},n.prototype.resetLayoutIterator=function(e,t,r,i){if(e=e||new Av,t===this.dimIdx){var a=this._leavesCount,s=r!=null?Math.max(0,r):0;i=i!=null?Math.min(i,a):a,e.reset(this._cells,s,s+i)}else{var a=this._levels.length,s=r!=null?Math.max(0,r+a):0;i=i!=null?Math.min(i,a):a,e.reset(this._levels,s,s+i)}return e},n.prototype.resetCellIterator=function(e){return(e||new Av).reset(this._cells,0)},n.prototype.resetLevelIterator=function(e){return(e||new Av).reset(this._levels,0)},n.prototype.getLayout=function(e,t,r){var i=this.getUnitLayoutInfo(t,r);e[gn[t]]=i?i.xy:NaN,e[Na[t]]=i?i.wh:NaN},n.prototype.getUnitLayoutInfo=function(e,t){return e===this.dimIdx?t<this._leavesCount?this._cells[t]:void 0:this._levels[t+this._levels.length]},n.prototype.getCell=function(e){var t=this._scale.parse(e);return Zs(t)?void 0:this._cells[t]},n.prototype.getLocatorCount=function(e){return e===this.dimIdx?this._leavesCount:this._levels.length},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n})();function RBe(n){var e=n.toUpperCase(),t=new RegExp("^"+e+"([0-9]+)$"),r=0;function i(o){var l;o!=null&&(l=o.match(t))&&(r=fa(r,+l[1]+1))}function a(){return""+e+r++}function s(o,l){for(var u=jt(),c=0;c<o.length;c++){var f=o[c];(f==null||u.get(f)!=null)&&(o[c]=f=a(),l[c].option=sn({value:f},l[c].option)),u.set(f,!0)}}return{calcDupBase:i,ensureValueUnique:s}}var kK=(function(){function n(e,t,r){this._model=t,this._dims=r,this._kind=e,this._cellMergeOwnerList=[]}return n.prototype._ensureCellMap=function(){var e=this,t=e._cellMap;return t||(t=e._cellMap=jt(),r()),t;function r(){var a=[],s=e._model.getShallow("data");s&&!ft(s)&&(s=null),ie(s,function(p,m){if(!(!on(p)||!ft(p.coord))){var g=ide([]),y=null;if(ade(g,y,p.coord,e._dims,p.coordClamp?Sp[e._kind]:Sp.none),!(iD(g,0)||iD(g,1))){var _=p&&p.mergeCells,S={id:new un,span:new un,locatorRange:g,option:p,cellMergeOwner:_};RK(S,g),a.push(S)}}});for(var o=[],l=0;l<a.length;l++){var u=a[l];if(u.cellMergeOwner){var c=u.locatorRange;EK(c,o,a,l);for(var f=0;f<l;f++)o[f]&&(a[f].cellMergeOwner=!1);if(c[0][0]!==u.id.x||c[1][0]!==u.id.y){u.cellMergeOwner=!1;var d=at({},u.option);d.coord=null;var h={id:new un,span:new un,locatorRange:c,option:d,cellMergeOwner:!0};RK(h,c),a.push(h)}}}ie(a,function(p){var m=i(p.id.x,p.id.y);if(p.cellMergeOwner&&(m.cellMergeOwner=!0,m.span=p.span,m.locatorRange=p.locatorRange,m.spanRect=lI(),e._cellMergeOwnerList.push(m)),!(!p.cellMergeOwner&&!p.option))for(var g=0;g<p.span.y;g++)for(var y=0;y<p.span.x;y++){var _=i(p.id.x+y,p.id.y+g);_.option=p.option,p.cellMergeOwner&&(_.inSpanOf=m)}})}function i(a,s){var o=LK(a,s),l=t.get(o);return l||(l=t.set(o,{id:new un(a,s),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},n.prototype.getCell=function(e){return this._ensureCellMap().get(LK(e[0],e[1]))},n.prototype.travelExistingCells=function(e){this._ensureCellMap().each(e)},n.prototype.expandRangeByCellMerge=function(e){if(!iD(e,0)&&!iD(e,1)&&e[0][0]===e[0][1]&&e[1][0]===e[1][1]){RO[0]=e[0][0],RO[1]=e[1][0];var t=this.getCell(RO),r=t&&t.inSpanOf;if(r){EBe(e,r.locatorRange);return}}var i=this._cellMergeOwnerList;EK(e,null,i,i.length)},n})(),RO=[];function LK(n,e){return n+"|"+e}var n7={show:!0,color:qe.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function r7(n){return{color:"none",borderWidth:1,borderColor:n?"none":qe.color.borderTint}}var PK={show:!0,label:n7,itemStyle:r7(!1),silent:void 0,dividerLineStyle:{width:1,color:qe.color.border}},NBe={label:n7,itemStyle:r7(!1),silent:void 0},IBe={label:n7,itemStyle:r7(!0),silent:void 0},kBe={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:PK,y:PK,body:NBe,corner:IBe,backgroundStyle:{color:"none",borderColor:qe.color.axisLine,borderWidth:1}},LBe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this._dimModels={x:new OK(this.get("x",!0)||{}),y:new OK(this.get("y",!0)||{})};t.x.option.type=t.y.option.type="category";var r=t.x.dim=new IK("x",t.x),i=t.y.dim=new IK("y",t.y),a={x:r,y:i};this._body=new kK("body",new Gn(this.getShallow("body")),a),this._corner=new kK("corner",new Gn(this.getShallow("corner")),a)},e.prototype.getDimensionModel=function(t){return this._dimModels[t]},e.prototype.getBody=function(){return this._body},e.prototype.getCorner=function(){return this._corner},e.type="matrix",e.layoutMode="box",e.defaultOption=kBe,e})(zn),OK=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},e})(Gn),aD=Math.round,PBe=0,OBe=99,FBe={normal:25,special:100},BBe={normal:50,special:125},zBe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r){this.group.removeAll();var i=this.group,a=t.coordinateSystem,s=a.getRect(),o=t.getDimensionModel("x"),l=t.getDimensionModel("y"),u=o.dim,c=l.dim;UBe(i,t,r),VBe(i,t,u,c,r);var f=t.getShallow("borderZ2",!0),d=Wt(f,OBe),h=d-1,p=t.getModel("backgroundStyle").getItemStyle(["borderWidth"]);p.lineWidth=0;var m=t.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);m.fill="none";var g=H8(s.clone(),p,PBe),y=H8(s.clone(),m,d);g.silent=!0,y.silent=!0,i.add(g),i.add(y);var _=u.getUnitLayoutInfo(0,0),S=c.getUnitLayoutInfo(1,0);_&&S&&(u.shouldShow()&&i.add(FK({x1:s.x,y1:S.xy,x2:s.x+s.width,y2:S.xy},o.getModel("dividerLineStyle").getLineStyle(),h)),c.shouldShow()&&i.add(FK({x1:_.xy,y1:s.y,x2:_.xy,y2:s.y+s.height},l.getModel("dividerLineStyle").getLineStyle(),h)))},e.type="matrix",e})(ri);function UBe(n,e,t){r(0),r(1);function r(i){var a=e.getDimensionModel(gn[i]),s=a.dim;if(s.shouldShow())for(var o=a.getModel("itemStyle"),l=a.getModel("label"),u=e.getShallow("tooltip",!0),c=[],f=s.resetCellIterator();f.next();){var d=f.item,h={};cn.copy(h,d.rect),Xk(c,d.id.x,d.id.y),sde(c,e,n,t,d.option,o,l,a,h,d.option.value,BBe,u)}}}function VBe(n,e,t,r,i){a("body",e.getBody(),t,r),t.shouldShow()&&r.shouldShow()&&a("corner",e.getCorner(),r,t);function a(s,o,l,u){var c=new Gn(e.getShallow(s,!0)),f=c.getModel("itemStyle"),d=c.getModel("label"),h=new Av,p=new Av,m=[],g=e.getShallow("tooltip",!0);for(u.resetLayoutIterator(p,1);p.next();)for(l.resetLayoutIterator(h,0);h.next();){var y=h.item,_=p.item;Xk(m,y.id.x,_.id.y);var S=o.getCell(m);if(!(S&&S.inSpanOf&&S.inSpanOf!==S)){var A={};S&&S.span?cn.copy(A,S.spanRect):(y.dim.getLayout(A,0,m[0]),_.dim.getLayout(A,1,m[1]));var M=S?S.option:null;sde(m,e,n,i,M,f,d,c,A,M?M.value:null,FBe,g)}}}}function sde(n,e,t,r,i,a,s,o,l,u,c,f){var d;sD.option=i?i.itemStyle:null,sD.parentModel=a,Y1.option=i,Y1.parentModel=o;var h=Wt(Y1.getShallow("z2"),i&&i.itemStyle?c.special:c.normal),p=f&&f.show,m=H8(l,sD.getItemStyle(),h);t.add(m);var g=Y1.get("cursor");g!=null&&m.attr("cursor",g);var y;if(u!=null){var _=u+"";if(q1.option=i?i.label:null,q1.parentModel=s,q1.ecModel=r,cs(m,{normal:q1},{defaultText:_,autoOverflowArea:!0,layoutRect:tn(m.shape)}),y=m.getTextContent(),y){y.z2=h+1;var S=y.style;if(S&&S.overflow&&S.overflow!=="none"&&S.lineOverflow){var A={};cn.copy(A,l),By(A,(((d=m.style)===null||d===void 0?void 0:d.lineWidth)||0)/2,!0,!0),m.updateInnerText(),y.getLocalTransform(oD),Tc(oD,oD),cn.applyTransform(A,A,oD),y.setClipPath(new Pn({shape:A}))}}qp({el:m,componentModel:e,itemName:_,itemTooltipOption:f,formatterParamsExtra:{xyLocator:n.slice()}})}if(y){var M=q1.get("silent");M==null&&(M=!p),y.silent=M,y.ignoreHostSilent=!0}var E=Y1.get("silent");E==null&&(E=!m.style||m.style.fill==="none"||!m.style.fill),m.silent=E,H4(Y1),H4(sD),H4(q1)}var Y1=new Gn,sD=new Gn,q1=new Gn,oD=[];function H8(n,e,t){var r=e.lineWidth;if(r){var i=n.x+n.width,a=n.y+n.height;n.x=bu(n.x,r,!0),n.y=bu(n.y,r,!0),n.width=bu(i,r,!0)-n.x,n.height=bu(a,r,!0)-n.y}return new Pn({shape:n,style:e,z2:t})}function FK(n,e,t){var r=e.lineWidth;return r&&(aD(n.x1*2)===aD(n.x2*2)&&(n.x1=n.x2=bu(n.x1,r,!0)),aD(n.y1*2)===aD(n.y2*2)&&(n.y1=n.y2=bu(n.y1,r,!0))),new ha({shape:n,style:e,silent:!0,z2:t})}var GBe=(function(){function n(e,t,r){this.dimensions=n.dimensions,this.type="matrix",this._model=e;var i=this._dimModels={x:e.getDimensionModel("x"),y:e.getDimensionModel("y")};this._dims={x:i.x.dim,y:i.y.dim},this._resize(e,r)}return n.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},n.create=function(e,t){var r=[];return e.eachComponent("matrix",function(i){var a=new n(i,e,t);r.push(a),i.coordinateSystem=a}),e.eachComponent(function(i,a){KA({targetModel:a,coordSysType:"matrix",coordSysProvider:Soe})}),r},n.prototype.getRect=function(){return this._rect},n.prototype._resize=function(e,t){var r=this._dims,i=this._dimModels,a=this._rect=wi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});BK(i,r,a,0),BK(i,r,a,1),zK(0,r),zK(1,r),UK(this._model.getBody(),r),UK(this._model.getCorner(),r)},n.prototype.dataToPoint=function(e,t,r){return r=r||[],this.dataToLayout(e,t,Nw),r[0]=Nw.rect.x+Nw.rect.width/2,r[1]=Nw.rect.y+Nw.rect.height/2,r},n.prototype.dataToLayout=function(e,t,r){var i=this._dims;r=r||{};var a=r.rect=r.rect||{};a.x=a.y=a.width=a.height=NaN;var s=r.matrixXYLocatorRange=ide(r.matrixXYLocatorRange);return ft(e)&&(ade(s,null,e,i,Wt(t&&t.clamp,Sp.none)),(!t||!t.ignoreMergeCells)&&((!t||t.clamp!==Sp.corner)&&this._model.getBody().expandRangeByCellMerge(s),(!t||t.clamp!==Sp.body)&&this._model.getCorner().expandRangeByCellMerge(s)),NK(a,s,i,0),NK(a,s,i,1)),r},n.prototype.pointToData=function(e,t,r){var i=this._dims;return VK(Sd,0,i,e,t&&t.clamp),VK(Sd,1,i,e,t&&t.clamp),r=r||[],r[0]=r[1]=NaN,Sd.y===qs.inCorner&&Sd.x===qs.inBody?GK(Sd,r,0,i):Sd.x===qs.inCorner&&Sd.y===qs.inBody?GK(Sd,r,1,i):(HK(Sd,r,0,i),HK(Sd,r,1,i)),r},n.prototype.convertToPixel=function(e,t,r,i){var a=IO(t);return a===this?a.dataToPoint(r,i):void 0},n.prototype.convertToLayout=function(e,t,r,i){var a=IO(t);return a===this?a.dataToLayout(r,i):void 0},n.prototype.convertFromPixel=function(e,t,r,i){var a=IO(t);return a===this?a.pointToData(r,i):void 0},n.prototype.containPoint=function(e){return this._rect.contain(e[0],e[1])},n.dimensions=["x","y","value"],n})(),Nw={rect:lI()},lD=new Av,NO=new Av;function BK(n,e,t,r){for(var i=1-r,a=e[gn[r]],s=e[gn[i]],o=s.shouldShow(),l=a.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var u=s.resetLayoutIterator(null,r);u.next();)u.item.wh=u.item.xy=NaN;for(var c=t[Na[r]],f=a.getLocatorCount(r)+s.getLocatorCount(r),d=new Gn,h=s.resetLevelIterator();h.next();)d.option=h.item.option,d.parentModel=n[gn[i]],g(h.item,o?d.get("levelSize"):0);for(var p=new Gn,m=a.resetCellIterator();m.next();)m.item.type===ap.leaf&&(p.option=m.item.option,p.parentModel=void 0,g(m.item,p.get("size")));function g(D,I){var N=HBe(I,r,t);Zs(N)||(D.wh=j8(N,c),c=j8(c-D.wh),f--)}var y=f?c/f:0,_=!f&&c>=1,S=t[gn[r]],A=a.getLocatorCount(r)-1,M=new Av;for(s.resetLayoutIterator(M,r);M.next();)E(M.item);for(a.resetLayoutIterator(M,r);M.next();)E(M.item);function E(D){Zs(D.wh)&&(D.wh=y),D.xy=S,D.id[gn[r]]===A&&!_&&(D.wh=t[gn[r]]+t[Na[r]]-D.xy),S+=D.wh}}function zK(n,e){for(var t=e[gn[n]].resetCellIterator();t.next();){var r=t.item;uI(r.rect,n,r.id,r.span,e),uI(r.rect,1-n,r.id,r.span,e),r.type===ap.nonLeaf&&(r.xy=r.rect[gn[n]],r.wh=r.rect[Na[n]])}}function UK(n,e){n.travelExistingCells(function(t){var r=t.span;if(r){var i=t.spanRect,a=t.id;uI(i,0,a,r,e),uI(i,1,a,r,e)}})}function uI(n,e,t,r,i){n[Na[e]]=0;var a=t[gn[e]],s=a<0?i[gn[1-e]]:i[gn[e]],o=s.getUnitLayoutInfo(e,t[gn[e]]);if(n[gn[e]]=o.xy,n[Na[e]]=o.wh,r[gn[e]]>1){var l=s.getUnitLayoutInfo(e,t[gn[e]]+r[gn[e]]-1);n[Na[e]]=l.xy+l.wh-o.xy}}function HBe(n,e,t){var r=SN(n,t[Na[e]]);return j8(r,t[Na[e]])}function j8(n,e){return Math.max(Math.min(n,Wt(e,1/0)),0)}function IO(n){var e=n.matrixModel,t=n.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}var qs={inBody:1,inCorner:2,outside:3},Sd={x:null,y:null,point:[]};function VK(n,e,t,r,i){var a=t[gn[e]],s=t[gn[1-e]],o=a.getUnitLayoutInfo(e,a.getLocatorCount(e)-1),l=a.getUnitLayoutInfo(e,0),u=s.getUnitLayoutInfo(e,-s.getLocatorCount(e)),c=s.shouldShow()?s.getUnitLayoutInfo(e,-1):null,f=n.point[e]=r[e];if(!l&&!c){n[gn[e]]=qs.outside;return}if(i===Sp.body){l?(n[gn[e]]=qs.inBody,f=wu(o.xy+o.wh,fa(l.xy,f)),n.point[e]=f):n[gn[e]]=qs.outside;return}else if(i===Sp.corner){c?(n[gn[e]]=qs.inCorner,f=wu(c.xy+c.wh,fa(u.xy,f)),n.point[e]=f):n[gn[e]]=qs.outside;return}var d=l?l.xy:c?c.xy+c.wh:NaN,h=u?u.xy:d,p=o?o.xy+o.wh:d;if(f<h){if(!i){n[gn[e]]=qs.outside;return}f=h}else if(f>p){if(!i){n[gn[e]]=qs.outside;return}f=p}n.point[e]=f,n[gn[e]]=d<=f&&f<=p?qs.inBody:h<=f&&f<=d?qs.inCorner:qs.outside}function GK(n,e,t,r){var i=1-t;if(n[gn[t]]!==qs.outside)for(r[gn[t]].resetCellIterator(NO);NO.next();){var a=NO.item;if(jK(n.point[t],a.rect,t)&&jK(n.point[i],a.rect,i)){e[t]=a.ordinal,e[i]=a.id[gn[i]];return}}}function HK(n,e,t,r){if(n[gn[t]]!==qs.outside){var i=n[gn[t]]===qs.inCorner?r[gn[1-t]]:r[gn[t]];for(i.resetLayoutIterator(lD,t);lD.next();)if(jBe(n.point[t],lD.item)){e[t]=lD.item.id[gn[t]];return}}}function jBe(n,e){return e.xy<=n&&n<=e.xy+e.wh}function jK(n,e,t){return e[gn[t]]<=n&&n<=e[gn[t]]+e[Na[t]]}function WBe(n){n.registerComponentModel(LBe),n.registerComponentView(zBe),n.registerCoordinateSystem("matrix",GBe)}function YBe(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function WK(n,e){var t;return ie(e,function(r){n[r]!=null&&n[r]!=="auto"&&(t=!0)}),t}function qBe(n,e,t){var r=at({},t),i=n[e],a=t.$action||"merge";a==="merge"?i?(An(i,r,!0),Qd(i,r,{ignoreSize:!0}),Moe(t,i),uD(t,i),uD(t,i,"shape"),uD(t,i,"style"),uD(t,i,"extra"),t.clipPath=i.clipPath):n[e]=r:a==="replace"?n[e]=r:a==="remove"&&i&&(n[e]=null)}var ode=["transition","enterFrom","leaveTo"],XBe=ode.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function uD(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),!(!n||!e))for(var r=t?ode:XBe,i=0;i<r.length;i++){var a=r[i];n[a]==null&&e[a]!=null&&(n[a]=e[a])}}function ZBe(n,e){if(n&&(n.hv=e.hv=[WK(e,["left","right"]),WK(e,["top","bottom"])],n.type==="group")){var t=n,r=e;t.width==null&&(t.width=r.width=0),t.height==null&&(t.height=r.height=0)}}var KBe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,r){var i=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,r),this.option.elements=i},e.prototype.optionUpdated=function(t,r){var i=this.option,a=(r?i:t).elements,s=i.elements=r?[]:i.elements,o=[];this._flatten(a,o,null);var l=gse(s,o,"normalMerge"),u=this._elOptionsToUpdate=[];ie(l,function(c,f){var d=c.newOption;d&&(u.push(d),YBe(c,d),qBe(s,f,d),ZBe(s[f],d))},this),i.elements=vr(s,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(t,r,i){ie(t,function(a){if(a){i&&(a.parentOption=i),r.push(a);var s=a.children;s&&s.length&&this._flatten(s,r,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e})(zn),YK={path:null,compoundPath:null,group:nn,image:ps,text:tr},fc=Un(),$Be=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=jt()},e.prototype.render=function(t,r,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(r){var i=this._elMap,a=this.group,s=t.get("z"),o=t.get("zlevel");ie(r,function(l){var u=ja(l.id,null),c=u!=null?i.get(u):null,f=ja(l.parentId,null),d=f!=null?i.get(f):a,h=l.type,p=l.style;h==="text"&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var m=l.textContent,g=l.textConfig;if(p&&Bfe(p,h,!!g,!!m)){var y=zfe(p,h,!0);!g&&y.textConfig&&(g=l.textConfig=y.textConfig),!m&&y.textContent&&(m=y.textContent)}var _=JBe(l),S=l.$action||"merge",A=S==="merge",M=S==="replace";if(A){var E=!c,D=c;E?D=qK(u,d,l.type,i):(D&&(fc(D).isNew=!1),Hfe(D)),D&&(WR(D,_,t,{isInit:E}),XK(D,l,s,o))}else if(M){XR(c,l,i,t);var I=qK(u,d,l.type,i);I&&(WR(I,_,t,{isInit:!0}),XK(I,l,s,o))}else S==="remove"&&(Vfe(c,l),XR(c,l,i,t));var N=i.get(u);if(N&&m)if(A){var L=N.getTextContent();L?L.attr(m):N.setTextContent(new tr(m))}else M&&N.setTextContent(new tr(m));if(N){var B=l.clipPath;if(B){var O=B.type,G=void 0,E=!1;if(A){var V=N.getClipPath();E=!V||fc(V).type!==O,G=E?W8(O):V}else M&&(E=!0,G=W8(O));N.setClipPath(G),WR(G,B,t,{isInit:E}),aI(G,B.keyframeAnimation,t)}var q=fc(N);N.setTextConfig(g),q.option=l,QBe(N,t,l),qp({el:N,componentModel:t,itemName:N.name,itemTooltipOption:l.tooltip}),aI(N,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,r){for(var i=t.option.elements,a=this.group,s=this._elMap,o=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<i.length;c++){var f=i[c],d=ja(f.id,null),h=d!=null?s.get(d):null;if(!(!h||!h.isGroup)){var p=h.parent,m=p===a,g=fc(h),y=fc(p);g.width=kt(g.option.width,m?o:y.width)||0,g.height=kt(g.option.height,m?l:y.height)||0}}for(var c=i.length-1;c>=0;c--){var f=i[c],d=ja(f.id,null),h=d!=null?s.get(d):null;if(h){var p=h.parent,y=fc(p),_=p===a?{width:o,height:l}:{width:y.width,height:y.height},S={},A=fL(h,f,_,null,{hv:f.hv,boundingMode:f.bounding},S);if(!fc(h).isNew&&A){for(var M=f.transition,E={},D=0;D<u.length;D++){var I=u[D],N=S[I];M&&(Cy(M)||Cn(M,I)>=0)?E[I]=N:h[I]=N}lr(h,E,t,0)}else h.attr(S)}}},e.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(i){XR(i,fc(i).option,r,t._lastGraphicModel)}),this._elMap=jt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e})(ri);function W8(n){var e=Gt(YK,n)?YK[n]:NC(n),t=new e({});return fc(t).type=n,t}function qK(n,e,t,r){var i=W8(t);return e.add(i),r.set(n,i),fc(i).id=n,fc(i).isNew=!0,i}function XR(n,e,t,r){var i=n&&n.parent;i&&(n.type==="group"&&n.traverse(function(a){XR(a,e,t,r)}),ML(n,e,r),t.removeKey(fc(n).id))}function XK(n,e,t,r){n.isGroup||ie([["cursor",Cc.prototype.cursor],["zlevel",r||0],["z",t||0],["z2",0]],function(i){var a=i[0];Gt(e,a)?n[a]=Wt(e[a],i[1]):n[a]==null&&(n[a]=i[1])}),ie($n(e),function(i){if(i.indexOf("on")===0){var a=e[i];n[i]=Xt(a)?a:null}}),Gt(e,"draggable")&&(n.draggable=e.draggable),e.name!=null&&(n.name=e.name),e.id!=null&&(n.id=e.id)}function JBe(n){return n=at({},n),ie(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(woe),function(e){delete n[e]}),n}function QBe(n,e,t){var r=fn(n).eventData;!n.silent&&!n.ignore&&!r&&(r=fn(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),r&&(r.info=t.info)}function e6e(n){n.registerComponentModel(KBe),n.registerComponentView($Be),n.registerPreprocessor(function(e){var t=e.graphic;ft(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var ZK=["x","y","radius","angle","single"],t6e=["cartesian2d","polar","singleAxis"];function n6e(n){var e=n.get("coordinateSystem");return Cn(t6e,e)>=0}function mv(n){return n+"Axis"}function r6e(n,e){var t=jt(),r=[],i=jt();n.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||o(c)});var a;do a=!1,n.eachComponent("dataZoom",s);while(a);function s(c){!i.get(c.uid)&&l(c)&&(o(c),a=!0)}function o(c){i.set(c.uid,!0),r.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(d,h){var p=t.get(d);p&&p[h]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,d){(t.get(f)||t.set(f,[]))[d]=!0})}return r}function lde(n){var e=n.ecModel,t={infoList:[],infoMap:jt()};return n.eachTargetAxis(function(r,i){var a=e.getComponent(mv(r),i);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,l=t.infoMap.get(o);l||(l={model:s,axisModels:[]},t.infoList.push(l),t.infoMap.set(o,l)),l.axisModels.push(a)}}}),t}var kO=(function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n})(),KC=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,i){var a=KK(t);this.settledOption=a,this.mergeDefaultAndTheme(t,i),this._doInit(a)},e.prototype.mergeOption=function(t){var r=KK(t);An(this.option,t,!0),An(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;ie([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(r[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=jt(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return ie(ZK,function(i){var a=this.getReferringComponents(mv(i),bTe);if(a.specified){r=!0;var s=new kO;ie(a.models,function(o){s.add(o.componentIndex)}),t.set(i,s)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var i=this.ecModel,a=!0;if(a){var s=r==="vertical"?"y":"x",o=i.findComponents({mainType:s+"Axis"});l(o,s)}if(a){var o=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(o,"single")}function l(u,c){var f=u[0];if(f){var d=new kO;if(d.add(f.componentIndex),t.set(c,d),a=!1,c==="x"||c==="y"){var h=f.getReferringComponents("grid",Hi).models[0];h&&ie(u,function(p){f.componentIndex!==p.componentIndex&&h===p.getReferringComponents("grid",Hi).models[0]&&d.add(p.componentIndex)})}}}a&&ie(ZK,function(u){if(a){var c=i.findComponents({mainType:mv(u),filter:function(d){return d.get("type",!0)==="category"}});if(c[0]){var f=new kO;f.add(c[0].componentIndex),t.set(u,f),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,i=this.get("rangeMode");ie([["start","startValue"],["end","endValue"]],function(a,s){var o=t[a[0]]!=null,l=t[a[1]]!=null;o&&!l?r[s]="percent":!o&&l?r[s]="value":i?r[s]=i[s]:o&&(r[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,i){t==null&&(t=this.ecModel.getComponent(mv(r),i))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(i,a){ie(i.indexList,function(s){t.call(r,a,s)})})},e.prototype.getAxisProxy=function(t,r){var i=this.getAxisModel(t,r);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[r])return this.ecModel.getComponent(mv(t),r)},e.prototype.setRawRange=function(t){var r=this.option,i=this.settledOption;ie([["start","startValue"],["end","endValue"]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(r[a[0]]=i[a[0]]=t[a[0]],r[a[1]]=i[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;ie(["start","startValue","end","endValue"],function(i){r[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var s=i[a],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var u=this.getAxisProxy(s,o.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e})(zn);function KK(n){var e={};return ie(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var i6e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(KC),i7=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.dataZoomModel=t,this.ecModel=r,this.api=i},e.type="dataZoom",e})(ri),a6e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(i7),E_=ie,$K=xu,s6e=(function(){function n(e,t,r,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=r}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(n6e(t)){var r=mv(this._dimName),i=t.getReferringComponents(r,Hi).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return tn(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],u;E_(["start","end"],function(d,h){var p=e[d],m=e[d+"Value"];a[h]==="percent"?(p==null&&(p=s[h]),m=i.parse(_r(p,s,t))):(u=!0,m=m==null?t[h]:i.parse(m),p=_r(m,t,s)),l[h]=m==null||isNaN(m)?t[h]:m,o[h]=p==null||isNaN(p)?s[h]:p}),$K(l),$K(o);var c=this._minMaxSpan;u?f(l,o,t,s,!1):f(o,l,s,t,!0);function f(d,h,p,m,g){var y=g?"Span":"ValueSpan";Fv(0,d,p,"all",c["min"+y],c["max"+y]);for(var _=0;_<2;_++)h[_]=_r(d[_],p,m,!0),g&&(h[_]=i.parse(h[_]))}return{valueWindow:l,percentWindow:o}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=o6e(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),s=this._valueWindow;if(a==="none")return;E_(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(c.length){if(a==="weakFilter"){var f=u.getStore(),d=ht(c,function(h){return u.getDimensionIndex(h)},u);u.filterSelf(function(h){for(var p,m,g,y=0;y<c.length;y++){var _=f.get(d[y],h),S=!isNaN(_),A=_<s[0],M=_>s[1];if(S&&!A&&!M)return!0;S&&(g=!0),A&&(p=!0),M&&(m=!0)}return g&&p&&m})}else E_(c,function(h){if(a==="empty")l.setData(u=u.map(h,function(m){return o(m)?m:NaN}));else{var p={};p[h]=s,u.selectRange(p)}});E_(c,function(h){u.setApproximateExtent(s,h)})}});function o(l){return l>=s[0]&&l<=s[1]}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;E_(["min","max"],function(i){var a=t.get(i+"Span"),s=t.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=_r(r[0]+s,r,[0,100],!0):a!=null&&(s=_r(a,[0,100],r,!0)-r[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=s},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var i=qU(r,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;t[0]!==0&&a.setDeterminedMinMax("min",+r[0].toFixed(i)),t[1]!==100&&a.setDeterminedMinMax("max",+r[1].toFixed(i)),a.freeze()}},n})();function o6e(n,e,t){var r=[1/0,-1/0];E_(t,function(s){CDe(r,s.getData(),e)});var i=n.getAxisModel(),a=oue(i.axis.scale,i,r).calculate();return[a.min,a.max]}var l6e={getTargetSeries:function(n){function e(i){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var l=n.getComponent(mv(s),o);i(s,o,l,a)})})}e(function(i,a,s,o){s.__dzAxisProxy=null});var t=[];e(function(i,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new s6e(i,a,o,n),t.push(s.__dzAxisProxy))});var r=jt();return ie(t,function(i){ie(i.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).reset(t)}),t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),a=r.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function u6e(n){n.registerAction("dataZoom",function(e,t){var r=r6e(t,e);ie(r,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var JK=!1;function a7(n){JK||(JK=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,l6e),u6e(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function c6e(n){n.registerComponentModel(i6e),n.registerComponentView(a6e),a7(n)}var vc=(function(){function n(){}return n})(),ude={};function D_(n,e){ude[n]=e}function cde(n){return ude[n]}var f6e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;ie(this.option.feature,function(r,i){var a=cde(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),An(r,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:qe.color.border,borderRadius:0,borderWidth:0,padding:qe.size.m,itemSize:15,itemGap:qe.size.s,showTitle:!0,iconStyle:{borderColor:qe.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:qe.color.accent50}},tooltip:{show:!1,position:"bottom"}},e})(zn);function fde(n,e){var t=iS(e.get("padding")),r=e.getItemStyle(["color","opacity"]);r.fill=e.get("backgroundColor");var i=new Pn({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1});return i}var d6e=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,a){var s=this.group;if(s.removeAll(),!t.get("show"))return;var o=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},c=this._features||(this._features={}),f=[];ie(u,function(_,S){f.push(S)}),new kp(this._featureNames||[],f).add(d).update(d).remove(Sn(d,null)).execute(),this._featureNames=f;function d(_,S){var A=f[_],M=f[S],E=u[A],D=new Gn(E,t,t.ecModel),I;if(a&&a.newTitle!=null&&a.featureName===A&&(E.title=a.newTitle),A&&!M){if(h6e(A))I={onclick:D.option.onclick,featureName:A};else{var N=cde(A);if(!N)return;I=new N}c[A]=I}else if(I=c[M],!I)return;I.uid=rS("toolbox-feature"),I.model=D,I.ecModel=r,I.api=i;var L=I instanceof vc;if(!A&&M){L&&I.dispose&&I.dispose(r,i);return}if(!D.get("show")||L&&I.unusable){L&&I.remove&&I.remove(r,i);return}h(D,I,A),D.setIconStatus=function(B,O){var G=this.option,V=this.iconPaths;G.iconStatus=G.iconStatus||{},G.iconStatus[B]=O,V[B]&&(O==="emphasis"?Np:Ip)(V[B])},I instanceof vc&&I.render&&I.render(D,r,i,a)}function h(_,S,A){var M=_.getModel("iconStyle"),E=_.getModel(["emphasis","iconStyle"]),D=S instanceof vc&&S.getIcons?S.getIcons():_.get("icon"),I=_.get("title")||{},N,L;Lt(D)?(N={},N[A]=D):N=D,Lt(I)?(L={},L[A]=I):L=I;var B=_.iconPaths={};ie(N,function(O,G){var V=tS(O,{},{x:-o/2,y:-o/2,width:o,height:o});V.setStyle(M.getItemStyle());var q=V.ensureState("emphasis");q.style=E.getItemStyle();var W=new tr({style:{text:L[G],align:E.get("textAlign"),borderRadius:E.get("textBorderRadius"),padding:E.get("textPadding"),fill:null,font:mV({fontStyle:E.get("textFontStyle"),fontFamily:E.get("textFontFamily"),fontSize:E.get("textFontSize"),fontWeight:E.get("textFontWeight")},r)},ignore:!0});V.setTextContent(W),qp({el:V,componentModel:t,itemName:G,formatterParamsExtra:{title:L[G]}}),V.__title=L[G],V.on("mouseover",function(){var Z=E.getItemStyle(),X=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";W.setStyle({fill:E.get("textFill")||Z.fill||Z.stroke||qe.color.neutral99,backgroundColor:E.get("textBackgroundColor")}),V.setTextConfig({position:E.get("textPosition")||X}),W.ignore=!t.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){_.get(["iconStatus",G])!=="emphasis"&&i.leaveEmphasis(this),W.hide()}),(_.get(["iconStatus",G])==="emphasis"?Np:Ip)(V),s.add(V),V.on("click",Ot(S.onclick,S,r,i,G)),B[G]=V})}var p=qa(t,i).refContainer,m=t.getBoxLayoutParams(),g=t.get("padding"),y=wi(m,p,g);Sy(t.get("orient"),s,t.get("itemGap"),y.width,y.height),fL(s,m,p,g),s.add(fde(s.getBoundingRect(),t)),l||s.eachChild(function(_){var S=_.__title,A=_.ensureState("emphasis"),M=A.textConfig||(A.textConfig={}),E=_.getTextContent(),D=E&&E.ensureState("emphasis");if(D&&!Xt(D)&&S){var I=D.style||(D.style={}),N=$k(S,tr.makeFont(I)),L=_.x+s.x,B=_.y+s.y+o,O=!1;B+N.height>i.getHeight()&&(M.position="top",O=!0);var G=O?-5-N.height:o+10;L+N.width/2>i.getWidth()?(M.position=["100%",G],I.align="right"):L-N.width/2<0&&(M.position=[0,G],I.align="left")}})},e.prototype.updateView=function(t,r,i,a){ie(this._features,function(s){s instanceof vc&&s.updateView&&s.updateView(s.model,r,i,a)})},e.prototype.remove=function(t,r){ie(this._features,function(i){i instanceof vc&&i.remove&&i.remove(t,r)}),this.group.removeAll()},e.prototype.dispose=function(t,r){ie(this._features,function(i){i instanceof vc&&i.dispose&&i.dispose(t,r)})},e.type="toolbox",e})(ri);function h6e(n){return n.indexOf("my")===0}var p6e=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var i=this.model,a=i.get("name")||t.get("title.0.text")||"echarts",s=r.getZr().painter.getType()==="svg",o=s?"svg":i.get("type",!0)||"png",l=r.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||qe.color.neutral00,connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=Zn.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+o,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||s){var d=l.split(","),h=d[0].indexOf("base64")>-1,p=s?decodeURIComponent(d[1]):d[1];h&&(p=window.atob(p));var m=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var g=p.length,y=new Uint8Array(g);g--;)y[g]=p.charCodeAt(g);var _=new Blob([y]);window.navigator.msSaveOrOpenBlob(_,m)}else{var S=document.createElement("iframe");document.body.appendChild(S);var A=S.contentWindow,M=A.document;M.open("image/svg+xml","replace"),M.write(p),M.close(),A.focus(),M.execCommand("SaveAs",!0,m),document.body.removeChild(S)}}else{var E=i.get("lang"),D='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(E&&E[0]||"")+'" /></body>',I=window.open();I.document.write(D),I.document.title=a}},e.getDefaultOption=function(t){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:qe.color.neutral00,name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e})(vc),QK="__ec_magicType_stack__",v6e=[["line","bar"],["stack"]],m6e=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),i={};return ie(t.get("type"),function(a){r[a]&&(i[a]=r[a])}),i},e.getDefaultOption=function(t){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(t,r,i){var a=this.model,s=a.get(["seriesIndex",i]);if(e$[i]){var o={series:[]},l=function(f){var d=f.subType,h=f.id,p=e$[i](d,h,f,a);p&&(sn(p,f.option),o.series.push(p));var m=f.coordinateSystem;if(m&&m.type==="cartesian2d"&&(i==="line"||i==="bar")){var g=m.getAxesByScale("ordinal")[0];if(g){var y=g.dim,_=y+"Axis",S=f.getReferringComponents(_,Hi).models[0],A=S.componentIndex;o[_]=o[_]||[];for(var M=0;M<=A;M++)o[_][A]=o[_][A]||{};o[_][A].boundaryGap=i==="bar"}}};ie(v6e,function(f){Cn(f,i)>=0&&ie(f,function(d){a.setIconStatus(d,"normal")})}),a.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var u,c=i;i==="stack"&&(u=An({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:o,newTitle:u,featureName:"magicType"})}},e})(vc),e$={line:function(n,e,t,r){if(n==="bar")return An({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,e,t,r){if(n==="line")return An({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,e,t,r){var i=t.get("stack")===QK;if(n==="line"||n==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),An({id:e,stack:i?"":QK},r.get(["option","stack"])||{},!0)}};Of({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});var EL=new Array(60).join("-"),Eb="	";function g6e(n){var e={},t=[],r=[];return n.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;e[o]||(e[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},r.push({axisDim:s.dim,axisIndex:s.index})),e[o].series.push(i)}else t.push(i)}else t.push(i)}),{seriesGroupByCategoryAxis:e,other:t,meta:r}}function y6e(n){var e=[];return ie(n,function(t,r){var i=t.categoryAxis,a=t.valueAxis,s=a.dim,o=[" "].concat(ht(t.series,function(h){return h.name})),l=[i.model.getCategories()];ie(t.series,function(h){var p=h.getRawData();l.push(h.getRawData().mapArray(p.mapDimension(s),function(m){return m}))});for(var u=[o.join(Eb)],c=0;c<l[0].length;c++){for(var f=[],d=0;d<l.length;d++)f.push(l[d][c]);u.push(f.join(Eb))}e.push(u.join(`
`))}),e.join(`

`+EL+`

`)}function x6e(n){return ht(n,function(e){var t=e.getRawData(),r=[e.name],i=[];return t.each(t.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=t.getName(s),l=0;l<a-1;l++)i[l]=arguments[l];r.push((o?o+Eb:"")+i.join(Eb))}),r.join(`
`)}).join(`

`+EL+`

`)}function _6e(n){var e=g6e(n);return{value:vr([y6e(e.seriesGroupByCategoryAxis),x6e(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+EL+`

`),meta:e.meta}}function cI(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function b6e(n){var e=n.slice(0,n.indexOf(`
`));if(e.indexOf(Eb)>=0)return!0}var Y8=new RegExp("["+Eb+"]+","g");function S6e(n){for(var e=n.split(/\n+/g),t=cI(e.shift()).split(Y8),r=[],i=ht(t,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var s=cI(e[a]).split(Y8);r.push(s.shift());for(var o=0;o<s.length;o++)i[o]&&(i[o].data[a]=s[o])}return{series:i,categories:r}}function w6e(n){for(var e=n.split(/\n+/g),t=cI(e.shift()),r=[],i=0;i<e.length;i++){var a=cI(e[i]);if(a){var s=a.split(Y8),o="",l=void 0,u=!1;isNaN(s[0])?(u=!0,o=s[0],s=s.slice(1),r[i]={name:o,value:[]},l=r[i].value):l=r[i]=[];for(var c=0;c<s.length;c++)l.push(+s[c]);l.length===1&&(u?r[i].value=l[0]:r[i]=l[0])}}return{name:t,data:r}}function T6e(n,e){var t=n.split(new RegExp(`
*`+EL+`
*`,"g")),r={series:[]};return ie(t,function(i,a){if(b6e(i)){var s=S6e(i),o=e[a],l=o.axisDim+"Axis";o&&(r[l]=r[l]||[],r[l][o.axisIndex]={data:s.categories},r.series=r.series.concat(s.series))}else{var s=w6e(i);r.series.push(s)}}),r}var C6e=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||qe.color.neutral00;var o=document.createElement("h4"),l=a.get("lang")||[];o.innerHTML=l[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),d=a.get("contentToOption"),h=_6e(t);if(Xt(f)){var p=f(r.getOption());Lt(p)?u.innerHTML=p:ky(p)&&u.appendChild(p)}else{c.readOnly=a.get("readOnly");var m=c.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=a.get("textColor"),m.borderColor=a.get("textareaBorderColor"),m.backgroundColor=a.get("textareaColor"),c.value=h.value,u.appendChild(c)}var g=h.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var _="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",S=document.createElement("div"),A=document.createElement("div");_+=";background-color:"+a.get("buttonColor"),_+=";color:"+a.get("buttonTextColor");var M=this;function E(){i.removeChild(s),M._dom=null}n6(S,"click",E),n6(A,"click",function(){if(d==null&&f!=null||d!=null&&f==null){E();return}var D;try{Xt(d)?D=d(u,r.getOption()):D=T6e(c.value,g)}catch(I){throw E(),new Error("Data view format error "+I)}D&&r.dispatchAction({type:"changeDataView",newOption:D}),E()}),S.innerHTML=l[1],A.innerHTML=l[2],A.style.cssText=S.style.cssText=_,!a.get("readOnly")&&y.appendChild(A),y.appendChild(S),s.appendChild(o),s.appendChild(u),s.appendChild(y),u.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},e.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.getDefaultOption=function(t){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:qe.color.background,textColor:qe.color.primary,textareaColor:qe.color.background,textareaBorderColor:qe.color.border,buttonColor:qe.color.accent50,buttonTextColor:qe.color.neutral00};return r},e})(vc);function A6e(n,e){return ht(n,function(t,r){var i=e&&e[r];if(on(i)&&!ft(i)){var a=on(t)&&!ft(t);a||(t={value:t});var s=i.name!=null&&t.name==null;return t=sn(t,i),s&&delete t.name,t}else return t})}Of({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];ie(n.newOption.series,function(r){var i=e.getSeriesByName(r.name)[0];if(!i)t.push(at({type:"scatter"},r));else{var a=i.get("data");t.push({name:r.name,data:A6e(r.data,a)})}}),e.mergeOption(sn({series:t},n.newOption))});var dde=ie,hde=Un();function M6e(n,e){var t=s7(n);dde(e,function(r,i){for(var a=t.length-1;a>=0;a--){var s=t[a];if(s[i])break}if(a<0){var o=n.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var l=o.getPercentRange();t[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),t.push(e)}function E6e(n){var e=s7(n),t=e[e.length-1];e.length>1&&e.pop();var r={};return dde(t,function(i,a){for(var s=e.length-1;s>=0;s--)if(i=e[s][a],i){r[a]=i;break}}),r}function D6e(n){hde(n).snapshots=null}function R6e(n){return s7(n).length}function s7(n){var e=hde(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var N6e=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){D6e(t),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return r},e})(vc);Of({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});var I6e=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],o7=(function(){function n(e,t,r){var i=this;this._targetInfoList=[];var a=t$(t,e);ie(k6e,function(s,o){(!r||!r.include||Cn(r.include,o)>=0)&&s(a,i._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(r,i,a){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var s=LO[r.brushType](0,a,i);r.__rangeOffset={offset:a$[r.brushType](s.values,r.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,r){ie(e,function(i){var a=this.findTargetInfo(i,t);a&&a!==!0&&ie(a.coordSyses,function(s){var o=LO[i.brushType](1,s,i.range,!0);r(i,o.values,s,t)})},this)},n.prototype.setInputRanges=function(e,t){ie(e,function(r){var i=this.findTargetInfo(r,t);if(r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var a=LO[r.brushType](0,i.coordSys,r.coordRange),s=r.__rangeOffset;r.range=s?a$[r.brushType](a.values,s.offset,L6e(a.xyMinMax,s.xyMinMax)):a.values}},this)},n.prototype.makePanelOpts=function(e,t){return ht(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:yfe(i),isTargetByCursor:_fe(i,e,r.coordSysModel),getLinearBrushOtherExtent:xfe(i)}})},n.prototype.controlSeries=function(e,t,r){var i=this.findTargetInfo(e,r);return i===!0||i&&Cn(i.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var r=this._targetInfoList,i=t$(t,e),a=0;a<r.length;a++){var s=r[a],o=e.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<n$.length;l++)if(n$[l](i,s))return s}return!0},n})();function q8(n){return n[0]>n[1]&&n.reverse(),n}function t$(n,e){return $_(n,e,{includeMainTypes:I6e})}var k6e={grid:function(n,e){var t=n.xAxisModels,r=n.yAxisModels,i=n.gridModels,a=jt(),s={},o={};!t&&!r&&!i||(ie(t,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),ie(r,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),ie(i,function(l){a.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];ie(u.getCartesians(),function(f,d){(Cn(t,f.getAxis("x").model)>=0||Cn(r,f.getAxis("y").model)>=0)&&c.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:r$.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(n,e){ie(n.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:r$.geo})})}},n$=[function(n,e){var t=n.xAxisModel,r=n.yAxisModel,i=n.gridModel;return!i&&t&&(i=t.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],r$={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(Ev(n)),e}},LO={lineX:Sn(i$,0),lineY:Sn(i$,1),rect:function(n,e,t,r){var i=n?e.pointToData([t[0][0],t[1][0]],r):e.dataToPoint([t[0][0],t[1][0]],r),a=n?e.pointToData([t[0][1],t[1][1]],r):e.dataToPoint([t[0][1],t[1][1]],r),s=[q8([i[0],a[0]]),q8([i[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(n,e,t,r){var i=[[1/0,-1/0],[1/0,-1/0]],a=ht(t,function(s){var o=n?e.pointToData(s,r):e.dataToPoint(s,r);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o});return{values:a,xyMinMax:i}}};function i$(n,e,t,r){var i=t.getAxis(["x","y"][n]),a=q8(ht([0,1],function(o){return e?i.coordToData(i.toLocalCoord(r[o]),!0):i.toGlobalCoord(i.dataToCoord(r[o]))})),s=[];return s[n]=a,s[1-n]=[NaN,NaN],{values:a,xyMinMax:s}}var a$={lineX:Sn(s$,0),lineY:Sn(s$,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return ht(n,function(r,i){return[r[0]-t[0]*e[i][0],r[1]-t[1]*e[i][1]]})}};function s$(n,e,t,r){return[e[0]-r[n]*t[0],e[1]-r[n]*t[1]]}function L6e(n,e){var t=o$(n),r=o$(e),i=[t[0]/r[0],t[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function o$(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var X8=ie,P6e=mTe("toolbox-dataZoom_"),O6e=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,a){this._brushController||(this._brushController=new I9(i.getZr()),this._brushController.on("brush",Ot(this._onBrush,this)).mount()),z6e(t,r,this,a,i),B6e(t,r)},e.prototype.onclick=function(t,r,i){F6e[i].call(this)},e.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var r=t.areas;if(!t.isEnd||!r.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var s=new o7(l7(this.model),a,{include:["grid"]});s.matchOutputRanges(r,a,function(u,c,f){if(f.type==="cartesian2d"){var d=u.brushType;d==="rect"?(o("x",f,c[0]),o("y",f,c[1])):o({lineX:"x",lineY:"y"}[d],f,c)}}),M6e(a,i),this._dispatchZoomAction(i);function o(u,c,f){var d=c.getAxis(u),h=d.model,p=l(u,h,a),m=p.findRepresentativeAxisProxy(h).getMinMaxSpan();(m.minValueSpan!=null||m.maxValueSpan!=null)&&(f=Fv(0,f.slice(),d.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),p&&(i[p.id]={dataZoomId:p.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var d;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(h){var p=h.getAxisModel(u,c.componentIndex);p&&(d=h)}),d}},e.prototype._dispatchZoomAction=function(t){var r=[];X8(t,function(i,a){r.push(tn(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(t){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:qe.color.backgroundTint}};return r},e})(vc),F6e={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(E6e(this.ecModel))}};function l7(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function B6e(n,e){n.setIconStatus("back",R6e(e)>1?"emphasis":"normal")}function z6e(n,e,t,r,i){var a=t._isZoomActive;r&&r.type==="takeGlobalCursor"&&(a=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),t._isZoomActive=a,n.setIconStatus("zoom",a?"emphasis":"normal");var s=new o7(l7(n),e,{include:["grid"]}),o=s.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}$Ae("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var r=e.getModel(t),i=[],a=l7(r),s=$_(n,a);X8(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),X8(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,u,c){var f=l.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:P6e+u+f};d[c]=f,i.push(d)}return i});function U6e(n){n.registerComponentModel(f6e),n.registerComponentView(d6e),D_("saveAsImage",p6e),D_("magicType",m6e),D_("dataView",C6e),D_("dataZoom",O6e),D_("restore",N6e),Nn(c6e)}var V6e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:qe.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:qe.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:qe.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:qe.color.tertiary,fontSize:14}},e})(zn);function pde(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function vde(n){if(Zn.domSupported){for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}}var mde=vde(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),G6e=vde(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function gde(n,e){if(!n)return e;e=DV(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function H6e(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?t[e]:null}var j6e=gde(G6e,"transition"),u7=gde(mde,"transform"),W6e="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Zn.transform3dSupported?"will-change:transform;":"");function Y6e(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function q6e(n,e,t){if(!Lt(t)||t==="inside")return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");e=Uy(e);var a=Y6e(t),s=Math.max(Math.round(i)*1.5,6),o="",l=u7+":",u;Cn(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=s+i,d=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),h=Math.round(((d-Math.SQRT2*i)/2+Math.SQRT2*i-(d-f)/2)*100)/100;o+=";"+a+":-"+h+"px";var p=e+" solid "+i+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+m.join("")+'"></div>'}function X6e(n,e,t){var r="cubic-bezier(0.23,1,0.32,1)",i="",a="";return t&&(i=" "+n/2+"s "+r,a="opacity"+i+",visibility"+i),e||(i=" "+n+"s "+r,a+=(a.length?",":"")+(Zn.transformSupported?""+u7+i:",left"+i+",top"+i)),j6e+":"+a}function l$(n,e,t){var r=n.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Zn.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=Zn.transform3dSupported,s="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+u7+":"+s+";":[["top",0],["left",0],[mde,s]]}function Z6e(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont());var i=Wt(n.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+i+"px");var a=n.get("textShadowColor"),s=n.get("textShadowBlur")||0,o=n.get("textShadowOffsetX")||0,l=n.get("textShadowOffsetY")||0;return a&&s&&e.push("text-shadow:"+o+"px "+l+"px "+s+"px "+a),ie(["decoration","align"],function(u){var c=n.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function K6e(n,e,t,r){var i=[],a=n.get("transitionDuration"),s=n.get("backgroundColor"),o=n.get("shadowBlur"),l=n.get("shadowColor"),u=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),f=n.getModel("textStyle"),d=ale(n,"html"),h=u+"px "+c+"px "+o+"px "+l;return i.push("box-shadow:"+h),e&&a>0&&i.push(X6e(a,t,r)),s&&i.push("background-color:"+s),ie(["width","color","radius"],function(p){var m="border-"+p,g=DV(m),y=n.get(g);y!=null&&i.push(m+":"+y+(p==="color"?"":"px"))}),i.push(Z6e(f)),d!=null&&i.push("padding:"+iS(d).join("px ")+"px"),i.join(";")+";"}function u$(n,e,t,r,i){var a=e&&e.painter;if(t){var s=a&&a.getViewportRoot();s&&P2e(n,s,t,r,i)}else{n[0]=r,n[1]=i;var o=a&&a.getViewportRootOffset();o&&(n[0]+=o.offsetLeft,n[1]+=o.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var $6e=(function(){function n(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Zn.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),a=t.appendTo,s=a&&(Lt(a)?document.querySelector(a):ky(a)?a:Xt(a)&&a(e.getDom()));u$(this._styleCoord,i,s,e.getWidth()/2,e.getHeight()/2),(s||e.getDom()).appendChild(r),this._api=e,this._container=s;var o=this;r.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=i.handler,c=i.painter.getViewportRoot();oc(c,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return n.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=H6e(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=W6e+K6e(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+l$(a[0],a[1],!0)+("border-color:"+Uy(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,i,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(Lt(a)&&r.get("trigger")==="item"&&!pde(r)&&(o=q6e(r,i,a)),Lt(e))s.innerHTML=e+o;else if(e){s.innerHTML="",ft(e)||(e=[e]);for(var l=0;l<e.length;l++)ky(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},n.prototype.moveTo=function(e,t){if(this.el){var r=this._styleCoord;if(u$(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,a=l$(r[0],r[1]);ie(a,function(s){i[s[0]]=s[1]})}}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility="hidden",t.opacity="0"):t.display="none",Zn.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ot(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;O2e(e&&e.painter&&e.painter.getViewportRoot(),this._container);var t=this.el;if(t){t.onmouseenter=t.onmousemove=t.onmouseleave=null;var r=t.parentNode;r&&r.removeChild(t)}this.el=this._container=null},n})(),J6e=(function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),f$(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,i,a){var s=this;on(e)&&br(""),this.el&&this._zr.remove(this.el);var o=r.getModel("textStyle");this.el=new tr({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:ale(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),ie(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=r.get(u)}),ie(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=c$(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;f$(i,this._zr,e,t),e=i[0],t=i[1];var a=r.style,s=tv(a.borderWidth||0),o=c$(a);r.x=e+s+o.left,r.y=t+s+o.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ot(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n})();function tv(n){return Math.max(0,n)}function c$(n){var e=tv(n.shadowBlur||0),t=tv(n.shadowOffsetX||0),r=tv(n.shadowOffsetY||0);return{left:tv(e-t),right:tv(e+t),top:tv(e-r),bottom:tv(e+r)}}function f$(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var Q6e=new Pn({shape:{x:-1,y:-1,width:2,height:2}}),e8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(Zn.node||!r.getDom())){var i=t.getComponent("tooltip"),a=this._renderMode=wTe(i.get("renderMode"));this._tooltipContent=a==="richText"?new J6e(r):new $6e(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,r,i){if(!(Zn.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?oS(this,"_updatePosition",50,"fixRate"):PC(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");Jfe("itemTooltip",this._api,Ot(function(i,a,s){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(t,r,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,a){if(!(a.from===this.uid||Zn.node||!i.getDom())){var s=d$(a,i);this._ticket="";var o=a.dataByCoordSys,l=i8e(a,r,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=Q6e;c.x=a.x,c.y=a.y,c.update(),fn(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,a))return;var f=Qfe(a,r),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(t,r,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(d$(a,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,a){var s=a.seriesIndex,o=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=r.getSeriesByIndex(s);if(u){var c=u.getData(),f=Iw([c.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(i){var o=fn(i);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;cy(i,function(c){if(c.tooltipDisabled)return l=u=null,!0;l||u||(fn(c).dataIndex!=null?l=c:fn(c).tooltipConfig!=null&&(u=c))},!0),l?this._showSeriesItemTooltip(t,l,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=Ot(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,a=this._tooltipModel,s=[r.offsetX,r.offsetY],o=Iw([r.tooltipOption],a),l=this._renderMode,u=[],c=Ia("section",{blocks:[],noHeader:!0}),f=[],d=new v5;ie(t,function(_){ie(_.dataByAxis,function(S){var A=i.getComponent(S.axisDim+"Axis",S.axisIndex),M=S.value;if(!(!A||M==null)){var E=Zfe(M,A.axis,i,S.seriesDataIndices,S.valueLabelOpt),D=Ia("section",{header:E,noHeader:!yu(E),sortBlocks:!0,blocks:[]});c.blocks.push(D),ie(S.seriesDataIndices,function(I){var N=i.getSeriesByIndex(I.seriesIndex),L=I.dataIndexInside,B=N.getDataParams(L);if(!(B.dataIndex<0)){B.axisDim=S.axisDim,B.axisIndex=S.axisIndex,B.axisType=S.axisType,B.axisId=S.axisId,B.axisValue=VN(A.axis,{value:M}),B.axisValueLabel=E,B.marker=d.makeTooltipMarker("item",Uy(B.color),l);var O=EY(N.formatTooltip(L,!0,null)),G=O.frag;if(G){var V=Iw([N],a).get("valueFormatter");D.blocks.push(V?at({valueFormatter:V},G):G)}O.text&&f.push(O.text),u.push(B)}})}})}),c.blocks.reverse(),f.reverse();var h=r.position,p=o.get("order"),m=LY(c,d,l,p,i.get("useUTC"),o.get("textStyle"));m&&f.unshift(m);var g=l==="richText"?`

`:"<br/>",y=f.join(g);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(o,h,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,y,u,Math.random()+"",s[0],s[1],h,null,d)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var a=this._ecModel,s=fn(r),o=s.seriesIndex,l=a.getSeriesByIndex(o),u=s.dataModel||l,c=s.dataIndex,f=s.dataType,d=u.getData(f),h=this._renderMode,p=t.positionDefault,m=Iw([d.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=m.get("trigger");if(!(g!=null&&g!=="item")){var y=u.getDataParams(c,f),_=new v5;y.marker=_.makeTooltipMarker("item",Uy(y.color),h);var S=EY(u.formatTooltip(c,!1,f)),A=m.get("order"),M=m.get("valueFormatter"),E=S.frag,D=E?LY(M?at({valueFormatter:M},E):E,_,h,A,a.get("useUTC"),m.get("textStyle")):S.text,I="item_"+u.name+"_"+c;this._showOrMove(m,function(){this._showTooltipContent(m,D,y,I,t.offsetX,t.offsetY,t.position,t.target,_)}),i({type:"showTip",dataIndexInside:c,dataIndex:d.getRawIndex(c),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var a=this._renderMode==="html",s=fn(r),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if(Lt(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=tn(l),l.content=Mo(l.content));var f=[l],d=this._ecModel.getComponent(s.componentMainType,s.componentIndex);d&&f.push(d),f.push({formatter:l.content});var h=t.positionDefault,p=Iw(f,this._tooltipModel,h?{position:h}:null),m=p.get("content"),g=Math.random()+"",y=new v5;this._showOrMove(p,function(){var _=tn(p.get("formatterParams")||{});this._showTooltipContent(p,m,_,g,t.offsetX,t.offsetY,t.position,r,y)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,a,s,o,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var d=t.get("formatter");l=l||t.get("position");var h=r,p=this._getNearestPoint([s,o],i,t.get("trigger"),t.get("borderColor"),t.get("defaultBorderColor",!0)),m=p.color;if(d)if(Lt(d)){var g=t.ecModel.get("useUTC"),y=ft(i)?i[0]:i,_=y&&y.axisType&&y.axisType.indexOf("time")>=0;h=d,_&&(h=ZA(y.axisValue,h,g)),h=RV(h,i,!0)}else if(Xt(d)){var S=Ot(function(A,M){A===this._ticket&&(f.setContent(M,c,t,m,l),this._updatePosition(t,l,s,o,f,i,u))},this);this._ticket=a,h=d(i,a,S)}else h=d;f.setContent(h,c,t,m,l),f.show(t,m),this._updatePosition(t,l,s,o,f,i,u)}},e.prototype._getNearestPoint=function(t,r,i,a,s){if(i==="axis"||ft(r))return{color:a||s};if(!ft(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,a,s,o,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||t.get("position");var f=s.getSize(),d=t.get("align"),h=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),Xt(r)&&(r=r([i,a],o,s.el,p,{viewSize:[u,c],contentSize:f.slice()})),ft(r))i=kt(r[0],u),a=kt(r[1],c);else if(on(r)){var m=r;m.width=f[0],m.height=f[1];var g=wi(m,{width:u,height:c});i=g.x,a=g.y,d=null,h=null}else if(Lt(r)&&l){var y=r8e(r,p,f,t.get("borderWidth"));i=y[0],a=y[1]}else{var y=t8e(i,a,s,u,c,d?null:20,h?null:20);i=y[0],a=y[1]}if(d&&(i-=h$(d)?f[0]/2:d==="right"?f[0]:0),h&&(a-=h$(h)?f[1]/2:h==="bottom"?f[1]:0),pde(t)){var y=n8e(i,a,s,u,c);i=y[0],a=y[1]}s.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===t.length;return s&&ie(i,function(o,l){var u=o.dataByAxis||[],c=t[l]||{},f=c.dataByAxis||[];s=s&&u.length===f.length,s&&ie(u,function(d,h){var p=f[h]||{},m=d.seriesDataIndices||[],g=p.seriesDataIndices||[];s=s&&d.value===p.value&&d.axisType===p.axisType&&d.axisId===p.axisId&&m.length===g.length,s&&ie(m,function(y,_){var S=g[_];s=s&&y.seriesIndex===S.seriesIndex&&y.dataIndex===S.dataIndex}),a&&ie(d.seriesDataIndices,function(y){var _=y.seriesIndex,S=r[_],A=a[_];S&&A&&A.data!==S.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){Zn.node||!r.getDom()||(PC(this,"_updatePosition"),this._tooltipContent.dispose(),U8("itemTooltip",r))},e.type="tooltip",e})(ri);function Iw(n,e,t){var r=e.ecModel,i;t?(i=new Gn(t,r,r),i=new Gn(e.option,i,r)):i=e;for(var a=n.length-1;a>=0;a--){var s=n[a];s&&(s instanceof Gn&&(s=s.get("tooltip",!0)),Lt(s)&&(s={formatter:s}),s&&(i=new Gn(s,i,r)))}return i}function d$(n,e){return n.dispatchAction||Ot(e.dispatchAction,e)}function t8e(n,e,t,r,i,a,s){var o=t.getSize(),l=o[0],u=o[1];return a!=null&&(n+l+a+2>r?n-=l+a:n+=a),s!=null&&(e+u+s>i?e-=u+s:e+=s),[n,e]}function n8e(n,e,t,r,i){var a=t.getSize(),s=a[0],o=a[1];return n=Math.min(n+s,r)-s,e=Math.min(e+o,i)-o,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function r8e(n,e,t,r){var i=t[0],a=t[1],s=Math.ceil(Math.SQRT2*r)+8,o=0,l=0,u=e.width,c=e.height;switch(n){case"inside":o=e.x+u/2-i/2,l=e.y+c/2-a/2;break;case"top":o=e.x+u/2-i/2,l=e.y-a-s;break;case"bottom":o=e.x+u/2-i/2,l=e.y+c+s;break;case"left":o=e.x-i-s,l=e.y+c/2-a/2;break;case"right":o=e.x+u+s,l=e.y+c/2-a/2}return[o,l]}function h$(n){return n==="center"||n==="middle"}function i8e(n,e,t){var r=JU(n).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=Kb(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var c=fn(u).tooltipConfig;if(c&&c.name===n.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}function a8e(n){Nn(iM),n.registerComponentModel(V6e),n.registerComponentView(e8e),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Qi),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Qi)}var s8e=["rect","polygon","keep","clear"];function o8e(n,e){var t=ni(n?n.brush:[]);if(t.length){var r=[];ie(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var i=n&&n.toolbox;ft(i)&&(i=i[0]),i||(i={feature:{}},n.toolbox=[i]);var a=i.feature||(i.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,r),l8e(o),e&&!o.length&&o.push.apply(o,s8e)}}function l8e(n){var e={};ie(n,function(t){e[t]=1}),n.length=0,ie(e,function(t,r){n.push(r)})}var p$=ie;function v$(n){if(n){for(var e in n)if(n.hasOwnProperty(e))return!0}}function Z8(n,e,t){var r={};return p$(e,function(a){var s=r[a]=i();p$(n[a],function(o,l){if(ls.isValidType(l)){var u={type:l,visual:o};t&&t(u,a),s[l]=new ls(u),l==="opacity"&&(u=tn(u),u.type="colorAlpha",s.__hidden.__alphaForOpacity=new ls(u))}})}),r;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function yde(n,e,t){var r;ie(t,function(i){e.hasOwnProperty(i)&&v$(e[i])&&(r=!0)}),r&&ie(t,function(i){e.hasOwnProperty(i)&&v$(e[i])?n[i]=tn(e[i]):delete n[i]})}function u8e(n,e,t,r,i,a){var s={};ie(n,function(f){var d=ls.prepareVisualTypes(e[f]);s[f]=d});var o;function l(f){return UV(t,o,f)}function u(f,d){vle(t,o,f,d)}t.each(c);function c(f,d){o=f;var h=t.getRawDataItem(o);if(!(h&&h.visualMap===!1))for(var p=r.call(i,f),m=e[p],g=s[p],y=0,_=g.length;y<_;y++){var S=g[y];m[S]&&m[S].applyVisual(f,l,u)}}}function c8e(n,e,t,r){var i={};return ie(n,function(a){var s=ls.prepareVisualTypes(e[a]);i[a]=s}),{progress:function(s,o){var l;r!=null&&(l=o.getDimensionIndex(r));function u(M){return UV(o,f,M)}function c(M,E){vle(o,f,M,E)}for(var f,d=o.getStore();(f=s.next())!=null;){var h=o.getRawDataItem(f);if(!(h&&h.visualMap===!1))for(var p=r!=null?d.get(l,f):f,m=t(p),g=e[m],y=i[m],_=0,S=y.length;_<S;_++){var A=y[_];g[A]&&g[A].applyVisual(p,u,c)}}}}}function f8e(n){var e=n.brushType,t={point:function(r){return m$[e].point(r,t,n)},rect:function(r){return m$[e].rect(r,t,n)}};return t}var m$={lineX:g$(0),lineY:g$(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&Qg(t.range,n[0],n[1])},rect:function(n,e,t){var r=t.range;if(!n||r.length<=1)return!1;var i=n.x,a=n.y,s=n.width,o=n.height,l=r[0];if(Qg(r,i,a)||Qg(r,i+s,a)||Qg(r,i,a+o)||Qg(r,i+s,a+o)||cn.create(n).contain(l[0],l[1])||cT(i,a,i+s,a,r)||cT(i,a,i,a+o,r)||cT(i+s,a,i+s,a+o,r)||cT(i,a+o,i+s,a+o,r))return!0}}};function g$(n){var e=["x","y"],t=["width","height"];return{point:function(r,i,a){if(r){var s=a.range,o=r[n];return kw(o,s)}},rect:function(r,i,a){if(r){var s=a.range,o=[r[e[n]],r[e[n]]+r[t[n]]];return o[1]<o[0]&&o.reverse(),kw(o[0],s)||kw(o[1],s)||kw(s[0],o)||kw(s[1],o)}}}}function kw(n,e){return e[0]<=n&&n<=e[1]}var y$=["inBrush","outOfBrush"],PO="__ecBrushSelect",K8="__ecInBrushSelectEvent";function xde(n){n.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new o7(e.option,n);t.setInputRanges(e.areas,n)})}function d8e(n,e,t){var r=[],i,a;n.eachComponent({mainType:"brush"},function(s){t&&t.type==="takeGlobalCursor"&&s.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),xde(n),n.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:tn(s.areas),selected:[]};r.push(l);var u=s.option,c=u.brushLink,f=[],d=[],h=[],p=!1;o||(i=u.throttleType,a=u.throttleDelay);var m=ht(s.areas,function(M){var E=m8e[M.brushType],D=sn({boundingRect:E?E(M):void 0},M);return D.selectors=f8e(D),D}),g=Z8(s.option,y$,function(M){M.mappingMethod="fixed"});ft(c)&&ie(c,function(M){f[M]=1});function y(M){return c==="all"||!!f[M]}function _(M){return!!M.length}n.eachSeries(function(M,E){var D=h[E]=[];M.subType==="parallel"?S(M,E):A(M,E,D)});function S(M,E){var D=M.coordinateSystem;p=p||D.hasAxisBrushed(),y(E)&&D.eachActiveState(M.getData(),function(I,N){I==="active"&&(d[N]=1)})}function A(M,E,D){if(!(!M.brushSelector||v8e(s,E))&&(ie(m,function(N){s.brushTargetManager.controlSeries(N,M,n)&&D.push(N),p=p||_(D)}),y(E)&&_(D))){var I=M.getData();I.each(function(N){x$(M,D,I,N)&&(d[N]=1)})}}n.eachSeries(function(M,E){var D={seriesId:M.id,seriesIndex:E,seriesName:M.name,dataIndex:[]};l.selected.push(D);var I=h[E],N=M.getData(),L=y(E)?function(B){return d[B]?(D.dataIndex.push(N.getRawIndex(B)),"inBrush"):"outOfBrush"}:function(B){return x$(M,I,N,B)?(D.dataIndex.push(N.getRawIndex(B)),"inBrush"):"outOfBrush"};(y(E)?p:_(I))&&u8e(y$,g,N,L)})}),h8e(e,i,a,r,t)}function h8e(n,e,t,r,i){if(i){var a=n.getZr();if(!a[K8]){a[PO]||(a[PO]=p8e);var s=oS(a,PO,t,e);s(n,r)}}}function p8e(n,e){if(!n.isDisposed()){var t=n.getZr();t[K8]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[K8]=!1}}function x$(n,e,t,r){for(var i=0,a=e.length;i<a;i++){var s=e[i];if(n.brushSelector(r,t,s.selectors,s))return!0}}function v8e(n,e){var t=n.option.seriesIndex;return t!=null&&t!=="all"&&(ft(t)?Cn(t,e)<0:e!==t)}var m8e={rect:function(n){return _$(n.range)},polygon:function(n){for(var e,t=n.range,r=0,i=t.length;r<i;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=t[r];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&_$(e)}};function _$(n){return new cn(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var g8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r,this.model,(this._brushController=new I9(r.getZr())).on("brush",Ot(this._onBrush,this)).mount()},e.prototype.render=function(t,r,i,a){this.model=t,this._updateController(t,r,i,a)},e.prototype.updateTransform=function(t,r,i,a){xde(r),this._updateController(t,r,i,a)},e.prototype.updateVisual=function(t,r,i,a){this.updateTransform(t,r,i,a)},e.prototype.updateView=function(t,r,i,a){this._updateController(t,r,i,a)},e.prototype._updateController=function(t,r,i,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:tn(i),$from:r}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:tn(i),$from:r})},e.type="brush",e})(ri),y8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,r){var i=this.option;!r&&yde(i,t,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=ht(t,function(r){return b$(this.option,r)},this))},e.prototype.setBrushOption=function(t){this.brushOption=b$(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:qe.color.backgroundTint,borderColor:qe.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:qe.color.disabled},e})(zn);function b$(n,e){return An({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Gn(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}var x8e=["rect","polygon","lineX","lineY","keep","clear"],_8e=(function(n){Xe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i){var a,s,o;r.eachComponent({mainType:"brush"},function(l){a=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=a,this._brushMode=s,ie(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,r,i){this.render(t,r,i)},e.prototype.getIcons=function(){var t=this.model,r=t.get("icon",!0),i={};return ie(t.get("type",!0),function(a){r[a]&&(i[a]=r[a])}),i},e.prototype.onclick=function(t,r,i){var a=this._brushType,s=this._brushMode;i==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?s==="multiple"?"single":"multiple":s}})},e.getDefaultOption=function(t){var r={show:!0,type:x8e.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return r},e})(vc);function b8e(n){n.registerComponentView(g8e),n.registerComponentModel(y8e),n.registerPreprocessor(o8e),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,d8e),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Qi),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Qi),D_("brush",_8e)}var S8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:qe.size.m,backgroundColor:qe.color.transparent,borderColor:qe.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:qe.color.primary},subtextStyle:{fontSize:12,color:qe.color.quaternary}},e})(zn),w8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,s=t.getModel("textStyle"),o=t.getModel("subtextStyle"),l=t.get("textAlign"),u=Wt(t.get("textBaseline"),t.get("textVerticalAlign")),c=new tr({style:ti(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),d=t.get("subtext"),h=new tr({style:ti(o,{text:d,fill:o.getTextColor(),y:f.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),m=t.get("sublink"),g=t.get("triggerEvent",!0);c.silent=!p&&!g,h.silent=!m&&!g,p&&c.on("click",function(){RN(p,"_"+t.get("target"))}),m&&h.on("click",function(){RN(m,"_"+t.get("subtarget"))}),fn(c).eventData=fn(h).eventData=g?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(c),d&&a.add(h);var y=a.getBoundingRect(),_=t.getBoxLayoutParams();_.width=y.width,_.height=y.height;var S=qa(t,i),A=wi(_,S.refContainer,t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?A.x+=A.width:l==="center"&&(A.x+=A.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?A.y+=A.height:u==="middle"&&(A.y+=A.height/2),u=u||"top"),a.x=A.x,a.y=A.y,a.markRedraw();var M={align:l,verticalAlign:u};c.setStyle(M),h.setStyle(M),y=a.getBoundingRect();var E=A.margin,D=t.getItemStyle(["color","opacity"]);D.fill=t.get("backgroundColor");var I=new Pn({shape:{x:y.x-E[3],y:y.y-E[0],width:y.width+E[1]+E[3],height:y.height+E[0]+E[2],r:t.get("borderRadius")},style:D,subPixelOptimize:!0,silent:!0});a.add(I)}},e.type="title",e})(ri);function T8e(n){n.registerComponentModel(S8e),n.registerComponentView(w8e)}var S$=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,r=t.data||[],i=t.axisType,a=this._names=[],s;i==="category"?(s=[],ie(r,function(u,c){var f=ja(Zb(u),""),d;on(u)?(d=tn(u),d.value=c):d=c,s.push(d),a.push(f)})):s=r;var o={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Lo([{name:"value",type:o}],this);l.initData(s,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:qe.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:qe.color.secondary},data:[]},e})(zn),_de=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Qv(S$.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:qe.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:qe.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:qe.color.tertiary},itemStyle:{color:qe.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:qe.color.accent50,borderColor:qe.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:qe.color.accent50,borderColor:qe.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:qe.color.accent60},itemStyle:{color:qe.color.accent60,borderColor:qe.color.accent60},controlStyle:{color:qe.color.accent70,borderColor:qe.color.accent70}},progress:{lineStyle:{color:qe.color.accent30},itemStyle:{color:qe.color.accent40}},data:[]}),e})(S$);ta(_de,hL.prototype);var C8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e})(ri),A8e=(function(n){Xe(e,n);function e(t,r,i,a){var s=n.call(this,t,r,i)||this;return s.type=a||"value",s}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e})(Nc),OO=Math.PI,w$=Un(),M8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.api=r},e.prototype.render=function(t,r,i){if(this.model=t,this.api=i,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,i),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,t);t.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return Ia("nameValue",{noName:!0,value:c})},ie(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,s,l,t)},this),this._renderAxisLabel(a,o,l,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,r){var i=t.get(["label","position"]),a=t.get("orient"),s=D8e(t,r),o;i==null||i==="auto"?o=a==="horizontal"?s.y+s.height/2<r.getHeight()/2?"-":"+":s.x+s.width/2<r.getWidth()/2?"+":"-":Lt(i)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:o=i;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},u={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:OO/2},f=a==="vertical"?s.height:s.width,d=t.getModel("controlStyle"),h=d.get("show",!0),p=h?d.get("itemSize"):0,m=h?d.get("itemGap"):0,g=p+m,y=t.get(["label","rotate"])||0;y=y*OO/180;var _,S,A,M=d.get("position",!0),E=h&&d.get("showPlayBtn",!0),D=h&&d.get("showPrevBtn",!0),I=h&&d.get("showNextBtn",!0),N=0,L=f;M==="left"||M==="bottom"?(E&&(_=[0,0],N+=g),D&&(S=[N,0],N+=g),I&&(A=[L-p,0],L-=g)):(E&&(_=[L-p,0],L-=g),D&&(S=[0,0],N+=g),I&&(A=[L-p,0],L-=g));var B=[N,L];return t.get("inverse")&&B.reverse(),{viewRect:s,mainLength:f,orient:a,rotation:c[a],labelRotation:y,labelPosOpt:o,labelAlign:t.get(["label","align"])||l[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[a],playPosition:_,prevBtnPosition:S,nextBtnPosition:A,axisExtent:B,controlSize:p,controlGap:m}},e.prototype._position=function(t,r){var i=this._mainGroup,a=this._labelGroup,s=t.viewRect;if(t.orient==="vertical"){var o=os(),l=s.x,u=s.y+s.height;Rf(o,o,[-l,-u]),Wp(o,o,-OO/2),Rf(o,o,[l,u]),s=s.clone(),s.applyTransform(o)}var c=_(s),f=_(i.getBoundingRect()),d=_(a.getBoundingRect()),h=[i.x,i.y],p=[a.x,a.y];p[0]=h[0]=c[0][0];var m=t.labelPosOpt;if(m==null||Lt(m)){var g=m==="+"?0:1;S(h,f,c,1,g),S(p,d,c,1,1-g)}else{var g=m>=0?0:1;S(h,f,c,1,g),p[1]=h[1]+m}i.setPosition(h),a.setPosition(p),i.rotation=a.rotation=t.rotation,y(i),y(a);function y(A){A.originX=c[0][0]-A.x,A.originY=c[1][0]-A.y}function _(A){return[[A.x,A.x+A.width],[A.y,A.y+A.height]]}function S(A,M,E,D,I){A[D]+=E[D][I]-M[D][I]}},e.prototype._createAxis=function(t,r){var i=r.getData(),a=r.get("axisType"),s=E8e(r,a);s.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var o=i.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new A8e("value",s,t.axisExtent,a);return l.model=r,l},e.prototype._createGroup=function(t){var r=this[t]=new nn;return this.group.add(r),r},e.prototype._renderAxisLine=function(t,r,i,a){var s=i.getExtent();if(a.get(["lineStyle","show"])){var o=new ha({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:at({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(o);var l=this._progressLine=new ha({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:sn({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},e.prototype._renderAxisTick=function(t,r,i,a){var s=this,o=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],ie(l,function(u){var c=i.dataToCoord(u.value),f=o.getItemModel(u.value),d=f.getModel("itemStyle"),h=f.getModel(["emphasis","itemStyle"]),p=f.getModel(["progress","itemStyle"]),m={x:c,y:0,onclick:Ot(s._changeTimeline,s,u.value)},g=T$(f,d,r,m);g.ensureState("emphasis").style=h.getItemStyle(),g.ensureState("progress").style=p.getItemStyle(),Mv(g);var y=fn(g);f.get("tooltip")?(y.dataIndex=u.value,y.dataModel=a):y.dataIndex=y.dataModel=null,s._tickSymbols.push(g)})},e.prototype._renderAxisLabel=function(t,r,i,a){var s=this,o=i.getLabelModel();if(o.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],ie(u,function(c){var f=c.tickValue,d=l.getItemModel(f),h=d.getModel("label"),p=d.getModel(["emphasis","label"]),m=d.getModel(["progress","label"]),g=i.dataToCoord(c.tickValue),y=new tr({x:g,y:0,rotation:t.labelRotation-t.rotation,onclick:Ot(s._changeTimeline,s,f),silent:!1,style:ti(h,{text:c.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});y.ensureState("emphasis").style=ti(p),y.ensureState("progress").style=ti(m),r.add(y),Mv(y),w$(y).dataIndex=f,s._tickLabels.push(y)})}},e.prototype._renderControl=function(t,r,i,a){var s=t.controlSize,o=t.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);d(t.nextBtnPosition,"next",Ot(this._changeTimeline,this,f?"-":"+")),d(t.prevBtnPosition,"prev",Ot(this._changeTimeline,this,f?"+":"-")),d(t.playPosition,c?"stop":"play",Ot(this._handlePlayClick,this,!c),!0);function d(h,p,m,g){if(h){var y=Nf(Wt(a.get(["controlStyle",p+"BtnSize"]),s),s),_=[0,-y/2,y,y],S=R8e(a,p+"Icon",_,{x:h[0],y:h[1],originX:s/2,originY:0,rotation:g?-o:0,rectHover:!0,style:l,onclick:m});S.ensureState("emphasis").style=u,r.add(S),Mv(S)}}},e.prototype._renderCurrentPointer=function(t,r,i,a){var s=a.getData(),o=a.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=Ot(u._handlePointerDrag,u),f.ondragend=Ot(u._handlePointerDragend,u),C$(f,u._progressLine,o,i,a,!0)},onUpdate:function(f){C$(f,u._progressLine,o,i,a)}};this._currentPointer=T$(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,r){var i=this._toAxisCoord(t)[0],a=this._axis,s=xu(a.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=i,o.dirty());var l=this._findNearestTick(i),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var r=this._mainGroup.getLocalTransform();return Af(t,r,!0)},e.prototype._findNearestTick=function(t){var r=this.model.getData(),i=1/0,a,s=this._axis;return r.each(["value"],function(o,l){var u=s.dataToCoord(o),c=Math.abs(u-t);c<i&&(i=c,a=l)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();t==="+"?t=r+1:t==="-"&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",a<t);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",w$(i[a]).dataIndex<=t)},e.type="timeline.slider",e})(C8e);function E8e(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new bb({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new n9({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new Pp}}function D8e(n,e){return wi(n.getBoxLayoutParams(),qa(n,e).refContainer,n.get("padding"))}function R8e(n,e,t,r){var i=r.style,a=tS(n.get(["controlStyle",e]),r||{},new cn(t[0],t[1],t[2],t[3]));return i&&a.setStyle(i),a}function T$(n,e,t,r,i,a){var s=e.get("color");if(i)i.setColor(s),t.add(i),a&&a.onUpdate(i);else{var o=n.get("symbol");i=va(o,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),t.add(i),a&&a.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),r=An({rectHover:!0,z2:100},r,!0);var u=lS(n.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=rx(n.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var f=n.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function C$(n,e,t,r,i,a){if(!n.dragging){var s=i.getModel("checkpointStyle"),o=r.dataToCoord(i.getData().get("value",t));if(a||!s.get("animation",!0))n.attr({x:o,y:0}),e&&e.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:o,y:0},l),e&&e.animateTo({shape:{x2:o}},l)}}}function N8e(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,r){var i=t.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),sn({currentIndex:i.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function I8e(n){var e=n&&n.timeline;ft(e)||(e=e?[e]:[]),ie(e,function(t){t&&k8e(t)})}function k8e(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),A$(n),ny(n,"controlPosition")){var r=n.controlStyle||(n.controlStyle={});ny(r,"position")||(r.position=n.controlPosition),r.position==="none"&&!ny(r,"show")&&(r.show=!1,delete r.position),delete n.controlPosition}ie(n.data||[],function(i){on(i)&&!ft(i)&&(!ny(i,"value")&&ny(i,"name")&&(i.value=i.name),A$(i))})}function A$(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),r=n.label||n.label||{},i=r.normal||(r.normal={}),a={normal:1,emphasis:1};ie(r,function(s,o){!a[o]&&!ny(i,o)&&(i[o]=s)}),t.label&&!ny(r,"emphasis")&&(r.emphasis=t.label,delete t.label)}function ny(n,e){return n.hasOwnProperty(e)}function L8e(n){n.registerComponentModel(_de),n.registerComponentView(M8e),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),N8e(n),n.registerPreprocessor(I8e)}function c7(n,e){if(!n)return!1;for(var t=ft(n)?n:[n],r=0;r<t.length;r++)if(t[r]&&t[r][e])return!0;return!1}function cD(n){Ly(n,"label",["show"])}var fD=Un(),th=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t.preventAutoZ=!0,t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Zn.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,r){this._mergeOption(t,r,!1,!1)},e.prototype._mergeOption=function(t,r,i,a){var s=this.mainType;i||r.eachSeries(function(o){var l=o.get(this.mainType,!0),u=fD(o)[s];if(!l||!l.data){fD(o)[s]=null;return}u?u._mergeOption(l,r,!0):(a&&cD(l),ie(l.data,function(c){c instanceof Array?(cD(c[0]),cD(c[1])):cD(c)}),u=this.createMarkerModelFromSeries(l,this,r),at(u,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),u.__hostSeries=o),fD(o)[s]=u},this)},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return Ia("section",{header:this.name,blocks:[Ia("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,r){var i=hL.prototype.getDataParams.call(this,t,r),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},e.getMarkerModelFromSeries=function(t,r){return fD(t)[r]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e})(zn);ta(th,hL.prototype);var P8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e})(th);function $8(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function O8e(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function dD(n,e,t,r,i,a,s){var o=[],l=Lp(e,i),u=l?e.getCalculationInfo("stackResultDimension"):i,c=fI(e,u,n),f=e.hostModel,d=f.indicesOfNearest(t,u,c)[0];o[a]=e.get(r,d),o[s]=e.get(u,d);var h=e.get(i,d),p=yf(e.get(i,d));return p=Math.min(p,20),p>=0&&(o[s]=+o[s].toFixed(p)),[o,h]}var hD={min:Sn(dD,"min"),max:Sn(dD,"max"),average:Sn(dD,"average"),median:Sn(dD,"median")};function $C(n,e){if(e){var t=n.getData(),r=n.coordinateSystem,i=r&&r.dimensions;if(!O8e(e)&&!ft(e.coord)&&ft(i)){var a=bde(e,t,r,n);if(e=tn(e),e.type&&hD[e.type]&&a.baseAxis&&a.valueAxis){var s=Cn(i,a.baseAxis.dim),o=Cn(i,a.valueAxis.dim),l=hD[e.type](t,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,s,o);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!ft(i)){e.coord=[];var u=n.getBaseAxis();if(u&&e.type&&hD[e.type]){var c=r.getOtherAxis(u);c&&(e.value=fI(t,t.mapDimension(c.dim),e.type))}}else for(var f=e.coord,d=0;d<2;d++)hD[f[d]]&&(f[d]=fI(t,t.mapDimension(i[d]),f[d]));return e}}function bde(n,e,t,r){var i={};return n.valueIndex!=null||n.valueDim!=null?(i.valueDataDim=n.valueIndex!=null?e.getDimension(n.valueIndex):n.valueDim,i.valueAxis=t.getAxis(F8e(r,i.valueDataDim)),i.baseAxis=t.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=t.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function F8e(n,e){var t=n.getData().getDimensionInfo(e);return t&&t.coordDim}function JC(n,e){return n&&n.containData&&e.coord&&!$8(e)?n.containData(e.coord):!0}function B8e(n,e,t){return n&&n.containZone&&e.coord&&t.coord&&!$8(e)&&!$8(t)?n.containZone(e.coord,t.coord):!0}function Sde(n,e){return n?function(t,r,i,a){var s=a<2?t.coord&&t.coord[a]:t.value;return Rv(s,e[a])}:function(t,r,i,a){return Rv(t.value,e[a])}}function fI(n,e,t){if(t==="average"){var r=0,i=0;return n.each(e,function(a,s){isNaN(a)||(r+=a,i++)}),r/i}else return t==="median"?n.getMedian(e):n.getDataExtent(e)[t==="max"?1:0]}var FO=Un(),f7=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=jt()},e.prototype.render=function(t,r,i){var a=this,s=this.markerGroupMap;s.each(function(o){FO(o).keep=!1}),r.eachSeries(function(o){var l=th.getMarkerModelFromSeries(o,a.type);l&&a.renderSeries(o,l,r,i)}),s.each(function(o){!FO(o).keep&&a.group.remove(o.group)}),z8e(r,s,this.type)},e.prototype.markKeep=function(t){FO(t).keep=!0},e.prototype.toggleBlurSeries=function(t,r){var i=this;ie(t,function(a){var s=th.getMarkerModelFromSeries(a,i.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(r?Fse(l):sV(l))})}})},e.type="marker",e})(ri);function z8e(n,e,t){n.eachSeries(function(r){var i=th.getMarkerModelFromSeries(r,t),a=e.get(r.id);if(i&&a&&a.group){var s=zy(i),o=s.z,l=s.zlevel;uL(a.group,o,l)}})}function M$(n,e,t){var r=e.coordinateSystem,i=t.getWidth(),a=t.getHeight(),s=r&&r.getArea&&r.getArea();n.each(function(o){var l=n.getItemModel(o),u=l.get("relativeTo")==="coordinate",c=u?s?s.width:0:i,f=u?s?s.height:0:a,d=u&&s?s.x:0,h=u&&s?s.y:0,p,m=kt(l.get("x"),c)+d,g=kt(l.get("y"),f)+h;if(!isNaN(m)&&!isNaN(g))p=[m,g];else if(e.getMarkerPosition)p=e.getMarkerPosition(n.getValues(n.dimensions,o));else if(r){var y=n.get(r.dimensions[0],o),_=n.get(r.dimensions[1],o);p=r.dataToPoint([y,_])}isNaN(m)||(p[0]=m),isNaN(g)||(p[1]=g),n.setItemLayout(o,p)})}var U8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(a){var s=th.getMarkerModelFromSeries(a,"markPoint");s&&(M$(s.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,r,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new eM),f=V8e(s,t,r);r.setData(f),M$(r.getData(),t,a),f.each(function(d){var h=f.getItemModel(d),p=h.getShallow("symbol"),m=h.getShallow("symbolSize"),g=h.getShallow("symbolRotate"),y=h.getShallow("symbolOffset"),_=h.getShallow("symbolKeepAspect");if(Xt(p)||Xt(m)||Xt(g)||Xt(y)){var S=r.getRawValue(d),A=r.getDataParams(d);Xt(p)&&(p=p(S,A)),Xt(m)&&(m=m(S,A)),Xt(g)&&(g=g(S,A)),Xt(y)&&(y=y(S,A))}var M=h.getModel("itemStyle").getItemStyle(),E=h.get("z2"),D=$A(l,"color");M.fill||(M.fill=D),f.setItemVisual(d,{z2:Wt(E,0),symbol:p,symbolSize:m,symbolRotate:g,symbolOffset:y,symbolKeepAspect:_,style:M})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(d){d.traverse(function(h){fn(h).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||t.get("silent")},e.type="markPoint",e})(f7);function V8e(n,e,t){var r;n?r=ht(n&&n.dimensions,function(o){var l=e.getData().getDimensionInfo(e.getData().mapDimension(o))||{};return at(at({},l),{name:o,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Lo(r,t),a=ht(t.get("data"),Sn($C,e));n&&(a=vr(a,Sn(JC,n)));var s=Sde(!!n,r);return i.initData(a,null,s),i}function G8e(n){n.registerComponentModel(P8e),n.registerComponentView(U8e),n.registerPreprocessor(function(e){c7(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var H8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e})(th),pD=Un(),j8e=function(n,e,t,r){var i=n.getData(),a;if(ft(r))a=r;else{var s=r.type;if(s==="min"||s==="max"||s==="average"||s==="median"||r.xAxis!=null||r.yAxis!=null){var o=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)o=e.getAxis(r.yAxis!=null?"y":"x"),l=Is(r.yAxis,r.xAxis);else{var u=bde(r,i,e,n);o=u.valueAxis;var c=QV(i,u.valueDataDim);l=fI(i,c,s)}var f=o.dim==="x"?0:1,d=1-f,h=tn(r),p={coord:[]};h.type=null,h.coord=[],h.coord[d]=-1/0,p.coord[d]=1/0;var m=t.get("precision");m>=0&&nr(l)&&(l=+l.toFixed(Math.min(m,20))),h.coord[f]=p.coord[f]=l,a=[h,p,{type:s,valueIndex:r.valueIndex,value:l}]}else a=[]}var g=[$C(n,a[0]),$C(n,a[1]),at({},a[2])];return g[2].type=g[2].type||null,An(g[2],g[0]),An(g[2],g[1]),g};function dI(n){return!isNaN(n)&&!isFinite(n)}function E$(n,e,t,r){var i=1-n,a=r.dimensions[n];return dI(e[i])&&dI(t[i])&&e[n]===t[n]&&r.getAxis(a).containData(e[n])}function W8e(n,e){if(n.type==="cartesian2d"){var t=e[0].coord,r=e[1].coord;if(t&&r&&(E$(1,t,r,n)||E$(0,t,r,n)))return!0}return JC(n,e[0])&&JC(n,e[1])}function BO(n,e,t,r,i){var a=r.coordinateSystem,s=n.getItemModel(e),o,l=kt(s.get("x"),i.getWidth()),u=kt(s.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(r.getMarkerPosition)o=r.getMarkerPosition(n.getValues(n.dimensions,e));else{var c=a.dimensions,f=n.get(c[0],e),d=n.get(c[1],e);o=a.dataToPoint([f,d])}if(Ov(a,"cartesian2d")){var h=a.getAxis("x"),p=a.getAxis("y"),c=a.dimensions;dI(n.get(c[0],e))?o[0]=h.toGlobalCoord(h.getExtent()[t?0:1]):dI(n.get(c[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[t?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}n.setItemLayout(e,o)}var Y8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(a){var s=th.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),l=pD(s).from,u=pD(s).to;l.each(function(c){BO(l,c,!0,a,i),BO(u,c,!1,a,i)}),o.each(function(c){o.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,r,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new R9);this.group.add(c.group);var f=q8e(s,t,r),d=f.from,h=f.to,p=f.line;pD(r).from=d,pD(r).to=h,r.setData(p);var m=r.get("symbol"),g=r.get("symbolSize"),y=r.get("symbolRotate"),_=r.get("symbolOffset");ft(m)||(m=[m,m]),ft(g)||(g=[g,g]),ft(y)||(y=[y,y]),ft(_)||(_=[_,_]),f.from.each(function(A){S(d,A,!0),S(h,A,!1)}),p.each(function(A){var M=p.getItemModel(A),E=M.getModel("lineStyle").getLineStyle();p.setItemLayout(A,[d.getItemLayout(A),h.getItemLayout(A)]);var D=M.get("z2");E.stroke==null&&(E.stroke=d.getItemVisual(A,"style").fill),p.setItemVisual(A,{z2:Wt(D,0),fromSymbolKeepAspect:d.getItemVisual(A,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(A,"symbolOffset"),fromSymbolRotate:d.getItemVisual(A,"symbolRotate"),fromSymbolSize:d.getItemVisual(A,"symbolSize"),fromSymbol:d.getItemVisual(A,"symbol"),toSymbolKeepAspect:h.getItemVisual(A,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(A,"symbolOffset"),toSymbolRotate:h.getItemVisual(A,"symbolRotate"),toSymbolSize:h.getItemVisual(A,"symbolSize"),toSymbol:h.getItemVisual(A,"symbol"),style:E})}),c.updateData(p),f.line.eachItemGraphicEl(function(A){fn(A).dataModel=r,A.traverse(function(M){fn(M).dataModel=r})});function S(A,M,E){var D=A.getItemModel(M);BO(A,M,E,t,a);var I=D.getModel("itemStyle").getItemStyle();I.fill==null&&(I.fill=$A(l,"color")),A.setItemVisual(M,{symbolKeepAspect:D.get("symbolKeepAspect"),symbolOffset:Wt(D.get("symbolOffset",!0),_[E?0:1]),symbolRotate:Wt(D.get("symbolRotate",!0),y[E?0:1]),symbolSize:Wt(D.get("symbolSize"),g[E?0:1]),symbol:Wt(D.get("symbol",!0),m[E?0:1]),style:I})}this.markKeep(c),c.group.silent=r.get("silent")||t.get("silent")},e.type="markLine",e})(f7);function q8e(n,e,t){var r;n?r=ht(n&&n.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return at(at({},c),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Lo(r,t),a=new Lo(r,t),s=new Lo([],t),o=ht(t.get("data"),Sn(j8e,e,n,t));n&&(o=vr(o,Sn(W8e,n)));var l=Sde(!!n,r);return i.initData(ht(o,function(u){return u[0]}),null,l),a.initData(ht(o,function(u){return u[1]}),null,l),s.initData(ht(o,function(u){return u[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}function X8e(n){n.registerComponentModel(H8e),n.registerComponentView(Y8e),n.registerPreprocessor(function(e){c7(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var Z8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e})(th),vD=Un(),K8e=function(n,e,t,r){var i=r[0],a=r[1];if(!(!i||!a)){var s=$C(n,i),o=$C(n,a),l=s.coord,u=o.coord;l[0]=Is(l[0],-1/0),l[1]=Is(l[1],-1/0),u[0]=Is(u[0],1/0),u[1]=Is(u[1],1/0);var c=Yk([{},s,o]);return c.coord=[s.coord,o.coord],c.x0=s.x,c.y0=s.y,c.x1=o.x,c.y1=o.y,c}};function hI(n){return!isNaN(n)&&!isFinite(n)}function D$(n,e,t,r){var i=1-n;return hI(e[i])&&hI(t[i])}function $8e(n,e){var t=e.coord[0],r=e.coord[1],i={coord:t,x:e.x0,y:e.y0},a={coord:r,x:e.x1,y:e.y1};return Ov(n,"cartesian2d")?t&&r&&(D$(1,t,r)||D$(0,t,r))?!0:B8e(n,i,a):JC(n,i)||JC(n,a)}function R$(n,e,t,r,i){var a=r.coordinateSystem,s=n.getItemModel(e),o,l=kt(s.get(t[0]),i.getWidth()),u=kt(s.get(t[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(r.getMarkerPosition){var c=n.getValues(["x0","y0"],e),f=n.getValues(["x1","y1"],e),d=a.clampData(c),h=a.clampData(f),p=[];t[0]==="x0"?p[0]=d[0]>h[0]?f[0]:c[0]:p[0]=d[0]>h[0]?c[0]:f[0],t[1]==="y0"?p[1]=d[1]>h[1]?f[1]:c[1]:p[1]=d[1]>h[1]?c[1]:f[1],o=r.getMarkerPosition(p,t,!0)}else{var m=n.get(t[0],e),g=n.get(t[1],e),y=[m,g];a.clampData&&a.clampData(y,y),o=a.dataToPoint(y,!0)}if(Ov(a,"cartesian2d")){var _=a.getAxis("x"),S=a.getAxis("y"),m=n.get(t[0],e),g=n.get(t[1],e);hI(m)?o[0]=_.toGlobalCoord(_.getExtent()[t[0]==="x0"?0:1]):hI(g)&&(o[1]=S.toGlobalCoord(S.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}return o}var N$=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],J8e=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(a){var s=th.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(l){var u=ht(N$,function(f){return R$(o,l,f,a,i)});o.setItemLayout(l,u);var c=o.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,r,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,{group:new nn});this.group.add(c.group),this.markKeep(c);var f=Q8e(s,t,r);r.setData(f),f.each(function(d){var h=ht(N$,function(L){return R$(f,d,L,t,a)}),p=s.getAxis("x").scale,m=s.getAxis("y").scale,g=p.getExtent(),y=m.getExtent(),_=[p.parse(f.get("x0",d)),p.parse(f.get("x1",d))],S=[m.parse(f.get("y0",d)),m.parse(f.get("y1",d))];xu(_),xu(S);var A=!(g[0]>_[1]||g[1]<_[0]||y[0]>S[1]||y[1]<S[0]),M=!A;f.setItemLayout(d,{points:h,allClipped:M});var E=f.getItemModel(d),D=E.getModel("itemStyle").getItemStyle(),I=E.get("z2"),N=$A(l,"color");D.fill||(D.fill=N,Lt(D.fill)&&(D.fill=CC(D.fill,.4))),D.stroke||(D.stroke=N),f.setItemVisual(d,"style",D),f.setItemVisual(d,"z2",Wt(I,0))}),f.diff(vD(c).data).add(function(d){var h=f.getItemLayout(d),p=f.getItemVisual(d,"z2");if(!h.allClipped){var m=new ro({z2:Wt(p,0),shape:{points:h.points}});f.setItemGraphicEl(d,m),c.group.add(m)}}).update(function(d,h){var p=vD(c).data.getItemGraphicEl(h),m=f.getItemLayout(d),g=f.getItemVisual(d,"z2");m.allClipped?p&&c.group.remove(p):(p?lr(p,{z2:Wt(g,0),shape:{points:m.points}},r,d):p=new ro({shape:{points:m.points}}),f.setItemGraphicEl(d,p),c.group.add(p))}).remove(function(d){var h=vD(c).data.getItemGraphicEl(d);c.group.remove(h)}).execute(),f.eachItemGraphicEl(function(d,h){var p=f.getItemModel(h),m=f.getItemVisual(h,"style");d.useStyle(f.getItemVisual(h,"style")),cs(d,Ya(p),{labelFetcher:r,labelDataIndex:h,defaultText:f.getName(h)||"",inheritColor:Lt(m.fill)?CC(m.fill,1):qe.color.neutral99}),Wa(d,p),Ei(d,null,null,p.get(["emphasis","disabled"])),fn(d).dataModel=r}),vD(c).data=f,c.group.silent=r.get("silent")||t.get("silent")},e.type="markArea",e})(f7);function Q8e(n,e,t){var r,i,a=["x0","y0","x1","y1"];if(n){var s=ht(n&&n.dimensions,function(u){var c=e.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return at(at({},f),{name:u,ordinalMeta:null})});i=ht(a,function(u,c){return{name:u,type:s[c%2].type}}),r=new Lo(i,t)}else i=[{name:"value",type:"float"}],r=new Lo(i,t);var o=ht(t.get("data"),Sn(K8e,e,n,t));n&&(o=vr(o,Sn($8e,n)));var l=n?function(u,c,f,d){var h=u.coord[Math.floor(d/2)][d%2];return Rv(h,i[d])}:function(u,c,f,d){return Rv(u.value,i[d])};return r.initData(o,null,l),r.hasItemOption=!0,r}function eze(n){n.registerComponentModel(Z8e),n.registerComponentView(J8e),n.registerPreprocessor(function(e){c7(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var tze=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},J8=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),ft(r)&&ie(r,function(a,s){Lt(a)&&(a={type:a}),r[s]=An(a,tze(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(d)),d.length?r=r.concat(d):c=!0}else c=!0;c&&$U(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,s=jt(),o=ht(a,function(l){return(Lt(l)||nr(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new Gn(l,this,this.ecModel))},this);this._data=vr(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;ie(a,function(s){r[s.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;ie(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;ie(t,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&Cn(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:qe.size.m,align:"auto",backgroundColor:qe.color.transparent,borderColor:qe.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:qe.color.disabled,inactiveBorderColor:qe.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:qe.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:qe.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:qe.color.tertiary,borderWidth:1,borderColor:qe.color.border},emphasis:{selectorLabel:{show:!0,color:qe.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(zn),X1=Sn,Q8=ie,mD=nn,wde=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new mD),this.group.add(this._selectorGroup=new mD),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,t,r,i,l,o,u);var c=qa(t,i).refContainer,f=t.getBoxLayoutParams(),d=t.get("padding"),h=wi(f,c,d),p=this.layoutInner(t,s,h,a,l,u),m=wi(sn({width:p.width,height:p.height},f),c,d);this.group.x=m.x-p.x,this.group.y=m.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=fde(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,a,s,o,l){var u=this.getContentGroup(),c=jt(),f=r.get("selectedMode"),d=r.get("triggerEvent"),h=[];i.eachRawSeries(function(p){!p.get("legendHoverLink")&&h.push(p.id)}),Q8(r.getData(),function(p,m){var g=this,y=p.get("name");if(!this.newlineDisabled&&(y===""||y===`
`)){var _=new mD;_.newline=!0,u.add(_);return}var S=i.getSeriesByName(y)[0];if(!c.get(y))if(S){var A=S.getData(),M=A.getVisual("legendLineStyle")||{},E=A.getVisual("legendIcon"),D=A.getVisual("style"),I=this._createItem(S,y,m,p,r,t,M,D,E,f,a);I.on("click",X1(I$,y,null,a,h)).on("mouseover",X1(ez,S.name,null,a,h)).on("mouseout",X1(tz,S.name,null,a,h)),i.ssr&&I.eachChild(function(N){var L=fn(N);L.seriesIndex=S.seriesIndex,L.dataIndex=m,L.ssrType="legend"}),d&&I.eachChild(function(N){g.packEventData(N,r,S,m,y)}),c.set(y,!0)}else i.eachRawSeries(function(N){var L=this;if(!c.get(y)&&N.legendVisualProvider){var B=N.legendVisualProvider;if(!B.containName(y))return;var O=B.indexOfName(y),G=B.getItemVisual(O,"style"),V=B.getItemVisual(O,"legendIcon"),q=ko(G.fill);q&&q[3]===0&&(q[3]=.2,G=at(at({},G),{fill:yc(q,"rgba")}));var W=this._createItem(N,y,m,p,r,t,{},G,V,f,a);W.on("click",X1(I$,null,y,a,h)).on("mouseover",X1(ez,null,y,a,h)).on("mouseout",X1(tz,null,y,a,h)),i.ssr&&W.eachChild(function(Z){var X=fn(Z);X.seriesIndex=N.seriesIndex,X.dataIndex=m,X.ssrType="legend"}),d&&W.eachChild(function(Z){L.packEventData(Z,r,N,m,y)}),c.set(y,!0)}},this)},this),s&&this._createSelector(s,r,a,o,l)},e.prototype.packEventData=function(t,r,i,a,s){var o={componentType:"legend",componentIndex:r.componentIndex,dataIndex:a,value:s,seriesIndex:i.seriesIndex};fn(t).eventData=o},e.prototype._createSelector=function(t,r,i,a,s){var o=this.getSelectorGroup();Q8(t,function(u){var c=u.type,f=new tr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});o.add(f);var d=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);cs(f,{normal:d,emphasis:h},{defaultText:u.title}),Mv(f)})},e.prototype._createItem=function(t,r,i,a,s,o,l,u,c,f,d){var h=t.visualDrawType,p=s.get("itemWidth"),m=s.get("itemHeight"),g=s.isSelected(r),y=a.get("symbolRotate"),_=a.get("symbolKeepAspect"),S=a.get("icon");c=S||c||"roundRect";var A=nze(c,a,l,u,h,g,d),M=new mD,E=a.getModel("textStyle");if(Xt(t.getLegendIcon)&&(!S||S==="inherit"))M.add(t.getLegendIcon({itemWidth:p,itemHeight:m,icon:c,iconRotate:y,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:_}));else{var D=S==="inherit"&&t.getData().getVisual("symbol")?y==="inherit"?t.getData().getVisual("symbolRotate"):y:0;M.add(rze({itemWidth:p,itemHeight:m,icon:c,iconRotate:D,itemStyle:A.itemStyle,symbolKeepAspect:_}))}var I=o==="left"?p+5:-5,N=o,L=s.get("formatter"),B=r;Lt(L)&&L?B=L.replace("{name}",r??""):Xt(L)&&(B=L(r));var O=g?E.getTextColor():a.get("inactiveColor");M.add(new tr({style:ti(E,{text:B,x:I,y:m/2,fill:O,align:N,verticalAlign:"middle"},{inheritColor:O})}));var G=new Pn({shape:M.getBoundingRect(),style:{fill:"transparent"}}),V=a.getModel("tooltip");return V.get("show")&&qp({el:G,componentModel:s,itemName:r,itemTooltipOption:V.option}),M.add(G),M.eachChild(function(q){q.silent=!0}),G.silent=!f,this.getContentGroup().add(M),Mv(M),M.__legendDataIndex=i,M},e.prototype.layoutInner=function(t,r,i,a,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();Sy(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),s){Sy("horizontal",u,t.get("selectorItemGap",!0));var d=u.getBoundingRect(),h=[-d.x,-d.y],p=t.get("selectorButtonGap",!0),m=t.getOrient().index,g=m===0?"width":"height",y=m===0?"height":"width",_=m===0?"y":"x";o==="end"?h[m]+=c[g]+p:f[m]+=d[g]+p,h[1-m]+=c[y]/2-d[y]/2,u.x=h[0],u.y=h[1],l.x=f[0],l.y=f[1];var S={x:0,y:0};return S[g]=c[g]+p+d[g],S[y]=Math.max(c[y],d[y]),S[_]=Math.min(0,d[_]+h[1-m]),S}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(ri);function nze(n,e,t,r,i,a,s){function o(g,y){g.lineWidth==="auto"&&(g.lineWidth=y.lineWidth>0?2:0),Q8(g,function(_,S){g[S]==="inherit"&&(g[S]=y[S])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=n.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?r.decal:_b(f,s),u.fill==="inherit"&&(u.fill=r[i]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?r:t).opacity),o(u,r);var d=e.getModel("lineStyle"),h=d.getLineStyle();if(o(h,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!a){var p=e.get("inactiveBorderWidth"),m=u[c];u.lineWidth=p==="auto"?r.lineWidth>0&&m?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function rze(n){var e=n.icon||"roundRect",t=va(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill=qe.color.neutral00,t.style.lineWidth=2),t}function I$(n,e,t,r){tz(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n??e}),ez(n,e,t,r)}function Tde(n){for(var e=n.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function ez(n,e,t,r){Tde(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function tz(n,e,t,r){Tde(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}function ize(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function Lw(n,e,t){var r=n==="allSelect"||n==="inverseSelect",i={},a=[];t.eachComponent({mainType:"legend",query:e},function(o){r?o[n]():o[n](e.name),k$(o,i),a.push(o.componentIndex)});var s={};return t.eachComponent("legend",function(o){ie(i,function(l,u){o[l?"select":"unSelect"](u)}),k$(o,s)}),r?{selected:s,legendIndex:a}:{name:e.name,selected:s}}function k$(n,e){var t=e||{};return ie(n.getData(),function(r){var i=r.get("name");if(!(i===`
`||i==="")){var a=n.isSelected(i);Gt(t,i)?t[i]=t[i]&&a:t[i]=a}}),t}function aze(n){n.registerAction("legendToggleSelect","legendselectchanged",Sn(Lw,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Sn(Lw,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Sn(Lw,"inverseSelect")),n.registerAction("legendSelect","legendselected",Sn(Lw,"select")),n.registerAction("legendUnSelect","legendunselected",Sn(Lw,"unSelect"))}function Cde(n){n.registerComponentModel(J8),n.registerComponentView(wde),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,ize),n.registerSubTypeDefaulter("legend",function(){return"plain"}),aze(n)}var sze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var a=tx(t);n.prototype.init.call(this,t,r,i),L$(this,t,a)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),L$(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Qv(J8.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:qe.color.accent50,pageIconInactiveColor:qe.color.accent10,pageIconSize:15,pageTextStyle:{color:qe.color.tertiary},animationDurationUpdate:800}),e})(J8);function L$(n,e,t){var r=n.getOrient(),i=[1,1];i[r.index]=0,Qd(e,t,{type:"box",ignoreSize:!!i})}var P$=nn,zO=["width","height"],UO=["x","y"],oze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new P$),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new P$)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,a,s,o,l){var u=this;n.prototype.renderInner.call(this,t,r,i,a,s,o,l);var c=this._controllerGroup,f=r.get("pageIconSize",!0),d=ft(f)?f:[f,f];p("pagePrev",0);var h=r.getModel("pageTextStyle");c.add(new tr({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(m,g){var y=m+"DataIndex",_=tS(r.get("pageIcons",!0)[r.getOrient().name][g],{onclick:Ot(u._pageGo,u,y,r,a)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});_.name=m,c.add(_)}},e.prototype.layoutInner=function(t,r,i,a,s,o){var l=this.getSelectorGroup(),u=t.getOrient().index,c=zO[u],f=UO[u],d=zO[1-u],h=UO[1-u];s&&Sy("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),m=l.getBoundingRect(),g=[-m.x,-m.y],y=tn(i);s&&(y[c]=i[c]-m[c]-p);var _=this._layoutContentAndController(t,a,y,u,c,d,h,f);if(s){if(o==="end")g[u]+=_[c]+p;else{var S=m[c]+p;g[u]-=S,_[f]-=S}_[c]+=m[c]+p,g[1-u]+=_[h]+_[d]/2-m[d]/2,_[d]=Math.max(_[d],m[d]),_[h]=Math.min(_[h],m[h]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return _},e.prototype._layoutContentAndController=function(t,r,i,a,s,o,l,u){var c=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;Sy(t.get("orient"),c,t.get("itemGap"),a?i.width:null,a?null:i.height),Sy("horizontal",d,t.get("pageButtonItemGap",!0));var h=c.getBoundingRect(),p=d.getBoundingRect(),m=this._showController=h[s]>i[s],g=[-h.x,-h.y];r||(g[a]=c[u]);var y=[0,0],_=[-p.x,-p.y],S=Wt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(m){var A=t.get("pageButtonPosition",!0);A==="end"?_[a]+=i[s]-p[s]:y[a]+=p[s]+S}_[1-a]+=h[o]/2-p[o]/2,c.setPosition(g),f.setPosition(y),d.setPosition(_);var M={x:0,y:0};if(M[s]=m?i[s]:h[s],M[o]=Math.max(h[o],p[o]),M[l]=Math.min(0,p[l]+_[1-a]),f.__rectSize=i[s],m){var E={x:0,y:0};E[s]=Math.max(i[s]-p[s]-S,0),E[o]=M[o],f.setClipPath(new Pn({shape:E})),f.__rectSize=E[s]}else d.eachChild(function(I){I.attr({invisible:!0,silent:!0})});var D=this._getPageInfo(t);return D.pageIndex!=null&&lr(c,{x:D.contentPosition[0],y:D.contentPosition[1]},m?t:null),this._updatePageInfoView(t,D),M},e.prototype._pageGo=function(t,r,i){var a=this._getPageInfo(r)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;ie(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",d=r[f]!=null,h=i.childOfName(c);h&&(h.setStyle("fill",d?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var a=i.childOfName("pageText"),s=t.get("pageFormatter"),o=r.pageIndex,l=o!=null?o+1:0,u=r.pageCount;a&&s&&a.setStyle("text",Lt(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=t.getOrient().index,o=zO[s],l=UO[s],u=this._findTargetItemIndex(r),c=i.children(),f=c[u],d=c.length,h=d?1:0,p={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return p;var m=A(f);p.contentPosition[s]=-m.s;for(var g=u+1,y=m,_=m,S=null;g<=d;++g)S=A(c[g]),(!S&&_.e>y.s+a||S&&!M(S,y.s))&&(_.i>y.i?y=_:y=S,y&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=y.i),++p.pageCount)),_=S;for(var g=u-1,y=m,_=m,S=null;g>=-1;--g)S=A(c[g]),(!S||!M(_,S.s))&&y.i<_.i&&(_=y,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=y.i),++p.pageCount,++p.pageIndex),y=S;return p;function A(E){if(E){var D=E.getBoundingRect(),I=D[l]+E[l];return{s:I,e:I+D[o],i:E.__legendDataIndex}}}function M(E,D){return E.e>=D&&E.s<=D+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===t&&(r=o)}),r??a},e.type="legend.scroll",e})(wde);function lze(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function uze(n){Nn(Cde),n.registerComponentModel(sze),n.registerComponentView(oze),lze(n)}function cze(n){Nn(Cde),Nn(uze)}var fze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Qv(KC.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e})(KC),d7=Un();function dze(n,e,t){d7(n).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function hze(n,e){for(var t=d7(n).coordSysRecordMap,r=t.keys(),i=0;i<r.length;i++){var a=r[i],s=t.get(a),o=s.dataZoomInfoMap;if(o){var l=e.uid,u=o.get(l);u&&(o.removeKey(l),o.keys().length||Ade(t,s))}}}function Ade(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function pze(n,e){var t={model:e,containsPoint:Sn(mze,e),dispatchAction:Sn(vze,n),dataZoomInfoMap:null,controller:null},r=t.controller=new ax(n.getZr());return ie(["pan","zoom","scrollMove"],function(i){r.on(i,function(a){var s=[];t.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[i],u=l&&l(o.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!o.model.get("disabled",!0)&&u&&s.push({dataZoomId:o.model.id,start:u[0],end:u[1]})}}),s.length&&t.dispatchAction(s)})}),t}function vze(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function mze(n,e,t,r){return n.coordinateSystem.containPoint([t,r])}function gze(n,e,t){var r,i="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},s=!0;return n.each(function(o){var l=o.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;a[i+u]>a[i+r]&&(r=u),s=s&&l.get("preventDefaultMouseMove",!0)}),{controlType:r,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!s,api:t,zInfo:{component:e.model},triggerInfo:{roamTrigger:null,isInSelf:e.containsPoint}}}}function yze(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=d7(t),i=r.coordSysRecordMap||(r.coordSysRecordMap=jt());i.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=lde(a);ie(s.infoList,function(o){var l=o.model.uid,u=i.get(l)||i.set(l,pze(t,o.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=jt());c.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),i.each(function(a){var s=a.controller,o,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(o=l.get(u))}if(!o){Ade(i,a);return}var c=gze(l,a,t);s.enable(c.controlType,c.opt),oS(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var xze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,i){if(n.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),dze(i,t,{pan:Ot(VO.pan,this),zoom:Ot(VO.zoom,this),scrollMove:Ot(VO.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){hze(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e})(i7),VO={zoom:function(n,e,t,r){var i=this.range,a=i.slice(),s=n.axisModels[0];if(s){var o=GO[e](null,[r.originX,r.originY],s,t,n),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/r.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Fv(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:O$(function(n,e,t,r,i,a){var s=GO[r]([a.oldX,a.oldY],[a.newX,a.newY],e,i,t);return s.signal*(n[1]-n[0])*s.pixel/s.pixelLength}),scrollMove:O$(function(n,e,t,r,i,a){var s=GO[r]([0,0],[a.scrollDelta,a.scrollDelta],e,i,t);return s.signal*(n[1]-n[0])*a.scrollDelta})};function O$(n){return function(e,t,r,i){var a=this.range,s=a.slice(),o=e.axisModels[0];if(o){var l=n(s,o,e,t,r,i);if(Fv(l,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var GO={grid:function(n,e,t,r,i){var a=t.axis,s={},o=i.model.coordinateSystem.getRect();return n=n||[0,0],a.dim==="x"?(s.pixel=e[0]-n[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(n,e,t,r,i){var a=t.axis,s={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),u=o.getAngleAxis().getExtent();return n=n?o.pointToCoord(n):[0,0],e=o.pointToCoord(e),t.mainType==="radiusAxis"?(s.pixel=e[0]-n[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?-1:1),s},singleAxis:function(n,e,t,r,i){var a=t.axis,s=i.model.coordinateSystem.getRect(),o={};return n=n||[0,0],a.orient==="horizontal"?(o.pixel=e[0]-n[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-n[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function Mde(n){a7(n),n.registerComponentModel(fze),n.registerComponentView(xze),yze(n)}var _ze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Qv(KC.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:qe.color.accent10,borderRadius:0,backgroundColor:qe.color.transparent,dataBackground:{lineStyle:{color:qe.color.accent30,width:.5},areaStyle:{color:qe.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:qe.color.accent40,width:.5},areaStyle:{color:qe.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:qe.color.neutral00,borderColor:qe.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:qe.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:qe.color.tertiary},brushSelect:!0,brushStyle:{color:qe.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:qe.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),e})(KC),Pw=Pn,bze=1,HO=30,Sze=7,Ow="horizontal",F$="vertical",wze=5,Tze=["line","bar","candlestick","scatter"],Cze={easing:"cubicOut",duration:100,delay:0},Aze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=Ot(this._onBrush,this),this._onBrushEnd=Ot(this._onBrushEnd,this)},e.prototype.render=function(t,r,i,a){if(n.prototype.render.apply(this,arguments),oS(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){PC(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new nn;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,i=t.get("brushSelect"),a=i?Sze:0,s=qa(t,r).refContainer,o=this._findCoordRect(),l=t.get("defaultLocationEdgeGap",!0)||0,u=this._orient===Ow?{right:s.width-o.x-o.width,top:s.height-HO-l-a,width:o.width,height:HO}:{right:l,top:o.y,width:HO,height:o.height},c=tx(t.option);ie(["right","top","width","height"],function(d){c[d]==="ph"&&(c[d]=u[d])});var f=wi(c,s);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===F$&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i===Ow&&!s?{scaleY:l?1:-1,scaleX:1}:i===Ow&&s?{scaleY:l?1:-1,scaleX:-1}:i===F$&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([o]);t.x=r.x-u.x,t.y=r.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,a=t.get("brushSelect");i.add(new Pw({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var s=new Pw({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:Ot(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(s)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,i=this._shadowSize||[],a=t.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),l=o&&s.getDimensionInfo(o)?a.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var f=s.getDataExtent(t.thisDim),d=s.getDataExtent(l),h=(d[1]-d[0])*.3;d=[d[0]-h,d[1]+h];var p=[0,r[1]],m=[0,r[0]],g=[[r[0],0],[0,0]],y=[],_=m[1]/Math.max(1,s.count()-1),S=r[0]/(f[1]-f[0]),A=t.thisAxis.type==="time",M=-_,E=Math.round(s.count()/r[0]),D;s.each([t.thisDim,l],function(O,G,V){if(E>0&&V%E){A||(M+=_);return}M=A?(+O-f[0])*S:M+_;var q=G==null||isNaN(G)||G==="",W=q?0:_r(G,d,p,!0);q&&!D&&V?(g.push([g[g.length-1][0],0]),y.push([y[y.length-1][0],0])):!q&&D&&(g.push([M,0]),y.push([M,0])),q||(g.push([M,W]),y.push([M,W])),D=q}),u=this._shadowPolygonPts=g,c=this._shadowPolylinePts=y}this._shadowData=s,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var I=this.dataZoomModel;function N(O){var G=I.getModel(O?"selectedDataBackground":"dataBackground"),V=new nn,q=new ro({shape:{points:u},segmentIgnoreThreshold:1,style:G.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),W=new Ls({shape:{points:c},segmentIgnoreThreshold:1,style:G.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return V.add(q),V.add(W),V}for(var L=0;L<3;L++){var B=N(L===1);this._displayables.sliderGroup.add(B),this._displayables.dataShadowSegs.push(B)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var i,a=this.ecModel;return t.eachTargetAxis(function(s,o){var l=t.getAxisProxy(s,o).getTargetSeriesModels();ie(l,function(u){if(!i&&!(r!==!0&&Cn(Tze,u.get("type"))<0)){var c=a.getComponent(mv(s),o).axis,f=Mze(s),d,h=u.coordinateSystem;f!=null&&h.getOtherAxis&&(d=h.getOtherAxis(c).inverse),f=u.getData().mapDimension(f);var p=u.getData().mapDimension(s);i={thisAxis:c,series:u,thisDim:p,otherDim:f,otherAxisInverse:d}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,i=r.handles=[null,null],a=r.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),d=r.filler=new Pw({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(d),s.add(new Pw({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:bze,fill:qe.color.transparent}})),ie([0,1],function(S){var A=l.get("handleIcon");!kN[A]&&A.indexOf("path://")<0&&A.indexOf("image://")<0&&(A="path://"+A);var M=va(A,-1,0,2,2,null,!0);M.attr({cursor:Eze(this._orient),draggable:!0,drift:Ot(this._onDragMove,this,S),ondragend:Ot(this._onDragEnd,this),onmouseover:Ot(this._showDataInfo,this,!0),onmouseout:Ot(this._showDataInfo,this,!1),z2:5});var E=M.getBoundingRect(),D=l.get("handleSize");this._handleHeight=kt(D,this._size[1]),this._handleWidth=E.width/E.height*this._handleHeight,M.setStyle(l.getModel("handleStyle").getItemStyle()),M.style.strokeNoScale=!0,M.rectHover=!0,M.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Mv(M);var I=l.get("handleColor");I!=null&&(M.style.fill=I),s.add(i[S]=M);var N=l.getModel("textStyle"),L=l.get("handleLabel")||{},B=L.show||!1;t.add(a[S]=new tr({silent:!0,invisible:!B,style:ti(N,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:N.getTextColor(),font:N.getFont()}),z2:10}))},this);var h=d;if(f){var p=kt(l.get("moveHandleSize"),o[1]),m=r.moveHandle=new Pn({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:p}}),g=p*.8,y=r.moveHandleIcon=va(l.get("moveHandleIcon"),-g/2,-g/2,g,g,qe.color.neutral00,!0);y.silent=!0,y.y=o[1]+p/2-.5,m.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var _=Math.min(o[1]/2,Math.max(p,10));h=r.moveZone=new Pn({invisible:!0,shape:{y:o[1]-_,height:p+_}}),h.on("mouseover",function(){u.enterEmphasis(m)}).on("mouseout",function(){u.leaveEmphasis(m)}),s.add(m),s.add(y),s.add(h)}h.attr({draggable:!0,cursor:"default",drift:Ot(this._onDragMove,this,"all"),ondragstart:Ot(this._showDataInfo,this,!0),ondragend:Ot(this._onDragEnd,this),onmouseover:Ot(this._showDataInfo,this,!0),onmouseout:Ot(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[_r(t[0],[0,100],r,!0),_r(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var i=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Fv(r,a,s,i.get("zoomLock")?"all":t,o.minSpan!=null?_r(o.minSpan,l,s,!0):null,o.maxSpan!=null?_r(o.maxSpan,l,s,!0):null);var u=this._range,c=this._range=xu([_r(a[0],s,l,!0),_r(a[1],s,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var r=this._displayables,i=this._handleEnds,a=xu(i.slice()),s=this._size;ie([0,1],function(h){var p=r.handles[h],m=this._handleHeight;p.attr({scaleX:m/2,scaleY:m/2,x:i[h]+(h?-1:1),y:s[1]/2-m/2})},this),r.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};r.moveHandle&&(r.moveHandle.setShape(o),r.moveZone.setShape(o),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=r.dataShadowSegs,u=[0,a[0],a[1],s[0]],c=0;c<l.length;c++){var f=l[c],d=f.getClipPath();d||(d=new Pn,f.setClipPath(d)),d.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:s[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,i=this._displayables,a=i.handleLabels,s=this._orient,o=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var d=xu(this._handleEnds.slice());h.call(this,0),h.call(this,1);function h(p){var m=Ev(i.handles[p].parent,this.group),g=lL(p===0?"right":"left",m),y=this._handleWidth/2+wze,_=Af([d[p]+(p===0?-y:y),this._size[1]/2],m);a[p].setStyle({x:_[0],y:_[1],verticalAlign:s===Ow?"middle":g,align:s===Ow?g:"center",text:o[p]})}},e.prototype._formatLabel=function(t,r){var i=this.dataZoomModel,a=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=r.getPixelPrecision());var o=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(s,20));return Xt(a)?a(t,o):Lt(a)?a.replace("{value}",o):o},e.prototype._showDataInfo=function(t){var r=this.dataZoomModel.get("handleLabel")||{},i=r.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=a.get("show")||!1,o=t||this._dragging?s:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!o),u[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,r,i,a){this._dragging=!0,Rp(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=Af([r,i],s,!0),l=this._updateInterval(t,o[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",i[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,i=t.offsetY;this._brushStart=new un(r,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),o=[0,100],l=this._handleEnds=[i.x,i.x+i.width],u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();Fv(0,l,s,0,u.minSpan!=null?_r(u.minSpan,o,s,!0):null,u.maxSpan!=null?_r(u.maxSpan,o,s,!0):null),this._range=xu([_r(l[0],s,o,!0),_r(l[1],s,o,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Rp(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var i=this._displayables,a=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new Pw({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,r),c=l.transformCoordToLocal(o.x,o.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),s.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Cze:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=lde(this.dataZoomModel).infoList;if(!t&&r.length){var i=r[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var a=this.api.getWidth(),s=this.api.getHeight();t={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return t},e.type="dataZoom.slider",e})(i7);function Mze(n){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[n]}function Eze(n){return n==="vertical"?"ns-resize":"ew-resize"}function Ede(n){n.registerComponentModel(_ze),n.registerComponentView(Aze),a7(n)}function Dze(n){Nn(Mde),Nn(Ede)}var Dde={get:function(n,e,t){var r=tn((Rze[n]||{})[e]);return t&&ft(r)?r[r.length-1]:r}},Rze={color:{active:["#006edd","#e0ffff"],inactive:[qe.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},B$=ls.mapVisual,Nze=ls.eachVisual,Ize=ft,z$=ie,kze=xu,Lze=_r,pI=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,r){var i=this.option;!r&&yde(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=Ot(t,this),this.controllerVisuals=Z8(this.option.controller,r,t),this.targetVisuals=Z8(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesId,r=this.option.seriesIndex;r==null&&t==null&&(r="all");var i=Kb(this.ecModel,"series",{index:r,id:t},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return ht(i,function(a){return a.componentIndex})},e.prototype.eachTargetSeries=function(t,r){ie(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&t.call(r,a)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(i){i===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,i){var a=this.option,s=a.precision,o=this.dataBound,l=a.formatter,u;i=i||["<",">"],ft(t)&&(t=t.slice(),u=!0);var c=r?t:u?[f(t[0]),f(t[1])]:f(t);if(Lt(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Xt(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===o[0]?i[0]+" "+c[1]:t[1]===o[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(d){return d===o[0]?"min":d===o[1]?"max":(+d).toFixed(Math.min(s,20))}},e.prototype.resetExtent=function(){var t=this.option,r=kze([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var i=t.dimensions,a=i.length-1;a>=0;a--){var s=i[a],o=t.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),s=r.controller||(r.controller={});An(a,i),An(s,i);var o=this.isCategory();l.call(this,a),l.call(this,s),u.call(this,a,"inRange","outOfRange"),c.call(this,s);function l(f){Ize(r.color)&&!f.inRange&&(f.inRange={color:r.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}function u(f,d,h){var p=f[d],m=f[h];p&&!m&&(m=f[h]={},z$(p,function(g,y){if(ls.isValidType(y)){var _=Dde.get(y,"inactive",o);_!=null&&(m[y]=_,y==="color"&&!m.hasOwnProperty("opacity")&&!m.hasOwnProperty("colorAlpha")&&(m.opacity=[0,0]))}}))}function c(f){var d=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,h=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),m=this.getItemSymbol(),g=m||"roundRect";z$(this.stateList,function(y){var _=this.itemSize,S=f[y];S||(S=f[y]={color:o?p:[p]}),S.symbol==null&&(S.symbol=d&&tn(d)||(o?g:[g])),S.symbolSize==null&&(S.symbolSize=h&&tn(h)||(o?_[0]:[_[0],_[0]])),S.symbol=B$(S.symbol,function(E){return E==="none"?g:E});var A=S.symbolSize;if(A!=null){var M=-1/0;Nze(A,function(E){E>M&&(M=E)}),S.symbolSize=B$(A,function(E){return Lze(E,[0,M],[0,_[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:qe.color.transparent,borderColor:qe.color.borderTint,contentColor:qe.color.theme[0],inactiveColor:qe.color.disabled,borderWidth:0,padding:qe.size.m,textGap:10,precision:0,textStyle:{color:qe.color.secondary}},e})(zn),U$=[20,140],Pze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=U$[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=U$[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):ft(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),ie(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=xu((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,i=this.getExtent(),a=Wt(this.option.unboundedRange,!0);return(a&&r[0]<=i[0]||r[0]<=t)&&(a&&r[1]>=i[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(o,l){t[0]<=o&&o<=t[1]&&a.push(l)},this),r.push({seriesId:i.id,dataIndex:a})},this),r},e.prototype.getVisualMeta=function(t){var r=V$(this,"outOfRange",this.getExtent()),i=V$(this,"inRange",this.option.range.slice()),a=[];function s(h,p){a.push({value:h,color:t(h,p)})}for(var o=0,l=0,u=i.length,c=r.length;l<c&&(!i.length||r[l]<=i[0]);l++)r[l]<i[o]&&s(r[l],"outOfRange");for(var f=1;o<u;o++,f=0)f&&a.length&&s(i[o],"outOfRange"),s(i[o],"inRange");for(var f=1;l<c;l++)(!i.length||i[i.length-1]<r[l])&&(f&&(a.length&&s(a[a.length-1].value,"outOfRange"),f=0),s(r[l],"outOfRange"));var d=a.length;return{stops:a,outerColors:[d?a[0].color:"transparent",d?a[d-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Qv(pI.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:qe.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:qe.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:qe.color.shadow}}),e})(pI);function V$(n,e,t){if(t[0]===t[1])return t.slice();for(var r=200,i=(t[1]-t[0])/r,a=t[0],s=[],o=0;o<=r&&a<t[1];o++)s.push(a),a+=i;return s.push(t[1]),s}var Rde=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,i,a){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,i,a)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,i=iS(r.get("padding")||0),a=t.getBoundingRect();t.add(new Pn({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,i){i=i||{};var a=i.forceState,s=this.visualMapModel,o={};if(r==="color"){var l=s.get("contentColor");o.color=l}function u(h){return o[h]}function c(h,p){o[h]=p}var f=s.controllerVisuals[a||s.getValueState(t)],d=ls.prepareVisualTypes(f);return ie(d,function(h){var p=f[h];i.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",p=f.__alphaForOpacity),ls.dependsOn(h,r)&&p&&p.applyVisual(t,u,c)}),o[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,i=this.api,a=qa(r,i).refContainer;fL(t,r.getBoxLayoutParams(),a)},e.prototype.doRender=function(t,r,i,a){},e.type="visualMap",e})(ri),G$=[["left","right","width"],["top","bottom","height"]];function Nde(n,e,t){var r=n.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var a={width:e.getWidth(),height:e.getHeight()},s=r.orient==="horizontal"?1:0,o=G$[s],l=[0,null,10],u={},c=0;c<3;c++)u[G$[1-s][c]]=l[c],u[o[c]]=c===2?t[0]:r[o[c]];var f=[["x","width",3],["y","height",0]][s],d=wi(u,a,r.padding);return o[(d.margin[f[2]]||0)+d[f[0]]+d[f[1]]*.5<a[f[1]]*.5?0:1]}function ZR(n,e){return ie(n||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var Ed=_r,Oze=ie,H$=Math.min,jO=Math.max,Fze=12,Bze=6,zze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,r){n.prototype.init.call(this,t,r),this._hoverLinkFromSeriesMouseOver=Ot(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Ot(this._hideIndicator,this)},e.prototype.doRender=function(t,r,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var i=t.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,i){if(r){var a=r[1-i];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-o:l[1]+o],u),f=this._applyTransform(i===0?"bottom":"top",u),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new tr({style:ti(h,{x:c[0],y:c[1],verticalAlign:h.get("verticalAlign")||(d==="horizontal"?"middle":f),align:h.get("align")||(d==="horizontal"?f:"center"),text:a})}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,i=this._shapes,a=r.itemSize,s=this._orient,o=this._useHandle,l=Nde(r,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new nn;u.add(c),c.add(i.outOfRange=j$()),c.add(i.inRange=j$(null,o?Y$(this._orient):null,Ot(this._dragHandle,this,"all",!1),Ot(this._dragHandle,this,"all",!0))),c.setClipPath(new Pn({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=r.textStyleModel.getTextRect(""),d=jO(f.width,f.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,u,0,a,d,s),this._createHandle(r,u,1,a,d,s)),this._createIndicator(r,u,a,d,s),t.add(u)},e.prototype._createHandle=function(t,r,i,a,s,o){var l=Ot(this._dragHandle,this,i,!1),u=Ot(this._dragHandle,this,i,!0),c=Nf(t.get("handleSize"),a[0]),f=va(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),d=Y$(this._orient);f.attr({cursor:d,draggable:!0,drift:l,ondragend:u,onmousemove:function(y){Rp(y.event)}}),f.x=a[0]/2,f.useStyle(t.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),ly(f,!0),r.add(f);var h=this.visualMapModel.textStyleModel,p=new tr({cursor:d,draggable:!0,drift:l,onmousemove:function(y){Rp(y.event)},ondragend:u,style:ti(h,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var m=[c,0],g=this._shapes;g.handleThumbs[i]=f,g.handleLabelPoints[i]=m,g.handleLabels[i]=p},e.prototype._createIndicator=function(t,r,i,a,s){var o=Nf(t.get("indicatorSize"),i[0]),l=va(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof ps){var c=l.style;l.useStyle(at({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var f=this.visualMapModel.textStyleModel,d=new tr({silent:!0,invisible:!0,style:ti(f,{x:0,y:0,text:""})});this.group.add(d);var h=[(s==="horizontal"?a/2:Bze)+i[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=d,p.indicatorLabelPoint=h,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,i,a){if(this._useHandle){if(this._dragging=!r,!r){var s=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(t,s[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():W$(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),i=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[Ed(r[0],i,a,!0),Ed(r[1],i,a,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var i=this.visualMapModel,a=this._handleEnds,s=[0,i.itemSize[1]];Fv(r,a,s,t,0);var o=i.getExtent();this._dataInterval=[Ed(a[0],s,o,!0),Ed(a[1],s,o,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,i=r.getExtent(),a=this._shapes,s=[0,r.itemSize[1]],o=t?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,o,"inRange"),u=this._createBarVisual(i,i,s,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(o,l)},e.prototype._createBarVisual=function(t,r,i,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,s),l=[this.getControllerVisual(t[0],"symbolSize",s),this.getControllerVisual(t[1],"symbolSize",s)],u=this._createBarPoints(i,l);return{barColor:new Qy(0,0,0,1,o),barPoints:u,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var i=100,a=[],s=(t[1]-t[0])/i;a.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var o=1;o<i;o++){var l=t[0]+s*o;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",r),offset:o/i})}return a.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),a},e.prototype._createBarPoints=function(t,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,i=this.visualMapModel.get("inverse");return new nn(r==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,s=i.handleThumbs,o=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);Oze([0,1],function(f){var d=s[f];d.setStyle("fill",r.handlesColor[f]),d.y=t[f];var h=Ed(t[f],[0,l[1]],u,!0),p=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=p/l[0],d.x=l[0]-p/2;var m=Af(i.handleLabelPoints[f],Ev(d,this.group));if(this._orient==="horizontal"){var g=c==="left"||c==="top"?(l[0]-p)/2:(l[0]-p)/-2;m[1]+=g}o[f].setStyle({x:m[0],y:m[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,i,a){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var d={convertOpacityToAlpha:!0},h=this.getControllerVisual(t,"color",d),p=this.getControllerVisual(t,"symbolSize"),m=Ed(t,o,u,!0),g=l[0]-p/2,y={x:f.x,y:f.y};f.y=m,f.x=g;var _=Af(c.indicatorLabelPoint,Ev(f,this.group)),S=c.indicatorLabel;S.attr("invisible",!1);var A=this._applyTransform("left",c.mainGroup),M=this._orient,E=M==="horizontal";S.setStyle({text:(i||"")+s.formatValueText(r),verticalAlign:E?A:"middle",align:E?"center":A});var D={x:g,y:m,style:{fill:h}},I={style:{x:_[0],y:_[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var N={duration:100,easing:"cubicInOut",additive:!0};f.x=y.x,f.y=y.y,f.animateTo(D,N),S.animateTo(I,N)}else f.attr(D),S.attr(I);this._firstShowIndicator=!1;var L=this._shapes.handleLabels;if(L)for(var B=0;B<L.length;B++)this.api.enterBlur(L[B])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,a=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);a[1]=H$(jO(0,a[1]),i[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var s=[0,a[1]],o=i.getExtent();t=H$(jO(s[0],t),s[1]);var l=Uze(i,o,s),u=[t-l,t+l],c=Ed(t,s,o,!0),f=[Ed(u[0],s,o,!0),Ed(u[1],s,o,!0)];u[0]<s[0]&&(f[0]=-1/0),u[1]>s[1]&&(f[1]=1/0),r&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var d=this._hoverLinkDataIndices,h=[];(r||W$(i))&&(h=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var p=xTe(d,h);this._dispatchHighDown("downplay",ZR(p[0],i)),this._dispatchHighDown("highlight",ZR(p[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(cy(t.target,function(l){var u=fn(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var s=i.getData(r.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),r.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this.api.leaveBlur(r[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",ZR(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,i,a){var s=Ev(r,a?null:this.group);return ft(t)?Af(t,s,i):lL(t,s,i)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e})(Rde);function j$(n,e,t,r){return new ro({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(i){Rp(i.event)},ondragend:r})}function Uze(n,e,t){var r=Fze/2,i=n.get("hoverLinkDataSize");return i&&(r=Ed(i,e,t,!0)/2),r}function W$(n){var e=n.get("hoverLinkOnHandle");return!!(e??n.get("realtime"))}function Y$(n){return n==="vertical"?"ns-resize":"ew-resize"}var Vze={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Gze=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},Hze=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(r){var i=n.pipelineContext;!r.isTargetSeries(n)||i&&i.large||t.push(c8e(r.stateList,r.targetVisuals,Ot(r.getValueState,r),r.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),r=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(n)){var a=i.getVisualMeta(Ot(jze,null,n,i))||{stops:[],outerColors:[]},s=i.getDataDimensionIndex(t);s>=0&&(a.dimension=s,r.push(a))}}),n.getData().setVisual("visualMeta",r)}}];function jze(n,e,t,r){for(var i=e.targetVisuals[r],a=ls.prepareVisualTypes(i),s={color:$A(n.getData(),"color")},o=0,l=a.length;o<l;o++){var u=a[o],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,f,d)}return s.color;function f(h){return s[h]}function d(h,p){s[h]=p}}var q$=ie;function Wze(n){var e=n&&n.visualMap;ft(e)||(e=e?[e]:[]),q$(e,function(t){if(t){Z1(t,"splitList")&&!Z1(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&ft(r)&&q$(r,function(i){on(i)&&(Z1(i,"start")&&!Z1(i,"min")&&(i.min=i.start),Z1(i,"end")&&!Z1(i,"max")&&(i.max=i.end))})}})}function Z1(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var X$=!1;function Ide(n){X$||(X$=!0,n.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),n.registerAction(Vze,Gze),ie(Hze,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(Wze))}function kde(n){n.registerComponentModel(Pze),n.registerComponentView(zze),Ide(n)}var Yze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],qze[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var a=this.option.categories;this.resetVisual(function(s,o){i==="categories"?(s.mappingMethod="category",s.categories=tn(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=ht(this._pieceList,function(l){return l=tn(l),o!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},i=ls.listVisualTypes(),a=this.isCategory();ie(t.pieces,function(o){ie(i,function(l){o.hasOwnProperty(l)&&(r[l]=1)})}),ie(r,function(o,l){var u=!1;ie(this.stateList,function(c){u=u||s(t,c,l)||s(t.target,c,l)},this),!u&&ie(this.stateList,function(c){(t[c]||(t[c]={}))[l]=Dde.get(l,c==="inRange"?"active":"inactive",a)})},this);function s(o,l,u){return o&&o[l]&&o[l].hasOwnProperty(u)}n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var i=this.option,a=this._pieceList,s=(r?i:t).selected||{};if(i.selected=s,ie(a,function(l,u){var c=this.getSelectedMapKey(l);s.hasOwnProperty(c)||(s[c]=!0)},this),i.selectedMode==="single"){var o=!1;ie(a,function(l,u){var c=this.getSelectedMapKey(l);s[c]&&(o?s[c]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=tn(t)},e.prototype.getValueState=function(t){var r=ls.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],i=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(l,u){var c=ls.findPieceIndex(l,i);c===t&&s.push(u)},this),r.push({seriesId:a.id,dataIndex:s})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var i=t.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],i=["",""],a=this;function s(c,f){var d=a.getRepresentValue({interval:c});f||(f=a.getValueState(d));var h=t(d,f);c[0]===-1/0?i[0]=h:c[1]===1/0?i[1]=h:r.push({value:c[0],color:h},{value:c[1],color:h})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var u=-1/0;return ie(o,function(c){var f=c.interval;f&&(f[0]>u&&s([u,f[0]],"outOfRange"),s(f.slice()),u=f[1])},this),{stops:r,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=Qv(pI.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e})(pI),qze={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&n.push({interval:[-1/0,r[0]],close:[0,0]});for(var s=0,o=r[0];s<i;o+=a,s++){var l=s===i-1?r[1]:o+a;n.push({interval:[o,l],close:[1,1]})}e.maxOpen&&n.push({interval:[r[1],1/0],close:[0,0]}),_6(n),ie(n,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(n){var e=this.option;ie(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),Z$(e,n)},pieces:function(n){var e=this.option;ie(e.pieces,function(t,r){on(t)||(t={value:t});var i={text:"",index:r};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var a=i.value=t.value;i.interval=[a,a],i.close=[1,1]}else{for(var s=i.interval=[],o=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var d=[["gte","gt","min"],["lte","lt","max"]][f],h=0;h<3&&s[f]==null;h++)s[f]=t[d[h]],o[f]=l[h],c[f]=h===2;s[f]==null&&(s[f]=u[f])}c[0]&&s[1]===1/0&&(o[0]=0),c[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(i.value=s[0])}i.visual=ls.retrieveVisuals(t),n.push(i)},this),Z$(e,n),_6(n),ie(n,function(t){var r=t.close,i=[["<",""][r[1]],[">",""][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function Z$(n,e){var t=n.inverse;(n.orient==="vertical"?!t:t)&&e.reverse()}var Xze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,i=r.get("textGap"),a=r.textStyleModel,s=this._getItemAlign(),o=r.itemSize,l=this._getViewData(),u=l.endsText,c=Is(r.get("showLabel",!0),!u),f=!r.get("selectedMode");u&&this._renderEndsText(t,u[0],o,c,s),ie(l.viewPieceList,function(d){var h=d.piece,p=new nn;p.onclick=Ot(this._onItemClick,this,h),this._enableHoverLink(p,d.indexInModelPieceList);var m=r.getRepresentValue(h);if(this._createItemSymbol(p,m,[0,0,o[0],o[1]],f),c){var g=this.visualMapModel.getValueState(m),y=a.get("align")||s;p.add(new tr({style:ti(a,{x:y==="right"?-i:o[0]+i,y:o[1]/2,text:h.text,verticalAlign:a.get("verticalAlign")||"middle",align:y,opacity:Wt(a.get("opacity"),g==="outOfRange"?.5:1)}),silent:f}))}t.add(p)},this),u&&this._renderEndsText(t,u[1],o,c,s),Sy(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var i=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=i.visualMapModel;o.option.hoverLink&&i.api.dispatchAction({type:s,batch:ZR(o.findTargetDataIndices(r),o)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return Nde(t,this.api,t.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(t,r,i,a,s){if(r){var o=new nn,l=this.visualMapModel.textStyleModel;o.add(new tr({style:ti(l,{x:a?s==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?s:"center",text:r})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=ht(t.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),i=t.get("text"),a=t.get("orient"),s=t.get("inverse");return(a==="horizontal"?s:!s)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},e.prototype._createItemSymbol=function(t,r,i,a){var s=va(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color"));s.silent=a,t.add(s)},e.prototype._onItemClick=function(t){var r=this.visualMapModel,i=r.option,a=i.selectedMode;if(a){var s=tn(i.selected),o=r.getSelectedMapKey(t);a==="single"||a===!0?(s[o]=!0,ie(s,function(l,u){s[u]=u===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},e.type="visualMap.piecewise",e})(Rde);function Lde(n){n.registerComponentModel(Yze),n.registerComponentView(Xze),Ide(n)}function Zze(n){Nn(kde),Nn(Lde)}var Kze=(function(){function n(e){this._thumbnailModel=e}return n.prototype.reset=function(e){this._renderVersion=e.getMainProcessVersion()},n.prototype.renderContent=function(e){var t=e.api.getViewOfComponentModel(this._thumbnailModel);t&&(e.group.silent=!0,t.renderContent({group:e.group,targetTrans:e.targetTrans,z2Range:ioe(e.group),roamType:e.roamType,viewportRect:e.viewportRect,renderVersion:this._renderVersion}))},n.prototype.updateWindow=function(e,t){var r=t.getViewOfComponentModel(this._thumbnailModel);r&&r.updateWindow({targetTrans:e,renderVersion:this._renderVersion})},n})(),$ze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.optionUpdated=function(t,r){this._updateBridge()},e.prototype._updateBridge=function(){var t=this._birdge=this._birdge||new Kze(this);if(this._target=null,this.ecModel.eachSeries(function(i){_Z(i,null)}),this.shouldShow()){var r=this.getTarget();_Z(r.baseMapProvider,t)}},e.prototype.shouldShow=function(){return this.getShallow("show",!0)},e.prototype.getBridge=function(){return this._birdge},e.prototype.getTarget=function(){if(this._target)return this._target;var t=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return t?t.subType!=="graph"&&(t=null):t=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:t},this._target},e.type="thumbnail",e.layoutMode="box",e.dependencies=["series","geo"],e.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:qe.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:qe.color.neutral30,borderColor:qe.color.neutral40,opacity:.3},z:10},e})(zn),Jze=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this._api=i,this._model=t,this._coordSys||(this._coordSys=new sx),!this._isEnabled()){this._clear();return}this._renderVersion=i.getMainProcessVersion();var a=this.group;a.removeAll();var s=t.getModel("itemStyle"),o=s.getItemStyle();o.fill==null&&(o.fill=r.get("backgroundColor")||qe.color.neutral00);var l=qa(t,i).refContainer,u=wi(Toe(t,!0),l),c=o.lineWidth||0,f=this._contentRect=By(u.clone(),c/2,!0,!0),d=new nn;a.add(d),d.setClipPath(new Pn({shape:f.plain()}));var h=this._targetGroup=new nn;d.add(h);var p=u.plain();p.r=s.getShallow("borderRadius",!0),a.add(this._bgRect=new Pn({style:o,shape:p,silent:!1,cursor:"grab"}));var m=t.getModel("windowStyle"),g=m.getShallow("borderRadius",!0);d.add(this._windowRect=new Pn({shape:{x:0,y:0,width:0,height:0,r:g},style:m.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),$$(t,this)},e.prototype.renderContent=function(t){this._bridgeRendered=t,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),$$(this._model,this))},e.prototype._dealRenderContent=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var r=this._targetGroup,i=this._coordSys,a=this._contentRect;if(r.removeAll(),!!t){var s=t.group,o=s.getBoundingRect();r.add(s),this._bgRect.z2=t.z2Range.min-10,i.setBoundingRect(o.x,o.y,o.width,o.height);var l=wi({left:"center",top:"center",aspect:o.width/o.height},a);i.setViewRect(l.x,l.y,l.width,l.height),s.attr(i.getTransformInfo().raw),this._windowRect.z2=t.z2Range.max+10,this._resetRoamController(t.roamType)}}},e.prototype.updateWindow=function(t){var r=this._bridgeRendered;r&&r.renderVersion===t.renderVersion&&(r.targetTrans=t.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},e.prototype._dealUpdateWindow=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var r=Tc([],t.targetTrans),i=Tf([],this._coordSys.transform,r);this._transThisToTarget=Tc([],i);var a=t.viewportRect;a?a=a.clone():a=new cn(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(i);var s=this._windowRect,o=s.shape.r;s.setShape(sn({r:o},a))}},e.prototype._resetRoamController=function(t){var r=this,i=this._api,a=this._roamController;if(a||(a=this._roamController=new ax(i.getZr())),!t||!this._isEnabled()){a.disable();return}a.enable(t,{api:i,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(s,o,l){return r._contentRect.contain(o,l)}}}),a.off("pan").off("zoom").on("pan",Ot(this._onPan,this)).on("zoom",Ot(this._onZoom,this))},e.prototype._onPan=function(t){var r=this._transThisToTarget;if(!(!this._isEnabled()||!r)){var i=ea([],[t.oldX,t.oldY],r),a=ea([],[t.oldX-t.dx,t.oldY-t.dy],r);this._api.dispatchAction(K$(this._model.getTarget().baseMapProvider,{dx:a[0]-i[0],dy:a[1]-i[1]}))}},e.prototype._onZoom=function(t){var r=this._transThisToTarget;if(!(!this._isEnabled()||!r)){var i=ea([],[t.originX,t.originY],r);this._api.dispatchAction(K$(this._model.getTarget().baseMapProvider,{zoom:1/t.scale,originX:i[0],originY:i[1]}))}},e.prototype._isEnabled=function(){var t=this._model;if(!t||!t.shouldShow())return!1;var r=t.getTarget().baseMapProvider;return!!r},e.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},e.prototype.remove=function(){this._clear()},e.prototype.dispose=function(){this._clear()},e.type="thumbnail",e})(ri);function K$(n,e){var t=n.mainType==="series"?n.subType+"Roam":n.mainType+"Roam",r={type:t};return r[n.mainType+"Id"]=n.id,at(r,e),r}function $$(n,e){var t=zy(n);uL(e.group,t.z,t.zlevel)}function Qze(n){n.registerComponentModel($ze),n.registerComponentView(Jze)}var eUe={label:{enabled:!0},decal:{show:!1}},J$=Un(),tUe={};function nUe(n,e){var t=n.getModel("aria");if(!t.get("enabled"))return;var r=tn(eUe);An(r.label,n.getLocaleModel().get("aria"),!1),An(t.option,r,!1),i(),a();function i(){var u=t.getModel("decal"),c=u.get("show");if(c){var f=jt();n.eachSeries(function(d){if(!d.isColorBySeries()){var h=f.get(d.type);h||(h={},f.set(d.type,h)),J$(d).scope=h}}),n.eachRawSeries(function(d){if(n.isSeriesFiltered(d))return;if(Xt(d.enableAriaDecal)){d.enableAriaDecal();return}var h=d.getData();if(d.isColorBySeries()){var _=V6(d.ecModel,d.name,tUe,n.getSeriesCount()),S=h.getVisual("decal");h.setVisual("decal",A(S,_))}else{var p=d.getRawData(),m={},g=J$(d).scope;h.each(function(M){var E=h.getRawIndex(M);m[E]=M});var y=p.count();p.each(function(M){var E=m[M],D=p.getName(M)||M+"",I=V6(d.ecModel,D,g,y),N=h.getItemVisual(E,"decal");h.setItemVisual(E,"decal",A(N,I))})}function A(M,E){var D=M?at(at({},E),M):E;return D.dirty=!0,D}})}}function a(){var u=e.getZr().dom;if(u){var c=n.getLocaleModel().get("aria"),f=t.getModel("label");if(f.option=sn(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var d=n.getSeriesCount(),h=f.get(["data","maxCount"])||10,p=f.get(["series","maxCount"])||10,m=Math.min(d,p),g;if(!(d<1)){var y=o();if(y){var _=f.get(["general","withTitle"]);g=s(_,{title:y})}else g=f.get(["general","withoutTitle"]);var S=[],A=d>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);g+=s(A,{seriesCount:d}),n.eachSeries(function(I,N){if(N<m){var L=void 0,B=I.get("name"),O=B?"withName":"withoutName";L=d>1?f.get(["series","multiple",O]):f.get(["series","single",O]),L=s(L,{seriesId:I.seriesIndex,seriesName:I.get("name"),seriesType:l(I.subType)});var G=I.getData();if(G.count()>h){var V=f.get(["data","partialData"]);L+=s(V,{displayCnt:h})}else L+=f.get(["data","allData"]);for(var q=f.get(["data","separator","middle"]),W=f.get(["data","separator","end"]),Z=f.get(["data","excludeDimensionId"]),X=[],K=0;K<G.count();K++)if(K<h){var se=G.getName(K),J=Z?vr(G.getValues(K),function(ee,Q){return Cn(Z,Q)===-1}):G.getValues(K),H=f.get(["data",se?"withName":"withoutName"]);X.push(s(H,{name:se,value:J.join(q)}))}L+=X.join(q)+W,S.push(L)}});var M=f.getModel(["series","multiple","separator"]),E=M.get("middle"),D=M.get("end");g+=S.join(E)+D,u.setAttribute("aria-label",g)}}}}function s(u,c){if(!Lt(u))return u;var f=u;return ie(c,function(d,h){f=f.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),d)}),f}function o(){var u=n.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=n.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function rUe(n){if(!(!n||!n.aria)){var e=n.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},ie(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function iUe(n){n.registerPreprocessor(rUe),n.registerVisual(n.PRIORITY.VISUAL.ARIA,nUe)}var Q$={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},aUe=(function(){function n(e){var t=this._condVal=Lt(e)?new RegExp(e):Eae(e)?e:null;if(t==null){var r="";br(r)}}return n.prototype.evaluate=function(e){var t=typeof e;return Lt(t)?this._condVal.test(e):nr(t)?this._condVal.test(e+""):!1},n})(),sUe=(function(){function n(){}return n.prototype.evaluate=function(){return this.value},n})(),oUe=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n})(),lUe=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n})(),uUe=(function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n})(),cUe=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,r=t(this.valueGetterParam),i=e?this.valueParser(r):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:r))return!1;return!0},n})();function h7(n,e){if(n===!0||n===!1){var t=new sUe;return t.value=n,t}var r="";return Pde(n)||br(r),n.and?eJ("and",n,e):n.or?eJ("or",n,e):n.not?fUe(n,e):dUe(n,e)}function eJ(n,e,t){var r=e[n],i="";ft(r)||br(i),r.length||br(i);var a=n==="and"?new oUe:new lUe;return a.children=ht(r,function(s){return h7(s,t)}),a.children.length||br(i),a}function fUe(n,e){var t=n.not,r="";Pde(t)||br(r);var i=new uUe;return i.child=h7(t,e),i.child||br(r),i}function dUe(n,e){for(var t="",r=e.prepareGetValue(n),i=[],a=$n(n),s=n.parser,o=s?Yoe(s):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=Gt(Q$,u)?Q$[u]:u,f=n[u],d=o?o(f):f,h=IMe(c,d)||c==="reg"&&new aUe(d);h||br(t),i.push(h)}}i.length||br(t);var p=new cUe;return p.valueGetterParam=r,p.valueParser=o,p.getValue=e.getValue,p.subCondList=i,p}function Pde(n){return on(n)&&!eo(n)}var hUe=(function(){function n(e,t){this._cond=h7(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n})();function pUe(n,e){return new hUe(n,e)}var vUe={type:"echarts:filter",transform:function(n){for(var e=n.upstream,t,r=pUe(n.config,{valueGetterAttrMap:jt({dimension:!0}),prepareGetValue:function(o){var l="",u=o.dimension;Gt(o,"dimension")||br(l);var c=e.getDimensionInfo(u);return c||br(l),{dimIdx:c.index}},getValue:function(o){return e.retrieveValueFromItem(t,o.dimIdx)}}),i=[],a=0,s=e.count();a<s;a++)t=e.getRawDataItem(a),r.evaluate()&&i.push(t);return{data:i}}},mUe={type:"echarts:sort",transform:function(n){var e=n.upstream,t=n.config,r="",i=ni(t);i.length||br(r);var a=[];ie(i,function(c){var f=c.dimension,d=c.order,h=c.parser,p=c.incomparable;if(f==null&&br(r),d!=="asc"&&d!=="desc"&&br(r),p&&p!=="min"&&p!=="max"){var m="";br(m)}if(d!=="asc"&&d!=="desc"){var g="";br(g)}var y=e.getDimensionInfo(f);y||br(r);var _=h?Yoe(h):null;h&&!_&&br(r),a.push({dimIdx:y.index,parser:_,comparator:new Xoe(d,p)})});var s=e.sourceFormat;s!==Ps&&s!==Nu&&br(r);for(var o=[],l=0,u=e.count();l<u;l++)o.push(e.getRawDataItem(l));return o.sort(function(c,f){for(var d=0;d<a.length;d++){var h=a[d],p=e.retrieveValueFromItem(c,h.dimIdx),m=e.retrieveValueFromItem(f,h.dimIdx);h.parser&&(p=h.parser(p),m=h.parser(m));var g=h.comparator.evaluate(p,m);if(g!==0)return g}return 0}),{data:o}}};function gUe(n){n.registerTransform(vUe),n.registerTransform(mUe)}var yUe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,r,i){n.prototype.init.call(this,t,r,i),this._sourceManager=new Joe(this),IY(this)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),IY(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Mf},e})(zn),xUe=(function(n){Xe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e})(ri);function _Ue(n){n.registerComponentModel(yUe),n.registerComponentView(xUe)}var wd=Jd.CMD;function F_(n,e){return Math.abs(n-e)<1e-5}function nz(n){var e=n.data,t=n.len(),r=[],i,a=0,s=0,o=0,l=0;function u(G,V){i&&i.length>2&&r.push(i),i=[G,V]}function c(G,V,q,W){F_(G,q)&&F_(V,W)||i.push(G,V,q,W,q,W)}function f(G,V,q,W,Z,X){var K=Math.abs(V-G),se=Math.tan(K/4)*4/3,J=V<G?-1:1,H=Math.cos(G),ee=Math.sin(G),Q=Math.cos(V),ne=Math.sin(V),ce=H*Z+q,ve=ee*X+W,xe=Q*Z+q,we=ne*X+W,Ae=Z*se*J,Ue=X*se*J;i.push(ce-Ae*ee,ve+Ue*H,xe+Ae*ne,we-Ue*Q,xe,we)}for(var d,h,p,m,g=0;g<t;){var y=e[g++],_=g===1;switch(_&&(a=e[g],s=e[g+1],o=a,l=s,(y===wd.L||y===wd.C||y===wd.Q)&&(i=[o,l])),y){case wd.M:a=o=e[g++],s=l=e[g++],u(o,l);break;case wd.L:d=e[g++],h=e[g++],c(a,s,d,h),a=d,s=h;break;case wd.C:i.push(e[g++],e[g++],e[g++],e[g++],a=e[g++],s=e[g++]);break;case wd.Q:d=e[g++],h=e[g++],p=e[g++],m=e[g++],i.push(a+2/3*(d-a),s+2/3*(h-s),p+2/3*(d-p),m+2/3*(h-m),p,m),a=p,s=m;break;case wd.A:var S=e[g++],A=e[g++],M=e[g++],E=e[g++],D=e[g++],I=e[g++]+D;g+=1;var N=!e[g++];d=Math.cos(D)*M+S,h=Math.sin(D)*E+A,_?(o=d,l=h,u(o,l)):c(a,s,d,h),a=Math.cos(I)*M+S,s=Math.sin(I)*E+A;for(var L=(N?-1:1)*Math.PI/2,B=D;N?B>I:B<I;B+=L){var O=N?Math.max(B+L,I):Math.min(B+L,I);f(B,O,S,A,M,E)}break;case wd.R:o=a=e[g++],l=s=e[g++],d=o+e[g++],h=l+e[g++],u(d,l),c(d,l,d,h),c(d,h,o,h),c(o,h,o,l),c(o,l,d,l);break;case wd.Z:i&&c(a,s,o,l),a=o,s=l;break}}return i&&i.length>2&&r.push(i),r}function rz(n,e,t,r,i,a,s,o,l,u){if(F_(n,t)&&F_(e,r)&&F_(i,s)&&F_(a,o)){l.push(s,o);return}var c=2/u,f=c*c,d=s-n,h=o-e,p=Math.sqrt(d*d+h*h);d/=p,h/=p;var m=t-n,g=r-e,y=i-s,_=a-o,S=m*m+g*g,A=y*y+_*_;if(S<f&&A<f){l.push(s,o);return}var M=d*m+h*g,E=-d*y-h*_,D=S-M*M,I=A-E*E;if(D<f&&M>=0&&I<f&&E>=0){l.push(s,o);return}var N=[],L=[];Lv(n,t,i,s,.5,N),Lv(e,r,a,o,.5,L),rz(N[0],L[0],N[1],L[1],N[2],L[2],N[3],L[3],l,u),rz(N[4],L[4],N[5],L[5],N[6],L[6],N[7],L[7],l,u)}function bUe(n,e){var t=nz(n),r=[];e=e||1;for(var i=0;i<t.length;i++){var a=t[i],s=[],o=a[0],l=a[1];s.push(o,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],d=a[u++],h=a[u++],p=a[u++],m=a[u++];rz(o,l,c,f,d,h,p,m,s,e),o=p,l=m}r.push(s)}return r}function Ode(n,e,t){var r=n[e],i=n[1-e],a=Math.abs(r/i),s=Math.ceil(Math.sqrt(a*t)),o=Math.floor(t/s);o===0&&(o=1,s=t);for(var l=[],u=0;u<s;u++)l.push(o);var c=s*o,f=t-c;if(f>0)for(var u=0;u<f;u++)l[u%s]+=1;return l}function tJ(n,e,t){for(var r=n.r0,i=n.r,a=n.startAngle,s=n.endAngle,o=Math.abs(s-a),l=o*i,u=i-r,c=l>Math.abs(u),f=Ode([l,u],c?0:1,e),d=(c?o:u)/f.length,h=0;h<f.length;h++)for(var p=(c?u:o)/f[h],m=0;m<f[h];m++){var g={};c?(g.startAngle=a+d*h,g.endAngle=a+d*(h+1),g.r0=r+p*m,g.r=r+p*(m+1)):(g.startAngle=a+p*m,g.endAngle=a+p*(m+1),g.r0=r+d*h,g.r=r+d*(h+1)),g.clockwise=n.clockwise,g.cx=n.cx,g.cy=n.cy,t.push(g)}}function SUe(n,e,t){for(var r=n.width,i=n.height,a=r>i,s=Ode([r,i],a?0:1,e),o=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=n[o]/s.length,d=0;d<s.length;d++)for(var h=n[l]/s[d],p=0;p<s[d];p++){var m={};m[u]=d*f,m[c]=p*h,m[o]=f,m[l]=h,m.x+=n.x,m.y+=n.y,t.push(m)}}function nJ(n,e,t,r){return n*r-t*e}function wUe(n,e,t,r,i,a,s,o){var l=t-n,u=r-e,c=s-i,f=o-a,d=nJ(c,f,l,u);if(Math.abs(d)<1e-6)return null;var h=n-i,p=e-a,m=nJ(h,p,c,f)/d;return m<0||m>1?null:new un(m*l+n,m*u+e)}function TUe(n,e,t){var r=new un;un.sub(r,t,e),r.normalize();var i=new un;un.sub(i,n,e);var a=i.dot(r);return a}function K1(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function CUe(n,e,t){for(var r=n.length,i=[],a=0;a<r;a++){var s=n[a],o=n[(a+1)%r],l=wUe(s[0],s[1],o[0],o[1],e.x,e.y,t.x,t.y);l&&i.push({projPt:TUe(l,e,t),pt:l,idx:a})}if(i.length<2)return[{points:n},{points:n}];i.sort(function(g,y){return g.projPt-y.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var d=[u.pt.x,u.pt.y],h=[c.pt.x,c.pt.y],p=[d],m=[h],a=u.idx+1;a<=c.idx;a++)K1(p,n[a].slice());K1(p,h),K1(p,d);for(var a=c.idx+1;a<=u.idx+r;a++)K1(m,n[a%r].slice());return K1(m,d),K1(m,h),[{points:p},{points:m}]}function rJ(n){var e=n.points,t=[],r=[];rL(e,t,r);var i=new cn(t[0],t[1],r[0]-t[0],r[1]-t[1]),a=i.width,s=i.height,o=i.x,l=i.y,u=new un,c=new un;return a>s?(u.x=c.x=o+a/2,u.y=l,c.y=l+s):(u.y=c.y=l+s/2,u.x=o,c.x=o+a),CUe(e,u,c)}function vI(n,e,t,r){if(t===1)r.push(e);else{var i=Math.floor(t/2),a=n(e);vI(n,a[0],i,r),vI(n,a[1],t-i,r)}return r}function AUe(n,e){for(var t=[],r=0;r<e;r++)t.push(lV(n));return t}function MUe(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function EUe(n){for(var e=[],t=0;t<n.length;)e.push([n[t++],n[t++]]);return e}function DUe(n,e){var t=[],r=n.shape,i;switch(n.type){case"rect":SUe(r,e,t),i=Pn;break;case"sector":tJ(r,e,t),i=no;break;case"circle":tJ({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,t),i=no;break;default:var a=n.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=ht(bUe(n.getUpdatedPathProxy(),s),function(y){return EUe(y)}),l=o.length;if(l===0)vI(rJ,{points:o[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:o[u]});else{var c=0,f=ht(o,function(y){var _=[],S=[];rL(y,_,S);var A=(S[1]-_[1])*(S[0]-_[0]);return c+=A,{poly:y,area:A}});f.sort(function(y,_){return _.area-y.area});for(var d=e,u=0;u<l;u++){var h=f[u];if(d<=0)break;var p=u===l-1?d:Math.ceil(h.area/c*e);p<0||(vI(rJ,{points:h.poly},p,t),d-=p)}}i=ro;break}if(!i)return AUe(n,e);for(var m=[],u=0;u<t.length;u++){var g=new i;g.setShape(t[u]),MUe(n,g),m.push(g)}return m}function RUe(n,e){var t=n.length,r=e.length;if(t===r)return[n,e];for(var i=[],a=[],s=t<r?n:e,o=Math.min(t,r),l=Math.abs(r-t)/6,u=(o-2)/6,c=Math.ceil(l/u)+1,f=[s[0],s[1]],d=l,h=2;h<o;){var p=s[h-2],m=s[h-1],g=s[h++],y=s[h++],_=s[h++],S=s[h++],A=s[h++],M=s[h++];if(d<=0){f.push(g,y,_,S,A,M);continue}for(var E=Math.min(d,c-1)+1,D=1;D<=E;D++){var I=D/E;Lv(p,g,_,A,I,i),Lv(m,y,S,M,I,a),p=i[3],m=a[3],f.push(i[1],a[1],i[2],a[2],p,m),g=i[5],y=a[5],_=i[6],S=a[6]}d-=E-1}return s===n?[f,e]:[n,f]}function iJ(n,e){for(var t=n.length,r=n[t-2],i=n[t-1],a=[],s=0;s<e.length;)a[s++]=r,a[s++]=i;return a}function NUe(n,e){for(var t,r,i,a=[],s=[],o=0;o<Math.max(n.length,e.length);o++){var l=n[o],u=e[o],c=void 0,f=void 0;l?u?(t=RUe(l,u),c=t[0],f=t[1],r=c,i=f):(f=iJ(i||l,l),c=l):(c=iJ(r||u,u),f=u),a.push(c),s.push(f)}return[a,s]}function aJ(n){for(var e=0,t=0,r=0,i=n.length,a=0,s=i-2;a<i;s=a,a+=2){var o=n[s],l=n[s+1],u=n[a],c=n[a+1],f=o*c-u*l;e+=f,t+=(o+u)*f,r+=(l+c)*f}return e===0?[n[0]||0,n[1]||0]:[t/e/3,r/e/3,e]}function IUe(n,e,t,r){for(var i=(n.length-2)/6,a=1/0,s=0,o=n.length,l=o-2,u=0;u<i;u++){for(var c=u*6,f=0,d=0;d<o;d+=2){var h=d===0?c:(c+d-2)%l+2,p=n[h]-t[0],m=n[h+1]-t[1],g=e[d]-r[0],y=e[d+1]-r[1],_=g-p,S=y-m;f+=_*_+S*S}f<a&&(a=f,s=u)}return s}function kUe(n){for(var e=[],t=n.length,r=0;r<t;r+=2)e[r]=n[t-r-2],e[r+1]=n[t-r-1];return e}function LUe(n,e,t,r){for(var i=[],a,s=0;s<n.length;s++){var o=n[s],l=e[s],u=aJ(o),c=aJ(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],d=[],h=0,p=1/0,m=[],g=o.length;a&&(o=kUe(o));for(var y=IUe(o,l,u,c)*6,_=g-2,S=0;S<_;S+=2){var A=(y+S)%_+2;f[S+2]=o[A]-u[0],f[S+3]=o[A+1]-u[1]}f[0]=o[y]-u[0],f[1]=o[y+1]-u[1];for(var M=r/t,E=-r/2;E<=r/2;E+=M){for(var D=Math.sin(E),I=Math.cos(E),N=0,S=0;S<o.length;S+=2){var L=f[S],B=f[S+1],O=l[S]-c[0],G=l[S+1]-c[1],V=O*I-G*D,q=O*D+G*I;m[S]=V,m[S+1]=q;var W=V-L,Z=q-B;N+=W*W+Z*Z}if(N<p){p=N,h=E;for(var X=0;X<m.length;X++)d[X]=m[X]}}i.push({from:f,to:d,fromCp:u,toCp:c,rotation:-h})}return i}function mI(n){return n.__isCombineMorphing}var Fde="__mOriginal_";function gI(n,e,t){var r=Fde+e,i=n[r]||n[e];n[r]||(n[r]=n[e]);var a=t.replace,s=t.after,o=t.before;n[e]=function(){var l=arguments,u;return o&&o.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),s&&s.apply(this,l),u}}function HT(n,e){var t=Fde+e;n[t]&&(n[e]=n[t],n[t]=null)}function sJ(n,e){for(var t=0;t<n.length;t++)for(var r=n[t],i=0;i<r.length;){var a=r[i],s=r[i+1];r[i++]=e[0]*a+e[2]*s+e[4],r[i++]=e[1]*a+e[3]*s+e[5]}}function Bde(n,e){var t=n.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),i=NUe(nz(t),nz(r)),a=i[0],s=i[1],o=n.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}o&&sJ(a,o),l&&sJ(s,l),gI(e,"updateTransform",{replace:u}),e.transform=null;var c=LUe(a,s,10,Math.PI),f=[];gI(e,"buildPath",{replace:function(d){for(var h=e.__morphT,p=1-h,m=[],g=0;g<c.length;g++){var y=c[g],_=y.from,S=y.to,A=y.rotation*h,M=y.fromCp,E=y.toCp,D=Math.sin(A),I=Math.cos(A);NT(m,M,E,h);for(var N=0;N<_.length;N+=2){var L=_[N],B=_[N+1],O=S[N],G=S[N+1],V=L*p+O*h,q=B*p+G*h;f[N]=V*I-q*D+m[0],f[N+1]=V*D+q*I+m[1]}var W=f[0],Z=f[1];d.moveTo(W,Z);for(var N=2;N<_.length;){var O=f[N++],G=f[N++],X=f[N++],K=f[N++],se=f[N++],J=f[N++];W===O&&Z===G&&X===se&&K===J?d.lineTo(se,J):d.bezierCurveTo(O,G,X,K,se,J),W=se,Z=J}}}})}function p7(n,e,t){if(!n||!e)return e;var r=t.done,i=t.during;Bde(n,e),e.__morphT=0;function a(){HT(e,"buildPath"),HT(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},sn({during:function(s){e.dirtyShape(),i&&i(s)},done:function(){a(),r&&r()}},t)),e}function PUe(n,e,t,r,i,a){var s=16;n=i===t?0:Math.round(32767*(n-t)/(i-t)),e=a===r?0:Math.round(32767*(e-r)/(a-r));for(var o=0,l,u=(1<<s)/2;u>0;u/=2){var c=0,f=0;(n&u)>0&&(c=1),(e&u)>0&&(f=1),o+=u*u*(3*c^f),f===0&&(c===1&&(n=u-1-n,e=u-1-e),l=n,n=e,e=l)}return o}function yI(n){var e=1/0,t=1/0,r=-1/0,i=-1/0,a=ht(n,function(o){var l=o.getBoundingRect(),u=o.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),t=Math.min(f,t),r=Math.max(c,r),i=Math.max(f,i),[c,f]}),s=ht(a,function(o,l){return{cp:o,z:PUe(o[0],o[1],e,t,r,i),path:n[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function zde(n){return DUe(n.path,n.count)}function iz(){return{fromIndividuals:[],toIndividuals:[],count:0}}function OUe(n,e,t){var r=[];function i(M){for(var E=0;E<M.length;E++){var D=M[E];mI(D)?i(D.childrenRef()):D instanceof Hn&&r.push(D)}}i(n);var a=r.length;if(!a)return iz();var s=t.dividePath||zde,o=s({path:e,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),iz();r=yI(r),o=yI(o);for(var l=t.done,u=t.during,c=t.individualDelay,f=new fp,d=0;d<a;d++){var h=r[d],p=o[d];p.parent=e,p.copyTransform(f),c||Bde(h,p)}e.__isCombineMorphing=!0,e.childrenRef=function(){return o};function m(M){for(var E=0;E<o.length;E++)o[E].addSelfToZr(M)}gI(e,"addSelfToZr",{after:function(M){m(M)}}),gI(e,"removeSelfFromZr",{after:function(M){for(var E=0;E<o.length;E++)o[E].removeSelfFromZr(M)}});function g(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,HT(e,"addSelfToZr"),HT(e,"removeSelfFromZr")}var y=o.length;if(c)for(var _=y,S=function(){_--,_===0&&(g(),l&&l())},d=0;d<y;d++){var A=c?sn({delay:(t.delay||0)+c(d,y,r[d],o[d]),done:S},t):t;p7(r[d],o[d],A)}else e.__morphT=0,e.animateTo({__morphT:1},sn({during:function(M){for(var E=0;E<y;E++){var D=o[E];D.__morphT=e.__morphT,D.dirtyShape()}u&&u(M)},done:function(){g();for(var M=0;M<n.length;M++)HT(n[M],"updateTransform");l&&l()}},t));return e.__zr&&m(e.__zr),{fromIndividuals:r,toIndividuals:o,count:y}}function FUe(n,e,t){var r=e.length,i=[],a=t.dividePath||zde;function s(h){for(var p=0;p<h.length;p++){var m=h[p];mI(m)?s(m.childrenRef()):m instanceof Hn&&i.push(m)}}if(mI(n)){s(n.childrenRef());var o=i.length;if(o<r)for(var l=0,u=o;u<r;u++)i.push(lV(i[l++%o]));i.length=r}else{i=a({path:n,count:r});for(var c=n.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),iz()}i=yI(i),e=yI(e);for(var f=t.individualDelay,u=0;u<r;u++){var d=f?sn({delay:(t.delay||0)+f(u,r,i[u],e[u])},t):t;p7(i[u],e[u],d)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function oJ(n){return ft(n[0])}function lJ(n,e){for(var t=[],r=n.length,i=0;i<r;i++)t.push({one:n[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,s=void 0;for(s=0;s<a;s++)t[s%r].many.push(e[i][s])}for(var o=0,i=r-1;i>=0;i--)if(!t[i].many.length){var l=t[o].many;if(l.length<=1)if(o)o=0;else return t;var a=l.length,u=Math.ceil(a/2);t[i].many=l.slice(u,a),t[o].many=l.slice(0,u),o++}return t}var BUe={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),r=0;r<n.count;r++){var i=lV(n.path);i.setStyle("opacity",t),e.push(i)}return e},split:null};function WO(n,e,t,r,i,a){if(!n.length||!e.length)return;var s=eS("update",r,i);if(!(s&&s.duration>0))return;var o=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),u,c;oJ(n)&&(u=n,c=e),oJ(e)&&(u=e,c=n);function f(y,_,S,A,M){var E=y.many,D=y.one;if(E.length===1&&!M){var I=_?E[0]:D,N=_?D:E[0];if(mI(I))f({many:[I],one:N},!0,S,A,!0);else{var L=o?sn({delay:o(S,A)},l):l;p7(I,N,L),a(I,N,I,N,L)}}else for(var B=sn({dividePath:BUe[t],individualDelay:o&&function(Z,X,K,se){return o(Z+S,A)}},l),O=_?OUe(E,D,B):FUe(D,E,B),G=O.fromIndividuals,V=O.toIndividuals,q=G.length,W=0;W<q;W++){var L=o?sn({delay:o(W,q)},l):l;a(G[W],V[W],_?E[W]:y.one,_?y.one:E[W],L)}}for(var d=u?u===n:n.length>e.length,h=u?lJ(c,u):lJ(d?e:n,[d?n:e]),p=0,m=0;m<h.length;m++)p+=h[m].many.length;for(var g=0,m=0;m<h.length;m++)f(h[m],d,g,p),g+=h[m].many.length}function qg(n){if(!n)return[];if(ft(n)){for(var e=[],t=0;t<n.length;t++)e.push(qg(n[t]));return e}var r=[];return n.traverse(function(i){i instanceof Hn&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var Ude=1e4,zUe=0,uJ=1,cJ=2,UUe=Un();function VUe(n,e){for(var t=n.dimensions,r=0;r<t.length;r++){var i=n.getDimensionInfo(t[r]);if(i&&i.otherDims[e]===0)return t[r]}}function GUe(n,e,t){var r=n.getDimensionInfo(t),i=r&&r.ordinalMeta;if(r){var a=n.get(r.name,e);return i&&i.categories[a]||a+""}}function fJ(n,e,t,r){var i=r?"itemChildGroupId":"itemGroupId",a=VUe(n,i);if(a){var s=GUe(n,e,a);return s}var o=n.getRawDataItem(e),l=r?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!r)return t||n.getId(e)}function dJ(n){var e=[];return ie(n,function(t){var r=t.data,i=t.dataGroupId;if(!(r.count()>Ude))for(var a=r.getIndices(),s=0;s<a.length;s++)e.push({data:r,groupId:fJ(r,s,i,!1),childGroupId:fJ(r,s,i,!0),divide:t.divide,dataIndex:s})}),e}function YO(n,e,t){n.traverse(function(r){r instanceof Hn&&vi(r,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function qO(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function $1(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function HUe(n,e,t){var r=eS("update",t,e);r&&n.traverse(function(i){if(i instanceof Cc){var a=sAe(i);a&&i.animateFrom({style:a},r)}})}function jUe(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++){var i=n[r],a=e[r];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function Vde(n,e,t){var r=dJ(n),i=dJ(e);function a(S,A,M,E,D){(M||S)&&A.animateFrom({style:M&&M!==S?at(at({},M.style),S.style):S.style},D)}var s=!1,o=zUe,l=jt(),u=jt();r.forEach(function(S){S.groupId&&l.set(S.groupId,!0),S.childGroupId&&u.set(S.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(u.get(f)){o=uJ;break}var d=i[c].childGroupId;if(d&&l.get(d)){o=cJ;break}}function h(S,A){return function(M){var E=M.data,D=M.dataIndex;return A?E.getId(D):S?o===uJ?M.childGroupId:M.groupId:o===cJ?M.childGroupId:M.groupId}}var p=jUe(r,i),m={};if(!p)for(var c=0;c<i.length;c++){var g=i[c],y=g.data.getItemGraphicEl(g.dataIndex);y&&(m[y.id]=!0)}function _(S,A){var M=r[A],E=i[S],D=E.data.hostModel,I=M.data.getItemGraphicEl(M.dataIndex),N=E.data.getItemGraphicEl(E.dataIndex);if(I===N){N&&HUe(N,E.dataIndex,D);return}I&&m[I.id]||N&&($1(N),I?($1(I),qO(I),s=!0,WO(qg(I),qg(N),E.divide,D,S,a)):YO(N,D,S))}new kp(r,i,h(!0,p),h(!1,p),null,"multiple").update(_).updateManyToOne(function(S,A){var M=i[S],E=M.data,D=E.hostModel,I=E.getItemGraphicEl(M.dataIndex),N=vr(ht(A,function(L){return r[L].data.getItemGraphicEl(r[L].dataIndex)}),function(L){return L&&L!==I&&!m[L.id]});I&&($1(I),N.length?(ie(N,function(L){$1(L),qO(L)}),s=!0,WO(qg(N),qg(I),M.divide,D,S,a)):YO(I,D,M.dataIndex))}).updateOneToMany(function(S,A){var M=r[A],E=M.data.getItemGraphicEl(M.dataIndex);if(!(E&&m[E.id])){var D=vr(ht(S,function(N){return i[N].data.getItemGraphicEl(i[N].dataIndex)}),function(N){return N&&N!==E}),I=i[S[0]].data.hostModel;D.length&&(ie(D,function(N){return $1(N)}),E?($1(E),qO(E),s=!0,WO(qg(E),qg(D),M.divide,I,S[0],a)):ie(D,function(N){return YO(N,I,S[0])}))}}).updateManyToMany(function(S,A){new kp(A,S,function(M){return r[M].data.getId(r[M].dataIndex)},function(M){return i[M].data.getId(i[M].dataIndex)}).update(function(M,E){_(S[M],A[E])}).execute()}).execute(),s&&ie(e,function(S){var A=S.data,M=A.hostModel,E=M&&t.getViewOfSeriesModel(M),D=eS("update",M,0);E&&M.isAnimationEnabled()&&D&&D.duration>0&&E.group.traverse(function(I){I instanceof Hn&&!I.animators.length&&I.animateFrom({style:{opacity:0}},D)})})}function hJ(n){var e=n.getModel("universalTransition").get("seriesKey");return e||n.id}function pJ(n){return ft(n)?n.sort().join(","):n}function iv(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function WUe(n,e){var t=jt(),r=jt(),i=jt();return ie(n.oldSeries,function(a,s){var o=n.oldDataGroupIds[s],l=n.oldData[s],u=hJ(a),c=pJ(u);r.set(c,{dataGroupId:o,data:l}),ft(u)&&ie(u,function(f){i.set(f,{key:c,dataGroupId:o,data:l})})}),ie(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),l=hJ(a),u=pJ(l),c=r.get(u);if(c)t.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:iv(c.data),data:c.data}],newSeries:[{dataGroupId:s,divide:iv(o),data:o}]});else if(ft(l)){var f=[];ie(l,function(p){var m=r.get(p);m.data&&f.push({dataGroupId:m.dataGroupId,divide:iv(m.data),data:m.data})}),f.length&&t.set(u,{oldSeries:f,newSeries:[{dataGroupId:s,data:o,divide:iv(o)}]})}else{var d=i.get(l);if(d){var h=t.get(d.key);h||(h={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:iv(d.data)}],newSeries:[]},t.set(d.key,h)),h.newSeries.push({dataGroupId:s,data:o,divide:iv(o)})}}}}),t}function vJ(n,e){for(var t=0;t<n.length;t++){var r=e.seriesIndex!=null&&e.seriesIndex===n[t].seriesIndex||e.seriesId!=null&&e.seriesId===n[t].id;if(r)return t}}function YUe(n,e,t,r){var i=[],a=[];ie(ni(n.from),function(s){var o=vJ(e.oldSeries,s);o>=0&&i.push({dataGroupId:e.oldDataGroupIds[o],data:e.oldData[o],divide:iv(e.oldData[o]),groupIdDim:s.dimension})}),ie(ni(n.to),function(s){var o=vJ(t.updatedSeries,s);if(o>=0){var l=t.updatedSeries[o].getData();a.push({dataGroupId:e.oldDataGroupIds[o],data:l,divide:iv(l),groupIdDim:s.dimension})}}),i.length>0&&a.length>0&&Vde(i,a,r)}function qUe(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){ie(ni(r.seriesTransition),function(i){ie(ni(i.to),function(a){for(var s=r.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][GR]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,r){var i=UUe(t);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a)ie(ni(a),function(h){YUe(h,i,r,t)});else{var s=WUe(i,r);ie(s.keys(),function(h){var p=s.get(h);Vde(p.oldSeries,p.newSeries,t)})}ie(r.updatedSeries,function(h){h[GR]&&(h[GR]=!1)})}for(var o=e.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<o.length;f++){var d=o[f].getData();d.count()<Ude&&(l.push(o[f]),u.push(o[f].get("dataGroupId")),c.push(d))}})}var XUe=(function(){function n(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return n.prototype.setBreaks=function(e){this.breaks=e.breaks},n.prototype.update=function(e){KUe(this,e);var t=this._elapsedExtent;t[0]=this.elapse(e[0]),t[1]=this.elapse(e[1])},n.prototype.hasBreaks=function(){return!!this.breaks.length},n.prototype.calcNiceTickMultiple=function(e,t){for(var r=0;r<this.breaks.length;r++){var i=this.breaks[r];if(i.vmin<e&&e<i.vmax){var a=t(e,i.vmax);return a}}return 0},n.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},n.prototype.normalize=function(e){var t=this._elapsedExtent[1]-this._elapsedExtent[0];return t===0?.5:(this.elapse(e)-this._elapsedExtent[0])/t},n.prototype.scale=function(e){return this.unelapse(e*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},n.prototype.elapse=function(e){for(var t=mJ,r=gJ,i=!0,a=0;a<this.breaks.length;a++){var s=this.breaks[a];if(e<=s.vmax){e>s.vmin?t+=s.vmin-r+(e-s.vmin)/(s.vmax-s.vmin)*s.gapReal:t+=e-r,r=s.vmax,i=!1;break}t+=s.vmin-r+s.gapReal,r=s.vmax}return i&&(t+=e-r),t},n.prototype.unelapse=function(e){for(var t=mJ,r=gJ,i=!0,a=0,s=0;s<this.breaks.length;s++){var o=this.breaks[s],l=t+o.vmin-r,u=l+o.gapReal;if(e<=u){e>l?a=o.vmin+(e-l)/(u-l)*(o.vmax-o.vmin):a=r+e-t,r=o.vmax,i=!1;break}t=u,r=o.vmax}return i&&(a=r+e-t),a},n})();function ZUe(){return new XUe}var mJ=0,gJ=0;function KUe(n,e){var t=0,r={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},i=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:i(),tpPrct:i()},E:{tpAbs:i(),tpPrct:i()}};ie(n.breaks,function(o){var l=o.gapParsed;l.type==="tpPrct"&&(t+=l.val);var u=v7(o,e);if(u){var c=u.vmin!==o.vmin,f=u.vmax!==o.vmax,d=u.vmax-u.vmin;if(!(c&&f))if(c||f){var h=c?"S":"E";a[h][l.type].has=!0,a[h][l.type].span=d,a[h][l.type].inExtFrac=d/(o.vmax-o.vmin),a[h][l.type].val=l.val}else r[l.type].span+=d,r[l.type].val+=l.val}});var s=t*(0+(e[1]-e[0])+(r.tpAbs.val-r.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-r.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-r.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));ie(n.breaks,function(o){var l=o.gapParsed;l.type==="tpPrct"&&(o.gapReal=t!==0?Math.max(s,0)*l.val/t:0),l.type==="tpAbs"&&(o.gapReal=l.val),o.gapReal==null&&(o.gapReal=0)})}function $Ue(n,e,t,r,i,a){n!=="no"&&ie(t,function(s){var o=v7(s,a);if(o)for(var l=e.length-1;l>=0;l--){var u=e[l],c=r(u),f=i*3/4;c>o.vmin-f&&c<o.vmax+f&&(n!=="preserve_extent_bound"||c!==a[0]&&c!==a[1])&&e.splice(l,1)}})}function JUe(n,e,t,r){ie(e,function(i){var a=v7(i,t);a&&(n.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:r?r(a):void 0}),n.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:r?r(a):void 0}))}),e.length&&n.sort(function(i,a){return i.value-a.value})}function v7(n,e){var t=Math.max(n.vmin,e[0]),r=Math.min(n.vmax,e[1]);return t<r||t===r&&t>e[0]&&t<e[1]?{vmin:t,vmax:r,breakOption:n.breakOption,gapParsed:n.gapParsed,gapReal:n.gapReal}:null}function az(n,e,t){var r=[];if(!n)return{breaks:r};function i(s,o){return s>=0&&s<1-1e-5}ie(n,function(s){if(!(!s||s.start==null||s.end==null)&&!s.isExpanded){var o={breakOption:tn(s),vmin:e(s.start),vmax:e(s.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(s.gap!=null){var l=!1;if(Lt(s.gap)){var u=yu(s.gap);if(u.match(/%$/)){var c=parseFloat(u)/100;i(c)||(c=0),o.gapParsed.type="tpPrct",o.gapParsed.val=c,l=!0}}if(!l){var f=e(s.gap);(!isFinite(f)||f<0)&&(f=0),o.gapParsed.type="tpAbs",o.gapParsed.val=f}}if(o.vmin===o.vmax&&(o.gapParsed.type="tpAbs",o.gapParsed.val=0),t&&t.noNegative&&ie(["vmin","vmax"],function(h){o[h]<0&&(o[h]=0)}),o.vmin>o.vmax){var d=o.vmax;o.vmax=o.vmin,o.vmin=d}r.push(o)}}),r.sort(function(s,o){return s.vmin-o.vmin});var a=-1/0;return ie(r,function(s,o){a>s.vmin&&(r[o]=null),a=s.vmax}),{breaks:r.filter(function(s){return!!s})}}function m7(n,e){return sz(e)===sz(n)}function sz(n){return n.start+"_\0_"+n.end}function QUe(n,e,t){var r=[];ie(n,function(a,s){var o=e(a);o&&o.type==="vmin"&&r.push([s])}),ie(n,function(a,s){var o=e(a);if(o&&o.type==="vmax"){var l=Kv(r,function(u){return m7(e(n[u[0]]).parsedBreak.breakOption,o.parsedBreak.breakOption)});l&&l.push(s)}});var i=[];return ie(r,function(a){a.length===2&&i.push(t?a:[n[a[0]],n[a[1]]])}),i}function eVe(n,e,t,r){var i,a;if(n.break){var s=n.break.parsedBreak,o=Kv(t,function(f){return m7(f.breakOption,n.break.parsedBreak.breakOption)}),l=r(Math.pow(e,s.vmin),o.vmin),u=r(Math.pow(e,s.vmax),o.vmax),c={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?da(Math.pow(e,s.vmin+s.gapParsed.val))-l:s.gapParsed.val};i={type:n.break.type,parsedBreak:{breakOption:s.breakOption,vmin:l,vmax:u,gapParsed:c,gapReal:s.gapReal}},a=o[n.break.type]}return{brkRoundingCriterion:a,vBreak:i}}function tVe(n,e,t){var r={noNegative:!0},i=az(n,t,r),a=az(n,t,r),s=Math.log(e);return a.breaks=ht(a.breaks,function(o){var l=Math.log(o.vmin)/s,u=Math.log(o.vmax)/s,c={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Math.log(o.vmin+o.gapParsed.val)/s-l:o.gapParsed.val};return{vmin:l,vmax:u,gapParsed:c,gapReal:o.gapReal,breakOption:o.breakOption}}),{parsedOriginal:i,parsedLogged:a}}var nVe={vmin:"start",vmax:"end"};function rVe(n,e){return e&&(n=n||{},n.break={type:nVe[e.type],start:e.parsedBreak.vmin,end:e.parsedBreak.vmax}),n}function iVe(){AAe({createScaleBreakContext:ZUe,pruneTicksByBreak:$Ue,addBreaksToTicks:JUe,parseAxisBreakOption:az,identifyAxisBreak:m7,serializeAxisBreakIdentifier:sz,retrieveAxisBreakPairs:QUe,getTicksLogTransformBreak:eVe,logarithmicParseBreaksFromOption:tVe,makeAxisLabelFormatterParamBreak:rVe})}var yJ=Un();function aVe(n,e){var t=Kv(n,function(r){return Da().identifyAxisBreak(r.parsedBreak.breakOption,e.breakOption)});return t||n.push(t={zigzagRandomList:[],parsedBreak:e,shouldRemove:!1}),t}function sVe(n){ie(n,function(e){return e.shouldRemove=!0})}function oVe(n){for(var e=n.length-1;e>=0;e--)n[e].shouldRemove&&n.splice(e,1)}function lVe(n,e,t,r,i){var a=t.axis;if(a.scale.isBlank()||!Da())return;var s=Da().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(N){return N.break},!1);if(!s.length)return;var o=t.getModel("breakArea"),l=o.get("zigzagAmplitude"),u=o.get("zigzagMinSpan"),c=o.get("zigzagMaxSpan");u=Math.max(2,u||0),c=Math.max(u,c||0);var f=o.get("expandOnClick"),d=o.get("zigzagZ"),h=o.getModel("itemStyle"),p=h.getItemStyle(),m=p.stroke,g=p.lineWidth,y=p.lineDash,_=p.fill,S=new nn({ignoreModelZ:!0}),A=a.isHorizontal(),M=yJ(e).visualList||(yJ(e).visualList=[]);sVe(M);for(var E=function(N){var L=s[N][0].break.parsedBreak,B=[];B[0]=a.toGlobalCoord(a.dataToCoord(L.vmin,!0)),B[1]=a.toGlobalCoord(a.dataToCoord(L.vmax,!0)),B[1]<B[0]&&B.reverse();var O=aVe(M,L);O.shouldRemove=!1;var G=new nn;I(O.zigzagRandomList,G,B[0],B[1],A,L),f&&G.on("click",function(){var V={type:_L,breaks:[{start:L.breakOption.start,end:L.breakOption.end}]};V[a.dim+"AxisIndex"]=t.componentIndex,i.dispatchAction(V)}),G.silent=!f,S.add(G)},D=0;D<s.length;D++)E(D);n.add(S),oVe(M);function I(N,L,B,O,G,V){var q={stroke:m,lineWidth:g,lineDash:y,fill:"none"},W=G?0:1,Z=1-W,X=r[gn[Z]]+r[Na[Z]];function K(pt){var te=[],oe=[];te[W]=oe[W]=pt,te[Z]=r[gn[Z]],oe[Z]=X;var ge={x1:te[0],y1:te[1],x2:oe[0],y2:oe[1]};return aL(ge,ge,{lineWidth:1}),te[0]=ge.x1,te[1]=ge.y1,te[W]}B=K(B),O=K(O);for(var se=[],J=[],H=!0,ee=r[gn[Z]],Q=0;;Q++){var ne=ee===r[gn[Z]],ce=ee>=X;ce&&(ee=X);var ve=[],xe=[];ve[W]=B,xe[W]=O,!ne&&!ce&&(ve[W]+=H?-l:l,xe[W]-=H?l:-l),ve[Z]=ee,xe[Z]=ee,se.push(ve),J.push(xe);var we=void 0;if(Q<N.length?we=N[Q]:(we=Math.random(),N.push(we)),ee+=we*(c-u)+u,H=!H,ce)break}var Ae=Da().serializeAxisBreakIdentifier(V.breakOption);if(L.add(new Ls({anid:"break_a_"+Ae,shape:{points:se},style:q,z:d})),V.gapReal!==0){L.add(new Ls({anid:"break_b_"+Ae,shape:{points:J},style:q,z:d}));var Ue=J.slice();Ue.reverse();var pe=se.concat(Ue);L.add(new ro({anid:"break_c_"+Ae,shape:{points:pe},style:{fill:_,opacity:p.opacity},z:d}))}}}function uVe(n,e,t,r){var i=n.axis,a=t.transform;to(r.style);var s=i.getExtent();i.inverse&&(s=s.slice(),s.reverse());var o=Da().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(g){return g.break},!1),l=ht(o,function(g){var y=g[0].break.parsedBreak,_=[i.dataToCoord(y.vmin,!0),i.dataToCoord(y.vmax,!0)];return _[0]>_[1]&&_.reverse(),{coordPair:_,brkId:Da().serializeAxisBreakIdentifier(y.breakOption)}});l.sort(function(g,y){return g.coordPair[0]-y.coordPair[0]});for(var u=s[0],c=null,f=0;f<l.length;f++){var d=l[f],h=Math.max(d.coordPair[0],s[0]),p=Math.min(d.coordPair[1],s[1]);u<=h&&m(u,h,c,d),u=p,c=d}u<=s[1]&&m(u,s[1],c,null);function m(g,y,_,S){function A(B,O){a&&(ea(B,B,a),ea(O,O,a))}function M(B,O){var G={x1:B[0],y1:B[1],x2:O[0],y2:O[1]};aL(G,G,r.style),B[0]=G.x1,B[1]=G.y1,O[0]=G.x2,O[1]=G.y2}var E=[g,0],D=[y,0],I=[g,5],N=[y,5];A(E,I),M(E,I),A(D,N),M(D,N),M(E,D);var L=new ha(at({shape:{x1:E[0],y1:E[1],x2:D[0],y2:D[1]}},r));e.add(L),L.anid="breakLine_"+(_?_.brkId:"\0")+"_\0_"+(S?S.brkId:"\0")}}function cVe(n,e,t){if(Kv(t,function(_){return!_}))return;var r=new un;if(!yL(t[0],t[1],r,{direction:-(n?e+Math.PI:e),touchThreshold:0,bidirectional:!1}))return;var i=os();Wp(i,i,-e);var a=ht(t,function(_){return _.transform?Tf(os(),i,_.transform):i});function s(_){var S=t[0].localRect,A=new un(S[Na[_]]*a[0][0],S[Na[_]]*a[0][1]);return Math.abs(A.y)<1e-5}var o=.5;if(s(0)||s(1)){var l=ht(t,function(_,S){var A=_.localRect.clone();return A.applyTransform(a[S]),A}),u=new un;u.copy(t[0].label).add(t[1].label).scale(.5),u.transform(i);var c=r.clone().transform(i),f=l[0].x+l[1].x+(c.x>=0?l[0].width:l[1].width),d=(f+c.x)/2-u.x,h=Math.min(d,d-c.x),p=Math.max(d,d-c.x),m=p<0?p:h>0?h:0;o=(d-m)/c.x}var g=new un,y=new un;un.scale(g,r,-o),un.scale(y,r,1-o),o8(t[0],g),o8(t[1],y)}function fVe(n,e){var t={breaks:[]};return ie(e.breaks,function(r){if(r){var i=Kv(n.get("breaks",!0),function(o){return Da().identifyAxisBreak(o,r)});if(i){var a=e.type,s={isExpanded:!!i.isExpanded};i.isExpanded=a===_L?!0:a===lce?!1:a===uce?!i.isExpanded:i.isExpanded,t.breaks.push({start:i.start,end:i.end,isExpanded:!!i.isExpanded,old:s})}}}),t}function dVe(){oIe({adjustBreakLabelPair:cVe,buildAxisBreakLine:uVe,rectCoordBuildBreakAxis:lVe,updateModelAxisBreak:fVe})}function hVe(n){hIe(n),iVe(),dVe()}function pVe(){LIe(vVe)}function vVe(n,e){ie(n,function(t){if(!t.model.get(["axisLabel","inside"])){var r=mVe(t);if(r){var i=t.isHorizontal()?"height":"width",a=t.model.get(["axisLabel","margin"]);e[i]-=r[i]+a,t.position==="top"?e.y+=r.height+a:t.position==="left"&&(e.x+=r.width+a)}}})}function mVe(n){var e=n.model,t=n.scale;if(!e.get(["axisLabel","show"])||t.isBlank())return;var r,i,a=t.getExtent();t instanceof bb?i=t.count():(r=t.getTicks(),i=r.length);var s=n.getLabelModel(),o=cS(n),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=r?r[c]:{value:a[0]+c},d=o(f,c),h=s.getTextRect(d),p=m(h,s.get("rotate")||0);l?l.union(p):l=p}return l;function m(g,y){var _=y*Math.PI/180,S=g.width,A=g.height,M=S*Math.abs(Math.cos(_))+Math.abs(A*Math.sin(_)),E=S*Math.abs(Math.sin(_))+Math.abs(A*Math.cos(_)),D=new cn(g.x,g.y,M,E);return D}}Nn([aNe]);Nn([eNe]);Nn([CNe,UNe,KNe,QIe,cke,Qke,ALe,uPe,RPe,FPe,HPe,$Pe,j4e,p5e,C5e,V5e,W5e,tOe,lOe,xOe,COe,POe,xFe]);Nn(BFe);Nn(uBe);Nn(Pce);Nn(bBe);Nn(bfe);Nn(CBe);Nn(WBe);Nn(e6e);Nn(U6e);Nn(a8e);Nn(iM);Nn(b8e);Nn(T8e);Nn(L8e);Nn(G8e);Nn(X8e);Nn(eze);Nn(cze);Nn(Dze);Nn(Mde);Nn(Ede);Nn(Zze);Nn(kde);Nn(Lde);Nn(Qze);Nn(iUe);Nn(gUe);Nn(_Ue);Nn(qUe);Nn(_Re);Nn(hVe);Nn(pVe);Nn(eke);const gVe=Object.freeze(Object.defineProperty({__proto__:null,Axis:Nc,ChartView:Fr,ComponentModel:zn,ComponentView:ri,List:Lo,Model:Gn,PRIORITY:Dle,SeriesModel:Yr,color:ywe,connect:w3e,dataTool:N3e,dependencies:a3e,disConnect:T3e,disconnect:Fle,dispose:C3e,env:Zn,extendChartView:aRe,extendComponentModel:nRe,extendComponentView:rRe,extendSeriesModel:iRe,format:VDe,getCoordinateSystemDimensions:M3e,getInstanceByDom:YV,getInstanceById:A3e,getMap:R3e,graphic:UDe,helper:IDe,init:S3e,innerDrawElementOnCanvas:GV,matrix:q2e,number:BDe,parseGeoJSON:a8,parseGeoJson:a8,registerAction:Of,registerCoordinateSystem:Ule,registerCustomSeries:E3e,registerLayout:Vle,registerLoading:$V,registerLocale:xV,registerMap:Gle,registerPostInit:Ble,registerPostUpdate:zle,registerPreprocessor:XV,registerProcessor:ZV,registerTheme:qV,registerTransform:Hle,registerUpdateLifecycle:gL,registerVisual:em,setCanvasCreator:D3e,setPlatformAPI:Tae,throttle:vL,time:zDe,use:Nn,util:GDe,vector:I2e,version:i3e,zrUtil:C2e,zrender:eTe},Symbol.toStringTag,{value:"Module"}));var jh={},Wh={},XO={},xJ;function yVe(){return xJ||(xJ=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=1,t=function(){return"".concat(e++)};n.default=t})(XO)),XO}var Fw={},Bw={},ZO={},_J;function Gde(){return _J||(_J=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=null;return function(){for(var s=this,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];clearTimeout(a),a=setTimeout(function(){r.apply(s,l)},i)}};n.default=e})(ZO)),ZO}var Yh={},bJ;function g7(){if(bJ)return Yh;bJ=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.SizeSensorId=Yh.SensorTabIndex=Yh.SensorClassName=void 0;var n="size-sensor-id";Yh.SizeSensorId=n;var e="size-sensor-object";Yh.SensorClassName=e;var t="-1";return Yh.SensorTabIndex=t,Yh}var SJ;function xVe(){if(SJ)return Bw;SJ=1,Object.defineProperty(Bw,"__esModule",{value:!0}),Bw.createSensor=void 0;var n=t(Gde()),e=g7();function t(i){return i&&i.__esModule?i:{default:i}}var r=function(a,s){var o=void 0,l=[],u=function(){getComputedStyle(a).position==="static"&&(a.style.position="relative");var m=document.createElement("object");return m.onload=function(){m.contentDocument.defaultView.addEventListener("resize",c),c()},m.style.display="block",m.style.position="absolute",m.style.top="0",m.style.left="0",m.style.height="100%",m.style.width="100%",m.style.overflow="hidden",m.style.pointerEvents="none",m.style.zIndex="-1",m.style.opacity="0",m.setAttribute("class",e.SensorClassName),m.setAttribute("tabindex",e.SensorTabIndex),m.type="text/html",a.appendChild(m),m.data="about:blank",m},c=(0,n.default)(function(){l.forEach(function(p){p(a)})}),f=function(m){o||(o=u()),l.indexOf(m)===-1&&l.push(m)},d=function(){o&&o.parentNode&&(o.contentDocument&&o.contentDocument.defaultView.removeEventListener("resize",c),o.parentNode.removeChild(o),a.removeAttribute(e.SizeSensorId),o=void 0,l=[],s&&s())},h=function(m){var g=l.indexOf(m);g!==-1&&l.splice(g,1),l.length===0&&o&&d()};return{element:a,bind:f,destroy:d,unbind:h}};return Bw.createSensor=r,Bw}var zw={},wJ;function _Ve(){if(wJ)return zw;wJ=1,Object.defineProperty(zw,"__esModule",{value:!0}),zw.createSensor=void 0;var n=g7(),e=t(Gde());function t(i){return i&&i.__esModule?i:{default:i}}var r=function(a,s){var o=void 0,l=[],u=(0,e.default)(function(){l.forEach(function(p){p(a)})}),c=function(){var m=new ResizeObserver(u);return m.observe(a),u(),m},f=function(m){o||(o=c()),l.indexOf(m)===-1&&l.push(m)},d=function(){o.disconnect(),l=[],o=void 0,a.removeAttribute(n.SizeSensorId),s&&s()},h=function(m){var g=l.indexOf(m);g!==-1&&l.splice(g,1),l.length===0&&o&&d()};return{element:a,bind:f,destroy:d,unbind:h}};return zw.createSensor=r,zw}var TJ;function bVe(){if(TJ)return Fw;TJ=1,Object.defineProperty(Fw,"__esModule",{value:!0}),Fw.createSensor=void 0;var n=xVe(),e=_Ve(),t=typeof ResizeObserver<"u"?e.createSensor:n.createSensor;return Fw.createSensor=t,Fw}var CJ;function SVe(){if(CJ)return Wh;CJ=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.removeSensor=Wh.getSensor=Wh.Sensors=void 0;var n=r(yVe()),e=bVe(),t=g7();function r(l){return l&&l.__esModule?l:{default:l}}var i={};Wh.Sensors=i;function a(l){l&&i[l]&&delete i[l]}var s=function(u){var c=u.getAttribute(t.SizeSensorId);if(c&&i[c])return i[c];var f=(0,n.default)();u.setAttribute(t.SizeSensorId,f);var d=(0,e.createSensor)(u,function(){return a(f)});return i[f]=d,d};Wh.getSensor=s;var o=function(u){var c=u.element.getAttribute(t.SizeSensorId);u.destroy(),a(c)};return Wh.removeSensor=o,Wh}var AJ;function wVe(){if(AJ)return jh;AJ=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.ver=jh.clear=jh.bind=void 0;var n=SVe(),e=function(a,s){var o=(0,n.getSensor)(a);return o.bind(s),function(){o.unbind(s)}};jh.bind=e;var t=function(a){var s=(0,n.getSensor)(a);(0,n.removeSensor)(s)};jh.clear=t;var r="1.0.2";return jh.ver=r,jh}var MJ=wVe();function EJ(n,e){var t={};return e.forEach(function(r){t[r]=n[r]}),t}function KO(n){return typeof n=="function"}function DJ(n){return typeof n=="string"}var $O,RJ;function TVe(){return RJ||(RJ=1,$O=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!==0;){var s=a[i];if(!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}),$O}var CVe=TVe();const J1=Yb(CVe);var AVe=(function(n){Sae(e,n);function e(t){var r=n.call(this,t)||this;return r.echarts=t.echarts,r.ele=null,r.isInitialResize=!0,r}return e.prototype.componentDidMount=function(){this.renderNewEcharts()},e.prototype.componentDidUpdate=function(t){var r=this.props.shouldSetOption;if(!(KO(r)&&!r(t,this.props))){if(!J1(t.theme,this.props.theme)||!J1(t.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var i=this.getEchartsInstance();J1(t.onEvents,this.props.onEvents)||(this.offEvents(i,t.onEvents),this.bindEvents(i,this.props.onEvents));var a=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];J1(EJ(this.props,a),EJ(t,a))||this.updateEChartsOption(),(!J1(t.style,this.props.style)||!J1(t.className,this.props.className))&&this.resize()}},e.prototype.componentWillUnmount=function(){this.dispose()},e.prototype.initEchartsInstance=function(){return Gj(this,void 0,void 0,function(){var t=this;return Hj(this,function(r){return[2,new Promise(function(i){t.echarts.init(t.ele,t.props.theme,t.props.opts);var a=t.getEchartsInstance();a.on("finished",function(){var s=t.ele.clientWidth,o=t.ele.clientHeight;t.echarts.dispose(t.ele);var l=ET({width:s,height:o},t.props.opts);i(t.echarts.init(t.ele,t.props.theme,l))})})]})})},e.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},e.prototype.dispose=function(){if(this.ele){try{MJ.clear(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},e.prototype.renderNewEcharts=function(){return Gj(this,void 0,void 0,function(){var t,r,i,a,s,o,l=this;return Hj(this,function(u){switch(u.label){case 0:return t=this.props,r=t.onEvents,i=t.onChartReady,a=t.autoResize,s=a===void 0?!0:a,[4,this.initEchartsInstance()];case 1:return u.sent(),o=this.updateEChartsOption(),this.bindEvents(o,r||{}),KO(i)&&i(o),this.ele&&s&&MJ.bind(this.ele,function(){l.resize()}),[2]}})})},e.prototype.bindEvents=function(t,r){function i(s,o){DJ(s)&&KO(o)&&t.on(s,function(l){o(l,t)})}for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&i(a,r[a])},e.prototype.offEvents=function(t,r){if(r)for(var i in r)DJ(i)&&t.off(i,r[i])},e.prototype.updateEChartsOption=function(){var t=this.props,r=t.option,i=t.notMerge,a=i===void 0?!1:i,s=t.replaceMerge,o=s===void 0?null:s,l=t.lazyUpdate,u=l===void 0?!1:l,c=t.showLoading,f=t.loadingOption,d=f===void 0?null:f,h=this.getEchartsInstance();return h.setOption(r,{notMerge:a,replaceMerge:o,lazyUpdate:u}),c?h.showLoading(d):h.hideLoading(),h},e.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize({width:"auto",height:"auto"})}catch(r){console.warn(r)}this.isInitialResize=!1},e.prototype.render=function(){var t=this,r=this.props,i=r.style,a=r.className,s=a===void 0?"":a;r.echarts,r.option,r.theme,r.notMerge,r.replaceMerge,r.lazyUpdate,r.showLoading,r.loadingOption,r.opts,r.onChartReady,r.onEvents,r.shouldSetOption,r.autoResize;var o=o2e(r,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"]),l=ET({height:300},i);return Dr.createElement("div",ET({ref:function(u){t.ele=u},style:l,className:"echarts-for-react ".concat(s)},o))},e})(de.PureComponent),MVe=(function(n){Sae(e,n);function e(t){var r=n.call(this,t)||this;return r.echarts=gVe,r}return e})(AVe);const Hde=({title:n,type:e,data:t,isEmpty:r,onConnect:i,onTitleChange:a})=>{const[s,o]=Dr.useState(!1),[l,u]=Dr.useState(n);Dr.useEffect(()=>{u(n)},[n]);const c=()=>{o(!1),l.trim()!==n&&a?a(l.trim()):u(n)};if(r)return C.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-dashed border-gray-300 shadow-sm flex flex-col items-center justify-center h-full min-h-[300px] hover:bg-gray-50 transition-colors cursor-pointer group",onClick:i,children:[C.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-100 transition-colors",children:C.jsx(eae,{size:24,className:"text-gray-400 group-hover:text-blue-500"})}),C.jsx("span",{className:"text-sm font-medium text-gray-500 group-hover:text-blue-600",children:"Connect Data Source"})]});const f=()=>{const h=t||{categories:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],values:[120,200,150,80,70,110,130]},p={title:{text:n,left:"center",textStyle:{fontSize:14,fontWeight:"normal",color:"#6b7280"},show:!1},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:h.categories,axisLine:{lineStyle:{color:"#e5e7eb"}},axisLabel:{color:"#6b7280"}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#f3f4f6"}},axisLabel:{color:"#6b7280"}},series:[{data:h.values,type:e,smooth:!0,itemStyle:{color:"#3b82f6"},areaStyle:e==="line"?{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(59, 130, 246, 0.3)"},{offset:1,color:"rgba(59, 130, 246, 0)"}]}}:void 0}]};return e==="pie"?{...p,tooltip:{trigger:"item"},xAxis:void 0,yAxis:void 0,grid:void 0,series:[{name:n,type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"}},data:h.values.map((m,g)=>({value:m,name:h.categories[g]}))}]}:p};return C.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm h-full min-h-[300px] flex flex-col",children:[C.jsx("div",{className:"flex justify-center mb-2",children:s?C.jsx("input",{type:"text",value:l,onChange:d=>u(d.target.value),onBlur:c,onKeyDown:d=>d.key==="Enter"&&c(),className:"text-sm font-normal text-gray-900 text-center border-b border-blue-500 outline-none bg-transparent",autoFocus:!0}):C.jsx("h3",{className:"text-sm font-normal text-gray-500 cursor-text hover:text-blue-600 transition-colors text-center",onClick:()=>{a&&o(!0)},children:n})}),C.jsx("div",{className:"flex-1 w-full h-full",children:C.jsx(MVe,{option:f(),style:{height:"100%",width:"100%"}})})]})},Xl=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:a,placeholderTitle:s="Department Analytics",placeholderDescription:o='Manage your department data and analytics here. Use the "Insert" menu to add custom tables and charts.',defaultStats:l=[]})=>{var D,I,N,L,B;const[u,c]=de.useState(null),[f,d]=de.useState("select-table"),[h,p]=de.useState(null),[m,g]=de.useState({}),y=()=>{if(n.includes("/analytics")){const O=n.replace("/analytics","/data");return(e[O]||[]).filter(V=>V.type==="custom-table")}return[]},_=O=>{c(O),d("select-table"),p(null),g({})},S=O=>{p(O),d("configure");const G=y().find(V=>V.id===O);if(G){const V=G.columns.find(W=>W.type==="text"),q=G.columns.find(W=>W.type==="number");g({xAxisColumn:(V==null?void 0:V.id)||"",yAxisColumn:(q==null?void 0:q.id)||"",aggregation:"count"})}},A=()=>{if(u&&h){const O=y().find(G=>G.id===h);i&&i(u,{sourceTableId:h,title:(O==null?void 0:O.title)||"Connected Widget",config:m,subtext:m.aggregation==="sum"?"Total Value":"Count of records",trend:{value:"+12.5%",direction:"up"}})}c(null)},M=()=>y().find(O=>O.id===h),E=()=>t.find(O=>O.id===u);return t.filter(O=>O.type==="chart").length,C.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50/50 overflow-y-auto relative",children:[u&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-200 animate-in zoom-in-95 duration-200 flex flex-col max-h-[80vh]",children:[C.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[C.jsx("h3",{className:"font-semibold text-gray-800",children:f==="select-table"?"Select Data Source":"Configure Data"}),C.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:C.jsx(Sv,{size:18,className:"rotate-45"})})]}),C.jsx("div",{className:"p-0 overflow-y-auto flex-1",children:f==="select-table"?C.jsx("div",{className:"p-2",children:y().length===0?C.jsxs("div",{className:"p-8 text-center flex flex-col items-center text-gray-500",children:[C.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:C.jsx(yy,{size:24,className:"text-gray-400"})}),C.jsx("p",{className:"font-medium",children:"No tables found"}),C.jsx("p",{className:"text-sm mt-1",children:"Create a table in the Data section first."})]}):C.jsx("div",{className:"space-y-1",children:y().map(O=>{var G;return C.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-blue-50 rounded-lg group transition-colors flex items-center justify-between border border-transparent hover:border-blue-100",onClick:()=>S(O.id),children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center mr-3 group-hover:bg-blue-200 transition-colors",children:C.jsx(kU,{size:16})}),C.jsxs("div",{children:[C.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:O.title||"Untitled Table"}),C.jsxs("div",{className:"text-xs text-gray-500",children:[((G=O.rows)==null?void 0:G.length)||0," records"]})]})]}),C.jsx("div",{className:"opacity-0 group-hover:opacity-100 text-blue-600 transition-opacity",children:C.jsx(Zd,{size:16})})]},O.id)})})}):C.jsxs("div",{className:"p-6 space-y-6",children:[((D=E())==null?void 0:D.type)==="chart"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X Axis (Category)"}),C.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:m.xAxisColumn,onChange:O=>g({...m,xAxisColumn:O.target.value}),children:[C.jsx("option",{value:"",children:"Select Column..."}),(I=M())==null?void 0:I.columns.map(O=>C.jsx("option",{value:O.id,children:O.name},O.id))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y Axis (Value)"}),C.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:m.yAxisColumn,onChange:O=>g({...m,yAxisColumn:O.target.value}),children:[C.jsx("option",{value:"",children:"Select Column..."}),(N=M())==null?void 0:N.columns.map(O=>C.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),((L=E())==null?void 0:L.type)==="kpi-card"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metric"}),C.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:m.aggregation,onChange:O=>g({...m,aggregation:O.target.value}),children:[C.jsx("option",{value:"count",children:"Count of Records"}),C.jsx("option",{value:"sum",children:"Sum of Column"}),C.jsx("option",{value:"avg",children:"Average of Column"})]})]}),m.aggregation!=="count"&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Column"}),C.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:m.yAxisColumn,onChange:O=>g({...m,yAxisColumn:O.target.value}),children:[C.jsx("option",{value:"",children:"Select Column..."}),(B=M())==null?void 0:B.columns.filter(O=>O.type==="number").map(O=>C.jsx("option",{value:O.id,children:O.name},O.id))]})]})]})]})}),C.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 text-xs text-gray-500 flex justify-between items-center",children:f==="select-table"?C.jsxs(C.Fragment,{children:[C.jsx("span",{children:"Select a table to link."}),C.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>c(null),children:"Cancel"})]}):C.jsxs(C.Fragment,{children:[C.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>d("select-table"),children:"Back"}),C.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",onClick:A,children:"Finish"})]})})]})}),C.jsxs("div",{className:"p-8 w-full overflow-x-auto",children:[C.jsx("div",{className:"grid grid-cols-12 gap-4 min-w-[1000px] grid-auto-rows-[minmax(175px,auto)]",children:t.map(O=>{const G=t.filter(q=>q.type==="chart").map(q=>q.id),V=G.length;if(O.type==="custom-table")return C.jsx("div",{className:"col-span-12",children:C.jsx(_ae,{...O,onDelete:()=>r&&r(O.id),onRenameTable:q=>i&&i(O.id,{title:q}),onRenameColumn:(q,W)=>{const Z=O.columns.map(X=>X.id===q?{...X,name:W}:X);i&&i(O.id,{columns:Z})},onAddColumn:()=>{const q={id:Math.random().toString(36).substr(2,9),name:"New Column",type:"text",width:150};i&&i(O.id,{columns:[...O.columns,q]})},onUpdateColumnType:(q,W)=>{const Z=O.columns.map(X=>X.id===q?{...X,type:W}:X);i&&i(O.id,{columns:Z})},onDeleteColumn:q=>{const W=O.columns.filter(Z=>Z.id!==q);i&&i(O.id,{columns:W})},onUpdateColumnColor:(q,W)=>{const Z=O.columns.map(X=>X.id===q?{...X,color:W}:X);i&&i(O.id,{columns:Z})},onUpdateRow:(q,W)=>{const Z=O.rows||[],X=Z.some(se=>se.id===q);let K;X?K=Z.map(se=>se.id===q?{...se,data:W}:se):K=[...Z,{id:q,data:W}],i&&i(O.id,{rows:K})}})},O.id);if(O.type==="kpi-card"){const W={DollarSign:Iy,Users:mp,ShoppingBag:IU,Activity:yy}[O.icon]||yy;let Z=O.value;if(O.sourceTableId){const se=n.replace("/analytics","/data"),H=(e[se]||[]).find(ee=>ee.id===O.sourceTableId);if(H){const ee=O.config||{aggregation:"count"};if(ee.aggregation==="count")Z=(H.rows||[]).length.toString();else if(ee.aggregation==="sum"&&ee.yAxisColumn)Z=(H.rows||[]).reduce((ne,ce)=>{const ve=parseFloat(ce.data[ee.yAxisColumn])||0;return ne+ve},0).toLocaleString();else if(ee.aggregation==="avg"&&ee.yAxisColumn){const Q=H.rows||[];Q.length>0?Z=(Q.reduce((ce,ve)=>{const xe=parseFloat(ve.data[ee.yAxisColumn])||0;return ce+xe},0)/Q.length).toFixed(1):Z="0"}else Z=(H.rows||[]).length.toString()}}const X=O.layoutGroup&&O.layoutPosition<=4;let K={};return X&&(K={1:{gridColumn:"1 / 4",gridRow:"1"},2:{gridColumn:"4 / 7",gridRow:"1"},3:{gridColumn:"1 / 4",gridRow:"2"},4:{gridColumn:"4 / 7",gridRow:"2"}}[O.layoutPosition]),C.jsxs("div",{className:`relative group w-full h-full ${X?"":"col-span-3"}`,style:X?K:{},children:[C.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:C.jsx("button",{onClick:()=>r&&r(O.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:C.jsx(Sv,{size:12})})}),C.jsx(bae,{title:O.title,value:Z,icon:W,trend:O.trend,subtext:O.subtext,isEmpty:!O.value&&!O.sourceTableId,onConnect:()=>_(O.id),onTitleChange:se=>i&&i(O.id,{title:se})})]},O.id)}if(O.type==="chart"){let q=null;if(O.sourceTableId){const se=n.replace("/analytics","/data"),H=(e[se]||[]).find(ee=>ee.id===O.sourceTableId);if(H&&H.rows&&H.rows.length>0){const ee=O.config||{},Q=ee.xAxisColumn,ne=ee.yAxisColumn,ce=H.columns||[],ve=Q?ce.find(we=>we.id===Q):ce.find(we=>we.type==="text"),xe=ne?ce.find(we=>we.id===ne):ce.find(we=>we.type==="number");if(ve){const we=H.rows.map(Ue=>Ue.data[ve.id]||"Unknown");let Ae;xe?Ae=H.rows.map(Ue=>parseFloat(Ue.data[xe.id])||0):Ae=H.rows.map(()=>1),q={categories:we,values:Ae}}}}const W=V>=3?4:6,Z=O.id===G[0],X=O.layoutGroup&&O.layoutPosition===5;let K={};return X?K={gridColumn:"7 / 13",gridRow:"1 / 3"}:Z&&V>=3?K={gridColumn:`1 / span ${W}`}:K={gridColumn:`span ${W} / span ${W}`},C.jsxs("div",{className:`row-span-2 min-h-[350px] relative group transition-all duration-300 ${Z&&V>=3&&!X?"col-start-1":""}`,style:K,children:[C.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:C.jsx("button",{onClick:()=>r&&r(O.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:C.jsx(Sv,{size:12})})}),C.jsx(Hde,{title:O.title,type:O.chartType||"bar",data:q,isEmpty:!O.sourceTableId,onConnect:()=>_(O.id),onTitleChange:se=>i&&i(O.id,{title:se})})]},O.id)}return null})}),t.length===0&&C.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a&&C.jsx("div",{className:"bg-indigo-50 p-6 rounded-full mb-6",children:Dr.isValidElement(a)?Dr.cloneElement(a,{className:"text-indigo-600",size:48}):a}),C.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s}),C.jsx("p",{className:"text-gray-500 max-w-md mb-8",children:o}),l.length>0&&C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:l.map((O,G)=>C.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("span",{className:"text-gray-500 text-sm font-medium",children:O.label}),C.jsx(O.icon,{className:O.color,size:20})]}),C.jsx("div",{className:"text-3xl font-bold text-gray-900",children:O.value})]},G))})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jde=1252,EVe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],y7={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},x7=function(n){EVe.indexOf(n)!=-1&&(jde=y7[0]=n)};function DVe(){x7(1252)}var _f=function(n){x7(n)};function Wde(){_f(1200),DVe()}function NJ(n){for(var e=[],t=0,r=n.length;t<r;++t)e[t]=n.charCodeAt(t);return e}function RVe(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t)+(n.charCodeAt(2*t+1)<<8));return e.join("")}function Yde(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}var xT=function(n){var e=n.charCodeAt(0),t=n.charCodeAt(1);return e==255&&t==254?RVe(n.slice(2)):e==254&&t==255?Yde(n.slice(2)):e==65279?n.slice(1):n},gD=function(e){return String.fromCharCode(e)},IJ=function(e){return String.fromCharCode(e)},QC,gv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function kJ(n){for(var e="",t=0,r=0,i=0,a=0,s=0,o=0,l=0,u=0;u<n.length;)t=n.charCodeAt(u++),a=t>>2,r=n.charCodeAt(u++),s=(t&3)<<4|r>>4,i=n.charCodeAt(u++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=gv.charAt(a)+gv.charAt(s)+gv.charAt(o)+gv.charAt(l);return e}function Cu(n){var e="",t=0,r=0,i=0,a=0,s=0,o=0,l=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)a=gv.indexOf(n.charAt(u++)),s=gv.indexOf(n.charAt(u++)),t=a<<2|s>>4,e+=String.fromCharCode(t),o=gv.indexOf(n.charAt(u++)),r=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=gv.indexOf(n.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var Or=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),ox=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Uv(n){return Or?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function LJ(n){return Or?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var gf=function(e){return Or?ox(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function lx(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function _7(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return _7(new Uint8Array(n));for(var e=new Array(n.length),t=0;t<n.length;++t)e[t]=n[t];return e}var ov=Or?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:ox(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function NVe(n){for(var e=[],t=0,r=n.length+250,i=Uv(n.length+255),a=0;a<n.length;++a){var s=n.charCodeAt(a);if(s<128)i[t++]=s;else if(s<2048)i[t++]=192|s>>6&31,i[t++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=n.charCodeAt(++a)&1023;i[t++]=240|s>>8&7,i[t++]=128|s>>2&63,i[t++]=128|o>>6&15|(s&3)<<4,i[t++]=128|o&63}else i[t++]=224|s>>12&15,i[t++]=128|s>>6&63,i[t++]=128|s&63;t>r&&(e.push(i.slice(0,t)),t=0,i=Uv(65535),r=65530)}return e.push(i.slice(0,t)),ov(e)}var yl=/\u0000/g,_T=/[\u0001-\u0006]/g;function tb(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function bf(n,e){var t=""+n;return t.length>=e?t:ca("0",e-t.length)+t}function b7(n,e){var t=""+n;return t.length>=e?t:ca(" ",e-t.length)+t}function xI(n,e){var t=""+n;return t.length>=e?t:t+ca(" ",e-t.length)}function IVe(n,e){var t=""+Math.round(n);return t.length>=e?t:ca("0",e-t.length)+t}function kVe(n,e){var t=""+n;return t.length>=e?t:ca("0",e-t.length)+t}var PJ=Math.pow(2,32);function Q1(n,e){if(n>PJ||n<-PJ)return IVe(n,e);var t=Math.round(n);return kVe(t,e)}function _I(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var OJ=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],JO=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function LVe(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var Qn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},FJ={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},PVe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function bI(n,e,t){for(var r=n<0?-1:1,i=n*r,a=0,s=1,o=0,l=1,u=0,c=0,f=Math.floor(i);u<e&&(f=Math.floor(i),o=f*s+a,c=f*u+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=u,u=c;if(c>e&&(u>e?(c=l,o=a):(c=u,o=s)),!t)return[0,r*o,c];var d=Math.floor(r*o/c);return[d,r*o-d*c,c]}function yv(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),a=0,s=[],o={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)s=t?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=t?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),t&&(a=VVe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var qde=new Date(1899,11,31,0,0,0),OVe=qde.getTime(),FVe=new Date(1900,2,1,0,0,0);function Xde(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=FVe&&(t+=1440*60*1e3),(t-(OVe+(n.getTimezoneOffset()-qde.getTimezoneOffset())*6e4))/(1440*60*1e3)}function S7(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function BVe(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function zVe(n){var e=n<0?12:11,t=S7(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function UVe(n){var e=S7(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function eA(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=zVe(n):e===10?t=n.toFixed(10).substr(0,12):t=UVe(n),S7(BVe(t.toUpperCase()))}function jy(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):eA(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Au(14,Xde(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function VVe(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function GVe(n,e,t,r){var i="",a=0,s=0,o=t.y,l,u=0;switch(n){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,u=e.length;break;case 3:return JO[t.m-1][1];case 5:return JO[t.m-1][0];default:return JO[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,u=e.length;break;case 3:return OJ[t.q][0];default:return OJ[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?bf(t.S,e.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(t.S+t.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=bf(a,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?bf(l,u):"";return c}function xv(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var Zde=/%/g;function HVe(n,e,t){var r=e.replace(Zde,""),i=e.length-r.length;return wp(n,r,t*Math.pow(10,2*i))+ca("%",i)}function jVe(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return wp(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function Kde(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Kde(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),t.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var $de=/# (\?+)( ?)\/( ?)(\d+)/;function WVe(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),a=Math.floor(i/r),s=i-a*r,o=r;return t+(a===0?"":""+a)+" "+(s===0?ca(" ",n[1].length+1+n[4].length):b7(s,n[1].length)+n[2]+"/"+n[3]+bf(o,n[4].length))}function YVe(n,e,t){return t+(e===0?"":""+e)+ca(" ",n[1].length+2+n[4].length)}var Jde=/^#*0*\.([0#]+)/,Qde=/\).*[0#]/,ehe=/\(###\) ###\\?-####/;function fl(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function BJ(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function zJ(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function qVe(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function XVe(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function ac(n,e,t){if(n.charCodeAt(0)===40&&!e.match(Qde)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ac("n",r,t):"("+ac("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return jVe(n,e,t);if(e.indexOf("%")!==-1)return HVe(n,e,t);if(e.indexOf("E")!==-1)return Kde(e,t);if(e.charCodeAt(0)===36)return"$"+ac(n,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Q1(l,e.length);if(e.match(/^[#?]+$/))return i=Q1(t,0),i==="0"&&(i=""),i.length>e.length?i:fl(e.substr(0,e.length-i.length))+i;if(a=e.match($de))return WVe(a,l,u);if(e.match(/^#+0+$/))return u+Q1(l,e.length-e.indexOf("0"));if(a=e.match(Jde))return i=BJ(t,a[1].length).replace(/^([^\.]+)$/,"$1."+fl(a[1])).replace(/\.$/,"."+fl(a[1])).replace(/\.(\d*)$/,function(p,m){return"."+m+ca("0",fl(a[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+BJ(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+xv(Q1(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ac(n,e,-t):xv(""+(Math.floor(t)+qVe(t,a[1].length)))+"."+bf(zJ(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return ac(n,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=tb(ac(n,e.replace(/[\\-]/g,""),t)),s=0,tb(tb(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<i.length?i.charAt(s++):p==="0"?"0":""}));if(e.match(ehe))return i=ac(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=bI(l,Math.pow(10,s)-1,!1),i=""+u,c=wp("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=xI(o[2],s),c.length<a[4].length&&(c=fl(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=bI(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?b7(o[1],s)+a[2]+"/"+a[3]+xI(o[2],s):ca(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Q1(t,0),e.length<=i.length?i:fl(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return fl(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=zJ(t,a[1].length),t<0?"-"+ac(n,e,-t):xv(XVe(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?bf(0,3-p.length):"")+p})+"."+bf(s,a[1].length);switch(e){case"###,##0.00":return ac(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var h=xv(Q1(l,0));return h!=="0"?u+h:"";case"###,###.00":return ac(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return ac(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function ZVe(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return wp(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function KVe(n,e,t){var r=e.replace(Zde,""),i=e.length-r.length;return wp(n,r,t*Math.pow(10,2*i))+ca("%",i)}function the(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+the(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!t.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Dd(n,e,t){if(n.charCodeAt(0)===40&&!e.match(Qde)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Dd("n",r,t):"("+Dd("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return ZVe(n,e,t);if(e.indexOf("%")!==-1)return KVe(n,e,t);if(e.indexOf("E")!==-1)return the(e,t);if(e.charCodeAt(0)===36)return"$"+Dd(n,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+bf(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:fl(e.substr(0,e.length-i.length))+i;if(a=e.match($de))return YVe(a,l,u);if(e.match(/^#+0+$/))return u+bf(l,e.length-e.indexOf("0"));if(a=e.match(Jde))return i=(""+t).replace(/^([^\.]+)$/,"$1."+fl(a[1])).replace(/\.$/,"."+fl(a[1])),i=i.replace(/\.(\d*)$/,function(p,m){return"."+m+ca("0",fl(a[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+xv(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Dd(n,e,-t):xv(""+t)+"."+ca("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Dd(n,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=tb(Dd(n,e.replace(/[\\-]/g,""),t)),s=0,tb(tb(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<i.length?i.charAt(s++):p==="0"?"0":""}));if(e.match(ehe))return i=Dd(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=bI(l,Math.pow(10,s)-1,!1),i=""+u,c=wp("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=xI(o[2],s),c.length<a[4].length&&(c=fl(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=bI(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?b7(o[1],s)+a[2]+"/"+a[3]+xI(o[2],s):ca(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:fl(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return fl(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Dd(n,e,-t):xv(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?bf(0,3-p.length):"")+p})+"."+bf(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=xv(""+l);return h!=="0"?u+h:"";default:if(e.match(/\.[0#?]*$/))return Dd(n,e.slice(0,e.lastIndexOf(".")),t)+fl(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function wp(n,e,t){return(t|0)===t?Dd(n,e,t):ac(n,e,t)}function $Ve(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var nhe=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ux(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":_I(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(nhe))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function JVe(n,e,t,r){for(var i=[],a="",s=0,o="",l="t",u,c,f,d="H";s<n.length;)switch(o=n.charAt(s)){case"G":if(!_I(n,s))throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=n.charCodeAt(++s))!==34&&s<n.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var h=n.charAt(++s),p=h==="("||h===")"?h:"t";i[i.length]={t:p,v:h},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(n.charAt(s+1)==="1"||n.charAt(s+1)==="2"){if(u==null&&(u=yv(e,t,n.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:n.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=yv(e,t),u==null))return"";for(a=o;++s<n.length&&n.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(u==null&&(u=yv(e,t)),n.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",d="h",s+=3):n.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",s+=5,d="h"):n.substr(s,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",s+=5,d="h"):(m.t="t",++s),u==null&&m.t==="T")return"";i[i.length]=m,l=o;break;case"[":for(a=o;n.charAt(s++)!=="]"&&s<n.length;)a+=n.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(nhe)){if(u==null&&(u=yv(e,t),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",ux(n)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<n.length&&(o=n.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<n.length&&"0#?.,E+-%".indexOf(o=n.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;n.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(n.charAt(s)==" "||n.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<n.length&&"0123456789".indexOf(n.charAt(++s))>-1;)a+=n.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"t",v:o},++s;break}var g=0,y=0,_;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=d,l="h",g<1&&(g=1);break;case"s":(_=i[s].v.match(/\.0+$/))&&(y=Math.max(y,_[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&i[s].v.match(/[Hh]/)&&(g=1),g<2&&i[s].v.match(/[Mm]/)&&(g=2),g<3&&i[s].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",A;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=GVe(i[s].t.charCodeAt(0),i[s].v,u,y),i[s].t="t";break;case"n":case"?":for(A=s+1;i[A]!=null&&((o=i[A].t)==="?"||o==="D"||(o===" "||o==="t")&&i[A+1]!=null&&(i[A+1].t==="?"||i[A+1].t==="t"&&i[A+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[A].v==="/"||i[A].v===" "&&i[A+1]!=null&&i[A+1].t=="?"));)i[s].v+=i[A].v,i[A]={v:"",t:";"},++A;S+=i[s].v,s=A-1;break;case"G":i[s].t="t",i[s].v=jy(e,t);break}var M="",E,D;if(S.length>0){S.charCodeAt(0)==40?(E=e<0&&S.charCodeAt(0)===45?-e:e,D=wp("n",S,E)):(E=e<0&&r>1?-e:e,D=wp("n",S,E),E<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),A=D.length-1;var I=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){I=s;break}var N=i.length;if(I===i.length&&D.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(A>=i[s].v.length-1?(A-=i[s].v.length,i[s].v=D.substr(A+1,i[s].v.length)):A<0?i[s].v="":(i[s].v=D.substr(0,A+1),A=-1),i[s].t="t",N=s);A>=0&&N<i.length&&(i[N].v=D.substr(0,A+1)+i[N].v)}else if(I!==i.length&&D.indexOf("E")===-1){for(A=D.indexOf(".")-1,s=I;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(c=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")-1:i[s].v.length-1,M=i[s].v.substr(c+1);c>=0;--c)A>=0&&(i[s].v.charAt(c)==="0"||i[s].v.charAt(c)==="#")&&(M=D.charAt(A--)+M);i[s].v=M,i[s].t="t",N=s}for(A>=0&&N<i.length&&(i[N].v=D.substr(0,A+1)+i[N].v),A=D.indexOf(".")+1,s=I;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==I)){for(c=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")+1:0,M=i[s].v.substr(0,c);c<i[s].v.length;++c)A<D.length&&(M+=D.charAt(A++));i[s].v=M,i[s].t="t",N=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(E=r>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=wp(i[s].t,i[s].v,E),i[s].t="t");var L="";for(s=0;s!==i.length;++s)i[s]!=null&&(L+=i[s].v);return L}var UJ=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function VJ(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function QVe(n,e){var t=$Ve(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match(UJ),o=t[1].match(UJ);return VJ(e,s)?[r,t[0]]:VJ(e,o)?[r,t[1]]:[r,t[s!=null&&o!=null?2:1]]}return[r,a]}function Au(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:Qn)[n],r==null&&(r=t.table&&t.table[FJ[n]]||Qn[FJ[n]]),r==null&&(r=PVe[n]||"General");break}if(_I(r,0))return jy(e,t);e instanceof Date&&(e=Xde(e,t.date1904));var i=QVe(r,e);if(_I(i[1]))return jy(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return JVe(i[1],e,t,i[0])}function Tp(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Qn[t]==null){e<0&&(e=t);continue}if(Qn[t]==n){e=t;break}}e<0&&(e=391)}return Qn[e]=n,e}function e9e(n){for(var e=0;e!=392;++e)n[e]!==void 0&&Tp(n[e],e)}function rhe(){Qn=LVe()}var ihe={format:Au,load:Tp,_table:Qn,load_table:e9e,parse_date_code:yv,is_date:ux,get_table:function(){return ihe._table=Qn}},t9e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},ahe=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function n9e(n){var e=typeof n=="number"?Qn[n]:n;return e=e.replace(ahe,"(\\d+)"),new RegExp("^"+e+"$")}function r9e(n,e,t){var r=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(ahe)||[]).forEach(function(f,d){var h=parseInt(t[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=h;break;case"d":a=h;break;case"h":s=h;break;case"s":l=h;break;case"m":s>=0?o=h:i=h;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:r==-1&&i==-1&&a==-1?c:u+"T"+c}var i9e=(function(){var n={};n.version="1.2.0";function e(){for(var D=0,I=new Array(256),N=0;N!=256;++N)D=N,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,I[N]=D;return typeof Int32Array<"u"?new Int32Array(I):I}var t=e();function r(D){var I=0,N=0,L=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)B[L]=D[L];for(L=0;L!=256;++L)for(N=D[L],I=256+L;I<4096;I+=256)N=B[I]=N>>>8^D[N&255];var O=[];for(L=1;L!=16;++L)O[L-1]=typeof Int32Array<"u"?B.subarray(L*256,L*256+256):B.slice(L*256,L*256+256);return O}var i=r(t),a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],f=i[6],d=i[7],h=i[8],p=i[9],m=i[10],g=i[11],y=i[12],_=i[13],S=i[14];function A(D,I){for(var N=I^-1,L=0,B=D.length;L<B;)N=N>>>8^t[(N^D.charCodeAt(L++))&255];return~N}function M(D,I){for(var N=I^-1,L=D.length-15,B=0;B<L;)N=S[D[B++]^N&255]^_[D[B++]^N>>8&255]^y[D[B++]^N>>16&255]^g[D[B++]^N>>>24]^m[D[B++]]^p[D[B++]]^h[D[B++]]^d[D[B++]]^f[D[B++]]^c[D[B++]]^u[D[B++]]^l[D[B++]]^o[D[B++]]^s[D[B++]]^a[D[B++]]^t[D[B++]];for(L+=15;B<L;)N=N>>>8^t[(N^D[B++])&255];return~N}function E(D,I){for(var N=I^-1,L=0,B=D.length,O=0,G=0;L<B;)O=D.charCodeAt(L++),O<128?N=N>>>8^t[(N^O)&255]:O<2048?(N=N>>>8^t[(N^(192|O>>6&31))&255],N=N>>>8^t[(N^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,G=D.charCodeAt(L++)&1023,N=N>>>8^t[(N^(240|O>>8&7))&255],N=N>>>8^t[(N^(128|O>>2&63))&255],N=N>>>8^t[(N^(128|G>>6&15|(O&3)<<4))&255],N=N>>>8^t[(N^(128|G&63))&255]):(N=N>>>8^t[(N^(224|O>>12&15))&255],N=N>>>8^t[(N^(128|O>>6&63))&255],N=N>>>8^t[(N^(128|O&63))&255]);return~N}return n.table=t,n.bstr=A,n.buf=M,n.str=E,n})(),zr=(function(){var e={};e.version="1.2.1";function t(ye,Me){for(var Ce=ye.split("/"),Te=Me.split("/"),Ee=0,Ne=0,et=Math.min(Ce.length,Te.length);Ee<et;++Ee){if(Ne=Ce[Ee].length-Te[Ee].length)return Ne;if(Ce[Ee]!=Te[Ee])return Ce[Ee]<Te[Ee]?-1:1}return Ce.length-Te.length}function r(ye){if(ye.charAt(ye.length-1)=="/")return ye.slice(0,-1).indexOf("/")===-1?ye:r(ye.slice(0,-1));var Me=ye.lastIndexOf("/");return Me===-1?ye:ye.slice(0,Me+1)}function i(ye){if(ye.charAt(ye.length-1)=="/")return i(ye.slice(0,-1));var Me=ye.lastIndexOf("/");return Me===-1?ye:ye.slice(Me+1)}function a(ye,Me){typeof Me=="string"&&(Me=new Date(Me));var Ce=Me.getHours();Ce=Ce<<6|Me.getMinutes(),Ce=Ce<<5|Me.getSeconds()>>>1,ye.write_shift(2,Ce);var Te=Me.getFullYear()-1980;Te=Te<<4|Me.getMonth()+1,Te=Te<<5|Me.getDate(),ye.write_shift(2,Te)}function s(ye){var Me=ye.read_shift(2)&65535,Ce=ye.read_shift(2)&65535,Te=new Date,Ee=Ce&31;Ce>>>=5;var Ne=Ce&15;Ce>>>=4,Te.setMilliseconds(0),Te.setFullYear(Ce+1980),Te.setMonth(Ne-1),Te.setDate(Ee);var et=Me&31;Me>>>=5;var xt=Me&63;return Me>>>=6,Te.setHours(Me),Te.setMinutes(xt),Te.setSeconds(et<<1),Te}function o(ye){Xs(ye,0);for(var Me={},Ce=0;ye.l<=ye.length-4;){var Te=ye.read_shift(2),Ee=ye.read_shift(2),Ne=ye.l+Ee,et={};switch(Te){case 21589:Ce=ye.read_shift(1),Ce&1&&(et.mtime=ye.read_shift(4)),Ee>5&&(Ce&2&&(et.atime=ye.read_shift(4)),Ce&4&&(et.ctime=ye.read_shift(4))),et.mtime&&(et.mt=new Date(et.mtime*1e3));break}ye.l=Ne,Me[Te]=et}return Me}var l;function u(){return l||(l={})}function c(ye,Me){if(ye[0]==80&&ye[1]==75)return Dt(ye,Me);if((ye[0]|32)==109&&(ye[1]|32)==105)return Br(ye,Me);if(ye.length<512)throw new Error("CFB file size "+ye.length+" < 512");var Ce=3,Te=512,Ee=0,Ne=0,et=0,xt=0,tt=0,rt=[],st=ye.slice(0,512);Xs(st,0);var It=f(st);switch(Ce=It[0],Ce){case 3:Te=512;break;case 4:Te=4096;break;case 0:if(It[1]==0)return Dt(ye,Me);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ce)}Te!==512&&(st=ye.slice(0,Te),Xs(st,28));var Pt=ye.slice(0,Te);d(st,Ce);var he=st.read_shift(4,"i");if(Ce===3&&he!==0)throw new Error("# Directory Sectors: Expected 0 saw "+he);st.l+=4,et=st.read_shift(4,"i"),st.l+=4,st.chk("00100000","Mini Stream Cutoff Size: "),xt=st.read_shift(4,"i"),Ee=st.read_shift(4,"i"),tt=st.read_shift(4,"i"),Ne=st.read_shift(4,"i");for(var Re=-1,ze=0;ze<109&&(Re=st.read_shift(4,"i"),!(Re<0));++ze)rt[ze]=Re;var He=h(ye,Te);g(tt,Ne,He,Te,rt);var Ge=_(He,et,rt,Te);Ge[et].name="!Directory",Ee>0&&xt!==G&&(Ge[xt].name="!MiniFAT"),Ge[rt[0]].name="!FAT",Ge.fat_addrs=rt,Ge.ssz=Te;var At={},Ft=[],qt=[],Kt=[];S(et,Ge,He,Ft,Ee,At,qt,xt),p(qt,Kt,Ft),Ft.shift();var yn={FileIndex:qt,FullPaths:Kt};return Me&&Me.raw&&(yn.raw={header:Pt,sectors:He}),yn}function f(ye){if(ye[ye.l]==80&&ye[ye.l+1]==75)return[0,0];ye.chk(V,"Header Signature: "),ye.l+=16;var Me=ye.read_shift(2,"u");return[ye.read_shift(2,"u"),Me]}function d(ye,Me){var Ce=9;switch(ye.l+=2,Ce=ye.read_shift(2)){case 9:if(Me!=3)throw new Error("Sector Shift: Expected 9 saw "+Ce);break;case 12:if(Me!=4)throw new Error("Sector Shift: Expected 12 saw "+Ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ce)}ye.chk("0600","Mini Sector Shift: "),ye.chk("000000000000","Reserved: ")}function h(ye,Me){for(var Ce=Math.ceil(ye.length/Me)-1,Te=[],Ee=1;Ee<Ce;++Ee)Te[Ee-1]=ye.slice(Ee*Me,(Ee+1)*Me);return Te[Ce-1]=ye.slice(Ce*Me),Te}function p(ye,Me,Ce){for(var Te=0,Ee=0,Ne=0,et=0,xt=0,tt=Ce.length,rt=[],st=[];Te<tt;++Te)rt[Te]=st[Te]=Te,Me[Te]=Ce[Te];for(;xt<st.length;++xt)Te=st[xt],Ee=ye[Te].L,Ne=ye[Te].R,et=ye[Te].C,rt[Te]===Te&&(Ee!==-1&&rt[Ee]!==Ee&&(rt[Te]=rt[Ee]),Ne!==-1&&rt[Ne]!==Ne&&(rt[Te]=rt[Ne])),et!==-1&&(rt[et]=Te),Ee!==-1&&Te!=rt[Te]&&(rt[Ee]=rt[Te],st.lastIndexOf(Ee)<xt&&st.push(Ee)),Ne!==-1&&Te!=rt[Te]&&(rt[Ne]=rt[Te],st.lastIndexOf(Ne)<xt&&st.push(Ne));for(Te=1;Te<tt;++Te)rt[Te]===Te&&(Ne!==-1&&rt[Ne]!==Ne?rt[Te]=rt[Ne]:Ee!==-1&&rt[Ee]!==Ee&&(rt[Te]=rt[Ee]));for(Te=1;Te<tt;++Te)if(ye[Te].type!==0){if(xt=Te,xt!=rt[xt])do xt=rt[xt],Me[Te]=Me[xt]+"/"+Me[Te];while(xt!==0&&rt[xt]!==-1&&xt!=rt[xt]);rt[Te]=-1}for(Me[0]+="/",Te=1;Te<tt;++Te)ye[Te].type!==2&&(Me[Te]+="/")}function m(ye,Me,Ce){for(var Te=ye.start,Ee=ye.size,Ne=[],et=Te;Ce&&Ee>0&&et>=0;)Ne.push(Me.slice(et*O,et*O+O)),Ee-=O,et=ry(Ce,et*4);return Ne.length===0?ns(0):ov(Ne).slice(0,ye.size)}function g(ye,Me,Ce,Te,Ee){var Ne=G;if(ye===G){if(Me!==0)throw new Error("DIFAT chain shorter than expected")}else if(ye!==-1){var et=Ce[ye],xt=(Te>>>2)-1;if(!et)return;for(var tt=0;tt<xt&&(Ne=ry(et,tt*4))!==G;++tt)Ee.push(Ne);g(ry(et,Te-4),Me-1,Ce,Te,Ee)}}function y(ye,Me,Ce,Te,Ee){var Ne=[],et=[];Ee||(Ee=[]);var xt=Te-1,tt=0,rt=0;for(tt=Me;tt>=0;){Ee[tt]=!0,Ne[Ne.length]=tt,et.push(ye[tt]);var st=Ce[Math.floor(tt*4/Te)];if(rt=tt*4&xt,Te<4+rt)throw new Error("FAT boundary crossed: "+tt+" 4 "+Te);if(!ye[st])break;tt=ry(ye[st],rt)}return{nodes:Ne,data:$J([et])}}function _(ye,Me,Ce,Te){var Ee=ye.length,Ne=[],et=[],xt=[],tt=[],rt=Te-1,st=0,It=0,Pt=0,he=0;for(st=0;st<Ee;++st)if(xt=[],Pt=st+Me,Pt>=Ee&&(Pt-=Ee),!et[Pt]){tt=[];var Re=[];for(It=Pt;It>=0;){Re[It]=!0,et[It]=!0,xt[xt.length]=It,tt.push(ye[It]);var ze=Ce[Math.floor(It*4/Te)];if(he=It*4&rt,Te<4+he)throw new Error("FAT boundary crossed: "+It+" 4 "+Te);if(!ye[ze]||(It=ry(ye[ze],he),Re[It]))break}Ne[Pt]={nodes:xt,data:$J([tt])}}return Ne}function S(ye,Me,Ce,Te,Ee,Ne,et,xt){for(var tt=0,rt=Te.length?2:0,st=Me[ye].data,It=0,Pt=0,he;It<st.length;It+=128){var Re=st.slice(It,It+128);Xs(Re,64),Pt=Re.read_shift(2),he=M7(Re,0,Pt-rt),Te.push(he);var ze={name:he,type:Re.read_shift(1),color:Re.read_shift(1),L:Re.read_shift(4,"i"),R:Re.read_shift(4,"i"),C:Re.read_shift(4,"i"),clsid:Re.read_shift(16),state:Re.read_shift(4,"i"),start:0,size:0},He=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);He!==0&&(ze.ct=A(Re,Re.l-8));var Ge=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);Ge!==0&&(ze.mt=A(Re,Re.l-8)),ze.start=Re.read_shift(4,"i"),ze.size=Re.read_shift(4,"i"),ze.size<0&&ze.start<0&&(ze.size=ze.type=0,ze.start=G,ze.name=""),ze.type===5?(tt=ze.start,Ee>0&&tt!==G&&(Me[tt].name="!StreamData")):ze.size>=4096?(ze.storage="fat",Me[ze.start]===void 0&&(Me[ze.start]=y(Ce,ze.start,Me.fat_addrs,Me.ssz)),Me[ze.start].name=ze.name,ze.content=Me[ze.start].data.slice(0,ze.size)):(ze.storage="minifat",ze.size<0?ze.size=0:tt!==G&&ze.start!==G&&Me[tt]&&(ze.content=m(ze,Me[tt].data,(Me[xt]||{}).data))),ze.content&&Xs(ze.content,0),Ne[he]=ze,et.push(ze)}}function A(ye,Me){return new Date((pu(ye,Me+4)/1e7*Math.pow(2,32)+pu(ye,Me)/1e7-11644473600)*1e3)}function M(ye,Me){return u(),c(l.readFileSync(ye),Me)}function E(ye,Me){var Ce=Me&&Me.type;switch(Ce||Or&&Buffer.isBuffer(ye)&&(Ce="buffer"),Ce||"base64"){case"file":return M(ye,Me);case"base64":return c(gf(Cu(ye)),Me);case"binary":return c(gf(ye),Me)}return c(ye,Me)}function D(ye,Me){var Ce=Me||{},Te=Ce.root||"Root Entry";if(ye.FullPaths||(ye.FullPaths=[]),ye.FileIndex||(ye.FileIndex=[]),ye.FullPaths.length!==ye.FileIndex.length)throw new Error("inconsistent CFB structure");ye.FullPaths.length===0&&(ye.FullPaths[0]=Te+"/",ye.FileIndex[0]={name:Te,type:5}),Ce.CLSID&&(ye.FileIndex[0].clsid=Ce.CLSID),I(ye)}function I(ye){var Me="Sh33tJ5";if(!zr.find(ye,"/"+Me)){var Ce=ns(4);Ce[0]=55,Ce[1]=Ce[3]=50,Ce[2]=54,ye.FileIndex.push({name:Me,type:2,content:Ce,size:4,L:69,R:69,C:69}),ye.FullPaths.push(ye.FullPaths[0]+Me),N(ye)}}function N(ye,Me){D(ye);for(var Ce=!1,Te=!1,Ee=ye.FullPaths.length-1;Ee>=0;--Ee){var Ne=ye.FileIndex[Ee];switch(Ne.type){case 0:Te?Ce=!0:(ye.FileIndex.pop(),ye.FullPaths.pop());break;case 1:case 2:case 5:Te=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(Ce=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(Ce=!0);break;default:Ce=!0;break}}if(!(!Ce&&!Me)){var et=new Date(1987,1,19),xt=0,tt=Object.create?Object.create(null):{},rt=[];for(Ee=0;Ee<ye.FullPaths.length;++Ee)tt[ye.FullPaths[Ee]]=!0,ye.FileIndex[Ee].type!==0&&rt.push([ye.FullPaths[Ee],ye.FileIndex[Ee]]);for(Ee=0;Ee<rt.length;++Ee){var st=r(rt[Ee][0]);Te=tt[st],Te||(rt.push([st,{name:i(st).replace("/",""),type:1,clsid:W,ct:et,mt:et,content:null}]),tt[st]=!0)}for(rt.sort(function(he,Re){return t(he[0],Re[0])}),ye.FullPaths=[],ye.FileIndex=[],Ee=0;Ee<rt.length;++Ee)ye.FullPaths[Ee]=rt[Ee][0],ye.FileIndex[Ee]=rt[Ee][1];for(Ee=0;Ee<rt.length;++Ee){var It=ye.FileIndex[Ee],Pt=ye.FullPaths[Ee];if(It.name=i(Pt).replace("/",""),It.L=It.R=It.C=-(It.color=1),It.size=It.content?It.content.length:0,It.start=0,It.clsid=It.clsid||W,Ee===0)It.C=rt.length>1?1:-1,It.size=0,It.type=5;else if(Pt.slice(-1)=="/"){for(xt=Ee+1;xt<rt.length&&r(ye.FullPaths[xt])!=Pt;++xt);for(It.C=xt>=rt.length?-1:xt,xt=Ee+1;xt<rt.length&&r(ye.FullPaths[xt])!=r(Pt);++xt);It.R=xt>=rt.length?-1:xt,It.type=1}else r(ye.FullPaths[Ee+1]||"")==r(Pt)&&(It.R=Ee+1),It.type=2}}}function L(ye,Me){var Ce=Me||{};if(Ce.fileType=="mad")return ur(ye,Ce);switch(N(ye),Ce.fileType){case"zip":return wt(ye,Ce)}var Te=(function(he){for(var Re=0,ze=0,He=0;He<he.FileIndex.length;++He){var Ge=he.FileIndex[He];if(Ge.content){var At=Ge.content.length;At>0&&(At<4096?Re+=At+63>>6:ze+=At+511>>9)}}for(var Ft=he.FullPaths.length+3>>2,qt=Re+7>>3,Kt=Re+127>>7,yn=qt+ze+Ft+Kt,xn=yn+127>>7,mn=xn<=109?0:Math.ceil((xn-109)/127);yn+xn+mn+127>>7>xn;)mn=++xn<=109?0:Math.ceil((xn-109)/127);var In=[1,mn,xn,Kt,Ft,ze,Re,0];return he.FileIndex[0].size=Re<<6,In[7]=(he.FileIndex[0].start=In[0]+In[1]+In[2]+In[3]+In[4]+In[5])+(In[6]+7>>3),In})(ye),Ee=ns(Te[7]<<9),Ne=0,et=0;{for(Ne=0;Ne<8;++Ne)Ee.write_shift(1,q[Ne]);for(Ne=0;Ne<8;++Ne)Ee.write_shift(2,0);for(Ee.write_shift(2,62),Ee.write_shift(2,3),Ee.write_shift(2,65534),Ee.write_shift(2,9),Ee.write_shift(2,6),Ne=0;Ne<3;++Ne)Ee.write_shift(2,0);for(Ee.write_shift(4,0),Ee.write_shift(4,Te[2]),Ee.write_shift(4,Te[0]+Te[1]+Te[2]+Te[3]-1),Ee.write_shift(4,0),Ee.write_shift(4,4096),Ee.write_shift(4,Te[3]?Te[0]+Te[1]+Te[2]-1:G),Ee.write_shift(4,Te[3]),Ee.write_shift(-4,Te[1]?Te[0]-1:G),Ee.write_shift(4,Te[1]),Ne=0;Ne<109;++Ne)Ee.write_shift(-4,Ne<Te[2]?Te[1]+Ne:-1)}if(Te[1])for(et=0;et<Te[1];++et){for(;Ne<236+et*127;++Ne)Ee.write_shift(-4,Ne<Te[2]?Te[1]+Ne:-1);Ee.write_shift(-4,et===Te[1]-1?G:et+1)}var xt=function(he){for(et+=he;Ne<et-1;++Ne)Ee.write_shift(-4,Ne+1);he&&(++Ne,Ee.write_shift(-4,G))};for(et=Ne=0,et+=Te[1];Ne<et;++Ne)Ee.write_shift(-4,Z.DIFSECT);for(et+=Te[2];Ne<et;++Ne)Ee.write_shift(-4,Z.FATSECT);xt(Te[3]),xt(Te[4]);for(var tt=0,rt=0,st=ye.FileIndex[0];tt<ye.FileIndex.length;++tt)st=ye.FileIndex[tt],st.content&&(rt=st.content.length,!(rt<4096)&&(st.start=et,xt(rt+511>>9)));for(xt(Te[6]+7>>3);Ee.l&511;)Ee.write_shift(-4,Z.ENDOFCHAIN);for(et=Ne=0,tt=0;tt<ye.FileIndex.length;++tt)st=ye.FileIndex[tt],st.content&&(rt=st.content.length,!(!rt||rt>=4096)&&(st.start=et,xt(rt+63>>6)));for(;Ee.l&511;)Ee.write_shift(-4,Z.ENDOFCHAIN);for(Ne=0;Ne<Te[4]<<2;++Ne){var It=ye.FullPaths[Ne];if(!It||It.length===0){for(tt=0;tt<17;++tt)Ee.write_shift(4,0);for(tt=0;tt<3;++tt)Ee.write_shift(4,-1);for(tt=0;tt<12;++tt)Ee.write_shift(4,0);continue}st=ye.FileIndex[Ne],Ne===0&&(st.start=st.size?st.start-1:G);var Pt=Ne===0&&Ce.root||st.name;if(rt=2*(Pt.length+1),Ee.write_shift(64,Pt,"utf16le"),Ee.write_shift(2,rt),Ee.write_shift(1,st.type),Ee.write_shift(1,st.color),Ee.write_shift(-4,st.L),Ee.write_shift(-4,st.R),Ee.write_shift(-4,st.C),st.clsid)Ee.write_shift(16,st.clsid,"hex");else for(tt=0;tt<4;++tt)Ee.write_shift(4,0);Ee.write_shift(4,st.state||0),Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(4,st.start),Ee.write_shift(4,st.size),Ee.write_shift(4,0)}for(Ne=1;Ne<ye.FileIndex.length;++Ne)if(st=ye.FileIndex[Ne],st.size>=4096)if(Ee.l=st.start+1<<9,Or&&Buffer.isBuffer(st.content))st.content.copy(Ee,Ee.l,0,st.size),Ee.l+=st.size+511&-512;else{for(tt=0;tt<st.size;++tt)Ee.write_shift(1,st.content[tt]);for(;tt&511;++tt)Ee.write_shift(1,0)}for(Ne=1;Ne<ye.FileIndex.length;++Ne)if(st=ye.FileIndex[Ne],st.size>0&&st.size<4096)if(Or&&Buffer.isBuffer(st.content))st.content.copy(Ee,Ee.l,0,st.size),Ee.l+=st.size+63&-64;else{for(tt=0;tt<st.size;++tt)Ee.write_shift(1,st.content[tt]);for(;tt&63;++tt)Ee.write_shift(1,0)}if(Or)Ee.l=Ee.length;else for(;Ee.l<Ee.length;)Ee.write_shift(1,0);return Ee}function B(ye,Me){var Ce=ye.FullPaths.map(function(tt){return tt.toUpperCase()}),Te=Ce.map(function(tt){var rt=tt.split("/");return rt[rt.length-(tt.slice(-1)=="/"?2:1)]}),Ee=!1;Me.charCodeAt(0)===47?(Ee=!0,Me=Ce[0].slice(0,-1)+Me):Ee=Me.indexOf("/")!==-1;var Ne=Me.toUpperCase(),et=Ee===!0?Ce.indexOf(Ne):Te.indexOf(Ne);if(et!==-1)return ye.FileIndex[et];var xt=!Ne.match(_T);for(Ne=Ne.replace(yl,""),xt&&(Ne=Ne.replace(_T,"!")),et=0;et<Ce.length;++et)if((xt?Ce[et].replace(_T,"!"):Ce[et]).replace(yl,"")==Ne||(xt?Te[et].replace(_T,"!"):Te[et]).replace(yl,"")==Ne)return ye.FileIndex[et];return null}var O=64,G=-2,V="d0cf11e0a1b11ae1",q=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:G,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(ye,Me,Ce){u();var Te=L(ye,Ce);l.writeFileSync(Me,Te)}function K(ye){for(var Me=new Array(ye.length),Ce=0;Ce<ye.length;++Ce)Me[Ce]=String.fromCharCode(ye[Ce]);return Me.join("")}function se(ye,Me){var Ce=L(ye,Me);switch(Me&&Me.type||"buffer"){case"file":return u(),l.writeFileSync(Me.filename,Ce),Ce;case"binary":return typeof Ce=="string"?Ce:K(Ce);case"base64":return kJ(typeof Ce=="string"?Ce:K(Ce));case"buffer":if(Or)return Buffer.isBuffer(Ce)?Ce:ox(Ce);case"array":return typeof Ce=="string"?gf(Ce):Ce}return Ce}var J;function H(ye){try{var Me=ye.InflateRaw,Ce=new Me;if(Ce._processChunk(new Uint8Array([3,0]),Ce._finishFlushFlag),Ce.bytesRead)J=ye;else throw new Error("zlib does not expose bytesRead")}catch(Te){console.error("cannot use native zlib: "+(Te.message||Te))}}function ee(ye,Me){if(!J)return Et(ye,Me);var Ce=J.InflateRaw,Te=new Ce,Ee=Te._processChunk(ye.slice(ye.l),Te._finishFlushFlag);return ye.l+=Te.bytesRead,Ee}function Q(ye){return J?J.deflateRawSync(ye):mt(ye)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ve=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(ye){var Me=(ye<<1|ye<<11)&139536|(ye<<5|ye<<15)&558144;return(Me>>16|Me>>8|Me)&255}for(var we=typeof Uint8Array<"u",Ae=we?new Uint8Array(256):[],Ue=0;Ue<256;++Ue)Ae[Ue]=xe(Ue);function pe(ye,Me){var Ce=Ae[ye&255];return Me<=8?Ce>>>8-Me:(Ce=Ce<<8|Ae[ye>>8&255],Me<=16?Ce>>>16-Me:(Ce=Ce<<8|Ae[ye>>16&255],Ce>>>24-Me))}function pt(ye,Me){var Ce=Me&7,Te=Me>>>3;return(ye[Te]|(Ce<=6?0:ye[Te+1]<<8))>>>Ce&3}function te(ye,Me){var Ce=Me&7,Te=Me>>>3;return(ye[Te]|(Ce<=5?0:ye[Te+1]<<8))>>>Ce&7}function oe(ye,Me){var Ce=Me&7,Te=Me>>>3;return(ye[Te]|(Ce<=4?0:ye[Te+1]<<8))>>>Ce&15}function ge(ye,Me){var Ce=Me&7,Te=Me>>>3;return(ye[Te]|(Ce<=3?0:ye[Te+1]<<8))>>>Ce&31}function le(ye,Me){var Ce=Me&7,Te=Me>>>3;return(ye[Te]|(Ce<=1?0:ye[Te+1]<<8))>>>Ce&127}function fe(ye,Me,Ce){var Te=Me&7,Ee=Me>>>3,Ne=(1<<Ce)-1,et=ye[Ee]>>>Te;return Ce<8-Te||(et|=ye[Ee+1]<<8-Te,Ce<16-Te)||(et|=ye[Ee+2]<<16-Te,Ce<24-Te)||(et|=ye[Ee+3]<<24-Te),et&Ne}function be(ye,Me,Ce){var Te=Me&7,Ee=Me>>>3;return Te<=5?ye[Ee]|=(Ce&7)<<Te:(ye[Ee]|=Ce<<Te&255,ye[Ee+1]=(Ce&7)>>8-Te),Me+3}function Oe(ye,Me,Ce){var Te=Me&7,Ee=Me>>>3;return Ce=(Ce&1)<<Te,ye[Ee]|=Ce,Me+1}function Ve(ye,Me,Ce){var Te=Me&7,Ee=Me>>>3;return Ce<<=Te,ye[Ee]|=Ce&255,Ce>>>=8,ye[Ee+1]=Ce,Me+8}function Pe(ye,Me,Ce){var Te=Me&7,Ee=Me>>>3;return Ce<<=Te,ye[Ee]|=Ce&255,Ce>>>=8,ye[Ee+1]=Ce&255,ye[Ee+2]=Ce>>>8,Me+16}function me(ye,Me){var Ce=ye.length,Te=2*Ce>Me?2*Ce:Me+5,Ee=0;if(Ce>=Me)return ye;if(Or){var Ne=LJ(Te);if(ye.copy)ye.copy(Ne);else for(;Ee<ye.length;++Ee)Ne[Ee]=ye[Ee];return Ne}else if(we){var et=new Uint8Array(Te);if(et.set)et.set(ye);else for(;Ee<Ce;++Ee)et[Ee]=ye[Ee];return et}return ye.length=Te,ye}function ue(ye){for(var Me=new Array(ye),Ce=0;Ce<ye;++Ce)Me[Ce]=0;return Me}function Ie(ye,Me,Ce){var Te=1,Ee=0,Ne=0,et=0,xt=0,tt=ye.length,rt=we?new Uint16Array(32):ue(32);for(Ne=0;Ne<32;++Ne)rt[Ne]=0;for(Ne=tt;Ne<Ce;++Ne)ye[Ne]=0;tt=ye.length;var st=we?new Uint16Array(tt):ue(tt);for(Ne=0;Ne<tt;++Ne)rt[Ee=ye[Ne]]++,Te<Ee&&(Te=Ee),st[Ne]=0;for(rt[0]=0,Ne=1;Ne<=Te;++Ne)rt[Ne+16]=xt=xt+rt[Ne-1]<<1;for(Ne=0;Ne<tt;++Ne)xt=ye[Ne],xt!=0&&(st[Ne]=rt[xt+16]++);var It=0;for(Ne=0;Ne<tt;++Ne)if(It=ye[Ne],It!=0)for(xt=pe(st[Ne],Te)>>Te-It,et=(1<<Te+4-It)-1;et>=0;--et)Me[xt|et<<It]=It&15|Ne<<4;return Te}var Ye=we?new Uint16Array(512):ue(512),ot=we?new Uint16Array(32):ue(32);if(!we){for(var We=0;We<512;++We)Ye[We]=0;for(We=0;We<32;++We)ot[We]=0}(function(){for(var ye=[],Me=0;Me<32;Me++)ye.push(5);Ie(ye,ot,32);var Ce=[];for(Me=0;Me<=143;Me++)Ce.push(8);for(;Me<=255;Me++)Ce.push(9);for(;Me<=279;Me++)Ce.push(7);for(;Me<=287;Me++)Ce.push(8);Ie(Ce,Ye,288)})();var zt=(function(){for(var Me=we?new Uint8Array(32768):[],Ce=0,Te=0;Ce<ve.length-1;++Ce)for(;Te<ve[Ce+1];++Te)Me[Te]=Ce;for(;Te<32768;++Te)Me[Te]=29;var Ee=we?new Uint8Array(259):[];for(Ce=0,Te=0;Ce<ce.length-1;++Ce)for(;Te<ce[Ce+1];++Te)Ee[Te]=Ce;function Ne(xt,tt){for(var rt=0;rt<xt.length;){var st=Math.min(65535,xt.length-rt),It=rt+st==xt.length;for(tt.write_shift(1,+It),tt.write_shift(2,st),tt.write_shift(2,~st&65535);st-- >0;)tt[tt.l++]=xt[rt++]}return tt.l}function et(xt,tt){for(var rt=0,st=0,It=we?new Uint16Array(32768):[];st<xt.length;){var Pt=Math.min(65535,xt.length-st);if(Pt<10){for(rt=be(tt,rt,+(st+Pt==xt.length)),rt&7&&(rt+=8-(rt&7)),tt.l=rt/8|0,tt.write_shift(2,Pt),tt.write_shift(2,~Pt&65535);Pt-- >0;)tt[tt.l++]=xt[st++];rt=tt.l*8;continue}rt=be(tt,rt,+(st+Pt==xt.length)+2);for(var he=0;Pt-- >0;){var Re=xt[st];he=(he<<5^Re)&32767;var ze=-1,He=0;if((ze=It[he])&&(ze|=st&-32768,ze>st&&(ze-=32768),ze<st))for(;xt[ze+He]==xt[st+He]&&He<250;)++He;if(He>2){Re=Ee[He],Re<=22?rt=Ve(tt,rt,Ae[Re+1]>>1)-1:(Ve(tt,rt,3),rt+=5,Ve(tt,rt,Ae[Re-23]>>5),rt+=3);var Ge=Re<8?0:Re-4>>2;Ge>0&&(Pe(tt,rt,He-ce[Re]),rt+=Ge),Re=Me[st-ze],rt=Ve(tt,rt,Ae[Re]>>3),rt-=3;var At=Re<4?0:Re-2>>1;At>0&&(Pe(tt,rt,st-ze-ve[Re]),rt+=At);for(var Ft=0;Ft<He;++Ft)It[he]=st&32767,he=(he<<5^xt[st])&32767,++st;Pt-=He-1}else Re<=143?Re=Re+48:rt=Oe(tt,rt,1),rt=Ve(tt,rt,Ae[Re]),It[he]=st&32767,++st}rt=Ve(tt,rt,0)-1}return tt.l=(rt+7)/8|0,tt.l}return function(tt,rt){return tt.length<8?Ne(tt,rt):et(tt,rt)}})();function mt(ye){var Me=ns(50+Math.floor(ye.length*1.1)),Ce=zt(ye,Me);return Me.slice(0,Ce)}var Nt=we?new Uint16Array(32768):ue(32768),Ht=we?new Uint16Array(32768):ue(32768),Qe=we?new Uint16Array(128):ue(128),bt=1,Yt=1;function ke(ye,Me){var Ce=ge(ye,Me)+257;Me+=5;var Te=ge(ye,Me)+1;Me+=5;var Ee=oe(ye,Me)+4;Me+=4;for(var Ne=0,et=we?new Uint8Array(19):ue(19),xt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],tt=1,rt=we?new Uint8Array(8):ue(8),st=we?new Uint8Array(8):ue(8),It=et.length,Pt=0;Pt<Ee;++Pt)et[ne[Pt]]=Ne=te(ye,Me),tt<Ne&&(tt=Ne),rt[Ne]++,Me+=3;var he=0;for(rt[0]=0,Pt=1;Pt<=tt;++Pt)st[Pt]=he=he+rt[Pt-1]<<1;for(Pt=0;Pt<It;++Pt)(he=et[Pt])!=0&&(xt[Pt]=st[he]++);var Re=0;for(Pt=0;Pt<It;++Pt)if(Re=et[Pt],Re!=0){he=Ae[xt[Pt]]>>8-Re;for(var ze=(1<<7-Re)-1;ze>=0;--ze)Qe[he|ze<<Re]=Re&7|Pt<<3}var He=[];for(tt=1;He.length<Ce+Te;)switch(he=Qe[le(ye,Me)],Me+=he&7,he>>>=3){case 16:for(Ne=3+pt(ye,Me),Me+=2,he=He[He.length-1];Ne-- >0;)He.push(he);break;case 17:for(Ne=3+te(ye,Me),Me+=3;Ne-- >0;)He.push(0);break;case 18:for(Ne=11+le(ye,Me),Me+=7;Ne-- >0;)He.push(0);break;default:He.push(he),tt<he&&(tt=he);break}var Ge=He.slice(0,Ce),At=He.slice(Ce);for(Pt=Ce;Pt<286;++Pt)Ge[Pt]=0;for(Pt=Te;Pt<30;++Pt)At[Pt]=0;return bt=Ie(Ge,Nt,286),Yt=Ie(At,Ht,30),Me}function Je(ye,Me){if(ye[0]==3&&!(ye[1]&3))return[Uv(Me),2];for(var Ce=0,Te=0,Ee=LJ(Me||1<<18),Ne=0,et=Ee.length>>>0,xt=0,tt=0;(Te&1)==0;){if(Te=te(ye,Ce),Ce+=3,Te>>>1)Te>>1==1?(xt=9,tt=5):(Ce=ke(ye,Ce),xt=bt,tt=Yt);else{Ce&7&&(Ce+=8-(Ce&7));var rt=ye[Ce>>>3]|ye[(Ce>>>3)+1]<<8;if(Ce+=32,rt>0)for(!Me&&et<Ne+rt&&(Ee=me(Ee,Ne+rt),et=Ee.length);rt-- >0;)Ee[Ne++]=ye[Ce>>>3],Ce+=8;continue}for(;;){!Me&&et<Ne+32767&&(Ee=me(Ee,Ne+32767),et=Ee.length);var st=fe(ye,Ce,xt),It=Te>>>1==1?Ye[st]:Nt[st];if(Ce+=It&15,It>>>=4,(It>>>8&255)===0)Ee[Ne++]=It;else{if(It==256)break;It-=257;var Pt=It<8?0:It-4>>2;Pt>5&&(Pt=0);var he=Ne+ce[It];Pt>0&&(he+=fe(ye,Ce,Pt),Ce+=Pt),st=fe(ye,Ce,tt),It=Te>>>1==1?ot[st]:Ht[st],Ce+=It&15,It>>>=4;var Re=It<4?0:It-2>>1,ze=ve[It];for(Re>0&&(ze+=fe(ye,Ce,Re),Ce+=Re),!Me&&et<he&&(Ee=me(Ee,he+100),et=Ee.length);Ne<he;)Ee[Ne]=Ee[Ne-ze],++Ne}}}return Me?[Ee,Ce+7>>>3]:[Ee.slice(0,Ne),Ce+7>>>3]}function Et(ye,Me){var Ce=ye.slice(ye.l||0),Te=Je(Ce,Me);return ye.l+=Te[1],Te[0]}function Le(ye,Me){if(ye)typeof console<"u"&&console.error(Me);else throw new Error(Me)}function Dt(ye,Me){var Ce=ye;Xs(Ce,0);var Te=[],Ee=[],Ne={FileIndex:Te,FullPaths:Ee};D(Ne,{root:Me.root});for(var et=Ce.length-4;(Ce[et]!=80||Ce[et+1]!=75||Ce[et+2]!=5||Ce[et+3]!=6)&&et>=0;)--et;Ce.l=et+4,Ce.l+=4;var xt=Ce.read_shift(2);Ce.l+=6;var tt=Ce.read_shift(4);for(Ce.l=tt,et=0;et<xt;++et){Ce.l+=20;var rt=Ce.read_shift(4),st=Ce.read_shift(4),It=Ce.read_shift(2),Pt=Ce.read_shift(2),he=Ce.read_shift(2);Ce.l+=8;var Re=Ce.read_shift(4),ze=o(Ce.slice(Ce.l+It,Ce.l+It+Pt));Ce.l+=It+Pt+he;var He=Ce.l;Ce.l=Re+4,Rt(Ce,rt,st,Ne,ze),Ce.l=He}return Ne}function Rt(ye,Me,Ce,Te,Ee){ye.l+=2;var Ne=ye.read_shift(2),et=ye.read_shift(2),xt=s(ye);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var tt=ye.read_shift(4),rt=ye.read_shift(4),st=ye.read_shift(4),It=ye.read_shift(2),Pt=ye.read_shift(2),he="",Re=0;Re<It;++Re)he+=String.fromCharCode(ye[ye.l++]);if(Pt){var ze=o(ye.slice(ye.l,ye.l+Pt));(ze[21589]||{}).mt&&(xt=ze[21589].mt),((Ee||{})[21589]||{}).mt&&(xt=Ee[21589].mt)}ye.l+=Pt;var He=ye.slice(ye.l,ye.l+rt);switch(et){case 8:He=ee(ye,st);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+et)}var Ge=!1;Ne&8&&(tt=ye.read_shift(4),tt==134695760&&(tt=ye.read_shift(4),Ge=!0),rt=ye.read_shift(4),st=ye.read_shift(4)),rt!=Me&&Le(Ge,"Bad compressed size: "+Me+" != "+rt),st!=Ce&&Le(Ge,"Bad uncompressed size: "+Ce+" != "+st),Li(Te,he,He,{unsafe:!0,mt:xt})}function wt(ye,Me){var Ce=Me||{},Te=[],Ee=[],Ne=ns(1),et=Ce.compression?8:0,xt=0,tt=0,rt=0,st=0,It=0,Pt=ye.FullPaths[0],he=Pt,Re=ye.FileIndex[0],ze=[],He=0;for(tt=1;tt<ye.FullPaths.length;++tt)if(he=ye.FullPaths[tt].slice(Pt.length),Re=ye.FileIndex[tt],!(!Re.size||!Re.content||he=="Sh33tJ5")){var Ge=st,At=ns(he.length);for(rt=0;rt<he.length;++rt)At.write_shift(1,he.charCodeAt(rt)&127);At=At.slice(0,At.l),ze[It]=i9e.buf(Re.content,0);var Ft=Re.content;et==8&&(Ft=Q(Ft)),Ne=ns(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,xt),Ne.write_shift(2,et),Re.mt?a(Ne,Re.mt):Ne.write_shift(4,0),Ne.write_shift(-4,ze[It]),Ne.write_shift(4,Ft.length),Ne.write_shift(4,Re.content.length),Ne.write_shift(2,At.length),Ne.write_shift(2,0),st+=Ne.length,Te.push(Ne),st+=At.length,Te.push(At),st+=Ft.length,Te.push(Ft),Ne=ns(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,xt),Ne.write_shift(2,et),Ne.write_shift(4,0),Ne.write_shift(-4,ze[It]),Ne.write_shift(4,Ft.length),Ne.write_shift(4,Re.content.length),Ne.write_shift(2,At.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Ge),He+=Ne.l,Ee.push(Ne),He+=At.length,Ee.push(At),++It}return Ne=ns(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,It),Ne.write_shift(2,It),Ne.write_shift(4,He),Ne.write_shift(4,st),Ne.write_shift(2,0),ov([ov(Te),ov(Ee),Ne])}var yt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function vt(ye,Me){if(ye.ctype)return ye.ctype;var Ce=ye.name||"",Te=Ce.match(/\.([^\.]+)$/);return Te&&yt[Te[1]]||Me&&(Te=(Ce=Me).match(/[\.\\]([^\.\\])+$/),Te&&yt[Te[1]])?yt[Te[1]]:"application/octet-stream"}function Ut(ye){for(var Me=kJ(ye),Ce=[],Te=0;Te<Me.length;Te+=76)Ce.push(Me.slice(Te,Te+76));return Ce.join(`\r
`)+`\r
`}function Zt(ye){var Me=ye.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(rt){var st=rt.charCodeAt(0).toString(16).toUpperCase();return"="+(st.length==1?"0"+st:st)});Me=Me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Me.charAt(0)==`
`&&(Me="=0D"+Me.slice(1)),Me=Me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ce=[],Te=Me.split(`\r
`),Ee=0;Ee<Te.length;++Ee){var Ne=Te[Ee];if(Ne.length==0){Ce.push("");continue}for(var et=0;et<Ne.length;){var xt=76,tt=Ne.slice(et,et+xt);tt.charAt(xt-1)=="="?xt--:tt.charAt(xt-2)=="="?xt-=2:tt.charAt(xt-3)=="="&&(xt-=3),tt=Ne.slice(et,et+xt),et+=xt,et<Ne.length&&(tt+="="),Ce.push(tt)}}return Ce.join(`\r
`)}function Mn(ye){for(var Me=[],Ce=0;Ce<ye.length;++Ce){for(var Te=ye[Ce];Ce<=ye.length&&Te.charAt(Te.length-1)=="=";)Te=Te.slice(0,Te.length-1)+ye[++Ce];Me.push(Te)}for(var Ee=0;Ee<Me.length;++Ee)Me[Ee]=Me[Ee].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return gf(Me.join(`\r
`))}function En(ye,Me,Ce){for(var Te="",Ee="",Ne="",et,xt=0;xt<10;++xt){var tt=Me[xt];if(!tt||tt.match(/^\s*$/))break;var rt=tt.match(/^(.*?):\s*([^\s].*)$/);if(rt)switch(rt[1].toLowerCase()){case"content-location":Te=rt[2].trim();break;case"content-type":Ne=rt[2].trim();break;case"content-transfer-encoding":Ee=rt[2].trim();break}}switch(++xt,Ee.toLowerCase()){case"base64":et=gf(Cu(Me.slice(xt).join("")));break;case"quoted-printable":et=Mn(Me.slice(xt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ee)}var st=Li(ye,Te.slice(Ce.length),et,{unsafe:!0});Ne&&(st.ctype=Ne)}function Br(ye,Me){if(K(ye.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ce=Me&&Me.root||"",Te=(Or&&Buffer.isBuffer(ye)?ye.toString("binary"):K(ye)).split(`\r
`),Ee=0,Ne="";for(Ee=0;Ee<Te.length;++Ee)if(Ne=Te[Ee],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),Ce||(Ce=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,Ce.length)!=Ce))for(;Ce.length>0&&(Ce=Ce.slice(0,Ce.length-1),Ce=Ce.slice(0,Ce.lastIndexOf("/")+1),Ne.slice(0,Ce.length)!=Ce););var et=(Te[1]||"").match(/boundary="(.*?)"/);if(!et)throw new Error("MAD cannot find boundary");var xt="--"+(et[1]||""),tt=[],rt=[],st={FileIndex:tt,FullPaths:rt};D(st);var It,Pt=0;for(Ee=0;Ee<Te.length;++Ee){var he=Te[Ee];he!==xt&&he!==xt+"--"||(Pt++&&En(st,Te.slice(It,Ee),Ce),It=Ee)}return st}function ur(ye,Me){var Ce=Me||{},Te=Ce.boundary||"SheetJS";Te="------="+Te;for(var Ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Te.slice(2)+'"',"","",""],Ne=ye.FullPaths[0],et=Ne,xt=ye.FileIndex[0],tt=1;tt<ye.FullPaths.length;++tt)if(et=ye.FullPaths[tt].slice(Ne.length),xt=ye.FileIndex[tt],!(!xt.size||!xt.content||et=="Sh33tJ5")){et=et.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(He){return"_x"+He.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(He){return"_u"+He.charCodeAt(0).toString(16)+"_"});for(var rt=xt.content,st=Or&&Buffer.isBuffer(rt)?rt.toString("binary"):K(rt),It=0,Pt=Math.min(1024,st.length),he=0,Re=0;Re<=Pt;++Re)(he=st.charCodeAt(Re))>=32&&he<128&&++It;var ze=It>=Pt*4/5;Ee.push(Te),Ee.push("Content-Location: "+(Ce.root||"file:///C:/SheetJS/")+et),Ee.push("Content-Transfer-Encoding: "+(ze?"quoted-printable":"base64")),Ee.push("Content-Type: "+vt(xt,et)),Ee.push(""),Ee.push(ze?Zt(st):Ut(st))}return Ee.push(Te+`--\r
`),Ee.join(`\r
`)}function vs(ye){var Me={};return D(Me,ye),Me}function Li(ye,Me,Ce,Te){var Ee=Te&&Te.unsafe;Ee||D(ye);var Ne=!Ee&&zr.find(ye,Me);if(!Ne){var et=ye.FullPaths[0];Me.slice(0,et.length)==et?et=Me:(et.slice(-1)!="/"&&(et+="/"),et=(et+Me).replace("//","/")),Ne={name:i(Me),type:2},ye.FileIndex.push(Ne),ye.FullPaths.push(et),Ee||zr.utils.cfb_gc(ye)}return Ne.content=Ce,Ne.size=Ce?Ce.length:0,Te&&(Te.CLSID&&(Ne.clsid=Te.CLSID),Te.mt&&(Ne.mt=Te.mt),Te.ct&&(Ne.ct=Te.ct)),Ne}function ga(ye,Me){D(ye);var Ce=zr.find(ye,Me);if(Ce){for(var Te=0;Te<ye.FileIndex.length;++Te)if(ye.FileIndex[Te]==Ce)return ye.FileIndex.splice(Te,1),ye.FullPaths.splice(Te,1),!0}return!1}function mi(ye,Me,Ce){D(ye);var Te=zr.find(ye,Me);if(Te){for(var Ee=0;Ee<ye.FileIndex.length;++Ee)if(ye.FileIndex[Ee]==Te)return ye.FileIndex[Ee].name=i(Ce),ye.FullPaths[Ee]=Ce,!0}return!1}function ms(ye){N(ye,!0)}return e.find=B,e.read=E,e.parse=c,e.write=se,e.writeFile=X,e.utils={cfb_new:vs,cfb_add:Li,cfb_del:ga,cfb_mov:mi,cfb_gc:ms,ReadShift:jT,CheckField:Mhe,prep_blob:Xs,bconcat:ov,use_zlib:H,_deflateRaw:mt,_inflateRaw:Et,consts:Z},e})();function a9e(n){if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(n);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+n)}function nh(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function w7(n){for(var e=[],t=nh(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}var SI=new Date(1899,11,30,0,0,0);function Sl(n,e){var t=n.getTime(),r=SI.getTime()+(n.getTimezoneOffset()-SI.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var she=new Date,s9e=SI.getTime()+(she.getTimezoneOffset()-SI.getTimezoneOffset())*6e4,GJ=she.getTimezoneOffset();function DL(n){var e=new Date;return e.setTime(n*24*60*60*1e3+s9e),e.getTimezoneOffset()!==GJ&&e.setTime(e.getTime()+(e.getTimezoneOffset()-GJ)*6e4),e}function o9e(n){var e=0,t=0,r=!1,i=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(t=1,a>3&&(r=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":t*=24;case"H":t*=60;case"M":if(r)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[a],10)}return e}var HJ=new Date("2017-02-19T19:06:09.000Z"),ohe=isNaN(HJ.getFullYear())?new Date("2/19/17"):HJ,l9e=ohe.getFullYear()==2017;function ks(n,e){var t=new Date(n);if(l9e)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(ohe.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Wy(n,e){if(Or&&Buffer.isBuffer(n)){if(e){if(n[0]==255&&n[1]==254)return ST(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return ST(Yde(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(n[0]==255&&n[1]==254)return ST(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return ST(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(a){return t[a]||a})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function Ks(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Ks(n[t]));return e}function ca(n,e){for(var t="";t.length<e;)t+=n;return t}function Ef(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return t=-t,a}),!isNaN(e=Number(r)))?e/t:e}var u9e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Db(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var s=n.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&u9e.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||a>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}var c9e=(function(){var n="abacaba".split(/(:?b)/i).length==5;return function(t,r,i){if(n||typeof r=="string")return t.split(r);for(var a=t.split(r),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}})();function lhe(n){return n?n.content&&n.type?Wy(n.content,!0):n.data?xT(n.data):n.asNodeBuffer&&Or?xT(n.asNodeBuffer().toString("binary")):n.asBinary?xT(n.asBinary()):n._data&&n._data.getContent?xT(Wy(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function uhe(n){if(!n)return null;if(n.data)return NJ(n.data);if(n.asNodeBuffer&&Or)return n.asNodeBuffer();if(n._data&&n._data.getContent){var e=n._data.getContent();return typeof e=="string"?NJ(e):Array.prototype.slice.call(e)}return n.content&&n.type?n.content:null}function f9e(n){return n&&n.name.slice(-4)===".bin"?uhe(n):lhe(n)}function uc(n,e){for(var t=n.FullPaths||nh(n.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),a=0;a<t.length;++a){var s=t[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==s||i==s)return n.files?n.files[t[a]]:n.FileIndex[a]}return null}function T7(n,e){var t=uc(n,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function Va(n,e,t){if(!t)return f9e(T7(n,e));if(!e)return null;try{return Va(n,e)}catch{return null}}function gu(n,e,t){if(!t)return lhe(T7(n,e));if(!e)return null;try{return gu(n,e)}catch{return null}}function d9e(n,e,t){return uhe(T7(n,e))}function jJ(n){for(var e=n.FullPaths||nh(n.files),t=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&t.push(e[r].replace(/^Root Entry[\/]/,""));return t.sort()}function h9e(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Or?r=ox(t):r=NVe(t),zr.utils.cfb_add(n,e,r)}zr.utils.cfb_add(n,e,t)}else n.file(e,t)}function che(n,e){switch(e.type){case"base64":return zr.read(n,{type:"base64"});case"binary":return zr.read(n,{type:"binary"});case"buffer":case"array":return zr.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function bT(n,e){if(n.charAt(0)=="/")return n.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var r=n.split("/");r.length!==0;){var i=r.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var fhe=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,p9e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,WJ=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,v9e=/<[^>]*>/g,zo=fhe.match(WJ)?WJ:v9e,m9e=/<\w*:/,g9e=/<(\/?)\w+:/;function Wn(n,e,t){for(var r={},i=0,a=0;i!==n.length&&!((a=n.charCodeAt(i))===32||a===10||a===13);++i);if(e||(r[0]=n.slice(0,i)),i===n.length)return r;var s=n.match(p9e),o=0,l="",u=0,c="",f="",d=1;if(s)for(u=0;u!=s.length;++u){for(f=s[u],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(c=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(d=(i=f.charCodeAt(a+1))==34||i==39?1:0,l=f.slice(a+1+d,f.length-d),o=0;o!=c.length&&c.charCodeAt(o)!==58;++o);if(o===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),r[c]=l,r[c.toLowerCase()]=l;else{var h=(o===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(o+1);if(r[h]&&c.slice(o-3,o)=="ext")continue;r[h]=l,r[h.toLowerCase()]=l}}return r}function oh(n){return n.replace(g9e,"<$1")}var dhe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},y9e=w7(dhe),Wr=(function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(r){var i=r+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(n,function(o,l){return dhe[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return t(i.slice(0,a))+i.slice(a+9,s)+t(i.slice(s+3))}})(),x9e=/[&<>'"]/g,_9e=/[\u0000-\u001f]/g;function C7(n){var e=n+"";return e.replace(x9e,function(t){return y9e[t]}).replace(/\n/g,"<br/>").replace(_9e,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var YJ=(function(){var n=/&#(\d+);/g;function e(t,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(n,e)}})();function Gi(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function QO(n){for(var e="",t=0,r=0,i=0,a=0,s=0,o=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){s=(r&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}s=n.charCodeAt(t++),o=((r&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function qJ(n){var e=Uv(2*n.length),t,r,i=1,a=0,s=0,o;for(r=0;r<n.length;r+=i)i=1,(o=n.charCodeAt(r))<128?t=o:o<224?(t=(o&31)*64+(n.charCodeAt(r+1)&63),i=2):o<240?(t=(o&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(o&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,s=55296+(t>>>10&1023),t=56320+(t&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function XJ(n){return ox(n,"binary").toString("utf8")}var yD="foo bar baz",Ri=Or&&(XJ(yD)==QO(yD)&&XJ||qJ(yD)==QO(yD)&&qJ)||QO,ST=Or?function(n){return ox(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},tA=(function(){var n={};return function(t,r){var i=t+"|"+(r||"");return n[i]?n[i]:n[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}})(),hhe=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),b9e=(function(){var n={};return function(t){return n[t]!==void 0?n[t]:n[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),S9e=/<\/?(?:vt:)?variant>/g,w9e=/<(?:vt:)([^>]*)>([\s\S]*)</;function ZJ(n,e){var t=Wn(n),r=n.match(b9e(t.baseType))||[],i=[];if(r.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+t.size);return i}return r.forEach(function(a){var s=a.replace(S9e,"").match(w9e);s&&i.push({v:Ri(s[2]),t:s[1]})}),i}var T9e=/(^\s|\s$|\n)/;function C9e(n){return nh(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function A9e(n,e,t){return"<"+n+(t!=null?C9e(t):"")+(e!=null?(e.match(T9e)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function A7(n){if(Or&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return Ri(lx(_7(n)));throw new Error("Bad input format: expected Buffer or string")}var nA=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,M9e={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},E9e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function D9e(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,a=5;a>=0;--a)i=i*256+n[e+a];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function R9e(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=r?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)n[t+o]=a&255;n[t+6]=(i&15)<<4|a&15,n[t+7]=i>>4|r}var KJ=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,a=n[0][r].length;i<a;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},$J=Or?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:ox(e)})):KJ(n)}:KJ,JJ=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(hp(n,i)));return r.join("").replace(yl,"")},M7=Or?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(yl,""):JJ(n,e,t)}:JJ,QJ=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},phe=Or?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):QJ(n,e,t)}:QJ,eQ=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(R_(n,i)));return r.join("")},aM=Or?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):eQ(e,t,r)}:eQ,vhe=function(n,e){var t=pu(n,e);return t>0?aM(n,e+4,e+4+t-1):""},mhe=vhe,ghe=function(n,e){var t=pu(n,e);return t>0?aM(n,e+4,e+4+t-1):""},yhe=ghe,xhe=function(n,e){var t=2*pu(n,e);return t>0?aM(n,e+4,e+4+t-1):""},_he=xhe,bhe=function(e,t){var r=pu(e,t);return r>0?M7(e,t+4,t+4+r):""},She=bhe,whe=function(n,e){var t=pu(n,e);return t>0?aM(n,e+4,e+4+t):""},The=whe,Che=function(n,e){return D9e(n,e)},wI=Che,Ahe=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Or&&(mhe=function(e,t){if(!Buffer.isBuffer(e))return vhe(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},yhe=function(e,t){if(!Buffer.isBuffer(e))return ghe(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},_he=function(e,t){if(!Buffer.isBuffer(e))return xhe(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},She=function(e,t){if(!Buffer.isBuffer(e))return bhe(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},The=function(e,t){if(!Buffer.isBuffer(e))return whe(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},wI=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):Che(e,t)},Ahe=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var R_=function(n,e){return n[e]},hp=function(n,e){return n[e+1]*256+n[e]},N9e=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},pu=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},ry=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},I9e=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function jT(n,e){var t="",r,i,a=[],s,o,l,u;switch(e){case"dbcs":if(u=this.l,Or&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(l=0;l<n;++l)t+=String.fromCharCode(hp(this,u)),u+=2;n*=2;break;case"utf8":t=aM(this,this.l,this.l+n);break;case"utf16le":n*=2,t=M7(this,this.l,this.l+n);break;case"wstr":return jT.call(this,n,"dbcs");case"lpstr-ansi":t=mhe(this,this.l),n=4+pu(this,this.l);break;case"lpstr-cp":t=yhe(this,this.l),n=4+pu(this,this.l);break;case"lpwstr":t=_he(this,this.l),n=4+2*pu(this,this.l);break;case"lpp4":n=4+pu(this,this.l),t=She(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+pu(this,this.l),t=The(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(s=R_(this,this.l+n++))!==0;)a.push(gD(s));t=a.join("");break;case"_wstr":for(n=0,t="";(s=hp(this,this.l+n))!==0;)a.push(gD(s)),n+=2;n+=2,t=a.join("");break;case"dbcs-cont":for(t="",u=this.l,l=0;l<n;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=R_(this,u),this.l=u+1,o=jT.call(this,n-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(gD(hp(this,u))),u+=2}t=a.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,l=0;l!=n;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=R_(this,u),this.l=u+1,o=jT.call(this,n-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(gD(R_(this,u))),u+=1}t=a.join("");break;default:switch(n){case 1:return r=R_(this,this.l),this.l++,r;case 2:return r=(e==="i"?N9e:hp)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?ry:I9e)(this,this.l),this.l+=4,r):(i=pu(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=wI(this,this.l):i=wI([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=phe(this,this.l,n);break}}return this.l+=n,t}var k9e=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},L9e=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},P9e=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function O9e(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)P9e(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,k9e(this,e,this.l);break;case 8:if(r=8,t==="f"){R9e(this,e,this.l);break}case 16:break;case-4:r=4,L9e(this,e,this.l);break}return this.l+=r,this}function Mhe(n,e){var t=phe(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Xs(n,e){n.l=e,n.read_shift=jT,n.chk=Mhe,n.write_shift=O9e}function Bo(n,e){n.l+=e}function ns(n){var e=Uv(n);return Xs(e,0),e}function Xp(n,e,t){if(n){var r,i,a;Xs(n,n.l||0);for(var s=n.length,o=0,l=0;n.l<s;){o=n.read_shift(1),o&128&&(o=(o&127)+((n.read_shift(1)&127)<<7));var u=DI[o]||DI[65535];for(r=n.read_shift(1),a=r&127,i=1;i<4&&r&128;++i)a+=((r=n.read_shift(1))&127)<<7*i;l=n.l+a;var c=u.f&&u.f(n,a,t);if(n.l=l,e(c,u,o))return}}}function oz(){var n=[],e=Or?256:2048,t=function(u){var c=ns(u);return Xs(c,0),c},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},a=function(u){return r&&u<r.length-r.l?r:(i(),r=t(Math.max(u+1,e)))},s=function(){return i(),ov(n)},o=function(u){i(),r=u,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:o,end:s,_bufs:n}}function WT(n,e,t){var r=Ks(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function tQ(n,e,t){var r=Ks(n);return r.s=WT(r.s,e.s,t),r.e=WT(r.e,e.s,t),r}function YT(n,e){if(n.cRel&&n.c<0)for(n=Ks(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Ks(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=er(n);return!n.cRel&&n.cRel!=null&&(t=z9e(t)),!n.rRel&&n.rRel!=null&&(t=F9e(t)),t}function eF(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+ss(n.s.c)+":"+(n.e.cRel?"":"$")+ss(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+$s(n.s.r)+":"+(n.e.rRel?"":"$")+$s(n.e.r):YT(n.s,e.biff)+":"+YT(n.e,e.biff)}function E7(n){return parseInt(B9e(n),10)-1}function $s(n){return""+(n+1)}function F9e(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function B9e(n){return n.replace(/\$(\d+)$/,"$1")}function D7(n){for(var e=U9e(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function ss(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function z9e(n){return n.replace(/^([A-Z])/,"$$$1")}function U9e(n){return n.replace(/^\$([A-Z])/,"$1")}function V9e(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function vl(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function er(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function vS(n){var e=n.indexOf(":");return e==-1?{s:vl(n),e:vl(n)}:{s:vl(n.slice(0,e)),e:vl(n.slice(e+1))}}function Ur(n,e){return typeof e>"u"||typeof e=="number"?Ur(n.s,n.e):(typeof n!="string"&&(n=er(n)),typeof e!="string"&&(e=er(e)),n==e?n:n+":"+e)}function ma(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,a=n.length;for(t=0;r<a&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<a&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=a&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=a&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function nQ(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Au(n.z,t?Sl(e):e)}catch{}try{return n.w=Au((n.XF||{}).numFmtId||(t?14:0),t?Sl(e):e)}catch{return""+e}}function Fp(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?dx[n.v]||n.v:e==null?nQ(n,n.v):nQ(n,e))}function nm(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function Ehe(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,a=n||(i?[]:{}),s=0,o=0;if(a&&r.origin!=null){if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?vl(r.origin):r.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var c=ma(a["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),s==-1&&(u.e.r=s=c.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var h={v:e[f][d]},p=s+f,m=o+d;if(u.s.r>p&&(u.s.r=p),u.s.c>m&&(u.s.c=m),u.e.r<p&&(u.e.r=p),u.e.c<m&&(u.e.c=m),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))h=e[f][d];else if(Array.isArray(h.v)&&(h.f=e[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(r.nullError)h.t="e",h.v=0;else if(r.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=r.dateNF||Qn[14],r.cellDates?(h.t="d",h.w=Au(h.z,Sl(h.v))):(h.t="n",h.v=Sl(h.v),h.w=Au(h.z,h.v))):h.t="s";if(i)a[p]||(a[p]=[]),a[p][m]&&a[p][m].z&&(h.z=a[p][m].z),a[p][m]=h;else{var g=er({c:m,r:p});a[g]&&a[g].z&&(h.z=a[g].z),a[g]=h}}}return u.s.c<1e7&&(a["!ref"]=Ur(u)),a}function mS(n,e){return Ehe(null,n,e)}function G9e(n){return n.read_shift(4,"i")}function Po(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function H9e(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function R7(n,e){var t=n.l,r=n.read_shift(1),i=Po(n),a=[],s={t:i,h:i};if((r&1)!==0){for(var o=n.read_shift(4),l=0;l!=o;++l)a.push(H9e(n));s.r=a}else s.r=[{ich:0,ifnt:0}];return n.l=t+e,s}var j9e=R7;function Ic(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function cx(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}var W9e=Po;function N7(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}var Y9e=Po,lz=N7;function I7(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?wI([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ry(e,0)>>2;return t?i/100:i}function Dhe(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}var fx=Dhe;function Eo(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function q9e(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),a=n.read_shift(2,"i"),s=n.read_shift(1),o=n.read_shift(1),l=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var u=Ay[i];u&&(e.rgb=iA(u));break;case 2:e.rgb=iA([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function X9e(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function Rhe(n,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=n.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return t[n.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return n.l-=4,n.read_shift(0,e==1?"lpstr":"lpwstr")}function Z9e(n){return Rhe(n,1)}function K9e(n){return Rhe(n,2)}var k7=2,Fl=3,xD=11,rQ=12,TI=19,_D=64,$9e=65,J9e=71,Q9e=4108,e7e=4126,Ds=80,Nhe=81,t7e=[Ds,Nhe],n7e={1:{n:"CodePage",t:k7},2:{n:"Category",t:Ds},3:{n:"PresentationFormat",t:Ds},4:{n:"ByteCount",t:Fl},5:{n:"LineCount",t:Fl},6:{n:"ParagraphCount",t:Fl},7:{n:"SlideCount",t:Fl},8:{n:"NoteCount",t:Fl},9:{n:"HiddenCount",t:Fl},10:{n:"MultimediaClipCount",t:Fl},11:{n:"ScaleCrop",t:xD},12:{n:"HeadingPairs",t:Q9e},13:{n:"TitlesOfParts",t:e7e},14:{n:"Manager",t:Ds},15:{n:"Company",t:Ds},16:{n:"LinksUpToDate",t:xD},17:{n:"CharacterCount",t:Fl},19:{n:"SharedDoc",t:xD},22:{n:"HyperlinksChanged",t:xD},23:{n:"AppVersion",t:Fl,p:"version"},24:{n:"DigSig",t:$9e},26:{n:"ContentType",t:Ds},27:{n:"ContentStatus",t:Ds},28:{n:"Language",t:Ds},29:{n:"Version",t:Ds},255:{},2147483648:{n:"Locale",t:TI},2147483651:{n:"Behavior",t:TI},1919054434:{}},r7e={1:{n:"CodePage",t:k7},2:{n:"Title",t:Ds},3:{n:"Subject",t:Ds},4:{n:"Author",t:Ds},5:{n:"Keywords",t:Ds},6:{n:"Comments",t:Ds},7:{n:"Template",t:Ds},8:{n:"LastAuthor",t:Ds},9:{n:"RevNumber",t:Ds},10:{n:"EditTime",t:_D},11:{n:"LastPrinted",t:_D},12:{n:"CreatedDate",t:_D},13:{n:"ModifiedDate",t:_D},14:{n:"PageCount",t:Fl},15:{n:"WordCount",t:Fl},16:{n:"CharCount",t:Fl},17:{n:"Thumbnail",t:J9e},18:{n:"Application",t:Ds},19:{n:"DocSecurity",t:Fl},255:{},2147483648:{n:"Locale",t:TI},2147483651:{n:"Behavior",t:TI},1919054434:{}},iQ={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},i7e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function a7e(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var s7e=a7e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ay=Ks(s7e),dx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Ihe={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},aQ={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function o7e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function l7e(n){var e=o7e();if(!n||!n.match)return e;var t={};if((n.match(zo)||[]).forEach(function(r){var i=Wn(r);switch(i[0].replace(m9e,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[aQ[i.ContentType]]!==void 0&&e[aQ[i.ContentType]].push(i.PartName);break}}),e.xmlns!==M9e.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var B_={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function uz(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function qT(n,e){var t={"!id":{}};if(!n)return t;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(n.match(zo)||[]).forEach(function(i){var a=Wn(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:bT(a.Target,e);t[o]=s,r[a.Id]=s}}),t["!id"]=r,t}var u7e="application/vnd.oasis.opendocument.spreadsheet";function c7e(n,e){for(var t=A7(n),r,i;r=nA.exec(t);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Wn(r[0],!1),i.path=="/"&&i.type!==u7e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var XT=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],f7e=(function(){for(var n=new Array(XT.length),e=0;e<XT.length;++e){var t=XT[e],r="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);n[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return n})();function khe(n){var e={};n=Ri(n);for(var t=0;t<XT.length;++t){var r=XT[t],i=n.match(f7e[t]);i!=null&&i.length>0&&(e[r[1]]=Wr(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=ks(e[r[1]]))}return e}var d7e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Lhe(n,e,t,r){var i=[];if(typeof n=="string")i=ZJ(n,r);else for(var a=0;a<n.length;++a)i=i.concat(n[a].map(function(c){return{v:c}}));var s=typeof e=="string"?ZJ(e,r).map(function(c){return c.v}):e,o=0,l=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=l,t.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=l,t.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":t.Chartsheets=l,t.ChartNames=s.slice(o,o+l);break}o+=l}}function h7e(n,e,t){var r={};return e||(e={}),n=Ri(n),d7e.forEach(function(i){var a=(n.match(tA(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=Wr(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=n.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(r[i[1]]=s[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&Lhe(r.HeadingPairs,r.TitlesOfParts,e,t),e}var p7e=/<[^>]+>[^<]*/g;function v7e(n,e){var t={},r="",i=n.match(p7e);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=Wn(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Wr(o.name);break;case"</property>":r=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),u=l[0].slice(4),c=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":t[r]=Wr(c);break;case"bool":t[r]=Gi(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[r]=parseInt(c,10);break;case"r4":case"r8":case"decimal":t[r]=parseFloat(c);break;case"filetime":case"date":t[r]=ks(c);break;case"cy":case"error":t[r]=Wr(c);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return t}var m7e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},tF;function g7e(n,e,t){tF||(tF=w7(m7e)),e=tF[e]||e,n[e]=t}function L7(n){var e=n.read_shift(4),t=n.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Phe(n,e,t){var r=n.l,i=n.read_shift(0,"lpstr-cp");if(t)for(;n.l-r&3;)++n.l;return i}function Ohe(n,e,t){var r=n.read_shift(0,"lpwstr");return r}function Fhe(n,e,t){return e===31?Ohe(n):Phe(n,e,t)}function cz(n,e,t){return Fhe(n,e,t===!1?0:4)}function y7e(n,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Fhe(n,e,0)}function x7e(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r){var i=n.l;t[r]=n.read_shift(0,"lpwstr").replace(yl,""),n.l-i&2&&(n.l+=2)}return t}function _7e(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r)t[r]=n.read_shift(0,"lpstr-cp").replace(yl,"");return t}function b7e(n){var e=n.l,t=CI(n,Nhe);n[n.l]==0&&n[n.l+1]==0&&n.l-e&2&&(n.l+=2);var r=CI(n,Fl);return[t,r]}function S7e(n){for(var e=n.read_shift(4),t=[],r=0;r<e/2;++r)t.push(b7e(n));return t}function sQ(n,e){for(var t=n.read_shift(4),r={},i=0;i!=t;++i){var a=n.read_shift(4),s=n.read_shift(4);r[a]=n.read_shift(s,e===1200?"utf16le":"utf8").replace(yl,"").replace(_T,"!"),e===1200&&s%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>3<<2),r}function Bhe(n){var e=n.read_shift(4),t=n.slice(n.l,n.l+e);return n.l+=e,(e&3)>0&&(n.l+=4-(e&3)&3),t}function w7e(n){var e={};return e.Size=n.read_shift(4),n.l+=e.Size+3-(e.Size-1)%4,e}function CI(n,e,t){var r=n.read_shift(2),i,a=t||{};if(n.l+=2,e!==rQ&&r!==e&&t7e.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===rQ?r:e){case 2:return i=n.read_shift(2,"i"),a.raw||(n.l+=2),i;case 3:return i=n.read_shift(4,"i"),i;case 11:return n.read_shift(4)!==0;case 19:return i=n.read_shift(4),i;case 30:return Phe(n,r,4).replace(yl,"");case 31:return Ohe(n);case 64:return L7(n);case 65:return Bhe(n);case 71:return w7e(n);case 80:return cz(n,r,!a.raw).replace(yl,"");case 81:return y7e(n,r).replace(yl,"");case 4108:return S7e(n);case 4126:case 4127:return r==4127?x7e(n):_7e(n);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function oQ(n,e){var t=n.l,r=n.read_shift(4),i=n.read_shift(4),a=[],s=0,o=0,l=-1,u={};for(s=0;s!=i;++s){var c=n.read_shift(4),f=n.read_shift(4);a[s]=[c,f+t]}a.sort(function(_,S){return _[1]-S[1]});var d={};for(s=0;s!=i;++s){if(n.l!==a[s][1]){var h=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:n.l+2===a[s][1]&&(n.l+=2,h=!1);break;case 80:n.l<=a[s][1]&&(n.l=a[s][1],h=!1);break;case 4108:n.l<=a[s][1]&&(n.l=a[s][1],h=!1);break}if((!e||s==0)&&n.l<=a[s][1]&&(h=!1,n.l=a[s][1]),h)throw new Error("Read Error: Expected address "+a[s][1]+" at "+n.l+" :"+s)}if(e){var p=e[a[s][0]];if(d[p.n]=CI(n,p.t,{raw:!0}),p.p==="version"&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(d[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:_f(o=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(a[s][0]===1){if(o=d.CodePage=CI(n,k7),_f(o),l!==-1){var m=n.l;n.l=a[l][1],u=sQ(n,o),n.l=m}}else if(a[s][0]===0){if(o===0){l=s,n.l=a[s+1][1];continue}u=sQ(n,o)}else{var g=u[a[s][0]],y;switch(n[n.l]){case 65:n.l+=4,y=Bhe(n);break;case 30:n.l+=4,y=cz(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,y=cz(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,y=n.read_shift(4,"i");break;case 19:n.l+=4,y=n.read_shift(4);break;case 5:n.l+=4,y=n.read_shift(8,"f");break;case 11:n.l+=4,y=Ca(n,4);break;case 64:n.l+=4,y=ks(L7(n));break;default:throw new Error("unparsed value: "+n[n.l])}d[g]=y}}return n.l=t+r,d}function lQ(n,e,t){var r=n.content;if(!r)return{};Xs(r,0);var i,a,s,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var u=r.read_shift(4),c=r.read_shift(16);if(c!==zr.utils.consts.HEADER_CLSID&&c!==t)throw new Error("Bad PropertySet CLSID "+c);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(s=r.read_shift(16),l=r.read_shift(4));var f=oQ(r,e),d={SystemIdentifier:u};for(var h in f)d[h]=f[h];if(d.FMTID=a,i===1)return d;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var p;try{p=oQ(r,null)}catch{}for(h in p)d[h]=p[h];return d.FMTID=[a,s],d}function H0(n,e){return n.read_shift(e),null}function T7e(n,e,t){for(var r=[],i=n.l+e;n.l<i;)r.push(t(n,i-n.l));if(i!==n.l)throw new Error("Slurp error");return r}function Ca(n,e){return n.read_shift(e)===1}function Ga(n){return n.read_shift(2,"u")}function zhe(n,e){return T7e(n,e,Ga)}function C7e(n){var e=n.read_shift(1),t=n.read_shift(1);return t===1?e:e===1}function sM(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=n.read_shift(1);a&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var s=r?n.read_shift(r,i):"";return s}function A7e(n){var e=n.read_shift(2),t=n.read_shift(1),r=t&4,i=t&8,a=1+(t&1),s=0,o,l={};i&&(s=n.read_shift(2)),r&&(o=n.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",c=e===0?"":n.read_shift(e,u);return i&&(n.l+=4*s),r&&(n.l+=o),l.t=c,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Yy(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function oM(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):Yy(n,r,t)}function hx(n,e,t){if(t.biff>5)return oM(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function M7e(n){var e=n.read_shift(1);n.l++;var t=n.read_shift(2);return n.l+=2,[e,t]}function E7e(n){var e=n.read_shift(4),t=n.l,r=!1;e>24&&(n.l+=e-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),n.l=t);var i=n.read_shift((r?e-24:e)>>1,"utf16le").replace(yl,"");return r&&(n.l+=24),i}function D7e(n){for(var e=n.read_shift(2),t="";e-- >0;)t+="../";var r=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=n.read_shift(4);if(i===0)return t+r.replace(/\\/g,"/");var a=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=n.read_shift(a>>1,"utf16le").replace(yl,"");return t+s}function R7e(n,e){var t=n.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return E7e(n);case"0303000000000000c000000000000046":return D7e(n);default:throw new Error("Unsupported Moniker "+t)}}function bD(n){var e=n.read_shift(4),t=e>0?n.read_shift(e,"utf16le").replace(yl,""):"";return t}function N7e(n,e){var t=n.l+e,r=n.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=n.read_shift(2);n.l+=2;var a,s,o,l,u="",c,f;i&16&&(a=bD(n,t-n.l)),i&128&&(s=bD(n,t-n.l)),(i&257)===257&&(o=bD(n,t-n.l)),(i&257)===1&&(l=R7e(n,t-n.l)),i&8&&(u=bD(n,t-n.l)),i&32&&(c=n.read_shift(16)),i&64&&(f=L7(n)),n.l=t;var d=s||o||l||"";d&&u&&(d+="#"+u),d||(d="#"+u),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return c&&(h.guid=c),f&&(h.time=f),a&&(h.Tooltip=a),h}function Uhe(n){var e=n.read_shift(1),t=n.read_shift(1),r=n.read_shift(1),i=n.read_shift(1);return[e,t,r,i]}function Vhe(n,e){var t=Uhe(n);return t[3]=0,t}function lh(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return{r:e,c:t,ixfe:r}}function I7e(n){var e=n.read_shift(2),t=n.read_shift(2);return n.l+=8,{type:e,flags:t}}function k7e(n,e,t){return e===0?"":hx(n,e,t)}function L7e(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),a=n.read_shift(r,"i"),s=n.read_shift(r,"i");return[i,a,s]}function Ghe(n){var e=n.read_shift(2),t=I7(n);return[e,t]}function P7e(n,e,t){n.l+=4,e-=4;var r=n.l+e,i=sM(n,e,t),a=n.read_shift(2);if(r-=n.l,a!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+a);return n.l+=a,i}function RL(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function Hhe(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(1),i=n.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:t}}}var O7e=Hhe;function jhe(n){n.l+=4;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return n.l+=12,[t,e,r]}function F7e(n){var e={};return n.l+=4,n.l+=16,e.fSharedNote=n.read_shift(2),n.l+=4,e}function B7e(n){var e={};return n.l+=4,n.cf=n.read_shift(2),e}function yo(n){n.l+=2,n.l+=n.read_shift(2)}var z7e={0:yo,4:yo,5:yo,6:yo,7:B7e,8:yo,9:yo,10:yo,11:yo,12:yo,13:F7e,14:yo,15:yo,16:yo,17:yo,18:yo,19:yo,20:yo,21:jhe};function U7e(n,e){for(var t=n.l+e,r=[];n.l<t;){var i=n.read_shift(2);n.l-=2;try{r.push(z7e[i](n,t-n.l))}catch{return n.l=t,r}}return n.l!=t&&(n.l=t),r}function SD(n,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=n.read_shift(2),e-=2,e>=2&&(t.dt=n.read_shift(2),n.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return n.read_shift(e),t}function V7e(n,e){return e===0||n.read_shift(2),1200}function G7e(n,e,t){if(t.enc)return n.l+=e,"";var r=n.l,i=hx(n,0,t);return n.read_shift(e+r-n.l),i}function H7e(n,e,t){var r=t&&t.biff==8||e==2?n.read_shift(2):(n.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function j7e(n,e,t){var r=n.read_shift(4),i=n.read_shift(1)&3,a=n.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=sM(n,0,t);return s.length===0&&(s="Sheet1"),{pos:r,hs:i,dt:a,name:s}}function W7e(n,e){for(var t=n.l+e,r=n.read_shift(4),i=n.read_shift(4),a=[],s=0;s!=i&&n.l<t;++s)a.push(A7e(n));return a.Count=r,a.Unique=i,a}function Y7e(n,e){var t={};return t.dsst=n.read_shift(2),n.l+=e-2,t}function q7e(n){var e={};e.r=n.read_shift(2),e.c=n.read_shift(2),e.cnt=n.read_shift(2)-e.c;var t=n.read_shift(2);n.l+=4;var r=n.read_shift(1);return n.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=t/20),e}function X7e(n){var e=I7e(n);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=n.read_shift(4);return t!==0}function Z7e(n){return n.read_shift(2),n.read_shift(4)}function uQ(n,e,t){var r=0;t&&t.biff==2||(r=n.read_shift(2));var i=n.read_shift(2);t&&t.biff==2&&(r=1-(i>>15),i&=32767);var a={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[a,i]}function K7e(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2),a=n.read_shift(2),s=n.read_shift(2),o=n.read_shift(2),l=n.read_shift(2),u=n.read_shift(2);return{Pos:[e,t],Dim:[r,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:u}}function $7e(n,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var r=n.read_shift(2);return{RTL:r&64}}function J7e(){}function Q7e(n,e,t){var r={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return r.name=sM(n,0,t),r}function eGe(n){var e=lh(n);return e.isst=n.read_shift(4),e}function tGe(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=n.l+e,i=lh(n);t.biff==2&&n.l++;var a=oM(n,r-n.l,t);return i.val=a,i}function nGe(n,e,t){var r=n.read_shift(2),i=hx(n,0,t);return[r,i]}var rGe=hx;function cQ(n,e,t){var r=n.l+e,i=t.biff==8||!t.biff?4:2,a=n.read_shift(i),s=n.read_shift(i),o=n.read_shift(2),l=n.read_shift(2);return n.l=r,{s:{r:a,c:o},e:{r:s,c:l}}}function iGe(n){var e=n.read_shift(2),t=n.read_shift(2),r=Ghe(n);return{r:e,c:t,ixfe:r[0],rknum:r[1]}}function aGe(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),a=[];n.l<t;)a.push(Ghe(n));if(n.l!==t)throw new Error("MulRK read error");var s=n.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:s,rkrec:a}}function sGe(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),a=[];n.l<t;)a.push(n.read_shift(2));if(n.l!==t)throw new Error("MulBlank read error");var s=n.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:s,ixfe:a}}function oGe(n,e,t,r){var i={},a=n.read_shift(4),s=n.read_shift(4),o=n.read_shift(4),l=n.read_shift(2);return i.patternType=i7e[o>>26],r.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function lGe(n,e,t){var r={};return r.ifnt=n.read_shift(2),r.numFmtId=n.read_shift(2),r.flags=n.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=oGe(n,e,r.fStyle,t),r}function uGe(n){n.l+=4;var e=[n.read_shift(2),n.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function fQ(n,e,t){var r=lh(n);(t.biff==2||e==9)&&++n.l;var i=C7e(n);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function cGe(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=lh(n),i=Eo(n);return r.val=i,r}var dQ=k7e;function fGe(n,e,t){var r=n.l+e,i=n.read_shift(2),a=n.read_shift(2);if(t.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=Yy(n,a),o=[];r>n.l;)o.push(oM(n));return[a,i,s,o]}function hQ(n,e,t){var r=n.read_shift(2),i,a={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return t.sbcch===14849&&(i=P7e(n,e-2,t)),a.body=i||n.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var dGe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function pQ(n,e,t){var r=n.l+e,i=n.read_shift(2),a=n.read_shift(1),s=n.read_shift(1),o=n.read_shift(t&&t.biff==2?1:2),l=0;(!t||t.biff>=5)&&(t.biff!=5&&(n.l+=2),l=n.read_shift(2),t.biff==5&&(n.l+=2),n.l+=4);var u=Yy(n,s,t);i&32&&(u=dGe[u.charCodeAt(0)]);var c=r-n.l;t&&t.biff==2&&--c;var f=r==n.l||o===0||!(c>0)?[]:qWe(n,c,t,o);return{chKey:a,Name:u,itab:l,rgce:f}}function Whe(n,e,t){if(t.biff<8)return hGe(n,e,t);for(var r=[],i=n.l+e,a=n.read_shift(t.biff>8?4:2);a--!==0;)r.push(L7e(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function hGe(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=sM(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function pGe(n,e,t){if(t.biff<8){n.l+=e;return}var r=n.read_shift(2),i=n.read_shift(2),a=Yy(n,r,t),s=Yy(n,i,t);return[a,s]}function vGe(n,e,t){var r=Hhe(n);n.l++;var i=n.read_shift(1);return e-=8,[XWe(n,e,t),i,r]}function vQ(n,e,t){var r=O7e(n);switch(t.biff){case 2:n.l++,e-=7;break;case 3:case 4:n.l+=2,e-=8;break;default:n.l+=6,e-=12}return[r,WWe(n,e,t)]}function mGe(n){var e=n.read_shift(4)!==0,t=n.read_shift(4)!==0,r=n.read_shift(4);return[e,t,r]}function gGe(n,e,t){if(!(t.biff<8)){var r=n.read_shift(2),i=n.read_shift(2),a=n.read_shift(2),s=n.read_shift(2),o=hx(n,0,t);return t.biff<8&&n.read_shift(1),[{r,c:i},o,s,a]}}function yGe(n,e,t){return gGe(n,e,t)}function xGe(n,e){for(var t=[],r=n.read_shift(2);r--;)t.push(RL(n));return t}function _Ge(n,e,t){if(t&&t.biff<8)return SGe(n,e,t);var r=jhe(n),i=U7e(n,e-22,r[1]);return{cmo:r,ft:i}}var bGe={8:function(n,e){var t=n.l+e;n.l+=10;var r=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var i=n.read_shift(1);return n.l+=i,n.l=t,{fmt:r}}};function SGe(n,e,t){n.l+=4;var r=n.read_shift(2),i=n.read_shift(2),a=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,e-=36;var s=[];return s.push((bGe[r]||Bo)(n,e,t)),{cmo:[i,r,a],ft:s}}function wGe(n,e,t){var r=n.l,i="";try{n.l+=4;var a=(t.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?n.l+=6:s=M7e(n,6,t);var o=n.read_shift(2);n.read_shift(2),Ga(n,2);var l=n.read_shift(2);n.l+=l;for(var u=1;u<n.lens.length-1;++u){if(n.l-r!=n.lens[u])throw new Error("TxO: bad continue record");var c=n[n.l],f=Yy(n,n.lens[u+1]-n.lens[u]-1);if(i+=f,i.length>=(c?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return n.l=r+e,{t:i}}catch{return n.l=r+e,{t:i}}}function TGe(n,e){var t=RL(n);n.l+=16;var r=N7e(n,e-24);return[t,r]}function CGe(n,e){n.read_shift(2);var t=RL(n),r=n.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(yl,""),[t,r]}function AGe(n){var e=[0,0],t;return t=n.read_shift(2),e[0]=iQ[t]||t,t=n.read_shift(2),e[1]=iQ[t]||t,e}function MGe(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(Vhe(n));return t}function EGe(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(Vhe(n));return t}function DGe(n){n.l+=2;var e={cxfs:0,crc:0};return e.cxfs=n.read_shift(2),e.crc=n.read_shift(4),e}function Yhe(n,e,t){if(!t.cellStyles)return Bo(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),a=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),l=n.read_shift(2);r==2&&(n.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(u.level=l>>8&7),u}function RGe(n,e){var t={};return e<32||(n.l+=16,t.header=Eo(n),t.footer=Eo(n),n.l+=2),t}function NGe(n,e,t){var r={area:!1};if(t.biff!=5)return n.l+=e,r;var i=n.read_shift(1);return n.l+=3,i&16&&(r.area=!0),r}var IGe=lh,kGe=zhe,LGe=oM;function PGe(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i={fmt:e,env:t,len:r,data:n.slice(n.l,n.l+r)};return n.l+=r,i}function OGe(n,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var r=lh(n);++n.l;var i=hx(n,e-7,t);return r.t="str",r.val=i,r}function FGe(n){var e=lh(n);++n.l;var t=Eo(n);return e.t="n",e.val=t,e}function BGe(n){var e=lh(n);++n.l;var t=n.read_shift(2);return e.t="n",e.val=t,e}function zGe(n){var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,"sbcs-cont")}function UGe(n,e){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=e-13}function VGe(n,e,t){var r=n.l+e,i=lh(n),a=n.read_shift(2),s=Yy(n,a,t);return n.l=r,i.t="str",i.val=s,i}var GGe=[2,3,48,49,131,139,140,245],mQ=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=w7({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var u=[],c=Uv(1);switch(l.type){case"base64":c=gf(Cu(o));break;case"binary":c=gf(o);break;case"buffer":case"array":c=o;break}Xs(c,0);var f=c.read_shift(1),d=!!(f&136),h=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,g=521;f==2&&(m=c.read_shift(2)),c.l+=3,f!=2&&(m=c.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(g=c.read_shift(2));var y=c.read_shift(2),_=l.codepage||1252;f!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(_=n[c[c.l]]),c.l+=1,c.l+=2),p&&(c.l+=36);for(var S=[],A={},M=Math.min(c.length,f==2?521:g-10-(h?264:0)),E=p?32:11;c.l<M&&c[c.l]!=13;)switch(A={},A.name=QC.utils.decode(_,c.slice(c.l,c.l+E)).replace(/[\u0000\r\n].*$/g,""),c.l+=E,A.type=String.fromCharCode(c.read_shift(1)),f!=2&&!p&&(A.offset=c.read_shift(4)),A.len=c.read_shift(1),f==2&&(A.offset=c.read_shift(2)),A.dec=c.read_shift(1),A.name.length&&S.push(A),f!=2&&(c.l+=p?13:14),A.type){case"B":(!h||A.len!=8)&&l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(c[c.l]!==13&&(c.l=g-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=g;var D=0,I=0;for(u[0]=[],I=0;I!=S.length;++I)u[0][I]=S[I].name;for(;m-- >0;){if(c[c.l]===42){c.l+=y;continue}for(++c.l,u[++D]=[],I=0,I=0;I!=S.length;++I){var N=c.slice(c.l,c.l+S[I].len);c.l+=S[I].len,Xs(N,0);var L=QC.utils.decode(_,N);switch(S[I].type){case"C":L.trim().length&&(u[D][I]=L.replace(/\s+$/,""));break;case"D":L.length===8?u[D][I]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):u[D][I]=L;break;case"F":u[D][I]=parseFloat(L.trim());break;case"+":case"I":u[D][I]=p?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":u[D][I]=!0;break;case"N":case"F":u[D][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[D][I]="##MEMO##"+(p?parseInt(L.trim(),10):N.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(u[D][I]=+L||0);break;case"@":u[D][I]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":u[D][I]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":u[D][I]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[D][I]=-N.read_shift(-8,"f");break;case"B":if(h&&S[I].len==8){u[D][I]=N.read_shift(8,"f");break}case"G":case"P":N.l+=S[I].len;break;case"0":if(S[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[I].type)}}}if(f!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=S,u}function r(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=mS(t(o,u),u);return c["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,c}function i(o,l){try{return nm(r(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&_f(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=oz(),f=gz(o,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),p=o["!cols"]||[],m=0,g=0,y=0,_=1;for(m=0;m<d.length;++m){if(((p[m]||{}).DBF||{}).name){d[m]=p[m].DBF.name,++y;continue}if(d[m]!=null){if(++y,typeof d[m]=="number"&&(d[m]=d[m].toString(10)),typeof d[m]!="string")throw new Error("DBF Invalid column name "+d[m]+" |"+typeof d[m]+"|");if(d.indexOf(d[m])!==m){for(g=0;g<1024;++g)if(d.indexOf(d[m]+"_"+g)==-1){d[m]+="_"+g;break}}}}var S=ma(o["!ref"]),A=[],M=[],E=[];for(m=0;m<=S.e.c-S.s.c;++m){var D="",I="",N=0,L=[];for(g=0;g<h.length;++g)h[g][m]!=null&&L.push(h[g][m]);if(L.length==0||d[m]==null){A[m]="?";continue}for(g=0;g<L.length;++g){switch(typeof L[g]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=L[g]instanceof Date?"D":"C";break;default:I="C"}N=Math.max(N,String(L[g]).length),D=D&&D!=I?"C":I}N>250&&(N=250),I=((p[m]||{}).DBF||{}).type,I=="C"&&p[m].DBF.len>N&&(N=p[m].DBF.len),D=="B"&&I=="N"&&(D="N",E[m]=p[m].DBF.dec,N=p[m].DBF.len),M[m]=D=="C"||I=="N"?N:a[D]||0,_+=M[m],A[m]=D}var B=c.next(32);for(B.write_shift(4,318902576),B.write_shift(4,h.length),B.write_shift(2,296+32*y),B.write_shift(2,_),m=0;m<4;++m)B.write_shift(4,0);for(B.write_shift(4,0|(+e[jde]||3)<<8),m=0,g=0;m<d.length;++m)if(d[m]!=null){var O=c.next(32),G=(d[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,G,"sbcs"),O.write_shift(1,A[m]=="?"?"C":A[m],"sbcs"),O.write_shift(4,g),O.write_shift(1,M[m]||a[A[m]]||0),O.write_shift(1,E[m]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),g+=M[m]||a[A[m]]||0}var V=c.next(264);for(V.write_shift(4,13),m=0;m<65;++m)V.write_shift(4,0);for(m=0;m<h.length;++m){var q=c.next(_);for(q.write_shift(1,0),g=0;g<d.length;++g)if(d[g]!=null)switch(A[g]){case"L":q.write_shift(1,h[m][g]==null?63:h[m][g]?84:70);break;case"B":q.write_shift(8,h[m][g]||0,"f");break;case"N":var W="0";for(typeof h[m][g]=="number"&&(W=h[m][g].toFixed(E[g]||0)),y=0;y<M[g]-W.length;++y)q.write_shift(1,32);q.write_shift(1,W,"sbcs");break;case"D":h[m][g]?(q.write_shift(4,("0000"+h[m][g].getFullYear()).slice(-4),"sbcs"),q.write_shift(2,("00"+(h[m][g].getMonth()+1)).slice(-2),"sbcs"),q.write_shift(2,("00"+h[m][g].getDate()).slice(-2),"sbcs")):q.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(h[m][g]!=null?h[m][g]:"").slice(0,M[g]);for(q.write_shift(1,Z,"sbcs"),y=0;y<M[g]-Z.length;++y)q.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:r,from_sheet:s}})(),HGe=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+nh(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(d,h){var p=n[h];return typeof p=="number"?IJ(p):p},r=function(d,h,p){var m=h.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return m==59?d:IJ(m)};n["|"]=254;function i(d,h){switch(h.type){case"base64":return a(Cu(d),h);case"binary":return a(d,h);case"buffer":return a(Or&&Buffer.isBuffer(d)?d.toString("binary"):lx(d),h);case"array":return a(Wy(d),h)}throw new Error("Unrecognized type "+h.type)}function a(d,h){var p=d.split(/[\n\r]+/),m=-1,g=-1,y=0,_=0,S=[],A=[],M=null,E={},D=[],I=[],N=[],L=0,B;for(+h.codepage>=0&&_f(+h.codepage);y!==p.length;++y){L=0;var O=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),G=O.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),V=G[0],q;if(O.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":G[1].charAt(0)=="P"&&A.push(O.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,Z=!1,X=!1,K=!1,se=-1,J=-1;for(_=1;_<G.length;++_)switch(G[_].charAt(0)){case"A":break;case"X":g=parseInt(G[_].slice(1))-1,Z=!0;break;case"Y":for(m=parseInt(G[_].slice(1))-1,Z||(g=0),B=S.length;B<=m;++B)S[B]=[];break;case"K":q=G[_].slice(1),q.charAt(0)==='"'?q=q.slice(1,q.length-1):q==="TRUE"?q=!0:q==="FALSE"?q=!1:isNaN(Ef(q))?isNaN(Db(q).getDate())||(q=ks(q)):(q=Ef(q),M!==null&&ux(M)&&(q=DL(q))),W=!0;break;case"E":K=!0;var H=nb(G[_].slice(1),{r:m,c:g});S[m][g]=[S[m][g],H];break;case"S":X=!0,S[m][g]=[S[m][g],"S5S"];break;case"G":break;case"R":se=parseInt(G[_].slice(1))-1;break;case"C":J=parseInt(G[_].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+O)}if(W&&(S[m][g]&&S[m][g].length==2?S[m][g][0]=q:S[m][g]=q,M=null),X){if(K)throw new Error("SYLK shared formula cannot have own formula");var ee=se>-1&&S[se][J];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");S[m][g][1]=npe(ee[1],{r:m-se,c:g-J})}break;case"F":var Q=0;for(_=1;_<G.length;++_)switch(G[_].charAt(0)){case"X":g=parseInt(G[_].slice(1))-1,++Q;break;case"Y":for(m=parseInt(G[_].slice(1))-1,B=S.length;B<=m;++B)S[B]=[];break;case"M":L=parseInt(G[_].slice(1))/20;break;case"F":break;case"G":break;case"P":M=A[parseInt(G[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=G[_].slice(1).split(" "),B=parseInt(N[0],10);B<=parseInt(N[1],10);++B)L=parseInt(N[2],10),I[B-1]=L===0?{hidden:!0}:{wch:L},Rb(I[B-1]);break;case"C":g=parseInt(G[_].slice(1))-1,I[g]||(I[g]={});break;case"R":m=parseInt(G[_].slice(1))-1,D[m]||(D[m]={}),L>0?(D[m].hpt=L,D[m].hpx=aA(L)):L===0&&(D[m].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+O)}Q<1&&(M=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+O)}}return D.length>0&&(E["!rows"]=D),I.length>0&&(E["!cols"]=I),h&&h.sheetRows&&(S=S.slice(0,h.sheetRows)),[S,E]}function s(d,h){var p=i(d,h),m=p[0],g=p[1],y=mS(m,h);return nh(g).forEach(function(_){y[_]=g[_]}),y}function o(d,h){return nm(s(d,h),h)}function l(d,h,p,m){var g="C;Y"+(p+1)+";X"+(m+1)+";K";switch(d.t){case"n":g+=d.v||0,d.f&&!d.F&&(g+=";E"+Dje(d.f,{r:p,c:m}));break;case"b":g+=d.v?"TRUE":"FALSE";break;case"e":g+=d.w||d.v;break;case"d":g+='"'+(d.w||d.v)+'"';break;case"s":g+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(d,h){h.forEach(function(p,m){var g="F;W"+(m+1)+" "+(m+1)+" ";p.hidden?g+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=MI(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=EI(p.wpx)),typeof p.wch=="number"&&(g+=Math.round(p.wch))),g.charAt(g.length-1)!=" "&&d.push(g)})}function c(d,h){h.forEach(function(p,m){var g="F;";p.hidden?g+="M0;":p.hpt?g+="M"+20*p.hpt+";":p.hpx&&(g+="M"+20*Qhe(p.hpx)+";"),g.length>2&&d.push(g+"R"+(m+1))})}function f(d,h){var p=["ID;PWXL;N;E"],m=[],g=ma(d["!ref"]),y,_=Array.isArray(d),S=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),d["!cols"]&&u(p,d["!cols"]),d["!rows"]&&c(p,d["!rows"]),p.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var A=g.s.r;A<=g.e.r;++A)for(var M=g.s.c;M<=g.e.c;++M){var E=er({r:A,c:M});y=_?(d[A]||[])[M]:d[E],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,d,A,M))}return p.join(S)+S+m.join(S)+S+"E"+S}return{to_workbook:o,to_sheet:s,from_sheet:f}})(),jGe=(function(){function n(a,s){switch(s.type){case"base64":return e(Cu(a),s);case"binary":return e(a,s);case"buffer":return e(Or&&Buffer.isBuffer(a)?a.toString("binary"):lx(a),s);case"array":return e(Wy(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,u=-1,c=0,f=[];c!==o.length;++c){if(o[c].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var d=o[c].trim().split(","),h=d[0],p=d[1];++c;for(var m=o[c]||"";(m.match(/["]/g)||[]).length&1&&c<o.length-1;)m+=`
`+o[++c];switch(m=m.trim(),+h){case-1:if(m==="BOT"){f[++l]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][u]=!0:m==="FALSE"?f[l][u]=!1:isNaN(Ef(p))?isNaN(Db(p).getDate())?f[l][u]=p:f[l][u]=ks(p):f[l][u]=Ef(p),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][u++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function t(a,s){return mS(n(a,s),s)}function r(a,s){return nm(t(a,s),s)}var i=(function(){var a=function(l,u,c,f,d){l.push(u),l.push(c+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},s=function(l,u,c,f){l.push(u+","+c),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],c=ma(l["!ref"]),f,d=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,c.e.r-c.s.r+1,""),a(u,"TUPLES",0,c.e.c-c.s.c+1,""),a(u,"DATA",0,0,"");for(var h=c.s.r;h<=c.e.r;++h){s(u,-1,0,"BOT");for(var p=c.s.c;p<=c.e.c;++p){var m=er({r:h,c:p});if(f=d?(l[h]||[])[p]:l[m],!f){s(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,g,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Au(f.z||Qn[14],Sl(ks(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var y=`\r
`,_=u.join(y);return _}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),WGe=(function(){function n(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(f,d){for(var h=f.split(`
`),p=-1,m=-1,g=0,y=[];g!==h.length;++g){var _=h[g].trim().split(":");if(_[0]==="cell"){var S=vl(_[1]);if(y.length<=S.r)for(p=y.length;p<=S.r;++p)y[p]||(y[p]=[]);switch(p=S.r,m=S.c,_[2]){case"t":y[p][m]=n(_[3]);break;case"v":y[p][m]=+_[3];break;case"vtf":var A=_[_.length-1];case"vtc":switch(_[3]){case"nl":y[p][m]=!!+_[4];break;default:y[p][m]=+_[4];break}_[2]=="vtf"&&(y[p][m]=[y[p][m],A])}}}return d&&d.sheetRows&&(y=y.slice(0,d.sheetRows)),y}function r(f,d){return mS(t(f,d),d)}function i(f,d){return nm(r(f,d),d)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],p,m="",g=vS(f["!ref"]),y=Array.isArray(f),_=g.s.r;_<=g.e.r;++_)for(var S=g.s.c;S<=g.e.c;++S)if(m=er({r:_,c:S}),p=y?(f[_]||[])[S]:f[m],!(!p||p.v==null||p.t==="z")){switch(h=["cell",m,"t"],p.t){case"s":case"str":h.push(e(p.v));break;case"n":p.f?(h[2]="vtf",h[3]="n",h[4]=p.v,h[5]=e(p.f)):(h[2]="v",h[3]=p.v);break;case"b":h[2]="vt"+(p.f?"f":"c"),h[3]="nl",h[4]=p.v?"1":"0",h[5]=e(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var A=Sl(ks(p.v));h[2]="vtc",h[3]="nd",h[4]=""+A,h[5]=p.w||Au(p.z||Qn[14],A);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function c(f){return[a,s,o,s,u(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:c}})(),rA=(function(){function n(c,f,d,h,p){p.raw?f[d][h]=c:c===""||(c==="TRUE"?f[d][h]=!0:c==="FALSE"?f[d][h]=!1:isNaN(Ef(c))?isNaN(Db(c).getDate())?f[d][h]=c:f[d][h]=ks(c):f[d][h]=Ef(c))}function e(c,f){var d=f||{},h=[];if(!c||c.length===0)return h;for(var p=c.split(/[\r\n]/),m=p.length-1;m>=0&&p[m].length===0;)--m;for(var g=10,y=0,_=0;_<=m;++_)y=p[_].indexOf(" "),y==-1?y=p[_].length:y++,g=Math.max(g,y);for(_=0;_<=m;++_){h[_]=[];var S=0;for(n(p[_].slice(0,g).trim(),h,_,S,d),S=1;S<=(p[_].length-g)/10+1;++S)n(p[_].slice(g+(S-1)*10,g+S*10).trim(),h,_,S,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(c){for(var f={},d=!1,h=0,p=0;h<c.length;++h)(p=c.charCodeAt(h))==34?d=!d:!d&&p in t&&(f[p]=(f[p]||0)+1);p=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h]);if(!p.length){f=r;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h])}return p.sort(function(m,g){return m[0]-g[0]||r[m[1]]-r[g[1]]}),t[p.pop()[1]]||44}function a(c,f){var d=f||{},h="",p=d.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(h=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(h=c.charAt(4),c=c.slice(6)):h=i(c.slice(0,1024)):d&&d.FS?h=d.FS:h=i(c.slice(0,1024));var g=0,y=0,_=0,S=0,A=0,M=h.charCodeAt(0),E=!1,D=0,I=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var N=d.dateNF!=null?n9e(d.dateNF):null;function L(){var B=c.slice(S,A),O={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)O.t="z";else if(d.raw)O.t="s",O.v=B;else if(B.trim().length===0)O.t="s",O.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(O.t="s",O.v=B.slice(2,-1).replace(/""/g,'"')):Nje(B)?(O.t="n",O.f=B.slice(1)):(O.t="s",O.v=B);else if(B=="TRUE")O.t="b",O.v=!0;else if(B=="FALSE")O.t="b",O.v=!1;else if(!isNaN(_=Ef(B)))O.t="n",d.cellText!==!1&&(O.w=B),O.v=_;else if(!isNaN(Db(B).getDate())||N&&B.match(N)){O.z=d.dateNF||Qn[14];var G=0;N&&B.match(N)&&(B=r9e(B,d.dateNF,B.match(N)||[]),G=1),d.cellDates?(O.t="d",O.v=ks(B,G)):(O.t="n",O.v=Sl(ks(B,G))),d.cellText!==!1&&(O.w=Au(O.z,O.v instanceof Date?Sl(O.v):O.v)),d.cellNF||delete O.z}else O.t="s",O.v=B;if(O.t=="z"||(d.dense?(p[g]||(p[g]=[]),p[g][y]=O):p[er({c:y,r:g})]=O),S=A+1,I=c.charCodeAt(S),m.e.c<y&&(m.e.c=y),m.e.r<g&&(m.e.r=g),D==M)++y;else if(y=0,++g,d.sheetRows&&d.sheetRows<=g)return!0}e:for(;A<c.length;++A)switch(D=c.charCodeAt(A)){case 34:I===34&&(E=!E);break;case M:case 10:case 13:if(!E&&L())break e;break}return A-S>0&&L(),p["!ref"]=Ur(m),p}function s(c,f){return!(f&&f.PRN)||f.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?a(c,f):mS(e(c,f),f)}function o(c,f){var d="",h=f.type=="string"?[0,0,0,0]:G7(c,f);switch(f.type){case"base64":d=Cu(c);break;case"binary":d=c;break;case"buffer":f.codepage==65001?d=c.toString("utf8"):f.codepage&&typeof QC<"u"||(d=Or&&Buffer.isBuffer(c)?c.toString("binary"):lx(c));break;case"array":d=Wy(c);break;case"string":d=c;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=Ri(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=Ri(d):f.type=="binary"&&typeof QC<"u",d.slice(0,19)=="socialcalc:version:"?WGe.to_sheet(f.type=="string"?d:Ri(d),f):s(d,f)}function l(c,f){return nm(o(c,f),f)}function u(c){for(var f=[],d=ma(c["!ref"]),h,p=Array.isArray(c),m=d.s.r;m<=d.e.r;++m){for(var g=[],y=d.s.c;y<=d.e.c;++y){var _=er({r:m,c:y});if(h=p?(c[m]||[])[y]:c[_],!h||h.v==null){g.push("          ");continue}for(var S=(h.w||(Fp(h),h.w)||"").slice(0,10);S.length<10;)S+=" ";g.push(S+(y===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}})();function YGe(n,e){var t=e||{},r=!!t.WTF;t.WTF=!0;try{var i=HGe.to_workbook(n,t);return t.WTF=r,i}catch(a){if(t.WTF=r,!a.message.match(/SYLK bad record ID/)&&r)throw a;return rA.to_workbook(n,e)}}var ZT=(function(){function n(H,ee,Q){if(H){Xs(H,H.l||0);for(var ne=Q.Enum||se;H.l<H.length;){var ce=H.read_shift(2),ve=ne[ce]||ne[65535],xe=H.read_shift(2),we=H.l+xe,Ae=ve.f&&ve.f(H,xe,Q);if(H.l=we,ee(Ae,ve,ce))return}}}function e(H,ee){switch(ee.type){case"base64":return t(gf(Cu(H)),ee);case"binary":return t(gf(H),ee);case"buffer":case"array":return t(H,ee)}throw"Unsupported type "+ee.type}function t(H,ee){if(!H)return H;var Q=ee||{},ne=Q.dense?[]:{},ce="Sheet1",ve="",xe=0,we={},Ae=[],Ue=[],pe={s:{r:0,c:0},e:{r:0,c:0}},pt=Q.sheetRows||0;if(H[2]==0&&(H[3]==8||H[3]==9)&&H.length>=16&&H[14]==5&&H[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(H[2]==2)Q.Enum=se,n(H,function(le,fe,be){switch(be){case 0:Q.vers=le,le>=4096&&(Q.qpro=!0);break;case 6:pe=le;break;case 204:le&&(ve=le);break;case 222:ve=le;break;case 15:case 51:Q.qpro||(le[1].v=le[1].v.slice(1));case 13:case 14:case 16:be==14&&(le[2]&112)==112&&(le[2]&15)>1&&(le[2]&15)<15&&(le[1].z=Q.dateNF||Qn[14],Q.cellDates&&(le[1].t="d",le[1].v=DL(le[1].v))),Q.qpro&&le[3]>xe&&(ne["!ref"]=Ur(pe),we[ce]=ne,Ae.push(ce),ne=Q.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},xe=le[3],ce=ve||"Sheet"+(xe+1),ve="");var Oe=Q.dense?(ne[le[0].r]||[])[le[0].c]:ne[er(le[0])];if(Oe){Oe.t=le[1].t,Oe.v=le[1].v,le[1].z!=null&&(Oe.z=le[1].z),le[1].f!=null&&(Oe.f=le[1].f);break}Q.dense?(ne[le[0].r]||(ne[le[0].r]=[]),ne[le[0].r][le[0].c]=le[1]):ne[er(le[0])]=le[1];break}},Q);else if(H[2]==26||H[2]==14)Q.Enum=J,H[2]==14&&(Q.qpro=!0,H.l=0),n(H,function(le,fe,be){switch(be){case 204:ce=le;break;case 22:le[1].v=le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(le[3]>xe&&(ne["!ref"]=Ur(pe),we[ce]=ne,Ae.push(ce),ne=Q.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},xe=le[3],ce="Sheet"+(xe+1)),pt>0&&le[0].r>=pt)break;Q.dense?(ne[le[0].r]||(ne[le[0].r]=[]),ne[le[0].r][le[0].c]=le[1]):ne[er(le[0])]=le[1],pe.e.c<le[0].c&&(pe.e.c=le[0].c),pe.e.r<le[0].r&&(pe.e.r=le[0].r);break;case 27:le[14e3]&&(Ue[le[14e3][0]]=le[14e3][1]);break;case 1537:Ue[le[0]]=le[1],le[0]==xe&&(ce=le[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+H[2]);if(ne["!ref"]=Ur(pe),we[ve||ce]=ne,Ae.push(ve||ce),!Ue.length)return{SheetNames:Ae,Sheets:we};for(var te={},oe=[],ge=0;ge<Ue.length;++ge)we[Ae[ge]]?(oe.push(Ue[ge]||Ae[ge]),te[Ue[ge]]=we[Ue[ge]]||we[Ae[ge]]):(oe.push(Ue[ge]),te[Ue[ge]]={"!ref":"A1"});return{SheetNames:oe,Sheets:te}}function r(H,ee){var Q=ee||{};if(+Q.codepage>=0&&_f(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=oz(),ce=ma(H["!ref"]),ve=Array.isArray(H),xe=[];sf(ne,0,a(1030)),sf(ne,6,l(ce));for(var we=Math.min(ce.e.r,8191),Ae=ce.s.r;Ae<=we;++Ae)for(var Ue=$s(Ae),pe=ce.s.c;pe<=ce.e.c;++pe){Ae===ce.s.r&&(xe[pe]=ss(pe));var pt=xe[pe]+Ue,te=ve?(H[Ae]||[])[pe]:H[pt];if(!(!te||te.t=="z"))if(te.t=="n")(te.v|0)==te.v&&te.v>=-32768&&te.v<=32767?sf(ne,13,h(Ae,pe,te.v)):sf(ne,14,m(Ae,pe,te.v));else{var oe=Fp(te);sf(ne,15,f(Ae,pe,oe.slice(0,239)))}}return sf(ne,1),ne.end()}function i(H,ee){var Q=ee||{};if(+Q.codepage>=0&&_f(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=oz();sf(ne,0,s(H));for(var ce=0,ve=0;ce<H.SheetNames.length;++ce)(H.Sheets[H.SheetNames[ce]]||{})["!ref"]&&sf(ne,27,K(H.SheetNames[ce],ve++));var xe=0;for(ce=0;ce<H.SheetNames.length;++ce){var we=H.Sheets[H.SheetNames[ce]];if(!(!we||!we["!ref"])){for(var Ae=ma(we["!ref"]),Ue=Array.isArray(we),pe=[],pt=Math.min(Ae.e.r,8191),te=Ae.s.r;te<=pt;++te)for(var oe=$s(te),ge=Ae.s.c;ge<=Ae.e.c;++ge){te===Ae.s.r&&(pe[ge]=ss(ge));var le=pe[ge]+oe,fe=Ue?(we[te]||[])[ge]:we[le];if(!(!fe||fe.t=="z"))if(fe.t=="n")sf(ne,23,L(te,ge,xe,fe.v));else{var be=Fp(fe);sf(ne,22,D(te,ge,xe,be.slice(0,239)))}}++xe}}return sf(ne,1),ne.end()}function a(H){var ee=ns(2);return ee.write_shift(2,H),ee}function s(H){var ee=ns(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var Q=0,ne=0,ce=0,ve=0;ve<H.SheetNames.length;++ve){var xe=H.SheetNames[ve],we=H.Sheets[xe];if(!(!we||!we["!ref"])){++ce;var Ae=vS(we["!ref"]);Q<Ae.e.r&&(Q=Ae.e.r),ne<Ae.e.c&&(ne=Ae.e.c)}}return Q>8191&&(Q=8191),ee.write_shift(2,Q),ee.write_shift(1,ce),ee.write_shift(1,ne),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function o(H,ee,Q){var ne={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&Q.qpro?(ne.s.c=H.read_shift(1),H.l++,ne.s.r=H.read_shift(2),ne.e.c=H.read_shift(1),H.l++,ne.e.r=H.read_shift(2),ne):(ne.s.c=H.read_shift(2),ne.s.r=H.read_shift(2),ee==12&&Q.qpro&&(H.l+=2),ne.e.c=H.read_shift(2),ne.e.r=H.read_shift(2),ee==12&&Q.qpro&&(H.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function l(H){var ee=ns(8);return ee.write_shift(2,H.s.c),ee.write_shift(2,H.s.r),ee.write_shift(2,H.e.c),ee.write_shift(2,H.e.r),ee}function u(H,ee,Q){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(ne[0].c=H.read_shift(1),ne[3]=H.read_shift(1),ne[0].r=H.read_shift(2),H.l+=2):(ne[2]=H.read_shift(1),ne[0].c=H.read_shift(2),ne[0].r=H.read_shift(2)),ne}function c(H,ee,Q){var ne=H.l+ee,ce=u(H,ee,Q);if(ce[1].t="s",Q.vers==20768){H.l++;var ve=H.read_shift(1);return ce[1].v=H.read_shift(ve,"utf8"),ce}return Q.qpro&&H.l++,ce[1].v=H.read_shift(ne-H.l,"cstr"),ce}function f(H,ee,Q){var ne=ns(7+Q.length);ne.write_shift(1,255),ne.write_shift(2,ee),ne.write_shift(2,H),ne.write_shift(1,39);for(var ce=0;ce<ne.length;++ce){var ve=Q.charCodeAt(ce);ne.write_shift(1,ve>=128?95:ve)}return ne.write_shift(1,0),ne}function d(H,ee,Q){var ne=u(H,ee,Q);return ne[1].v=H.read_shift(2,"i"),ne}function h(H,ee,Q){var ne=ns(7);return ne.write_shift(1,255),ne.write_shift(2,ee),ne.write_shift(2,H),ne.write_shift(2,Q,"i"),ne}function p(H,ee,Q){var ne=u(H,ee,Q);return ne[1].v=H.read_shift(8,"f"),ne}function m(H,ee,Q){var ne=ns(13);return ne.write_shift(1,255),ne.write_shift(2,ee),ne.write_shift(2,H),ne.write_shift(8,Q,"f"),ne}function g(H,ee,Q){var ne=H.l+ee,ce=u(H,ee,Q);if(ce[1].v=H.read_shift(8,"f"),Q.qpro)H.l=ne;else{var ve=H.read_shift(2);A(H.slice(H.l,H.l+ve),ce),H.l+=ve}return ce}function y(H,ee,Q){var ne=ee&32768;return ee&=-32769,ee=(ne?H:0)+(ee>=8192?ee-16384:ee),(ne?"":"$")+(Q?ss(ee):$s(ee))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(H,ee){Xs(H,0);for(var Q=[],ne=0,ce="",ve="",xe="",we="";H.l<H.length;){var Ae=H[H.l++];switch(Ae){case 0:Q.push(H.read_shift(8,"f"));break;case 1:ve=y(ee[0].c,H.read_shift(2),!0),ce=y(ee[0].r,H.read_shift(2),!1),Q.push(ve+ce);break;case 2:{var Ue=y(ee[0].c,H.read_shift(2),!0),pe=y(ee[0].r,H.read_shift(2),!1);ve=y(ee[0].c,H.read_shift(2),!0),ce=y(ee[0].r,H.read_shift(2),!1),Q.push(Ue+pe+":"+ve+ce)}break;case 3:if(H.l<H.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(H.read_shift(2));break;case 6:{for(var pt="";Ae=H[H.l++];)pt+=String.fromCharCode(Ae);Q.push('"'+pt.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:we=Q.pop(),xe=Q.pop(),Q.push(["AND","OR"][Ae-20]+"("+xe+","+we+")");break;default:if(Ae<32&&S[Ae])we=Q.pop(),xe=Q.pop(),Q.push(xe+S[Ae]+we);else if(_[Ae]){if(ne=_[Ae][1],ne==69&&(ne=H[H.l++]),ne>Q.length){console.error("WK1 bad formula parse 0x"+Ae.toString(16)+":|"+Q.join("|")+"|");return}var te=Q.slice(-ne);Q.length-=ne,Q.push(_[Ae][0]+"("+te.join(",")+")")}else return Ae<=7?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=24?console.error("WK1 unsupported op "+Ae.toString(16)):Ae<=30?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=115?console.error("WK1 unsupported function opcode "+Ae.toString(16)):console.error("WK1 unrecognized opcode "+Ae.toString(16))}}Q.length==1?ee[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function M(H){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=H.read_shift(2),ee[3]=H[H.l++],ee[0].c=H[H.l++],ee}function E(H,ee){var Q=M(H);return Q[1].t="s",Q[1].v=H.read_shift(ee-4,"cstr"),Q}function D(H,ee,Q,ne){var ce=ns(6+ne.length);ce.write_shift(2,H),ce.write_shift(1,Q),ce.write_shift(1,ee),ce.write_shift(1,39);for(var ve=0;ve<ne.length;++ve){var xe=ne.charCodeAt(ve);ce.write_shift(1,xe>=128?95:xe)}return ce.write_shift(1,0),ce}function I(H,ee){var Q=M(H);Q[1].v=H.read_shift(2);var ne=Q[1].v>>1;if(Q[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return Q[1].v=ne,Q}function N(H,ee){var Q=M(H),ne=H.read_shift(4),ce=H.read_shift(4),ve=H.read_shift(2);if(ve==65535)return ne===0&&ce===3221225472?(Q[1].t="e",Q[1].v=15):ne===0&&ce===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var xe=ve&32768;return ve=(ve&32767)-16446,Q[1].v=(1-xe*2)*(ce*Math.pow(2,ve+32)+ne*Math.pow(2,ve)),Q}function L(H,ee,Q,ne){var ce=ns(14);if(ce.write_shift(2,H),ce.write_shift(1,Q),ce.write_shift(1,ee),ne==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var ve=0,xe=0,we=0,Ae=0;return ne<0&&(ve=1,ne=-ne),xe=Math.log2(ne)|0,ne/=Math.pow(2,xe-31),Ae=ne>>>0,(Ae&2147483648)==0&&(ne/=2,++xe,Ae=ne>>>0),ne-=Ae,Ae|=2147483648,Ae>>>=0,ne*=Math.pow(2,32),we=ne>>>0,ce.write_shift(4,we),ce.write_shift(4,Ae),xe+=16383+(ve?32768:0),ce.write_shift(2,xe),ce}function B(H,ee){var Q=N(H);return H.l+=ee-14,Q}function O(H,ee){var Q=M(H),ne=H.read_shift(4);return Q[1].v=ne>>6,Q}function G(H,ee){var Q=M(H),ne=H.read_shift(8,"f");return Q[1].v=ne,Q}function V(H,ee){var Q=G(H);return H.l+=ee-10,Q}function q(H,ee){return H[H.l+ee-1]==0?H.read_shift(ee,"cstr"):""}function W(H,ee){var Q=H[H.l++];Q>ee-1&&(Q=ee-1);for(var ne="";ne.length<Q;)ne+=String.fromCharCode(H[H.l++]);return ne}function Z(H,ee,Q){if(!(!Q.qpro||ee<21)){var ne=H.read_shift(1);H.l+=17,H.l+=1,H.l+=2;var ce=H.read_shift(ee-21,"cstr");return[ne,ce]}}function X(H,ee){for(var Q={},ne=H.l+ee;H.l<ne;){var ce=H.read_shift(2);if(ce==14e3){for(Q[ce]=[0,""],Q[ce][0]=H.read_shift(2);H[H.l];)Q[ce][1]+=String.fromCharCode(H[H.l]),H.l++;H.l++}}return Q}function K(H,ee){var Q=ns(5+H.length);Q.write_shift(2,14e3),Q.write_shift(2,ee);for(var ne=0;ne<H.length;++ne){var ce=H.charCodeAt(ne);Q[Q.l++]=ce>127?95:ce}return Q[Q.l++]=0,Q}var se={0:{n:"BOF",f:Ga},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:q},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:E},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:G},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function qGe(n){var e={},t=n.match(zo),r=0,i=!1;if(t)for(;r!=t.length;++r){var a=Wn(t[r]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=y7[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var XGe=(function(){var n=tA("t"),e=tA("rPr");function t(a){var s=a.match(n);if(!s)return{t:"s",v:""};var o={t:"s",v:Wr(s[1])},l=a.match(e);return l&&(o.s=qGe(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(r,"").split(i).map(t).filter(function(o){return o.v})}})(),ZGe=(function(){var e=/(\r\n|\n)/g;function t(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function r(i){var a=[[],i.v,[]];return i.v?(i.s&&t(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(r).join("")}})(),KGe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,$Ge=/<(?:\w+:)?r>/,JGe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function P7(n,e){var t=e?e.cellHTML:!0,r={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Wr(Ri(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Ri(n),t&&(r.h=C7(r.t))):n.match($Ge)&&(r.r=Ri(n),r.t=Wr(Ri((n.replace(JGe,"").match(KGe)||[]).join("").replace(zo,""))),t&&(r.h=ZGe(XGe(r.r)))),r):{t:""}}var QGe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,eHe=/<(?:\w+:)?(?:si|sstItem)>/g,tHe=/<\/(?:\w+:)?(?:si|sstItem)>/;function nHe(n,e){var t=[],r="";if(!n)return t;var i=n.match(QGe);if(i){r=i[2].replace(eHe,"").split(tHe);for(var a=0;a!=r.length;++a){var s=P7(r[a].trim(),e);s!=null&&(t[t.length]=s)}i=Wn(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}function rHe(n){return[n.read_shift(4),n.read_shift(4)]}function iHe(n,e){var t=[],r=!1;return Xp(n,function(a,s,o){switch(o){case 159:t.Count=a[0],t.Unique=a[1];break;case 19:t.push(a);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(s.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function qhe(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function Cp(n,e){var t={};return t.Major=n.read_shift(2),t.Minor=n.read_shift(2),e>=4&&(n.l+=e-4),t}function aHe(n){var e={};return e.id=n.read_shift(0,"lpp4"),e.R=Cp(n,4),e.U=Cp(n,4),e.W=Cp(n,4),e}function sHe(n){for(var e=n.read_shift(4),t=n.l+e-4,r={},i=n.read_shift(4),a=[];i-- >0;)a.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(r.name=n.read_shift(0,"lpp4"),r.comps=a,n.l!=t)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+t);return r}function oHe(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(sHe(n));return e}function lHe(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(n.read_shift(0,"lpp4"));return e}function uHe(n){var e={};return n.read_shift(4),n.l+=4,e.id=n.read_shift(0,"lpp4"),e.name=n.read_shift(0,"lpp4"),e.R=Cp(n,4),e.U=Cp(n,4),e.W=Cp(n,4),e}function cHe(n){var e=uHe(n);if(e.ename=n.read_shift(0,"8lpp4"),e.blksz=n.read_shift(4),e.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function Xhe(n,e){var t=n.l+e,r={};r.Flags=n.read_shift(4)&63,n.l+=4,r.AlgID=n.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=n.read_shift(4),r.KeySize=n.read_shift(4),r.ProviderType=n.read_shift(4),n.l+=8,r.CSPName=n.read_shift(t-n.l>>1,"utf16le"),n.l=t,r}function Zhe(n,e){var t={},r=n.l+e;return n.l+=4,t.Salt=n.slice(n.l,n.l+16),n.l+=16,t.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),t.VerifierHash=n.slice(n.l,r),n.l=r,t}function fHe(n){var e=Cp(n);switch(e.Minor){case 2:return[e.Minor,dHe(n)];case 3:return[e.Minor,hHe()];case 4:return[e.Minor,pHe(n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function dHe(n){var e=n.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=n.read_shift(4),r=Xhe(n,t),i=Zhe(n,n.length-n.l);return{t:"Std",h:r,v:i}}function hHe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pHe(n){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var t=n.read_shift(n.length-n.l,"utf8"),r={};return t.replace(zo,function(a){var s=Wn(a);switch(oh(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=s[o]});break;case"<dataIntegrity":r.encryptedHmacKey=s.encryptedHmacKey,r.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(s);break;default:throw s[0]}}),r}function vHe(n,e){var t={},r=t.EncryptionVersionInfo=Cp(n,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);t.Flags=n.read_shift(4),e-=4;var i=n.read_shift(4);return e-=4,t.EncryptionHeader=Xhe(n,i),e-=i,t.EncryptionVerifier=Zhe(n,e),t}function mHe(n){var e={},t=e.EncryptionVersionInfo=Cp(n,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=n.read_shift(16),e.EncryptedVerifier=n.read_shift(16),e.EncryptedVerifierHash=n.read_shift(16),e}function gHe(n){var e=0,t,r=qhe(n),i=r.length+1,a,s,o,l,u;for(t=Uv(i),t[0]=r.length,a=1;a!=i;++a)t[a]=r[a-1];for(a=i-1;a>=0;--a)s=t[a],o=(e&16384)===0?0:1,l=e<<1&32767,u=o|l,e=u^s;return e^52811}var Khe=(function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(s){return(s/2|s*128)&255},i=function(s,o){return r(s^o)},a=function(s){for(var o=e[s.length-1],l=104,u=s.length-1;u>=0;--u)for(var c=s[u],f=0;f!=7;++f)c&64&&(o^=t[l]),c*=2,--l;return o};return function(s){for(var o=qhe(s),l=a(o),u=o.length,c=Uv(16),f=0;f!=16;++f)c[f]=0;var d,h,p;for((u&1)===1&&(d=l>>8,c[u]=i(n[0],d),--u,d=l&255,h=o[o.length-1],c[u]=i(h,d));u>0;)--u,d=l>>8,c[u]=i(o[u],d),--u,d=l&255,c[u]=i(o[u],d);for(u=15,p=15-o.length;p>0;)d=l>>8,c[u]=i(n[p],d),--u,--p,d=l&255,c[u]=i(o[u],d),--u,--p;return c}})(),yHe=function(n,e,t,r,i){i||(i=e),r||(r=Khe(n));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=r[t],s=(s>>5|s<<3)&255,i[a]=s,++t;return[i,t,r]},xHe=function(n){var e=0,t=Khe(n);return function(r){var i=yHe("",r,e,t);return e=i[1],i[0]}};function _He(n,e,t,r){var i={key:Ga(n),verificationBytes:Ga(n)};return t.password&&(i.verifier=gHe(t.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=xHe(t.password)),i}function bHe(n,e,t){var r=t||{};return r.Info=n.read_shift(2),n.l-=2,r.Info===1?r.Data=mHe(n):r.Data=vHe(n,e),r}function SHe(n,e,t){var r={Type:t.biff>=8?n.read_shift(2):0};return r.Type?bHe(n,e-2,r):_He(n,t.biff>=8?e:e-2,t,r),r}var wHe=(function(){function n(i,a){switch(a.type){case"base64":return e(Cu(i),a);case"binary":return e(i,a);case"buffer":return e(Or&&Buffer.isBuffer(i)?i.toString("binary"):lx(i),a);case"array":return e(Wy(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,h=0,p,m=-1;p=d.exec(c);){switch(p[0]){case"\\cell":var g=c.slice(h,d.lastIndex-p[0].length);if(g[0]==" "&&(g=g.slice(1)),++m,g.length){var y={v:g,t:"s"};Array.isArray(o)?o[f][m]=y:o[er({r:f,c:m})]=y}break}h=d.lastIndex}m>u.e.c&&(u.e.c=m)}),o["!ref"]=Ur(u),o}function t(i,a){return nm(n(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],s=ma(i["!ref"]),o,l=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var c=s.s.c;c<=s.e.c;++c)a.push("\\cellx"+(c+1));for(a.push("\\pard\\intbl"),c=s.s.c;c<=s.e.c;++c){var f=er({r:u,c});o=l?(i[u]||[])[c]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Fp(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function THe(n){var e=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function iA(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}function CHe(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(e,t,r),a=Math.min(e,t,r),s=i-a;if(s===0)return[0,0,e];var o=0,l=0,u=i+a;switch(l=s/(u>1?2-u:u),i){case e:o=((t-r)/s+6)%6;break;case t:o=(r-e)/s+2;break;case r:o=(e-t)/s+4;break}return[o/6,l,u/2]}function AHe(n){var e=n[0],t=n[1],r=n[2],i=t*2*(r<.5?r:1-r),a=r-i/2,s=[a,a,a],o=6*e,l;if(t!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function AI(n,e){if(e===0)return n;var t=CHe(THe(n));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),iA(AHe(t))}var $he=6,MHe=15,EHe=1,hl=$he;function MI(n){return Math.floor((n+Math.round(128/hl)/256)*hl)}function EI(n){return Math.floor((n-5)/hl*100+.5)/100}function fz(n){return Math.round((n*hl+5)/hl*256)/256}function nF(n){return fz(EI(MI(n)))}function O7(n){var e=Math.abs(n-nF(n)),t=hl;if(e>.005)for(hl=EHe;hl<MHe;++hl)Math.abs(n-nF(n))<=e&&(e=Math.abs(n-nF(n)),t=hl);hl=t}function Rb(n){n.width?(n.wpx=MI(n.width),n.wch=EI(n.wpx),n.MDW=hl):n.wpx?(n.wch=EI(n.wpx),n.width=fz(n.wch),n.MDW=hl):typeof n.wch=="number"&&(n.width=fz(n.wch),n.wpx=MI(n.width),n.MDW=hl),n.customWidth&&delete n.customWidth}var DHe=96,Jhe=DHe;function Qhe(n){return n*96/Jhe}function aA(n){return n*Jhe/96}var RHe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function NHe(n,e,t,r){e.Borders=[];var i={},a=!1;(n[0].match(zo)||[]).forEach(function(s){var o=Wn(s);switch(oh(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Gi(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Gi(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function IHe(n,e,t,r){e.Fills=[];var i={},a=!1;(n[0].match(zo)||[]).forEach(function(s){var o=Wn(s);switch(oh(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function kHe(n,e,t,r){e.Fonts=[];var i={},a=!1;(n[0].match(zo)||[]).forEach(function(s){var o=Wn(s);switch(oh(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Ri(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Gi(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Gi(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Gi(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Gi(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Gi(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Gi(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Gi(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=y7[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Gi(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=Ay[i.color.index];i.color.index==81&&(l=Ay[1]),l||(l=Ay[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=AI(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function LHe(n,e,t){e.NumberFmt=[];for(var r=nh(Qn),i=0;i<r.length;++i)e.NumberFmt[r[i]]=Qn[r[i]];var a=n[0].match(zo);if(a)for(i=0;i<a.length;++i){var s=Wn(a[i]);switch(oh(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Wr(Ri(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Tp(o,l)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var wD=["numFmtId","fillId","fontId","borderId","xfId"],TD=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function PHe(n,e,t){e.CellXf=[];var r,i=!1;(n[0].match(zo)||[]).forEach(function(a){var s=Wn(a),o=0;switch(oh(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=s,delete r[0],o=0;o<wD.length;++o)r[wD[o]]&&(r[wD[o]]=parseInt(r[wD[o]],10));for(o=0;o<TD.length;++o)r[TD[o]]&&(r[TD[o]]=Gi(r[TD[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Gi(s.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var OHe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var c={};if(!o)return c;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&LHe(f,c,u),(f=o.match(i))&&kHe(f,c,l,u),(f=o.match(r))&&IHe(f,c,l,u),(f=o.match(a))&&NHe(f,c,l,u),(f=o.match(t))&&PHe(f,c,u),c}})();function FHe(n,e){var t=n.read_shift(2),r=Po(n);return[t,r]}function BHe(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=X9e(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=n.read_shift(2);switch(a===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=n.read_shift(1);s!=0&&(r.underline=s);var o=n.read_shift(1);o>0&&(r.family=o);var l=n.read_shift(1);switch(l>0&&(r.charset=l),n.l++,r.color=q9e(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Po(n),r}var zHe=Bo;function UHe(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}var VHe=Bo;function GHe(n,e,t){var r={};r.NumberFmt=[];for(var i in Qn)r.NumberFmt[i]=Qn[i];r.CellXf=[],r.Fonts=[];var a=[],s=!1;return Xp(n,function(l,u,c){switch(c){case 44:r.NumberFmt[l[0]]=l[1],Tp(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=AI(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(c),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(c);else if(u.T<0)a.pop();else if(!s||t.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}var HHe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function jHe(n,e,t){e.themeElements.clrScheme=[];var r={};(n[0].match(zo)||[]).forEach(function(i){var a=Wn(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[HHe.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function WHe(){}function YHe(){}var qHe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,XHe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,ZHe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function KHe(n,e,t){e.themeElements={};var r;[["clrScheme",qHe,jHe],["fontScheme",XHe,WHe],["fmtScheme",ZHe,YHe]].forEach(function(i){if(!(r=n.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,t)})}var $He=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function epe(n,e){(!n||n.length===0)&&(n=JHe());var t,r={};if(!(t=n.match($He)))throw new Error("themeElements not found in theme");return KHe(t[0],r,e),r.raw=n,r}function JHe(n,e){var t=[fhe];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function QHe(n,e,t){var r=n.l+e,i=n.read_shift(4);if(i!==124226){if(!t.cellStyles){n.l=r;return}var a=n.slice(n.l);n.l=r;var s;try{s=che(a,{type:"array"})}catch{return}var o=gu(s,"theme/theme/theme1.xml",!0);if(o)return epe(o,t)}}function eje(n){return n.read_shift(4)}function tje(n){var e={};switch(e.xclrType=n.read_shift(2),e.nTintShade=n.read_shift(2),e.xclrType){case 0:n.l+=4;break;case 1:e.xclrValue=nje(n,4);break;case 2:e.xclrValue=Uhe(n);break;case 3:e.xclrValue=eje(n);break;case 4:n.l+=4;break}return n.l+=8,e}function nje(n,e){return Bo(n,e)}function rje(n,e){return Bo(n,e)}function ije(n){var e=n.read_shift(2),t=n.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=tje(n);break;case 6:r[1]=rje(n,t);break;case 14:case 15:r[1]=n.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return r}function aje(n,e){var t=n.l+e;n.l+=2;var r=n.read_shift(2);n.l+=2;for(var i=n.read_shift(2),a=[];i-- >0;)a.push(ije(n,t-n.l));return{ixfe:r,ext:a}}function sje(n,e){e.forEach(function(t){t[0]})}function oje(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Po(n)}}function lje(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function uje(n){return n.l+=4,n.read_shift(4)!=0}function cje(n,e,t){var r={Types:[],Cell:[],Value:[]},i=t||{},a=[],s=!1,o=2;return Xp(n,function(l,u,c){switch(c){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(c),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function fje(n,e,t){var r={Types:[],Cell:[],Value:[]};if(!n)return r;var i=!1,a=2,s;return n.replace(zo,function(o){var l=Wn(o);switch(oh(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<r.Types.length;++u)r.Types[u].name==l.name&&(s=r.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):a==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function dje(n){var e=[];if(!n)return e;var t=1;return(n.match(zo)||[]).forEach(function(r){var i=Wn(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function hje(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=er(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function pje(n,e,t){var r=[];return Xp(n,function(a,s,o){switch(o){case 63:r.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function vje(n,e,t,r){if(!n)return n;var i=r||{},a=!1;Xp(n,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function mje(n,e){if(!n)return"??";var t=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function gQ(n,e,t,r){var i=Array.isArray(n),a;e.forEach(function(s){var o=vl(s.ref);if(i?(n[o.r]||(n[o.r]=[]),a=n[o.r][o.c]):a=n[s.ref],!a){a={t:"z"},i?n[o.r][o.c]=a:n[s.ref]=a;var l=ma(n["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=Ur(l);u!==n["!ref"]&&(n["!ref"]=u)}a.c||(a.c=[]);var c={a:s.author,t:s.t,r:s.r,T:t};s.h&&(c.h=s.h);for(var f=a.c.length-1;f>=0;--f){if(!t&&a.c[f].T)return;t&&!a.c[f].T&&a.c.splice(f,1)}if(t&&r){for(f=0;f<r.length;++f)if(c.a==r[f].id){c.a=r[f].name||c.a;break}}a.c.push(c)})}function gje(n,e){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],r=[],i=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var a=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Wn(o[0]),u={author:l.authorId&&t[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},c=vl(l.ref);if(!(e.sheetRows&&e.sheetRows<=c.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&P7(f[1])||{r:"",t:"",h:""};u.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),u.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=d.h),r.push(u)}}}}),r}function yje(n,e){var t=[],r=!1,i={},a=0;return n.replace(zo,function(o,l){var u=Wn(o);switch(oh(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=n.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),t}function xje(n,e){var t=[],r=!1;return n.replace(zo,function(a){var s=Wn(a);switch(oh(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),t}function _je(n){var e={};e.iauthor=n.read_shift(4);var t=fx(n);return e.rfx=t.s,e.ref=er(t.s),n.l+=16,e}var bje=Po;function Sje(n,e){var t=[],r=[],i={},a=!1;return Xp(n,function(o,l,u){switch(u){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),t}var wje="application/vnd.ms-office.vbaProject";function Tje(n){var e=zr.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(t,r){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");zr.utils.cfb_add(e,i,n.FileIndex[r].content)}}),zr.write(e)}function Cje(){return{"!type":"dialog"}}function Aje(){return{"!type":"dialog"}}function Mje(){return{"!type":"macro"}}function Eje(){return{"!type":"macro"}}var nb=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,c=s.length>0?parseInt(s,10)|0:0;return o?c+=e.c:--c,l?u+=e.r:--u,i+(o?"":"$")+ss(c)+(l?"":"$")+$s(u)}return function(i,a){return e=a,i.replace(n,t)}})(),tpe=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Dje=(function(){return function(e,t){return e.replace(tpe,function(r,i,a,s,o,l){var u=D7(s)-(a?0:t.c),c=E7(l)-(o?0:t.r),f=c==0?"":o?c+1:"["+c+"]",d=u==0?"":a?u+1:"["+u+"]";return i+"R"+f+"C"+d})}})();function npe(n,e){return n.replace(tpe,function(t,r,i,a,s,o){return r+(i=="$"?i+a:ss(D7(a)+e.c))+(s=="$"?s+o:$s(E7(o)+e.r))})}function Rje(n,e,t){var r=vS(e),i=r.s,a=vl(t),s={r:a.r-i.r,c:a.c-i.c};return npe(n,s)}function Nje(n){return n.length!=1}function yQ(n){return n.replace(/_xlfn\./g,"")}function za(n){n.l+=1}function Vv(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function rpe(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return ipe(n);t.biff==12&&(r=4)}var i=n.read_shift(r),a=n.read_shift(r),s=Vv(n),o=Vv(n);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function ipe(n){var e=Vv(n),t=Vv(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function Ije(n,e,t){if(t.biff<8)return ipe(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),a=Vv(n),s=Vv(n);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function ape(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return kje(n);var r=n.read_shift(t&&t.biff==12?4:2),i=Vv(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function kje(n){var e=Vv(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function Lje(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Pje(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Oje(n);var i=n.read_shift(r>=12?4:2),a=n.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function Oje(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function Fje(n,e,t){var r=(n[n.l++]&96)>>5,i=rpe(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function Bje(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}var s=rpe(n,a,t);return[r,i,s]}function zje(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Uje(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}return n.l+=a,[r,i]}function Vje(n,e,t){var r=(n[n.l++]&96)>>5,i=Ije(n,e-1,t);return[r,i]}function Gje(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function xQ(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Hje(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function jje(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Wje(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Yje(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function qje(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function spe(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function Xje(n){return n.read_shift(2),spe(n)}function Zje(n){return n.read_shift(2),spe(n)}function Kje(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=ape(n,0,t);return[r,i]}function $je(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=Pje(n,0,t);return[r,i]}function Jje(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var a=ape(n,0,t);return[r,i,a]}function Qje(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[eYe[i],upe[i],r]}function eWe(n,e,t){var r=n[n.l++],i=n.read_shift(1),a=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:tWe(n);return[i,(a[0]===0?upe:QWe)[a[1]]]}function tWe(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function nWe(n,e,t){n.l+=t&&t.biff==2?3:4}function rWe(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function iWe(n){return n.l++,dx[n.read_shift(1)]}function aWe(n){return n.l++,n.read_shift(2)}function sWe(n){return n.l++,n.read_shift(1)!==0}function oWe(n){return n.l++,Eo(n)}function lWe(n,e,t){return n.l++,sM(n,e-1,t)}function uWe(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Ca(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=dx[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Eo(n);break;case 2:t[1]=hx(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function cWe(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((t.biff==12?fx:RL)(n));return i}function fWe(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=uWe(n,t.biff);return s}function dWe(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,a=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,a]}function hWe(n,e,t){if(t.biff==5)return pWe(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),a=n.read_shift(4);return[r,i,a]}function pWe(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function vWe(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function mWe(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function gWe(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function yWe(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return n.l+=a,[r,i]}var xWe=Bo,_We=Bo,bWe=Bo;function lM(n,e,t){return n.l+=2,[Lje(n)]}function F7(n){return n.l+=6,[]}var SWe=lM,wWe=F7,TWe=F7,CWe=lM;function ope(n){return n.l+=2,[Ga(n),n.read_shift(2)&1]}var AWe=lM,MWe=ope,EWe=F7,DWe=lM,RWe=lM,NWe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function IWe(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),a=n.read_shift(2),s=NWe[t>>2&31];return{ixti:e,coltype:t&3,rt:s,idx:r,c:i,C:a}}function kWe(n){return n.l+=2,[n.read_shift(4)]}function LWe(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function PWe(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function OWe(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function FWe(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function BWe(n){return n.l+=4,[0,0]}var _Q={1:{n:"PtgExp",f:rWe},2:{n:"PtgTbl",f:bWe},3:{n:"PtgAdd",f:za},4:{n:"PtgSub",f:za},5:{n:"PtgMul",f:za},6:{n:"PtgDiv",f:za},7:{n:"PtgPower",f:za},8:{n:"PtgConcat",f:za},9:{n:"PtgLt",f:za},10:{n:"PtgLe",f:za},11:{n:"PtgEq",f:za},12:{n:"PtgGe",f:za},13:{n:"PtgGt",f:za},14:{n:"PtgNe",f:za},15:{n:"PtgIsect",f:za},16:{n:"PtgUnion",f:za},17:{n:"PtgRange",f:za},18:{n:"PtgUplus",f:za},19:{n:"PtgUminus",f:za},20:{n:"PtgPercent",f:za},21:{n:"PtgParen",f:za},22:{n:"PtgMissArg",f:za},23:{n:"PtgStr",f:lWe},26:{n:"PtgSheet",f:LWe},27:{n:"PtgEndSheet",f:PWe},28:{n:"PtgErr",f:iWe},29:{n:"PtgBool",f:sWe},30:{n:"PtgInt",f:aWe},31:{n:"PtgNum",f:oWe},32:{n:"PtgArray",f:Gje},33:{n:"PtgFunc",f:Qje},34:{n:"PtgFuncVar",f:eWe},35:{n:"PtgName",f:dWe},36:{n:"PtgRef",f:Kje},37:{n:"PtgArea",f:Fje},38:{n:"PtgMemArea",f:vWe},39:{n:"PtgMemErr",f:xWe},40:{n:"PtgMemNoMem",f:_We},41:{n:"PtgMemFunc",f:mWe},42:{n:"PtgRefErr",f:gWe},43:{n:"PtgAreaErr",f:zje},44:{n:"PtgRefN",f:$je},45:{n:"PtgAreaN",f:Vje},46:{n:"PtgMemAreaN",f:OWe},47:{n:"PtgMemNoMemN",f:FWe},57:{n:"PtgNameX",f:hWe},58:{n:"PtgRef3d",f:Jje},59:{n:"PtgArea3d",f:Bje},60:{n:"PtgRefErr3d",f:yWe},61:{n:"PtgAreaErr3d",f:Uje},255:{}},zWe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},UWe={1:{n:"PtgElfLel",f:ope},2:{n:"PtgElfRw",f:DWe},3:{n:"PtgElfCol",f:SWe},6:{n:"PtgElfRwV",f:RWe},7:{n:"PtgElfColV",f:CWe},10:{n:"PtgElfRadical",f:AWe},11:{n:"PtgElfRadicalS",f:EWe},13:{n:"PtgElfColS",f:wWe},15:{n:"PtgElfColSV",f:TWe},16:{n:"PtgElfRadicalLel",f:MWe},25:{n:"PtgList",f:IWe},29:{n:"PtgSxName",f:kWe},255:{}},VWe={0:{n:"PtgAttrNoop",f:BWe},1:{n:"PtgAttrSemi",f:qje},2:{n:"PtgAttrIf",f:Wje},4:{n:"PtgAttrChoose",f:Hje},8:{n:"PtgAttrGoto",f:jje},16:{n:"PtgAttrSum",f:nWe},32:{n:"PtgAttrBaxcel",f:xQ},33:{n:"PtgAttrBaxcel",f:xQ},64:{n:"PtgAttrSpace",f:Xje},65:{n:"PtgAttrSpaceSemi",f:Zje},128:{n:"PtgAttrIfError",f:Yje},255:{}};function uM(n,e,t,r){if(r.biff<8)return Bo(n,e);for(var i=n.l+e,a=[],s=0;s!==t.length;++s)switch(t[s][0]){case"PtgArray":t[s][1]=fWe(n,0,r),a.push(t[s][1]);break;case"PtgMemArea":t[s][2]=cWe(n,t[s][1],r),a.push(t[s][2]);break;case"PtgExp":r&&r.biff==12&&(t[s][1][1]=n.read_shift(4),a.push(t[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[s][0]}return e=i-n.l,e!==0&&a.push(Bo(n,e)),a}function cM(n,e,t){for(var r=n.l+e,i,a,s=[];r!=n.l;)e=r-n.l,a=n[n.l],i=_Q[a]||_Q[zWe[a]],(a===24||a===25)&&(i=(a===24?UWe:VWe)[n[n.l+1]]),!i||!i.f?Bo(n,e):s.push([i.n,i.f(n,e,t)]);return s}function GWe(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],a=0;a<r.length;++a){var s=r[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var HWe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function jWe(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function lpe(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function bQ(n,e,t){var r=lpe(n,e,t);return r=="#REF"?r:jWe(r,t)}function Co(n,e,t,r,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,u,c,f=0,d=0,h,p="";if(!n[0]||!n[0][0])return"";for(var m=-1,g="",y=0,_=n[0].length;y<_;++y){var S=n[0][y];switch(S[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),m>=0){switch(n[0][m][1][0]){case 0:g=ca(" ",n[0][m][1][1]);break;case 1:g=ca("\r",n[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][m][1][0])}u=u+g,m=-1}o.push(u+HWe[S[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=WT(S[1][1],s,i),o.push(YT(c,a));break;case"PtgRefN":c=t?WT(S[1][1],t,i):S[1][1],o.push(YT(c,a));break;case"PtgRef3d":f=S[1][1],c=WT(S[1][2],s,i),p=bQ(r,f,i),o.push(p+"!"+YT(c,a));break;case"PtgFunc":case"PtgFuncVar":var A=S[1][0],M=S[1][1];A||(A=0),A&=127;var E=A==0?[]:o.slice(-A);o.length-=A,M==="User"&&(M=E.shift()),o.push(M+"("+E.join(",")+")");break;case"PtgBool":o.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(S[1]);break;case"PtgNum":o.push(String(S[1]));break;case"PtgStr":o.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(S[1]);break;case"PtgAreaN":h=tQ(S[1][1],t?{s:t}:s,i),o.push(eF(h,i));break;case"PtgArea":h=tQ(S[1][1],s,i),o.push(eF(h,i));break;case"PtgArea3d":f=S[1][1],h=S[1][2],p=bQ(r,f,i),o.push(p+"!"+eF(h,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=S[1][2];var D=(r.names||[])[d-1]||(r[0]||[])[d],I=D?D.Name:"SH33TJSNAME"+String(d);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var N=S[1][1];d=S[1][2];var L;if(i.biff<=5)N<0&&(N=-N),r[N]&&(L=r[N][d]);else{var B="";if(((r[N]||[])[0]||[])[0]==14849||(((r[N]||[])[0]||[])[0]==1025?r[N][d]&&r[N][d].itab>0&&(B=r.SheetNames[r[N][d].itab-1]+"!"):B=r.SheetNames[d-1]+"!"),r[N]&&r[N][d])B+=r[N][d].Name;else if(r[0]&&r[0][d])B+=r[0][d].Name;else{var O=(lpe(r,N,i)||"").split(";;");O[d-1]?B=O[d-1]:B+="SH33TJSERRX"}o.push(B);break}L||(L={Name:"SH33TJSERRY"}),o.push(L.Name);break;case"PtgParen":var G="(",V=")";if(m>=0){switch(g="",n[0][m][1][0]){case 2:G=ca(" ",n[0][m][1][1])+G;break;case 3:G=ca("\r",n[0][m][1][1])+G;break;case 4:V=ca(" ",n[0][m][1][1])+V;break;case 5:V=ca("\r",n[0][m][1][1])+V;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][m][1][0])}m=-1}o.push(G+o.pop()+V);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:S[1][1],r:S[1][0]};var q={c:t.c,r:t.r};if(r.sharedf[er(c)]){var W=r.sharedf[er(c)];o.push(Co(W,s,q,r,i))}else{var Z=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(Co(u[1],s,q,r,i)),Z=!0;break}Z||o.push(S[1])}break;case"PtgArray":o.push("{"+GWe(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&X.indexOf(n[0][y][0])==-1){S=n[0][m];var K=!0;switch(S[1][0]){case 4:K=!1;case 0:g=ca(" ",S[1][1]);break;case 5:K=!1;case 1:g=ca("\r",S[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}o.push((K?g:"")+o.pop()+(K?"":g)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function WWe(n,e,t){var r=n.l+e,i=t.biff==2?1:2,a,s=n.read_shift(i);if(s==65535)return[[],Bo(n,e-2)];var o=cM(n,s,t);return e!==s+i&&(a=uM(n,e-s-i,o,t)),n.l=r,[o,a]}function YWe(n,e,t){var r=n.l+e,i=t.biff==2?1:2,a,s=n.read_shift(i);if(s==65535)return[[],Bo(n,e-2)];var o=cM(n,s,t);return e!==s+i&&(a=uM(n,e-s-i,o,t)),n.l=r,[o,a]}function qWe(n,e,t,r){var i=n.l+e,a=cM(n,r,t),s;return i!==n.l&&(s=uM(n,i-n.l,a,t)),[a,s]}function XWe(n,e,t){var r=n.l+e,i,a=n.read_shift(2),s=cM(n,a,t);return a==65535?[[],Bo(n,e-2)]:(e!==a+2&&(i=uM(n,r-a-2,s,t)),[s,i])}function ZWe(n){var e;if(hp(n,n.l+6)!==65535)return[Eo(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return e=n[n.l+2]===1,n.l+=8,[e,"b"];case 2:return e=n[n.l+2],n.l+=8,[e,"e"];case 3:return n.l+=8,["","s"]}return[]}function rF(n,e,t){var r=n.l+e,i=lh(n);t.biff==2&&++n.l;var a=ZWe(n),s=n.read_shift(1);t.biff!=2&&(n.read_shift(1),t.biff>=5&&n.read_shift(4));var o=YWe(n,r-n.l,t);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function NL(n,e,t){var r=n.read_shift(4),i=cM(n,r,t),a=n.read_shift(4),s=a>0?uM(n,a,i,t):null;return[i,s]}var KWe=NL,IL=NL,$We=NL,JWe=NL,QWe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},upe={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},eYe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function SQ(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function iF(n){var e=n.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var KT={},rb={};function $T(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function cpe(n,e,t,r,i,a){try{r.cellNF&&(n.z=Qn[e])}catch(o){if(r.WTF)throw o}if(!(n.t==="z"&&!r.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=ks(n.v)),(!r||r.cellText!==!1)&&n.t!=="z")try{if(Qn[e]==null&&Tp(t9e[e]||"General",e),n.t==="e")n.w=n.w||dx[n.v];else if(e===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=eA(n.v);else if(n.t==="d"){var s=Sl(n.v);(s|0)===s?n.w=s.toString(10):n.w=eA(s)}else{if(n.v===void 0)return"";n.w=jy(n.v,rb)}else n.t==="d"?n.w=Au(e,Sl(n.v),rb):n.w=Au(e,n.v,rb)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&t!=null)try{n.s=a.Fills[t],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=AI(i.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),r.WTF&&(n.s.fgColor.raw_rgb=i.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=AI(i.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),r.WTF&&(n.s.bgColor.raw_rgb=i.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&a.Fills)throw o}}}function tYe(n,e){var t=ma(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(n["!ref"]=Ur(t))}var nYe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,rYe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,iYe=/<(?:\w:)?hyperlink [^>]*>/mg,aYe=/"(\w*:\w*)"/,sYe=/<(?:\w:)?col\b[^>]*[\/]?>/g,oYe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,lYe=/<(?:\w:)?pageMargins[^>]*\/>/g,fpe=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,uYe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,cYe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function fYe(n,e,t,r,i,a,s){if(!n)return n;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",c="",f=n.match(rYe);f?(u=n.slice(0,f.index),c=n.slice(f.index+f[0].length)):u=c=n;var d=u.match(fpe);d?B7(d[0],o,i,t):(d=u.match(uYe))&&dYe(d[0],d[1]||"",o,i,t);var h=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var p=u.slice(h,h+50).match(aYe);p&&tYe(o,p[1])}var m=u.match(cYe);m&&m[1]&&yYe(m[1],i);var g=[];if(e.cellStyles){var y=u.match(sYe);y&&vYe(g,y)}f&&xYe(f[1],o,e,l,a,s);var _=c.match(oYe);_&&(o["!autofilter"]=mYe(_[0]));var S=[],A=c.match(nYe);if(A)for(h=0;h!=A.length;++h)S[h]=ma(A[h].slice(A[h].indexOf('"')+1));var M=c.match(iYe);M&&hYe(o,M,r);var E=c.match(lYe);if(E&&(o["!margins"]=pYe(Wn(E[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Ur(l)),e.sheetRows>0&&o["!ref"]){var D=ma(o["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>l.e.r&&(D.e.r=l.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>l.e.c&&(D.e.c=l.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Ur(D))}return g.length>0&&(o["!cols"]=g),S.length>0&&(o["!merges"]=S),o}function B7(n,e,t,r){var i=Wn(n);t.Sheets[r]||(t.Sheets[r]={}),i.codeName&&(t.Sheets[r].CodeName=Wr(Ri(i.codeName)))}function dYe(n,e,t,r,i){B7(n.slice(0,n.indexOf(">")),t,r,i)}function hYe(n,e,t){for(var r=Array.isArray(n),i=0;i!=e.length;++i){var a=Wn(Ri(e[i]),!0);if(!a.ref)return;var s=((t||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+Wr(a.location))):(a.Target="#"+Wr(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=ma(a.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var c=er({c:u,r:l});r?(n[l]||(n[l]=[]),n[l][u]||(n[l][u]={t:"z",v:void 0}),n[l][u].l=a):(n[c]||(n[c]={t:"z",v:void 0}),n[c].l=a)}}}function pYe(n){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){n[t]&&(e[t]=parseFloat(n[t]))}),e}function vYe(n,e){for(var t=!1,r=0;r!=e.length;++r){var i=Wn(e[r],!0);i.hidden&&(i.hidden=Gi(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,O7(i.width)),Rb(i);a<=s;)n[a++]=Ks(i)}}function mYe(n){var e={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return e}var gYe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function yYe(n,e){e.Views||(e.Views=[{}]),(n.match(gYe)||[]).forEach(function(t,r){var i=Wn(t);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),Gi(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var xYe=(function(){var n=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=tA("v"),s=tA("f");return function(l,u,c,f,d,h){for(var p=0,m="",g=[],y=[],_=0,S=0,A=0,M="",E,D,I=0,N=0,L,B,O=0,G=0,V=Array.isArray(h.CellXf),q,W=[],Z=[],X=Array.isArray(u),K=[],se={},J=!1,H=!!c.sheetStubs,ee=l.split(e),Q=0,ne=ee.length;Q!=ne;++Q){m=ee[Q].trim();var ce=m.length;if(ce!==0){var ve=0;e:for(p=0;p<ce;++p)switch(m[p]){case">":if(m[p-1]!="/"){++p;break e}if(c&&c.cellStyles){if(D=Wn(m.slice(ve,p),!0),I=D.r!=null?parseInt(D.r,10):I+1,N=-1,c.sheetRows&&c.sheetRows<I)continue;se={},J=!1,D.ht&&(J=!0,se.hpt=parseFloat(D.ht),se.hpx=aA(se.hpt)),D.hidden=="1"&&(J=!0,se.hidden=!0),D.outlineLevel!=null&&(J=!0,se.level=+D.outlineLevel),J&&(K[I-1]=se)}break;case"<":ve=p;break}if(ve>=p)break;if(D=Wn(m.slice(ve,p),!0),I=D.r!=null?parseInt(D.r,10):I+1,N=-1,!(c.sheetRows&&c.sheetRows<I)){f.s.r>I-1&&(f.s.r=I-1),f.e.r<I-1&&(f.e.r=I-1),c&&c.cellStyles&&(se={},J=!1,D.ht&&(J=!0,se.hpt=parseFloat(D.ht),se.hpx=aA(se.hpt)),D.hidden=="1"&&(J=!0,se.hidden=!0),D.outlineLevel!=null&&(J=!0,se.level=+D.outlineLevel),J&&(K[I-1]=se)),g=m.slice(p).split(n);for(var xe=0;xe!=g.length&&g[xe].trim().charAt(0)=="<";++xe);for(g=g.slice(xe),p=0;p!=g.length;++p)if(m=g[p].trim(),m.length!==0){if(y=m.match(t),_=p,S=0,A=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(_=0,M=y[1],S=0;S!=M.length&&!((A=M.charCodeAt(S)-64)<1||A>26);++S)_=26*_+A;--_,N=_}else++N;for(S=0;S!=m.length&&m.charCodeAt(S)!==62;++S);if(++S,D=Wn(m.slice(0,S),!0),D.r||(D.r=er({r:I-1,c:N})),M=m.slice(S),E={t:""},(y=M.match(a))!=null&&y[1]!==""&&(E.v=Wr(y[1])),c.cellFormula){if((y=M.match(s))!=null&&y[1]!==""){if(E.f=Wr(Ri(y[1])).replace(/\r\n/g,`
`),c.xlfn||(E.f=yQ(E.f)),y[0].indexOf('t="array"')>-1)E.F=(M.match(i)||[])[1],E.F.indexOf(":")>-1&&W.push([ma(E.F),E.F]);else if(y[0].indexOf('t="shared"')>-1){B=Wn(y[0]);var we=Wr(Ri(y[1]));c.xlfn||(we=yQ(we)),Z[parseInt(B.si,10)]=[B,we,D.r]}}else(y=M.match(/<f[^>]*\/>/))&&(B=Wn(y[0]),Z[B.si]&&(E.f=Rje(Z[B.si][1],Z[B.si][2],D.r)));var Ae=vl(D.r);for(S=0;S<W.length;++S)Ae.r>=W[S][0].s.r&&Ae.r<=W[S][0].e.r&&Ae.c>=W[S][0].s.c&&Ae.c<=W[S][0].e.c&&(E.F=W[S][1])}if(D.t==null&&E.v===void 0)if(E.f||E.F)E.v=0,E.t="n";else if(H)E.t="z";else continue;else E.t=D.t||"n";switch(f.s.c>N&&(f.s.c=N),f.e.c<N&&(f.e.c=N),E.t){case"n":if(E.v==""||E.v==null){if(!H)continue;E.t="z"}else E.v=parseFloat(E.v);break;case"s":if(typeof E.v>"u"){if(!H)continue;E.t="z"}else L=KT[parseInt(E.v,10)],E.v=L.t,E.r=L.r,c.cellHTML&&(E.h=L.h);break;case"str":E.t="s",E.v=E.v!=null?Ri(E.v):"",c.cellHTML&&(E.h=C7(E.v));break;case"inlineStr":y=M.match(r),E.t="s",y!=null&&(L=P7(y[1]))?(E.v=L.t,c.cellHTML&&(E.h=L.h)):E.v="";break;case"b":E.v=Gi(E.v);break;case"d":c.cellDates?E.v=ks(E.v,1):(E.v=Sl(ks(E.v,1)),E.t="n");break;case"e":(!c||c.cellText!==!1)&&(E.w=E.v),E.v=Ihe[E.v];break}if(O=G=0,q=null,V&&D.s!==void 0&&(q=h.CellXf[D.s],q!=null&&(q.numFmtId!=null&&(O=q.numFmtId),c.cellStyles&&q.fillId!=null&&(G=q.fillId))),cpe(E,O,G,c,d,h),c.cellDates&&V&&E.t=="n"&&ux(Qn[O])&&(E.t="d",E.v=DL(E.v)),D.cm&&c.xlmeta){var Ue=(c.xlmeta.Cell||[])[+D.cm-1];Ue&&Ue.type=="XLDAPR"&&(E.D=!0)}if(X){var pe=vl(D.r);u[pe.r]||(u[pe.r]=[]),u[pe.r][pe.c]=E}else u[D.r]=E}}}}K.length>0&&(u["!rows"]=K)}})();function _Ye(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var a=n.read_shift(1);return n.l=r,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=i/20),t}var bYe=fx;function SYe(){}function wYe(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=W9e(n),t}function TYe(n){var e=Ic(n);return[e]}function CYe(n){var e=cx(n);return[e]}function AYe(n){var e=Ic(n),t=n.read_shift(1);return[e,t,"b"]}function MYe(n){var e=cx(n),t=n.read_shift(1);return[e,t,"b"]}function EYe(n){var e=Ic(n),t=n.read_shift(1);return[e,t,"e"]}function DYe(n){var e=cx(n),t=n.read_shift(1);return[e,t,"e"]}function RYe(n){var e=Ic(n),t=n.read_shift(4);return[e,t,"s"]}function NYe(n){var e=cx(n),t=n.read_shift(4);return[e,t,"s"]}function IYe(n){var e=Ic(n),t=Eo(n);return[e,t,"n"]}function dpe(n){var e=cx(n),t=Eo(n);return[e,t,"n"]}function kYe(n){var e=Ic(n),t=I7(n);return[e,t,"n"]}function LYe(n){var e=cx(n),t=I7(n);return[e,t,"n"]}function PYe(n){var e=Ic(n),t=R7(n);return[e,t,"is"]}function OYe(n){var e=Ic(n),t=Po(n);return[e,t,"str"]}function FYe(n){var e=cx(n),t=Po(n);return[e,t,"str"]}function BYe(n,e,t){var r=n.l+e,i=Ic(n);i.r=t["!row"];var a=n.read_shift(1),s=[i,a,"b"];if(t.cellFormula){n.l+=2;var o=IL(n,r-n.l,t);s[3]=Co(o,null,i,t.supbooks,t)}else n.l=r;return s}function zYe(n,e,t){var r=n.l+e,i=Ic(n);i.r=t["!row"];var a=n.read_shift(1),s=[i,a,"e"];if(t.cellFormula){n.l+=2;var o=IL(n,r-n.l,t);s[3]=Co(o,null,i,t.supbooks,t)}else n.l=r;return s}function UYe(n,e,t){var r=n.l+e,i=Ic(n);i.r=t["!row"];var a=Eo(n),s=[i,a,"n"];if(t.cellFormula){n.l+=2;var o=IL(n,r-n.l,t);s[3]=Co(o,null,i,t.supbooks,t)}else n.l=r;return s}function VYe(n,e,t){var r=n.l+e,i=Ic(n);i.r=t["!row"];var a=Po(n),s=[i,a,"str"];if(t.cellFormula){n.l+=2;var o=IL(n,r-n.l,t);s[3]=Co(o,null,i,t.supbooks,t)}else n.l=r;return s}var GYe=fx;function HYe(n,e){var t=n.l+e,r=fx(n),i=N7(n),a=Po(n),s=Po(n),o=Po(n);n.l=t;var l={rfx:r,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function jYe(){}function WYe(n,e,t){var r=n.l+e,i=Dhe(n),a=n.read_shift(1),s=[i];if(s[2]=a,t.cellFormula){var o=KWe(n,r-n.l,t);s[1]=o}else n.l=r;return s}function YYe(n,e,t){var r=n.l+e,i=fx(n),a=[i];if(t.cellFormula){var s=JWe(n,r-n.l,t);a[1]=s,n.l=r}else n.l=r;return a}var qYe=["left","right","top","bottom","header","footer"];function XYe(n){var e={};return qYe.forEach(function(t){e[t]=Eo(n)}),e}function ZYe(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function KYe(){}function $Ye(){}function JYe(n,e,t,r,i,a,s){if(!n)return n;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},u,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,p,m,g,y,_,S,A,M,E=[];o.biff=12,o["!row"]=0;var D=0,I=!1,N=[],L={},B=o.supbooks||i.supbooks||[[]];if(B.sharedf=L,B.arrayf=N,B.SheetNames=i.SheetNames||i.Sheets.map(function(X){return X.name}),!o.supbooks&&(o.supbooks=B,i.Names))for(var O=0;O<i.Names.length;++O)B[0][O+1]=i.Names[O];var G=[],V=[],q=!1;DI[16]={n:"BrtShortReal",f:dpe};var W;if(Xp(n,function(K,se,J){if(!d)switch(J){case 148:u=K;break;case 0:h=K,o.sheetRows&&o.sheetRows<=h.r&&(d=!0),A=$s(g=h.r),o["!row"]=h.r,(K.hidden||K.hpt||K.level!=null)&&(K.hpt&&(K.hpx=aA(K.hpt)),V[K.r]=K);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:K[2]},K[2]){case"n":p.v=K[1];break;case"s":S=KT[K[1]],p.v=S.t,p.r=S.r;break;case"b":p.v=!!K[1];break;case"e":p.v=K[1],o.cellText!==!1&&(p.w=dx[p.v]);break;case"str":p.t="s",p.v=K[1];break;case"is":p.t="s",p.v=K[1].t;break}if((m=s.CellXf[K[0].iStyleRef])&&cpe(p,m.numFmtId,null,o,a,s),y=K[0].c==-1?y+1:K[0].c,o.dense?(l[g]||(l[g]=[]),l[g][y]=p):l[ss(y)+A]=p,o.cellFormula){for(I=!1,D=0;D<N.length;++D){var H=N[D];h.r>=H[0].s.r&&h.r<=H[0].e.r&&y>=H[0].s.c&&y<=H[0].e.c&&(p.F=Ur(H[0]),I=!0)}!I&&K.length>3&&(p.f=K[3])}if(c.s.r>h.r&&(c.s.r=h.r),c.s.c>y&&(c.s.c=y),c.e.r<h.r&&(c.e.r=h.r),c.e.c<y&&(c.e.c=y),o.cellDates&&m&&p.t=="n"&&ux(Qn[m.numFmtId])){var ee=yv(p.v);ee&&(p.t="d",p.v=new Date(ee.y,ee.m-1,ee.d,ee.H,ee.M,ee.S,ee.u))}W&&(W.type=="XLDAPR"&&(p.D=!0),W=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;p={t:"z",v:void 0},y=K[0].c==-1?y+1:K[0].c,o.dense?(l[g]||(l[g]=[]),l[g][y]=p):l[ss(y)+A]=p,c.s.r>h.r&&(c.s.r=h.r),c.s.c>y&&(c.s.c=y),c.e.r<h.r&&(c.e.r=h.r),c.e.c<y&&(c.e.c=y),W&&(W.type=="XLDAPR"&&(p.D=!0),W=void 0);break;case 176:E.push(K);break;case 49:W=((o.xlmeta||{}).Cell||[])[K-1];break;case 494:var Q=r["!id"][K.relId];for(Q?(K.Target=Q.Target,K.loc&&(K.Target+="#"+K.loc),K.Rel=Q):K.relId==""&&(K.Target="#"+K.loc),g=K.rfx.s.r;g<=K.rfx.e.r;++g)for(y=K.rfx.s.c;y<=K.rfx.e.c;++y)o.dense?(l[g]||(l[g]=[]),l[g][y]||(l[g][y]={t:"z",v:void 0}),l[g][y].l=K):(_=er({c:y,r:g}),l[_]||(l[_]={t:"z",v:void 0}),l[_].l=K);break;case 426:if(!o.cellFormula)break;N.push(K),M=o.dense?l[g][y]:l[ss(y)+A],M.f=Co(K[1],c,{r:h.r,c:y},B,o),M.F=Ur(K[0]);break;case 427:if(!o.cellFormula)break;L[er(K[0].s)]=K[1],M=o.dense?l[g][y]:l[ss(y)+A],M.f=Co(K[1],c,{r:h.r,c:y},B,o);break;case 60:if(!o.cellStyles)break;for(;K.e>=K.s;)G[K.e--]={width:K.w/256,hidden:!!(K.flags&1),level:K.level},q||(q=!0,O7(K.w/256)),Rb(G[K.e+1]);break;case 161:l["!autofilter"]={ref:Ur(K)};break;case 476:l["!margins"]=K;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),K.name&&(i.Sheets[t].CodeName=K.name),(K.above||K.left)&&(l["!outline"]={above:K.above,left:K.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),K.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!se.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(c.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=Ur(u||c)),o.sheetRows&&l["!ref"]){var Z=ma(l["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>c.e.r&&(Z.e.r=c.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>c.e.c&&(Z.e.c=c.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ur(Z))}return E.length>0&&(l["!merges"]=E),G.length>0&&(l["!cols"]=G),V.length>0&&(l["!rows"]=V),l}function QYe(n){var e=[],t=n.match(/^<c:numCache>/),r;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=t?+s[2]:s[2])});var i=Wr((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){r=a.replace(/<.*?>/g,"")}),[e,i,r]}function eqe(n,e,t,r,i,a){var s=a||{"!type":"chart"};if(!n)return a;var o=0,l=0,u="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=QYe(f);c.s.r=c.s.c=0,c.e.c=o,u=ss(o),d[0].forEach(function(h,p){s[u+$s(p)]={t:"n",v:h,z:d[1]},l=p}),c.e.r<l&&(c.e.r=l),++o}),o>0&&(s["!ref"]=Ur(c)),s}function tqe(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=n.match(fpe);return o&&B7(o[0],a,i,t),(s=n.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}function nqe(n,e){n.l+=10;var t=Po(n);return{name:t}}function rqe(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Xp(n,function(l,u,c){switch(c){case 550:a["!rel"]=l;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),l.name&&(i.Sheets[t].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},e),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}var hpe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],iqe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],aqe=[],sqe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function wQ(n,e){for(var t=0;t!=n.length;++t)for(var r=n[t],i=0;i!=e.length;++i){var a=e[i];if(r[a[0]]==null)r[a[0]]=a[1];else switch(a[2]){case"bool":typeof r[a[0]]=="string"&&(r[a[0]]=Gi(r[a[0]]));break;case"int":typeof r[a[0]]=="string"&&(r[a[0]]=parseInt(r[a[0]],10));break}}}function TQ(n,e){for(var t=0;t!=e.length;++t){var r=e[t];if(n[r[0]]==null)n[r[0]]=r[1];else switch(r[2]){case"bool":typeof n[r[0]]=="string"&&(n[r[0]]=Gi(n[r[0]]));break;case"int":typeof n[r[0]]=="string"&&(n[r[0]]=parseInt(n[r[0]],10));break}}}function ppe(n){TQ(n.WBProps,hpe),TQ(n.CalcPr,sqe),wQ(n.WBView,iqe),wQ(n.Sheets,aqe),rb.date1904=Gi(n.WBProps.date1904)}var oqe="][*?/\\".split("");function lqe(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return oqe.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var uqe=/<\w+:workbook/;function cqe(n,e){if(!n)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",a={},s=0;if(n.replace(zo,function(l,u){var c=Wn(l);switch(oh(c[0])){case"<?xml":break;case"<workbook":l.match(uqe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),t.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],t.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":hpe.forEach(function(f){if(c[f[0]]!=null)switch(f[2]){case"bool":t.WBProps[f[0]]=Gi(c[f[0]]);break;case"int":t.WBProps[f[0]]=parseInt(c[f[0]],10);break;default:t.WBProps[f[0]]=c[f[0]]}}),c.codeName&&(t.WBProps.CodeName=Ri(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],t.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Wr(Ri(c.name)),delete c[0],t.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":a={},a.Name=Ri(c.name),c.comment&&(a.Comment=c.comment),c.localSheetId&&(a.Sheet=+c.localSheetId),Gi(c.hidden||"0")&&(a.Hidden=!0),s=u+l.length;break;case"</definedName>":a.Ref=Wr(Ri(n.slice(s,u))),t.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete c[0],t.CalcPr=c;break;case"<calcPr/>":delete c[0],t.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return l}),E9e.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return ppe(t),t}function fqe(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=lz(n),t.name=Po(n),t}function dqe(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Po(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function hqe(n,e){var t={};return n.read_shift(4),t.ArchID=n.read_shift(4),n.l+=e-8,t}function pqe(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),a=Y9e(n),s=$We(n,0,t),o=N7(n);n.l=r;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function vqe(n,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],DI[16]={n:"BrtFRTArchID$",f:hqe},Xp(n,function(l,u,c){switch(c){case 156:s.SheetNames.push(l.name),t.Sheets.push(l);break;case 153:t.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Co(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([c,l]):s[0]=[c,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(c),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(c),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},e),ppe(t),t.Names=a,t.supbooks=s,t}function mqe(n,e,t){return e.slice(-4)===".bin"?vqe(n,t):cqe(n,t)}function gqe(n,e,t,r,i,a,s,o){return e.slice(-4)===".bin"?JYe(n,r,t,i,a,s,o):fYe(n,r,t,i,a,s,o)}function yqe(n,e,t,r,i,a,s,o){return e.slice(-4)===".bin"?rqe(n,r,t,i,a):tqe(n,r,t,i,a)}function xqe(n,e,t,r,i,a,s,o){return e.slice(-4)===".bin"?Mje():Eje()}function _qe(n,e,t,r,i,a,s,o){return e.slice(-4)===".bin"?Cje():Aje()}function bqe(n,e,t,r){return e.slice(-4)===".bin"?GHe(n,t,r):OHe(n,t,r)}function Sqe(n,e,t){return epe(n,t)}function wqe(n,e,t){return e.slice(-4)===".bin"?iHe(n,t):nHe(n,t)}function Tqe(n,e,t){return e.slice(-4)===".bin"?Sje(n,t):gje(n,t)}function Cqe(n,e,t){return e.slice(-4)===".bin"?pje(n):dje(n)}function Aqe(n,e,t,r){return t.slice(-4)===".bin"?vje(n,e,t,r):void 0}function Mqe(n,e,t){return e.slice(-4)===".bin"?cje(n,e,t):fje(n,e,t)}var vpe=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,mpe=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function af(n,e){var t=n.split(/\s+/),r=[];if(r[0]=t[0],t.length===1)return r;var i=n.match(vpe),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(mpe),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}function Eqe(n){var e=n.split(/\s+/),t={};if(e.length===1)return t;var r=n.match(vpe),i,a,s,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(mpe),(a=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),t[s]=i[2].slice(1,i[2].length-1));return t}var JT;function Dqe(n,e){var t=JT[n]||Wr(n);return t==="General"?jy(e):Au(t,e)}function Rqe(n,e,t,r){var i=r;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Gi(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=ks(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}n[Wr(e)]=i}function Nqe(n,e,t){if(n.t!=="z"){if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||dx[n.v]:e==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=eA(n.v):n.w=jy(n.v):n.w=Dqe(e||"General",n.v)}catch(a){if(t.WTF)throw a}try{var r=JT[e]||e||"General";if(t.cellNF&&(n.z=r),t.cellDates&&n.t=="n"&&ux(r)){var i=yv(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(t.WTF)throw a}}}function Iqe(n,e,t){if(t.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=RHe[r.Pattern]||r.Pattern)}n[e.ID]=e}function kqe(n,e,t,r,i,a,s,o,l,u){var c="General",f=r.StyleID,d={};u=u||{};var h=[],p=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);a[f]!==void 0&&(a[f].nf&&(c=a[f].nf),a[f].Interior&&h.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(t.Type){case"Boolean":r.t="b",r.v=Gi(n);break;case"String":r.t="s",r.r=YJ(Wr(n)),r.v=n.indexOf("<")>-1?Wr(e||n).replace(/<.*?>/g,""):r.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),r.v=(ks(n)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Wr(n):r.v<60&&(r.v=r.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+n),r.t||(r.t="n");break;case"Error":r.t="e",r.v=Ihe[n],u.cellText!==!1&&(r.w=n);break;default:n==""&&e==""?r.t="z":(r.t="s",r.v=YJ(e||n));break}if(Nqe(r,c,u),u.cellFormula!==!1)if(r.Formula){var m=Wr(r.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),r.f=nb(m,i),delete r.Formula,r.ArrayRange=="RC"?r.F=nb("RC:RC",i):r.ArrayRange&&(r.F=nb(r.ArrayRange,i),l.push([ma(r.F),r.F]))}else for(p=0;p<l.length;++p)i.r>=l[p][0].s.r&&i.r<=l[p][0].e.r&&i.c>=l[p][0].s.c&&i.c<=l[p][0].e.c&&(r.F=l[p][1]);u.cellStyles&&(h.forEach(function(g){!d.patternType&&g.patternType&&(d.patternType=g.patternType)}),r.s=d),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Lqe(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function aF(n,e){var t=e||{};rhe();var r=xT(A7(n));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(r=Ri(r));var i=r.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=Ks(t);return s.type="string",rA.to_workbook(r,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(fe){i.indexOf("<"+fe)>=0&&(a=!0)}),a)return Hqe(r,t);JT={"General Number":"General","General Date":Qn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Qn[15],"Short Date":Qn[14],"Long Time":Qn[19],"Medium Time":Qn[18],"Short Time":Qn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Qn[2],Standard:Qn[4],Percent:Qn[10],Scientific:Qn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,c={},f=[],d=t.dense?[]:{},h="",p={},m={},g=af('<Data ss:Type="String">'),y=0,_=0,S=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},M={},E={},D="",I=0,N=[],L={},B={},O=0,G=[],V=[],q={},W=[],Z,X=!1,K=[],se=[],J={},H=0,ee=0,Q={Sheets:[],WBProps:{date1904:!1}},ne={};nA.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";o=nA.exec(r);)switch(o[3]=(ce=o[3]).toLowerCase()){case"data":if(ce=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?kqe(r.slice(y,o.index),D,g,l[l.length-1][0]=="comment"?q:p,{c:_,r:S},M,W[_],m,K,t):(D="",g=af(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(V.length>0&&(p.c=V),(!t.sheetRows||t.sheetRows>S)&&p.v!==void 0&&(t.dense?(d[S]||(d[S]=[]),d[S][_]=p):d[ss(_)+$s(S)]=p),p.HRef&&(p.l={Target:Wr(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(H=_+(parseInt(p.MergeAcross,10)|0),ee=S+(parseInt(p.MergeDown,10)|0),N.push({s:{c:_,r:S},e:{c:H,r:ee}})),!t.sheetStubs)p.MergeAcross?_=H+1:++_;else if(p.MergeAcross||p.MergeDown){for(var ve=_;ve<=H;++ve)for(var xe=S;xe<=ee;++xe)(ve>_||xe>S)&&(t.dense?(d[xe]||(d[xe]=[]),d[xe][ve]={t:"z"}):d[ss(ve)+$s(xe)]={t:"z"});_=H+1}else++_;else p=Eqe(o[0]),p.Index&&(_=+p.Index-1),_<A.s.c&&(A.s.c=_),_>A.e.c&&(A.e.c=_),o[0].slice(-2)==="/>"&&++_,V=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(S<A.s.r&&(A.s.r=S),S>A.e.r&&(A.e.r=S),o[0].slice(-2)==="/>"&&(m=af(o[0]),m.Index&&(S=+m.Index-1)),_=0,++S):(m=af(o[0]),m.Index&&(S=+m.Index-1),J={},(m.AutoFitHeight=="0"||m.Height)&&(J.hpx=parseInt(m.Height,10),J.hpt=Qhe(J.hpx),se[S]=J),m.Hidden=="1"&&(J.hidden=!0,se[S]=J));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(h),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(d["!ref"]=Ur(A),t.sheetRows&&t.sheetRows<=A.e.r&&(d["!fullref"]=d["!ref"],A.e.r=t.sheetRows-1,d["!ref"]=Ur(A))),N.length&&(d["!merges"]=N),W.length>0&&(d["!cols"]=W),se.length>0&&(d["!rows"]=se),c[h]=d}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=_=0,l.push([o[3],!1]),u=af(o[0]),h=Wr(u.Name),d=t.dense?[]:{},N=[],K=[],se=[],ne={name:h,Hidden:0},Q.Sheets.push(ne);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),W=[],X=!1}break;case"style":o[1]==="/"?Iqe(M,E,t):E=af(o[0]);break;case"numberformat":E.nf=Wr(af(o[0]).Format||"General"),JT[E.nf]&&(E.nf=JT[E.nf]);for(var we=0;we!=392&&Qn[we]!=E.nf;++we);if(we==392){for(we=57;we!=392;++we)if(Qn[we]==null){Tp(E.nf,we);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Z=af(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!X&&Z.wpx>10){X=!0,hl=$he;for(var Ae=0;Ae<W.length;++Ae)W[Ae]&&Rb(W[Ae])}X&&Rb(Z),W[Z.Index-1||W.length]=Z;for(var Ue=0;Ue<+Z.Span;++Ue)W[W.length]=Ks(Z);break;case"namedrange":if(o[1]==="/")break;Q.Names||(Q.Names=[]);var pe=Wn(o[0]),pt={Name:pe.Name,Ref:nb(pe.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(pt.Sheet=Q.Sheets.length-1),Q.Names.push(pt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=r.slice(I,o.index):I=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;E.Interior=af(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?g7e(L,ce,r.slice(O,o.index)):O=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));Lqe(q),V.push(q)}else l.push([o[3],!1]),u=af(o[0]),q={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var te=af(o[0]);d["!autofilter"]={ref:nb(te.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return RQ(r,t);var oe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:oe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:oe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:oe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:oe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(O,o.index)){case"SheetHidden":ne.Hidden=1;break;case"SheetVeryHidden":ne.Hidden=2;break}else O=o.index+o[0].length;break;case"header":d["!margins"]||$T(d["!margins"]={},"xlml"),isNaN(+Wn(o[0]).Margin)||(d["!margins"].header=+Wn(o[0]).Margin);break;case"footer":d["!margins"]||$T(d["!margins"]={},"xlml"),isNaN(+Wn(o[0]).Margin)||(d["!margins"].footer=+Wn(o[0]).Margin);break;case"pagemargins":var ge=Wn(o[0]);d["!margins"]||$T(d["!margins"]={},"xlml"),isNaN(+ge.Top)||(d["!margins"].top=+ge.Top),isNaN(+ge.Left)||(d["!margins"].left=+ge.Left),isNaN(+ge.Right)||(d["!margins"].right=+ge.Right),isNaN(+ge.Bottom)||(d["!margins"].bottom=+ge.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:oe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:oe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:oe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:oe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:oe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:oe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:oe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:oe=!1}break;case"smarttags":break;default:oe=!1;break}if(oe||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Rqe(B,ce,G,r.slice(O,o.index)):(G=o,O=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var le={};return!t.bookSheets&&!t.bookProps&&(le.Sheets=c),le.SheetNames=f,le.Workbook=Q,le.SSF=Ks(Qn),le.Props=L,le.Custprops=B,le}function dz(n,e){switch(V7(e=e||{}),e.type||"base64"){case"base64":return aF(Cu(n),e);case"binary":case"buffer":case"file":return aF(n,e);case"array":return aF(lx(n),e)}}function Pqe(n){var e={},t=n.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=Z9e(t),t.length-t.l<=4)return e;var r=t.read_shift(4);if(r==0||r>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(r=t.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=K9e(t),r=t.read_shift(4),r==0||r>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var Oqe=[60,1084,2066,2165,2175];function Fqe(n,e,t,r,i){var a=r,s=[],o=t.slice(t.l,t.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),t.l+=a;for(var l=hp(t,t.l),u=hz[l],c=0;u!=null&&Oqe.indexOf(l)>-1;)a=hp(t,t.l+2),c=t.l+4,l==2066?c+=4:(l==2165||l==2175)&&(c+=12),o=t.slice(c,t.l+4+a),s.push(o),t.l+=4+a,u=hz[l=hp(t,t.l)];var f=ov(s);Xs(f,0);var d=0;f.lens=[];for(var h=0;h<s.length;++h)f.lens.push(d),d+=s[h].length;if(f.length<r)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function Td(n,e,t){if(n.t!=="z"&&n.XF){var r=0;try{r=n.z||n.XF.numFmtId||0,e.cellNF&&(n.z=Qn[r])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{n.t==="e"?n.w=n.w||dx[n.v]:r===0||r=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=eA(n.v):n.w=jy(n.v):n.w=Au(r,n.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&r&&n.t=="n"&&ux(Qn[r]||String(r))){var i=yv(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function CD(n,e,t){return{v:n,ixfe:e,t}}function Bqe(n,e){var t={opts:{}},r={},i=e.dense?[]:{},a={},s={},o=null,l=[],u="",c={},f,d="",h,p,m,g,y={},_=[],S,A,M=[],E=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},N=function(mt){return mt<8?Ay[mt]:mt<64&&E[mt-8]||Ay[mt]},L=function(mt,Nt,Ht){var Qe=Nt.XF.data;if(!(!Qe||!Qe.patternType||!Ht||!Ht.cellStyles)){Nt.s={},Nt.s.patternType=Qe.patternType;var bt;(bt=iA(N(Qe.icvFore)))&&(Nt.s.fgColor={rgb:bt}),(bt=iA(N(Qe.icvBack)))&&(Nt.s.bgColor={rgb:bt})}},B=function(mt,Nt,Ht){if(!(J>1)&&!(Ht.sheetRows&&mt.r>=Ht.sheetRows)){if(Ht.cellStyles&&Nt.XF&&Nt.XF.data&&L(mt,Nt,Ht),delete Nt.ixfe,delete Nt.XF,f=mt,d=er(mt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),mt.r<s.s.r&&(s.s.r=mt.r),mt.c<s.s.c&&(s.s.c=mt.c),mt.r+1>s.e.r&&(s.e.r=mt.r+1),mt.c+1>s.e.c&&(s.e.c=mt.c+1),Ht.cellFormula&&Nt.f){for(var Qe=0;Qe<_.length;++Qe)if(!(_[Qe][0].s.c>mt.c||_[Qe][0].s.r>mt.r)&&!(_[Qe][0].e.c<mt.c||_[Qe][0].e.r<mt.r)){Nt.F=Ur(_[Qe][0]),(_[Qe][0].s.c!=mt.c||_[Qe][0].s.r!=mt.r)&&delete Nt.f,Nt.f&&(Nt.f=""+Co(_[Qe][1],s,mt,K,O));break}}Ht.dense?(i[mt.r]||(i[mt.r]=[]),i[mt.r][mt.c]=Nt):i[d]=Nt}},O={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(O.password=e.password);var G,V=[],q=[],W=[],Z=[],X=!1,K=[];K.SheetNames=O.snames,K.sharedf=O.sharedf,K.arrayf=O.arrayf,K.names=[],K.XTI=[];var se=0,J=0,H=0,ee=[],Q=[],ne;O.codepage=1200,_f(1200);for(var ce=!1;n.l<n.length-1;){var ve=n.l,xe=n.read_shift(2);if(xe===0&&se===10)break;var we=n.l===n.length?0:n.read_shift(2),Ae=hz[xe];if(Ae&&Ae.f){if(e.bookSheets&&se===133&&xe!==133)break;if(se=xe,Ae.r===2||Ae.r==12){var Ue=n.read_shift(2);if(we-=2,!O.enc&&Ue!==xe&&((Ue&255)<<8|Ue>>8)!==xe)throw new Error("rt mismatch: "+Ue+"!="+xe);Ae.r==12&&(n.l+=10,we-=10)}var pe={};if(xe===10?pe=Ae.f(n,we,O):pe=Fqe(xe,Ae,n,we,O),J==0&&[9,521,1033,2057].indexOf(se)===-1)continue;switch(xe){case 34:t.opts.Date1904=D.WBProps.date1904=pe;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(O.enc||(n.l=0),O.enc=pe,!e.password)throw new Error("File is password-protected");if(pe.valid==null)throw new Error("Encryption scheme unsupported");if(!pe.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=pe;break;case 66:var pt=Number(pe);switch(pt){case 21010:pt=1200;break;case 32768:pt=1e4;break;case 32769:pt=1252;break}_f(O.codepage=pt),ce=!0;break;case 317:O.rrtabid=pe;break;case 25:O.winlocked=pe;break;case 439:t.opts.RefreshAll=pe;break;case 12:t.opts.CalcCount=pe;break;case 16:t.opts.CalcDelta=pe;break;case 17:t.opts.CalcIter=pe;break;case 13:t.opts.CalcMode=pe;break;case 14:t.opts.CalcPrecision=pe;break;case 95:t.opts.CalcSaveRecalc=pe;break;case 15:O.CalcRefMode=pe;break;case 2211:t.opts.FullCalc=pe;break;case 129:pe.fDialog&&(i["!type"]="dialog"),pe.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),pe.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:M.push(pe);break;case 430:K.push([pe]),K[K.length-1].XTI=[];break;case 35:case 547:K[K.length-1].push(pe);break;case 24:case 536:ne={Name:pe.Name,Ref:Co(pe.rgce,s,null,K,O)},pe.itab>0&&(ne.Sheet=pe.itab-1),K.names.push(ne),K[0]||(K[0]=[],K[0].XTI=[]),K[K.length-1].push(pe),pe.Name=="_xlnm._FilterDatabase"&&pe.itab>0&&pe.rgce&&pe.rgce[0]&&pe.rgce[0][0]&&pe.rgce[0][0][0]=="PtgArea3d"&&(Q[pe.itab-1]={ref:Ur(pe.rgce[0][0][1][2])});break;case 22:O.ExternCount=pe;break;case 23:K.length==0&&(K[0]=[],K[0].XTI=[]),K[K.length-1].XTI=K[K.length-1].XTI.concat(pe),K.XTI=K.XTI.concat(pe);break;case 2196:if(O.biff<8)break;ne!=null&&(ne.Comment=pe[1]);break;case 18:i["!protect"]=pe;break;case 19:pe!==0&&O.WTF&&console.error("Password verifier: "+pe);break;case 133:a[pe.pos]=pe,O.snames.push(pe.name);break;case 10:{if(--J)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=Ur(s),e.sheetRows&&e.sheetRows<=s.e.r){var te=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ur(s),s.e.r=te}s.e.r++,s.e.c++}V.length>0&&(i["!merges"]=V),q.length>0&&(i["!objects"]=q),W.length>0&&(i["!cols"]=W),Z.length>0&&(i["!rows"]=Z),D.Sheets.push(I)}u===""?c=i:r[u]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[pe.BIFFVer]||8),O.biffguess=pe.BIFFVer==0,pe.BIFFVer==0&&pe.dt==4096&&(O.biff=5,ce=!0,_f(O.codepage=28591)),O.biff==8&&pe.BIFFVer==0&&pe.dt==16&&(O.biff=2),J++)break;if(i=e.dense?[]:{},O.biff<8&&!ce&&(ce=!0,_f(O.codepage=e.codepage||1252)),O.biff<5||pe.BIFFVer==0&&pe.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var oe={pos:n.l-we,name:u};a[oe.pos]=oe,O.snames.push(u)}else u=(a[ve]||{name:""}).name;pe.dt==32&&(i["!type"]="chart"),pe.dt==64&&(i["!type"]="macro"),V=[],q=[],O.arrayf=_=[],W=[],Z=[],X=!1,I={Hidden:(a[ve]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[pe.r]||[])[pe.c]:i[er({c:pe.c,r:pe.r})])&&++pe.c,S={ixfe:pe.ixfe,XF:M[pe.ixfe]||{},v:pe.val,t:"n"},H>0&&(S.z=ee[S.ixfe>>8&63]),Td(S,e,t.opts.Date1904),B({c:pe.c,r:pe.r},S,e);break;case 5:case 517:S={ixfe:pe.ixfe,XF:M[pe.ixfe],v:pe.val,t:pe.t},H>0&&(S.z=ee[S.ixfe>>8&63]),Td(S,e,t.opts.Date1904),B({c:pe.c,r:pe.r},S,e);break;case 638:S={ixfe:pe.ixfe,XF:M[pe.ixfe],v:pe.rknum,t:"n"},H>0&&(S.z=ee[S.ixfe>>8&63]),Td(S,e,t.opts.Date1904),B({c:pe.c,r:pe.r},S,e);break;case 189:for(var ge=pe.c;ge<=pe.C;++ge){var le=pe.rkrec[ge-pe.c][0];S={ixfe:le,XF:M[le],v:pe.rkrec[ge-pe.c][1],t:"n"},H>0&&(S.z=ee[S.ixfe>>8&63]),Td(S,e,t.opts.Date1904),B({c:ge,r:pe.r},S,e)}break;case 6:case 518:case 1030:{if(pe.val=="String"){o=pe;break}if(S=CD(pe.val,pe.cell.ixfe,pe.tt),S.XF=M[S.ixfe],e.cellFormula){var fe=pe.formula;if(fe&&fe[0]&&fe[0][0]&&fe[0][0][0]=="PtgExp"){var be=fe[0][0][1][0],Oe=fe[0][0][1][1],Ve=er({r:be,c:Oe});y[Ve]?S.f=""+Co(pe.formula,s,pe.cell,K,O):S.F=((e.dense?(i[be]||[])[Oe]:i[Ve])||{}).F}else S.f=""+Co(pe.formula,s,pe.cell,K,O)}H>0&&(S.z=ee[S.ixfe>>8&63]),Td(S,e,t.opts.Date1904),B(pe.cell,S,e),o=pe}break;case 7:case 519:if(o)o.val=pe,S=CD(pe,o.cell.ixfe,"s"),S.XF=M[S.ixfe],e.cellFormula&&(S.f=""+Co(o.formula,s,o.cell,K,O)),H>0&&(S.z=ee[S.ixfe>>8&63]),Td(S,e,t.opts.Date1904),B(o.cell,S,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(pe);var Pe=er(pe[0].s);if(h=e.dense?(i[pe[0].s.r]||[])[pe[0].s.c]:i[Pe],e.cellFormula&&h){if(!o||!Pe||!h)break;h.f=""+Co(pe[1],s,pe[0],K,O),h.F=Ur(pe[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!o)break;y[er(o.cell)]=pe[0],h=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[er(o.cell)],(h||{}).f=""+Co(pe[0],s,f,K,O)}}break;case 253:S=CD(l[pe.isst].t,pe.ixfe,"s"),l[pe.isst].h&&(S.h=l[pe.isst].h),S.XF=M[S.ixfe],H>0&&(S.z=ee[S.ixfe>>8&63]),Td(S,e,t.opts.Date1904),B({c:pe.c,r:pe.r},S,e);break;case 513:e.sheetStubs&&(S={ixfe:pe.ixfe,XF:M[pe.ixfe],t:"z"},H>0&&(S.z=ee[S.ixfe>>8&63]),Td(S,e,t.opts.Date1904),B({c:pe.c,r:pe.r},S,e));break;case 190:if(e.sheetStubs)for(var me=pe.c;me<=pe.C;++me){var ue=pe.ixfe[me-pe.c];S={ixfe:ue,XF:M[ue],t:"z"},H>0&&(S.z=ee[S.ixfe>>8&63]),Td(S,e,t.opts.Date1904),B({c:me,r:pe.r},S,e)}break;case 214:case 516:case 4:S=CD(pe.val,pe.ixfe,"s"),S.XF=M[S.ixfe],H>0&&(S.z=ee[S.ixfe>>8&63]),Td(S,e,t.opts.Date1904),B({c:pe.c,r:pe.r},S,e);break;case 0:case 512:J===1&&(s=pe);break;case 252:l=pe;break;case 1054:if(O.biff==4){ee[H++]=pe[1];for(var Ie=0;Ie<H+163&&Qn[Ie]!=pe[1];++Ie);Ie>=163&&Tp(pe[1],H+163)}else Tp(pe[1],pe[0]);break;case 30:{ee[H++]=pe;for(var Ye=0;Ye<H+163&&Qn[Ye]!=pe;++Ye);Ye>=163&&Tp(pe,H+163)}break;case 229:V=V.concat(pe);break;case 93:q[pe.cmo[0]]=O.lastobj=pe;break;case 438:O.lastobj.TxO=pe;break;case 127:O.lastobj.ImData=pe;break;case 440:for(g=pe[0].s.r;g<=pe[0].e.r;++g)for(m=pe[0].s.c;m<=pe[0].e.c;++m)h=e.dense?(i[g]||[])[m]:i[er({c:m,r:g})],h&&(h.l=pe[1]);break;case 2048:for(g=pe[0].s.r;g<=pe[0].e.r;++g)for(m=pe[0].s.c;m<=pe[0].e.c;++m)h=e.dense?(i[g]||[])[m]:i[er({c:m,r:g})],h&&h.l&&(h.l.Tooltip=pe[1]);break;case 28:{if(O.biff<=5&&O.biff>=2)break;h=e.dense?(i[pe[0].r]||[])[pe[0].c]:i[er(pe[0])];var ot=q[pe[2]];h||(e.dense?(i[pe[0].r]||(i[pe[0].r]=[]),h=i[pe[0].r][pe[0].c]={t:"z"}):h=i[er(pe[0])]={t:"z"},s.e.r=Math.max(s.e.r,pe[0].r),s.s.r=Math.min(s.s.r,pe[0].r),s.e.c=Math.max(s.e.c,pe[0].c),s.s.c=Math.min(s.s.c,pe[0].c)),h.c||(h.c=[]),p={a:pe[1],t:ot.TxO.t},h.c.push(p)}break;case 2173:sje(M[pe.ixfe],pe.ext);break;case 125:{if(!O.cellStyles)break;for(;pe.e>=pe.s;)W[pe.e--]={width:pe.w/256,level:pe.level||0,hidden:!!(pe.flags&1)},X||(X=!0,O7(pe.w/256)),Rb(W[pe.e+1])}break;case 520:{var We={};pe.level!=null&&(Z[pe.r]=We,We.level=pe.level),pe.hidden&&(Z[pe.r]=We,We.hidden=!0),pe.hpt&&(Z[pe.r]=We,We.hpt=pe.hpt,We.hpx=aA(pe.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||$T(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=pe;break;case 161:i["!margins"]||$T(i["!margins"]={}),i["!margins"].header=pe.header,i["!margins"].footer=pe.footer;break;case 574:pe.RTL&&(D.Views[0].RTL=!0);break;case 146:E=pe;break;case 2198:G=pe;break;case 140:A=pe;break;case 442:u?I.CodeName=pe||I.name:D.WBProps.CodeName=pe||"ThisWorkbook";break}}else Ae||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),n.l+=we}return t.SheetNames=nh(a).sort(function(zt,mt){return Number(zt)-Number(mt)}).map(function(zt){return a[zt].name}),e.bookSheets||(t.Sheets=r),!t.SheetNames.length&&c["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=c)):t.Preamble=c,t.Sheets&&Q.forEach(function(zt,mt){t.Sheets[t.SheetNames[mt]]["!autofilter"]=zt}),t.Strings=l,t.SSF=Ks(Qn),O.enc&&(t.Encryption=O.enc),G&&(t.Themes=G),t.Metadata={},A!==void 0&&(t.Metadata.Country=A),K.names.length>0&&(D.Names=K.names),t.Workbook=D,t}var CQ={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function zqe(n,e,t){var r=zr.find(n,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=lQ(r,n7e,CQ.DSI);for(var a in i)e[a]=i[a]}catch(u){if(t.WTF)throw u}var s=zr.find(n,"/!SummaryInformation");if(s&&s.size>0)try{var o=lQ(s,r7e,CQ.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(u){if(t.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(Lhe(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function gpe(n,e){e||(e={}),V7(e),Wde(),e.codepage&&x7(e.codepage);var t,r;if(n.FullPaths){if(zr.find(n,"/encryption"))throw new Error("File is password-protected");t=zr.find(n,"!CompObj"),r=zr.find(n,"/Workbook")||zr.find(n,"/Book")}else{switch(e.type){case"base64":n=gf(Cu(n));break;case"binary":n=gf(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}Xs(n,0),r={content:n}}var i,a;if(t&&Pqe(t),e.bookProps&&!e.bookSheets)i={};else{var s=Or?"buffer":"array";if(r&&r.content)i=Bqe(r.content,e);else if((a=zr.find(n,"PerfectOffice_MAIN"))&&a.content)i=ZT.to_workbook(a.content,(e.type=s,e));else if((a=zr.find(n,"NativeContent_MAIN"))&&a.content)i=ZT.to_workbook(a.content,(e.type=s,e));else throw(a=zr.find(n,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&n.FullPaths&&zr.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Tje(n))}var o={};return n.FullPaths&&zqe(n,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=n),i}var DI={0:{f:_Ye},1:{f:TYe},2:{f:kYe},3:{f:EYe},4:{f:AYe},5:{f:IYe},6:{f:OYe},7:{f:RYe},8:{f:VYe},9:{f:UYe},10:{f:BYe},11:{f:zYe},12:{f:CYe},13:{f:LYe},14:{f:DYe},15:{f:MYe},16:{f:dpe},17:{f:FYe},18:{f:NYe},19:{f:R7},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:pqe},40:{},42:{},43:{f:BHe},44:{f:FHe},45:{f:zHe},46:{f:VHe},47:{f:UHe},48:{},49:{f:G9e},50:{},51:{f:lje},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Yhe},62:{f:PYe},63:{f:hje},64:{f:KYe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Bo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ZYe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:wYe},148:{f:bYe,p:16},151:{f:jYe},152:{},153:{f:dqe},154:{},155:{},156:{f:fqe},157:{},158:{},159:{T:1,f:rHe},160:{T:-1},161:{T:1,f:fx},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:GYe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:oje},336:{T:-1},337:{f:uje,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:lz},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Whe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:WYe},427:{f:YYe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:XYe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:SYe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:HYe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:lz},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:bje},633:{T:1},634:{T:-1},635:{T:1,f:_je},636:{T:-1},637:{f:j9e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nqe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:$Ye},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},hz={6:{f:rF},10:{f:H0},12:{f:Ga},13:{f:Ga},14:{f:Ca},15:{f:Ca},16:{f:Eo},17:{f:Ca},18:{f:Ca},19:{f:Ga},20:{f:dQ},21:{f:dQ},23:{f:Whe},24:{f:pQ},25:{f:Ca},26:{},27:{},28:{f:yGe},29:{},34:{f:Ca},35:{f:hQ},38:{f:Eo},39:{f:Eo},40:{f:Eo},41:{f:Eo},42:{f:Ca},43:{f:Ca},47:{f:SHe},49:{f:Q7e},51:{f:Ga},60:{},61:{f:K7e},64:{f:Ca},65:{f:J7e},66:{f:Ga},77:{},80:{},81:{},82:{},85:{f:Ga},89:{},90:{},91:{},92:{f:G7e},93:{f:_Ge},94:{},95:{f:Ca},96:{},97:{},99:{f:Ca},125:{f:Yhe},128:{f:uGe},129:{f:H7e},130:{f:Ga},131:{f:Ca},132:{f:Ca},133:{f:j7e},134:{},140:{f:AGe},141:{f:Ga},144:{},146:{f:EGe},151:{},152:{},153:{},154:{},155:{},156:{f:Ga},157:{},158:{},160:{f:kGe},161:{f:RGe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:aGe},190:{f:sGe},193:{f:H0},197:{},198:{},199:{},200:{},201:{},202:{f:Ca},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ga},220:{},221:{f:Ca},222:{},224:{f:lGe},225:{f:V7e},226:{f:H0},227:{},229:{f:xGe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:W7e},253:{f:eGe},255:{f:Y7e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:zhe},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ca},353:{f:H0},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:fGe},431:{f:Ca},432:{},433:{},434:{},437:{},438:{f:wGe},439:{f:Ca},440:{f:TGe},441:{},442:{f:oM},443:{},444:{f:Ga},445:{},446:{},448:{f:H0},449:{f:Z7e,r:2},450:{f:H0},512:{f:cQ},513:{f:IGe},515:{f:cGe},516:{f:tGe},517:{f:fQ},519:{f:LGe},520:{f:q7e},523:{},545:{f:vQ},549:{f:uQ},566:{},574:{f:$7e},638:{f:iGe},659:{},1048:{},1054:{f:nGe},1084:{},1212:{f:vGe},2048:{f:CGe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:SD},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:H0},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:DGe,r:12},2173:{f:aje,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ca,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:pGe,r:12},2197:{},2198:{f:QHe,r:12},2199:{},2200:{},2201:{},2202:{f:mGe,r:12},2203:{f:H0},2204:{},2205:{},2206:{},2207:{},2211:{f:X7e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ga},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:NGe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:MGe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:cQ},1:{},2:{f:BGe},3:{f:FGe},4:{f:OGe},5:{f:fQ},7:{f:zGe},8:{},9:{f:SD},11:{},22:{f:Ga},30:{f:rGe},31:{},32:{},33:{f:vQ},36:{},37:{f:uQ},50:{f:UGe},62:{},52:{},67:{},68:{f:Ga},69:{},86:{},126:{},127:{f:PGe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:VGe},223:{},234:{},354:{},421:{},518:{f:rF},521:{f:SD},536:{f:pQ},547:{f:hQ},561:{},579:{},1030:{f:rF},1033:{f:SD},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function sf(n,e,t,r){var i=e;if(!isNaN(i)){var a=(t||[]).length||0,s=n.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&Ahe(t)&&n.push(t)}}function AQ(n,e){var t=e||{},r=t.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var i=n.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=n.match(/<\/table/i),s=i.index,o=a&&a.index||n.length,l=c9e(n.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,c=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var m=l[s].trim(),g=m.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,t.sheetRows&&t.sheetRows<=u){--u;break}c=0;continue}if(!(g!="<td"&&g!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var _=y[o].trim();if(_.match(/<t[dh]/i)){for(var S=_,A=0;S.charAt(0)=="<"&&(A=S.indexOf(">"))>-1;)S=S.slice(A+1);for(var M=0;M<p.length;++M){var E=p[M];E.s.c==c&&E.s.r<u&&u<=E.e.r&&(c=E.e.c+1,M=-1)}var D=Wn(_.slice(0,_.indexOf(">")));d=D.colspan?+D.colspan:1,((f=+D.rowspan)>1||d>1)&&p.push({s:{r:u,c},e:{r:u+(f||1)-1,c:c+d-1}});var I=D.t||D["data-t"]||"";if(!S.length){c+=d;continue}if(S=hhe(S),h.s.r>u&&(h.s.r=u),h.e.r<u&&(h.e.r=u),h.s.c>c&&(h.s.c=c),h.e.c<c&&(h.e.c=c),!S.length){c+=d;continue}var N={t:"s",v:S};t.raw||!S.trim().length||I=="s"||(S==="TRUE"?N={t:"b",v:!0}:S==="FALSE"?N={t:"b",v:!1}:isNaN(Ef(S))?isNaN(Db(S).getDate())||(N={t:"d",v:ks(S)},t.cellDates||(N={t:"n",v:Sl(N.v)}),N.z=t.dateNF||Qn[14]):N={t:"n",v:Ef(S)}),t.dense?(r[u]||(r[u]=[]),r[u][c]=N):r[er({r:u,c})]=N,c+=d}}}}return r["!ref"]=Ur(h),p.length&&(r["!merges"]=p),r}function Uqe(n,e,t,r){for(var i=n["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>s)&&!(i[u].e.r<t||i[u].e.c<s)){if(i[u].s.r<t||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=er({r:t,c:s}),f=r.dense?(n[t]||[])[s]:n[c],d=f&&f.v!=null&&(f.h||C7(f.w||(Fp(f),f.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(r.id||"sjs")+"-"+c,a.push(A9e("td",d,h))}}var p="<tr>";return p+a.join("")+"</tr>"}var Vqe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Gqe="</body></html>";function Hqe(n,e){var t=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return nm(AQ(t[0],e),e);var r=H7();return t.forEach(function(i,a){j7(r,AQ(i,e),"Sheet"+(a+1))}),r}function jqe(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function Wqe(n,e){var t=e||{},r=t.header!=null?t.header:Vqe,i=t.footer!=null?t.footer:Gqe,a=[r],s=vS(n["!ref"]);t.dense=Array.isArray(n),a.push(jqe(n,s,t));for(var o=s.s.r;o<=s.e.r;++o)a.push(Uqe(n,s,o,t));return a.push("</table>"+i),a.join("")}function ype(n,e,t){var r=t||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var s=typeof r.origin=="string"?vl(r.origin):r.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(n["!ref"]){var c=vS(n["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var f=[],d=0,h=n["!rows"]||(n["!rows"]=[]),p=0,m=0,g=0,y=0,_=0,S=0;for(n["!cols"]||(n["!cols"]=[]);p<o.length&&m<l;++p){var A=o[p];if(MQ(A)){if(r.display)continue;h[m]={hidden:!0}}var M=A.children;for(g=y=0;g<M.length;++g){var E=M[g];if(!(r.display&&MQ(E))){var D=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):hhe(E.innerHTML),I=E.getAttribute("data-z")||E.getAttribute("z");for(d=0;d<f.length;++d){var N=f[d];N.s.c==y+a&&N.s.r<m+i&&m+i<=N.e.r&&(y=N.e.c+1-a,d=-1)}S=+E.getAttribute("colspan")||1,((_=+E.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:m+i,c:y+a},e:{r:m+i+(_||1)-1,c:y+a+(S||1)-1}});var L={t:"s",v:D},B=E.getAttribute("data-t")||E.getAttribute("t")||"";D!=null&&(D.length==0?L.t=B||"z":r.raw||D.trim().length==0||B=="s"||(D==="TRUE"?L={t:"b",v:!0}:D==="FALSE"?L={t:"b",v:!1}:isNaN(Ef(D))?isNaN(Db(D).getDate())||(L={t:"d",v:ks(D)},r.cellDates||(L={t:"n",v:Sl(L.v)}),L.z=r.dateNF||Qn[14]):L={t:"n",v:Ef(D)})),L.z===void 0&&I!=null&&(L.z=I);var O="",G=E.getElementsByTagName("A");if(G&&G.length)for(var V=0;V<G.length&&!(G[V].hasAttribute("href")&&(O=G[V].getAttribute("href"),O.charAt(0)!="#"));++V);O&&O.charAt(0)!="#"&&(L.l={Target:O}),r.dense?(n[m+i]||(n[m+i]=[]),n[m+i][y+a]=L):n[er({c:y+a,r:m+i})]=L,u.e.c<y+a&&(u.e.c=y+a),y+=S}}++m}return f.length&&(n["!merges"]=(n["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+i),n["!ref"]=Ur(u),m>=l&&(n["!fullref"]=Ur((u.e.r=o.length-p+m-1+i,u))),n}function xpe(n,e){var t=e||{},r=t.dense?[]:{};return ype(r,n,e)}function Yqe(n,e){return nm(xpe(n,e),e)}function MQ(n){var e="",t=qqe(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function qqe(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Xqe(n){var e=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Wr(e.replace(/<[^>]*>/g,""));return[t]}var EQ={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function _pe(n,e){var t=e||{},r=A7(n),i=[],a,s,o={name:""},l="",u=0,c,f,d={},h=[],p=t.dense?[]:{},m,g,y={value:""},_="",S=0,A=[],M=-1,E=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,N={},L=[],B={},O=0,G=0,V=[],q=1,W=1,Z=[],X={Names:[]},K={},se=["",""],J=[],H={},ee="",Q=0,ne=!1,ce=!1,ve=0;for(nA.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=nA.exec(r);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?p["!ref"]=Ur(D):p["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=D.e.r&&(p["!fullref"]=p["!ref"],D.e.r=t.sheetRows-1,p["!ref"]=Ur(D)),L.length&&(p["!merges"]=L),V.length&&(p["!rows"]=V),c.name=c.||c.name,typeof JSON<"u"&&JSON.stringify(c),h.push(c.name),d[c.name]=p,ce=!1):m[0].charAt(m[0].length-2)!=="/"&&(c=Wn(m[0],!1),M=E=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,p=t.dense?[]:{},L=[],V=[],ce=!0);break;case"table-row-group":m[1]==="/"?--I:++I;break;case"table-row":case"":if(m[1]==="/"){M+=q,q=1;break}if(f=Wn(m[0],!1),f.?M=f.-1:M==-1&&(M=0),q=+f["number-rows-repeated"]||1,q<10)for(ve=0;ve<q;++ve)I>0&&(V[M+ve]={level:I});E=-1;break;case"covered-table-cell":m[1]!=="/"&&++E,t.sheetStubs&&(t.dense?(p[M]||(p[M]=[]),p[M][E]={t:"z"}):p[er({r:M,c:E})]={t:"z"}),_="",A=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++E,y=Wn(m[0],!1),W=parseInt(y["number-columns-repeated"]||"1",10),g={t:"z",v:null},y.formula&&t.cellFormula!=!1&&(g.f=SQ(Wr(y.formula))),(y.||y["value-type"])=="string"&&(g.t="s",g.v=Wr(y["string-value"]||""),t.dense?(p[M]||(p[M]=[]),p[M][E]=g):p[er({r:M,c:E})]=g),E+=W-1;else if(m[1]!=="/"){++E,_="",S=0,A=[],W=1;var xe=q?M+q-1:M;if(E>D.e.c&&(D.e.c=E),E<D.s.c&&(D.s.c=E),M<D.s.r&&(D.s.r=M),xe>D.e.r&&(D.e.r=xe),y=Wn(m[0],!1),J=[],H={},g={t:y.||y["value-type"],v:null},t.cellFormula)if(y.formula&&(y.formula=Wr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(O=parseInt(y["number-matrix-rows-spanned"],10)||0,G=parseInt(y["number-matrix-columns-spanned"],10)||0,B={s:{r:M,c:E},e:{r:M+O-1,c:E+G-1}},g.F=Ur(B),Z.push([B,g.F])),y.formula)g.f=SQ(y.formula);else for(ve=0;ve<Z.length;++ve)M>=Z[ve][0].s.r&&M<=Z[ve][0].e.r&&E>=Z[ve][0].s.c&&E<=Z[ve][0].e.c&&(g.F=Z[ve][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(O=parseInt(y["number-rows-spanned"],10)||0,G=parseInt(y["number-columns-spanned"],10)||0,B={s:{r:M,c:E},e:{r:M+O-1,c:E+G-1}},L.push(B)),y["number-columns-repeated"]&&(W=parseInt(y["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Gi(y["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(y.value);break;case"percentage":g.t="n",g.v=parseFloat(y.value);break;case"currency":g.t="n",g.v=parseFloat(y.value);break;case"date":g.t="d",g.v=ks(y["date-value"]),t.cellDates||(g.t="n",g.v=Sl(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=o9e(y["time-value"])/86400,t.cellDates&&(g.t="d",g.v=DL(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(y.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",y["string-value"]!=null&&(_=Wr(y["string-value"]),A=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(ne=!1,g.t==="s"&&(g.v=_||"",A.length&&(g.R=A),ne=S==0),K.Target&&(g.l=K),J.length>0&&(g.c=J,J=[]),_&&t.cellText!==!1&&(g.w=_),ne&&(g.t="z",delete g.v),(!ne||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=M))for(var we=0;we<q;++we){if(W=parseInt(y["number-columns-repeated"]||"1",10),t.dense)for(p[M+we]||(p[M+we]=[]),p[M+we][E]=we==0?g:Ks(g);--W>0;)p[M+we][E+W]=Ks(g);else for(p[er({r:M+we,c:E})]=g;--W>0;)p[er({r:M+we,c:E+W})]=Ks(g);D.e.c<=E&&(D.e.c=E)}W=parseInt(y["number-columns-repeated"]||"1",10),E+=W-1,W=0,g={},_="",A=[]}K={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a;H.t=_,A.length&&(H.R=A),H.a=ee,J.push(H)}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);ee="",Q=0,_="",S=0,A=[];break;case"creator":m[1]==="/"?ee=r.slice(Q,m.index):Q=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);_="",S=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(N[o.name]=l,(a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Wn(m[0],!1),i.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Wn(m[0],!1),l+=EQ[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Wn(m[0],!1),l+=EQ[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":s=Wn(m[0],!1),se=iF(s["cell-range-address"]);var Ae={Name:s.name,Ref:se[0]+"!"+se[1]};ce&&(Ae.Sheet=h.length),X.Names.push(Ae);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var Ue=Xqe(r.slice(S,m.index));_=(_.length>0?_+`
`:"")+Ue[0]}else Wn(m[0],!1),S=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{se=iF(Wn(m[0])["target-range-address"]),d[se[0]]["!autofilter"]={ref:se[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(K=Wn(m[0],!1),!K.href)break;K.Target=Wr(K.href),delete K.href,K.Target.charAt(0)=="#"&&K.Target.indexOf(".")>-1?(se=iF(K.Target.slice(1)),K.Target="#"+se[0]+"!"+se[1]):K.Target.match(/^\.\.[\\\/]/)&&(K.Target=K.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(m)}}var pe={Sheets:d,SheetNames:h,Workbook:X};return t.bookSheets&&delete pe.Sheets,pe}function DQ(n,e){e=e||{},uc(n,"META-INF/manifest.xml")&&c7e(Va(n,"META-INF/manifest.xml"),e);var t=gu(n,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var r=_pe(Ri(t),e);return uc(n,"meta.xml")&&(r.Props=khe(Va(n,"meta.xml"))),r}function RQ(n,e){return _pe(n,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function z7(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function pz(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):Ri(lx(n))}function vz(n){var e=n.reduce(function(i,a){return i+a.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function NQ(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function Zqe(n,e){for(var t=(n[e+15]&127)<<7|n[e+14]>>1,r=n[e+14]&1,i=e+13;i>=e;--i)r=r*256+n[i];return(n[e+15]&128?-r:r)*Math.pow(10,t-6176)}function sA(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function us(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Do(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=sA(n,t),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=t[0];n[t[0]++]>=128;);o=n.slice(l,t[0])}break;case 5:s=4,o=n.slice(t[0],t[0]+s),t[0]+=s;break;case 1:s=8,o=n.slice(t[0],t[0]+s),t[0]+=s;break;case 2:s=sA(n,t),o=n.slice(t[0],t[0]+s),t[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var u={data:o,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function U7(n,e){return(n==null?void 0:n.map(function(t){return e(t.data)}))||[]}function Kqe(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=sA(n,r),a=Do(n.slice(r[0],r[0]+i));r[0]+=i;var s={id:us(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Do(o.data),u=us(l[3][0].data);s.messages.push({meta:l,data:n.slice(r[0],r[0]+u)}),r[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=us(a[3][0].data)>>>0>0),t.push(s)}return t}function $qe(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=sA(e,t),i=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var s=e[t[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[t[0]],o>1&&(s|=e[t[0]+1]<<8),o>2&&(s|=e[t[0]+2]<<16),o>3&&(s|=e[t[0]+3]<<24),s>>>=0,s++,t[0]+=o}i.push(e.slice(t[0],t[0]+s)),t[0]+=s;continue}else{var l=0,u=0;if(a==1?(u=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,a==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[vz(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=vz(i);if(c.length!=r)throw new Error("Unexpected length: ".concat(c.length," != ").concat(r));return c}function Jqe(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push($qe(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return vz(e)}function Qqe(n,e,t,r){var i=z7(n),a=i.getUint32(4,!0),s=(r>1?12:8)+NQ(a&(r>1?3470:398))*4,o=-1,l=-1,u=NaN,c=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=NQ(a&(r>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(c.setTime(c.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var f;switch(n[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:t[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return f}function eXe(n,e,t){var r=z7(n),i=r.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,u=NaN,c=new Date(2001,0,1);i&1&&(l=Zqe(n,a),a+=16),i&2&&(u=r.getFloat64(a,!0),a+=8),i&4&&(c.setTime(c.getTime()+r.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=r.getUint32(a,!0),a+=4),i&16&&(s=r.getUint32(a,!0),a+=4);var f;switch(n[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:t[s]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)))}return f}function tXe(n,e,t){switch(n[0]){case 0:case 1:case 2:case 3:return Qqe(n,e,t,n[0]);case 5:return eXe(n,e,t);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function Iv(n){var e=Do(n);return sA(e[1][0].data)}function IQ(n,e){var t=Do(e.data),r=us(t[1][0].data),i=t[3],a=[];return(i||[]).forEach(function(s){var o=Do(s.data),l=us(o[1][0].data)>>>0;switch(r){case 1:a[l]=pz(o[3][0].data);break;case 8:{var u=n[Iv(o[9][0].data)][0],c=Do(u.data),f=n[Iv(c[1][0].data)][0],d=us(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=Do(f.data);a[l]=h[3].map(function(p){return pz(p.data)}).join("")}break}}),a}function nXe(n,e){var t,r,i,a,s,o,l,u,c,f,d,h,p,m,g=Do(n),y=us(g[1][0].data)>>>0,_=us(g[2][0].data)>>>0,S=((r=(t=g[8])==null?void 0:t[0])==null?void 0:r.data)&&us(g[8][0].data)>0||!1,A,M;if((a=(i=g[7])==null?void 0:i[0])!=null&&a.data&&e!=0)A=(o=(s=g[7])==null?void 0:s[0])==null?void 0:o.data,M=(u=(l=g[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(c=g[4])==null?void 0:c[0])!=null&&f.data&&e!=1)A=(h=(d=g[4])==null?void 0:d[0])==null?void 0:h.data,M=(m=(p=g[3])==null?void 0:p[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var E=S?4:1,D=z7(A),I=[],N=0;N<A.length/2;++N){var L=D.getUint16(N*2,!0);L<65535&&I.push([N,L])}if(I.length!=_)throw"Expected ".concat(_," cells, found ").concat(I.length);var B=[];for(N=0;N<I.length-1;++N)B[I[N][0]]=M.subarray(I[N][1]*E,I[N+1][1]*E);return I.length>=1&&(B[I[I.length-1][0]]=M.subarray(I[I.length-1][1]*E)),{R:y,cells:B}}function rXe(n,e){var t,r=Do(e.data),i=(t=r==null?void 0:r[7])!=null&&t[0]?us(r[7][0].data)>>>0>0?1:0:-1,a=U7(r[5],function(s){return nXe(s,i)});return{nrows:us(r[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=l}),s},[])}}function iXe(n,e,t){var r,i=Do(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(us(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(us(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Ur(a);var s=Do(i[4][0].data),o=IQ(n,n[Iv(s[4][0].data)][0]),l=(r=s[17])!=null&&r[0]?IQ(n,n[Iv(s[17][0].data)][0]):[],u=Do(s[3][0].data),c=0;u[1].forEach(function(f){var d=Do(f.data),h=n[Iv(d[2][0].data)][0],p=us(h.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var m=rXe(n,h);m.data.forEach(function(g,y){g.forEach(function(_,S){var A=er({r:c+y,c:S}),M=tXe(_,o,l);M&&(t[A]=M)})}),c+=m.nrows})}function aXe(n,e){var t=Do(e.data),r={"!ref":"A1"},i=n[Iv(t[2][0].data)],a=us(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return iXe(n,i[0],r),r}function sXe(n,e){var t,r=Do(e.data),i={name:(t=r[1])!=null&&t[0]?pz(r[1][0].data):"",sheets:[]},a=U7(r[2],Iv);return a.forEach(function(s){n[s].forEach(function(o){var l=us(o.meta[1][0].data);l==6e3&&i.sheets.push(aXe(n,o))})}),i}function oXe(n,e){var t=H7(),r=Do(e.data),i=U7(r[1],Iv);if(i.forEach(function(a){n[a].forEach(function(s){var o=us(s.meta[1][0].data);if(o==2){var l=sXe(n,s);l.sheets.forEach(function(u,c){j7(t,u,c==0?l.name:l.name+"_"+c,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function sF(n){var e,t,r,i,a={},s=[];if(n.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=Jqe(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var c;try{c=Kqe(u)}catch(f){return console.log("## "+(f.message||f))}c.forEach(function(f){a[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(r=(t=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&us(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(u){var c=us(u.meta[1][0].data)>>>0;if(c==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return oXe(a,o)}function lXe(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function V7(n){lXe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function uXe(n){return B_.WS.indexOf(n)>-1?"sheet":n==B_.CS?"chart":n==B_.DS?"dialog":n==B_.MS?"macro":n&&n.length?n:"sheet"}function cXe(n,e){if(!n)return 0;try{n=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,n["!id"][r.id].Target,uXe(n["!id"][r.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function fXe(n,e,t,r,i,a,s,o,l,u,c,f){try{a[r]=qT(gu(n,t,!0),e);var d=Va(n,e),h;switch(o){case"sheet":h=gqe(d,e,i,l,a[r],u,c,f);break;case"chart":if(h=yqe(d,e,i,l,a[r],u,c,f),!h||!h["!drawel"])break;var p=bT(h["!drawel"].Target,e),m=uz(p),g=mje(gu(n,p,!0),qT(gu(n,m,!0),p)),y=bT(g,p),_=uz(y);h=eqe(gu(n,y,!0),y,l,qT(gu(n,_,!0),y),u,h);break;case"macro":h=xqe(d,e,i,l,a[r],u,c,f);break;case"dialog":h=_qe(d,e,i,l,a[r],u,c,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[r]=h;var S=[];a&&a[r]&&nh(a[r]).forEach(function(A){var M="";if(a[r][A].Type==B_.CMNT){M=bT(a[r][A].Target,e);var E=Tqe(Va(n,M,!0),M,l);if(!E||!E.length)return;gQ(h,E,!1)}a[r][A].Type==B_.TCMNT&&(M=bT(a[r][A].Target,e),S=S.concat(yje(Va(n,M,!0),l)))}),S&&S.length&&gQ(h,S,!0,l.people||[])}catch(A){if(l.WTF)throw A}}function tc(n){return n.charAt(0)=="/"?n.slice(1):n}function dXe(n,e){if(rhe(),e=e||{},V7(e),uc(n,"META-INF/manifest.xml")||uc(n,"objectdata.xml"))return DQ(n,e);if(uc(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof sF<"u"){if(n.FileIndex)return sF(n);var t=zr.utils.cfb_new();return jJ(n).forEach(function(V){h9e(t,V,d9e(n,V))}),sF(t)}throw new Error("Unsupported NUMBERS file")}if(!uc(n,"[Content_Types].xml"))throw uc(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):uc(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=jJ(n),i=l7e(gu(n,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Va(n,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Va(n,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},u={};if(!e.bookSheets&&!e.bookProps){if(KT=[],i.sst)try{KT=wqe(Va(n,tc(i.sst)),i.sst,e)}catch(V){if(e.WTF)throw V}e.cellStyles&&i.themes.length&&(l=Sqe(gu(n,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(u=bqe(Va(n,tc(i.style)),i.style,l,e))}i.links.map(function(V){try{var q=qT(gu(n,uz(tc(V))),V);return Aqe(Va(n,tc(V)),q,V,e)}catch{}});var c=mqe(Va(n,tc(i.workbooks[0])),i.workbooks[0],e),f={},d="";i.coreprops.length&&(d=Va(n,tc(i.coreprops[0]),!0),d&&(f=khe(d)),i.extprops.length!==0&&(d=Va(n,tc(i.extprops[0]),!0),d&&h7e(d,f,e)));var h={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(d=gu(n,tc(i.custprops[0]),!0),d&&(h=v7e(d,e)));var p={};if((e.bookSheets||e.bookProps)&&(c.Sheets?s=c.Sheets.map(function(q){return q.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),e.bookProps&&(p.Props=f,p.Custprops=h),e.bookSheets&&typeof s<"u"&&(p.SheetNames=s),e.bookSheets?p.SheetNames:e.bookProps))return p;s={};var m={};e.bookDeps&&i.calcchain&&(m=Cqe(Va(n,tc(i.calcchain)),i.calcchain));var g=0,y={},_,S;{var A=c.Sheets;f.Worksheets=A.length,f.SheetNames=[];for(var M=0;M!=A.length;++M)f.SheetNames[M]=A[M].name}var E=a?"bin":"xml",D=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,D+1)+"_rels/"+i.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");uc(n,I)||(I="xl/_rels/workbook."+E+".rels");var N=qT(gu(n,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=Mqe(Va(n,tc(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=xje(Va(n,tc(i.people[0])),e)),N&&(N=cXe(N,c.Sheets));var L=Va(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var B="sheet";if(N&&N[g]?(_="xl/"+N[g][1].replace(/[\/]?xl\//,""),uc(n,_)||(_=N[g][1]),uc(n,_)||(_=I.replace(/_rels\/.*$/,"")+N[g][1]),B=N[g][2]):(_="xl/worksheets/sheet"+(g+1-L)+"."+E,_=_.replace(/sheet0\./,"sheet.")),S=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(g!=e.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var O=!1,G=0;G!=e.sheets.length;++G)typeof e.sheets[G]=="number"&&e.sheets[G]==g&&(O=1),typeof e.sheets[G]=="string"&&e.sheets[G].toLowerCase()==f.SheetNames[g].toLowerCase()&&(O=1);if(!O)continue e}}fXe(n,_,S,f.SheetNames[g],g,y,s,B,e,c,l,u)}return p={Directory:i,Workbook:c,Props:f,Custprops:h,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:KT,Styles:u,Themes:l,SSF:Ks(Qn)},e&&e.bookFiles&&(n.files?(p.keys=r,p.files=n.files):(p.keys=[],p.files={},n.FullPaths.forEach(function(V,q){V=V.replace(/^Root Entry[\/]/,""),p.keys.push(V),p.files[V]=n.FileIndex[q]}))),e&&e.bookVBA&&(i.vba.length>0?p.vbaraw=Va(n,tc(i.vba[0]),!0):i.defaults&&i.defaults.bin===wje&&(p.vbaraw=Va(n,"xl/vbaProject.bin",!0))),p}function hXe(n,e){var t=e||{},r="Workbook",i=zr.find(n,r);try{if(r="/!DataSpaces/Version",i=zr.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(aHe(i.content),r="/!DataSpaces/DataSpaceMap",i=zr.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=oHe(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=zr.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=lHe(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=zr.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);cHe(i.content)}catch{}if(r="/EncryptionInfo",i=zr.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=fHe(i.content);if(r="/EncryptedPackage",i=zr.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function G7(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Cu(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function pXe(n,e){return zr.find(n,"EncryptedPackage")?hXe(n,e):gpe(n,e)}function vXe(n,e){var t,r=n,i=e||{};return i.type||(i.type=Or&&Buffer.isBuffer(n)?"buffer":"base64"),t=che(r,i),dXe(t,i)}function bpe(n,e){var t=0;e:for(;t<n.length;)switch(n.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return dz(n.slice(t),e);default:break e}return rA.to_workbook(n,e)}function mXe(n,e){var t="",r=G7(n,e);switch(e.type){case"base64":t=Cu(n);break;case"binary":t=n;break;case"buffer":t=n.toString("binary");break;case"array":t=Wy(n);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(t=Ri(t)),e.type="binary",bpe(t,e)}function gXe(n,e){var t=n;return e.type=="base64"&&(t=Cu(t)),t=QC.utils.decode(1200,t.slice(2),"str"),e.type="binary",bpe(t,e)}function yXe(n){return n.match(/[^\x00-\x7F]/)?ST(n):n}function oF(n,e,t,r){return r?(t.type="string",rA.to_workbook(n,t)):rA.to_workbook(e,t)}function mz(n,e){Wde();var t=e||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return mz(new Uint8Array(n),(t=Ks(t),t.type="array",t));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var r=n,i=[0,0,0,0],a=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),rb={},t.dateNF&&(rb.dateNF=t.dateNF),t.type||(t.type=Or&&Buffer.isBuffer(n)?"buffer":"base64"),t.type=="file"&&(t.type=Or?"buffer":"binary",r=a9e(n),typeof Uint8Array<"u"&&!Or&&(t.type="array")),t.type=="string"&&(a=!0,t.type="binary",t.codepage=65001,r=yXe(n)),t.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return t=Ks(t),t.type="array",mz(_7(r),t)}switch((i=G7(r,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return pXe(zr.read(r,t),t);break;case 9:if(i[1]<=8)return gpe(r,t);break;case 60:return dz(r,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return YGe(r,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return jGe.to_workbook(r,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?vXe(r,t):oF(n,r,t,a);case 239:return i[3]===60?dz(r,t):oF(n,r,t,a);case 255:if(i[1]===254)return gXe(r,t);if(i[1]===0&&i[2]===2&&i[3]===0)return ZT.to_workbook(r,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return ZT.to_workbook(r,t);break;case 3:case 131:case 139:case 140:return mQ.to_workbook(r,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return wHe.to_workbook(r,t);break;case 10:case 13:case 32:return mXe(r,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return GGe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?mQ.to_workbook(r,t):oF(n,r,t,a)}function xXe(n,e,t,r,i,a,s,o){var l=$s(t),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:t,enumerable:!1})}catch{d.__rowNum__=t}else d.__rowNum__=t;if(!s||n[t])for(var h=e.s.c;h<=e.e.c;++h){var p=s?n[t][h]:n[r[h]+l];if(p===void 0||p.t===void 0){if(u===void 0)continue;a[h]!=null&&(d[a[h]]=u);continue}var m=p.v;switch(p.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(a[h]!=null){if(m==null)if(p.t=="e"&&m===null)d[a[h]]=null;else if(u!==void 0)d[a[h]]=u;else if(c&&m===null)d[a[h]]=null;else continue;else d[a[h]]=c&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?m:Fp(p,m,o);m!=null&&(f=!1)}}return{row:d,isempty:f}}function gz(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},c=u.range!=null?u.range:n["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof c){case"string":l=ma(c);break;case"number":l=ma(n["!ref"]),l.s.r=c;break;default:l=c}r>0&&(i=0);var f=$s(l.s.r),d=[],h=[],p=0,m=0,g=Array.isArray(n),y=l.s.r,_=0,S={};g&&!n[y]&&(n[y]=[]);var A=u.skipHidden&&n["!cols"]||[],M=u.skipHidden&&n["!rows"]||[];for(_=l.s.c;_<=l.e.c;++_)if(!(A[_]||{}).hidden)switch(d[_]=ss(_),t=g?n[y][_]:n[d[_]+f],r){case 1:a[_]=_-l.s.c;break;case 2:a[_]=d[_];break;case 3:a[_]=u.header[_-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=s=Fp(t,null,u),m=S[s]||0,!m)S[s]=1;else{do o=s+"_"+m++;while(S[o]);S[s]=m,S[o]=1}a[_]=o}for(y=l.s.r+i;y<=l.e.r;++y)if(!(M[y]||{}).hidden){var E=xXe(n,l,y,d,r,a,g,u);(E.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(h[p++]=E.row)}return h.length=p,h}var kQ=/"/g;function _Xe(n,e,t,r,i,a,s,o){for(var l=!0,u=[],c="",f=$s(t),d=e.s.c;d<=e.e.c;++d)if(r[d]){var h=o.dense?(n[t]||[])[d]:n[r[d]+f];if(h==null)c="";else if(h.v!=null){l=!1,c=""+(o.rawNumbers&&h.t=="n"?h.v:Fp(h,null,o));for(var p=0,m=0;p!==c.length;++p)if((m=c.charCodeAt(p))===i||m===a||m===34||o.forceQuotes){c='"'+c.replace(kQ,'""')+'"';break}c=="ID"&&(c='"ID"')}else h.f!=null&&!h.F?(l=!1,c="="+h.f,c.indexOf(",")>=0&&(c='"'+c.replace(kQ,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(s)}function Spe(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=ma(n["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),c="",f=[];r.dense=Array.isArray(n);for(var d=r.skipHidden&&n["!cols"]||[],h=r.skipHidden&&n["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(d[p]||{}).hidden||(f[p]=ss(p));for(var m=0,g=i.s.r;g<=i.e.r;++g)(h[g]||{}).hidden||(c=_Xe(n,i,g,f,s,l,a,r),c!=null&&(r.strip&&(c=c.replace(u,"")),(c||r.blankrows!==!1)&&t.push((m++?o:"")+c)));return delete r.dense,t.join("")}function bXe(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Spe(n,e);return t}function SXe(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=ma(n["!ref"]),a="",s=[],o,l=[],u=Array.isArray(n);for(o=i.s.c;o<=i.e.c;++o)s[o]=ss(o);for(var c=i.s.r;c<=i.e.r;++c)for(a=$s(c),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,t=u?(n[c]||[])[o]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}l[l.length]=e+"="+r}return l}function wpe(n,e,t){var r=t||{},i=+!r.skipHeader,a=n||{},s=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?vl(r.origin):r.origin;s=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var f=ma(a["!ref"]);c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),s==-1&&(s=f.e.r+1,c.e.r=s+e.length-1+i)}else s==-1&&(s=0,c.e.r=e.length-1+i);var d=r.header||[],h=0;e.forEach(function(m,g){nh(m).forEach(function(y){(h=d.indexOf(y))==-1&&(d[h=d.length]=y);var _=m[y],S="z",A="",M=er({c:o+h,r:s+g+i});u=oA(a,M),_&&typeof _=="object"&&!(_ instanceof Date)?a[M]=_:(typeof _=="number"?S="n":typeof _=="boolean"?S="b":typeof _=="string"?S="s":_ instanceof Date?(S="d",r.cellDates||(S="n",_=Sl(_)),A=r.dateNF||Qn[14]):_===null&&r.nullError&&(S="e",_=0),u?(u.t=S,u.v=_,delete u.w,delete u.R,A&&(u.z=A)):a[M]=u={t:S,v:_},A&&(u.z=A))})}),c.e.c=Math.max(c.e.c,o+d.length-1);var p=$s(s);if(i)for(h=0;h<d.length;++h)a[ss(h+o)+p]={t:"s",v:d[h]};return a["!ref"]=Ur(c),a}function wXe(n,e){return wpe(null,n,e)}function oA(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=vl(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?oA(n,er(e)):oA(n,er({r:e,c:t||0}))}function TXe(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function H7(){return{SheetNames:[],Sheets:{}}}function j7(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=s+i)!=-1;++i);}if(lqe(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function CXe(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=TXe(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function AXe(n,e){return n.z=e,n}function Tpe(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function MXe(n,e,t){return Tpe(n,"#"+e,t)}function EXe(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function DXe(n,e,t,r){for(var i=typeof e!="string"?e:ma(e),a=typeof e=="string"?e:Ur(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=oA(n,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=t,r&&(l.D=!0))}return n}var RXe={encode_col:ss,encode_row:$s,encode_cell:er,encode_range:Ur,decode_col:D7,decode_row:E7,split_cell:V9e,decode_cell:vl,decode_range:vS,format_cell:Fp,sheet_add_aoa:Ehe,sheet_add_json:wpe,sheet_add_dom:ype,aoa_to_sheet:mS,json_to_sheet:wXe,table_to_sheet:xpe,table_to_book:Yqe,sheet_to_csv:Spe,sheet_to_txt:bXe,sheet_to_json:gz,sheet_to_html:Wqe,sheet_to_formulae:SXe,sheet_to_row_object_array:gz,sheet_get_cell:oA,book_new:H7,book_append_sheet:j7,book_set_sheet_visibility:CXe,cell_set_number_format:AXe,cell_set_hyperlink:Tpe,cell_set_internal_link:MXe,cell_add_comment:EXe,sheet_set_array_formula:DXe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const NXe=({isOpen:n,onClose:e,onAdd:t})=>{const[r,i]=de.useState("New Table"),[a,s]=de.useState([{id:"1",name:"Column 1",type:"text",width:150},{id:"2",name:"Column 2",type:"text",width:150}]),[o,l]=de.useState(!0),[u,c]=de.useState("#f3f4f6"),[f,d]=de.useState([]),h=de.useRef(null);if(!n)return null;const p=async S=>{var E;const A=(E=S.target.files)==null?void 0:E[0];if(!A)return;const M=new FileReader;M.onload=D=>{var I;try{const N=(I=D.target)==null?void 0:I.result,L=mz(N,{type:"binary"}),B=L.SheetNames[0],O=L.Sheets[B],G=RXe.sheet_to_json(O,{header:1});if(G.length===0){alert("Excel file is empty!");return}const V=G[0],q=G.slice(1).filter(K=>K&&K.some(se=>se!=null&&se!==""));if(q.length===0){alert("No data rows found in Excel file!");return}const W=A.name.replace(/\.(xlsx|xls)$/i,"");i(W);const Z=V.map((K,se)=>{var ee;const J=(ee=q[0])==null?void 0:ee[se];let H="text";return typeof J=="number"?H="number":J instanceof Date||typeof J=="number"&&J>4e4&&J<5e4?H="date":(J===!0||J===!1||J==="true"||J==="false")&&(H="checkbox"),{id:Math.random().toString(36).substr(2,9),name:(K==null?void 0:K.toString())||`Column ${se+1}`,type:H,width:150}});s(Z);const X=q.map((K,se)=>{const J=`imported-${Date.now()}-${se}`,H={};return K.forEach((ee,Q)=>{const ne=Z[Q];if(ne)if(ne.type==="checkbox")H[ne.id]=ee===!0||ee==="true"||ee==="TRUE"||ee===1||ee==="1";else if(ne.type==="number"){const ce=Number(ee);H[ne.id]=isNaN(ce)?ee:ce}else if(ne.type==="date")if(typeof ee=="number"){const ce=ihe.parse_date_code(ee),ve=new Date(ce.y,ce.m-1,ce.d);H[ne.id]=ve.toISOString().split("T")[0]}else{const ce=new Date(ee);H[ne.id]=isNaN(ce.getTime())?(ee==null?void 0:ee.toString())||"":ce.toISOString().split("T")[0]}else H[ne.id]=ee!=null?ee.toString():""}),{id:J,data:H}});d(X),alert(` Imported ${X.length} rows from Excel!`)}catch(N){alert(`Failed to import Excel file: ${N instanceof Error?N.message:"Unknown error"}`)}},M.readAsBinaryString(A),h.current&&(h.current.value="")},m=()=>{const S=Math.random().toString(36).substr(2,9);s([...a,{id:S,name:`Column ${a.length+1}`,type:"text",width:150}])},g=S=>{s(a.filter(A=>A.id!==S))},y=(S,A,M)=>{s(a.map(E=>E.id===S?{...E,[A]:M}:E))},_=()=>{const S={title:r,columns:a,showBorder:o,headerColor:u,...f.length>0&&{rows:f}};t(S),e(),i("New Table"),s([{id:"1",name:"Column 1",type:"text",width:150},{id:"2",name:"Column 2",type:"text",width:150}]),d([])};return C.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-[800px] max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[C.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx(iae,{className:"text-indigo-600",size:20}),C.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Custom Table Builder"})]}),C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("input",{ref:h,type:"file",accept:".xlsx, .xls",onChange:p,className:"hidden"}),C.jsxs("button",{onClick:()=>{var S;return(S=h.current)==null?void 0:S.click()},className:"flex items-center space-x-2 px-3 py-1.5 bg-green-50 hover:bg-green-100 text-green-700 rounded-lg transition-colors border border-green-200 text-sm font-medium",title:"Import from Excel",children:[C.jsx(E_e,{size:16}),C.jsx("span",{children:"Import from Excel"})]}),f.length>0&&C.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[" ",f.length," rows imported"]})]})]}),C.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:C.jsx(Ep,{size:20})})]}),C.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-8",children:[C.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Table Title"}),C.jsx("input",{type:"text",value:r,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"Enter table name..."})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Header Style"}),C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("input",{type:"color",value:u,onChange:S=>c(S.target.value),className:"h-9 w-16 rounded cursor-pointer border border-gray-300 p-1"}),C.jsx("span",{className:"text-xs text-gray-500",children:"Color"})]}),C.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[C.jsx("input",{type:"checkbox",checked:o,onChange:S=>l(S.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),C.jsx("span",{className:"text-sm text-gray-700",children:"Show Borders"})]})]})]})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Columns Configuration"}),C.jsxs("button",{onClick:m,className:"text-sm flex items-center space-x-1 text-indigo-600 hover:text-indigo-700 font-medium",children:[C.jsx(li,{size:16}),C.jsx("span",{children:"Add Column"})]})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[C.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-2 bg-gray-100 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[C.jsx("div",{className:"col-span-5",children:"Name"}),C.jsx("div",{className:"col-span-3",children:"Type"}),C.jsx("div",{className:"col-span-3",children:"Width (px)"}),C.jsx("div",{className:"col-span-1"})]}),C.jsx("div",{className:"divide-y divide-gray-200",children:a.map(S=>C.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-3 items-center hover:bg-white transition-colors",children:[C.jsx("div",{className:"col-span-5",children:C.jsx("input",{type:"text",value:S.name,onChange:A=>y(S.id,"name",A.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none"})}),C.jsx("div",{className:"col-span-3",children:C.jsxs("select",{value:S.type,onChange:A=>y(S.id,"type",A.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none bg-white",children:[C.jsx("option",{value:"text",children:"Text"}),C.jsx("option",{value:"number",children:"Number"}),C.jsx("option",{value:"date",children:"Date"}),C.jsx("option",{value:"checkbox",children:"Checkbox"})]})}),C.jsx("div",{className:"col-span-3",children:C.jsx("input",{type:"number",value:S.width,onChange:A=>y(S.id,"width",parseInt(A.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none"})}),C.jsx("div",{className:"col-span-1 flex justify-end",children:C.jsx("button",{onClick:()=>g(S.id),className:"text-gray-400 hover:text-red-500 transition-colors",disabled:a.length<=1,children:C.jsx(vp,{size:16})})})]},S.id))})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Live Preview"}),C.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:o?"#e5e7eb":"transparent"},children:[C.jsx("div",{className:"flex",style:{backgroundColor:u},children:a.map(S=>C.jsx("div",{className:`px-4 py-2 text-sm font-semibold text-gray-700 ${o?"border-r border-gray-200 last:border-r-0":""}`,style:{width:S.width},children:C.jsxs("div",{className:"flex items-center space-x-2",children:[S.type==="text"&&C.jsx(mae,{size:12,className:"text-gray-400"}),S.type==="number"&&C.jsx(U_e,{size:12,className:"text-gray-400"}),S.type==="date"&&C.jsx(Mp,{size:12,className:"text-gray-400"}),S.type==="checkbox"&&C.jsx(tSe,{size:12,className:"text-gray-400"}),C.jsx("span",{children:S.name})]})},S.id))}),C.jsx("div",{className:"bg-white",children:C.jsx("div",{className:"flex border-t border-gray-100",children:a.map(S=>C.jsx("div",{className:`px-4 py-3 text-sm text-gray-400 italic ${o?"border-r border-gray-100 last:border-r-0":""}`,style:{width:S.width},children:"Sample Data"},S.id))})})]})]})]}),C.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50 flex justify-end space-x-3",children:[C.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),C.jsxs("button",{onClick:_,className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-colors flex items-center space-x-2",children:[C.jsx(li,{size:16}),C.jsx("span",{children:"Add Table"})]})]})]})})},IXe=({user:n,onLogout:e,onActivate:t})=>{const{setBrainOpen:r}=LU(),{showToast:i}=Du(),[a,s]=de.useState(!1),o=de.useRef(null);return de.useEffect(()=>{const l=u=>{o.current&&!o.current.contains(u.target)&&s(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]),C.jsxs("div",{className:"h-12 bg-clickup-sidebar flex items-center justify-between px-4 flex-shrink-0 z-40 text-gray-300 shadow-md select-none",children:[C.jsx("div",{className:"flex items-center w-[280px] shrink-0",children:C.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:opacity-90 transition-opacity group",children:[C.jsx("img",{src:"/nabd_logo_icon.png",alt:"Icon",className:"w-8 h-8 rounded-lg shadow-lg shadow-brand-primary/20 group-hover:shadow-brand-primary/40 transition-all"}),C.jsx("span",{className:"font-bold text-white tracking-tight hidden md:block group-hover:text-brand-accent transition-colors",children:"NABD Chain System"})]})}),C.jsx("div",{className:"flex-1 flex justify-center px-4 min-w-0",children:C.jsx("div",{className:"w-full max-w-xl relative group",children:C.jsxs("div",{className:"flex items-center bg-[#3E4147] hover:bg-[#4B4E55] transition-colors rounded-lg px-3 py-1.5 cursor-text border border-transparent group-focus-within:border-brand-primary/50 group-focus-within:bg-[#2B2D31] h-8 shadow-inner",children:[C.jsx(xC,{size:14,className:"text-gray-400 group-focus-within:text-brand-primary mr-2 transition-colors"}),C.jsx("input",{type:"text",placeholder:"Search",className:"bg-transparent border-none outline-none text-sm text-gray-200 placeholder-gray-400 w-full group-focus-within:text-white",onKeyDown:l=>l.key==="Enter"&&i("Global Search...","info")}),C.jsx("div",{className:"flex items-center space-x-1 ml-2",children:C.jsxs("div",{className:"hidden md:flex items-center space-x-1 bg-gray-600/50 px-1.5 py-0.5 rounded text-[10px] text-gray-300 border border-gray-500/30 shadow-sm",children:[C.jsx(u_e,{size:10}),C.jsx("span",{children:"K"})]})})]})})}),C.jsx("div",{className:"flex items-center justify-end w-[280px] shrink-0 space-x-1 md:space-x-3",children:C.jsxs("div",{className:"relative",ref:o,children:[n?C.jsx("div",{className:"ml-2 w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white cursor-pointer hover:border-white transition-all shadow-md ring-2 ring-transparent hover:ring-gray-500/50 bg-gray-900 hover:bg-black border border-gray-700",title:n.name,onClick:()=>s(!a),children:n.avatar}):C.jsx("div",{className:"ml-2 w-8 h-8 rounded-full bg-gray-600 animate-pulse"}),a&&C.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-xl z-50 py-1 animate-in fade-in slide-in-from-top-2",children:[C.jsxs("div",{className:"px-4 py-2 border-b border-gray-700/50",children:[C.jsx("p",{className:"text-sm font-medium text-white",children:n==null?void 0:n.name}),C.jsx("p",{className:"text-xs text-gray-500 truncate",children:(n==null?void 0:n.email)||"user@example.com"})]}),C.jsxs("div",{className:"py-1",children:[C.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white flex items-center space-x-2 transition-colors",onClick:()=>{s(!1),t&&t()},children:[C.jsx(MT,{size:14,className:"text-yellow-400"}),C.jsx("span",{children:"Activate"})]}),C.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 flex items-center space-x-2 transition-colors",onClick:()=>{s(!1),e&&e()},children:[C.jsx(oae,{size:14}),C.jsx("span",{children:"Sign Out"})]})]})]})]})})]})};var ib=(n=>(n.Urgent="Urgent",n.High="High",n.Normal="Normal",n.Low="Low",n.None="None",n))(ib||{}),fM=(n=>(n.Todo="To do",n.InProgress="In Progress",n.Review="Review",n.Complete="Complete",n))(fM||{});const kL={"To do":"#87909e","In Progress":"#3b82f6",Review:"#eab308",Complete:"#22c55e"},Nb={Urgent:"#e44356",High:"#ffcc00",Normal:"#6fddff",Low:"#87909e",None:"#d1d5db"};var pp=$ie();function kXe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return de.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const LL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gS(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function W7(n){return"nodeType"in n}function wl(n){var e,t;return n?gS(n)?n:W7(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Y7(n){const{Document:e}=wl(n);return n instanceof e}function dM(n){return gS(n)?!1:n instanceof wl(n).HTMLElement}function Cpe(n){return n instanceof wl(n).SVGElement}function yS(n){return n?gS(n)?n.document:W7(n)?Y7(n)?n:dM(n)||Cpe(n)?n.ownerDocument:document:document:document}const kf=LL?de.useLayoutEffect:de.useEffect;function PL(n){const e=de.useRef(n);return kf(()=>{e.current=n}),de.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function LXe(){const n=de.useRef(null),e=de.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=de.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function lA(n,e){e===void 0&&(e=[n]);const t=de.useRef(n);return kf(()=>{t.current!==n&&(t.current=n)},e),t}function hM(n,e){const t=de.useRef();return de.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function RI(n){const e=PL(n),t=de.useRef(null),r=de.useCallback(i=>{i!==t.current&&(e==null||e(i,t.current)),t.current=i},[]);return[t,r]}function NI(n){const e=de.useRef();return de.useEffect(()=>{e.current=n},[n]),e.current}let lF={};function pM(n,e){return de.useMemo(()=>{if(e)return e;const t=lF[n]==null?0:lF[n]+1;return lF[n]=t,n+"-"+t},[n,e])}function Ape(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((a,s)=>{const o=Object.entries(s);for(const[l,u]of o){const c=a[l];c!=null&&(a[l]=c+n*u)}return a},{...e})}}const ab=Ape(1),uA=Ape(-1);function PXe(n){return"clientX"in n&&"clientY"in n}function OL(n){if(!n)return!1;const{KeyboardEvent:e}=wl(n.target);return e&&n instanceof e}function OXe(n){if(!n)return!1;const{TouchEvent:e}=wl(n.target);return e&&n instanceof e}function II(n){if(OXe(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return PXe(n)?{x:n.clientX,y:n.clientY}:null}const Gv=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Gv.Translate.toString(n),Gv.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),LQ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function FXe(n){return n.matches(LQ)?n:n.querySelector(LQ)}const BXe={display:"none"};function zXe(n){let{id:e,value:t}=n;return Dr.createElement("div",{id:e,style:BXe},t)}function UXe(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Dr.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function VXe(){const[n,e]=de.useState("");return{announce:de.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const Mpe=de.createContext(null);function GXe(n){const e=de.useContext(Mpe);de.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function HXe(){const[n]=de.useState(()=>new Set),e=de.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[de.useCallback(r=>{let{type:i,event:a}=r;n.forEach(s=>{var o;return(o=s[i])==null?void 0:o.call(s,a)})},[n]),e]}const jXe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},WXe={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function YXe(n){let{announcements:e=WXe,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=jXe}=n;const{announce:a,announcement:s}=VXe(),o=pM("DndLiveRegion"),[l,u]=de.useState(!1);if(de.useEffect(()=>{u(!0)},[]),GXe(de.useMemo(()=>({onDragStart(f){let{active:d}=f;a(e.onDragStart({active:d}))},onDragMove(f){let{active:d,over:h}=f;e.onDragMove&&a(e.onDragMove({active:d,over:h}))},onDragOver(f){let{active:d,over:h}=f;a(e.onDragOver({active:d,over:h}))},onDragEnd(f){let{active:d,over:h}=f;a(e.onDragEnd({active:d,over:h}))},onDragCancel(f){let{active:d,over:h}=f;a(e.onDragCancel({active:d,over:h}))}}),[a,e])),!l)return null;const c=Dr.createElement(Dr.Fragment,null,Dr.createElement(zXe,{id:r,value:i.draggable}),Dr.createElement(UXe,{id:o,announcement:s}));return t?pp.createPortal(c,t):c}var is;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(is||(is={}));function kI(){}function yz(n,e){return de.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Epe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return de.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Lf=Object.freeze({x:0,y:0});function qXe(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function XXe(n,e){const t=II(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function ZXe(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function KXe(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function PQ(n){let{left:e,top:t,height:r,width:i}=n;return[{x:e,y:t},{x:e+i,y:t},{x:e,y:t+r},{x:e+i,y:t+r}]}function Dpe(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}const Rpe=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=PQ(e),a=[];for(const s of r){const{id:o}=s,l=t.get(o);if(l){const u=PQ(l),c=i.reduce((d,h,p)=>d+qXe(u[p],h),0),f=Number((c/4).toFixed(4));a.push({id:o,data:{droppableContainer:s,value:f}})}}return a.sort(ZXe)};function $Xe(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),a=Math.min(e.top+e.height,n.top+n.height),s=i-r,o=a-t;if(r<i&&t<a){const l=e.width*e.height,u=n.width*n.height,c=s*o,f=c/(l+u-c);return Number(f.toFixed(4))}return 0}const JXe=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const a of r){const{id:s}=a,o=t.get(s);if(o){const l=$Xe(o,e);l>0&&i.push({id:s,data:{droppableContainer:a,value:l}})}}return i.sort(KXe)};function QXe(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Npe(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Lf}function eZe(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((s,o)=>({...s,top:s.top+n*o.y,bottom:s.bottom+n*o.y,left:s.left+n*o.x,right:s.right+n*o.x}),{...t})}}const tZe=eZe(1);function Ipe(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function nZe(n,e,t){const r=Ipe(e);if(!r)return n;const{scaleX:i,scaleY:a,x:s,y:o}=r,l=n.left-s-(1-i)*parseFloat(t),u=n.top-o-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),c=i?n.width/i:n.width,f=a?n.height/a:n.height;return{width:c,height:f,top:u,right:l+c,bottom:u+f,left:l}}const rZe={ignoreTransform:!1};function xS(n,e){e===void 0&&(e=rZe);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:c}=wl(n).getComputedStyle(n);u&&(t=nZe(t,u,c))}const{top:r,left:i,width:a,height:s,bottom:o,right:l}=t;return{top:r,left:i,width:a,height:s,bottom:o,right:l}}function OQ(n){return xS(n,{ignoreTransform:!0})}function iZe(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function aZe(n,e){return e===void 0&&(e=wl(n).getComputedStyle(n)),e.position==="fixed"}function sZe(n,e){e===void 0&&(e=wl(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?t.test(a):!1})}function FL(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(Y7(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!dM(i)||Cpe(i)||t.includes(i))return t;const a=wl(n).getComputedStyle(i);return i!==n&&sZe(i,a)&&t.push(i),aZe(i,a)?t:r(i.parentNode)}return n?r(n):t}function kpe(n){const[e]=FL(n,1);return e??null}function uF(n){return!LL||!n?null:gS(n)?n:W7(n)?Y7(n)||n===yS(n).scrollingElement?window:dM(n)?n:null:null}function Lpe(n){return gS(n)?n.scrollX:n.scrollLeft}function Ppe(n){return gS(n)?n.scrollY:n.scrollTop}function xz(n){return{x:Lpe(n),y:Ppe(n)}}var Ns;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Ns||(Ns={}));function Ope(n){return!LL||!n?!1:n===document.scrollingElement}function Fpe(n){const e={x:0,y:0},t=Ope(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,a=n.scrollLeft<=e.x,s=n.scrollTop>=r.y,o=n.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:s,isRight:o,maxScroll:r,minScroll:e}}const oZe={x:.2,y:.2};function lZe(n,e,t,r,i){let{top:a,left:s,right:o,bottom:l}=t;r===void 0&&(r=10),i===void 0&&(i=oZe);const{isTop:u,isBottom:c,isLeft:f,isRight:d}=Fpe(n),h={x:0,y:0},p={x:0,y:0},m={height:e.height*i.y,width:e.width*i.x};return!u&&a<=e.top+m.height?(h.y=Ns.Backward,p.y=r*Math.abs((e.top+m.height-a)/m.height)):!c&&l>=e.bottom-m.height&&(h.y=Ns.Forward,p.y=r*Math.abs((e.bottom-m.height-l)/m.height)),!d&&o>=e.right-m.width?(h.x=Ns.Forward,p.x=r*Math.abs((e.right-m.width-o)/m.width)):!f&&s<=e.left+m.width&&(h.x=Ns.Backward,p.x=r*Math.abs((e.left+m.width-s)/m.width)),{direction:h,speed:p}}function uZe(n){if(n===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function Bpe(n){return n.reduce((e,t)=>ab(e,xz(t)),Lf)}function cZe(n){return n.reduce((e,t)=>e+Lpe(t),0)}function fZe(n){return n.reduce((e,t)=>e+Ppe(t),0)}function zpe(n,e){if(e===void 0&&(e=xS),!n)return;const{top:t,left:r,bottom:i,right:a}=e(n);kpe(n)&&(i<=0||a<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const dZe=[["x",["left","right"],cZe],["y",["top","bottom"],fZe]];class q7{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=FL(t),i=Bpe(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,s,o]of dZe)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=o(r),c=i[a]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class QT{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function hZe(n){const{EventTarget:e}=wl(n);return n instanceof e?n:yS(n)}function cF(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var hc;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(hc||(hc={}));function FQ(n){n.preventDefault()}function pZe(n){n.stopPropagation()}var Lr;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Lr||(Lr={}));const Upe={start:[Lr.Space,Lr.Enter],cancel:[Lr.Esc],end:[Lr.Space,Lr.Enter,Lr.Tab]},vZe=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Lr.Right:return{...t,x:t.x+25};case Lr.Left:return{...t,x:t.x-25};case Lr.Down:return{...t,y:t.y+25};case Lr.Up:return{...t,y:t.y-25}}};class X7{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new QT(yS(t)),this.windowListeners=new QT(wl(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(hc.Resize,this.handleCancel),this.windowListeners.add(hc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(hc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&zpe(r),t(Lf)}handleKeyDown(e){if(OL(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:a=Upe,coordinateGetter:s=vZe,scrollBehavior:o="smooth"}=i,{code:l}=e;if(a.end.includes(l)){this.handleEnd(e);return}if(a.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:Lf;this.referenceCoordinates||(this.referenceCoordinates=c);const f=s(e,{active:t,context:r.current,currentCoordinates:c});if(f){const d=uA(f,c),h={x:0,y:0},{scrollableAncestors:p}=r.current;for(const m of p){const g=e.code,{isTop:y,isRight:_,isLeft:S,isBottom:A,maxScroll:M,minScroll:E}=Fpe(m),D=uZe(m),I={x:Math.min(g===Lr.Right?D.right-D.width/2:D.right,Math.max(g===Lr.Right?D.left:D.left+D.width/2,f.x)),y:Math.min(g===Lr.Down?D.bottom-D.height/2:D.bottom,Math.max(g===Lr.Down?D.top:D.top+D.height/2,f.y))},N=g===Lr.Right&&!_||g===Lr.Left&&!S,L=g===Lr.Down&&!A||g===Lr.Up&&!y;if(N&&I.x!==f.x){const B=m.scrollLeft+d.x,O=g===Lr.Right&&B<=M.x||g===Lr.Left&&B>=E.x;if(O&&!d.y){m.scrollTo({left:B,behavior:o});return}O?h.x=m.scrollLeft-B:h.x=g===Lr.Right?m.scrollLeft-M.x:m.scrollLeft-E.x,h.x&&m.scrollBy({left:-h.x,behavior:o});break}else if(L&&I.y!==f.y){const B=m.scrollTop+d.y,O=g===Lr.Down&&B<=M.y||g===Lr.Up&&B>=E.y;if(O&&!d.x){m.scrollTo({top:B,behavior:o});return}O?h.y=m.scrollTop-B:h.y=g===Lr.Down?m.scrollTop-M.y:m.scrollTop-E.y,h.y&&m.scrollBy({top:-h.y,behavior:o});break}}this.handleMove(e,ab(uA(f,this.referenceCoordinates),h))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}X7.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=Upe,onActivation:i}=e,{active:a}=t;const{code:s}=n.nativeEvent;if(r.start.includes(s)){const o=a.activatorNode.current;return o&&n.target!==o?!1:(n.preventDefault(),i==null||i({event:n.nativeEvent}),!0)}return!1}}];function BQ(n){return!!(n&&"distance"in n)}function zQ(n){return!!(n&&"delay"in n)}class Z7{constructor(e,t,r){var i;r===void 0&&(r=hZe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:s}=a;this.props=e,this.events=t,this.document=yS(s),this.documentListeners=new QT(this.document),this.listeners=new QT(r),this.windowListeners=new QT(wl(s)),this.initialCoordinates=(i=II(a))!=null?i:Lf,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(hc.Resize,this.handleCancel),this.windowListeners.add(hc.DragStart,FQ),this.windowListeners.add(hc.VisibilityChange,this.handleCancel),this.windowListeners.add(hc.ContextMenu,FQ),this.documentListeners.add(hc.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(zQ(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(BQ(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(hc.Click,pZe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(hc.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:s,options:{activationConstraint:o}}=a;if(!i)return;const l=(t=II(e))!=null?t:Lf,u=uA(i,l);if(!r&&o){if(BQ(o)){if(o.tolerance!=null&&cF(u,o.tolerance))return this.handleCancel();if(cF(u,o.distance))return this.handleStart()}if(zQ(o)&&cF(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Lr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const mZe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class BL extends Z7{constructor(e){const{event:t}=e,r=yS(t.target);super(e,mZe,r)}}BL.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const gZe={move:{name:"mousemove"},end:{name:"mouseup"}};var _z;(function(n){n[n.RightClick=2]="RightClick"})(_z||(_z={}));class yZe extends Z7{constructor(e){super(e,gZe,yS(e.event.target))}}yZe.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===_z.RightClick?!1:(r==null||r({event:t}),!0)}}];const fF={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xZe extends Z7{constructor(e){super(e,fF)}static setup(){return window.addEventListener(fF.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(fF.move.name,e)};function e(){}}}xZe.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var eC;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(eC||(eC={}));var LI;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(LI||(LI={}));function _Ze(n){let{acceleration:e,activator:t=eC.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:s=5,order:o=LI.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:f,threshold:d}=n;const h=SZe({delta:f,disabled:!a}),[p,m]=LXe(),g=de.useRef({x:0,y:0}),y=de.useRef({x:0,y:0}),_=de.useMemo(()=>{switch(t){case eC.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case eC.DraggableRect:return i}},[t,i,l]),S=de.useRef(null),A=de.useCallback(()=>{const E=S.current;if(!E)return;const D=g.current.x*y.current.x,I=g.current.y*y.current.y;E.scrollBy(D,I)},[]),M=de.useMemo(()=>o===LI.TreeOrder?[...u].reverse():u,[o,u]);de.useEffect(()=>{if(!a||!u.length||!_){m();return}for(const E of M){if((r==null?void 0:r(E))===!1)continue;const D=u.indexOf(E),I=c[D];if(!I)continue;const{direction:N,speed:L}=lZe(E,I,_,e,d);for(const B of["x","y"])h[B][N[B]]||(L[B]=0,N[B]=0);if(L.x>0||L.y>0){m(),S.current=E,p(A,s),g.current=L,y.current=N;return}}g.current={x:0,y:0},y.current={x:0,y:0},m()},[e,A,r,m,a,s,JSON.stringify(_),JSON.stringify(h),p,u,M,c,JSON.stringify(d)])}const bZe={x:{[Ns.Backward]:!1,[Ns.Forward]:!1},y:{[Ns.Backward]:!1,[Ns.Forward]:!1}};function SZe(n){let{delta:e,disabled:t}=n;const r=NI(e);return hM(i=>{if(t||!r||!i)return bZe;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Ns.Backward]:i.x[Ns.Backward]||a.x===-1,[Ns.Forward]:i.x[Ns.Forward]||a.x===1},y:{[Ns.Backward]:i.y[Ns.Backward]||a.y===-1,[Ns.Forward]:i.y[Ns.Forward]||a.y===1}}},[t,e,r])}function wZe(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return hM(i=>{var a;return e==null?null:(a=r??i)!=null?a:null},[r,e])}function TZe(n,e){return de.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,a=i.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...t,...a]},[]),[n,e])}var cA;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(cA||(cA={}));var bz;(function(n){n.Optimized="optimized"})(bz||(bz={}));const UQ=new Map;function CZe(n,e){let{dragging:t,dependencies:r,config:i}=e;const[a,s]=de.useState(null),{frequency:o,measure:l,strategy:u}=i,c=de.useRef(n),f=g(),d=lA(f),h=de.useCallback(function(y){y===void 0&&(y=[]),!d.current&&s(_=>_===null?y:_.concat(y.filter(S=>!_.includes(S))))},[d]),p=de.useRef(null),m=hM(y=>{if(f&&!t)return UQ;if(!y||y===UQ||c.current!==n||a!=null){const _=new Map;for(let S of n){if(!S)continue;if(a&&a.length>0&&!a.includes(S.id)&&S.rect.current){_.set(S.id,S.rect.current);continue}const A=S.node.current,M=A?new q7(l(A),A):null;S.rect.current=M,M&&_.set(S.id,M)}return _}return y},[n,a,t,f,l]);return de.useEffect(()=>{c.current=n},[n]),de.useEffect(()=>{f||h()},[t,f]),de.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),de.useEffect(()=>{f||typeof o!="number"||p.current!==null||(p.current=setTimeout(()=>{h(),p.current=null},o))},[o,f,h,...r]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:a!=null};function g(){switch(u){case cA.Always:return!1;case cA.BeforeDragging:return t;default:return!t}}}function K7(n,e){return hM(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function AZe(n,e){return K7(n,e)}function MZe(n){let{callback:e,disabled:t}=n;const r=PL(e),i=de.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,t]);return de.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function zL(n){let{callback:e,disabled:t}=n;const r=PL(e),i=de.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[t]);return de.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function EZe(n){return new q7(xS(n),n)}function VQ(n,e,t){e===void 0&&(e=EZe);const[r,i]=de.useState(null);function a(){i(l=>{if(!n)return null;if(n.isConnected===!1){var u;return(u=l??t)!=null?u:null}const c=e(n);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const s=MZe({callback(l){if(n)for(const u of l){const{type:c,target:f}=u;if(c==="childList"&&f instanceof HTMLElement&&f.contains(n)){a();break}}}}),o=zL({callback:a});return kf(()=>{a(),n?(o==null||o.observe(n),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[n]),r}function DZe(n){const e=K7(n);return Npe(n,e)}const GQ=[];function RZe(n){const e=de.useRef(n),t=hM(r=>n?r&&r!==GQ&&n&&e.current&&n.parentNode===e.current.parentNode?r:FL(n):GQ,[n]);return de.useEffect(()=>{e.current=n},[n]),t}function NZe(n){const[e,t]=de.useState(null),r=de.useRef(n),i=de.useCallback(a=>{const s=uF(a.target);s&&t(o=>o?(o.set(s,xz(s)),new Map(o)):null)},[]);return de.useEffect(()=>{const a=r.current;if(n!==a){s(a);const o=n.map(l=>{const u=uF(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,xz(u)]):null}).filter(l=>l!=null);t(o.length?new Map(o):null),r.current=n}return()=>{s(n),s(a)};function s(o){o.forEach(l=>{const u=uF(l);u==null||u.removeEventListener("scroll",i)})}},[i,n]),de.useMemo(()=>n.length?e?Array.from(e.values()).reduce((a,s)=>ab(a,s),Lf):Bpe(n):Lf,[n,e])}function HQ(n,e){e===void 0&&(e=[]);const t=de.useRef(null);return de.useEffect(()=>{t.current=null},e),de.useEffect(()=>{const r=n!==Lf;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?uA(n,t.current):Lf}function IZe(n){de.useEffect(()=>{if(!LL)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function kZe(n,e){return de.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:a}=r;return t[i]=s=>{a(s,e)},t},{}),[n,e])}function Vpe(n){return de.useMemo(()=>n?iZe(n):null,[n])}const jQ=[];function LZe(n,e){e===void 0&&(e=xS);const[t]=n,r=Vpe(t?wl(t):null),[i,a]=de.useState(jQ);function s(){a(()=>n.length?n.map(l=>Ope(l)?r:new q7(e(l),l)):jQ)}const o=zL({callback:s});return kf(()=>{o==null||o.disconnect(),s(),n.forEach(l=>o==null?void 0:o.observe(l))},[n]),i}function Gpe(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return dM(e)?e:n}function PZe(n){let{measure:e}=n;const[t,r]=de.useState(null),i=de.useCallback(u=>{for(const{target:c}of u)if(dM(c)){r(f=>{const d=e(c);return f?{...f,width:d.width,height:d.height}:d});break}},[e]),a=zL({callback:i}),s=de.useCallback(u=>{const c=Gpe(u);a==null||a.disconnect(),c&&(a==null||a.observe(c)),r(c?e(c):null)},[e,a]),[o,l]=RI(s);return de.useMemo(()=>({nodeRef:o,rect:t,setRef:l}),[t,o,l])}const OZe=[{sensor:BL,options:{}},{sensor:X7,options:{}}],FZe={current:{}},KR={draggable:{measure:OQ},droppable:{measure:OQ,strategy:cA.WhileDragging,frequency:bz.Optimized},dragOverlay:{measure:xS}};class tC extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const BZe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tC,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:kI},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:KR,measureDroppableContainers:kI,windowRect:null,measuringScheduled:!1},Hpe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:kI,draggableNodes:new Map,over:null,measureDroppableContainers:kI},vM=de.createContext(Hpe),jpe=de.createContext(BZe);function zZe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tC}}}function UZe(n,e){switch(e.type){case is.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case is.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case is.DragEnd:case is.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case is.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new tC(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case is.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,a=n.droppable.containers.get(t);if(!a||r!==a.key)return n;const s=new tC(n.droppable.containers);return s.set(t,{...a,disabled:i}),{...n,droppable:{...n.droppable,containers:s}}}case is.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const a=new tC(n.droppable.containers);return a.delete(t),{...n,droppable:{...n.droppable,containers:a}}}default:return n}}function VZe(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=de.useContext(vM),a=NI(r),s=NI(t==null?void 0:t.id);return de.useEffect(()=>{if(!e&&!r&&a&&s!=null){if(!OL(a)||document.activeElement===a.target)return;const o=i.get(s);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const f=FXe(c);if(f){f.focus();break}}})}},[r,e,i,s,a]),null}function Wpe(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,a)=>a({transform:i,...r}),t):t}function GZe(n){return de.useMemo(()=>({draggable:{...KR.draggable,...n==null?void 0:n.draggable},droppable:{...KR.droppable,...n==null?void 0:n.droppable},dragOverlay:{...KR.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function HZe(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const a=de.useRef(!1),{x:s,y:o}=typeof i=="boolean"?{x:i,y:i}:i;kf(()=>{if(!s&&!o||!e){a.current=!1;return}if(a.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const c=t(u),f=Npe(c,r);if(s||(f.x=0),o||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const d=kpe(u);d&&d.scrollBy({top:f.y,left:f.x})}},[e,s,o,r,t])}const UL=de.createContext({...Lf,scaleX:1,scaleY:1});var av;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(av||(av={}));const Ype=de.memo(function(e){var t,r,i,a;let{id:s,accessibility:o,autoScroll:l=!0,children:u,sensors:c=OZe,collisionDetection:f=JXe,measuring:d,modifiers:h,...p}=e;const m=de.useReducer(UZe,void 0,zZe),[g,y]=m,[_,S]=HXe(),[A,M]=de.useState(av.Uninitialized),E=A===av.Initialized,{draggable:{active:D,nodes:I,translate:N},droppable:{containers:L}}=g,B=D!=null?I.get(D):null,O=de.useRef({initial:null,translated:null}),G=de.useMemo(()=>{var wt;return D!=null?{id:D,data:(wt=B==null?void 0:B.data)!=null?wt:FZe,rect:O}:null},[D,B]),V=de.useRef(null),[q,W]=de.useState(null),[Z,X]=de.useState(null),K=lA(p,Object.values(p)),se=pM("DndDescribedBy",s),J=de.useMemo(()=>L.getEnabled(),[L]),H=GZe(d),{droppableRects:ee,measureDroppableContainers:Q,measuringScheduled:ne}=CZe(J,{dragging:E,dependencies:[N.x,N.y],config:H.droppable}),ce=wZe(I,D),ve=de.useMemo(()=>Z?II(Z):null,[Z]),xe=Rt(),we=AZe(ce,H.draggable.measure);HZe({activeNode:D!=null?I.get(D):null,config:xe.layoutShiftCompensation,initialRect:we,measure:H.draggable.measure});const Ae=VQ(ce,H.draggable.measure,we),Ue=VQ(ce?ce.parentElement:null),pe=de.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:ee,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pt=L.getNodeFor((t=pe.current.over)==null?void 0:t.id),te=PZe({measure:H.dragOverlay.measure}),oe=(r=te.nodeRef.current)!=null?r:ce,ge=E?(i=te.rect)!=null?i:Ae:null,le=!!(te.nodeRef.current&&te.rect),fe=DZe(le?null:Ae),be=Vpe(oe?wl(oe):null),Oe=RZe(E?pt??ce:null),Ve=LZe(Oe),Pe=Wpe(h,{transform:{x:N.x-fe.x,y:N.y-fe.y,scaleX:1,scaleY:1},activatorEvent:Z,active:G,activeNodeRect:Ae,containerNodeRect:Ue,draggingNodeRect:ge,over:pe.current.over,overlayNodeRect:te.rect,scrollableAncestors:Oe,scrollableAncestorRects:Ve,windowRect:be}),me=ve?ab(ve,N):null,ue=NZe(Oe),Ie=HQ(ue),Ye=HQ(ue,[Ae]),ot=ab(Pe,Ie),We=ge?tZe(ge,Pe):null,zt=G&&We?f({active:G,collisionRect:We,droppableRects:ee,droppableContainers:J,pointerCoordinates:me}):null,mt=Dpe(zt,"id"),[Nt,Ht]=de.useState(null),Qe=le?Pe:ab(Pe,Ye),bt=QXe(Qe,(a=Nt==null?void 0:Nt.rect)!=null?a:null,Ae),Yt=de.useRef(null),ke=de.useCallback((wt,yt)=>{let{sensor:vt,options:Ut}=yt;if(V.current==null)return;const Zt=I.get(V.current);if(!Zt)return;const Mn=wt.nativeEvent,En=new vt({active:V.current,activeNode:Zt,event:Mn,options:Ut,context:pe,onAbort(ur){if(!I.get(ur))return;const{onDragAbort:Li}=K.current,ga={id:ur};Li==null||Li(ga),_({type:"onDragAbort",event:ga})},onPending(ur,vs,Li,ga){if(!I.get(ur))return;const{onDragPending:ms}=K.current,ye={id:ur,constraint:vs,initialCoordinates:Li,offset:ga};ms==null||ms(ye),_({type:"onDragPending",event:ye})},onStart(ur){const vs=V.current;if(vs==null)return;const Li=I.get(vs);if(!Li)return;const{onDragStart:ga}=K.current,mi={activatorEvent:Mn,active:{id:vs,data:Li.data,rect:O}};pp.unstable_batchedUpdates(()=>{ga==null||ga(mi),M(av.Initializing),y({type:is.DragStart,initialCoordinates:ur,active:vs}),_({type:"onDragStart",event:mi}),W(Yt.current),X(Mn)})},onMove(ur){y({type:is.DragMove,coordinates:ur})},onEnd:Br(is.DragEnd),onCancel:Br(is.DragCancel)});Yt.current=En;function Br(ur){return async function(){const{active:Li,collisions:ga,over:mi,scrollAdjustedTranslate:ms}=pe.current;let ye=null;if(Li&&ms){const{cancelDrop:Me}=K.current;ye={activatorEvent:Mn,active:Li,collisions:ga,delta:ms,over:mi},ur===is.DragEnd&&typeof Me=="function"&&await Promise.resolve(Me(ye))&&(ur=is.DragCancel)}V.current=null,pp.unstable_batchedUpdates(()=>{y({type:ur}),M(av.Uninitialized),Ht(null),W(null),X(null),Yt.current=null;const Me=ur===is.DragEnd?"onDragEnd":"onDragCancel";if(ye){const Ce=K.current[Me];Ce==null||Ce(ye),_({type:Me,event:ye})}})}}},[I]),Je=de.useCallback((wt,yt)=>(vt,Ut)=>{const Zt=vt.nativeEvent,Mn=I.get(Ut);if(V.current!==null||!Mn||Zt.dndKit||Zt.defaultPrevented)return;const En={active:Mn};wt(vt,yt.options,En)===!0&&(Zt.dndKit={capturedBy:yt.sensor},V.current=Ut,ke(vt,yt))},[I,ke]),Et=TZe(c,Je);IZe(c),kf(()=>{Ae&&A===av.Initializing&&M(av.Initialized)},[Ae,A]),de.useEffect(()=>{const{onDragMove:wt}=K.current,{active:yt,activatorEvent:vt,collisions:Ut,over:Zt}=pe.current;if(!yt||!vt)return;const Mn={active:yt,activatorEvent:vt,collisions:Ut,delta:{x:ot.x,y:ot.y},over:Zt};pp.unstable_batchedUpdates(()=>{wt==null||wt(Mn),_({type:"onDragMove",event:Mn})})},[ot.x,ot.y]),de.useEffect(()=>{const{active:wt,activatorEvent:yt,collisions:vt,droppableContainers:Ut,scrollAdjustedTranslate:Zt}=pe.current;if(!wt||V.current==null||!yt||!Zt)return;const{onDragOver:Mn}=K.current,En=Ut.get(mt),Br=En&&En.rect.current?{id:En.id,rect:En.rect.current,data:En.data,disabled:En.disabled}:null,ur={active:wt,activatorEvent:yt,collisions:vt,delta:{x:Zt.x,y:Zt.y},over:Br};pp.unstable_batchedUpdates(()=>{Ht(Br),Mn==null||Mn(ur),_({type:"onDragOver",event:ur})})},[mt]),kf(()=>{pe.current={activatorEvent:Z,active:G,activeNode:ce,collisionRect:We,collisions:zt,droppableRects:ee,draggableNodes:I,draggingNode:oe,draggingNodeRect:ge,droppableContainers:L,over:Nt,scrollableAncestors:Oe,scrollAdjustedTranslate:ot},O.current={initial:ge,translated:We}},[G,ce,zt,We,I,oe,ge,ee,L,Nt,Oe,ot]),_Ze({...xe,delta:N,draggingRect:We,pointerCoordinates:me,scrollableAncestors:Oe,scrollableAncestorRects:Ve});const Le=de.useMemo(()=>({active:G,activeNode:ce,activeNodeRect:Ae,activatorEvent:Z,collisions:zt,containerNodeRect:Ue,dragOverlay:te,draggableNodes:I,droppableContainers:L,droppableRects:ee,over:Nt,measureDroppableContainers:Q,scrollableAncestors:Oe,scrollableAncestorRects:Ve,measuringConfiguration:H,measuringScheduled:ne,windowRect:be}),[G,ce,Ae,Z,zt,Ue,te,I,L,ee,Nt,Q,Oe,Ve,H,ne,be]),Dt=de.useMemo(()=>({activatorEvent:Z,activators:Et,active:G,activeNodeRect:Ae,ariaDescribedById:{draggable:se},dispatch:y,draggableNodes:I,over:Nt,measureDroppableContainers:Q}),[Z,Et,G,Ae,y,se,I,Nt,Q]);return Dr.createElement(Mpe.Provider,{value:S},Dr.createElement(vM.Provider,{value:Dt},Dr.createElement(jpe.Provider,{value:Le},Dr.createElement(UL.Provider,{value:bt},u)),Dr.createElement(VZe,{disabled:(o==null?void 0:o.restoreFocus)===!1})),Dr.createElement(YXe,{...o,hiddenTextDescribedById:se}));function Rt(){const wt=(q==null?void 0:q.autoScrollEnabled)===!1,yt=typeof l=="object"?l.enabled===!1:l===!1,vt=E&&!wt&&!yt;return typeof l=="object"?{...l,enabled:vt}:{enabled:vt}}}),jZe=de.createContext(null),WQ="button",WZe="Draggable";function qpe(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const a=pM(WZe),{activators:s,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:f,over:d}=de.useContext(vM),{role:h=WQ,roleDescription:p="draggable",tabIndex:m=0}=i??{},g=(l==null?void 0:l.id)===e,y=de.useContext(g?UL:jZe),[_,S]=RI(),[A,M]=RI(),E=kZe(s,e),D=lA(t);kf(()=>(f.set(e,{id:e,key:a,node:_,activatorNode:A,data:D}),()=>{const N=f.get(e);N&&N.key===a&&f.delete(e)}),[f,e]);const I=de.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":r,"aria-pressed":g&&h===WQ?!0:void 0,"aria-roledescription":p,"aria-describedby":c.draggable}),[r,h,m,g,p,c.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:I,isDragging:g,listeners:r?void 0:E,node:_,over:d,setNodeRef:S,setActivatorNodeRef:M,transform:y}}function Xpe(){return de.useContext(jpe)}const YZe="Droppable",qZe={timeout:25};function Zpe(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const a=pM(YZe),{active:s,dispatch:o,over:l,measureDroppableContainers:u}=de.useContext(vM),c=de.useRef({disabled:t}),f=de.useRef(!1),d=de.useRef(null),h=de.useRef(null),{disabled:p,updateMeasurementsFor:m,timeout:g}={...qZe,...i},y=lA(m??r),_=de.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),h.current=null},g)},[g]),S=zL({callback:_,disabled:p||!s}),A=de.useCallback((I,N)=>{S&&(N&&(S.unobserve(N),f.current=!1),I&&S.observe(I))},[S]),[M,E]=RI(A),D=lA(e);return de.useEffect(()=>{!S||!M.current||(S.disconnect(),f.current=!1,S.observe(M.current))},[M,S]),de.useEffect(()=>(o({type:is.RegisterDroppable,element:{id:r,key:a,disabled:t,node:M,rect:d,data:D}}),()=>o({type:is.UnregisterDroppable,key:a,id:r})),[r]),de.useEffect(()=>{t!==c.current.disabled&&(o({type:is.SetDroppableDisabled,id:r,key:a,disabled:t}),c.current.disabled=t)},[r,a,t,o]),{active:s,rect:d,isOver:(l==null?void 0:l.id)===r,node:M,over:l,setNodeRef:E}}function XZe(n){let{animation:e,children:t}=n;const[r,i]=de.useState(null),[a,s]=de.useState(null),o=NI(t);return!t&&!r&&o&&i(o),kf(()=>{if(!a)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){i(null);return}Promise.resolve(e(u,a)).then(()=>{i(null)})},[e,r,a]),Dr.createElement(Dr.Fragment,null,t,r?de.cloneElement(r,{ref:s}):null)}const ZZe={x:0,y:0,scaleX:1,scaleY:1};function KZe(n){let{children:e}=n;return Dr.createElement(vM.Provider,{value:Hpe},Dr.createElement(UL.Provider,{value:ZZe},e))}const $Ze={position:"fixed",touchAction:"none"},JZe=n=>OL(n)?"transform 250ms ease":void 0,QZe=de.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:i,children:a,className:s,rect:o,style:l,transform:u,transition:c=JZe}=n;if(!o)return null;const f=i?u:{...u,scaleX:1,scaleY:1},d={...$Ze,width:o.width,height:o.height,top:o.top,left:o.left,transform:Gv.Transform.toString(f),transformOrigin:i&&r?XXe(r,o):void 0,transition:typeof c=="function"?c(r):c,...l};return Dr.createElement(t,{className:s,style:d,ref:e},a)}),$7=n=>e=>{let{active:t,dragOverlay:r}=e;const i={},{styles:a,className:s}=n;if(a!=null&&a.active)for(const[o,l]of Object.entries(a.active))l!==void 0&&(i[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,l));if(a!=null&&a.dragOverlay)for(const[o,l]of Object.entries(a.dragOverlay))l!==void 0&&r.node.style.setProperty(o,l);return s!=null&&s.active&&t.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[l,u]of Object.entries(i))t.node.style.setProperty(l,u);s!=null&&s.active&&t.node.classList.remove(s.active)}},eKe=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Gv.Transform.toString(e)},{transform:Gv.Transform.toString(t)}]},tKe={duration:250,easing:"ease",keyframes:eKe,sideEffects:$7({styles:{active:{opacity:"0"}}})};function nKe(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:i}=n;return PL((a,s)=>{if(e===null)return;const o=t.get(a);if(!o)return;const l=o.node.current;if(!l)return;const u=Gpe(s);if(!u)return;const{transform:c}=wl(s).getComputedStyle(s),f=Ipe(c);if(!f)return;const d=typeof e=="function"?e:rKe(e);return zpe(l,i.draggable.measure),d({active:{id:a,data:o.data,node:l,rect:i.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:s,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:f})})}function rKe(n){const{duration:e,easing:t,sideEffects:r,keyframes:i}={...tKe,...n};return a=>{let{active:s,dragOverlay:o,transform:l,...u}=a;if(!e)return;const c={x:o.rect.left-s.rect.left,y:o.rect.top-s.rect.top},f={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/o.rect.height:1},d={x:l.x-c.x,y:l.y-c.y,...f},h=i({...u,active:s,dragOverlay:o,transform:{initial:l,final:d}}),[p]=h,m=h[h.length-1];if(JSON.stringify(p)===JSON.stringify(m))return;const g=r==null?void 0:r({active:s,dragOverlay:o,...u}),y=o.node.animate(h,{duration:e,easing:t,fill:"forwards"});return new Promise(_=>{y.onfinish=()=>{g==null||g(),_()}})}}let YQ=0;function iKe(n){return de.useMemo(()=>{if(n!=null)return YQ++,YQ},[n])}const Kpe=Dr.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:i,transition:a,modifiers:s,wrapperElement:o="div",className:l,zIndex:u=999}=n;const{activatorEvent:c,active:f,activeNodeRect:d,containerNodeRect:h,draggableNodes:p,droppableContainers:m,dragOverlay:g,over:y,measuringConfiguration:_,scrollableAncestors:S,scrollableAncestorRects:A,windowRect:M}=Xpe(),E=de.useContext(UL),D=iKe(f==null?void 0:f.id),I=Wpe(s,{activatorEvent:c,active:f,activeNodeRect:d,containerNodeRect:h,draggingNodeRect:g.rect,over:y,overlayNodeRect:g.rect,scrollableAncestors:S,scrollableAncestorRects:A,transform:E,windowRect:M}),N=K7(d),L=nKe({config:r,draggableNodes:p,droppableContainers:m,measuringConfiguration:_}),B=N?g.setRef:void 0;return Dr.createElement(KZe,null,Dr.createElement(XZe,{animation:L},f&&D?Dr.createElement(QZe,{key:D,id:f.id,ref:B,as:o,activatorEvent:c,adjustScale:e,className:l,transition:a,rect:N,style:{zIndex:u,...i},transform:I},t):null))});function $pe(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function aKe(n,e){return n.reduce((t,r,i)=>{const a=e.get(r);return a&&(t[i]=a),t},Array(n.length))}function AD(n){return n!==null&&n>=0}function sKe(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function oKe(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const Jpe=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const a=$pe(e,r,t),s=e[i],o=a[i];return!o||!s?null:{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}},MD={scaleX:1,scaleY:1},lKe=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:i,rects:a,overIndex:s}=n;const o=(e=a[t])!=null?e:r;if(!o)return null;if(i===t){const u=a[s];return u?{x:0,y:t<s?u.top+u.height-(o.top+o.height):u.top-o.top,...MD}:null}const l=uKe(a,i,t);return i>t&&i<=s?{x:0,y:-o.height-l,...MD}:i<t&&i>=s?{x:0,y:o.height+l,...MD}:{x:0,y:0,...MD}};function uKe(n,e,t){const r=n[e],i=n[e-1],a=n[e+1];return r?t<e?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Qpe="Sortable",e0e=Dr.createContext({activeIndex:-1,containerId:Qpe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Jpe,disabled:{draggable:!1,droppable:!1}});function cKe(n){let{children:e,id:t,items:r,strategy:i=Jpe,disabled:a=!1}=n;const{active:s,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:c}=Xpe(),f=pM(Qpe,t),d=o.rect!==null,h=de.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),p=s!=null,m=s?h.indexOf(s.id):-1,g=u?h.indexOf(u.id):-1,y=de.useRef(h),_=!sKe(h,y.current),S=g!==-1&&m===-1||_,A=oKe(a);kf(()=>{_&&p&&c(h)},[_,h,p,c]),de.useEffect(()=>{y.current=h},[h]);const M=de.useMemo(()=>({activeIndex:m,containerId:f,disabled:A,disableTransforms:S,items:h,overIndex:g,useDragOverlay:d,sortedRects:aKe(h,l),strategy:i}),[m,f,A.draggable,A.droppable,S,h,g,l,d,i]);return Dr.createElement(e0e.Provider,{value:M},e)}const fKe=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return $pe(t,r,i).indexOf(e)},dKe=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:a,newIndex:s,previousItems:o,previousContainerId:l,transition:u}=n;return!u||!r||o!==a&&i===s?!1:t?!0:s!==i&&e===l},hKe={duration:200,easing:"ease"},t0e="transform",pKe=Gv.Transition.toString({property:t0e,duration:0,easing:"linear"}),vKe={roleDescription:"sortable"};function mKe(n){let{disabled:e,index:t,node:r,rect:i}=n;const[a,s]=de.useState(null),o=de.useRef(t);return kf(()=>{if(!e&&t!==o.current&&r.current){const l=i.current;if(l){const u=xS(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&s(c)}}t!==o.current&&(o.current=t)},[e,t,r,i]),de.useEffect(()=>{a&&s(null)},[a]),a}function gKe(n){let{animateLayoutChanges:e=dKe,attributes:t,disabled:r,data:i,getNewIndex:a=fKe,id:s,strategy:o,resizeObserverConfig:l,transition:u=hKe}=n;const{items:c,containerId:f,activeIndex:d,disabled:h,disableTransforms:p,sortedRects:m,overIndex:g,useDragOverlay:y,strategy:_}=de.useContext(e0e),S=yKe(r,h),A=c.indexOf(s),M=de.useMemo(()=>({sortable:{containerId:f,index:A,items:c},...i}),[f,i,A,c]),E=de.useMemo(()=>c.slice(c.indexOf(s)),[c,s]),{rect:D,node:I,isOver:N,setNodeRef:L}=Zpe({id:s,data:M,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...l}}),{active:B,activatorEvent:O,activeNodeRect:G,attributes:V,setNodeRef:q,listeners:W,isDragging:Z,over:X,setActivatorNodeRef:K,transform:se}=qpe({id:s,data:M,attributes:{...vKe,...t},disabled:S.draggable}),J=kXe(L,q),H=!!B,ee=H&&!p&&AD(d)&&AD(g),Q=!y&&Z,ne=Q&&ee?se:null,ve=ee?ne??(o??_)({rects:m,activeNodeRect:G,activeIndex:d,overIndex:g,index:A}):null,xe=AD(d)&&AD(g)?a({id:s,items:c,activeIndex:d,overIndex:g}):A,we=B==null?void 0:B.id,Ae=de.useRef({activeId:we,items:c,newIndex:xe,containerId:f}),Ue=c!==Ae.current.items,pe=e({active:B,containerId:f,isDragging:Z,isSorting:H,id:s,index:A,items:c,newIndex:Ae.current.newIndex,previousItems:Ae.current.items,previousContainerId:Ae.current.containerId,transition:u,wasDragging:Ae.current.activeId!=null}),pt=mKe({disabled:!pe,index:A,node:I,rect:D});return de.useEffect(()=>{H&&Ae.current.newIndex!==xe&&(Ae.current.newIndex=xe),f!==Ae.current.containerId&&(Ae.current.containerId=f),c!==Ae.current.items&&(Ae.current.items=c)},[H,xe,f,c]),de.useEffect(()=>{if(we===Ae.current.activeId)return;if(we!=null&&Ae.current.activeId==null){Ae.current.activeId=we;return}const oe=setTimeout(()=>{Ae.current.activeId=we},50);return()=>clearTimeout(oe)},[we]),{active:B,activeIndex:d,attributes:V,data:M,rect:D,index:A,newIndex:xe,items:c,isOver:N,isSorting:H,isDragging:Z,listeners:W,node:I,overIndex:g,over:X,setNodeRef:J,setActivatorNodeRef:K,setDroppableNodeRef:L,setDraggableNodeRef:q,transform:pt??ve,transition:te()};function te(){if(pt||Ue&&Ae.current.newIndex===A)return pKe;if(!(Q&&!OL(O)||!u)&&(H||pe))return Gv.Transition.toString({...u,property:t0e})}}function yKe(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}function PI(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const xKe=[Lr.Down,Lr.Right,Lr.Up,Lr.Left],_Ke=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:i,droppableContainers:a,over:s,scrollableAncestors:o}}=e;if(xKe.includes(n.code)){if(n.preventDefault(),!t||!r)return;const l=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const d=i.get(f.id);if(d)switch(n.code){case Lr.Down:r.top<d.top&&l.push(f);break;case Lr.Up:r.top>d.top&&l.push(f);break;case Lr.Left:r.left>d.left&&l.push(f);break;case Lr.Right:r.left<d.left&&l.push(f);break}});const u=Rpe({collisionRect:r,droppableRects:i,droppableContainers:l});let c=Dpe(u,"id");if(c===(s==null?void 0:s.id)&&u.length>1&&(c=u[1].id),c!=null){const f=a.get(t.id),d=a.get(c),h=d?i.get(d.id):null,p=d==null?void 0:d.node.current;if(p&&h&&f&&d){const g=FL(p).some((E,D)=>o[D]!==E),y=n0e(f,d),_=bKe(f,d),S=g||!y?{x:0,y:0}:{x:_?r.width-h.width:0,y:_?r.height-h.height:0},A={x:h.left,y:h.top};return S.x&&S.y?A:uA(A,S)}}}};function n0e(n,e){return!PI(n)||!PI(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function bKe(n,e){return!PI(n)||!PI(e)||!n0e(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const SKe=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},wKe=(n,e)=>({classGroupId:n,validator:e}),r0e=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),OI="-",qQ=[],TKe="arbitrary..",CKe=n=>{const e=MKe(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return AKe(s);const o=s.split(OI),l=o[0]===""&&o.length>1?1:0;return i0e(o,l,e)},getConflictingClassGroupIds:(s,o)=>{if(o){const l=r[s],u=t[s];return l?u?SKe(u,l):l:u||qQ}return t[s]||qQ}}},i0e=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const i=n[e],a=t.nextPart.get(i);if(a){const u=i0e(n,e+1,a);if(u)return u}const s=t.validators;if(s===null)return;const o=e===0?n.join(OI):n.slice(e).join(OI),l=s.length;for(let u=0;u<l;u++){const c=s[u];if(c.validator(o))return c.classGroupId}},AKe=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?TKe+r:void 0})(),MKe=n=>{const{theme:e,classGroups:t}=n;return EKe(t,e)},EKe=(n,e)=>{const t=r0e();for(const r in n){const i=n[r];J7(i,t,r,e)}return t},J7=(n,e,t,r)=>{const i=n.length;for(let a=0;a<i;a++){const s=n[a];DKe(s,e,t,r)}},DKe=(n,e,t,r)=>{if(typeof n=="string"){RKe(n,e,t);return}if(typeof n=="function"){NKe(n,e,t,r);return}IKe(n,e,t,r)},RKe=(n,e,t)=>{const r=n===""?e:a0e(e,n);r.classGroupId=t},NKe=(n,e,t,r)=>{if(kKe(n)){J7(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(wKe(t,n))},IKe=(n,e,t,r)=>{const i=Object.entries(n),a=i.length;for(let s=0;s<a;s++){const[o,l]=i[s];J7(l,a0e(e,o),t,r)}},a0e=(n,e)=>{let t=n;const r=e.split(OI),i=r.length;for(let a=0;a<i;a++){const s=r[a];let o=t.nextPart.get(s);o||(o=r0e(),t.nextPart.set(s,o)),t=o}return t},kKe=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,LKe=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const i=(a,s)=>{t[a]=s,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let s=t[a];if(s!==void 0)return s;if((s=r[a])!==void 0)return i(a,s),s},set(a,s){a in t?t[a]=s:i(a,s)}}},Sz="!",XQ=":",PKe=[],ZQ=(n,e,t,r,i)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:i}),OKe=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let s=0,o=0,l=0,u;const c=i.length;for(let m=0;m<c;m++){const g=i[m];if(s===0&&o===0){if(g===XQ){a.push(i.slice(l,m)),l=m+1;continue}if(g==="/"){u=m;continue}}g==="["?s++:g==="]"?s--:g==="("?o++:g===")"&&o--}const f=a.length===0?i:i.slice(l);let d=f,h=!1;f.endsWith(Sz)?(d=f.slice(0,-1),h=!0):f.startsWith(Sz)&&(d=f.slice(1),h=!0);const p=u&&u>l?u-l:void 0;return ZQ(a,h,d,p)};if(e){const i=e+XQ,a=r;r=s=>s.startsWith(i)?a(s.slice(i.length)):ZQ(PKe,!1,s,void 0,!0)}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},FKe=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let i=[];for(let a=0;a<t.length;a++){const s=t[a],o=s[0]==="[",l=e.has(s);o||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(s)):i.push(s)}return i.length>0&&(i.sort(),r.push(...i)),r}},BKe=n=>({cache:LKe(n.cacheSize),parseClassName:OKe(n),sortModifiers:FKe(n),...CKe(n)}),zKe=/\s+/,UKe=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,s=[],o=n.trim().split(zKe);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{isExternal:f,modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=t(c);if(f){l=c+(l.length>0?" "+l:l);continue}let g=!!m,y=r(g?p.substring(0,m):p);if(!y){if(!g){l=c+(l.length>0?" "+l:l);continue}if(y=r(p),!y){l=c+(l.length>0?" "+l:l);continue}g=!1}const _=d.length===0?"":d.length===1?d[0]:a(d).join(":"),S=h?_+Sz:_,A=S+y;if(s.indexOf(A)>-1)continue;s.push(A);const M=i(y,g);for(let E=0;E<M.length;++E){const D=M[E];s.push(S+D)}l=c+(l.length>0?" "+l:l)}return l},VKe=(...n)=>{let e=0,t,r,i="";for(;e<n.length;)(t=n[e++])&&(r=s0e(t))&&(i&&(i+=" "),i+=r);return i},s0e=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=s0e(n[r]))&&(t&&(t+=" "),t+=e);return t},GKe=(n,...e)=>{let t,r,i,a;const s=l=>{const u=e.reduce((c,f)=>f(c),n());return t=BKe(u),r=t.cache.get,i=t.cache.set,a=o,o(l)},o=l=>{const u=r(l);if(u)return u;const c=UKe(l,t);return i(l,c),c};return a=s,(...l)=>a(VKe(...l))},HKe=[],ts=n=>{const e=t=>t[n]||HKe;return e.isThemeGetter=!0,e},o0e=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,l0e=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jKe=/^\d+\/\d+$/,WKe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YKe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qKe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,XKe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZKe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,e_=n=>jKe.test(n),pr=n=>!!n&&!Number.isNaN(Number(n)),j0=n=>!!n&&Number.isInteger(Number(n)),dF=n=>n.endsWith("%")&&pr(n.slice(0,-1)),qh=n=>WKe.test(n),KKe=()=>!0,$Ke=n=>YKe.test(n)&&!qKe.test(n),u0e=()=>!1,JKe=n=>XKe.test(n),QKe=n=>ZKe.test(n),e$e=n=>!hn(n)&&!pn(n),t$e=n=>_S(n,d0e,u0e),hn=n=>o0e.test(n),Ag=n=>_S(n,h0e,$Ke),hF=n=>_S(n,s$e,pr),KQ=n=>_S(n,c0e,u0e),n$e=n=>_S(n,f0e,QKe),ED=n=>_S(n,p0e,JKe),pn=n=>l0e.test(n),Uw=n=>bS(n,h0e),r$e=n=>bS(n,o$e),$Q=n=>bS(n,c0e),i$e=n=>bS(n,d0e),a$e=n=>bS(n,f0e),DD=n=>bS(n,p0e,!0),_S=(n,e,t)=>{const r=o0e.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},bS=(n,e,t=!1)=>{const r=l0e.exec(n);return r?r[1]?e(r[1]):t:!1},c0e=n=>n==="position"||n==="percentage",f0e=n=>n==="image"||n==="url",d0e=n=>n==="length"||n==="size"||n==="bg-size",h0e=n=>n==="length",s$e=n=>n==="number",o$e=n=>n==="family-name",p0e=n=>n==="shadow",l$e=()=>{const n=ts("color"),e=ts("font"),t=ts("text"),r=ts("font-weight"),i=ts("tracking"),a=ts("leading"),s=ts("breakpoint"),o=ts("container"),l=ts("spacing"),u=ts("radius"),c=ts("shadow"),f=ts("inset-shadow"),d=ts("text-shadow"),h=ts("drop-shadow"),p=ts("blur"),m=ts("perspective"),g=ts("aspect"),y=ts("ease"),_=ts("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...A(),pn,hn],E=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],I=()=>[pn,hn,l],N=()=>[e_,"full","auto",...I()],L=()=>[j0,"none","subgrid",pn,hn],B=()=>["auto",{span:["full",j0,pn,hn]},j0,pn,hn],O=()=>[j0,"auto",pn,hn],G=()=>["auto","min","max","fr",pn,hn],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...I()],Z=()=>[e_,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],X=()=>[n,pn,hn],K=()=>[...A(),$Q,KQ,{position:[pn,hn]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",i$e,t$e,{size:[pn,hn]}],H=()=>[dF,Uw,Ag],ee=()=>["","none","full",u,pn,hn],Q=()=>["",pr,Uw,Ag],ne=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[pr,dF,$Q,KQ],xe=()=>["","none",p,pn,hn],we=()=>["none",pr,pn,hn],Ae=()=>["none",pr,pn,hn],Ue=()=>[pr,pn,hn],pe=()=>[e_,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qh],breakpoint:[qh],color:[KKe],container:[qh],"drop-shadow":[qh],ease:["in","out","in-out"],font:[e$e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qh],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qh],shadow:[qh],spacing:["px",pr],text:[qh],"text-shadow":[qh],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",e_,hn,pn,g]}],container:["container"],columns:[{columns:[pr,hn,pn,o]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[j0,"auto",pn,hn]}],basis:[{basis:[e_,"full","auto",o,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pr,e_,"auto","initial","none",hn]}],grow:[{grow:["",pr,pn,hn]}],shrink:[{shrink:["",pr,pn,hn]}],order:[{order:[j0,"first","last","none",pn,hn]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[o,"screen",...Z()]}],"min-w":[{"min-w":[o,"screen","none",...Z()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",t,Uw,Ag]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,pn,hF]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dF,hn]}],"font-family":[{font:[r$e,hn,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,pn,hn]}],"line-clamp":[{"line-clamp":[pr,"none",pn,hF]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",pn,hn]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pn,hn]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[pr,"from-font","auto",pn,Ag]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[pr,"auto",pn,hn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pn,hn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pn,hn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},j0,pn,hn],radial:["",pn,hn],conic:[j0,pn,hn]},a$e,n$e]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pr,pn,hn]}],"outline-w":[{outline:["",pr,Uw,Ag]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",c,DD,ED]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",f,DD,ED]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[pr,Ag]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",d,DD,ED]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[pr,pn,hn]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pr]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[pn,hn]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[pr]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pn,hn]}],filter:[{filter:["","none",pn,hn]}],blur:[{blur:xe()}],brightness:[{brightness:[pr,pn,hn]}],contrast:[{contrast:[pr,pn,hn]}],"drop-shadow":[{"drop-shadow":["","none",h,DD,ED]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",pr,pn,hn]}],"hue-rotate":[{"hue-rotate":[pr,pn,hn]}],invert:[{invert:["",pr,pn,hn]}],saturate:[{saturate:[pr,pn,hn]}],sepia:[{sepia:["",pr,pn,hn]}],"backdrop-filter":[{"backdrop-filter":["","none",pn,hn]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[pr,pn,hn]}],"backdrop-contrast":[{"backdrop-contrast":[pr,pn,hn]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pr,pn,hn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pr,pn,hn]}],"backdrop-invert":[{"backdrop-invert":["",pr,pn,hn]}],"backdrop-opacity":[{"backdrop-opacity":[pr,pn,hn]}],"backdrop-saturate":[{"backdrop-saturate":[pr,pn,hn]}],"backdrop-sepia":[{"backdrop-sepia":["",pr,pn,hn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pn,hn]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pr,"initial",pn,hn]}],ease:[{ease:["linear","initial",y,pn,hn]}],delay:[{delay:[pr,pn,hn]}],animate:[{animate:["none",_,pn,hn]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,pn,hn]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[pn,hn,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pn,hn]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pn,hn]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[pr,Uw,Ag,hF]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},u$e=GKe(l$e),c$e=()=>C.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-gray-100 animate-pulse",children:[C.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-sm mr-3"}),C.jsx("div",{className:"flex-1 h-4 bg-gray-200 rounded mr-4"}),C.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded ml-2"}),C.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded ml-2"}),C.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded ml-2"}),C.jsx("div",{className:"w-32 h-6 bg-gray-200 rounded ml-2"})]}),f$e=({task:n,onStatusChange:e,onUpdateTask:t,showToast:r})=>{const{attributes:i,listeners:a,setNodeRef:s,transform:o,transition:l,isDragging:u}=gKe({id:n.id,data:{type:"Task",task:n}}),c={transform:Gv.Translate.toString(o),transition:l},[f,d]=de.useState(!1),[h,p]=de.useState(n.title),m=()=>{h.trim()!==n.title&&(t==null||t(n.id,{title:h})),d(!1)},g=_=>{_.key==="Enter"?m():_.key==="Escape"&&(p(n.title),d(!1))},y=_=>{_.stopPropagation();const S=Object.values(fM),A=S.indexOf(n.status),M=S[(A+1)%S.length];e(n.id,M),r(`Status changed to ${M}`,"success")};return u?C.jsx("div",{ref:s,style:c,className:"opacity-30 bg-gray-50 border border-dashed border-gray-300 h-10 rounded my-1"}):C.jsxs("div",{ref:s,style:c,className:u$e("group flex items-center px-4 py-1.5 border-b border-gray-100 hover:bg-gray-50 transition-colors text-sm bg-white",u&&"z-50 shadow-xl"),children:[C.jsx("div",{...i,...a,className:"mr-2 cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:C.jsx(AU,{size:14})}),C.jsxs("div",{className:"flex-1 flex items-center min-w-0 pr-4",children:[C.jsx("div",{className:"mr-3 relative flex-shrink-0",children:C.jsx("div",{className:"w-4 h-4 rounded-sm border border-gray-300 hover:border-gray-500 transition-colors flex items-center justify-center cursor-pointer hover:bg-gray-100",onClick:_=>{_.stopPropagation(),r(`Marked ${n.id} complete`,"success")},children:C.jsx(Zd,{size:12,className:"opacity-0 group-hover:opacity-100 text-gray-700"})})}),f?C.jsx("input",{autoFocus:!0,value:h,onChange:_=>p(_.target.value),onBlur:m,onKeyDown:g,className:"flex-1 bg-white border border-clickup-purple rounded px-1 py-0.5 outline-none text-sm text-gray-900",onClick:_=>_.stopPropagation()}):C.jsx("span",{className:"truncate text-gray-700 cursor-text hover:text-clickup-purple font-medium",onClick:_=>{_.stopPropagation(),d(!0)},children:n.title}),C.jsx("div",{className:"ml-2 opacity-0 group-hover:opacity-100 flex items-center space-x-1 transition-opacity",children:C.jsx("button",{className:"p-1 hover:bg-gray-200 rounded text-gray-500 hover:text-black transition-colors",onClick:_=>{_.stopPropagation(),r("Timer started","success")},children:C.jsx(q1e,{size:12})})})]}),C.jsx("div",{className:"w-32 flex items-center pl-2 cursor-pointer min-h-[24px]",onClick:()=>r("Assign People","info"),children:n.assignees.length>0?C.jsx("div",{className:"flex -space-x-1 hover:space-x-0.5 transition-all",children:n.assignees.map(_=>C.jsx("div",{className:"w-6 h-6 rounded-full border border-white flex items-center justify-center text-[10px] text-white font-bold shadow-sm",style:{backgroundColor:_.color},title:_.name,children:_.avatar},_.id))}):C.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300 border-dashed flex items-center justify-center text-gray-300 opacity-0 group-hover:opacity-100 hover:border-clickup-purple hover:text-clickup-purple transition-all",children:C.jsx(MSe,{size:12})})}),C.jsx("div",{className:"w-32 pl-2 text-xs text-gray-400 flex items-center group-hover:text-gray-600 cursor-pointer min-h-[24px]",onClick:()=>r("Open Date Picker","info"),children:n.dueDate?C.jsx("span",{className:new Date(n.dueDate)<new Date?"text-red-500":"",children:new Date(n.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}):C.jsx(Mp,{size:14,className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-black transition-colors"})}),C.jsx("div",{className:"w-24 pl-2 cursor-pointer min-h-[24px] flex items-center",onClick:()=>r("Change Priority","info"),children:C.jsxs("div",{className:"flex items-center group/priority",children:[C.jsx(TU,{size:14,fill:n.priority===ib.None?"none":Nb[n.priority],color:n.priority===ib.None?"#d1d5db":Nb[n.priority],className:"transition-colors"}),C.jsx("span",{className:`ml-1.5 text-xs ${n.priority===ib.None?"text-gray-400 opacity-0 group-hover:opacity-100":"text-gray-500"} transition-opacity`,children:n.priority})]})}),C.jsx("div",{className:"w-32 pl-2",children:C.jsx("button",{className:"px-2 py-0.5 text-[10px] uppercase font-bold text-white rounded-sm truncate max-w-full transition-all hover:scale-105 hover:opacity-90 shadow-sm",style:{backgroundColor:kL[n.status]},onClick:y,children:n.status})})]})},d$e=({tasks:n,isLoading:e,onStatusChange:t,onAddTask:r,onReorder:i,onUpdateTask:a})=>{var m;const{showToast:s}=Du(),[o,l]=de.useState(null),u=Epe(yz(BL,{activationConstraint:{distance:8}}),yz(X7,{coordinateGetter:_Ke})),c=de.useMemo(()=>Object.values(fM).reduce((y,_)=>(y[_]=n.filter(S=>S.status===_).sort((S,A)=>(S.order||0)-(A.order||0)),y),{}),[n]),f=g=>{l(g.active.id)},d=g=>{const{active:y,over:_}=g;if(!_)return;const S=n.find(M=>M.id===y.id),A=n.find(M=>M.id===_.id);S&&A&&(S.status,A.status)},h=g=>{const{active:y,over:_}=g;if(l(null),!_)return;const S=n.find(M=>M.id===y.id),A=n.find(M=>M.id===_.id);if(S&&A){if(S.status!==A.status)t(S.id,A.status);else if(y.id!==_.id){const M=n.findIndex(N=>N.id===y.id),E=n.findIndex(N=>N.id===_.id),D=[...n],[I]=D.splice(M,1);D.splice(E,0,I),i==null||i(D)}}},p={sideEffects:$7({styles:{active:{opacity:"0.5"}}})};return e?C.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar p-4",children:[1,2,3,4,5].map(g=>C.jsx(c$e,{},g))}):n.length===0?C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white text-center p-8 animate-in fade-in duration-500",children:[C.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-6 border border-dashed border-gray-200",children:C.jsx(li,{size:40,className:"text-gray-300"})}),C.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No tasks found"}),C.jsxs("button",{onClick:r,className:"px-6 py-2 bg-gray-900 hover:bg-black text-white rounded-lg font-medium transition-colors shadow-md flex items-center",children:[C.jsx(li,{size:18,className:"mr-2"})," Create Task"]})]}):C.jsxs(Ype,{sensors:u,collisionDetection:Rpe,onDragStart:f,onDragOver:d,onDragEnd:h,children:[C.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar h-full",children:C.jsxs("div",{className:"min-w-[800px] pb-10",children:[C.jsxs("div",{className:"flex items-center px-8 py-2 border-b border-gray-200 text-xs font-semibold text-gray-400 sticky top-0 bg-white z-20 select-none shadow-sm",children:[C.jsx("div",{className:"w-6 mr-2"})," ",C.jsx("div",{className:"flex-1",children:"NAME"}),C.jsx("div",{className:"w-32 pl-2",children:"ASSIGNEE"}),C.jsx("div",{className:"w-32 pl-2",children:"DUE DATE"}),C.jsx("div",{className:"w-24 pl-2",children:"PRIORITY"}),C.jsx("div",{className:"w-32 pl-2",children:"STATUS"})]}),Object.entries(c).map(([g,y])=>C.jsxs("div",{className:"mb-2",children:[C.jsxs("div",{className:"group sticky top-[33px] z-10 bg-white/95 backdrop-blur-sm flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",children:[C.jsx(wo,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),C.jsx("span",{className:"px-2 py-0.5 rounded text-white text-xs uppercase font-bold mr-2 shadow-sm",style:{backgroundColor:kL[g]},children:g}),C.jsxs("span",{className:"text-gray-400 text-xs font-normal ml-1",children:[y.length," tasks"]}),C.jsxs("div",{className:"ml-auto opacity-0 group-hover:opacity-100 flex items-center space-x-2 transition-opacity",children:[C.jsx(li,{size:14,className:"text-gray-500 hover:text-black",onClick:_=>{_.stopPropagation(),r()}}),C.jsx(FA,{size:14,className:"text-gray-400 hover:text-gray-600",onClick:_=>{_.stopPropagation(),s("Group Settings","info")}})]})]}),C.jsx(cKe,{items:y.map(_=>_.id),strategy:lKe,children:C.jsx("div",{className:"flex flex-col",children:y.map(_=>C.jsx(f$e,{task:_,onStatusChange:t,onUpdateTask:a,showToast:s},_.id))})}),C.jsxs("div",{className:"flex items-center px-4 py-2 border-b border-transparent hover:bg-gray-50 group cursor-pointer transition-colors ml-8",onClick:r,children:[C.jsx("div",{className:"mr-3 w-4 h-4 flex items-center justify-center",children:C.jsx(li,{size:14,className:"text-gray-400 group-hover:text-black transition-colors"})}),C.jsx("span",{className:"text-sm text-gray-400 group-hover:text-gray-600 italic",children:"+ New Task..."})]})]},g))]})}),C.jsx(Kpe,{dropAnimation:p,children:o?C.jsx("div",{className:"bg-white shadow-2xl border border-clickup-purple/20 rounded p-2 opacity-90",children:C.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700",children:[C.jsx(AU,{size:14,className:"mr-2 text-clickup-purple"}),(m=n.find(g=>g.id===o))==null?void 0:m.title]})}):null})]})},h$e=({task:n,onClick:e})=>{const{attributes:t,listeners:r,setNodeRef:i,isDragging:a}=qpe({id:n.id,data:{task:n}});return a?C.jsx("div",{ref:i,className:"bg-gray-50 p-3 rounded-lg border-2 border-dashed border-gray-200 h-24 opacity-50"}):C.jsxs("div",{ref:i,...r,...t,className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm hover:shadow-md hover:border-gray-300 transition-all cursor-grab active:cursor-grabbing group relative select-none touch-none",onClick:e,children:[C.jsxs("div",{className:"flex justify-between items-start mb-2",children:[C.jsxs("div",{className:"text-xs font-medium text-gray-400 hover:underline",children:["#",n.id.substring(5)]}),C.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",children:C.jsx(FA,{size:14,className:"text-gray-400"})})]}),C.jsx("h3",{className:"text-sm text-gray-800 font-medium mb-3 leading-snug group-hover:text-clickup-purple transition-colors",children:n.title}),C.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[n.priority!==ib.None&&C.jsx("div",{className:"p-0.5 rounded hover:bg-gray-100 transition-colors",title:`Priority: ${n.priority}`,children:C.jsx(TU,{size:12,fill:Nb[n.priority],color:Nb[n.priority]})}),n.dueDate&&C.jsxs("div",{className:`flex items-center text-[10px] px-1.5 py-0.5 bg-gray-50 rounded border border-gray-100 ${new Date(n.dueDate)<new Date?"text-red-500 border-red-100 bg-red-50":"text-gray-400"}`,children:[C.jsx(Mp,{size:10,className:"mr-1"}),new Date(n.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]}),C.jsx("div",{className:"flex -space-x-1",children:n.assignees.map(s=>C.jsx("div",{className:"w-5 h-5 rounded-full border border-white flex items-center justify-center text-[9px] text-white font-bold shadow-sm",style:{backgroundColor:s.color},title:s.name,children:s.avatar},s.id))})]})]})},p$e=({status:n,tasks:e,isLoading:t,onAddTask:r,showToast:i})=>{const{setNodeRef:a,isOver:s}=Zpe({id:n});return C.jsxs("div",{ref:a,className:`flex-shrink-0 w-72 flex flex-col h-full animate-in fade-in duration-500 rounded-xl transition-colors ${s?"bg-indigo-50/50 ring-2 ring-indigo-100":""}`,children:[C.jsxs("div",{className:"flex items-center justify-between mb-3 px-1 group",children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("span",{className:"text-[10px] uppercase font-bold px-1.5 py-0.5 rounded text-white shadow-sm cursor-pointer hover:opacity-90",style:{backgroundColor:kL[n]},onClick:()=>i(`Status: ${n}`,"info"),children:n}),C.jsx("span",{className:"text-xs text-gray-500 font-medium",children:t?"...":e.length})]}),C.jsxs("div",{className:"flex space-x-1 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsx(li,{size:14,className:"cursor-pointer hover:text-gray-600",onClick:r}),C.jsx(FA,{size:14,className:"cursor-pointer hover:text-gray-600",onClick:()=>i("Column Settings","info")})]})]}),C.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2.5 pb-10 custom-scrollbar",children:t?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm h-28 animate-pulse"}),C.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm h-28 animate-pulse"})]}):C.jsxs(C.Fragment,{children:[e.map(o=>C.jsx(h$e,{task:o,onClick:()=>i(`Opening ${o.title}`,"info")},o.id)),C.jsxs("button",{className:"w-full py-2 rounded-md border border-transparent hover:bg-gray-200/50 hover:border-gray-300 text-gray-400 text-sm flex items-center justify-center transition-all group",onClick:r,children:[C.jsx(li,{size:14,className:"mr-1 group-hover:text-clickup-purple transition-colors"}),C.jsx("span",{className:"group-hover:text-clickup-purple transition-colors",children:"New Task"})]})]})})]})},v$e=({tasks:n,isLoading:e,onAddTask:t,onStatusChange:r})=>{const{showToast:i}=Du(),[a,s]=de.useState(null),o=Epe(yz(BL,{activationConstraint:{distance:5}})),l=Object.values(fM).reduce((d,h)=>(d[h]=n.filter(p=>p.status===h),d),{}),u=d=>{const{active:h}=d,p=n.find(m=>m.id===h.id);p&&s(p)},c=d=>{const{active:h,over:p}=d;if(s(null),!p)return;const m=h.id,g=p.id,y=n.find(_=>_.id===m);y&&y.status!==g&&r(m,g)},f={sideEffects:$7({styles:{active:{opacity:"0.5"}}})};return!e&&n.length===0?C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-clickup-light p-8 animate-in fade-in duration-500",children:[C.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 border border-dashed border-gray-300 shadow-sm",children:C.jsx(rSe,{size:40,className:"text-gray-300"})}),C.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Board is empty"}),C.jsx("p",{className:"text-gray-500 max-w-sm mb-8 text-center",children:"Visualise your workflow here. Start by creating a new task."}),C.jsxs("button",{onClick:t,className:"px-6 py-2 bg-clickup-purple text-white rounded-lg font-medium hover:bg-indigo-600 transition-colors shadow-lg shadow-purple-200 flex items-center",children:[C.jsx(li,{size:18,className:"mr-2"}),"Create Task"]})]}):C.jsxs(Ype,{sensors:o,onDragStart:u,onDragEnd:c,children:[C.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden bg-clickup-light p-6 custom-scrollbar h-full",children:C.jsxs("div",{className:"flex h-full space-x-4",children:[Object.entries(l).map(([d,h])=>C.jsx(p$e,{status:d,tasks:h,isLoading:e,onAddTask:t,showToast:i},d)),C.jsx("div",{className:"w-8 flex-shrink-0"})]})}),pp.createPortal(C.jsx(Kpe,{dropAnimation:f,children:a?C.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-xl w-72 cursor-grabbing rotate-2 opacity-90",children:[C.jsx("div",{className:"flex justify-between items-start mb-2",children:C.jsxs("div",{className:"text-xs font-medium text-gray-400",children:["#",a.id.substring(5)]})}),C.jsx("h3",{className:"text-sm text-gray-800 font-medium mb-3 leading-snug",children:a.title}),C.jsx("div",{className:"flex items-center justify-between mt-auto",children:C.jsx("div",{className:"flex items-center space-x-2",children:a.priority!==ib.None&&C.jsx("div",{className:"p-0.5 rounded",title:`Priority: ${a.priority}`,children:C.jsx(TU,{size:12,fill:Nb[a.priority],color:Nb[a.priority]})})})})]}):null}),document.body)]})},v0e=6048e5,m$e=864e5,JQ=Symbol.for("constructDateFrom");function Mc(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&JQ in n?n[JQ](e):n instanceof Date?new n.constructor(e):new Date(e)}function Uo(n,e){return Mc(e||n,n)}function RD(n,e,t){const r=Uo(n,t==null?void 0:t.in);return isNaN(e)?Mc(n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Q7(n,e,t){const r=Uo(n,t==null?void 0:t.in);if(isNaN(e))return Mc(n,NaN);if(!e)return r;const i=r.getDate(),a=Mc(n,r.getTime());a.setMonth(r.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let g$e={};function mM(){return g$e}function Hv(n,e){var o,l,u,c;const t=mM(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Uo(n,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function FI(n,e){return Hv(n,{...e,weekStartsOn:1})}function m0e(n,e){const t=Uo(n,e==null?void 0:e.in),r=t.getFullYear(),i=Mc(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=FI(i),s=Mc(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=FI(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function QQ(n){const e=Uo(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function VL(n,...e){const t=Mc.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function BI(n,e){const t=Uo(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function y$e(n,e,t){const[r,i]=VL(t==null?void 0:t.in,n,e),a=BI(r),s=BI(i),o=+a-QQ(a),l=+s-QQ(s);return Math.round((o-l)/m$e)}function x$e(n,e){const t=m0e(n,e),r=Mc(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),FI(r)}function zI(n,e,t){const[r,i]=VL(t==null?void 0:t.in,n,e);return+BI(r)==+BI(i)}function _$e(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function b$e(n){return!(!_$e(n)&&typeof n!="number"||isNaN(+Uo(n)))}function g0e(n,e){const t=Uo(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function S$e(n,e){const[t,r]=VL(n,e.start,e.end);return{start:t,end:r}}function y0e(n,e){const{start:t,end:r}=S$e(e==null?void 0:e.in,n);let i=+t>+r;const a=i?+t:+r,s=i?r:t;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(Mc(t,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function x0e(n,e){const t=Uo(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function w$e(n,e){const t=Uo(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function wz(n,e){var o,l;const t=mM(),r=t.weekStartsOn??((l=(o=t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,i=Uo(n,e==null?void 0:e.in),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const T$e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},C$e=(n,e,t)=>{let r;const i=T$e[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function pF(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const A$e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},M$e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},E$e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D$e={date:pF({formats:A$e,defaultWidth:"full"}),time:pF({formats:M$e,defaultWidth:"full"}),dateTime:pF({formats:E$e,defaultWidth:"full"})},R$e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},N$e=(n,e,t,r)=>R$e[n];function Vw(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const s=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):s;i=n.formattingValues[o]||n.formattingValues[s]}else{const s=n.defaultWidth,o=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[o]||n.values[s]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const I$e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},k$e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},L$e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P$e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},O$e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F$e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B$e=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},z$e={ordinalNumber:B$e,era:Vw({values:I$e,defaultWidth:"wide"}),quarter:Vw({values:k$e,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Vw({values:L$e,defaultWidth:"wide"}),day:Vw({values:P$e,defaultWidth:"wide"}),dayPeriod:Vw({values:O$e,defaultWidth:"wide",formattingValues:F$e,defaultFormattingWidth:"wide"})};function Gw(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?V$e(o,f=>f.test(s)):U$e(o,f=>f.test(s));let u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function U$e(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function V$e(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function G$e(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let s=n.valueCallback?n.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const H$e=/^(\d+)(th|st|nd|rd)?/i,j$e=/\d+/i,W$e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Y$e={any:[/^b/i,/^(a|c)/i]},q$e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X$e={any:[/1/i,/2/i,/3/i,/4/i]},Z$e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},K$e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$$e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J$e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q$e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},eJe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tJe={ordinalNumber:G$e({matchPattern:H$e,parsePattern:j$e,valueCallback:n=>parseInt(n,10)}),era:Gw({matchPatterns:W$e,defaultMatchWidth:"wide",parsePatterns:Y$e,defaultParseWidth:"any"}),quarter:Gw({matchPatterns:q$e,defaultMatchWidth:"wide",parsePatterns:X$e,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Gw({matchPatterns:Z$e,defaultMatchWidth:"wide",parsePatterns:K$e,defaultParseWidth:"any"}),day:Gw({matchPatterns:$$e,defaultMatchWidth:"wide",parsePatterns:J$e,defaultParseWidth:"any"}),dayPeriod:Gw({matchPatterns:Q$e,defaultMatchWidth:"any",parsePatterns:eJe,defaultParseWidth:"any"})},nJe={code:"en-US",formatDistance:C$e,formatLong:D$e,formatRelative:N$e,localize:z$e,match:tJe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rJe(n,e){const t=Uo(n,e==null?void 0:e.in);return y$e(t,w$e(t))+1}function iJe(n,e){const t=Uo(n,e==null?void 0:e.in),r=+FI(t)-+x$e(t);return Math.round(r/v0e)+1}function _0e(n,e){var c,f,d,h;const t=Uo(n,e==null?void 0:e.in),r=t.getFullYear(),i=mM(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=Mc((e==null?void 0:e.in)||n,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=Hv(s,e),l=Mc((e==null?void 0:e.in)||n,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=Hv(l,e);return+t>=+o?r+1:+t>=+u?r:r-1}function aJe(n,e){var o,l,u,c;const t=mM(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=_0e(n,e),a=Mc((e==null?void 0:e.in)||n,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Hv(a,e)}function sJe(n,e){const t=Uo(n,e==null?void 0:e.in),r=+Hv(t,e)-+aJe(t,e);return Math.round(r/v0e)+1}function hi(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const W0={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return hi(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):hi(t+1,2)},d(n,e){return hi(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return hi(n.getHours()%12||12,e.length)},H(n,e){return hi(n.getHours(),e.length)},m(n,e){return hi(n.getMinutes(),e.length)},s(n,e){return hi(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return hi(i,e.length)}},t_={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eee={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return W0.y(n,e)},Y:function(n,e,t,r){const i=_0e(n,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return hi(s,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):hi(a,e.length)},R:function(n,e){const t=m0e(n);return hi(t,e.length)},u:function(n,e){const t=n.getFullYear();return hi(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return hi(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return hi(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return W0.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return hi(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=sJe(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):hi(i,e.length)},I:function(n,e,t){const r=iJe(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):hi(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):W0.d(n,e)},D:function(n,e,t){const r=rJe(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):hi(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return hi(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return hi(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return hi(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=t_.noon:r===0?i=t_.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=t_.evening:r>=12?i=t_.afternoon:r>=4?i=t_.morning:i=t_.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return W0.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):W0.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):hi(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):hi(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):W0.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):W0.s(n,e)},S:function(n,e){return W0.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return nee(r);case"XXXX":case"XX":return Xg(r);case"XXXXX":case"XXX":default:return Xg(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return nee(r);case"xxxx":case"xx":return Xg(r);case"xxxxx":case"xxx":default:return Xg(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+tee(r,":");case"OOOO":default:return"GMT"+Xg(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+tee(r,":");case"zzzz":default:return"GMT"+Xg(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return hi(r,e.length)},T:function(n,e,t){return hi(+n,e.length)}};function tee(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+e+hi(a,2)}function nee(n,e){return n%60===0?(n>0?"-":"+")+hi(Math.abs(n)/60,2):Xg(n,e)}function Xg(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=hi(Math.trunc(r/60),2),a=hi(r%60,2);return t+i+e+a}const ree=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},b0e=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},oJe=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return ree(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",ree(r,e)).replace("{{time}}",b0e(i,e))},lJe={p:b0e,P:oJe},uJe=/^D+$/,cJe=/^Y+$/,fJe=["D","DD","YY","YYYY"];function dJe(n){return uJe.test(n)}function hJe(n){return cJe.test(n)}function pJe(n,e,t){const r=vJe(n,e,t);if(console.warn(r),fJe.includes(n))throw new RangeError(r)}function vJe(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mJe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gJe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yJe=/^'([^]*?)'?$/,xJe=/''/g,_Je=/[a-zA-Z]/;function fu(n,e,t){var c,f,d,h;const r=mM(),i=r.locale??nJe,a=r.firstWeekContainsDate??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,s=r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,o=Uo(n,t==null?void 0:t.in);if(!b$e(o))throw new RangeError("Invalid time value");let l=e.match(gJe).map(p=>{const m=p[0];if(m==="p"||m==="P"){const g=lJe[m];return g(p,i.formatLong)}return p}).join("").match(mJe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:bJe(p)};if(eee[m])return{isToken:!0,value:p};if(m.match(_Je))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(p=>{if(!p.isToken)return p.value;const m=p.value;(hJe(m)||dJe(m))&&pJe(m,e,String(n));const g=eee[m[0]];return g(o,m,i.localize,u)}).join("")}function bJe(n){const e=n.match(yJe);return e?e[1].replace(xJe,"'"):n}function S0e(n,e,t){const[r,i]=VL(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function w0e(n,e,t){return Q7(n,-1,t)}const SJe=({tasks:n,isLoading:e,onAddTask:t})=>{const[r,i]=de.useState(new Date),a=()=>i(Q7(r,1)),s=()=>i(w0e(r)),o=()=>i(new Date),l=x0e(r),u=g0e(l),c=Hv(l),f=wz(u),d=y0e({start:c,end:f}),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=m=>n.filter(g=>g.dueDate?zI(new Date(g.dueDate),m):!1);return e?C.jsx("div",{className:"flex-1 flex items-center justify-center",children:"Loading calendar..."}):C.jsxs("div",{className:"flex-1 flex flex-col bg-white overflow-hidden h-full",children:[C.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsx("h2",{className:"text-xl font-bold text-gray-800",children:fu(r,"MMMM yyyy")}),C.jsxs("div",{className:"flex items-center bg-gray-100 rounded-md p-0.5",children:[C.jsx("button",{onClick:s,className:"p-1 hover:bg-white rounded shadow-sm transition-all",children:C.jsx(yC,{size:16,className:"text-gray-600"})}),C.jsx("button",{onClick:o,className:"px-3 py-1 text-xs font-medium text-gray-600 hover:bg-white rounded shadow-sm transition-all mx-1",children:"Today"}),C.jsx("button",{onClick:a,className:"p-1 hover:bg-white rounded shadow-sm transition-all",children:C.jsx(dc,{size:16,className:"text-gray-600"})})]})]}),C.jsxs("button",{onClick:t,className:"px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors flex items-center",children:[C.jsx(li,{size:16,className:"mr-2"})," Add Task"]})]}),C.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto",children:[C.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:h.map(m=>C.jsx("div",{className:"py-2 text-center text-xs font-semibold text-gray-400 uppercase",children:m},m))}),C.jsx("div",{className:"grid grid-cols-7 flex-1 auto-rows-fr bg-gray-200 gap-px border-b border-gray-200",children:d.map((m,g)=>{const y=p(m),_=S0e(m,l),S=zI(m,new Date);return C.jsxs("div",{className:`bg-white min-h-[100px] p-2 flex flex-col group relative hover:bg-gray-50 transition-colors ${_?"":"bg-gray-50/50 text-gray-400"}`,onClick:()=>{},children:[C.jsxs("div",{className:"flex items-center justify-between mb-1",children:[C.jsx("span",{className:`text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full ${S?"bg-clickup-purple text-white shadow-md":"text-gray-700"}`,children:fu(m,"d")}),C.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 rounded text-gray-400 transition-opacity",children:C.jsx(li,{size:12})})]}),C.jsx("div",{className:"flex-1 flex flex-col gap-1 overflow-y-auto custom-scrollbar",children:y.map(A=>C.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium truncate border-l-2 shadow-sm cursor-pointer hover:opacity-80 transition-opacity bg-white border-gray-200",style:{borderLeftColor:kL[A.status]},children:A.title},A.id))})]},m.toString())})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wJe,TJe;function CJe(){return{geminiUrl:wJe,vertexUrl:TJe}}function AJe(n,e,t,r){var i,a;if(!(n!=null&&n.baseUrl)){const s=CJe();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:t:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zp{}function an(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function F(n,e,t){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const c=l[u];F(c,e.slice(a+1),t[u])}else for(const u of l)F(u,e.slice(a+1),t)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];F(l[0],e.slice(a+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function P(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in n){const s=n[a];return Array.isArray(s)?s.map(o=>P(o,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function MJe(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),a=r.split("."),s=new Set;let o=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){o=l;break}if(o!==-1&&a.length>o)for(let l=o;l<a.length;l++){const u=a[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}Tz(n,i,a,0,s)}}function Tz(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),o=n;if(s in o&&Array.isArray(o[s]))for(const l of o[s])Tz(l,e,t,r+1,i)}else if(a==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const s=n,o=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of o)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const d of t.slice(r))d==="*"?f.push(u):f.push(d);F(s,f,c)}for(const u of o)delete s[u]}}else{const s=n;a in s&&Tz(s[a],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eG(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EJe(n){const e={},t=P(n,["operationName"]);t!=null&&F(e,["operationName"],t);const r=P(n,["resourceName"]);return r!=null&&F(e,["_url","resourceName"],r),e}function DJe(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["metadata"]);r!=null&&F(e,["metadata"],r);const i=P(n,["done"]);i!=null&&F(e,["done"],i);const a=P(n,["error"]);a!=null&&F(e,["error"],a);const s=P(n,["response","generateVideoResponse"]);return s!=null&&F(e,["response"],NJe(s)),e}function RJe(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["metadata"]);r!=null&&F(e,["metadata"],r);const i=P(n,["done"]);i!=null&&F(e,["done"],i);const a=P(n,["error"]);a!=null&&F(e,["error"],a);const s=P(n,["response"]);return s!=null&&F(e,["response"],IJe(s)),e}function NJe(n){const e={},t=P(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>kJe(s))),F(e,["generatedVideos"],a)}const r=P(n,["raiMediaFilteredCount"]);r!=null&&F(e,["raiMediaFilteredCount"],r);const i=P(n,["raiMediaFilteredReasons"]);return i!=null&&F(e,["raiMediaFilteredReasons"],i),e}function IJe(n){const e={},t=P(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>LJe(s))),F(e,["generatedVideos"],a)}const r=P(n,["raiMediaFilteredCount"]);r!=null&&F(e,["raiMediaFilteredCount"],r);const i=P(n,["raiMediaFilteredReasons"]);return i!=null&&F(e,["raiMediaFilteredReasons"],i),e}function kJe(n){const e={},t=P(n,["video"]);return t!=null&&F(e,["video"],UJe(t)),e}function LJe(n){const e={},t=P(n,["_self"]);return t!=null&&F(e,["video"],VJe(t)),e}function PJe(n){const e={},t=P(n,["operationName"]);return t!=null&&F(e,["_url","operationName"],t),e}function OJe(n){const e={},t=P(n,["operationName"]);return t!=null&&F(e,["_url","operationName"],t),e}function FJe(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["metadata"]);r!=null&&F(e,["metadata"],r);const i=P(n,["done"]);i!=null&&F(e,["done"],i);const a=P(n,["error"]);a!=null&&F(e,["error"],a);const s=P(n,["response"]);return s!=null&&F(e,["response"],BJe(s)),e}function BJe(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["parent"]);r!=null&&F(e,["parent"],r);const i=P(n,["documentName"]);return i!=null&&F(e,["documentName"],i),e}function T0e(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["metadata"]);r!=null&&F(e,["metadata"],r);const i=P(n,["done"]);i!=null&&F(e,["done"],i);const a=P(n,["error"]);a!=null&&F(e,["error"],a);const s=P(n,["response"]);return s!=null&&F(e,["response"],zJe(s)),e}function zJe(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["parent"]);r!=null&&F(e,["parent"],r);const i=P(n,["documentName"]);return i!=null&&F(e,["documentName"],i),e}function UJe(n){const e={},t=P(n,["uri"]);t!=null&&F(e,["uri"],t);const r=P(n,["encodedVideo"]);r!=null&&F(e,["videoBytes"],eG(r));const i=P(n,["encoding"]);return i!=null&&F(e,["mimeType"],i),e}function VJe(n){const e={},t=P(n,["gcsUri"]);t!=null&&F(e,["uri"],t);const r=P(n,["bytesBase64Encoded"]);r!=null&&F(e,["videoBytes"],eG(r));const i=P(n,["mimeType"]);return i!=null&&F(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var iee;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(iee||(iee={}));var aee;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(aee||(aee={}));var see;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(see||(see={}));var dl;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(dl||(dl={}));var oee;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(oee||(oee={}));var lee;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(lee||(lee={}));var uee;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(uee||(uee={}));var cee;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(cee||(cee={}));var fee;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(fee||(fee={}));var dee;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(dee||(dee={}));var hee;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(hee||(hee={}));var pee;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(pee||(pee={}));var vee;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(vee||(vee={}));var mee;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(mee||(mee={}));var gee;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(gee||(gee={}));var yee;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(yee||(yee={}));var xee;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xee||(xee={}));var _ee;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(_ee||(_ee={}));var bee;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bee||(bee={}));var UI;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(UI||(UI={}));var See;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(See||(See={}));var wee;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(wee||(wee={}));var Tee;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Tee||(Tee={}));var Cz;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cz||(Cz={}));var Cee;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Cee||(Cee={}));var Aee;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Aee||(Aee={}));var Mee;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Mee||(Mee={}));var Eee;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Eee||(Eee={}));var Dee;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Dee||(Dee={}));var Ree;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ree||(Ree={}));var Nee;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Nee||(Nee={}));var Iee;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Iee||(Iee={}));var kee;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(kee||(kee={}));var Lee;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Lee||(Lee={}));var Pee;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Pee||(Pee={}));var Oee;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Oee||(Oee={}));var Fee;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Fee||(Fee={}));var Bee;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Bee||(Bee={}));var zee;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(zee||(zee={}));var Uee;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Uee||(Uee={}));var Vee;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Vee||(Vee={}));var Gee;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Gee||(Gee={}));var Hee;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Hee||(Hee={}));var jee;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(jee||(jee={}));var Wee;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Wee||(Wee={}));var Yee;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Yee||(Yee={}));var qee;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(qee||(qee={}));var Xee;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Xee||(Xee={}));var Zee;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Zee||(Zee={}));var Kee;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Kee||(Kee={}));var $ee;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})($ee||($ee={}));var Jee;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Jee||(Jee={}));var Qee;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Qee||(Qee={}));var ete;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(ete||(ete={}));var z_;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(z_||(z_={}));class Az{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Hw{get text(){var e,t,r,i,a,s,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const d of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(d))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(p!==null||p!==void 0)&&f.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;c=!0,u+=d.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,t,r,i,a,s,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[d,h]of Object.entries(f))d!=="inlineData"&&(h!==null||h!==void 0)&&c.push(d);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,r,i,a,s,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,r,i,a,s,o,l,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,r,i,a,s,o,l,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class tte{}class nte{}class GJe{}class HJe{}class jJe{}class WJe{}class rte{}class ite{}class ate{}class YJe{}class VI{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new VI;let i;const a=e;return t?i=RJe(a):i=DJe(a),Object.assign(r,i),r}}class ste{}class ote{}class lte{}class qJe{}class XJe{}class ZJe{}class tG{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new tG,a=FJe(e);return Object.assign(r,a),r}}class KJe{}class $Je{}class JJe{}class ute{}class QJe{get text(){var e,t,r;let i="",a=!1;const s=[];for(const o of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,t,r;let i="";const a=[];for(const s of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(s))o!=="inlineData"&&l!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class eQe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class nG{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new nG,a=T0e(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qr(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function C0e(n,e){const t=Qr(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function A0e(n){return Array.isArray(n)?n.map(e=>GI(e)):[GI(n)]}function GI(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function M0e(n){const e=GI(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function E0e(n){const e=GI(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cte(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function D0e(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>cte(e)):[cte(n)]}function Mz(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function fte(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function dte(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ro(n){if(n==null)throw new Error("ContentUnion is required");return Mz(n)?n:{role:"user",parts:D0e(n)}}function rG(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=Ro(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=Ro(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ro(t)):[Ro(e)]}function _c(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(fte(n)||dte(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ro(n)]}const e=[],t=[],r=Mz(n[0]);for(const i of n){const a=Mz(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(fte(i)||dte(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:D0e(t)}),e}function tQe(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(dl).includes(t[0].toUpperCase())?t[0].toUpperCase():dl.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(dl).includes(r.toUpperCase())?r.toUpperCase():dl.TYPE_UNSPECIFIED})}}function sb(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=n.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,n=a[1]):a[1].type==="null"&&(e.nullable=!0,n=a[0])),n.type instanceof Array&&tQe(n.type,e);for(const[s,o]of Object.entries(n))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(dl).includes(o.toUpperCase())?o.toUpperCase():dl.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=sb(o);else if(r.includes(s)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(sb(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(o))l[u]=sb(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=o}return e}function iG(n){return sb(n)}function aG(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function sG(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function SS(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=sb(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=sb(e.response));return n}function wS(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function nQe(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Kp(n,e){if(typeof e!="string")throw new Error("name must be a string");return nQe(n,e,"cachedContents")}function R0e(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function rm(n){return eG(n)}function rQe(n){return n!=null&&typeof n=="object"&&"name"in n}function iQe(n){return n!=null&&typeof n=="object"&&"video"in n}function aQe(n){return n!=null&&typeof n=="object"&&"uri"in n}function N0e(n){var e;let t;if(rQe(n)&&(t=n.name),!(aQe(n)&&(t=n.uri,t===void 0))&&!(iQe(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function I0e(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function k0e(n){for(const e of["models","tunedModels","publisherModels"])if(sQe(n,e))return n[e];return[]}function sQe(n,e){return n!==null&&typeof n=="object"&&e in n}function oQe(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function lQe(n,e={}){const t=[],r=new Set;for(const i of n){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=oQe(i,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function L0e(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function uQe(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function P0e(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function TS(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function O0e(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cQe(n){const e={},t=P(n,["responsesFile"]);t!=null&&F(e,["fileName"],t);const r=P(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>jQe(s))),F(e,["inlinedResponses"],a)}const i=P(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),F(e,["inlinedEmbedContentResponses"],a)}return e}function fQe(n){const e={},t=P(n,["predictionsFormat"]);t!=null&&F(e,["format"],t);const r=P(n,["gcsDestination","outputUriPrefix"]);r!=null&&F(e,["gcsUri"],r);const i=P(n,["bigqueryDestination","outputUri"]);return i!=null&&F(e,["bigqueryUri"],i),e}function dQe(n){const e={},t=P(n,["format"]);t!=null&&F(e,["predictionsFormat"],t);const r=P(n,["gcsUri"]);r!=null&&F(e,["gcsDestination","outputUriPrefix"],r);const i=P(n,["bigqueryUri"]);if(i!=null&&F(e,["bigqueryDestination","outputUri"],i),P(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(P(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(P(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $R(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["metadata","displayName"]);r!=null&&F(e,["displayName"],r);const i=P(n,["metadata","state"]);i!=null&&F(e,["state"],O0e(i));const a=P(n,["metadata","createTime"]);a!=null&&F(e,["createTime"],a);const s=P(n,["metadata","endTime"]);s!=null&&F(e,["endTime"],s);const o=P(n,["metadata","updateTime"]);o!=null&&F(e,["updateTime"],o);const l=P(n,["metadata","model"]);l!=null&&F(e,["model"],l);const u=P(n,["metadata","output"]);return u!=null&&F(e,["dest"],cQe(P0e(u))),e}function Ez(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["displayName"]);r!=null&&F(e,["displayName"],r);const i=P(n,["state"]);i!=null&&F(e,["state"],O0e(i));const a=P(n,["error"]);a!=null&&F(e,["error"],a);const s=P(n,["createTime"]);s!=null&&F(e,["createTime"],s);const o=P(n,["startTime"]);o!=null&&F(e,["startTime"],o);const l=P(n,["endTime"]);l!=null&&F(e,["endTime"],l);const u=P(n,["updateTime"]);u!=null&&F(e,["updateTime"],u);const c=P(n,["model"]);c!=null&&F(e,["model"],c);const f=P(n,["inputConfig"]);f!=null&&F(e,["src"],hQe(f));const d=P(n,["outputConfig"]);d!=null&&F(e,["dest"],fQe(P0e(d)));const h=P(n,["completionStats"]);return h!=null&&F(e,["completionStats"],h),e}function hQe(n){const e={},t=P(n,["instancesFormat"]);t!=null&&F(e,["format"],t);const r=P(n,["gcsSource","uris"]);r!=null&&F(e,["gcsUri"],r);const i=P(n,["bigquerySource","inputUri"]);return i!=null&&F(e,["bigqueryUri"],i),e}function pQe(n,e){const t={};if(P(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(P(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(P(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=P(e,["fileName"]);r!=null&&F(t,["fileName"],r);const i=P(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>HQe(n,s))),F(t,["requests","requests"],a)}return t}function vQe(n){const e={},t=P(n,["format"]);t!=null&&F(e,["instancesFormat"],t);const r=P(n,["gcsUri"]);r!=null&&F(e,["gcsSource","uris"],r);const i=P(n,["bigqueryUri"]);if(i!=null&&F(e,["bigquerySource","inputUri"],i),P(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(P(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mQe(n){const e={},t=P(n,["data"]);if(t!=null&&F(e,["data"],t),P(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function gQe(n,e){const t={},r=P(e,["name"]);return r!=null&&F(t,["_url","name"],TS(n,r)),t}function yQe(n,e){const t={},r=P(e,["name"]);return r!=null&&F(t,["_url","name"],TS(n,r)),t}function xQe(n){const e={},t=P(n,["content"]);t!=null&&F(e,["content"],t);const r=P(n,["citationMetadata"]);r!=null&&F(e,["citationMetadata"],_Qe(r));const i=P(n,["tokenCount"]);i!=null&&F(e,["tokenCount"],i);const a=P(n,["finishReason"]);a!=null&&F(e,["finishReason"],a);const s=P(n,["avgLogprobs"]);s!=null&&F(e,["avgLogprobs"],s);const o=P(n,["groundingMetadata"]);o!=null&&F(e,["groundingMetadata"],o);const l=P(n,["index"]);l!=null&&F(e,["index"],l);const u=P(n,["logprobsResult"]);u!=null&&F(e,["logprobsResult"],u);const c=P(n,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),F(e,["safetyRatings"],d)}const f=P(n,["urlContextMetadata"]);return f!=null&&F(e,["urlContextMetadata"],f),e}function _Qe(n){const e={},t=P(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),F(e,["citations"],r)}return e}function F0e(n){const e={},t=P(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>$Qe(a))),F(e,["parts"],i)}const r=P(n,["role"]);return r!=null&&F(e,["role"],r),e}function bQe(n,e){const t={},r=P(n,["displayName"]);if(e!==void 0&&r!=null&&F(e,["batch","displayName"],r),P(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function SQe(n,e){const t={},r=P(n,["displayName"]);e!==void 0&&r!=null&&F(e,["displayName"],r);const i=P(n,["dest"]);return e!==void 0&&i!=null&&F(e,["outputConfig"],dQe(uQe(i))),t}function hte(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["src"]);i!=null&&F(t,["batch","inputConfig"],pQe(n,L0e(n,i)));const a=P(e,["config"]);return a!=null&&bQe(a,t),t}function wQe(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["model"],Qr(n,r));const i=P(e,["src"]);i!=null&&F(t,["inputConfig"],vQe(L0e(n,i)));const a=P(e,["config"]);return a!=null&&SQe(a,t),t}function TQe(n,e){const t={},r=P(n,["displayName"]);return e!==void 0&&r!=null&&F(e,["batch","displayName"],r),t}function CQe(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["src"]);i!=null&&F(t,["batch","inputConfig"],IQe(n,i));const a=P(e,["config"]);return a!=null&&TQe(a,t),t}function AQe(n,e){const t={},r=P(e,["name"]);return r!=null&&F(t,["_url","name"],TS(n,r)),t}function MQe(n,e){const t={},r=P(e,["name"]);return r!=null&&F(t,["_url","name"],TS(n,r)),t}function EQe(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["name"]);r!=null&&F(e,["name"],r);const i=P(n,["done"]);i!=null&&F(e,["done"],i);const a=P(n,["error"]);return a!=null&&F(e,["error"],a),e}function DQe(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["name"]);r!=null&&F(e,["name"],r);const i=P(n,["done"]);i!=null&&F(e,["done"],i);const a=P(n,["error"]);return a!=null&&F(e,["error"],a),e}function RQe(n,e){const t={},r=P(e,["contents"]);if(r!=null){let a=rG(n,r);Array.isArray(a)&&(a=a.map(s=>s)),F(t,["requests[]","request","content"],a)}const i=P(e,["config"]);return i!=null&&(F(t,["_self"],NQe(i,t)),MJe(t,{"requests[].*":"requests[].request.*"})),t}function NQe(n,e){const t={},r=P(n,["taskType"]);e!==void 0&&r!=null&&F(e,["requests[]","taskType"],r);const i=P(n,["title"]);e!==void 0&&i!=null&&F(e,["requests[]","title"],i);const a=P(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&F(e,["requests[]","outputDimensionality"],a),P(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(P(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function IQe(n,e){const t={},r=P(e,["fileName"]);r!=null&&F(t,["file_name"],r);const i=P(e,["inlinedRequests"]);return i!=null&&F(t,["requests"],RQe(n,i)),t}function kQe(n){const e={};if(P(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=P(n,["fileUri"]);t!=null&&F(e,["fileUri"],t);const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function LQe(n){const e={},t=P(n,["id"]);t!=null&&F(e,["id"],t);const r=P(n,["args"]);r!=null&&F(e,["args"],r);const i=P(n,["name"]);if(i!=null&&F(e,["name"],i),P(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(P(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PQe(n){const e={},t=P(n,["mode"]);t!=null&&F(e,["mode"],t);const r=P(n,["allowedFunctionNames"]);if(r!=null&&F(e,["allowedFunctionNames"],r),P(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function OQe(n,e,t){const r={},i=P(e,["systemInstruction"]);t!==void 0&&i!=null&&F(t,["systemInstruction"],F0e(Ro(i)));const a=P(e,["temperature"]);a!=null&&F(r,["temperature"],a);const s=P(e,["topP"]);s!=null&&F(r,["topP"],s);const o=P(e,["topK"]);o!=null&&F(r,["topK"],o);const l=P(e,["candidateCount"]);l!=null&&F(r,["candidateCount"],l);const u=P(e,["maxOutputTokens"]);u!=null&&F(r,["maxOutputTokens"],u);const c=P(e,["stopSequences"]);c!=null&&F(r,["stopSequences"],c);const f=P(e,["responseLogprobs"]);f!=null&&F(r,["responseLogprobs"],f);const d=P(e,["logprobs"]);d!=null&&F(r,["logprobs"],d);const h=P(e,["presencePenalty"]);h!=null&&F(r,["presencePenalty"],h);const p=P(e,["frequencyPenalty"]);p!=null&&F(r,["frequencyPenalty"],p);const m=P(e,["seed"]);m!=null&&F(r,["seed"],m);const g=P(e,["responseMimeType"]);g!=null&&F(r,["responseMimeType"],g);const y=P(e,["responseSchema"]);y!=null&&F(r,["responseSchema"],iG(y));const _=P(e,["responseJsonSchema"]);if(_!=null&&F(r,["responseJsonSchema"],_),P(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(P(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=P(e,["safetySettings"]);if(t!==void 0&&S!=null){let O=S;Array.isArray(O)&&(O=O.map(G=>JQe(G))),F(t,["safetySettings"],O)}const A=P(e,["tools"]);if(t!==void 0&&A!=null){let O=wS(A);Array.isArray(O)&&(O=O.map(G=>eet(SS(G)))),F(t,["tools"],O)}const M=P(e,["toolConfig"]);if(t!==void 0&&M!=null&&F(t,["toolConfig"],QQe(M)),P(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=P(e,["cachedContent"]);t!==void 0&&E!=null&&F(t,["cachedContent"],Kp(n,E));const D=P(e,["responseModalities"]);D!=null&&F(r,["responseModalities"],D);const I=P(e,["mediaResolution"]);I!=null&&F(r,["mediaResolution"],I);const N=P(e,["speechConfig"]);if(N!=null&&F(r,["speechConfig"],aG(N)),P(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=P(e,["thinkingConfig"]);L!=null&&F(r,["thinkingConfig"],L);const B=P(e,["imageConfig"]);return B!=null&&F(r,["imageConfig"],GQe(B)),r}function FQe(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>xQe(u))),F(e,["candidates"],l)}const i=P(n,["modelVersion"]);i!=null&&F(e,["modelVersion"],i);const a=P(n,["promptFeedback"]);a!=null&&F(e,["promptFeedback"],a);const s=P(n,["responseId"]);s!=null&&F(e,["responseId"],s);const o=P(n,["usageMetadata"]);return o!=null&&F(e,["usageMetadata"],o),e}function BQe(n,e){const t={},r=P(e,["name"]);return r!=null&&F(t,["_url","name"],TS(n,r)),t}function zQe(n,e){const t={},r=P(e,["name"]);return r!=null&&F(t,["_url","name"],TS(n,r)),t}function UQe(n){const e={};if(P(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=P(n,["enableWidget"]);return t!=null&&F(e,["enableWidget"],t),e}function VQe(n){const e={};if(P(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(P(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=P(n,["timeRangeFilter"]);return t!=null&&F(e,["timeRangeFilter"],t),e}function GQe(n){const e={},t=P(n,["aspectRatio"]);t!=null&&F(e,["aspectRatio"],t);const r=P(n,["imageSize"]);if(r!=null&&F(e,["imageSize"],r),P(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(P(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function HQe(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["request","model"],Qr(n,r));const i=P(e,["contents"]);if(i!=null){let o=_c(i);Array.isArray(o)&&(o=o.map(l=>F0e(l))),F(t,["request","contents"],o)}const a=P(e,["metadata"]);a!=null&&F(t,["metadata"],a);const s=P(e,["config"]);return s!=null&&F(t,["request","generationConfig"],OQe(n,s,P(t,["request"],{}))),t}function jQe(n){const e={},t=P(n,["response"]);t!=null&&F(e,["response"],FQe(t));const r=P(n,["error"]);return r!=null&&F(e,["error"],r),e}function WQe(n,e){const t={},r=P(n,["pageSize"]);e!==void 0&&r!=null&&F(e,["_query","pageSize"],r);const i=P(n,["pageToken"]);if(e!==void 0&&i!=null&&F(e,["_query","pageToken"],i),P(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function YQe(n,e){const t={},r=P(n,["pageSize"]);e!==void 0&&r!=null&&F(e,["_query","pageSize"],r);const i=P(n,["pageToken"]);e!==void 0&&i!=null&&F(e,["_query","pageToken"],i);const a=P(n,["filter"]);return e!==void 0&&a!=null&&F(e,["_query","filter"],a),t}function qQe(n){const e={},t=P(n,["config"]);return t!=null&&WQe(t,e),e}function XQe(n){const e={},t=P(n,["config"]);return t!=null&&YQe(t,e),e}function ZQe(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["nextPageToken"]);r!=null&&F(e,["nextPageToken"],r);const i=P(n,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>$R(s))),F(e,["batchJobs"],a)}return e}function KQe(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["nextPageToken"]);r!=null&&F(e,["nextPageToken"],r);const i=P(n,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Ez(s))),F(e,["batchJobs"],a)}return e}function $Qe(n){const e={},t=P(n,["mediaResolution"]);t!=null&&F(e,["mediaResolution"],t);const r=P(n,["codeExecutionResult"]);r!=null&&F(e,["codeExecutionResult"],r);const i=P(n,["executableCode"]);i!=null&&F(e,["executableCode"],i);const a=P(n,["fileData"]);a!=null&&F(e,["fileData"],kQe(a));const s=P(n,["functionCall"]);s!=null&&F(e,["functionCall"],LQe(s));const o=P(n,["functionResponse"]);o!=null&&F(e,["functionResponse"],o);const l=P(n,["inlineData"]);l!=null&&F(e,["inlineData"],mQe(l));const u=P(n,["text"]);u!=null&&F(e,["text"],u);const c=P(n,["thought"]);c!=null&&F(e,["thought"],c);const f=P(n,["thoughtSignature"]);f!=null&&F(e,["thoughtSignature"],f);const d=P(n,["videoMetadata"]);return d!=null&&F(e,["videoMetadata"],d),e}function JQe(n){const e={},t=P(n,["category"]);if(t!=null&&F(e,["category"],t),P(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=P(n,["threshold"]);return r!=null&&F(e,["threshold"],r),e}function QQe(n){const e={},t=P(n,["functionCallingConfig"]);t!=null&&F(e,["functionCallingConfig"],PQe(t));const r=P(n,["retrievalConfig"]);return r!=null&&F(e,["retrievalConfig"],r),e}function eet(n){const e={},t=P(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(f=>f)),F(e,["functionDeclarations"],c)}if(P(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=P(n,["googleSearchRetrieval"]);r!=null&&F(e,["googleSearchRetrieval"],r);const i=P(n,["computerUse"]);i!=null&&F(e,["computerUse"],i);const a=P(n,["fileSearch"]);a!=null&&F(e,["fileSearch"],a);const s=P(n,["codeExecution"]);if(s!=null&&F(e,["codeExecution"],s),P(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=P(n,["googleMaps"]);o!=null&&F(e,["googleMaps"],UQe(o));const l=P(n,["googleSearch"]);l!=null&&F(e,["googleSearch"],VQe(l));const u=P(n,["urlContext"]);return u!=null&&F(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bp;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Bp||(Bp={}));class px{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tet extends Zp{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new px(Bp.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=hte(this.apiClient,e),r=t._url,i=an("{model}:batchGenerateContent",r),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const d=f.systemInstruction;delete f.systemInstruction;const h=f.request;h.systemInstruction=d,f.request=h}u.push(f)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=wQe(this.apiClient,e);return o=an("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ez(c))}else{const u=hte(this.apiClient,e);return o=an("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>$R(c))}}async createEmbeddingsInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=CQe(this.apiClient,e);return a=an("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>$R(l))}}async get(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=zQe(this.apiClient,e);return o=an("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ez(c))}else{const u=BQe(this.apiClient,e);return o=an("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>$R(c))}}async cancel(e){var t,r,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const l=yQe(this.apiClient,e);s=an("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=gQe(this.apiClient,e);s=an("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=XQe(e);return o=an("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=KQe(c),d=new ute;return Object.assign(d,f),d})}else{const u=qQe(e);return o=an("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=ZQe(c),d=new ute;return Object.assign(d,f),d})}}async delete(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=MQe(this.apiClient,e);return o=an("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>DQe(c))}else{const u=AQe(this.apiClient,e);return o=an("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>EQe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function net(n){const e={},t=P(n,["data"]);if(t!=null&&F(e,["data"],t),P(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function pte(n){const e={},t=P(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>Met(a))),F(e,["parts"],i)}const r=P(n,["role"]);return r!=null&&F(e,["role"],r),e}function ret(n,e){const t={},r=P(n,["ttl"]);e!==void 0&&r!=null&&F(e,["ttl"],r);const i=P(n,["expireTime"]);e!==void 0&&i!=null&&F(e,["expireTime"],i);const a=P(n,["displayName"]);e!==void 0&&a!=null&&F(e,["displayName"],a);const s=P(n,["contents"]);if(e!==void 0&&s!=null){let c=_c(s);Array.isArray(c)&&(c=c.map(f=>pte(f))),F(e,["contents"],c)}const o=P(n,["systemInstruction"]);e!==void 0&&o!=null&&F(e,["systemInstruction"],pte(Ro(o)));const l=P(n,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Det(f))),F(e,["tools"],c)}const u=P(n,["toolConfig"]);if(e!==void 0&&u!=null&&F(e,["toolConfig"],Eet(u)),P(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function iet(n,e){const t={},r=P(n,["ttl"]);e!==void 0&&r!=null&&F(e,["ttl"],r);const i=P(n,["expireTime"]);e!==void 0&&i!=null&&F(e,["expireTime"],i);const a=P(n,["displayName"]);e!==void 0&&a!=null&&F(e,["displayName"],a);const s=P(n,["contents"]);if(e!==void 0&&s!=null){let f=_c(s);Array.isArray(f)&&(f=f.map(d=>d)),F(e,["contents"],f)}const o=P(n,["systemInstruction"]);e!==void 0&&o!=null&&F(e,["systemInstruction"],Ro(o));const l=P(n,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(d=>Ret(d))),F(e,["tools"],f)}const u=P(n,["toolConfig"]);e!==void 0&&u!=null&&F(e,["toolConfig"],u);const c=P(n,["kmsKeyName"]);return e!==void 0&&c!=null&&F(e,["encryption_spec","kmsKeyName"],c),t}function aet(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["model"],C0e(n,r));const i=P(e,["config"]);return i!=null&&ret(i,t),t}function set(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["model"],C0e(n,r));const i=P(e,["config"]);return i!=null&&iet(i,t),t}function oet(n,e){const t={},r=P(e,["name"]);return r!=null&&F(t,["_url","name"],Kp(n,r)),t}function uet(n,e){const t={},r=P(e,["name"]);return r!=null&&F(t,["_url","name"],Kp(n,r)),t}function cet(n){const e={},t=P(n,["sdkHttpResponse"]);return t!=null&&F(e,["sdkHttpResponse"],t),e}function fet(n){const e={},t=P(n,["sdkHttpResponse"]);return t!=null&&F(e,["sdkHttpResponse"],t),e}function det(n){const e={};if(P(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=P(n,["fileUri"]);t!=null&&F(e,["fileUri"],t);const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function het(n){const e={},t=P(n,["id"]);t!=null&&F(e,["id"],t);const r=P(n,["args"]);r!=null&&F(e,["args"],r);const i=P(n,["name"]);if(i!=null&&F(e,["name"],i),P(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(P(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pet(n){const e={},t=P(n,["mode"]);t!=null&&F(e,["mode"],t);const r=P(n,["allowedFunctionNames"]);if(r!=null&&F(e,["allowedFunctionNames"],r),P(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vet(n){const e={};if(P(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=P(n,["description"]);t!=null&&F(e,["description"],t);const r=P(n,["name"]);r!=null&&F(e,["name"],r);const i=P(n,["parameters"]);i!=null&&F(e,["parameters"],i);const a=P(n,["parametersJsonSchema"]);a!=null&&F(e,["parametersJsonSchema"],a);const s=P(n,["response"]);s!=null&&F(e,["response"],s);const o=P(n,["responseJsonSchema"]);return o!=null&&F(e,["responseJsonSchema"],o),e}function met(n,e){const t={},r=P(e,["name"]);return r!=null&&F(t,["_url","name"],Kp(n,r)),t}function get(n,e){const t={},r=P(e,["name"]);return r!=null&&F(t,["_url","name"],Kp(n,r)),t}function yet(n){const e={};if(P(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=P(n,["enableWidget"]);return t!=null&&F(e,["enableWidget"],t),e}function xet(n){const e={};if(P(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(P(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=P(n,["timeRangeFilter"]);return t!=null&&F(e,["timeRangeFilter"],t),e}function _et(n,e){const t={},r=P(n,["pageSize"]);e!==void 0&&r!=null&&F(e,["_query","pageSize"],r);const i=P(n,["pageToken"]);return e!==void 0&&i!=null&&F(e,["_query","pageToken"],i),t}function bet(n,e){const t={},r=P(n,["pageSize"]);e!==void 0&&r!=null&&F(e,["_query","pageSize"],r);const i=P(n,["pageToken"]);return e!==void 0&&i!=null&&F(e,["_query","pageToken"],i),t}function wet(n){const e={},t=P(n,["config"]);return t!=null&&_et(t,e),e}function Tet(n){const e={},t=P(n,["config"]);return t!=null&&bet(t,e),e}function Cet(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["nextPageToken"]);r!=null&&F(e,["nextPageToken"],r);const i=P(n,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),F(e,["cachedContents"],a)}return e}function Aet(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["nextPageToken"]);r!=null&&F(e,["nextPageToken"],r);const i=P(n,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),F(e,["cachedContents"],a)}return e}function Met(n){const e={},t=P(n,["mediaResolution"]);t!=null&&F(e,["mediaResolution"],t);const r=P(n,["codeExecutionResult"]);r!=null&&F(e,["codeExecutionResult"],r);const i=P(n,["executableCode"]);i!=null&&F(e,["executableCode"],i);const a=P(n,["fileData"]);a!=null&&F(e,["fileData"],det(a));const s=P(n,["functionCall"]);s!=null&&F(e,["functionCall"],het(s));const o=P(n,["functionResponse"]);o!=null&&F(e,["functionResponse"],o);const l=P(n,["inlineData"]);l!=null&&F(e,["inlineData"],net(l));const u=P(n,["text"]);u!=null&&F(e,["text"],u);const c=P(n,["thought"]);c!=null&&F(e,["thought"],c);const f=P(n,["thoughtSignature"]);f!=null&&F(e,["thoughtSignature"],f);const d=P(n,["videoMetadata"]);return d!=null&&F(e,["videoMetadata"],d),e}function Eet(n){const e={},t=P(n,["functionCallingConfig"]);t!=null&&F(e,["functionCallingConfig"],pet(t));const r=P(n,["retrievalConfig"]);return r!=null&&F(e,["retrievalConfig"],r),e}function Det(n){const e={},t=P(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(f=>f)),F(e,["functionDeclarations"],c)}if(P(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=P(n,["googleSearchRetrieval"]);r!=null&&F(e,["googleSearchRetrieval"],r);const i=P(n,["computerUse"]);i!=null&&F(e,["computerUse"],i);const a=P(n,["fileSearch"]);a!=null&&F(e,["fileSearch"],a);const s=P(n,["codeExecution"]);if(s!=null&&F(e,["codeExecution"],s),P(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=P(n,["googleMaps"]);o!=null&&F(e,["googleMaps"],yet(o));const l=P(n,["googleSearch"]);l!=null&&F(e,["googleSearch"],xet(l));const u=P(n,["urlContext"]);return u!=null&&F(e,["urlContext"],u),e}function Ret(n){const e={},t=P(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(d=>vet(d))),F(e,["functionDeclarations"],f)}const r=P(n,["retrieval"]);r!=null&&F(e,["retrieval"],r);const i=P(n,["googleSearchRetrieval"]);i!=null&&F(e,["googleSearchRetrieval"],i);const a=P(n,["computerUse"]);if(a!=null&&F(e,["computerUse"],a),P(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=P(n,["codeExecution"]);s!=null&&F(e,["codeExecution"],s);const o=P(n,["enterpriseWebSearch"]);o!=null&&F(e,["enterpriseWebSearch"],o);const l=P(n,["googleMaps"]);l!=null&&F(e,["googleMaps"],l);const u=P(n,["googleSearch"]);u!=null&&F(e,["googleSearch"],u);const c=P(n,["urlContext"]);return c!=null&&F(e,["urlContext"],c),e}function Net(n,e){const t={},r=P(n,["ttl"]);e!==void 0&&r!=null&&F(e,["ttl"],r);const i=P(n,["expireTime"]);return e!==void 0&&i!=null&&F(e,["expireTime"],i),t}function Iet(n,e){const t={},r=P(n,["ttl"]);e!==void 0&&r!=null&&F(e,["ttl"],r);const i=P(n,["expireTime"]);return e!==void 0&&i!=null&&F(e,["expireTime"],i),t}function ket(n,e){const t={},r=P(e,["name"]);r!=null&&F(t,["_url","name"],Kp(n,r));const i=P(e,["config"]);return i!=null&&Net(i,t),t}function Let(n,e){const t={},r=P(e,["name"]);r!=null&&F(t,["_url","name"],Kp(n,r));const i=P(e,["config"]);return i!=null&&Iet(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pet extends Zp{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new px(Bp.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=set(this.apiClient,e);return o=an("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=aet(this.apiClient,e);return o=an("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=get(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=met(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=uet(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=fet(c),d=new ote;return Object.assign(d,f),d})}else{const u=oet(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=cet(c),d=new ote;return Object.assign(d,f),d})}}async update(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Let(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=ket(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Tet(e);return o=an("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Aet(c),d=new lte;return Object.assign(d,f),d})}else{const u=wet(e);return o=an("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Cet(c),d=new lte;return Object.assign(d,f),d})}}}function vte(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ki(n){return this instanceof ki?(this.v=n,this):new ki(n)}function ob(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,f)}}function o(h,p){r[h]&&(i[h]=function(m){return new Promise(function(g,y){a.push([h,m,g,y])>1||l(h,m)})},p&&(i[h]=p(i[h])))}function l(h,p){try{u(r[h](p))}catch(m){d(a[0][3],m)}}function u(h){h.value instanceof ki?Promise.resolve(h.value.v).then(c,f):d(a[0][2],h)}function c(h){l("next",h)}function f(h){l("throw",h)}function d(h,p){h(p),a.shift(),a.length&&l(a[0][0],a[0][1])}}function nC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vte=="function"?vte(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(s){return new Promise(function(o,l){s=n[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(u){a({value:u,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oet(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:B0e(t)}function B0e(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Fet(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function mte(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let a=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),a&&!B0e(n[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Bet{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new zet(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zet{constructor(e,t,r,i={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Fet(a)}async sendMessage(e){var t;await this.sendPromise;const r=Ro(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var a,s,o;const l=await i,u=(s=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let d=[];c!=null&&(d=(o=c.slice(f))!==null&&o!==void 0?o:[]);const h=u?[u]:[];this.recordHistory(r,h,d)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=Ro(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const t=e?mte(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var r,i;return ob(this,arguments,function*(){var s,o,l,u;const c=[];try{for(var f=!0,d=nC(e),h;h=yield ki(d.next()),s=h.done,!s;f=!0){u=h.value,f=!1;const p=u;if(Oet(p)){const m=(i=(r=p.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;m!==void 0&&c.push(m)}yield yield ki(p)}}catch(p){o={error:p}}finally{try{!f&&!s&&(l=d.return)&&(yield ki(l.call(d)))}finally{if(o)throw o.error}}this.recordHistory(t,c)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(a=>a.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...mte(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GL extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,GL.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uet(n){const e={},t=P(n,["file"]);return t!=null&&F(e,["file"],t),e}function Vet(n){const e={},t=P(n,["sdkHttpResponse"]);return t!=null&&F(e,["sdkHttpResponse"],t),e}function Get(n){const e={},t=P(n,["name"]);return t!=null&&F(e,["_url","file"],N0e(t)),e}function Het(n){const e={},t=P(n,["sdkHttpResponse"]);return t!=null&&F(e,["sdkHttpResponse"],t),e}function jet(n){const e={},t=P(n,["name"]);return t!=null&&F(e,["_url","file"],N0e(t)),e}function Wet(n,e){const t={},r=P(n,["pageSize"]);e!==void 0&&r!=null&&F(e,["_query","pageSize"],r);const i=P(n,["pageToken"]);return e!==void 0&&i!=null&&F(e,["_query","pageToken"],i),t}function Yet(n){const e={},t=P(n,["config"]);return t!=null&&Wet(t,e),e}function qet(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["nextPageToken"]);r!=null&&F(e,["nextPageToken"],r);const i=P(n,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),F(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xet extends Zp{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new px(Bp.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Yet(e);return a=an("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=qet(l),c=new KJe;return Object.assign(c,u),c})}}async createInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Uet(e);return a=an("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Vet(l),c=new $Je;return Object.assign(c,u),c})}}async get(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jet(e);return a=an("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Get(e);return a=an("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Het(l),c=new JJe;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JR(n){const e={},t=P(n,["data"]);if(t!=null&&F(e,["data"],t),P(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function Zet(n){const e={},t=P(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>ftt(a))),F(e,["parts"],i)}const r=P(n,["role"]);return r!=null&&F(e,["role"],r),e}function Ket(n){const e={};if(P(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=P(n,["fileUri"]);t!=null&&F(e,["fileUri"],t);const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function $et(n){const e={},t=P(n,["id"]);t!=null&&F(e,["id"],t);const r=P(n,["args"]);r!=null&&F(e,["args"],r);const i=P(n,["name"]);if(i!=null&&F(e,["name"],i),P(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(P(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Jet(n){const e={};if(P(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=P(n,["description"]);t!=null&&F(e,["description"],t);const r=P(n,["name"]);r!=null&&F(e,["name"],r);const i=P(n,["parameters"]);i!=null&&F(e,["parameters"],i);const a=P(n,["parametersJsonSchema"]);a!=null&&F(e,["parametersJsonSchema"],a);const s=P(n,["response"]);s!=null&&F(e,["response"],s);const o=P(n,["responseJsonSchema"]);return o!=null&&F(e,["responseJsonSchema"],o),e}function Qet(n){const e={},t=P(n,["modelSelectionConfig"]);t!=null&&F(e,["modelConfig"],t);const r=P(n,["responseJsonSchema"]);r!=null&&F(e,["responseJsonSchema"],r);const i=P(n,["audioTimestamp"]);i!=null&&F(e,["audioTimestamp"],i);const a=P(n,["candidateCount"]);a!=null&&F(e,["candidateCount"],a);const s=P(n,["enableAffectiveDialog"]);s!=null&&F(e,["enableAffectiveDialog"],s);const o=P(n,["frequencyPenalty"]);o!=null&&F(e,["frequencyPenalty"],o);const l=P(n,["logprobs"]);l!=null&&F(e,["logprobs"],l);const u=P(n,["maxOutputTokens"]);u!=null&&F(e,["maxOutputTokens"],u);const c=P(n,["mediaResolution"]);c!=null&&F(e,["mediaResolution"],c);const f=P(n,["presencePenalty"]);f!=null&&F(e,["presencePenalty"],f);const d=P(n,["responseLogprobs"]);d!=null&&F(e,["responseLogprobs"],d);const h=P(n,["responseMimeType"]);h!=null&&F(e,["responseMimeType"],h);const p=P(n,["responseModalities"]);p!=null&&F(e,["responseModalities"],p);const m=P(n,["responseSchema"]);m!=null&&F(e,["responseSchema"],m);const g=P(n,["routingConfig"]);g!=null&&F(e,["routingConfig"],g);const y=P(n,["seed"]);y!=null&&F(e,["seed"],y);const _=P(n,["speechConfig"]);_!=null&&F(e,["speechConfig"],z0e(_));const S=P(n,["stopSequences"]);S!=null&&F(e,["stopSequences"],S);const A=P(n,["temperature"]);A!=null&&F(e,["temperature"],A);const M=P(n,["thinkingConfig"]);M!=null&&F(e,["thinkingConfig"],M);const E=P(n,["topK"]);E!=null&&F(e,["topK"],E);const D=P(n,["topP"]);if(D!=null&&F(e,["topP"],D),P(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ett(n){const e={};if(P(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=P(n,["enableWidget"]);return t!=null&&F(e,["enableWidget"],t),e}function ttt(n){const e={};if(P(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(P(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=P(n,["timeRangeFilter"]);return t!=null&&F(e,["timeRangeFilter"],t),e}function ntt(n,e){const t={},r=P(n,["generationConfig"]);e!==void 0&&r!=null&&F(e,["setup","generationConfig"],r);const i=P(n,["responseModalities"]);e!==void 0&&i!=null&&F(e,["setup","generationConfig","responseModalities"],i);const a=P(n,["temperature"]);e!==void 0&&a!=null&&F(e,["setup","generationConfig","temperature"],a);const s=P(n,["topP"]);e!==void 0&&s!=null&&F(e,["setup","generationConfig","topP"],s);const o=P(n,["topK"]);e!==void 0&&o!=null&&F(e,["setup","generationConfig","topK"],o);const l=P(n,["maxOutputTokens"]);e!==void 0&&l!=null&&F(e,["setup","generationConfig","maxOutputTokens"],l);const u=P(n,["mediaResolution"]);e!==void 0&&u!=null&&F(e,["setup","generationConfig","mediaResolution"],u);const c=P(n,["seed"]);e!==void 0&&c!=null&&F(e,["setup","generationConfig","seed"],c);const f=P(n,["speechConfig"]);e!==void 0&&f!=null&&F(e,["setup","generationConfig","speechConfig"],sG(f));const d=P(n,["thinkingConfig"]);e!==void 0&&d!=null&&F(e,["setup","generationConfig","thinkingConfig"],d);const h=P(n,["enableAffectiveDialog"]);e!==void 0&&h!=null&&F(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=P(n,["systemInstruction"]);e!==void 0&&p!=null&&F(e,["setup","systemInstruction"],Zet(Ro(p)));const m=P(n,["tools"]);if(e!==void 0&&m!=null){let E=wS(m);Array.isArray(E)&&(E=E.map(D=>htt(SS(D)))),F(e,["setup","tools"],E)}const g=P(n,["sessionResumption"]);e!==void 0&&g!=null&&F(e,["setup","sessionResumption"],dtt(g));const y=P(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&F(e,["setup","inputAudioTranscription"],y);const _=P(n,["outputAudioTranscription"]);e!==void 0&&_!=null&&F(e,["setup","outputAudioTranscription"],_);const S=P(n,["realtimeInputConfig"]);e!==void 0&&S!=null&&F(e,["setup","realtimeInputConfig"],S);const A=P(n,["contextWindowCompression"]);e!==void 0&&A!=null&&F(e,["setup","contextWindowCompression"],A);const M=P(n,["proactivity"]);return e!==void 0&&M!=null&&F(e,["setup","proactivity"],M),t}function rtt(n,e){const t={},r=P(n,["generationConfig"]);e!==void 0&&r!=null&&F(e,["setup","generationConfig"],Qet(r));const i=P(n,["responseModalities"]);e!==void 0&&i!=null&&F(e,["setup","generationConfig","responseModalities"],i);const a=P(n,["temperature"]);e!==void 0&&a!=null&&F(e,["setup","generationConfig","temperature"],a);const s=P(n,["topP"]);e!==void 0&&s!=null&&F(e,["setup","generationConfig","topP"],s);const o=P(n,["topK"]);e!==void 0&&o!=null&&F(e,["setup","generationConfig","topK"],o);const l=P(n,["maxOutputTokens"]);e!==void 0&&l!=null&&F(e,["setup","generationConfig","maxOutputTokens"],l);const u=P(n,["mediaResolution"]);e!==void 0&&u!=null&&F(e,["setup","generationConfig","mediaResolution"],u);const c=P(n,["seed"]);e!==void 0&&c!=null&&F(e,["setup","generationConfig","seed"],c);const f=P(n,["speechConfig"]);e!==void 0&&f!=null&&F(e,["setup","generationConfig","speechConfig"],z0e(sG(f)));const d=P(n,["thinkingConfig"]);e!==void 0&&d!=null&&F(e,["setup","generationConfig","thinkingConfig"],d);const h=P(n,["enableAffectiveDialog"]);e!==void 0&&h!=null&&F(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=P(n,["systemInstruction"]);e!==void 0&&p!=null&&F(e,["setup","systemInstruction"],Ro(p));const m=P(n,["tools"]);if(e!==void 0&&m!=null){let E=wS(m);Array.isArray(E)&&(E=E.map(D=>ptt(SS(D)))),F(e,["setup","tools"],E)}const g=P(n,["sessionResumption"]);e!==void 0&&g!=null&&F(e,["setup","sessionResumption"],g);const y=P(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&F(e,["setup","inputAudioTranscription"],y);const _=P(n,["outputAudioTranscription"]);e!==void 0&&_!=null&&F(e,["setup","outputAudioTranscription"],_);const S=P(n,["realtimeInputConfig"]);e!==void 0&&S!=null&&F(e,["setup","realtimeInputConfig"],S);const A=P(n,["contextWindowCompression"]);e!==void 0&&A!=null&&F(e,["setup","contextWindowCompression"],A);const M=P(n,["proactivity"]);return e!==void 0&&M!=null&&F(e,["setup","proactivity"],M),t}function itt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["setup","model"],Qr(n,r));const i=P(e,["config"]);return i!=null&&F(t,["config"],ntt(i,t)),t}function att(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["setup","model"],Qr(n,r));const i=P(e,["config"]);return i!=null&&F(t,["config"],rtt(i,t)),t}function stt(n){const e={},t=P(n,["musicGenerationConfig"]);return t!=null&&F(e,["musicGenerationConfig"],t),e}function ott(n){const e={},t=P(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),F(e,["weightedPrompts"],r)}return e}function ltt(n){const e={},t=P(n,["media"]);if(t!=null){let u=A0e(t);Array.isArray(u)&&(u=u.map(c=>JR(c))),F(e,["mediaChunks"],u)}const r=P(n,["audio"]);r!=null&&F(e,["audio"],JR(E0e(r)));const i=P(n,["audioStreamEnd"]);i!=null&&F(e,["audioStreamEnd"],i);const a=P(n,["video"]);a!=null&&F(e,["video"],JR(M0e(a)));const s=P(n,["text"]);s!=null&&F(e,["text"],s);const o=P(n,["activityStart"]);o!=null&&F(e,["activityStart"],o);const l=P(n,["activityEnd"]);return l!=null&&F(e,["activityEnd"],l),e}function utt(n){const e={},t=P(n,["media"]);if(t!=null){let u=A0e(t);Array.isArray(u)&&(u=u.map(c=>c)),F(e,["mediaChunks"],u)}const r=P(n,["audio"]);r!=null&&F(e,["audio"],E0e(r));const i=P(n,["audioStreamEnd"]);i!=null&&F(e,["audioStreamEnd"],i);const a=P(n,["video"]);a!=null&&F(e,["video"],M0e(a));const s=P(n,["text"]);s!=null&&F(e,["text"],s);const o=P(n,["activityStart"]);o!=null&&F(e,["activityStart"],o);const l=P(n,["activityEnd"]);return l!=null&&F(e,["activityEnd"],l),e}function ctt(n){const e={},t=P(n,["setupComplete"]);t!=null&&F(e,["setupComplete"],t);const r=P(n,["serverContent"]);r!=null&&F(e,["serverContent"],r);const i=P(n,["toolCall"]);i!=null&&F(e,["toolCall"],i);const a=P(n,["toolCallCancellation"]);a!=null&&F(e,["toolCallCancellation"],a);const s=P(n,["usageMetadata"]);s!=null&&F(e,["usageMetadata"],vtt(s));const o=P(n,["goAway"]);o!=null&&F(e,["goAway"],o);const l=P(n,["sessionResumptionUpdate"]);return l!=null&&F(e,["sessionResumptionUpdate"],l),e}function ftt(n){const e={},t=P(n,["mediaResolution"]);t!=null&&F(e,["mediaResolution"],t);const r=P(n,["codeExecutionResult"]);r!=null&&F(e,["codeExecutionResult"],r);const i=P(n,["executableCode"]);i!=null&&F(e,["executableCode"],i);const a=P(n,["fileData"]);a!=null&&F(e,["fileData"],Ket(a));const s=P(n,["functionCall"]);s!=null&&F(e,["functionCall"],$et(s));const o=P(n,["functionResponse"]);o!=null&&F(e,["functionResponse"],o);const l=P(n,["inlineData"]);l!=null&&F(e,["inlineData"],JR(l));const u=P(n,["text"]);u!=null&&F(e,["text"],u);const c=P(n,["thought"]);c!=null&&F(e,["thought"],c);const f=P(n,["thoughtSignature"]);f!=null&&F(e,["thoughtSignature"],f);const d=P(n,["videoMetadata"]);return d!=null&&F(e,["videoMetadata"],d),e}function dtt(n){const e={},t=P(n,["handle"]);if(t!=null&&F(e,["handle"],t),P(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function z0e(n){const e={},t=P(n,["languageCode"]);t!=null&&F(e,["languageCode"],t);const r=P(n,["voiceConfig"]);if(r!=null&&F(e,["voiceConfig"],r),P(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function htt(n){const e={},t=P(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(f=>f)),F(e,["functionDeclarations"],c)}if(P(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=P(n,["googleSearchRetrieval"]);r!=null&&F(e,["googleSearchRetrieval"],r);const i=P(n,["computerUse"]);i!=null&&F(e,["computerUse"],i);const a=P(n,["fileSearch"]);a!=null&&F(e,["fileSearch"],a);const s=P(n,["codeExecution"]);if(s!=null&&F(e,["codeExecution"],s),P(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=P(n,["googleMaps"]);o!=null&&F(e,["googleMaps"],ett(o));const l=P(n,["googleSearch"]);l!=null&&F(e,["googleSearch"],ttt(l));const u=P(n,["urlContext"]);return u!=null&&F(e,["urlContext"],u),e}function ptt(n){const e={},t=P(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(d=>Jet(d))),F(e,["functionDeclarations"],f)}const r=P(n,["retrieval"]);r!=null&&F(e,["retrieval"],r);const i=P(n,["googleSearchRetrieval"]);i!=null&&F(e,["googleSearchRetrieval"],i);const a=P(n,["computerUse"]);if(a!=null&&F(e,["computerUse"],a),P(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=P(n,["codeExecution"]);s!=null&&F(e,["codeExecution"],s);const o=P(n,["enterpriseWebSearch"]);o!=null&&F(e,["enterpriseWebSearch"],o);const l=P(n,["googleMaps"]);l!=null&&F(e,["googleMaps"],l);const u=P(n,["googleSearch"]);u!=null&&F(e,["googleSearch"],u);const c=P(n,["urlContext"]);return c!=null&&F(e,["urlContext"],c),e}function vtt(n){const e={},t=P(n,["promptTokenCount"]);t!=null&&F(e,["promptTokenCount"],t);const r=P(n,["cachedContentTokenCount"]);r!=null&&F(e,["cachedContentTokenCount"],r);const i=P(n,["candidatesTokenCount"]);i!=null&&F(e,["responseTokenCount"],i);const a=P(n,["toolUsePromptTokenCount"]);a!=null&&F(e,["toolUsePromptTokenCount"],a);const s=P(n,["thoughtsTokenCount"]);s!=null&&F(e,["thoughtsTokenCount"],s);const o=P(n,["totalTokenCount"]);o!=null&&F(e,["totalTokenCount"],o);const l=P(n,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>p)),F(e,["promptTokensDetails"],h)}const u=P(n,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>p)),F(e,["cacheTokensDetails"],h)}const c=P(n,["candidatesTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>p)),F(e,["responseTokensDetails"],h)}const f=P(n,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>p)),F(e,["toolUsePromptTokensDetails"],h)}const d=P(n,["trafficType"]);return d!=null&&F(e,["trafficType"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mtt(n){const e={},t=P(n,["data"]);if(t!=null&&F(e,["data"],t),P(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function gtt(n){const e={},t=P(n,["content"]);t!=null&&F(e,["content"],t);const r=P(n,["citationMetadata"]);r!=null&&F(e,["citationMetadata"],ytt(r));const i=P(n,["tokenCount"]);i!=null&&F(e,["tokenCount"],i);const a=P(n,["finishReason"]);a!=null&&F(e,["finishReason"],a);const s=P(n,["avgLogprobs"]);s!=null&&F(e,["avgLogprobs"],s);const o=P(n,["groundingMetadata"]);o!=null&&F(e,["groundingMetadata"],o);const l=P(n,["index"]);l!=null&&F(e,["index"],l);const u=P(n,["logprobsResult"]);u!=null&&F(e,["logprobsResult"],u);const c=P(n,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),F(e,["safetyRatings"],d)}const f=P(n,["urlContextMetadata"]);return f!=null&&F(e,["urlContextMetadata"],f),e}function ytt(n){const e={},t=P(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),F(e,["citations"],r)}return e}function xtt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["contents"]);if(i!=null){let a=_c(i);Array.isArray(a)&&(a=a.map(s=>s)),F(t,["contents"],a)}return t}function _tt(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),F(e,["tokensInfo"],i)}return e}function btt(n){const e={},t=P(n,["values"]);t!=null&&F(e,["values"],t);const r=P(n,["statistics"]);return r!=null&&F(e,["statistics"],Stt(r)),e}function Stt(n){const e={},t=P(n,["truncated"]);t!=null&&F(e,["truncated"],t);const r=P(n,["token_count"]);return r!=null&&F(e,["tokenCount"],r),e}function HL(n){const e={},t=P(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>Nnt(a))),F(e,["parts"],i)}const r=P(n,["role"]);return r!=null&&F(e,["role"],r),e}function wtt(n){const e={},t=P(n,["controlType"]);t!=null&&F(e,["controlType"],t);const r=P(n,["enableControlImageComputation"]);return r!=null&&F(e,["computeControl"],r),e}function Ttt(n){const e={};if(P(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(P(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(P(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ctt(n,e){const t={},r=P(n,["systemInstruction"]);e!==void 0&&r!=null&&F(e,["systemInstruction"],Ro(r));const i=P(n,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>j0e(o))),F(e,["tools"],s)}const a=P(n,["generationConfig"]);return e!==void 0&&a!=null&&F(e,["generationConfig"],mnt(a)),t}function Att(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["contents"]);if(i!=null){let s=_c(i);Array.isArray(s)&&(s=s.map(o=>HL(o))),F(t,["contents"],s)}const a=P(e,["config"]);return a!=null&&Ttt(a),t}function Mtt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["contents"]);if(i!=null){let s=_c(i);Array.isArray(s)&&(s=s.map(o=>o)),F(t,["contents"],s)}const a=P(e,["config"]);return a!=null&&Ctt(a,t),t}function Ett(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["totalTokens"]);r!=null&&F(e,["totalTokens"],r);const i=P(n,["cachedContentTokenCount"]);return i!=null&&F(e,["cachedContentTokenCount"],i),e}function Dtt(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["totalTokens"]);return r!=null&&F(e,["totalTokens"],r),e}function Rtt(n,e){const t={},r=P(e,["model"]);return r!=null&&F(t,["_url","name"],Qr(n,r)),t}function Ntt(n,e){const t={},r=P(e,["model"]);return r!=null&&F(t,["_url","name"],Qr(n,r)),t}function Itt(n){const e={},t=P(n,["sdkHttpResponse"]);return t!=null&&F(e,["sdkHttpResponse"],t),e}function ktt(n){const e={},t=P(n,["sdkHttpResponse"]);return t!=null&&F(e,["sdkHttpResponse"],t),e}function Ltt(n,e){const t={},r=P(n,["outputGcsUri"]);e!==void 0&&r!=null&&F(e,["parameters","storageUri"],r);const i=P(n,["negativePrompt"]);e!==void 0&&i!=null&&F(e,["parameters","negativePrompt"],i);const a=P(n,["numberOfImages"]);e!==void 0&&a!=null&&F(e,["parameters","sampleCount"],a);const s=P(n,["aspectRatio"]);e!==void 0&&s!=null&&F(e,["parameters","aspectRatio"],s);const o=P(n,["guidanceScale"]);e!==void 0&&o!=null&&F(e,["parameters","guidanceScale"],o);const l=P(n,["seed"]);e!==void 0&&l!=null&&F(e,["parameters","seed"],l);const u=P(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&F(e,["parameters","safetySetting"],u);const c=P(n,["personGeneration"]);e!==void 0&&c!=null&&F(e,["parameters","personGeneration"],c);const f=P(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&F(e,["parameters","includeSafetyAttributes"],f);const d=P(n,["includeRaiReason"]);e!==void 0&&d!=null&&F(e,["parameters","includeRaiReason"],d);const h=P(n,["language"]);e!==void 0&&h!=null&&F(e,["parameters","language"],h);const p=P(n,["outputMimeType"]);e!==void 0&&p!=null&&F(e,["parameters","outputOptions","mimeType"],p);const m=P(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&F(e,["parameters","outputOptions","compressionQuality"],m);const g=P(n,["addWatermark"]);e!==void 0&&g!=null&&F(e,["parameters","addWatermark"],g);const y=P(n,["labels"]);e!==void 0&&y!=null&&F(e,["labels"],y);const _=P(n,["editMode"]);e!==void 0&&_!=null&&F(e,["parameters","editMode"],_);const S=P(n,["baseSteps"]);return e!==void 0&&S!=null&&F(e,["parameters","editConfig","baseSteps"],S),t}function Ptt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["prompt"]);i!=null&&F(t,["instances[0]","prompt"],i);const a=P(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Fnt(l))),F(t,["instances[0]","referenceImages"],o)}const s=P(e,["config"]);return s!=null&&Ltt(s,t),t}function Ott(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>jL(a))),F(e,["generatedImages"],i)}return e}function Ftt(n,e){const t={},r=P(n,["taskType"]);e!==void 0&&r!=null&&F(e,["requests[]","taskType"],r);const i=P(n,["title"]);e!==void 0&&i!=null&&F(e,["requests[]","title"],i);const a=P(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&F(e,["requests[]","outputDimensionality"],a),P(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(P(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Btt(n,e){const t={},r=P(n,["taskType"]);e!==void 0&&r!=null&&F(e,["instances[]","task_type"],r);const i=P(n,["title"]);e!==void 0&&i!=null&&F(e,["instances[]","title"],i);const a=P(n,["outputDimensionality"]);e!==void 0&&a!=null&&F(e,["parameters","outputDimensionality"],a);const s=P(n,["mimeType"]);e!==void 0&&s!=null&&F(e,["instances[]","mimeType"],s);const o=P(n,["autoTruncate"]);return e!==void 0&&o!=null&&F(e,["parameters","autoTruncate"],o),t}function ztt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["contents"]);if(i!=null){let o=rG(n,i);Array.isArray(o)&&(o=o.map(l=>l)),F(t,["requests[]","content"],o)}const a=P(e,["config"]);a!=null&&Ftt(a,t);const s=P(e,["model"]);return s!==void 0&&F(t,["requests[]","model"],Qr(n,s)),t}function Utt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["contents"]);if(i!=null){let s=rG(n,i);Array.isArray(s)&&(s=s.map(o=>o)),F(t,["instances[]","content"],s)}const a=P(e,["config"]);return a!=null&&Btt(a,t),t}function Vtt(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),F(e,["embeddings"],a)}const i=P(n,["metadata"]);return i!=null&&F(e,["metadata"],i),e}function Gtt(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>btt(s))),F(e,["embeddings"],a)}const i=P(n,["metadata"]);return i!=null&&F(e,["metadata"],i),e}function Htt(n){const e={},t=P(n,["endpoint"]);t!=null&&F(e,["name"],t);const r=P(n,["deployedModelId"]);return r!=null&&F(e,["deployedModelId"],r),e}function jtt(n){const e={};if(P(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=P(n,["fileUri"]);t!=null&&F(e,["fileUri"],t);const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function Wtt(n){const e={},t=P(n,["id"]);t!=null&&F(e,["id"],t);const r=P(n,["args"]);r!=null&&F(e,["args"],r);const i=P(n,["name"]);if(i!=null&&F(e,["name"],i),P(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(P(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ytt(n){const e={},t=P(n,["mode"]);t!=null&&F(e,["mode"],t);const r=P(n,["allowedFunctionNames"]);if(r!=null&&F(e,["allowedFunctionNames"],r),P(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qtt(n){const e={};if(P(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=P(n,["description"]);t!=null&&F(e,["description"],t);const r=P(n,["name"]);r!=null&&F(e,["name"],r);const i=P(n,["parameters"]);i!=null&&F(e,["parameters"],i);const a=P(n,["parametersJsonSchema"]);a!=null&&F(e,["parametersJsonSchema"],a);const s=P(n,["response"]);s!=null&&F(e,["response"],s);const o=P(n,["responseJsonSchema"]);return o!=null&&F(e,["responseJsonSchema"],o),e}function Xtt(n,e,t){const r={},i=P(e,["systemInstruction"]);t!==void 0&&i!=null&&F(t,["systemInstruction"],HL(Ro(i)));const a=P(e,["temperature"]);a!=null&&F(r,["temperature"],a);const s=P(e,["topP"]);s!=null&&F(r,["topP"],s);const o=P(e,["topK"]);o!=null&&F(r,["topK"],o);const l=P(e,["candidateCount"]);l!=null&&F(r,["candidateCount"],l);const u=P(e,["maxOutputTokens"]);u!=null&&F(r,["maxOutputTokens"],u);const c=P(e,["stopSequences"]);c!=null&&F(r,["stopSequences"],c);const f=P(e,["responseLogprobs"]);f!=null&&F(r,["responseLogprobs"],f);const d=P(e,["logprobs"]);d!=null&&F(r,["logprobs"],d);const h=P(e,["presencePenalty"]);h!=null&&F(r,["presencePenalty"],h);const p=P(e,["frequencyPenalty"]);p!=null&&F(r,["frequencyPenalty"],p);const m=P(e,["seed"]);m!=null&&F(r,["seed"],m);const g=P(e,["responseMimeType"]);g!=null&&F(r,["responseMimeType"],g);const y=P(e,["responseSchema"]);y!=null&&F(r,["responseSchema"],iG(y));const _=P(e,["responseJsonSchema"]);if(_!=null&&F(r,["responseJsonSchema"],_),P(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(P(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=P(e,["safetySettings"]);if(t!==void 0&&S!=null){let O=S;Array.isArray(O)&&(O=O.map(G=>Bnt(G))),F(t,["safetySettings"],O)}const A=P(e,["tools"]);if(t!==void 0&&A!=null){let O=wS(A);Array.isArray(O)&&(O=O.map(G=>Wnt(SS(G)))),F(t,["tools"],O)}const M=P(e,["toolConfig"]);if(t!==void 0&&M!=null&&F(t,["toolConfig"],jnt(M)),P(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=P(e,["cachedContent"]);t!==void 0&&E!=null&&F(t,["cachedContent"],Kp(n,E));const D=P(e,["responseModalities"]);D!=null&&F(r,["responseModalities"],D);const I=P(e,["mediaResolution"]);I!=null&&F(r,["mediaResolution"],I);const N=P(e,["speechConfig"]);if(N!=null&&F(r,["speechConfig"],aG(N)),P(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=P(e,["thinkingConfig"]);L!=null&&F(r,["thinkingConfig"],L);const B=P(e,["imageConfig"]);return B!=null&&F(r,["imageConfig"],bnt(B)),r}function Ztt(n,e,t){const r={},i=P(e,["systemInstruction"]);t!==void 0&&i!=null&&F(t,["systemInstruction"],Ro(i));const a=P(e,["temperature"]);a!=null&&F(r,["temperature"],a);const s=P(e,["topP"]);s!=null&&F(r,["topP"],s);const o=P(e,["topK"]);o!=null&&F(r,["topK"],o);const l=P(e,["candidateCount"]);l!=null&&F(r,["candidateCount"],l);const u=P(e,["maxOutputTokens"]);u!=null&&F(r,["maxOutputTokens"],u);const c=P(e,["stopSequences"]);c!=null&&F(r,["stopSequences"],c);const f=P(e,["responseLogprobs"]);f!=null&&F(r,["responseLogprobs"],f);const d=P(e,["logprobs"]);d!=null&&F(r,["logprobs"],d);const h=P(e,["presencePenalty"]);h!=null&&F(r,["presencePenalty"],h);const p=P(e,["frequencyPenalty"]);p!=null&&F(r,["frequencyPenalty"],p);const m=P(e,["seed"]);m!=null&&F(r,["seed"],m);const g=P(e,["responseMimeType"]);g!=null&&F(r,["responseMimeType"],g);const y=P(e,["responseSchema"]);y!=null&&F(r,["responseSchema"],iG(y));const _=P(e,["responseJsonSchema"]);_!=null&&F(r,["responseJsonSchema"],_);const S=P(e,["routingConfig"]);S!=null&&F(r,["routingConfig"],S);const A=P(e,["modelSelectionConfig"]);A!=null&&F(r,["modelConfig"],A);const M=P(e,["safetySettings"]);if(t!==void 0&&M!=null){let W=M;Array.isArray(W)&&(W=W.map(Z=>Z)),F(t,["safetySettings"],W)}const E=P(e,["tools"]);if(t!==void 0&&E!=null){let W=wS(E);Array.isArray(W)&&(W=W.map(Z=>j0e(SS(Z)))),F(t,["tools"],W)}const D=P(e,["toolConfig"]);t!==void 0&&D!=null&&F(t,["toolConfig"],D);const I=P(e,["labels"]);t!==void 0&&I!=null&&F(t,["labels"],I);const N=P(e,["cachedContent"]);t!==void 0&&N!=null&&F(t,["cachedContent"],Kp(n,N));const L=P(e,["responseModalities"]);L!=null&&F(r,["responseModalities"],L);const B=P(e,["mediaResolution"]);B!=null&&F(r,["mediaResolution"],B);const O=P(e,["speechConfig"]);O!=null&&F(r,["speechConfig"],H0e(aG(O)));const G=P(e,["audioTimestamp"]);G!=null&&F(r,["audioTimestamp"],G);const V=P(e,["thinkingConfig"]);V!=null&&F(r,["thinkingConfig"],V);const q=P(e,["imageConfig"]);return q!=null&&F(r,["imageConfig"],Snt(q)),r}function gte(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["contents"]);if(i!=null){let s=_c(i);Array.isArray(s)&&(s=s.map(o=>HL(o))),F(t,["contents"],s)}const a=P(e,["config"]);return a!=null&&F(t,["generationConfig"],Xtt(n,a,t)),t}function yte(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["contents"]);if(i!=null){let s=_c(i);Array.isArray(s)&&(s=s.map(o=>o)),F(t,["contents"],s)}const a=P(e,["config"]);return a!=null&&F(t,["generationConfig"],Ztt(n,a,t)),t}function xte(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>gtt(u))),F(e,["candidates"],l)}const i=P(n,["modelVersion"]);i!=null&&F(e,["modelVersion"],i);const a=P(n,["promptFeedback"]);a!=null&&F(e,["promptFeedback"],a);const s=P(n,["responseId"]);s!=null&&F(e,["responseId"],s);const o=P(n,["usageMetadata"]);return o!=null&&F(e,["usageMetadata"],o),e}function _te(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),F(e,["candidates"],u)}const i=P(n,["createTime"]);i!=null&&F(e,["createTime"],i);const a=P(n,["modelVersion"]);a!=null&&F(e,["modelVersion"],a);const s=P(n,["promptFeedback"]);s!=null&&F(e,["promptFeedback"],s);const o=P(n,["responseId"]);o!=null&&F(e,["responseId"],o);const l=P(n,["usageMetadata"]);return l!=null&&F(e,["usageMetadata"],l),e}function Ktt(n,e){const t={};if(P(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(P(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=P(n,["numberOfImages"]);e!==void 0&&r!=null&&F(e,["parameters","sampleCount"],r);const i=P(n,["aspectRatio"]);e!==void 0&&i!=null&&F(e,["parameters","aspectRatio"],i);const a=P(n,["guidanceScale"]);if(e!==void 0&&a!=null&&F(e,["parameters","guidanceScale"],a),P(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=P(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&F(e,["parameters","safetySetting"],s);const o=P(n,["personGeneration"]);e!==void 0&&o!=null&&F(e,["parameters","personGeneration"],o);const l=P(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&F(e,["parameters","includeSafetyAttributes"],l);const u=P(n,["includeRaiReason"]);e!==void 0&&u!=null&&F(e,["parameters","includeRaiReason"],u);const c=P(n,["language"]);e!==void 0&&c!=null&&F(e,["parameters","language"],c);const f=P(n,["outputMimeType"]);e!==void 0&&f!=null&&F(e,["parameters","outputOptions","mimeType"],f);const d=P(n,["outputCompressionQuality"]);if(e!==void 0&&d!=null&&F(e,["parameters","outputOptions","compressionQuality"],d),P(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(P(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=P(n,["imageSize"]);if(e!==void 0&&h!=null&&F(e,["parameters","sampleImageSize"],h),P(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function $tt(n,e){const t={},r=P(n,["outputGcsUri"]);e!==void 0&&r!=null&&F(e,["parameters","storageUri"],r);const i=P(n,["negativePrompt"]);e!==void 0&&i!=null&&F(e,["parameters","negativePrompt"],i);const a=P(n,["numberOfImages"]);e!==void 0&&a!=null&&F(e,["parameters","sampleCount"],a);const s=P(n,["aspectRatio"]);e!==void 0&&s!=null&&F(e,["parameters","aspectRatio"],s);const o=P(n,["guidanceScale"]);e!==void 0&&o!=null&&F(e,["parameters","guidanceScale"],o);const l=P(n,["seed"]);e!==void 0&&l!=null&&F(e,["parameters","seed"],l);const u=P(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&F(e,["parameters","safetySetting"],u);const c=P(n,["personGeneration"]);e!==void 0&&c!=null&&F(e,["parameters","personGeneration"],c);const f=P(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&F(e,["parameters","includeSafetyAttributes"],f);const d=P(n,["includeRaiReason"]);e!==void 0&&d!=null&&F(e,["parameters","includeRaiReason"],d);const h=P(n,["language"]);e!==void 0&&h!=null&&F(e,["parameters","language"],h);const p=P(n,["outputMimeType"]);e!==void 0&&p!=null&&F(e,["parameters","outputOptions","mimeType"],p);const m=P(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&F(e,["parameters","outputOptions","compressionQuality"],m);const g=P(n,["addWatermark"]);e!==void 0&&g!=null&&F(e,["parameters","addWatermark"],g);const y=P(n,["labels"]);e!==void 0&&y!=null&&F(e,["labels"],y);const _=P(n,["imageSize"]);e!==void 0&&_!=null&&F(e,["parameters","sampleImageSize"],_);const S=P(n,["enhancePrompt"]);return e!==void 0&&S!=null&&F(e,["parameters","enhancePrompt"],S),t}function Jtt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["prompt"]);i!=null&&F(t,["instances[0]","prompt"],i);const a=P(e,["config"]);return a!=null&&Ktt(a,t),t}function Qtt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["prompt"]);i!=null&&F(t,["instances[0]","prompt"],i);const a=P(e,["config"]);return a!=null&&$tt(a,t),t}function ent(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>dnt(s))),F(e,["generatedImages"],a)}const i=P(n,["positivePromptSafetyAttributes"]);return i!=null&&F(e,["positivePromptSafetyAttributes"],V0e(i)),e}function tnt(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>jL(s))),F(e,["generatedImages"],a)}const i=P(n,["positivePromptSafetyAttributes"]);return i!=null&&F(e,["positivePromptSafetyAttributes"],G0e(i)),e}function nnt(n,e){const t={},r=P(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&F(e,["parameters","sampleCount"],r),P(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(P(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=P(n,["durationSeconds"]);if(e!==void 0&&i!=null&&F(e,["parameters","durationSeconds"],i),P(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=P(n,["aspectRatio"]);e!==void 0&&a!=null&&F(e,["parameters","aspectRatio"],a);const s=P(n,["resolution"]);e!==void 0&&s!=null&&F(e,["parameters","resolution"],s);const o=P(n,["personGeneration"]);if(e!==void 0&&o!=null&&F(e,["parameters","personGeneration"],o),P(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=P(n,["negativePrompt"]);e!==void 0&&l!=null&&F(e,["parameters","negativePrompt"],l);const u=P(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&F(e,["parameters","enhancePrompt"],u),P(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=P(n,["lastFrame"]);e!==void 0&&c!=null&&F(e,["instances[0]","lastFrame"],WL(c));const f=P(n,["referenceImages"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>irt(h))),F(e,["instances[0]","referenceImages"],d)}if(P(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(P(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function rnt(n,e){const t={},r=P(n,["numberOfVideos"]);e!==void 0&&r!=null&&F(e,["parameters","sampleCount"],r);const i=P(n,["outputGcsUri"]);e!==void 0&&i!=null&&F(e,["parameters","storageUri"],i);const a=P(n,["fps"]);e!==void 0&&a!=null&&F(e,["parameters","fps"],a);const s=P(n,["durationSeconds"]);e!==void 0&&s!=null&&F(e,["parameters","durationSeconds"],s);const o=P(n,["seed"]);e!==void 0&&o!=null&&F(e,["parameters","seed"],o);const l=P(n,["aspectRatio"]);e!==void 0&&l!=null&&F(e,["parameters","aspectRatio"],l);const u=P(n,["resolution"]);e!==void 0&&u!=null&&F(e,["parameters","resolution"],u);const c=P(n,["personGeneration"]);e!==void 0&&c!=null&&F(e,["parameters","personGeneration"],c);const f=P(n,["pubsubTopic"]);e!==void 0&&f!=null&&F(e,["parameters","pubsubTopic"],f);const d=P(n,["negativePrompt"]);e!==void 0&&d!=null&&F(e,["parameters","negativePrompt"],d);const h=P(n,["enhancePrompt"]);e!==void 0&&h!=null&&F(e,["parameters","enhancePrompt"],h);const p=P(n,["generateAudio"]);e!==void 0&&p!=null&&F(e,["parameters","generateAudio"],p);const m=P(n,["lastFrame"]);e!==void 0&&m!=null&&F(e,["instances[0]","lastFrame"],Ff(m));const g=P(n,["referenceImages"]);if(e!==void 0&&g!=null){let S=g;Array.isArray(S)&&(S=S.map(A=>art(A))),F(e,["instances[0]","referenceImages"],S)}const y=P(n,["mask"]);e!==void 0&&y!=null&&F(e,["instances[0]","mask"],rrt(y));const _=P(n,["compressionQuality"]);return e!==void 0&&_!=null&&F(e,["parameters","compressionQuality"],_),t}function int(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["metadata"]);r!=null&&F(e,["metadata"],r);const i=P(n,["done"]);i!=null&&F(e,["done"],i);const a=P(n,["error"]);a!=null&&F(e,["error"],a);const s=P(n,["response","generateVideoResponse"]);return s!=null&&F(e,["response"],lnt(s)),e}function ant(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["metadata"]);r!=null&&F(e,["metadata"],r);const i=P(n,["done"]);i!=null&&F(e,["done"],i);const a=P(n,["error"]);a!=null&&F(e,["error"],a);const s=P(n,["response"]);return s!=null&&F(e,["response"],unt(s)),e}function snt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["prompt"]);i!=null&&F(t,["instances[0]","prompt"],i);const a=P(e,["image"]);a!=null&&F(t,["instances[0]","image"],WL(a));const s=P(e,["video"]);s!=null&&F(t,["instances[0]","video"],W0e(s));const o=P(e,["source"]);o!=null&&cnt(o,t);const l=P(e,["config"]);return l!=null&&nnt(l,t),t}function ont(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["prompt"]);i!=null&&F(t,["instances[0]","prompt"],i);const a=P(e,["image"]);a!=null&&F(t,["instances[0]","image"],Ff(a));const s=P(e,["video"]);s!=null&&F(t,["instances[0]","video"],Y0e(s));const o=P(e,["source"]);o!=null&&fnt(o,t);const l=P(e,["config"]);return l!=null&&rnt(l,t),t}function lnt(n){const e={},t=P(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>pnt(s))),F(e,["generatedVideos"],a)}const r=P(n,["raiMediaFilteredCount"]);r!=null&&F(e,["raiMediaFilteredCount"],r);const i=P(n,["raiMediaFilteredReasons"]);return i!=null&&F(e,["raiMediaFilteredReasons"],i),e}function unt(n){const e={},t=P(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>vnt(s))),F(e,["generatedVideos"],a)}const r=P(n,["raiMediaFilteredCount"]);r!=null&&F(e,["raiMediaFilteredCount"],r);const i=P(n,["raiMediaFilteredReasons"]);return i!=null&&F(e,["raiMediaFilteredReasons"],i),e}function cnt(n,e){const t={},r=P(n,["prompt"]);e!==void 0&&r!=null&&F(e,["instances[0]","prompt"],r);const i=P(n,["image"]);e!==void 0&&i!=null&&F(e,["instances[0]","image"],WL(i));const a=P(n,["video"]);return e!==void 0&&a!=null&&F(e,["instances[0]","video"],W0e(a)),t}function fnt(n,e){const t={},r=P(n,["prompt"]);e!==void 0&&r!=null&&F(e,["instances[0]","prompt"],r);const i=P(n,["image"]);e!==void 0&&i!=null&&F(e,["instances[0]","image"],Ff(i));const a=P(n,["video"]);return e!==void 0&&a!=null&&F(e,["instances[0]","video"],Y0e(a)),t}function dnt(n){const e={},t=P(n,["_self"]);t!=null&&F(e,["image"],wnt(t));const r=P(n,["raiFilteredReason"]);r!=null&&F(e,["raiFilteredReason"],r);const i=P(n,["_self"]);return i!=null&&F(e,["safetyAttributes"],V0e(i)),e}function jL(n){const e={},t=P(n,["_self"]);t!=null&&F(e,["image"],U0e(t));const r=P(n,["raiFilteredReason"]);r!=null&&F(e,["raiFilteredReason"],r);const i=P(n,["_self"]);i!=null&&F(e,["safetyAttributes"],G0e(i));const a=P(n,["prompt"]);return a!=null&&F(e,["enhancedPrompt"],a),e}function hnt(n){const e={},t=P(n,["_self"]);t!=null&&F(e,["mask"],U0e(t));const r=P(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),F(e,["labels"],i)}return e}function pnt(n){const e={},t=P(n,["video"]);return t!=null&&F(e,["video"],trt(t)),e}function vnt(n){const e={},t=P(n,["_self"]);return t!=null&&F(e,["video"],nrt(t)),e}function mnt(n){const e={},t=P(n,["modelSelectionConfig"]);t!=null&&F(e,["modelConfig"],t);const r=P(n,["responseJsonSchema"]);r!=null&&F(e,["responseJsonSchema"],r);const i=P(n,["audioTimestamp"]);i!=null&&F(e,["audioTimestamp"],i);const a=P(n,["candidateCount"]);a!=null&&F(e,["candidateCount"],a);const s=P(n,["enableAffectiveDialog"]);s!=null&&F(e,["enableAffectiveDialog"],s);const o=P(n,["frequencyPenalty"]);o!=null&&F(e,["frequencyPenalty"],o);const l=P(n,["logprobs"]);l!=null&&F(e,["logprobs"],l);const u=P(n,["maxOutputTokens"]);u!=null&&F(e,["maxOutputTokens"],u);const c=P(n,["mediaResolution"]);c!=null&&F(e,["mediaResolution"],c);const f=P(n,["presencePenalty"]);f!=null&&F(e,["presencePenalty"],f);const d=P(n,["responseLogprobs"]);d!=null&&F(e,["responseLogprobs"],d);const h=P(n,["responseMimeType"]);h!=null&&F(e,["responseMimeType"],h);const p=P(n,["responseModalities"]);p!=null&&F(e,["responseModalities"],p);const m=P(n,["responseSchema"]);m!=null&&F(e,["responseSchema"],m);const g=P(n,["routingConfig"]);g!=null&&F(e,["routingConfig"],g);const y=P(n,["seed"]);y!=null&&F(e,["seed"],y);const _=P(n,["speechConfig"]);_!=null&&F(e,["speechConfig"],H0e(_));const S=P(n,["stopSequences"]);S!=null&&F(e,["stopSequences"],S);const A=P(n,["temperature"]);A!=null&&F(e,["temperature"],A);const M=P(n,["thinkingConfig"]);M!=null&&F(e,["thinkingConfig"],M);const E=P(n,["topK"]);E!=null&&F(e,["topK"],E);const D=P(n,["topP"]);if(D!=null&&F(e,["topP"],D),P(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function gnt(n,e){const t={},r=P(e,["model"]);return r!=null&&F(t,["_url","name"],Qr(n,r)),t}function ynt(n,e){const t={},r=P(e,["model"]);return r!=null&&F(t,["_url","name"],Qr(n,r)),t}function xnt(n){const e={};if(P(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=P(n,["enableWidget"]);return t!=null&&F(e,["enableWidget"],t),e}function _nt(n){const e={};if(P(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(P(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=P(n,["timeRangeFilter"]);return t!=null&&F(e,["timeRangeFilter"],t),e}function bnt(n){const e={},t=P(n,["aspectRatio"]);t!=null&&F(e,["aspectRatio"],t);const r=P(n,["imageSize"]);if(r!=null&&F(e,["imageSize"],r),P(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(P(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Snt(n){const e={},t=P(n,["aspectRatio"]);t!=null&&F(e,["aspectRatio"],t);const r=P(n,["imageSize"]);r!=null&&F(e,["imageSize"],r);const i=P(n,["outputMimeType"]);i!=null&&F(e,["imageOutputOptions","mimeType"],i);const a=P(n,["outputCompressionQuality"]);return a!=null&&F(e,["imageOutputOptions","compressionQuality"],a),e}function wnt(n){const e={},t=P(n,["bytesBase64Encoded"]);t!=null&&F(e,["imageBytes"],rm(t));const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function U0e(n){const e={},t=P(n,["gcsUri"]);t!=null&&F(e,["gcsUri"],t);const r=P(n,["bytesBase64Encoded"]);r!=null&&F(e,["imageBytes"],rm(r));const i=P(n,["mimeType"]);return i!=null&&F(e,["mimeType"],i),e}function WL(n){const e={};if(P(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=P(n,["imageBytes"]);t!=null&&F(e,["bytesBase64Encoded"],rm(t));const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function Ff(n){const e={},t=P(n,["gcsUri"]);t!=null&&F(e,["gcsUri"],t);const r=P(n,["imageBytes"]);r!=null&&F(e,["bytesBase64Encoded"],rm(r));const i=P(n,["mimeType"]);return i!=null&&F(e,["mimeType"],i),e}function Tnt(n,e,t){const r={},i=P(e,["pageSize"]);t!==void 0&&i!=null&&F(t,["_query","pageSize"],i);const a=P(e,["pageToken"]);t!==void 0&&a!=null&&F(t,["_query","pageToken"],a);const s=P(e,["filter"]);t!==void 0&&s!=null&&F(t,["_query","filter"],s);const o=P(e,["queryBase"]);return t!==void 0&&o!=null&&F(t,["_url","models_url"],I0e(n,o)),r}function Cnt(n,e,t){const r={},i=P(e,["pageSize"]);t!==void 0&&i!=null&&F(t,["_query","pageSize"],i);const a=P(e,["pageToken"]);t!==void 0&&a!=null&&F(t,["_query","pageToken"],a);const s=P(e,["filter"]);t!==void 0&&s!=null&&F(t,["_query","filter"],s);const o=P(e,["queryBase"]);return t!==void 0&&o!=null&&F(t,["_url","models_url"],I0e(n,o)),r}function Ant(n,e){const t={},r=P(e,["config"]);return r!=null&&Tnt(n,r,t),t}function Mnt(n,e){const t={},r=P(e,["config"]);return r!=null&&Cnt(n,r,t),t}function Ent(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["nextPageToken"]);r!=null&&F(e,["nextPageToken"],r);const i=P(n,["_self"]);if(i!=null){let a=k0e(i);Array.isArray(a)&&(a=a.map(s=>Dz(s))),F(e,["models"],a)}return e}function Dnt(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["nextPageToken"]);r!=null&&F(e,["nextPageToken"],r);const i=P(n,["_self"]);if(i!=null){let a=k0e(i);Array.isArray(a)&&(a=a.map(s=>Rz(s))),F(e,["models"],a)}return e}function Rnt(n){const e={},t=P(n,["maskMode"]);t!=null&&F(e,["maskMode"],t);const r=P(n,["segmentationClasses"]);r!=null&&F(e,["maskClasses"],r);const i=P(n,["maskDilation"]);return i!=null&&F(e,["dilation"],i),e}function Dz(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["displayName"]);r!=null&&F(e,["displayName"],r);const i=P(n,["description"]);i!=null&&F(e,["description"],i);const a=P(n,["version"]);a!=null&&F(e,["version"],a);const s=P(n,["_self"]);s!=null&&F(e,["tunedModelInfo"],Ynt(s));const o=P(n,["inputTokenLimit"]);o!=null&&F(e,["inputTokenLimit"],o);const l=P(n,["outputTokenLimit"]);l!=null&&F(e,["outputTokenLimit"],l);const u=P(n,["supportedGenerationMethods"]);u!=null&&F(e,["supportedActions"],u);const c=P(n,["temperature"]);c!=null&&F(e,["temperature"],c);const f=P(n,["maxTemperature"]);f!=null&&F(e,["maxTemperature"],f);const d=P(n,["topP"]);d!=null&&F(e,["topP"],d);const h=P(n,["topK"]);h!=null&&F(e,["topK"],h);const p=P(n,["thinking"]);return p!=null&&F(e,["thinking"],p),e}function Rz(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["displayName"]);r!=null&&F(e,["displayName"],r);const i=P(n,["description"]);i!=null&&F(e,["description"],i);const a=P(n,["versionId"]);a!=null&&F(e,["version"],a);const s=P(n,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>Htt(d))),F(e,["endpoints"],f)}const o=P(n,["labels"]);o!=null&&F(e,["labels"],o);const l=P(n,["_self"]);l!=null&&F(e,["tunedModelInfo"],qnt(l));const u=P(n,["defaultCheckpointId"]);u!=null&&F(e,["defaultCheckpointId"],u);const c=P(n,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(d=>d)),F(e,["checkpoints"],f)}return e}function Nnt(n){const e={},t=P(n,["mediaResolution"]);t!=null&&F(e,["mediaResolution"],t);const r=P(n,["codeExecutionResult"]);r!=null&&F(e,["codeExecutionResult"],r);const i=P(n,["executableCode"]);i!=null&&F(e,["executableCode"],i);const a=P(n,["fileData"]);a!=null&&F(e,["fileData"],jtt(a));const s=P(n,["functionCall"]);s!=null&&F(e,["functionCall"],Wtt(s));const o=P(n,["functionResponse"]);o!=null&&F(e,["functionResponse"],o);const l=P(n,["inlineData"]);l!=null&&F(e,["inlineData"],mtt(l));const u=P(n,["text"]);u!=null&&F(e,["text"],u);const c=P(n,["thought"]);c!=null&&F(e,["thought"],c);const f=P(n,["thoughtSignature"]);f!=null&&F(e,["thoughtSignature"],f);const d=P(n,["videoMetadata"]);return d!=null&&F(e,["videoMetadata"],d),e}function Int(n){const e={},t=P(n,["productImage"]);return t!=null&&F(e,["image"],Ff(t)),e}function knt(n,e){const t={},r=P(n,["numberOfImages"]);e!==void 0&&r!=null&&F(e,["parameters","sampleCount"],r);const i=P(n,["baseSteps"]);e!==void 0&&i!=null&&F(e,["parameters","baseSteps"],i);const a=P(n,["outputGcsUri"]);e!==void 0&&a!=null&&F(e,["parameters","storageUri"],a);const s=P(n,["seed"]);e!==void 0&&s!=null&&F(e,["parameters","seed"],s);const o=P(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&F(e,["parameters","safetySetting"],o);const l=P(n,["personGeneration"]);e!==void 0&&l!=null&&F(e,["parameters","personGeneration"],l);const u=P(n,["addWatermark"]);e!==void 0&&u!=null&&F(e,["parameters","addWatermark"],u);const c=P(n,["outputMimeType"]);e!==void 0&&c!=null&&F(e,["parameters","outputOptions","mimeType"],c);const f=P(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&F(e,["parameters","outputOptions","compressionQuality"],f);const d=P(n,["enhancePrompt"]);e!==void 0&&d!=null&&F(e,["parameters","enhancePrompt"],d);const h=P(n,["labels"]);return e!==void 0&&h!=null&&F(e,["labels"],h),t}function Lnt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["source"]);i!=null&&Ont(i,t);const a=P(e,["config"]);return a!=null&&knt(a,t),t}function Pnt(n){const e={},t=P(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>jL(i))),F(e,["generatedImages"],r)}return e}function Ont(n,e){const t={},r=P(n,["prompt"]);e!==void 0&&r!=null&&F(e,["instances[0]","prompt"],r);const i=P(n,["personImage"]);e!==void 0&&i!=null&&F(e,["instances[0]","personImage","image"],Ff(i));const a=P(n,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Int(o))),F(e,["instances[0]","productImages"],s)}return t}function Fnt(n){const e={},t=P(n,["referenceImage"]);t!=null&&F(e,["referenceImage"],Ff(t));const r=P(n,["referenceId"]);r!=null&&F(e,["referenceId"],r);const i=P(n,["referenceType"]);i!=null&&F(e,["referenceType"],i);const a=P(n,["maskImageConfig"]);a!=null&&F(e,["maskImageConfig"],Rnt(a));const s=P(n,["controlImageConfig"]);s!=null&&F(e,["controlImageConfig"],wtt(s));const o=P(n,["styleImageConfig"]);o!=null&&F(e,["styleImageConfig"],o);const l=P(n,["subjectImageConfig"]);return l!=null&&F(e,["subjectImageConfig"],l),e}function V0e(n){const e={},t=P(n,["safetyAttributes","categories"]);t!=null&&F(e,["categories"],t);const r=P(n,["safetyAttributes","scores"]);r!=null&&F(e,["scores"],r);const i=P(n,["contentType"]);return i!=null&&F(e,["contentType"],i),e}function G0e(n){const e={},t=P(n,["safetyAttributes","categories"]);t!=null&&F(e,["categories"],t);const r=P(n,["safetyAttributes","scores"]);r!=null&&F(e,["scores"],r);const i=P(n,["contentType"]);return i!=null&&F(e,["contentType"],i),e}function Bnt(n){const e={},t=P(n,["category"]);if(t!=null&&F(e,["category"],t),P(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=P(n,["threshold"]);return r!=null&&F(e,["threshold"],r),e}function znt(n){const e={},t=P(n,["image"]);return t!=null&&F(e,["image"],Ff(t)),e}function Unt(n,e){const t={},r=P(n,["mode"]);e!==void 0&&r!=null&&F(e,["parameters","mode"],r);const i=P(n,["maxPredictions"]);e!==void 0&&i!=null&&F(e,["parameters","maxPredictions"],i);const a=P(n,["confidenceThreshold"]);e!==void 0&&a!=null&&F(e,["parameters","confidenceThreshold"],a);const s=P(n,["maskDilation"]);e!==void 0&&s!=null&&F(e,["parameters","maskDilation"],s);const o=P(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&F(e,["parameters","binaryColorThreshold"],o);const l=P(n,["labels"]);return e!==void 0&&l!=null&&F(e,["labels"],l),t}function Vnt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["source"]);i!=null&&Hnt(i,t);const a=P(e,["config"]);return a!=null&&Unt(a,t),t}function Gnt(n){const e={},t=P(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>hnt(i))),F(e,["generatedMasks"],r)}return e}function Hnt(n,e){const t={},r=P(n,["prompt"]);e!==void 0&&r!=null&&F(e,["instances[0]","prompt"],r);const i=P(n,["image"]);e!==void 0&&i!=null&&F(e,["instances[0]","image"],Ff(i));const a=P(n,["scribbleImage"]);return e!==void 0&&a!=null&&F(e,["instances[0]","scribble"],znt(a)),t}function H0e(n){const e={},t=P(n,["languageCode"]);t!=null&&F(e,["languageCode"],t);const r=P(n,["voiceConfig"]);if(r!=null&&F(e,["voiceConfig"],r),P(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function jnt(n){const e={},t=P(n,["functionCallingConfig"]);t!=null&&F(e,["functionCallingConfig"],Ytt(t));const r=P(n,["retrievalConfig"]);return r!=null&&F(e,["retrievalConfig"],r),e}function Wnt(n){const e={},t=P(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(f=>f)),F(e,["functionDeclarations"],c)}if(P(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=P(n,["googleSearchRetrieval"]);r!=null&&F(e,["googleSearchRetrieval"],r);const i=P(n,["computerUse"]);i!=null&&F(e,["computerUse"],i);const a=P(n,["fileSearch"]);a!=null&&F(e,["fileSearch"],a);const s=P(n,["codeExecution"]);if(s!=null&&F(e,["codeExecution"],s),P(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=P(n,["googleMaps"]);o!=null&&F(e,["googleMaps"],xnt(o));const l=P(n,["googleSearch"]);l!=null&&F(e,["googleSearch"],_nt(l));const u=P(n,["urlContext"]);return u!=null&&F(e,["urlContext"],u),e}function j0e(n){const e={},t=P(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(d=>qtt(d))),F(e,["functionDeclarations"],f)}const r=P(n,["retrieval"]);r!=null&&F(e,["retrieval"],r);const i=P(n,["googleSearchRetrieval"]);i!=null&&F(e,["googleSearchRetrieval"],i);const a=P(n,["computerUse"]);if(a!=null&&F(e,["computerUse"],a),P(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=P(n,["codeExecution"]);s!=null&&F(e,["codeExecution"],s);const o=P(n,["enterpriseWebSearch"]);o!=null&&F(e,["enterpriseWebSearch"],o);const l=P(n,["googleMaps"]);l!=null&&F(e,["googleMaps"],l);const u=P(n,["googleSearch"]);u!=null&&F(e,["googleSearch"],u);const c=P(n,["urlContext"]);return c!=null&&F(e,["urlContext"],c),e}function Ynt(n){const e={},t=P(n,["baseModel"]);t!=null&&F(e,["baseModel"],t);const r=P(n,["createTime"]);r!=null&&F(e,["createTime"],r);const i=P(n,["updateTime"]);return i!=null&&F(e,["updateTime"],i),e}function qnt(n){const e={},t=P(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&F(e,["baseModel"],t);const r=P(n,["createTime"]);r!=null&&F(e,["createTime"],r);const i=P(n,["updateTime"]);return i!=null&&F(e,["updateTime"],i),e}function Xnt(n,e){const t={},r=P(n,["displayName"]);e!==void 0&&r!=null&&F(e,["displayName"],r);const i=P(n,["description"]);e!==void 0&&i!=null&&F(e,["description"],i);const a=P(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&F(e,["defaultCheckpointId"],a),t}function Znt(n,e){const t={},r=P(n,["displayName"]);e!==void 0&&r!=null&&F(e,["displayName"],r);const i=P(n,["description"]);e!==void 0&&i!=null&&F(e,["description"],i);const a=P(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&F(e,["defaultCheckpointId"],a),t}function Knt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","name"],Qr(n,r));const i=P(e,["config"]);return i!=null&&Xnt(i,t),t}function $nt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["config"]);return i!=null&&Znt(i,t),t}function Jnt(n,e){const t={},r=P(n,["outputGcsUri"]);e!==void 0&&r!=null&&F(e,["parameters","storageUri"],r);const i=P(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&F(e,["parameters","safetySetting"],i);const a=P(n,["personGeneration"]);e!==void 0&&a!=null&&F(e,["parameters","personGeneration"],a);const s=P(n,["includeRaiReason"]);e!==void 0&&s!=null&&F(e,["parameters","includeRaiReason"],s);const o=P(n,["outputMimeType"]);e!==void 0&&o!=null&&F(e,["parameters","outputOptions","mimeType"],o);const l=P(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&F(e,["parameters","outputOptions","compressionQuality"],l);const u=P(n,["enhanceInputImage"]);e!==void 0&&u!=null&&F(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=P(n,["imagePreservationFactor"]);e!==void 0&&c!=null&&F(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=P(n,["labels"]);e!==void 0&&f!=null&&F(e,["labels"],f);const d=P(n,["numberOfImages"]);e!==void 0&&d!=null&&F(e,["parameters","sampleCount"],d);const h=P(n,["mode"]);return e!==void 0&&h!=null&&F(e,["parameters","mode"],h),t}function Qnt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["_url","model"],Qr(n,r));const i=P(e,["image"]);i!=null&&F(t,["instances[0]","image"],Ff(i));const a=P(e,["upscaleFactor"]);a!=null&&F(t,["parameters","upscaleConfig","upscaleFactor"],a);const s=P(e,["config"]);return s!=null&&Jnt(s,t),t}function ert(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>jL(a))),F(e,["generatedImages"],i)}return e}function trt(n){const e={},t=P(n,["uri"]);t!=null&&F(e,["uri"],t);const r=P(n,["encodedVideo"]);r!=null&&F(e,["videoBytes"],rm(r));const i=P(n,["encoding"]);return i!=null&&F(e,["mimeType"],i),e}function nrt(n){const e={},t=P(n,["gcsUri"]);t!=null&&F(e,["uri"],t);const r=P(n,["bytesBase64Encoded"]);r!=null&&F(e,["videoBytes"],rm(r));const i=P(n,["mimeType"]);return i!=null&&F(e,["mimeType"],i),e}function rrt(n){const e={},t=P(n,["image"]);t!=null&&F(e,["_self"],Ff(t));const r=P(n,["maskMode"]);return r!=null&&F(e,["maskMode"],r),e}function irt(n){const e={},t=P(n,["image"]);t!=null&&F(e,["image"],WL(t));const r=P(n,["referenceType"]);return r!=null&&F(e,["referenceType"],r),e}function art(n){const e={},t=P(n,["image"]);t!=null&&F(e,["image"],Ff(t));const r=P(n,["referenceType"]);return r!=null&&F(e,["referenceType"],r),e}function W0e(n){const e={},t=P(n,["uri"]);t!=null&&F(e,["uri"],t);const r=P(n,["videoBytes"]);r!=null&&F(e,["encodedVideo"],rm(r));const i=P(n,["mimeType"]);return i!=null&&F(e,["encoding"],i),e}function Y0e(n){const e={},t=P(n,["uri"]);t!=null&&F(e,["gcsUri"],t);const r=P(n,["videoBytes"]);r!=null&&F(e,["bytesBase64Encoded"],rm(r));const i=P(n,["mimeType"]);return i!=null&&F(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const srt="Content-Type",ort="X-Server-Timeout",lrt="User-Agent",Nz="x-goog-api-client",urt="1.30.0",crt=`google-genai-sdk/${urt}`,frt="v1beta1",drt="v1beta",bte=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class hrt{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:frt,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:drt,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[s,o]of Object.entries(e.queryParams))i.searchParams.append(s,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(t))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const a=new AbortController,s=a.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>a.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return t&&t.extraBody!==null&&prt(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await Ste(i),new Az(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await Ste(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return ob(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:o,value:l}=yield ki(i.read());if(o){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=a.decode(l,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const d=JSON.parse(JSON.stringify(f.error)),h=d.status,p=d.code,m=`got status: ${h}. ${JSON.stringify(f)}`;if(p>=400&&p<600)throw new GL({message:m,status:p})}}catch(f){if(f.name==="ApiError")throw f}s+=u;let c=s.match(bte);for(;c;){const f=c[1];try{const d=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ki(new Az(d)),s=s.slice(c[0].length),c=s.match(bte)}catch(d){throw new Error(`exception parsing stream chunk ${f}. ${d}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=crt+" "+this.clientOptions.userAgentExtra;return e[lrt]=t,e[Nz]=t,e[srt]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(ort,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const o=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l={file:i},u=this.getFileName(e),c=an("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,t==null?void 0:t.httpOptions);return a.upload(e,f,this)}async uploadFileToFileSearchStore(e,t,r){var i;const a=this.clientOptions.uploader,s=await a.stat(t),o=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(t),f={};r!=null&&r.customMetadata&&(f.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(f.chunkingConfig=r.chunkingConfig);const d=await this.fetchUploadUrl(u,o,l,c,f,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(t,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,a,s){var o;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Ste(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new GL({message:i,status:t}):new Error(i)}}function prt(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const a=JSON.parse(n.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))t=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const o=Object.assign({},a);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?o[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vrt="mcp_used/unknown";let mrt=!1;function q0e(n){for(const e of n)if(grt(e)||typeof e=="object"&&"inputSchema"in e)return!0;return mrt}function X0e(n){var e;const t=(e=n[Nz])!==null&&e!==void 0?e:"";n[Nz]=(t+` ${vrt}`).trimStart()}function grt(n){return n!==null&&typeof n=="object"&&n instanceof oG}function yrt(n,e=100){return ob(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield ki(n.listTools({cursor:r}));for(const s of a.tools)yield yield ki(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class oG{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new oG(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const c of this.mcpClients)try{for(var o=!0,l=(t=void 0,nC(yrt(c))),u;u=await l.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const f=i;s.push(f);const d=f.name;if(a[d])throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a[d]=c}}catch(f){t={error:f}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),lQe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);t.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xrt(n,e,t){const r=new eQe;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class _rt{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=wrt(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const c=new Promise(S=>{u=S}),f=e.callbacks,d=function(){u({})},h=this.apiClient,p={onopen:d,onmessage:S=>{xrt(h,f.onmessage,S)},onerror:(t=f==null?void 0:f.onerror)!==null&&t!==void 0?t:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},m=this.webSocketFactory.create(l,Srt(s),p);m.connect(),await c;const _={setup:{model:Qr(this.apiClient,e.model)}};return m.send(JSON.stringify(_)),new brt(m,this.apiClient)}}class brt{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=ott(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=stt(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(z_.PLAY)}pause(){this.sendPlaybackControl(z_.PAUSE)}stop(){this.sendPlaybackControl(z_.STOP)}resetContext(){this.sendPlaybackControl(z_.RESET_CONTEXT)}close(){this.conn.close()}}function Srt(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function wrt(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Trt="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Crt(n,e,t){const r=new QJe;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const a=JSON.parse(i);if(n.isVertexAI()){const s=ctt(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class Art{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new _rt(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,a,s,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&q0e(e.config.tools)&&X0e(f);const d=Rrt(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,c);else{const N=this.apiClient.getApiKey();let L="BidiGenerateContent",B="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),L="BidiGenerateContentConstrained",B="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${L}?${B}=${N}`}let h=()=>{};const p=new Promise(N=>{h=N}),m=e.callbacks,g=function(){var N;(N=m==null?void 0:m.onopen)===null||N===void 0||N.call(m),h({})},y=this.apiClient,_={onopen:g,onmessage:N=>{Crt(y,m.onmessage,N)},onerror:(t=m==null?void 0:m.onerror)!==null&&t!==void 0?t:function(N){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(N){}},S=this.webSocketFactory.create(c,Drt(d),_);S.connect(),await p;let A=Qr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const N=this.apiClient.getProject(),L=this.apiClient.getLocation();A=`projects/${N}/locations/${L}/`+A}let M={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[UI.AUDIO]}:e.config.responseModalities=[UI.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],D=[];for(const N of E)if(this.isCallableTool(N)){const L=N;D.push(await L.tool())}else D.push(N);D.length>0&&(e.config.tools=D);const I={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=att(this.apiClient,I):M=itt(this.apiClient,I),delete M.config,S.send(JSON.stringify(M)),new Ert(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Mrt={turnComplete:!0};class Ert{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=_c(t.turns),e.isVertexAI()||(r=r.map(i=>HL(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Trt)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Mrt),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:utt(e)}:t={realtimeInput:ltt(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Drt(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function Rrt(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wte=10;function Tte(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(lb(s)){i=!0;break}if(!i)return!0;const a=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function lb(n){return"callTool"in n&&typeof n.callTool=="function"}function Nrt(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>lb(i)))!==null&&r!==void 0?r:!1}function Cte(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(lb(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&t.push(i)}),t}function Ate(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Irt extends Zp{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,a,s,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Nrt(t)||Tte(t.config))return await this.generateContentInternal(l);const u=Cte(t);if(u.length>0){const m=u.map(g=>`tools[${g}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${m}.`)}let c,f;const d=_c(l.contents),h=(a=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:wte;let p=0;for(;p<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const m=c.candidates[0].content,g=[];for(const y of(o=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(lb(y)){const S=await y.callTool(c.functionCalls);g.push(...S)}p++,f={role:"user",parts:g},l.contents=_c(l.contents),l.contents.push(m),l.contents.push(f),Ate(l.config)&&(d.push(m),d.push(f))}return Ate(l.config)&&(c.automaticFunctionCallingHistory=d),c},this.generateContentStream=async t=>{var r,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(t),Tte(t.config)){const f=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(f)}const l=Cte(t);if(l.length>0){const f=l.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,c=(o=(s=t==null?void 0:t.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:s.push(l);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async t=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new px(Bp.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,a,s,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((s=(a=t.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const a=(t=e.config)===null||t===void 0?void 0:t.tools;if(!a)return e;const s=await Promise.all(a.map(async l=>lb(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(o.config.tools=s,e.config&&e.config.tools&&q0e(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),X0e(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,r,i;const a=new Map;for(const s of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(lb(s)){const o=s,l=await o.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,o)}}return a}async processAfcStream(e){var t,r,i;const a=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:wte;let s=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,c,f){var d,h;return ob(this,arguments,function*(){for(var p,m,g,y;o<a;){s&&(o++,s=!1);const M=yield ki(u.processParamsMaybeAddMcpUsage(f)),E=yield ki(u.generateContentStreamInternal(M)),D=[],I=[];try{for(var _=!0,S=(m=void 0,nC(E)),A;A=yield ki(S.next()),p=A.done,!p;_=!0){y=A.value,_=!1;const N=y;if(yield yield ki(N),N.candidates&&(!((d=N.candidates[0])===null||d===void 0)&&d.content)){I.push(N.candidates[0].content);for(const L of(h=N.candidates[0].content.parts)!==null&&h!==void 0?h:[])if(o<a&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(L.functionCall.name)){const B=yield ki(c.get(L.functionCall.name).callTool([L.functionCall]));D.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(N){m={error:N}}finally{try{!_&&!p&&(g=S.return)&&(yield ki(g.call(S)))}finally{if(m)throw m.error}}if(D.length>0){s=!0;const N=new Hw;N.candidates=[{content:{role:"user",parts:D}}],yield yield ki(N);const L=[];L.push(...I),L.push({role:"user",parts:D});const B=_c(f.contents).concat(L);f.contents=B}else break}})})(this,l,e)}async generateContentInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=yte(this.apiClient,e);return o=an("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=_te(c),d=new Hw;return Object.assign(d,f),d})}else{const u=gte(this.apiClient,e);return o=an("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=xte(c),d=new Hw;return Object.assign(d,f),d})}}async generateContentStreamInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=yte(this.apiClient,e);return o=an("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return ob(this,arguments,function*(){var d,h,p,m;try{for(var g=!0,y=nC(f),_;_=yield ki(y.next()),d=_.done,!d;g=!0){m=_.value,g=!1;const S=m,A=_te(yield ki(S.json()));A.sdkHttpResponse={headers:S.headers};const M=new Hw;Object.assign(M,A),yield yield ki(M)}}catch(S){h={error:S}}finally{try{!g&&!d&&(p=y.return)&&(yield ki(p.call(y)))}finally{if(h)throw h.error}}})})}else{const u=gte(this.apiClient,e);return o=an("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(f){return ob(this,arguments,function*(){var d,h,p,m;try{for(var g=!0,y=nC(f),_;_=yield ki(y.next()),d=_.done,!d;g=!0){m=_.value,g=!1;const S=m,A=xte(yield ki(S.json()));A.sdkHttpResponse={headers:S.headers};const M=new Hw;Object.assign(M,A),yield yield ki(M)}}catch(S){h={error:S}}finally{try{!g&&!d&&(p=y.return)&&(yield ki(p.call(y)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Utt(this.apiClient,e);return o=an("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Gtt(c),d=new tte;return Object.assign(d,f),d})}else{const u=ztt(this.apiClient,e);return o=an("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Vtt(c),d=new tte;return Object.assign(d,f),d})}}async generateImagesInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Qtt(this.apiClient,e);return o=an("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=tnt(c),d=new nte;return Object.assign(d,f),d})}else{const u=Jtt(this.apiClient,e);return o=an("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=ent(c),d=new nte;return Object.assign(d,f),d})}}async editImageInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Ptt(this.apiClient,e);return a=an("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Ott(l),c=new GJe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Qnt(this.apiClient,e);return a=an("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=ert(l),c=new HJe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Lnt(this.apiClient,e);return a=an("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Pnt(l),c=new jJe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Vnt(this.apiClient,e);return a=an("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Gnt(l),c=new WJe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=ynt(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Rz(c))}else{const u=gnt(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>Dz(c))}}async listInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Mnt(this.apiClient,e);return o=an("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Dnt(c),d=new rte;return Object.assign(d,f),d})}else{const u=Ant(this.apiClient,e);return o=an("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Ent(c),d=new rte;return Object.assign(d,f),d})}}async update(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=$nt(this.apiClient,e);return o=an("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Rz(c))}else{const u=Knt(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>Dz(c))}}async delete(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Ntt(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=ktt(c),d=new ite;return Object.assign(d,f),d})}else{const u=Rtt(this.apiClient,e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Itt(c),d=new ite;return Object.assign(d,f),d})}}async countTokens(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Mtt(this.apiClient,e);return o=an("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Dtt(c),d=new ate;return Object.assign(d,f),d})}else{const u=Att(this.apiClient,e);return o=an("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Ett(c),d=new ate;return Object.assign(d,f),d})}}async computeTokens(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=xtt(this.apiClient,e);return a=an("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=_tt(l),c=new YJe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=ont(this.apiClient,e);return o=an("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=ant(c),d=new VI;return Object.assign(d,f),d})}else{const u=snt(this.apiClient,e);return o=an("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>{const f=int(c),d=new VI;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class krt extends Zp{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=OJe(e);return o=an("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=PJe(e);return o=an("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=EJe(e);return a=an("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lrt(n){const e={},t=P(n,["data"]);if(t!=null&&F(e,["data"],t),P(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function Prt(n){const e={},t=P(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>jrt(a))),F(e,["parts"],i)}const r=P(n,["role"]);return r!=null&&F(e,["role"],r),e}function Ort(n,e,t){const r={},i=P(e,["expireTime"]);t!==void 0&&i!=null&&F(t,["expireTime"],i);const a=P(e,["newSessionExpireTime"]);t!==void 0&&a!=null&&F(t,["newSessionExpireTime"],a);const s=P(e,["uses"]);t!==void 0&&s!=null&&F(t,["uses"],s);const o=P(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&F(t,["bidiGenerateContentSetup"],Hrt(n,o));const l=P(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&F(t,["fieldMask"],l),r}function Frt(n,e){const t={},r=P(e,["config"]);return r!=null&&F(t,["config"],Ort(n,r,t)),t}function Brt(n){const e={};if(P(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=P(n,["fileUri"]);t!=null&&F(e,["fileUri"],t);const r=P(n,["mimeType"]);return r!=null&&F(e,["mimeType"],r),e}function zrt(n){const e={},t=P(n,["id"]);t!=null&&F(e,["id"],t);const r=P(n,["args"]);r!=null&&F(e,["args"],r);const i=P(n,["name"]);if(i!=null&&F(e,["name"],i),P(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(P(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Urt(n){const e={};if(P(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=P(n,["enableWidget"]);return t!=null&&F(e,["enableWidget"],t),e}function Vrt(n){const e={};if(P(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(P(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=P(n,["timeRangeFilter"]);return t!=null&&F(e,["timeRangeFilter"],t),e}function Grt(n,e){const t={},r=P(n,["generationConfig"]);e!==void 0&&r!=null&&F(e,["setup","generationConfig"],r);const i=P(n,["responseModalities"]);e!==void 0&&i!=null&&F(e,["setup","generationConfig","responseModalities"],i);const a=P(n,["temperature"]);e!==void 0&&a!=null&&F(e,["setup","generationConfig","temperature"],a);const s=P(n,["topP"]);e!==void 0&&s!=null&&F(e,["setup","generationConfig","topP"],s);const o=P(n,["topK"]);e!==void 0&&o!=null&&F(e,["setup","generationConfig","topK"],o);const l=P(n,["maxOutputTokens"]);e!==void 0&&l!=null&&F(e,["setup","generationConfig","maxOutputTokens"],l);const u=P(n,["mediaResolution"]);e!==void 0&&u!=null&&F(e,["setup","generationConfig","mediaResolution"],u);const c=P(n,["seed"]);e!==void 0&&c!=null&&F(e,["setup","generationConfig","seed"],c);const f=P(n,["speechConfig"]);e!==void 0&&f!=null&&F(e,["setup","generationConfig","speechConfig"],sG(f));const d=P(n,["thinkingConfig"]);e!==void 0&&d!=null&&F(e,["setup","generationConfig","thinkingConfig"],d);const h=P(n,["enableAffectiveDialog"]);e!==void 0&&h!=null&&F(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=P(n,["systemInstruction"]);e!==void 0&&p!=null&&F(e,["setup","systemInstruction"],Prt(Ro(p)));const m=P(n,["tools"]);if(e!==void 0&&m!=null){let E=wS(m);Array.isArray(E)&&(E=E.map(D=>Yrt(SS(D)))),F(e,["setup","tools"],E)}const g=P(n,["sessionResumption"]);e!==void 0&&g!=null&&F(e,["setup","sessionResumption"],Wrt(g));const y=P(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&F(e,["setup","inputAudioTranscription"],y);const _=P(n,["outputAudioTranscription"]);e!==void 0&&_!=null&&F(e,["setup","outputAudioTranscription"],_);const S=P(n,["realtimeInputConfig"]);e!==void 0&&S!=null&&F(e,["setup","realtimeInputConfig"],S);const A=P(n,["contextWindowCompression"]);e!==void 0&&A!=null&&F(e,["setup","contextWindowCompression"],A);const M=P(n,["proactivity"]);return e!==void 0&&M!=null&&F(e,["setup","proactivity"],M),t}function Hrt(n,e){const t={},r=P(e,["model"]);r!=null&&F(t,["setup","model"],Qr(n,r));const i=P(e,["config"]);return i!=null&&F(t,["config"],Grt(i,t)),t}function jrt(n){const e={},t=P(n,["mediaResolution"]);t!=null&&F(e,["mediaResolution"],t);const r=P(n,["codeExecutionResult"]);r!=null&&F(e,["codeExecutionResult"],r);const i=P(n,["executableCode"]);i!=null&&F(e,["executableCode"],i);const a=P(n,["fileData"]);a!=null&&F(e,["fileData"],Brt(a));const s=P(n,["functionCall"]);s!=null&&F(e,["functionCall"],zrt(s));const o=P(n,["functionResponse"]);o!=null&&F(e,["functionResponse"],o);const l=P(n,["inlineData"]);l!=null&&F(e,["inlineData"],Lrt(l));const u=P(n,["text"]);u!=null&&F(e,["text"],u);const c=P(n,["thought"]);c!=null&&F(e,["thought"],c);const f=P(n,["thoughtSignature"]);f!=null&&F(e,["thoughtSignature"],f);const d=P(n,["videoMetadata"]);return d!=null&&F(e,["videoMetadata"],d),e}function Wrt(n){const e={},t=P(n,["handle"]);if(t!=null&&F(e,["handle"],t),P(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Yrt(n){const e={},t=P(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(f=>f)),F(e,["functionDeclarations"],c)}if(P(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=P(n,["googleSearchRetrieval"]);r!=null&&F(e,["googleSearchRetrieval"],r);const i=P(n,["computerUse"]);i!=null&&F(e,["computerUse"],i);const a=P(n,["fileSearch"]);a!=null&&F(e,["fileSearch"],a);const s=P(n,["codeExecution"]);if(s!=null&&F(e,["codeExecution"],s),P(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=P(n,["googleMaps"]);o!=null&&F(e,["googleMaps"],Urt(o));const l=P(n,["googleSearch"]);l!=null&&F(e,["googleSearch"],Vrt(l));const u=P(n,["urlContext"]);return u!=null&&F(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qrt(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${t}.${a}`);e.push(...i)}else e.push(t)}return e.join(",")}function Xrt(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(n.bidiGenerateContentSetup=a,t=a):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const a=qrt(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?n.fieldMask=a:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class Zrt extends Zp{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=Frt(this.apiClient,e);a=an("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const l=Xrt(o,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Krt(n,e){const t={},r=P(n,["displayName"]);return e!==void 0&&r!=null&&F(e,["displayName"],r),t}function $rt(n){const e={},t=P(n,["config"]);return t!=null&&Krt(t,e),e}function Jrt(n,e){const t={},r=P(n,["force"]);return e!==void 0&&r!=null&&F(e,["_query","force"],r),t}function Qrt(n){const e={},t=P(n,["name"]);t!=null&&F(e,["_url","name"],t);const r=P(n,["config"]);return r!=null&&Jrt(r,e),e}function eit(n){const e={},t=P(n,["name"]);return t!=null&&F(e,["_url","name"],t),e}function tit(n,e){const t={},r=P(n,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),F(e,["customMetadata"],a)}const i=P(n,["chunkingConfig"]);return e!==void 0&&i!=null&&F(e,["chunkingConfig"],i),t}function nit(n){const e={},t=P(n,["name"]);t!=null&&F(e,["name"],t);const r=P(n,["metadata"]);r!=null&&F(e,["metadata"],r);const i=P(n,["done"]);i!=null&&F(e,["done"],i);const a=P(n,["error"]);a!=null&&F(e,["error"],a);const s=P(n,["response"]);return s!=null&&F(e,["response"],iit(s)),e}function rit(n){const e={},t=P(n,["fileSearchStoreName"]);t!=null&&F(e,["_url","file_search_store_name"],t);const r=P(n,["fileName"]);r!=null&&F(e,["fileName"],r);const i=P(n,["config"]);return i!=null&&tit(i,e),e}function iit(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["parent"]);r!=null&&F(e,["parent"],r);const i=P(n,["documentName"]);return i!=null&&F(e,["documentName"],i),e}function ait(n,e){const t={},r=P(n,["pageSize"]);e!==void 0&&r!=null&&F(e,["_query","pageSize"],r);const i=P(n,["pageToken"]);return e!==void 0&&i!=null&&F(e,["_query","pageToken"],i),t}function sit(n){const e={},t=P(n,["config"]);return t!=null&&ait(t,e),e}function oit(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["nextPageToken"]);r!=null&&F(e,["nextPageToken"],r);const i=P(n,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),F(e,["fileSearchStores"],a)}return e}function lit(n,e){const t={},r=P(n,["mimeType"]);e!==void 0&&r!=null&&F(e,["mimeType"],r);const i=P(n,["displayName"]);e!==void 0&&i!=null&&F(e,["displayName"],i);const a=P(n,["customMetadata"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>l)),F(e,["customMetadata"],o)}const s=P(n,["chunkingConfig"]);return e!==void 0&&s!=null&&F(e,["chunkingConfig"],s),t}function uit(n){const e={},t=P(n,["fileSearchStoreName"]);t!=null&&F(e,["_url","file_search_store_name"],t);const r=P(n,["config"]);return r!=null&&lit(r,e),e}function cit(n){const e={},t=P(n,["sdkHttpResponse"]);return t!=null&&F(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fit(n,e){const t={},r=P(n,["force"]);return e!==void 0&&r!=null&&F(e,["_query","force"],r),t}function dit(n){const e={},t=P(n,["name"]);t!=null&&F(e,["_url","name"],t);const r=P(n,["config"]);return r!=null&&fit(r,e),e}function hit(n){const e={},t=P(n,["name"]);return t!=null&&F(e,["_url","name"],t),e}function pit(n,e){const t={},r=P(n,["pageSize"]);e!==void 0&&r!=null&&F(e,["_query","pageSize"],r);const i=P(n,["pageToken"]);return e!==void 0&&i!=null&&F(e,["_query","pageToken"],i),t}function vit(n){const e={},t=P(n,["parent"]);t!=null&&F(e,["_url","parent"],t);const r=P(n,["config"]);return r!=null&&pit(r,e),e}function mit(n){const e={},t=P(n,["sdkHttpResponse"]);t!=null&&F(e,["sdkHttpResponse"],t);const r=P(n,["nextPageToken"]);r!=null&&F(e,["nextPageToken"],r);const i=P(n,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),F(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class git extends Zp{constructor(e){super(),this.apiClient=e,this.list=async t=>new px(Bp.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=hit(e);return a=an("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=dit(e);i=an("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vit(e);return a=an("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=mit(l),c=new qJe;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yit extends Zp{constructor(e,t=new git(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new px(Bp.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=$rt(e);return a=an("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=eit(e);return a=an("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Qrt(e);i=an("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=sit(e);return a=an("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=oit(l),c=new XJe;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=uit(e);return a=an("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=cit(l),c=new ZJe;return Object.assign(c,u),c})}}async importFile(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=rit(e);return a=an("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=nit(l),c=new tG;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xit(n,e){const t={},r=P(n,["name"]);return r!=null&&F(t,["_url","name"],r),t}function _it(n,e){const t={},r=P(n,["name"]);return r!=null&&F(t,["_url","name"],r),t}function bit(n,e,t){const r={};if(P(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=P(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&F(e,["displayName"],i),P(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=P(n,["epochCount"]);e!==void 0&&a!=null&&F(e,["tuningTask","hyperparameters","epochCount"],a);const s=P(n,["learningRateMultiplier"]);if(s!=null&&F(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),P(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(P(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(P(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=P(n,["batchSize"]);e!==void 0&&o!=null&&F(e,["tuningTask","hyperparameters","batchSize"],o);const l=P(n,["learningRate"]);if(e!==void 0&&l!=null&&F(e,["tuningTask","hyperparameters","learningRate"],l),P(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(P(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Sit(n,e,t){const r={};let i=P(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const h=P(n,["validationDataset"]);e!==void 0&&h!=null&&F(e,["supervisedTuningSpec"],Mte(h))}else if(i==="PREFERENCE_TUNING"){const h=P(n,["validationDataset"]);e!==void 0&&h!=null&&F(e,["preferenceOptimizationSpec"],Mte(h))}const a=P(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&F(e,["tunedModelDisplayName"],a);const s=P(n,["description"]);e!==void 0&&s!=null&&F(e,["description"],s);let o=P(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const h=P(n,["epochCount"]);e!==void 0&&h!=null&&F(e,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(o==="PREFERENCE_TUNING"){const h=P(n,["epochCount"]);e!==void 0&&h!=null&&F(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let l=P(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const h=P(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&F(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(l==="PREFERENCE_TUNING"){const h=P(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&F(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let u=P(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=P(n,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&F(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(u==="PREFERENCE_TUNING"){const h=P(n,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&F(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let c=P(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=P(n,["adapterSize"]);e!==void 0&&h!=null&&F(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(c==="PREFERENCE_TUNING"){const h=P(n,["adapterSize"]);e!==void 0&&h!=null&&F(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(P(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(P(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=P(n,["labels"]);e!==void 0&&f!=null&&F(e,["labels"],f);const d=P(n,["beta"]);return e!==void 0&&d!=null&&F(e,["preferenceOptimizationSpec","hyperParameters","beta"],d),r}function wit(n,e){const t={},r=P(n,["baseModel"]);r!=null&&F(t,["baseModel"],r);const i=P(n,["preTunedModel"]);i!=null&&F(t,["preTunedModel"],i);const a=P(n,["trainingDataset"]);a!=null&&Lit(a);const s=P(n,["config"]);return s!=null&&bit(s,t),t}function Tit(n,e){const t={},r=P(n,["baseModel"]);r!=null&&F(t,["baseModel"],r);const i=P(n,["preTunedModel"]);i!=null&&F(t,["preTunedModel"],i);const a=P(n,["trainingDataset"]);a!=null&&Pit(a,t,e);const s=P(n,["config"]);return s!=null&&Sit(s,t,e),t}function Cit(n,e){const t={},r=P(n,["name"]);return r!=null&&F(t,["_url","name"],r),t}function Ait(n,e){const t={},r=P(n,["name"]);return r!=null&&F(t,["_url","name"],r),t}function Mit(n,e,t){const r={},i=P(n,["pageSize"]);e!==void 0&&i!=null&&F(e,["_query","pageSize"],i);const a=P(n,["pageToken"]);e!==void 0&&a!=null&&F(e,["_query","pageToken"],a);const s=P(n,["filter"]);return e!==void 0&&s!=null&&F(e,["_query","filter"],s),r}function Eit(n,e,t){const r={},i=P(n,["pageSize"]);e!==void 0&&i!=null&&F(e,["_query","pageSize"],i);const a=P(n,["pageToken"]);e!==void 0&&a!=null&&F(e,["_query","pageToken"],a);const s=P(n,["filter"]);return e!==void 0&&s!=null&&F(e,["_query","filter"],s),r}function Dit(n,e){const t={},r=P(n,["config"]);return r!=null&&Mit(r,t),t}function Rit(n,e){const t={},r=P(n,["config"]);return r!=null&&Eit(r,t),t}function Nit(n,e){const t={},r=P(n,["sdkHttpResponse"]);r!=null&&F(t,["sdkHttpResponse"],r);const i=P(n,["nextPageToken"]);i!=null&&F(t,["nextPageToken"],i);const a=P(n,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Z0e(o))),F(t,["tuningJobs"],s)}return t}function Iit(n,e){const t={},r=P(n,["sdkHttpResponse"]);r!=null&&F(t,["sdkHttpResponse"],r);const i=P(n,["nextPageToken"]);i!=null&&F(t,["nextPageToken"],i);const a=P(n,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Iz(o))),F(t,["tuningJobs"],s)}return t}function kit(n,e){const t={},r=P(n,["name"]);r!=null&&F(t,["model"],r);const i=P(n,["name"]);return i!=null&&F(t,["endpoint"],i),t}function Lit(n,e){const t={};if(P(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(P(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=P(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),F(t,["examples","examples"],i)}return t}function Pit(n,e,t){const r={};let i=P(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=P(n,["gcsUri"]);e!==void 0&&s!=null&&F(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=P(n,["gcsUri"]);e!==void 0&&s!=null&&F(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=P(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=P(n,["vertexDatasetResource"]);e!==void 0&&s!=null&&F(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=P(n,["vertexDatasetResource"]);e!==void 0&&s!=null&&F(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(P(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Z0e(n,e){const t={},r=P(n,["sdkHttpResponse"]);r!=null&&F(t,["sdkHttpResponse"],r);const i=P(n,["name"]);i!=null&&F(t,["name"],i);const a=P(n,["state"]);a!=null&&F(t,["state"],R0e(a));const s=P(n,["createTime"]);s!=null&&F(t,["createTime"],s);const o=P(n,["tuningTask","startTime"]);o!=null&&F(t,["startTime"],o);const l=P(n,["tuningTask","completeTime"]);l!=null&&F(t,["endTime"],l);const u=P(n,["updateTime"]);u!=null&&F(t,["updateTime"],u);const c=P(n,["description"]);c!=null&&F(t,["description"],c);const f=P(n,["baseModel"]);f!=null&&F(t,["baseModel"],f);const d=P(n,["_self"]);return d!=null&&F(t,["tunedModel"],kit(d)),t}function Iz(n,e){const t={},r=P(n,["sdkHttpResponse"]);r!=null&&F(t,["sdkHttpResponse"],r);const i=P(n,["name"]);i!=null&&F(t,["name"],i);const a=P(n,["state"]);a!=null&&F(t,["state"],R0e(a));const s=P(n,["createTime"]);s!=null&&F(t,["createTime"],s);const o=P(n,["startTime"]);o!=null&&F(t,["startTime"],o);const l=P(n,["endTime"]);l!=null&&F(t,["endTime"],l);const u=P(n,["updateTime"]);u!=null&&F(t,["updateTime"],u);const c=P(n,["error"]);c!=null&&F(t,["error"],c);const f=P(n,["description"]);f!=null&&F(t,["description"],f);const d=P(n,["baseModel"]);d!=null&&F(t,["baseModel"],d);const h=P(n,["tunedModel"]);h!=null&&F(t,["tunedModel"],h);const p=P(n,["preTunedModel"]);p!=null&&F(t,["preTunedModel"],p);const m=P(n,["supervisedTuningSpec"]);m!=null&&F(t,["supervisedTuningSpec"],m);const g=P(n,["preferenceOptimizationSpec"]);g!=null&&F(t,["preferenceOptimizationSpec"],g);const y=P(n,["tuningDataStats"]);y!=null&&F(t,["tuningDataStats"],y);const _=P(n,["encryptionSpec"]);_!=null&&F(t,["encryptionSpec"],_);const S=P(n,["partnerModelTuningSpec"]);S!=null&&F(t,["partnerModelTuningSpec"],S);const A=P(n,["customBaseModel"]);A!=null&&F(t,["customBaseModel"],A);const M=P(n,["experiment"]);M!=null&&F(t,["experiment"],M);const E=P(n,["labels"]);E!=null&&F(t,["labels"],E);const D=P(n,["outputUri"]);D!=null&&F(t,["outputUri"],D);const I=P(n,["pipelineJob"]);I!=null&&F(t,["pipelineJob"],I);const N=P(n,["serviceAccount"]);N!=null&&F(t,["serviceAccount"],N);const L=P(n,["tunedModelDisplayName"]);L!=null&&F(t,["tunedModelDisplayName"],L);const B=P(n,["veoTuningSpec"]);return B!=null&&F(t,["veoTuningSpec"],B),t}function Oit(n,e){const t={},r=P(n,["sdkHttpResponse"]);r!=null&&F(t,["sdkHttpResponse"],r);const i=P(n,["name"]);i!=null&&F(t,["name"],i);const a=P(n,["metadata"]);a!=null&&F(t,["metadata"],a);const s=P(n,["done"]);s!=null&&F(t,["done"],s);const o=P(n,["error"]);return o!=null&&F(t,["error"],o),t}function Mte(n,e){const t={},r=P(n,["gcsUri"]);r!=null&&F(t,["validationDatasetUri"],r);const i=P(n,["vertexDatasetResource"]);return i!=null&&F(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fit extends Zp{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new px(Bp.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},t),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:Cz.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Ait(e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>Iz(c))}else{const u=Cit(e);return o=an("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>Z0e(c))}}async listInternal(e){var t,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Rit(e);return o=an("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Iit(c),d=new ste;return Object.assign(d,f),d})}else{const u=Dit(e);return o=an("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Nit(c),d=new ste;return Object.assign(d,f),d})}}async cancel(e){var t,r,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const l=_it(e);s=an("{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=xit(e);s=an("{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Tit(e,e);return a=an("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Iz(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wit(e);return a=an("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Oit(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bit{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zit=1024*1024*8,Uit=3,Vit=1e3,Git=2,HI="x-goog-upload-status";async function Hit(n,e,t){var r;const i=await K0e(n,e,t),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[HI])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function jit(n,e,t){var r;const i=await K0e(n,e,t),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[HI])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=T0e(a),o=new nG;return Object.assign(o,s),o}async function K0e(n,e,t){var r,i;let a=0,s=0,o=new Az(new Response),l="upload";for(a=n.size;s<a;){const u=Math.min(zit,a-s),c=n.slice(s,s+u);s+u>=a&&(l+=", finalize");let f=0,d=Vit;for(;f<Uit&&(o=await t.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[HI]));)f++,await Yit(d),d=d*Git;if(s+=u,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[HI])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Wit(n){return{size:n.size,type:n.type}}function Yit(n){return new Promise(e=>setTimeout(e,n))}class qit{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Hit(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jit(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wit(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xit{create(e,t,r){return new Zit(e,t,r)}}class Zit{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ete="x-goog-api-key";class Kit{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(Ete)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ete,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $it="gl-node/";class Jit{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=AJe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Kit(this.apiKey);this.apiClient=new hrt({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:$it+"web",uploader:new qit,downloader:new Bit}),this.models=new Irt(this.apiClient),this.live=new Art(this.apiClient,i,new Xit),this.batches=new tet(this.apiClient),this.chats=new Bet(this.models,this.apiClient),this.caches=new Pet(this.apiClient),this.files=new Xet(this.apiClient),this.operations=new krt(this.apiClient),this.authTokens=new Zrt(this.apiClient),this.tunings=new Fit(this.apiClient),this.fileSearchStores=new yit(this.apiClient)}}const Qit=async n=>"API Key is missing. Please check your configuration.",eat=async(n,e)=>"API Key is missing.",tat=({isOpen:n,onClose:e,tasks:t})=>{const[r,i]=de.useState(""),[a,s]=de.useState([{role:"ai",text:"Hi! I'm ClickUp Brain. I can help you summarize tasks, suggest priorities, or answer questions about your workspace."}]),[o,l]=de.useState(!1),u=de.useRef(null);de.useEffect(()=>{u.current&&u.current.scrollIntoView({behavior:"smooth"})},[a]);const c=async()=>{if(!r.trim())return;const d=r;i(""),s(p=>[...p,{role:"user",text:d}]),l(!0);const h=await eat();s(p=>[...p,{role:"ai",text:h}]),l(!1)},f=async d=>{l(!0),s(h=>[...h,{role:"user",text:"Generate a summary of my tasks."}]);{const h=await Qit();s(p=>[...p,{role:"ai",text:h}])}l(!1)};return n?C.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[1px] z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl h-[600px] flex flex-col border border-gray-200 overflow-hidden",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-gradient-to-r from-white to-purple-50/30",children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("div",{className:"bg-clickup-purple/10 p-1.5 rounded-lg",children:C.jsx(w1e,{className:"text-clickup-purple",size:20})}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold text-gray-800",children:"ClickUp Brain"}),C.jsx("p",{className:"text-xs text-gray-500",children:"Powered by Gemini 2.5 Flash"})]})]}),C.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded-full transition-colors",children:C.jsx(Ep,{size:20})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#fdfdfd]",children:[a.map((d,h)=>C.jsx("div",{className:`flex ${d.role==="user"?"justify-end":"justify-start"}`,children:C.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 text-sm leading-relaxed shadow-sm ${d.role==="user"?"bg-clickup-purple text-white rounded-br-none":"bg-white border border-gray-200 text-gray-700 rounded-bl-none"}`,children:d.text})},h)),o&&C.jsx("div",{className:"flex justify-start",children:C.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl rounded-bl-none px-4 py-3 flex items-center space-x-2 shadow-sm",children:[C.jsx(DU,{size:16,className:"animate-spin text-clickup-purple"}),C.jsx("span",{className:"text-xs text-gray-500",children:"Brain is thinking..."})]})}),C.jsx("div",{ref:u})]}),a.length===1&&C.jsxs("div",{className:"px-4 pb-2 flex gap-2 overflow-x-auto",children:[C.jsxs("button",{onClick:()=>f(),className:"flex items-center space-x-1.5 px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg text-xs font-medium transition-colors border border-purple-200/50",children:[C.jsx(wf,{size:14}),C.jsx("span",{children:"Summarize Tasks"})]}),C.jsx("button",{onClick:()=>{i("What tasks are high priority?"),c()},className:"flex items-center space-x-1.5 px-3 py-2 bg-gray-50 hover:bg-gray-100 text-gray-600 rounded-lg text-xs font-medium transition-colors border border-gray-200/50",children:C.jsx("span",{children:"High Priority Items?"})})]}),C.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[C.jsxs("div",{className:"relative flex items-center",children:[C.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),onKeyDown:d=>d.key==="Enter"&&c(),placeholder:"Ask AI anything about your tasks...",className:"w-full pl-4 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple transition-all text-sm"}),C.jsx("button",{onClick:c,disabled:!r.trim()||o,className:"absolute right-2 p-1.5 bg-clickup-purple text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",children:C.jsx(uae,{size:16})})]}),C.jsx("div",{className:"mt-2 text-center",children:C.jsx("p",{className:"text-[10px] text-gray-400",children:"AI can make mistakes. Please review generated responses."})})]})]})}):null},nat=[{id:"standup",title:"AI StandUp",desc:"AI generated standup.",icon:wf,color:"bg-gradient-to-br from-indigo-500 to-purple-600",isNew:!0},{id:"recents",title:"Recents",desc:"A list of all the ClickUp objects and locations you've recently viewed.",icon:aae,color:"bg-sky-500"},{id:"agenda",title:"Agenda",desc:"Visualize tasks and events on your different calendars in one place.",icon:Mp,color:"bg-pink-500"},{id:"mywork",title:"My Work",desc:"A list for all of your assigned tasks and reminders.",icon:fb,color:"bg-blue-500"},{id:"assigned",title:"Assigned to me",desc:"Consolidate your tasks across different lists that you have as an assignee.",icon:fb,color:"bg-blue-400"},{id:"personal",title:"Personal List",desc:"Keep track of your personal tasks in a list that is only visible to you.",icon:nae,color:"bg-purple-500"},{id:"comments",title:"Assigned Comments",desc:"Resolve and view any comment that has been assigned to you.",icon:lae,color:"bg-teal-500"},{id:"lineup",title:"Priorities (LineUp)",desc:"Prioritize your most important tasks into one concise list.",icon:sae,color:"bg-indigo-500"},{id:"reminders",title:"Reminders",desc:"Organize and keep on top of all your reminders.",icon:OA,color:"bg-orange-500"}],rat=({isOpen:n,onClose:e,onAddCard:t,onRemoveCard:r,addedCardTypes:i})=>{const{showToast:a}=Du();return n?C.jsxs("div",{className:"absolute top-0 right-0 bottom-0 w-96 bg-white border-l border-gray-200 shadow-2xl z-[2147483647] flex flex-col animate-in slide-in-from-right duration-300",children:[C.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[C.jsx("h2",{className:"text-base font-bold text-gray-800",children:"Add Cards"}),C.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:C.jsx(Ep,{size:18})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-4 bg-gray-50/50 custom-scrollbar",children:nat.map(s=>{const o=i.includes(s.id);return C.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all group",children:[C.jsxs("div",{className:"flex justify-between items-start mb-3",children:[C.jsx("div",{className:`w-10 h-10 rounded-lg ${s.color} flex items-center justify-center text-white shadow-md`,children:C.jsx(s.icon,{size:20})}),C.jsx("button",{className:`flex items-center space-x-1.5 border text-[10px] font-bold px-3 py-1.5 rounded-md transition-all active:scale-95 ${o?"bg-green-50 border-green-200 text-green-600 hover:bg-red-50 hover:border-red-200 hover:text-red-600":"bg-white hover:bg-gray-50 border-gray-200 text-gray-600 hover:text-brand-primary hover:border-brand-primary"}`,onClick:()=>{o?(r(s.id),a(`Removed ${s.title} from Home`,"info")):(t({id:s.id,title:s.title,color:s.color}),a(`Added ${s.title} to Home`,"success"))},children:o?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"group-hover:hidden flex items-center space-x-1",children:C.jsx("span",{children:"ADDED"})}),C.jsx("span",{className:"hidden group-hover:flex items-center space-x-1",children:C.jsx("span",{children:"REMOVE"})})]}):C.jsxs(C.Fragment,{children:[C.jsx(li,{size:12}),C.jsx("span",{children:"ADD"})]})})]}),C.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[C.jsx("h3",{className:"text-sm font-bold text-gray-800 group-hover:text-brand-primary transition-colors",children:s.title}),s.isNew&&C.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white text-[9px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wide shadow-sm",children:"New"})]}),C.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:s.desc})]},s.id)})})]}):null},iat=({onLoginClick:n})=>C.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white font-sans selection:bg-brand-primary selection:text-white overflow-x-hidden",children:[C.jsxs("nav",{className:"flex items-center justify-between px-6 py-6 max-w-7xl mx-auto relative z-20",children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-brand-primary to-indigo-500 rounded-lg flex items-center justify-center shadow-lg shadow-brand-primary/20",children:C.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsx("path",{d:"M2 17L12 22L22 17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsx("path",{d:"M2 12L12 17L22 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),C.jsx("span",{className:"text-xl font-bold tracking-tight",children:"ClickUp Clone"})]}),C.jsxs("div",{className:"flex items-center space-x-6",children:[C.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Product"}),C.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Solutions"}),C.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Pricing"}),C.jsx("button",{onClick:n,className:"bg-white text-black px-5 py-2 rounded-full text-sm font-bold hover:bg-gray-200 transition-colors",children:"Log in"}),C.jsx("button",{className:"bg-gray-900 hover:bg-black px-5 py-2 rounded-full text-sm font-bold transition-all shadow-md text-white",children:"Sign Up"})]})]}),C.jsxs("div",{className:"relative pt-20 pb-32 px-6",children:[C.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[600px] bg-brand-primary/20 blur-[120px] rounded-full pointer-events-none z-0"}),C.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[C.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/5 border border-white/10 rounded-full px-3 py-1 mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[C.jsx(wf,{size:14,className:"text-brand-accent"}),C.jsx("span",{className:"text-xs font-medium text-brand-accent tracking-wide uppercase",children:"ClickUp Brain 3.0 is here"})]}),C.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight mb-6 leading-tight animate-in fade-in slide-in-from-bottom-6 duration-1000 delay-100",children:["One app to ",C.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary via-purple-400 to-brand-accent",children:"replace them all."})]}),C.jsx("p",{className:"text-lg md:text-xl text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200",children:"All your work in one place: Tasks, Docs, Chat, Goals, & more. Boost productivity with the power of Gemini AI integrated directly into your workflow."}),C.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4 animate-in fade-in slide-in-from-bottom-10 duration-1000 delay-300",children:[C.jsxs("button",{className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-gray-900 hover:bg-black text-white font-bold text-lg hover:shadow-lg transition-all hover:-translate-y-1 flex items-center justify-center",children:["Get Started",C.jsx(g1e,{size:18,className:"ml-2"})]}),C.jsx("button",{className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-white/5 border border-white/10 text-white font-bold text-lg hover:bg-white/10 transition-all",children:"See Demo"})]})]}),C.jsxs("div",{className:"mt-20 max-w-6xl mx-auto relative z-10 animate-in fade-in zoom-in duration-1000 delay-500",children:[C.jsxs("div",{className:"rounded-xl border border-white/10 bg-[#1a1b21]/80 backdrop-blur-xl shadow-2xl overflow-hidden",children:[C.jsxs("div",{className:"h-10 border-b border-white/5 flex items-center space-x-2 px-4",children:[C.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20"}),C.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20"}),C.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20"})]}),C.jsxs("div",{className:"aspect-[16/9] relative bg-[#0a0a0a] flex items-center justify-center group",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1a1b21] to-[#0a0a0a] opacity-50"}),C.jsxs("div",{className:"text-center z-10",children:[C.jsx(wv,{size:64,className:"mx-auto text-brand-primary mb-4 opacity-50"}),C.jsx("p",{className:"text-gray-500 font-medium",children:"Interactive Dashboard Experience"})]}),C.jsx("div",{className:"absolute bottom-0 w-full h-1/2 bg-gradient-to-t from-[#0a0a0a] to-transparent"})]})]}),C.jsx("div",{className:"absolute -right-12 top-20 bg-[#24272e] p-4 rounded-lg border border-gray-700 shadow-2xl animate-bounce duration-[3000ms]",children:C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{className:"p-2 bg-green-500/20 rounded text-green-400",children:C.jsx(Zd,{size:20})}),C.jsxs("div",{children:[C.jsx("div",{className:"text-sm font-bold text-white",children:"Task Complete"}),C.jsx("div",{className:"text-xs text-gray-400",children:"Launch Website"})]})]})}),C.jsx("div",{className:"absolute -left-8 bottom-20 bg-[#24272e] p-4 rounded-lg border border-gray-700 shadow-2xl animate-pulse duration-[4000ms]",children:C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{className:"p-2 bg-purple-500/20 rounded text-purple-400",children:C.jsx(wf,{size:20})}),C.jsxs("div",{children:[C.jsx("div",{className:"text-sm font-bold text-white",children:"AI Summary"}),C.jsx("div",{className:"text-xs text-gray-400",children:"Generated 3 subtasks"})]})]})})]})]}),C.jsx("div",{className:"py-24 bg-[#0f1014] border-t border-white/5",children:C.jsx("div",{className:"max-w-7xl mx-auto px-6",children:C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[C.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[C.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:C.jsx(wv,{className:"text-blue-400",size:24})}),C.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Everything View"}),C.jsx("p",{className:"text-gray-400 leading-relaxed",children:"See the big picture. View tasks across all your projects in a single customizable list."})]}),C.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[C.jsx("div",{className:"w-12 h-12 rounded-lg bg-brand-primary/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:C.jsx(MT,{className:"text-brand-primary",size:24})}),C.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Automation & AI"}),C.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Save time with custom automations and ClickUp Brain's generative capabilities."})]}),C.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[C.jsx("div",{className:"w-12 h-12 rounded-lg bg-emerald-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:C.jsx(fae,{className:"text-emerald-400",size:24})}),C.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Enterprise Security"}),C.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Bank-grade security with 2FA, SSO, and strict permission controls for your team."})]})]})})}),C.jsx("footer",{className:"py-12 border-t border-white/10 text-center text-gray-500 text-sm",children:C.jsx("p",{children:" 2024 ClickUp Clone by Gemini. All rights reserved."})})]}),aat=[{email:"max@nabdchain.com",password:"1",user:{id:"u1",name:"Max Nabd",avatar:"MN",color:"#7B61FF"}},{email:"hasan@nabdchain.com",password:"1",user:{id:"u2",name:"Hasan Nabd",avatar:"HN",color:"#00E1D4"}}],kz={login:async(n,e)=>{await new Promise(r=>setTimeout(r,800));const t=aat.find(r=>r.email.toLowerCase()===n.toLowerCase()&&r.password===e);return t?(localStorage.setItem("clickup_user",JSON.stringify(t.user)),t.user):null},logout:()=>{localStorage.removeItem("clickup_user")},getCurrentUser:()=>{const n=localStorage.getItem("clickup_user");return n?JSON.parse(n):null}},sat=({onLoginSuccess:n,onBack:e})=>{const[t,r]=de.useState(""),[i,a]=de.useState(""),[s,o]=de.useState(!1),[l,u]=de.useState(""),c=async f=>{f.preventDefault(),u(""),o(!0);try{const d=await kz.login(t,i);d?n(d):u("Invalid email or password. Try max@nabdchain.com / 1")}catch{u("Something went wrong. Please try again.")}finally{o(!1)}};return C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f7f8f9] px-4 relative overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-64 bg-brand-primary skew-y-3 origin-top-left transform -translate-y-20 z-0"}),C.jsxs("button",{onClick:e,className:"absolute top-6 left-6 flex items-center text-white z-10 hover:opacity-80 transition-opacity font-medium",children:[C.jsx(v1e,{size:18,className:"mr-2"}),"Back to Home"]}),C.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md z-10 animate-in fade-in zoom-in duration-300",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("div",{className:"w-12 h-12 bg-brand-primary rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-brand-primary/30",children:C.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),C.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome back!"}),C.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Enter your credentials to access your workspace."})]}),C.jsxs("form",{onSubmit:c,className:"space-y-5",children:[l&&C.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-600 p-3 rounded-lg text-sm flex items-start",children:[C.jsx($y,{size:16,className:"mr-2 mt-0.5 shrink-0"}),l]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wide mb-1.5",children:"Email"}),C.jsx("input",{type:"email",value:t,onChange:f=>r(f.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-all text-gray-800",placeholder:"name@work-email.com",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wide mb-1.5",children:"Password"}),C.jsx("input",{type:"password",value:i,onChange:f=>a(f.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-all text-gray-800",placeholder:"Enter your password",required:!0})]}),C.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gray-900 hover:bg-black text-white font-bold py-3.5 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center",children:s?C.jsx(DU,{className:"animate-spin"}):"Login"})]}),C.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:C.jsxs("p",{children:["Use ",C.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded text-gray-600",children:"max@nabdchain.com"})," and password ",C.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded text-gray-600",children:"1"})]})})]}),C.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 z-10",children:" 2024 ClickUp Clone. Secure Login."})]})},oat=(n,e)=>{const[t,r]=de.useState([]),[i,a]=de.useState(!0),{showToast:s}=Du(),o=de.useCallback(async()=>{try{a(!0);const h=(await ay.getTasks()).sort((p,m)=>(p.order||0)-(m.order||0));r(h)}catch{s("Failed to load tasks from backend","error")}finally{a(!1)}},[s]);return de.useEffect(()=>{n==="app"&&o()},[n,o]),{tasks:t,isLoading:i,handleStatusChange:async(d,h)=>{const p=[...t];r(m=>m.map(g=>g.id===d?{...g,status:h}:g));try{await ay.updateTask(d,{status:h})}catch{r(p),s("Failed to update task status","error")}},handleUpdateTask:async(d,h)=>{const p=[...t];r(m=>m.map(g=>g.id===d?{...g,...h}:g));try{await ay.updateTask(d,h),s("Task updated","success")}catch{r(p),s("Failed to update task","error")}},handleReorder:d=>{r(d)},handleQuickCreate:async()=>{const d=prompt("Enter task title:");if(d){s("Creating task...","info");try{const h=await ay.createTask({title:d,status:fM.Todo,priority:"None",assignees:[],tags:e==="backend"?["Backend"]:[],description:"",order:t.length,spaceId:"default"});r(p=>[...p,h]),s("Task created successfully","success")}catch{s("Failed to create task","error")}}},fetchTasks:o}},lat=()=>{const[n,e]=de.useState([]);return{homeCards:n,handleAddHomeCard:s=>{let o=600,l=400;s.id==="agenda"?l=500:s.id==="lineup"&&(l=400);const u=30,c=32,d=n.reduce((y,_)=>Math.max(y,_.y+_.h),20-u),h=c,p=d+u,m=n.reduce((y,_)=>Math.max(y,_.zIndex||0),0),g={instanceId:Date.now().toString(),typeId:s.id,title:s.title,color:s.color,x:h,y:p,w:o,h:l,zIndex:m+1};e(y=>[...y,g])},handleUpdateHomeCard:s=>{e(o=>o.map(l=>l.instanceId===s.instanceId?s:l))},handleRemoveHomeCard:s=>{e(o=>o.filter(l=>l.instanceId!==s))},handleRemoveHomeCardByType:s=>{e(o=>o.filter(l=>l.typeId!==s))}}},Dte="http://localhost:3001",Rte={getWidgets:async()=>(await fetch(`${Dte}/widgets`)).json(),updateWidgets:async n=>{await fetch(`${Dte}/widgets`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}},uat=n=>{const[e,t]=de.useState({}),r=de.useCallback(async()=>{try{const a=await Rte.getWidgets();a&&t(a)}catch(a){console.error("Failed to fetch widgets:",a)}},[]);return de.useEffect(()=>{n==="app"&&r()},[n,r]),{pageWidgets:e,setPageWidgets:t,onUpdateWidget:(a,s)=>{const o={...e,[a]:s};t(o),Rte.updateWidgets(o).catch(l=>console.error("Failed to save widgets:",l))}}},cat=[],$0e={1:{id:"1",name:"Alex",avatar:"A",color:"#ef4444"},2:{id:"2",name:"Sam",avatar:"S",color:"#3b82f6"},3:{id:"3",name:"Jordan",avatar:"J",color:"#10b981"},me:{id:"me",name:"Me",avatar:"ME",color:"#7b68ee"}},fat=()=>C.jsx("div",{className:"space-y-2 text-sm",children:["Q4 Strategy Doc","Backend Sprint List","Design System Board","Marketing Campaign","User Research 2024","Deployment Scripts"].map((n,e)=>C.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer transition-colors group border border-transparent hover:border-gray-100",children:[C.jsx("div",{className:"w-8 h-8 bg-blue-50/50 rounded-md text-blue-500 flex items-center justify-center text-[10px] font-bold border border-blue-100 group-hover:bg-blue-100 group-hover:border-blue-200 transition-all",children:n[0]}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("p",{className:"text-gray-700 font-medium truncate group-hover:text-brand-primary transition-colors",children:n}),C.jsxs("p",{className:"text-xs text-gray-400",children:["Accessed ",e+1," hour",e!==0?"s":""," ago"]})]})]},e))}),dat=()=>C.jsxs("div",{className:"space-y-3",children:[cat.filter(n=>n.priority==="Urgent"||n.priority==="High").slice(0,5).map((n,e)=>C.jsxs("div",{className:"flex items-start space-x-3 group cursor-pointer",children:[C.jsx("div",{className:"mt-1 text-xs font-bold text-gray-300 w-4 text-right",children:e+1}),C.jsxs("div",{className:"flex-1 bg-white border border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md hover:border-brand-primary/30 transition-all",children:[C.jsxs("div",{className:"flex justify-between items-start mb-1",children:[C.jsx("span",{className:"text-xs font-semibold px-1.5 py-0.5 rounded bg-red-50 text-red-500 border border-red-100",children:n.priority}),C.jsx("span",{className:"text-[10px] text-gray-400",children:n.dueDate?new Date(n.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"No Date"})]}),C.jsx("p",{className:"text-sm font-medium text-gray-800 leading-tight group-hover:text-brand-primary transition-colors",children:n.title})]})]},n.id)),C.jsxs("button",{className:"w-full py-2.5 text-xs font-medium text-gray-400 border border-dashed border-gray-200 rounded-lg hover:bg-gray-50 hover:text-brand-primary hover:border-brand-primary/30 transition-colors flex items-center justify-center space-x-1",children:[C.jsx(li,{size:12}),C.jsx("span",{children:"Add Task to LineUp"})]})]}),hat=()=>C.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4 p-4",children:[C.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-full flex items-center justify-center shadow-inner border border-white",children:C.jsx(wf,{className:"text-brand-primary",size:28})}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold text-gray-800",children:"Daily Standup"}),C.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-[200px] mx-auto leading-relaxed",children:"Brain analyzes your activity to generate a smart status report."})]}),C.jsx("button",{className:"bg-gray-900 hover:bg-black text-white px-5 py-2 rounded-lg text-sm font-bold transition-all shadow-md hover:shadow-lg active:scale-95",children:"Generate with AI"})]}),pat=()=>{const e=[{time:"09:30",end:"10:00",title:"Daily Standup",type:"meeting",color:"bg-blue-50 border-blue-100 text-blue-700",icon:Uj},{time:"11:00",end:"12:30",title:"Design Review: Mobile App",type:"work",color:"bg-purple-50 border-purple-100 text-purple-700",icon:RU},{time:"14:00",end:"15:00",title:"Customer Sync",type:"meeting",color:"bg-green-50 border-green-100 text-green-700",icon:Uj},{time:"16:30",end:"17:00",title:"Wrap up & Planning",type:"task",color:"bg-gray-50 border-gray-100 text-gray-600",icon:fb}];return C.jsxs("div",{className:"relative h-full flex flex-col",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-100",children:[C.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Today, Oct 24"}),C.jsx("button",{className:"text-[10px] bg-gray-50 border border-gray-200 px-2 py-1 rounded hover:bg-gray-100 text-gray-600 transition-colors",children:"Sync Calendar"})]}),C.jsxs("div",{className:"flex-1 relative overflow-y-auto scrollbar-hide pl-2 pr-2 space-y-4",children:[C.jsx("div",{className:"absolute left-[48px] top-0 bottom-0 w-[1px] bg-gray-200 z-0"}),C.jsxs("div",{className:"absolute left-[42px] w-full flex items-center z-10",style:{top:"45%"},children:[C.jsx("div",{className:"w-3 h-3 bg-brand-urgent rounded-full border-2 border-white shadow-sm"}),C.jsx("div",{className:"flex-1 h-[1px] bg-brand-urgent ml-1 opacity-50"}),C.jsx("span",{className:"text-[10px] text-brand-urgent font-bold bg-white px-1 ml-auto mr-2 shadow-sm rounded border border-red-100",children:"12:45 PM"})]}),e.map((t,r)=>C.jsxs("div",{className:"relative flex z-20 group",children:[C.jsxs("div",{className:"w-12 text-[10px] text-gray-400 text-right pr-3 pt-1 font-mono",children:[C.jsx("div",{children:t.time}),C.jsx("div",{className:"text-gray-300",children:t.end})]}),C.jsxs("div",{className:`flex-1 p-3 rounded-lg border ${t.color} shadow-sm hover:shadow-md transition-all cursor-pointer relative overflow-hidden hover:-translate-y-0.5`,children:[C.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${t.color.replace("bg-","bg-opacity-100 bg-").split(" ")[0].replace("50","500")}`}),C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsx("div",{className:"font-semibold text-sm mb-1",children:t.title}),C.jsx(t.icon,{size:14,className:"opacity-70"})]}),C.jsx("div",{className:"text-xs opacity-80",children:"Zoom  3 participants"})]})]},r)),C.jsxs("div",{className:"relative flex z-20 opacity-50 hover:opacity-100 transition-opacity cursor-pointer group",children:[C.jsx("div",{className:"w-12 text-[10px] text-gray-300 text-right pr-3 pt-2",children:"13:00"}),C.jsx("div",{className:"flex-1 p-3 rounded-lg border border-dashed border-gray-300 flex items-center justify-center text-xs text-gray-400 group-hover:bg-gray-50 h-16 transition-colors",children:"+ Schedule block"})]})]})]})},vat=({title:n})=>C.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-300 space-y-3",children:[C.jsx("div",{className:"p-4 rounded-full bg-gray-50 border border-gray-100",children:C.jsx(EU,{size:24,className:"opacity-30 text-gray-400"})}),C.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["No items in ",n]}),C.jsx("button",{className:"text-xs text-brand-primary font-semibold hover:underline",children:"Connect Source"})]}),mat=({card:n,allCards:e,onUpdate:t,onRemove:r,containerWidth:i})=>{const[a,s]=de.useState(!1),[o,l]=de.useState(!1),u=de.useRef(null),c=24,f=50,d=de.useRef({x:0,y:0,initialX:0,initialY:0,initialW:0,initialH:0}),h=(y,_)=>{y.stopPropagation();const S=Math.max(...e.map(M=>M.zIndex||0),0);t({...n,zIndex:S+1}),d.current={x:y.clientX,y:y.clientY,initialX:n.x,initialY:n.y,initialW:n.w,initialH:n.h};const A=u.current;A&&A.setPointerCapture(y.pointerId),_==="drag"&&s(!0),_==="resize"&&l(!0)},p=y=>{if(!a&&!o)return;y.stopPropagation();const _=y.clientX-d.current.x,S=y.clientY-d.current.y;if(a&&u.current){let A=d.current.initialX+_,M=d.current.initialY+S;const E=i;A=Math.max(32,A),M=Math.max(0,M);const D=20;Math.abs(A%D)<f&&(A=Math.round(A/D)*D),Math.abs(M%D)<f&&(M=Math.round(M/D)*D),A=Math.max(32,Math.min(A,E-d.current.initialW-32)),M=Math.max(0,M),u.current.style.transform=`translate(${A-d.current.initialX}px, ${M-d.current.initialY}px)`,u.current.style.zIndex="100",u.current.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)";const I=u.current.getBoundingClientRect(),N=u.current.offsetParent;if(!N)return;const L=N.getBoundingClientRect(),B=I.left-L.left,O=I.top-L.left,G=I.width,V=I.height;e.forEach(q=>{if(q.instanceId!==n.instanceId)if(B<q.x+q.w&&B+G>q.x&&O<q.y+q.h&&O+V>q.y){const W=document.getElementById(`card-${q.instanceId}`);W&&(W.style.transform=`translateY(${V+c}px)`,W.style.transition="transform 0.2s cubic-bezier(0.2, 0, 0, 1)")}else{const W=document.getElementById(`card-${q.instanceId}`);W&&(W.style.transform="")}})}if(o&&u.current){let A=Math.max(300,d.current.initialW+_);const M=Math.max(200,d.current.initialH+S),E=i-n.x-32;A=Math.min(A,E),u.current.style.width=`${A}px`,u.current.style.height=`${M}px`}},m=y=>{if(!a&&!o)return;y.stopPropagation();const _=u.current;if(_){_.releasePointerCapture(y.pointerId);const S=_.getBoundingClientRect(),A=_.offsetParent;if(A){const M=A.getBoundingClientRect();let E=S.left-M.left,D=S.top-M.top,I=S.width,N=S.height;if(a){E=Math.round(E/20)*20,D=Math.round(D/20)*20,E=Math.max(32,Math.min(E,i-I-32)),D=Math.max(0,D);const B=[],O={x:E,y:D,w:I,h:N};e.filter(V=>V.instanceId!==n.instanceId).sort((V,q)=>V.y-q.y).forEach(V=>{if(O.x<V.x+V.w&&O.x+O.w>V.x&&O.y<V.y+V.h&&O.y+O.h>V.y){const W=O.y+O.h+c;B.push({...V,y:W}),V.y=W}const q=document.getElementById(`card-${V.instanceId}`);q&&(q.style.transform="")}),t({...n,x:E,y:D,w:I,h:N},B)}else if(o){const L=i-E-32;I=Math.min(I,L),t({...n,x:E,y:D,w:I,h:N})}}}s(!1),l(!1)},g={standup:wf,recents:aae,agenda:Mp,mywork:fb,assigned:fb,personal:nae,comments:lae,lineup:sae,reminders:OA}[n.typeId]||EU;return C.jsxs("div",{id:`card-${n.instanceId}`,ref:u,className:`absolute bg-white rounded-xl flex flex-col overflow-hidden group transition-shadow duration-200 ${a?"shadow-2xl cursor-grabbing z-50 scale-[1.02] ring-2 ring-brand-primary ring-opacity-50":"shadow-card hover:shadow-card-hover z-10 border border-gray-200/60"}`,style:{left:n.x,top:n.y,width:n.w,height:n.h,zIndex:a?9999:n.zIndex,transition:a||o?"none":"box-shadow 0.2s, transform 0.3s ease-out, left 0.3s cubic-bezier(0.2, 0, 0, 1), top 0.3s cubic-bezier(0.2, 0, 0, 1)"},onPointerMove:p,onPointerUp:m,children:[C.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-50/80 cursor-grab active:cursor-grabbing bg-gradient-to-b from-white to-gray-50/50 select-none h-12",onPointerDown:y=>h(y,"drag"),children:[C.jsxs("div",{className:"flex items-center space-x-2.5 pointer-events-none",children:[C.jsx("div",{className:`w-7 h-7 rounded-lg ${n.color} flex items-center justify-center text-white shadow-md shadow-gray-200`,children:C.jsx(g,{size:14})}),C.jsx("span",{className:"text-sm font-bold text-gray-800 tracking-tight",children:n.title})]}),C.jsx("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:C.jsx("button",{onClick:y=>{y.stopPropagation(),r(n.instanceId)},className:"p-1.5 hover:bg-red-50 rounded-md text-gray-400 hover:text-red-500 transition-colors",children:C.jsx(Ep,{size:14})})})]}),C.jsxs("div",{className:"flex-1 p-4 overflow-y-auto scrollbar-hide bg-white select-text cursor-auto",onPointerDown:y=>y.stopPropagation(),children:[n.typeId==="recents"&&C.jsx(fat,{}),n.typeId==="lineup"&&C.jsx(dat,{}),n.typeId==="standup"&&C.jsx(hat,{}),n.typeId==="agenda"&&C.jsx(pat,{}),!["recents","lineup","standup","agenda"].includes(n.typeId)&&C.jsx(vat,{title:n.title})]}),C.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-nwse-resize flex items-end justify-end p-1 opacity-0 group-hover:opacity-100 transition-opacity",onPointerDown:y=>h(y,"resize"),children:C.jsx("div",{className:"w-2.5 h-2.5 border-r-2 border-b-2 border-gray-300 rounded-br-[2px] hover:border-brand-primary transition-colors"})})]})},gat=({cards:n=[],onUpdateCard:e=i=>{},onRemoveCard:t=i=>{},onOpenCustomize:r=()=>{}})=>{const{showToast:i}=Du(),a=new Date().getHours(),s=de.useRef(null),[o,l]=de.useState(1600);de.useEffect(()=>{s.current&&l(s.current.clientWidth);const f=()=>{s.current&&l(s.current.clientWidth)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);let u="Good morning";a>=12&&a<17?u="Good afternoon":a>=17&&(u="Good evening");const c=(f,d=[])=>{e(f),d.forEach(h=>e(h))};return n.length>0?C.jsx("div",{className:"flex-1 bg-brand-surface flex flex-col h-full overflow-hidden relative",children:C.jsxs("div",{className:"flex-1 relative overflow-auto scrollbar-hide w-full h-full",style:{backgroundImage:"radial-gradient(#E5E7EB 1.5px, transparent 1.5px)",backgroundSize:"32px 32px"},children:[C.jsx("div",{className:"px-8 py-6 mb-4",children:C.jsxs("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:[u,", Mohamed"]})}),C.jsxs("div",{ref:s,className:"w-full h-full min-h-[1000px] relative",children:[n.map(f=>C.jsx(mat,{card:f,allCards:n,onUpdate:c,onRemove:t,containerWidth:o},f.instanceId)),C.jsx("div",{className:"absolute inset-0 z-0",onDoubleClick:r,title:"Double click to add card"})]})]})}):C.jsx("div",{className:"flex-1 bg-brand-surface flex flex-col h-full overflow-y-auto scrollbar-hide animate-in fade-in duration-500",children:C.jsxs("div",{className:"w-full mx-auto p-8 md:p-12 flex flex-col h-full",children:[C.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-8 tracking-tight",children:[u,", Gemini User"]}),C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[400px]",children:[C.jsxs("div",{className:"relative w-80 h-64 mb-12 opacity-90 hover:opacity-100 transition-all duration-500 cursor-pointer group",onClick:r,children:[C.jsxs("div",{className:"absolute top-0 left-6 w-52 h-32 bg-white border border-gray-200 rounded-2xl shadow-card transform -rotate-6 z-10 flex flex-col p-4 space-y-3 transition-transform group-hover:-translate-y-3 group-hover:-rotate-12",children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full"}),C.jsx("div",{className:"w-24 h-2.5 bg-gray-100 rounded-full"})]}),C.jsxs("div",{className:"space-y-2 mt-2",children:[C.jsx("div",{className:"w-full h-2 bg-gray-50 rounded-full"}),C.jsx("div",{className:"w-3/4 h-2 bg-gray-50 rounded-full"})]})]}),C.jsxs("div",{className:"absolute top-8 right-6 w-52 h-32 bg-white border border-gray-200 rounded-2xl shadow-card transform rotate-6 z-0 flex flex-col p-4 items-end justify-between transition-transform group-hover:translate-x-3 group-hover:rotate-12",children:[C.jsx("div",{className:"w-10 h-2.5 bg-gray-100 rounded-full mb-2"}),C.jsx("div",{className:"w-full h-14 bg-gray-50 rounded-xl border border-gray-100 border-dashed flex items-center justify-center",children:C.jsx(EU,{size:20,className:"text-gray-200"})})]}),C.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-64 h-36 bg-white border border-gray-200 rounded-2xl shadow-2xl shadow-indigo-100 z-20 flex flex-col p-5 transition-transform group-hover:scale-105 ring-1 ring-black/5",children:[C.jsx("div",{className:"flex items-center justify-between mb-4",children:C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-primary"}),C.jsx("div",{className:"w-28 h-2.5 bg-gray-100 rounded-full"})]})}),C.jsx("div",{className:"flex-1 space-y-3",children:C.jsxs("div",{className:"flex items-center justify-between px-2",children:[C.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"}),C.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"}),C.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"})]})})]}),C.jsx("div",{className:"absolute -top-4 right-10 w-12 h-12 bg-white border border-gray-100 rounded-2xl shadow-lg flex items-center justify-center z-30 animate-bounce duration-[2000ms]",children:C.jsx(li,{className:"text-brand-primary",size:24})})]}),C.jsxs("h2",{className:"text-gray-500 text-center max-w-md mb-8 leading-relaxed text-lg font-medium",children:["Customize your workspace with drag-and-drop cards. ",C.jsx("br",{}),C.jsx("span",{className:"text-sm text-gray-400",children:"Build your perfect dashboard in seconds."})]}),C.jsx("button",{className:"bg-gray-900 hover:bg-black text-white px-8 py-3.5 rounded-xl font-bold text-sm transition-all shadow-md hover:shadow-lg active:scale-95 tracking-wide",onClick:r,children:"Customize Home"})]})]})})},vF="http://localhost:3001",mF={getMessages:async()=>(await fetch(`${vF}/messages`)).json(),markMessageRead:async n=>{await fetch(`${vF}/messages/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isRead:!0})})},sendMessage:async(n,e)=>{const t={id:`MSG-${Date.now()}`,senderId:"me",subject:n,preview:e.substring(0,50)+"...",content:e,timestamp:new Date().toISOString(),isRead:!0,tags:["sent"]};return(await fetch(`${vF}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}},yat=({isLoading:n,messages:e,selectedId:t,filter:r,onLoadMessages:i,onSetFilter:a,onSelectMessage:s})=>{const o=e,l=c=>$0e[c]||{name:"Unknown",color:"#999",avatar:"?"},u=c=>{const f=new Date(c),d=new Date;return f.toDateString()===d.toDateString()?f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):f.toLocaleDateString([],{month:"short",day:"numeric"})};return C.jsxs("div",{className:"w-96 border-r border-gray-200 flex flex-col bg-gray-50/50",children:[C.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between bg-white",children:[C.jsxs("h2",{className:"font-bold text-lg flex items-center text-gray-700",children:[C.jsx(MU,{className:"mr-2 text-clickup-purple",size:20}),"Inbox"]}),C.jsxs("div",{className:"flex space-x-1",children:[C.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",onClick:i,children:C.jsx(DU,{size:16,className:n?"animate-spin":""})}),C.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",children:C.jsx(b_e,{size:16})})]})]}),C.jsx("div",{className:"p-3",children:C.jsxs("div",{className:"relative",children:[C.jsx(xC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),C.jsx("input",{type:"text",placeholder:"Search messages...",className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple"})]})}),C.jsxs("div",{className:"flex px-3 border-b border-gray-200 bg-white",children:[C.jsx("button",{onClick:()=>a("inbox"),className:`flex-1 pb-2 text-sm font-medium border-b-2 transition-colors ${r==="inbox"?"border-clickup-purple text-clickup-purple":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Primary"}),C.jsx("button",{onClick:()=>a("sent"),className:`flex-1 pb-2 text-sm font-medium border-b-2 transition-colors ${r==="sent"?"border-clickup-purple text-clickup-purple":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Updates"})]}),C.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:n&&e.length===0?C.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"Loading..."}):o.length===0?C.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No messages here."}):o.map(c=>{const f=l(c.senderId);return C.jsxs("div",{onClick:()=>s(c.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors group relative ${t===c.id?"bg-purple-50 border-purple-100":"bg-white hover:bg-gray-50"} ${c.isRead?"":"bg-gray-50"}`,children:[!c.isRead&&C.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-clickup-purple rounded-full"}),C.jsxs("div",{className:"flex justify-between items-start mb-1",children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white",style:{backgroundColor:f.color},children:f.avatar}),C.jsx("span",{className:`text-sm truncate max-w-[120px] ${c.isRead?"text-gray-600":"font-bold text-gray-900"}`,children:f.name})]}),C.jsx("span",{className:"text-[10px] text-gray-400",children:u(c.timestamp)})]}),C.jsx("div",{className:`text-sm mb-1 truncate ${c.isRead?"text-gray-700":"font-semibold text-gray-800"}`,children:c.subject}),C.jsx("div",{className:"text-xs text-gray-400 truncate",children:c.preview})]},c.id)})})]})},xat=({selectedMessage:n,replyText:e,onReplyChange:t,onSendReply:r,onOpenCompose:i})=>{const a=s=>$0e[s]||{name:"Unknown",color:"#999",avatar:"?"};return C.jsxs("div",{className:"flex-1 flex flex-col bg-white h-full min-w-0",children:[C.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:n?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"p-6 border-b border-gray-200",children:[C.jsxs("div",{className:"flex items-start justify-between mb-4",children:[C.jsx("h1",{className:"text-xl font-bold text-gray-800 leading-tight",children:n.subject}),C.jsxs("div",{className:"flex space-x-2 text-gray-400",children:[C.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",title:"Archive",children:C.jsx(Qie,{size:18})}),C.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full hover:text-red-500",title:"Delete",children:C.jsx(vp,{size:18})})]})]}),C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white shadow-sm",style:{backgroundColor:a(n.senderId).color},children:a(n.senderId).avatar}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-baseline space-x-2",children:[C.jsx("span",{className:"font-bold text-gray-900",children:a(n.senderId).name}),C.jsxs("span",{className:"text-xs text-gray-500",children:["<user@",n.senderId,".com>"]})]}),C.jsxs("div",{className:"text-xs text-gray-400",children:["To: Me  ",new Date(n.timestamp).toLocaleString()]})]})]})]}),C.jsx("div",{className:"flex-1 p-8 overflow-y-auto text-gray-800 leading-relaxed whitespace-pre-wrap font-sans text-sm",children:n.content}),C.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:C.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm focus-within:ring-2 focus-within:ring-purple-100 focus-within:border-clickup-purple transition-all",children:[C.jsxs("div",{className:"p-2 border-b border-gray-100 bg-gray-50/50 flex items-center space-x-2 text-gray-400",children:[C.jsx(Obe,{size:14}),C.jsxs("span",{className:"text-xs font-medium",children:["Replying to ",a(n.senderId).name,"..."]})]}),C.jsx("textarea",{className:"w-full p-3 min-h-[80px] focus:outline-none text-sm resize-none",placeholder:"Write your reply...",value:e,onChange:s=>t(s.target.value)}),C.jsxs("div",{className:"flex items-center justify-between p-2",children:[C.jsx("div",{className:"flex space-x-2"}),C.jsxs("button",{onClick:r,disabled:!e.trim(),className:"bg-clickup-purple text-white px-4 py-1.5 rounded text-sm font-medium flex items-center space-x-2 disabled:opacity-50 hover:brightness-110 transition-all",children:[C.jsx("span",{children:"Send"}),C.jsx(uae,{size:14})]})]})]})})]}):C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300 bg-gray-50/30",children:[C.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:C.jsx(MU,{size:48,className:"text-gray-300"})}),C.jsx("p",{className:"text-lg font-medium text-gray-400",children:"Select a message to read"}),C.jsx("p",{className:"text-sm max-w-xs text-center mt-2",children:"Stay on top of your communications directly within your workspace."}),C.jsxs("button",{onClick:i,className:"mt-6 px-6 py-2 bg-clickup-purple text-white rounded-full font-medium shadow-lg shadow-purple-200 hover:shadow-xl hover:scale-105 transition-all flex items-center",children:[C.jsx(li,{size:16,className:"mr-2"}),"New Message"]})]})}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 min-h-[220px] h-60 border-t border-gray-100",children:[C.jsx("div",{className:"col-span-1 md:col-span-2 bg-[#d99b97] flex items-center p-6",children:C.jsxs("div",{className:"space-y-1",children:[C.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Reminders & Notes"}),C.jsx("p",{className:"text-xs text-gray-700 max-w-xs",children:"Drop quick reminders or scratchpad notes that stay visible beneath your inbox."})]})}),C.jsx("div",{className:"col-span-1 md:col-span-3 bg-[#0f8c2b] flex items-center p-6",children:C.jsxs("div",{className:"space-y-1 text-white",children:[C.jsx("p",{className:"text-sm font-semibold",children:"Mini tasks from email"}),C.jsx("p",{className:"text-xs text-white/80 max-w-md",children:"Emails that need action can land here as bite-sized tasks added straight from your inbox."})]})})]})]})},_at=()=>{const[n,e]=de.useState([]),[t,r]=de.useState(null),[i,a]=de.useState(!0),[s,o]=de.useState(""),[l,u]=de.useState("inbox"),{showToast:c}=Du();de.useEffect(()=>{f()},[]);const f=async()=>{a(!0);try{const m=await mF.getMessages();e(m.sort((g,y)=>new Date(y.timestamp).getTime()-new Date(g.timestamp).getTime()))}catch(m){console.error(m)}finally{a(!1)}},d=async m=>{r(m);const g=n.find(y=>y.id===m);g&&!g.isRead&&(e(y=>y.map(_=>_.id===m?{..._,isRead:!0}:_)),await mF.markMessageRead(m))},h=async()=>{if(!s.trim())return;const m=n.find(y=>y.id===t),g=m?`Re: ${m.subject}`:"New Message";c("Sending...","info");try{await mF.sendMessage(g,s),o(""),c("Reply sent!","success"),f()}catch{c("Failed to send","error")}},p=n.find(m=>m.id===t);return C.jsxs("div",{className:"flex h-full bg-white overflow-hidden animate-in fade-in duration-300",children:[C.jsx(yat,{isLoading:i,messages:n,selectedId:t,filter:l,onLoadMessages:f,onSetFilter:u,onSelectMessage:d}),C.jsx(xat,{selectedMessage:p,replyText:s,onReplyChange:o,onSendReply:h,onOpenCompose:()=>c("Compose Window Opened","info")})]})};var gF={exports:{}},Xh={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nte;function bat(){return Nte||(Nte=1,Xh.ConcurrentRoot=1,Xh.ContinuousEventPriority=8,Xh.DefaultEventPriority=32,Xh.DiscreteEventPriority=2,Xh.IdleEventPriority=268435456,Xh.LegacyRoot=0,Xh.NoEventPriority=0),Xh}var Ite;function Sat(){return Ite||(Ite=1,gF.exports=bat()),gF.exports}var QR=Sat();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const gM="181",Zg={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Kg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},J0e=0,Lz=1,Q0e=2,wat=3,eve=0,YL=1,rC=2,vf=3,zp=0,xl=1,Ld=2,Wd=0,My=1,fA=2,Pz=3,Oz=4,tve=5,lv=100,nve=101,rve=102,ive=103,ave=104,sve=200,ove=201,lve=202,uve=203,jI=204,WI=205,cve=206,fve=207,dve=208,hve=209,pve=210,vve=211,mve=212,gve=213,yve=214,YI=0,qI=1,XI=2,qy=3,ZI=4,KI=5,$I=6,JI=7,yM=0,xve=1,_ve=2,Yd=0,bve=1,Sve=2,wve=3,lG=4,Tve=5,Cve=6,Ave=7,Fz="attached",Mve="detached",qL=300,Up=301,jv=302,dA=303,hA=304,CS=306,pA=1e3,Hl=1001,vA=1002,Js=1003,uG=1004,Tat=1004,U_=1005,Cat=1005,Ra=1006,iC=1007,Aat=1007,Ud=1008,Mat=1008,Ec=1009,cG=1010,fG=1011,Ib=1012,XL=1013,Vp=1014,jl=1015,vx=1016,ZL=1017,KL=1018,kb=1020,dG=35902,hG=35899,pG=1021,vG=1022,No=1023,Lb=1026,Pb=1027,$L=1028,xM=1029,JL=1030,QL=1031,Eat=1032,eP=1033,aC=33776,sC=33777,oC=33778,lC=33779,QI=35840,ek=35841,tk=35842,nk=35843,rk=36196,ik=37492,ak=37496,sk=37808,ok=37809,lk=37810,uk=37811,ck=37812,fk=37813,dk=37814,hk=37815,pk=37816,vk=37817,mk=37818,gk=37819,yk=37820,xk=37821,_k=36492,bk=36494,Sk=36495,wk=36283,Tk=36284,Ck=36285,Ak=36286,Eve=2200,Dve=2201,Rve=2202,mA=2300,Mk=2301,eN=2302,hy=2400,py=2401,gA=2402,tP=2500,mG=2501,Dat=0,Rat=1,Nat=2,Nve=3200,Ive=3201,Iat=3202,kat=3203,im=0,kve=1,sp="",Ao="srgb",Wv="srgb-linear",yA="linear",di="srgb",Lat=0,$g=7680,Pat=7681,Oat=7682,Fat=7683,Bat=34055,zat=34056,Uat=5386,Vat=512,Gat=513,Hat=514,jat=515,Wat=516,Yat=517,qat=518,Bz=519,Lve=512,Pve=513,Ove=514,gG=515,Fve=516,Bve=517,zve=518,Uve=519,xA=35044,Xat=35048,Zat=35040,Kat=35045,$at=35049,Jat=35041,Qat=35046,est=35050,tst=35042,nst="100",zz="300 es",Su=2e3,Ob=2001,rst={COMPUTE:"compute",RENDER:"render"},ist={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},ast={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function Vve(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const sst={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function V_(n,e){return new sst[n](e)}function _A(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Gve(){const n=_A("canvas");return n.style.display="block",n}const kte={};let Yv=null;function ost(n){Yv=n}function lst(){return Yv}function bA(...n){const e="THREE."+n.shift();Yv?Yv("log",e,...n):console.log(e,...n)}function Qt(...n){const e="THREE."+n.shift();Yv?Yv("warn",e,...n):console.warn(e,...n)}function Xn(...n){const e="THREE."+n.shift();Yv?Yv("error",e,...n):console.error(e,...n)}function Fb(...n){const e=n.join(" ");e in kte||(kte[e]=!0,Qt(...n))}function ust(n,e,t){return new Promise(function(r,i){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:r()}}setTimeout(a,t)})}let uh=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}};const xo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Lte=1234567;const Ey=Math.PI/180,Bb=180/Math.PI;function Tu(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(xo[n&255]+xo[n>>8&255]+xo[n>>16&255]+xo[n>>24&255]+"-"+xo[e&255]+xo[e>>8&255]+"-"+xo[e>>16&15|64]+xo[e>>24&255]+"-"+xo[t&63|128]+xo[t>>8&255]+"-"+xo[t>>16&255]+xo[t>>24&255]+xo[r&255]+xo[r>>8&255]+xo[r>>16&255]+xo[r>>24&255]).toLowerCase()}function Vn(n,e,t){return Math.max(e,Math.min(t,n))}function yG(n,e){return(n%e+e)%e}function cst(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function fst(n,e,t){return n!==e?(t-n)/(e-n):0}function uC(n,e,t){return(1-t)*n+t*e}function dst(n,e,t,r){return uC(n,e,1-Math.exp(-t*r))}function hst(n,e=1){return e-Math.abs(yG(n,e*2)-e)}function pst(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function vst(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function mst(n,e){return n+Math.floor(Math.random()*(e-n+1))}function gst(n,e){return n+Math.random()*(e-n)}function yst(n){return n*(.5-Math.random())}function xst(n){n!==void 0&&(Lte=n);let e=Lte+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _st(n){return n*Ey}function bst(n){return n*Bb}function Sst(n){return(n&n-1)===0&&n!==0}function wst(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Tst(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Cst(n,e,t,r,i){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),u=a((e+r)/2),c=s((e+r)/2),f=a((e-r)/2),d=s((e-r)/2),h=a((r-e)/2),p=s((r-e)/2);switch(i){case"XYX":n.set(o*c,l*f,l*d,o*u);break;case"YZY":n.set(l*d,o*c,l*f,o*u);break;case"ZXZ":n.set(l*f,l*d,o*c,o*u);break;case"XZX":n.set(o*c,l*p,l*h,o*u);break;case"YXY":n.set(l*h,o*c,l*p,o*u);break;case"ZYZ":n.set(l*p,l*h,o*c,o*u);break;default:Qt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function pl(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function or(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Ast={DEG2RAD:Ey,RAD2DEG:Bb,generateUUID:Tu,clamp:Vn,euclideanModulo:yG,mapLinear:cst,inverseLerp:fst,lerp:uC,damp:dst,pingpong:hst,smoothstep:pst,smootherstep:vst,randInt:mst,randFloat:gst,randFloatSpread:yst,seededRandom:xst,degToRad:_st,radToDeg:bst,isPowerOfTwo:Sst,ceilPowerOfTwo:wst,floorPowerOfTwo:Tst,setQuaternionFromProperEuler:Cst,normalize:or,denormalize:pl};class Ct{constructor(e=0,t=0){Ct.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Vn(this.x,e.x,t.x),this.y=Vn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Vn(this.x,e,t),this.y=Vn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Vn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Vn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Oo{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,s,o){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3],d=a[s+0],h=a[s+1],p=a[s+2],m=a[s+3];if(o<=0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(o>=1){e[t+0]=d,e[t+1]=h,e[t+2]=p,e[t+3]=m;return}if(f!==m||l!==d||u!==h||c!==p){let g=l*d+u*h+c*p+f*m;g<0&&(d=-d,h=-h,p=-p,m=-m,g=-g);let y=1-o;if(g<.9995){const _=Math.acos(g),S=Math.sin(_);y=Math.sin(y*_)/S,o=Math.sin(o*_)/S,l=l*y+d*o,u=u*y+h*o,c=c*y+p*o,f=f*y+m*o}else{l=l*y+d*o,u=u*y+h*o,c=c*y+p*o,f=f*y+m*o;const _=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=_,u*=_,c*=_,f*=_}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,a,s){const o=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=a[s],d=a[s+1],h=a[s+2],p=a[s+3];return e[t]=o*p+c*f+l*h-u*d,e[t+1]=l*p+c*d+u*f-o*h,e[t+2]=u*p+c*h+o*d-l*f,e[t+3]=c*p-o*f-l*d-u*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,u=o(r/2),c=o(i/2),f=o(a/2),d=l(r/2),h=l(i/2),p=l(a/2);switch(s){case"XYZ":this._x=d*c*f+u*h*p,this._y=u*h*f-d*c*p,this._z=u*c*p+d*h*f,this._w=u*c*f-d*h*p;break;case"YXZ":this._x=d*c*f+u*h*p,this._y=u*h*f-d*c*p,this._z=u*c*p-d*h*f,this._w=u*c*f+d*h*p;break;case"ZXY":this._x=d*c*f-u*h*p,this._y=u*h*f+d*c*p,this._z=u*c*p+d*h*f,this._w=u*c*f-d*h*p;break;case"ZYX":this._x=d*c*f-u*h*p,this._y=u*h*f+d*c*p,this._z=u*c*p-d*h*f,this._w=u*c*f+d*h*p;break;case"YZX":this._x=d*c*f+u*h*p,this._y=u*h*f+d*c*p,this._z=u*c*p-d*h*f,this._w=u*c*f-d*h*p;break;case"XZY":this._x=d*c*f-u*h*p,this._y=u*h*f-d*c*p,this._z=u*c*p+d*h*f,this._w=u*c*f+d*h*p;break;default:Qt("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],s=t[1],o=t[5],l=t[9],u=t[2],c=t[6],f=t[10],d=r+o+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(c-l)*h,this._y=(a-u)*h,this._z=(s-i)*h}else if(r>o&&r>f){const h=2*Math.sqrt(1+r-o-f);this._w=(c-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+u)/h}else if(o>f){const h=2*Math.sqrt(1+o-r-f);this._w=(a-u)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+c)/h}else{const h=2*Math.sqrt(1+f-r-o);this._w=(s-i)/h,this._x=(a+u)/h,this._y=(l+c)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,s=e._w,o=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+s*o+i*u-a*l,this._y=i*c+s*l+a*o-r*u,this._z=a*c+s*u+r*l-i*o,this._w=s*c-r*o-i*l-a*u,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let r=e._x,i=e._y,a=e._z,s=e._w,o=this.dot(e);o<0&&(r=-r,i=-i,a=-a,s=-s,o=-o);let l=1-t;if(o<.9995){const u=Math.acos(o),c=Math.sin(u);l=Math.sin(l*u)/c,t=Math.sin(t*u)/c,this._x=this._x*l+r*t,this._y=this._y*l+i*t,this._z=this._z*l+a*t,this._w=this._w*l+s*t,this._onChangeCallback()}else this._x=this._x*l+r*t,this._y=this._y*l+i*t,this._z=this._z*l+a*t,this._w=this._w*l+s*t,this.normalize();return this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class De{constructor(e=0,t=0,r=0){De.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Pte.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Pte.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,u=2*(s*i-o*r),c=2*(o*t-a*i),f=2*(a*r-s*t);return this.x=t+l*u+s*f-o*c,this.y=r+l*c+o*u-a*f,this.z=i+l*f+a*c-s*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Vn(this.x,e.x,t.x),this.y=Vn(this.y,e.y,t.y),this.z=Vn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Vn(this.x,e,t),this.y=Vn(this.y,e,t),this.z=Vn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Vn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return yF.copy(this).projectOnVector(e),this.sub(yF)}reflect(e){return this.sub(yF.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Vn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const yF=new De,Pte=new Oo;class ar{constructor(e,t,r,i,a,s,o,l,u){ar.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,l,u)}set(e,t,r,i,a,s,o,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=a,c[5]=l,c[6]=r,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[3],l=r[6],u=r[1],c=r[4],f=r[7],d=r[2],h=r[5],p=r[8],m=i[0],g=i[3],y=i[6],_=i[1],S=i[4],A=i[7],M=i[2],E=i[5],D=i[8];return a[0]=s*m+o*_+l*M,a[3]=s*g+o*S+l*E,a[6]=s*y+o*A+l*D,a[1]=u*m+c*_+f*M,a[4]=u*g+c*S+f*E,a[7]=u*y+c*A+f*D,a[2]=d*m+h*_+p*M,a[5]=d*g+h*S+p*E,a[8]=d*y+h*A+p*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8];return t*s*c-t*o*u-r*a*c+r*o*l+i*a*u-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=c*s-o*u,d=o*l-c*a,h=u*a-s*l,p=t*f+r*d+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=f*m,e[1]=(i*u-c*r)*m,e[2]=(o*r-i*s)*m,e[3]=d*m,e[4]=(c*t-i*l)*m,e[5]=(i*a-o*t)*m,e[6]=h*m,e[7]=(r*l-u*t)*m,e[8]=(s*t-r*a)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,s,o){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*s+u*o)+s+e,-i*u,i*l,-i*(-u*s+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(xF.makeScale(e,t)),this}rotate(e){return this.premultiply(xF.makeRotation(-e)),this}translate(e,t){return this.premultiply(xF.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const xF=new ar,Ote=new ar().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Fte=new ar().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Mst(){const n={enabled:!0,workingColorSpace:Wv,spaces:{},convert:function(i,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===di&&(i.r=Ap(i.r),i.g=Ap(i.g),i.b=Ap(i.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===di&&(i.r=ub(i.r),i.g=ub(i.g),i.b=ub(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===sp?yA:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,s){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return Fb("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return Fb("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Wv]:{primaries:e,whitePoint:r,transfer:yA,toXYZ:Ote,fromXYZ:Fte,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ao},outputColorSpaceConfig:{drawingBufferColorSpace:Ao}},[Ao]:{primaries:e,whitePoint:r,transfer:di,toXYZ:Ote,fromXYZ:Fte,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ao}}}),n}const Pr=Mst();function Ap(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function ub(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let n_;class Hve{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{n_===void 0&&(n_=_A("canvas")),n_.width=e.width,n_.height=e.height;const i=n_.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=n_}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=_A("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=Ap(a[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Ap(t[r]/255)*255):t[r]=Ap(t[r]);return{data:t,width:e.width,height:e.height}}else return Qt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Est=0;class _v{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Est++}),this.uuid=Tu(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(_F(i[s].image)):a.push(_F(i[s]))}else a=_F(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function _F(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Hve.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(Qt("Texture: Unable to serialize Texture."),{})}let Dst=0;const bF=new De;class pa extends uh{constructor(e=pa.DEFAULT_IMAGE,t=pa.DEFAULT_MAPPING,r=Hl,i=Hl,a=Ra,s=Ud,o=No,l=Ec,u=pa.DEFAULT_ANISOTROPY,c=sp){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Dst++}),this.uuid=Tu(),this.name="",this.source=new _v(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ct(0,0),this.repeat=new Ct(1,1),this.center=new Ct(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ar,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(bF).x}get height(){return this.source.getSize(bF).y}get depth(){return this.source.getSize(bF).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){Qt(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Qt(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==qL)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case pA:e.x=e.x-Math.floor(e.x);break;case Hl:e.x=e.x<0?0:1;break;case vA:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case pA:e.y=e.y-Math.floor(e.y);break;case Hl:e.y=e.y<0?0:1;break;case vA:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}pa.DEFAULT_IMAGE=null;pa.DEFAULT_MAPPING=qL;pa.DEFAULT_ANISOTROPY=1;class jr{constructor(e=0,t=0,r=0,i=1){jr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,u=l[0],c=l[4],f=l[8],d=l[1],h=l[5],p=l[9],m=l[2],g=l[6],y=l[10];if(Math.abs(c-d)<.01&&Math.abs(f-m)<.01&&Math.abs(p-g)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+m)<.1&&Math.abs(p+g)<.1&&Math.abs(u+h+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(u+1)/2,A=(h+1)/2,M=(y+1)/2,E=(c+d)/4,D=(f+m)/4,I=(p+g)/4;return S>A&&S>M?S<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(S),i=E/r,a=D/r):A>M?A<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(A),r=E/i,a=I/i):M<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(M),r=D/a,i=I/a),this.set(r,i,a,t),this}let _=Math.sqrt((g-p)*(g-p)+(f-m)*(f-m)+(d-c)*(d-c));return Math.abs(_)<.001&&(_=1),this.x=(g-p)/_,this.y=(f-m)/_,this.z=(d-c)/_,this.w=Math.acos((u+h+y-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Vn(this.x,e.x,t.x),this.y=Vn(this.y,e.y,t.y),this.z=Vn(this.z,e.z,t.z),this.w=Vn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Vn(this.x,e,t),this.y=Vn(this.y,e,t),this.z=Vn(this.z,e,t),this.w=Vn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Vn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class xG extends uh{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ra,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new jr(0,0,e,t),this.scissorTest=!1,this.viewport=new jr(0,0,e,t);const i={width:e,height:t,depth:r.depth},a=new pa(i);this.textures=[];const s=r.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:Ra,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new _v(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class rh extends xG{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class nP extends pa{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Js,this.minFilter=Js,this.wrapR=Hl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Rst extends rh{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new nP(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class rP extends pa{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Js,this.minFilter=Js,this.wrapR=Hl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Nst extends rh{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new rP(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Fo{constructor(e=new De(1/0,1/0,1/0),t=new De(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(of.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(of.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=of.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,of):of.fromBufferAttribute(a,s),of.applyMatrix4(e.matrixWorld),this.expandByPoint(of);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ND.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),ND.copy(r.boundingBox)),ND.applyMatrix4(e.matrixWorld),this.union(ND)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,of),of.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(jw),ID.subVectors(this.max,jw),r_.subVectors(e.a,jw),i_.subVectors(e.b,jw),a_.subVectors(e.c,jw),Y0.subVectors(i_,r_),q0.subVectors(a_,i_),Mg.subVectors(r_,a_);let t=[0,-Y0.z,Y0.y,0,-q0.z,q0.y,0,-Mg.z,Mg.y,Y0.z,0,-Y0.x,q0.z,0,-q0.x,Mg.z,0,-Mg.x,-Y0.y,Y0.x,0,-q0.y,q0.x,0,-Mg.y,Mg.x,0];return!SF(t,r_,i_,a_,ID)||(t=[1,0,0,0,1,0,0,0,1],!SF(t,r_,i_,a_,ID))?!1:(kD.crossVectors(Y0,q0),t=[kD.x,kD.y,kD.z],SF(t,r_,i_,a_,ID))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,of).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(of).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Zh=[new De,new De,new De,new De,new De,new De,new De,new De],of=new De,ND=new Fo,r_=new De,i_=new De,a_=new De,Y0=new De,q0=new De,Mg=new De,jw=new De,ID=new De,kD=new De,Eg=new De;function SF(n,e,t,r,i){for(let a=0,s=n.length-3;a<=s;a+=3){Eg.fromArray(n,a);const o=i.x*Math.abs(Eg.x)+i.y*Math.abs(Eg.y)+i.z*Math.abs(Eg.z),l=e.dot(Eg),u=t.dot(Eg),c=r.dot(Eg);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>o)return!1}return!0}const Ist=new Fo,Ww=new De,wF=new De;class Qs{constructor(e=new De,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Ist.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ww.subVectors(e,this.center);const t=Ww.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Ww,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(wF.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ww.copy(e.center).add(wF)),this.expandByPoint(Ww.copy(e.center).sub(wF))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Kh=new De,TF=new De,LD=new De,X0=new De,CF=new De,PD=new De,AF=new De;class mx{constructor(e=new De,t=new De(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Kh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Kh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Kh.copy(this.origin).addScaledVector(this.direction,t),Kh.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){TF.copy(e).add(t).multiplyScalar(.5),LD.copy(t).sub(e).normalize(),X0.copy(this.origin).sub(TF);const a=e.distanceTo(t)*.5,s=-this.direction.dot(LD),o=X0.dot(this.direction),l=-X0.dot(LD),u=X0.lengthSq(),c=Math.abs(1-s*s);let f,d,h,p;if(c>0)if(f=s*l-o,d=s*o-l,p=a*c,f>=0)if(d>=-p)if(d<=p){const m=1/c;f*=m,d*=m,h=f*(f+s*d+2*o)+d*(s*f+d+2*l)+u}else d=a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+u;else d=-a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+u;else d<=-p?(f=Math.max(0,-(-s*a+o)),d=f>0?-a:Math.min(Math.max(-a,-l),a),h=-f*f+d*(d+2*l)+u):d<=p?(f=0,d=Math.min(Math.max(-a,-l),a),h=d*(d+2*l)+u):(f=Math.max(0,-(s*a+o)),d=f>0?a:Math.min(Math.max(-a,-l),a),h=-f*f+d*(d+2*l)+u);else d=s>0?-a:a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(TF).addScaledVector(LD,d),h}intersectSphere(e,t){Kh.subVectors(e.center,this.origin);const r=Kh.dot(this.direction),i=Kh.dot(Kh)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,s,o,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(e.min.x-d.x)*u,i=(e.max.x-d.x)*u):(r=(e.max.x-d.x)*u,i=(e.min.x-d.x)*u),c>=0?(a=(e.min.y-d.y)*c,s=(e.max.y-d.y)*c):(a=(e.max.y-d.y)*c,s=(e.min.y-d.y)*c),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),f>=0?(o=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(o=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Kh)!==null}intersectTriangle(e,t,r,i,a){CF.subVectors(t,e),PD.subVectors(r,e),AF.crossVectors(CF,PD);let s=this.direction.dot(AF),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;X0.subVectors(this.origin,e);const l=o*this.direction.dot(PD.crossVectors(X0,PD));if(l<0)return null;const u=o*this.direction.dot(CF.cross(X0));if(u<0||l+u>s)return null;const c=-o*X0.dot(AF);return c<0?null:this.at(c/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Yn{constructor(e,t,r,i,a,s,o,l,u,c,f,d,h,p,m,g){Yn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,l,u,c,f,d,h,p,m,g)}set(e,t,r,i,a,s,o,l,u,c,f,d,h,p,m,g){const y=this.elements;return y[0]=e,y[4]=t,y[8]=r,y[12]=i,y[1]=a,y[5]=s,y[9]=o,y[13]=l,y[2]=u,y[6]=c,y[10]=f,y[14]=d,y[3]=h,y[7]=p,y[11]=m,y[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Yn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/s_.setFromMatrixColumn(e,0).length(),a=1/s_.setFromMatrixColumn(e,1).length(),s=1/s_.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const d=s*c,h=s*f,p=o*c,m=o*f;t[0]=l*c,t[4]=-l*f,t[8]=u,t[1]=h+p*u,t[5]=d-m*u,t[9]=-o*l,t[2]=m-d*u,t[6]=p+h*u,t[10]=s*l}else if(e.order==="YXZ"){const d=l*c,h=l*f,p=u*c,m=u*f;t[0]=d+m*o,t[4]=p*o-h,t[8]=s*u,t[1]=s*f,t[5]=s*c,t[9]=-o,t[2]=h*o-p,t[6]=m+d*o,t[10]=s*l}else if(e.order==="ZXY"){const d=l*c,h=l*f,p=u*c,m=u*f;t[0]=d-m*o,t[4]=-s*f,t[8]=p+h*o,t[1]=h+p*o,t[5]=s*c,t[9]=m-d*o,t[2]=-s*u,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const d=s*c,h=s*f,p=o*c,m=o*f;t[0]=l*c,t[4]=p*u-h,t[8]=d*u+m,t[1]=l*f,t[5]=m*u+d,t[9]=h*u-p,t[2]=-u,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const d=s*l,h=s*u,p=o*l,m=o*u;t[0]=l*c,t[4]=m-d*f,t[8]=p*f+h,t[1]=f,t[5]=s*c,t[9]=-o*c,t[2]=-u*c,t[6]=h*f+p,t[10]=d-m*f}else if(e.order==="XZY"){const d=s*l,h=s*u,p=o*l,m=o*u;t[0]=l*c,t[4]=-f,t[8]=u*c,t[1]=d*f+m,t[5]=s*c,t[9]=h*f-p,t[2]=p*f-h,t[6]=o*c,t[10]=m*f+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(kst,e,Lst)}lookAt(e,t,r){const i=this.elements;return uu.subVectors(e,t),uu.lengthSq()===0&&(uu.z=1),uu.normalize(),Z0.crossVectors(r,uu),Z0.lengthSq()===0&&(Math.abs(r.z)===1?uu.x+=1e-4:uu.z+=1e-4,uu.normalize(),Z0.crossVectors(r,uu)),Z0.normalize(),OD.crossVectors(uu,Z0),i[0]=Z0.x,i[4]=OD.x,i[8]=uu.x,i[1]=Z0.y,i[5]=OD.y,i[9]=uu.y,i[2]=Z0.z,i[6]=OD.z,i[10]=uu.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[4],l=r[8],u=r[12],c=r[1],f=r[5],d=r[9],h=r[13],p=r[2],m=r[6],g=r[10],y=r[14],_=r[3],S=r[7],A=r[11],M=r[15],E=i[0],D=i[4],I=i[8],N=i[12],L=i[1],B=i[5],O=i[9],G=i[13],V=i[2],q=i[6],W=i[10],Z=i[14],X=i[3],K=i[7],se=i[11],J=i[15];return a[0]=s*E+o*L+l*V+u*X,a[4]=s*D+o*B+l*q+u*K,a[8]=s*I+o*O+l*W+u*se,a[12]=s*N+o*G+l*Z+u*J,a[1]=c*E+f*L+d*V+h*X,a[5]=c*D+f*B+d*q+h*K,a[9]=c*I+f*O+d*W+h*se,a[13]=c*N+f*G+d*Z+h*J,a[2]=p*E+m*L+g*V+y*X,a[6]=p*D+m*B+g*q+y*K,a[10]=p*I+m*O+g*W+y*se,a[14]=p*N+m*G+g*Z+y*J,a[3]=_*E+S*L+A*V+M*X,a[7]=_*D+S*B+A*q+M*K,a[11]=_*I+S*O+A*W+M*se,a[15]=_*N+S*G+A*Z+M*J,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],u=e[13],c=e[2],f=e[6],d=e[10],h=e[14],p=e[3],m=e[7],g=e[11],y=e[15];return p*(+a*l*f-i*u*f-a*o*d+r*u*d+i*o*h-r*l*h)+m*(+t*l*h-t*u*d+a*s*d-i*s*h+i*u*c-a*l*c)+g*(+t*u*f-t*o*h-a*s*f+r*s*h+a*o*c-r*u*c)+y*(-i*o*c-t*l*f+t*o*d+i*s*f-r*s*d+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],h=e[11],p=e[12],m=e[13],g=e[14],y=e[15],_=f*g*u-m*d*u+m*l*h-o*g*h-f*l*y+o*d*y,S=p*d*u-c*g*u-p*l*h+s*g*h+c*l*y-s*d*y,A=c*m*u-p*f*u+p*o*h-s*m*h-c*o*y+s*f*y,M=p*f*l-c*m*l-p*o*d+s*m*d+c*o*g-s*f*g,E=t*_+r*S+i*A+a*M;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/E;return e[0]=_*D,e[1]=(m*d*a-f*g*a-m*i*h+r*g*h+f*i*y-r*d*y)*D,e[2]=(o*g*a-m*l*a+m*i*u-r*g*u-o*i*y+r*l*y)*D,e[3]=(f*l*a-o*d*a-f*i*u+r*d*u+o*i*h-r*l*h)*D,e[4]=S*D,e[5]=(c*g*a-p*d*a+p*i*h-t*g*h-c*i*y+t*d*y)*D,e[6]=(p*l*a-s*g*a-p*i*u+t*g*u+s*i*y-t*l*y)*D,e[7]=(s*d*a-c*l*a+c*i*u-t*d*u-s*i*h+t*l*h)*D,e[8]=A*D,e[9]=(p*f*a-c*m*a-p*r*h+t*m*h+c*r*y-t*f*y)*D,e[10]=(s*m*a-p*o*a+p*r*u-t*m*u-s*r*y+t*o*y)*D,e[11]=(c*o*a-s*f*a-c*r*u+t*f*u+s*r*h-t*o*h)*D,e[12]=M*D,e[13]=(c*m*i-p*f*i+p*r*d-t*m*d-c*r*g+t*f*g)*D,e[14]=(p*o*i-s*m*i-p*r*l+t*m*l+s*r*g-t*o*g)*D,e[15]=(s*f*i-c*o*i+c*r*l-t*f*l-s*r*d+t*o*d)*D,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,s=e.x,o=e.y,l=e.z,u=a*s,c=a*o;return this.set(u*s+r,u*o-i*l,u*l+i*o,0,u*o+i*l,c*o+r,c*l-i*s,0,u*l-i*o,c*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,u=a+a,c=s+s,f=o+o,d=a*u,h=a*c,p=a*f,m=s*c,g=s*f,y=o*f,_=l*u,S=l*c,A=l*f,M=r.x,E=r.y,D=r.z;return i[0]=(1-(m+y))*M,i[1]=(h+A)*M,i[2]=(p-S)*M,i[3]=0,i[4]=(h-A)*E,i[5]=(1-(d+y))*E,i[6]=(g+_)*E,i[7]=0,i[8]=(p+S)*D,i[9]=(g-_)*D,i[10]=(1-(d+m))*D,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=s_.set(i[0],i[1],i[2]).length();const s=s_.set(i[4],i[5],i[6]).length(),o=s_.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],lf.copy(this);const u=1/a,c=1/s,f=1/o;return lf.elements[0]*=u,lf.elements[1]*=u,lf.elements[2]*=u,lf.elements[4]*=c,lf.elements[5]*=c,lf.elements[6]*=c,lf.elements[8]*=f,lf.elements[9]*=f,lf.elements[10]*=f,t.setFromRotationMatrix(lf),r.x=a,r.y=s,r.z=o,this}makePerspective(e,t,r,i,a,s,o=Su,l=!1){const u=this.elements,c=2*a/(t-e),f=2*a/(r-i),d=(t+e)/(t-e),h=(r+i)/(r-i);let p,m;if(l)p=a/(s-a),m=s*a/(s-a);else if(o===Su)p=-(s+a)/(s-a),m=-2*s*a/(s-a);else if(o===Ob)p=-s/(s-a),m=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return u[0]=c,u[4]=0,u[8]=d,u[12]=0,u[1]=0,u[5]=f,u[9]=h,u[13]=0,u[2]=0,u[6]=0,u[10]=p,u[14]=m,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,i,a,s,o=Su,l=!1){const u=this.elements,c=2/(t-e),f=2/(r-i),d=-(t+e)/(t-e),h=-(r+i)/(r-i);let p,m;if(l)p=1/(s-a),m=s/(s-a);else if(o===Su)p=-2/(s-a),m=-(s+a)/(s-a);else if(o===Ob)p=-1/(s-a),m=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return u[0]=c,u[4]=0,u[8]=0,u[12]=d,u[1]=0,u[5]=f,u[9]=0,u[13]=h,u[2]=0,u[6]=0,u[10]=p,u[14]=m,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const s_=new De,lf=new Yn,kst=new De(0,0,0),Lst=new De(1,1,1),Z0=new De,OD=new De,uu=new De,Bte=new Yn,zte=new Oo;class Mu{constructor(e=0,t=0,r=0,i=Mu.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],u=i[5],c=i[9],f=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Vn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(Vn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Vn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Vn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Vn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-c,h),this._y=0);break;default:Qt("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return Bte.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Bte,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return zte.setFromEuler(this),this.setFromQuaternion(zte,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Mu.DEFAULT_ORDER="XYZ";class zb{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Pst=0;const Ute=new De,o_=new Oo,$h=new Yn,FD=new De,Yw=new De,Ost=new De,Fst=new Oo,Vte=new De(1,0,0),Gte=new De(0,1,0),Hte=new De(0,0,1),jte={type:"added"},Bst={type:"removed"},l_={type:"childadded",child:null},MF={type:"childremoved",child:null};class Vr extends uh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Pst++}),this.uuid=Tu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vr.DEFAULT_UP.clone();const e=new De,t=new Mu,r=new Oo,i=new De(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Yn},normalMatrix:{value:new ar}}),this.matrix=new Yn,this.matrixWorld=new Yn,this.matrixAutoUpdate=Vr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Vr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new zb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return o_.setFromAxisAngle(e,t),this.quaternion.multiply(o_),this}rotateOnWorldAxis(e,t){return o_.setFromAxisAngle(e,t),this.quaternion.premultiply(o_),this}rotateX(e){return this.rotateOnAxis(Vte,e)}rotateY(e){return this.rotateOnAxis(Gte,e)}rotateZ(e){return this.rotateOnAxis(Hte,e)}translateOnAxis(e,t){return Ute.copy(e).applyQuaternion(this.quaternion),this.position.add(Ute.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Vte,e)}translateY(e){return this.translateOnAxis(Gte,e)}translateZ(e){return this.translateOnAxis(Hte,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4($h.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?FD.copy(e):FD.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Yw.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$h.lookAt(Yw,FD,this.up):$h.lookAt(FD,Yw,this.up),this.quaternion.setFromRotationMatrix($h),i&&($h.extractRotation(i.matrixWorld),o_.setFromRotationMatrix($h),this.quaternion.premultiply(o_.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Xn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(jte),l_.child=e,this.dispatchEvent(l_),l_.child=null):Xn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Bst),MF.child=e,this.dispatchEvent(MF),MF.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),$h.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$h.multiply(e.parent.matrixWorld)),e.applyMatrix4($h),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(jte),l_.child=e,this.dispatchEvent(l_),l_.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yw,e,Ost),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yw,Fst,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),u=s(e.textures),c=s(e.images),f=s(e.shapes),d=s(e.skeletons),h=s(e.animations),p=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(o){const l=[];for(const u in o){const c=o[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Vr.DEFAULT_UP=new De(0,1,0);Vr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Vr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const uf=new De,Jh=new De,EF=new De,Qh=new De,u_=new De,c_=new De,Wte=new De,DF=new De,RF=new De,NF=new De,IF=new jr,kF=new jr,LF=new jr;class Gl{constructor(e=new De,t=new De,r=new De){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),uf.subVectors(e,t),i.cross(uf);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){uf.subVectors(i,t),Jh.subVectors(r,t),EF.subVectors(e,t);const s=uf.dot(uf),o=uf.dot(Jh),l=uf.dot(EF),u=Jh.dot(Jh),c=Jh.dot(EF),f=s*u-o*o;if(f===0)return a.set(0,0,0),null;const d=1/f,h=(u*l-o*c)*d,p=(s*c-o*l)*d;return a.set(1-h-p,p,h)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Qh)===null?!1:Qh.x>=0&&Qh.y>=0&&Qh.x+Qh.y<=1}static getInterpolation(e,t,r,i,a,s,o,l){return this.getBarycoord(e,t,r,i,Qh)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Qh.x),l.addScaledVector(s,Qh.y),l.addScaledVector(o,Qh.z),l)}static getInterpolatedAttribute(e,t,r,i,a,s){return IF.setScalar(0),kF.setScalar(0),LF.setScalar(0),IF.fromBufferAttribute(e,t),kF.fromBufferAttribute(e,r),LF.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(IF,a.x),s.addScaledVector(kF,a.y),s.addScaledVector(LF,a.z),s}static isFrontFacing(e,t,r,i){return uf.subVectors(r,t),Jh.subVectors(e,t),uf.cross(Jh).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return uf.subVectors(this.c,this.b),Jh.subVectors(this.a,this.b),uf.cross(Jh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Gl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Gl.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,a){return Gl.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return Gl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Gl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let s,o;u_.subVectors(i,r),c_.subVectors(a,r),DF.subVectors(e,r);const l=u_.dot(DF),u=c_.dot(DF);if(l<=0&&u<=0)return t.copy(r);RF.subVectors(e,i);const c=u_.dot(RF),f=c_.dot(RF);if(c>=0&&f<=c)return t.copy(i);const d=l*f-c*u;if(d<=0&&l>=0&&c<=0)return s=l/(l-c),t.copy(r).addScaledVector(u_,s);NF.subVectors(e,a);const h=u_.dot(NF),p=c_.dot(NF);if(p>=0&&h<=p)return t.copy(a);const m=h*u-l*p;if(m<=0&&u>=0&&p<=0)return o=u/(u-p),t.copy(r).addScaledVector(c_,o);const g=c*p-h*f;if(g<=0&&f-c>=0&&h-p>=0)return Wte.subVectors(a,i),o=(f-c)/(f-c+(h-p)),t.copy(i).addScaledVector(Wte,o);const y=1/(g+m+d);return s=m*y,o=d*y,t.copy(r).addScaledVector(u_,s).addScaledVector(c_,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const jve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},K0={h:0,s:0,l:0},BD={h:0,s:0,l:0};function PF(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class en{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ao){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Pr.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=Pr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Pr.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=Pr.workingColorSpace){if(e=yG(e,1),t=Vn(t,0,1),r=Vn(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,s=2*r-a;this.r=PF(s,a,e+1/3),this.g=PF(s,a,e),this.b=PF(s,a,e-1/3)}return Pr.colorSpaceToWorking(this,i),this}setStyle(e,t=Ao){function r(a){a!==void 0&&parseFloat(a)<1&&Qt("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:Qt("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);Qt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ao){const r=jve[e.toLowerCase()];return r!==void 0?this.setHex(r,t):Qt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ap(e.r),this.g=Ap(e.g),this.b=Ap(e.b),this}copyLinearToSRGB(e){return this.r=ub(e.r),this.g=ub(e.g),this.b=ub(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ao){return Pr.workingToColorSpace(_o.copy(this),e),Math.round(Vn(_o.r*255,0,255))*65536+Math.round(Vn(_o.g*255,0,255))*256+Math.round(Vn(_o.b*255,0,255))}getHexString(e=Ao){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Pr.workingColorSpace){Pr.workingToColorSpace(_o.copy(this),t);const r=_o.r,i=_o.g,a=_o.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,u;const c=(o+s)/2;if(o===s)l=0,u=0;else{const f=s-o;switch(u=c<=.5?f/(s+o):f/(2-s-o),s){case r:l=(i-a)/f+(i<a?6:0);break;case i:l=(a-r)/f+2;break;case a:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=Pr.workingColorSpace){return Pr.workingToColorSpace(_o.copy(this),t),e.r=_o.r,e.g=_o.g,e.b=_o.b,e}getStyle(e=Ao){Pr.workingToColorSpace(_o.copy(this),e);const t=_o.r,r=_o.g,i=_o.b;return e!==Ao?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(K0),this.setHSL(K0.h+e,K0.s+t,K0.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(K0),e.getHSL(BD);const r=uC(K0.h,BD.h,t),i=uC(K0.s,BD.s,t),a=uC(K0.l,BD.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _o=new en;en.NAMES=jve;let zst=0;class Vo extends uh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:zst++}),this.uuid=Tu(),this.name="",this.type="Material",this.blending=My,this.side=zp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=jI,this.blendDst=WI,this.blendEquation=lv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new en(0,0,0),this.blendAlpha=0,this.depthFunc=qy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Bz,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$g,this.stencilZFail=$g,this.stencilZPass=$g,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){Qt(`Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Qt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==My&&(r.blending=this.blending),this.side!==zp&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==jI&&(r.blendSrc=this.blendSrc),this.blendDst!==WI&&(r.blendDst=this.blendDst),this.blendEquation!==lv&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==qy&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Bz&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==$g&&(r.stencilFail=this.stencilFail),this.stencilZFail!==$g&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==$g&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class am extends Vo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new en(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mu,this.combine=yM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const op=Ust();function Ust(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;(u&8388608)===0;)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function Ol(n){Math.abs(n)>65504&&Qt("DataUtils.toHalfFloat(): Value out of range."),n=Vn(n,-65504,65504),op.floatView[0]=n;const e=op.uint32View[0],t=e>>23&511;return op.baseTable[t]+((e&8388607)>>op.shiftTable[t])}function wT(n){const e=n>>10;return op.uint32View[0]=op.mantissaTable[op.offsetTable[e]+(n&1023)]+op.exponentTable[e],op.floatView[0]}class Vst{static toHalfFloat(e){return Ol(e)}static fromHalfFloat(e){return wT(e)}}const Ua=new De,zD=new Ct;let Gst=0;class bi{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Gst++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=xA,this.updateRanges=[],this.gpuType=jl,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)zD.fromBufferAttribute(this,t),zD.applyMatrix3(e),this.setXY(t,zD.x,zD.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ua.fromBufferAttribute(this,t),Ua.applyMatrix3(e),this.setXYZ(t,Ua.x,Ua.y,Ua.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ua.fromBufferAttribute(this,t),Ua.applyMatrix4(e),this.setXYZ(t,Ua.x,Ua.y,Ua.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ua.fromBufferAttribute(this,t),Ua.applyNormalMatrix(e),this.setXYZ(t,Ua.x,Ua.y,Ua.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ua.fromBufferAttribute(this,t),Ua.transformDirection(e),this.setXYZ(t,Ua.x,Ua.y,Ua.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=pl(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=or(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=pl(t,this.array)),t}setX(e,t){return this.normalized&&(t=or(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=pl(t,this.array)),t}setY(e,t){return this.normalized&&(t=or(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=pl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=or(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=pl(t,this.array)),t}setW(e,t){return this.normalized&&(t=or(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=or(t,this.array),r=or(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=or(t,this.array),r=or(r,this.array),i=or(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=or(t,this.array),r=or(r,this.array),i=or(i,this.array),a=or(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==xA&&(e.usage=this.usage),e}}class Hst extends bi{constructor(e,t,r){super(new Int8Array(e),t,r)}}class jst extends bi{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Wst extends bi{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Yst extends bi{constructor(e,t,r){super(new Int16Array(e),t,r)}}class _G extends bi{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class qst extends bi{constructor(e,t,r){super(new Int32Array(e),t,r)}}class bG extends bi{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Xst extends bi{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=wT(this.array[e*this.itemSize]);return this.normalized&&(t=pl(t,this.array)),t}setX(e,t){return this.normalized&&(t=or(t,this.array)),this.array[e*this.itemSize]=Ol(t),this}getY(e){let t=wT(this.array[e*this.itemSize+1]);return this.normalized&&(t=pl(t,this.array)),t}setY(e,t){return this.normalized&&(t=or(t,this.array)),this.array[e*this.itemSize+1]=Ol(t),this}getZ(e){let t=wT(this.array[e*this.itemSize+2]);return this.normalized&&(t=pl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=or(t,this.array)),this.array[e*this.itemSize+2]=Ol(t),this}getW(e){let t=wT(this.array[e*this.itemSize+3]);return this.normalized&&(t=pl(t,this.array)),t}setW(e,t){return this.normalized&&(t=or(t,this.array)),this.array[e*this.itemSize+3]=Ol(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=or(t,this.array),r=or(r,this.array)),this.array[e+0]=Ol(t),this.array[e+1]=Ol(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=or(t,this.array),r=or(r,this.array),i=or(i,this.array)),this.array[e+0]=Ol(t),this.array[e+1]=Ol(r),this.array[e+2]=Ol(i),this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=or(t,this.array),r=or(r,this.array),i=or(i,this.array),a=or(a,this.array)),this.array[e+0]=Ol(t),this.array[e+1]=Ol(r),this.array[e+2]=Ol(i),this.array[e+3]=Ol(a),this}}class vn extends bi{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Zst=0;const nc=new Yn,OF=new Vr,f_=new De,cu=new Fo,qw=new Fo,Ms=new De;class sr extends uh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Zst++}),this.uuid=Tu(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Vve(e)?bG:_G)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new ar().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return nc.makeRotationFromQuaternion(e),this.applyMatrix4(nc),this}rotateX(e){return nc.makeRotationX(e),this.applyMatrix4(nc),this}rotateY(e){return nc.makeRotationY(e),this.applyMatrix4(nc),this}rotateZ(e){return nc.makeRotationZ(e),this.applyMatrix4(nc),this}translate(e,t,r){return nc.makeTranslation(e,t,r),this.applyMatrix4(nc),this}scale(e,t,r){return nc.makeScale(e,t,r),this.applyMatrix4(nc),this}lookAt(e){return OF.lookAt(e),OF.updateMatrix(),this.applyMatrix4(OF.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(f_).negate(),this.translate(f_.x,f_.y,f_.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new vn(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&Qt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Xn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new De(-1/0,-1/0,-1/0),new De(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];cu.setFromBufferAttribute(a),this.morphTargetsRelative?(Ms.addVectors(this.boundingBox.min,cu.min),this.boundingBox.expandByPoint(Ms),Ms.addVectors(this.boundingBox.max,cu.max),this.boundingBox.expandByPoint(Ms)):(this.boundingBox.expandByPoint(cu.min),this.boundingBox.expandByPoint(cu.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Xn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Xn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new De,1/0);return}if(e){const r=this.boundingSphere.center;if(cu.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];qw.setFromBufferAttribute(o),this.morphTargetsRelative?(Ms.addVectors(cu.min,qw.min),cu.expandByPoint(Ms),Ms.addVectors(cu.max,qw.max),cu.expandByPoint(Ms)):(cu.expandByPoint(qw.min),cu.expandByPoint(qw.max))}cu.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)Ms.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Ms));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let u=0,c=o.count;u<c;u++)Ms.fromBufferAttribute(o,u),l&&(f_.fromBufferAttribute(e,u),Ms.add(f_)),i=Math.max(i,r.distanceToSquared(Ms))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Xn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Xn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new bi(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let I=0;I<r.count;I++)o[I]=new De,l[I]=new De;const u=new De,c=new De,f=new De,d=new Ct,h=new Ct,p=new Ct,m=new De,g=new De;function y(I,N,L){u.fromBufferAttribute(r,I),c.fromBufferAttribute(r,N),f.fromBufferAttribute(r,L),d.fromBufferAttribute(a,I),h.fromBufferAttribute(a,N),p.fromBufferAttribute(a,L),c.sub(u),f.sub(u),h.sub(d),p.sub(d);const B=1/(h.x*p.y-p.x*h.y);isFinite(B)&&(m.copy(c).multiplyScalar(p.y).addScaledVector(f,-h.y).multiplyScalar(B),g.copy(f).multiplyScalar(h.x).addScaledVector(c,-p.x).multiplyScalar(B),o[I].add(m),o[N].add(m),o[L].add(m),l[I].add(g),l[N].add(g),l[L].add(g))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let I=0,N=_.length;I<N;++I){const L=_[I],B=L.start,O=L.count;for(let G=B,V=B+O;G<V;G+=3)y(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const S=new De,A=new De,M=new De,E=new De;function D(I){M.fromBufferAttribute(i,I),E.copy(M);const N=o[I];S.copy(N),S.sub(M.multiplyScalar(M.dot(N))).normalize(),A.crossVectors(E,N);const B=A.dot(l[I])<0?-1:1;s.setXYZW(I,S.x,S.y,S.z,B)}for(let I=0,N=_.length;I<N;++I){const L=_[I],B=L.start,O=L.count;for(let G=B,V=B+O;G<V;G+=3)D(e.getX(G+0)),D(e.getX(G+1)),D(e.getX(G+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new bi(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new De,a=new De,s=new De,o=new De,l=new De,u=new De,c=new De,f=new De;if(e)for(let d=0,h=e.count;d<h;d+=3){const p=e.getX(d+0),m=e.getX(d+1),g=e.getX(d+2);i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),c.subVectors(s,a),f.subVectors(i,a),c.cross(f),o.fromBufferAttribute(r,p),l.fromBufferAttribute(r,m),u.fromBufferAttribute(r,g),o.add(c),l.add(c),u.add(c),r.setXYZ(p,o.x,o.y,o.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(g,u.x,u.y,u.z)}else for(let d=0,h=t.count;d<h;d+=3)i.fromBufferAttribute(t,d+0),a.fromBufferAttribute(t,d+1),s.fromBufferAttribute(t,d+2),c.subVectors(s,a),f.subVectors(i,a),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ms.fromBufferAttribute(e,t),Ms.normalize(),e.setXYZ(t,Ms.x,Ms.y,Ms.z)}toNonIndexed(){function e(o,l){const u=o.array,c=o.itemSize,f=o.normalized,d=new u.constructor(l.length*c);let h=0,p=0;for(let m=0,g=l.length;m<g;m++){o.isInterleavedBufferAttribute?h=l[m]*o.data.stride+o.offset:h=l[m]*c;for(let y=0;y<c;y++)d[p++]=u[h++]}return new bi(d,c,f)}if(this.index===null)return Qt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new sr,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],u=e(l,r);t.setAttribute(o,u)}const a=this.morphAttributes;for(const o in a){const l=[],u=a[o];for(let c=0,f=u.length;c<f;c++){const d=u[c],h=e(d,r);l.push(h)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const u=s[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,d=u.length;f<d;f++){const h=u[f];c.push(h.toJSON(e.data))}c.length>0&&(i[l]=c,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const a=e.morphAttributes;for(const u in a){const c=[],f=a[u];for(let d=0,h=f.length;d<h;d++)c.push(f[d].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,c=s.length;u<c;u++){const f=s[u];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Yte=new Yn,Dg=new mx,UD=new Qs,qte=new De,VD=new De,GD=new De,HD=new De,FF=new De,jD=new De,Xte=new De,WD=new De;class fs extends Vr{constructor(e=new sr,t=new am){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){jD.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=o[l],f=a[l];c!==0&&(FF.fromBufferAttribute(f,e),s?jD.addScaledVector(FF,c):jD.addScaledVector(FF.sub(t),c))}t.add(jD)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),UD.copy(r.boundingSphere),UD.applyMatrix4(a),Dg.copy(e.ray).recast(e.near),!(UD.containsPoint(Dg.origin)===!1&&(Dg.intersectSphere(UD,qte)===null||Dg.origin.distanceToSquared(qte)>(e.far-e.near)**2))&&(Yte.copy(a).invert(),Dg.copy(e.ray).applyMatrix4(Yte),!(r.boundingBox!==null&&Dg.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Dg)))}_computeIntersections(e,t,r){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,f=a.attributes.normal,d=a.groups,h=a.drawRange;if(o!==null)if(Array.isArray(s))for(let p=0,m=d.length;p<m;p++){const g=d[p],y=s[g.materialIndex],_=Math.max(g.start,h.start),S=Math.min(o.count,Math.min(g.start+g.count,h.start+h.count));for(let A=_,M=S;A<M;A+=3){const E=o.getX(A),D=o.getX(A+1),I=o.getX(A+2);i=YD(this,y,e,r,u,c,f,E,D,I),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(o.count,h.start+h.count);for(let g=p,y=m;g<y;g+=3){const _=o.getX(g),S=o.getX(g+1),A=o.getX(g+2);i=YD(this,s,e,r,u,c,f,_,S,A),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let p=0,m=d.length;p<m;p++){const g=d[p],y=s[g.materialIndex],_=Math.max(g.start,h.start),S=Math.min(l.count,Math.min(g.start+g.count,h.start+h.count));for(let A=_,M=S;A<M;A+=3){const E=A,D=A+1,I=A+2;i=YD(this,y,e,r,u,c,f,E,D,I),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(l.count,h.start+h.count);for(let g=p,y=m;g<y;g+=3){const _=g,S=g+1,A=g+2;i=YD(this,s,e,r,u,c,f,_,S,A),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}}}function Kst(n,e,t,r,i,a,s,o){let l;if(e.side===xl?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side===zp,o),l===null)return null;WD.copy(o),WD.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(WD);return u<t.near||u>t.far?null:{distance:u,point:WD.clone(),object:n}}function YD(n,e,t,r,i,a,s,o,l,u){n.getVertexPosition(o,VD),n.getVertexPosition(l,GD),n.getVertexPosition(u,HD);const c=Kst(n,e,t,r,VD,GD,HD,Xte);if(c){const f=new De;Gl.getBarycoord(Xte,VD,GD,HD,f),i&&(c.uv=Gl.getInterpolatedAttribute(i,o,l,u,f,new Ct)),a&&(c.uv1=Gl.getInterpolatedAttribute(a,o,l,u,f,new Ct)),s&&(c.normal=Gl.getInterpolatedAttribute(s,o,l,u,f,new De),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const d={a:o,b:l,c:u,normal:new De,materialIndex:0};Gl.getNormal(VD,GD,HD,d.normal),c.face=d,c.barycoord=f}return c}class gx extends sr{constructor(e=1,t=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],u=[],c=[],f=[];let d=0,h=0;p("z","y","x",-1,-1,r,t,e,s,a,0),p("z","y","x",1,-1,r,t,-e,s,a,1),p("x","z","y",1,1,e,r,t,i,s,2),p("x","z","y",1,-1,e,r,-t,i,s,3),p("x","y","z",1,-1,e,t,r,i,a,4),p("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new vn(u,3)),this.setAttribute("normal",new vn(c,3)),this.setAttribute("uv",new vn(f,2));function p(m,g,y,_,S,A,M,E,D,I,N){const L=A/D,B=M/I,O=A/2,G=M/2,V=E/2,q=D+1,W=I+1;let Z=0,X=0;const K=new De;for(let se=0;se<W;se++){const J=se*B-G;for(let H=0;H<q;H++){const ee=H*L-O;K[m]=ee*_,K[g]=J*S,K[y]=V,u.push(K.x,K.y,K.z),K[m]=0,K[g]=0,K[y]=E>0?1:-1,c.push(K.x,K.y,K.z),f.push(H/D),f.push(1-se/I),Z+=1}}for(let se=0;se<I;se++)for(let J=0;J<D;J++){const H=d+J+q*se,ee=d+J+q*(se+1),Q=d+(J+1)+q*(se+1),ne=d+(J+1)+q*se;l.push(H,ee,ne),l.push(ee,Q,ne),X+=6}o.addGroup(h,X,N),h+=X,d+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gx(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ub(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Qt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ol(n){const e={};for(let t=0;t<n.length;t++){const r=Ub(n[t]);for(const i in r)e[i]=r[i]}return e}function $st(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Wve(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Pr.workingColorSpace}const Yve={clone:Ub,merge:ol};var Jst=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Qst=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Eu extends Vo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Jst,this.fragmentShader=Qst,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ub(e.uniforms),this.uniformsGroups=$st(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class iP extends Vr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Yn,this.projectionMatrix=new Yn,this.projectionMatrixInverse=new Yn,this.coordinateSystem=Su,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const $0=new De,Zte=new Ct,Kte=new Ct;class Ea extends iP{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Bb*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ey*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bb*2*Math.atan(Math.tan(Ey*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){$0.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set($0.x,$0.y).multiplyScalar(-e/$0.z),$0.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set($0.x,$0.y).multiplyScalar(-e/$0.z)}getViewSize(e,t){return this.getViewBounds(e,Zte,Kte),t.subVectors(Kte,Zte)}setViewOffset(e,t,r,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ey*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;a+=s.offsetX*i/l,t-=s.offsetY*r/u,i*=s.width/l,r*=s.height/u}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const d_=-90,h_=1;class qve extends Vr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ea(d_,h_,e,t);i.layers=this.layers,this.add(i);const a=new Ea(d_,h_,e,t);a.layers=this.layers,this.add(a);const s=new Ea(d_,h_,e,t);s.layers=this.layers,this.add(s);const o=new Ea(d_,h_,e,t);o.layers=this.layers,this.add(o);const l=new Ea(d_,h_,e,t);l.layers=this.layers,this.add(l);const u=new Ea(d_,h_,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,s,o,l]=t;for(const u of t)this.remove(u);if(e===Su)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ob)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,u,c]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,s),e.setRenderTarget(r,2,i),e.render(t,o),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,u),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,i),e.render(t,c),e.setRenderTarget(f,d,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class _M extends pa{constructor(e=[],t=Up,r,i,a,s,o,l,u,c){super(e,t,r,i,a,s,o,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Xve extends rh{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new _M(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new gx(5,5,5),a=new Eu({name:"CubemapFromEquirect",uniforms:Ub(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:xl,blending:Wd});a.uniforms.tEquirect.value=t;const s=new fs(i,a),o=t.minFilter;return t.minFilter===Ud&&(t.minFilter=Ra),new qve(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(a)}}class G_ extends Vr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const eot={type:"move"};class tN{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new G_,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new G_,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new De,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new De),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new G_,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new De,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new De),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const m of e.hand.values()){const g=t.getJointPose(m,r),y=this._getHandJoint(u,m);g!==null&&(y.matrix.fromArray(g.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=g.radius),y.visible=g!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),h=.02,p=.005;u.inputState.pinching&&d>h+p?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=h-p&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(eot)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new G_;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class aP{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new en(e),this.density=t}clone(){return new aP(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class sP{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new en(e),this.near=t,this.far=r}clone(){return new sP(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class SG extends Vr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Mu,this.environmentIntensity=1,this.environmentRotation=new Mu,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class oP{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=xA,this.updateRanges=[],this.version=0,this.uuid=Tu()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const sl=new De;class Xy{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)sl.fromBufferAttribute(this,t),sl.applyMatrix4(e),this.setXYZ(t,sl.x,sl.y,sl.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)sl.fromBufferAttribute(this,t),sl.applyNormalMatrix(e),this.setXYZ(t,sl.x,sl.y,sl.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)sl.fromBufferAttribute(this,t),sl.transformDirection(e),this.setXYZ(t,sl.x,sl.y,sl.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=pl(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=or(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=or(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=or(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=or(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=or(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=pl(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=pl(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=pl(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=pl(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=or(t,this.array),r=or(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=or(t,this.array),r=or(r,this.array),i=or(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=or(t,this.array),r=or(r,this.array),i=or(i,this.array),a=or(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){bA("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new bi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xy(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){bA("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class wG extends Vo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new en(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let p_;const Xw=new De,v_=new De,m_=new De,g_=new Ct,Zw=new Ct,Zve=new Yn,qD=new De,Kw=new De,XD=new De,$te=new Ct,BF=new Ct,Jte=new Ct;class Kve extends Vr{constructor(e=new wG){if(super(),this.isSprite=!0,this.type="Sprite",p_===void 0){p_=new sr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new oP(t,5);p_.setIndex([0,1,2,0,2,3]),p_.setAttribute("position",new Xy(r,3,0,!1)),p_.setAttribute("uv",new Xy(r,2,3,!1))}this.geometry=p_,this.material=e,this.center=new Ct(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Xn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),v_.setFromMatrixScale(this.matrixWorld),Zve.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),m_.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&v_.multiplyScalar(-m_.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const s=this.center;ZD(qD.set(-.5,-.5,0),m_,s,v_,i,a),ZD(Kw.set(.5,-.5,0),m_,s,v_,i,a),ZD(XD.set(.5,.5,0),m_,s,v_,i,a),$te.set(0,0),BF.set(1,0),Jte.set(1,1);let o=e.ray.intersectTriangle(qD,Kw,XD,!1,Xw);if(o===null&&(ZD(Kw.set(-.5,.5,0),m_,s,v_,i,a),BF.set(0,1),o=e.ray.intersectTriangle(qD,XD,Kw,!1,Xw),o===null))return;const l=e.ray.origin.distanceTo(Xw);l<e.near||l>e.far||t.push({distance:l,point:Xw.clone(),uv:Gl.getInterpolation(Xw,qD,Kw,XD,$te,BF,Jte,new Ct),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ZD(n,e,t,r,i,a){g_.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Zw.x=a*g_.x-i*g_.y,Zw.y=i*g_.x+a*g_.y):Zw.copy(g_),n.copy(e),n.x+=Zw.x,n.y+=Zw.y,n.applyMatrix4(Zve)}const KD=new De,Qte=new De;class $ve extends Vr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),e<a)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){KD.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(KD);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){KD.setFromMatrixPosition(e.matrixWorld),Qte.setFromMatrixPosition(this.matrixWorld);const r=KD.distanceTo(Qte)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),r>=s)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const ene=new De,tne=new jr,nne=new jr,tot=new De,rne=new Yn,$D=new De,zF=new Qs,ine=new Yn,UF=new mx;class Jve extends fs{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Fz,this.bindMatrix=new Yn,this.bindMatrixInverse=new Yn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Fo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,$D),this.boundingBox.expandByPoint($D)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Qs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,$D),this.boundingSphere.expandByPoint($D)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),zF.copy(this.boundingSphere),zF.applyMatrix4(i),e.ray.intersectsSphere(zF)!==!1&&(ine.copy(i).invert(),UF.copy(e.ray).applyMatrix4(ine),!(this.boundingBox!==null&&UF.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,UF)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new jr,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Fz?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Mve?this.bindMatrixInverse.copy(this.bindMatrix).invert():Qt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;tne.fromBufferAttribute(i.attributes.skinIndex,e),nne.fromBufferAttribute(i.attributes.skinWeight,e),ene.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=nne.getComponent(a);if(s!==0){const o=tne.getComponent(a);rne.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(tot.copy(ene).applyMatrix4(rne),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class TG extends Vr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Df extends pa{constructor(e=null,t=1,r=1,i,a,s,o,l,u=Js,c=Js,f,d){super(null,s,o,l,u,c,i,a,f,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ane=new Yn,not=new Yn;class lP{constructor(e=[],t=[]){this.uuid=Tu(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Qt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Yn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Yn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:not;ane.multiplyMatrices(o,t[a]),ane.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new lP(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Df(t,e,e,No,jl);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let s=t[a];s===void 0&&(Qt("Skeleton: No bone found with UUID:",a),s=new TG),this.bones.push(s),this.boneInverses.push(new Yn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const s=t[i];e.bones.push(s.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class Vb extends bi{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const y_=new Yn,sne=new Yn,JD=[],one=new Fo,rot=new Yn,$w=new fs,Jw=new Qs;class Qve extends fs{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Vb(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,rot)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Fo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,y_),one.copy(e.boundingBox).applyMatrix4(y_),this.boundingBox.union(one)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Qs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,y_),Jw.copy(e.boundingSphere).applyMatrix4(y_),this.boundingSphere.union(Jw)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,s=e*a+1;for(let o=0;o<r.length;o++)r[o]=i[s+o]}raycast(e,t){const r=this.matrixWorld,i=this.count;if($w.geometry=this.geometry,$w.material=this.material,$w.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Jw.copy(this.boundingSphere),Jw.applyMatrix4(r),e.ray.intersectsSphere(Jw)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,y_),sne.multiplyMatrices(r,y_),$w.matrixWorld=sne,$w.raycast(e,JD);for(let s=0,o=JD.length;s<o;s++){const l=JD[s];l.instanceId=a,l.object=this,t.push(l)}JD.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Vb(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Df(new Float32Array(i*this.count),i,this.count,$L,jl));const a=this.morphTexture.source.data.data;let s=0;for(let u=0;u<r.length;u++)s+=r[u];const o=this.geometry.morphTargetsRelative?1:1-s,l=i*e;a[l]=o,a.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const VF=new De,iot=new De,aot=new ar;class ip{constructor(e=new De(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=VF.subVectors(r,t).cross(iot.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(VF),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||aot.getNormalMatrix(e),i=this.coplanarPoint(VF).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Rg=new Qs,sot=new Ct(.5,.5),QD=new De;class AS{constructor(e=new ip,t=new ip,r=new ip,i=new ip,a=new ip,s=new ip){this.planes=[e,t,r,i,a,s]}set(e,t,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Su,r=!1){const i=this.planes,a=e.elements,s=a[0],o=a[1],l=a[2],u=a[3],c=a[4],f=a[5],d=a[6],h=a[7],p=a[8],m=a[9],g=a[10],y=a[11],_=a[12],S=a[13],A=a[14],M=a[15];if(i[0].setComponents(u-s,h-c,y-p,M-_).normalize(),i[1].setComponents(u+s,h+c,y+p,M+_).normalize(),i[2].setComponents(u+o,h+f,y+m,M+S).normalize(),i[3].setComponents(u-o,h-f,y-m,M-S).normalize(),r)i[4].setComponents(l,d,g,A).normalize(),i[5].setComponents(u-l,h-d,y-g,M-A).normalize();else if(i[4].setComponents(u-l,h-d,y-g,M-A).normalize(),t===Su)i[5].setComponents(u+l,h+d,y+g,M+A).normalize();else if(t===Ob)i[5].setComponents(l,d,g,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Rg.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Rg.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Rg)}intersectsSprite(e){Rg.center.set(0,0,0);const t=sot.distanceTo(e.center);return Rg.radius=.7071067811865476+t,Rg.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rg)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(QD.x=i.normal.x>0?e.max.x:e.min.x,QD.y=i.normal.y>0?e.max.y:e.min.y,QD.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(QD)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Cd=new Yn,Ad=new AS;class uP{constructor(){this.coordinateSystem=Su}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Cd.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ad.setFromProjectionMatrix(Cd,i.coordinateSystem,i.reversedDepth),Ad.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Cd.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ad.setFromProjectionMatrix(Cd,i.coordinateSystem,i.reversedDepth),Ad.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Cd.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ad.setFromProjectionMatrix(Cd,i.coordinateSystem,i.reversedDepth),Ad.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Cd.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ad.setFromProjectionMatrix(Cd,i.coordinateSystem,i.reversedDepth),Ad.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Cd.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ad.setFromProjectionMatrix(Cd,i.coordinateSystem,i.reversedDepth),Ad.containsPoint(e))return!0}return!1}clone(){return new uP}}function GF(n,e){return n-e}function oot(n,e){return n.z-e.z}function lot(n,e){return e.z-n.z}class uot{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=t,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const Pl=new Yn,cot=new en(1,1,1),lne=new AS,fot=new uP,eR=new Fo,Ng=new Qs,Qw=new De,une=new De,dot=new De,HF=new uot,bo=new fs,tR=[];function hot(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let a=0;a<i;a++)for(let s=0;s<r;s++)e.setComponent(a+t,s,n.getComponent(a,s))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function Ig(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class eme extends fs{constructor(e,t,r=t*2,i){super(new sr,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Df(t,e,e,No,jl);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new Df(t,e,e,xM,Vp);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new Df(t,e,e,No,jl);r.colorSpace=Pr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:l,normalized:u}=s,c=new o.constructor(r*l),f=new bi(c,l,u);t.setAttribute(a,f)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new bi(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=t.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fo);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,Pl),this.getBoundingBoxAt(a,eR).applyMatrix4(Pl),e.union(eR)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,Pl),this.getBoundingSphereAt(a,Ng).applyMatrix4(Pl),e.union(Ng)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(GF),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;Pl.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(cot.toArray(s.image.data,i*4),s.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?s.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(GF),l=this._availableGeometryIds.shift(),a[l]=i):(l=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),s=t.getIndex(),o=this._geometryInfo[e];if(i&&s.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const c in r.attributes){const f=t.getAttribute(c),d=r.getAttribute(c);hot(f,d,l);const h=f.itemSize;for(let p=f.count,m=u;p<m;p++){const g=l+p;for(let y=0;y<h;y++)d.setComponent(g,y,0)}d.needsUpdate=!0,d.addUpdateRange(l*h,u*h)}if(i){const c=o.indexStart,f=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let d=0;d<s.count;d++)a.setX(c+d,l+s.getX(d));for(let d=s.count,h=f;d<h;d++)a.setX(c+d,l);a.needsUpdate=!0,a.addUpdateRange(c,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,a=r.length;i<a;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((s,o)=>o).sort((s,o)=>r[s].vertexStart-r[o].vertexStart),a=this.geometry;for(let s=0,o=r.length;s<o;s++){const l=i[s],u=r[l];if(u.active!==!1){if(a.index!==null){if(u.indexStart!==t){const{indexStart:c,vertexStart:f,reservedIndexCount:d}=u,h=a.index,p=h.array,m=e-f;for(let g=c;g<c+d;g++)p[g]=p[g]+m;h.array.copyWithin(t,c,c+d),h.addUpdateRange(t,d),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:c,reservedVertexCount:f}=u,d=a.attributes;for(const h in d){const p=d[h],{array:m,itemSize:g}=p;m.copyWithin(e*g,c*g,(c+f)*g),p.addUpdateRange(e*g,f*g)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=a.index?u.indexStart:u.vertexStart,this._nextIndexStart=a.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new Fo,s=r.index,o=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let c=l;s&&(c=s.getX(c)),a.expandByPoint(Qw.fromBufferAttribute(o,c))}i.boundingBox=a}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new Qs;this.getBoundingBoxAt(e,eR),eR.getCenter(a.center);const s=r.index,o=r.attributes.position;let l=0;for(let u=i.start,c=i.start+i.count;u<c;u++){let f=u;s&&(f=s.getX(f)),Qw.fromBufferAttribute(o,f),l=Math.max(l,a.center.distanceToSquared(Qw))}a.radius=Math.sqrt(l),i.boundingSphere=a}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(GF);t[t.length-1]===r.length-1;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);Ig(this._multiDrawCounts,i),Ig(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Ig(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Ig(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Ig(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...r.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new sr,this._initializeGeometry(a));const s=this.geometry;a.index&&Ig(a.index.array,s.index.array);for(const o in a.attributes)Ig(a.attributes[o].array,s.attributes[o].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,s=this.geometry;bo.material=this.material,bo.geometry.index=s.index,bo.geometry.attributes=s.attributes,bo.geometry.boundingBox===null&&(bo.geometry.boundingBox=new Fo),bo.geometry.boundingSphere===null&&(bo.geometry.boundingSphere=new Qs);for(let o=0,l=r.length;o<l;o++){if(!r[o].visible||!r[o].active)continue;const u=r[o].geometryIndex,c=i[u];bo.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(o,bo.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,bo.geometry.boundingBox),this.getBoundingSphereAt(u,bo.geometry.boundingSphere),bo.raycast(e,tR);for(let f=0,d=tR.length;f<d;f++){const h=tR[f];h.object=this,h.batchId=o,t.push(h)}tR.length=0}bo.material=null,bo.geometry.index=null,bo.geometry.attributes={},bo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,f=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,p=h.image.data,m=r.isArrayCamera?fot:lne;d&&!r.isArrayCamera&&(Pl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),lne.setFromProjectionMatrix(Pl,r.coordinateSystem,r.reversedDepth));let g=0;if(this.sortObjects){Pl.copy(this.matrixWorld).invert(),Qw.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Pl),une.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Pl);for(let S=0,A=l.length;S<A;S++)if(l[S].visible&&l[S].active){const M=l[S].geometryIndex;this.getMatrixAt(S,Pl),this.getBoundingSphereAt(M,Ng).applyMatrix4(Pl);let E=!1;if(d&&(E=!m.intersectsSphere(Ng,r)),!E){const D=f[M],I=dot.subVectors(Ng.center,Qw).dot(une);HF.push(D.start,D.count,I,S)}}const y=HF.list,_=this.customSort;_===null?y.sort(a.transparent?lot:oot):_.call(this,y,r);for(let S=0,A=y.length;S<A;S++){const M=y[S];u[g]=M.start*o,c[g]=M.count,p[g]=M.index,g++}HF.reset()}else for(let y=0,_=l.length;y<_;y++)if(l[y].visible&&l[y].active){const S=l[y].geometryIndex;let A=!1;if(d&&(this.getMatrixAt(y,Pl),this.getBoundingSphereAt(S,Ng).applyMatrix4(Pl),A=!m.intersectsSphere(Ng,r)),!A){const M=f[S];u[g]=M.start*o,c[g]=M.count,p[g]=y,g++}}h.needsUpdate=!0,this._multiDrawCount=g,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,a,s){this.onBeforeRender(e,null,i,a,s)}}class Tl extends Vo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new en(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ek=new De,Dk=new De,cne=new Yn,eT=new mx,nR=new Qs,jF=new De,fne=new De;class qv extends Vr{constructor(e=new sr,t=new Tl){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)Ek.fromBufferAttribute(t,i-1),Dk.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=Ek.distanceTo(Dk);e.setAttribute("lineDistance",new vn(r,1))}else Qt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),nR.copy(r.boundingSphere),nR.applyMatrix4(i),nR.radius+=a,e.ray.intersectsSphere(nR)===!1)return;cne.copy(i).invert(),eT.copy(e.ray).applyMatrix4(cne);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,c=r.index,d=r.attributes.position;if(c!==null){const h=Math.max(0,s.start),p=Math.min(c.count,s.start+s.count);for(let m=h,g=p-1;m<g;m+=u){const y=c.getX(m),_=c.getX(m+1),S=rR(this,e,eT,l,y,_,m);S&&t.push(S)}if(this.isLineLoop){const m=c.getX(p-1),g=c.getX(h),y=rR(this,e,eT,l,m,g,p-1);y&&t.push(y)}}else{const h=Math.max(0,s.start),p=Math.min(d.count,s.start+s.count);for(let m=h,g=p-1;m<g;m+=u){const y=rR(this,e,eT,l,m,m+1,m);y&&t.push(y)}if(this.isLineLoop){const m=rR(this,e,eT,l,p-1,h,p-1);m&&t.push(m)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function rR(n,e,t,r,i,a,s){const o=n.geometry.attributes.position;if(Ek.fromBufferAttribute(o,i),Dk.fromBufferAttribute(o,a),t.distanceSqToSegment(Ek,Dk,jF,fne)>r)return;jF.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(jF);if(!(u<e.near||u>e.far))return{distance:u,point:fne.clone().applyMatrix4(n.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:n}}const dne=new De,hne=new De;class ch extends qv{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)dne.fromBufferAttribute(t,i),hne.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+dne.distanceTo(hne);e.setAttribute("lineDistance",new vn(r,1))}else Qt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class tme extends qv{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class CG extends Vo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new en(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const pne=new Yn,Uz=new mx,iR=new Qs,aR=new De;class nme extends Vr{constructor(e=new sr,t=new CG){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),iR.copy(r.boundingSphere),iR.applyMatrix4(i),iR.radius+=a,e.ray.intersectsSphere(iR)===!1)return;pne.copy(i).invert(),Uz.copy(e.ray).applyMatrix4(pne);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=r.index,f=r.attributes.position;if(u!==null){const d=Math.max(0,s.start),h=Math.min(u.count,s.start+s.count);for(let p=d,m=h;p<m;p++){const g=u.getX(p);aR.fromBufferAttribute(f,g),vne(aR,g,l,i,e,t,this)}}else{const d=Math.max(0,s.start),h=Math.min(f.count,s.start+s.count);for(let p=d,m=h;p<m;p++)aR.fromBufferAttribute(f,p),vne(aR,p,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function vne(n,e,t,r,i,a,s){const o=Uz.distanceSqToPoint(n);if(o<t){const l=new De;Uz.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class rme extends pa{constructor(e,t,r,i,a=Ra,s=Ra,o,l,u){super(e,t,r,i,a,s,o,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;function f(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class pot extends rme{constructor(e,t,r,i,a,s,o,l){super({},e,t,r,i,a,s,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class vot extends pa{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Js,this.minFilter=Js,this.generateMipmaps=!1,this.needsUpdate=!0}}class cP extends pa{constructor(e,t,r,i,a,s,o,l,u,c,f,d){super(null,s,o,l,u,c,i,a,f,d),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class mot extends cP{constructor(e,t,r,i,a,s){super(e,t,r,a,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Hl,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class got extends cP{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,Up),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class yot extends pa{constructor(e,t,r,i,a,s,o,l,u){super(e,t,r,i,a,s,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class AG extends pa{constructor(e,t,r=Vp,i,a,s,o=Js,l=Js,u,c=Lb,f=1){if(c!==Lb&&c!==Pb)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const d={width:e,height:t,depth:f};super(d,i,a,s,o,l,c,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new _v(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class MG extends pa{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class fP extends sr{constructor(e=1,t=1,r=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:a},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const s=[],o=[],l=[],u=[],c=t/2,f=Math.PI/2*e,d=t,h=2*f+d,p=r*2+a,m=i+1,g=new De,y=new De;for(let _=0;_<=p;_++){let S=0,A=0,M=0,E=0;if(_<=r){const N=_/r,L=N*Math.PI/2;A=-c-e*Math.cos(L),M=e*Math.sin(L),E=-e*Math.cos(L),S=N*f}else if(_<=r+a){const N=(_-r)/a;A=-c+N*t,M=e,E=0,S=f+N*d}else{const N=(_-r-a)/r,L=N*Math.PI/2;A=c+e*Math.sin(L),M=e*Math.cos(L),E=e*Math.sin(L),S=f+d+N*f}const D=Math.max(0,Math.min(1,S/h));let I=0;_===0?I=.5/i:_===p&&(I=-.5/i);for(let N=0;N<=i;N++){const L=N/i,B=L*Math.PI*2,O=Math.sin(B),G=Math.cos(B);y.x=-M*G,y.y=A,y.z=M*O,o.push(y.x,y.y,y.z),g.set(-M*G,E,M*O),g.normalize(),l.push(g.x,g.y,g.z),u.push(L+I,D)}if(_>0){const N=(_-1)*m;for(let L=0;L<i;L++){const B=N+L,O=N+L+1,G=_*m+L,V=_*m+L+1;s.push(B,O,G),s.push(O,V,G)}}}this.setIndex(s),this.setAttribute("position",new vn(o,3)),this.setAttribute("normal",new vn(l,3)),this.setAttribute("uv",new vn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fP(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class dP extends sr{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],s=[],o=[],l=[],u=new De,c=new Ct;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=t;f++,d+=3){const h=r+f/t*i;u.x=e*Math.cos(h),u.y=e*Math.sin(h),s.push(u.x,u.y,u.z),o.push(0,0,1),c.x=(s[d]/e+1)/2,c.y=(s[d+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=t;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new vn(s,3)),this.setAttribute("normal",new vn(o,3)),this.setAttribute("uv",new vn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dP(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class bM extends sr{constructor(e=1,t=1,r=1,i=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const c=[],f=[],d=[],h=[];let p=0;const m=[],g=r/2;let y=0;_(),s===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(c),this.setAttribute("position",new vn(f,3)),this.setAttribute("normal",new vn(d,3)),this.setAttribute("uv",new vn(h,2));function _(){const A=new De,M=new De;let E=0;const D=(t-e)/r;for(let I=0;I<=a;I++){const N=[],L=I/a,B=L*(t-e)+e;for(let O=0;O<=i;O++){const G=O/i,V=G*l+o,q=Math.sin(V),W=Math.cos(V);M.x=B*q,M.y=-L*r+g,M.z=B*W,f.push(M.x,M.y,M.z),A.set(q,D,W).normalize(),d.push(A.x,A.y,A.z),h.push(G,1-L),N.push(p++)}m.push(N)}for(let I=0;I<i;I++)for(let N=0;N<a;N++){const L=m[N][I],B=m[N+1][I],O=m[N+1][I+1],G=m[N][I+1];(e>0||N!==0)&&(c.push(L,B,G),E+=3),(t>0||N!==a-1)&&(c.push(B,O,G),E+=3)}u.addGroup(y,E,0),y+=E}function S(A){const M=p,E=new Ct,D=new De;let I=0;const N=A===!0?e:t,L=A===!0?1:-1;for(let O=1;O<=i;O++)f.push(0,g*L,0),d.push(0,L,0),h.push(.5,.5),p++;const B=p;for(let O=0;O<=i;O++){const V=O/i*l+o,q=Math.cos(V),W=Math.sin(V);D.x=N*W,D.y=g*L,D.z=N*q,f.push(D.x,D.y,D.z),d.push(0,L,0),E.x=q*.5+.5,E.y=W*.5*L+.5,h.push(E.x,E.y),p++}for(let O=0;O<i;O++){const G=M+O,V=B+O;A===!0?c.push(V,V+1,G):c.push(V+1,V,G),I+=3}u.addGroup(y,I,A===!0?1:2),y+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bM(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class SM extends bM{constructor(e=1,t=1,r=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new SM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sm extends sr{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],s=[];o(i),u(r),c(),this.setAttribute("position",new vn(a,3)),this.setAttribute("normal",new vn(a.slice(),3)),this.setAttribute("uv",new vn(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(_){const S=new De,A=new De,M=new De;for(let E=0;E<t.length;E+=3)h(t[E+0],S),h(t[E+1],A),h(t[E+2],M),l(S,A,M,_)}function l(_,S,A,M){const E=M+1,D=[];for(let I=0;I<=E;I++){D[I]=[];const N=_.clone().lerp(A,I/E),L=S.clone().lerp(A,I/E),B=E-I;for(let O=0;O<=B;O++)O===0&&I===E?D[I][O]=N:D[I][O]=N.clone().lerp(L,O/B)}for(let I=0;I<E;I++)for(let N=0;N<2*(E-I)-1;N++){const L=Math.floor(N/2);N%2===0?(d(D[I][L+1]),d(D[I+1][L]),d(D[I][L])):(d(D[I][L+1]),d(D[I+1][L+1]),d(D[I+1][L]))}}function u(_){const S=new De;for(let A=0;A<a.length;A+=3)S.x=a[A+0],S.y=a[A+1],S.z=a[A+2],S.normalize().multiplyScalar(_),a[A+0]=S.x,a[A+1]=S.y,a[A+2]=S.z}function c(){const _=new De;for(let S=0;S<a.length;S+=3){_.x=a[S+0],_.y=a[S+1],_.z=a[S+2];const A=g(_)/2/Math.PI+.5,M=y(_)/Math.PI+.5;s.push(A,1-M)}p(),f()}function f(){for(let _=0;_<s.length;_+=6){const S=s[_+0],A=s[_+2],M=s[_+4],E=Math.max(S,A,M),D=Math.min(S,A,M);E>.9&&D<.1&&(S<.2&&(s[_+0]+=1),A<.2&&(s[_+2]+=1),M<.2&&(s[_+4]+=1))}}function d(_){a.push(_.x,_.y,_.z)}function h(_,S){const A=_*3;S.x=e[A+0],S.y=e[A+1],S.z=e[A+2]}function p(){const _=new De,S=new De,A=new De,M=new De,E=new Ct,D=new Ct,I=new Ct;for(let N=0,L=0;N<a.length;N+=9,L+=6){_.set(a[N+0],a[N+1],a[N+2]),S.set(a[N+3],a[N+4],a[N+5]),A.set(a[N+6],a[N+7],a[N+8]),E.set(s[L+0],s[L+1]),D.set(s[L+2],s[L+3]),I.set(s[L+4],s[L+5]),M.copy(_).add(S).add(A).divideScalar(3);const B=g(M);m(E,L+0,_,B),m(D,L+2,S,B),m(I,L+4,A,B)}}function m(_,S,A,M){M<0&&_.x===1&&(s[S]=_.x-1),A.x===0&&A.z===0&&(s[S]=M/2/Math.PI+.5)}function g(_){return Math.atan2(_.z,-_.x)}function y(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sm(e.vertices,e.indices,e.radius,e.details)}}class hP extends sm{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hP(e.radius,e.detail)}}const sR=new De,oR=new De,WF=new De,lR=new Gl;class ime extends sr{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(Ey*t),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),d={},h=[];for(let p=0;p<l;p+=3){s?(u[0]=s.getX(p),u[1]=s.getX(p+1),u[2]=s.getX(p+2)):(u[0]=p,u[1]=p+1,u[2]=p+2);const{a:m,b:g,c:y}=lR;if(m.fromBufferAttribute(o,u[0]),g.fromBufferAttribute(o,u[1]),y.fromBufferAttribute(o,u[2]),lR.getNormal(WF),f[0]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,f[1]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,f[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const S=(_+1)%3,A=f[_],M=f[S],E=lR[c[_]],D=lR[c[S]],I=`${A}_${M}`,N=`${M}_${A}`;N in d&&d[N]?(WF.dot(d[N].normal)<=a&&(h.push(E.x,E.y,E.z),h.push(D.x,D.y,D.z)),d[N]=null):I in d||(d[I]={index0:u[_],index1:u[S],normal:WF.clone()})}}for(const p in d)if(d[p]){const{index0:m,index1:g}=d[p];sR.fromBufferAttribute(o,m),oR.fromBufferAttribute(o,g),h.push(sR.x,sR.y,sR.z),h.push(oR.x,oR.y,oR.z)}this.setAttribute("position",new vn(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Bf{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Qt("Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let i=0;const a=r.length;let s;t?s=t:s=e*r[a-1];let o=0,l=a-1,u;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),u=r[i]-s,u<0)o=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(a-1);const c=r[i],d=r[i+1]-c,h=(s-c)/d;return(i+h)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),l=t||(s.isVector2?new Ct:new De);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new De,i=[],a=[],s=[],o=new De,l=new Yn;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new De)}a[0]=new De,s[0]=new De;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),d<=u&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let h=1;h<=e;h++){if(a[h]=a[h-1].clone(),s[h]=s[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(Vn(i[h-1].dot(i[h]),-1,1));a[h].applyMatrix4(l.makeRotationAxis(o,p))}s[h].crossVectors(i[h],a[h])}if(t===!0){let h=Math.acos(Vn(a[0].dot(a[e]),-1,1));h/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(h=-h);for(let p=1;p<=e;p++)a[p].applyMatrix4(l.makeRotationAxis(i[p],h*p)),s[p].crossVectors(i[p],a[p])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class pP extends Bf{constructor(e=0,t=0,r=1,i=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new Ct){const r=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,h=u-this.aY;l=d*c-h*f+this.aX,u=d*f+h*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ame extends pP{constructor(e,t,r,i,a,s){super(e,t,r,r,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function EG(){let n=0,e=0,t=0,r=0;function i(a,s,o,l){n=a,e=o,t=-3*a+3*s-2*o-l,r=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,u){i(s,o,u*(o-a),u*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,u,c,f){let d=(s-a)/u-(o-a)/(u+c)+(o-s)/c,h=(o-s)/c-(l-s)/(c+f)+(l-o)/f;d*=c,h*=c,i(s,o,d,h)},calc:function(a){const s=a*a,o=s*a;return n+e*a+t*s+r*o}}}const uR=new De,YF=new EG,qF=new EG,XF=new EG;class sme extends Bf{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new De){const r=t,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let u,c;this.closed||o>0?u=i[(o-1)%a]:(uR.subVectors(i[0],i[1]).add(i[0]),u=uR);const f=i[o%a],d=i[(o+1)%a];if(this.closed||o+2<a?c=i[(o+2)%a]:(uR.subVectors(i[a-1],i[a-2]).add(i[a-1]),c=uR),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(u.distanceToSquared(f),h),m=Math.pow(f.distanceToSquared(d),h),g=Math.pow(d.distanceToSquared(c),h);m<1e-4&&(m=1),p<1e-4&&(p=m),g<1e-4&&(g=m),YF.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,p,m,g),qF.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,p,m,g),XF.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,p,m,g)}else this.curveType==="catmullrom"&&(YF.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),qF.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),XF.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return r.set(YF.calc(l),qF.calc(l),XF.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new De().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function mne(n,e,t,r,i){const a=(r-e)*.5,s=(i-t)*.5,o=n*n,l=n*o;return(2*t-2*r+a+s)*l+(-3*t+3*r-2*a-s)*o+a*n+t}function xot(n,e){const t=1-n;return t*t*e}function _ot(n,e){return 2*(1-n)*n*e}function bot(n,e){return n*n*e}function cC(n,e,t,r){return xot(n,e)+_ot(n,t)+bot(n,r)}function Sot(n,e){const t=1-n;return t*t*t*e}function wot(n,e){const t=1-n;return 3*t*t*n*e}function Tot(n,e){return 3*(1-n)*n*n*e}function Cot(n,e){return n*n*n*e}function fC(n,e,t,r,i){return Sot(n,e)+wot(n,t)+Tot(n,r)+Cot(n,i)}class DG extends Bf{constructor(e=new Ct,t=new Ct,r=new Ct,i=new Ct){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ct){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(fC(e,i.x,a.x,s.x,o.x),fC(e,i.y,a.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ome extends Bf{constructor(e=new De,t=new De,r=new De,i=new De){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new De){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(fC(e,i.x,a.x,s.x,o.x),fC(e,i.y,a.y,s.y,o.y),fC(e,i.z,a.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class RG extends Bf{constructor(e=new Ct,t=new Ct){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ct){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ct){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lme extends Bf{constructor(e=new De,t=new De){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new De){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new De){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NG extends Bf{constructor(e=new Ct,t=new Ct,r=new Ct){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ct){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(cC(e,i.x,a.x,s.x),cC(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IG extends Bf{constructor(e=new De,t=new De,r=new De){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new De){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(cC(e,i.x,a.x,s.x),cC(e,i.y,a.y,s.y),cC(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kG extends Bf{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ct){const r=t,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,l=i[s===0?s:s-1],u=i[s],c=i[s>i.length-2?i.length-1:s+1],f=i[s>i.length-3?i.length-1:s+2];return r.set(mne(o,l.x,u.x,c.x,f.x),mne(o,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ct().fromArray(i))}return this}}var Rk=Object.freeze({__proto__:null,ArcCurve:ame,CatmullRomCurve3:sme,CubicBezierCurve:DG,CubicBezierCurve3:ome,EllipseCurve:pP,LineCurve:RG,LineCurve3:lme,QuadraticBezierCurve:NG,QuadraticBezierCurve3:IG,SplineCurve:kG});class ume extends Bf{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Rk[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const s=i[a]-r,o=this.curves[a],l=o.getLength(),u=l===0?0:1-s/l;return o.getPointAt(u,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new Rk[i.type]().fromJSON(i))}return this}}class Nk extends ume{constructor(e){super(),this.type="Path",this.currentPoint=new Ct,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new RG(this.currentPoint.clone(),new Ct(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new NG(this.currentPoint.clone(),new Ct(e,t),new Ct(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,s){const o=new DG(this.currentPoint.clone(),new Ct(e,t),new Ct(r,i),new Ct(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new kG(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,r,i,a,s),this}absarc(e,t,r,i,a,s){return this.absellipse(e,t,r,r,i,a,s),this}ellipse(e,t,r,i,a,s,o,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,a,s,o,l),this}absellipse(e,t,r,i,a,s,o,l){const u=new pP(e,t,r,i,a,s,o,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Dy extends Nk{constructor(e){super(e),this.uuid=Tu(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Nk().fromJSON(i))}return this}}function Aot(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=cme(n,0,i,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,u;if(r&&(a=Not(n,e,a,t)),n.length>80*t){o=n[0],l=n[1];let c=o,f=l;for(let d=t;d<i;d+=t){const h=n[d],p=n[d+1];h<o&&(o=h),p<l&&(l=p),h>c&&(c=h),p>f&&(f=p)}u=Math.max(c-o,f-l),u=u!==0?32767/u:0}return SA(a,s,t,o,l,u,0),s}function cme(n,e,t,r,i){let a;if(i===Got(n,e,t,r)>0)for(let s=e;s<t;s+=r)a=gne(s/r|0,n[s],n[s+1],a);else for(let s=t-r;s>=e;s-=r)a=gne(s/r|0,n[s],n[s+1],a);return a&&Gb(a,a.next)&&(TA(a),a=a.next),a}function Zy(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Gb(t,t.next)||$i(t.prev,t,t.next)===0)){if(TA(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function SA(n,e,t,r,i,a,s){if(!n)return;!s&&a&&Oot(n,r,i,a);let o=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(a?Eot(n,r,i,a):Mot(n)){e.push(l.i,n.i,u.i),TA(n),n=u.next,o=u.next;continue}if(n=u,n===o){s?s===1?(n=Dot(Zy(n),e),SA(n,e,t,r,i,a,2)):s===2&&Rot(n,e,t,r,i,a):SA(Zy(n),e,t,r,i,a,1);break}}}function Mot(n){const e=n.prev,t=n,r=n.next;if($i(e,t,r)>=0)return!1;const i=e.x,a=t.x,s=r.x,o=e.y,l=t.y,u=r.y,c=Math.min(i,a,s),f=Math.min(o,l,u),d=Math.max(i,a,s),h=Math.max(o,l,u);let p=r.next;for(;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=f&&p.y<=h&&TT(i,o,a,l,s,u,p.x,p.y)&&$i(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Eot(n,e,t,r){const i=n.prev,a=n,s=n.next;if($i(i,a,s)>=0)return!1;const o=i.x,l=a.x,u=s.x,c=i.y,f=a.y,d=s.y,h=Math.min(o,l,u),p=Math.min(c,f,d),m=Math.max(o,l,u),g=Math.max(c,f,d),y=Vz(h,p,e,t,r),_=Vz(m,g,e,t,r);let S=n.prevZ,A=n.nextZ;for(;S&&S.z>=y&&A&&A.z<=_;){if(S.x>=h&&S.x<=m&&S.y>=p&&S.y<=g&&S!==i&&S!==s&&TT(o,c,l,f,u,d,S.x,S.y)&&$i(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=h&&A.x<=m&&A.y>=p&&A.y<=g&&A!==i&&A!==s&&TT(o,c,l,f,u,d,A.x,A.y)&&$i(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=y;){if(S.x>=h&&S.x<=m&&S.y>=p&&S.y<=g&&S!==i&&S!==s&&TT(o,c,l,f,u,d,S.x,S.y)&&$i(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=_;){if(A.x>=h&&A.x<=m&&A.y>=p&&A.y<=g&&A!==i&&A!==s&&TT(o,c,l,f,u,d,A.x,A.y)&&$i(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function Dot(n,e){let t=n;do{const r=t.prev,i=t.next.next;!Gb(r,i)&&dme(r,t,t.next,i)&&wA(r,i)&&wA(i,r)&&(e.push(r.i,t.i,i.i),TA(t),TA(t.next),t=n=i),t=t.next}while(t!==n);return Zy(t)}function Rot(n,e,t,r,i,a){let s=n;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&zot(s,o)){let l=hme(s,o);s=Zy(s,s.next),l=Zy(l,l.next),SA(s,e,t,r,i,a,0),SA(l,e,t,r,i,a,0);return}o=o.next}s=s.next}while(s!==n)}function Not(n,e,t,r){const i=[];for(let a=0,s=e.length;a<s;a++){const o=e[a]*r,l=a<s-1?e[a+1]*r:n.length,u=cme(n,o,l,r,!1);u===u.next&&(u.steiner=!0),i.push(Bot(u))}i.sort(Iot);for(let a=0;a<i.length;a++)t=kot(i[a],t);return t}function Iot(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function kot(n,e){const t=Lot(n,e);if(!t)return e;const r=hme(t,n);return Zy(r,r.next),Zy(t,t.next)}function Lot(n,e){let t=e;const r=n.x,i=n.y;let a=-1/0,s;if(Gb(n,t))return t;do{if(Gb(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const f=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=r&&f>a&&(a=f,s=t.x<t.next.x?t:t.next,f===r))return s}t=t.next}while(t!==e);if(!s)return null;const o=s,l=s.x,u=s.y;let c=1/0;t=s;do{if(r>=t.x&&t.x>=l&&r!==t.x&&fme(i<u?r:a,i,l,u,i<u?a:r,i,t.x,t.y)){const f=Math.abs(i-t.y)/(r-t.x);wA(t,n)&&(f<c||f===c&&(t.x>s.x||t.x===s.x&&Pot(s,t)))&&(s=t,c=f)}t=t.next}while(t!==o);return s}function Pot(n,e){return $i(n.prev,n,e.prev)<0&&$i(e.next,n,n.next)<0}function Oot(n,e,t,r){let i=n;do i.z===0&&(i.z=Vz(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Fot(i)}function Fot(n){let e,t=1;do{let r=n,i;n=null;let a=null;for(e=0;r;){e++;let s=r,o=0;for(let u=0;u<t&&(o++,s=s.nextZ,!!s);u++);let l=t;for(;o>0||l>0&&s;)o!==0&&(l===0||!s||r.z<=s.z)?(i=r,r=r.nextZ,o--):(i=s,s=s.nextZ,l--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;r=s}a.nextZ=null,t*=2}while(e>1);return n}function Vz(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Bot(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function fme(n,e,t,r,i,a,s,o){return(i-s)*(e-o)>=(n-s)*(a-o)&&(n-s)*(r-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(i-s)*(r-o)}function TT(n,e,t,r,i,a,s,o){return!(n===s&&e===o)&&fme(n,e,t,r,i,a,s,o)}function zot(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Uot(n,e)&&(wA(n,e)&&wA(e,n)&&Vot(n,e)&&($i(n.prev,n,e.prev)||$i(n,e.prev,e))||Gb(n,e)&&$i(n.prev,n,n.next)>0&&$i(e.prev,e,e.next)>0)}function $i(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Gb(n,e){return n.x===e.x&&n.y===e.y}function dme(n,e,t,r){const i=fR($i(n,e,t)),a=fR($i(n,e,r)),s=fR($i(t,r,n)),o=fR($i(t,r,e));return!!(i!==a&&s!==o||i===0&&cR(n,t,e)||a===0&&cR(n,r,e)||s===0&&cR(t,n,r)||o===0&&cR(t,e,r))}function cR(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function fR(n){return n>0?1:n<0?-1:0}function Uot(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&dme(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function wA(n,e){return $i(n.prev,n,n.next)<0?$i(n,e,n.next)>=0&&$i(n,n.prev,e)>=0:$i(n,e,n.prev)<0||$i(n,n.next,e)<0}function Vot(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function hme(n,e){const t=Gz(n.i,n.x,n.y),r=Gz(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function gne(n,e,t,r){const i=Gz(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function TA(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Gz(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Got(n,e,t,r){let i=0;for(let a=e,s=t-r;a<t;a+=r)i+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return i}class Hot{static triangulate(e,t,r=2){return Aot(e,t,r)}}class Sf{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Sf.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];yne(e),xne(r,e);let s=e.length;t.forEach(yne);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,xne(r,t[l]);const o=Hot.triangulate(r,i);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function yne(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function xne(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class vP extends sr{constructor(e=new Dy([new Ct(.5,.5),new Ct(-.5,.5),new Ct(-.5,-.5),new Ct(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];s(u)}this.setAttribute("position",new vn(i,3)),this.setAttribute("uv",new vn(a,2)),this.computeVertexNormals();function s(o){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,h=t.bevelThickness!==void 0?t.bevelThickness:.2,p=t.bevelSize!==void 0?t.bevelSize:h-.1,m=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:jot;let S,A=!1,M,E,D,I;y&&(S=y.getSpacedPoints(c),A=!0,d=!1,M=y.computeFrenetFrames(c,!1),E=new De,D=new De,I=new De),d||(g=0,h=0,p=0,m=0);const N=o.extractPoints(u);let L=N.shape;const B=N.holes;if(!Sf.isClockWise(L)){L=L.reverse();for(let te=0,oe=B.length;te<oe;te++){const ge=B[te];Sf.isClockWise(ge)&&(B[te]=ge.reverse())}}function G(te){const ge=10000000000000001e-36;let le=te[0];for(let fe=1;fe<=te.length;fe++){const be=fe%te.length,Oe=te[be],Ve=Oe.x-le.x,Pe=Oe.y-le.y,me=Ve*Ve+Pe*Pe,ue=Math.max(Math.abs(Oe.x),Math.abs(Oe.y),Math.abs(le.x),Math.abs(le.y)),Ie=ge*ue*ue;if(me<=Ie){te.splice(be,1),fe--;continue}le=Oe}}G(L),B.forEach(G);const V=B.length,q=L;for(let te=0;te<V;te++){const oe=B[te];L=L.concat(oe)}function W(te,oe,ge){return oe||Xn("ExtrudeGeometry: vec does not exist"),te.clone().addScaledVector(oe,ge)}const Z=L.length;function X(te,oe,ge){let le,fe,be;const Oe=te.x-oe.x,Ve=te.y-oe.y,Pe=ge.x-te.x,me=ge.y-te.y,ue=Oe*Oe+Ve*Ve,Ie=Oe*me-Ve*Pe;if(Math.abs(Ie)>Number.EPSILON){const Ye=Math.sqrt(ue),ot=Math.sqrt(Pe*Pe+me*me),We=oe.x-Ve/Ye,zt=oe.y+Oe/Ye,mt=ge.x-me/ot,Nt=ge.y+Pe/ot,Ht=((mt-We)*me-(Nt-zt)*Pe)/(Oe*me-Ve*Pe);le=We+Oe*Ht-te.x,fe=zt+Ve*Ht-te.y;const Qe=le*le+fe*fe;if(Qe<=2)return new Ct(le,fe);be=Math.sqrt(Qe/2)}else{let Ye=!1;Oe>Number.EPSILON?Pe>Number.EPSILON&&(Ye=!0):Oe<-Number.EPSILON?Pe<-Number.EPSILON&&(Ye=!0):Math.sign(Ve)===Math.sign(me)&&(Ye=!0),Ye?(le=-Ve,fe=Oe,be=Math.sqrt(ue)):(le=Oe,fe=Ve,be=Math.sqrt(ue/2))}return new Ct(le/be,fe/be)}const K=[];for(let te=0,oe=q.length,ge=oe-1,le=te+1;te<oe;te++,ge++,le++)ge===oe&&(ge=0),le===oe&&(le=0),K[te]=X(q[te],q[ge],q[le]);const se=[];let J,H=K.concat();for(let te=0,oe=V;te<oe;te++){const ge=B[te];J=[];for(let le=0,fe=ge.length,be=fe-1,Oe=le+1;le<fe;le++,be++,Oe++)be===fe&&(be=0),Oe===fe&&(Oe=0),J[le]=X(ge[le],ge[be],ge[Oe]);se.push(J),H=H.concat(J)}let ee;if(g===0)ee=Sf.triangulateShape(q,B);else{const te=[],oe=[];for(let ge=0;ge<g;ge++){const le=ge/g,fe=h*Math.cos(le*Math.PI/2),be=p*Math.sin(le*Math.PI/2)+m;for(let Oe=0,Ve=q.length;Oe<Ve;Oe++){const Pe=W(q[Oe],K[Oe],be);we(Pe.x,Pe.y,-fe),le===0&&te.push(Pe)}for(let Oe=0,Ve=V;Oe<Ve;Oe++){const Pe=B[Oe];J=se[Oe];const me=[];for(let ue=0,Ie=Pe.length;ue<Ie;ue++){const Ye=W(Pe[ue],J[ue],be);we(Ye.x,Ye.y,-fe),le===0&&me.push(Ye)}le===0&&oe.push(me)}}ee=Sf.triangulateShape(te,oe)}const Q=ee.length,ne=p+m;for(let te=0;te<Z;te++){const oe=d?W(L[te],H[te],ne):L[te];A?(D.copy(M.normals[0]).multiplyScalar(oe.x),E.copy(M.binormals[0]).multiplyScalar(oe.y),I.copy(S[0]).add(D).add(E),we(I.x,I.y,I.z)):we(oe.x,oe.y,0)}for(let te=1;te<=c;te++)for(let oe=0;oe<Z;oe++){const ge=d?W(L[oe],H[oe],ne):L[oe];A?(D.copy(M.normals[te]).multiplyScalar(ge.x),E.copy(M.binormals[te]).multiplyScalar(ge.y),I.copy(S[te]).add(D).add(E),we(I.x,I.y,I.z)):we(ge.x,ge.y,f/c*te)}for(let te=g-1;te>=0;te--){const oe=te/g,ge=h*Math.cos(oe*Math.PI/2),le=p*Math.sin(oe*Math.PI/2)+m;for(let fe=0,be=q.length;fe<be;fe++){const Oe=W(q[fe],K[fe],le);we(Oe.x,Oe.y,f+ge)}for(let fe=0,be=B.length;fe<be;fe++){const Oe=B[fe];J=se[fe];for(let Ve=0,Pe=Oe.length;Ve<Pe;Ve++){const me=W(Oe[Ve],J[Ve],le);A?we(me.x,me.y+S[c-1].y,S[c-1].x+ge):we(me.x,me.y,f+ge)}}}ce(),ve();function ce(){const te=i.length/3;if(d){let oe=0,ge=Z*oe;for(let le=0;le<Q;le++){const fe=ee[le];Ae(fe[2]+ge,fe[1]+ge,fe[0]+ge)}oe=c+g*2,ge=Z*oe;for(let le=0;le<Q;le++){const fe=ee[le];Ae(fe[0]+ge,fe[1]+ge,fe[2]+ge)}}else{for(let oe=0;oe<Q;oe++){const ge=ee[oe];Ae(ge[2],ge[1],ge[0])}for(let oe=0;oe<Q;oe++){const ge=ee[oe];Ae(ge[0]+Z*c,ge[1]+Z*c,ge[2]+Z*c)}}r.addGroup(te,i.length/3-te,0)}function ve(){const te=i.length/3;let oe=0;xe(q,oe),oe+=q.length;for(let ge=0,le=B.length;ge<le;ge++){const fe=B[ge];xe(fe,oe),oe+=fe.length}r.addGroup(te,i.length/3-te,1)}function xe(te,oe){let ge=te.length;for(;--ge>=0;){const le=ge;let fe=ge-1;fe<0&&(fe=te.length-1);for(let be=0,Oe=c+g*2;be<Oe;be++){const Ve=Z*be,Pe=Z*(be+1),me=oe+le+Ve,ue=oe+fe+Ve,Ie=oe+fe+Pe,Ye=oe+le+Pe;Ue(me,ue,Ie,Ye)}}}function we(te,oe,ge){l.push(te),l.push(oe),l.push(ge)}function Ae(te,oe,ge){pe(te),pe(oe),pe(ge);const le=i.length/3,fe=_.generateTopUV(r,i,le-3,le-2,le-1);pt(fe[0]),pt(fe[1]),pt(fe[2])}function Ue(te,oe,ge,le){pe(te),pe(oe),pe(le),pe(oe),pe(ge),pe(le);const fe=i.length/3,be=_.generateSideWallUV(r,i,fe-6,fe-3,fe-2,fe-1);pt(be[0]),pt(be[1]),pt(be[3]),pt(be[1]),pt(be[2]),pt(be[3])}function pe(te){i.push(l[te*3+0]),i.push(l[te*3+1]),i.push(l[te*3+2])}function pt(te){a.push(te.x),a.push(te.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Wot(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Rk[i.type]().fromJSON(i)),new vP(r,e.options)}}const jot={generateTopUV:function(n,e,t,r,i){const a=e[t*3],s=e[t*3+1],o=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Ct(a,s),new Ct(o,l),new Ct(u,c)]},generateSideWallUV:function(n,e,t,r,i,a){const s=e[t*3],o=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],d=e[i*3],h=e[i*3+1],p=e[i*3+2],m=e[a*3],g=e[a*3+1],y=e[a*3+2];return Math.abs(o-c)<Math.abs(s-u)?[new Ct(s,1-l),new Ct(u,1-f),new Ct(d,1-p),new Ct(m,1-y)]:[new Ct(o,1-l),new Ct(c,1-f),new Ct(h,1-p),new Ct(g,1-y)]}};function Wot(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class mP extends sm{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mP(e.radius,e.detail)}}class gP extends sr{constructor(e=[new Ct(0,-.5),new Ct(.5,0),new Ct(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Vn(i,0,Math.PI*2);const a=[],s=[],o=[],l=[],u=[],c=1/t,f=new De,d=new Ct,h=new De,p=new De,m=new De;let g=0,y=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:g=e[_+1].x-e[_].x,y=e[_+1].y-e[_].y,h.x=y*1,h.y=-g,h.z=y*0,m.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(m.x,m.y,m.z);break;default:g=e[_+1].x-e[_].x,y=e[_+1].y-e[_].y,h.x=y*1,h.y=-g,h.z=y*0,p.copy(h),h.x+=m.x,h.y+=m.y,h.z+=m.z,h.normalize(),l.push(h.x,h.y,h.z),m.copy(p)}for(let _=0;_<=t;_++){const S=r+_*c*i,A=Math.sin(S),M=Math.cos(S);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*A,f.y=e[E].y,f.z=e[E].x*M,s.push(f.x,f.y,f.z),d.x=_/t,d.y=E/(e.length-1),o.push(d.x,d.y);const D=l[3*E+0]*A,I=l[3*E+1],N=l[3*E+0]*M;u.push(D,I,N)}}for(let _=0;_<t;_++)for(let S=0;S<e.length-1;S++){const A=S+_*e.length,M=A,E=A+e.length,D=A+e.length+1,I=A+1;a.push(M,E,I),a.push(D,I,E)}this.setIndex(a),this.setAttribute("position",new vn(s,3)),this.setAttribute("uv",new vn(o,2)),this.setAttribute("normal",new vn(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gP(e.points,e.segments,e.phiStart,e.phiLength)}}class wM extends sm{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wM(e.radius,e.detail)}}class MS extends sr{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(r),l=Math.floor(i),u=o+1,c=l+1,f=e/o,d=t/l,h=[],p=[],m=[],g=[];for(let y=0;y<c;y++){const _=y*d-s;for(let S=0;S<u;S++){const A=S*f-a;p.push(A,-_,0),m.push(0,0,1),g.push(S/o),g.push(1-y/l)}}for(let y=0;y<l;y++)for(let _=0;_<o;_++){const S=_+u*y,A=_+u*(y+1),M=_+1+u*(y+1),E=_+1+u*y;h.push(S,A,E),h.push(A,M,E)}this.setIndex(h),this.setAttribute("position",new vn(p,3)),this.setAttribute("normal",new vn(m,3)),this.setAttribute("uv",new vn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MS(e.width,e.height,e.widthSegments,e.heightSegments)}}class yP extends sr{constructor(e=.5,t=1,r=32,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],u=[],c=[];let f=e;const d=(t-e)/i,h=new De,p=new Ct;for(let m=0;m<=i;m++){for(let g=0;g<=r;g++){const y=a+g/r*s;h.x=f*Math.cos(y),h.y=f*Math.sin(y),l.push(h.x,h.y,h.z),u.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,c.push(p.x,p.y)}f+=d}for(let m=0;m<i;m++){const g=m*(r+1);for(let y=0;y<r;y++){const _=y+g,S=_,A=_+r+1,M=_+r+2,E=_+1;o.push(S,A,E),o.push(A,M,E)}}this.setIndex(o),this.setAttribute("position",new vn(l,3)),this.setAttribute("normal",new vn(u,3)),this.setAttribute("uv",new vn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yP(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class xP extends sr{constructor(e=new Dy([new Ct(0,.5),new Ct(-.5,-.5),new Ct(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(o,l,c),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new vn(i,3)),this.setAttribute("normal",new vn(a,3)),this.setAttribute("uv",new vn(s,2));function u(c){const f=i.length/3,d=c.extractPoints(t);let h=d.shape;const p=d.holes;Sf.isClockWise(h)===!1&&(h=h.reverse());for(let g=0,y=p.length;g<y;g++){const _=p[g];Sf.isClockWise(_)===!0&&(p[g]=_.reverse())}const m=Sf.triangulateShape(h,p);for(let g=0,y=p.length;g<y;g++){const _=p[g];h=h.concat(_)}for(let g=0,y=h.length;g<y;g++){const _=h[g];i.push(_.x,_.y,0),a.push(0,0,1),s.push(_.x,_.y)}for(let g=0,y=m.length;g<y;g++){const _=m[g],S=_[0]+f,A=_[1]+f,M=_[2]+f;r.push(S,A,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Yot(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=t[e.shapes[i]];r.push(s)}return new xP(r,e.curveSegments)}}function Yot(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class TM extends sr{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let u=0;const c=[],f=new De,d=new De,h=[],p=[],m=[],g=[];for(let y=0;y<=r;y++){const _=[],S=y/r;let A=0;y===0&&s===0?A=.5/t:y===r&&l===Math.PI&&(A=-.5/t);for(let M=0;M<=t;M++){const E=M/t;f.x=-e*Math.cos(i+E*a)*Math.sin(s+S*o),f.y=e*Math.cos(s+S*o),f.z=e*Math.sin(i+E*a)*Math.sin(s+S*o),p.push(f.x,f.y,f.z),d.copy(f).normalize(),m.push(d.x,d.y,d.z),g.push(E+A,1-S),_.push(u++)}c.push(_)}for(let y=0;y<r;y++)for(let _=0;_<t;_++){const S=c[y][_+1],A=c[y][_],M=c[y+1][_],E=c[y+1][_+1];(y!==0||s>0)&&h.push(S,A,E),(y!==r-1||l<Math.PI)&&h.push(A,M,E)}this.setIndex(h),this.setAttribute("position",new vn(p,3)),this.setAttribute("normal",new vn(m,3)),this.setAttribute("uv",new vn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TM(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class _P extends sm{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _P(e.radius,e.detail)}}class bP extends sr{constructor(e=1,t=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const s=[],o=[],l=[],u=[],c=new De,f=new De,d=new De;for(let h=0;h<=r;h++)for(let p=0;p<=i;p++){const m=p/i*a,g=h/r*Math.PI*2;f.x=(e+t*Math.cos(g))*Math.cos(m),f.y=(e+t*Math.cos(g))*Math.sin(m),f.z=t*Math.sin(g),o.push(f.x,f.y,f.z),c.x=e*Math.cos(m),c.y=e*Math.sin(m),d.subVectors(f,c).normalize(),l.push(d.x,d.y,d.z),u.push(p/i),u.push(h/r)}for(let h=1;h<=r;h++)for(let p=1;p<=i;p++){const m=(i+1)*h+p-1,g=(i+1)*(h-1)+p-1,y=(i+1)*(h-1)+p,_=(i+1)*h+p;s.push(m,g,_),s.push(g,y,_)}this.setIndex(s),this.setAttribute("position",new vn(o,3)),this.setAttribute("normal",new vn(l,3)),this.setAttribute("uv",new vn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bP(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class SP extends sr{constructor(e=1,t=.4,r=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],u=[],c=[],f=new De,d=new De,h=new De,p=new De,m=new De,g=new De,y=new De;for(let S=0;S<=r;++S){const A=S/r*a*Math.PI*2;_(A,a,s,e,h),_(A+.01,a,s,e,p),g.subVectors(p,h),y.addVectors(p,h),m.crossVectors(g,y),y.crossVectors(m,g),m.normalize(),y.normalize();for(let M=0;M<=i;++M){const E=M/i*Math.PI*2,D=-t*Math.cos(E),I=t*Math.sin(E);f.x=h.x+(D*y.x+I*m.x),f.y=h.y+(D*y.y+I*m.y),f.z=h.z+(D*y.z+I*m.z),l.push(f.x,f.y,f.z),d.subVectors(f,h).normalize(),u.push(d.x,d.y,d.z),c.push(S/r),c.push(M/i)}}for(let S=1;S<=r;S++)for(let A=1;A<=i;A++){const M=(i+1)*(S-1)+(A-1),E=(i+1)*S+(A-1),D=(i+1)*S+A,I=(i+1)*(S-1)+A;o.push(M,E,I),o.push(E,D,I)}this.setIndex(o),this.setAttribute("position",new vn(l,3)),this.setAttribute("normal",new vn(u,3)),this.setAttribute("uv",new vn(c,2));function _(S,A,M,E,D){const I=Math.cos(S),N=Math.sin(S),L=M/A*S,B=Math.cos(L);D.x=E*(2+B)*.5*I,D.y=E*(2+B)*N*.5,D.z=E*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SP(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class wP extends sr{constructor(e=new IG(new De(-1,-1,0),new De(-1,1,0),new De(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new De,l=new De,u=new Ct;let c=new De;const f=[],d=[],h=[],p=[];m(),this.setIndex(p),this.setAttribute("position",new vn(f,3)),this.setAttribute("normal",new vn(d,3)),this.setAttribute("uv",new vn(h,2));function m(){for(let S=0;S<t;S++)g(S);g(a===!1?t:0),_(),y()}function g(S){c=e.getPointAt(S/t,c);const A=s.normals[S],M=s.binormals[S];for(let E=0;E<=i;E++){const D=E/i*Math.PI*2,I=Math.sin(D),N=-Math.cos(D);l.x=N*A.x+I*M.x,l.y=N*A.y+I*M.y,l.z=N*A.z+I*M.z,l.normalize(),d.push(l.x,l.y,l.z),o.x=c.x+r*l.x,o.y=c.y+r*l.y,o.z=c.z+r*l.z,f.push(o.x,o.y,o.z)}}function y(){for(let S=1;S<=t;S++)for(let A=1;A<=i;A++){const M=(i+1)*(S-1)+(A-1),E=(i+1)*S+(A-1),D=(i+1)*S+A,I=(i+1)*(S-1)+A;p.push(M,E,I),p.push(E,D,I)}}function _(){for(let S=0;S<=t;S++)for(let A=0;A<=i;A++)u.x=S/t,u.y=A/i,h.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new wP(new Rk[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class pme extends sr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new De,a=new De;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],d=f.start,h=f.count;for(let p=d,m=d+h;p<m;p+=3)for(let g=0;g<3;g++){const y=o.getX(p+g),_=o.getX(p+(g+1)%3);i.fromBufferAttribute(s,y),a.fromBufferAttribute(s,_),_ne(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let u=0;u<3;u++){const c=3*o+u,f=3*o+(u+1)%3;i.fromBufferAttribute(s,c),a.fromBufferAttribute(s,f),_ne(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new vn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function _ne(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var bne=Object.freeze({__proto__:null,BoxGeometry:gx,CapsuleGeometry:fP,CircleGeometry:dP,ConeGeometry:SM,CylinderGeometry:bM,DodecahedronGeometry:hP,EdgesGeometry:ime,ExtrudeGeometry:vP,IcosahedronGeometry:mP,LatheGeometry:gP,OctahedronGeometry:wM,PlaneGeometry:MS,PolyhedronGeometry:sm,RingGeometry:yP,ShapeGeometry:xP,SphereGeometry:TM,TetrahedronGeometry:_P,TorusGeometry:bP,TorusKnotGeometry:SP,TubeGeometry:wP,WireframeGeometry:pme});class vme extends Vo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new en(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class mme extends Eu{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class LG extends Vo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new en(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=im,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mu,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gme extends LG{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ct(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new en(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new en(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new en(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class yme extends Vo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new en(16777215),this.specular=new en(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=im,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mu,this.combine=yM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xme extends Vo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new en(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=im,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class _me extends Vo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=im,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class bme extends Vo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new en(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=im,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mu,this.combine=yM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PG extends Vo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Nve,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class OG extends Vo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Sme extends Vo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new en(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=im,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wme extends Tl{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function vy(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Tme(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Cme(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function Hz(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,s=0;s!==r;++a){const o=t[a]*e;for(let l=0;l!==e;++l)i[s++]=n[o+l]}return i}function FG(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),t.push(...s)),a=n[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),t.push(s)),a=n[i++];while(a!==void 0)}function qot(n,e,t,r,i=30){const a=n.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),f=[],d=[];for(let h=0;h<u.times.length;++h){const p=u.times[h]*i;if(!(p<t||p>=r)){f.push(u.times[h]);for(let m=0;m<c;++m)d.push(u.values[h*c+m])}}f.length!==0&&(u.times=vy(f,u.times.constructor),u.values=vy(d,u.values.constructor),s.push(u))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function Xot(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,a=e/r;for(let s=0;s<i;++s){const o=t.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(y){return y.name===o.name&&y.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let d=0;const h=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);const p=o.times.length-1;let m;if(a<=o.times[0]){const y=c,_=f-c;m=o.values.slice(y,_)}else if(a>=o.times[p]){const y=p*f+c,_=y+f-c;m=o.values.slice(y,_)}else{const y=o.createInterpolant(),_=c,S=f-c;y.evaluate(a),m=y.resultBuffer.slice(_,S)}l==="quaternion"&&new Oo().fromArray(m).normalize().conjugate().toArray(m);const g=u.times.length;for(let y=0;y<g;++y){const _=y*h+d;if(l==="quaternion")Oo.multiplyQuaternionsFlat(u.values,_,m,0,u.values,_);else{const S=h-d*2;for(let A=0;A<S;++A)u.values[_+A]-=m[A]}}}return n.blendMode=mG,n}class Zot{static convertArray(e,t){return vy(e,t)}static isTypedArray(e){return Tme(e)}static getKeyframeOrder(e){return Cme(e)}static sortedArray(e,t,r){return Hz(e,t,r)}static flattenJSON(e,t,r,i){FG(e,t,r,i)}static subclip(e,t,r,i,a=30){return qot(e,t,r,i,a)}static makeClipAdditive(e,t=0,r=e,i=30){return Xot(e,t,r,i)}}class CM{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(a=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(r=2,a=o);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=t[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){const o=r+s>>>1;e<t[o]?s=o:r=o+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)t[s]=r[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Ame extends CM{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:hy,endingEnd:hy}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],l=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case py:a=e,o=2*t-r;break;case gA:a=i.length-2,o=t+i[a]-i[a+1];break;default:a=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case py:s=e,l=2*r-t;break;case gA:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(l-r),this._offsetPrev=a*c,this._offsetNext=s*c}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(r-t)/(i-t),m=p*p,g=m*p,y=-d*g+2*d*m-d*p,_=(1+d)*g+(-1.5-2*d)*m+(-.5+d)*p+1,S=(-1-h)*g+(1.5+h)*m+.5*p,A=h*g-h*m;for(let M=0;M!==o;++M)a[M]=y*s[c+M]+_*s[u+M]+S*s[l+M]+A*s[f+M];return a}}class BG extends CM{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=(r-t)/(i-t),f=1-c;for(let d=0;d!==o;++d)a[d]=s[u+d]*f+s[l+d]*c;return a}}class Mme extends CM{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class kc{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=vy(t,this.TimeBufferType),this.values=vy(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:vy(e.times,Array),values:vy(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Mme(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new BG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Ame(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case mA:t=this.InterpolantFactoryMethodDiscrete;break;case Mk:t=this.InterpolantFactoryMethodLinear;break;case eN:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return Qt("KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return mA;case this.InterpolantFactoryMethodLinear:return Mk;case this.InterpolantFactoryMethodSmooth:return eN}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,s=i-1;for(;a!==i&&r[a]<e;)++a;for(;s!==-1&&r[s]>t;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=r.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Xn("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(Xn("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){Xn("KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){Xn("KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(i!==void 0&&Tme(i))for(let o=0,l=i.length;o!==l;++o){const u=i[o];if(isNaN(u)){Xn("KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===eN,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const u=e[o],c=e[o+1];if(u!==c&&(o!==1||u!==e[0]))if(i)l=!0;else{const f=o*r,d=f-r,h=f+r;for(let p=0;p!==r;++p){const m=t[f+p];if(m!==t[d+p]||m!==t[h+p]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const f=o*r,d=s*r;for(let h=0;h!==r;++h)t[d+h]=t[f+h]}++s}}if(a>0){e[s]=e[a];for(let o=a*r,l=s*r,u=0;u!==r;++u)t[l+u]=t[o+u];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}kc.prototype.ValueTypeName="";kc.prototype.TimeBufferType=Float32Array;kc.prototype.ValueBufferType=Float32Array;kc.prototype.DefaultInterpolation=Mk;class yx extends kc{constructor(e,t,r){super(e,t,r)}}yx.prototype.ValueTypeName="bool";yx.prototype.ValueBufferType=Array;yx.prototype.DefaultInterpolation=mA;yx.prototype.InterpolantFactoryMethodLinear=void 0;yx.prototype.InterpolantFactoryMethodSmooth=void 0;class zG extends kc{constructor(e,t,r,i){super(e,t,r,i)}}zG.prototype.ValueTypeName="color";class CA extends kc{constructor(e,t,r,i){super(e,t,r,i)}}CA.prototype.ValueTypeName="number";class Eme extends CM{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(r-t)/(i-t);let u=e*o;for(let c=u+o;u!==c;u+=4)Oo.slerpFlat(a,0,s,u-o,s,u,l);return a}}class AM extends kc{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new Eme(this.times,this.values,this.getValueSize(),e)}}AM.prototype.ValueTypeName="quaternion";AM.prototype.InterpolantFactoryMethodSmooth=void 0;class xx extends kc{constructor(e,t,r){super(e,t,r)}}xx.prototype.ValueTypeName="string";xx.prototype.ValueBufferType=Array;xx.prototype.DefaultInterpolation=mA;xx.prototype.InterpolantFactoryMethodLinear=void 0;xx.prototype.InterpolantFactoryMethodSmooth=void 0;class AA extends kc{constructor(e,t,r,i){super(e,t,r,i)}}AA.prototype.ValueTypeName="vector";class MA{constructor(e="",t=-1,r=[],i=tP){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Tu(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)t.push($ot(r[s]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=r.length;a!==s;++a)t.push(kc.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,s=[];for(let o=0;o<a;o++){let l=[],u=[];l.push((o+a-1)%a,o,(o+1)%a),u.push(0,1,0);const c=Cme(l);l=Hz(l,1,c),u=Hz(u,1,c),!i&&l[0]===0&&(l.push(a),u.push(u[0])),s.push(new CA(".morphTargetInfluences["+t[o].name+"]",l,u).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],c=u.name.match(a);if(c&&c.length>1){const f=c[1];let d=i[f];d||(i[f]=d=[]),d.push(u)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return s}static parseAnimation(e,t){if(Qt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Xn("AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,h,p,m){if(h.length!==0){const g=[],y=[];FG(h,g,y,p),g.length!==0&&m.push(new f(d,g,y))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const d=u[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let p;for(p=0;p<d.length;p++)if(d[p].morphTargets)for(let m=0;m<d[p].morphTargets.length;m++)h[d[p].morphTargets[m]]=-1;for(const m in h){const g=[],y=[];for(let _=0;_!==d[p].morphTargets.length;++_){const S=d[p];g.push(S.time),y.push(S.morphTarget===m?1:0)}i.push(new CA(".morphTargetInfluence["+m+"]",g,y))}l=h.length*s}else{const h=".bones["+t[f].name+"]";r(AA,h+".position",d,"pos",i),r(AM,h+".quaternion",d,"rot",i),r(AA,h+".scale",d,"scl",i)}}return i.length===0?null:new this(a,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function Kot(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return CA;case"vector":case"vector2":case"vector3":case"vector4":return AA;case"color":return zG;case"quaternion":return AM;case"bool":case"boolean":return yx;case"string":return xx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function $ot(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Kot(n.type);if(n.times===void 0){const t=[],r=[];FG(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Vd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class UG{constructor(e,t,r){const i=this;let a=!1,s=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this._abortController=null,this.itemStart=function(c){o++,a===!1&&i.onStart!==void 0&&i.onStart(c,s,o),a=!0},this.itemEnd=function(c){s++,i.onProgress!==void 0&&i.onProgress(c,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){const h=u[f],p=u[f+1];if(h.global&&(h.lastIndex=0),h.test(c))return p}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Dme=new UG;class Zl{constructor(e){this.manager=e!==void 0?e:Dme,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Zl.DEFAULT_MATERIAL_NAME="__DEFAULT";const ep={};class Jot extends Error{constructor(e,t){super(e),this.response=t}}class Gp extends Zl{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Vd.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(ep[e]!==void 0){ep[e].push({onLoad:t,onProgress:r,onError:i});return}ep[e]=[],ep[e].push({onLoad:t,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&Qt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=ep[e],f=u.body.getReader(),d=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),h=d?parseInt(d):0,p=h!==0;let m=0;const g=new ReadableStream({start(y){_();function _(){f.read().then(({done:S,value:A})=>{if(S)y.close();else{m+=A.byteLength;const M=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:h});for(let E=0,D=c.length;E<D;E++){const I=c[E];I.onProgress&&I.onProgress(M)}y.enqueue(A),_()}},S=>{y.error(S)})}}});return new Response(g)}else throw new Jot(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,o));case"json":return u.json();default:if(o==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),d=f&&f[1]?f[1].toLowerCase():void 0,h=new TextDecoder(d);return u.arrayBuffer().then(p=>h.decode(p))}}}).then(u=>{Vd.add(`file:${e}`,u);const c=ep[e];delete ep[e];for(let f=0,d=c.length;f<d;f++){const h=c[f];h.onLoad&&h.onLoad(u)}}).catch(u=>{const c=ep[e];if(c===void 0)throw this.manager.itemError(e),u;delete ep[e];for(let f=0,d=c.length;f<d;f++){const h=c[f];h.onError&&h.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Qot extends Zl{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Gp(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):Xn(l),a.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=MA.parse(e[r]);t.push(i)}return t}}class elt extends Zl{constructor(e){super(e)}load(e,t,r,i){const a=this,s=[],o=new cP,l=new Gp(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(f){l.load(e[f],function(d){const h=a.parse(d,!0);s[f]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},u+=1,u===6&&(h.mipmapCount===1&&(o.minFilter=Ra),o.image=s,o.format=h.format,o.needsUpdate=!0,t&&t(o))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)c(f);else l.load(e,function(f){const d=a.parse(f,!0);if(d.isCubemap){const h=d.mipmaps.length/d.mipmapCount;for(let p=0;p<h;p++){s[p]={mipmaps:[]};for(let m=0;m<d.mipmapCount;m++)s[p].mipmaps.push(d.mipmaps[p*d.mipmapCount+m]),s[p].format=d.format,s[p].width=d.width,s[p].height=d.height}o.image=s}else o.image.width=d.width,o.image.height=d.height,o.mipmaps=d.mipmaps;d.mipmapCount===1&&(o.minFilter=Ra),o.format=d.format,o.needsUpdate=!0,t&&t(o)},r,i);return o}}const x_=new WeakMap;class EA extends Zl{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Vd.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0);else{let f=x_.get(s);f===void 0&&(f=[],x_.set(s,f)),f.push({onLoad:t,onError:i})}return s}const o=_A("img");function l(){c(),t&&t(this);const f=x_.get(this)||[];for(let d=0;d<f.length;d++){const h=f[d];h.onLoad&&h.onLoad(this)}x_.delete(this),a.manager.itemEnd(e)}function u(f){c(),i&&i(f),Vd.remove(`image:${e}`);const d=x_.get(this)||[];for(let h=0;h<d.length;h++){const p=d[h];p.onError&&p.onError(f)}x_.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),Vd.add(`image:${e}`,o),a.manager.itemStart(e),o.src=e,o}}class tlt extends Zl{constructor(e){super(e)}load(e,t,r,i){const a=new _M;a.colorSpace=Ao;const s=new EA(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(u){s.load(e[u],function(c){a.images[u]=c,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class nlt extends Zl{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Df,o=new Gp(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let u;try{u=a.parse(l)}catch(c){if(i!==void 0)i(c);else{c(c);return}}u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:Hl,s.wrapT=u.wrapT!==void 0?u.wrapT:Hl,s.magFilter=u.magFilter!==void 0?u.magFilter:Ra,s.minFilter=u.minFilter!==void 0?u.minFilter:Ra,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(s.colorSpace=u.colorSpace),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=Ud),u.mipmapCount===1&&(s.minFilter=Ra),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,t&&t(s,u)},r,i),s}}class rlt extends Zl{constructor(e){super(e)}load(e,t,r,i){const a=new pa,s=new EA(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class om extends Vr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new en(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class Rme extends om{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Vr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new en(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const ZF=new Yn,Sne=new De,wne=new De;class VG{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ct(512,512),this.mapType=Ec,this.map=null,this.mapPass=null,this.matrix=new Yn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new AS,this._frameExtents=new Ct(1,1),this._viewportCount=1,this._viewports=[new jr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Sne.setFromMatrixPosition(e.matrixWorld),t.position.copy(Sne),wne.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(wne),t.updateMatrixWorld(),ZF.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ZF,t.coordinateSystem,t.reversedDepth),t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(ZF)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ilt extends VG{constructor(){super(new Ea(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,r=Bb*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Nme extends om{constructor(e,t,r=0,i=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Vr.DEFAULT_UP),this.updateMatrix(),this.target=new Vr,this.distance=r,this.angle=i,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new ilt}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Tne=new Yn,tT=new De,KF=new De;class alt extends VG{constructor(){super(new Ea(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ct(4,2),this._viewportCount=6,this._viewports=[new jr(2,1,1,1),new jr(0,1,1,1),new jr(3,1,1,1),new jr(1,1,1,1),new jr(3,0,1,1),new jr(1,0,1,1)],this._cubeDirections=[new De(1,0,0),new De(-1,0,0),new De(0,0,1),new De(0,0,-1),new De(0,1,0),new De(0,-1,0)],this._cubeUps=[new De(0,1,0),new De(0,1,0),new De(0,1,0),new De(0,1,0),new De(0,0,1),new De(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),tT.setFromMatrixPosition(e.matrixWorld),r.position.copy(tT),KF.copy(r.position),KF.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(KF),r.updateMatrixWorld(),i.makeTranslation(-tT.x,-tT.y,-tT.z),Tne.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Tne,r.coordinateSystem,r.reversedDepth)}}class Ime extends om{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new alt}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kv extends iP{constructor(e=-1,t=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,s=a+u*this.view.width,o-=c*this.view.offsetY,l=o-c*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class slt extends VG{constructor(){super(new kv(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class kme extends om{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Vr.DEFAULT_UP),this.updateMatrix(),this.target=new Vr,this.shadow=new slt}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Lme extends om{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Pme extends om{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Ome{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new De)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(r*a)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*r*a),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class Fme extends om{constructor(e=new Ome,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class TP extends Zl{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,s=new Gp(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):Xn(l),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&Qt("MaterialLoader: Undefined texture",a),t[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new en().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=r(s.value);break;case"c":i.uniforms[a].value=new en().setHex(s.value);break;case"v2":i.uniforms[a].value=new Ct().fromArray(s.value);break;case"v3":i.uniforms[a].value=new De().fromArray(s.value);break;case"v4":i.uniforms[a].value=new jr().fromArray(s.value);break;case"m3":i.uniforms[a].value=new ar().fromArray(s.value);break;case"m4":i.uniforms[a].value=new Yn().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Ct().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ct().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return TP.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:vme,SpriteMaterial:wG,RawShaderMaterial:mme,ShaderMaterial:Eu,PointsMaterial:CG,MeshPhysicalMaterial:gme,MeshStandardMaterial:LG,MeshPhongMaterial:yme,MeshToonMaterial:xme,MeshNormalMaterial:_me,MeshLambertMaterial:bme,MeshDepthMaterial:PG,MeshDistanceMaterial:OG,MeshBasicMaterial:am,MeshMatcapMaterial:Sme,LineDashedMaterial:wme,LineBasicMaterial:Tl,Material:Vo};return new t[e]}}class jz{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Bme extends sr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class zme extends Zl{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Gp(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):Xn(l),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(h,p){if(t[p]!==void 0)return t[p];const g=h.interleavedBuffers[p],y=a(h,g.buffer),_=V_(g.type,y),S=new oP(_,g.stride);return S.uuid=g.uuid,t[p]=S,S}function a(h,p){if(r[p]!==void 0)return r[p];const g=h.arrayBuffers[p],y=new Uint32Array(g).buffer;return r[p]=y,y}const s=e.isInstancedBufferGeometry?new Bme:new sr,o=e.data.index;if(o!==void 0){const h=V_(o.type,o.array);s.setIndex(new bi(h,1))}const l=e.data.attributes;for(const h in l){const p=l[h];let m;if(p.isInterleavedBufferAttribute){const g=i(e.data,p.data);m=new Xy(g,p.itemSize,p.offset,p.normalized)}else{const g=V_(p.type,p.array),y=p.isInstancedBufferAttribute?Vb:bi;m=new y(g,p.itemSize,p.normalized)}p.name!==void 0&&(m.name=p.name),p.usage!==void 0&&m.setUsage(p.usage),s.setAttribute(h,m)}const u=e.data.morphAttributes;if(u)for(const h in u){const p=u[h],m=[];for(let g=0,y=p.length;g<y;g++){const _=p[g];let S;if(_.isInterleavedBufferAttribute){const A=i(e.data,_.data);S=new Xy(A,_.itemSize,_.offset,_.normalized)}else{const A=V_(_.type,_.array);S=new bi(A,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),m.push(S)}s.morphAttributes[h]=m}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let h=0,p=f.length;h!==p;++h){const m=f[h];s.addGroup(m.start,m.count,m.materialIndex)}const d=e.data.boundingSphere;return d!==void 0&&(s.boundingSphere=new Qs().fromJSON(d)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class olt extends Zl{constructor(e){super(e)}load(e,t,r,i){const a=this,s=this.path===""?jz.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Gp(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),Xn("ObjectLoader: Can't load "+e);return}a.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?jz.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Gp(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,a,l,o,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),t!==void 0){let f=!1;for(const d in s)if(s[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new Dy().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new lP().fromJSON(e[a],i);r[o.uuid]=o}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new zme;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in bne?o=bne[l.type].fromJSON(l,t):Qt(`ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new TP;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=MA.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function s(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return s(c)}else return l.data?{data:V_(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new UG(t);a=new EA(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],d=f.url;if(Array.isArray(d)){const h=[];for(let p=0,m=d.length;p<m;p++){const g=d[p],y=o(g);y!==null&&(y instanceof HTMLImageElement?h.push(y):h.push(new Df(y.data,y.width,y.height)))}i[f.uuid]=new _v(h)}else{const h=o(f.url);i[f.uuid]=new _v(h)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return s.data?{data:V_(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new EA(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,d=u.length;f<d;f++){const h=u[f],p=await a(h);p!==null&&(p instanceof HTMLImageElement?c.push(p):c.push(new Df(p.data,p.width,p.height)))}r[l.uuid]=new _v(c)}else{const c=await a(l.url);r[l.uuid]=new _v(c)}}}return r}parseTextures(e,t){function r(a,s){return typeof a=="number"?a:(Qt("ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&Qt('ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&Qt("ObjectLoader: Undefined image",o.image);const l=t[o.image],u=l.data;let c;Array.isArray(u)?(c=new _M,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Df:c=new pa,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=o.uuid,o.name!==void 0&&(c.name=o.name),o.mapping!==void 0&&(c.mapping=r(o.mapping,llt)),o.channel!==void 0&&(c.channel=o.channel),o.offset!==void 0&&c.offset.fromArray(o.offset),o.repeat!==void 0&&c.repeat.fromArray(o.repeat),o.center!==void 0&&c.center.fromArray(o.center),o.rotation!==void 0&&(c.rotation=o.rotation),o.wrap!==void 0&&(c.wrapS=r(o.wrap[0],Cne),c.wrapT=r(o.wrap[1],Cne)),o.format!==void 0&&(c.format=o.format),o.internalFormat!==void 0&&(c.internalFormat=o.internalFormat),o.type!==void 0&&(c.type=o.type),o.colorSpace!==void 0&&(c.colorSpace=o.colorSpace),o.minFilter!==void 0&&(c.minFilter=r(o.minFilter,Ane)),o.magFilter!==void 0&&(c.magFilter=r(o.magFilter,Ane)),o.anisotropy!==void 0&&(c.anisotropy=o.anisotropy),o.flipY!==void 0&&(c.flipY=o.flipY),o.generateMipmaps!==void 0&&(c.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(c.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(c.compareFunction=o.compareFunction),o.userData!==void 0&&(c.userData=o.userData),i[o.uuid]=c}return i}parseObject(e,t,r,i,a){let s;function o(d){return t[d]===void 0&&Qt("ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const h=[];for(let p=0,m=d.length;p<m;p++){const g=d[p];r[g]===void 0&&Qt("ObjectLoader: Undefined material",g),h.push(r[g])}return h}return r[d]===void 0&&Qt("ObjectLoader: Undefined material",d),r[d]}}function u(d){return i[d]===void 0&&Qt("ObjectLoader: Undefined texture",d),i[d]}let c,f;switch(e.type){case"Scene":s=new SG,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new en(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new sP(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new aP(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Ea(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new kv(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Lme(e.color,e.intensity);break;case"DirectionalLight":s=new kme(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new Ime(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Pme(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Nme(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new Rme(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Fme().fromJSON(e);break;case"SkinnedMesh":c=o(e.geometry),f=l(e.material),s=new Jve(c,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":c=o(e.geometry),f=l(e.material),s=new fs(c,f);break;case"InstancedMesh":c=o(e.geometry),f=l(e.material);const d=e.count,h=e.instanceMatrix,p=e.instanceColor;s=new Qve(c,f,d),s.instanceMatrix=new Vb(new Float32Array(h.array),16),p!==void 0&&(s.instanceColor=new Vb(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":c=o(e.geometry),f=l(e.material),s=new eme(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),s.geometry=c,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(m=>{let g=null,y=null;return m.boundingBox!==void 0&&(g=new Fo().fromJSON(m.boundingBox)),m.boundingSphere!==void 0&&(y=new Qs().fromJSON(m.boundingSphere)),{...m,boundingBox:g,boundingSphere:y}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=u(e.matricesTexture.uuid),s._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new Qs().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new Fo().fromJSON(e.boundingBox));break;case"LOD":s=new $ve;break;case"Line":s=new qv(o(e.geometry),l(e.material));break;case"LineLoop":s=new tme(o(e.geometry),l(e.material));break;case"LineSegments":s=new ch(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new nme(o(e.geometry),l(e.material));break;case"Sprite":s=new Kve(l(e.material));break;case"Group":s=new G_;break;case"Bone":s=new TG;break;default:s=new Vr}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let h=0;h<d.length;h++)s.add(this.parseObject(d[h],t,r,i,a))}if(e.animations!==void 0){const d=e.animations;for(let h=0;h<d.length;h++){const p=d[h];s.animations.push(a[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const d=e.levels;for(let h=0;h<d.length;h++){const p=d[h],m=s.getObjectByProperty("uuid",p.object);m!==void 0&&s.addLevel(m,p.distance,p.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?Qt("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new Vr}})}}const llt={UVMapping:qL,CubeReflectionMapping:Up,CubeRefractionMapping:jv,EquirectangularReflectionMapping:dA,EquirectangularRefractionMapping:hA,CubeUVReflectionMapping:CS},Cne={RepeatWrapping:pA,ClampToEdgeWrapping:Hl,MirroredRepeatWrapping:vA},Ane={NearestFilter:Js,NearestMipmapNearestFilter:uG,NearestMipmapLinearFilter:U_,LinearFilter:Ra,LinearMipmapNearestFilter:iC,LinearMipmapLinearFilter:Ud},$F=new WeakMap;class ult extends Zl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Qt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Qt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Vd.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(u=>{if($F.has(s)===!0)i&&i($F.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(u),a.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return Vd.add(`image-bitmap:${e}`,u),t&&t(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),$F.set(l,u),Vd.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Vd.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let dR;class GG{static getContext(){return dR===void 0&&(dR=new(window.AudioContext||window.webkitAudioContext)),dR}static setContext(e){dR=e}}class clt extends Zl{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Gp(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const u=l.slice(0);GG.getContext().decodeAudioData(u,function(f){t(f)}).catch(o)}catch(u){o(u)}},r,i);function o(l){i?i(l):Xn(l),a.manager.itemError(e)}}}const Mne=new Yn,Ene=new Yn,kg=new Yn;class flt{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ea,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ea,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,kg.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,s=t.near*Math.tan(Ey*t.fov*.5)/t.zoom;let o,l;Ene.elements[12]=-i,Mne.elements[12]=i,o=-s*t.aspect+a,l=s*t.aspect+a,kg.elements[0]=2*t.near/(l-o),kg.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(kg),o=-s*t.aspect-a,l=s*t.aspect-a,kg.elements[0]=2*t.near/(l-o),kg.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(kg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ene),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Mne)}}class Ume extends Ea{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class HG{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Lg=new De,JF=new Oo,dlt=new De,Pg=new De,Og=new De;class hlt extends Vr{constructor(){super(),this.type="AudioListener",this.context=GG.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HG}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Lg,JF,dlt),Pg.set(0,0,-1).applyQuaternion(JF),Og.set(0,1,0).applyQuaternion(JF),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Lg.x,r),t.positionY.linearRampToValueAtTime(Lg.y,r),t.positionZ.linearRampToValueAtTime(Lg.z,r),t.forwardX.linearRampToValueAtTime(Pg.x,r),t.forwardY.linearRampToValueAtTime(Pg.y,r),t.forwardZ.linearRampToValueAtTime(Pg.z,r),t.upX.linearRampToValueAtTime(Og.x,r),t.upY.linearRampToValueAtTime(Og.y,r),t.upZ.linearRampToValueAtTime(Og.z,r)}else t.setPosition(Lg.x,Lg.y,Lg.z),t.setOrientation(Pg.x,Pg.y,Pg.z,Og.x,Og.y,Og.z)}}class Vme extends Vr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Qt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Qt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Qt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Qt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Qt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Qt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Qt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(Qt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Fg=new De,Dne=new Oo,plt=new De,Bg=new De;class vlt extends Vme{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Fg,Dne,plt),Bg.set(0,0,1).applyQuaternion(Dne);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Fg.x,r),t.positionY.linearRampToValueAtTime(Fg.y,r),t.positionZ.linearRampToValueAtTime(Fg.z,r),t.orientationX.linearRampToValueAtTime(Bg.x,r),t.orientationY.linearRampToValueAtTime(Bg.y,r),t.orientationZ.linearRampToValueAtTime(Bg.z,r)}else t.setPosition(Fg.x,Fg.y,Fg.z),t.setOrientation(Bg.x,Bg.y,Bg.z)}}class mlt{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class Gme{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,s;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)r[a+o]=r[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(r,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-a,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,s=i;a!==s;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){Oo.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const s=this._workIndex*a;Oo.multiplyQuaternionsFlat(e,s,e,t,e,r),Oo.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,a){const s=1-i;for(let o=0;o!==a;++o){const l=t+o;e[l]=e[l]*s+e[r+o]*i}}_lerpAdditive(e,t,r,i,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[r+s]*i}}}const jG="\\[\\]\\.:\\/",glt=new RegExp("["+jG+"]","g"),WG="[^"+jG+"]",ylt="[^"+jG.replace("\\.","")+"]",xlt=/((?:WC+[\/:])*)/.source.replace("WC",WG),_lt=/(WCOD+)?/.source.replace("WCOD",ylt),blt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",WG),Slt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",WG),wlt=new RegExp("^"+xlt+_lt+blt+Slt+"$"),Tlt=["material","materials","bones","map"];class Clt{constructor(e,t,r){const i=r||Hr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Hr{constructor(e,t,r){this.path=t,this.parsedPath=r||Hr.parseTrackName(t),this.node=Hr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Hr.Composite(e,t,r):new Hr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(glt,"")}static parseTrackName(e){const t=wlt.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);Tlt.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=Hr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Qt("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){Xn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Xn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Xn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Xn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Xn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){Xn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){Xn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const s=e[i];if(s===void 0){const u=t.nodeName;Xn("PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){Xn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Xn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Hr.Composite=Clt;Hr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Hr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Hr.prototype.GetterByBindingType=[Hr.prototype._getValue_direct,Hr.prototype._getValue_array,Hr.prototype._getValue_arrayElement,Hr.prototype._getValue_toArray];Hr.prototype.SetterByBindingTypeAndVersioning=[[Hr.prototype._setValue_direct,Hr.prototype._setValue_direct_setNeedsUpdate,Hr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Hr.prototype._setValue_array,Hr.prototype._setValue_array_setNeedsUpdate,Hr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Hr.prototype._setValue_arrayElement,Hr.prototype._setValue_arrayElement_setNeedsUpdate,Hr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Hr.prototype._setValue_fromArray,Hr.prototype._setValue_fromArray_setNeedsUpdate,Hr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Alt{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Tu(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],h=d.uuid;let p=t[h];if(p===void 0){p=l++,t[h]=p,e.push(d);for(let m=0,g=s;m!==g;++m)a[m].push(new Hr(d,r[m],i[m]))}else if(p<u){o=e[p];const m=--u,g=e[m];t[g.uuid]=p,e[p]=g,t[h]=m,e[m]=d;for(let y=0,_=s;y!==_;++y){const S=a[y],A=S[m];let M=S[p];S[p]=A,M===void 0&&(M=new Hr(d,r[y],i[y])),S[m]=M}}else e[p]!==o&&Xn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],u=l.uuid,c=t[u];if(c!==void 0&&c>=a){const f=a++,d=e[f];t[d.uuid]=c,e[c]=d,t[u]=f,e[f]=l;for(let h=0,p=i;h!==p;++h){const m=r[h],g=m[f],y=m[c];m[c]=g,m[f]=y}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<a){const d=--a,h=e[d],p=--s,m=e[p];t[h.uuid]=f,e[f]=h,t[m.uuid]=d,e[d]=m,e.pop();for(let g=0,y=i;g!==y;++g){const _=r[g],S=_[d],A=_[p];_[f]=S,_[d]=A,_.pop()}}else{const d=--s,h=e[d];d>0&&(t[h.uuid]=f),e[f]=h,e.pop();for(let p=0,m=i;p!==m;++p){const g=r[p];g[f]=g[d],g.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const s=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=a.length,r[e]=i,s.push(e),o.push(t),a.push(f);for(let d=c,h=l.length;d!==h;++d){const p=l[d];f[d]=new Hr(p,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],u=e[o];t[u]=r,s[r]=l,s.pop(),a[r]=a[o],a.pop(),i[r]=i[o],i.pop()}}}class Hme{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,s=a.length,o=new Array(s),l={endingStart:hy,endingEnd:hy};for(let u=0;u!==s;++u){const c=a[u].createInterpolant(null);o[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Dve,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/s,u[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case mG:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(s),u[c].accumulateAdditive(o);break;case tP:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(s),u[c].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const s=r===Rve;if(e===0)return a===-1?i:s&&(a&1)===1?t-i:i;if(r===Eve){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=py,i.endingEnd=py):(e?i.endingStart=this.zeroSlopeAtStart?py:hy:i.endingStart=gA,t?i.endingEnd=this.zeroSlopeAtEnd?py:hy:i.endingEnd=gA)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=t,o[1]=a+e,l[1]=r,this}}const Mlt=new Float32Array(1);class Elt extends uh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==a;++f){const d=i[f],h=d.name;let p=c[h];if(p!==void 0)++p.referenceCount,s[f]=p;else{if(p=s[f],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,h));continue}const m=t&&t._propertyBindings[f].binding.parsedPath;p=new Gme(Hr.create(r,h,m),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,h),s[f]=p}o[f].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,o=s[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new BG(new Float32Array(2),new Float32Array(2),1,Mlt),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let s=typeof e=="string"?MA.findByName(i,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let u=null;if(r===void 0&&(s!==null?r=s.blendMode:r=tP),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;const c=new Hme(this,s,t,r);return this._bindAction(c,u),this._addInactiveAction(c,o,a),c}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?MA.findByName(r,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const u=s[o];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const o=r[s].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Dlt extends xG{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new rP(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class YG{constructor(e){this.value=e}clone(){return new YG(this.value.clone===void 0?this.value:this.value.clone())}}let Rlt=0;class Nlt extends uh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Rlt++}),this.name="",this.usage=xA,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const a=Array.isArray(t[r])?t[r]:[t[r]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class Ilt extends oP{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class klt{constructor(e,t,r,i,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Rne=new Yn;class jme{constructor(e,t,r=0,i=1/0){this.ray=new mx(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new zb,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Xn("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Rne.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Rne),this}intersectObject(e,t=!0,r=[]){return Wz(e,this,r,t),r.sort(Nne),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)Wz(e[i],this,r,t);return r.sort(Nne),r}}function Nne(n,e){return n.distance-e.distance}function Wz(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const a=n.children;for(let s=0,o=a.length;s<o;s++)Wz(a[s],e,t,!0)}}class Llt{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Plt.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function Plt(){this._document.hidden===!1&&this.reset()}class Ik{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Vn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Vn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Olt{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class qG{constructor(e,t,r,i){qG.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const a=this.elements;return a[0]=e,a[2]=t,a[1]=r,a[3]=i,this}}const Ine=new Ct;class Flt{constructor(e=new Ct(1/0,1/0),t=new Ct(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ine.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ine).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const kne=new De,hR=new De,__=new De,b_=new De,QF=new De,Blt=new De,zlt=new De;class Ult{constructor(e=new De,t=new De){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){kne.subVectors(e,this.start),hR.subVectors(this.end,this.start);const r=hR.dot(hR);let a=hR.dot(kne)/r;return t&&(a=Vn(a,0,1)),a}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=Blt,r=zlt){const i=10000000000000001e-32;let a,s;const o=this.start,l=e.start,u=this.end,c=e.end;__.subVectors(u,o),b_.subVectors(c,l),QF.subVectors(o,l);const f=__.dot(__),d=b_.dot(b_),h=b_.dot(QF);if(f<=i&&d<=i)return t.copy(o),r.copy(l),t.sub(r),t.dot(t);if(f<=i)a=0,s=h/d,s=Vn(s,0,1);else{const p=__.dot(QF);if(d<=i)s=0,a=Vn(-p/f,0,1);else{const m=__.dot(b_),g=f*d-m*m;g!==0?a=Vn((m*h-p*d)/g,0,1):a=0,s=(m*a+h)/d,s<0?(s=0,a=Vn(-p/f,0,1)):s>1&&(s=1,a=Vn((m-p)/f,0,1))}}return t.copy(o).add(__.multiplyScalar(a)),r.copy(l).add(b_.multiplyScalar(s)),t.sub(r),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Lne=new De;class Vlt extends Vr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new sr,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const u=s/l*Math.PI*2,c=o/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new vn(i,3));const a=new Tl({fog:!1,toneMapped:!1});this.cone=new ch(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Lne.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Lne),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const J0=new De,pR=new Yn,eB=new Yn;class Glt extends ch{constructor(e){const t=Wme(e),r=new sr,i=[],a=[];for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}r.setAttribute("position",new vn(i,3)),r.setAttribute("color",new vn(a,3));const s=new Tl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new en(255),l=new en(65280);this.setColors(o,l)}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");eB.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const o=t[a];o.parent&&o.parent.isBone&&(pR.multiplyMatrices(eB,o.matrixWorld),J0.setFromMatrixPosition(pR),i.setXYZ(s,J0.x,J0.y,J0.z),pR.multiplyMatrices(eB,o.parent.matrixWorld),J0.setFromMatrixPosition(pR),i.setXYZ(s+1,J0.x,J0.y,J0.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Wme(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...Wme(n.children[t]));return e}class Hlt extends fs{constructor(e,t,r){const i=new TM(t,4,2),a=new am({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const jlt=new De,Pne=new en,One=new en;class Wlt extends Vr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new wM(t);i.rotateY(Math.PI*.5),this.material=new am({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),s=new Float32Array(a.count*3);i.setAttribute("color",new bi(s,3)),this.add(new fs(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Pne.copy(this.light.color),One.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const a=r<i/2?Pne:One;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(jlt.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Ylt extends ch{constructor(e=10,t=10,r=4473924,i=8947848){r=new en(r),i=new en(i);const a=t/2,s=e/t,o=e/2,l=[],u=[];for(let d=0,h=0,p=-o;d<=t;d++,p+=s){l.push(-o,0,p,o,0,p),l.push(p,0,-o,p,0,o);const m=d===a?r:i;m.toArray(u,h),h+=3,m.toArray(u,h),h+=3,m.toArray(u,h),h+=3,m.toArray(u,h),h+=3}const c=new sr;c.setAttribute("position",new vn(l,3)),c.setAttribute("color",new vn(u,3));const f=new Tl({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class qlt extends ch{constructor(e=10,t=16,r=8,i=64,a=4473924,s=8947848){a=new en(a),s=new en(s);const o=[],l=[];if(t>1)for(let f=0;f<t;f++){const d=f/t*(Math.PI*2),h=Math.sin(d)*e,p=Math.cos(d)*e;o.push(0,0,0),o.push(h,0,p);const m=f&1?a:s;l.push(m.r,m.g,m.b),l.push(m.r,m.g,m.b)}for(let f=0;f<r;f++){const d=f&1?a:s,h=e-e/r*f;for(let p=0;p<i;p++){let m=p/i*(Math.PI*2),g=Math.sin(m)*h,y=Math.cos(m)*h;o.push(g,0,y),l.push(d.r,d.g,d.b),m=(p+1)/i*(Math.PI*2),g=Math.sin(m)*h,y=Math.cos(m)*h,o.push(g,0,y),l.push(d.r,d.g,d.b)}}const u=new sr;u.setAttribute("position",new vn(o,3)),u.setAttribute("color",new vn(l,3));const c=new Tl({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Fne=new De,vR=new De,Bne=new De;class Xlt extends Vr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new sr;i.setAttribute("position",new vn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Tl({fog:!1,toneMapped:!1});this.lightPlane=new qv(i,a),this.add(this.lightPlane),i=new sr,i.setAttribute("position",new vn([0,0,0,0,0,1],3)),this.targetLine=new qv(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Fne.setFromMatrixPosition(this.light.matrixWorld),vR.setFromMatrixPosition(this.light.target.matrixWorld),Bne.subVectors(vR,Fne),this.lightPlane.lookAt(vR),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vR),this.targetLine.scale.z=Bne.length()}}const mR=new De,sa=new iP;class Zlt extends ch{constructor(e){const t=new sr,r=new Tl({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(p,m){l(p),l(m)}function l(p){i.push(0,0,0),a.push(0,0,0),s[p]===void 0&&(s[p]=[]),s[p].push(i.length/3-1)}t.setAttribute("position",new vn(i,3)),t.setAttribute("color",new vn(a,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const u=new en(16755200),c=new en(16711680),f=new en(43775),d=new en(16777215),h=new en(3355443);this.setColors(u,c,f,d,h)}setColors(e,t,r,i,a){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;let a,s;if(sa.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===Su)a=-1,s=1;else if(this.camera.coordinateSystem===Ob)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Ta("c",t,e,sa,0,0,a),Ta("t",t,e,sa,0,0,s),Ta("n1",t,e,sa,-r,-i,a),Ta("n2",t,e,sa,r,-i,a),Ta("n3",t,e,sa,-r,i,a),Ta("n4",t,e,sa,r,i,a),Ta("f1",t,e,sa,-r,-i,s),Ta("f2",t,e,sa,r,-i,s),Ta("f3",t,e,sa,-r,i,s),Ta("f4",t,e,sa,r,i,s),Ta("u1",t,e,sa,r*.7,i*1.1,a),Ta("u2",t,e,sa,-r*.7,i*1.1,a),Ta("u3",t,e,sa,0,i*2,a),Ta("cf1",t,e,sa,-r,0,s),Ta("cf2",t,e,sa,r,0,s),Ta("cf3",t,e,sa,0,-i,s),Ta("cf4",t,e,sa,0,i,s),Ta("cn1",t,e,sa,-r,0,a),Ta("cn2",t,e,sa,r,0,a),Ta("cn3",t,e,sa,0,-i,a),Ta("cn4",t,e,sa,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ta(n,e,t,r,i,a,s){mR.set(i,a,s).unproject(r);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let u=0,c=o.length;u<c;u++)l.setXYZ(o[u],mR.x,mR.y,mR.z)}}const gR=new Fo;class Klt extends ch{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new sr;a.setIndex(new bi(r,1)),a.setAttribute("position",new bi(i,3)),super(a,new Tl({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&gR.setFromObject(this.object),gR.isEmpty())return;const e=gR.min,t=gR.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $lt extends ch{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new sr;a.setIndex(new bi(r,1)),a.setAttribute("position",new vn(i,3)),super(a,new Tl({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jlt extends qv{constructor(e,t=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new sr;s.setAttribute("position",new vn(a,3)),s.computeBoundingSphere(),super(s,new Tl({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new sr;l.setAttribute("position",new vn(o,3)),l.computeBoundingSphere(),this.add(new fs(l,new am({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const zne=new De;let yR,tB;class Qlt extends Vr{constructor(e=new De(0,0,1),t=new De(0,0,0),r=1,i=16776960,a=r*.2,s=a*.2){super(),this.type="ArrowHelper",yR===void 0&&(yR=new sr,yR.setAttribute("position",new vn([0,0,0,0,1,0],3)),tB=new SM(.5,1,5,1),tB.translate(0,-.5,0)),this.position.copy(t),this.line=new qv(yR,new Tl({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new fs(tB,new am({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{zne.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(zne,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class eut extends ch{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new sr;i.setAttribute("position",new vn(t,3)),i.setAttribute("color",new vn(r,3));const a=new Tl({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new en,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tut{constructor(){this.type="ShapePath",this.color=new en,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Nk,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,a,s){return this.currentPath.bezierCurveTo(e,t,r,i,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(y){const _=[];for(let S=0,A=y.length;S<A;S++){const M=y[S],E=new Dy;E.curves=M.curves,_.push(E)}return _}function r(y,_){const S=_.length;let A=!1;for(let M=S-1,E=0;E<S;M=E++){let D=_[M],I=_[E],N=I.x-D.x,L=I.y-D.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(D=_[E],N=-N,I=_[M],L=-L),y.y<D.y||y.y>I.y)continue;if(y.y===D.y){if(y.x===D.x)return!0}else{const B=L*(y.x-D.x)-N*(y.y-D.y);if(B===0)return!0;if(B<0)continue;A=!A}}else{if(y.y!==D.y)continue;if(I.x<=y.x&&y.x<=D.x||D.x<=y.x&&y.x<=I.x)return!0}}return A}const i=Sf.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const u=[];if(a.length===1)return o=a[0],l=new Dy,l.curves=o.curves,u.push(l),u;let c=!i(a[0].getPoints());c=e?!c:c;const f=[],d=[];let h=[],p=0,m;d[p]=void 0,h[p]=[];for(let y=0,_=a.length;y<_;y++)o=a[y],m=o.getPoints(),s=i(m),s=e?!s:s,s?(!c&&d[p]&&p++,d[p]={s:new Dy,p:m},d[p].s.curves=o.curves,c&&p++,h[p]=[]):h[p].push({h:o,p:m[0]});if(!d[0])return t(a);if(d.length>1){let y=!1,_=0;for(let S=0,A=d.length;S<A;S++)f[S]=[];for(let S=0,A=d.length;S<A;S++){const M=h[S];for(let E=0;E<M.length;E++){const D=M[E];let I=!0;for(let N=0;N<d.length;N++)r(D.p,d[N].p)&&(S!==N&&_++,I?(I=!1,f[N].push(D)):y=!0);I&&f[S].push(D)}}_>0&&y===!1&&(h=f)}let g;for(let y=0,_=d.length;y<_;y++){l=d[y].s,u.push(l),g=h[y];for(let S=0,A=g.length;S<A;S++)l.holes.push(g[S].h)}return u}}class nut extends uh{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Qt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function rut(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function iut(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function aut(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function Yz(n,e,t,r){const i=sut(r);switch(t){case pG:return n*e;case $L:return n*e/i.components*i.byteLength;case xM:return n*e/i.components*i.byteLength;case JL:return n*e*2/i.components*i.byteLength;case QL:return n*e*2/i.components*i.byteLength;case vG:return n*e*3/i.components*i.byteLength;case No:return n*e*4/i.components*i.byteLength;case eP:return n*e*4/i.components*i.byteLength;case aC:case sC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case oC:case lC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case ek:case nk:return Math.max(n,16)*Math.max(e,8)/4;case QI:case tk:return Math.max(n,8)*Math.max(e,8)/2;case rk:case ik:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case ak:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case sk:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case ok:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case lk:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case uk:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case ck:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case fk:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case dk:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case hk:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case pk:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case vk:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case mk:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case gk:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case yk:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case xk:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case _k:case bk:case Sk:return Math.ceil(n/4)*Math.ceil(e/4)*16;case wk:case Tk:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Ck:case Ak:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function sut(n){switch(n){case Ec:case cG:return{byteLength:1,components:1};case Ib:case fG:case vx:return{byteLength:2,components:1};case ZL:case KL:return{byteLength:2,components:4};case Vp:case XL:case jl:return{byteLength:4,components:1};case dG:case hG:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class out{static contain(e,t){return rut(e,t)}static cover(e,t){return iut(e,t)}static fill(e){return aut(e)}static getByteLength(e,t,r,i){return Yz(e,t,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:gM}}));typeof window<"u"&&(window.__THREE__?Qt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=gM);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Yme(){let n=null,e=!1,t=null,r=null;function i(a,s){t(a,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function lut(n){const e=new WeakMap;function t(o,l){const u=o.array,c=o.usage,f=u.byteLength,d=n.createBuffer();n.bindBuffer(l,d),n.bufferData(l,u,c),o.onUploadCallback();let h;if(u instanceof Float32Array)h=n.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)h=n.HALF_FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?h=n.HALF_FLOAT:h=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)h=n.SHORT;else if(u instanceof Uint32Array)h=n.UNSIGNED_INT;else if(u instanceof Int32Array)h=n.INT;else if(u instanceof Int8Array)h=n.BYTE;else if(u instanceof Uint8Array)h=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)h=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:d,type:h,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:f}}function r(o,l,u){const c=l.array,f=l.updateRanges;if(n.bindBuffer(u,o),f.length===0)n.bufferSubData(u,0,c);else{f.sort((h,p)=>h.start-p.start);let d=0;for(let h=1;h<f.length;h++){const p=f[d],m=f[h];m.start<=p.start+p.count+1?p.count=Math.max(p.count,m.start+m.count-p.start):(++d,f[d]=m)}f.length=d+1;for(let h=0,p=f.length;h<p;h++){const m=f[h];n.bufferSubData(u,m.start*c.BYTES_PER_ELEMENT,c,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const c=e.get(o);(!c||c.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,o,l),u.version=o.version}}return{get:i,remove:a,update:s}}var uut=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,cut=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,fut=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,dut=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hut=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,put=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,vut=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mut=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gut=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,yut=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,xut=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,_ut=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,but=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Sut=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,wut=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Tut=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Cut=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Aut=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Mut=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Eut=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Dut=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Rut=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Nut=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Iut=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,kut=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Lut=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Put=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Out=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Fut=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,But=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,zut="gl_FragColor = linearToOutputTexel( gl_FragColor );",Uut=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Vut=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Gut=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,Hut=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,jut=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Wut=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Yut=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,qut=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Xut=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Zut=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Kut=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,$ut=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Jut=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Qut=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,ect=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,tct=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,nct=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,rct=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ict=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,act=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,sct=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,oct=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lct=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,uct=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cct=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,fct=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dct=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hct=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,pct=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,vct=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,mct=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,gct=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,yct=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xct=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_ct=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bct=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Sct=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wct=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Tct=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Cct=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Act=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Mct=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Ect=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Dct=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Rct=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Nct=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Ict=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,kct=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Lct=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Pct=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Oct=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Fct=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Bct=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,zct=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Uct=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Vct=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Gct=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Hct=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,jct=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Wct=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Yct=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,qct=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Xct=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Zct=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Kct=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$ct=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Jct=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Qct=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,eft=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tft=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,nft=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,rft=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,ift=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,aft=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,sft=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,oft=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const lft=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,uft=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cft=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fft=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dft=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hft=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pft=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,vft=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,mft=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gft=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,yft=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,xft=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_ft=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bft=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Sft=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,wft=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tft=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cft=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Aft=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Mft=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Eft=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Dft=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Rft=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nft=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ift=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,kft=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lft=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pft=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Oft=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Fft=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Bft=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zft=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Uft=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Vft=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dr={alphahash_fragment:uut,alphahash_pars_fragment:cut,alphamap_fragment:fut,alphamap_pars_fragment:dut,alphatest_fragment:hut,alphatest_pars_fragment:put,aomap_fragment:vut,aomap_pars_fragment:mut,batching_pars_vertex:gut,batching_vertex:yut,begin_vertex:xut,beginnormal_vertex:_ut,bsdfs:but,iridescence_fragment:Sut,bumpmap_pars_fragment:wut,clipping_planes_fragment:Tut,clipping_planes_pars_fragment:Cut,clipping_planes_pars_vertex:Aut,clipping_planes_vertex:Mut,color_fragment:Eut,color_pars_fragment:Dut,color_pars_vertex:Rut,color_vertex:Nut,common:Iut,cube_uv_reflection_fragment:kut,defaultnormal_vertex:Lut,displacementmap_pars_vertex:Put,displacementmap_vertex:Out,emissivemap_fragment:Fut,emissivemap_pars_fragment:But,colorspace_fragment:zut,colorspace_pars_fragment:Uut,envmap_fragment:Vut,envmap_common_pars_fragment:Gut,envmap_pars_fragment:Hut,envmap_pars_vertex:jut,envmap_physical_pars_fragment:tct,envmap_vertex:Wut,fog_vertex:Yut,fog_pars_vertex:qut,fog_fragment:Xut,fog_pars_fragment:Zut,gradientmap_pars_fragment:Kut,lightmap_pars_fragment:$ut,lights_lambert_fragment:Jut,lights_lambert_pars_fragment:Qut,lights_pars_begin:ect,lights_toon_fragment:nct,lights_toon_pars_fragment:rct,lights_phong_fragment:ict,lights_phong_pars_fragment:act,lights_physical_fragment:sct,lights_physical_pars_fragment:oct,lights_fragment_begin:lct,lights_fragment_maps:uct,lights_fragment_end:cct,logdepthbuf_fragment:fct,logdepthbuf_pars_fragment:dct,logdepthbuf_pars_vertex:hct,logdepthbuf_vertex:pct,map_fragment:vct,map_pars_fragment:mct,map_particle_fragment:gct,map_particle_pars_fragment:yct,metalnessmap_fragment:xct,metalnessmap_pars_fragment:_ct,morphinstance_vertex:bct,morphcolor_vertex:Sct,morphnormal_vertex:wct,morphtarget_pars_vertex:Tct,morphtarget_vertex:Cct,normal_fragment_begin:Act,normal_fragment_maps:Mct,normal_pars_fragment:Ect,normal_pars_vertex:Dct,normal_vertex:Rct,normalmap_pars_fragment:Nct,clearcoat_normal_fragment_begin:Ict,clearcoat_normal_fragment_maps:kct,clearcoat_pars_fragment:Lct,iridescence_pars_fragment:Pct,opaque_fragment:Oct,packing:Fct,premultiplied_alpha_fragment:Bct,project_vertex:zct,dithering_fragment:Uct,dithering_pars_fragment:Vct,roughnessmap_fragment:Gct,roughnessmap_pars_fragment:Hct,shadowmap_pars_fragment:jct,shadowmap_pars_vertex:Wct,shadowmap_vertex:Yct,shadowmask_pars_fragment:qct,skinbase_vertex:Xct,skinning_pars_vertex:Zct,skinning_vertex:Kct,skinnormal_vertex:$ct,specularmap_fragment:Jct,specularmap_pars_fragment:Qct,tonemapping_fragment:eft,tonemapping_pars_fragment:tft,transmission_fragment:nft,transmission_pars_fragment:rft,uv_pars_fragment:ift,uv_pars_vertex:aft,uv_vertex:sft,worldpos_vertex:oft,background_vert:lft,background_frag:uft,backgroundCube_vert:cft,backgroundCube_frag:fft,cube_vert:dft,cube_frag:hft,depth_vert:pft,depth_frag:vft,distanceRGBA_vert:mft,distanceRGBA_frag:gft,equirect_vert:yft,equirect_frag:xft,linedashed_vert:_ft,linedashed_frag:bft,meshbasic_vert:Sft,meshbasic_frag:wft,meshlambert_vert:Tft,meshlambert_frag:Cft,meshmatcap_vert:Aft,meshmatcap_frag:Mft,meshnormal_vert:Eft,meshnormal_frag:Dft,meshphong_vert:Rft,meshphong_frag:Nft,meshphysical_vert:Ift,meshphysical_frag:kft,meshtoon_vert:Lft,meshtoon_frag:Pft,points_vert:Oft,points_frag:Fft,shadow_vert:Bft,shadow_frag:zft,sprite_vert:Uft,sprite_frag:Vft},Jt={common:{diffuse:{value:new en(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ar},alphaMap:{value:null},alphaMapTransform:{value:new ar},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ar}},envmap:{envMap:{value:null},envMapRotation:{value:new ar},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ar}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ar}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ar},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ar},normalScale:{value:new Ct(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ar},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ar}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ar}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ar}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new en(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new en(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ar},alphaTest:{value:0},uvTransform:{value:new ar}},sprite:{diffuse:{value:new en(16777215)},opacity:{value:1},center:{value:new Ct(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ar},alphaMap:{value:null},alphaMapTransform:{value:new ar},alphaTest:{value:0}}},mf={basic:{uniforms:ol([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.fog]),vertexShader:dr.meshbasic_vert,fragmentShader:dr.meshbasic_frag},lambert:{uniforms:ol([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,Jt.lights,{emissive:{value:new en(0)}}]),vertexShader:dr.meshlambert_vert,fragmentShader:dr.meshlambert_frag},phong:{uniforms:ol([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,Jt.lights,{emissive:{value:new en(0)},specular:{value:new en(1118481)},shininess:{value:30}}]),vertexShader:dr.meshphong_vert,fragmentShader:dr.meshphong_frag},standard:{uniforms:ol([Jt.common,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.roughnessmap,Jt.metalnessmap,Jt.fog,Jt.lights,{emissive:{value:new en(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:dr.meshphysical_vert,fragmentShader:dr.meshphysical_frag},toon:{uniforms:ol([Jt.common,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.gradientmap,Jt.fog,Jt.lights,{emissive:{value:new en(0)}}]),vertexShader:dr.meshtoon_vert,fragmentShader:dr.meshtoon_frag},matcap:{uniforms:ol([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,{matcap:{value:null}}]),vertexShader:dr.meshmatcap_vert,fragmentShader:dr.meshmatcap_frag},points:{uniforms:ol([Jt.points,Jt.fog]),vertexShader:dr.points_vert,fragmentShader:dr.points_frag},dashed:{uniforms:ol([Jt.common,Jt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dr.linedashed_vert,fragmentShader:dr.linedashed_frag},depth:{uniforms:ol([Jt.common,Jt.displacementmap]),vertexShader:dr.depth_vert,fragmentShader:dr.depth_frag},normal:{uniforms:ol([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,{opacity:{value:1}}]),vertexShader:dr.meshnormal_vert,fragmentShader:dr.meshnormal_frag},sprite:{uniforms:ol([Jt.sprite,Jt.fog]),vertexShader:dr.sprite_vert,fragmentShader:dr.sprite_frag},background:{uniforms:{uvTransform:{value:new ar},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:dr.background_vert,fragmentShader:dr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ar}},vertexShader:dr.backgroundCube_vert,fragmentShader:dr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:dr.cube_vert,fragmentShader:dr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:dr.equirect_vert,fragmentShader:dr.equirect_frag},distanceRGBA:{uniforms:ol([Jt.common,Jt.displacementmap,{referencePosition:{value:new De},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:dr.distanceRGBA_vert,fragmentShader:dr.distanceRGBA_frag},shadow:{uniforms:ol([Jt.lights,Jt.fog,{color:{value:new en(0)},opacity:{value:1}}]),vertexShader:dr.shadow_vert,fragmentShader:dr.shadow_frag}};mf.physical={uniforms:ol([mf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ar},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ar},clearcoatNormalScale:{value:new Ct(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ar},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ar},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ar},sheen:{value:0},sheenColor:{value:new en(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ar},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ar},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ar},transmissionSamplerSize:{value:new Ct},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ar},attenuationDistance:{value:0},attenuationColor:{value:new en(0)},specularColor:{value:new en(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ar},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ar},anisotropyVector:{value:new Ct},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ar}}]),vertexShader:dr.meshphysical_vert,fragmentShader:dr.meshphysical_frag};const xR={r:0,b:0,g:0},zg=new Mu,Gft=new Yn;function Hft(n,e,t,r,i,a,s){const o=new en(0);let l=a===!0?0:1,u,c,f=null,d=0,h=null;function p(S){let A=S.isScene===!0?S.background:null;return A&&A.isTexture&&(A=(S.backgroundBlurriness>0?t:e).get(A)),A}function m(S){let A=!1;const M=p(S);M===null?y(o,l):M&&M.isColor&&(y(M,1),A=!0);const E=n.xr.getEnvironmentBlendMode();E==="additive"?r.buffers.color.setClear(0,0,0,1,s):E==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(n.autoClear||A)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function g(S,A){const M=p(A);M&&(M.isCubeTexture||M.mapping===CS)?(c===void 0&&(c=new fs(new gx(1,1,1),new Eu({name:"BackgroundCubeMaterial",uniforms:Ub(mf.backgroundCube.uniforms),vertexShader:mf.backgroundCube.vertexShader,fragmentShader:mf.backgroundCube.fragmentShader,side:xl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(E,D,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),zg.copy(A.backgroundRotation),zg.x*=-1,zg.y*=-1,zg.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(zg.y*=-1,zg.z*=-1),c.material.uniforms.envMap.value=M,c.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(Gft.makeRotationFromEuler(zg)),c.material.toneMapped=Pr.getTransfer(M.colorSpace)!==di,(f!==M||d!==M.version||h!==n.toneMapping)&&(c.material.needsUpdate=!0,f=M,d=M.version,h=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null)):M&&M.isTexture&&(u===void 0&&(u=new fs(new MS(2,2),new Eu({name:"BackgroundMaterial",uniforms:Ub(mf.background.uniforms),vertexShader:mf.background.vertexShader,fragmentShader:mf.background.fragmentShader,side:zp,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=M,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.toneMapped=Pr.getTransfer(M.colorSpace)!==di,M.matrixAutoUpdate===!0&&M.updateMatrix(),u.material.uniforms.uvTransform.value.copy(M.matrix),(f!==M||d!==M.version||h!==n.toneMapping)&&(u.material.needsUpdate=!0,f=M,d=M.version,h=n.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null))}function y(S,A){S.getRGB(xR,Wve(n)),r.buffers.color.setClear(xR.r,xR.g,xR.b,A,s)}function _(){c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return o},setClearColor:function(S,A=1){o.set(S),l=A,y(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,y(o,l)},render:m,addToRenderList:g,dispose:_}}function jft(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=d(null);let a=i,s=!1;function o(L,B,O,G,V){let q=!1;const W=f(G,O,B);a!==W&&(a=W,u(a.object)),q=h(L,G,O,V),q&&p(L,G,O,V),V!==null&&e.update(V,n.ELEMENT_ARRAY_BUFFER),(q||s)&&(s=!1,A(L,B,O,G),V!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(V).buffer))}function l(){return n.createVertexArray()}function u(L){return n.bindVertexArray(L)}function c(L){return n.deleteVertexArray(L)}function f(L,B,O){const G=O.wireframe===!0;let V=r[L.id];V===void 0&&(V={},r[L.id]=V);let q=V[B.id];q===void 0&&(q={},V[B.id]=q);let W=q[G];return W===void 0&&(W=d(l()),q[G]=W),W}function d(L){const B=[],O=[],G=[];for(let V=0;V<t;V++)B[V]=0,O[V]=0,G[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:O,attributeDivisors:G,object:L,attributes:{},index:null}}function h(L,B,O,G){const V=a.attributes,q=B.attributes;let W=0;const Z=O.getAttributes();for(const X in Z)if(Z[X].location>=0){const se=V[X];let J=q[X];if(J===void 0&&(X==="instanceMatrix"&&L.instanceMatrix&&(J=L.instanceMatrix),X==="instanceColor"&&L.instanceColor&&(J=L.instanceColor)),se===void 0||se.attribute!==J||J&&se.data!==J.data)return!0;W++}return a.attributesNum!==W||a.index!==G}function p(L,B,O,G){const V={},q=B.attributes;let W=0;const Z=O.getAttributes();for(const X in Z)if(Z[X].location>=0){let se=q[X];se===void 0&&(X==="instanceMatrix"&&L.instanceMatrix&&(se=L.instanceMatrix),X==="instanceColor"&&L.instanceColor&&(se=L.instanceColor));const J={};J.attribute=se,se&&se.data&&(J.data=se.data),V[X]=J,W++}a.attributes=V,a.attributesNum=W,a.index=G}function m(){const L=a.newAttributes;for(let B=0,O=L.length;B<O;B++)L[B]=0}function g(L){y(L,0)}function y(L,B){const O=a.newAttributes,G=a.enabledAttributes,V=a.attributeDivisors;O[L]=1,G[L]===0&&(n.enableVertexAttribArray(L),G[L]=1),V[L]!==B&&(n.vertexAttribDivisor(L,B),V[L]=B)}function _(){const L=a.newAttributes,B=a.enabledAttributes;for(let O=0,G=B.length;O<G;O++)B[O]!==L[O]&&(n.disableVertexAttribArray(O),B[O]=0)}function S(L,B,O,G,V,q,W){W===!0?n.vertexAttribIPointer(L,B,O,V,q):n.vertexAttribPointer(L,B,O,G,V,q)}function A(L,B,O,G){m();const V=G.attributes,q=O.getAttributes(),W=B.defaultAttributeValues;for(const Z in q){const X=q[Z];if(X.location>=0){let K=V[Z];if(K===void 0&&(Z==="instanceMatrix"&&L.instanceMatrix&&(K=L.instanceMatrix),Z==="instanceColor"&&L.instanceColor&&(K=L.instanceColor)),K!==void 0){const se=K.normalized,J=K.itemSize,H=e.get(K);if(H===void 0)continue;const ee=H.buffer,Q=H.type,ne=H.bytesPerElement,ce=Q===n.INT||Q===n.UNSIGNED_INT||K.gpuType===XL;if(K.isInterleavedBufferAttribute){const ve=K.data,xe=ve.stride,we=K.offset;if(ve.isInstancedInterleavedBuffer){for(let Ae=0;Ae<X.locationSize;Ae++)y(X.location+Ae,ve.meshPerAttribute);L.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let Ae=0;Ae<X.locationSize;Ae++)g(X.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,ee);for(let Ae=0;Ae<X.locationSize;Ae++)S(X.location+Ae,J/X.locationSize,Q,se,xe*ne,(we+J/X.locationSize*Ae)*ne,ce)}else{if(K.isInstancedBufferAttribute){for(let ve=0;ve<X.locationSize;ve++)y(X.location+ve,K.meshPerAttribute);L.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let ve=0;ve<X.locationSize;ve++)g(X.location+ve);n.bindBuffer(n.ARRAY_BUFFER,ee);for(let ve=0;ve<X.locationSize;ve++)S(X.location+ve,J/X.locationSize,Q,se,J*ne,J/X.locationSize*ve*ne,ce)}}else if(W!==void 0){const se=W[Z];if(se!==void 0)switch(se.length){case 2:n.vertexAttrib2fv(X.location,se);break;case 3:n.vertexAttrib3fv(X.location,se);break;case 4:n.vertexAttrib4fv(X.location,se);break;default:n.vertexAttrib1fv(X.location,se)}}}}_()}function M(){I();for(const L in r){const B=r[L];for(const O in B){const G=B[O];for(const V in G)c(G[V].object),delete G[V];delete B[O]}delete r[L]}}function E(L){if(r[L.id]===void 0)return;const B=r[L.id];for(const O in B){const G=B[O];for(const V in G)c(G[V].object),delete G[V];delete B[O]}delete r[L.id]}function D(L){for(const B in r){const O=r[B];if(O[L.id]===void 0)continue;const G=O[L.id];for(const V in G)c(G[V].object),delete G[V];delete O[L.id]}}function I(){N(),s=!0,a!==i&&(a=i,u(a.object))}function N(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:I,resetDefaultState:N,dispose:M,releaseStatesOfGeometry:E,releaseStatesOfProgram:D,initAttributes:m,enableAttribute:g,disableUnusedAttributes:_}}function Wft(n,e,t){let r;function i(u){r=u}function a(u,c){n.drawArrays(r,u,c),t.update(c,r,1)}function s(u,c,f){f!==0&&(n.drawArraysInstanced(r,u,c,f),t.update(c,r,f))}function o(u,c,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,c,0,f);let h=0;for(let p=0;p<f;p++)h+=c[p];t.update(h,r,1)}function l(u,c,f,d){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<u.length;p++)s(u[p],c[p],d[p]);else{h.multiDrawArraysInstancedWEBGL(r,u,0,c,0,d,0,f);let p=0;for(let m=0;m<f;m++)p+=c[m]*d[m];t.update(p,r,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function Yft(n,e,t,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(D){return!(D!==No&&r.convert(D)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(D){const I=D===vx&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(D!==Ec&&r.convert(D)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&D!==jl&&!I)}function l(D){if(D==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return D==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const c=l(u);c!==u&&(Qt("WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=t.logarithmicDepthBuffer===!0,d=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),M=p>0,E=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:f,reversedDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:_,maxVaryings:S,maxFragmentUniforms:A,vertexTextures:M,maxSamples:E}}function qft(n){const e=this;let t=null,r=0,i=!1,a=!1;const s=new ip,o=new ar,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,d){t=c(f,d,0)},this.setState=function(f,d,h){const p=f.clippingPlanes,m=f.clipIntersection,g=f.clipShadows,y=n.get(f);if(!i||p===null||p.length===0||a&&!g)a?c(null):u();else{const _=a?0:r,S=_*4;let A=y.clippingState||null;l.value=A,A=c(p,d,S,h);for(let M=0;M!==S;++M)A[M]=t[M];y.clippingState=A,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,d,h,p){const m=f!==null?f.length:0;let g=null;if(m!==0){if(g=l.value,p!==!0||g===null){const y=h+m*4,_=d.matrixWorldInverse;o.getNormalMatrix(_),(g===null||g.length<y)&&(g=new Float32Array(y));for(let S=0,A=h;S!==m;++S,A+=4)s.copy(f[S]).applyMatrix4(_,o),s.normal.toArray(g,A),g[A+3]=s.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}}function Xft(n){let e=new WeakMap;function t(s,o){return o===dA?s.mapping=Up:o===hA&&(s.mapping=jv),s}function r(s){if(s&&s.isTexture){const o=s.mapping;if(o===dA||o===hA)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=new Xve(l.height);return u.fromEquirectangularTexture(n,s),e.set(s,u),s.addEventListener("dispose",i),t(u.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const bv=4,Une=[.125,.215,.35,.446,.526,.582],iy=20,Zft=256,nT=new kv,Vne=new en;let nB=null,rB=0,iB=0,aB=!1;const Kft=new De;class qz{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,r=.1,i=100,a={}){const{size:s=256,position:o=Kft}=a;nB=this._renderer.getRenderTarget(),rB=this._renderer.getActiveCubeFace(),iB=this._renderer.getActiveMipmapLevel(),aB=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jne(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Hne(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(nB,rB,iB),this._renderer.xr.enabled=aB,e.scissorTest=!1,S_(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Up||e.mapping===jv?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),nB=this._renderer.getRenderTarget(),rB=this._renderer.getActiveCubeFace(),iB=this._renderer.getActiveMipmapLevel(),aB=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ra,minFilter:Ra,generateMipmaps:!1,type:vx,format:No,colorSpace:Wv,depthBuffer:!1},i=Gne(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Gne(e,t,r);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=$ft(a)),this._blurMaterial=Qft(a,e,t),this._ggxMaterial=Jft(a,e,t)}return i}_compileMaterial(e){const t=new fs(new sr,e);this._renderer.compile(t,nT)}_sceneToCubeUV(e,t,r,i,a){const l=new Ea(90,1,t,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,h=f.toneMapping;f.getClearColor(Vne),f.toneMapping=Yd,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(i),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new fs(new gx,new am({name:"PMREM.Background",side:xl,depthWrite:!1,depthTest:!1})));const m=this._backgroundBox,g=m.material;let y=!1;const _=e.background;_?_.isColor&&(g.color.copy(_),e.background=null,y=!0):(g.color.copy(Vne),y=!0);for(let S=0;S<6;S++){const A=S%3;A===0?(l.up.set(0,u[S],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+c[S],a.y,a.z)):A===1?(l.up.set(0,0,u[S]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+c[S],a.z)):(l.up.set(0,u[S],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+c[S]));const M=this._cubeSize;S_(i,A*M,S>2?M:0,M,M),f.setRenderTarget(i),y&&f.render(m,l),f.render(e,l)}f.toneMapping=h,f.autoClear=d,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Up||e.mapping===jv;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=jne()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Hne());const a=i?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;S_(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(s,nT)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let a=1;a<i;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=r}_applyGGXFilter(e,t,r){const i=this._renderer,a=this._pingPongRenderTarget,s=this._ggxMaterial,o=this._lodMeshes[r];o.material=s;const l=s.uniforms,u=r/(this._lodMeshes.length-1),c=t/(this._lodMeshes.length-1),f=Math.sqrt(u*u-c*c),d=.05+u*.95,h=f*d,{_lodMax:p}=this,m=this._sizeLods[r],g=3*m*(r>p-bv?r-p+bv:0),y=4*(this._cubeSize-m);l.envMap.value=e.texture,l.roughness.value=h,l.mipInt.value=p-t,S_(a,g,y,3*m,2*m),i.setRenderTarget(a),i.render(o,nT),l.envMap.value=a.texture,l.roughness.value=0,l.mipInt.value=p-r,S_(e,g,y,3*m,2*m),i.setRenderTarget(e),i.render(o,nT)}_blur(e,t,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,s,o){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&Xn("blur direction must be either latitudinal or longitudinal!");const c=3,f=this._lodMeshes[i];f.material=u;const d=u.uniforms,h=this._sizeLods[r]-1,p=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*iy-1),m=a/p,g=isFinite(a)?1+Math.floor(c*m):iy;g>iy&&Qt(`sigmaRadians, ${a}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${iy}`);const y=[];let _=0;for(let D=0;D<iy;++D){const I=D/m,N=Math.exp(-I*I/2);y.push(N),D===0?_+=N:D<g&&(_+=2*N)}for(let D=0;D<y.length;D++)y[D]=y[D]/_;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=y,d.latitudinal.value=s==="latitudinal",o&&(d.poleAxis.value=o);const{_lodMax:S}=this;d.dTheta.value=p,d.mipInt.value=S-r;const A=this._sizeLods[i],M=3*A*(i>S-bv?i-S+bv:0),E=4*(this._cubeSize-A);S_(t,M,E,3*A,2*A),l.setRenderTarget(t),l.render(f,nT)}}function $ft(n){const e=[],t=[],r=[];let i=n;const a=n-bv+1+Une.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);e.push(o);let l=1/o;s>n-bv?l=Une[s-n+bv-1]:s===0&&(l=0),t.push(l);const u=1/(o-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],h=6,p=6,m=3,g=2,y=1,_=new Float32Array(m*p*h),S=new Float32Array(g*p*h),A=new Float32Array(y*p*h);for(let E=0;E<h;E++){const D=E%3*2/3-1,I=E>2?0:-1,N=[D,I,0,D+2/3,I,0,D+2/3,I+1,0,D,I,0,D+2/3,I+1,0,D,I+1,0];_.set(N,m*p*E),S.set(d,g*p*E);const L=[E,E,E,E,E,E];A.set(L,y*p*E)}const M=new sr;M.setAttribute("position",new bi(_,m)),M.setAttribute("uv",new bi(S,g)),M.setAttribute("faceIndex",new bi(A,y)),r.push(new fs(M,null)),i>bv&&i--}return{lodMeshes:r,sizeLods:e,sigmas:t}}function Gne(n,e,t){const r=new rh(n,e,t);return r.texture.mapping=CS,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function S_(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Jft(n,e,t){return new Eu({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Zft,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:CP(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Wd,depthTest:!1,depthWrite:!1})}function Qft(n,e,t){const r=new Float32Array(iy),i=new De(0,1,0);return new Eu({name:"SphericalGaussianBlur",defines:{n:iy,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:CP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Wd,depthTest:!1,depthWrite:!1})}function Hne(){return new Eu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:CP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Wd,depthTest:!1,depthWrite:!1})}function jne(){return new Eu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:CP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Wd,depthTest:!1,depthWrite:!1})}function CP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function edt(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,u=l===dA||l===hA,c=l===Up||l===jv;if(u||c){let f=e.get(o);const d=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==d)return t===null&&(t=new qz(n)),f=u?t.fromEquirectangular(o,f):t.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const h=o.image;return u&&h&&h.height>0||c&&h&&i(h)?(t===null&&(t=new qz(n)),f=u?t.fromEquirectangular(o):t.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",a),f.texture):null}}}return o}function i(o){let l=0;const u=6;for(let c=0;c<u;c++)o[c]!==void 0&&l++;return l===u}function a(o){const l=o.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function tdt(n){const e={};function t(r){if(e[r]!==void 0)return e[r];const i=n.getExtension(r);return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&Fb("WebGLRenderer: "+r+" extension not supported."),i}}}function ndt(n,e,t,r){const i={},a=new WeakMap;function s(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const p in d.attributes)e.remove(d.attributes[p]);d.removeEventListener("dispose",s),delete i[d.id];const h=a.get(d);h&&(e.remove(h),a.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function o(f,d){return i[d.id]===!0||(d.addEventListener("dispose",s),i[d.id]=!0,t.memory.geometries++),d}function l(f){const d=f.attributes;for(const h in d)e.update(d[h],n.ARRAY_BUFFER)}function u(f){const d=[],h=f.index,p=f.attributes.position;let m=0;if(h!==null){const _=h.array;m=h.version;for(let S=0,A=_.length;S<A;S+=3){const M=_[S+0],E=_[S+1],D=_[S+2];d.push(M,E,E,D,D,M)}}else if(p!==void 0){const _=p.array;m=p.version;for(let S=0,A=_.length/3-1;S<A;S+=3){const M=S+0,E=S+1,D=S+2;d.push(M,E,E,D,D,M)}}else return;const g=new(Vve(d)?bG:_G)(d,1);g.version=m;const y=a.get(f);y&&e.remove(y),a.set(f,g)}function c(f){const d=a.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&u(f)}else u(f);return a.get(f)}return{get:o,update:l,getWireframeAttribute:c}}function rdt(n,e,t){let r;function i(d){r=d}let a,s;function o(d){a=d.type,s=d.bytesPerElement}function l(d,h){n.drawElements(r,h,a,d*s),t.update(h,r,1)}function u(d,h,p){p!==0&&(n.drawElementsInstanced(r,h,a,d*s,p),t.update(h,r,p))}function c(d,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,a,d,0,p);let g=0;for(let y=0;y<p;y++)g+=h[y];t.update(g,r,1)}function f(d,h,p,m){if(p===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let y=0;y<d.length;y++)u(d[y]/s,h[y],m[y]);else{g.multiDrawElementsInstancedWEBGL(r,h,0,a,d,0,m,0,p);let y=0;for(let _=0;_<p;_++)y+=h[_]*m[_];t.update(y,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function idt(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=o*(a/3);break;case n.LINES:t.lines+=o*(a/2);break;case n.LINE_STRIP:t.lines+=o*(a-1);break;case n.LINE_LOOP:t.lines+=o*a;break;case n.POINTS:t.points+=o*a;break;default:Xn("WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function adt(n,e,t){const r=new WeakMap,i=new jr;function a(s,o,l){const u=s.morphTargetInfluences,c=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=c!==void 0?c.length:0;let d=r.get(o);if(d===void 0||d.count!==f){let L=function(){I.dispose(),r.delete(o),o.removeEventListener("dispose",L)};var h=L;d!==void 0&&d.texture.dispose();const p=o.morphAttributes.position!==void 0,m=o.morphAttributes.normal!==void 0,g=o.morphAttributes.color!==void 0,y=o.morphAttributes.position||[],_=o.morphAttributes.normal||[],S=o.morphAttributes.color||[];let A=0;p===!0&&(A=1),m===!0&&(A=2),g===!0&&(A=3);let M=o.attributes.position.count*A,E=1;M>e.maxTextureSize&&(E=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const D=new Float32Array(M*E*4*f),I=new nP(D,M,E,f);I.type=jl,I.needsUpdate=!0;const N=A*4;for(let B=0;B<f;B++){const O=y[B],G=_[B],V=S[B],q=M*E*4*B;for(let W=0;W<O.count;W++){const Z=W*N;p===!0&&(i.fromBufferAttribute(O,W),D[q+Z+0]=i.x,D[q+Z+1]=i.y,D[q+Z+2]=i.z,D[q+Z+3]=0),m===!0&&(i.fromBufferAttribute(G,W),D[q+Z+4]=i.x,D[q+Z+5]=i.y,D[q+Z+6]=i.z,D[q+Z+7]=0),g===!0&&(i.fromBufferAttribute(V,W),D[q+Z+8]=i.x,D[q+Z+9]=i.y,D[q+Z+10]=i.z,D[q+Z+11]=V.itemSize===4?i.w:1)}}d={count:f,texture:I,size:new Ct(M,E)},r.set(o,d),o.addEventListener("dispose",L)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let p=0;for(let g=0;g<u.length;g++)p+=u[g];const m=o.morphTargetsRelative?1:1-p;l.getUniforms().setValue(n,"morphTargetBaseInfluence",m),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",d.size)}return{update:a}}function sdt(n,e,t,r){let i=new WeakMap;function a(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==u&&(d.update(),i.set(d,u))}return f}function s(){i=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:a,dispose:s}}const qme=new pa,Wne=new AG(1,1),Xme=new nP,Zme=new rP,Kme=new _M,Yne=[],qne=[],Xne=new Float32Array(16),Zne=new Float32Array(9),Kne=new Float32Array(4);function ES(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=Yne[i];if(a===void 0&&(a=new Float32Array(i),Yne[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function ds(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function hs(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function AP(n,e){let t=qne[e];t===void 0&&(t=new Int32Array(e),qne[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function odt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function ldt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ds(t,e))return;n.uniform2fv(this.addr,e),hs(t,e)}}function udt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ds(t,e))return;n.uniform3fv(this.addr,e),hs(t,e)}}function cdt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ds(t,e))return;n.uniform4fv(this.addr,e),hs(t,e)}}function fdt(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ds(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),hs(t,e)}else{if(ds(t,r))return;Kne.set(r),n.uniformMatrix2fv(this.addr,!1,Kne),hs(t,r)}}function ddt(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ds(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),hs(t,e)}else{if(ds(t,r))return;Zne.set(r),n.uniformMatrix3fv(this.addr,!1,Zne),hs(t,r)}}function hdt(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ds(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),hs(t,e)}else{if(ds(t,r))return;Xne.set(r),n.uniformMatrix4fv(this.addr,!1,Xne),hs(t,r)}}function pdt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function vdt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ds(t,e))return;n.uniform2iv(this.addr,e),hs(t,e)}}function mdt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ds(t,e))return;n.uniform3iv(this.addr,e),hs(t,e)}}function gdt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ds(t,e))return;n.uniform4iv(this.addr,e),hs(t,e)}}function ydt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function xdt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ds(t,e))return;n.uniform2uiv(this.addr,e),hs(t,e)}}function _dt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ds(t,e))return;n.uniform3uiv(this.addr,e),hs(t,e)}}function bdt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ds(t,e))return;n.uniform4uiv(this.addr,e),hs(t,e)}}function Sdt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let a;this.type===n.SAMPLER_2D_SHADOW?(Wne.compareFunction=gG,a=Wne):a=qme,t.setTexture2D(e||a,i)}function wdt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Zme,i)}function Tdt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Kme,i)}function Cdt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Xme,i)}function Adt(n){switch(n){case 5126:return odt;case 35664:return ldt;case 35665:return udt;case 35666:return cdt;case 35674:return fdt;case 35675:return ddt;case 35676:return hdt;case 5124:case 35670:return pdt;case 35667:case 35671:return vdt;case 35668:case 35672:return mdt;case 35669:case 35673:return gdt;case 5125:return ydt;case 36294:return xdt;case 36295:return _dt;case 36296:return bdt;case 35678:case 36198:case 36298:case 36306:case 35682:return Sdt;case 35679:case 36299:case 36307:return wdt;case 35680:case 36300:case 36308:case 36293:return Tdt;case 36289:case 36303:case 36311:case 36292:return Cdt}}function Mdt(n,e){n.uniform1fv(this.addr,e)}function Edt(n,e){const t=ES(e,this.size,2);n.uniform2fv(this.addr,t)}function Ddt(n,e){const t=ES(e,this.size,3);n.uniform3fv(this.addr,t)}function Rdt(n,e){const t=ES(e,this.size,4);n.uniform4fv(this.addr,t)}function Ndt(n,e){const t=ES(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Idt(n,e){const t=ES(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function kdt(n,e){const t=ES(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Ldt(n,e){n.uniform1iv(this.addr,e)}function Pdt(n,e){n.uniform2iv(this.addr,e)}function Odt(n,e){n.uniform3iv(this.addr,e)}function Fdt(n,e){n.uniform4iv(this.addr,e)}function Bdt(n,e){n.uniform1uiv(this.addr,e)}function zdt(n,e){n.uniform2uiv(this.addr,e)}function Udt(n,e){n.uniform3uiv(this.addr,e)}function Vdt(n,e){n.uniform4uiv(this.addr,e)}function Gdt(n,e,t){const r=this.cache,i=e.length,a=AP(t,i);ds(r,a)||(n.uniform1iv(this.addr,a),hs(r,a));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||qme,a[s])}function Hdt(n,e,t){const r=this.cache,i=e.length,a=AP(t,i);ds(r,a)||(n.uniform1iv(this.addr,a),hs(r,a));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||Zme,a[s])}function jdt(n,e,t){const r=this.cache,i=e.length,a=AP(t,i);ds(r,a)||(n.uniform1iv(this.addr,a),hs(r,a));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||Kme,a[s])}function Wdt(n,e,t){const r=this.cache,i=e.length,a=AP(t,i);ds(r,a)||(n.uniform1iv(this.addr,a),hs(r,a));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||Xme,a[s])}function Ydt(n){switch(n){case 5126:return Mdt;case 35664:return Edt;case 35665:return Ddt;case 35666:return Rdt;case 35674:return Ndt;case 35675:return Idt;case 35676:return kdt;case 5124:case 35670:return Ldt;case 35667:case 35671:return Pdt;case 35668:case 35672:return Odt;case 35669:case 35673:return Fdt;case 5125:return Bdt;case 36294:return zdt;case 36295:return Udt;case 36296:return Vdt;case 35678:case 36198:case 36298:case 36306:case 35682:return Gdt;case 35679:case 36299:case 36307:return Hdt;case 35680:case 36300:case 36308:case 36293:return jdt;case 36289:case 36303:case 36311:case 36292:return Wdt}}class qdt{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=Adt(t.type)}}class Xdt{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Ydt(t.type)}}class Zdt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],r)}}}const sB=/(\w+)(\])?(\[|\.)?/g;function $ne(n,e){n.seq.push(e),n.map[e.id]=e}function Kdt(n,e,t){const r=n.name,i=r.length;for(sB.lastIndex=0;;){const a=sB.exec(r),s=sB.lastIndex;let o=a[1];const l=a[2]==="]",u=a[3];if(l&&(o=o|0),u===void 0||u==="["&&s+2===i){$ne(t,u===void 0?new qdt(o,n,e):new Xdt(o,n,e));break}else{let f=t.map[o];f===void 0&&(f=new Zdt(o),$ne(t,f)),t=f}}}class nN{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);Kdt(a,s,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function Jne(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const $dt=37297;let Jdt=0;function Qdt(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return r.join(`
`)}const Qne=new ar;function eht(n){Pr._getMatrix(Qne,Pr.workingColorSpace,n);const e=`mat3( ${Qne.elements.map(t=>t.toFixed(4))} )`;switch(Pr.getTransfer(n)){case yA:return[e,"LinearTransferOETF"];case di:return[e,"sRGBTransferOETF"];default:return Qt("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function ere(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),a=(n.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+a+`

`+Qdt(n.getShaderSource(e),o)}else return a}function tht(n,e){const t=eht(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function nht(n,e){let t;switch(e){case bve:t="Linear";break;case Sve:t="Reinhard";break;case wve:t="Cineon";break;case lG:t="ACESFilmic";break;case Cve:t="AgX";break;case Ave:t="Neutral";break;case Tve:t="Custom";break;default:Qt("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const _R=new De;function rht(){Pr.getLuminanceCoefficients(_R);const n=_R.x.toFixed(4),e=_R.y.toFixed(4),t=_R.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function iht(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(CT).join(`
`)}function aht(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function sht(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),s=a.name;let o=1;a.type===n.FLOAT_MAT2&&(o=2),a.type===n.FLOAT_MAT3&&(o=3),a.type===n.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function CT(n){return n!==""}function tre(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function nre(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const oht=/^[ \t]*#include +<([\w\d./]+)>/gm;function Xz(n){return n.replace(oht,uht)}const lht=new Map;function uht(n,e){let t=dr[e];if(t===void 0){const r=lht.get(e);if(r!==void 0)t=dr[r],Qt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Xz(t)}const cht=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rre(n){return n.replace(cht,fht)}function fht(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function ire(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function dht(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===YL?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===rC?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===vf&&(e="SHADOWMAP_TYPE_VSM"),e}function hht(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Up:case jv:e="ENVMAP_TYPE_CUBE";break;case CS:e="ENVMAP_TYPE_CUBE_UV";break}return e}function pht(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case jv:e="ENVMAP_MODE_REFRACTION";break}return e}function vht(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case yM:e="ENVMAP_BLENDING_MULTIPLY";break;case xve:e="ENVMAP_BLENDING_MIX";break;case _ve:e="ENVMAP_BLENDING_ADD";break}return e}function mht(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function ght(n,e,t,r){const i=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=dht(t),u=hht(t),c=pht(t),f=vht(t),d=mht(t),h=iht(t),p=aht(a),m=i.createProgram();let g,y,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(CT).join(`
`),g.length>0&&(g+=`
`),y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(CT).join(`
`),y.length>0&&(y+=`
`)):(g=[ire(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(CT).join(`
`),y=[ire(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Yd?"#define TONE_MAPPING":"",t.toneMapping!==Yd?dr.tonemapping_pars_fragment:"",t.toneMapping!==Yd?nht("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",dr.colorspace_pars_fragment,tht("linearToOutputTexel",t.outputColorSpace),rht(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(CT).join(`
`)),s=Xz(s),s=tre(s,t),s=nre(s,t),o=Xz(o),o=tre(o,t),o=nre(o,t),s=rre(s),o=rre(o),t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,g=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,y=["#define varying in",t.glslVersion===zz?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===zz?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const S=_+g+s,A=_+y+o,M=Jne(i,i.VERTEX_SHADER,S),E=Jne(i,i.FRAGMENT_SHADER,A);i.attachShader(m,M),i.attachShader(m,E),t.index0AttributeName!==void 0?i.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m);function D(B){if(n.debug.checkShaderErrors){const O=i.getProgramInfoLog(m)||"",G=i.getShaderInfoLog(M)||"",V=i.getShaderInfoLog(E)||"",q=O.trim(),W=G.trim(),Z=V.trim();let X=!0,K=!0;if(i.getProgramParameter(m,i.LINK_STATUS)===!1)if(X=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,m,M,E);else{const se=ere(i,M,"vertex"),J=ere(i,E,"fragment");Xn("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+q+`
`+se+`
`+J)}else q!==""?Qt("WebGLProgram: Program Info Log:",q):(W===""||Z==="")&&(K=!1);K&&(B.diagnostics={runnable:X,programLog:q,vertexShader:{log:W,prefix:g},fragmentShader:{log:Z,prefix:y}})}i.deleteShader(M),i.deleteShader(E),I=new nN(i,m),N=sht(i,m)}let I;this.getUniforms=function(){return I===void 0&&D(this),I};let N;this.getAttributes=function(){return N===void 0&&D(this),N};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=i.getProgramParameter(m,$dt)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Jdt++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=M,this.fragmentShader=E,this}let yht=0;class xht{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new _ht(e),t.set(e,r)),r}}class _ht{constructor(e){this.id=yht++,this.code=e,this.usedTimes=0}}function bht(n,e,t,r,i,a,s){const o=new zb,l=new xht,u=new Set,c=[],f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(N){return u.add(N),N===0?"uv":`uv${N}`}function g(N,L,B,O,G){const V=O.fog,q=G.geometry,W=N.isMeshStandardMaterial?O.environment:null,Z=(N.isMeshStandardMaterial?t:e).get(N.envMap||W),X=Z&&Z.mapping===CS?Z.image.height:null,K=p[N.type];N.precision!==null&&(h=i.getMaxPrecision(N.precision),h!==N.precision&&Qt("WebGLProgram.getParameters:",N.precision,"not supported, using",h,"instead."));const se=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,J=se!==void 0?se.length:0;let H=0;q.morphAttributes.position!==void 0&&(H=1),q.morphAttributes.normal!==void 0&&(H=2),q.morphAttributes.color!==void 0&&(H=3);let ee,Q,ne,ce;if(K){const En=mf[K];ee=En.vertexShader,Q=En.fragmentShader}else ee=N.vertexShader,Q=N.fragmentShader,l.update(N),ne=l.getVertexShaderID(N),ce=l.getFragmentShaderID(N);const ve=n.getRenderTarget(),xe=n.state.buffers.depth.getReversed(),we=G.isInstancedMesh===!0,Ae=G.isBatchedMesh===!0,Ue=!!N.map,pe=!!N.matcap,pt=!!Z,te=!!N.aoMap,oe=!!N.lightMap,ge=!!N.bumpMap,le=!!N.normalMap,fe=!!N.displacementMap,be=!!N.emissiveMap,Oe=!!N.metalnessMap,Ve=!!N.roughnessMap,Pe=N.anisotropy>0,me=N.clearcoat>0,ue=N.dispersion>0,Ie=N.iridescence>0,Ye=N.sheen>0,ot=N.transmission>0,We=Pe&&!!N.anisotropyMap,zt=me&&!!N.clearcoatMap,mt=me&&!!N.clearcoatNormalMap,Nt=me&&!!N.clearcoatRoughnessMap,Ht=Ie&&!!N.iridescenceMap,Qe=Ie&&!!N.iridescenceThicknessMap,bt=Ye&&!!N.sheenColorMap,Yt=Ye&&!!N.sheenRoughnessMap,ke=!!N.specularMap,Je=!!N.specularColorMap,Et=!!N.specularIntensityMap,Le=ot&&!!N.transmissionMap,Dt=ot&&!!N.thicknessMap,Rt=!!N.gradientMap,wt=!!N.alphaMap,yt=N.alphaTest>0,vt=!!N.alphaHash,Ut=!!N.extensions;let Zt=Yd;N.toneMapped&&(ve===null||ve.isXRRenderTarget===!0)&&(Zt=n.toneMapping);const Mn={shaderID:K,shaderType:N.type,shaderName:N.name,vertexShader:ee,fragmentShader:Q,defines:N.defines,customVertexShaderID:ne,customFragmentShaderID:ce,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:h,batching:Ae,batchingColor:Ae&&G._colorsTexture!==null,instancing:we,instancingColor:we&&G.instanceColor!==null,instancingMorph:we&&G.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:ve===null?n.outputColorSpace:ve.isXRRenderTarget===!0?ve.texture.colorSpace:Wv,alphaToCoverage:!!N.alphaToCoverage,map:Ue,matcap:pe,envMap:pt,envMapMode:pt&&Z.mapping,envMapCubeUVHeight:X,aoMap:te,lightMap:oe,bumpMap:ge,normalMap:le,displacementMap:d&&fe,emissiveMap:be,normalMapObjectSpace:le&&N.normalMapType===kve,normalMapTangentSpace:le&&N.normalMapType===im,metalnessMap:Oe,roughnessMap:Ve,anisotropy:Pe,anisotropyMap:We,clearcoat:me,clearcoatMap:zt,clearcoatNormalMap:mt,clearcoatRoughnessMap:Nt,dispersion:ue,iridescence:Ie,iridescenceMap:Ht,iridescenceThicknessMap:Qe,sheen:Ye,sheenColorMap:bt,sheenRoughnessMap:Yt,specularMap:ke,specularColorMap:Je,specularIntensityMap:Et,transmission:ot,transmissionMap:Le,thicknessMap:Dt,gradientMap:Rt,opaque:N.transparent===!1&&N.blending===My&&N.alphaToCoverage===!1,alphaMap:wt,alphaTest:yt,alphaHash:vt,combine:N.combine,mapUv:Ue&&m(N.map.channel),aoMapUv:te&&m(N.aoMap.channel),lightMapUv:oe&&m(N.lightMap.channel),bumpMapUv:ge&&m(N.bumpMap.channel),normalMapUv:le&&m(N.normalMap.channel),displacementMapUv:fe&&m(N.displacementMap.channel),emissiveMapUv:be&&m(N.emissiveMap.channel),metalnessMapUv:Oe&&m(N.metalnessMap.channel),roughnessMapUv:Ve&&m(N.roughnessMap.channel),anisotropyMapUv:We&&m(N.anisotropyMap.channel),clearcoatMapUv:zt&&m(N.clearcoatMap.channel),clearcoatNormalMapUv:mt&&m(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Nt&&m(N.clearcoatRoughnessMap.channel),iridescenceMapUv:Ht&&m(N.iridescenceMap.channel),iridescenceThicknessMapUv:Qe&&m(N.iridescenceThicknessMap.channel),sheenColorMapUv:bt&&m(N.sheenColorMap.channel),sheenRoughnessMapUv:Yt&&m(N.sheenRoughnessMap.channel),specularMapUv:ke&&m(N.specularMap.channel),specularColorMapUv:Je&&m(N.specularColorMap.channel),specularIntensityMapUv:Et&&m(N.specularIntensityMap.channel),transmissionMapUv:Le&&m(N.transmissionMap.channel),thicknessMapUv:Dt&&m(N.thicknessMap.channel),alphaMapUv:wt&&m(N.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(le||Pe),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!q.attributes.uv&&(Ue||wt),fog:!!V,useFog:N.fog===!0,fogExp2:!!V&&V.isFogExp2,flatShading:N.flatShading===!0&&N.wireframe===!1,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:xe,skinning:G.isSkinnedMesh===!0,morphTargets:q.morphAttributes.position!==void 0,morphNormals:q.morphAttributes.normal!==void 0,morphColors:q.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:H,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:N.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:Zt,decodeVideoTexture:Ue&&N.map.isVideoTexture===!0&&Pr.getTransfer(N.map.colorSpace)===di,decodeVideoTextureEmissive:be&&N.emissiveMap.isVideoTexture===!0&&Pr.getTransfer(N.emissiveMap.colorSpace)===di,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===Ld,flipSided:N.side===xl,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:Ut&&N.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ut&&N.extensions.multiDraw===!0||Ae)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return Mn.vertexUv1s=u.has(1),Mn.vertexUv2s=u.has(2),Mn.vertexUv3s=u.has(3),u.clear(),Mn}function y(N){const L=[];if(N.shaderID?L.push(N.shaderID):(L.push(N.customVertexShaderID),L.push(N.customFragmentShaderID)),N.defines!==void 0)for(const B in N.defines)L.push(B),L.push(N.defines[B]);return N.isRawShaderMaterial===!1&&(_(L,N),S(L,N),L.push(n.outputColorSpace)),L.push(N.customProgramCacheKey),L.join()}function _(N,L){N.push(L.precision),N.push(L.outputColorSpace),N.push(L.envMapMode),N.push(L.envMapCubeUVHeight),N.push(L.mapUv),N.push(L.alphaMapUv),N.push(L.lightMapUv),N.push(L.aoMapUv),N.push(L.bumpMapUv),N.push(L.normalMapUv),N.push(L.displacementMapUv),N.push(L.emissiveMapUv),N.push(L.metalnessMapUv),N.push(L.roughnessMapUv),N.push(L.anisotropyMapUv),N.push(L.clearcoatMapUv),N.push(L.clearcoatNormalMapUv),N.push(L.clearcoatRoughnessMapUv),N.push(L.iridescenceMapUv),N.push(L.iridescenceThicknessMapUv),N.push(L.sheenColorMapUv),N.push(L.sheenRoughnessMapUv),N.push(L.specularMapUv),N.push(L.specularColorMapUv),N.push(L.specularIntensityMapUv),N.push(L.transmissionMapUv),N.push(L.thicknessMapUv),N.push(L.combine),N.push(L.fogExp2),N.push(L.sizeAttenuation),N.push(L.morphTargetsCount),N.push(L.morphAttributeCount),N.push(L.numDirLights),N.push(L.numPointLights),N.push(L.numSpotLights),N.push(L.numSpotLightMaps),N.push(L.numHemiLights),N.push(L.numRectAreaLights),N.push(L.numDirLightShadows),N.push(L.numPointLightShadows),N.push(L.numSpotLightShadows),N.push(L.numSpotLightShadowsWithMaps),N.push(L.numLightProbes),N.push(L.shadowMapType),N.push(L.toneMapping),N.push(L.numClippingPlanes),N.push(L.numClipIntersection),N.push(L.depthPacking)}function S(N,L){o.disableAll(),L.supportsVertexTextures&&o.enable(0),L.instancing&&o.enable(1),L.instancingColor&&o.enable(2),L.instancingMorph&&o.enable(3),L.matcap&&o.enable(4),L.envMap&&o.enable(5),L.normalMapObjectSpace&&o.enable(6),L.normalMapTangentSpace&&o.enable(7),L.clearcoat&&o.enable(8),L.iridescence&&o.enable(9),L.alphaTest&&o.enable(10),L.vertexColors&&o.enable(11),L.vertexAlphas&&o.enable(12),L.vertexUv1s&&o.enable(13),L.vertexUv2s&&o.enable(14),L.vertexUv3s&&o.enable(15),L.vertexTangents&&o.enable(16),L.anisotropy&&o.enable(17),L.alphaHash&&o.enable(18),L.batching&&o.enable(19),L.dispersion&&o.enable(20),L.batchingColor&&o.enable(21),L.gradientMap&&o.enable(22),N.push(o.mask),o.disableAll(),L.fog&&o.enable(0),L.useFog&&o.enable(1),L.flatShading&&o.enable(2),L.logarithmicDepthBuffer&&o.enable(3),L.reversedDepthBuffer&&o.enable(4),L.skinning&&o.enable(5),L.morphTargets&&o.enable(6),L.morphNormals&&o.enable(7),L.morphColors&&o.enable(8),L.premultipliedAlpha&&o.enable(9),L.shadowMapEnabled&&o.enable(10),L.doubleSided&&o.enable(11),L.flipSided&&o.enable(12),L.useDepthPacking&&o.enable(13),L.dithering&&o.enable(14),L.transmission&&o.enable(15),L.sheen&&o.enable(16),L.opaque&&o.enable(17),L.pointsUvs&&o.enable(18),L.decodeVideoTexture&&o.enable(19),L.decodeVideoTextureEmissive&&o.enable(20),L.alphaToCoverage&&o.enable(21),N.push(o.mask)}function A(N){const L=p[N.type];let B;if(L){const O=mf[L];B=Yve.clone(O.uniforms)}else B=N.uniforms;return B}function M(N,L){let B;for(let O=0,G=c.length;O<G;O++){const V=c[O];if(V.cacheKey===L){B=V,++B.usedTimes;break}}return B===void 0&&(B=new ght(n,L,N,a),c.push(B)),B}function E(N){if(--N.usedTimes===0){const L=c.indexOf(N);c[L]=c[c.length-1],c.pop(),N.destroy()}}function D(N){l.remove(N)}function I(){l.dispose()}return{getParameters:g,getProgramCacheKey:y,getUniforms:A,acquireProgram:M,releaseProgram:E,releaseShaderCache:D,programs:c,dispose:I}}function Sht(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function r(s){n.delete(s)}function i(s,o,l){n.get(s)[o]=l}function a(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:a}}function wht(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function are(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function sre(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function s(f,d,h,p,m,g){let y=n[e];return y===void 0?(y={id:f.id,object:f,geometry:d,material:h,groupOrder:p,renderOrder:f.renderOrder,z:m,group:g},n[e]=y):(y.id=f.id,y.object=f,y.geometry=d,y.material=h,y.groupOrder=p,y.renderOrder=f.renderOrder,y.z=m,y.group=g),e++,y}function o(f,d,h,p,m,g){const y=s(f,d,h,p,m,g);h.transmission>0?r.push(y):h.transparent===!0?i.push(y):t.push(y)}function l(f,d,h,p,m,g){const y=s(f,d,h,p,m,g);h.transmission>0?r.unshift(y):h.transparent===!0?i.unshift(y):t.unshift(y)}function u(f,d){t.length>1&&t.sort(f||wht),r.length>1&&r.sort(d||are),i.length>1&&i.sort(d||are)}function c(){for(let f=e,d=n.length;f<d;f++){const h=n[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:c,sort:u}}function Tht(){let n=new WeakMap;function e(r,i){const a=n.get(r);let s;return a===void 0?(s=new sre,n.set(r,[s])):i>=a.length?(s=new sre,a.push(s)):s=a[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function Cht(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new De,color:new en};break;case"SpotLight":t={position:new De,direction:new De,color:new en,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new De,color:new en,distance:0,decay:0};break;case"HemisphereLight":t={direction:new De,skyColor:new en,groundColor:new en};break;case"RectAreaLight":t={color:new en,position:new De,halfWidth:new De,halfHeight:new De};break}return n[e.id]=t,t}}}function Aht(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Mht=0;function Eht(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Dht(n){const e=new Cht,t=Aht(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new De);const i=new De,a=new Yn,s=new Yn;function o(u){let c=0,f=0,d=0;for(let N=0;N<9;N++)r.probe[N].set(0,0,0);let h=0,p=0,m=0,g=0,y=0,_=0,S=0,A=0,M=0,E=0,D=0;u.sort(Eht);for(let N=0,L=u.length;N<L;N++){const B=u[N],O=B.color,G=B.intensity,V=B.distance,q=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)c+=O.r*G,f+=O.g*G,d+=O.b*G;else if(B.isLightProbe){for(let W=0;W<9;W++)r.probe[W].addScaledVector(B.sh.coefficients[W],G);D++}else if(B.isDirectionalLight){const W=e.get(B);if(W.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const Z=B.shadow,X=t.get(B);X.shadowIntensity=Z.intensity,X.shadowBias=Z.bias,X.shadowNormalBias=Z.normalBias,X.shadowRadius=Z.radius,X.shadowMapSize=Z.mapSize,r.directionalShadow[h]=X,r.directionalShadowMap[h]=q,r.directionalShadowMatrix[h]=B.shadow.matrix,_++}r.directional[h]=W,h++}else if(B.isSpotLight){const W=e.get(B);W.position.setFromMatrixPosition(B.matrixWorld),W.color.copy(O).multiplyScalar(G),W.distance=V,W.coneCos=Math.cos(B.angle),W.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),W.decay=B.decay,r.spot[m]=W;const Z=B.shadow;if(B.map&&(r.spotLightMap[M]=B.map,M++,Z.updateMatrices(B),B.castShadow&&E++),r.spotLightMatrix[m]=Z.matrix,B.castShadow){const X=t.get(B);X.shadowIntensity=Z.intensity,X.shadowBias=Z.bias,X.shadowNormalBias=Z.normalBias,X.shadowRadius=Z.radius,X.shadowMapSize=Z.mapSize,r.spotShadow[m]=X,r.spotShadowMap[m]=q,A++}m++}else if(B.isRectAreaLight){const W=e.get(B);W.color.copy(O).multiplyScalar(G),W.halfWidth.set(B.width*.5,0,0),W.halfHeight.set(0,B.height*.5,0),r.rectArea[g]=W,g++}else if(B.isPointLight){const W=e.get(B);if(W.color.copy(B.color).multiplyScalar(B.intensity),W.distance=B.distance,W.decay=B.decay,B.castShadow){const Z=B.shadow,X=t.get(B);X.shadowIntensity=Z.intensity,X.shadowBias=Z.bias,X.shadowNormalBias=Z.normalBias,X.shadowRadius=Z.radius,X.shadowMapSize=Z.mapSize,X.shadowCameraNear=Z.camera.near,X.shadowCameraFar=Z.camera.far,r.pointShadow[p]=X,r.pointShadowMap[p]=q,r.pointShadowMatrix[p]=B.shadow.matrix,S++}r.point[p]=W,p++}else if(B.isHemisphereLight){const W=e.get(B);W.skyColor.copy(B.color).multiplyScalar(G),W.groundColor.copy(B.groundColor).multiplyScalar(G),r.hemi[y]=W,y++}}g>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Jt.LTC_FLOAT_1,r.rectAreaLTC2=Jt.LTC_FLOAT_2):(r.rectAreaLTC1=Jt.LTC_HALF_1,r.rectAreaLTC2=Jt.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=f,r.ambient[2]=d;const I=r.hash;(I.directionalLength!==h||I.pointLength!==p||I.spotLength!==m||I.rectAreaLength!==g||I.hemiLength!==y||I.numDirectionalShadows!==_||I.numPointShadows!==S||I.numSpotShadows!==A||I.numSpotMaps!==M||I.numLightProbes!==D)&&(r.directional.length=h,r.spot.length=m,r.rectArea.length=g,r.point.length=p,r.hemi.length=y,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=A+M-E,r.spotLightMap.length=M,r.numSpotLightShadowsWithMaps=E,r.numLightProbes=D,I.directionalLength=h,I.pointLength=p,I.spotLength=m,I.rectAreaLength=g,I.hemiLength=y,I.numDirectionalShadows=_,I.numPointShadows=S,I.numSpotShadows=A,I.numSpotMaps=M,I.numLightProbes=D,r.version=Mht++)}function l(u,c){let f=0,d=0,h=0,p=0,m=0;const g=c.matrixWorldInverse;for(let y=0,_=u.length;y<_;y++){const S=u[y];if(S.isDirectionalLight){const A=r.directional[f];A.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(g),f++}else if(S.isSpotLight){const A=r.spot[h];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(g),A.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(g),h++}else if(S.isRectAreaLight){const A=r.rectArea[p];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(g),s.identity(),a.copy(S.matrixWorld),a.premultiply(g),s.extractRotation(a),A.halfWidth.set(S.width*.5,0,0),A.halfHeight.set(0,S.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),p++}else if(S.isPointLight){const A=r.point[d];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(g),d++}else if(S.isHemisphereLight){const A=r.hemi[m];A.direction.setFromMatrixPosition(S.matrixWorld),A.direction.transformDirection(g),m++}}}return{setup:o,setupView:l,state:r}}function ore(n){const e=new Dht(n),t=[],r=[];function i(c){u.camera=c,t.length=0,r.length=0}function a(c){t.push(c)}function s(c){r.push(c)}function o(){e.setup(t)}function l(c){e.setupView(t,c)}const u={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function Rht(n){let e=new WeakMap;function t(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new ore(n),e.set(i,[o])):a>=s.length?(o=new ore(n),s.push(o)):o=s[a],o}function r(){e=new WeakMap}return{get:t,dispose:r}}const Nht=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Iht=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function kht(n,e,t){let r=new AS;const i=new Ct,a=new Ct,s=new jr,o=new PG({depthPacking:Ive}),l=new OG,u={},c=t.maxTextureSize,f={[zp]:xl,[xl]:zp,[Ld]:Ld},d=new Eu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ct},radius:{value:4}},vertexShader:Nht,fragmentShader:Iht}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const p=new sr;p.setAttribute("position",new bi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new fs(p,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=YL;let y=this.type;this.render=function(E,D,I){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||E.length===0)return;const N=n.getRenderTarget(),L=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),O=n.state;O.setBlending(Wd),O.buffers.depth.getReversed()===!0?O.buffers.color.setClear(0,0,0,0):O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const G=y!==vf&&this.type===vf,V=y===vf&&this.type!==vf;for(let q=0,W=E.length;q<W;q++){const Z=E[q],X=Z.shadow;if(X===void 0){Qt("WebGLShadowMap:",Z,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;i.copy(X.mapSize);const K=X.getFrameExtents();if(i.multiply(K),a.copy(X.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/K.x),i.x=a.x*K.x,X.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/K.y),i.y=a.y*K.y,X.mapSize.y=a.y)),X.map===null||G===!0||V===!0){const J=this.type!==vf?{minFilter:Js,magFilter:Js}:{};X.map!==null&&X.map.dispose(),X.map=new rh(i.x,i.y,J),X.map.texture.name=Z.name+".shadowMap",X.camera.updateProjectionMatrix()}n.setRenderTarget(X.map),n.clear();const se=X.getViewportCount();for(let J=0;J<se;J++){const H=X.getViewport(J);s.set(a.x*H.x,a.y*H.y,a.x*H.z,a.y*H.w),O.viewport(s),X.updateMatrices(Z,J),r=X.getFrustum(),A(D,I,X.camera,Z,this.type)}X.isPointLightShadow!==!0&&this.type===vf&&_(X,I),X.needsUpdate=!1}y=this.type,g.needsUpdate=!1,n.setRenderTarget(N,L,B)};function _(E,D){const I=e.update(m);d.defines.VSM_SAMPLES!==E.blurSamples&&(d.defines.VSM_SAMPLES=E.blurSamples,h.defines.VSM_SAMPLES=E.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new rh(i.x,i.y)),d.uniforms.shadow_pass.value=E.map.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(D,null,I,d,m,null),h.uniforms.shadow_pass.value=E.mapPass.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(D,null,I,h,m,null)}function S(E,D,I,N){let L=null;const B=I.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(B!==void 0)L=B;else if(L=I.isPointLight===!0?l:o,n.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0||D.alphaToCoverage===!0){const O=L.uuid,G=D.uuid;let V=u[O];V===void 0&&(V={},u[O]=V);let q=V[G];q===void 0&&(q=L.clone(),V[G]=q,D.addEventListener("dispose",M)),L=q}if(L.visible=D.visible,L.wireframe=D.wireframe,N===vf?L.side=D.shadowSide!==null?D.shadowSide:D.side:L.side=D.shadowSide!==null?D.shadowSide:f[D.side],L.alphaMap=D.alphaMap,L.alphaTest=D.alphaToCoverage===!0?.5:D.alphaTest,L.map=D.map,L.clipShadows=D.clipShadows,L.clippingPlanes=D.clippingPlanes,L.clipIntersection=D.clipIntersection,L.displacementMap=D.displacementMap,L.displacementScale=D.displacementScale,L.displacementBias=D.displacementBias,L.wireframeLinewidth=D.wireframeLinewidth,L.linewidth=D.linewidth,I.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const O=n.properties.get(L);O.light=I}return L}function A(E,D,I,N,L){if(E.visible===!1)return;if(E.layers.test(D.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&L===vf)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,E.matrixWorld);const G=e.update(E),V=E.material;if(Array.isArray(V)){const q=G.groups;for(let W=0,Z=q.length;W<Z;W++){const X=q[W],K=V[X.materialIndex];if(K&&K.visible){const se=S(E,K,N,L);E.onBeforeShadow(n,E,D,I,G,se,X),n.renderBufferDirect(I,null,G,se,E,X),E.onAfterShadow(n,E,D,I,G,se,X)}}}else if(V.visible){const q=S(E,V,N,L);E.onBeforeShadow(n,E,D,I,G,q,null),n.renderBufferDirect(I,null,G,q,E,null),E.onAfterShadow(n,E,D,I,G,q,null)}}const O=E.children;for(let G=0,V=O.length;G<V;G++)A(O[G],D,I,N,L)}function M(E){E.target.removeEventListener("dispose",M);for(const I in u){const N=u[I],L=E.target.uuid;L in N&&(N[L].dispose(),delete N[L])}}}const Lht={[YI]:qI,[XI]:$I,[ZI]:JI,[qy]:KI,[qI]:YI,[$I]:XI,[JI]:ZI,[KI]:qy};function Pht(n,e){function t(){let Le=!1;const Dt=new jr;let Rt=null;const wt=new jr(0,0,0,0);return{setMask:function(yt){Rt!==yt&&!Le&&(n.colorMask(yt,yt,yt,yt),Rt=yt)},setLocked:function(yt){Le=yt},setClear:function(yt,vt,Ut,Zt,Mn){Mn===!0&&(yt*=Zt,vt*=Zt,Ut*=Zt),Dt.set(yt,vt,Ut,Zt),wt.equals(Dt)===!1&&(n.clearColor(yt,vt,Ut,Zt),wt.copy(Dt))},reset:function(){Le=!1,Rt=null,wt.set(-1,0,0,0)}}}function r(){let Le=!1,Dt=!1,Rt=null,wt=null,yt=null;return{setReversed:function(vt){if(Dt!==vt){const Ut=e.get("EXT_clip_control");vt?Ut.clipControlEXT(Ut.LOWER_LEFT_EXT,Ut.ZERO_TO_ONE_EXT):Ut.clipControlEXT(Ut.LOWER_LEFT_EXT,Ut.NEGATIVE_ONE_TO_ONE_EXT),Dt=vt;const Zt=yt;yt=null,this.setClear(Zt)}},getReversed:function(){return Dt},setTest:function(vt){vt?ve(n.DEPTH_TEST):xe(n.DEPTH_TEST)},setMask:function(vt){Rt!==vt&&!Le&&(n.depthMask(vt),Rt=vt)},setFunc:function(vt){if(Dt&&(vt=Lht[vt]),wt!==vt){switch(vt){case YI:n.depthFunc(n.NEVER);break;case qI:n.depthFunc(n.ALWAYS);break;case XI:n.depthFunc(n.LESS);break;case qy:n.depthFunc(n.LEQUAL);break;case ZI:n.depthFunc(n.EQUAL);break;case KI:n.depthFunc(n.GEQUAL);break;case $I:n.depthFunc(n.GREATER);break;case JI:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}wt=vt}},setLocked:function(vt){Le=vt},setClear:function(vt){yt!==vt&&(Dt&&(vt=1-vt),n.clearDepth(vt),yt=vt)},reset:function(){Le=!1,Rt=null,wt=null,yt=null,Dt=!1}}}function i(){let Le=!1,Dt=null,Rt=null,wt=null,yt=null,vt=null,Ut=null,Zt=null,Mn=null;return{setTest:function(En){Le||(En?ve(n.STENCIL_TEST):xe(n.STENCIL_TEST))},setMask:function(En){Dt!==En&&!Le&&(n.stencilMask(En),Dt=En)},setFunc:function(En,Br,ur){(Rt!==En||wt!==Br||yt!==ur)&&(n.stencilFunc(En,Br,ur),Rt=En,wt=Br,yt=ur)},setOp:function(En,Br,ur){(vt!==En||Ut!==Br||Zt!==ur)&&(n.stencilOp(En,Br,ur),vt=En,Ut=Br,Zt=ur)},setLocked:function(En){Le=En},setClear:function(En){Mn!==En&&(n.clearStencil(En),Mn=En)},reset:function(){Le=!1,Dt=null,Rt=null,wt=null,yt=null,vt=null,Ut=null,Zt=null,Mn=null}}}const a=new t,s=new r,o=new i,l=new WeakMap,u=new WeakMap;let c={},f={},d=new WeakMap,h=[],p=null,m=!1,g=null,y=null,_=null,S=null,A=null,M=null,E=null,D=new en(0,0,0),I=0,N=!1,L=null,B=null,O=null,G=null,V=null;const q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,Z=0;const X=n.getParameter(n.VERSION);X.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(X)[1]),W=Z>=1):X.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(X)[1]),W=Z>=2);let K=null,se={};const J=n.getParameter(n.SCISSOR_BOX),H=n.getParameter(n.VIEWPORT),ee=new jr().fromArray(J),Q=new jr().fromArray(H);function ne(Le,Dt,Rt,wt){const yt=new Uint8Array(4),vt=n.createTexture();n.bindTexture(Le,vt),n.texParameteri(Le,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Le,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ut=0;Ut<Rt;Ut++)Le===n.TEXTURE_3D||Le===n.TEXTURE_2D_ARRAY?n.texImage3D(Dt,0,n.RGBA,1,1,wt,0,n.RGBA,n.UNSIGNED_BYTE,yt):n.texImage2D(Dt+Ut,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,yt);return vt}const ce={};ce[n.TEXTURE_2D]=ne(n.TEXTURE_2D,n.TEXTURE_2D,1),ce[n.TEXTURE_CUBE_MAP]=ne(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[n.TEXTURE_2D_ARRAY]=ne(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ce[n.TEXTURE_3D]=ne(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),ve(n.DEPTH_TEST),s.setFunc(qy),ge(!1),le(Lz),ve(n.CULL_FACE),te(Wd);function ve(Le){c[Le]!==!0&&(n.enable(Le),c[Le]=!0)}function xe(Le){c[Le]!==!1&&(n.disable(Le),c[Le]=!1)}function we(Le,Dt){return f[Le]!==Dt?(n.bindFramebuffer(Le,Dt),f[Le]=Dt,Le===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=Dt),Le===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=Dt),!0):!1}function Ae(Le,Dt){let Rt=h,wt=!1;if(Le){Rt=d.get(Dt),Rt===void 0&&(Rt=[],d.set(Dt,Rt));const yt=Le.textures;if(Rt.length!==yt.length||Rt[0]!==n.COLOR_ATTACHMENT0){for(let vt=0,Ut=yt.length;vt<Ut;vt++)Rt[vt]=n.COLOR_ATTACHMENT0+vt;Rt.length=yt.length,wt=!0}}else Rt[0]!==n.BACK&&(Rt[0]=n.BACK,wt=!0);wt&&n.drawBuffers(Rt)}function Ue(Le){return p!==Le?(n.useProgram(Le),p=Le,!0):!1}const pe={[lv]:n.FUNC_ADD,[nve]:n.FUNC_SUBTRACT,[rve]:n.FUNC_REVERSE_SUBTRACT};pe[ive]=n.MIN,pe[ave]=n.MAX;const pt={[sve]:n.ZERO,[ove]:n.ONE,[lve]:n.SRC_COLOR,[jI]:n.SRC_ALPHA,[pve]:n.SRC_ALPHA_SATURATE,[dve]:n.DST_COLOR,[cve]:n.DST_ALPHA,[uve]:n.ONE_MINUS_SRC_COLOR,[WI]:n.ONE_MINUS_SRC_ALPHA,[hve]:n.ONE_MINUS_DST_COLOR,[fve]:n.ONE_MINUS_DST_ALPHA,[vve]:n.CONSTANT_COLOR,[mve]:n.ONE_MINUS_CONSTANT_COLOR,[gve]:n.CONSTANT_ALPHA,[yve]:n.ONE_MINUS_CONSTANT_ALPHA};function te(Le,Dt,Rt,wt,yt,vt,Ut,Zt,Mn,En){if(Le===Wd){m===!0&&(xe(n.BLEND),m=!1);return}if(m===!1&&(ve(n.BLEND),m=!0),Le!==tve){if(Le!==g||En!==N){if((y!==lv||A!==lv)&&(n.blendEquation(n.FUNC_ADD),y=lv,A=lv),En)switch(Le){case My:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case fA:n.blendFunc(n.ONE,n.ONE);break;case Pz:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Oz:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Xn("WebGLState: Invalid blending: ",Le);break}else switch(Le){case My:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case fA:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case Pz:Xn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Oz:Xn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Xn("WebGLState: Invalid blending: ",Le);break}_=null,S=null,M=null,E=null,D.set(0,0,0),I=0,g=Le,N=En}return}yt=yt||Dt,vt=vt||Rt,Ut=Ut||wt,(Dt!==y||yt!==A)&&(n.blendEquationSeparate(pe[Dt],pe[yt]),y=Dt,A=yt),(Rt!==_||wt!==S||vt!==M||Ut!==E)&&(n.blendFuncSeparate(pt[Rt],pt[wt],pt[vt],pt[Ut]),_=Rt,S=wt,M=vt,E=Ut),(Zt.equals(D)===!1||Mn!==I)&&(n.blendColor(Zt.r,Zt.g,Zt.b,Mn),D.copy(Zt),I=Mn),g=Le,N=!1}function oe(Le,Dt){Le.side===Ld?xe(n.CULL_FACE):ve(n.CULL_FACE);let Rt=Le.side===xl;Dt&&(Rt=!Rt),ge(Rt),Le.blending===My&&Le.transparent===!1?te(Wd):te(Le.blending,Le.blendEquation,Le.blendSrc,Le.blendDst,Le.blendEquationAlpha,Le.blendSrcAlpha,Le.blendDstAlpha,Le.blendColor,Le.blendAlpha,Le.premultipliedAlpha),s.setFunc(Le.depthFunc),s.setTest(Le.depthTest),s.setMask(Le.depthWrite),a.setMask(Le.colorWrite);const wt=Le.stencilWrite;o.setTest(wt),wt&&(o.setMask(Le.stencilWriteMask),o.setFunc(Le.stencilFunc,Le.stencilRef,Le.stencilFuncMask),o.setOp(Le.stencilFail,Le.stencilZFail,Le.stencilZPass)),be(Le.polygonOffset,Le.polygonOffsetFactor,Le.polygonOffsetUnits),Le.alphaToCoverage===!0?ve(n.SAMPLE_ALPHA_TO_COVERAGE):xe(n.SAMPLE_ALPHA_TO_COVERAGE)}function ge(Le){L!==Le&&(Le?n.frontFace(n.CW):n.frontFace(n.CCW),L=Le)}function le(Le){Le!==J0e?(ve(n.CULL_FACE),Le!==B&&(Le===Lz?n.cullFace(n.BACK):Le===Q0e?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):xe(n.CULL_FACE),B=Le}function fe(Le){Le!==O&&(W&&n.lineWidth(Le),O=Le)}function be(Le,Dt,Rt){Le?(ve(n.POLYGON_OFFSET_FILL),(G!==Dt||V!==Rt)&&(n.polygonOffset(Dt,Rt),G=Dt,V=Rt)):xe(n.POLYGON_OFFSET_FILL)}function Oe(Le){Le?ve(n.SCISSOR_TEST):xe(n.SCISSOR_TEST)}function Ve(Le){Le===void 0&&(Le=n.TEXTURE0+q-1),K!==Le&&(n.activeTexture(Le),K=Le)}function Pe(Le,Dt,Rt){Rt===void 0&&(K===null?Rt=n.TEXTURE0+q-1:Rt=K);let wt=se[Rt];wt===void 0&&(wt={type:void 0,texture:void 0},se[Rt]=wt),(wt.type!==Le||wt.texture!==Dt)&&(K!==Rt&&(n.activeTexture(Rt),K=Rt),n.bindTexture(Le,Dt||ce[Le]),wt.type=Le,wt.texture=Dt)}function me(){const Le=se[K];Le!==void 0&&Le.type!==void 0&&(n.bindTexture(Le.type,null),Le.type=void 0,Le.texture=void 0)}function ue(){try{n.compressedTexImage2D(...arguments)}catch(Le){Le("WebGLState:",Le)}}function Ie(){try{n.compressedTexImage3D(...arguments)}catch(Le){Le("WebGLState:",Le)}}function Ye(){try{n.texSubImage2D(...arguments)}catch(Le){Le("WebGLState:",Le)}}function ot(){try{n.texSubImage3D(...arguments)}catch(Le){Le("WebGLState:",Le)}}function We(){try{n.compressedTexSubImage2D(...arguments)}catch(Le){Le("WebGLState:",Le)}}function zt(){try{n.compressedTexSubImage3D(...arguments)}catch(Le){Le("WebGLState:",Le)}}function mt(){try{n.texStorage2D(...arguments)}catch(Le){Le("WebGLState:",Le)}}function Nt(){try{n.texStorage3D(...arguments)}catch(Le){Le("WebGLState:",Le)}}function Ht(){try{n.texImage2D(...arguments)}catch(Le){Le("WebGLState:",Le)}}function Qe(){try{n.texImage3D(...arguments)}catch(Le){Le("WebGLState:",Le)}}function bt(Le){ee.equals(Le)===!1&&(n.scissor(Le.x,Le.y,Le.z,Le.w),ee.copy(Le))}function Yt(Le){Q.equals(Le)===!1&&(n.viewport(Le.x,Le.y,Le.z,Le.w),Q.copy(Le))}function ke(Le,Dt){let Rt=u.get(Dt);Rt===void 0&&(Rt=new WeakMap,u.set(Dt,Rt));let wt=Rt.get(Le);wt===void 0&&(wt=n.getUniformBlockIndex(Dt,Le.name),Rt.set(Le,wt))}function Je(Le,Dt){const wt=u.get(Dt).get(Le);l.get(Dt)!==wt&&(n.uniformBlockBinding(Dt,wt,Le.__bindingPointIndex),l.set(Dt,wt))}function Et(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},K=null,se={},f={},d=new WeakMap,h=[],p=null,m=!1,g=null,y=null,_=null,S=null,A=null,M=null,E=null,D=new en(0,0,0),I=0,N=!1,L=null,B=null,O=null,G=null,V=null,ee.set(0,0,n.canvas.width,n.canvas.height),Q.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:ve,disable:xe,bindFramebuffer:we,drawBuffers:Ae,useProgram:Ue,setBlending:te,setMaterial:oe,setFlipSided:ge,setCullFace:le,setLineWidth:fe,setPolygonOffset:be,setScissorTest:Oe,activeTexture:Ve,bindTexture:Pe,unbindTexture:me,compressedTexImage2D:ue,compressedTexImage3D:Ie,texImage2D:Ht,texImage3D:Qe,updateUBOMapping:ke,uniformBlockBinding:Je,texStorage2D:mt,texStorage3D:Nt,texSubImage2D:Ye,texSubImage3D:ot,compressedTexSubImage2D:We,compressedTexSubImage3D:zt,scissor:bt,viewport:Yt,reset:Et}}function Oht(n,e,t,r,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Ct,c=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(me,ue){return h?new OffscreenCanvas(me,ue):_A("canvas")}function m(me,ue,Ie){let Ye=1;const ot=Pe(me);if((ot.width>Ie||ot.height>Ie)&&(Ye=Ie/Math.max(ot.width,ot.height)),Ye<1)if(typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&me instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&me instanceof ImageBitmap||typeof VideoFrame<"u"&&me instanceof VideoFrame){const We=Math.floor(Ye*ot.width),zt=Math.floor(Ye*ot.height);f===void 0&&(f=p(We,zt));const mt=ue?p(We,zt):f;return mt.width=We,mt.height=zt,mt.getContext("2d").drawImage(me,0,0,We,zt),Qt("WebGLRenderer: Texture has been resized from ("+ot.width+"x"+ot.height+") to ("+We+"x"+zt+")."),mt}else return"data"in me&&Qt("WebGLRenderer: Image in DataTexture is too big ("+ot.width+"x"+ot.height+")."),me;return me}function g(me){return me.generateMipmaps}function y(me){n.generateMipmap(me)}function _(me){return me.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:me.isWebGL3DRenderTarget?n.TEXTURE_3D:me.isWebGLArrayRenderTarget||me.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function S(me,ue,Ie,Ye,ot=!1){if(me!==null){if(n[me]!==void 0)return n[me];Qt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+me+"'")}let We=ue;if(ue===n.RED&&(Ie===n.FLOAT&&(We=n.R32F),Ie===n.HALF_FLOAT&&(We=n.R16F),Ie===n.UNSIGNED_BYTE&&(We=n.R8)),ue===n.RED_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(We=n.R8UI),Ie===n.UNSIGNED_SHORT&&(We=n.R16UI),Ie===n.UNSIGNED_INT&&(We=n.R32UI),Ie===n.BYTE&&(We=n.R8I),Ie===n.SHORT&&(We=n.R16I),Ie===n.INT&&(We=n.R32I)),ue===n.RG&&(Ie===n.FLOAT&&(We=n.RG32F),Ie===n.HALF_FLOAT&&(We=n.RG16F),Ie===n.UNSIGNED_BYTE&&(We=n.RG8)),ue===n.RG_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(We=n.RG8UI),Ie===n.UNSIGNED_SHORT&&(We=n.RG16UI),Ie===n.UNSIGNED_INT&&(We=n.RG32UI),Ie===n.BYTE&&(We=n.RG8I),Ie===n.SHORT&&(We=n.RG16I),Ie===n.INT&&(We=n.RG32I)),ue===n.RGB_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(We=n.RGB8UI),Ie===n.UNSIGNED_SHORT&&(We=n.RGB16UI),Ie===n.UNSIGNED_INT&&(We=n.RGB32UI),Ie===n.BYTE&&(We=n.RGB8I),Ie===n.SHORT&&(We=n.RGB16I),Ie===n.INT&&(We=n.RGB32I)),ue===n.RGBA_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(We=n.RGBA8UI),Ie===n.UNSIGNED_SHORT&&(We=n.RGBA16UI),Ie===n.UNSIGNED_INT&&(We=n.RGBA32UI),Ie===n.BYTE&&(We=n.RGBA8I),Ie===n.SHORT&&(We=n.RGBA16I),Ie===n.INT&&(We=n.RGBA32I)),ue===n.RGB&&(Ie===n.UNSIGNED_INT_5_9_9_9_REV&&(We=n.RGB9_E5),Ie===n.UNSIGNED_INT_10F_11F_11F_REV&&(We=n.R11F_G11F_B10F)),ue===n.RGBA){const zt=ot?yA:Pr.getTransfer(Ye);Ie===n.FLOAT&&(We=n.RGBA32F),Ie===n.HALF_FLOAT&&(We=n.RGBA16F),Ie===n.UNSIGNED_BYTE&&(We=zt===di?n.SRGB8_ALPHA8:n.RGBA8),Ie===n.UNSIGNED_SHORT_4_4_4_4&&(We=n.RGBA4),Ie===n.UNSIGNED_SHORT_5_5_5_1&&(We=n.RGB5_A1)}return(We===n.R16F||We===n.R32F||We===n.RG16F||We===n.RG32F||We===n.RGBA16F||We===n.RGBA32F)&&e.get("EXT_color_buffer_float"),We}function A(me,ue){let Ie;return me?ue===null||ue===Vp||ue===kb?Ie=n.DEPTH24_STENCIL8:ue===jl?Ie=n.DEPTH32F_STENCIL8:ue===Ib&&(Ie=n.DEPTH24_STENCIL8,Qt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ue===null||ue===Vp||ue===kb?Ie=n.DEPTH_COMPONENT24:ue===jl?Ie=n.DEPTH_COMPONENT32F:ue===Ib&&(Ie=n.DEPTH_COMPONENT16),Ie}function M(me,ue){return g(me)===!0||me.isFramebufferTexture&&me.minFilter!==Js&&me.minFilter!==Ra?Math.log2(Math.max(ue.width,ue.height))+1:me.mipmaps!==void 0&&me.mipmaps.length>0?me.mipmaps.length:me.isCompressedTexture&&Array.isArray(me.image)?ue.mipmaps.length:1}function E(me){const ue=me.target;ue.removeEventListener("dispose",E),I(ue),ue.isVideoTexture&&c.delete(ue)}function D(me){const ue=me.target;ue.removeEventListener("dispose",D),L(ue)}function I(me){const ue=r.get(me);if(ue.__webglInit===void 0)return;const Ie=me.source,Ye=d.get(Ie);if(Ye){const ot=Ye[ue.__cacheKey];ot.usedTimes--,ot.usedTimes===0&&N(me),Object.keys(Ye).length===0&&d.delete(Ie)}r.remove(me)}function N(me){const ue=r.get(me);n.deleteTexture(ue.__webglTexture);const Ie=me.source,Ye=d.get(Ie);delete Ye[ue.__cacheKey],s.memory.textures--}function L(me){const ue=r.get(me);if(me.depthTexture&&(me.depthTexture.dispose(),r.remove(me.depthTexture)),me.isWebGLCubeRenderTarget)for(let Ye=0;Ye<6;Ye++){if(Array.isArray(ue.__webglFramebuffer[Ye]))for(let ot=0;ot<ue.__webglFramebuffer[Ye].length;ot++)n.deleteFramebuffer(ue.__webglFramebuffer[Ye][ot]);else n.deleteFramebuffer(ue.__webglFramebuffer[Ye]);ue.__webglDepthbuffer&&n.deleteRenderbuffer(ue.__webglDepthbuffer[Ye])}else{if(Array.isArray(ue.__webglFramebuffer))for(let Ye=0;Ye<ue.__webglFramebuffer.length;Ye++)n.deleteFramebuffer(ue.__webglFramebuffer[Ye]);else n.deleteFramebuffer(ue.__webglFramebuffer);if(ue.__webglDepthbuffer&&n.deleteRenderbuffer(ue.__webglDepthbuffer),ue.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ue.__webglMultisampledFramebuffer),ue.__webglColorRenderbuffer)for(let Ye=0;Ye<ue.__webglColorRenderbuffer.length;Ye++)ue.__webglColorRenderbuffer[Ye]&&n.deleteRenderbuffer(ue.__webglColorRenderbuffer[Ye]);ue.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ue.__webglDepthRenderbuffer)}const Ie=me.textures;for(let Ye=0,ot=Ie.length;Ye<ot;Ye++){const We=r.get(Ie[Ye]);We.__webglTexture&&(n.deleteTexture(We.__webglTexture),s.memory.textures--),r.remove(Ie[Ye])}r.remove(me)}let B=0;function O(){B=0}function G(){const me=B;return me>=i.maxTextures&&Qt("WebGLTextures: Trying to use "+me+" texture units while this GPU supports only "+i.maxTextures),B+=1,me}function V(me){const ue=[];return ue.push(me.wrapS),ue.push(me.wrapT),ue.push(me.wrapR||0),ue.push(me.magFilter),ue.push(me.minFilter),ue.push(me.anisotropy),ue.push(me.internalFormat),ue.push(me.format),ue.push(me.type),ue.push(me.generateMipmaps),ue.push(me.premultiplyAlpha),ue.push(me.flipY),ue.push(me.unpackAlignment),ue.push(me.colorSpace),ue.join()}function q(me,ue){const Ie=r.get(me);if(me.isVideoTexture&&Oe(me),me.isRenderTargetTexture===!1&&me.isExternalTexture!==!0&&me.version>0&&Ie.__version!==me.version){const Ye=me.image;if(Ye===null)Qt("WebGLRenderer: Texture marked for update but no image data found.");else if(Ye.complete===!1)Qt("WebGLRenderer: Texture marked for update but image is incomplete");else{ce(Ie,me,ue);return}}else me.isExternalTexture&&(Ie.__webglTexture=me.sourceTexture?me.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,Ie.__webglTexture,n.TEXTURE0+ue)}function W(me,ue){const Ie=r.get(me);if(me.isRenderTargetTexture===!1&&me.version>0&&Ie.__version!==me.version){ce(Ie,me,ue);return}else me.isExternalTexture&&(Ie.__webglTexture=me.sourceTexture?me.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,Ie.__webglTexture,n.TEXTURE0+ue)}function Z(me,ue){const Ie=r.get(me);if(me.isRenderTargetTexture===!1&&me.version>0&&Ie.__version!==me.version){ce(Ie,me,ue);return}t.bindTexture(n.TEXTURE_3D,Ie.__webglTexture,n.TEXTURE0+ue)}function X(me,ue){const Ie=r.get(me);if(me.version>0&&Ie.__version!==me.version){ve(Ie,me,ue);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ie.__webglTexture,n.TEXTURE0+ue)}const K={[pA]:n.REPEAT,[Hl]:n.CLAMP_TO_EDGE,[vA]:n.MIRRORED_REPEAT},se={[Js]:n.NEAREST,[uG]:n.NEAREST_MIPMAP_NEAREST,[U_]:n.NEAREST_MIPMAP_LINEAR,[Ra]:n.LINEAR,[iC]:n.LINEAR_MIPMAP_NEAREST,[Ud]:n.LINEAR_MIPMAP_LINEAR},J={[Lve]:n.NEVER,[Uve]:n.ALWAYS,[Pve]:n.LESS,[gG]:n.LEQUAL,[Ove]:n.EQUAL,[zve]:n.GEQUAL,[Fve]:n.GREATER,[Bve]:n.NOTEQUAL};function H(me,ue){if(ue.type===jl&&e.has("OES_texture_float_linear")===!1&&(ue.magFilter===Ra||ue.magFilter===iC||ue.magFilter===U_||ue.magFilter===Ud||ue.minFilter===Ra||ue.minFilter===iC||ue.minFilter===U_||ue.minFilter===Ud)&&Qt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(me,n.TEXTURE_WRAP_S,K[ue.wrapS]),n.texParameteri(me,n.TEXTURE_WRAP_T,K[ue.wrapT]),(me===n.TEXTURE_3D||me===n.TEXTURE_2D_ARRAY)&&n.texParameteri(me,n.TEXTURE_WRAP_R,K[ue.wrapR]),n.texParameteri(me,n.TEXTURE_MAG_FILTER,se[ue.magFilter]),n.texParameteri(me,n.TEXTURE_MIN_FILTER,se[ue.minFilter]),ue.compareFunction&&(n.texParameteri(me,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(me,n.TEXTURE_COMPARE_FUNC,J[ue.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ue.magFilter===Js||ue.minFilter!==U_&&ue.minFilter!==Ud||ue.type===jl&&e.has("OES_texture_float_linear")===!1)return;if(ue.anisotropy>1||r.get(ue).__currentAnisotropy){const Ie=e.get("EXT_texture_filter_anisotropic");n.texParameterf(me,Ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ue.anisotropy,i.getMaxAnisotropy())),r.get(ue).__currentAnisotropy=ue.anisotropy}}}function ee(me,ue){let Ie=!1;me.__webglInit===void 0&&(me.__webglInit=!0,ue.addEventListener("dispose",E));const Ye=ue.source;let ot=d.get(Ye);ot===void 0&&(ot={},d.set(Ye,ot));const We=V(ue);if(We!==me.__cacheKey){ot[We]===void 0&&(ot[We]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Ie=!0),ot[We].usedTimes++;const zt=ot[me.__cacheKey];zt!==void 0&&(ot[me.__cacheKey].usedTimes--,zt.usedTimes===0&&N(ue)),me.__cacheKey=We,me.__webglTexture=ot[We].texture}return Ie}function Q(me,ue,Ie){return Math.floor(Math.floor(me/Ie)/ue)}function ne(me,ue,Ie,Ye){const We=me.updateRanges;if(We.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,ue.width,ue.height,Ie,Ye,ue.data);else{We.sort((Qe,bt)=>Qe.start-bt.start);let zt=0;for(let Qe=1;Qe<We.length;Qe++){const bt=We[zt],Yt=We[Qe],ke=bt.start+bt.count,Je=Q(Yt.start,ue.width,4),Et=Q(bt.start,ue.width,4);Yt.start<=ke+1&&Je===Et&&Q(Yt.start+Yt.count-1,ue.width,4)===Je?bt.count=Math.max(bt.count,Yt.start+Yt.count-bt.start):(++zt,We[zt]=Yt)}We.length=zt+1;const mt=n.getParameter(n.UNPACK_ROW_LENGTH),Nt=n.getParameter(n.UNPACK_SKIP_PIXELS),Ht=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,ue.width);for(let Qe=0,bt=We.length;Qe<bt;Qe++){const Yt=We[Qe],ke=Math.floor(Yt.start/4),Je=Math.ceil(Yt.count/4),Et=ke%ue.width,Le=Math.floor(ke/ue.width),Dt=Je,Rt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Et),n.pixelStorei(n.UNPACK_SKIP_ROWS,Le),t.texSubImage2D(n.TEXTURE_2D,0,Et,Le,Dt,Rt,Ie,Ye,ue.data)}me.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,mt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Nt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Ht)}}function ce(me,ue,Ie){let Ye=n.TEXTURE_2D;(ue.isDataArrayTexture||ue.isCompressedArrayTexture)&&(Ye=n.TEXTURE_2D_ARRAY),ue.isData3DTexture&&(Ye=n.TEXTURE_3D);const ot=ee(me,ue),We=ue.source;t.bindTexture(Ye,me.__webglTexture,n.TEXTURE0+Ie);const zt=r.get(We);if(We.version!==zt.__version||ot===!0){t.activeTexture(n.TEXTURE0+Ie);const mt=Pr.getPrimaries(Pr.workingColorSpace),Nt=ue.colorSpace===sp?null:Pr.getPrimaries(ue.colorSpace),Ht=ue.colorSpace===sp||mt===Nt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ue.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ue.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ht);let Qe=m(ue.image,!1,i.maxTextureSize);Qe=Ve(ue,Qe);const bt=a.convert(ue.format,ue.colorSpace),Yt=a.convert(ue.type);let ke=S(ue.internalFormat,bt,Yt,ue.colorSpace,ue.isVideoTexture);H(Ye,ue);let Je;const Et=ue.mipmaps,Le=ue.isVideoTexture!==!0,Dt=zt.__version===void 0||ot===!0,Rt=We.dataReady,wt=M(ue,Qe);if(ue.isDepthTexture)ke=A(ue.format===Pb,ue.type),Dt&&(Le?t.texStorage2D(n.TEXTURE_2D,1,ke,Qe.width,Qe.height):t.texImage2D(n.TEXTURE_2D,0,ke,Qe.width,Qe.height,0,bt,Yt,null));else if(ue.isDataTexture)if(Et.length>0){Le&&Dt&&t.texStorage2D(n.TEXTURE_2D,wt,ke,Et[0].width,Et[0].height);for(let yt=0,vt=Et.length;yt<vt;yt++)Je=Et[yt],Le?Rt&&t.texSubImage2D(n.TEXTURE_2D,yt,0,0,Je.width,Je.height,bt,Yt,Je.data):t.texImage2D(n.TEXTURE_2D,yt,ke,Je.width,Je.height,0,bt,Yt,Je.data);ue.generateMipmaps=!1}else Le?(Dt&&t.texStorage2D(n.TEXTURE_2D,wt,ke,Qe.width,Qe.height),Rt&&ne(ue,Qe,bt,Yt)):t.texImage2D(n.TEXTURE_2D,0,ke,Qe.width,Qe.height,0,bt,Yt,Qe.data);else if(ue.isCompressedTexture)if(ue.isCompressedArrayTexture){Le&&Dt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,wt,ke,Et[0].width,Et[0].height,Qe.depth);for(let yt=0,vt=Et.length;yt<vt;yt++)if(Je=Et[yt],ue.format!==No)if(bt!==null)if(Le){if(Rt)if(ue.layerUpdates.size>0){const Ut=Yz(Je.width,Je.height,ue.format,ue.type);for(const Zt of ue.layerUpdates){const Mn=Je.data.subarray(Zt*Ut/Je.data.BYTES_PER_ELEMENT,(Zt+1)*Ut/Je.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,yt,0,0,Zt,Je.width,Je.height,1,bt,Mn)}ue.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,yt,0,0,0,Je.width,Je.height,Qe.depth,bt,Je.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,yt,ke,Je.width,Je.height,Qe.depth,0,Je.data,0,0);else Qt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Le?Rt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,yt,0,0,0,Je.width,Je.height,Qe.depth,bt,Yt,Je.data):t.texImage3D(n.TEXTURE_2D_ARRAY,yt,ke,Je.width,Je.height,Qe.depth,0,bt,Yt,Je.data)}else{Le&&Dt&&t.texStorage2D(n.TEXTURE_2D,wt,ke,Et[0].width,Et[0].height);for(let yt=0,vt=Et.length;yt<vt;yt++)Je=Et[yt],ue.format!==No?bt!==null?Le?Rt&&t.compressedTexSubImage2D(n.TEXTURE_2D,yt,0,0,Je.width,Je.height,bt,Je.data):t.compressedTexImage2D(n.TEXTURE_2D,yt,ke,Je.width,Je.height,0,Je.data):Qt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Le?Rt&&t.texSubImage2D(n.TEXTURE_2D,yt,0,0,Je.width,Je.height,bt,Yt,Je.data):t.texImage2D(n.TEXTURE_2D,yt,ke,Je.width,Je.height,0,bt,Yt,Je.data)}else if(ue.isDataArrayTexture)if(Le){if(Dt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,wt,ke,Qe.width,Qe.height,Qe.depth),Rt)if(ue.layerUpdates.size>0){const yt=Yz(Qe.width,Qe.height,ue.format,ue.type);for(const vt of ue.layerUpdates){const Ut=Qe.data.subarray(vt*yt/Qe.data.BYTES_PER_ELEMENT,(vt+1)*yt/Qe.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,vt,Qe.width,Qe.height,1,bt,Yt,Ut)}ue.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Qe.width,Qe.height,Qe.depth,bt,Yt,Qe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ke,Qe.width,Qe.height,Qe.depth,0,bt,Yt,Qe.data);else if(ue.isData3DTexture)Le?(Dt&&t.texStorage3D(n.TEXTURE_3D,wt,ke,Qe.width,Qe.height,Qe.depth),Rt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Qe.width,Qe.height,Qe.depth,bt,Yt,Qe.data)):t.texImage3D(n.TEXTURE_3D,0,ke,Qe.width,Qe.height,Qe.depth,0,bt,Yt,Qe.data);else if(ue.isFramebufferTexture){if(Dt)if(Le)t.texStorage2D(n.TEXTURE_2D,wt,ke,Qe.width,Qe.height);else{let yt=Qe.width,vt=Qe.height;for(let Ut=0;Ut<wt;Ut++)t.texImage2D(n.TEXTURE_2D,Ut,ke,yt,vt,0,bt,Yt,null),yt>>=1,vt>>=1}}else if(Et.length>0){if(Le&&Dt){const yt=Pe(Et[0]);t.texStorage2D(n.TEXTURE_2D,wt,ke,yt.width,yt.height)}for(let yt=0,vt=Et.length;yt<vt;yt++)Je=Et[yt],Le?Rt&&t.texSubImage2D(n.TEXTURE_2D,yt,0,0,bt,Yt,Je):t.texImage2D(n.TEXTURE_2D,yt,ke,bt,Yt,Je);ue.generateMipmaps=!1}else if(Le){if(Dt){const yt=Pe(Qe);t.texStorage2D(n.TEXTURE_2D,wt,ke,yt.width,yt.height)}Rt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,bt,Yt,Qe)}else t.texImage2D(n.TEXTURE_2D,0,ke,bt,Yt,Qe);g(ue)&&y(Ye),zt.__version=We.version,ue.onUpdate&&ue.onUpdate(ue)}me.__version=ue.version}function ve(me,ue,Ie){if(ue.image.length!==6)return;const Ye=ee(me,ue),ot=ue.source;t.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture,n.TEXTURE0+Ie);const We=r.get(ot);if(ot.version!==We.__version||Ye===!0){t.activeTexture(n.TEXTURE0+Ie);const zt=Pr.getPrimaries(Pr.workingColorSpace),mt=ue.colorSpace===sp?null:Pr.getPrimaries(ue.colorSpace),Nt=ue.colorSpace===sp||zt===mt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ue.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ue.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Nt);const Ht=ue.isCompressedTexture||ue.image[0].isCompressedTexture,Qe=ue.image[0]&&ue.image[0].isDataTexture,bt=[];for(let vt=0;vt<6;vt++)!Ht&&!Qe?bt[vt]=m(ue.image[vt],!0,i.maxCubemapSize):bt[vt]=Qe?ue.image[vt].image:ue.image[vt],bt[vt]=Ve(ue,bt[vt]);const Yt=bt[0],ke=a.convert(ue.format,ue.colorSpace),Je=a.convert(ue.type),Et=S(ue.internalFormat,ke,Je,ue.colorSpace),Le=ue.isVideoTexture!==!0,Dt=We.__version===void 0||Ye===!0,Rt=ot.dataReady;let wt=M(ue,Yt);H(n.TEXTURE_CUBE_MAP,ue);let yt;if(Ht){Le&&Dt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,wt,Et,Yt.width,Yt.height);for(let vt=0;vt<6;vt++){yt=bt[vt].mipmaps;for(let Ut=0;Ut<yt.length;Ut++){const Zt=yt[Ut];ue.format!==No?ke!==null?Le?Rt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Ut,0,0,Zt.width,Zt.height,ke,Zt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Ut,Et,Zt.width,Zt.height,0,Zt.data):Qt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Le?Rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Ut,0,0,Zt.width,Zt.height,ke,Je,Zt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Ut,Et,Zt.width,Zt.height,0,ke,Je,Zt.data)}}}else{if(yt=ue.mipmaps,Le&&Dt){yt.length>0&&wt++;const vt=Pe(bt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,wt,Et,vt.width,vt.height)}for(let vt=0;vt<6;vt++)if(Qe){Le?Rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,0,0,bt[vt].width,bt[vt].height,ke,Je,bt[vt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,Et,bt[vt].width,bt[vt].height,0,ke,Je,bt[vt].data);for(let Ut=0;Ut<yt.length;Ut++){const Mn=yt[Ut].image[vt].image;Le?Rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Ut+1,0,0,Mn.width,Mn.height,ke,Je,Mn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Ut+1,Et,Mn.width,Mn.height,0,ke,Je,Mn.data)}}else{Le?Rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,0,0,ke,Je,bt[vt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,Et,ke,Je,bt[vt]);for(let Ut=0;Ut<yt.length;Ut++){const Zt=yt[Ut];Le?Rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Ut+1,0,0,ke,Je,Zt.image[vt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Ut+1,Et,ke,Je,Zt.image[vt])}}}g(ue)&&y(n.TEXTURE_CUBE_MAP),We.__version=ot.version,ue.onUpdate&&ue.onUpdate(ue)}me.__version=ue.version}function xe(me,ue,Ie,Ye,ot,We){const zt=a.convert(Ie.format,Ie.colorSpace),mt=a.convert(Ie.type),Nt=S(Ie.internalFormat,zt,mt,Ie.colorSpace),Ht=r.get(ue),Qe=r.get(Ie);if(Qe.__renderTarget=ue,!Ht.__hasExternalTextures){const bt=Math.max(1,ue.width>>We),Yt=Math.max(1,ue.height>>We);ot===n.TEXTURE_3D||ot===n.TEXTURE_2D_ARRAY?t.texImage3D(ot,We,Nt,bt,Yt,ue.depth,0,zt,mt,null):t.texImage2D(ot,We,Nt,bt,Yt,0,zt,mt,null)}t.bindFramebuffer(n.FRAMEBUFFER,me),be(ue)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ye,ot,Qe.__webglTexture,0,fe(ue)):(ot===n.TEXTURE_2D||ot>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ot<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ye,ot,Qe.__webglTexture,We),t.bindFramebuffer(n.FRAMEBUFFER,null)}function we(me,ue,Ie){if(n.bindRenderbuffer(n.RENDERBUFFER,me),ue.depthBuffer){const Ye=ue.depthTexture,ot=Ye&&Ye.isDepthTexture?Ye.type:null,We=A(ue.stencilBuffer,ot),zt=ue.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,mt=fe(ue);be(ue)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,mt,We,ue.width,ue.height):Ie?n.renderbufferStorageMultisample(n.RENDERBUFFER,mt,We,ue.width,ue.height):n.renderbufferStorage(n.RENDERBUFFER,We,ue.width,ue.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,zt,n.RENDERBUFFER,me)}else{const Ye=ue.textures;for(let ot=0;ot<Ye.length;ot++){const We=Ye[ot],zt=a.convert(We.format,We.colorSpace),mt=a.convert(We.type),Nt=S(We.internalFormat,zt,mt,We.colorSpace),Ht=fe(ue);Ie&&be(ue)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ht,Nt,ue.width,ue.height):be(ue)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ht,Nt,ue.width,ue.height):n.renderbufferStorage(n.RENDERBUFFER,Nt,ue.width,ue.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ae(me,ue){if(ue&&ue.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,me),!(ue.depthTexture&&ue.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ye=r.get(ue.depthTexture);Ye.__renderTarget=ue,(!Ye.__webglTexture||ue.depthTexture.image.width!==ue.width||ue.depthTexture.image.height!==ue.height)&&(ue.depthTexture.image.width=ue.width,ue.depthTexture.image.height=ue.height,ue.depthTexture.needsUpdate=!0),q(ue.depthTexture,0);const ot=Ye.__webglTexture,We=fe(ue);if(ue.depthTexture.format===Lb)be(ue)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ot,0,We):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ot,0);else if(ue.depthTexture.format===Pb)be(ue)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ot,0,We):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ot,0);else throw new Error("Unknown depthTexture format")}function Ue(me){const ue=r.get(me),Ie=me.isWebGLCubeRenderTarget===!0;if(ue.__boundDepthTexture!==me.depthTexture){const Ye=me.depthTexture;if(ue.__depthDisposeCallback&&ue.__depthDisposeCallback(),Ye){const ot=()=>{delete ue.__boundDepthTexture,delete ue.__depthDisposeCallback,Ye.removeEventListener("dispose",ot)};Ye.addEventListener("dispose",ot),ue.__depthDisposeCallback=ot}ue.__boundDepthTexture=Ye}if(me.depthTexture&&!ue.__autoAllocateDepthBuffer){if(Ie)throw new Error("target.depthTexture not supported in Cube render targets");const Ye=me.texture.mipmaps;Ye&&Ye.length>0?Ae(ue.__webglFramebuffer[0],me):Ae(ue.__webglFramebuffer,me)}else if(Ie){ue.__webglDepthbuffer=[];for(let Ye=0;Ye<6;Ye++)if(t.bindFramebuffer(n.FRAMEBUFFER,ue.__webglFramebuffer[Ye]),ue.__webglDepthbuffer[Ye]===void 0)ue.__webglDepthbuffer[Ye]=n.createRenderbuffer(),we(ue.__webglDepthbuffer[Ye],me,!1);else{const ot=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,We=ue.__webglDepthbuffer[Ye];n.bindRenderbuffer(n.RENDERBUFFER,We),n.framebufferRenderbuffer(n.FRAMEBUFFER,ot,n.RENDERBUFFER,We)}}else{const Ye=me.texture.mipmaps;if(Ye&&Ye.length>0?t.bindFramebuffer(n.FRAMEBUFFER,ue.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,ue.__webglFramebuffer),ue.__webglDepthbuffer===void 0)ue.__webglDepthbuffer=n.createRenderbuffer(),we(ue.__webglDepthbuffer,me,!1);else{const ot=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,We=ue.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,We),n.framebufferRenderbuffer(n.FRAMEBUFFER,ot,n.RENDERBUFFER,We)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function pe(me,ue,Ie){const Ye=r.get(me);ue!==void 0&&xe(Ye.__webglFramebuffer,me,me.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ie!==void 0&&Ue(me)}function pt(me){const ue=me.texture,Ie=r.get(me),Ye=r.get(ue);me.addEventListener("dispose",D);const ot=me.textures,We=me.isWebGLCubeRenderTarget===!0,zt=ot.length>1;if(zt||(Ye.__webglTexture===void 0&&(Ye.__webglTexture=n.createTexture()),Ye.__version=ue.version,s.memory.textures++),We){Ie.__webglFramebuffer=[];for(let mt=0;mt<6;mt++)if(ue.mipmaps&&ue.mipmaps.length>0){Ie.__webglFramebuffer[mt]=[];for(let Nt=0;Nt<ue.mipmaps.length;Nt++)Ie.__webglFramebuffer[mt][Nt]=n.createFramebuffer()}else Ie.__webglFramebuffer[mt]=n.createFramebuffer()}else{if(ue.mipmaps&&ue.mipmaps.length>0){Ie.__webglFramebuffer=[];for(let mt=0;mt<ue.mipmaps.length;mt++)Ie.__webglFramebuffer[mt]=n.createFramebuffer()}else Ie.__webglFramebuffer=n.createFramebuffer();if(zt)for(let mt=0,Nt=ot.length;mt<Nt;mt++){const Ht=r.get(ot[mt]);Ht.__webglTexture===void 0&&(Ht.__webglTexture=n.createTexture(),s.memory.textures++)}if(me.samples>0&&be(me)===!1){Ie.__webglMultisampledFramebuffer=n.createFramebuffer(),Ie.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer);for(let mt=0;mt<ot.length;mt++){const Nt=ot[mt];Ie.__webglColorRenderbuffer[mt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ie.__webglColorRenderbuffer[mt]);const Ht=a.convert(Nt.format,Nt.colorSpace),Qe=a.convert(Nt.type),bt=S(Nt.internalFormat,Ht,Qe,Nt.colorSpace,me.isXRRenderTarget===!0),Yt=fe(me);n.renderbufferStorageMultisample(n.RENDERBUFFER,Yt,bt,me.width,me.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[mt])}n.bindRenderbuffer(n.RENDERBUFFER,null),me.depthBuffer&&(Ie.__webglDepthRenderbuffer=n.createRenderbuffer(),we(Ie.__webglDepthRenderbuffer,me,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(We){t.bindTexture(n.TEXTURE_CUBE_MAP,Ye.__webglTexture),H(n.TEXTURE_CUBE_MAP,ue);for(let mt=0;mt<6;mt++)if(ue.mipmaps&&ue.mipmaps.length>0)for(let Nt=0;Nt<ue.mipmaps.length;Nt++)xe(Ie.__webglFramebuffer[mt][Nt],me,ue,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt);else xe(Ie.__webglFramebuffer[mt],me,ue,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0);g(ue)&&y(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(zt){for(let mt=0,Nt=ot.length;mt<Nt;mt++){const Ht=ot[mt],Qe=r.get(Ht);let bt=n.TEXTURE_2D;(me.isWebGL3DRenderTarget||me.isWebGLArrayRenderTarget)&&(bt=me.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(bt,Qe.__webglTexture),H(bt,Ht),xe(Ie.__webglFramebuffer,me,Ht,n.COLOR_ATTACHMENT0+mt,bt,0),g(Ht)&&y(bt)}t.unbindTexture()}else{let mt=n.TEXTURE_2D;if((me.isWebGL3DRenderTarget||me.isWebGLArrayRenderTarget)&&(mt=me.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(mt,Ye.__webglTexture),H(mt,ue),ue.mipmaps&&ue.mipmaps.length>0)for(let Nt=0;Nt<ue.mipmaps.length;Nt++)xe(Ie.__webglFramebuffer[Nt],me,ue,n.COLOR_ATTACHMENT0,mt,Nt);else xe(Ie.__webglFramebuffer,me,ue,n.COLOR_ATTACHMENT0,mt,0);g(ue)&&y(mt),t.unbindTexture()}me.depthBuffer&&Ue(me)}function te(me){const ue=me.textures;for(let Ie=0,Ye=ue.length;Ie<Ye;Ie++){const ot=ue[Ie];if(g(ot)){const We=_(me),zt=r.get(ot).__webglTexture;t.bindTexture(We,zt),y(We),t.unbindTexture()}}}const oe=[],ge=[];function le(me){if(me.samples>0){if(be(me)===!1){const ue=me.textures,Ie=me.width,Ye=me.height;let ot=n.COLOR_BUFFER_BIT;const We=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,zt=r.get(me),mt=ue.length>1;if(mt)for(let Ht=0;Ht<ue.length;Ht++)t.bindFramebuffer(n.FRAMEBUFFER,zt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ht,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,zt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ht,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,zt.__webglMultisampledFramebuffer);const Nt=me.texture.mipmaps;Nt&&Nt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,zt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,zt.__webglFramebuffer);for(let Ht=0;Ht<ue.length;Ht++){if(me.resolveDepthBuffer&&(me.depthBuffer&&(ot|=n.DEPTH_BUFFER_BIT),me.stencilBuffer&&me.resolveStencilBuffer&&(ot|=n.STENCIL_BUFFER_BIT)),mt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,zt.__webglColorRenderbuffer[Ht]);const Qe=r.get(ue[Ht]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Qe,0)}n.blitFramebuffer(0,0,Ie,Ye,0,0,Ie,Ye,ot,n.NEAREST),l===!0&&(oe.length=0,ge.length=0,oe.push(n.COLOR_ATTACHMENT0+Ht),me.depthBuffer&&me.resolveDepthBuffer===!1&&(oe.push(We),ge.push(We),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ge)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,oe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),mt)for(let Ht=0;Ht<ue.length;Ht++){t.bindFramebuffer(n.FRAMEBUFFER,zt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ht,n.RENDERBUFFER,zt.__webglColorRenderbuffer[Ht]);const Qe=r.get(ue[Ht]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,zt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ht,n.TEXTURE_2D,Qe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,zt.__webglMultisampledFramebuffer)}else if(me.depthBuffer&&me.resolveDepthBuffer===!1&&l){const ue=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ue])}}}function fe(me){return Math.min(i.maxSamples,me.samples)}function be(me){const ue=r.get(me);return me.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ue.__useRenderToTexture!==!1}function Oe(me){const ue=s.render.frame;c.get(me)!==ue&&(c.set(me,ue),me.update())}function Ve(me,ue){const Ie=me.colorSpace,Ye=me.format,ot=me.type;return me.isCompressedTexture===!0||me.isVideoTexture===!0||Ie!==Wv&&Ie!==sp&&(Pr.getTransfer(Ie)===di?(Ye!==No||ot!==Ec)&&Qt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Xn("WebGLTextures: Unsupported texture color space:",Ie)),ue}function Pe(me){return typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement?(u.width=me.naturalWidth||me.width,u.height=me.naturalHeight||me.height):typeof VideoFrame<"u"&&me instanceof VideoFrame?(u.width=me.displayWidth,u.height=me.displayHeight):(u.width=me.width,u.height=me.height),u}this.allocateTextureUnit=G,this.resetTextureUnits=O,this.setTexture2D=q,this.setTexture2DArray=W,this.setTexture3D=Z,this.setTextureCube=X,this.rebindTextures=pe,this.setupRenderTarget=pt,this.updateRenderTargetMipmap=te,this.updateMultisampleRenderTarget=le,this.setupDepthRenderbuffer=Ue,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=be}function $me(n,e){function t(r,i=sp){let a;const s=Pr.getTransfer(i);if(r===Ec)return n.UNSIGNED_BYTE;if(r===ZL)return n.UNSIGNED_SHORT_4_4_4_4;if(r===KL)return n.UNSIGNED_SHORT_5_5_5_1;if(r===dG)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===hG)return n.UNSIGNED_INT_10F_11F_11F_REV;if(r===cG)return n.BYTE;if(r===fG)return n.SHORT;if(r===Ib)return n.UNSIGNED_SHORT;if(r===XL)return n.INT;if(r===Vp)return n.UNSIGNED_INT;if(r===jl)return n.FLOAT;if(r===vx)return n.HALF_FLOAT;if(r===pG)return n.ALPHA;if(r===vG)return n.RGB;if(r===No)return n.RGBA;if(r===Lb)return n.DEPTH_COMPONENT;if(r===Pb)return n.DEPTH_STENCIL;if(r===$L)return n.RED;if(r===xM)return n.RED_INTEGER;if(r===JL)return n.RG;if(r===QL)return n.RG_INTEGER;if(r===eP)return n.RGBA_INTEGER;if(r===aC||r===sC||r===oC||r===lC)if(s===di)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===aC)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===sC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===oC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===lC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===aC)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===sC)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===oC)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===lC)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===QI||r===ek||r===tk||r===nk)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===QI)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ek)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===tk)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===nk)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===rk||r===ik||r===ak)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===rk||r===ik)return s===di?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===ak)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===sk||r===ok||r===lk||r===uk||r===ck||r===fk||r===dk||r===hk||r===pk||r===vk||r===mk||r===gk||r===yk||r===xk)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===sk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===ok)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===lk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===uk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===ck)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===fk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===dk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===hk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===pk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===vk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===mk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===gk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===yk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===xk)return s===di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===_k||r===bk||r===Sk)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===_k)return s===di?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===bk)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Sk)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===wk||r===Tk||r===Ck||r===Ak)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===wk)return a.COMPRESSED_RED_RGTC1_EXT;if(r===Tk)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Ck)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Ak)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===kb?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const Fht=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Bht=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class zht{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const r=new MG(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new Eu({vertexShader:Fht,fragmentShader:Bht,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new fs(new MS(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Uht extends uh{constructor(e,t){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=1,u=null,c=null,f=null,d=null,h=null,p=null;const m=typeof XRWebGLBinding<"u",g=new zht,y={},_=t.getContextAttributes();let S=null,A=null;const M=[],E=[],D=new Ct;let I=null;const N=new Ea;N.viewport=new jr;const L=new Ea;L.viewport=new jr;const B=[N,L],O=new Ume;let G=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let ve=M[ce];return ve===void 0&&(ve=new tN,M[ce]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(ce){let ve=M[ce];return ve===void 0&&(ve=new tN,M[ce]=ve),ve.getGripSpace()},this.getHand=function(ce){let ve=M[ce];return ve===void 0&&(ve=new tN,M[ce]=ve),ve.getHandSpace()};function q(ce){const ve=E.indexOf(ce.inputSource);if(ve===-1)return;const xe=M[ve];xe!==void 0&&(xe.update(ce.inputSource,ce.frame,u||s),xe.dispatchEvent({type:ce.type,data:ce.inputSource}))}function W(){i.removeEventListener("select",q),i.removeEventListener("selectstart",q),i.removeEventListener("selectend",q),i.removeEventListener("squeeze",q),i.removeEventListener("squeezestart",q),i.removeEventListener("squeezeend",q),i.removeEventListener("end",W),i.removeEventListener("inputsourceschange",Z);for(let ce=0;ce<M.length;ce++){const ve=E[ce];ve!==null&&(E[ce]=null,M[ce].disconnect(ve))}G=null,V=null,g.reset();for(const ce in y)delete y[ce];e.setRenderTarget(S),h=null,d=null,f=null,i=null,A=null,ne.stop(),r.isPresenting=!1,e.setPixelRatio(I),e.setSize(D.width,D.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){a=ce,r.isPresenting===!0&&Qt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){o=ce,r.isPresenting===!0&&Qt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(ce){u=ce},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f===null&&m&&(f=new XRWebGLBinding(i,t)),f},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(ce){if(i=ce,i!==null){if(S=e.getRenderTarget(),i.addEventListener("select",q),i.addEventListener("selectstart",q),i.addEventListener("selectend",q),i.addEventListener("squeeze",q),i.addEventListener("squeezestart",q),i.addEventListener("squeezeend",q),i.addEventListener("end",W),i.addEventListener("inputsourceschange",Z),_.xrCompatible!==!0&&await t.makeXRCompatible(),I=e.getPixelRatio(),e.getSize(D),m&&"createProjectionLayer"in XRWebGLBinding.prototype){let xe=null,we=null,Ae=null;_.depth&&(Ae=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,xe=_.stencil?Pb:Lb,we=_.stencil?kb:Vp);const Ue={colorFormat:t.RGBA8,depthFormat:Ae,scaleFactor:a};f=this.getBinding(),d=f.createProjectionLayer(Ue),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),A=new rh(d.textureWidth,d.textureHeight,{format:No,type:Ec,depthTexture:new AG(d.textureWidth,d.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}else{const xe={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:a};h=new XRWebGLLayer(i,t,xe),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),A=new rh(h.framebufferWidth,h.framebufferHeight,{format:No,type:Ec,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),u=null,s=await i.requestReferenceSpace(o),ne.setContext(i),ne.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function Z(ce){for(let ve=0;ve<ce.removed.length;ve++){const xe=ce.removed[ve],we=E.indexOf(xe);we>=0&&(E[we]=null,M[we].disconnect(xe))}for(let ve=0;ve<ce.added.length;ve++){const xe=ce.added[ve];let we=E.indexOf(xe);if(we===-1){for(let Ue=0;Ue<M.length;Ue++)if(Ue>=E.length){E.push(xe),we=Ue;break}else if(E[Ue]===null){E[Ue]=xe,we=Ue;break}if(we===-1)break}const Ae=M[we];Ae&&Ae.connect(xe)}}const X=new De,K=new De;function se(ce,ve,xe){X.setFromMatrixPosition(ve.matrixWorld),K.setFromMatrixPosition(xe.matrixWorld);const we=X.distanceTo(K),Ae=ve.projectionMatrix.elements,Ue=xe.projectionMatrix.elements,pe=Ae[14]/(Ae[10]-1),pt=Ae[14]/(Ae[10]+1),te=(Ae[9]+1)/Ae[5],oe=(Ae[9]-1)/Ae[5],ge=(Ae[8]-1)/Ae[0],le=(Ue[8]+1)/Ue[0],fe=pe*ge,be=pe*le,Oe=we/(-ge+le),Ve=Oe*-ge;if(ve.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(Ve),ce.translateZ(Oe),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),Ae[10]===-1)ce.projectionMatrix.copy(ve.projectionMatrix),ce.projectionMatrixInverse.copy(ve.projectionMatrixInverse);else{const Pe=pe+Oe,me=pt+Oe,ue=fe-Ve,Ie=be+(we-Ve),Ye=te*pt/me*Pe,ot=oe*pt/me*Pe;ce.projectionMatrix.makePerspective(ue,Ie,Ye,ot,Pe,me),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function J(ce,ve){ve===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(ve.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(i===null)return;let ve=ce.near,xe=ce.far;g.texture!==null&&(g.depthNear>0&&(ve=g.depthNear),g.depthFar>0&&(xe=g.depthFar)),O.near=L.near=N.near=ve,O.far=L.far=N.far=xe,(G!==O.near||V!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),G=O.near,V=O.far),O.layers.mask=ce.layers.mask|6,N.layers.mask=O.layers.mask&3,L.layers.mask=O.layers.mask&5;const we=ce.parent,Ae=O.cameras;J(O,we);for(let Ue=0;Ue<Ae.length;Ue++)J(Ae[Ue],we);Ae.length===2?se(O,N,L):O.projectionMatrix.copy(N.projectionMatrix),H(ce,O,we)};function H(ce,ve,xe){xe===null?ce.matrix.copy(ve.matrixWorld):(ce.matrix.copy(xe.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(ve.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(ve.projectionMatrix),ce.projectionMatrixInverse.copy(ve.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=Bb*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(ce){l=ce,d!==null&&(d.fixedFoveation=ce),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=ce)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(O)},this.getCameraTexture=function(ce){return y[ce]};let ee=null;function Q(ce,ve){if(c=ve.getViewerPose(u||s),p=ve,c!==null){const xe=c.views;h!==null&&(e.setRenderTargetFramebuffer(A,h.framebuffer),e.setRenderTarget(A));let we=!1;xe.length!==O.cameras.length&&(O.cameras.length=0,we=!0);for(let pt=0;pt<xe.length;pt++){const te=xe[pt];let oe=null;if(h!==null)oe=h.getViewport(te);else{const le=f.getViewSubImage(d,te);oe=le.viewport,pt===0&&(e.setRenderTargetTextures(A,le.colorTexture,le.depthStencilTexture),e.setRenderTarget(A))}let ge=B[pt];ge===void 0&&(ge=new Ea,ge.layers.enable(pt),ge.viewport=new jr,B[pt]=ge),ge.matrix.fromArray(te.transform.matrix),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.projectionMatrix.fromArray(te.projectionMatrix),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert(),ge.viewport.set(oe.x,oe.y,oe.width,oe.height),pt===0&&(O.matrix.copy(ge.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),we===!0&&O.cameras.push(ge)}const Ae=i.enabledFeatures;if(Ae&&Ae.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&m){f=r.getBinding();const pt=f.getDepthInformation(xe[0]);pt&&pt.isValid&&pt.texture&&g.init(pt,i.renderState)}if(Ae&&Ae.includes("camera-access")&&m){e.state.unbindTexture(),f=r.getBinding();for(let pt=0;pt<xe.length;pt++){const te=xe[pt].camera;if(te){let oe=y[te];oe||(oe=new MG,y[te]=oe);const ge=f.getCameraImage(te);oe.sourceTexture=ge}}}}for(let xe=0;xe<M.length;xe++){const we=E[xe],Ae=M[xe];we!==null&&Ae!==void 0&&Ae.update(we,ve,u||s)}ee&&ee(ce,ve),ve.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ve}),p=null}const ne=new Yme;ne.setAnimationLoop(Q),this.setAnimationLoop=function(ce){ee=ce},this.dispose=function(){}}}const Ug=new Mu,Vht=new Yn;function Ght(n,e){function t(g,y){g.matrixAutoUpdate===!0&&g.updateMatrix(),y.value.copy(g.matrix)}function r(g,y){y.color.getRGB(g.fogColor.value,Wve(n)),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function i(g,y,_,S,A){y.isMeshBasicMaterial||y.isMeshLambertMaterial?a(g,y):y.isMeshToonMaterial?(a(g,y),f(g,y)):y.isMeshPhongMaterial?(a(g,y),c(g,y)):y.isMeshStandardMaterial?(a(g,y),d(g,y),y.isMeshPhysicalMaterial&&h(g,y,A)):y.isMeshMatcapMaterial?(a(g,y),p(g,y)):y.isMeshDepthMaterial?a(g,y):y.isMeshDistanceMaterial?(a(g,y),m(g,y)):y.isMeshNormalMaterial?a(g,y):y.isLineBasicMaterial?(s(g,y),y.isLineDashedMaterial&&o(g,y)):y.isPointsMaterial?l(g,y,_,S):y.isSpriteMaterial?u(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function a(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map,t(y.map,g.mapTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.bumpMap&&(g.bumpMap.value=y.bumpMap,t(y.bumpMap,g.bumpMapTransform),g.bumpScale.value=y.bumpScale,y.side===xl&&(g.bumpScale.value*=-1)),y.normalMap&&(g.normalMap.value=y.normalMap,t(y.normalMap,g.normalMapTransform),g.normalScale.value.copy(y.normalScale),y.side===xl&&g.normalScale.value.negate()),y.displacementMap&&(g.displacementMap.value=y.displacementMap,t(y.displacementMap,g.displacementMapTransform),g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap,t(y.emissiveMap,g.emissiveMapTransform)),y.specularMap&&(g.specularMap.value=y.specularMap,t(y.specularMap,g.specularMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);const _=e.get(y),S=_.envMap,A=_.envMapRotation;S&&(g.envMap.value=S,Ug.copy(A),Ug.x*=-1,Ug.y*=-1,Ug.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(Ug.y*=-1,Ug.z*=-1),g.envMapRotation.value.setFromMatrix4(Vht.makeRotationFromEuler(Ug)),g.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap&&(g.lightMap.value=y.lightMap,g.lightMapIntensity.value=y.lightMapIntensity,t(y.lightMap,g.lightMapTransform)),y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity,t(y.aoMap,g.aoMapTransform))}function s(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,y.map&&(g.map.value=y.map,t(y.map,g.mapTransform))}function o(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function l(g,y,_,S){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*_,g.scale.value=S*.5,y.map&&(g.map.value=y.map,t(y.map,g.uvTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest)}function u(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map,t(y.map,g.mapTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest)}function c(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function f(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function d(g,y){g.metalness.value=y.metalness,y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap,t(y.metalnessMap,g.metalnessMapTransform)),g.roughness.value=y.roughness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap,t(y.roughnessMap,g.roughnessMapTransform)),y.envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function h(g,y,_){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap,t(y.sheenColorMap,g.sheenColorMapTransform)),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap,t(y.sheenRoughnessMap,g.sheenRoughnessMapTransform))),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap,t(y.clearcoatMap,g.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,t(y.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(g.clearcoatNormalMap.value=y.clearcoatNormalMap,t(y.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===xl&&g.clearcoatNormalScale.value.negate())),y.dispersion>0&&(g.dispersion.value=y.dispersion),y.iridescence>0&&(g.iridescence.value=y.iridescence,g.iridescenceIOR.value=y.iridescenceIOR,g.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(g.iridescenceMap.value=y.iridescenceMap,t(y.iridescenceMap,g.iridescenceMapTransform)),y.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=y.iridescenceThicknessMap,t(y.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=_.texture,g.transmissionSamplerSize.value.set(_.width,_.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap,t(y.transmissionMap,g.transmissionMapTransform)),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap,t(y.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(g.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(g.anisotropyMap.value=y.anisotropyMap,t(y.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap,t(y.specularColorMap,g.specularColorMapTransform)),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap,t(y.specularIntensityMap,g.specularIntensityMapTransform))}function p(g,y){y.matcap&&(g.matcap.value=y.matcap)}function m(g,y){const _=e.get(y).light;g.referencePosition.value.setFromMatrixPosition(_.matrixWorld),g.nearDistance.value=_.shadow.camera.near,g.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Hht(n,e,t,r){let i={},a={},s=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,S){const A=S.program;r.uniformBlockBinding(_,A)}function u(_,S){let A=i[_.id];A===void 0&&(p(_),A=c(_),i[_.id]=A,_.addEventListener("dispose",g));const M=S.program;r.updateUBOMapping(_,M);const E=e.render.frame;a[_.id]!==E&&(d(_),a[_.id]=E)}function c(_){const S=f();_.__bindingPointIndex=S;const A=n.createBuffer(),M=_.__size,E=_.usage;return n.bindBuffer(n.UNIFORM_BUFFER,A),n.bufferData(n.UNIFORM_BUFFER,M,E),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,A),A}function f(){for(let _=0;_<o;_++)if(s.indexOf(_)===-1)return s.push(_),_;return Xn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const S=i[_.id],A=_.uniforms,M=_.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let E=0,D=A.length;E<D;E++){const I=Array.isArray(A[E])?A[E]:[A[E]];for(let N=0,L=I.length;N<L;N++){const B=I[N];if(h(B,E,N,M)===!0){const O=B.__offset,G=Array.isArray(B.value)?B.value:[B.value];let V=0;for(let q=0;q<G.length;q++){const W=G[q],Z=m(W);typeof W=="number"||typeof W=="boolean"?(B.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,O+V,B.__data)):W.isMatrix3?(B.__data[0]=W.elements[0],B.__data[1]=W.elements[1],B.__data[2]=W.elements[2],B.__data[3]=0,B.__data[4]=W.elements[3],B.__data[5]=W.elements[4],B.__data[6]=W.elements[5],B.__data[7]=0,B.__data[8]=W.elements[6],B.__data[9]=W.elements[7],B.__data[10]=W.elements[8],B.__data[11]=0):(W.toArray(B.__data,V),V+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,O,B.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function h(_,S,A,M){const E=_.value,D=S+"_"+A;if(M[D]===void 0)return typeof E=="number"||typeof E=="boolean"?M[D]=E:M[D]=E.clone(),!0;{const I=M[D];if(typeof E=="number"||typeof E=="boolean"){if(I!==E)return M[D]=E,!0}else if(I.equals(E)===!1)return I.copy(E),!0}return!1}function p(_){const S=_.uniforms;let A=0;const M=16;for(let D=0,I=S.length;D<I;D++){const N=Array.isArray(S[D])?S[D]:[S[D]];for(let L=0,B=N.length;L<B;L++){const O=N[L],G=Array.isArray(O.value)?O.value:[O.value];for(let V=0,q=G.length;V<q;V++){const W=G[V],Z=m(W),X=A%M,K=X%Z.boundary,se=X+K;A+=K,se!==0&&M-se<Z.storage&&(A+=M-se),O.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=A,A+=Z.storage}}}const E=A%M;return E>0&&(A+=M-E),_.__size=A,_.__cache={},this}function m(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?Qt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Qt("WebGLRenderer: Unsupported uniform value type.",_),S}function g(_){const S=_.target;S.removeEventListener("dispose",g);const A=s.indexOf(S.__bindingPointIndex);s.splice(A,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete a[S.id]}function y(){for(const _ in i)n.deleteBuffer(i[_]);s=[],i={},a={}}return{bind:l,update:u,dispose:y}}const jht=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let tp=null;function Wht(){return tp===null&&(tp=new Df(jht,32,32,JL,vx),tp.minFilter=Ra,tp.magFilter=Ra,tp.wrapS=Hl,tp.wrapT=Hl,tp.generateMipmaps=!1,tp.needsUpdate=!0),tp}class Jme{constructor(e={}){const{canvas:t=Gve(),context:r=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:d=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const p=new Set([eP,QL,xM]),m=new Set([Ec,Vp,Ib,kb,ZL,KL]),g=new Uint32Array(4),y=new Int32Array(4);let _=null,S=null;const A=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Yd,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const E=this;let D=!1;this._outputColorSpace=Ao;let I=0,N=0,L=null,B=-1,O=null;const G=new jr,V=new jr;let q=null;const W=new en(0);let Z=0,X=t.width,K=t.height,se=1,J=null,H=null;const ee=new jr(0,0,X,K),Q=new jr(0,0,X,K);let ne=!1;const ce=new AS;let ve=!1,xe=!1;const we=new Yn,Ae=new De,Ue=new jr,pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let pt=!1;function te(){return L===null?se:1}let oe=r;function ge(he,Re){return t.getContext(he,Re)}try{const he={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${gM}`),t.addEventListener("webglcontextlost",yt,!1),t.addEventListener("webglcontextrestored",vt,!1),t.addEventListener("webglcontextcreationerror",Ut,!1),oe===null){const Re="webgl2";if(oe=ge(Re,he),oe===null)throw ge(Re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(he){throw he("WebGLRenderer: "+he.message),he}let le,fe,be,Oe,Ve,Pe,me,ue,Ie,Ye,ot,We,zt,mt,Nt,Ht,Qe,bt,Yt,ke,Je,Et,Le,Dt;function Rt(){le=new tdt(oe),le.init(),Et=new $me(oe,le),fe=new Yft(oe,le,e,Et),be=new Pht(oe,le),fe.reversedDepthBuffer&&d&&be.buffers.depth.setReversed(!0),Oe=new idt(oe),Ve=new Sht,Pe=new Oht(oe,le,be,Ve,fe,Et,Oe),me=new Xft(E),ue=new edt(E),Ie=new lut(oe),Le=new jft(oe,Ie),Ye=new ndt(oe,Ie,Oe,Le),ot=new sdt(oe,Ye,Ie,Oe),Yt=new adt(oe,fe,Pe),Ht=new qft(Ve),We=new bht(E,me,ue,le,fe,Le,Ht),zt=new Ght(E,Ve),mt=new Tht,Nt=new Rht(le),bt=new Hft(E,me,ue,be,ot,h,l),Qe=new kht(E,ot,fe),Dt=new Hht(oe,Oe,fe,be),ke=new Wft(oe,le,Oe),Je=new rdt(oe,le,Oe),Oe.programs=We.programs,E.capabilities=fe,E.extensions=le,E.properties=Ve,E.renderLists=mt,E.shadowMap=Qe,E.state=be,E.info=Oe}Rt();const wt=new Uht(E,oe);this.xr=wt,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const he=le.get("WEBGL_lose_context");he&&he.loseContext()},this.forceContextRestore=function(){const he=le.get("WEBGL_lose_context");he&&he.restoreContext()},this.getPixelRatio=function(){return se},this.setPixelRatio=function(he){he!==void 0&&(se=he,this.setSize(X,K,!1))},this.getSize=function(he){return he.set(X,K)},this.setSize=function(he,Re,ze=!0){if(wt.isPresenting){Qt("WebGLRenderer: Can't change size while VR device is presenting.");return}X=he,K=Re,t.width=Math.floor(he*se),t.height=Math.floor(Re*se),ze===!0&&(t.style.width=he+"px",t.style.height=Re+"px"),this.setViewport(0,0,he,Re)},this.getDrawingBufferSize=function(he){return he.set(X*se,K*se).floor()},this.setDrawingBufferSize=function(he,Re,ze){X=he,K=Re,se=ze,t.width=Math.floor(he*ze),t.height=Math.floor(Re*ze),this.setViewport(0,0,he,Re)},this.getCurrentViewport=function(he){return he.copy(G)},this.getViewport=function(he){return he.copy(ee)},this.setViewport=function(he,Re,ze,He){he.isVector4?ee.set(he.x,he.y,he.z,he.w):ee.set(he,Re,ze,He),be.viewport(G.copy(ee).multiplyScalar(se).round())},this.getScissor=function(he){return he.copy(Q)},this.setScissor=function(he,Re,ze,He){he.isVector4?Q.set(he.x,he.y,he.z,he.w):Q.set(he,Re,ze,He),be.scissor(V.copy(Q).multiplyScalar(se).round())},this.getScissorTest=function(){return ne},this.setScissorTest=function(he){be.setScissorTest(ne=he)},this.setOpaqueSort=function(he){J=he},this.setTransparentSort=function(he){H=he},this.getClearColor=function(he){return he.copy(bt.getClearColor())},this.setClearColor=function(){bt.setClearColor(...arguments)},this.getClearAlpha=function(){return bt.getClearAlpha()},this.setClearAlpha=function(){bt.setClearAlpha(...arguments)},this.clear=function(he=!0,Re=!0,ze=!0){let He=0;if(he){let Ge=!1;if(L!==null){const At=L.texture.format;Ge=p.has(At)}if(Ge){const At=L.texture.type,Ft=m.has(At),qt=bt.getClearColor(),Kt=bt.getClearAlpha(),yn=qt.r,xn=qt.g,mn=qt.b;Ft?(g[0]=yn,g[1]=xn,g[2]=mn,g[3]=Kt,oe.clearBufferuiv(oe.COLOR,0,g)):(y[0]=yn,y[1]=xn,y[2]=mn,y[3]=Kt,oe.clearBufferiv(oe.COLOR,0,y))}else He|=oe.COLOR_BUFFER_BIT}Re&&(He|=oe.DEPTH_BUFFER_BIT),ze&&(He|=oe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),oe.clear(He)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",yt,!1),t.removeEventListener("webglcontextrestored",vt,!1),t.removeEventListener("webglcontextcreationerror",Ut,!1),bt.dispose(),mt.dispose(),Nt.dispose(),Ve.dispose(),me.dispose(),ue.dispose(),ot.dispose(),Le.dispose(),Dt.dispose(),We.dispose(),wt.dispose(),wt.removeEventListener("sessionstart",Li),wt.removeEventListener("sessionend",ga),mi.stop()};function yt(he){he.preventDefault(),bA("WebGLRenderer: Context Lost."),D=!0}function vt(){bA("WebGLRenderer: Context Restored."),D=!1;const he=Oe.autoReset,Re=Qe.enabled,ze=Qe.autoUpdate,He=Qe.needsUpdate,Ge=Qe.type;Rt(),Oe.autoReset=he,Qe.enabled=Re,Qe.autoUpdate=ze,Qe.needsUpdate=He,Qe.type=Ge}function Ut(he){Xn("WebGLRenderer: A WebGL context could not be created. Reason: ",he.statusMessage)}function Zt(he){const Re=he.target;Re.removeEventListener("dispose",Zt),Mn(Re)}function Mn(he){En(he),Ve.remove(he)}function En(he){const Re=Ve.get(he).programs;Re!==void 0&&(Re.forEach(function(ze){We.releaseProgram(ze)}),he.isShaderMaterial&&We.releaseShaderCache(he))}this.renderBufferDirect=function(he,Re,ze,He,Ge,At){Re===null&&(Re=pe);const Ft=Ge.isMesh&&Ge.matrixWorld.determinant()<0,qt=xt(he,Re,ze,He,Ge);be.setMaterial(He,Ft);let Kt=ze.index,yn=1;if(He.wireframe===!0){if(Kt=Ye.getWireframeAttribute(ze),Kt===void 0)return;yn=2}const xn=ze.drawRange,mn=ze.attributes.position;let In=xn.start*yn,Tr=(xn.start+xn.count)*yn;At!==null&&(In=Math.max(In,At.start*yn),Tr=Math.min(Tr,(At.start+At.count)*yn)),Kt!==null?(In=Math.max(In,0),Tr=Math.min(Tr,Kt.count)):mn!=null&&(In=Math.max(In,0),Tr=Math.min(Tr,mn.count));const Cr=Tr-In;if(Cr<0||Cr===1/0)return;Le.setup(Ge,He,qt,ze,Kt);let mr,qr=ke;if(Kt!==null&&(mr=Ie.get(Kt),qr=Je,qr.setIndex(mr)),Ge.isMesh)He.wireframe===!0?(be.setLineWidth(He.wireframeLinewidth*te()),qr.setMode(oe.LINES)):qr.setMode(oe.TRIANGLES);else if(Ge.isLine){let Dn=He.linewidth;Dn===void 0&&(Dn=1),be.setLineWidth(Dn*te()),Ge.isLineSegments?qr.setMode(oe.LINES):Ge.isLineLoop?qr.setMode(oe.LINE_LOOP):qr.setMode(oe.LINE_STRIP)}else Ge.isPoints?qr.setMode(oe.POINTS):Ge.isSprite&&qr.setMode(oe.TRIANGLES);if(Ge.isBatchedMesh)if(Ge._multiDrawInstances!==null)Fb("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),qr.renderMultiDrawInstances(Ge._multiDrawStarts,Ge._multiDrawCounts,Ge._multiDrawCount,Ge._multiDrawInstances);else if(le.get("WEBGL_multi_draw"))qr.renderMultiDraw(Ge._multiDrawStarts,Ge._multiDrawCounts,Ge._multiDrawCount);else{const Dn=Ge._multiDrawStarts,ii=Ge._multiDrawCounts,gr=Ge._multiDrawCount,na=Kt?Ie.get(Kt).bytesPerElement:1,Lc=Ve.get(He).currentProgram.getUniforms();for(let ui=0;ui<gr;ui++)Lc.setValue(oe,"_gl_DrawID",ui),qr.render(Dn[ui]/na,ii[ui])}else if(Ge.isInstancedMesh)qr.renderInstances(In,Cr,Ge.count);else if(ze.isInstancedBufferGeometry){const Dn=ze._maxInstanceCount!==void 0?ze._maxInstanceCount:1/0,ii=Math.min(ze.instanceCount,Dn);qr.renderInstances(In,Cr,ii)}else qr.render(In,Cr)};function Br(he,Re,ze){he.transparent===!0&&he.side===Ld&&he.forceSinglePass===!1?(he.side=xl,he.needsUpdate=!0,Ee(he,Re,ze),he.side=zp,he.needsUpdate=!0,Ee(he,Re,ze),he.side=Ld):Ee(he,Re,ze)}this.compile=function(he,Re,ze=null){ze===null&&(ze=he),S=Nt.get(ze),S.init(Re),M.push(S),ze.traverseVisible(function(Ge){Ge.isLight&&Ge.layers.test(Re.layers)&&(S.pushLight(Ge),Ge.castShadow&&S.pushShadow(Ge))}),he!==ze&&he.traverseVisible(function(Ge){Ge.isLight&&Ge.layers.test(Re.layers)&&(S.pushLight(Ge),Ge.castShadow&&S.pushShadow(Ge))}),S.setupLights();const He=new Set;return he.traverse(function(Ge){if(!(Ge.isMesh||Ge.isPoints||Ge.isLine||Ge.isSprite))return;const At=Ge.material;if(At)if(Array.isArray(At))for(let Ft=0;Ft<At.length;Ft++){const qt=At[Ft];Br(qt,ze,Ge),He.add(qt)}else Br(At,ze,Ge),He.add(At)}),S=M.pop(),He},this.compileAsync=function(he,Re,ze=null){const He=this.compile(he,Re,ze);return new Promise(Ge=>{function At(){if(He.forEach(function(Ft){Ve.get(Ft).currentProgram.isReady()&&He.delete(Ft)}),He.size===0){Ge(he);return}setTimeout(At,10)}le.get("KHR_parallel_shader_compile")!==null?At():setTimeout(At,10)})};let ur=null;function vs(he){ur&&ur(he)}function Li(){mi.stop()}function ga(){mi.start()}const mi=new Yme;mi.setAnimationLoop(vs),typeof self<"u"&&mi.setContext(self),this.setAnimationLoop=function(he){ur=he,wt.setAnimationLoop(he),he===null?mi.stop():mi.start()},wt.addEventListener("sessionstart",Li),wt.addEventListener("sessionend",ga),this.render=function(he,Re){if(Re!==void 0&&Re.isCamera!==!0){Xn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;if(he.matrixWorldAutoUpdate===!0&&he.updateMatrixWorld(),Re.parent===null&&Re.matrixWorldAutoUpdate===!0&&Re.updateMatrixWorld(),wt.enabled===!0&&wt.isPresenting===!0&&(wt.cameraAutoUpdate===!0&&wt.updateCamera(Re),Re=wt.getCamera()),he.isScene===!0&&he.onBeforeRender(E,he,Re,L),S=Nt.get(he,M.length),S.init(Re),M.push(S),we.multiplyMatrices(Re.projectionMatrix,Re.matrixWorldInverse),ce.setFromProjectionMatrix(we,Su,Re.reversedDepth),xe=this.localClippingEnabled,ve=Ht.init(this.clippingPlanes,xe),_=mt.get(he,A.length),_.init(),A.push(_),wt.enabled===!0&&wt.isPresenting===!0){const At=E.xr.getDepthSensingMesh();At!==null&&ms(At,Re,-1/0,E.sortObjects)}ms(he,Re,0,E.sortObjects),_.finish(),E.sortObjects===!0&&_.sort(J,H),pt=wt.enabled===!1||wt.isPresenting===!1||wt.hasDepthSensing()===!1,pt&&bt.addToRenderList(_,he),this.info.render.frame++,ve===!0&&Ht.beginShadows();const ze=S.state.shadowsArray;Qe.render(ze,he,Re),ve===!0&&Ht.endShadows(),this.info.autoReset===!0&&this.info.reset();const He=_.opaque,Ge=_.transmissive;if(S.setupLights(),Re.isArrayCamera){const At=Re.cameras;if(Ge.length>0)for(let Ft=0,qt=At.length;Ft<qt;Ft++){const Kt=At[Ft];Me(He,Ge,he,Kt)}pt&&bt.render(he);for(let Ft=0,qt=At.length;Ft<qt;Ft++){const Kt=At[Ft];ye(_,he,Kt,Kt.viewport)}}else Ge.length>0&&Me(He,Ge,he,Re),pt&&bt.render(he),ye(_,he,Re);L!==null&&N===0&&(Pe.updateMultisampleRenderTarget(L),Pe.updateRenderTargetMipmap(L)),he.isScene===!0&&he.onAfterRender(E,he,Re),Le.resetDefaultState(),B=-1,O=null,M.pop(),M.length>0?(S=M[M.length-1],ve===!0&&Ht.setGlobalState(E.clippingPlanes,S.state.camera)):S=null,A.pop(),A.length>0?_=A[A.length-1]:_=null};function ms(he,Re,ze,He){if(he.visible===!1)return;if(he.layers.test(Re.layers)){if(he.isGroup)ze=he.renderOrder;else if(he.isLOD)he.autoUpdate===!0&&he.update(Re);else if(he.isLight)S.pushLight(he),he.castShadow&&S.pushShadow(he);else if(he.isSprite){if(!he.frustumCulled||ce.intersectsSprite(he)){He&&Ue.setFromMatrixPosition(he.matrixWorld).applyMatrix4(we);const Ft=ot.update(he),qt=he.material;qt.visible&&_.push(he,Ft,qt,ze,Ue.z,null)}}else if((he.isMesh||he.isLine||he.isPoints)&&(!he.frustumCulled||ce.intersectsObject(he))){const Ft=ot.update(he),qt=he.material;if(He&&(he.boundingSphere!==void 0?(he.boundingSphere===null&&he.computeBoundingSphere(),Ue.copy(he.boundingSphere.center)):(Ft.boundingSphere===null&&Ft.computeBoundingSphere(),Ue.copy(Ft.boundingSphere.center)),Ue.applyMatrix4(he.matrixWorld).applyMatrix4(we)),Array.isArray(qt)){const Kt=Ft.groups;for(let yn=0,xn=Kt.length;yn<xn;yn++){const mn=Kt[yn],In=qt[mn.materialIndex];In&&In.visible&&_.push(he,Ft,In,ze,Ue.z,mn)}}else qt.visible&&_.push(he,Ft,qt,ze,Ue.z,null)}}const At=he.children;for(let Ft=0,qt=At.length;Ft<qt;Ft++)ms(At[Ft],Re,ze,He)}function ye(he,Re,ze,He){const{opaque:Ge,transmissive:At,transparent:Ft}=he;S.setupLightsView(ze),ve===!0&&Ht.setGlobalState(E.clippingPlanes,ze),He&&be.viewport(G.copy(He)),Ge.length>0&&Ce(Ge,Re,ze),At.length>0&&Ce(At,Re,ze),Ft.length>0&&Ce(Ft,Re,ze),be.buffers.depth.setTest(!0),be.buffers.depth.setMask(!0),be.buffers.color.setMask(!0),be.setPolygonOffset(!1)}function Me(he,Re,ze,He){if((ze.isScene===!0?ze.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[He.id]===void 0&&(S.state.transmissionRenderTarget[He.id]=new rh(1,1,{generateMipmaps:!0,type:le.has("EXT_color_buffer_half_float")||le.has("EXT_color_buffer_float")?vx:Ec,minFilter:Ud,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Pr.workingColorSpace}));const At=S.state.transmissionRenderTarget[He.id],Ft=He.viewport||G;At.setSize(Ft.z*E.transmissionResolutionScale,Ft.w*E.transmissionResolutionScale);const qt=E.getRenderTarget(),Kt=E.getActiveCubeFace(),yn=E.getActiveMipmapLevel();E.setRenderTarget(At),E.getClearColor(W),Z=E.getClearAlpha(),Z<1&&E.setClearColor(16777215,.5),E.clear(),pt&&bt.render(ze);const xn=E.toneMapping;E.toneMapping=Yd;const mn=He.viewport;if(He.viewport!==void 0&&(He.viewport=void 0),S.setupLightsView(He),ve===!0&&Ht.setGlobalState(E.clippingPlanes,He),Ce(he,ze,He),Pe.updateMultisampleRenderTarget(At),Pe.updateRenderTargetMipmap(At),le.has("WEBGL_multisampled_render_to_texture")===!1){let In=!1;for(let Tr=0,Cr=Re.length;Tr<Cr;Tr++){const mr=Re[Tr],{object:qr,geometry:Dn,material:ii,group:gr}=mr;if(ii.side===Ld&&qr.layers.test(He.layers)){const na=ii.side;ii.side=xl,ii.needsUpdate=!0,Te(qr,ze,He,Dn,ii,gr),ii.side=na,ii.needsUpdate=!0,In=!0}}In===!0&&(Pe.updateMultisampleRenderTarget(At),Pe.updateRenderTargetMipmap(At))}E.setRenderTarget(qt,Kt,yn),E.setClearColor(W,Z),mn!==void 0&&(He.viewport=mn),E.toneMapping=xn}function Ce(he,Re,ze){const He=Re.isScene===!0?Re.overrideMaterial:null;for(let Ge=0,At=he.length;Ge<At;Ge++){const Ft=he[Ge],{object:qt,geometry:Kt,group:yn}=Ft;let xn=Ft.material;xn.allowOverride===!0&&He!==null&&(xn=He),qt.layers.test(ze.layers)&&Te(qt,Re,ze,Kt,xn,yn)}}function Te(he,Re,ze,He,Ge,At){he.onBeforeRender(E,Re,ze,He,Ge,At),he.modelViewMatrix.multiplyMatrices(ze.matrixWorldInverse,he.matrixWorld),he.normalMatrix.getNormalMatrix(he.modelViewMatrix),Ge.onBeforeRender(E,Re,ze,He,he,At),Ge.transparent===!0&&Ge.side===Ld&&Ge.forceSinglePass===!1?(Ge.side=xl,Ge.needsUpdate=!0,E.renderBufferDirect(ze,Re,He,Ge,he,At),Ge.side=zp,Ge.needsUpdate=!0,E.renderBufferDirect(ze,Re,He,Ge,he,At),Ge.side=Ld):E.renderBufferDirect(ze,Re,He,Ge,he,At),he.onAfterRender(E,Re,ze,He,Ge,At)}function Ee(he,Re,ze){Re.isScene!==!0&&(Re=pe);const He=Ve.get(he),Ge=S.state.lights,At=S.state.shadowsArray,Ft=Ge.state.version,qt=We.getParameters(he,Ge.state,At,Re,ze),Kt=We.getProgramCacheKey(qt);let yn=He.programs;He.environment=he.isMeshStandardMaterial?Re.environment:null,He.fog=Re.fog,He.envMap=(he.isMeshStandardMaterial?ue:me).get(he.envMap||He.environment),He.envMapRotation=He.environment!==null&&he.envMap===null?Re.environmentRotation:he.envMapRotation,yn===void 0&&(he.addEventListener("dispose",Zt),yn=new Map,He.programs=yn);let xn=yn.get(Kt);if(xn!==void 0){if(He.currentProgram===xn&&He.lightsStateVersion===Ft)return et(he,qt),xn}else qt.uniforms=We.getUniforms(he),he.onBeforeCompile(qt,E),xn=We.acquireProgram(qt,Kt),yn.set(Kt,xn),He.uniforms=qt.uniforms;const mn=He.uniforms;return(!he.isShaderMaterial&&!he.isRawShaderMaterial||he.clipping===!0)&&(mn.clippingPlanes=Ht.uniform),et(he,qt),He.needsLights=rt(he),He.lightsStateVersion=Ft,He.needsLights&&(mn.ambientLightColor.value=Ge.state.ambient,mn.lightProbe.value=Ge.state.probe,mn.directionalLights.value=Ge.state.directional,mn.directionalLightShadows.value=Ge.state.directionalShadow,mn.spotLights.value=Ge.state.spot,mn.spotLightShadows.value=Ge.state.spotShadow,mn.rectAreaLights.value=Ge.state.rectArea,mn.ltc_1.value=Ge.state.rectAreaLTC1,mn.ltc_2.value=Ge.state.rectAreaLTC2,mn.pointLights.value=Ge.state.point,mn.pointLightShadows.value=Ge.state.pointShadow,mn.hemisphereLights.value=Ge.state.hemi,mn.directionalShadowMap.value=Ge.state.directionalShadowMap,mn.directionalShadowMatrix.value=Ge.state.directionalShadowMatrix,mn.spotShadowMap.value=Ge.state.spotShadowMap,mn.spotLightMatrix.value=Ge.state.spotLightMatrix,mn.spotLightMap.value=Ge.state.spotLightMap,mn.pointShadowMap.value=Ge.state.pointShadowMap,mn.pointShadowMatrix.value=Ge.state.pointShadowMatrix),He.currentProgram=xn,He.uniformsList=null,xn}function Ne(he){if(he.uniformsList===null){const Re=he.currentProgram.getUniforms();he.uniformsList=nN.seqWithValue(Re.seq,he.uniforms)}return he.uniformsList}function et(he,Re){const ze=Ve.get(he);ze.outputColorSpace=Re.outputColorSpace,ze.batching=Re.batching,ze.batchingColor=Re.batchingColor,ze.instancing=Re.instancing,ze.instancingColor=Re.instancingColor,ze.instancingMorph=Re.instancingMorph,ze.skinning=Re.skinning,ze.morphTargets=Re.morphTargets,ze.morphNormals=Re.morphNormals,ze.morphColors=Re.morphColors,ze.morphTargetsCount=Re.morphTargetsCount,ze.numClippingPlanes=Re.numClippingPlanes,ze.numIntersection=Re.numClipIntersection,ze.vertexAlphas=Re.vertexAlphas,ze.vertexTangents=Re.vertexTangents,ze.toneMapping=Re.toneMapping}function xt(he,Re,ze,He,Ge){Re.isScene!==!0&&(Re=pe),Pe.resetTextureUnits();const At=Re.fog,Ft=He.isMeshStandardMaterial?Re.environment:null,qt=L===null?E.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:Wv,Kt=(He.isMeshStandardMaterial?ue:me).get(He.envMap||Ft),yn=He.vertexColors===!0&&!!ze.attributes.color&&ze.attributes.color.itemSize===4,xn=!!ze.attributes.tangent&&(!!He.normalMap||He.anisotropy>0),mn=!!ze.morphAttributes.position,In=!!ze.morphAttributes.normal,Tr=!!ze.morphAttributes.color;let Cr=Yd;He.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(Cr=E.toneMapping);const mr=ze.morphAttributes.position||ze.morphAttributes.normal||ze.morphAttributes.color,qr=mr!==void 0?mr.length:0,Dn=Ve.get(He),ii=S.state.lights;if(ve===!0&&(xe===!0||he!==O)){const _a=he===O&&He.id===B;Ht.setState(He,he,_a)}let gr=!1;He.version===Dn.__version?(Dn.needsLights&&Dn.lightsStateVersion!==ii.state.version||Dn.outputColorSpace!==qt||Ge.isBatchedMesh&&Dn.batching===!1||!Ge.isBatchedMesh&&Dn.batching===!0||Ge.isBatchedMesh&&Dn.batchingColor===!0&&Ge.colorTexture===null||Ge.isBatchedMesh&&Dn.batchingColor===!1&&Ge.colorTexture!==null||Ge.isInstancedMesh&&Dn.instancing===!1||!Ge.isInstancedMesh&&Dn.instancing===!0||Ge.isSkinnedMesh&&Dn.skinning===!1||!Ge.isSkinnedMesh&&Dn.skinning===!0||Ge.isInstancedMesh&&Dn.instancingColor===!0&&Ge.instanceColor===null||Ge.isInstancedMesh&&Dn.instancingColor===!1&&Ge.instanceColor!==null||Ge.isInstancedMesh&&Dn.instancingMorph===!0&&Ge.morphTexture===null||Ge.isInstancedMesh&&Dn.instancingMorph===!1&&Ge.morphTexture!==null||Dn.envMap!==Kt||He.fog===!0&&Dn.fog!==At||Dn.numClippingPlanes!==void 0&&(Dn.numClippingPlanes!==Ht.numPlanes||Dn.numIntersection!==Ht.numIntersection)||Dn.vertexAlphas!==yn||Dn.vertexTangents!==xn||Dn.morphTargets!==mn||Dn.morphNormals!==In||Dn.morphColors!==Tr||Dn.toneMapping!==Cr||Dn.morphTargetsCount!==qr)&&(gr=!0):(gr=!0,Dn.__version=He.version);let na=Dn.currentProgram;gr===!0&&(na=Ee(He,Re,Ge));let Lc=!1,ui=!1,Iu=!1;const ci=na.getUniforms(),ya=Dn.uniforms;if(be.useProgram(na.program)&&(Lc=!0,ui=!0,Iu=!0),He.id!==B&&(B=He.id,ui=!0),Lc||O!==he){be.buffers.depth.getReversed()&&he.reversedDepth!==!0&&(he._reversedDepth=!0,he.updateProjectionMatrix()),ci.setValue(oe,"projectionMatrix",he.projectionMatrix),ci.setValue(oe,"viewMatrix",he.matrixWorldInverse);const Pi=ci.map.cameraPosition;Pi!==void 0&&Pi.setValue(oe,Ae.setFromMatrixPosition(he.matrixWorld)),fe.logarithmicDepthBuffer&&ci.setValue(oe,"logDepthBufFC",2/(Math.log(he.far+1)/Math.LN2)),(He.isMeshPhongMaterial||He.isMeshToonMaterial||He.isMeshLambertMaterial||He.isMeshBasicMaterial||He.isMeshStandardMaterial||He.isShaderMaterial)&&ci.setValue(oe,"isOrthographic",he.isOrthographicCamera===!0),O!==he&&(O=he,ui=!0,Iu=!0)}if(Ge.isSkinnedMesh){ci.setOptional(oe,Ge,"bindMatrix"),ci.setOptional(oe,Ge,"bindMatrixInverse");const _a=Ge.skeleton;_a&&(_a.boneTexture===null&&_a.computeBoneTexture(),ci.setValue(oe,"boneTexture",_a.boneTexture,Pe))}Ge.isBatchedMesh&&(ci.setOptional(oe,Ge,"batchingTexture"),ci.setValue(oe,"batchingTexture",Ge._matricesTexture,Pe),ci.setOptional(oe,Ge,"batchingIdTexture"),ci.setValue(oe,"batchingIdTexture",Ge._indirectTexture,Pe),ci.setOptional(oe,Ge,"batchingColorTexture"),Ge._colorsTexture!==null&&ci.setValue(oe,"batchingColorTexture",Ge._colorsTexture,Pe));const xa=ze.morphAttributes;if((xa.position!==void 0||xa.normal!==void 0||xa.color!==void 0)&&Yt.update(Ge,ze,na),(ui||Dn.receiveShadow!==Ge.receiveShadow)&&(Dn.receiveShadow=Ge.receiveShadow,ci.setValue(oe,"receiveShadow",Ge.receiveShadow)),He.isMeshGouraudMaterial&&He.envMap!==null&&(ya.envMap.value=Kt,ya.flipEnvMap.value=Kt.isCubeTexture&&Kt.isRenderTargetTexture===!1?-1:1),He.isMeshStandardMaterial&&He.envMap===null&&Re.environment!==null&&(ya.envMapIntensity.value=Re.environmentIntensity),ya.dfgLUT!==void 0&&(ya.dfgLUT.value=Wht()),ui&&(ci.setValue(oe,"toneMappingExposure",E.toneMappingExposure),Dn.needsLights&&tt(ya,Iu),At&&He.fog===!0&&zt.refreshFogUniforms(ya,At),zt.refreshMaterialUniforms(ya,He,se,K,S.state.transmissionRenderTarget[he.id]),nN.upload(oe,Ne(Dn),ya,Pe)),He.isShaderMaterial&&He.uniformsNeedUpdate===!0&&(nN.upload(oe,Ne(Dn),ya,Pe),He.uniformsNeedUpdate=!1),He.isSpriteMaterial&&ci.setValue(oe,"center",Ge.center),ci.setValue(oe,"modelViewMatrix",Ge.modelViewMatrix),ci.setValue(oe,"normalMatrix",Ge.normalMatrix),ci.setValue(oe,"modelMatrix",Ge.matrixWorld),He.isShaderMaterial||He.isRawShaderMaterial){const _a=He.uniformsGroups;for(let Pi=0,Kl=_a.length;Pi<Kl;Pi++){const Cl=_a[Pi];Dt.update(Cl,na),Dt.bind(Cl,na)}}return na}function tt(he,Re){he.ambientLightColor.needsUpdate=Re,he.lightProbe.needsUpdate=Re,he.directionalLights.needsUpdate=Re,he.directionalLightShadows.needsUpdate=Re,he.pointLights.needsUpdate=Re,he.pointLightShadows.needsUpdate=Re,he.spotLights.needsUpdate=Re,he.spotLightShadows.needsUpdate=Re,he.rectAreaLights.needsUpdate=Re,he.hemisphereLights.needsUpdate=Re}function rt(he){return he.isMeshLambertMaterial||he.isMeshToonMaterial||he.isMeshPhongMaterial||he.isMeshStandardMaterial||he.isShadowMaterial||he.isShaderMaterial&&he.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(he,Re,ze){const He=Ve.get(he);He.__autoAllocateDepthBuffer=he.resolveDepthBuffer===!1,He.__autoAllocateDepthBuffer===!1&&(He.__useRenderToTexture=!1),Ve.get(he.texture).__webglTexture=Re,Ve.get(he.depthTexture).__webglTexture=He.__autoAllocateDepthBuffer?void 0:ze,He.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(he,Re){const ze=Ve.get(he);ze.__webglFramebuffer=Re,ze.__useDefaultFramebuffer=Re===void 0};const st=oe.createFramebuffer();this.setRenderTarget=function(he,Re=0,ze=0){L=he,I=Re,N=ze;let He=!0,Ge=null,At=!1,Ft=!1;if(he){const Kt=Ve.get(he);if(Kt.__useDefaultFramebuffer!==void 0)be.bindFramebuffer(oe.FRAMEBUFFER,null),He=!1;else if(Kt.__webglFramebuffer===void 0)Pe.setupRenderTarget(he);else if(Kt.__hasExternalTextures)Pe.rebindTextures(he,Ve.get(he.texture).__webglTexture,Ve.get(he.depthTexture).__webglTexture);else if(he.depthBuffer){const mn=he.depthTexture;if(Kt.__boundDepthTexture!==mn){if(mn!==null&&Ve.has(mn)&&(he.width!==mn.image.width||he.height!==mn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Pe.setupDepthRenderbuffer(he)}}const yn=he.texture;(yn.isData3DTexture||yn.isDataArrayTexture||yn.isCompressedArrayTexture)&&(Ft=!0);const xn=Ve.get(he).__webglFramebuffer;he.isWebGLCubeRenderTarget?(Array.isArray(xn[Re])?Ge=xn[Re][ze]:Ge=xn[Re],At=!0):he.samples>0&&Pe.useMultisampledRTT(he)===!1?Ge=Ve.get(he).__webglMultisampledFramebuffer:Array.isArray(xn)?Ge=xn[ze]:Ge=xn,G.copy(he.viewport),V.copy(he.scissor),q=he.scissorTest}else G.copy(ee).multiplyScalar(se).floor(),V.copy(Q).multiplyScalar(se).floor(),q=ne;if(ze!==0&&(Ge=st),be.bindFramebuffer(oe.FRAMEBUFFER,Ge)&&He&&be.drawBuffers(he,Ge),be.viewport(G),be.scissor(V),be.setScissorTest(q),At){const Kt=Ve.get(he.texture);oe.framebufferTexture2D(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Kt.__webglTexture,ze)}else if(Ft){const Kt=Re;for(let yn=0;yn<he.textures.length;yn++){const xn=Ve.get(he.textures[yn]);oe.framebufferTextureLayer(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0+yn,xn.__webglTexture,ze,Kt)}}else if(he!==null&&ze!==0){const Kt=Ve.get(he.texture);oe.framebufferTexture2D(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_2D,Kt.__webglTexture,ze)}B=-1},this.readRenderTargetPixels=function(he,Re,ze,He,Ge,At,Ft,qt=0){if(!(he&&he.isWebGLRenderTarget)){Xn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Kt=Ve.get(he).__webglFramebuffer;if(he.isWebGLCubeRenderTarget&&Ft!==void 0&&(Kt=Kt[Ft]),Kt){be.bindFramebuffer(oe.FRAMEBUFFER,Kt);try{const yn=he.textures[qt],xn=yn.format,mn=yn.type;if(!fe.textureFormatReadable(xn)){Xn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!fe.textureTypeReadable(mn)){Xn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Re>=0&&Re<=he.width-He&&ze>=0&&ze<=he.height-Ge&&(he.textures.length>1&&oe.readBuffer(oe.COLOR_ATTACHMENT0+qt),oe.readPixels(Re,ze,He,Ge,Et.convert(xn),Et.convert(mn),At))}finally{const yn=L!==null?Ve.get(L).__webglFramebuffer:null;be.bindFramebuffer(oe.FRAMEBUFFER,yn)}}},this.readRenderTargetPixelsAsync=async function(he,Re,ze,He,Ge,At,Ft,qt=0){if(!(he&&he.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Kt=Ve.get(he).__webglFramebuffer;if(he.isWebGLCubeRenderTarget&&Ft!==void 0&&(Kt=Kt[Ft]),Kt)if(Re>=0&&Re<=he.width-He&&ze>=0&&ze<=he.height-Ge){be.bindFramebuffer(oe.FRAMEBUFFER,Kt);const yn=he.textures[qt],xn=yn.format,mn=yn.type;if(!fe.textureFormatReadable(xn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!fe.textureTypeReadable(mn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const In=oe.createBuffer();oe.bindBuffer(oe.PIXEL_PACK_BUFFER,In),oe.bufferData(oe.PIXEL_PACK_BUFFER,At.byteLength,oe.STREAM_READ),he.textures.length>1&&oe.readBuffer(oe.COLOR_ATTACHMENT0+qt),oe.readPixels(Re,ze,He,Ge,Et.convert(xn),Et.convert(mn),0);const Tr=L!==null?Ve.get(L).__webglFramebuffer:null;be.bindFramebuffer(oe.FRAMEBUFFER,Tr);const Cr=oe.fenceSync(oe.SYNC_GPU_COMMANDS_COMPLETE,0);return oe.flush(),await ust(oe,Cr,4),oe.bindBuffer(oe.PIXEL_PACK_BUFFER,In),oe.getBufferSubData(oe.PIXEL_PACK_BUFFER,0,At),oe.deleteBuffer(In),oe.deleteSync(Cr),At}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(he,Re=null,ze=0){const He=Math.pow(2,-ze),Ge=Math.floor(he.image.width*He),At=Math.floor(he.image.height*He),Ft=Re!==null?Re.x:0,qt=Re!==null?Re.y:0;Pe.setTexture2D(he,0),oe.copyTexSubImage2D(oe.TEXTURE_2D,ze,0,0,Ft,qt,Ge,At),be.unbindTexture()};const It=oe.createFramebuffer(),Pt=oe.createFramebuffer();this.copyTextureToTexture=function(he,Re,ze=null,He=null,Ge=0,At=null){At===null&&(Ge!==0?(Fb("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),At=Ge,Ge=0):At=0);let Ft,qt,Kt,yn,xn,mn,In,Tr,Cr;const mr=he.isCompressedTexture?he.mipmaps[At]:he.image;if(ze!==null)Ft=ze.max.x-ze.min.x,qt=ze.max.y-ze.min.y,Kt=ze.isBox3?ze.max.z-ze.min.z:1,yn=ze.min.x,xn=ze.min.y,mn=ze.isBox3?ze.min.z:0;else{const xa=Math.pow(2,-Ge);Ft=Math.floor(mr.width*xa),qt=Math.floor(mr.height*xa),he.isDataArrayTexture?Kt=mr.depth:he.isData3DTexture?Kt=Math.floor(mr.depth*xa):Kt=1,yn=0,xn=0,mn=0}He!==null?(In=He.x,Tr=He.y,Cr=He.z):(In=0,Tr=0,Cr=0);const qr=Et.convert(Re.format),Dn=Et.convert(Re.type);let ii;Re.isData3DTexture?(Pe.setTexture3D(Re,0),ii=oe.TEXTURE_3D):Re.isDataArrayTexture||Re.isCompressedArrayTexture?(Pe.setTexture2DArray(Re,0),ii=oe.TEXTURE_2D_ARRAY):(Pe.setTexture2D(Re,0),ii=oe.TEXTURE_2D),oe.pixelStorei(oe.UNPACK_FLIP_Y_WEBGL,Re.flipY),oe.pixelStorei(oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Re.premultiplyAlpha),oe.pixelStorei(oe.UNPACK_ALIGNMENT,Re.unpackAlignment);const gr=oe.getParameter(oe.UNPACK_ROW_LENGTH),na=oe.getParameter(oe.UNPACK_IMAGE_HEIGHT),Lc=oe.getParameter(oe.UNPACK_SKIP_PIXELS),ui=oe.getParameter(oe.UNPACK_SKIP_ROWS),Iu=oe.getParameter(oe.UNPACK_SKIP_IMAGES);oe.pixelStorei(oe.UNPACK_ROW_LENGTH,mr.width),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,mr.height),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,yn),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,xn),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,mn);const ci=he.isDataArrayTexture||he.isData3DTexture,ya=Re.isDataArrayTexture||Re.isData3DTexture;if(he.isDepthTexture){const xa=Ve.get(he),_a=Ve.get(Re),Pi=Ve.get(xa.__renderTarget),Kl=Ve.get(_a.__renderTarget);be.bindFramebuffer(oe.READ_FRAMEBUFFER,Pi.__webglFramebuffer),be.bindFramebuffer(oe.DRAW_FRAMEBUFFER,Kl.__webglFramebuffer);for(let Cl=0;Cl<Kt;Cl++)ci&&(oe.framebufferTextureLayer(oe.READ_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,Ve.get(he).__webglTexture,Ge,mn+Cl),oe.framebufferTextureLayer(oe.DRAW_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,Ve.get(Re).__webglTexture,At,Cr+Cl)),oe.blitFramebuffer(yn,xn,Ft,qt,In,Tr,Ft,qt,oe.DEPTH_BUFFER_BIT,oe.NEAREST);be.bindFramebuffer(oe.READ_FRAMEBUFFER,null),be.bindFramebuffer(oe.DRAW_FRAMEBUFFER,null)}else if(Ge!==0||he.isRenderTargetTexture||Ve.has(he)){const xa=Ve.get(he),_a=Ve.get(Re);be.bindFramebuffer(oe.READ_FRAMEBUFFER,It),be.bindFramebuffer(oe.DRAW_FRAMEBUFFER,Pt);for(let Pi=0;Pi<Kt;Pi++)ci?oe.framebufferTextureLayer(oe.READ_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,xa.__webglTexture,Ge,mn+Pi):oe.framebufferTexture2D(oe.READ_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_2D,xa.__webglTexture,Ge),ya?oe.framebufferTextureLayer(oe.DRAW_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,_a.__webglTexture,At,Cr+Pi):oe.framebufferTexture2D(oe.DRAW_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_2D,_a.__webglTexture,At),Ge!==0?oe.blitFramebuffer(yn,xn,Ft,qt,In,Tr,Ft,qt,oe.COLOR_BUFFER_BIT,oe.NEAREST):ya?oe.copyTexSubImage3D(ii,At,In,Tr,Cr+Pi,yn,xn,Ft,qt):oe.copyTexSubImage2D(ii,At,In,Tr,yn,xn,Ft,qt);be.bindFramebuffer(oe.READ_FRAMEBUFFER,null),be.bindFramebuffer(oe.DRAW_FRAMEBUFFER,null)}else ya?he.isDataTexture||he.isData3DTexture?oe.texSubImage3D(ii,At,In,Tr,Cr,Ft,qt,Kt,qr,Dn,mr.data):Re.isCompressedArrayTexture?oe.compressedTexSubImage3D(ii,At,In,Tr,Cr,Ft,qt,Kt,qr,mr.data):oe.texSubImage3D(ii,At,In,Tr,Cr,Ft,qt,Kt,qr,Dn,mr):he.isDataTexture?oe.texSubImage2D(oe.TEXTURE_2D,At,In,Tr,Ft,qt,qr,Dn,mr.data):he.isCompressedTexture?oe.compressedTexSubImage2D(oe.TEXTURE_2D,At,In,Tr,mr.width,mr.height,qr,mr.data):oe.texSubImage2D(oe.TEXTURE_2D,At,In,Tr,Ft,qt,qr,Dn,mr);oe.pixelStorei(oe.UNPACK_ROW_LENGTH,gr),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,na),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,Lc),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,ui),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,Iu),At===0&&Re.generateMipmaps&&oe.generateMipmap(ii),be.unbindTexture()},this.initRenderTarget=function(he){Ve.get(he).__webglFramebuffer===void 0&&Pe.setupRenderTarget(he)},this.initTexture=function(he){he.isCubeTexture?Pe.setTextureCube(he,0):he.isData3DTexture?Pe.setTexture3D(he,0):he.isDataArrayTexture||he.isCompressedArrayTexture?Pe.setTexture2DArray(he,0):Pe.setTexture2D(he,0),be.unbindTexture()},this.resetState=function(){I=0,N=0,L=null,be.reset(),Le.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Su}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Pr._getDrawingBufferColorSpace(e),t.unpackColorSpace=Pr._getUnpackColorSpace()}}const Yht=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:lG,AddEquation:lv,AddOperation:_ve,AdditiveAnimationBlendMode:mG,AdditiveBlending:fA,AgXToneMapping:Cve,AlphaFormat:pG,AlwaysCompare:Uve,AlwaysDepth:qI,AlwaysStencilFunc:Bz,AmbientLight:Lme,AnimationAction:Hme,AnimationClip:MA,AnimationLoader:Qot,AnimationMixer:Elt,AnimationObjectGroup:Alt,AnimationUtils:Zot,ArcCurve:ame,ArrayCamera:Ume,ArrowHelper:Qlt,AttachedBindMode:Fz,Audio:Vme,AudioAnalyser:mlt,AudioContext:GG,AudioListener:hlt,AudioLoader:clt,AxesHelper:eut,BackSide:xl,BasicDepthPacking:Nve,BasicShadowMap:eve,BatchedMesh:eme,Bone:TG,BooleanKeyframeTrack:yx,Box2:Flt,Box3:Fo,Box3Helper:$lt,BoxGeometry:gx,BoxHelper:Klt,BufferAttribute:bi,BufferGeometry:sr,BufferGeometryLoader:zme,ByteType:cG,Cache:Vd,Camera:iP,CameraHelper:Zlt,CanvasTexture:yot,CapsuleGeometry:fP,CatmullRomCurve3:sme,CineonToneMapping:wve,CircleGeometry:dP,ClampToEdgeWrapping:Hl,Clock:HG,Color:en,ColorKeyframeTrack:zG,ColorManagement:Pr,CompressedArrayTexture:mot,CompressedCubeTexture:got,CompressedTexture:cP,CompressedTextureLoader:elt,ConeGeometry:SM,ConstantAlphaFactor:gve,ConstantColorFactor:vve,Controls:nut,CubeCamera:qve,CubeReflectionMapping:Up,CubeRefractionMapping:jv,CubeTexture:_M,CubeTextureLoader:tlt,CubeUVReflectionMapping:CS,CubicBezierCurve:DG,CubicBezierCurve3:ome,CubicInterpolant:Ame,CullFaceBack:Lz,CullFaceFront:Q0e,CullFaceFrontBack:wat,CullFaceNone:J0e,Curve:Bf,CurvePath:ume,CustomBlending:tve,CustomToneMapping:Tve,CylinderGeometry:bM,Cylindrical:Olt,Data3DTexture:rP,DataArrayTexture:nP,DataTexture:Df,DataTextureLoader:nlt,DataUtils:Vst,DecrementStencilOp:Fat,DecrementWrapStencilOp:zat,DefaultLoadingManager:Dme,DepthFormat:Lb,DepthStencilFormat:Pb,DepthTexture:AG,DetachedBindMode:Mve,DirectionalLight:kme,DirectionalLightHelper:Xlt,DiscreteInterpolant:Mme,DodecahedronGeometry:hP,DoubleSide:Ld,DstAlphaFactor:cve,DstColorFactor:dve,DynamicCopyUsage:est,DynamicDrawUsage:Xat,DynamicReadUsage:$at,EdgesGeometry:ime,EllipseCurve:pP,EqualCompare:Ove,EqualDepth:ZI,EqualStencilFunc:Hat,EquirectangularReflectionMapping:dA,EquirectangularRefractionMapping:hA,Euler:Mu,EventDispatcher:uh,ExternalTexture:MG,ExtrudeGeometry:vP,FileLoader:Gp,Float16BufferAttribute:Xst,Float32BufferAttribute:vn,FloatType:jl,Fog:sP,FogExp2:aP,FramebufferTexture:vot,FrontSide:zp,Frustum:AS,FrustumArray:uP,GLBufferAttribute:klt,GLSL1:nst,GLSL3:zz,GreaterCompare:Fve,GreaterDepth:$I,GreaterEqualCompare:zve,GreaterEqualDepth:KI,GreaterEqualStencilFunc:qat,GreaterStencilFunc:Wat,GridHelper:Ylt,Group:G_,HalfFloatType:vx,HemisphereLight:Rme,HemisphereLightHelper:Wlt,IcosahedronGeometry:mP,ImageBitmapLoader:ult,ImageLoader:EA,ImageUtils:Hve,IncrementStencilOp:Oat,IncrementWrapStencilOp:Bat,InstancedBufferAttribute:Vb,InstancedBufferGeometry:Bme,InstancedInterleavedBuffer:Ilt,InstancedMesh:Qve,Int16BufferAttribute:Yst,Int32BufferAttribute:qst,Int8BufferAttribute:Hst,IntType:XL,InterleavedBuffer:oP,InterleavedBufferAttribute:Xy,Interpolant:CM,InterpolateDiscrete:mA,InterpolateLinear:Mk,InterpolateSmooth:eN,InterpolationSamplingMode:ast,InterpolationSamplingType:ist,InvertStencilOp:Uat,KeepStencilOp:$g,KeyframeTrack:kc,LOD:$ve,LatheGeometry:gP,Layers:zb,LessCompare:Pve,LessDepth:XI,LessEqualCompare:gG,LessEqualDepth:qy,LessEqualStencilFunc:jat,LessStencilFunc:Gat,Light:om,LightProbe:Fme,Line:qv,Line3:Ult,LineBasicMaterial:Tl,LineCurve:RG,LineCurve3:lme,LineDashedMaterial:wme,LineLoop:tme,LineSegments:ch,LinearFilter:Ra,LinearInterpolant:BG,LinearMipMapLinearFilter:Mat,LinearMipMapNearestFilter:Aat,LinearMipmapLinearFilter:Ud,LinearMipmapNearestFilter:iC,LinearSRGBColorSpace:Wv,LinearToneMapping:bve,LinearTransfer:yA,Loader:Zl,LoaderUtils:jz,LoadingManager:UG,LoopOnce:Eve,LoopPingPong:Rve,LoopRepeat:Dve,MOUSE:Zg,Material:Vo,MaterialLoader:TP,MathUtils:Ast,Matrix2:qG,Matrix3:ar,Matrix4:Yn,MaxEquation:ave,Mesh:fs,MeshBasicMaterial:am,MeshDepthMaterial:PG,MeshDistanceMaterial:OG,MeshLambertMaterial:bme,MeshMatcapMaterial:Sme,MeshNormalMaterial:_me,MeshPhongMaterial:yme,MeshPhysicalMaterial:gme,MeshStandardMaterial:LG,MeshToonMaterial:xme,MinEquation:ive,MirroredRepeatWrapping:vA,MixOperation:xve,MultiplyBlending:Oz,MultiplyOperation:yM,NearestFilter:Js,NearestMipMapLinearFilter:Cat,NearestMipMapNearestFilter:Tat,NearestMipmapLinearFilter:U_,NearestMipmapNearestFilter:uG,NeutralToneMapping:Ave,NeverCompare:Lve,NeverDepth:YI,NeverStencilFunc:Vat,NoBlending:Wd,NoColorSpace:sp,NoToneMapping:Yd,NormalAnimationBlendMode:tP,NormalBlending:My,NotEqualCompare:Bve,NotEqualDepth:JI,NotEqualStencilFunc:Yat,NumberKeyframeTrack:CA,Object3D:Vr,ObjectLoader:olt,ObjectSpaceNormalMap:kve,OctahedronGeometry:wM,OneFactor:ove,OneMinusConstantAlphaFactor:yve,OneMinusConstantColorFactor:mve,OneMinusDstAlphaFactor:fve,OneMinusDstColorFactor:hve,OneMinusSrcAlphaFactor:WI,OneMinusSrcColorFactor:uve,OrthographicCamera:kv,PCFShadowMap:YL,PCFSoftShadowMap:rC,PMREMGenerator:qz,Path:Nk,PerspectiveCamera:Ea,Plane:ip,PlaneGeometry:MS,PlaneHelper:Jlt,PointLight:Ime,PointLightHelper:Hlt,Points:nme,PointsMaterial:CG,PolarGridHelper:qlt,PolyhedronGeometry:sm,PositionalAudio:vlt,PropertyBinding:Hr,PropertyMixer:Gme,QuadraticBezierCurve:NG,QuadraticBezierCurve3:IG,Quaternion:Oo,QuaternionKeyframeTrack:AM,QuaternionLinearInterpolant:Eme,RED_GREEN_RGTC2_Format:Ck,RED_RGTC1_Format:wk,REVISION:gM,RGBADepthPacking:Ive,RGBAFormat:No,RGBAIntegerFormat:eP,RGBA_ASTC_10x10_Format:gk,RGBA_ASTC_10x5_Format:pk,RGBA_ASTC_10x6_Format:vk,RGBA_ASTC_10x8_Format:mk,RGBA_ASTC_12x10_Format:yk,RGBA_ASTC_12x12_Format:xk,RGBA_ASTC_4x4_Format:sk,RGBA_ASTC_5x4_Format:ok,RGBA_ASTC_5x5_Format:lk,RGBA_ASTC_6x5_Format:uk,RGBA_ASTC_6x6_Format:ck,RGBA_ASTC_8x5_Format:fk,RGBA_ASTC_8x6_Format:dk,RGBA_ASTC_8x8_Format:hk,RGBA_BPTC_Format:_k,RGBA_ETC2_EAC_Format:ak,RGBA_PVRTC_2BPPV1_Format:nk,RGBA_PVRTC_4BPPV1_Format:tk,RGBA_S3TC_DXT1_Format:sC,RGBA_S3TC_DXT3_Format:oC,RGBA_S3TC_DXT5_Format:lC,RGBDepthPacking:Iat,RGBFormat:vG,RGBIntegerFormat:Eat,RGB_BPTC_SIGNED_Format:bk,RGB_BPTC_UNSIGNED_Format:Sk,RGB_ETC1_Format:rk,RGB_ETC2_Format:ik,RGB_PVRTC_2BPPV1_Format:ek,RGB_PVRTC_4BPPV1_Format:QI,RGB_S3TC_DXT1_Format:aC,RGDepthPacking:kat,RGFormat:JL,RGIntegerFormat:QL,RawShaderMaterial:mme,Ray:mx,Raycaster:jme,RectAreaLight:Pme,RedFormat:$L,RedIntegerFormat:xM,ReinhardToneMapping:Sve,RenderTarget:xG,RenderTarget3D:Dlt,RepeatWrapping:pA,ReplaceStencilOp:Pat,ReverseSubtractEquation:rve,RingGeometry:yP,SIGNED_RED_GREEN_RGTC2_Format:Ak,SIGNED_RED_RGTC1_Format:Tk,SRGBColorSpace:Ao,SRGBTransfer:di,Scene:SG,ShaderChunk:dr,ShaderLib:mf,ShaderMaterial:Eu,ShadowMaterial:vme,Shape:Dy,ShapeGeometry:xP,ShapePath:tut,ShapeUtils:Sf,ShortType:fG,Skeleton:lP,SkeletonHelper:Glt,SkinnedMesh:Jve,Source:_v,Sphere:Qs,SphereGeometry:TM,Spherical:Ik,SphericalHarmonics3:Ome,SplineCurve:kG,SpotLight:Nme,SpotLightHelper:Vlt,Sprite:Kve,SpriteMaterial:wG,SrcAlphaFactor:jI,SrcAlphaSaturateFactor:pve,SrcColorFactor:lve,StaticCopyUsage:Qat,StaticDrawUsage:xA,StaticReadUsage:Kat,StereoCamera:flt,StreamCopyUsage:tst,StreamDrawUsage:Zat,StreamReadUsage:Jat,StringKeyframeTrack:xx,SubtractEquation:nve,SubtractiveBlending:Pz,TOUCH:Kg,TangentSpaceNormalMap:im,TetrahedronGeometry:_P,Texture:pa,TextureLoader:rlt,TextureUtils:out,Timer:Llt,TimestampQuery:rst,TorusGeometry:bP,TorusKnotGeometry:SP,Triangle:Gl,TriangleFanDrawMode:Nat,TriangleStripDrawMode:Rat,TrianglesDrawMode:Dat,TubeGeometry:wP,UVMapping:qL,Uint16BufferAttribute:_G,Uint32BufferAttribute:bG,Uint8BufferAttribute:jst,Uint8ClampedBufferAttribute:Wst,Uniform:YG,UniformsGroup:Nlt,UniformsLib:Jt,UniformsUtils:Yve,UnsignedByteType:Ec,UnsignedInt101111Type:hG,UnsignedInt248Type:kb,UnsignedInt5999Type:dG,UnsignedIntType:Vp,UnsignedShort4444Type:ZL,UnsignedShort5551Type:KL,UnsignedShortType:Ib,VSMShadowMap:vf,Vector2:Ct,Vector3:De,Vector4:jr,VectorKeyframeTrack:AA,VideoFrameTexture:pot,VideoTexture:rme,WebGL3DRenderTarget:Nst,WebGLArrayRenderTarget:Rst,WebGLCoordinateSystem:Su,WebGLCubeRenderTarget:Xve,WebGLRenderTarget:rh,WebGLRenderer:Jme,WebGLUtils:$me,WebGPUCoordinateSystem:Ob,WebXRController:tN,WireframeGeometry:pme,WrapAroundEnding:gA,ZeroCurvatureEnding:hy,ZeroFactor:sve,ZeroSlopeEnding:py,ZeroStencilOp:Lat,createCanvasElement:Gve,error:Xn,getConsoleFunction:lst,log:bA,setConsoleFunction:ost,warn:Qt,warnOnce:Fb},Symbol.toStringTag,{value:"Module"}));var oB={exports:{}},lB={},uB={exports:{}},cB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lre;function qht(){if(lre)return cB;lre=1;var n=qb();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function o(f,d){var h=d(),p=r({inst:{value:h,getSnapshot:d}}),m=p[0].inst,g=p[1];return a(function(){m.value=h,m.getSnapshot=d,l(m)&&g({inst:m})},[f,h,d]),i(function(){return l(m)&&g({inst:m}),f(function(){l(m)&&g({inst:m})})},[f]),s(h),h}function l(f){var d=f.getSnapshot;f=f.value;try{var h=d();return!t(f,h)}catch{return!0}}function u(f,d){return d()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return cB.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:c,cB}var ure;function Xht(){return ure||(ure=1,uB.exports=qht()),uB.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cre;function Zht(){if(cre)return lB;cre=1;var n=qb(),e=Xht();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=n.useRef,s=n.useEffect,o=n.useMemo,l=n.useDebugValue;return lB.useSyncExternalStoreWithSelector=function(u,c,f,d,h){var p=a(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=o(function(){function y(E){if(!_){if(_=!0,S=E,E=d(E),h!==void 0&&m.hasValue){var D=m.value;if(h(D,E))return A=D}return A=E}if(D=A,r(S,E))return D;var I=d(E);return h!==void 0&&h(D,I)?(S=E,D):(S=E,A=I)}var _=!1,S,A,M=f===void 0?null:f;return[function(){return y(c())},M===null?void 0:function(){return y(M())}]},[c,f,d,h]);var g=i(u,p[0],p[1]);return s(function(){m.hasValue=!0,m.value=g},[g]),l(g),g},lB}var fre;function Kht(){return fre||(fre=1,oB.exports=Zht()),oB.exports}var $ht=Kht();const Jht=Yb($ht),dre=n=>{let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const d=e;e=c??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(h=>h(e,d))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(r,i,o);return o},Qht=(n=>n?dre(n):dre),{useSyncExternalStoreWithSelector:ept}=Jht,tpt=n=>n;function npt(n,e=tpt,t){const r=ept(n.subscribe,n.getState,n.getInitialState,e,t);return Dr.useDebugValue(r),r}const hre=(n,e)=>{const t=Qht(n),r=(i,a=e)=>npt(t,i,a);return Object.assign(r,t),r},rpt=((n,e)=>n?hre(n,e):hre);var fB={exports:{}},dB={exports:{}},hB={exports:{}},pB={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pre;function ipt(){return pre||(pre=1,(function(n){function e(W,Z){var X=W.length;W.push(Z);e:for(;0<X;){var K=X-1>>>1,se=W[K];if(0<i(se,Z))W[K]=Z,W[X]=se,X=K;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Z=W[0],X=W.pop();if(X!==Z){W[0]=X;e:for(var K=0,se=W.length,J=se>>>1;K<J;){var H=2*(K+1)-1,ee=W[H],Q=H+1,ne=W[Q];if(0>i(ee,X))Q<se&&0>i(ne,ee)?(W[K]=ne,W[Q]=X,K=Q):(W[K]=ee,W[H]=X,K=H);else if(Q<se&&0>i(ne,X))W[K]=ne,W[Q]=X,K=Q;else break e}}return Z}function i(W,Z){var X=W.sortIndex-Z.sortIndex;return X!==0?X:W.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function S(W){for(var Z=t(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=W)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(u)}}function A(W){if(m=!1,S(W),!p)if(t(l)!==null)p=!0,V();else{var Z=t(u);Z!==null&&q(A,Z.startTime-W)}}var M=!1,E=-1,D=5,I=-1;function N(){return!(n.unstable_now()-I<D)}function L(){if(M){var W=n.unstable_now();I=W;var Z=!0;try{e:{p=!1,m&&(m=!1,y(E),E=-1),h=!0;var X=d;try{t:{for(S(W),f=t(l);f!==null&&!(f.expirationTime>W&&N());){var K=f.callback;if(typeof K=="function"){f.callback=null,d=f.priorityLevel;var se=K(f.expirationTime<=W);if(W=n.unstable_now(),typeof se=="function"){f.callback=se,S(W),Z=!0;break t}f===t(l)&&r(l),S(W)}else r(l);f=t(l)}if(f!==null)Z=!0;else{var J=t(u);J!==null&&q(A,J.startTime-W),Z=!1}}break e}finally{f=null,d=X,h=!1}Z=void 0}}finally{Z?B():M=!1}}}var B;if(typeof _=="function")B=function(){_(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,G=O.port2;O.port1.onmessage=L,B=function(){G.postMessage(null)}}else B=function(){g(L,0)};function V(){M||(M=!0,B())}function q(W,Z){E=g(function(){W(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){p||h||(p=!0,V())},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(W){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var X=d;d=Z;try{return W()}finally{d=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var X=d;d=W;try{return Z()}finally{d=X}},n.unstable_scheduleCallback=function(W,Z,X){var K=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,W){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=X+se,W={id:c++,callback:Z,priorityLevel:W,startTime:X,expirationTime:se,sortIndex:-1},X>K?(W.sortIndex=X,e(u,W),t(l)===null&&W===t(u)&&(m?(y(E),E=-1):m=!0,q(A,X-K))):(W.sortIndex=se,e(l,W),p||h||(p=!0,V())),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var Z=d;return function(){var X=d;d=Z;try{return W.apply(this,arguments)}finally{d=X}}}})(pB)),pB}var vre;function Qme(){return vre||(vre=1,hB.exports=ipt()),hB.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mre;function apt(){return mre||(mre=1,(function(n){n.exports=function(e){function t(b,w,k,U){return new i2(b,w,k,U)}function r(){}function i(b){var w="https://react.dev/errors/"+b;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)w+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+b+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(b){return b===null||typeof b!="object"?null:(b=f2&&b[f2]||b["@@iterator"],typeof b=="function"?b:null)}function s(b){if(b==null)return null;if(typeof b=="function")return b.$$typeof===Th?null:b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case d0:return"Fragment";case eu:return"Portal";case c2:return"Profiler";case u2:return"StrictMode";case Yx:return"Suspense";case rd:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case Uu:return(b.displayName||"Context")+".Provider";case nd:return(b._context.displayName||"Context")+".Consumer";case h0:var w=b.render;return b=b.displayName,b||(b=w.displayName||w.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case Rm:return w=b.displayName||null,w!==null?w:s(b.type)||"Memo";case tu:w=b._payload,b=b._init;try{return s(b(w))}catch{}}return null}function o(b){if(qx===void 0)try{throw Error()}catch(k){var w=k.stack.trim().match(/\n( *(at )?)/);qx=w&&w[1]||"",d2=-1<k.stack.indexOf(`
    at`)?" (<anonymous>)":-1<k.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qx+b+d2}function l(b,w){if(!b||id)return"";id=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var U={DetermineComponentFrameRoot:function(){try{if(w){var $t=function(){throw Error()};if(Object.defineProperty($t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($t,[])}catch(qn){var rn=qn}Reflect.construct(b,[],$t)}else{try{$t.call()}catch(qn){rn=qn}b.call($t.prototype)}}else{try{throw Error()}catch(qn){rn=qn}($t=b())&&typeof $t.catch=="function"&&$t.catch(function(){})}}catch(qn){if(qn&&rn&&typeof qn.stack=="string")return[qn.stack,rn.stack]}return[null,null]}};U.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Y=Object.getOwnPropertyDescriptor(U.DetermineComponentFrameRoot,"name");Y&&Y.configurable&&Object.defineProperty(U.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var re=U.DetermineComponentFrameRoot(),Se=re[0],Fe=re[1];if(Se&&Fe){var $e=Se.split(`
`),St=Fe.split(`
`);for(Y=U=0;U<$e.length&&!$e[U].includes("DetermineComponentFrameRoot");)U++;for(;Y<St.length&&!St[Y].includes("DetermineComponentFrameRoot");)Y++;if(U===$e.length||Y===St.length)for(U=$e.length-1,Y=St.length-1;1<=U&&0<=Y&&$e[U]!==St[Y];)Y--;for(;1<=U&&0<=Y;U--,Y--)if($e[U]!==St[Y]){if(U!==1||Y!==1)do if(U--,Y--,0>Y||$e[U]!==St[Y]){var Vt=`
`+$e[U].replace(" at new "," at ");return b.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",b.displayName)),Vt}while(1<=U&&0<=Y);break}}}finally{id=!1,Error.prepareStackTrace=k}return(k=b?b.displayName||b.name:"")?o(k):""}function u(b){switch(b.tag){case 26:case 27:case 5:return o(b.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return b=l(b.type,!1),b;case 11:return b=l(b.type.render,!1),b;case 1:return b=l(b.type,!0),b;default:return""}}function c(b){try{var w="";do w+=u(b),b=b.return;while(b);return w}catch(k){return`
Error generating stack: `+k.message+`
`+k.stack}}function f(b){var w=b,k=b;if(b.alternate)for(;w.return;)w=w.return;else{b=w;do w=b,(w.flags&4098)!==0&&(k=w.return),b=w.return;while(b)}return w.tag===3?k:null}function d(b){if(f(b)!==b)throw Error(i(188))}function h(b){var w=b.alternate;if(!w){if(w=f(b),w===null)throw Error(i(188));return w!==b?null:b}for(var k=b,U=w;;){var Y=k.return;if(Y===null)break;var re=Y.alternate;if(re===null){if(U=Y.return,U!==null){k=U;continue}break}if(Y.child===re.child){for(re=Y.child;re;){if(re===k)return d(Y),b;if(re===U)return d(Y),w;re=re.sibling}throw Error(i(188))}if(k.return!==U.return)k=Y,U=re;else{for(var Se=!1,Fe=Y.child;Fe;){if(Fe===k){Se=!0,k=Y,U=re;break}if(Fe===U){Se=!0,U=Y,k=re;break}Fe=Fe.sibling}if(!Se){for(Fe=re.child;Fe;){if(Fe===k){Se=!0,k=re,U=Y;break}if(Fe===U){Se=!0,U=re,k=Y;break}Fe=Fe.sibling}if(!Se)throw Error(i(189))}}if(k.alternate!==U)throw Error(i(190))}if(k.tag!==3)throw Error(i(188));return k.stateNode.current===k?b:w}function p(b){var w=b.tag;if(w===5||w===26||w===27||w===6)return b;for(b=b.child;b!==null;){if(w=p(b),w!==null)return w;b=b.sibling}return null}function m(b){var w=b.tag;if(w===5||w===26||w===27||w===6)return b;for(b=b.child;b!==null;){if(b.tag!==4&&(w=m(b),w!==null))return w;b=b.sibling}return null}function g(b){return{current:b}}function y(b){0>Xc||(b.current=zm[Xc],zm[Xc]=null,Xc--)}function _(b,w){Xc++,zm[Xc]=b.current,b.current=w}function S(b){return b>>>=0,b===0?32:31-(Um(b)/CE|0)|0}function A(b){var w=b&42;if(w!==0)return w;switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return b&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return b}}function M(b,w){var k=b.pendingLanes;if(k===0)return 0;var U=0,Y=b.suspendedLanes,re=b.pingedLanes,Se=b.warmLanes;b=b.finishedLanes!==0;var Fe=k&134217727;return Fe!==0?(k=Fe&~Y,k!==0?U=A(k):(re&=Fe,re!==0?U=A(re):b||(Se=Fe&~Se,Se!==0&&(U=A(Se))))):(Fe=k&~Y,Fe!==0?U=A(Fe):re!==0?U=A(re):b||(Se=k&~Se,Se!==0&&(U=A(Se)))),U===0?0:w!==0&&w!==U&&(w&Y)===0&&(Y=U&-U,Se=w&-w,Y>=Se||Y===32&&(Se&4194176)!==0)?w:U}function E(b,w){return(b.pendingLanes&~(b.suspendedLanes&~b.pingedLanes)&w)===0}function D(b,w){switch(b){case 1:case 2:case 4:case 8:return w+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I(){var b=g0;return g0<<=1,(g0&4194176)===0&&(g0=128),b}function N(){var b=Vm;return Vm<<=1,(Vm&62914560)===0&&(Vm=4194304),b}function L(b){for(var w=[],k=0;31>k;k++)w.push(b);return w}function B(b,w){b.pendingLanes|=w,w!==268435456&&(b.suspendedLanes=0,b.pingedLanes=0,b.warmLanes=0)}function O(b,w,k,U,Y,re){var Se=b.pendingLanes;b.pendingLanes=k,b.suspendedLanes=0,b.pingedLanes=0,b.warmLanes=0,b.expiredLanes&=k,b.entangledLanes&=k,b.errorRecoveryDisabledLanes&=k,b.shellSuspendCounter=0;var Fe=b.entanglements,$e=b.expirationTimes,St=b.hiddenUpdates;for(k=Se&~k;0<k;){var Vt=31-lo(k),$t=1<<Vt;Fe[Vt]=0,$e[Vt]=-1;var rn=St[Vt];if(rn!==null)for(St[Vt]=null,Vt=0;Vt<rn.length;Vt++){var qn=rn[Vt];qn!==null&&(qn.lane&=-536870913)}k&=~$t}U!==0&&G(b,U,0),re!==0&&Y===0&&b.tag!==0&&(b.suspendedLanes|=re&~(Se&~w))}function G(b,w,k){b.pendingLanes|=w,b.suspendedLanes&=~w;var U=31-lo(w);b.entangledLanes|=w,b.entanglements[U]=b.entanglements[U]|1073741824|k&4194218}function V(b,w){var k=b.entangledLanes|=w;for(b=b.entanglements;k;){var U=31-lo(k),Y=1<<U;Y&w|b[U]&w&&(b[U]|=w),k&=~Y}}function q(b){return b&=-b,2<b?8<b?(b&134217727)!==0?32:268435456:8:2}function W(b){if(uo&&typeof uo.onCommitFiberRoot=="function")try{uo.onCommitFiberRoot(x0,b,void 0,(b.current.flags&128)===128)}catch{}}function Z(b){if(typeof DE=="function"&&H2(b),uo&&typeof uo.setStrictMode=="function")try{uo.setStrictMode(x0,b)}catch{}}function X(b,w){return b===w&&(b!==0||1/b===1/w)||b!==b&&w!==w}function K(b,w){if(typeof b=="object"&&b!==null){var k=c1.get(b);return k!==void 0?k:(w={value:b,source:w,stack:c(w)},c1.set(b,w),w)}return{value:b,source:w,stack:c(w)}}function se(b,w){Ai[Bi++]=jm,Ai[Bi++]=Hm,Hm=b,jm=w}function J(b,w,k){Zo[Ko++]=Wu,Zo[Ko++]=El,Zo[Ko++]=nu,nu=b;var U=Wu;b=El;var Y=32-lo(U)-1;U&=~(1<<Y),k+=1;var re=32-lo(w)+Y;if(30<re){var Se=Y-Y%5;re=(U&(1<<Se)-1).toString(32),U>>=Se,Y-=Se,Wu=1<<32-lo(w)+Y|k<<Y|U,El=re+b}else Wu=1<<re|k<<Y|U,El=b}function H(b){b.return!==null&&(se(b,1),J(b,1,0))}function ee(b){for(;b===Hm;)Hm=Ai[--Bi],Ai[Bi]=null,jm=Ai[--Bi],Ai[Bi]=null;for(;b===nu;)nu=Zo[--Ko],Zo[Ko]=null,El=Zo[--Ko],Zo[Ko]=null,Wu=Zo[--Ko],Zo[Ko]=null}function Q(b,w){_(ru,w),_(Wm,b),_(Fa,null),b=Ch(w),y(Fa),_(Fa,b)}function ne(){y(Fa),y(Wm),y(ru)}function ce(b){b.memoizedState!==null&&_(_0,b);var w=Fa.current,k=iE(w,b.type);w!==k&&(_(Wm,b),_(Fa,k))}function ve(b){Wm.current===b&&(y(Fa),y(Wm)),_0.current===b&&(y(_0),Gu?Fn._currentValue=oo:Fn._currentValue2=oo)}function xe(b){var w=Error(i(418,""));throw pt(K(w,b)),Ym}function we(b,w){if(!zs)throw Error(i(175));FP(b.stateNode,b.type,b.memoizedProps,w,b)||xe(b)}function Ae(b){for(Ss=b.return;Ss;)switch(Ss.tag){case 3:case 27:Dl=!0;return;case 5:case 13:Dl=!1;return;default:Ss=Ss.return}}function Ue(b){if(!zs||b!==Ss)return!1;if(!Rr)return Ae(b),Rr=!0,!1;var w=!1;if(Ja?b.tag!==3&&b.tag!==27&&(b.tag!==5||_E(b.type)&&!od(b.type,b.memoizedProps))&&(w=!0):b.tag!==3&&(b.tag!==5||_E(b.type)&&!od(b.type,b.memoizedProps))&&(w=!0),w&&es&&xe(b),Ae(b),b.tag===13){if(!zs)throw Error(i(316));if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));es=yE(b)}else es=Ss?R2(b.stateNode):null;return!0}function pe(){zs&&(es=Ss=null,Rr=!1)}function pt(b){$o===null?$o=[b]:$o.push(b)}function te(){for(var b=ud,w=b0=ud=0;w<b;){var k=Jo[w];Jo[w++]=null;var U=Jo[w];Jo[w++]=null;var Y=Jo[w];Jo[w++]=null;var re=Jo[w];if(Jo[w++]=null,U!==null&&Y!==null){var Se=U.pending;Se===null?Y.next=Y:(Y.next=Se.next,Se.next=Y),U.pending=Y}re!==0&&fe(k,Y,re)}}function oe(b,w,k,U){Jo[ud++]=b,Jo[ud++]=w,Jo[ud++]=k,Jo[ud++]=U,b0|=U,b.lanes|=U,b=b.alternate,b!==null&&(b.lanes|=U)}function ge(b,w,k,U){return oe(b,w,k,U),be(b)}function le(b,w){return oe(b,null,null,w),be(b)}function fe(b,w,k){b.lanes|=k;var U=b.alternate;U!==null&&(U.lanes|=k);for(var Y=!1,re=b.return;re!==null;)re.childLanes|=k,U=re.alternate,U!==null&&(U.childLanes|=k),re.tag===22&&(b=re.stateNode,b===null||b._visibility&1||(Y=!0)),b=re,re=re.return;Y&&w!==null&&b.tag===3&&(re=b.stateNode,Y=31-lo(k),re=re.hiddenUpdates,b=re[Y],b===null?re[Y]=[w]:b.push(w),w.lane=k|536870912)}function be(b){if(50<Oh)throw Oh=0,Gs=null,Error(i(185));for(var w=b.return;w!==null;)b=w,w=b.return;return b.tag===3?b.stateNode:null}function Oe(b){b!==Dh&&b.next===null&&(Dh===null?S0=Dh=b:Dh=Dh.next=b),Xm=!0,qm||(qm=!0,Ye(Pe))}function Ve(b,w){if(!iu&&Xm){iu=!0;do for(var k=!1,U=S0;U!==null;){if(b!==0){var Y=U.pendingLanes;if(Y===0)var re=0;else{var Se=U.suspendedLanes,Fe=U.pingedLanes;re=(1<<31-lo(42|b)+1)-1,re&=Y&~(Se&~Fe),re=re&201326677?re&201326677|1:re?re|2:0}re!==0&&(k=!0,Ie(U,re))}else re=cr,re=M(U,U===hr?re:0),(re&3)===0||E(U,re)||(k=!0,Ie(U,re));U=U.next}while(k);iu=!1}}function Pe(){Xm=qm=!1;var b=0;cd!==0&&(ld()&&(b=cd),cd=0);for(var w=Qa(),k=null,U=S0;U!==null;){var Y=U.next,re=me(U,w);re===0?(U.next=null,k===null?S0=Y:k.next=Y,Y===null&&(Dh=k)):(k=U,(b!==0||(re&3)!==0)&&(Xm=!0)),U=Y}Ve(b)}function me(b,w){for(var k=b.suspendedLanes,U=b.pingedLanes,Y=b.expirationTimes,re=b.pendingLanes&-62914561;0<re;){var Se=31-lo(re),Fe=1<<Se,$e=Y[Se];$e===-1?((Fe&k)===0||(Fe&U)!==0)&&(Y[Se]=D(Fe,w)):$e<=w&&(b.expiredLanes|=Fe),re&=~Fe}if(w=hr,k=cr,k=M(b,b===w?k:0),U=b.callbackNode,k===0||b===w&&si===2||b.cancelPendingCommit!==null)return U!==null&&U!==null&&Gm(U),b.callbackNode=null,b.callbackPriority=0;if((k&3)===0||E(b,k)){if(w=k&-k,w===b.callbackPriority)return w;switch(U!==null&&Gm(U),q(k)){case 2:case 8:k=EE;break;case 32:k=l1;break;case 268435456:k=u1;break;default:k=l1}return U=ue.bind(null,b),k=y0(k,U),b.callbackPriority=w,b.callbackNode=k,w}return U!==null&&U!==null&&Gm(U),b.callbackPriority=2,b.callbackNode=null,2}function ue(b,w){var k=b.callbackNode;if(Pa()&&b.callbackNode!==k)return null;var U=cr;return U=M(b,b===hr?U:0),U===0?null:(Cm(b,U,w),me(b,Qa()),b.callbackNode!=null&&b.callbackNode===k?ue.bind(null,b):null)}function Ie(b,w){if(Pa())return null;Cm(b,w,!0)}function Ye(b){ra?$x(function(){(Tn&6)!==0?y0(G2,b):b()}):y0(G2,b)}function ot(){return cd===0&&(cd=I()),cd}function We(b,w){if(Zm===null){var k=Zm=[];f1=0,co=ot(),fd={status:"pending",value:void 0,then:function(U){k.push(U)}}}return f1++,w.then(zt,zt),w}function zt(){if(--f1===0&&Zm!==null){fd!==null&&(fd.status="fulfilled");var b=Zm;Zm=null,co=0,fd=null;for(var w=0;w<b.length;w++)(0,b[w])()}}function mt(b,w){var k=[],U={status:"pending",value:null,reason:null,then:function(Y){k.push(Y)}};return b.then(function(){U.status="fulfilled",U.value=w;for(var Y=0;Y<k.length;Y++)(0,k[Y])(w)},function(Y){for(U.status="rejected",U.reason=Y,Y=0;Y<k.length;Y++)(0,k[Y])(void 0)}),U}function Nt(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ht(b,w){b=b.updateQueue,w.updateQueue===b&&(w.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,callbacks:null})}function Qe(b){return{lane:b,tag:0,payload:null,callback:null,next:null}}function bt(b,w,k){var U=b.updateQueue;if(U===null)return null;if(U=U.shared,(Tn&2)!==0){var Y=U.pending;return Y===null?w.next=w:(w.next=Y.next,Y.next=w),U.pending=w,w=be(b),fe(b,null,k),w}return oe(b,U,w,k),be(b)}function Yt(b,w,k){if(w=w.updateQueue,w!==null&&(w=w.shared,(k&4194176)!==0)){var U=w.lanes;U&=b.pendingLanes,k|=U,w.lanes=k,V(b,k)}}function ke(b,w){var k=b.updateQueue,U=b.alternate;if(U!==null&&(U=U.updateQueue,k===U)){var Y=null,re=null;if(k=k.firstBaseUpdate,k!==null){do{var Se={lane:k.lane,tag:k.tag,payload:k.payload,callback:null,next:null};re===null?Y=re=Se:re=re.next=Se,k=k.next}while(k!==null);re===null?Y=re=w:re=re.next=w}else Y=re=w;k={baseState:U.baseState,firstBaseUpdate:Y,lastBaseUpdate:re,shared:U.shared,callbacks:U.callbacks},b.updateQueue=k;return}b=k.lastBaseUpdate,b===null?k.firstBaseUpdate=w:b.next=w,k.lastBaseUpdate=w}function Je(){if(w0){var b=fd;if(b!==null)throw b}}function Et(b,w,k,U){w0=!1;var Y=b.updateQueue;Zc=!1;var re=Y.firstBaseUpdate,Se=Y.lastBaseUpdate,Fe=Y.shared.pending;if(Fe!==null){Y.shared.pending=null;var $e=Fe,St=$e.next;$e.next=null,Se===null?re=St:Se.next=St,Se=$e;var Vt=b.alternate;Vt!==null&&(Vt=Vt.updateQueue,Fe=Vt.lastBaseUpdate,Fe!==Se&&(Fe===null?Vt.firstBaseUpdate=St:Fe.next=St,Vt.lastBaseUpdate=$e))}if(re!==null){var $t=Y.baseState;Se=0,Vt=St=$e=null,Fe=re;do{var rn=Fe.lane&-536870913,qn=rn!==Fe.lane;if(qn?(cr&rn)===rn:(U&rn)===rn){rn!==0&&rn===co&&(w0=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:Fe.tag,payload:Fe.payload,callback:null,next:null});e:{var vo=b,Qm=Fe;rn=w;var Fh=k;switch(Qm.tag){case 1:if(vo=Qm.payload,typeof vo=="function"){$t=vo.call(Fh,$t,rn);break e}$t=vo;break e;case 3:vo.flags=vo.flags&-65537|128;case 0:if(vo=Qm.payload,rn=typeof vo=="function"?vo.call(Fh,$t,rn):vo,rn==null)break e;$t=wh({},$t,rn);break e;case 2:Zc=!0}}rn=Fe.callback,rn!==null&&(b.flags|=64,qn&&(b.flags|=8192),qn=Y.callbacks,qn===null?Y.callbacks=[rn]:qn.push(rn))}else qn={lane:rn,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},Vt===null?(St=Vt=qn,$e=$t):Vt=Vt.next=qn,Se|=rn;if(Fe=Fe.next,Fe===null){if(Fe=Y.shared.pending,Fe===null)break;qn=Fe,Fe=qn.next,qn.next=null,Y.lastBaseUpdate=qn,Y.shared.pending=null}}while(!0);Vt===null&&($e=$t),Y.baseState=$e,Y.firstBaseUpdate=St,Y.lastBaseUpdate=Vt,re===null&&(Y.shared.lanes=0),nl|=Se,b.lanes=Se,b.memoizedState=$t}}function Le(b,w){if(typeof b!="function")throw Error(i(191,b));b.call(w)}function Dt(b,w){var k=b.callbacks;if(k!==null)for(b.callbacks=null,b=0;b<k.length;b++)Le(k[b],w)}function Rt(b,w){if(Xo(b,w))return!0;if(typeof b!="object"||b===null||typeof w!="object"||w===null)return!1;var k=Object.keys(b),U=Object.keys(w);if(k.length!==U.length)return!1;for(U=0;U<k.length;U++){var Y=k[U];if(!Km.call(w,Y)||!Xo(b[Y],w[Y]))return!1}return!0}function wt(b){return b=b.status,b==="fulfilled"||b==="rejected"}function yt(){}function vt(b,w,k){switch(k=b[k],k===void 0?b.push(w):k!==w&&(w.then(yt,yt),w=k),w.status){case"fulfilled":return w.value;case"rejected":throw b=w.reason,b===ei?Error(i(483)):b;default:if(typeof w.status=="string")w.then(yt,yt);else{if(b=hr,b!==null&&100<b.shellSuspendCounter)throw Error(i(482));b=w,b.status="pending",b.then(function(U){if(w.status==="pending"){var Y=w;Y.status="fulfilled",Y.value=U}},function(U){if(w.status==="pending"){var Y=w;Y.status="rejected",Y.reason=U}})}switch(w.status){case"fulfilled":return w.value;case"rejected":throw b=w.reason,b===ei?Error(i(483)):b}throw Rh=w,ei}}function Ut(){if(Rh===null)throw Error(i(459));var b=Rh;return Rh=null,b}function Zt(b){var w=Rl;return Rl+=1,Yu===null&&(Yu=[]),vt(Yu,b,w)}function Mn(b,w){w=w.props.ref,b.ref=w!==void 0?w:null}function En(b,w){throw w.$$typeof===l2?Error(i(525)):(b=Object.prototype.toString.call(w),Error(i(31,b==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":b)))}function Br(b){var w=b._init;return w(b._payload)}function ur(b){function w(lt,Ze){if(b){var ct=lt.deletions;ct===null?(lt.deletions=[Ze],lt.flags|=16):ct.push(Ze)}}function k(lt,Ze){if(!b)return null;for(;Ze!==null;)w(lt,Ze),Ze=Ze.sibling;return null}function U(lt){for(var Ze=new Map;lt!==null;)lt.key!==null?Ze.set(lt.key,lt):Ze.set(lt.index,lt),lt=lt.sibling;return Ze}function Y(lt,Ze){return lt=_s(lt,Ze),lt.index=0,lt.sibling=null,lt}function re(lt,Ze,ct){return lt.index=ct,b?(ct=lt.alternate,ct!==null?(ct=ct.index,ct<Ze?(lt.flags|=33554434,Ze):ct):(lt.flags|=33554434,Ze)):(lt.flags|=1048576,Ze)}function Se(lt){return b&&lt.alternate===null&&(lt.flags|=33554434),lt}function Fe(lt,Ze,ct,Bt){return Ze===null||Ze.tag!==6?(Ze=td(ct,lt.mode,Bt),Ze.return=lt,Ze):(Ze=Y(Ze,ct),Ze.return=lt,Ze)}function $e(lt,Ze,ct,Bt){var bn=ct.type;return bn===d0?Vt(lt,Ze,ct.props.children,Bt,ct.key):Ze!==null&&(Ze.elementType===bn||typeof bn=="object"&&bn!==null&&bn.$$typeof===tu&&Br(bn)===Ze.type)?(Ze=Y(Ze,ct.props),Mn(Ze,ct),Ze.return=lt,Ze):(Ze=Al(ct.type,ct.key,ct.props,null,lt.mode,Bt),Mn(Ze,ct),Ze.return=lt,Ze)}function St(lt,Ze,ct,Bt){return Ze===null||Ze.tag!==4||Ze.stateNode.containerInfo!==ct.containerInfo||Ze.stateNode.implementation!==ct.implementation?(Ze=f0(ct,lt.mode,Bt),Ze.return=lt,Ze):(Ze=Y(Ze,ct.children||[]),Ze.return=lt,Ze)}function Vt(lt,Ze,ct,Bt,bn){return Ze===null||Ze.tag!==7?(Ze=Hc(ct,lt.mode,Bt,bn),Ze.return=lt,Ze):(Ze=Y(Ze,ct),Ze.return=lt,Ze)}function $t(lt,Ze,ct){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Ze=td(""+Ze,lt.mode,ct),Ze.return=lt,Ze;if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case jc:return ct=Al(Ze.type,Ze.key,Ze.props,null,lt.mode,ct),Mn(ct,Ze),ct.return=lt,ct;case eu:return Ze=f0(Ze,lt.mode,ct),Ze.return=lt,Ze;case tu:var Bt=Ze._init;return Ze=Bt(Ze._payload),$t(lt,Ze,ct)}if(ad(Ze)||a(Ze))return Ze=Hc(Ze,lt.mode,ct,null),Ze.return=lt,Ze;if(typeof Ze.then=="function")return $t(lt,Zt(Ze),ct);if(Ze.$$typeof===Uu)return $t(lt,_m(lt,Ze),ct);En(lt,Ze)}return null}function rn(lt,Ze,ct,Bt){var bn=Ze!==null?Ze.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return bn!==null?null:Fe(lt,Ze,""+ct,Bt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case jc:return ct.key===bn?$e(lt,Ze,ct,Bt):null;case eu:return ct.key===bn?St(lt,Ze,ct,Bt):null;case tu:return bn=ct._init,ct=bn(ct._payload),rn(lt,Ze,ct,Bt)}if(ad(ct)||a(ct))return bn!==null?null:Vt(lt,Ze,ct,Bt,null);if(typeof ct.then=="function")return rn(lt,Ze,Zt(ct),Bt);if(ct.$$typeof===Uu)return rn(lt,Ze,_m(lt,ct),Bt);En(lt,ct)}return null}function qn(lt,Ze,ct,Bt,bn){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return lt=lt.get(ct)||null,Fe(Ze,lt,""+Bt,bn);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case jc:return lt=lt.get(Bt.key===null?ct:Bt.key)||null,$e(Ze,lt,Bt,bn);case eu:return lt=lt.get(Bt.key===null?ct:Bt.key)||null,St(Ze,lt,Bt,bn);case tu:var yi=Bt._init;return Bt=yi(Bt._payload),qn(lt,Ze,ct,Bt,bn)}if(ad(Bt)||a(Bt))return lt=lt.get(ct)||null,Vt(Ze,lt,Bt,bn,null);if(typeof Bt.then=="function")return qn(lt,Ze,ct,Zt(Bt),bn);if(Bt.$$typeof===Uu)return qn(lt,Ze,ct,_m(Ze,Bt),bn);En(Ze,Bt)}return null}function vo(lt,Ze,ct,Bt){for(var bn=null,yi=null,Bn=Ze,Ir=Ze=0,wa=null;Bn!==null&&Ir<ct.length;Ir++){Bn.index>Ir?(wa=Bn,Bn=null):wa=Bn.sibling;var kr=rn(lt,Bn,ct[Ir],Bt);if(kr===null){Bn===null&&(Bn=wa);break}b&&Bn&&kr.alternate===null&&w(lt,Bn),Ze=re(kr,Ze,Ir),yi===null?bn=kr:yi.sibling=kr,yi=kr,Bn=wa}if(Ir===ct.length)return k(lt,Bn),Rr&&se(lt,Ir),bn;if(Bn===null){for(;Ir<ct.length;Ir++)Bn=$t(lt,ct[Ir],Bt),Bn!==null&&(Ze=re(Bn,Ze,Ir),yi===null?bn=Bn:yi.sibling=Bn,yi=Bn);return Rr&&se(lt,Ir),bn}for(Bn=U(Bn);Ir<ct.length;Ir++)wa=qn(Bn,lt,Ir,ct[Ir],Bt),wa!==null&&(b&&wa.alternate!==null&&Bn.delete(wa.key===null?Ir:wa.key),Ze=re(wa,Ze,Ir),yi===null?bn=wa:yi.sibling=wa,yi=wa);return b&&Bn.forEach(function(nf){return w(lt,nf)}),Rr&&se(lt,Ir),bn}function Qm(lt,Ze,ct,Bt){if(ct==null)throw Error(i(151));for(var bn=null,yi=null,Bn=Ze,Ir=Ze=0,wa=null,kr=ct.next();Bn!==null&&!kr.done;Ir++,kr=ct.next()){Bn.index>Ir?(wa=Bn,Bn=null):wa=Bn.sibling;var nf=rn(lt,Bn,kr.value,Bt);if(nf===null){Bn===null&&(Bn=wa);break}b&&Bn&&nf.alternate===null&&w(lt,Bn),Ze=re(nf,Ze,Ir),yi===null?bn=nf:yi.sibling=nf,yi=nf,Bn=wa}if(kr.done)return k(lt,Bn),Rr&&se(lt,Ir),bn;if(Bn===null){for(;!kr.done;Ir++,kr=ct.next())kr=$t(lt,kr.value,Bt),kr!==null&&(Ze=re(kr,Ze,Ir),yi===null?bn=kr:yi.sibling=kr,yi=kr);return Rr&&se(lt,Ir),bn}for(Bn=U(Bn);!kr.done;Ir++,kr=ct.next())kr=qn(Bn,lt,Ir,kr.value,Bt),kr!==null&&(b&&kr.alternate!==null&&Bn.delete(kr.key===null?Ir:kr.key),Ze=re(kr,Ze,Ir),yi===null?bn=kr:yi.sibling=kr,yi=kr);return b&&Bn.forEach(function(_1){return w(lt,_1)}),Rr&&se(lt,Ir),bn}function Fh(lt,Ze,ct,Bt){if(typeof ct=="object"&&ct!==null&&ct.type===d0&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case jc:e:{for(var bn=ct.key;Ze!==null;){if(Ze.key===bn){if(bn=ct.type,bn===d0){if(Ze.tag===7){k(lt,Ze.sibling),Bt=Y(Ze,ct.props.children),Bt.return=lt,lt=Bt;break e}}else if(Ze.elementType===bn||typeof bn=="object"&&bn!==null&&bn.$$typeof===tu&&Br(bn)===Ze.type){k(lt,Ze.sibling),Bt=Y(Ze,ct.props),Mn(Bt,ct),Bt.return=lt,lt=Bt;break e}k(lt,Ze);break}else w(lt,Ze);Ze=Ze.sibling}ct.type===d0?(Bt=Hc(ct.props.children,lt.mode,Bt,ct.key),Bt.return=lt,lt=Bt):(Bt=Al(ct.type,ct.key,ct.props,null,lt.mode,Bt),Mn(Bt,ct),Bt.return=lt,lt=Bt)}return Se(lt);case eu:e:{for(bn=ct.key;Ze!==null;){if(Ze.key===bn)if(Ze.tag===4&&Ze.stateNode.containerInfo===ct.containerInfo&&Ze.stateNode.implementation===ct.implementation){k(lt,Ze.sibling),Bt=Y(Ze,ct.children||[]),Bt.return=lt,lt=Bt;break e}else{k(lt,Ze);break}else w(lt,Ze);Ze=Ze.sibling}Bt=f0(ct,lt.mode,Bt),Bt.return=lt,lt=Bt}return Se(lt);case tu:return bn=ct._init,ct=bn(ct._payload),Fh(lt,Ze,ct,Bt)}if(ad(ct))return vo(lt,Ze,ct,Bt);if(a(ct)){if(bn=a(ct),typeof bn!="function")throw Error(i(150));return ct=bn.call(ct),Qm(lt,Ze,ct,Bt)}if(typeof ct.then=="function")return Fh(lt,Ze,Zt(ct),Bt);if(ct.$$typeof===Uu)return Fh(lt,Ze,_m(lt,ct),Bt);En(lt,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,Ze!==null&&Ze.tag===6?(k(lt,Ze.sibling),Bt=Y(Ze,ct),Bt.return=lt,lt=Bt):(k(lt,Ze),Bt=td(ct,lt.mode,Bt),Bt.return=lt,lt=Bt),Se(lt)):k(lt,Ze)}return function(lt,Ze,ct,Bt){try{Rl=0;var bn=Fh(lt,Ze,ct,Bt);return Yu=null,bn}catch(Bn){if(Bn===ei)throw Bn;var yi=t(29,Bn,null,lt.mode);return yi.lanes=Bt,yi.return=lt,yi}finally{}}}function vs(b,w){b=au,_(Qo,b),_(qu,w),au=b|w.baseLanes}function Li(){_(Qo,au),_(qu,qu.current)}function ga(){au=Qo.current,y(qu),y(Qo)}function mi(b){var w=b.alternate;_(ia,ia.current&1),_(el,b),Nl===null&&(w===null||qu.current!==null||w.memoizedState!==null)&&(Nl=b)}function ms(b){if(b.tag===22){if(_(ia,ia.current),_(el,b),Nl===null){var w=b.alternate;w!==null&&w.memoizedState!==null&&(Nl=b)}}else ye()}function ye(){_(ia,ia.current),_(el,el.current)}function Me(b){y(el),Nl===b&&(Nl=null),y(ia)}function Ce(b){for(var w=b;w!==null;){if(w.tag===13){var k=w.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||n1(k)||Bm(k)))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===b)break;for(;w.sibling===null;){if(w.return===null||w.return===b)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}function Te(){throw Error(i(321))}function Ee(b,w){if(w===null)return!1;for(var k=0;k<w.length&&k<b.length;k++)if(!Xo(b[k],w[k]))return!1;return!0}function Ne(b,w,k,U,Y,re){return Xu=re,rr=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,kn.H=b===null||b.memoizedState===null?aa:ws,Kc=!1,re=k(U,Y),Kc=!1,Mi&&(re=xt(w,k,U,Y)),et(b),re}function et(b){kn.H=Nr;var w=Gr!==null&&Gr.next!==null;if(Xu=0,Yi=Gr=rr=null,Il=!1,zi=0,T0=null,w)throw Error(i(300));b===null||qi||(b=b.dependencies,b!==null&&jf(b)&&(qi=!0))}function xt(b,w,k,U){rr=b;var Y=0;do{if(Mi&&(T0=null),zi=0,Mi=!1,25<=Y)throw Error(i(301));if(Y+=1,Yi=Gr=null,b.updateQueue!=null){var re=b.updateQueue;re.lastEffect=null,re.events=null,re.stores=null,re.memoCache!=null&&(re.memoCache.index=0)}kn.H=hd,re=w(k,U)}while(Mi);return re}function tt(){var b=kn.H,w=b.useState()[0];return w=typeof w.then=="function"?Re(w):w,b=b.useState()[0],(Gr!==null?Gr.memoizedState:null)!==b&&(rr.flags|=1024),w}function rt(){var b=$m!==0;return $m=0,b}function st(b,w,k){w.updateQueue=b.updateQueue,w.flags&=-2053,b.lanes&=~k}function It(b){if(Il){for(b=b.memoizedState;b!==null;){var w=b.queue;w!==null&&(w.pending=null),b=b.next}Il=!1}Xu=0,Yi=Gr=rr=null,Mi=!1,zi=$m=0,T0=null}function Pt(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yi===null?rr.memoizedState=Yi=b:Yi=Yi.next=b,Yi}function he(){if(Gr===null){var b=rr.alternate;b=b!==null?b.memoizedState:null}else b=Gr.next;var w=Yi===null?rr.memoizedState:Yi.next;if(w!==null)Yi=w,Gr=b;else{if(b===null)throw rr.alternate===null?Error(i(467)):Error(i(310));Gr=b,b={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},Yi===null?rr.memoizedState=Yi=b:Yi=Yi.next=b}return Yi}function Re(b){var w=zi;return zi+=1,T0===null&&(T0=[]),b=vt(T0,b,w),w=rr,(Yi===null?w.memoizedState:Yi.next)===null&&(w=w.alternate,kn.H=w===null||w.memoizedState===null?aa:ws),b}function ze(b){if(b!==null&&typeof b=="object"){if(typeof b.then=="function")return Re(b);if(b.$$typeof===Uu)return Za(b)}throw Error(i(438,String(b)))}function He(b){var w=null,k=rr.updateQueue;if(k!==null&&(w=k.memoCache),w==null){var U=rr.alternate;U!==null&&(U=U.updateQueue,U!==null&&(U=U.memoCache,U!=null&&(w={data:U.data.map(function(Y){return Y.slice()}),index:0})))}if(w==null&&(w={data:[],index:0}),k===null&&(k=h1(),rr.updateQueue=k),k.memoCache=w,k=w.data[w.index],k===void 0)for(k=w.data[w.index]=Array(b),U=0;U<b;U++)k[U]=rE;return w.index++,k}function Ge(b,w){return typeof w=="function"?w(b):w}function At(b){var w=he();return Ft(w,Gr,b)}function Ft(b,w,k){var U=b.queue;if(U===null)throw Error(i(311));U.lastRenderedReducer=k;var Y=b.baseQueue,re=U.pending;if(re!==null){if(Y!==null){var Se=Y.next;Y.next=re.next,re.next=Se}w.baseQueue=Y=re,U.pending=null}if(re=b.baseState,Y===null)b.memoizedState=re;else{w=Y.next;var Fe=Se=null,$e=null,St=w,Vt=!1;do{var $t=St.lane&-536870913;if($t!==St.lane?(cr&$t)===$t:(Xu&$t)===$t){var rn=St.revertLane;if(rn===0)$e!==null&&($e=$e.next={lane:0,revertLane:0,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null}),$t===co&&(Vt=!0);else if((Xu&rn)===rn){St=St.next,rn===co&&(Vt=!0);continue}else $t={lane:0,revertLane:St.revertLane,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null},$e===null?(Fe=$e=$t,Se=re):$e=$e.next=$t,rr.lanes|=rn,nl|=rn;$t=St.action,Kc&&k(re,$t),re=St.hasEagerState?St.eagerState:k(re,$t)}else rn={lane:$t,revertLane:St.revertLane,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null},$e===null?(Fe=$e=rn,Se=re):$e=$e.next=rn,rr.lanes|=$t,nl|=$t;St=St.next}while(St!==null&&St!==w);if($e===null?Se=re:$e.next=Fe,!Xo(re,b.memoizedState)&&(qi=!0,Vt&&(k=fd,k!==null)))throw k;b.memoizedState=re,b.baseState=Se,b.baseQueue=$e,U.lastRenderedState=re}return Y===null&&(U.lanes=0),[b.memoizedState,U.dispatch]}function qt(b){var w=he(),k=w.queue;if(k===null)throw Error(i(311));k.lastRenderedReducer=b;var U=k.dispatch,Y=k.pending,re=w.memoizedState;if(Y!==null){k.pending=null;var Se=Y=Y.next;do re=b(re,Se.action),Se=Se.next;while(Se!==Y);Xo(re,w.memoizedState)||(qi=!0),w.memoizedState=re,w.baseQueue===null&&(w.baseState=re),k.lastRenderedState=re}return[re,U]}function Kt(b,w,k){var U=rr,Y=he(),re=Rr;if(re){if(k===void 0)throw Error(i(407));k=k()}else k=w();var Se=!Xo((Gr||Y).memoizedState,k);if(Se&&(Y.memoizedState=k,qi=!0),Y=Y.queue,cm(mn.bind(null,U,Y,b),[b]),Y.getSnapshot!==w||Se||Yi!==null&&Yi.memoizedState.tag&1){if(U.flags|=2048,Pi(9,xn.bind(null,U,Y,k,w),{destroy:void 0},null),hr===null)throw Error(i(349));re||(Xu&60)!==0||yn(U,w,k)}return k}function yn(b,w,k){b.flags|=16384,b={getSnapshot:w,value:k},w=rr.updateQueue,w===null?(w=h1(),rr.updateQueue=w,w.stores=[b]):(k=w.stores,k===null?w.stores=[b]:k.push(b))}function xn(b,w,k,U){w.value=k,w.getSnapshot=U,In(w)&&Tr(b)}function mn(b,w,k){return k(function(){In(w)&&Tr(b)})}function In(b){var w=b.getSnapshot;b=b.value;try{var k=w();return!Xo(b,k)}catch{return!0}}function Tr(b){var w=le(b,2);w!==null&&xs(w,b,2)}function Cr(b){var w=Pt();if(typeof b=="function"){var k=b;if(b=k(),Kc){Z(!0);try{k()}finally{Z(!1)}}}return w.memoizedState=w.baseState=b,w.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ge,lastRenderedState:b},w}function mr(b,w,k,U){return b.baseState=k,Ft(b,Gr,typeof U=="function"?U:Ge)}function qr(b,w,k,U,Y){if(hh(b))throw Error(i(485));if(b=w.action,b!==null){var re={payload:Y,action:b,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Se){re.listeners.push(Se)}};kn.T!==null?k(!0):re.isTransition=!1,U(re),k=w.pending,k===null?(re.next=w.pending=re,Dn(w,re)):(re.next=k.next,w.pending=k.next=re)}}function Dn(b,w){var k=w.action,U=w.payload,Y=b.state;if(w.isTransition){var re=kn.T,Se={};kn.T=Se;try{var Fe=k(Y,U),$e=kn.S;$e!==null&&$e(Se,Fe),ii(b,w,Fe)}catch(St){na(b,w,St)}finally{kn.T=re}}else try{re=k(Y,U),ii(b,w,re)}catch(St){na(b,w,St)}}function ii(b,w,k){k!==null&&typeof k=="object"&&typeof k.then=="function"?k.then(function(U){gr(b,w,U)},function(U){return na(b,w,U)}):gr(b,w,k)}function gr(b,w,k){w.status="fulfilled",w.value=k,Lc(w),b.state=k,w=b.pending,w!==null&&(k=w.next,k===w?b.pending=null:(k=k.next,w.next=k,Dn(b,k)))}function na(b,w,k){var U=b.pending;if(b.pending=null,U!==null){U=U.next;do w.status="rejected",w.reason=k,Lc(w),w=w.next;while(w!==U)}b.action=null}function Lc(b){b=b.listeners;for(var w=0;w<b.length;w++)(0,b[w])()}function ui(b,w){return w}function Iu(b,w){if(Rr){var k=hr.formState;if(k!==null){e:{var U=rr;if(Rr){if(es){var Y=cE(es,Dl);if(Y){es=R2(Y),U=fE(Y);break e}}xe(U)}U=!1}U&&(w=k[0])}}k=Pt(),k.memoizedState=k.baseState=w,U={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:w},k.queue=U,k=Tx.bind(null,rr,U),U.dispatch=k,U=Cr(!1);var re=Cx.bind(null,rr,!1,U.queue);return U=Pt(),Y={state:w,dispatch:null,action:b,pending:null},U.queue=Y,k=qr.bind(null,rr,Y,re,k),Y.dispatch=k,U.memoizedState=b,[w,k,!1]}function ci(b){var w=he();return ya(w,Gr,b)}function ya(b,w,k){w=Ft(b,w,ui)[0],b=At(Ge)[0],w=typeof w=="object"&&w!==null&&typeof w.then=="function"?Re(w):w;var U=he(),Y=U.queue,re=Y.dispatch;return k!==U.memoizedState&&(rr.flags|=2048,Pi(9,xa.bind(null,Y,k),{destroy:void 0},null)),[w,re,b]}function xa(b,w){b.action=w}function _a(b){var w=he(),k=Gr;if(k!==null)return ya(w,k,b);he(),w=w.memoizedState,k=he();var U=k.queue.dispatch;return k.memoizedState=b,[w,U,!1]}function Pi(b,w,k,U){return b={tag:b,create:w,inst:k,deps:U,next:null},w=rr.updateQueue,w===null&&(w=h1(),rr.updateQueue=w),k=w.lastEffect,k===null?w.lastEffect=b.next=b:(U=k.next,k.next=b,b.next=U,w.lastEffect=b),b}function Kl(){return he().memoizedState}function Cl(b,w,k,U){var Y=Pt();rr.flags|=b,Y.memoizedState=Pi(1|w,k,{destroy:void 0},U===void 0?null:U)}function um(b,w,k,U){var Y=he();U=U===void 0?null:U;var re=Y.memoizedState.inst;Gr!==null&&U!==null&&Ee(U,Gr.memoizedState.deps)?Y.memoizedState=Pi(w,k,re,U):(rr.flags|=b,Y.memoizedState=Pi(1|w,k,re,U))}function kS(b,w){Cl(8390656,8,b,w)}function cm(b,w){um(2048,8,b,w)}function IM(b,w){return um(4,2,b,w)}function kM(b,w){return um(4,4,b,w)}function fm(b,w){if(typeof w=="function"){b=b();var k=w(b);return function(){typeof k=="function"?k():w(null)}}if(w!=null)return b=b(),w.current=b,function(){w.current=null}}function ku(b,w,k){k=k!=null?k.concat([b]):null,um(4,4,fm.bind(null,w,b),k)}function dm(){}function _x(b,w){var k=he();w=w===void 0?null:w;var U=k.memoizedState;return w!==null&&Ee(w,U[1])?U[0]:(k.memoizedState=[b,w],b)}function fh(b,w){var k=he();w=w===void 0?null:w;var U=k.memoizedState;if(w!==null&&Ee(w,U[1]))return U[0];if(U=b(),Kc){Z(!0);try{b()}finally{Z(!1)}}return k.memoizedState=[U,w],U}function zf(b,w,k){return k===void 0||(Xu&1073741824)!==0?b.memoizedState=w:(b.memoizedState=k,b=Ou(),rr.lanes|=b,nl|=b,k)}function LS(b,w,k,U){return Xo(k,w)?k:qu.current!==null?(b=zf(b,k,U),Xo(b,w)||(qi=!0),b):(Xu&42)===0?(qi=!0,b.memoizedState=k):(b=Ou(),rr.lanes|=b,nl|=b,w)}function bx(b,w,k,U,Y){var re=ba();bs(re!==0&&8>re?re:8);var Se=kn.T,Fe={};kn.T=Fe,Cx(b,!1,w,k);try{var $e=Y(),St=kn.S;if(St!==null&&St(Fe,$e),$e!==null&&typeof $e=="object"&&typeof $e.then=="function"){var Vt=mt($e,U);Vf(b,w,Vt,Bs(b))}else Vf(b,w,U,Bs(b))}catch($t){Vf(b,w,{then:function(){},status:"rejected",reason:$t},Bs())}finally{bs(re),kn.T=Se}}function PS(b){var w=b.memoizedState;if(w!==null)return w;w={memoizedState:oo,baseState:oo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ge,lastRenderedState:oo},next:null};var k={};return w.next={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ge,lastRenderedState:k},next:null},b.memoizedState=w,b=b.alternate,b!==null&&(b.memoizedState=w),w}function dh(){return Za(Fn)}function Lu(){return he().memoizedState}function Sx(){return he().memoizedState}function hm(b){for(var w=b.return;w!==null;){switch(w.tag){case 24:case 3:var k=Bs();b=Qe(k);var U=bt(w,b,k);U!==null&&(xs(U,w,k),Yt(U,w,k)),w={cache:Rx()},b.payload=w;return}w=w.return}}function Uf(b,w,k){var U=Bs();k={lane:U,revertLane:0,action:k,hasEagerState:!1,eagerState:null,next:null},hh(b)?pm(w,k):(k=ge(b,w,k,U),k!==null&&(xs(k,b,U),OS(k,w,U)))}function Tx(b,w,k){var U=Bs();Vf(b,w,k,U)}function Vf(b,w,k,U){var Y={lane:U,revertLane:0,action:k,hasEagerState:!1,eagerState:null,next:null};if(hh(b))pm(w,Y);else{var re=b.alternate;if(b.lanes===0&&(re===null||re.lanes===0)&&(re=w.lastRenderedReducer,re!==null))try{var Se=w.lastRenderedState,Fe=re(Se,k);if(Y.hasEagerState=!0,Y.eagerState=Fe,Xo(Fe,Se))return oe(b,w,Y,0),hr===null&&te(),!1}catch{}finally{}if(k=ge(b,w,Y,U),k!==null)return xs(k,b,U),OS(k,w,U),!0}return!1}function Cx(b,w,k,U){if(U={lane:2,revertLane:ot(),action:U,hasEagerState:!1,eagerState:null,next:null},hh(b)){if(w)throw Error(i(479))}else w=ge(b,k,U,2),w!==null&&xs(w,b,2)}function hh(b){var w=b.alternate;return b===rr||w!==null&&w===rr}function pm(b,w){Mi=Il=!0;var k=b.pending;k===null?w.next=w:(w.next=k.next,k.next=w),b.pending=w}function OS(b,w,k){if((k&4194176)!==0){var U=w.lanes;U&=b.pendingLanes,k|=U,w.lanes=k,V(b,k)}}function gs(b,w,k,U){w=b.memoizedState,k=k(U,w),k=k==null?w:wh({},w,k),b.memoizedState=k,b.lanes===0&&(b.updateQueue.baseState=k)}function Gf(b,w,k,U,Y,re,Se){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(U,re,Se):w.prototype&&w.prototype.isPureReactComponent?!Rt(k,U)||!Rt(Y,re):!0}function vm(b,w,k,U){b=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(k,U),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(k,U),w.state!==b&&p1.enqueueReplaceState(w,w.state,null)}function $l(b,w){var k=w;if("ref"in w){k={};for(var U in w)U!=="ref"&&(k[U]=w[U])}if(b=b.defaultProps){k===w&&(k=wh({},k));for(var Y in b)k[Y]===void 0&&(k[Y]=b[Y])}return k}function Ax(b,w){try{var k=b.onUncaughtError;k(w.value,{componentStack:w.stack})}catch(U){setTimeout(function(){throw U})}}function Mx(b,w,k){try{var U=b.onCaughtError;U(k.value,{componentStack:k.stack,errorBoundary:w.tag===1?w.stateNode:null})}catch(Y){setTimeout(function(){throw Y})}}function mm(b,w,k){return k=Qe(k),k.tag=3,k.payload={element:null},k.callback=function(){Ax(b,w)},k}function $p(b){return b=Qe(b),b.tag=3,b}function gm(b,w,k,U){var Y=k.type.getDerivedStateFromError;if(typeof Y=="function"){var re=U.value;b.payload=function(){return Y(re)},b.callback=function(){Mx(w,k,U)}}var Se=k.stateNode;Se!==null&&typeof Se.componentDidCatch=="function"&&(b.callback=function(){Mx(w,k,U),typeof Y!="function"&&(il===null?il=new Set([this]):il.add(this));var Fe=U.stack;this.componentDidCatch(U.value,{componentStack:Fe!==null?Fe:""})})}function LM(b,w,k,U,Y){if(k.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){if(w=k.alternate,w!==null&&ph(w,k,Y,!0),k=el.current,k!==null){switch(k.tag){case 13:return Nl===null?so():k.alternate===null&&Mr===0&&(Mr=3),k.flags&=-257,k.flags|=65536,k.lanes=Y,U===d1?k.flags|=16384:(w=k.updateQueue,w===null?k.updateQueue=new Set([U]):w.add(U),jx(b,U,Y)),!1;case 22:return k.flags|=65536,U===d1?k.flags|=16384:(w=k.updateQueue,w===null?(w={transitions:null,markerInstances:null,retryQueue:new Set([U])},k.updateQueue=w):(k=w.retryQueue,k===null?w.retryQueue=new Set([U]):k.add(U)),jx(b,U,Y)),!1}throw Error(i(435,k.tag))}return jx(b,U,Y),so(),!1}if(Rr)return w=el.current,w!==null?((w.flags&65536)===0&&(w.flags|=256),w.flags|=65536,w.lanes=Y,U!==Ym&&(b=Error(i(422),{cause:U}),pt(K(b,k)))):(U!==Ym&&(w=Error(i(423),{cause:U}),pt(K(w,k))),b=b.current.alternate,b.flags|=65536,Y&=-Y,b.lanes|=Y,U=K(U,k),Y=mm(b.stateNode,U,Y),ke(b,Y),Mr!==4&&(Mr=2)),!1;var re=Error(i(520),{cause:U});if(re=K(re,k),A0===null?A0=[re]:A0.push(re),Mr!==4&&(Mr=2),w===null)return!0;U=K(U,k),k=w;do{switch(k.tag){case 3:return k.flags|=65536,b=Y&-Y,k.lanes|=b,b=mm(k.stateNode,U,b),ke(k,b),!1;case 1:if(w=k.type,re=k.stateNode,(k.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(il===null||!il.has(re))))return k.flags|=65536,Y&=-Y,k.lanes|=Y,Y=$p(Y),gm(Y,b,k,U),ke(k,Y),!1}k=k.return}while(k!==null);return!1}function Xa(b,w,k,U){w.child=b===null?W2(w,null,k,U):dd(w,b.child,k,U)}function PM(b,w,k,U,Y){k=k.render;var re=w.ref;if("ref"in U){var Se={};for(var Fe in U)Fe!=="ref"&&(Se[Fe]=U[Fe])}else Se=U;return vh(w),U=Ne(b,w,k,Se,re,Y),Fe=rt(),b!==null&&!qi?(st(b,w,Y),Pc(b,w,Y)):(Rr&&Fe&&H(w),w.flags|=1,Xa(b,w,U,Y),w.child)}function OM(b,w,k,U,Y){if(b===null){var re=k.type;return typeof re=="function"&&!Vc(re)&&re.defaultProps===void 0&&k.compare===null?(w.tag=15,w.type=re,Ex(b,w,re,U,Y)):(b=Al(k.type,null,U,w,w.mode,Y),b.ref=w.ref,b.return=w,w.child=b)}if(re=b.child,!HS(b,Y)){var Se=re.memoizedProps;if(k=k.compare,k=k!==null?k:Rt,k(Se,U)&&b.ref===w.ref)return Pc(b,w,Y)}return w.flags|=1,b=_s(re,U),b.ref=w.ref,b.return=w,w.child=b}function Ex(b,w,k,U,Y){if(b!==null){var re=b.memoizedProps;if(Rt(re,U)&&b.ref===w.ref)if(qi=!1,w.pendingProps=U=re,HS(b,Y))(b.flags&131072)!==0&&(qi=!0);else return w.lanes=b.lanes,Pc(b,w,Y)}return FS(b,w,k,U,Y)}function FM(b,w,k){var U=w.pendingProps,Y=U.children,re=(w.stateNode._pendingVisibility&2)!==0,Se=b!==null?b.memoizedState:null;if(ym(b,w),U.mode==="hidden"||re){if((w.flags&128)!==0){if(U=Se!==null?Se.baseLanes|k:k,b!==null){for(Y=w.child=b.child,re=0;Y!==null;)re=re|Y.lanes|Y.childLanes,Y=Y.sibling;w.childLanes=re&~U}else w.childLanes=0,w.child=null;return BM(b,w,U,k)}if((k&536870912)!==0)w.memoizedState={baseLanes:0,cachePool:null},b!==null&&Nx(w,Se!==null?Se.cachePool:null),Se!==null?vs(w,Se):Li(),ms(w);else return w.lanes=w.childLanes=536870912,BM(b,w,Se!==null?Se.baseLanes|k:k,k)}else Se!==null?(Nx(w,Se.cachePool),vs(w,Se),ye(),w.memoizedState=null):(b!==null&&Nx(w,null),Li(),ye());return Xa(b,w,Y,k),w.child}function BM(b,w,k,U){var Y=Wf();return Y=Y===null?null:{parent:Gu?Xr._currentValue:Xr._currentValue2,pool:Y},w.memoizedState={baseLanes:k,cachePool:Y},b!==null&&Nx(w,null),Li(),ms(w),b!==null&&ph(b,w,U,!0),null}function ym(b,w){var k=w.ref;if(k===null)b!==null&&b.ref!==null&&(w.flags|=2097664);else{if(typeof k!="function"&&typeof k!="object")throw Error(i(284));(b===null||b.ref!==k)&&(w.flags|=2097664)}}function FS(b,w,k,U,Y){return vh(w),k=Ne(b,w,k,U,void 0,Y),U=rt(),b!==null&&!qi?(st(b,w,Y),Pc(b,w,Y)):(Rr&&U&&H(w),w.flags|=1,Xa(b,w,k,Y),w.child)}function zM(b,w,k,U,Y,re){return vh(w),w.updateQueue=null,k=xt(w,U,k,Y),et(b),U=rt(),b!==null&&!qi?(st(b,w,re),Pc(b,w,re)):(Rr&&U&&H(w),w.flags|=1,Xa(b,w,k,re),w.child)}function BS(b,w,k,U,Y){if(vh(w),w.stateNode===null){var re=Eh,Se=k.contextType;typeof Se=="object"&&Se!==null&&(re=Za(Se)),re=new k(U,re),w.memoizedState=re.state!==null&&re.state!==void 0?re.state:null,re.updater=p1,w.stateNode=re,re._reactInternals=w,re=w.stateNode,re.props=U,re.state=w.memoizedState,re.refs={},Nt(w),Se=k.contextType,re.context=typeof Se=="object"&&Se!==null?Za(Se):Eh,re.state=w.memoizedState,Se=k.getDerivedStateFromProps,typeof Se=="function"&&(gs(w,k,Se,U),re.state=w.memoizedState),typeof k.getDerivedStateFromProps=="function"||typeof re.getSnapshotBeforeUpdate=="function"||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(Se=re.state,typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount(),Se!==re.state&&p1.enqueueReplaceState(re,re.state,null),Et(w,U,re,Y),Je(),re.state=w.memoizedState),typeof re.componentDidMount=="function"&&(w.flags|=4194308),U=!0}else if(b===null){re=w.stateNode;var Fe=w.memoizedProps,$e=$l(k,Fe);re.props=$e;var St=re.context,Vt=k.contextType;Se=Eh,typeof Vt=="object"&&Vt!==null&&(Se=Za(Vt));var $t=k.getDerivedStateFromProps;Vt=typeof $t=="function"||typeof re.getSnapshotBeforeUpdate=="function",Fe=w.pendingProps!==Fe,Vt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(Fe||St!==Se)&&vm(w,re,U,Se),Zc=!1;var rn=w.memoizedState;re.state=rn,Et(w,U,re,Y),Je(),St=w.memoizedState,Fe||rn!==St||Zc?(typeof $t=="function"&&(gs(w,k,$t,U),St=w.memoizedState),($e=Zc||Gf(w,k,$e,U,rn,St,Se))?(Vt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(w.flags|=4194308)):(typeof re.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=U,w.memoizedState=St),re.props=U,re.state=St,re.context=Se,U=$e):(typeof re.componentDidMount=="function"&&(w.flags|=4194308),U=!1)}else{re=w.stateNode,Ht(b,w),Se=w.memoizedProps,Vt=$l(k,Se),re.props=Vt,$t=w.pendingProps,rn=re.context,St=k.contextType,$e=Eh,typeof St=="object"&&St!==null&&($e=Za(St)),Fe=k.getDerivedStateFromProps,(St=typeof Fe=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(Se!==$t||rn!==$e)&&vm(w,re,U,$e),Zc=!1,rn=w.memoizedState,re.state=rn,Et(w,U,re,Y),Je();var qn=w.memoizedState;Se!==$t||rn!==qn||Zc||b!==null&&b.dependencies!==null&&jf(b.dependencies)?(typeof Fe=="function"&&(gs(w,k,Fe,U),qn=w.memoizedState),(Vt=Zc||Gf(w,k,Vt,U,rn,qn,$e)||b!==null&&b.dependencies!==null&&jf(b.dependencies))?(St||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(U,qn,$e),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(U,qn,$e)),typeof re.componentDidUpdate=="function"&&(w.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof re.componentDidUpdate!="function"||Se===b.memoizedProps&&rn===b.memoizedState||(w.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||Se===b.memoizedProps&&rn===b.memoizedState||(w.flags|=1024),w.memoizedProps=U,w.memoizedState=qn),re.props=U,re.state=qn,re.context=$e,U=Vt):(typeof re.componentDidUpdate!="function"||Se===b.memoizedProps&&rn===b.memoizedState||(w.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||Se===b.memoizedProps&&rn===b.memoizedState||(w.flags|=1024),U=!1)}return re=U,ym(b,w),U=(w.flags&128)!==0,re||U?(re=w.stateNode,k=U&&typeof k.getDerivedStateFromError!="function"?null:re.render(),w.flags|=1,b!==null&&U?(w.child=dd(w,b.child,null,Y),w.child=dd(w,null,k,Y)):Xa(b,w,k,Y),w.memoizedState=re.state,b=w.child):b=Pc(b,w,Y),b}function UM(b,w,k,U){return pe(),w.flags|=256,Xa(b,w,k,U),w.child}function zS(b){return{baseLanes:b,cachePool:WM()}}function US(b,w,k){return b=b!==null?b.childLanes&~k:0,w&&(b|=po),b}function VM(b,w,k){var U=w.pendingProps,Y=!1,re=(w.flags&128)!==0,Se;if((Se=re)||(Se=b!==null&&b.memoizedState===null?!1:(ia.current&2)!==0),Se&&(Y=!0,w.flags&=-129),Se=(w.flags&32)!==0,w.flags&=-33,b===null){if(Rr){if(Y?mi(w):ye(),Rr){var Fe=es,$e;($e=Fe)&&(Fe=mE(Fe,Dl),Fe!==null?(w.memoizedState={dehydrated:Fe,treeContext:nu!==null?{id:Wu,overflow:El}:null,retryLane:536870912},$e=t(18,null,null,0),$e.stateNode=Fe,$e.return=w,w.child=$e,Ss=w,es=null,$e=!0):$e=!1),$e||xe(w)}if(Fe=w.memoizedState,Fe!==null&&(Fe=Fe.dehydrated,Fe!==null))return Bm(Fe)?w.lanes=16:w.lanes=536870912,null;Me(w)}return Fe=U.children,U=U.fallback,Y?(ye(),Y=w.mode,Fe=VS({mode:"hidden",children:Fe},Y),U=Hc(U,Y,k,null),Fe.return=w,U.return=w,Fe.sibling=U,w.child=Fe,Y=w.child,Y.memoizedState=zS(k),Y.childLanes=US(b,Se,k),w.memoizedState=Ts,U):(mi(w),xm(w,Fe))}if($e=b.memoizedState,$e!==null&&(Fe=$e.dehydrated,Fe!==null)){if(re)w.flags&256?(mi(w),w.flags&=-257,w=GS(b,w,k)):w.memoizedState!==null?(ye(),w.child=b.child,w.flags|=128,w=null):(ye(),Y=U.fallback,Fe=w.mode,U=VS({mode:"visible",children:U.children},Fe),Y=Hc(Y,Fe,k,null),Y.flags|=2,U.return=w,Y.return=w,U.sibling=Y,w.child=U,dd(w,b.child,null,k),U=w.child,U.memoizedState=zS(k),U.childLanes=US(b,Se,k),w.memoizedState=Ts,w=Y);else if(mi(w),Bm(Fe))Se=uE(Fe).digest,U=Error(i(419)),U.stack="",U.digest=Se,pt({value:U,source:null,stack:null}),w=GS(b,w,k);else if(qi||ph(b,w,k,!1),Se=(k&b.childLanes)!==0,qi||Se){if(Se=hr,Se!==null){if(U=k&-k,(U&42)!==0)U=1;else switch(U){case 2:U=1;break;case 8:U=4;break;case 32:U=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:U=64;break;case 268435456:U=134217728;break;default:U=0}if(U=(U&(Se.suspendedLanes|k))!==0?0:U,U!==0&&U!==$e.retryLane)throw $e.retryLane=U,le(b,U),xs(Se,b,U),NE}n1(Fe)||so(),w=GS(b,w,k)}else n1(Fe)?(w.flags|=128,w.child=b.child,w=bh.bind(null,b),OP(Fe,w),w=null):(b=$e.treeContext,zs&&(es=hE(Fe),Ss=w,Rr=!0,$o=null,Dl=!1,b!==null&&(Zo[Ko++]=Wu,Zo[Ko++]=El,Zo[Ko++]=nu,Wu=b.id,El=b.overflow,nu=w)),w=xm(w,U.children),w.flags|=4096);return w}return Y?(ye(),Y=U.fallback,Fe=w.mode,$e=b.child,re=$e.sibling,U=_s($e,{mode:"hidden",children:U.children}),U.subtreeFlags=$e.subtreeFlags&31457280,re!==null?Y=_s(re,Y):(Y=Hc(Y,Fe,k,null),Y.flags|=2),Y.return=w,U.return=w,U.sibling=Y,w.child=U,U=Y,Y=w.child,Fe=b.child.memoizedState,Fe===null?Fe=zS(k):($e=Fe.cachePool,$e!==null?(re=Gu?Xr._currentValue:Xr._currentValue2,$e=$e.parent!==re?{parent:re,pool:re}:$e):$e=WM(),Fe={baseLanes:Fe.baseLanes|k,cachePool:$e}),Y.memoizedState=Fe,Y.childLanes=US(b,Se,k),w.memoizedState=Ts,U):(mi(w),k=b.child,b=k.sibling,k=_s(k,{mode:"visible",children:U.children}),k.return=w,k.sibling=null,b!==null&&(Se=w.deletions,Se===null?(w.deletions=[b],w.flags|=16):Se.push(b)),w.child=k,w.memoizedState=null,k)}function xm(b,w){return w=VS({mode:"visible",children:w},b.mode),w.return=b,b.child=w}function VS(b,w){return Wx(b,w,0,null)}function GS(b,w,k){return dd(w,b.child,null,k),b=xm(w,w.pendingProps.children),b.flags|=2,w.memoizedState=null,b}function GM(b,w,k){b.lanes|=w;var U=b.alternate;U!==null&&(U.lanes|=w),jS(b.return,w,k)}function Dx(b,w,k,U,Y){var re=b.memoizedState;re===null?b.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:U,tail:k,tailMode:Y}:(re.isBackwards=w,re.rendering=null,re.renderingStartTime=0,re.last=U,re.tail=k,re.tailMode=Y)}function HM(b,w,k){var U=w.pendingProps,Y=U.revealOrder,re=U.tail;if(Xa(b,w,U.children,k),U=ia.current,(U&2)!==0)U=U&1|2,w.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=w.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&GM(b,k,w);else if(b.tag===19)GM(b,k,w);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===w)break e;for(;b.sibling===null;){if(b.return===null||b.return===w)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}U&=1}switch(_(ia,U),Y){case"forwards":for(k=w.child,Y=null;k!==null;)b=k.alternate,b!==null&&Ce(b)===null&&(Y=k),k=k.sibling;k=Y,k===null?(Y=w.child,w.child=null):(Y=k.sibling,k.sibling=null),Dx(w,!1,Y,k,re);break;case"backwards":for(k=null,Y=w.child,w.child=null;Y!==null;){if(b=Y.alternate,b!==null&&Ce(b)===null){w.child=Y;break}b=Y.sibling,Y.sibling=k,k=Y,Y=b}Dx(w,!0,k,null,re);break;case"together":Dx(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function Pc(b,w,k){if(b!==null&&(w.dependencies=b.dependencies),nl|=w.lanes,(k&w.childLanes)===0)if(b!==null){if(ph(b,w,k,!1),(k&w.childLanes)===0)return null}else return null;if(b!==null&&w.child!==b.child)throw Error(i(153));if(w.child!==null){for(b=w.child,k=_s(b,b.pendingProps),w.child=k,k.return=w;b.sibling!==null;)b=b.sibling,k=k.sibling=_s(b,b.pendingProps),k.return=w;k.sibling=null}return w.child}function HS(b,w){return(b.lanes&w)!==0?!0:(b=b.dependencies,!!(b!==null&&jf(b)))}function kP(b,w,k){switch(w.tag){case 3:Q(w,w.stateNode.containerInfo),Hf(w,Xr,b.memoizedState.cache),pe();break;case 27:case 5:ce(w);break;case 4:Q(w,w.stateNode.containerInfo);break;case 10:Hf(w,w.type,w.memoizedProps.value);break;case 13:var U=w.memoizedState;if(U!==null)return U.dehydrated!==null?(mi(w),w.flags|=128,null):(k&w.child.childLanes)!==0?VM(b,w,k):(mi(w),b=Pc(b,w,k),b!==null?b.sibling:null);mi(w);break;case 19:var Y=(b.flags&128)!==0;if(U=(k&w.childLanes)!==0,U||(ph(b,w,k,!1),U=(k&w.childLanes)!==0),Y){if(U)return HM(b,w,k);w.flags|=128}if(Y=w.memoizedState,Y!==null&&(Y.rendering=null,Y.tail=null,Y.lastEffect=null),_(ia,ia.current),U)break;return null;case 22:case 23:return w.lanes=0,FM(b,w,k);case 24:Hf(w,Xr,b.memoizedState.cache)}return Pc(b,w,k)}function jM(b,w,k){if(b!==null)if(b.memoizedProps!==w.pendingProps)qi=!0;else{if(!HS(b,k)&&(w.flags&128)===0)return qi=!1,kP(b,w,k);qi=(b.flags&131072)!==0}else qi=!1,Rr&&(w.flags&1048576)!==0&&J(w,jm,w.index);switch(w.lanes=0,w.tag){case 16:e:{b=w.pendingProps;var U=w.elementType,Y=U._init;if(U=Y(U._payload),w.type=U,typeof U=="function")Vc(U)?(b=$l(U,b),w.tag=1,w=BS(null,w,U,b,k)):(w.tag=0,w=FS(null,w,U,b,k));else{if(U!=null){if(Y=U.$$typeof,Y===h0){w.tag=11,w=PM(null,w,U,b,k);break e}else if(Y===Rm){w.tag=14,w=OM(null,w,U,b,k);break e}}throw w=s(U)||U,Error(i(306,w,""))}}return w;case 0:return FS(b,w,w.type,w.pendingProps,k);case 1:return U=w.type,Y=$l(U,w.pendingProps),BS(b,w,U,Y,k);case 3:e:{if(Q(w,w.stateNode.containerInfo),b===null)throw Error(i(387));var re=w.pendingProps;Y=w.memoizedState,U=Y.element,Ht(b,w),Et(w,re,null,k);var Se=w.memoizedState;if(re=Se.cache,Hf(w,Xr,re),re!==Y.cache&&WS(w,[Xr],k,!0),Je(),re=Se.element,zs&&Y.isDehydrated)if(Y={element:re,isDehydrated:!1,cache:Se.cache},w.updateQueue.baseState=Y,w.memoizedState=Y,w.flags&256){w=UM(b,w,re,k);break e}else if(re!==U){U=K(Error(i(424)),w),pt(U),w=UM(b,w,re,k);break e}else for(zs&&(es=dE(w.stateNode.containerInfo),Ss=w,Rr=!0,$o=null,Dl=!0),k=W2(w,null,re,k),w.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(pe(),re===U){w=Pc(b,w,k);break e}Xa(b,w,re,k)}w=w.child}return w;case 26:if(qo)return ym(b,w),b===null?(k=o1(w.type,null,w.pendingProps,null))?w.memoizedState=k:Rr||(w.stateNode=BP(w.type,w.pendingProps,ru.current,w)):w.memoizedState=o1(w.type,b.memoizedProps,w.pendingProps,b.memoizedState),null;case 27:if(Ja)return ce(w),b===null&&Ja&&Rr&&(U=w.stateNode=V2(w.type,w.pendingProps,ru.current,Fa.current,!1),Ss=w,Dl=!0,es=r1(U)),U=w.pendingProps.children,b!==null||Rr?Xa(b,w,U,k):w.child=dd(w,null,U,k),ym(b,w),w.child;case 5:return b===null&&Rr&&(bE(w.type,w.pendingProps,Fa.current),(Y=U=es)&&(U=pE(U,w.type,w.pendingProps,Dl),U!==null?(w.stateNode=U,Ss=w,es=r1(U),Dl=!1,Y=!0):Y=!1),Y||xe(w)),ce(w),Y=w.type,re=w.pendingProps,Se=b!==null?b.memoizedProps:null,U=re.children,od(Y,re)?U=null:Se!==null&&od(Y,Se)&&(w.flags|=32),w.memoizedState!==null&&(Y=Ne(b,w,tt,null,null,k),Gu?Fn._currentValue=Y:Fn._currentValue2=Y),ym(b,w),Xa(b,w,U,k),w.child;case 6:return b===null&&Rr&&(SE(w.pendingProps,Fa.current),(b=k=es)&&(k=vE(k,w.pendingProps,Dl),k!==null?(w.stateNode=k,Ss=w,es=null,b=!0):b=!1),b||xe(w)),null;case 13:return VM(b,w,k);case 4:return Q(w,w.stateNode.containerInfo),U=w.pendingProps,b===null?w.child=dd(w,null,U,k):Xa(b,w,U,k),w.child;case 11:return PM(b,w,w.type,w.pendingProps,k);case 7:return Xa(b,w,w.pendingProps,k),w.child;case 8:return Xa(b,w,w.pendingProps.children,k),w.child;case 12:return Xa(b,w,w.pendingProps.children,k),w.child;case 10:return U=w.pendingProps,Hf(w,w.type,U.value),Xa(b,w,U.children,k),w.child;case 9:return Y=w.type._context,U=w.pendingProps.children,vh(w),Y=Za(Y),U=U(Y),w.flags|=1,Xa(b,w,U,k),w.child;case 14:return OM(b,w,w.type,w.pendingProps,k);case 15:return Ex(b,w,w.type,w.pendingProps,k);case 19:return HM(b,w,k);case 22:return FM(b,w,k);case 24:return vh(w),U=Za(Xr),b===null?(Y=Wf(),Y===null&&(Y=hr,re=Rx(),Y.pooledCache=re,re.refCount++,re!==null&&(Y.pooledCacheLanes|=k),Y=re),w.memoizedState={parent:U,cache:Y},Nt(w),Hf(w,Xr,Y)):((b.lanes&k)!==0&&(Ht(b,w),Et(w,null,null,k),Je()),Y=b.memoizedState,re=w.memoizedState,Y.parent!==U?(Y={parent:U,cache:U},w.memoizedState=Y,w.lanes===0&&(w.memoizedState=w.updateQueue.baseState=Y),Hf(w,Xr,U)):(U=re.cache,Hf(w,Xr,U),U!==Y.cache&&WS(w,[Xr],k,!0))),Xa(b,w,w.pendingProps.children,k),w.child;case 29:throw w.pendingProps}throw Error(i(156,w.tag))}function Hf(b,w,k){Gu?(_(fo,w._currentValue),w._currentValue=k):(_(fo,w._currentValue2),w._currentValue2=k)}function Oc(b){var w=fo.current;Gu?b._currentValue=w:b._currentValue2=w,y(fo)}function jS(b,w,k){for(;b!==null;){var U=b.alternate;if((b.childLanes&w)!==w?(b.childLanes|=w,U!==null&&(U.childLanes|=w)):U!==null&&(U.childLanes&w)!==w&&(U.childLanes|=w),b===k)break;b=b.return}}function WS(b,w,k,U){var Y=b.child;for(Y!==null&&(Y.return=b);Y!==null;){var re=Y.dependencies;if(re!==null){var Se=Y.child;re=re.firstContext;e:for(;re!==null;){var Fe=re;re=Y;for(var $e=0;$e<w.length;$e++)if(Fe.context===w[$e]){re.lanes|=k,Fe=re.alternate,Fe!==null&&(Fe.lanes|=k),jS(re.return,k,b),U||(Se=null);break e}re=Fe.next}}else if(Y.tag===18){if(Se=Y.return,Se===null)throw Error(i(341));Se.lanes|=k,re=Se.alternate,re!==null&&(re.lanes|=k),jS(Se,k,b),Se=null}else Se=Y.child;if(Se!==null)Se.return=Y;else for(Se=Y;Se!==null;){if(Se===b){Se=null;break}if(Y=Se.sibling,Y!==null){Y.return=Se.return,Se=Y;break}Se=Se.return}Y=Se}}function ph(b,w,k,U){b=null;for(var Y=w,re=!1;Y!==null;){if(!re){if((Y.flags&524288)!==0)re=!0;else if((Y.flags&262144)!==0)break}if(Y.tag===10){var Se=Y.alternate;if(Se===null)throw Error(i(387));if(Se=Se.memoizedProps,Se!==null){var Fe=Y.type;Xo(Y.pendingProps.value,Se.value)||(b!==null?b.push(Fe):b=[Fe])}}else if(Y===_0.current){if(Se=Y.alternate,Se===null)throw Error(i(387));Se.memoizedState.memoizedState!==Y.memoizedState.memoizedState&&(b!==null?b.push(Fn):b=[Fn])}Y=Y.return}b!==null&&WS(w,b,k,U),w.flags|=262144}function jf(b){for(b=b.firstContext;b!==null;){var w=b.context;if(!Xo(Gu?w._currentValue:w._currentValue2,b.memoizedValue))return!0;b=b.next}return!1}function vh(b){pd=b,Ui=null,b=b.dependencies,b!==null&&(b.firstContext=null)}function Za(b){return YS(pd,b)}function _m(b,w){return pd===null&&vh(b),YS(b,w)}function YS(b,w){var k=Gu?w._currentValue:w._currentValue2;if(w={context:w,memoizedValue:k,next:null},Ui===null){if(b===null)throw Error(i(308));Ui=w,b.dependencies={lanes:0,firstContext:w},b.flags|=524288}else Ui=Ui.next=w;return k}function Rx(){return{controller:new IE,data:new Map,refCount:0}}function Jp(b){b.refCount--,b.refCount===0&&$c(Nh,function(){b.controller.abort()})}function Wf(){var b=Jc.current;return b!==null?b:hr.pooledCache}function Nx(b,w){w===null?_(Jc,Jc.current):_(Jc,w.pool)}function WM(){var b=Wf();return b===null?null:{parent:Gu?Xr._currentValue:Xr._currentValue2,pool:b}}function Go(b){b.flags|=4}function qS(b,w){if(b!==null&&b.child===w.child)return!1;if((w.flags&16)!==0)return!0;for(b=w.child;b!==null;){if((b.flags&13878)!==0||(b.subtreeFlags&13878)!==0)return!0;b=b.sibling}return!1}function Ix(b,w,k,U){if($a)for(k=w.child;k!==null;){if(k.tag===5||k.tag===6)Vu(b,k.stateNode);else if(!(k.tag===4||Ja&&k.tag===27)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===w)break;for(;k.sibling===null;){if(k.return===null||k.return===w)return;k=k.return}k.sibling.return=k.return,k=k.sibling}else if(Wo)for(var Y=w.child;Y!==null;){if(Y.tag===5){var re=Y.stateNode;k&&U&&(re=E2(re,Y.type,Y.memoizedProps)),Vu(b,re)}else if(Y.tag===6)re=Y.stateNode,k&&U&&(re=D2(re,Y.memoizedProps)),Vu(b,re);else if(Y.tag!==4){if(Y.tag===22&&Y.memoizedState!==null)re=Y.child,re!==null&&(re.return=Y),Ix(b,Y,!0,!0);else if(Y.child!==null){Y.child.return=Y,Y=Y.child;continue}}if(Y===w)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===w)return;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}}function Qp(b,w,k,U){if(Wo)for(var Y=w.child;Y!==null;){if(Y.tag===5){var re=Y.stateNode;k&&U&&(re=E2(re,Y.type,Y.memoizedProps)),A2(b,re)}else if(Y.tag===6)re=Y.stateNode,k&&U&&(re=D2(re,Y.memoizedProps)),A2(b,re);else if(Y.tag!==4){if(Y.tag===22&&Y.memoizedState!==null)re=Y.child,re!==null&&(re.return=Y),Qp(b,Y,!(Y.memoizedProps!==null&&Y.memoizedProps.mode==="manual"),!0);else if(Y.child!==null){Y.child.return=Y,Y=Y.child;continue}}if(Y===w)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===w)return;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}}function e0(b,w){if(Wo&&qS(b,w)){b=w.stateNode;var k=b.containerInfo,U=t1();Qp(U,w,!1,!1),b.pendingChildren=U,Go(w),lE(k,U)}}function XS(b,w,k,U){if($a)b.memoizedProps!==U&&Go(w);else if(Wo){var Y=b.stateNode,re=b.memoizedProps;if((b=qS(b,w))||re!==U){var Se=Fa.current;re=C2(Y,k,re,U,!b,null),re===Y?w.stateNode=Y:(Wc(re,k,U,Se)&&Go(w),w.stateNode=re,b?Ix(re,w,!1,!1):Go(w))}else w.stateNode=Y}}function t0(b,w,k){if(aE(w,k)){if(b.flags|=16777216,!Yc(w,k))if(Am())b.flags|=8192;else throw Rh=d1,j2}else b.flags&=-16777217}function ZS(b,w){if(wE(w)){if(b.flags|=16777216,!z2(w))if(Am())b.flags|=8192;else throw Rh=d1,j2}else b.flags&=-16777217}function bm(b,w){w!==null&&(b.flags|=4),b.flags&16384&&(w=b.tag!==22?N():536870912,b.lanes|=w,ef|=w)}function mh(b,w){if(!Rr)switch(b.tailMode){case"hidden":w=b.tail;for(var k=null;w!==null;)w.alternate!==null&&(k=w),w=w.sibling;k===null?b.tail=null:k.sibling=null;break;case"collapsed":k=b.tail;for(var U=null;k!==null;)k.alternate!==null&&(U=k),k=k.sibling;U===null?w||b.tail===null?b.tail=null:b.tail.sibling=null:U.sibling=null}}function Ti(b){var w=b.alternate!==null&&b.alternate.child===b.child,k=0,U=0;if(w)for(var Y=b.child;Y!==null;)k|=Y.lanes|Y.childLanes,U|=Y.subtreeFlags&31457280,U|=Y.flags&31457280,Y.return=b,Y=Y.sibling;else for(Y=b.child;Y!==null;)k|=Y.lanes|Y.childLanes,U|=Y.subtreeFlags,U|=Y.flags,Y.return=b,Y=Y.sibling;return b.subtreeFlags|=U,b.childLanes=k,w}function YM(b,w,k){var U=w.pendingProps;switch(ee(w),w.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(w),null;case 1:return Ti(w),null;case 3:return k=w.stateNode,U=null,b!==null&&(U=b.memoizedState.cache),w.memoizedState.cache!==U&&(w.flags|=2048),Oc(Xr),ne(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(b===null||b.child===null)&&(Ue(w)?Go(w):b===null||b.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,$o!==null&&(Bc($o),$o=null))),e0(b,w),Ti(w),null;case 26:if(qo){k=w.type;var Y=w.memoizedState;return b===null?(Go(w),Y!==null?(Ti(w),ZS(w,Y)):(Ti(w),t0(w,k,U))):Y?Y!==b.memoizedState?(Go(w),Ti(w),ZS(w,Y)):(Ti(w),w.flags&=-16777217):($a?b.memoizedProps!==U&&Go(w):XS(b,w,k,U),Ti(w),t0(w,k,U)),null}case 27:if(Ja){if(ve(w),k=ru.current,Y=w.type,b!==null&&w.stateNode!=null)$a?b.memoizedProps!==U&&Go(w):XS(b,w,Y,U);else{if(!U){if(w.stateNode===null)throw Error(i(166));return Ti(w),null}b=Fa.current,Ue(w)?we(w,b):(b=V2(Y,U,k,b,!0),w.stateNode=b,Go(w))}return Ti(w),null}case 5:if(ve(w),k=w.type,b!==null&&w.stateNode!=null)XS(b,w,k,U);else{if(!U){if(w.stateNode===null)throw Error(i(166));return Ti(w),null}b=Fa.current,Ue(w)?we(w,b):(Y=p2(k,U,ru.current,b,w),Ix(Y,w,!1,!1),w.stateNode=Y,Wc(Y,k,U,b)&&Go(w))}return Ti(w),t0(w,w.type,w.pendingProps),null;case 6:if(b&&w.stateNode!=null)k=b.memoizedProps,$a?k!==U&&Go(w):Wo&&(k!==U?(w.stateNode=Zx(U,ru.current,Fa.current,w),Go(w)):w.stateNode=b.stateNode);else{if(typeof U!="string"&&w.stateNode===null)throw Error(i(166));if(b=ru.current,k=Fa.current,Ue(w)){if(!zs)throw Error(i(176));if(b=w.stateNode,k=w.memoizedProps,U=null,Y=Ss,Y!==null)switch(Y.tag){case 27:case 5:U=Y.memoizedProps}gE(b,k,w,U)||xe(w)}else w.stateNode=Zx(U,b,k,w)}return Ti(w),null;case 13:if(U=w.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Y=Ue(w),U!==null&&U.dehydrated!==null){if(b===null){if(!Y)throw Error(i(318));if(!zs)throw Error(i(344));if(Y=w.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error(i(317));v0(Y,w)}else pe(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;Ti(w),Y=!1}else $o!==null&&(Bc($o),$o=null),Y=!0;if(!Y)return w.flags&256?(Me(w),w):(Me(w),null)}if(Me(w),(w.flags&128)!==0)return w.lanes=k,w;if(k=U!==null,b=b!==null&&b.memoizedState!==null,k){U=w.child,Y=null,U.alternate!==null&&U.alternate.memoizedState!==null&&U.alternate.memoizedState.cachePool!==null&&(Y=U.alternate.memoizedState.cachePool.pool);var re=null;U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(re=U.memoizedState.cachePool.pool),re!==Y&&(U.flags|=2048)}return k!==b&&k&&(w.child.flags|=8192),bm(w,w.updateQueue),Ti(w),null;case 4:return ne(),e0(b,w),b===null&&g2(w.stateNode.containerInfo),Ti(w),null;case 10:return Oc(w.type),Ti(w),null;case 19:if(y(ia),Y=w.memoizedState,Y===null)return Ti(w),null;if(U=(w.flags&128)!==0,re=Y.rendering,re===null)if(U)mh(Y,!1);else{if(Mr!==0||b!==null&&(b.flags&128)!==0)for(b=w.child;b!==null;){if(re=Ce(b),re!==null){for(w.flags|=128,mh(Y,!1),b=re.updateQueue,w.updateQueue=b,bm(w,b),w.subtreeFlags=0,b=k,k=w.child;k!==null;)Gc(k,b),k=k.sibling;return _(ia,ia.current&1|2),w.child}b=b.sibling}Y.tail!==null&&Qa()>Ii&&(w.flags|=128,U=!0,mh(Y,!1),w.lanes=4194304)}else{if(!U)if(b=Ce(re),b!==null){if(w.flags|=128,U=!0,b=b.updateQueue,w.updateQueue=b,bm(w,b),mh(Y,!0),Y.tail===null&&Y.tailMode==="hidden"&&!re.alternate&&!Rr)return Ti(w),null}else 2*Qa()-Y.renderingStartTime>Ii&&k!==536870912&&(w.flags|=128,U=!0,mh(Y,!1),w.lanes=4194304);Y.isBackwards?(re.sibling=w.child,w.child=re):(b=Y.last,b!==null?b.sibling=re:w.child=re,Y.last=re)}return Y.tail!==null?(w=Y.tail,Y.rendering=w,Y.tail=w.sibling,Y.renderingStartTime=Qa(),w.sibling=null,b=ia.current,_(ia,U?b&1|2:b&1),w):(Ti(w),null);case 22:case 23:return Me(w),ga(),U=w.memoizedState!==null,b!==null?b.memoizedState!==null!==U&&(w.flags|=8192):U&&(w.flags|=8192),U?(k&536870912)!==0&&(w.flags&128)===0&&(Ti(w),w.subtreeFlags&6&&(w.flags|=8192)):Ti(w),k=w.updateQueue,k!==null&&bm(w,k.retryQueue),k=null,b!==null&&b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(k=b.memoizedState.cachePool.pool),U=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(U=w.memoizedState.cachePool.pool),U!==k&&(w.flags|=2048),b!==null&&y(Jc),null;case 24:return k=null,b!==null&&(k=b.memoizedState.cache),w.memoizedState.cache!==k&&(w.flags|=2048),Oc(Xr),Ti(w),null;case 25:return null}throw Error(i(156,w.tag))}function qM(b,w){switch(ee(w),w.tag){case 1:return b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 3:return Oc(Xr),ne(),b=w.flags,(b&65536)!==0&&(b&128)===0?(w.flags=b&-65537|128,w):null;case 26:case 27:case 5:return ve(w),null;case 13:if(Me(w),b=w.memoizedState,b!==null&&b.dehydrated!==null){if(w.alternate===null)throw Error(i(340));pe()}return b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 19:return y(ia),null;case 4:return ne(),null;case 10:return Oc(w.type),null;case 22:case 23:return Me(w),ga(),b!==null&&y(Jc),b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 24:return Oc(Xr),null;case 25:return null;default:return null}}function KS(b,w){switch(ee(w),w.tag){case 3:Oc(Xr),ne();break;case 26:case 27:case 5:ve(w);break;case 4:ne();break;case 13:Me(w);break;case 19:y(ia);break;case 10:Oc(w.type);break;case 22:case 23:Me(w),ga(),b!==null&&y(Jc);break;case 24:Oc(Xr)}}function Sm(b,w){try{var k=w.updateQueue,U=k!==null?k.lastEffect:null;if(U!==null){var Y=U.next;k=Y;do{if((k.tag&b)===b){U=void 0;var re=k.create,Se=k.inst;U=re(),Se.destroy=U}k=k.next}while(k!==Y)}}catch(Fe){yr(w,w.return,Fe)}}function Yf(b,w,k){try{var U=w.updateQueue,Y=U!==null?U.lastEffect:null;if(Y!==null){var re=Y.next;U=re;do{if((U.tag&b)===b){var Se=U.inst,Fe=Se.destroy;if(Fe!==void 0){Se.destroy=void 0,Y=w;var $e=k;try{Fe()}catch(St){yr(Y,$e,St)}}}U=U.next}while(U!==re)}}catch(St){yr(w,w.return,St)}}function XM(b){var w=b.updateQueue;if(w!==null){var k=b.stateNode;try{Dt(w,k)}catch(U){yr(b,b.return,U)}}}function ZM(b,w,k){k.props=$l(b.type,b.memoizedProps),k.state=b.memoizedState;try{k.componentWillUnmount()}catch(U){yr(b,w,U)}}function gh(b,w){try{var k=b.ref;if(k!==null){var U=b.stateNode;switch(b.tag){case 26:case 27:case 5:var Y=p0(U);break;default:Y=U}typeof k=="function"?b.refCleanup=k(Y):k.current=Y}}catch(re){yr(b,w,re)}}function Ci(b,w){var k=b.ref,U=b.refCleanup;if(k!==null)if(typeof U=="function")try{U()}catch(Y){yr(b,w,Y)}finally{b.refCleanup=null,b=b.alternate,b!=null&&(b.refCleanup=null)}else if(typeof k=="function")try{k(null)}catch(Y){yr(b,w,Y)}else k.current=null}function n0(b){var w=b.type,k=b.memoizedProps,U=b.stateNode;try{PP(U,w,k,b)}catch(Y){yr(b,b.return,Y)}}function $S(b,w,k){try{b2(b.stateNode,b.type,k,w,b)}catch(U){yr(b,b.return,U)}}function JS(b){return b.tag===5||b.tag===3||(qo?b.tag===26:!1)||(Ja?b.tag===27:!1)||b.tag===4}function kx(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||JS(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&(!Ja||b.tag!==27)&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function Lx(b,w,k){var U=b.tag;if(U===5||U===6)b=b.stateNode,w?w2(k,b,w):sE(k,b);else if(!(U===4||Ja&&U===27)&&(b=b.child,b!==null))for(Lx(b,w,k),b=b.sibling;b!==null;)Lx(b,w,k),b=b.sibling}function r0(b,w,k){var U=b.tag;if(U===5||U===6)b=b.stateNode,w?S2(k,b,w):_2(k,b);else if(!(U===4||Ja&&U===27)&&(b=b.child,b!==null))for(r0(b,w,k),b=b.sibling;b!==null;)r0(b,w,k),b=b.sibling}function KM(b,w,k){b=b.containerInfo;try{M2(b,k)}catch(U){yr(w,w.return,U)}}function i0(b,w){for(sd(b.containerInfo),Vi=w;Vi!==null;)if(b=Vi,w=b.child,(b.subtreeFlags&1028)!==0&&w!==null)w.return=b,Vi=w;else for(;Vi!==null;){b=Vi;var k=b.alternate;switch(w=b.flags,b.tag){case 0:break;case 11:case 15:break;case 1:if((w&1024)!==0&&k!==null){w=void 0;var U=b,Y=k.memoizedProps;k=k.memoizedState;var re=U.stateNode;try{var Se=$l(U.type,Y,U.elementType===U.type);w=re.getSnapshotBeforeUpdate(Se,k),re.__reactInternalSnapshotBeforeUpdate=w}catch(Fe){yr(U,U.return,Fe)}}break;case 3:(w&1024)!==0&&$a&&e1(b.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((w&1024)!==0)throw Error(i(163))}if(w=b.sibling,w!==null){w.return=b.return,Vi=w;break}Vi=b.return}return Se=Ih,Ih=!1,Se}function Px(b,w,k){var U=k.flags;switch(k.tag){case 0:case 11:case 15:Pu(b,k),U&4&&Sm(5,k);break;case 1:if(Pu(b,k),U&4)if(b=k.stateNode,w===null)try{b.componentDidMount()}catch(Fe){yr(k,k.return,Fe)}else{var Y=$l(k.type,w.memoizedProps);w=w.memoizedState;try{b.componentDidUpdate(Y,w,b.__reactInternalSnapshotBeforeUpdate)}catch(Fe){yr(k,k.return,Fe)}}U&64&&XM(k),U&512&&gh(k,k.return);break;case 3:if(Pu(b,k),U&64&&(U=k.updateQueue,U!==null)){if(b=null,k.child!==null)switch(k.child.tag){case 27:case 5:b=p0(k.child.stateNode);break;case 1:b=k.child.stateNode}try{Dt(U,b)}catch(Fe){yr(k,k.return,Fe)}}break;case 26:if(qo){Pu(b,k),U&512&&gh(k,k.return);break}case 27:case 5:Pu(b,k),w===null&&U&4&&n0(k),U&512&&gh(k,k.return);break;case 12:Pu(b,k);break;case 13:Pu(b,k),U&4&&qf(b,k);break;case 22:if(Y=k.memoizedState!==null||Sa,!Y){w=w!==null&&w.memoizedState!==null||Ni;var re=Sa,Se=Ni;Sa=Y,(Ni=w)&&!Se?Zf(b,k,(k.subtreeFlags&8772)!==0):Pu(b,k),Sa=re,Ni=Se}U&512&&(k.memoizedProps.mode==="manual"?gh(k,k.return):Ci(k,k.return));break;default:Pu(b,k)}}function a0(b){var w=b.alternate;w!==null&&(b.alternate=null,a0(w)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(w=b.stateNode,w!==null&&y2(w)),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function Ho(b,w,k){for(k=k.child;k!==null;)Ox(b,w,k),k=k.sibling}function Ox(b,w,k){if(uo&&typeof uo.onCommitFiberUnmount=="function")try{uo.onCommitFiberUnmount(x0,k)}catch{}switch(k.tag){case 26:if(qo){Ni||Ci(k,w),Ho(b,w,k),k.memoizedState?L2(k.memoizedState):k.stateNode&&F2(k.stateNode);break}case 27:if(Ja){Ni||Ci(k,w);var U=Xi,Y=ho;Xi=k.stateNode,Ho(b,w,k),TE(k.stateNode),Xi=U,ho=Y;break}case 5:Ni||Ci(k,w);case 6:if($a){if(U=Xi,Y=ho,Xi=null,Ho(b,w,k),Xi=U,ho=Y,Xi!==null)if(ho)try{Wi(Xi,k.stateNode)}catch(re){yr(k,w,re)}else try{Us(Xi,k.stateNode)}catch(re){yr(k,w,re)}}else Ho(b,w,k);break;case 18:$a&&Xi!==null&&(ho?N2(Xi,k.stateNode):xE(Xi,k.stateNode));break;case 4:$a?(U=Xi,Y=ho,Xi=k.stateNode.containerInfo,ho=!0,Ho(b,w,k),Xi=U,ho=Y):(Wo&&KM(k.stateNode,k,t1()),Ho(b,w,k));break;case 0:case 11:case 14:case 15:Ni||Yf(2,k,w),Ni||Yf(4,k,w),Ho(b,w,k);break;case 1:Ni||(Ci(k,w),U=k.stateNode,typeof U.componentWillUnmount=="function"&&ZM(k,w,U)),Ho(b,w,k);break;case 21:Ho(b,w,k);break;case 22:Ni||Ci(k,w),Ni=(U=Ni)||k.memoizedState!==null,Ho(b,w,k),Ni=U;break;default:Ho(b,w,k)}}function qf(b,w){if(zs&&w.memoizedState===null&&(b=w.alternate,b!==null&&(b=b.memoizedState,b!==null&&(b=b.dehydrated,b!==null))))try{a1(b)}catch(k){yr(w,w.return,k)}}function s0(b){switch(b.tag){case 13:case 19:var w=b.stateNode;return w===null&&(w=b.stateNode=new C0),w;case 22:return b=b.stateNode,w=b._retryCache,w===null&&(w=b._retryCache=new C0),w;default:throw Error(i(435,b.tag))}}function wm(b,w){var k=s0(b);w.forEach(function(U){var Y=r2.bind(null,b,U);k.has(U)||(k.add(U),U.then(Y,Y))})}function Os(b,w){var k=w.deletions;if(k!==null)for(var U=0;U<k.length;U++){var Y=k[U],re=b,Se=w;if($a){var Fe=Se;e:for(;Fe!==null;){switch(Fe.tag){case 27:case 5:Xi=Fe.stateNode,ho=!1;break e;case 3:Xi=Fe.stateNode.containerInfo,ho=!0;break e;case 4:Xi=Fe.stateNode.containerInfo,ho=!0;break e}Fe=Fe.return}if(Xi===null)throw Error(i(160));Ox(re,Se,Y),Xi=null,ho=!1}else Ox(re,Se,Y);re=Y.alternate,re!==null&&(re.return=null),Y.return=null}if(w.subtreeFlags&13878)for(w=w.child;w!==null;)Xf(w,b),w=w.sibling}function Xf(b,w){var k=b.alternate,U=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:Os(w,b),io(b),U&4&&(Yf(3,b,b.return),Sm(3,b),Yf(5,b,b.return));break;case 1:Os(w,b),io(b),U&512&&(Ni||k===null||Ci(k,k.return)),U&64&&Sa&&(b=b.updateQueue,b!==null&&(U=b.callbacks,U!==null&&(k=b.shared.hiddenCallbacks,b.shared.hiddenCallbacks=k===null?U:k.concat(U))));break;case 26:if(qo){var Y=Vs;Os(w,b),io(b),U&512&&(Ni||k===null||Ci(k,k.return)),U&4&&(U=k!==null?k.memoizedState:null,w=b.memoizedState,k===null?w===null?b.stateNode===null?b.stateNode=P2(Y,b.type,b.memoizedProps,b):O2(Y,b.type,b.stateNode):b.stateNode=k2(Y,w,b.memoizedProps):U!==w?(U===null?k.stateNode!==null&&F2(k.stateNode):L2(U),w===null?O2(Y,b.type,b.stateNode):k2(Y,w,b.memoizedProps)):w===null&&b.stateNode!==null&&$S(b,b.memoizedProps,k.memoizedProps));break}case 27:if(Ja&&U&4&&b.alternate===null){Y=b.stateNode;var re=b.memoizedProps;try{zP(Y),UP(b.type,re,Y,b)}catch(Vt){yr(b,b.return,Vt)}}case 5:if(Os(w,b),io(b),U&512&&(Ni||k===null||Ci(k,k.return)),$a){if(b.flags&32){w=b.stateNode;try{Om(w)}catch(Vt){yr(b,b.return,Vt)}}U&4&&b.stateNode!=null&&(w=b.memoizedProps,$S(b,w,k!==null?k.memoizedProps:w)),U&1024&&(vd=!0)}break;case 6:if(Os(w,b),io(b),U&4&&$a){if(b.stateNode===null)throw Error(i(162));U=b.memoizedProps,k=k!==null?k.memoizedProps:U,w=b.stateNode;try{oE(w,k,U)}catch(Vt){yr(b,b.return,Vt)}}break;case 3:if(qo?(B2(),Y=Vs,Vs=s1(w.containerInfo),Os(w,b),Vs=Y):Os(w,b),io(b),U&4){if($a&&zs&&k!==null&&k.memoizedState.isDehydrated)try{i1(w.containerInfo)}catch(Vt){yr(b,b.return,Vt)}if(Wo){U=w.containerInfo,k=w.pendingChildren;try{M2(U,k)}catch(Vt){yr(b,b.return,Vt)}}}vd&&(vd=!1,QS(b));break;case 4:qo?(k=Vs,Vs=s1(b.stateNode.containerInfo),Os(w,b),io(b),Vs=k):(Os(w,b),io(b)),U&4&&Wo&&KM(b.stateNode,b,b.stateNode.pendingChildren);break;case 12:Os(w,b),io(b);break;case 13:Os(w,b),io(b),b.child.flags&8192&&b.memoizedState!==null!=(k!==null&&k.memoizedState!==null)&&(Zu=Qa()),U&4&&(U=b.updateQueue,U!==null&&(b.updateQueue=null,wm(b,U)));break;case 22:U&512&&(Ni||k===null||Ci(k,k.return)),Y=b.memoizedState!==null;var Se=k!==null&&k.memoizedState!==null,Fe=Sa,$e=Ni;if(Sa=Fe||Y,Ni=$e||Se,Os(w,b),Ni=$e,Sa=Fe,io(b),w=b.stateNode,w._current=b,w._visibility&=-3,w._visibility|=w._pendingVisibility&2,U&8192&&(w._visibility=Y?w._visibility&-2:w._visibility|1,Y&&(w=Sa||Ni,k===null||Se||w||o0(b)),$a&&(b.memoizedProps===null||b.memoizedProps.mode!=="manual"))){e:if(k=null,$a)for(w=b;;){if(w.tag===5||qo&&w.tag===26||Ja&&w.tag===27){if(k===null){Se=k=w;try{re=Se.stateNode,Y?Fm(re):T2(Se.stateNode,Se.memoizedProps)}catch(Vt){yr(Se,Se.return,Vt)}}}else if(w.tag===6){if(k===null){Se=w;try{var St=Se.stateNode;Y?Qx(St):qc(St,Se.memoizedProps)}catch(Vt){yr(Se,Se.return,Vt)}}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===b)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===b)break e;for(;w.sibling===null;){if(w.return===null||w.return===b)break e;k===w&&(k=null),w=w.return}k===w&&(k=null),w.sibling.return=w.return,w=w.sibling}}U&4&&(U=b.updateQueue,U!==null&&(k=U.retryQueue,k!==null&&(U.retryQueue=null,wm(b,k))));break;case 19:Os(w,b),io(b),U&4&&(U=b.updateQueue,U!==null&&(b.updateQueue=null,wm(b,U)));break;case 21:break;default:Os(w,b),io(b)}}function io(b){var w=b.flags;if(w&2){try{if($a&&(!Ja||b.tag!==27)){e:{for(var k=b.return;k!==null;){if(JS(k)){var U=k;break e}k=k.return}throw Error(i(160))}switch(U.tag){case 27:if(Ja){var Y=U.stateNode,re=kx(b);r0(b,re,Y);break}case 5:var Se=U.stateNode;U.flags&32&&(Om(Se),U.flags&=-33);var Fe=kx(b);r0(b,Fe,Se);break;case 3:case 4:var $e=U.stateNode.containerInfo,St=kx(b);Lx(b,St,$e);break;default:throw Error(i(161))}}}catch(Vt){yr(b,b.return,Vt)}b.flags&=-3}w&4096&&(b.flags&=-4097)}function QS(b){if(b.subtreeFlags&1024)for(b=b.child;b!==null;){var w=b;QS(w),w.tag===5&&w.flags&1024&&ai(w.stateNode),b=b.sibling}}function Pu(b,w){if(w.subtreeFlags&8772)for(w=w.child;w!==null;)Px(b,w.alternate,w),w=w.sibling}function o0(b){for(b=b.child;b!==null;){var w=b;switch(w.tag){case 0:case 11:case 14:case 15:Yf(4,w,w.return),o0(w);break;case 1:Ci(w,w.return);var k=w.stateNode;typeof k.componentWillUnmount=="function"&&ZM(w,w.return,k),o0(w);break;case 26:case 27:case 5:Ci(w,w.return),o0(w);break;case 22:Ci(w,w.return),w.memoizedState===null&&o0(w);break;default:o0(w)}b=b.sibling}}function Zf(b,w,k){for(k=k&&(w.subtreeFlags&8772)!==0,w=w.child;w!==null;){var U=w.alternate,Y=b,re=w,Se=re.flags;switch(re.tag){case 0:case 11:case 15:Zf(Y,re,k),Sm(4,re);break;case 1:if(Zf(Y,re,k),U=re,Y=U.stateNode,typeof Y.componentDidMount=="function")try{Y.componentDidMount()}catch(St){yr(U,U.return,St)}if(U=re,Y=U.updateQueue,Y!==null){var Fe=U.stateNode;try{var $e=Y.shared.hiddenCallbacks;if($e!==null)for(Y.shared.hiddenCallbacks=null,Y=0;Y<$e.length;Y++)Le($e[Y],Fe)}catch(St){yr(U,U.return,St)}}k&&Se&64&&XM(re),gh(re,re.return);break;case 26:case 27:case 5:Zf(Y,re,k),k&&U===null&&Se&4&&n0(re),gh(re,re.return);break;case 12:Zf(Y,re,k);break;case 13:Zf(Y,re,k),k&&Se&4&&qf(Y,re);break;case 22:re.memoizedState===null&&Zf(Y,re,k),gh(re,re.return);break;default:Zf(Y,re,k)}w=w.sibling}}function e2(b,w){var k=null;b!==null&&b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(k=b.memoizedState.cachePool.pool),b=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(b=w.memoizedState.cachePool.pool),b!==k&&(b!=null&&b.refCount++,k!=null&&Jp(k))}function Fx(b,w){b=null,w.alternate!==null&&(b=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==b&&(w.refCount++,b!=null&&Jp(b))}function Fc(b,w,k,U){if(w.subtreeFlags&10256)for(w=w.child;w!==null;)Bx(b,w,k,U),w=w.sibling}function Bx(b,w,k,U){var Y=w.flags;switch(w.tag){case 0:case 11:case 15:Fc(b,w,k,U),Y&2048&&Sm(9,w);break;case 3:Fc(b,w,k,U),Y&2048&&(b=null,w.alternate!==null&&(b=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==b&&(w.refCount++,b!=null&&Jp(b)));break;case 12:if(Y&2048){Fc(b,w,k,U),b=w.stateNode;try{var re=w.memoizedProps,Se=re.id,Fe=re.onPostCommit;typeof Fe=="function"&&Fe(Se,w.alternate===null?"mount":"update",b.passiveEffectDuration,-0)}catch($e){yr(w,w.return,$e)}}else Fc(b,w,k,U);break;case 23:break;case 22:re=w.stateNode,w.memoizedState!==null?re._visibility&4?Fc(b,w,k,U):Kf(b,w):re._visibility&4?Fc(b,w,k,U):(re._visibility|=4,ys(b,w,k,U,(w.subtreeFlags&10256)!==0)),Y&2048&&e2(w.alternate,w);break;case 24:Fc(b,w,k,U),Y&2048&&Fx(w.alternate,w);break;default:Fc(b,w,k,U)}}function ys(b,w,k,U,Y){for(Y=Y&&(w.subtreeFlags&10256)!==0,w=w.child;w!==null;){var re=b,Se=w,Fe=k,$e=U,St=Se.flags;switch(Se.tag){case 0:case 11:case 15:ys(re,Se,Fe,$e,Y),Sm(8,Se);break;case 23:break;case 22:var Vt=Se.stateNode;Se.memoizedState!==null?Vt._visibility&4?ys(re,Se,Fe,$e,Y):Kf(re,Se):(Vt._visibility|=4,ys(re,Se,Fe,$e,Y)),Y&&St&2048&&e2(Se.alternate,Se);break;case 24:ys(re,Se,Fe,$e,Y),Y&&St&2048&&Fx(Se.alternate,Se);break;default:ys(re,Se,Fe,$e,Y)}w=w.sibling}}function Kf(b,w){if(w.subtreeFlags&10256)for(w=w.child;w!==null;){var k=b,U=w,Y=U.flags;switch(U.tag){case 22:Kf(k,U),Y&2048&&e2(U.alternate,U);break;case 24:Kf(k,U),Y&2048&&Fx(U.alternate,U);break;default:Kf(k,U)}w=w.sibling}}function ka(b){if(b.subtreeFlags&kh)for(b=b.child;b!==null;)yh(b),b=b.sibling}function yh(b){switch(b.tag){case 26:ka(b),b.flags&kh&&(b.memoizedState!==null?U2(Vs,b.memoizedState,b.memoizedProps):Oi(b.type,b.memoizedProps));break;case 5:ka(b),b.flags&kh&&Oi(b.type,b.memoizedProps);break;case 3:case 4:if(qo){var w=Vs;Vs=s1(b.stateNode.containerInfo),ka(b),Vs=w}else ka(b);break;case 22:b.memoizedState===null&&(w=b.alternate,w!==null&&w.memoizedState!==null?(w=kh,kh=16777216,ka(b),kh=w):ka(b));break;default:ka(b)}}function zx(b){var w=b.alternate;if(w!==null&&(b=w.child,b!==null)){w.child=null;do w=b.sibling,b.sibling=null,b=w;while(b!==null)}}function $f(b){var w=b.deletions;if((b.flags&16)!==0){if(w!==null)for(var k=0;k<w.length;k++){var U=w[k];Vi=U,Jf(U,b)}zx(b)}if(b.subtreeFlags&10256)for(b=b.child;b!==null;)Tm(b),b=b.sibling}function Tm(b){switch(b.tag){case 0:case 11:case 15:$f(b),b.flags&2048&&Yf(9,b,b.return);break;case 3:$f(b);break;case 12:$f(b);break;case 22:var w=b.stateNode;b.memoizedState!==null&&w._visibility&4&&(b.return===null||b.return.tag!==13)?(w._visibility&=-5,l0(b)):$f(b);break;default:$f(b)}}function l0(b){var w=b.deletions;if((b.flags&16)!==0){if(w!==null)for(var k=0;k<w.length;k++){var U=w[k];Vi=U,Jf(U,b)}zx(b)}for(b=b.child;b!==null;){switch(w=b,w.tag){case 0:case 11:case 15:Yf(8,w,w.return),l0(w);break;case 22:k=w.stateNode,k._visibility&4&&(k._visibility&=-5,l0(w));break;default:l0(w)}b=b.sibling}}function Jf(b,w){for(;Vi!==null;){var k=Vi;switch(k.tag){case 0:case 11:case 15:Yf(8,k,w);break;case 23:case 22:if(k.memoizedState!==null&&k.memoizedState.cachePool!==null){var U=k.memoizedState.cachePool.pool;U!=null&&U.refCount++}break;case 24:Jp(k.memoizedState.cache)}if(U=k.child,U!==null)U.return=k,Vi=U;else e:for(k=b;Vi!==null;){U=Vi;var Y=U.sibling,re=U.return;if(a0(U),U===k){Vi=null;break e}if(Y!==null){Y.return=re,Vi=Y;break e}Vi=re}}}function Ux(b){var w=m2(b);if(w!=null){if(typeof w.memoizedProps["data-testname"]!="string")throw Error(i(364));return w}if(b=Mh(b),b===null)throw Error(i(362));return b.stateNode.current}function u0(b,w){var k=b.tag;switch(w.$$typeof){case Jm:if(b.type===w.value)return!0;break;case g1:e:{for(w=w.value,b=[b,0],k=0;k<b.length;){var U=b[k++],Y=U.tag,re=b[k++],Se=w[re];if(Y!==5&&Y!==26&&Y!==27||!ju(U)){for(;Se!=null&&u0(U,Se);)re++,Se=w[re];if(re===w.length){w=!0;break e}else for(U=U.child;U!==null;)b.push(U,re),U=U.sibling}}w=!1}return w;case y1:if((k===5||k===26||k===27)&&LP(b.stateNode,w.value))return!0;break;case Zr:if((k===5||k===6||k===26||k===27)&&(b=Pm(b),b!==null&&0<=b.indexOf(w.value)))return!0;break;case Ar:if((k===5||k===26||k===27)&&(b=b.memoizedProps["data-testname"],typeof b=="string"&&b.toLowerCase()===w.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Qf(b){switch(b.$$typeof){case Jm:return"<"+(s(b.value)||"Unknown")+">";case g1:return":has("+(Qf(b)||"")+")";case y1:return'[role="'+b.value+'"]';case Zr:return'"'+b.value+'"';case Ar:return'[data-testname="'+b.value+'"]';default:throw Error(i(365))}}function $M(b,w){var k=[];b=[b,0];for(var U=0;U<b.length;){var Y=b[U++],re=Y.tag,Se=b[U++],Fe=w[Se];if(re!==5&&re!==26&&re!==27||!ju(Y)){for(;Fe!=null&&u0(Y,Fe);)Se++,Fe=w[Se];if(Se===w.length)k.push(Y);else for(Y=Y.child;Y!==null;)b.push(Y,Se),Y=Y.sibling}}return k}function Fs(b,w){if(!Hu)throw Error(i(363));b=Ux(b),b=$M(b,w),w=[],b=Array.from(b);for(var k=0;k<b.length;){var U=b[k++],Y=U.tag;if(Y===5||Y===26||Y===27)ju(U)||w.push(U.stateNode);else for(U=U.child;U!==null;)b.push(U),U=U.sibling}return w}function Bs(){if((Tn&2)!==0&&cr!==0)return cr&-cr;if(kn.T!==null){var b=co;return b!==0?b:ot()}return Ml()}function Ou(){po===0&&(po=(cr&536870912)===0||Rr?I():536870912);var b=el.current;return b!==null&&(b.flags|=32),po}function xs(b,w,k){(b===hr&&si===2||b.cancelPendingCommit!==null)&&(Ql(b,0),Jl(b,cr,po,!1)),B(b,k),((Tn&2)===0||b!==hr)&&(b===hr&&((Tn&2)===0&&(su|=k),Mr===4&&Jl(b,cr,po,!1)),Oe(b))}function Cm(b,w,k){if((Tn&6)!==0)throw Error(i(327));var U=!k&&(w&60)===0&&(w&b.expiredLanes)===0||E(b,w),Y=U?zu(b,w):Fu(b,w,!0),re=U;do{if(Y===0){tl&&!U&&Jl(b,w,0,!1);break}else if(Y===6)Jl(b,w,0,!Kr);else{if(k=b.current.alternate,re&&!JM(k)){Y=Fu(b,w,!1),re=!1;continue}if(Y===2){if(re=w,b.errorRecoveryDisabledLanes&re)var Se=0;else Se=b.pendingLanes&-536870913,Se=Se!==0?Se:Se&536870912?536870912:0;if(Se!==0){w=Se;e:{var Fe=b;Y=A0;var $e=zs&&Fe.current.memoizedState.isDehydrated;if($e&&(Ql(Fe,Se).flags|=256),Se=Fu(Fe,Se,!1),Se!==2){if(Qc&&!$e){Fe.errorRecoveryDisabledLanes|=re,su|=re,Y=4;break e}re=rl,rl=Y,re!==null&&Bc(re)}Y=Se}if(re=!1,Y!==2)continue}}if(Y===1){Ql(b,0),Jl(b,w,0,!0);break}e:{switch(U=b,Y){case 0:case 1:throw Error(i(345));case 4:if((w&4194176)===w){Jl(U,w,po,!Kr);break e}break;case 2:rl=null;break;case 3:case 5:break;default:throw Error(i(329))}if(U.finishedWork=k,U.finishedLanes=w,(w&62914560)===w&&(re=Zu+300-Qa(),10<re)){if(Jl(U,w,po,!Kr),M(U,0)!==0)break e;U.timeoutHandle=v2(Vx.bind(null,U,k,rl,ou,M0,w,po,su,ef,Kr,2,-0,0),re);break e}Vx(U,k,rl,ou,M0,w,po,su,ef,Kr,0,-0,0)}}break}while(!0);Oe(b)}function Bc(b){rl===null?rl=b:rl.push.apply(rl,b)}function Vx(b,w,k,U,Y,re,Se,Fe,$e,St,Vt,$t,rn){var qn=w.subtreeFlags;if((qn&8192||(qn&16785408)===16785408)&&(Yo(),yh(w),w=Kx(),w!==null)){b.cancelPendingCommit=w(gi.bind(null,b,k,U,Y,Se,Fe,$e,1,$t,rn)),Jl(b,re,Se,!St);return}gi(b,k,U,Y,Se,Fe,$e,Vt,$t,rn)}function JM(b){for(var w=b;;){var k=w.tag;if((k===0||k===11||k===15)&&w.flags&16384&&(k=w.updateQueue,k!==null&&(k=k.stores,k!==null)))for(var U=0;U<k.length;U++){var Y=k[U],re=Y.getSnapshot;Y=Y.value;try{if(!Xo(re(),Y))return!1}catch{return!1}}if(k=w.child,w.subtreeFlags&16384&&k!==null)k.return=w,w=k;else{if(w===b)break;for(;w.sibling===null;){if(w.return===null||w.return===b)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function Jl(b,w,k,U){w&=~Cs,w&=~su,b.suspendedLanes|=w,b.pingedLanes&=~w,U&&(b.warmLanes|=w),U=b.expirationTimes;for(var Y=w;0<Y;){var re=31-lo(Y),Se=1<<re;U[re]=-1,Y&=~Se}k!==0&&G(b,k,w)}function t2(){return(Tn&6)===0?(Ve(0),!1):!0}function ao(){if(Kn!==null){if(si===0)var b=Kn.return;else b=Kn,Ui=pd=null,It(b),Yu=null,Rl=0,b=Kn;for(;b!==null;)KS(b.alternate,b),b=b.return;Kn=null}}function Ql(b,w){b.finishedWork=null,b.finishedLanes=0;var k=b.timeoutHandle;k!==Ah&&(b.timeoutHandle=Ah,Lm(k)),k=b.cancelPendingCommit,k!==null&&(b.cancelPendingCommit=null,k()),ao(),hr=b,Kn=k=_s(b.current,null),cr=w,si=0,Zi=null,Kr=!1,tl=E(b,w),Qc=!1,ef=po=Cs=su=nl=Mr=0,rl=A0=null,M0=!1,(w&8)!==0&&(w|=w&32);var U=b.entangledLanes;if(U!==0)for(b=b.entanglements,U&=w;0<U;){var Y=31-lo(U),re=1<<Y;w|=b[Y],U&=~re}return au=w,te(),k}function xh(b,w){rr=null,kn.H=Nr,w===ei?(w=Ut(),si=3):w===j2?(w=Ut(),si=4):si=w===NE?8:w!==null&&typeof w=="object"&&typeof w.then=="function"?6:1,Zi=w,Kn===null&&(Mr=1,Ax(b,K(w,b.current)))}function Am(){var b=el.current;return b===null?!0:(cr&4194176)===cr?Nl===null:(cr&62914560)===cr||(cr&536870912)!==0?b===Nl:!1}function c0(){var b=kn.H;return kn.H=Nr,b===null?Nr:b}function jo(){var b=kn.A;return kn.A=m1,b}function so(){Mr=4,Kr||(cr&4194176)!==cr&&el.current!==null||(tl=!0),(nl&134217727)===0&&(su&134217727)===0||hr===null||Jl(hr,cr,po,!1)}function Fu(b,w,k){var U=Tn;Tn|=2;var Y=c0(),re=jo();(hr!==b||cr!==w)&&(ou=null,Ql(b,w)),w=!1;var Se=Mr;e:do try{if(si!==0&&Kn!==null){var Fe=Kn,$e=Zi;switch(si){case 8:ao(),Se=6;break e;case 3:case 2:case 6:el.current===null&&(w=!0);var St=si;if(si=0,Zi=null,ed(b,Fe,$e,St),k&&tl){Se=0;break e}break;default:St=si,si=0,Zi=null,ed(b,Fe,$e,St)}}Bu(),Se=Mr;break}catch(Vt){xh(b,Vt)}while(!0);return w&&b.shellSuspendCounter++,Ui=pd=null,Tn=U,kn.H=Y,kn.A=re,Kn===null&&(hr=null,cr=0,te()),Se}function Bu(){for(;Kn!==null;)n2(Kn)}function zu(b,w){var k=Tn;Tn|=2;var U=c0(),Y=jo();hr!==b||cr!==w?(ou=null,Ii=Qa()+500,Ql(b,w)):tl=E(b,w);e:do try{if(si!==0&&Kn!==null){w=Kn;var re=Zi;t:switch(si){case 1:si=0,Zi=null,ed(b,w,re,1);break;case 2:if(wt(re)){si=0,Zi=null,Gx(w);break}w=function(){si===2&&hr===b&&(si=7),Oe(b)},re.then(w,w);break e;case 3:si=7;break e;case 4:si=5;break e;case 7:wt(re)?(si=0,Zi=null,Gx(w)):(si=0,Zi=null,ed(b,w,re,7));break;case 5:var Se=null;switch(Kn.tag){case 26:Se=Kn.memoizedState;case 5:case 27:var Fe=Kn,$e=Fe.type,St=Fe.pendingProps;if(Se?z2(Se):Yc($e,St)){si=0,Zi=null;var Vt=Fe.sibling;if(Vt!==null)Kn=Vt;else{var $t=Fe.return;$t!==null?(Kn=$t,Mm($t)):Kn=null}break t}}si=0,Zi=null,ed(b,w,re,5);break;case 6:si=0,Zi=null,ed(b,w,re,6);break;case 8:ao(),Mr=6;break e;default:throw Error(i(462))}}zc();break}catch(rn){xh(b,rn)}while(!0);return Ui=pd=null,kn.H=U,kn.A=Y,Tn=k,Kn!==null?0:(hr=null,cr=0,te(),Mr)}function zc(){for(;Kn!==null&&!AE();)n2(Kn)}function n2(b){var w=jM(b.alternate,b,au);b.memoizedProps=b.pendingProps,w===null?Mm(b):Kn=w}function Gx(b){var w=b,k=w.alternate;switch(w.tag){case 15:case 0:w=zM(k,w,w.pendingProps,w.type,void 0,cr);break;case 11:w=zM(k,w,w.pendingProps,w.type.render,w.ref,cr);break;case 5:It(w);default:KS(k,w),w=Kn=Gc(w,au),w=jM(k,w,au)}b.memoizedProps=b.pendingProps,w===null?Mm(b):Kn=w}function ed(b,w,k,U){Ui=pd=null,It(w),Yu=null,Rl=0;var Y=w.return;try{if(LM(b,Y,w,k,cr)){Mr=1,Ax(b,K(k,b.current)),Kn=null;return}}catch(re){if(Y!==null)throw Kn=Y,re;Mr=1,Ax(b,K(k,b.current)),Kn=null;return}w.flags&32768?(Rr||U===1?b=!0:tl||(cr&536870912)!==0?b=!1:(Kr=b=!0,(U===2||U===3||U===6)&&(U=el.current,U!==null&&U.tag===13&&(U.flags|=16384))),La(w,b)):Mm(w)}function Mm(b){var w=b;do{if((w.flags&32768)!==0){La(w,Kr);return}b=w.return;var k=YM(w.alternate,w,au);if(k!==null){Kn=k;return}if(w=w.sibling,w!==null){Kn=w;return}Kn=w=b}while(w!==null);Mr===0&&(Mr=5)}function La(b,w){do{var k=qM(b.alternate,b);if(k!==null){k.flags&=32767,Kn=k;return}if(k=b.return,k!==null&&(k.flags|=32768,k.subtreeFlags=0,k.deletions=null),!w&&(b=b.sibling,b!==null)){Kn=b;return}Kn=b=k}while(b!==null);Mr=6,Kn=null}function gi(b,w,k,U,Y,re,Se,Fe,$e,St){var Vt=kn.T,$t=ba();try{bs(2),kn.T=null,Sr(b,w,k,U,$t,Y,re,Se,Fe,$e,St)}finally{kn.T=Vt,bs($t)}}function Sr(b,w,k,U,Y,re,Se,Fe){do Pa();while(tf!==null);if((Tn&6)!==0)throw Error(i(327));var $e=b.finishedWork;if(U=b.finishedLanes,$e===null)return null;if(b.finishedWork=null,b.finishedLanes=0,$e===b.current)throw Error(i(177));b.callbackNode=null,b.callbackPriority=0,b.cancelPendingCommit=null;var St=$e.lanes|$e.childLanes;if(St|=b0,O(b,U,St,re,Se,Fe),b===hr&&(Kn=hr=null,cr=0),($e.subtreeFlags&10256)===0&&($e.flags&10256)===0||kl||(kl=!0,x1=St,Ph=k,Em(l1,function(){return Pa(),null})),k=($e.flags&15990)!==0,($e.subtreeFlags&15990)!==0||k?(k=kn.T,kn.T=null,re=ba(),bs(2),Se=Tn,Tn|=4,i0(b,$e),Xf($e,b),h2(b.containerInfo),b.current=$e,Px(b,$e.alternate,$e),ME(),Tn=Se,bs(re),kn.T=k):b.current=$e,kl?(kl=!1,tf=b,Lh=U):Uc(b,St),St=b.pendingLanes,St===0&&(il=null),W($e.stateNode),Oe(b),w!==null)for(Y=b.onRecoverableError,$e=0;$e<w.length;$e++)St=w[$e],Y(St.value,{componentStack:St.stack});return(Lh&3)!==0&&Pa(),St=b.pendingLanes,(U&4194218)!==0&&(St&42)!==0?b===Gs?Oh++:(Oh=0,Gs=b):Oh=0,Ve(0),null}function Uc(b,w){(b.pooledCacheLanes&=w)===0&&(w=b.pooledCache,w!=null&&(b.pooledCache=null,Jp(w)))}function Pa(){if(tf!==null){var b=tf,w=x1;x1=0;var k=q(Lh),U=32>k?32:k;k=kn.T;var Y=ba();try{if(bs(U),kn.T=null,tf===null)var re=!1;else{U=Ph,Ph=null;var Se=tf,Fe=Lh;if(tf=null,Lh=0,(Tn&6)!==0)throw Error(i(331));var $e=Tn;if(Tn|=4,Tm(Se.current),Bx(Se,Se.current,Fe,U),Tn=$e,Ve(0,!1),uo&&typeof uo.onPostCommitFiberRoot=="function")try{uo.onPostCommitFiberRoot(x0,Se)}catch{}re=!0}return re}finally{bs(Y),kn.T=k,Uc(b,w)}}return!1}function Hx(b,w,k){w=K(k,w),w=mm(b.stateNode,w,2),b=bt(b,w,2),b!==null&&(B(b,2),Oe(b))}function yr(b,w,k){if(b.tag===3)Hx(b,b,k);else for(;w!==null;){if(w.tag===3){Hx(w,b,k);break}else if(w.tag===1){var U=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof U.componentDidCatch=="function"&&(il===null||!il.has(U))){b=K(k,b),k=$p(2),U=bt(w,k,2),U!==null&&(gm(k,U,w,b),B(U,2),Oe(U));break}}w=w.return}}function jx(b,w,k){var U=b.pingCache;if(U===null){U=b.pingCache=new xr;var Y=new Set;U.set(w,Y)}else Y=U.get(w),Y===void 0&&(Y=new Set,U.set(w,Y));Y.has(k)||(Qc=!0,Y.add(k),b=QM.bind(null,b,w,k),w.then(b,b))}function QM(b,w,k){var U=b.pingCache;U!==null&&U.delete(w),b.pingedLanes|=b.suspendedLanes&k,b.warmLanes&=~k,hr===b&&(cr&k)===k&&(Mr===4||Mr===3&&(cr&62914560)===cr&&300>Qa()-Zu?(Tn&2)===0&&Ql(b,0):Cs|=k,ef===cr&&(ef=0)),Oe(b)}function _h(b,w){w===0&&(w=N()),b=le(b,w),b!==null&&(B(b,w),Oe(b))}function bh(b){var w=b.memoizedState,k=0;w!==null&&(k=w.retryLane),_h(b,k)}function r2(b,w){var k=0;switch(b.tag){case 13:var U=b.stateNode,Y=b.memoizedState;Y!==null&&(k=Y.retryLane);break;case 19:U=b.stateNode;break;case 22:U=b.stateNode._retryCache;break;default:throw Error(i(314))}U!==null&&U.delete(w),_h(b,k)}function Em(b,w){return y0(b,w)}function i2(b,w,k,U){this.tag=b,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=U,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(b){return b=b.prototype,!(!b||!b.isReactComponent)}function _s(b,w){var k=b.alternate;return k===null?(k=t(b.tag,w,b.key,b.mode),k.elementType=b.elementType,k.type=b.type,k.stateNode=b.stateNode,k.alternate=b,b.alternate=k):(k.pendingProps=w,k.type=b.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=b.flags&31457280,k.childLanes=b.childLanes,k.lanes=b.lanes,k.child=b.child,k.memoizedProps=b.memoizedProps,k.memoizedState=b.memoizedState,k.updateQueue=b.updateQueue,w=b.dependencies,k.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},k.sibling=b.sibling,k.index=b.index,k.ref=b.ref,k.refCleanup=b.refCleanup,k}function Gc(b,w){b.flags&=31457282;var k=b.alternate;return k===null?(b.childLanes=0,b.lanes=w,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=k.childLanes,b.lanes=k.lanes,b.child=k.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=k.memoizedProps,b.memoizedState=k.memoizedState,b.updateQueue=k.updateQueue,b.type=k.type,w=k.dependencies,b.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),b}function Al(b,w,k,U,Y,re){var Se=0;if(U=b,typeof b=="function")Vc(b)&&(Se=1);else if(typeof b=="string")Se=qo&&Ja?I2(b,k,Fa.current)?26:m0(b)?27:5:qo?I2(b,k,Fa.current)?26:5:Ja&&m0(b)?27:5;else e:switch(b){case d0:return Hc(k.children,Y,re,w);case u2:Se=8,Y|=24;break;case c2:return b=t(12,k,w,Y|2),b.elementType=c2,b.lanes=re,b;case Yx:return b=t(13,k,w,Y),b.elementType=Yx,b.lanes=re,b;case rd:return b=t(19,k,w,Y),b.elementType=rd,b.lanes=re,b;case Nm:return Wx(k,Y,re,w);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case nE:case Uu:Se=10;break e;case nd:Se=9;break e;case h0:Se=11;break e;case Rm:Se=14;break e;case tu:Se=16,U=null;break e}Se=29,k=Error(i(130,b===null?"null":typeof b,"")),U=null}return w=t(Se,k,w,Y),w.elementType=b,w.type=U,w.lanes=re,w}function Hc(b,w,k,U){return b=t(7,b,U,w),b.lanes=k,b}function Wx(b,w,k,U){b=t(22,b,U,w),b.elementType=Nm,b.lanes=k;var Y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var re=Y._current;if(re===null)throw Error(i(456));if((Y._pendingVisibility&2)===0){var Se=le(re,2);Se!==null&&(Y._pendingVisibility|=2,xs(Se,re,2))}},attach:function(){var re=Y._current;if(re===null)throw Error(i(456));if((Y._pendingVisibility&2)!==0){var Se=le(re,2);Se!==null&&(Y._pendingVisibility&=-3,xs(Se,re,2))}}};return b.stateNode=Y,b}function td(b,w,k){return b=t(6,b,null,w),b.lanes=k,b}function f0(b,w,k){return w=t(4,b.children!==null?b.children:[],b.key,w),w.lanes=k,w.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},w}function Sh(b,w,k,U,Y,re,Se,Fe){this.tag=1,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ah,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=U,this.onUncaughtError=Y,this.onCaughtError=re,this.onRecoverableError=Se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Fe,this.incompleteTransitions=new Map}function Oa(b,w,k,U,Y,re,Se,Fe,$e,St,Vt,$t){return b=new Sh(b,w,k,Se,Fe,$e,St,$t),w=1,re===!0&&(w|=24),re=t(3,null,null,w),b.current=re,re.stateNode=b,w=Rx(),w.refCount++,b.pooledCache=w,w.refCount++,re.memoizedState={element:U,isDehydrated:k,cache:w},Nt(re),b}function Dm(b){return b?(b=Eh,b):Eh}function a2(b){var w=b._reactInternals;if(w===void 0)throw typeof b.render=="function"?Error(i(188)):(b=Object.keys(b).join(","),Error(i(268,b)));return b=h(w),b=b!==null?p(b):null,b===null?null:p0(b.stateNode)}function eE(b,w,k,U,Y,re){Y=Dm(Y),U.context===null?U.context=Y:U.pendingContext=Y,U=Qe(w),U.payload={element:k},re=re===void 0?null:re,re!==null&&(U.callback=re),k=bt(b,U,w),k!==null&&(xs(k,b,w),Yt(k,b,w))}function tE(b,w){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var k=b.retryLane;b.retryLane=k!==0&&k<w?k:w}}function s2(b,w){tE(b,w),(b=b.alternate)&&tE(b,w)}var wn={},o2=qb(),Ka=Qme(),wh=Object.assign,l2=Symbol.for("react.element"),jc=Symbol.for("react.transitional.element"),eu=Symbol.for("react.portal"),d0=Symbol.for("react.fragment"),u2=Symbol.for("react.strict_mode"),c2=Symbol.for("react.profiler"),nE=Symbol.for("react.provider"),nd=Symbol.for("react.consumer"),Uu=Symbol.for("react.context"),h0=Symbol.for("react.forward_ref"),Yx=Symbol.for("react.suspense"),rd=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),tu=Symbol.for("react.lazy"),Nm=Symbol.for("react.offscreen"),rE=Symbol.for("react.memo_cache_sentinel"),f2=Symbol.iterator,Th=Symbol.for("react.client.reference"),kn=o2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qx,d2,id=!1,ad=Array.isArray,Xx=e.rendererVersion,Im=e.rendererPackageName,km=e.extraDevToolsConfig,p0=e.getPublicInstance,Ch=e.getRootHostContext,iE=e.getChildHostContext,sd=e.prepareForCommit,h2=e.resetAfterCommit,p2=e.createInstance,Vu=e.appendInitialChild,Wc=e.finalizeInitialChildren,od=e.shouldSetTextContent,Zx=e.createTextInstance,v2=e.scheduleTimeout,Lm=e.cancelTimeout,Ah=e.noTimeout,Gu=e.isPrimaryRenderer;e.warnsIfNotActing;var $a=e.supportsMutation,Wo=e.supportsPersistence,zs=e.supportsHydration,m2=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var g2=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var bs=e.setCurrentUpdatePriority,ba=e.getCurrentUpdatePriority,Ml=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var ld=e.shouldAttemptEagerTransition,y2=e.detachDeletedInstance;e.requestPostPaintCallback;var aE=e.maySuspendCommit,Yc=e.preloadInstance,Yo=e.startSuspendingCommit,Oi=e.suspendInstance,Kx=e.waitForCommitToBeReady,oo=e.NotPendingTransition,Fn=e.HostTransitionContext,ai=e.resetFormInstance;e.bindToConsole;var ra=e.supportsMicrotasks,$x=e.scheduleMicrotask,Hu=e.supportsTestSelectors,Mh=e.findFiberRoot,Jx=e.getBoundingRect,Pm=e.getTextContent,ju=e.isHiddenSubtree,LP=e.matchAccessibilityRole,Fi=e.setFocusIfFocusable,x2=e.setupIntersectionObserver,_2=e.appendChild,sE=e.appendChildToContainer,oE=e.commitTextUpdate,PP=e.commitMount,b2=e.commitUpdate,S2=e.insertBefore,w2=e.insertInContainerBefore,Us=e.removeChild,Wi=e.removeChildFromContainer,Om=e.resetTextContent,Fm=e.hideInstance,Qx=e.hideTextInstance,T2=e.unhideInstance,qc=e.unhideTextInstance,e1=e.clearContainer,C2=e.cloneInstance,t1=e.createContainerChildSet,A2=e.appendChildToContainerChildSet,lE=e.finalizeContainerChildren,M2=e.replaceContainerChildren,E2=e.cloneHiddenInstance,D2=e.cloneHiddenTextInstance,n1=e.isSuspenseInstancePending,Bm=e.isSuspenseInstanceFallback,uE=e.getSuspenseInstanceFallbackErrorDetails,OP=e.registerSuspenseInstanceRetry,cE=e.canHydrateFormStateMarker,fE=e.isFormStateMarkerMatching,R2=e.getNextHydratableSibling,r1=e.getFirstHydratableChild,dE=e.getFirstHydratableChildWithinContainer,hE=e.getFirstHydratableChildWithinSuspenseInstance,pE=e.canHydrateInstance,vE=e.canHydrateTextInstance,mE=e.canHydrateSuspenseInstance,FP=e.hydrateInstance,gE=e.hydrateTextInstance,v0=e.hydrateSuspenseInstance,yE=e.getNextHydratableInstanceAfterSuspenseInstance,i1=e.commitHydratedContainer,a1=e.commitHydratedSuspenseInstance,xE=e.clearSuspenseBoundary,N2=e.clearSuspenseBoundaryFromContainer,_E=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var bE=e.validateHydratableInstance,SE=e.validateHydratableTextInstance,qo=e.supportsResources,I2=e.isHostHoistableType,s1=e.getHoistableRoot,o1=e.getResource,k2=e.acquireResource,L2=e.releaseResource,P2=e.hydrateHoistable,O2=e.mountHoistable,F2=e.unmountHoistable,BP=e.createHoistableInstance,B2=e.prepareToCommitHoistables,wE=e.mayResourceSuspendCommit,z2=e.preloadResource,U2=e.suspendResource,Ja=e.supportsSingletons,V2=e.resolveSingletonInstance,zP=e.clearSingleton,UP=e.acquireSingletonInstance,TE=e.releaseSingletonInstance,m0=e.isHostSingletonType,zm=[],Xc=-1,Eh={},lo=Math.clz32?Math.clz32:S,Um=Math.log,CE=Math.LN2,g0=128,Vm=4194304,y0=Ka.unstable_scheduleCallback,Gm=Ka.unstable_cancelCallback,AE=Ka.unstable_shouldYield,ME=Ka.unstable_requestPaint,Qa=Ka.unstable_now,G2=Ka.unstable_ImmediatePriority,EE=Ka.unstable_UserBlockingPriority,l1=Ka.unstable_NormalPriority,u1=Ka.unstable_IdlePriority,DE=Ka.log,H2=Ka.unstable_setDisableYieldValue,x0=null,uo=null,Xo=typeof Object.is=="function"?Object.is:X,c1=new WeakMap,Ai=[],Bi=0,Hm=null,jm=0,Zo=[],Ko=0,nu=null,Wu=1,El="",Fa=g(null),Wm=g(null),ru=g(null),_0=g(null),Ss=null,es=null,Rr=!1,$o=null,Dl=!1,Ym=Error(i(519)),Jo=[],ud=0,b0=0,S0=null,Dh=null,qm=!1,Xm=!1,iu=!1,cd=0,Zm=null,f1=0,co=0,fd=null,Zc=!1,w0=!1,Km=Object.prototype.hasOwnProperty,ei=Error(i(460)),j2=Error(i(474)),d1={then:function(){}},Rh=null,Yu=null,Rl=0,dd=ur(!0),W2=ur(!1),qu=g(null),Qo=g(0),el=g(null),Nl=null,ia=g(0),Xu=0,rr=null,Gr=null,Yi=null,Il=!1,Mi=!1,Kc=!1,$m=0,zi=0,T0=null,RE=0,h1=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Nr={readContext:Za,use:ze,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te};Nr.useCacheRefresh=Te,Nr.useMemoCache=Te,Nr.useHostTransitionStatus=Te,Nr.useFormState=Te,Nr.useActionState=Te,Nr.useOptimistic=Te;var aa={readContext:Za,use:ze,useCallback:function(b,w){return Pt().memoizedState=[b,w===void 0?null:w],b},useContext:Za,useEffect:kS,useImperativeHandle:function(b,w,k){k=k!=null?k.concat([b]):null,Cl(4194308,4,fm.bind(null,w,b),k)},useLayoutEffect:function(b,w){return Cl(4194308,4,b,w)},useInsertionEffect:function(b,w){Cl(4,2,b,w)},useMemo:function(b,w){var k=Pt();w=w===void 0?null:w;var U=b();if(Kc){Z(!0);try{b()}finally{Z(!1)}}return k.memoizedState=[U,w],U},useReducer:function(b,w,k){var U=Pt();if(k!==void 0){var Y=k(w);if(Kc){Z(!0);try{k(w)}finally{Z(!1)}}}else Y=w;return U.memoizedState=U.baseState=Y,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:Y},U.queue=b,b=b.dispatch=Uf.bind(null,rr,b),[U.memoizedState,b]},useRef:function(b){var w=Pt();return b={current:b},w.memoizedState=b},useState:function(b){b=Cr(b);var w=b.queue,k=Tx.bind(null,rr,w);return w.dispatch=k,[b.memoizedState,k]},useDebugValue:dm,useDeferredValue:function(b,w){var k=Pt();return zf(k,b,w)},useTransition:function(){var b=Cr(!1);return b=bx.bind(null,rr,b.queue,!0,!1),Pt().memoizedState=b,[!1,b]},useSyncExternalStore:function(b,w,k){var U=rr,Y=Pt();if(Rr){if(k===void 0)throw Error(i(407));k=k()}else{if(k=w(),hr===null)throw Error(i(349));(cr&60)!==0||yn(U,w,k)}Y.memoizedState=k;var re={value:k,getSnapshot:w};return Y.queue=re,kS(mn.bind(null,U,re,b),[b]),U.flags|=2048,Pi(9,xn.bind(null,U,re,k,w),{destroy:void 0},null),k},useId:function(){var b=Pt(),w=hr.identifierPrefix;if(Rr){var k=El,U=Wu;k=(U&~(1<<32-lo(U)-1)).toString(32)+k,w=":"+w+"R"+k,k=$m++,0<k&&(w+="H"+k.toString(32)),w+=":"}else k=RE++,w=":"+w+"r"+k.toString(32)+":";return b.memoizedState=w},useCacheRefresh:function(){return Pt().memoizedState=hm.bind(null,rr)}};aa.useMemoCache=He,aa.useHostTransitionStatus=dh,aa.useFormState=Iu,aa.useActionState=Iu,aa.useOptimistic=function(b){var w=Pt();w.memoizedState=w.baseState=b;var k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return w.queue=k,w=Cx.bind(null,rr,!0,k),k.dispatch=w,[b,w]};var ws={readContext:Za,use:ze,useCallback:_x,useContext:Za,useEffect:cm,useImperativeHandle:ku,useInsertionEffect:IM,useLayoutEffect:kM,useMemo:fh,useReducer:At,useRef:Kl,useState:function(){return At(Ge)},useDebugValue:dm,useDeferredValue:function(b,w){var k=he();return LS(k,Gr.memoizedState,b,w)},useTransition:function(){var b=At(Ge)[0],w=he().memoizedState;return[typeof b=="boolean"?b:Re(b),w]},useSyncExternalStore:Kt,useId:Lu};ws.useCacheRefresh=Sx,ws.useMemoCache=He,ws.useHostTransitionStatus=dh,ws.useFormState=ci,ws.useActionState=ci,ws.useOptimistic=function(b,w){var k=he();return mr(k,Gr,b,w)};var hd={readContext:Za,use:ze,useCallback:_x,useContext:Za,useEffect:cm,useImperativeHandle:ku,useInsertionEffect:IM,useLayoutEffect:kM,useMemo:fh,useReducer:qt,useRef:Kl,useState:function(){return qt(Ge)},useDebugValue:dm,useDeferredValue:function(b,w){var k=he();return Gr===null?zf(k,b,w):LS(k,Gr.memoizedState,b,w)},useTransition:function(){var b=qt(Ge)[0],w=he().memoizedState;return[typeof b=="boolean"?b:Re(b),w]},useSyncExternalStore:Kt,useId:Lu};hd.useCacheRefresh=Sx,hd.useMemoCache=He,hd.useHostTransitionStatus=dh,hd.useFormState=_a,hd.useActionState=_a,hd.useOptimistic=function(b,w){var k=he();return Gr!==null?mr(k,Gr,b,w):(k.baseState=b,[b,k.queue.dispatch])};var p1={isMounted:function(b){return(b=b._reactInternals)?f(b)===b:!1},enqueueSetState:function(b,w,k){b=b._reactInternals;var U=Bs(),Y=Qe(U);Y.payload=w,k!=null&&(Y.callback=k),w=bt(b,Y,U),w!==null&&(xs(w,b,U),Yt(w,b,U))},enqueueReplaceState:function(b,w,k){b=b._reactInternals;var U=Bs(),Y=Qe(U);Y.tag=1,Y.payload=w,k!=null&&(Y.callback=k),w=bt(b,Y,U),w!==null&&(xs(w,b,U),Yt(w,b,U))},enqueueForceUpdate:function(b,w){b=b._reactInternals;var k=Bs(),U=Qe(k);U.tag=2,w!=null&&(U.callback=w),w=bt(b,U,k),w!==null&&(xs(w,b,k),Yt(w,b,k))}},Y2=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},NE=Error(i(461)),qi=!1,Ts={dehydrated:null,treeContext:null,retryLane:0},fo=g(null),pd=null,Ui=null,IE=typeof AbortController<"u"?AbortController:function(){var b=[],w=this.signal={aborted:!1,addEventListener:function(k,U){b.push(U)}};this.abort=function(){w.aborted=!0,b.forEach(function(k){return k()})}},$c=Ka.unstable_scheduleCallback,Nh=Ka.unstable_NormalPriority,Xr={$$typeof:Uu,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},v1=kn.S;kn.S=function(b,w){typeof w=="object"&&w!==null&&typeof w.then=="function"&&We(b,w),v1!==null&&v1(b,w)};var Jc=g(null),Sa=!1,Ni=!1,vd=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Vi=null,Ih=!1,Xi=null,ho=!1,Vs=null,kh=8192,m1={getCacheForType:function(b){var w=Za(Xr),k=w.data.get(b);return k===void 0&&(k=b(),w.data.set(b,k)),k}},Jm=0,g1=1,y1=2,Ar=3,Zr=4;if(typeof Symbol=="function"&&Symbol.for){var ir=Symbol.for;Jm=ir("selector.component"),g1=ir("selector.has_pseudo_class"),y1=ir("selector.role"),Ar=ir("selector.test_id"),Zr=ir("selector.text")}var xr=typeof WeakMap=="function"?WeakMap:Map,Tn=0,hr=null,Kn=null,cr=0,si=0,Zi=null,Kr=!1,tl=!1,Qc=!1,au=0,Mr=0,nl=0,su=0,Cs=0,po=0,ef=0,A0=null,rl=null,M0=!1,Zu=0,Ii=1/0,ou=null,il=null,kl=!1,tf=null,Lh=0,x1=0,Ph=null,Oh=0,Gs=null;return wn.attemptContinuousHydration=function(b){if(b.tag===13){var w=le(b,67108864);w!==null&&xs(w,b,67108864),s2(b,67108864)}},wn.attemptHydrationAtCurrentPriority=function(b){if(b.tag===13){var w=Bs(),k=le(b,w);k!==null&&xs(k,b,w),s2(b,w)}},wn.attemptSynchronousHydration=function(b){switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=A(b.pendingLanes);if(w!==0){for(b.pendingLanes|=2,b.entangledLanes|=2;w;){var k=1<<31-lo(w);b.entanglements[1]|=k,w&=~k}Oe(b),(Tn&6)===0&&(Ii=Qa()+500,Ve(0))}}break;case 13:w=le(b,2),w!==null&&xs(w,b,2),t2(),s2(b,2)}},wn.batchedUpdates=function(b,w){return b(w)},wn.createComponentSelector=function(b){return{$$typeof:Jm,value:b}},wn.createContainer=function(b,w,k,U,Y,re,Se,Fe,$e,St){return Oa(b,w,!1,null,k,U,re,Se,Fe,$e,St,null)},wn.createHasPseudoClassSelector=function(b){return{$$typeof:g1,value:b}},wn.createHydrationContainer=function(b,w,k,U,Y,re,Se,Fe,$e,St,Vt,$t,rn){return b=Oa(k,U,!0,b,Y,re,Fe,$e,St,Vt,$t,rn),b.context=Dm(null),k=b.current,U=Bs(),Y=Qe(U),Y.callback=w??null,bt(k,Y,U),b.current.lanes=U,B(b,U),Oe(b),b},wn.createPortal=function(b,w,k){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:U==null?null:""+U,children:b,containerInfo:w,implementation:k}},wn.createRoleSelector=function(b){return{$$typeof:y1,value:b}},wn.createTestNameSelector=function(b){return{$$typeof:Ar,value:b}},wn.createTextSelector=function(b){return{$$typeof:Zr,value:b}},wn.defaultOnCaughtError=function(b){console.error(b)},wn.defaultOnRecoverableError=function(b){Y2(b)},wn.defaultOnUncaughtError=function(b){Y2(b)},wn.deferredUpdates=function(b){var w=kn.T,k=ba();try{return bs(32),kn.T=null,b()}finally{bs(k),kn.T=w}},wn.discreteUpdates=function(b,w,k,U,Y){var re=kn.T,Se=ba();try{return bs(2),kn.T=null,b(w,k,U,Y)}finally{bs(Se),kn.T=re,Tn===0&&(Ii=Qa()+500)}},wn.findAllNodes=Fs,wn.findBoundingRects=function(b,w){if(!Hu)throw Error(i(363));w=Fs(b,w),b=[];for(var k=0;k<w.length;k++)b.push(Jx(w[k]));for(w=b.length-1;0<w;w--){k=b[w];for(var U=k.x,Y=U+k.width,re=k.y,Se=re+k.height,Fe=w-1;0<=Fe;Fe--)if(w!==Fe){var $e=b[Fe],St=$e.x,Vt=St+$e.width,$t=$e.y,rn=$t+$e.height;if(U>=St&&re>=$t&&Y<=Vt&&Se<=rn){b.splice(w,1);break}else if(U!==St||k.width!==$e.width||rn<re||$t>Se){if(!(re!==$t||k.height!==$e.height||Vt<U||St>Y)){St>U&&($e.width+=St-U,$e.x=U),Vt<Y&&($e.width=Y-St),b.splice(w,1);break}}else{$t>re&&($e.height+=$t-re,$e.y=re),rn<Se&&($e.height=Se-$t),b.splice(w,1);break}}}return b},wn.findHostInstance=a2,wn.findHostInstanceWithNoPortals=function(b){return b=h(b),b=b!==null?m(b):null,b===null?null:p0(b.stateNode)},wn.findHostInstanceWithWarning=function(b){return a2(b)},wn.flushPassiveEffects=Pa,wn.flushSyncFromReconciler=function(b){var w=Tn;Tn|=1;var k=kn.T,U=ba();try{if(bs(2),kn.T=null,b)return b()}finally{bs(U),kn.T=k,Tn=w,(Tn&6)===0&&Ve(0)}},wn.flushSyncWork=t2,wn.focusWithin=function(b,w){if(!Hu)throw Error(i(363));for(b=Ux(b),w=$M(b,w),w=Array.from(w),b=0;b<w.length;){var k=w[b++],U=k.tag;if(!ju(k)){if((U===5||U===26||U===27)&&Fi(k.stateNode))return!0;for(k=k.child;k!==null;)w.push(k),k=k.sibling}}return!1},wn.getFindAllNodesFailureDescription=function(b,w){if(!Hu)throw Error(i(363));var k=0,U=[];b=[Ux(b),0];for(var Y=0;Y<b.length;){var re=b[Y++],Se=re.tag,Fe=b[Y++],$e=w[Fe];if((Se!==5&&Se!==26&&Se!==27||!ju(re))&&(u0(re,$e)&&(U.push(Qf($e)),Fe++,Fe>k&&(k=Fe)),Fe<w.length))for(re=re.child;re!==null;)b.push(re,Fe),re=re.sibling}if(k<w.length){for(b=[];k<w.length;k++)b.push(Qf(w[k]));return`findAllNodes was able to match part of the selector:
  `+(U.join(" > ")+`

No matching component was found for:
  `)+b.join(" > ")}return null},wn.getPublicRootInstance=function(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 27:case 5:return p0(b.child.stateNode);default:return b.child.stateNode}},wn.injectIntoDevTools=function(){var b={bundleType:0,version:Xx,rendererPackageName:Im,currentDispatcherRef:kn,findFiberByHostInstance:m2,reconcilerVersion:"19.0.0"};if(km!==null&&(b.rendererConfig=km),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")b=!1;else{var w=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(w.isDisabled||!w.supportsFiber)b=!0;else{try{x0=w.inject(b),uo=w}catch{}b=!!w.checkDCE}}return b},wn.isAlreadyRendering=function(){return!1},wn.observeVisibleRects=function(b,w,k,U){if(!Hu)throw Error(i(363));b=Fs(b,w);var Y=x2(b,k,U).disconnect;return{disconnect:function(){Y()}}},wn.shouldError=function(){return null},wn.shouldSuspend=function(){return!1},wn.startHostTransition=function(b,w,k,U){if(b.tag!==5)throw Error(i(476));var Y=PS(b).queue;bx(b,Y,w,oo,k===null?r:function(){var re=PS(b).next.queue;return Vf(b,re,{},Bs()),k(U)})},wn.updateContainer=function(b,w,k,U){var Y=w.current,re=Bs();return eE(Y,re,b,w,k,U),re},wn.updateContainerSync=function(b,w,k,U){return w.tag===0&&Pa(),eE(w.current,2,b,w,k,U),2},wn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(dB)),dB.exports}var gre;function spt(){return gre||(gre=1,fB.exports=apt()),fB.exports}var opt=spt();const lpt=Yb(opt);var yre=Qme();function XG(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=XG(r,e,t);if(i)return i;r=e?null:r.sibling}}function ege(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const ZG=ege(de.createContext(null));class tge extends de.Component{render(){return de.createElement(ZG.Provider,{value:this._reactInternals},this.props.children)}}function nge(){const n=de.useContext(ZG);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=de.useId();return de.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const r=XG(t,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[n,e])}const upt=Symbol.for("react.context"),cpt=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===upt;function fpt(){const n=nge(),[e]=de.useState(()=>new Map);e.clear();let t=n;for(;t;){const r=t.type;cpt(r)&&r!==ZG&&!e.has(r)&&e.set(r,de.use(ege(r))),t=t.return}return e}function dpt(){const n=fpt();return de.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>de.createElement(e,null,de.createElement(t.Provider,{...r,value:n.get(t)})),e=>de.createElement(tge,{...e})),[n])}function rge(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ige=n=>n&&n.isOrthographicCamera,hpt=n=>n&&n.hasOwnProperty("current"),ppt=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),MM=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?de.useLayoutEffect:de.useEffect;function age(n){const e=de.useRef(n);return MM(()=>void(e.current=n),[n]),e}function vpt(){const n=nge(),e=dpt();return de.useMemo(()=>({children:t})=>{const i=!!XG(n,!0,a=>a.type===de.StrictMode)?de.StrictMode:de.Fragment;return C.jsx(i,{children:C.jsx(e,{children:t})})},[n,e])}function mpt({set:n}){return MM(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const gpt=(n=>(n=class extends de.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function sge(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function w_(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Ki={obj:n=>n===Object(n)&&!Ki.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ki.str(n)||Ki.num(n)||Ki.boo(n))return n===e;const a=Ki.obj(n);if(a&&r==="reference")return n===e;const s=Ki.arr(n);if(s&&t==="reference")return n===e;if((s||a)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(o in i?e:n)if(!Ki.equ(n[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:n)if(n[o]!==e[o])return!1;if(Ki.und(o)){if(s&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function ypt(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const oge=["children","key","ref"];function xpt(n){const e={};for(const t in n)oge.includes(t)||(e[t]=n[t]);return e}function kk(n,e,t,r){const i=n;let a=i==null?void 0:i.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:xpt(r),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function DA(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const r=e.split("-");for(const i of r){if(typeof t!="object"||t===null){if(t!==void 0){const a=r.slice(r.indexOf(i)).join("-");return{root:t,key:a,target:void 0}}return{root:n,key:e,target:void 0}}e=i,n=t,t=t[e]}return{root:n,key:e,target:t}}const xre=/-\d+$/;function Lk(n,e){if(Ki.str(e.props.attach)){if(xre.test(e.props.attach)){const i=e.props.attach.replace(xre,""),{root:a,key:s}=DA(n.object,i);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:r}=DA(n.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else Ki.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function Pk(n,e){if(Ki.str(e.props.attach)){const{root:t,key:r}=DA(n.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[r]:t[r]=i}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const Zz=[...oge,"args","dispose","attach","object","onUpdate","dispose"],_re=new Map;function _pt(n){let e=_re.get(n.constructor);try{e||(e=new n.constructor,_re.set(n.constructor,e))}catch{}return e}function bpt(n,e){const t={};for(const r in e)if(!Zz.includes(r)&&!Ki.equ(e[r],n.props[r])){t[r]=e[r];for(const i in e)i.startsWith(`${r}-`)&&(t[i]=e[i])}for(const r in n.props){if(Zz.includes(r)||e.hasOwnProperty(r))continue;const{root:i,key:a}=DA(n.object,r);if(i.constructor&&i.constructor.length===0){const s=_pt(i);Ki.und(s)||(t[a]=s[a])}else t[a]=0}return t}const Spt=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],wpt=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function uv(n,e){var t;const r=n.__r3f,i=r&&rge(r).getState(),a=r==null?void 0:r.eventCount;for(const o in e){let l=e[o];if(Zz.includes(o))continue;if(r&&wpt.test(o)){typeof l=="function"?r.handlers[o]=l:delete r.handlers[o],r.eventCount=Object.keys(r.handlers).length;continue}if(l===void 0)continue;let{root:u,key:c,target:f}=DA(n,o);if(f===void 0&&(typeof u!="object"||u===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${c}".`);if(f instanceof zb&&l instanceof zb)f.mask=l.mask;else if(f instanceof en&&ppt(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var s;u[c]=l,i&&!i.linear&&Spt.includes(c)&&(s=u[c])!=null&&s.isTexture&&u[c].format===No&&u[c].type===Ec&&(u[c].colorSpace=Ao)}}if(r!=null&&r.parent&&i!=null&&i.internal&&(t=r.object)!=null&&t.isObject3D&&a!==r.eventCount){const o=r.object,l=i.internal.interaction.indexOf(o);l>-1&&i.internal.interaction.splice(l,1),r.eventCount&&o.raycast!==null&&i.internal.interaction.push(o)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&DS(r),n}function DS(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Tpt(n,e){n.manual||(ige(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Bl=n=>n==null?void 0:n.isObject3D;function bR(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function lge(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Cpt(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{lge(t.capturedMap,e,r,i)})}function Apt(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=n.getState(),f=new Set,d=[],h=u?u(c.internal.interaction):c.internal.interaction;for(let y=0;y<h.length;y++){const _=w_(h[y]);_&&(_.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function p(y){const _=w_(y);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(y,!0):[]}let m=h.flatMap(p).sort((y,_)=>{const S=w_(y.object),A=w_(_.object);return!S||!A?y.distance-_.distance:A.events.priority-S.events.priority||y.distance-_.distance}).filter(y=>{const _=bR(y);return f.has(_)?!1:(f.add(_),!0)});c.events.filter&&(m=c.events.filter(m,c));for(const y of m){let _=y.object;for(;_;){var g;(g=_.__r3f)!=null&&g.eventCount&&d.push({...y,eventObject:_}),_=_.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let y of c.internal.capturedMap.get(l.pointerId).values())f.has(bR(y.intersection))||d.push(y.intersection);return d}function i(l,u,c,f){if(l.length){const d={stopped:!1};for(const h of l){let p=w_(h.object);if(p||h.object.traverseAncestors(m=>{const g=w_(m);if(g)return p=g,!1}),p){const{raycaster:m,pointer:g,camera:y,internal:_}=p,S=new De(g.x,g.y,0).unproject(y),A=N=>{var L,B;return(L=(B=_.capturedMap.get(N))==null?void 0:B.has(h.eventObject))!=null?L:!1},M=N=>{const L={intersection:h,target:u.target};_.capturedMap.has(N)?_.capturedMap.get(N).set(h.eventObject,L):_.capturedMap.set(N,new Map([[h.eventObject,L]])),u.target.setPointerCapture(N)},E=N=>{const L=_.capturedMap.get(N);L&&lge(_.capturedMap,h.eventObject,L,N)};let D={};for(let N in u){let L=u[N];typeof L!="function"&&(D[N]=L)}let I={...h,...D,pointer:g,intersections:l,stopped:d.stopped,delta:c,unprojectedPoint:S,ray:m.ray,camera:y,stopPropagation(){const N="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!N||N.has(h.eventObject))&&(I.stopped=d.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(L=>L.eventObject===h.eventObject))){const L=l.slice(0,l.indexOf(h));a([...L,h])}},target:{hasPointerCapture:A,setPointerCapture:M,releasePointerCapture:E},currentTarget:{hasPointerCapture:A,setPointerCapture:M,releasePointerCapture:E},nativeEvent:u};if(f(I),d.stopped===!0)break}}}return l}function a(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const d=c.eventObject.__r3f;if(u.hovered.delete(bR(c)),d!=null&&d.eventCount){const h=d.handlers,p={...c,intersections:l};h.onPointerOut==null||h.onPointerOut(p),h.onPointerLeave==null||h.onPointerLeave(p)}}}function s(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:f,internal:d}=n.getState();d.lastEvent.current=c;const h=l==="onPointerMove",p=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",g=r(c,h?t:void 0),y=p?e(c):0;l==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=g.map(S=>S.eventObject)),p&&!g.length&&y<=2&&(s(c,d.interaction),f&&f(c)),h&&a(g);function _(S){const A=S.eventObject,M=A.__r3f;if(!(M!=null&&M.eventCount))return;const E=M.handlers;if(h){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const D=bR(S),I=d.hovered.get(D);I?I.stopped&&S.stopPropagation():(d.hovered.set(D,S),E.onPointerOver==null||E.onPointerOver(S),E.onPointerEnter==null||E.onPointerEnter(S))}E.onPointerMove==null||E.onPointerMove(S)}else{const D=E[l];D?(!p||d.initialHits.includes(A))&&(s(c,d.interaction.filter(I=>!d.initialHits.includes(I))),D(S)):p&&d.initialHits.includes(A)&&s(c,d.interaction.filter(I=>!d.initialHits.includes(I)))}}i(g,c,y,_)}}return{handlePointer:o}}const bre=n=>!!(n!=null&&n.render),uge=de.createContext(null),Mpt=(n,e)=>{const t=rpt((o,l)=>{const u=new De,c=new De,f=new De;function d(y=l().camera,_=c,S=l().size){const{width:A,height:M,top:E,left:D}=S,I=A/M;_.isVector3?f.copy(_):f.set(..._);const N=y.getWorldPosition(u).distanceTo(f);if(ige(y))return{width:A/y.zoom,height:M/y.zoom,top:E,left:D,factor:1,distance:N,aspect:I};{const L=y.fov*Math.PI/180,B=2*Math.tan(L/2)*N,O=B*(A/M);return{width:O,height:B,top:E,left:D,factor:A/O,distance:N,aspect:I}}}let h;const p=y=>o(_=>({performance:{..._.performance,current:y}})),m=new Ct;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(y=1)=>n(l(),y),advance:(y,_)=>e(y,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new HG,pointer:m,mouse:m,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();h&&clearTimeout(h),y.performance.current!==y.performance.min&&p(y.performance.min),h=setTimeout(()=>p(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:y=>o(_=>({..._,events:{..._.events,...y}})),setSize:(y,_,S=0,A=0)=>{const M=l().camera,E={width:y,height:_,top:S,left:A};o(D=>({size:E,viewport:{...D.viewport,...d(M,c,E)}}))},setDpr:y=>o(_=>{const S=sge(y);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(y="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,y!=="never"&&(_.start(),_.elapsedTime=0),o(()=>({frameloop:y}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:de.createRef(),active:!1,frames:0,priority:0,subscribe:(y,_,S)=>{const A=l().internal;return A.priority=A.priority+(_>0?1:0),A.subscribers.push({ref:y,priority:_,store:S}),A.subscribers=A.subscribers.sort((M,E)=>M.priority-E.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(_>0?1:0),M.subscribers=M.subscribers.filter(E=>E.ref!==y))}}}}}),r=t.getState();let i=r.size,a=r.viewport.dpr,s=r.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:c,set:f}=t.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){i=l,a=u.dpr,Tpt(o,l),u.dpr>0&&c.setPixelRatio(u.dpr);const d=typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,d)}o!==s&&(s=o,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function cge(){const n=de.useContext(uge);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Q0(n=t=>t,e){return cge()(n,e)}function MP(n,e=0){const t=cge(),r=t.getState().internal.subscribe,i=age(n);return MM(()=>r(i,e,t),[e,r,t]),null}function Ept(n){const e=lpt(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:de.version}),e}const fge=0,Hb={},Dpt=/^three(?=[A-Z])/,EP=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Rpt=0;const Npt=n=>typeof n=="function";function Ipt(n){if(Npt(n)){const e=`${Rpt++}`;return Hb[e]=n,e}else Object.assign(Hb,n)}function dge(n,e){const t=EP(n),r=Hb[t];if(n!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function kpt(n,e,t){var r;return n=EP(n)in Hb?n:n.replace(Dpt,""),dge(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,kk(e.object,t,n,e)}function Lpt(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Pk(n.parent,n):Bl(n.object)&&(n.object.visible=!1),n.isHidden=!0,DS(n)}}function hge(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Lk(n.parent,n):Bl(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,DS(n)}}function KG(n,e,t){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var i,a;const s=Hb[EP(e.type)];e.object=(i=e.props.object)!=null?i:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(uv(e.object,e.props),e.props.attach)Lk(n,e);else if(Bl(e.object)&&Bl(n.object)){const s=n.object.children.indexOf(t==null?void 0:t.object);if(t&&s!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const l=o<s?s-1:s;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const s of e.children)KG(e,s);DS(e)}}function vB(n,e){e&&(e.parent=n,n.children.push(e),KG(n,e))}function Sre(n,e,t){if(!e||!t)return;e.parent=n;const r=n.children.indexOf(t);r!==-1?n.children.splice(r,0,e):n.children.push(e),KG(n,e,t)}function pge(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():yre.unstable_scheduleCallback(yre.unstable_IdlePriority,e)}}function Kz(n,e,t){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?Pk(n,e):Bl(e.object)&&Bl(n.object)&&(n.object.remove(e.object),Cpt(rge(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];Kz(e,s,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&pge(e.object),t===void 0&&DS(e)}function Ppt(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const rN=[];function Opt(){for(const[t]of rN){const r=t.parent;if(r){t.props.attach?Pk(r,t):Bl(t.object)&&Bl(r.object)&&r.object.remove(t.object);for(const i of t.children)i.props.attach?Pk(t,i):Bl(i.object)&&Bl(t.object)&&t.object.remove(i.object)}t.isHidden&&hge(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&pge(t.object)}for(const[t,r,i]of rN){t.props=r;const a=t.parent;if(a){var n,e;const s=Hb[EP(t.type)];t.object=(n=t.props.object)!=null?n:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Ppt(i,t.object),uv(t.object,t.props),t.props.attach?Lk(a,t):Bl(t.object)&&Bl(a.object)&&a.object.add(t.object);for(const o of t.children)o.props.attach?Lk(t,o):Bl(o.object)&&Bl(t.object)&&t.object.add(o.object);DS(t)}}rN.length=0}const mB=()=>{},wre={};let SR=fge;const Fpt=0,Bpt=4,$z=Ept({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:kpt,removeChild:Kz,appendChild:vB,appendInitialChild:vB,insertBefore:Sre,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||vB(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||Kz(t,e)},insertInContainerBefore(n,e,t){const r=n.getState().scene.__r3f;!e||!t||!r||Sre(r,e,t)},getRootHostContext:()=>wre,getChildHostContext:()=>wre,commitUpdate(n,e,t,r,i){var a,s,o;dge(e,r);let l=!1;if((n.type==="primitive"&&t.object!==r.object||((a=r.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(o=r.args)!=null&&o.some((c,f)=>{var d;return c!==((d=t.args)==null?void 0:d[f])}))&&(l=!0),l)rN.push([n,{...r},i]);else{const c=bpt(n,r);Object.keys(c).length&&(Object.assign(n.props,c),uv(n.object,c))}(i.sibling===null||(i.flags&Bpt)===Fpt)&&Opt()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>kk(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Lpt,unhideInstance:hge,createTextInstance:mB,hideTextInstance:mB,unhideTextInstance:mB,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:de.createContext(null),setCurrentUpdatePriority(n){SR=n},getCurrentUpdatePriority(){return SR},resolveUpdatePriority(){var n;if(SR!==fge)return SR;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return QR.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return QR.ContinuousEventPriority;default:return QR.DefaultEventPriority}},resetFormInstance(){}}),Ky=new Map,T_={objects:"shallow",strict:!1};function zpt(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Upt(n){const e=Ky.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||Mpt(eU,Cre),s=t||$z.createContainer(a,QR.ConcurrentRoot,null,!1,null,"",i,i,i,null);e||Ky.set(n,{fiber:s,store:a});let o,l,u=!1,c=null;return{async configure(f={}){let d;c=new Promise(J=>d=J);let{gl:h,size:p,scene:m,events:g,onCreated:y,shadows:_=!1,linear:S=!1,flat:A=!1,legacy:M=!1,orthographic:E=!1,frameloop:D="always",dpr:I=[1,2],performance:N,raycaster:L,camera:B,onPointerMissed:O}=f,G=a.getState(),V=G.gl;if(!G.gl){const J={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},H=typeof h=="function"?await h(J):h;bre(H)?V=H:V=new Jme({...J,...h}),G.set({gl:V})}let q=G.raycaster;q||G.set({raycaster:q=new jme});const{params:W,...Z}=L||{};if(Ki.equ(Z,q,T_)||uv(q,{...Z}),Ki.equ(W,q.params,T_)||uv(q,{params:{...q.params,...W}}),!G.camera||G.camera===l&&!Ki.equ(l,B,T_)){l=B;const J=B==null?void 0:B.isCamera,H=J?B:E?new kv(0,0,0,0,.1,1e3):new Ea(75,0,.1,1e3);J||(H.position.z=5,B&&(uv(H,B),H.manual||("aspect"in B||"left"in B||"right"in B||"bottom"in B||"top"in B)&&(H.manual=!0,H.updateProjectionMatrix())),!G.camera&&!(B!=null&&B.rotation)&&H.lookAt(0,0,0)),G.set({camera:H}),q.camera=H}if(!G.scene){let J;m!=null&&m.isScene?(J=m,kk(J,a,"",{})):(J=new SG,kk(J,a,"",{}),m&&uv(J,m)),G.set({scene:J})}g&&!G.events.handlers&&G.set({events:g(a)});const X=zpt(n,p);if(Ki.equ(X,G.size,T_)||G.setSize(X.width,X.height,X.top,X.left),I&&G.viewport.dpr!==sge(I)&&G.setDpr(I),G.frameloop!==D&&G.setFrameloop(D),G.onPointerMissed||G.set({onPointerMissed:O}),N&&!Ki.equ(N,G.performance,T_)&&G.set(J=>({performance:{...J.performance,...N}})),!G.xr){var K;const J=(Q,ne)=>{const ce=a.getState();ce.frameloop!=="never"&&Cre(Q,!0,ce,ne)},H=()=>{const Q=a.getState();Q.gl.xr.enabled=Q.gl.xr.isPresenting,Q.gl.xr.setAnimationLoop(Q.gl.xr.isPresenting?J:null),Q.gl.xr.isPresenting||eU(Q)},ee={connect(){const Q=a.getState().gl;Q.xr.addEventListener("sessionstart",H),Q.xr.addEventListener("sessionend",H)},disconnect(){const Q=a.getState().gl;Q.xr.removeEventListener("sessionstart",H),Q.xr.removeEventListener("sessionend",H)}};typeof((K=V.xr)==null?void 0:K.addEventListener)=="function"&&ee.connect(),G.set({xr:ee})}if(V.shadowMap){const J=V.shadowMap.enabled,H=V.shadowMap.type;if(V.shadowMap.enabled=!!_,Ki.boo(_))V.shadowMap.type=rC;else if(Ki.str(_)){var se;const ee={basic:eve,percentage:YL,soft:rC,variance:vf};V.shadowMap.type=(se=ee[_])!=null?se:rC}else Ki.obj(_)&&Object.assign(V.shadowMap,_);(J!==V.shadowMap.enabled||H!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}return Pr.enabled=!M,u||(V.outputColorSpace=S?Wv:Ao,V.toneMapping=A?Yd:lG),G.legacy!==M&&G.set(()=>({legacy:M})),G.linear!==S&&G.set(()=>({linear:S})),G.flat!==A&&G.set(()=>({flat:A})),h&&!Ki.fun(h)&&!bre(h)&&!Ki.equ(h,V,T_)&&uv(V,h),o=y,u=!0,d(),this},render(f){return!u&&!c&&this.configure(),c.then(()=>{$z.updateContainer(C.jsx(Vpt,{store:a,children:f,onCreated:o,rootElement:n}),s,null,()=>{})}),a},unmount(){vge(n)}}}function Vpt({store:n,children:e,onCreated:t,rootElement:r}){return MM(()=>{const i=n.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),C.jsx(uge.Provider,{value:n,children:e})}function vge(n,e){const t=Ky.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),$z.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,s,o,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),ypt(i.scene),Ky.delete(n)}catch{}},500)})}}const Gpt=new Set,Hpt=new Set,jpt=new Set;function gB(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function dC(n,e){switch(n){case"before":return gB(Gpt,e);case"after":return gB(Hpt,e);case"tail":return gB(jpt,e)}}let yB,xB;function Jz(n,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),yB=e.internal.subscribers;for(let i=0;i<yB.length;i++)xB=yB[i],xB.ref.current(xB.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let Ok=!1,Qz=!1,_B,Tre,C_;function mge(n){Tre=requestAnimationFrame(mge),Ok=!0,_B=0,dC("before",n),Qz=!0;for(const t of Ky.values()){var e;C_=t.store.getState(),C_.internal.active&&(C_.frameloop==="always"||C_.internal.frames>0)&&!((e=C_.gl.xr)!=null&&e.isPresenting)&&(_B+=Jz(n,C_))}if(Qz=!1,dC("after",n),_B===0)return dC("tail",n),Ok=!1,cancelAnimationFrame(Tre)}function eU(n,e=1){var t;if(!n)return Ky.forEach(r=>eU(r.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):Qz?n.internal.frames=2:n.internal.frames=1,Ok||(Ok=!0,requestAnimationFrame(mge)))}function Cre(n,e=!0,t,r){if(e&&dC("before",n),t)Jz(n,t,r);else for(const i of Ky.values())Jz(n,i.store.getState());e&&dC("after",n)}const bB={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Wpt(n){const{handlePointer:e}=Apt(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(bB).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:r,events:i}=n.getState();if(i.disconnect==null||i.disconnect(),r(a=>({events:{...a.events,connected:t}})),i.handlers)for(const a in i.handlers){const s=i.handlers[a],[o,l]=bB[a];t.addEventListener(o,s,{passive:l})}},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){if(r.handlers)for(const i in r.handlers){const a=r.handlers[i],[s]=bB[i];r.connected.removeEventListener(s,a)}t(i=>({events:{...i.events,connected:void 0}}))}}}}function Are(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function Ypt({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=de.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=de.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,c=de.useRef(!1);de.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,d,h]=de.useMemo(()=>{const y=()=>{if(!o.current.element)return;const{left:_,top:S,width:A,height:M,bottom:E,right:D,x:I,y:N}=o.current.element.getBoundingClientRect(),L={left:_,top:S,width:A,height:M,bottom:E,right:D,x:I,y:N};o.current.element instanceof HTMLElement&&r&&(L.height=o.current.element.offsetHeight,L.width=o.current.element.offsetWidth),Object.freeze(L),c.current&&!Kpt(o.current.lastBounds,L)&&s(o.current.lastBounds=L)};return[y,u?Are(y,u):y,l?Are(y,l):y]},[s,r,l,u]);function p(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",h,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function m(){o.current.element&&(o.current.resizeObserver=new i(h),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(y=>y.addEventListener("scroll",h,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const g=y=>{!y||y===o.current.element||(p(),o.current.element=y,o.current.scrollContainers=gge(y),m())};return Xpt(h,!!e),qpt(d),de.useEffect(()=>{p(),m()},[e,h,d]),de.useEffect(()=>p,[]),[g,a,f]}function qpt(n){de.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Xpt(n,e){de.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function gge(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...gge(n.parentElement)]}const Zpt=["x","y","top","bottom","left","right","width","height"],Kpt=(n,e)=>Zpt.every(t=>n[t]===e[t]);function $pt({ref:n,children:e,fallback:t,resize:r,style:i,gl:a,events:s=Wpt,eventSource:o,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:d,orthographic:h,frameloop:p,dpr:m,performance:g,raycaster:y,camera:_,scene:S,onPointerMissed:A,onCreated:M,...E}){de.useMemo(()=>Ipt(Yht),[]);const D=vpt(),[I,N]=Ypt({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=de.useRef(null),B=de.useRef(null);de.useImperativeHandle(n,()=>L.current);const O=age(A),[G,V]=de.useState(!1),[q,W]=de.useState(!1);if(G)throw G;if(q)throw q;const Z=de.useRef(null);MM(()=>{const K=L.current;if(N.width>0&&N.height>0&&K){Z.current||(Z.current=Upt(K));async function se(){await Z.current.configure({gl:a,scene:S,events:s,shadows:u,linear:c,flat:f,legacy:d,orthographic:h,frameloop:p,dpr:m,performance:g,raycaster:y,camera:_,size:N,onPointerMissed:(...J)=>O.current==null?void 0:O.current(...J),onCreated:J=>{J.events.connect==null||J.events.connect(o?hpt(o)?o.current:o:B.current),l&&J.setEvents({compute:(H,ee)=>{const Q=H[l+"X"],ne=H[l+"Y"];ee.pointer.set(Q/ee.size.width*2-1,-(ne/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),M==null||M(J)}}),Z.current.render(C.jsx(D,{children:C.jsx(gpt,{set:W,children:C.jsx(de.Suspense,{fallback:C.jsx(mpt,{set:V}),children:e??null})})}))}se()}}),de.useEffect(()=>{const K=L.current;if(K)return()=>vge(K)},[]);const X=o?"none":"auto";return C.jsx("div",{ref:B,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...i},...E,children:C.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:C.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}function yge(n){return C.jsx(tge,{children:C.jsx($pt,{...n})})}function tU(){return tU=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tU.apply(null,arguments)}var Jpt=Object.defineProperty,Qpt=(n,e,t)=>e in n?Jpt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,e0t=(n,e,t)=>(Qpt(n,e+"",t),t);class t0t{constructor(){e0t(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}var n0t=Object.defineProperty,r0t=(n,e,t)=>e in n?n0t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ln=(n,e,t)=>(r0t(n,typeof e!="symbol"?e+"":e,t),t);const wR=new mx,Mre=new ip,i0t=Math.cos(70*(Math.PI/180)),Ere=(n,e)=>(n%e+e)%e;let a0t=class extends t0t{constructor(e,t){super(),Ln(this,"object"),Ln(this,"domElement"),Ln(this,"enabled",!0),Ln(this,"target",new De),Ln(this,"minDistance",0),Ln(this,"maxDistance",1/0),Ln(this,"minZoom",0),Ln(this,"maxZoom",1/0),Ln(this,"minPolarAngle",0),Ln(this,"maxPolarAngle",Math.PI),Ln(this,"minAzimuthAngle",-1/0),Ln(this,"maxAzimuthAngle",1/0),Ln(this,"enableDamping",!1),Ln(this,"dampingFactor",.05),Ln(this,"enableZoom",!0),Ln(this,"zoomSpeed",1),Ln(this,"enableRotate",!0),Ln(this,"rotateSpeed",1),Ln(this,"enablePan",!0),Ln(this,"panSpeed",1),Ln(this,"screenSpacePanning",!0),Ln(this,"keyPanSpeed",7),Ln(this,"zoomToCursor",!1),Ln(this,"autoRotate",!1),Ln(this,"autoRotateSpeed",2),Ln(this,"reverseOrbit",!1),Ln(this,"reverseHorizontalOrbit",!1),Ln(this,"reverseVerticalOrbit",!1),Ln(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ln(this,"mouseButtons",{LEFT:Zg.ROTATE,MIDDLE:Zg.DOLLY,RIGHT:Zg.PAN}),Ln(this,"touches",{ONE:Kg.ROTATE,TWO:Kg.DOLLY_PAN}),Ln(this,"target0"),Ln(this,"position0"),Ln(this,"zoom0"),Ln(this,"_domElementKeyEvents",null),Ln(this,"getPolarAngle"),Ln(this,"getAzimuthalAngle"),Ln(this,"setPolarAngle"),Ln(this,"setAzimuthalAngle"),Ln(this,"getDistance"),Ln(this,"getZoomScale"),Ln(this,"listenToKeyEvents"),Ln(this,"stopListenToKeyEvents"),Ln(this,"saveState"),Ln(this,"reset"),Ln(this,"update"),Ln(this,"connect"),Ln(this,"dispose"),Ln(this,"dollyIn"),Ln(this,"dollyOut"),Ln(this,"getScale"),Ln(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ke=>{let Je=Ere(ke,2*Math.PI),Et=c.phi;Et<0&&(Et+=2*Math.PI),Je<0&&(Je+=2*Math.PI);let Le=Math.abs(Je-Et);2*Math.PI-Le<Le&&(Je<Et?Je+=2*Math.PI:Et+=2*Math.PI),f.phi=Je-Et,r.update()},this.setAzimuthalAngle=ke=>{let Je=Ere(ke,2*Math.PI),Et=c.theta;Et<0&&(Et+=2*Math.PI),Je<0&&(Je+=2*Math.PI);let Le=Math.abs(Je-Et);2*Math.PI-Le<Le&&(Je<Et?Je+=2*Math.PI:Et+=2*Math.PI),f.theta=Je-Et,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ke=>{ke.addEventListener("keydown",We),this._domElementKeyEvents=ke},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",We),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=o.NONE},this.update=(()=>{const ke=new De,Je=new De(0,1,0),Et=new Oo().setFromUnitVectors(e.up,Je),Le=Et.clone().invert(),Dt=new De,Rt=new Oo,wt=2*Math.PI;return function(){const vt=r.object.position;Et.setFromUnitVectors(e.up,Je),Le.copy(Et).invert(),ke.copy(vt).sub(r.target),ke.applyQuaternion(Et),c.setFromVector3(ke),r.autoRotate&&l===o.NONE&&V(O()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let Ut=r.minAzimuthAngle,Zt=r.maxAzimuthAngle;isFinite(Ut)&&isFinite(Zt)&&(Ut<-Math.PI?Ut+=wt:Ut>Math.PI&&(Ut-=wt),Zt<-Math.PI?Zt+=wt:Zt>Math.PI&&(Zt-=wt),Ut<=Zt?c.theta=Math.max(Ut,Math.min(Zt,c.theta)):c.theta=c.theta>(Ut+Zt)/2?Math.max(Ut,c.theta):Math.min(Zt,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&N||r.object.isOrthographicCamera?c.radius=ee(c.radius):c.radius=ee(c.radius*d),ke.setFromSpherical(c),ke.applyQuaternion(Le),vt.copy(r.target).add(ke),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),h.set(0,0,0));let Mn=!1;if(r.zoomToCursor&&N){let En=null;if(r.object instanceof Ea&&r.object.isPerspectiveCamera){const Br=ke.length();En=ee(Br*d);const ur=Br-En;r.object.position.addScaledVector(D,ur),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Br=new De(I.x,I.y,0);Br.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),Mn=!0;const ur=new De(I.x,I.y,0);ur.unproject(r.object),r.object.position.sub(ur).add(Br),r.object.updateMatrixWorld(),En=ke.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;En!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(En).add(r.object.position):(wR.origin.copy(r.object.position),wR.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(wR.direction))<i0t?e.lookAt(r.target):(Mre.setFromNormalAndCoplanarPoint(r.object.up,r.target),wR.intersectPlane(Mre,r.target))))}else r.object instanceof kv&&r.object.isOrthographicCamera&&(Mn=d!==1,Mn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,N=!1,Mn||Dt.distanceToSquared(r.object.position)>u||8*(1-Rt.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Dt.copy(r.object.position),Rt.copy(r.object.quaternion),Mn=!1,!0):!1}})(),this.connect=ke=>{r.domElement=ke,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Nt),r.domElement.addEventListener("pointerdown",Pe),r.domElement.addEventListener("pointercancel",ue),r.domElement.addEventListener("wheel",ot)},this.dispose=()=>{var ke,Je,Et,Le,Dt,Rt;r.domElement&&(r.domElement.style.touchAction="auto"),(ke=r.domElement)==null||ke.removeEventListener("contextmenu",Nt),(Je=r.domElement)==null||Je.removeEventListener("pointerdown",Pe),(Et=r.domElement)==null||Et.removeEventListener("pointercancel",ue),(Le=r.domElement)==null||Le.removeEventListener("wheel",ot),(Dt=r.domElement)==null||Dt.ownerDocument.removeEventListener("pointermove",me),(Rt=r.domElement)==null||Rt.ownerDocument.removeEventListener("pointerup",ue),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",We)};const r=this,i={type:"change"},a={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const u=1e-6,c=new Ik,f=new Ik;let d=1;const h=new De,p=new Ct,m=new Ct,g=new Ct,y=new Ct,_=new Ct,S=new Ct,A=new Ct,M=new Ct,E=new Ct,D=new De,I=new Ct;let N=!1;const L=[],B={};function O(){return 2*Math.PI/60/60*r.autoRotateSpeed}function G(){return Math.pow(.95,r.zoomSpeed)}function V(ke){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ke:f.theta-=ke}function q(ke){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ke:f.phi-=ke}const W=(()=>{const ke=new De;return function(Et,Le){ke.setFromMatrixColumn(Le,0),ke.multiplyScalar(-Et),h.add(ke)}})(),Z=(()=>{const ke=new De;return function(Et,Le){r.screenSpacePanning===!0?ke.setFromMatrixColumn(Le,1):(ke.setFromMatrixColumn(Le,0),ke.crossVectors(r.object.up,ke)),ke.multiplyScalar(Et),h.add(ke)}})(),X=(()=>{const ke=new De;return function(Et,Le){const Dt=r.domElement;if(Dt&&r.object instanceof Ea&&r.object.isPerspectiveCamera){const Rt=r.object.position;ke.copy(Rt).sub(r.target);let wt=ke.length();wt*=Math.tan(r.object.fov/2*Math.PI/180),W(2*Et*wt/Dt.clientHeight,r.object.matrix),Z(2*Le*wt/Dt.clientHeight,r.object.matrix)}else Dt&&r.object instanceof kv&&r.object.isOrthographicCamera?(W(Et*(r.object.right-r.object.left)/r.object.zoom/Dt.clientWidth,r.object.matrix),Z(Le*(r.object.top-r.object.bottom)/r.object.zoom/Dt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function K(ke){r.object instanceof Ea&&r.object.isPerspectiveCamera||r.object instanceof kv&&r.object.isOrthographicCamera?d=ke:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function se(ke){K(d/ke)}function J(ke){K(d*ke)}function H(ke){if(!r.zoomToCursor||!r.domElement)return;N=!0;const Je=r.domElement.getBoundingClientRect(),Et=ke.clientX-Je.left,Le=ke.clientY-Je.top,Dt=Je.width,Rt=Je.height;I.x=Et/Dt*2-1,I.y=-(Le/Rt)*2+1,D.set(I.x,I.y,1).unproject(r.object).sub(r.object.position).normalize()}function ee(ke){return Math.max(r.minDistance,Math.min(r.maxDistance,ke))}function Q(ke){p.set(ke.clientX,ke.clientY)}function ne(ke){H(ke),A.set(ke.clientX,ke.clientY)}function ce(ke){y.set(ke.clientX,ke.clientY)}function ve(ke){m.set(ke.clientX,ke.clientY),g.subVectors(m,p).multiplyScalar(r.rotateSpeed);const Je=r.domElement;Je&&(V(2*Math.PI*g.x/Je.clientHeight),q(2*Math.PI*g.y/Je.clientHeight)),p.copy(m),r.update()}function xe(ke){M.set(ke.clientX,ke.clientY),E.subVectors(M,A),E.y>0?se(G()):E.y<0&&J(G()),A.copy(M),r.update()}function we(ke){_.set(ke.clientX,ke.clientY),S.subVectors(_,y).multiplyScalar(r.panSpeed),X(S.x,S.y),y.copy(_),r.update()}function Ae(ke){H(ke),ke.deltaY<0?J(G()):ke.deltaY>0&&se(G()),r.update()}function Ue(ke){let Je=!1;switch(ke.code){case r.keys.UP:X(0,r.keyPanSpeed),Je=!0;break;case r.keys.BOTTOM:X(0,-r.keyPanSpeed),Je=!0;break;case r.keys.LEFT:X(r.keyPanSpeed,0),Je=!0;break;case r.keys.RIGHT:X(-r.keyPanSpeed,0),Je=!0;break}Je&&(ke.preventDefault(),r.update())}function pe(){if(L.length==1)p.set(L[0].pageX,L[0].pageY);else{const ke=.5*(L[0].pageX+L[1].pageX),Je=.5*(L[0].pageY+L[1].pageY);p.set(ke,Je)}}function pt(){if(L.length==1)y.set(L[0].pageX,L[0].pageY);else{const ke=.5*(L[0].pageX+L[1].pageX),Je=.5*(L[0].pageY+L[1].pageY);y.set(ke,Je)}}function te(){const ke=L[0].pageX-L[1].pageX,Je=L[0].pageY-L[1].pageY,Et=Math.sqrt(ke*ke+Je*Je);A.set(0,Et)}function oe(){r.enableZoom&&te(),r.enablePan&&pt()}function ge(){r.enableZoom&&te(),r.enableRotate&&pe()}function le(ke){if(L.length==1)m.set(ke.pageX,ke.pageY);else{const Et=Yt(ke),Le=.5*(ke.pageX+Et.x),Dt=.5*(ke.pageY+Et.y);m.set(Le,Dt)}g.subVectors(m,p).multiplyScalar(r.rotateSpeed);const Je=r.domElement;Je&&(V(2*Math.PI*g.x/Je.clientHeight),q(2*Math.PI*g.y/Je.clientHeight)),p.copy(m)}function fe(ke){if(L.length==1)_.set(ke.pageX,ke.pageY);else{const Je=Yt(ke),Et=.5*(ke.pageX+Je.x),Le=.5*(ke.pageY+Je.y);_.set(Et,Le)}S.subVectors(_,y).multiplyScalar(r.panSpeed),X(S.x,S.y),y.copy(_)}function be(ke){const Je=Yt(ke),Et=ke.pageX-Je.x,Le=ke.pageY-Je.y,Dt=Math.sqrt(Et*Et+Le*Le);M.set(0,Dt),E.set(0,Math.pow(M.y/A.y,r.zoomSpeed)),se(E.y),A.copy(M)}function Oe(ke){r.enableZoom&&be(ke),r.enablePan&&fe(ke)}function Ve(ke){r.enableZoom&&be(ke),r.enableRotate&&le(ke)}function Pe(ke){var Je,Et;r.enabled!==!1&&(L.length===0&&((Je=r.domElement)==null||Je.ownerDocument.addEventListener("pointermove",me),(Et=r.domElement)==null||Et.ownerDocument.addEventListener("pointerup",ue)),Ht(ke),ke.pointerType==="touch"?zt(ke):Ie(ke))}function me(ke){r.enabled!==!1&&(ke.pointerType==="touch"?mt(ke):Ye(ke))}function ue(ke){var Je,Et,Le;Qe(ke),L.length===0&&((Je=r.domElement)==null||Je.releasePointerCapture(ke.pointerId),(Et=r.domElement)==null||Et.ownerDocument.removeEventListener("pointermove",me),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",ue)),r.dispatchEvent(s),l=o.NONE}function Ie(ke){let Je;switch(ke.button){case 0:Je=r.mouseButtons.LEFT;break;case 1:Je=r.mouseButtons.MIDDLE;break;case 2:Je=r.mouseButtons.RIGHT;break;default:Je=-1}switch(Je){case Zg.DOLLY:if(r.enableZoom===!1)return;ne(ke),l=o.DOLLY;break;case Zg.ROTATE:if(ke.ctrlKey||ke.metaKey||ke.shiftKey){if(r.enablePan===!1)return;ce(ke),l=o.PAN}else{if(r.enableRotate===!1)return;Q(ke),l=o.ROTATE}break;case Zg.PAN:if(ke.ctrlKey||ke.metaKey||ke.shiftKey){if(r.enableRotate===!1)return;Q(ke),l=o.ROTATE}else{if(r.enablePan===!1)return;ce(ke),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(a)}function Ye(ke){if(r.enabled!==!1)switch(l){case o.ROTATE:if(r.enableRotate===!1)return;ve(ke);break;case o.DOLLY:if(r.enableZoom===!1)return;xe(ke);break;case o.PAN:if(r.enablePan===!1)return;we(ke);break}}function ot(ke){r.enabled===!1||r.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(ke.preventDefault(),r.dispatchEvent(a),Ae(ke),r.dispatchEvent(s))}function We(ke){r.enabled===!1||r.enablePan===!1||Ue(ke)}function zt(ke){switch(bt(ke),L.length){case 1:switch(r.touches.ONE){case Kg.ROTATE:if(r.enableRotate===!1)return;pe(),l=o.TOUCH_ROTATE;break;case Kg.PAN:if(r.enablePan===!1)return;pt(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case Kg.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;oe(),l=o.TOUCH_DOLLY_PAN;break;case Kg.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ge(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(a)}function mt(ke){switch(bt(ke),l){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;le(ke),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;fe(ke),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Oe(ke),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ve(ke),r.update();break;default:l=o.NONE}}function Nt(ke){r.enabled!==!1&&ke.preventDefault()}function Ht(ke){L.push(ke)}function Qe(ke){delete B[ke.pointerId];for(let Je=0;Je<L.length;Je++)if(L[Je].pointerId==ke.pointerId){L.splice(Je,1);return}}function bt(ke){let Je=B[ke.pointerId];Je===void 0&&(Je=new Ct,B[ke.pointerId]=Je),Je.set(ke.pageX,ke.pageY)}function Yt(ke){const Je=ke.pointerId===L[0].pointerId?L[1]:L[0];return B[Je.pointerId]}this.dollyIn=(ke=G())=>{J(ke),r.update()},this.dollyOut=(ke=G())=>{se(ke),r.update()},this.getScale=()=>d,this.setScale=ke=>{K(ke),r.update()},this.getZoomScale=()=>G(),t!==void 0&&this.connect(t),this.update()}};const s0t=()=>parseInt(gM.replace(/\D+/g,"")),o0t=s0t(),xge=de.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:s,onStart:o,onEnd:l,...u},c)=>{const f=Q0(E=>E.invalidate),d=Q0(E=>E.camera),h=Q0(E=>E.gl),p=Q0(E=>E.events),m=Q0(E=>E.setEvents),g=Q0(E=>E.set),y=Q0(E=>E.get),_=Q0(E=>E.performance),S=e||d,A=r||p.connected||h.domElement,M=de.useMemo(()=>new a0t(S),[S]);return MP(()=>{M.enabled&&M.update()},-1),de.useEffect(()=>(a&&M.connect(a===!0?A:a),M.connect(A),()=>void M.dispose()),[a,A,t,M,f]),de.useEffect(()=>{const E=N=>{f(),t&&_.regress(),s&&s(N)},D=N=>{o&&o(N)},I=N=>{l&&l(N)};return M.addEventListener("change",E),M.addEventListener("start",D),M.addEventListener("end",I),()=>{M.removeEventListener("start",D),M.removeEventListener("end",I),M.removeEventListener("change",E)}},[s,o,l,M,f,m]),de.useEffect(()=>{if(n){const E=y().controls;return g({controls:M}),()=>g({controls:E})}},[n,M]),de.createElement("primitive",tU({ref:c,object:M,enableDamping:i},u))});class l0t extends Eu{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${o0t>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const u0t=n=>new De().setFromSpherical(new Ik(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),_ge=de.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:r=0,factor:i=4,fade:a=!1,speed:s=1},o)=>{const l=de.useRef(null),[u,c,f]=de.useMemo(()=>{const h=[],p=[],m=Array.from({length:t},()=>(.5+.5*Math.random())*i),g=new en;let y=n+e;const _=e/t;for(let S=0;S<t;S++)y-=_*Math.random(),h.push(...u0t(y).toArray()),g.setHSL(S/t,r,.9),p.push(g.r,g.g,g.b);return[new Float32Array(h),new Float32Array(p),new Float32Array(m)]},[t,e,i,n,r]);MP(h=>l.current&&(l.current.uniforms.time.value=h.clock.elapsedTime*s));const[d]=de.useState(()=>new l0t);return de.createElement("points",{ref:o},de.createElement("bufferGeometry",null,de.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),de.createElement("bufferAttribute",{attach:"attributes-color",args:[c,3]}),de.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]})),de.createElement("primitive",{ref:l,object:d,attach:"material",blending:fA,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),c0t=`
  attribute float scale;
  attribute vec3 customColor;
  varying vec3 vColor;
  varying float vDistance;
  
  void main() {
    vColor = customColor;
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    
    // Distance from center for some shader tricks
    vDistance = length(position);
    
    gl_PointSize = scale * (600.0 / -mvPosition.z);
    gl_Position = projectionMatrix * mvPosition;
  }
`,f0t=`
  varying vec3 vColor;
  varying float vDistance;
  
  void main() {
    // Circular particle
    float r = distance(gl_PointCoord, vec2(0.5));
    if (r > 0.5) discard;
    
    // Glow calculation - sharper core, softer glow
    float strength = 1.0 - (r * 2.0);
    strength = pow(strength, 4.0); // Sharper falloff for less "bloom"
    
    // Add "sparkle" variation
    float sparkle = 1.0;
    
    vec3 finalColor = vColor;
    
    // Boost brightness at the center of the particle
    finalColor += vec3(0.2) * strength;
    
    gl_FragColor = vec4(finalColor, strength * 0.5); // More transparent for darker look
  }
`,d0t=()=>{const n=de.useRef(null),e=de.useMemo(()=>{const r=new Float32Array(36e4),i=new Float32Array(12e4*3),a=new Float32Array(12e4),s=new en("#ffffff"),o=new en("#cccccc"),l=new en("#666666"),u=new en("#1a1a1a"),c=new en("#000000");for(let f=0;f<12e4;f++){const d=f*3,h=Math.random()*30,p=3,m=2.5,g=f%p*(Math.PI*2/p),y=h*m*.2,_=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(h*.3+1),S=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(h*.2+.5),A=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(h*.3+1);r[d]=Math.cos(g+y)*h+_,r[d+1]=S,r[d+2]=Math.sin(g+y)*h+A;const M=s.clone();h<5?M.lerp(o,h/5):h<12?M.copy(o).lerp(l,(h-5)/7):h<20?M.copy(l).lerp(u,(h-12)/8):M.copy(u).lerp(c,(h-20)/10),M.r+=(Math.random()-.5)*.15,M.g+=(Math.random()-.5)*.15,M.b+=(Math.random()-.5)*.15,i[d]=M.r,i[d+1]=M.g,i[d+2]=M.b,a[f]=Math.random()*2,Math.random()<.005&&(a[f]*=4,i[d]+=.5,i[d+1]+=.5,i[d+2]+=.5)}return{positions:r,colors:i,scales:a,count:12e4}},[]);return MP(t=>{n.current&&(n.current.rotation.y=t.clock.getElapsedTime()*.03)}),C.jsxs("points",{ref:n,children:[C.jsxs("bufferGeometry",{children:[C.jsx("bufferAttribute",{attach:"attributes-position",count:e.count,array:e.positions,itemSize:3}),C.jsx("bufferAttribute",{attach:"attributes-customColor",count:e.count,array:e.colors,itemSize:3}),C.jsx("bufferAttribute",{attach:"attributes-scale",count:e.count,array:e.scales,itemSize:1})]}),C.jsx("shaderMaterial",{vertexShader:c0t,fragmentShader:f0t,transparent:!0,depthWrite:!1,blending:fA})]})},h0t=()=>{const[n,e]=de.useState(0),[t,r]=de.useState(!1),i=[{title:"Andromeda-X",description:"A rare barred spiral galaxy located in the Deep Field. Known for its vibrant high-energy core and extensive star-forming regions composed of exotic matter.",stats:[{label:"Star Count",value:"~400 Billion",icon:wf,color:"text-purple-300",bg:"bg-purple-500/20"},{label:"Energy Output",value:"Type III Civilization",icon:MT,color:"text-blue-300",bg:"bg-blue-500/20"},{label:"Rotation Speed",value:"220 km/s",icon:b4,color:"text-pink-300",bg:"bg-pink-500/20"}]},{title:"Milky Way Core",description:"The supermassive black hole Sagittarius A* resides here, surrounded by a dense cluster of ancient stars and high-velocity gas clouds orbiting at relativistic speeds.",stats:[{label:"Mass",value:"4.1 Million Suns",icon:MT,color:"text-yellow-300",bg:"bg-yellow-500/20"},{label:"Diameter",value:"100,000 Light Years",icon:b4,color:"text-green-300",bg:"bg-green-500/20"},{label:"Age",value:"13.6 Billion Years",icon:wf,color:"text-orange-300",bg:"bg-orange-500/20"}]},{title:"Nebula Cluster",description:"A stellar nursery where new stars are born from collapsing clouds of dust and hydrogen gas. The vibrant colors indicate different ionized elements like oxygen and sulfur.",stats:[{label:"Temperature",value:"10,000 K",icon:MT,color:"text-red-300",bg:"bg-red-500/20"},{label:"Span",value:"50 Light Years",icon:b4,color:"text-cyan-300",bg:"bg-cyan-500/20"},{label:"Composition",value:"Hydrogen / Helium",icon:wf,color:"text-indigo-300",bg:"bg-indigo-500/20"}]}];de.useEffect(()=>{const s=setInterval(()=>{r(!0),setTimeout(()=>{e(o=>(o+1)%i.length),r(!1)},500)},8e3);return()=>clearInterval(s)},[]);const a=i[n];return C.jsxs("div",{className:"absolute bottom-0 left-0 w-full pointer-events-none flex justify-center pb-6",children:[C.jsx("div",{className:"w-full max-w-7xl mx-6 pointer-events-auto",children:C.jsxs("div",{className:"bg-black/80 backdrop-blur-2xl border border-white/10 rounded-xl p-4 text-white shadow-2xl relative overflow-hidden group transition-all duration-500 hover:bg-black/90",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-30"}),C.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-white/5 rounded-full blur-3xl group-hover:bg-white/10 transition-colors duration-1000"}),C.jsxs("div",{className:`relative z-10 transition-opacity duration-500 ${t?"opacity-0 translate-y-2":"opacity-100 translate-y-0"}`,children:[C.jsxs("div",{className:"flex flex-row items-center justify-between gap-8",children:[C.jsxs("div",{className:"flex-1 text-left flex items-center gap-6",children:[C.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight shrink-0 min-w-[200px]",children:a.title}),C.jsx("div",{className:"h-8 w-[1px] bg-white/10"}),C.jsx("p",{className:"text-xs text-gray-400 leading-relaxed font-light max-w-2xl line-clamp-2",children:a.description})]}),C.jsx("div",{className:"flex flex-row gap-4 shrink-0",children:a.stats.map((s,o)=>C.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 rounded-lg bg-white/5 border border-white/5 hover:bg-white/10 transition-colors",children:[C.jsx("div",{className:`p-1.5 rounded-md ${s.bg} ${s.color} shadow-inner`,children:C.jsx(s.icon,{size:14,className:"animate-pulse"})}),C.jsxs("div",{children:[C.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider font-bold",children:s.label}),C.jsx("p",{className:"text-xs font-bold text-gray-200",children:s.value})]})]},o))})]}),C.jsx("div",{className:"absolute bottom-0 left-0 h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent w-full opacity-20",children:C.jsx("div",{className:"h-full bg-white/40 w-full origin-left animate-[progress_8s_linear]"},n)})]})]})}),C.jsx("style",{children:`
                @keyframes progress {
                    from { transform: scaleX(0); }
                    to { transform: scaleX(1); }
                }
            `})]})},p0t=()=>C.jsxs("div",{className:"w-full h-full bg-[#050508] relative overflow-hidden",children:[C.jsxs(yge,{camera:{position:[0,25,45],fov:40},children:[C.jsx("color",{attach:"background",args:["#020203"]}),C.jsx(xge,{enableDamping:!0,dampingFactor:.05,minDistance:10,maxDistance:100,autoRotate:!1,autoRotateSpeed:.5}),C.jsx(_ge,{radius:200,depth:50,count:5e3,factor:4,saturation:.8,fade:!0,speed:.5}),C.jsx(d0t,{}),C.jsx("ambientLight",{intensity:.1}),C.jsx("pointLight",{position:[0,0,0],intensity:2,distance:30,color:"#ffccaa"})]}),C.jsx(h0t,{}),C.jsx("div",{className:"absolute top-8 right-8 text-right pointer-events-none select-none",children:C.jsx("h1",{className:"text-6xl font-thin tracking-[0.2em] text-white/10 uppercase",children:"Galaxy"})})]}),js=[];for(let n=0;n<256;++n)js.push((n+256).toString(16).slice(1));function v0t(n,e=0){return(js[n[e+0]]+js[n[e+1]]+js[n[e+2]]+js[n[e+3]]+"-"+js[n[e+4]]+js[n[e+5]]+"-"+js[n[e+6]]+js[n[e+7]]+"-"+js[n[e+8]]+js[n[e+9]]+"-"+js[n[e+10]]+js[n[e+11]]+js[n[e+12]]+js[n[e+13]]+js[n[e+14]]+js[n[e+15]]).toLowerCase()}let SB;const m0t=new Uint8Array(16);function g0t(){if(!SB){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");SB=crypto.getRandomValues.bind(crypto)}return SB(m0t)}const y0t=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Dre={randomUUID:y0t};function x0t(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??g0t();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,v0t(r)}function sv(n,e,t){return Dre.randomUUID&&!n?Dre.randomUUID():x0t(n)}const $G=de.createContext({});function JG(n){const e=de.useRef(null);return e.current===null&&(e.current=n()),e.current}const QG=typeof window<"u",bge=QG?de.useLayoutEffect:de.useEffect,DP=de.createContext(null);function eH(n,e){n.indexOf(e)===-1&&n.push(e)}function tH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Hp=(n,e,t)=>t>e?e:t<n?n:t;let nH=()=>{};const jp={},Sge=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function wge(n){return typeof n=="object"&&n!==null}const Tge=n=>/^0[^.\s]+$/u.test(n);function rH(n){let e;return()=>(e===void 0&&(e=n()),e)}const bc=n=>n,_0t=(n,e)=>t=>e(n(t)),EM=(...n)=>n.reduce(_0t),RA=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class iH{constructor(){this.subscriptions=[]}add(e){return eH(this.subscriptions,e),()=>tH(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qd=n=>n*1e3,gc=n=>n/1e3;function Cge(n,e){return e?n*(1e3/e):0}const Age=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,b0t=1e-7,S0t=12;function w0t(n,e,t,r,i){let a,s,o=0;do s=e+(t-e)/2,a=Age(s,r,i)-n,a>0?t=s:e=s;while(Math.abs(a)>b0t&&++o<S0t);return s}function DM(n,e,t,r){if(n===e&&t===r)return bc;const i=a=>w0t(a,0,1,n,t);return a=>a===0||a===1?a:Age(i(a),e,r)}const Mge=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Ege=n=>e=>1-n(1-e),Dge=DM(.33,1.53,.69,.99),aH=Ege(Dge),Rge=Mge(aH),Nge=n=>(n*=2)<1?.5*aH(n):.5*(2-Math.pow(2,-10*(n-1))),sH=n=>1-Math.sin(Math.acos(n)),Ige=Ege(sH),kge=Mge(sH),T0t=DM(.42,0,1,1),C0t=DM(0,0,.58,1),Lge=DM(.42,0,.58,1),A0t=n=>Array.isArray(n)&&typeof n[0]!="number",Pge=n=>Array.isArray(n)&&typeof n[0]=="number",M0t={linear:bc,easeIn:T0t,easeInOut:Lge,easeOut:C0t,circIn:sH,circInOut:kge,circOut:Ige,backIn:aH,backInOut:Rge,backOut:Dge,anticipate:Nge},E0t=n=>typeof n=="string",Rre=n=>{if(Pge(n)){nH(n.length===4);const[e,t,r,i]=n;return DM(e,t,r,i)}else if(E0t(n))return M0t[n];return n},TR=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function D0t(n,e){let t=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){s.has(c)&&(u.schedule(c),n()),c(o)}const u={schedule:(c,f=!1,d=!1)=>{const p=d&&i?t:r;return f&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{r.delete(c),s.delete(c)},process:c=>{if(o=c,i){a=!0;return}i=!0,[t,r]=[r,t],t.forEach(l),t.clear(),i=!1,a&&(a=!1,u.process(c))}};return u}const R0t=40;function Oge(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=TR.reduce((S,A)=>(S[A]=D0t(a),S),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:d,render:h,postRender:p}=s,m=()=>{const S=jp.useManualTiming?i.timestamp:performance.now();t=!1,jp.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,R0t),1)),i.timestamp=S,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),f.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(m))},g=()=>{t=!0,r=!0,i.isProcessing||n(m)};return{schedule:TR.reduce((S,A)=>{const M=s[A];return S[A]=(E,D=!1,I=!1)=>(t||g(),M.schedule(E,D,I)),S},{}),cancel:S=>{for(let A=0;A<TR.length;A++)s[TR[A]].cancel(S)},state:i,steps:s}}const{schedule:ji,cancel:Xv,state:Ys,steps:wB}=Oge(typeof requestAnimationFrame<"u"?requestAnimationFrame:bc,!0);let iN;function N0t(){iN=void 0}const Wl={now:()=>(iN===void 0&&Wl.set(Ys.isProcessing||jp.useManualTiming?Ys.timestamp:performance.now()),iN),set:n=>{iN=n,queueMicrotask(N0t)}},Fge=n=>e=>typeof e=="string"&&e.startsWith(n),oH=Fge("--"),I0t=Fge("var(--"),lH=n=>I0t(n)?k0t.test(n.split("/*")[0].trim()):!1,k0t=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,RS={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},NA={...RS,transform:n=>Hp(0,1,n)},CR={...RS,default:1},hC=n=>Math.round(n*1e5)/1e5,uH=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L0t(n){return n==null}const P0t=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cH=(n,e)=>t=>!!(typeof t=="string"&&P0t.test(t)&&t.startsWith(n)||e&&!L0t(t)&&Object.prototype.hasOwnProperty.call(t,e)),Bge=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(uH);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},O0t=n=>Hp(0,255,n),TB={...RS,transform:n=>Math.round(O0t(n))},my={test:cH("rgb","red"),parse:Bge("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+TB.transform(n)+", "+TB.transform(e)+", "+TB.transform(t)+", "+hC(NA.transform(r))+")"};function F0t(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const nU={test:cH("#"),parse:F0t,transform:my.transform},RM=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),nv=RM("deg"),Xd=RM("%"),jn=RM("px"),B0t=RM("vh"),z0t=RM("vw"),Nre={...Xd,parse:n=>Xd.parse(n)/100,transform:n=>Xd.transform(n*100)},H_={test:cH("hsl","hue"),parse:Bge("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Xd.transform(hC(e))+", "+Xd.transform(hC(t))+", "+hC(NA.transform(r))+")"},Ha={test:n=>my.test(n)||nU.test(n)||H_.test(n),parse:n=>my.test(n)?my.parse(n):H_.test(n)?H_.parse(n):nU.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?my.transform(n):H_.transform(n),getAnimatableNone:n=>{const e=Ha.parse(n);return e.alpha=0,Ha.transform(e)}},U0t=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V0t(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(uH))==null?void 0:e.length)||0)+(((t=n.match(U0t))==null?void 0:t.length)||0)>0}const zge="number",Uge="color",G0t="var",H0t="var(",Ire="${}",j0t=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function IA(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(j0t,l=>(Ha.test(l)?(r.color.push(a),i.push(Uge),t.push(Ha.parse(l))):l.startsWith(H0t)?(r.var.push(a),i.push(G0t),t.push(l)):(r.number.push(a),i.push(zge),t.push(parseFloat(l))),++a,Ire)).split(Ire);return{values:t,split:o,indexes:r,types:i}}function Vge(n){return IA(n).values}function Gge(n){const{split:e,types:t}=IA(n),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=t[s];o===zge?a+=hC(i[s]):o===Uge?a+=Ha.transform(i[s]):a+=i[s]}return a}}const W0t=n=>typeof n=="number"?0:Ha.test(n)?Ha.getAnimatableNone(n):n;function Y0t(n){const e=Vge(n);return Gge(n)(e.map(W0t))}const Zv={test:V0t,parse:Vge,createTransformer:Gge,getAnimatableNone:Y0t};function CB(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function q0t({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,s=0;if(!e)i=a=s=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=CB(l,o,n+1/3),a=CB(l,o,n),s=CB(l,o,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function Fk(n,e){return t=>t>0?e:n}const Ji=(n,e,t)=>n+(e-n)*t,AB=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},X0t=[nU,my,H_],Z0t=n=>X0t.find(e=>e.test(n));function kre(n){const e=Z0t(n);if(!e)return!1;let t=e.parse(n);return e===H_&&(t=q0t(t)),t}const Lre=(n,e)=>{const t=kre(n),r=kre(e);if(!t||!r)return Fk(n,e);const i={...t};return a=>(i.red=AB(t.red,r.red,a),i.green=AB(t.green,r.green,a),i.blue=AB(t.blue,r.blue,a),i.alpha=Ji(t.alpha,r.alpha,a),my.transform(i))},rU=new Set(["none","hidden"]);function K0t(n,e){return rU.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function $0t(n,e){return t=>Ji(n,e,t)}function fH(n){return typeof n=="number"?$0t:typeof n=="string"?lH(n)?Fk:Ha.test(n)?Lre:evt:Array.isArray(n)?Hge:typeof n=="object"?Ha.test(n)?Lre:J0t:Fk}function Hge(n,e){const t=[...n],r=t.length,i=n.map((a,s)=>fH(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)t[s]=i[s](a);return t}}function J0t(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=fH(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function Q0t(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=n.indexes[a][r[a]],o=n.values[s]??0;t[i]=o,r[a]++}return t}const evt=(n,e)=>{const t=Zv.createTransformer(e),r=IA(n),i=IA(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?rU.has(n)&&!i.values.length||rU.has(e)&&!r.values.length?K0t(n,e):EM(Hge(Q0t(r,i),i.values),t):Fk(n,e)};function jge(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ji(n,e,t):fH(n)(n,e)}const tvt=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ji.update(e,t),stop:()=>Xv(e),now:()=>Ys.isProcessing?Ys.timestamp:Wl.now()}},Wge=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=Math.round(n(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Bk=2e4;function dH(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Bk;)e+=t,r=n.next(e);return e>=Bk?1/0:e}function nvt(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(dH(r),Bk);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:gc(i)}}const rvt=5;function Yge(n,e,t){const r=Math.max(e-rvt,0);return Cge(t-n(r),e-r)}const la={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},MB=.001;function ivt({duration:n=la.duration,bounce:e=la.bounce,velocity:t=la.velocity,mass:r=la.mass}){let i,a,s=1-e;s=Hp(la.minDamping,la.maxDamping,s),n=Hp(la.minDuration,la.maxDuration,gc(n)),s<1?(i=u=>{const c=u*s,f=c*n,d=c-t,h=iU(u,s),p=Math.exp(-f);return MB-d/h*p},a=u=>{const f=u*s*n,d=f*t+t,h=Math.pow(s,2)*Math.pow(u,2)*n,p=Math.exp(-f),m=iU(Math.pow(u,2),s);return(-i(u)+MB>0?-1:1)*((d-h)*p)/m}):(i=u=>{const c=Math.exp(-u*n),f=(u-t)*n+1;return-MB+c*f},a=u=>{const c=Math.exp(-u*n),f=(t-u)*(n*n);return c*f});const o=5/n,l=svt(i,a,o);if(n=qd(n),isNaN(l))return{stiffness:la.stiffness,damping:la.damping,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:n}}}const avt=12;function svt(n,e,t){let r=t;for(let i=1;i<avt;i++)r=r-n(r)/e(r);return r}function iU(n,e){return n*Math.sqrt(1-e*e)}const ovt=["duration","bounce"],lvt=["stiffness","damping","mass"];function Pre(n,e){return e.some(t=>n[t]!==void 0)}function uvt(n){let e={velocity:la.velocity,stiffness:la.stiffness,damping:la.damping,mass:la.mass,isResolvedFromDuration:!1,...n};if(!Pre(n,lvt)&&Pre(n,ovt))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*Hp(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:la.mass,stiffness:i,damping:a}}else{const t=ivt(n);e={...e,...t,mass:la.mass},e.isResolvedFromDuration=!0}return e}function zk(n=la.visualDuration,e=la.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:h}=uvt({...t,velocity:-gc(t.velocity||0)}),p=d||0,m=u/(2*Math.sqrt(l*c)),g=s-a,y=gc(Math.sqrt(l/c)),_=Math.abs(g)<5;r||(r=_?la.restSpeed.granular:la.restSpeed.default),i||(i=_?la.restDelta.granular:la.restDelta.default);let S;if(m<1){const M=iU(y,m);S=E=>{const D=Math.exp(-m*y*E);return s-D*((p+m*y*g)/M*Math.sin(M*E)+g*Math.cos(M*E))}}else if(m===1)S=M=>s-Math.exp(-y*M)*(g+(p+y*g)*M);else{const M=y*Math.sqrt(m*m-1);S=E=>{const D=Math.exp(-m*y*E),I=Math.min(M*E,300);return s-D*((p+m*y*g)*Math.sinh(I)+M*g*Math.cosh(I))/M}}const A={calculatedDuration:h&&f||null,next:M=>{const E=S(M);if(h)o.done=M>=f;else{let D=M===0?p:0;m<1&&(D=M===0?qd(p):Yge(S,M,E));const I=Math.abs(D)<=r,N=Math.abs(s-E)<=i;o.done=I&&N}return o.value=o.done?s:E,o},toString:()=>{const M=Math.min(dH(A),Bk),E=Wge(D=>A.next(M*D).value,M,30);return M+"ms "+E},toTransition:()=>{}};return A}zk.applyToOptions=n=>{const e=nvt(n,100,zk);return n.ease=e.ease,n.duration=qd(e.duration),n.type="keyframes",n};function aU({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:c}){const f=n[0],d={done:!1,value:f},h=I=>o!==void 0&&I<o||l!==void 0&&I>l,p=I=>o===void 0?l:l===void 0||Math.abs(o-I)<Math.abs(l-I)?o:l;let m=t*e;const g=f+m,y=s===void 0?g:s(g);y!==g&&(m=y-f);const _=I=>-m*Math.exp(-I/r),S=I=>y+_(I),A=I=>{const N=_(I),L=S(I);d.done=Math.abs(N)<=u,d.value=d.done?y:L};let M,E;const D=I=>{h(d.value)&&(M=I,E=zk({keyframes:[d.value,p(d.value)],velocity:Yge(S,I,d.value),damping:i,stiffness:a,restDelta:u,restSpeed:c}))};return D(0),{calculatedDuration:null,next:I=>{let N=!1;return!E&&M===void 0&&(N=!0,A(I),D(I)),M!==void 0&&I>=M?E.next(I-M):(!N&&A(I),d)}}}function cvt(n,e,t){const r=[],i=t||jp.mix||jge,a=n.length-1;for(let s=0;s<a;s++){let o=i(n[s],n[s+1]);if(e){const l=Array.isArray(e)?e[s]||bc:e;o=EM(l,o)}r.push(o)}return r}function fvt(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(nH(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=cvt(e,r,i),l=o.length,u=c=>{if(s&&c<n[0])return e[0];let f=0;if(l>1)for(;f<n.length-2&&!(c<n[f+1]);f++);const d=RA(n[f],n[f+1],c);return o[f](d)};return t?c=>u(Hp(n[0],n[a-1],c)):u}function dvt(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=RA(0,e,r);n.push(Ji(t,1,i))}}function hvt(n){const e=[0];return dvt(e,n.length-1),e}function pvt(n,e){return n.map(t=>t*e)}function vvt(n,e){return n.map(()=>e||Lge).splice(0,n.length-1)}function pC({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=A0t(r)?r.map(Rre):Rre(r),a={done:!1,value:e[0]},s=pvt(t&&t.length===e.length?t:hvt(e),n),o=fvt(s,e,{ease:Array.isArray(i)?i:vvt(e,i)});return{calculatedDuration:n,next:l=>(a.value=o(l),a.done=l>=n,a)}}const mvt=n=>n!==null;function hH(n,{repeat:e,repeatType:t="loop"},r,i=1){const a=n.filter(mvt),o=i<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const gvt={decay:aU,inertia:aU,tween:pC,keyframes:pC,spring:zk};function qge(n){typeof n.type=="string"&&(n.type=gvt[n.type])}class pH{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const yvt=n=>n/100;class vH extends pH{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==Wl.now()&&this.tick(Wl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qge(e);const{type:t=pC,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const l=t||pC;l!==pC&&typeof o[0]!="number"&&(this.mixKeyframes=EM(yvt,jge(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=dH(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:d,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,A=r;if(f){const I=Math.min(this.currentTime,i)/o;let N=Math.floor(I),L=I%1;!L&&I>=1&&(L=1),L===1&&N--,N=Math.min(N,f+1),!!(N%2)&&(d==="reverse"?(L=1-L,h&&(L-=h/o)):d==="mirror"&&(A=s)),S=Hp(0,1,L)*o}const M=_?{done:!1,value:c[0]}:A.next(S);a&&(M.value=a(M.value));let{done:E}=M;!_&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return D&&p!==aU&&(M.value=hH(c,this.options,g,this.speed)),m&&m(M.value),D&&this.finish(),M}then(e,t){return this.finished.then(e,t)}get duration(){return gc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gc(e)}get time(){return gc(this.currentTime)}set time(e){var t;e=qd(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Wl.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=gc(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=tvt,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function xvt(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const gy=n=>n*180/Math.PI,sU=n=>{const e=gy(Math.atan2(n[1],n[0]));return oU(e)},_vt={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:sU,rotateZ:sU,skewX:n=>gy(Math.atan(n[1])),skewY:n=>gy(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},oU=n=>(n=n%360,n<0&&(n+=360),n),Ore=sU,Fre=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Bre=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),bvt={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fre,scaleY:Bre,scale:n=>(Fre(n)+Bre(n))/2,rotateX:n=>oU(gy(Math.atan2(n[6],n[5]))),rotateY:n=>oU(gy(Math.atan2(-n[2],n[0]))),rotateZ:Ore,rotate:Ore,skewX:n=>gy(Math.atan(n[4])),skewY:n=>gy(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function lU(n){return n.includes("scale")?1:0}function uU(n,e){if(!n||n==="none")return lU(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=bvt,i=t;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_vt,i=o}if(!i)return lU(e);const a=r[e],s=i[1].split(",").map(wvt);return typeof a=="function"?a(s):s[a]}const Svt=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return uU(t,e)};function wvt(n){return parseFloat(n.trim())}const NS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],IS=new Set(NS),zre=n=>n===RS||n===jn,Tvt=new Set(["x","y","z"]),Cvt=NS.filter(n=>!Tvt.has(n));function Avt(n){const e=[];return Cvt.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Ry={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>uU(e,"x"),y:(n,{transform:e})=>uU(e,"y")};Ry.translateX=Ry.x;Ry.translateY=Ry.y;const Ny=new Set;let cU=!1,fU=!1,dU=!1;function Xge(){if(fU){const n=Array.from(Ny).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=Avt(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))==null||o.set(s)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fU=!1,cU=!1,Ny.forEach(n=>n.complete(dU)),Ny.clear()}function Zge(){Ny.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(fU=!0)})}function Mvt(){dU=!0,Zge(),Xge(),dU=!1}class mH{constructor(e,t,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ny.add(this),cU||(cU=!0,ji.read(Zge),ji.resolveKeyframes(Xge))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const o=r.readValue(t,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}xvt(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ny.delete(this)}cancel(){this.state==="scheduled"&&(Ny.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Evt=n=>n.startsWith("--");function Dvt(n,e,t){Evt(e)?n.style.setProperty(e,t):n.style[e]=t}const Rvt=rH(()=>window.ScrollTimeline!==void 0),Nvt={};function Ivt(n,e){const t=rH(n);return()=>Nvt[e]??t()}const Kge=Ivt(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),AT=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Ure={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:AT([0,.65,.55,1]),circOut:AT([.55,0,1,.45]),backIn:AT([.31,.01,.66,-.59]),backOut:AT([.33,1.53,.69,.99])};function $ge(n,e){if(n)return typeof n=="function"?Kge()?Wge(n,e):"ease-out":Pge(n)?AT(n):Array.isArray(n)?n.map(t=>$ge(t,e)||Ure.easeOut):Ure[n]}function kvt(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:t};l&&(c.offset=l);const f=$ge(o,i);Array.isArray(f)&&(c.easing=f);const d={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),n.animate(c,d)}function Jge(n){return typeof n=="function"&&"applyToOptions"in n}function Lvt({type:n,...e}){return Jge(n)&&Kge()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Pvt extends pH{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,nH(typeof e.type!="string");const u=Lvt(e);this.animation=kvt(t,r,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const c=hH(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):Dvt(t,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return gc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gc(e)}get time(){return gc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qd(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Rvt()?(this.animation.timeline=e,bc):t(this)}}const Qge={anticipate:Nge,backInOut:Rge,circInOut:kge};function Ovt(n){return n in Qge}function Fvt(n){typeof n.ease=="string"&&Ovt(n.ease)&&(n.ease=Qge[n.ease])}const Vre=10;class Bvt extends Pvt{constructor(e){Fvt(e),qge(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new vH({...s,autoplay:!1}),l=qd(this.finishedTime??this.time);t.setWithVelocity(o.sample(l-Vre).value,o.sample(l).value,Vre),o.stop()}}const Gre=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Zv.test(n)||n==="0")&&!n.startsWith("url("));function zvt(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Uvt(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],s=Gre(i,e),o=Gre(a,e);return!s||!o?!1:zvt(n)||(t==="spring"||Jge(t))&&r}function hU(n){n.duration=0,n.type="keyframes"}const Vvt=new Set(["opacity","clipPath","filter","transform"]),Gvt=rH(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Hvt(n){var c;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:a,type:s}=n;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return Gvt()&&t&&Vvt.has(t)&&(t!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const jvt=40;class Wvt extends pH{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:u,element:c,...f}){var p;super(),this.stop=()=>{var m,g;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Wl.now();const d={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:s,name:l,motionValue:u,element:c,...f},h=(c==null?void 0:c.KeyframeResolver)||mH;this.keyframeResolver=new h(o,(m,g,y)=>this.onKeyframesResolved(m,g,d,!y),l,u,c),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Wl.now(),Uvt(e,a,s,o)||((jp.instantAnimations||!l)&&(c==null||c(hH(e,r,t))),e[0]=e[e.length-1],hU(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>jvt?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},h=!u&&Hvt(d)?new Bvt({...d,element:d.motionValue.owner.current}):new vH(d);h.finished.then(()=>this.notifyFinished()).catch(bc),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Mvt()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Yvt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qvt(n){const e=Yvt.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function eye(n,e,t=1){const[r,i]=qvt(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return Sge(s)?parseFloat(s):s}return lH(i)?eye(i,e,t+1):i}function gH(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const tye=new Set(["width","height","top","left","right","bottom",...NS]),Xvt={test:n=>n==="auto",parse:n=>n},nye=n=>e=>e.test(n),rye=[RS,jn,Xd,nv,z0t,B0t,Xvt],Hre=n=>rye.find(nye(n));function Zvt(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Tge(n):!0}const Kvt=new Set(["brightness","contrast","saturate","opacity"]);function $vt(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(uH)||[];if(!r)return n;const i=t.replace(r,"");let a=Kvt.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const Jvt=/\b([a-z-]*)\(.*?\)/gu,pU={...Zv,getAnimatableNone:n=>{const e=n.match(Jvt);return e?e.map($vt).join(" "):n}},jre={...RS,transform:Math.round},Qvt={rotate:nv,rotateX:nv,rotateY:nv,rotateZ:nv,scale:CR,scaleX:CR,scaleY:CR,scaleZ:CR,skew:nv,skewX:nv,skewY:nv,distance:jn,translateX:jn,translateY:jn,translateZ:jn,x:jn,y:jn,z:jn,perspective:jn,transformPerspective:jn,opacity:NA,originX:Nre,originY:Nre,originZ:jn},yH={borderWidth:jn,borderTopWidth:jn,borderRightWidth:jn,borderBottomWidth:jn,borderLeftWidth:jn,borderRadius:jn,radius:jn,borderTopLeftRadius:jn,borderTopRightRadius:jn,borderBottomRightRadius:jn,borderBottomLeftRadius:jn,width:jn,maxWidth:jn,height:jn,maxHeight:jn,top:jn,right:jn,bottom:jn,left:jn,padding:jn,paddingTop:jn,paddingRight:jn,paddingBottom:jn,paddingLeft:jn,margin:jn,marginTop:jn,marginRight:jn,marginBottom:jn,marginLeft:jn,backgroundPositionX:jn,backgroundPositionY:jn,...Qvt,zIndex:jre,fillOpacity:NA,strokeOpacity:NA,numOctaves:jre},emt={...yH,color:Ha,backgroundColor:Ha,outlineColor:Ha,fill:Ha,stroke:Ha,borderColor:Ha,borderTopColor:Ha,borderRightColor:Ha,borderBottomColor:Ha,borderLeftColor:Ha,filter:pU,WebkitFilter:pU},iye=n=>emt[n];function aye(n,e){let t=iye(n);return t!==pU&&(t=Zv),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const tmt=new Set(["auto","none","0"]);function nmt(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!tmt.has(a)&&IA(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=aye(t,i)}class rmt extends mH{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),lH(u))){const c=eye(u,t.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!tye.has(r)||e.length!==2)return;const[i,a]=e,s=Hre(i),o=Hre(a);if(s!==o)if(zre(s)&&zre(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Ry[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Zvt(e[i]))&&r.push(i);r.length&&nmt(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ry[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=Ry[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function imt(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const sye=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function oye(n){return wge(n)&&"offsetHeight"in n}const Wre=30,amt=n=>!isNaN(parseFloat(n));class smt{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=Wl.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Wl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=amt(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new iH);const r=this.events[e].add(t);return e==="change"?()=>{r(),ji.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Wre)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Wre);return Cge(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jb(n,e){return new smt(n,e)}const{schedule:xH}=Oge(queueMicrotask,!1),hf={x:!1,y:!1};function lye(){return hf.x||hf.y}function omt(n){return n==="x"||n==="y"?hf[n]?null:(hf[n]=!0,()=>{hf[n]=!1}):hf.x||hf.y?null:(hf.x=hf.y=!0,()=>{hf.x=hf.y=!1})}function uye(n,e){const t=imt(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function Yre(n){return!(n.pointerType==="touch"||lye())}function lmt(n,e,t={}){const[r,i,a]=uye(n,t),s=o=>{if(!Yre(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=f=>{Yre(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const cye=(n,e)=>e?n===e?!0:cye(n,e.parentElement):!1,_H=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,umt=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cmt(n){return umt.has(n.tagName)||n.tabIndex!==-1}const aN=new WeakSet;function qre(n){return e=>{e.key==="Enter"&&n(e)}}function EB(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fmt=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=qre(()=>{if(aN.has(t))return;EB(t,"down");const i=qre(()=>{EB(t,"up")}),a=()=>EB(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function Xre(n){return _H(n)&&!lye()}function dmt(n,e,t={}){const[r,i,a]=uye(n,t),s=o=>{const l=o.currentTarget;if(!Xre(o))return;aN.add(l);const u=e(l,o),c=(h,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),aN.has(l)&&aN.delete(l),Xre(h)&&typeof u=="function"&&u(h,{success:p})},f=h=>{c(h,l===window||l===document||t.useGlobalTarget||cye(l,h.target))},d=h=>{c(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),oye(o)&&(o.addEventListener("focus",u=>fmt(u,i)),!cmt(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function fye(n){return wge(n)&&"ownerSVGElement"in n}function hmt(n){return fye(n)&&n.tagName==="svg"}const Io=n=>!!(n&&n.getVelocity),pmt=[...rye,Ha,Zv],vmt=n=>pmt.find(nye(n)),bH=de.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Zre(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function mmt(...n){return e=>{let t=!1;const r=n.map(i=>{const a=Zre(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Zre(n[i],null)}}}}function gmt(...n){return de.useCallback(mmt(...n),n)}class ymt extends de.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=oye(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xmt({children:n,isPresent:e,anchorX:t,root:r}){const i=de.useId(),a=de.useRef(null),s=de.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=de.useContext(bH),l=gmt(a,n==null?void 0:n.ref);return de.useInsertionEffect(()=>{const{width:u,height:c,top:f,left:d,right:h}=s.current;if(e||!a.current||!u||!c)return;const p=t==="left"?`left: ${d}`:`right: ${h}`;a.current.dataset.motionPopId=i;const m=document.createElement("style");o&&(m.nonce=o);const g=r??document.head;return g.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{g.contains(m)&&g.removeChild(m)}},[e]),C.jsx(ymt,{isPresent:e,childRef:a,sizeRef:s,children:de.cloneElement(n,{ref:l})})}const _mt=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,root:l})=>{const u=JG(bmt),c=de.useId();let f=!0,d=de.useMemo(()=>(f=!1,{id:c,initial:e,isPresent:t,custom:i,onExitComplete:h=>{u.set(h,!0);for(const p of u.values())if(!p)return;r&&r()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[t,u,r]);return a&&f&&(d={...d}),de.useMemo(()=>{u.forEach((h,p)=>u.set(p,!1))},[t]),de.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),s==="popLayout"&&(n=C.jsx(xmt,{isPresent:t,anchorX:o,root:l,children:n})),C.jsx(DP.Provider,{value:d,children:n})};function bmt(){return new Map}function dye(n=!0){const e=de.useContext(DP);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=de.useId();de.useEffect(()=>{if(n)return i(a)},[n]);const s=de.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,s]:[!0]}const AR=n=>n.key||"";function Kre(n){const e=[];return de.Children.forEach(n,t=>{de.isValidElement(t)&&e.push(t)}),e}const Smt=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[u,c]=dye(s),f=de.useMemo(()=>Kre(n),[n]),d=s&&!u?[]:f.map(AR),h=de.useRef(!0),p=de.useRef(f),m=JG(()=>new Map),[g,y]=de.useState(f),[_,S]=de.useState(f);bge(()=>{h.current=!1,p.current=f;for(let E=0;E<_.length;E++){const D=AR(_[E]);d.includes(D)?m.delete(D):m.get(D)!==!0&&m.set(D,!1)}},[_,d.length,d.join("-")]);const A=[];if(f!==g){let E=[...f];for(let D=0;D<_.length;D++){const I=_[D],N=AR(I);d.includes(N)||(E.splice(D,0,I),A.push(I))}return a==="wait"&&A.length&&(E=A),S(Kre(E)),y(f),null}const{forceRender:M}=de.useContext($G);return C.jsx(C.Fragment,{children:_.map(E=>{const D=AR(E),I=s&&!u?!1:f===_||d.includes(D),N=()=>{if(m.has(D))m.set(D,!0);else return;let L=!0;m.forEach(B=>{B||(L=!1)}),L&&(M==null||M(),S(p.current),s&&(c==null||c()),r&&r())};return C.jsx(_mt,{isPresent:I,initial:!h.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:I?void 0:N,anchorX:o,children:E},D)})})},hye=de.createContext({strict:!1}),$re={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wb={};for(const n in $re)Wb[n]={isEnabled:e=>$re[n].some(t=>!!e[t])};function wmt(n){for(const e in n)Wb[e]={...Wb[e],...n[e]}}const Tmt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uk(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Tmt.has(n)}let pye=n=>!Uk(n);function Cmt(n){typeof n=="function"&&(pye=e=>e.startsWith("on")?!Uk(e):n(e))}try{Cmt(require("@emotion/is-prop-valid").default)}catch{}function Amt(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(pye(i)||t===!0&&Uk(i)||!e&&!Uk(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const RP=de.createContext({});function NP(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function kA(n){return typeof n=="string"||Array.isArray(n)}const SH=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wH=["initial",...SH];function IP(n){return NP(n.animate)||wH.some(e=>kA(n[e]))}function vye(n){return!!(IP(n)||n.variants)}function Mmt(n,e){if(IP(n)){const{initial:t,animate:r}=n;return{initial:t===!1||kA(t)?t:void 0,animate:kA(r)?r:void 0}}return n.inherit!==!1?e:{}}function Emt(n){const{initial:e,animate:t}=Mmt(n,de.useContext(RP));return de.useMemo(()=>({initial:e,animate:t}),[Jre(e),Jre(t)])}function Jre(n){return Array.isArray(n)?n.join(" "):n}const LA={};function Dmt(n){for(const e in n)LA[e]=n[e],oH(e)&&(LA[e].isCSSVariable=!0)}function mye(n,{layout:e,layoutId:t}){return IS.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!LA[n]||n==="opacity")}const Rmt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nmt=NS.length;function Imt(n,e,t){let r="",i=!0;for(let a=0;a<Nmt;a++){const s=NS[a],o=n[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const u=sye(o,yH[s]);if(!l){i=!1;const c=Rmt[s]||s;r+=`${c}(${u}) `}t&&(e[s]=u)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function TH(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let s=!1,o=!1;for(const l in e){const u=e[l];if(IS.has(l)){s=!0;continue}else if(oH(l)){i[l]=u;continue}else{const c=sye(u,yH[l]);l.startsWith("origin")?(o=!0,a[l]=c):r[l]=c}}if(e.transform||(s||t?r.transform=Imt(e,n.transform,t):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=a;r.transformOrigin=`${l} ${u} ${c}`}}const CH=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gye(n,e,t){for(const r in e)!Io(e[r])&&!mye(r,t)&&(n[r]=e[r])}function kmt({transformTemplate:n},e){return de.useMemo(()=>{const t=CH();return TH(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Lmt(n,e){const t=n.style||{},r={};return gye(r,t,n),Object.assign(r,kmt(n,e)),r}function Pmt(n,e){const t={},r=Lmt(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const Omt={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fmt={offset:"strokeDashoffset",array:"strokeDasharray"};function Bmt(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?Omt:Fmt;n[a.offset]=jn.transform(-r);const s=jn.transform(e),o=jn.transform(t);n[a.array]=`${s} ${o}`}function yye(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,u,c){if(TH(n,o,u),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:d}=n;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),r!==void 0&&(f.scale=r),i!==void 0&&Bmt(f,i,a,s,!1)}const xye=()=>({...CH(),attrs:{}}),_ye=n=>typeof n=="string"&&n.toLowerCase()==="svg";function zmt(n,e,t,r){const i=de.useMemo(()=>{const a=xye();return yye(a,e,_ye(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};gye(a,n.style,n),i.style={...a,...i.style}}return i}const Umt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AH(n){return typeof n!="string"||n.includes("-")?!1:!!(Umt.indexOf(n)>-1||/[A-Z]/u.test(n))}function Vmt(n,e,t,{latestValues:r},i,a=!1){const o=(AH(n)?zmt:Pmt)(e,r,i,n),l=Amt(e,typeof n=="string",a),u=n!==de.Fragment?{...l,...o,ref:t}:{},{children:c}=e,f=de.useMemo(()=>Io(c)?c.get():c,[c]);return de.createElement(n,{...u,children:f})}function Qre(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function MH(n,e,t,r){if(typeof e=="function"){const[i,a]=Qre(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=Qre(r);e=e(t!==void 0?t:n.custom,i,a)}return e}function sN(n){return Io(n)?n.get():n}function Gmt({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:Hmt(t,r,i,n),renderState:e()}}function Hmt(n,e,t,r){const i={},a=r(n,{});for(const d in a)i[d]=sN(a[d]);let{initial:s,animate:o}=n;const l=IP(n),u=vye(n);e&&u&&!l&&n.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let c=t?t.initial===!1:!1;c=c||s===!1;const f=c?o:s;if(f&&typeof f!="boolean"&&!NP(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const p=MH(n,d[h]);if(p){const{transitionEnd:m,transition:g,...y}=p;for(const _ in y){let S=y[_];if(Array.isArray(S)){const A=c?S.length-1:0;S=S[A]}S!==null&&(i[_]=S)}for(const _ in m)i[_]=m[_]}}}return i}const bye=n=>(e,t)=>{const r=de.useContext(RP),i=de.useContext(DP),a=()=>Gmt(n,e,r,i);return t?a():JG(a)};function EH(n,e,t){var a;const{style:r}=n,i={};for(const s in r)(Io(r[s])||e.style&&Io(e.style[s])||mye(s,n)||((a=t==null?void 0:t.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const jmt=bye({scrapeMotionValuesFromProps:EH,createRenderState:CH});function Sye(n,e,t){const r=EH(n,e,t);for(const i in n)if(Io(n[i])||Io(e[i])){const a=NS.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}const Wmt=bye({scrapeMotionValuesFromProps:Sye,createRenderState:xye}),Ymt=Symbol.for("motionComponentSymbol");function j_(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function qmt(n,e,t){return de.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):j_(t)&&(t.current=r))},[e])}const DH=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xmt="framerAppearId",wye="data-"+DH(Xmt),Tye=de.createContext({});function Zmt(n,e,t,r,i){var m,g;const{visualElement:a}=de.useContext(RP),s=de.useContext(hye),o=de.useContext(DP),l=de.useContext(bH).reducedMotion,u=de.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(n,{visualState:e,parent:a,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=de.useContext(Tye);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&Kmt(u.current,t,i,f);const d=de.useRef(!1);de.useInsertionEffect(()=>{c&&d.current&&c.update(t,o)});const h=t[wye],p=de.useRef(!!h&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,h))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,h)));return bge(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),de.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,h)}),p.current=!1),c.enteringChildren=void 0)}),c}function Kmt(n,e,t,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Cye(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&j_(o),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function Cye(n){if(n)return n.options.allowProjection!==!1?n.projection:Cye(n.parent)}function DB(n,{forwardMotionProps:e=!1}={},t,r){t&&wmt(t);const i=AH(n)?Wmt:jmt;function a(o,l){let u;const c={...de.useContext(bH),...o,layoutId:$mt(o)},{isStatic:f}=c,d=Emt(o),h=i(o,f);if(!f&&QG){Jmt();const p=Qmt(c);u=p.MeasureLayout,d.visualElement=Zmt(n,h,c,r,p.ProjectionNode)}return C.jsxs(RP.Provider,{value:d,children:[u&&d.visualElement?C.jsx(u,{visualElement:d.visualElement,...c}):null,Vmt(n,o,qmt(h,d.visualElement,l),h,f,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const s=de.forwardRef(a);return s[Ymt]=n,s}function $mt({layoutId:n}){const e=de.useContext($G).id;return e&&n!==void 0?e+"-"+n:n}function Jmt(n,e){de.useContext(hye).strict}function Qmt(n){const{drag:e,layout:t}=Wb;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function egt(n,e){if(typeof Proxy>"u")return DB;const t=new Map,r=(a,s)=>DB(a,s,n,e),i=(a,s)=>r(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?r:(t.has(s)||t.set(s,DB(s,void 0,n,e)),t.get(s))})}function Aye({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function tgt({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function ngt(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function RB(n){return n===void 0||n===1}function vU({scale:n,scaleX:e,scaleY:t}){return!RB(n)||!RB(e)||!RB(t)}function Jg(n){return vU(n)||Mye(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Mye(n){return eie(n.x)||eie(n.y)}function eie(n){return n&&n!=="0%"}function Vk(n,e,t){const r=n-t,i=e*r;return t+i}function tie(n,e,t,r,i){return i!==void 0&&(n=Vk(n,i,r)),Vk(n,t,r)+e}function mU(n,e=0,t=1,r,i){n.min=tie(n.min,e,t,r,i),n.max=tie(n.max,e,t,r,i)}function Eye(n,{x:e,y:t}){mU(n.x,e.translate,e.scale,e.originPoint),mU(n.y,t.translate,t.scale,t.originPoint)}const nie=.999999999999,rie=1.0000000000001;function rgt(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=t[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Y_(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Eye(n,s)),r&&Jg(a.latestValues)&&Y_(n,a.latestValues))}e.x<rie&&e.x>nie&&(e.x=1),e.y<rie&&e.y>nie&&(e.y=1)}function W_(n,e){n.min=n.min+e,n.max=n.max+e}function iie(n,e,t,r,i=.5){const a=Ji(n.min,n.max,i);mU(n,e,t,a,r)}function Y_(n,e){iie(n.x,e.x,e.scaleX,e.scale,e.originX),iie(n.y,e.y,e.scaleY,e.scale,e.originY)}function Dye(n,e){return Aye(ngt(n.getBoundingClientRect(),e))}function igt(n,e,t){const r=Dye(n,t),{scroll:i}=e;return i&&(W_(r.x,i.offset.x),W_(r.y,i.offset.y)),r}const aie=()=>({translate:0,scale:1,origin:0,originPoint:0}),q_=()=>({x:aie(),y:aie()}),sie=()=>({min:0,max:0}),Aa=()=>({x:sie(),y:sie()}),gU={current:null},Rye={current:!1};function agt(){if(Rye.current=!0,!!QG)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>gU.current=n.matches;n.addEventListener("change",e),e()}else gU.current=!1}const sgt=new WeakMap;function ogt(n,e,t){for(const r in e){const i=e[r],a=t[r];if(Io(i))n.addValue(r,i);else if(Io(a))n.addValue(r,jb(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const s=n.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=n.getStaticValue(r);n.addValue(r,jb(s!==void 0?s:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const oie=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lgt{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mH,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Wl.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,ji.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=IP(t),this.isVariantNode=vye(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in f){const h=f[d];l[d]!==void 0&&Io(h)&&h.set(l[d])}}mount(e){var t;this.current=e,sgt.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Rye.current||agt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gU.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Xv(this.notifyUpdate),Xv(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=IS.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&ji.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wb){const t=Wb[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Aa()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<oie.length;r++){const i=oie[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=ogt(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=jb(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Sge(r)||Tge(r))?r=parseFloat(r):!vmt(r)&&Zv.test(t)&&(r=aye(e,t)),this.setBaseTarget(e,Io(r)?r.get():r)),Io(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const s=MH(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);s&&(r=s[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Io(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new iH),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){xH.render(this.render)}}class Nye extends lgt{constructor(){super(...arguments),this.KeyframeResolver=rmt}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Io(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Iye(n,{style:e,vars:t},r,i){const a=n.style;let s;for(s in e)a[s]=e[s];i==null||i.applyProjectionStyles(a,r);for(s in t)a.setProperty(s,t[s])}function ugt(n){return window.getComputedStyle(n)}class cgt extends Nye{constructor(){super(...arguments),this.type="html",this.renderInstance=Iye}readValueFromInstance(e,t){var r;if(IS.has(t))return(r=this.projection)!=null&&r.isProjecting?lU(t):Svt(e,t);{const i=ugt(e),a=(oH(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Dye(e,t)}build(e,t,r){TH(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return EH(e,t,r)}}const kye=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fgt(n,e,t,r){Iye(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(kye.has(i)?i:DH(i),e.attrs[i])}class dgt extends Nye{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Aa}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(IS.has(t)){const r=iye(t);return r&&r.default||0}return t=kye.has(t)?t:DH(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Sye(e,t,r)}build(e,t,r){yye(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){fgt(e,t,r,i)}mount(e){this.isSVGTag=_ye(e.tagName),super.mount(e)}}const hgt=(n,e)=>AH(n)?new dgt(e):new cgt(e,{allowProjection:n!==de.Fragment});function cb(n,e,t){const r=n.getProps();return MH(r,e,t!==void 0?t:r.custom,n)}const yU=n=>Array.isArray(n);function pgt(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,jb(t))}function vgt(n){return yU(n)?n[n.length-1]||0:n}function mgt(n,e){const t=cb(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const s in a){const o=vgt(a[s]);pgt(n,s,o)}}function ggt(n){return!!(Io(n)&&n.add)}function xU(n,e){const t=n.getValue("willChange");if(ggt(t))return t.add(e);if(!t&&jp.WillChange){const r=new jp.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function Lye(n){return n.props[wye]}const ygt=n=>n!==null;function xgt(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(ygt),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[a]}const _gt={type:"spring",stiffness:500,damping:25,restSpeed:10},bgt=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Sgt={type:"keyframes",duration:.8},wgt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tgt=(n,{keyframes:e})=>e.length>2?Sgt:IS.has(n)?n.startsWith("scale")?bgt(e[1]):_gt:wgt;function Cgt({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const RH=(n,e,t,r={},i,a)=>s=>{const o=gH(r,n)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-qd(l);const c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:a?void 0:i};Cgt(o)||Object.assign(c,Tgt(n,c)),c.duration&&(c.duration=qd(c.duration)),c.repeatDelay&&(c.repeatDelay=qd(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(hU(c),c.delay===0&&(f=!0)),(jp.instantAnimations||jp.skipAnimations)&&(f=!0,hU(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,f&&!a&&e.get()!==void 0){const d=xgt(c.keyframes,o);if(d!==void 0){ji.update(()=>{c.onUpdate(d),c.onComplete()});return}}return o.isSync?new vH(c):new Wvt(c)};function Agt({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Pye(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:s,...o}=e;r&&(a=r);const l=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const c in o){const f=n.getValue(c,n.latestValues[c]??null),d=o[c];if(d===void 0||u&&Agt(u,c))continue;const h={delay:t,...gH(a||{},c)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===p&&!h.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=Lye(n);if(y){const _=window.MotionHandoffAnimation(y,c,ji);_!==null&&(h.startTime=_,m=!0)}}xU(n,c),f.start(RH(c,f,d,n.shouldReduceMotion&&tye.has(c)?{type:!1}:h,n,m));const g=f.animation;g&&l.push(g)}return s&&Promise.all(l).then(()=>{ji.update(()=>{s&&mgt(n,s)})}),l}function Oye(n,e,t,r=0,i=1){const a=Array.from(n).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),s=n.size,o=(s-1)*r;return typeof t=="function"?t(a,s):i===1?a*r:o-a*r}function _U(n,e,t={}){var l;const r=cb(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const a=r?()=>Promise.all(Pye(n,r,t)):()=>Promise.resolve(),s=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=i;return Mgt(n,e,u,c,f,d,t)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,c]=o==="beforeChildren"?[a,s]:[s,a];return u().then(()=>c())}else return Promise.all([a(),s(t.delay)])}function Mgt(n,e,t=0,r=0,i=0,a=1,s){const o=[];for(const l of n.variantChildren)l.notify("AnimationStart",e),o.push(_U(l,e,{...s,delay:t+(typeof r=="function"?0:r)+Oye(n.variantChildren,l,r,i,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function Egt(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>_U(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=_U(n,e,t);else{const i=typeof e=="function"?cb(n,e,t.custom):e;r=Promise.all(Pye(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function Fye(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Dgt=wH.length;function Bye(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Bye(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Dgt;t++){const r=wH[t],i=n.props[r];(kA(i)||i===!1)&&(e[r]=i)}return e}const Rgt=[...SH].reverse(),Ngt=SH.length;function Igt(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Egt(n,t,r)))}function kgt(n){let e=Igt(n),t=lie(),r=!0;const i=l=>(u,c)=>{var d;const f=cb(n,c,l==="exit"?(d=n.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...m}=f;u={...u,...m,...p}}return u};function a(l){e=l(n)}function s(l){const{props:u}=n,c=Bye(n.parent)||{},f=[],d=new Set;let h={},p=1/0;for(let g=0;g<Ngt;g++){const y=Rgt[g],_=t[y],S=u[y]!==void 0?u[y]:c[y],A=kA(S),M=y===l?_.isActive:null;M===!1&&(p=g);let E=S===c[y]&&S!==u[y]&&A;if(E&&r&&n.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...h},!_.isActive&&M===null||!S&&!_.prevProp||NP(S)||typeof S=="boolean")continue;const D=Lgt(_.prevProp,S);let I=D||y===l&&_.isActive&&!E&&A||g>p&&A,N=!1;const L=Array.isArray(S)?S:[S];let B=L.reduce(i(y),{});M===!1&&(B={});const{prevResolvedValues:O={}}=_,G={...O,...B},V=Z=>{I=!0,d.has(Z)&&(N=!0,d.delete(Z)),_.needsAnimating[Z]=!0;const X=n.getValue(Z);X&&(X.liveStyle=!1)};for(const Z in G){const X=B[Z],K=O[Z];if(h.hasOwnProperty(Z))continue;let se=!1;yU(X)&&yU(K)?se=!Fye(X,K):se=X!==K,se?X!=null?V(Z):d.add(Z):X!==void 0&&d.has(Z)?V(Z):_.protectedKeys[Z]=!0}_.prevProp=S,_.prevResolvedValues=B,_.isActive&&(h={...h,...B}),r&&n.blockInitialAnimation&&(I=!1);const q=E&&D;I&&(!q||N)&&f.push(...L.map(Z=>{const X={type:y};if(typeof Z=="string"&&r&&!q&&n.manuallyAnimateOnMount&&n.parent){const{parent:K}=n,se=cb(K,Z);if(K.enteringChildren&&se){const{delayChildren:J}=se.transition||{};X.delay=Oye(K.enteringChildren,n,J)}}return{animation:Z,options:X}}))}if(d.size){const g={};if(typeof u.initial!="boolean"){const y=cb(n,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(g.transition=y.transition)}d.forEach(y=>{const _=n.getBaseTarget(y),S=n.getValue(y);S&&(S.liveStyle=!0),g[y]=_??null}),f.push({animation:g})}let m=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(f):Promise.resolve()}function o(l,u){var f;if(t[l].isActive===u)return Promise.resolve();(f=n.variantChildren)==null||f.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.setActive(l,u)}),t[l].isActive=u;const c=s(l);for(const d in t)t[d].protectedKeys={};return c}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>t,reset:()=>{t=lie()}}}function Lgt(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Fye(e,n):!1}function Vg(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lie(){return{animate:Vg(!0),whileInView:Vg(),whileHover:Vg(),whileTap:Vg(),whileDrag:Vg(),whileFocus:Vg(),exit:Vg()}}class lm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Pgt extends lm{constructor(e){super(e),e.animationState||(e.animationState=kgt(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();NP(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Ogt=0;class Fgt extends lm{constructor(){super(...arguments),this.id=Ogt++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Bgt={animation:{Feature:Pgt},exit:{Feature:Fgt}};function PA(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function NM(n){return{point:{x:n.pageX,y:n.pageY}}}const zgt=n=>e=>_H(e)&&n(e,NM(e));function vC(n,e,t,r){return PA(n,e,zgt(t),r)}const zye=1e-4,Ugt=1-zye,Vgt=1+zye,Uye=.01,Ggt=0-Uye,Hgt=0+Uye;function ml(n){return n.max-n.min}function jgt(n,e,t){return Math.abs(n-e)<=t}function uie(n,e,t,r=.5){n.origin=r,n.originPoint=Ji(e.min,e.max,n.origin),n.scale=ml(t)/ml(e),n.translate=Ji(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Ugt&&n.scale<=Vgt||isNaN(n.scale))&&(n.scale=1),(n.translate>=Ggt&&n.translate<=Hgt||isNaN(n.translate))&&(n.translate=0)}function mC(n,e,t,r){uie(n.x,e.x,t.x,r?r.originX:void 0),uie(n.y,e.y,t.y,r?r.originY:void 0)}function cie(n,e,t){n.min=t.min+e.min,n.max=n.min+ml(e)}function Wgt(n,e,t){cie(n.x,e.x,t.x),cie(n.y,e.y,t.y)}function fie(n,e,t){n.min=e.min-t.min,n.max=n.min+ml(e)}function gC(n,e,t){fie(n.x,e.x,t.x),fie(n.y,e.y,t.y)}function sc(n){return[n("x"),n("y")]}const Vye=({current:n})=>n?n.ownerDocument.defaultView:null,die=(n,e)=>Math.abs(n-e);function Ygt(n,e){const t=die(n.x,e.x),r=die(n.y,e.y);return Math.sqrt(t**2+r**2)}class Gye{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=IB(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Ygt(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!p)return;const{point:m}=d,{timestamp:g}=Ys;this.history.push({...m,timestamp:g});const{onStart:y,onMove:_}=this.handlers;h||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=NB(h,this.transformPagePoint),ji.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=IB(d.type==="pointercancel"?this.lastMoveEventInfo:NB(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,y),m&&m(d,y)},!_H(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const o=NM(e),l=NB(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=Ys;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=t;f&&f(e,IB(l,this.history)),this.removeListeners=EM(vC(this.contextWindow,"pointermove",this.handlePointerMove),vC(this.contextWindow,"pointerup",this.handlePointerUp),vC(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xv(this.updatePoint)}}function NB(n,e){return e?{point:e(n.point)}:n}function hie(n,e){return{x:n.x-e.x,y:n.y-e.y}}function IB({point:n},e){return{point:n,delta:hie(n,Hye(e)),offset:hie(n,qgt(e)),velocity:Xgt(e,.1)}}function qgt(n){return n[0]}function Hye(n){return n[n.length-1]}function Xgt(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Hye(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>qd(e)));)t--;if(!r)return{x:0,y:0};const a=gc(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Zgt(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Ji(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Ji(t,n,r.max):Math.min(n,t)),n}function pie(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Kgt(n,{top:e,left:t,bottom:r,right:i}){return{x:pie(n.x,t,i),y:pie(n.y,e,r)}}function vie(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function $gt(n,e){return{x:vie(n.x,e.x),y:vie(n.y,e.y)}}function Jgt(n,e){let t=.5;const r=ml(n),i=ml(e);return i>r?t=RA(e.min,e.max-r,n.min):r>i&&(t=RA(n.min,n.max-i,e.min)),Hp(0,1,t)}function Qgt(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const bU=.35;function eyt(n=bU){return n===!1?n=0:n===!0&&(n=bU),{x:mie(n,"left","right"),y:mie(n,"top","bottom")}}function mie(n,e,t){return{min:gie(n,e),max:gie(n,t)}}function gie(n,e){return typeof n=="number"?n:n[e]||0}const tyt=new WeakMap;class nyt{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Aa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(NM(f).point)},s=(f,d)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=omt(h),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sc(y=>{let _=this.getAxisMotionValue(y).get()||0;if(Xd.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[y];A&&(_=ml(A)*(parseFloat(_)/100))}}this.originPoint[y]=_}),m&&ji.postRender(()=>m(f,d)),xU(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=d;if(p&&this.currentDirection===null){this.currentDirection=ryt(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),g&&g(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>sc(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Gye(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:Vye(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ji.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!MR(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=Zgt(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&j_(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Kgt(r.layoutBox,e):this.constraints=!1,this.elastic=eyt(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sc(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Qgt(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!j_(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=igt(r,i.root,this.visualElement.getTransformPagePoint());let s=$gt(i.layout.layoutBox,a);if(t){const o=t(tgt(s));this.hasMutatedConstraints=!!o,o&&(s=Aye(o))}return s}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=sc(c=>{if(!MR(c,t,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return xU(this.visualElement,e),r.start(RH(e,r,0,t,this.visualElement,!1))}stopAnimation(){sc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sc(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sc(t=>{const{drag:r}=this.getProps();if(!MR(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[t];a.set(e[t]-Ji(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!j_(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};sc(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=Jgt({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sc(s=>{if(!MR(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Ji(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;tyt.set(this.visualElement,this);const e=this.visualElement.current,t=vC(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();j_(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ji.read(r);const s=PA(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(sc(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())}));return()=>{s(),t(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=bU,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function MR(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function ryt(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class iyt extends lm{constructor(e){super(e),this.removeGroupControls=bc,this.removeListeners=bc,this.controls=new nyt(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bc}unmount(){this.removeGroupControls(),this.removeListeners()}}const yie=n=>(e,t)=>{n&&ji.postRender(()=>n(e,t))};class ayt extends lm{constructor(){super(...arguments),this.removePointerDownListener=bc}onPointerDown(e){this.session=new Gye(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vye(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:yie(e),onStart:yie(t),onMove:r,onEnd:(a,s)=>{delete this.session,i&&ji.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=vC(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const oN={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xie(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const rT={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(jn.test(n))n=parseFloat(n);else return n;const t=xie(n,e.target.x),r=xie(n,e.target.y);return`${t}% ${r}%`}},syt={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Zv.parse(n);if(i.length>5)return r;const a=Zv.createTransformer(n),s=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const u=Ji(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};let kB=!1;class oyt extends de.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Dmt(lyt),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),kB&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),oN.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,kB=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||ji.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xH.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;kB=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jye(n){const[e,t]=dye(),r=de.useContext($G);return C.jsx(oyt,{...n,layoutGroup:r,switchLayoutGroup:de.useContext(Tye),isPresent:e,safeToRemove:t})}const lyt={borderRadius:{...rT,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rT,borderTopRightRadius:rT,borderBottomLeftRadius:rT,borderBottomRightRadius:rT,boxShadow:syt};function uyt(n,e,t){const r=Io(n)?n:jb(n);return r.start(RH("",r,e,t)),r.animation}const cyt=(n,e)=>n.depth-e.depth;class fyt{constructor(){this.children=[],this.isDirty=!1}add(e){eH(this.children,e),this.isDirty=!0}remove(e){tH(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cyt),this.isDirty=!1,this.children.forEach(e)}}function dyt(n,e){const t=Wl.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(Xv(r),n(a-e))};return ji.setup(r,!0),()=>Xv(r)}const Wye=["TopLeft","TopRight","BottomLeft","BottomRight"],hyt=Wye.length,_ie=n=>typeof n=="string"?parseFloat(n):n,bie=n=>typeof n=="number"||jn.test(n);function pyt(n,e,t,r,i,a){i?(n.opacity=Ji(0,t.opacity??1,vyt(r)),n.opacityExit=Ji(e.opacity??1,0,myt(r))):a&&(n.opacity=Ji(e.opacity??1,t.opacity??1,r));for(let s=0;s<hyt;s++){const o=`border${Wye[s]}Radius`;let l=Sie(e,o),u=Sie(t,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||bie(l)===bie(u)?(n[o]=Math.max(Ji(_ie(l),_ie(u),r),0),(Xd.test(u)||Xd.test(l))&&(n[o]+="%")):n[o]=u}(e.rotate||t.rotate)&&(n.rotate=Ji(e.rotate||0,t.rotate||0,r))}function Sie(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const vyt=Yye(0,.5,Ige),myt=Yye(.5,.95,bc);function Yye(n,e,t){return r=>r<n?0:r>e?1:t(RA(n,e,r))}function wie(n,e){n.min=e.min,n.max=e.max}function rc(n,e){wie(n.x,e.x),wie(n.y,e.y)}function Tie(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Cie(n,e,t,r,i){return n-=e,n=Vk(n,1/t,r),i!==void 0&&(n=Vk(n,1/i,r)),n}function gyt(n,e=0,t=1,r=.5,i,a=n,s=n){if(Xd.test(e)&&(e=parseFloat(e),e=Ji(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Ji(a.min,a.max,r);n===a&&(o-=e),n.min=Cie(n.min,e,t,o,i),n.max=Cie(n.max,e,t,o,i)}function Aie(n,e,[t,r,i],a,s){gyt(n,e[t],e[r],e[i],e.scale,a,s)}const yyt=["x","scaleX","originX"],xyt=["y","scaleY","originY"];function Mie(n,e,t,r){Aie(n.x,e,yyt,t?t.x:void 0,r?r.x:void 0),Aie(n.y,e,xyt,t?t.y:void 0,r?r.y:void 0)}function Eie(n){return n.translate===0&&n.scale===1}function qye(n){return Eie(n.x)&&Eie(n.y)}function Die(n,e){return n.min===e.min&&n.max===e.max}function _yt(n,e){return Die(n.x,e.x)&&Die(n.y,e.y)}function Rie(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Xye(n,e){return Rie(n.x,e.x)&&Rie(n.y,e.y)}function Nie(n){return ml(n.x)/ml(n.y)}function Iie(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class byt{constructor(){this.members=[]}add(e){eH(this.members,e),e.scheduleRender()}remove(e){if(tH(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Syt(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,s=(t==null?void 0:t.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:h,skewY:p}=t;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const LB=["","X","Y","Z"],wyt=1e3;let Tyt=0;function PB(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function Zye(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Lye(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ji,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Zye(r)}function Kye({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=Tyt++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Myt),this.nodes.forEach(Nyt),this.nodes.forEach(Iyt),this.nodes.forEach(Eyt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fyt)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new iH),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=fye(s)&&!hmt(s),this.instance=s;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),n){let c,f=0;const d=()=>this.root.updateBlockedByResize=!1;ji.read(()=>{f=window.innerWidth}),n(s,()=>{const h=window.innerWidth;h!==f&&(f=h,this.root.updateBlockedByResize=!0,c&&c(),c=dyt(d,250),oN.hasAnimatedSinceResize&&(oN.hasAnimatedSinceResize=!1,this.nodes.forEach(Pie)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Fyt,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=u.getProps(),y=!this.targetLayout||!Xye(this.targetLayout,h),_=!f&&d;if(this.options.layoutRoot||this.resumeFrom||_||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...gH(p,"layout"),onPlay:m,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(c,_)}else f||Pie(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xv(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kyt),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zye(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kie);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lie);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ryt),this.nodes.forEach(Cyt),this.nodes.forEach(Ayt)):this.nodes.forEach(Lie),this.clearAllSnapshots();const o=Wl.now();Ys.delta=Hp(0,1e3/60,o-Ys.timestamp),Ys.timestamp=o,Ys.isProcessing=!0,wB.update.process(Ys),wB.preRender.process(Ys),wB.render.process(Ys),Ys.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xH.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Dyt),this.sharedNodes.forEach(Lyt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ji.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ji.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ml(this.snapshot.measuredBox.x)&&!ml(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Aa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!qye(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&this.instance&&(o||Jg(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Byt(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Aa();const o=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(zyt))){const{scroll:c}=this.root;c&&(W_(o.x,c.offset.x),W_(o.y,c.offset.y))}return o}removeElementScroll(s){var l;const o=Aa();if(rc(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&rc(o,s),W_(o.x,f.offset.x),W_(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=Aa();rc(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Y_(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Jg(c.latestValues)&&Y_(l,c.latestValues)}return Jg(this.latestValues)&&Y_(l,this.latestValues),l}removeTransform(s){const o=Aa();rc(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Jg(u.latestValues))continue;vU(u.latestValues)&&u.updateSnapshot();const c=Aa(),f=u.measurePageBox();rc(c,f),Mie(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Jg(this.latestValues)&&Mie(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ys.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var d;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Ys.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Aa(),this.relativeTargetOrigin=Aa(),gC(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),rc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Aa(),this.targetWithTransforms=Aa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wgt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rc(this.target,this.layout.layoutBox),Eye(this.target,this.targetDelta)):rc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Aa(),this.relativeTargetOrigin=Aa(),gC(this.relativeTargetOrigin,this.target,h.target),rc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vU(this.parent.latestValues)||Mye(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ys.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;rc(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;rgt(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Aa());const{target:h}=s;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Tie(this.prevProjectionDelta.x,this.projectionDelta.x),Tie(this.prevProjectionDelta.y,this.projectionDelta.y)),mC(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!Iie(this.projectionDelta.x,this.prevProjectionDelta.x)||!Iie(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=q_(),this.projectionDelta=q_(),this.projectionDeltaWithTransform=q_()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=q_();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=Aa(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,g=this.getStack(),y=!g||g.members.length<=1,_=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(Oyt));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const M=A/1e3;Oie(f.x,s.x,M),Oie(f.y,s.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gC(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Pyt(this.relativeTarget,this.relativeTargetOrigin,d,M),S&&_yt(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Aa()),rc(S,this.relativeTarget)),m&&(this.animationValues=c,pyt(c,u,this.latestValues,M,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Xv(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ji.update(()=>{oN.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jb(0)),this.currentAnimation=uyt(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),s.onUpdate&&s.onUpdate(c)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wyt),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&$ye(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Aa();const f=ml(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=ml(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}rc(o,l),Y_(o,c),mC(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new byt),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&PB("z",s,u,this.animationValues);for(let c=0;c<LB.length;c++)PB(`rotate${LB[c]}`,s,u,this.animationValues),PB(`skew${LB[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=sN(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=sN(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Jg(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Syt(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),s.transform=f;const{x:d,y:h}=this.projectionDelta;s.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,u.animationValues?s.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in LA){if(c[p]===void 0)continue;const{correct:m,applyTo:g,isCSSVariable:y}=LA[p],_=f==="none"?c[p]:m(c[p],u);if(g){const S=g.length;for(let A=0;A<S;A++)s[g[A]]=_}else y?this.options.visualElement.renderState.vars[p]=_:s[p]=_}this.options.layoutId&&(s.pointerEvents=u===this?sN(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(kie),this.root.sharedNodes.clear()}}}function Cyt(n){n.updateLayout()}function Ayt(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:a}=n.options,s=e.source!==n.layout.source;a==="size"?sc(f=>{const d=s?e.measuredBox[f]:e.layoutBox[f],h=ml(d);d.min=r[f].min,d.max=d.min+h}):$ye(a,e.layoutBox,r)&&sc(f=>{const d=s?e.measuredBox[f]:e.layoutBox[f],h=ml(r[f]);d.max=d.min+h,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+h)});const o=q_();mC(o,r,e.layoutBox);const l=q_();s?mC(l,n.applyTransform(i,!0),e.measuredBox):mC(l,r,e.layoutBox);const u=!qye(o);let c=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const p=Aa();gC(p,e.layoutBox,d.layoutBox);const m=Aa();gC(m,r,h.layoutBox),Xye(p,m)||(c=!0),f.options.layoutRoot&&(n.relativeTarget=m,n.relativeTargetOrigin=p,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Myt(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Eyt(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Dyt(n){n.clearSnapshot()}function kie(n){n.clearMeasurements()}function Lie(n){n.isLayoutDirty=!1}function Ryt(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Pie(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Nyt(n){n.resolveTargetDelta()}function Iyt(n){n.calcProjection()}function kyt(n){n.resetSkewAndRotation()}function Lyt(n){n.removeLeadSnapshot()}function Oie(n,e,t){n.translate=Ji(e.translate,0,t),n.scale=Ji(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Fie(n,e,t,r){n.min=Ji(e.min,t.min,r),n.max=Ji(e.max,t.max,r)}function Pyt(n,e,t,r){Fie(n.x,e.x,t.x,r),Fie(n.y,e.y,t.y,r)}function Oyt(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Fyt={duration:.45,ease:[.4,0,.1,1]},Bie=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),zie=Bie("applewebkit/")&&!Bie("chrome/")?Math.round:bc;function Uie(n){n.min=zie(n.min),n.max=zie(n.max)}function Byt(n){Uie(n.x),Uie(n.y)}function $ye(n,e,t){return n==="position"||n==="preserve-aspect"&&!jgt(Nie(e),Nie(t),.2)}function zyt(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Uyt=Kye({attachResizeListener:(n,e)=>PA(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),OB={current:void 0},Jye=Kye({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!OB.current){const n=new Uyt({});n.mount(window),n.setOptions({layoutScroll:!0}),OB.current=n}return OB.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Vyt={pan:{Feature:ayt},drag:{Feature:iyt,ProjectionNode:Jye,MeasureLayout:jye}};function Vie(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&ji.postRender(()=>a(e,NM(e)))}class Gyt extends lm{mount(){const{current:e}=this.node;e&&(this.unmount=lmt(e,(t,r)=>(Vie(this.node,r,"Start"),i=>Vie(this.node,i,"End"))))}unmount(){}}class Hyt extends lm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=EM(PA(this.node.current,"focus",()=>this.onFocus()),PA(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gie(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&ji.postRender(()=>a(e,NM(e)))}class jyt extends lm{mount(){const{current:e}=this.node;e&&(this.unmount=dmt(e,(t,r)=>(Gie(this.node,r,"Start"),(i,{success:a})=>Gie(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const SU=new WeakMap,FB=new WeakMap,Wyt=n=>{const e=SU.get(n.target);e&&e(n)},Yyt=n=>{n.forEach(Wyt)};function qyt({root:n,...e}){const t=n||document;FB.has(t)||FB.set(t,{});const r=FB.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Yyt,{root:n,...e})),r[i]}function Xyt(n,e,t){const r=qyt(e);return SU.set(n,t),r.observe(n),()=>{SU.delete(n),r.unobserve(n)}}const Zyt={some:0,all:1};class Kyt extends lm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Zyt[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return Xyt(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some($yt(e,t))&&this.startObserver()}unmount(){}}function $yt({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Jyt={inView:{Feature:Kyt},tap:{Feature:jyt},focus:{Feature:Hyt},hover:{Feature:Gyt}},Qyt={layout:{ProjectionNode:Jye,MeasureLayout:jye}},ext={...Bgt,...Jyt,...Vyt,...Qyt},Hie=egt(ext,hgt);var Qye=(n=>(n.Done="Done",n.Working="Working on it",n.Stuck="Stuck",n.Empty="",n))(Qye||{}),exe=(n=>(n.High="High",n.Medium="Medium",n.Low="Low",n.Empty="",n))(exe||{});const BB={Done:"bg-[#00C875] hover:bg-[#00B66A] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]","Working on it":"bg-[#FDAB3D] hover:bg-[#E69A35] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]",Stuck:"bg-[#E2445C] hover:bg-[#CE3D53] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]","":"bg-[#C4C4C4] hover:bg-[#B0B0B0] text-white"},zB={High:"bg-[#333333] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]",Medium:"bg-[#401694] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]",Low:"bg-[#579BFC] text-white shadow-[inset_0_-2px_0_rgba(0,0,0,0.1)]","":"bg-[#C4C4C4] text-white"},ER=["#579bfc","#00c875","#ffcb00","#ff5ac4","#a25ddc","#0086c0","#784bd1"],jie=[{id:"p1",name:"Alex",initials:"AL",color:"bg-blue-500"},{id:"p2",name:"Sam",initials:"SA",color:"bg-amber-500"},{id:"p3",name:"Jordan",initials:"JO",color:"bg-purple-600"},{id:"p4",name:"Taylor",initials:"TA",color:"bg-emerald-500"},{id:"p5",name:"Casey",initials:"CA",color:"bg-rose-500"},{id:"p6",name:"Drew",initials:"DR",color:"bg-indigo-500"}],txt={id:"board-1",name:"Task Board",columns:[{id:"col_name",title:"Item",type:"name",width:"300px"},{id:"col_person",title:"Owner",type:"person",width:"96px"},{id:"col_status",title:"Status",type:"status",width:"128px"},{id:"col_priority",title:"Priority",type:"priority",width:"128px"},{id:"col_date",title:"Due Date",type:"date",width:"110px"}],groups:[]},nxt="taskboard-state",txe=new Jit({apiKey:""}),nxe="gemini-2.5-flash",rxt={type:dl.OBJECT,properties:{tasks:{type:dl.ARRAY,items:{type:dl.OBJECT,properties:{name:{type:dl.STRING,description:"A concise, actionable task name."},priority:{type:dl.STRING,description:"Priority level: 'High', 'Medium', or 'Low'."},dueDateOffsetDays:{type:dl.INTEGER,description:"Suggested due date as number of days from today (e.g., 2 for 2 days from now)."}},required:["name","priority","dueDateOffsetDays"]}},groupName:{type:dl.STRING,description:"A suggested title for this group of tasks."}},required:["tasks","groupName"]},ixt=async n=>{try{const t=(await txe.models.generateContent({model:nxe,contents:`Create a project plan for the following goal: "${n}". Break it down into 3-6 actionable tasks.`,config:{responseMimeType:"application/json",responseSchema:rxt,systemInstruction:"You are an expert project manager using a Monday.com style workflow. Be concise and actionable."}})).text;return t?JSON.parse(t):null}catch(e){return console.error("Error generating plan:",e),null}},axt=async n=>{try{return(await txe.models.generateContent({model:nxe,contents:`Analyze this project board summary and give me a 1-sentence executive summary and 2 bullet points of advice/risks:

${n}`,config:{systemInstruction:"You are a helpful Agile Coach. Keep it brief, encouraging, but realistic."}})).text||"Could not analyze board."}catch(e){return console.error("Error analyzing board:",e),"Error connecting to AI assistant."}},Wie=({className:n="w-6 h-6"})=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),sxt=({className:n="w-6 h-6"})=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),UB=({className:n="w-6 h-6"})=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})}),oxt=({className:n="w-6 h-6"})=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:C.jsx("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"})}),lxt=({status:n,onChange:e})=>{const[t,r]=de.useState(!1),[i,a]=de.useState({top:0,left:0,width:0}),s=o=>{o.stopPropagation();const l=o.currentTarget.getBoundingClientRect();a({top:l.bottom+window.scrollY,left:l.left+window.scrollX,width:l.width}),r(!t)};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"relative w-full h-full",children:C.jsxs("div",{onClick:s,className:`w-full h-full flex items-center justify-center cursor-pointer transition-all duration-200 text-xs font-medium text-white relative group ${BB[n]||BB[""]}`,children:[C.jsx("div",{className:"absolute right-0 bottom-0 w-3 h-3 bg-black/10 opacity-0 group-hover:opacity-100 clip-triangle transition-opacity"}),C.jsx("span",{className:"truncate px-1",children:n||C.jsx("span",{className:"opacity-0 group-hover:opacity-100 text-[10px] uppercase",children:"Set Status"})})]})}),t&&pp.createPortal(C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>r(!1)}),C.jsx("div",{className:"fixed z-50 bg-white shadow-2xl rounded-lg border border-gray-200 p-1.5 overflow-hidden animate-in fade-in zoom-in-95 duration-100 flex flex-col gap-1",style:{top:i.top+4,left:i.left-(160-i.width)/2,width:"160px"},children:Object.values(Qye).map(o=>C.jsx("div",{onClick:()=>{e(o),r(!1)},className:`px-3 py-2.5 text-xs cursor-pointer hover:brightness-95 rounded text-center font-medium transition-all shadow-sm ${BB[o]||"bg-gray-100 text-gray-600"}`,children:o||"Empty"},o))})]}),document.body)]})},uxt=({priority:n,onChange:e})=>{const[t,r]=de.useState(!1),[i,a]=de.useState({top:0,left:0,width:0}),s=o=>{o.stopPropagation();const l=o.currentTarget.getBoundingClientRect();a({top:l.bottom+window.scrollY,left:l.left+window.scrollX,width:l.width}),r(!t)};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"relative w-full h-full",children:C.jsxs("div",{onClick:s,className:`w-full h-full flex items-center justify-center cursor-pointer transition-all duration-200 text-xs font-medium relative group ${zB[n]||zB[""]}`,children:[C.jsx("div",{className:"absolute right-0 bottom-0 w-3 h-3 bg-black/10 opacity-0 group-hover:opacity-100 clip-triangle transition-opacity"}),C.jsx("span",{className:"truncate px-1",children:n||C.jsx("span",{className:"opacity-0 group-hover:opacity-100 text-[10px] uppercase",children:"Set"})})]})}),t&&pp.createPortal(C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>r(!1)}),C.jsx("div",{className:"fixed z-50 bg-white shadow-2xl rounded-lg border border-gray-200 p-1.5 animate-in fade-in zoom-in-95 duration-100 flex flex-col gap-1",style:{top:i.top+4,left:i.left-(140-i.width)/2,width:"140px"},children:Object.values(exe).map(o=>C.jsx("div",{onClick:()=>{e(o),r(!1)},className:`px-2 py-2 text-xs cursor-pointer hover:brightness-90 rounded text-center font-medium transition-all shadow-sm ${zB[o]||"bg-gray-100 text-gray-600"}`,children:o||"Empty"},o))})]}),document.body)]})},cxt=({personId:n,onChange:e})=>{const[t,r]=de.useState(!1),[i,a]=de.useState({top:0,left:0}),s=jie.find(l=>l.id===n),o=l=>{l.stopPropagation();const u=l.currentTarget.getBoundingClientRect();a({top:u.bottom+window.scrollY+5,left:u.left+window.scrollX-90}),r(!t)};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"relative w-full h-full flex justify-center items-center group",children:C.jsxs("div",{onClick:o,className:"cursor-pointer hover:scale-110 transition-transform duration-200 active:scale-95",children:[s?C.jsx("div",{className:`w-7 h-7 rounded-full ${s.color} text-white text-[10px] flex items-center justify-center font-bold border-2 border-white shadow-sm`,title:s.name,children:s.initials}):C.jsx("div",{className:"w-7 h-7 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center hover:bg-gray-200 border border-transparent hover:border-gray-300 transition-colors",children:C.jsx(oxt,{className:"w-4 h-4"})}),!s&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 pointer-events-none",children:C.jsx("div",{className:"w-7 h-7 rounded-full bg-black/5 flex items-center justify-center",children:C.jsx("span",{className:"text-black/50 text-lg leading-none pb-1",children:"+"})})})]})}),t&&pp.createPortal(C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>r(!1)}),C.jsxs("div",{className:"fixed z-50 bg-white shadow-2xl rounded-xl border border-gray-200 p-2 animate-in fade-in zoom-in-95 duration-100 flex flex-col gap-1 min-w-[180px]",style:{top:i.top,left:i.left},children:[C.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-1 px-2 uppercase tracking-wider py-1",children:"Select Person"}),jie.map(l=>C.jsxs("div",{onClick:()=>{e(l.id),r(!1)},className:`flex items-center gap-3 px-3 py-2 hover:bg-blue-50 rounded-lg cursor-pointer transition-colors ${n===l.id?"bg-blue-50":""}`,children:[C.jsx("div",{className:`w-6 h-6 rounded-full ${l.color} text-white text-[10px] flex items-center justify-center font-bold`,children:l.initials}),C.jsx("span",{className:"text-sm text-gray-700 font-medium",children:l.name}),n===l.id&&C.jsx("span",{className:"ml-auto text-blue-500",children:""})]},l.id)),C.jsx("div",{className:"border-t border-gray-100 my-1"}),C.jsxs("div",{onClick:()=>{e(null),r(!1)},className:"px-3 py-2 hover:bg-red-50 text-red-500 text-sm rounded-lg cursor-pointer flex items-center gap-2 transition-colors",children:[C.jsx("span",{className:"w-4 h-4 flex items-center justify-center text-xs",children:""}),"Clear Selection"]})]})]}),document.body)]})},fxt=({storageKey:n})=>{const e=n||nxt,[t,r]=de.useState(()=>{try{if(typeof window<"u"){const Q=localStorage.getItem(e);if(Q){const ne=JSON.parse(Q);if(ne!=null&&ne.columns&&(ne!=null&&ne.groups))return ne}}}catch(Q){console.warn("Failed to load saved board",Q)}return txt}),[i,a]=de.useState(""),[s,o]=de.useState(!1),[l,u]=de.useState(null),c=de.useRef(null),f=de.useRef(null),[d,h]=de.useState(!1),p=(Q,ne,ce)=>{r(ve=>({...ve,groups:ve.groups.map(xe=>xe.id!==Q?xe:{...xe,tasks:xe.tasks.map(we=>we.id===ne?{...we,...ce}:we)})}))},m=(Q,ne,ce)=>{p(Q,ne,{selected:ce})},g=(Q,ne)=>{r(ce=>({...ce,groups:ce.groups.map(ve=>Q!=="all"&&ve.id!==Q?ve:{...ve,tasks:ve.tasks.map(xe=>({...xe,selected:ne}))})}))},y=(Q,ne,ce,ve)=>{r(xe=>({...xe,groups:xe.groups.map(we=>we.id!==Q?we:{...we,tasks:we.tasks.map(Ae=>Ae.id!==ne?Ae:{...Ae,textValues:{...Ae.textValues,[ce]:ve}})})}))},_=(Q,ne)=>{const ce={id:sv(),name:(ne==null?void 0:ne.trim())||"New Item",status:"",priority:"",dueDate:"",personId:null,textValues:{},selected:!1};r(ve=>({...ve,groups:ve.groups.map(xe=>xe.id===Q?{...xe,tasks:[...xe.tasks,ce]}:xe)}))},S=(Q,ne)=>{r(ce=>({...ce,groups:ce.groups.map(ve=>ve.id===Q?{...ve,tasks:ve.tasks.filter(xe=>xe.id!==ne)}:ve)}))},A=()=>{const Q={id:sv(),title:"New Group",color:ER[t.groups.length%ER.length],tasks:[]};r(ne=>({...ne,groups:[Q,...ne.groups]}))},M=Q=>{r(ne=>({...ne,groups:ne.groups.filter(ce=>ce.id!==Q)}))},E=(Q,ne)=>{r(ce=>({...ce,groups:ce.groups.map(ve=>ve.id===Q?{...ve,title:ne}:ve)}))},D=()=>{const ne={id:`col_${sv().slice(0,4)}`,title:"New Text",type:"text",width:"140px"};r(ce=>({...ce,columns:[...ce.columns,ne]}))},I=(Q,ne)=>{r(ce=>({...ce,columns:ce.columns.map(ve=>ve.id===Q?{...ve,title:ne}:ve)}))},N=(Q,ne)=>{c.current=ne,f.current=Q.currentTarget,setTimeout(()=>h(!0),0)},L=(Q,ne)=>{Q.preventDefault();const ce=c.current;!ce||ce.taskId===ne.taskId||(c.current=ne,r(ve=>{const xe=JSON.parse(JSON.stringify(ve.groups)),we=xe.findIndex(oe=>oe.id===ce.groupId),Ae=xe.findIndex(oe=>oe.id===ne.groupId);if(we===-1||Ae===-1)return ve;const Ue=xe[we],pe=xe[Ae],pt=Ue.tasks.findIndex(oe=>oe.id===ce.taskId),te=pe.tasks.findIndex(oe=>oe.id===ne.taskId);if(pt===-1||te===-1)return ve;if(Ue.id===pe.id){const[oe]=Ue.tasks.splice(pt,1);Ue.tasks.splice(te,0,oe)}else{const[oe]=Ue.tasks.splice(pt,1);pe.tasks.splice(te,0,oe)}return{...ve,groups:xe}}))},B=()=>{h(!1),c.current=null,f.current=null},O=Q=>{var ne;return((ne=c.current)==null?void 0:ne.taskId)===Q?"opacity-40 bg-gray-50 grayscale":""},G=async()=>{if(!i.trim())return;o(!0),u(null);const Q=await ixt(i);if(Q){const ne=new Date,ce=Q.tasks.map(xe=>{const we=new Date(ne);return we.setDate(ne.getDate()+xe.dueDateOffsetDays),{id:sv(),name:xe.name,status:"",priority:xe.priority||"Medium",dueDate:we.toISOString().split("T")[0],personId:null,textValues:{}}}),ve={id:sv(),title:Q.groupName||"AI Generated Plan",color:ER[Math.floor(Math.random()*ER.length)],tasks:ce};r(xe=>({...xe,groups:[ve,...xe.groups]})),a("")}o(!1)},V=async()=>{o(!0);const Q=t.groups.map(ce=>`Group: ${ce.title}. Tasks: ${ce.tasks.map(ve=>`${ve.name} (${ve.status})`).join(", ")}`).join(`
`),ne=await axt(Q);u(ne),o(!1)},q=Q=>{if(Q.length===0)return{done:0,working:0,stuck:0};const ne=Q.length,ce=Q.filter(we=>we.status==="Done").length,ve=Q.filter(we=>we.status==="Working on it").length,xe=Q.filter(we=>we.status==="Stuck").length;return{done:ce/ne*100,working:ve/ne*100,stuck:xe/ne*100}},X=`50px ${t.columns.map(Q=>Q.width).join(" ")} 50px`,se=t.groups.flatMap(Q=>Q.tasks.filter(ne=>ne.selected).map(ne=>({groupId:Q.id,task:ne}))).length,J=()=>{g("all",!1)},H=()=>{se!==0&&r(Q=>({...Q,groups:Q.groups.map(ne=>({...ne,tasks:ne.tasks.filter(ce=>!ce.selected)}))}))},ee=()=>{se!==0&&r(Q=>({...Q,groups:Q.groups.map(ne=>{const ce=ne.tasks.filter(xe=>xe.selected);if(ce.length===0)return ne;const ve=ce.map(xe=>({...xe,id:sv(),name:`${xe.name} (Copy)`,selected:!0}));return{...ne,tasks:[...ne.tasks,...ve]}})}))};return de.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(Q){console.warn("Failed to save board",Q)}},[t,e]),C.jsx("div",{className:"flex w-full min-h-screen bg-white overflow-hidden font-sans text-gray-800",children:C.jsxs("main",{className:"flex-1 flex flex-col min-h-screen overflow-hidden relative bg-white",children:[C.jsxs("header",{className:"h-16 bg-white flex items-center justify-between px-8 flex-shrink-0",children:[C.jsx("div",{children:C.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:t.name})}),C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsxs("button",{onClick:V,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-600 rounded-full hover:shadow-md hover:scale-105 transition-all text-sm font-semibold border border-indigo-100",children:[C.jsx(UB,{className:"w-4 h-4"}),s?"Thinking...":"Analyze Board"]}),C.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition text-sm font-medium shadow-sm",children:[C.jsx(Wie,{className:"w-4 h-4"})," New Group"]})]})]}),C.jsxs("div",{className:"flex-1 overflow-auto custom-scroll p-6 pb-28",children:[l&&C.jsxs("div",{className:"mb-8 p-6 bg-white border border-indigo-100 rounded-2xl shadow-xl relative overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400"}),C.jsxs("h3",{className:"text-indigo-900 font-bold text-lg mb-3 flex items-center gap-2",children:[C.jsx(UB,{className:"w-5 h-5 text-indigo-500"})," AI Assistant Insights"]}),C.jsx("p",{className:"text-gray-700 whitespace-pre-line text-sm leading-relaxed",children:l}),C.jsx("button",{onClick:()=>u(null),className:"mt-4 text-xs font-semibold text-gray-400 hover:text-gray-600 uppercase tracking-wider",children:"Dismiss"})]}),C.jsx("div",{className:"space-y-8",children:t.groups.map(Q=>{const ne=q(Q.tasks),ce=Q.tasks.length>0&&Q.tasks.every(xe=>xe.selected),ve=Q.tasks.some(xe=>xe.selected);return C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/80 relative flex flex-col",children:[C.jsxs("div",{className:"flex items-center px-4 py-3 relative rounded-t-xl bg-white z-0",children:[C.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[C.jsx("div",{className:"cursor-pointer hover:bg-gray-100 p-1.5 rounded transition-colors group/menu relative",children:C.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover/menu:text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})}),C.jsx("input",{value:Q.title,onChange:xe=>E(Q.id,xe.target.value),className:"text-xl font-bold bg-transparent border border-transparent hover:border-gray-300 rounded px-2 py-0.5 focus:outline-none focus:border-blue-500 focus:bg-white w-full max-w-md transition-all",style:{color:Q.color}}),C.jsxs("span",{className:"text-xs text-gray-400 font-medium px-2 py-1 bg-gray-100 rounded-full",children:[Q.tasks.length," items"]})]}),C.jsx("button",{onClick:()=>M(Q.id),className:"text-gray-300 hover:text-red-500 p-2 transition-colors hover:bg-red-50 rounded-md opacity-0 group-hover:opacity-100",children:C.jsx(sxt,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"sticky top-0 z-[1] bg-white",style:{boxShadow:"0 2px 5px -2px rgba(0,0,0,0.05)"},children:C.jsxs("div",{className:"grid gap-px bg-gray-200 border-y border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wide",style:{gridTemplateColumns:X},children:[C.jsx("div",{className:"bg-gray-50/80 flex items-center justify-center",children:C.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300",checked:ce,ref:xe=>{xe&&(xe.indeterminate=ve&&!ce)},onChange:xe=>g(Q.id,xe.target.checked)})}),t.columns.map(xe=>C.jsx("div",{className:"relative group bg-gray-50/80 backdrop-blur-sm hover:bg-gray-100 transition-colors",children:C.jsx("input",{value:xe.title,onChange:we=>I(xe.id,we.target.value),className:"w-full h-full bg-transparent px-3 py-2 text-center text-[11px] focus:outline-none focus:bg-white focus:text-gray-800 border-b-2 border-transparent focus:border-blue-500",style:{textAlign:xe.type==="name"?"left":"center"}})},xe.id)),C.jsx("div",{className:"bg-gray-50/80 flex items-center justify-center hover:bg-blue-50 cursor-pointer transition-colors group",onClick:D,title:"Add Column",children:C.jsx(Wie,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-transform group-hover:scale-110"})})]})}),C.jsx("div",{className:"divide-y divide-gray-100 relative z-0 min-h-[10px]",children:Q.tasks.map((xe,we)=>C.jsxs("div",{draggable:!0,onDragStart:Ae=>N(Ae,{taskId:xe.id,groupId:Q.id}),onDragEnter:d?Ae=>L(Ae,{taskId:xe.id,groupId:Q.id}):void 0,onDragEnd:B,onDragOver:Ae=>Ae.preventDefault(),className:`grid gap-px bg-white hover:bg-gray-50/50 group/row text-sm transition-colors relative ${O(xe.id)}`,style:{gridTemplateColumns:X},children:[C.jsx("div",{className:"flex items-center justify-center border-r border-gray-100 bg-white",children:C.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300",checked:!!xe.selected,onChange:Ae=>m(Q.id,xe.id,Ae.target.checked),onClick:Ae=>Ae.stopPropagation(),onMouseDown:Ae=>Ae.stopPropagation()})}),t.columns.map(Ae=>{const Ue=Ae.type==="name";return C.jsxs("div",{className:`relative border-r border-gray-100 flex items-center ${Ue?"justify-start pl-2":"justify-center"} min-h-[32px] bg-white group-hover/row:bg-[#f8f9fa] transition-colors`,children:[Ue&&C.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1.5",style:{backgroundColor:Q.color}}),Ue&&C.jsx("div",{className:"cursor-grab active:cursor-grabbing text-gray-300 mr-2 opacity-0 group-hover/row:opacity-100 hover:text-gray-500 p-1",children:C.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("circle",{cx:"9",cy:"12",r:"1"}),C.jsx("circle",{cx:"9",cy:"5",r:"1"}),C.jsx("circle",{cx:"9",cy:"19",r:"1"}),C.jsx("circle",{cx:"15",cy:"12",r:"1"}),C.jsx("circle",{cx:"15",cy:"5",r:"1"}),C.jsx("circle",{cx:"15",cy:"19",r:"1"})]})}),Ae.type==="name"&&C.jsx("input",{value:xe.name,onChange:pe=>p(Q.id,xe.id,{name:pe.target.value}),className:"w-full px-2 py-1.5 bg-transparent focus:outline-none text-gray-700 font-medium truncate"}),Ae.type==="person"&&C.jsx(cxt,{personId:xe.personId,onChange:pe=>p(Q.id,xe.id,{personId:pe})}),Ae.type==="status"&&C.jsx("div",{className:"w-[90%] h-[80%]",children:C.jsx(lxt,{status:xe.status,onChange:pe=>p(Q.id,xe.id,{status:pe})})}),Ae.type==="priority"&&C.jsx("div",{className:"w-[90%] h-[80%]",children:C.jsx(uxt,{priority:xe.priority,onChange:pe=>p(Q.id,xe.id,{priority:pe})})}),Ae.type==="date"&&C.jsx("input",{type:"date",value:xe.dueDate,onChange:pe=>p(Q.id,xe.id,{dueDate:pe.target.value}),className:"bg-transparent text-xs text-gray-500 focus:outline-none w-full text-center cursor-pointer hover:text-gray-800 font-medium"}),Ae.type==="text"&&C.jsx("input",{type:"text",value:xe.textValues[Ae.id]||"",onChange:pe=>y(Q.id,xe.id,Ae.id,pe.target.value),className:"w-full h-full text-center px-2 bg-transparent focus:outline-none text-gray-600",placeholder:"-"})]},Ae.id)}),C.jsx("div",{className:"flex items-center justify-center border-l border-gray-100 bg-white opacity-0 group-hover/row:opacity-100 transition-opacity",children:C.jsx("button",{onClick:()=>S(Q.id,xe.id),className:"text-gray-300 hover:text-red-500 hover:bg-red-50 p-1.5 rounded transition-all",children:C.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]},xe.id))}),C.jsxs("div",{className:"grid gap-px bg-white border-t border-gray-200",style:{gridTemplateColumns:X},children:[C.jsx("div",{className:"flex items-center justify-center border-r border-gray-100 bg-gray-50/20"}),C.jsxs("div",{className:"flex items-center pl-8 py-1.5 border-r border-gray-100 relative hover:bg-gray-50 transition-colors",children:[C.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1.5 rounded-bl-xl",style:{backgroundColor:Q.color,opacity:.3}}),C.jsx("input",{type:"text",placeholder:"+ Add Item",className:"w-full text-sm focus:outline-none text-gray-500 placeholder-gray-400 bg-transparent",onKeyDown:xe=>{if(xe.key==="Enter"){const we=xe.target.value.trim();_(Q.id,we),xe.target.value=""}}})]}),t.columns.slice(1).map(xe=>C.jsx("div",{className:"border-r border-gray-100 bg-gray-50/20"},xe.id)),C.jsx("div",{className:"bg-gray-50/20"})]}),C.jsxs("div",{className:"bg-white border-t border-gray-200 rounded-b-xl p-2.5 flex items-center gap-4",children:[C.jsx("div",{className:"w-32"})," ",C.jsxs("div",{className:"flex-1 h-7 rounded flex overflow-hidden bg-gray-100 max-w-md border border-gray-200",children:[ne.done>0&&C.jsxs("div",{className:"bg-[#00C875] flex items-center justify-center text-[10px] font-bold text-white transition-all duration-500",style:{width:`${ne.done}%`},title:`Done: ${Math.round(ne.done)}%`,children:[Math.round(ne.done),"%"]}),ne.working>0&&C.jsxs("div",{className:"bg-[#FDAB3D] flex items-center justify-center text-[10px] font-bold text-white transition-all duration-500",style:{width:`${ne.working}%`},title:`Working: ${Math.round(ne.working)}%`,children:[Math.round(ne.working),"%"]}),ne.stuck>0&&C.jsxs("div",{className:"bg-[#E2445C] flex items-center justify-center text-[10px] font-bold text-white transition-all duration-500",style:{width:`${ne.stuck}%`},title:`Stuck: ${Math.round(ne.stuck)}%`,children:[Math.round(ne.stuck),"%"]})]})]})]},Q.id)})})]}),C.jsx(Smt,{children:se>0&&C.jsx(Hie.div,{className:"fixed bottom-16 md:bottom-20 left-0 right-0 px-4 z-50 pointer-events-none",initial:{opacity:0,y:16,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:16,scale:.98},transition:{duration:.18,ease:"easeOut"},children:C.jsx(Hie.div,{className:"mx-auto max-w-5xl bg-white shadow-2xl border border-gray-200 rounded-2xl px-6 py-3 flex items-center gap-6 pointer-events-auto justify-center",initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},transition:{duration:.18,ease:"easeOut",delay:.02},children:C.jsx("div",{className:"flex items-center gap-5 text-sm text-gray-600 flex-wrap md:flex-nowrap justify-center w-full",children:C.jsxs("div",{className:"flex items-center gap-5 flex-wrap md:flex-nowrap justify-center",children:[C.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",onClick:ee,children:[C.jsx(h_e,{size:18,className:"text-gray-700"})," ",C.jsx("span",{children:"Duplicate"})]}),C.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",children:[C.jsx(rae,{size:18,className:"text-gray-700"})," ",C.jsx("span",{children:"Export"})]}),C.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",children:[C.jsx(Qie,{size:18,className:"text-gray-700"})," ",C.jsx("span",{children:"Archive"})]}),C.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",onClick:H,children:[C.jsx(vp,{size:18,className:"text-gray-700"})," ",C.jsx("span",{children:"Delete"})]}),C.jsxs("button",{className:"flex items-center gap-2 text-gray-400 cursor-not-allowed whitespace-nowrap",disabled:!0,children:[C.jsx(Bj,{size:18,className:"text-gray-400"})," ",C.jsx("span",{children:"Convert"})]}),C.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",children:[C.jsx(Bj,{size:18,className:"text-gray-700"})," ",C.jsx("span",{children:"Move to"})]}),C.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",children:[C.jsx(X_,{size:18,className:"text-gray-700"})," ",C.jsx("span",{children:"Sidekick"})]}),C.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",children:[C.jsx(C1e,{size:18,className:"text-gray-700"})," ",C.jsx("span",{children:"Apps"})]}),C.jsxs("button",{className:"flex items-center gap-2 hover:text-gray-900 whitespace-nowrap text-gray-700",onClick:J,children:[C.jsx(Ep,{size:18,className:"text-gray-700"})," ",C.jsx("span",{children:"Clear"})]})]})})})})}),C.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 w-full max-w-2xl px-4",children:C.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-full shadow-2xl border border-white/50 p-2 flex items-center gap-3 pl-5 transition-all focus-within:ring-4 ring-indigo-500/10",children:[C.jsx(UB,{className:"text-indigo-500 w-5 h-5 animate-pulse"}),C.jsx("input",{type:"text",value:i,onChange:Q=>a(Q.target.value),onKeyDown:Q=>Q.key==="Enter"&&G(),placeholder:"Ask AI to build a plan (e.g. 'Plan a product launch for next month')",className:"flex-1 bg-transparent focus:outline-none text-sm text-gray-800 py-2 placeholder-gray-500"}),C.jsx("button",{onClick:G,disabled:s||!i,className:"bg-indigo-600 text-white rounded-full px-6 py-2.5 text-sm font-medium hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all hover:shadow-lg flex items-center gap-2",children:s?C.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):C.jsx("span",{children:"Generate"})})]})})]})})},dxt="taskboard-state",hxt={Done:"#00C875","Working on it":"#FDAB3D",Stuck:"#E2445C"},Yie=n=>hxt[n||""]||"#cbd5e1",pxt=({refreshTrigger:n,onAddTask:e,onShowList:t,storageKey:r})=>{const i=r||dxt,[a,s]=de.useState(new Date),[o,l]=de.useState([]),[u,c]=de.useState("month"),[f,d]=de.useState(!1),h=()=>{try{const X=localStorage.getItem(i);if(!X)return[];const K=JSON.parse(X);if(!(K!=null&&K.groups))return[];const se=[];return K.groups.forEach(J=>{(J.tasks||[]).forEach(H=>{H!=null&&H.dueDate&&se.push({id:H.id,name:H.name||"Task",dueDate:H.dueDate,status:H.status,priority:H.priority})})}),se}catch(X){return console.warn("Failed to read board tasks for calendar",X),[]}};de.useEffect(()=>{l(h())},[n,i]);const p=()=>{if(u==="day")return{startDate:a,endDate:a};if(u==="4days")return{startDate:a,endDate:RD(a,3)};if(u==="week")return{startDate:Hv(a),endDate:wz(a)};const X=x0e(a),K=g0e(X);return{startDate:Hv(X),endDate:wz(K)}},{startDate:m,endDate:g}=p(),y=de.useMemo(()=>y0e({start:m,end:g}),[m,g]),_=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],S=u==="month"||u==="week"?7:u==="4days"?4:1;u==="month"||y.slice(0,S);const A=u==="month",M=de.useMemo(()=>Array.from({length:24},(X,K)=>{const se=K%12===0?12:K%12,J=K<12?"am":"pm";return`${se}${J}`}),[]),E=A?y:y.slice(0,S),D="160px",I=de.useMemo(()=>{const X={};return y.forEach(K=>{const se=fu(K,"yyyy-MM-dd");X[se]=[]}),o.forEach(K=>{const se=K.dueDate;X[se]&&X[se].push(K)}),X},[o,y]),N=()=>s(new Date),L=X=>{const K=X==="prev"?-1:1;return s(u==="day"?se=>RD(se,K):u==="4days"?se=>RD(se,K*4):u==="week"?se=>RD(se,K*7):se=>X==="prev"?w0e(se):Q7(se,1))},B={day:"Day","4days":"4 days",week:"Week",month:"Month"}[u],O=u==="month"?fu(a,"MMMM yyyy"):`${fu(m,"MMM d")}  ${fu(g,"MMM d, yyyy")}`,G=[{id:"day",label:"Day",hotkey:"D"},{id:"4days",label:"4 days",hotkey:"4"},{id:"week",label:"Week",hotkey:"W"},{id:"month",label:"Month",hotkey:"M"}],V=()=>({id:"board-1",name:"Task Board",columns:[{id:"col_name",title:"Item",type:"name",width:"300px"},{id:"col_person",title:"Owner",type:"person",width:"96px"},{id:"col_status",title:"Status",type:"status",width:"128px"},{id:"col_priority",title:"Priority",type:"priority",width:"128px"},{id:"col_date",title:"Due Date",type:"date",width:"110px"}],groups:[]}),q=()=>{try{const X=localStorage.getItem(i);if(!X)return V();const K=JSON.parse(X);return K!=null&&K.groups&&(K!=null&&K.columns)?K:V()}catch{return V()}},W=X=>{try{localStorage.setItem(i,JSON.stringify(X))}catch(K){console.warn("Failed to save board from calendar",K)}},Z=X=>{const K=q(),se=fu(X,"yyyy-MM-dd"),J=Array.isArray(K.groups)?K.groups:[],H=J[0]||{id:sv(),title:"New Group",color:"#579bfc",tasks:[]};J.length===0&&(K.groups=[H]);const ee={id:sv(),name:"New Item",status:"Working on it",priority:"Medium",dueDate:se,personId:null,textValues:{}};H.tasks=[...H.tasks||[],ee],W(K),l(h())};return C.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-100 rounded-2xl shadow-sm overflow-hidden relative",children:[C.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-200 bg-white",children:[C.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[C.jsx("button",{onClick:N,className:"px-3 py-1.5 rounded-md border border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700 font-medium",children:"Today"}),C.jsxs("div",{className:"relative",children:[C.jsxs("button",{className:"px-3 py-1.5 rounded-md border border-gray-200 bg-gray-50 text-gray-700 font-medium inline-flex items-center gap-1",onClick:()=>d(X=>!X),children:[B," ",C.jsx(wo,{size:14})]}),f&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),C.jsxs("div",{className:"absolute z-20 mt-2 w-44 bg-white rounded-xl shadow-xl border border-gray-200 p-3",children:[C.jsx("div",{className:"text-[11px] font-semibold text-gray-400 uppercase mb-2",children:"Time period"}),C.jsx("div",{className:"space-y-1",children:G.map(X=>C.jsxs("button",{onClick:()=>{c(X.id),d(!1)},className:`w-full flex items-center justify-between px-2.5 py-2 rounded-lg text-sm hover:bg-gray-50 ${u===X.id?"text-clickup-purple font-medium bg-purple-50/60":"text-gray-700"}`,children:[C.jsx("span",{children:X.label}),C.jsx("span",{className:"px-2 py-0.5 rounded border border-gray-200 text-[11px] text-gray-500 bg-gray-50",children:X.hotkey})]},X.id))})]})]})]}),C.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l border-gray-200 text-gray-800 font-semibold",children:[C.jsx("button",{onClick:()=>L("prev"),className:"p-1.5 rounded-md hover:bg-gray-100",children:C.jsx(yC,{size:16})}),C.jsx("span",{className:"text-base",children:O}),C.jsx("button",{onClick:()=>L("next"),className:"p-1.5 rounded-md hover:bg-gray-100",children:C.jsx(dc,{size:16})})]})]}),C.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[C.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-50",children:[C.jsx(xC,{size:16})," Search"]}),C.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-50",children:[C.jsx(T_e,{size:16})," Hide"]}),C.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-50",children:[C.jsx(dae,{size:16})," Customize"]}),C.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-md bg-clickup-purple text-white hover:bg-indigo-700 shadow-sm",onClick:()=>t?t():e==null?void 0:e(),children:[C.jsx(li,{size:16})," Add Task"]})]})]}),C.jsxs("div",{className:"flex items-center gap-3 px-5 py-2 border-b border-gray-200 text-xs text-gray-600 bg-gray-50/80",children:[C.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-full border border-gray-200 bg-white hover:border-gray-300",children:[C.jsx(CU,{size:12})," Filter"]}),C.jsx("button",{className:"px-2 py-1 rounded-full border border-gray-200 bg-white hover:border-gray-300",children:"Closed"}),C.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-full border border-gray-200 bg-white hover:border-gray-300",children:[C.jsx(CSe,{size:12})," Assignee"]}),C.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[C.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"}),C.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"}),C.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"})]}),C.jsxs("div",{className:"px-3 py-1 rounded-full border border-gray-200 bg-white text-gray-500 flex items-center gap-2",children:[C.jsx(xC,{size:12})," Search"]})]})]}),A?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"grid text-xs font-semibold text-gray-500 border-b border-gray-200 px-5 py-2 bg-white",style:{gridTemplateColumns:`repeat(${S}, minmax(0,1fr))`},children:_.map(X=>C.jsx("div",{className:"uppercase tracking-wide text-left",children:X},X))}),C.jsx("div",{className:"grid flex-1 bg-gray-100 gap-px relative",style:{gridTemplateColumns:`repeat(${S}, minmax(0,1fr))`,gridAutoRows:D},children:y.map(X=>{const K=fu(X,"yyyy-MM-dd"),se=I[K]||[],J=S0e(X,a),H=zI(X,new Date);return C.jsxs("div",{className:`bg-white p-3 flex flex-col border border-transparent hover:border-indigo-200 transition-colors ${J?"":"bg-gray-50 text-gray-400"}`,children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsx("div",{className:`text-sm font-medium ${H?"text-white bg-clickup-purple rounded-full px-2 py-1 shadow":"text-gray-700"}`,children:fu(X,"d")}),C.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-clickup-purple p-1 rounded",onClick:ee=>{ee.stopPropagation(),Z(X)},title:"Add task on this date",children:C.jsx(li,{size:14})})]}),C.jsx("div",{className:"space-y-1 overflow-y-auto custom-scrollbar pr-1",children:se.map(ee=>C.jsx("div",{className:"text-[11px] leading-4 px-2 py-1 rounded border flex items-center gap-2 shadow-[0_1px_3px_rgba(0,0,0,0.05)] cursor-pointer hover:border-clickup-purple/50",style:{borderLeft:`3px solid ${Yie(ee.status)}`},children:C.jsx("span",{className:"truncate text-gray-700",children:ee.name})},ee.id))})]},K)})})]}):C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"grid text-xs font-semibold text-gray-500 border-b border-gray-200 px-5 py-2 bg-white",style:{gridTemplateColumns:`repeat(${S}, minmax(0,1fr))`},children:E.map(X=>C.jsxs("div",{className:"text-left",children:[C.jsx("div",{className:"text-[11px] uppercase text-gray-400",children:fu(X,"EEE")}),C.jsx("div",{className:"text-sm text-gray-700 font-semibold",children:fu(X,"MMM d")})]},X.toISOString()))}),C.jsxs("div",{className:"flex flex-1 overflow-auto",children:[C.jsxs("div",{className:"w-20 border-r border-gray-200 text-[11px] text-gray-400 bg-white",children:[C.jsx("div",{className:"h-11 flex items-center justify-end pr-2 border-b border-gray-100",children:"All day"}),M.map((X,K)=>C.jsx("div",{className:`h-12 flex items-start justify-end pr-2 ${K===0?"border-t border-gray-100":""} border-b border-gray-100`,children:C.jsx("span",{className:"pt-1",children:X})},X))]}),C.jsx("div",{className:"flex-1 overflow-auto",children:C.jsx("div",{className:"grid min-w-full",style:{gridTemplateColumns:`repeat(${S}, minmax(200px, 1fr))`},children:E.map(X=>{const K=fu(X,"yyyy-MM-dd"),se=I[K]||[],J=zI(X,new Date);return C.jsxs("div",{className:"border-r border-gray-100 relative",children:[C.jsxs("div",{className:"h-11 border-b border-gray-100 flex items-center justify-between px-3 bg-white",children:[C.jsx("div",{className:`text-sm font-medium ${J?"text-clickup-purple":"text-gray-700"}`,children:fu(X,"d")}),C.jsx("button",{className:"text-gray-400 hover:text-clickup-purple p-1 rounded transition-colors",onClick:H=>{H.stopPropagation(),Z(X)},title:"Add task on this date",children:C.jsx(li,{size:14})})]}),se.length>0&&C.jsx("div",{className:"absolute left-3 right-3 top-2 z-10 space-y-1 pointer-events-none",children:se.map(H=>C.jsx("div",{className:"text-[11px] leading-4 px-2 py-1 rounded border shadow-[0_1px_3px_rgba(0,0,0,0.05)] bg-white",style:{borderLeft:`3px solid ${Yie(H.status)}`},children:C.jsx("span",{className:"truncate text-gray-700",children:H.name})},H.id))}),C.jsx("div",{className:"relative",children:M.map((H,ee)=>C.jsx("div",{className:"h-12 border-b border-gray-100 hover:bg-gray-50 transition-colors"},H))})]},K)})})})]})]}),C.jsxs("div",{className:"absolute top-28 right-3 flex flex-col items-center gap-2 text-[10px] text-gray-500",children:[C.jsxs("button",{className:"px-2 py-1 rounded-full bg-white border border-gray-200 shadow-sm flex items-center gap-1 hover:border-gray-300",children:[C.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400"})," Overdue"]}),C.jsxs("button",{className:"px-2 py-1 rounded-full bg-white border border-gray-200 shadow-sm flex items-center gap-1 hover:border-gray-300",children:[C.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"})," Unscheduled"]})]})]})};function rxe(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=rxe(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function vxt(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=rxe(n))&&(r&&(r+=" "),r+=e);return r}const VB=120,qie=[{id:"ai-brain",title:"AI Brain",description:"Generate ideas and content with a custom prompt",color:"#f1f0ff",size:"md",x:0,y:0},{id:"task-list",title:"Task List",description:"Create a List view using tasks from any location",color:"#f8f1ff",size:"md",x:1,y:0},{id:"workload-status",title:"Workload by Status",description:"Display a pie chart of your statuses usage",color:"#eaf7f5",size:"md",x:2,y:0},{id:"calc",title:"Calculation",description:"Calculate sums, averages, and more",color:"#fef8ef",size:"md",x:0,y:1},{id:"portfolio",title:"Portfolio",description:"Track progress across lists & folders",color:"#eef5ff",size:"md",x:1,y:1},{id:"assignee",title:"Tasks by Assignee",description:"Pie chart of tasks grouped by assignee",color:"#eef4ff",size:"md",x:2,y:1},{id:"notes",title:"Notes",description:"Add rich text, images, and links",color:"#fff7e6",size:"md",x:0,y:2},{id:"discussion",title:"Discussion",description:"Collaborate and chat with members",color:"#fff0f4",size:"md",x:1,y:2},{id:"bookmarks",title:"Bookmarks",description:"Quickly access important items",color:"#f0f6ff",size:"md",x:2,y:2}],mxt=({storageKey:n})=>{const[e,t]=de.useState([]),[r,i]=de.useState(null),[a,s]=de.useState({dx:0,dy:0}),[o,l]=de.useState(!1),u=de.useMemo(()=>{try{const y=localStorage.getItem(n);if(y){const _=JSON.parse(y);if(Array.isArray(_))return _}}catch(y){console.warn("Failed to load overview",y)}return qie.slice(0,3)},[n]);de.useEffect(()=>{t(u)},[u]),de.useEffect(()=>{try{localStorage.setItem(n,JSON.stringify(e))}catch(y){console.warn("Failed to save overview",y)}},[e,n]);const c=(y,_)=>{const S=y.currentTarget.getBoundingClientRect();i(_),s({dx:y.clientX-S.left,dy:y.clientY-S.top}),window.addEventListener("mousemove",f),window.addEventListener("mouseup",d)},f=de.useCallback(y=>{if(!r)return;const _=Math.max(0,Math.round((y.clientX-a.dx)/VB)),S=Math.max(0,Math.round((y.clientY-a.dy-120)/VB));t(A=>A.map(M=>M.id===r?{...M,x:_,y:S}:M))},[r,a.dx,a.dy]),d=de.useCallback(()=>{i(null),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)},[f]);de.useEffect(()=>()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)},[f,d]);const h=y=>{t(_=>_.filter(S=>S.id!==y))},p=y=>{t(_=>_.map(S=>S.id!==y?S:{...S,size:{sm:"md",md:"lg",lg:"sm"}[S.size]}))},m=y=>{e.find(_=>_.id===y.id)||(t(_=>[..._,{...y,x:_.length%3,y:Math.floor(_.length/3)}]),l(!1))},g=y=>{switch(y){case"lg":return"w-[360px] h-[220px]";case"md":return"w-[280px] h-[200px]";default:return"w-[220px] h-[180px]"}};return C.jsxs("div",{className:"h-full flex flex-col bg-white",children:[C.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Overview"}),C.jsx("p",{className:"text-xs text-gray-500",children:"Drag, drop, and resize cards to build your dashboard."})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{className:"px-3 py-2 rounded-md border border-gray-200 bg-white hover:border-gray-300 text-sm text-gray-700",onClick:()=>t([]),children:"Clear"}),C.jsx("button",{className:"px-4 py-2 rounded-md bg-clickup-purple text-white text-sm font-medium hover:bg-indigo-700 shadow-sm",onClick:()=>l(!0),children:"Add Card"})]})]}),C.jsx("div",{className:"flex-1 relative overflow-auto bg-gray-50",children:C.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-4",children:C.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${VB}px, 1fr))`,gap:16},children:e.map(y=>C.jsxs("div",{style:{gridColumnStart:y.x+1,gridRowStart:y.y+1},className:vxt("relative rounded-xl shadow-sm border border-gray-200 bg-white cursor-move select-none",g(y.size)),onMouseDown:_=>c(_,y.id),children:[C.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none",style:{background:y.color}}),C.jsxs("div",{className:"relative h-full flex flex-col p-3",children:[C.jsxs("div",{className:"flex items-start justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[C.jsx(AU,{size:14}),C.jsx("span",{className:"text-[11px] uppercase font-semibold text-gray-400",children:"Card"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:_=>{_.stopPropagation(),p(y.id)},title:"Resize",children:C.jsx(bbe,{size:14})}),C.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:_=>{_.stopPropagation(),h(y.id)},children:C.jsx(Ep,{size:14})})]})]}),C.jsxs("div",{className:"mt-auto",children:[C.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:y.title}),C.jsx("p",{className:"text-xs text-gray-600 mt-1",children:y.description})]})]})]},y.id))})})}),o&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:C.jsxs("div",{className:"bg-white w-[90vw] max-w-5xl h-[80vh] rounded-2xl shadow-2xl overflow-hidden flex",children:[C.jsxs("div",{className:"w-64 border-r border-gray-200 bg-gray-50",children:[C.jsxs("div",{className:"p-4 flex items-center gap-2 text-sm font-semibold text-gray-700",children:[C.jsx(li,{size:14})," Add Card"]}),C.jsx("div",{className:"space-y-1 px-2",children:["Featured","Overview","AI Cards","Custom","Sprints","Statuses","Tags","Assignees","Priorities","Time Tracking","Tables","Embeds and Apps"].map(y=>C.jsx("div",{className:"px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-white font-medium",children:y},y))}),C.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4 px-3 space-y-2 text-sm text-gray-500",children:[C.jsx("div",{children:"Help Docs"}),C.jsx("div",{children:"Dashboard Webinar"}),C.jsx("div",{children:"Dashboard Guide"})]})]}),C.jsxs("div",{className:"flex-1 flex flex-col",children:[C.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[C.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Featured"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"text",placeholder:"Search...",className:"w-64 border border-gray-200 rounded-md px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-clickup-purple/40"}),C.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>l(!1),children:C.jsx(Ep,{size:16})})]})]}),C.jsx("div",{className:"flex-1 overflow-auto p-6",children:C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:qie.map(y=>C.jsxs("button",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition flex flex-col text-left overflow-hidden",onClick:()=>m(y),children:[C.jsx("div",{className:"h-32",style:{background:y.color}}),C.jsxs("div",{className:"p-3 space-y-1",children:[C.jsx("div",{className:"text-sm font-semibold text-gray-800",children:y.title}),C.jsx("div",{className:"text-xs text-gray-500",children:y.description})]})]},y.id))})})]})]})})]})},gxt=({spaceName:n,spaceId:e})=>{const t=de.useMemo(()=>`space-views-${e}`,[e]),r=()=>{try{const D=localStorage.getItem(t);if(D){const I=JSON.parse(D);if(I!=null&&I.views)return I}}catch(D){console.warn("Failed to load saved views",D)}return{views:[],activeViewId:null}},i=[{id:"overview",type:"overview",name:"Overview",description:"Drag, resize, and track cards",icon:"",category:"popular"},{id:"list",type:"list",name:"List",description:"Track tasks, bugs, people & more",icon:"",category:"popular"},{id:"gantt",type:"placeholder",name:"Gantt",description:"Plan dependencies & time",icon:"",category:"popular"},{id:"calendar",type:"calendar",name:"Calendar",description:"Plan, schedule, & delegate",icon:"",category:"popular"},{id:"doc",type:"placeholder",name:"Doc",description:"Collaborate & document anything",icon:"",category:"popular"},{id:"board",type:"placeholder",name:"Board  Kanban",description:"Move tasks between columns",icon:"",category:"popular"},{id:"form",type:"placeholder",name:"Form",description:"Collect, track, & report data",icon:"",category:"popular"},{id:"table",type:"placeholder",name:"Table",description:"Structured table format",icon:"",category:"more"},{id:"dashboard",type:"placeholder",name:"Dashboard",description:"Track metrics & insights",icon:"",category:"more"},{id:"timeline",type:"placeholder",name:"Timeline",description:"See tasks by start & due date",icon:"",category:"more"},{id:"activity",type:"placeholder",name:"Activity",description:"Real-time activity feed",icon:"",category:"more"},{id:"workload",type:"placeholder",name:"Workload",description:"Visualize team capacity",icon:"",category:"more"},{id:"whiteboard",type:"placeholder",name:"Whiteboard",description:"Visualize & brainstorm ideas",icon:"",category:"more"},{id:"team",type:"placeholder",name:"Team",description:"Monitor work being done",icon:"",category:"more"},{id:"mindmap",type:"placeholder",name:"Mind Map",description:"Visual brainstorming of ideas",icon:"",category:"more"},{id:"map",type:"placeholder",name:"Map",description:"Tasks visualized by address",icon:"",category:"more"},{id:"chat",type:"placeholder",name:"Chat",description:"Communicate with your team",icon:"",category:"more"}],a=de.useMemo(()=>r(),[t]),[s,o]=de.useState(()=>{const D=a.views||[];return D.some(N=>N.id==="overview")?D:[i[0],...D]}),[l,u]=de.useState(()=>a.activeViewId||"overview"),[c,f]=de.useState(!1),[d,h]=de.useState(n),[p,m]=de.useState(null);de.useEffect(()=>{(async()=>{try{const N=(await aT.getSpaces()).find(L=>L.id===e);N&&h(N.name)}catch(I){console.error("Failed to load space name:",I)}})()},[e]);const g=(D,I)=>{try{localStorage.setItem(t,JSON.stringify({views:D,activeViewId:I}))}catch(N){console.warn("Failed to save views",N)}};de.useEffect(()=>{!l&&s.length>0&&u(s[0].id)},[l,s]),de.useEffect(()=>{g(s,l||null)},[s,l]);const y=(D,I)=>{D.preventDefault(),f(!1);const N=300,L=420,B=Math.min(Math.max(8,D.clientX),window.innerWidth-N-8),O=Math.min(Math.max(8,D.clientY),window.innerHeight-L-8);m({viewId:I,x:B,y:O})},_=D=>{const I=s.find(L=>L.id===D.id);if(I){u(I.id),f(!1);return}const N=[...s,D];o(N),u(D.id),f(!1)},S=()=>{const D=i.find(N=>N.id==="list");if(!D)return;const I=s.find(N=>N.id===D.id);I?u(I.id):_(D)},A=s.find(D=>D.id===l)||null,M=p?s.find(D=>D.id===p.viewId):null,E=D=>{o(I=>{const N=I.filter(L=>L.id!==D);return u(L=>{var B;return L===D?((B=N[0])==null?void 0:B.id)||null:L}),N}),m(null)};return C.jsxs("div",{className:"flex flex-col flex-1 bg-white",children:[p&&M&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>m(null),onContextMenu:D=>{D.preventDefault(),m(null)}}),C.jsxs("div",{className:"fixed z-40 w-[320px] bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",style:{top:p.y,left:p.x},children:[C.jsxs("div",{className:"py-1",children:[C.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[C.jsx(Dbe,{size:16,className:"text-gray-500"}),"Rename"]}),C.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[C.jsx(ibe,{size:16,className:"text-gray-500"}),"Copy link to view"]}),C.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[C.jsx(X_,{size:16,className:"text-gray-500"}),"Add to favorites"]}),C.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[C.jsx(_C,{size:16,className:"text-gray-500"}),"Customize view"]})]}),C.jsx("div",{className:"border-t border-gray-200 my-1"}),C.jsx("div",{className:"py-1",children:[{icon:Nbe,label:"Pin view"},{icon:fbe,label:"Private view"},{icon:qbe,label:"Protect view"},{icon:Ube,label:"Autosave for me"},{icon:tae,label:"Set as default view"}].map(D=>C.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[C.jsx(D.icon,{size:16,className:"text-gray-500"}),C.jsx("span",{className:"flex-1 text-left",children:D.label}),C.jsx("span",{className:"relative inline-flex h-5 w-9 items-center rounded-full bg-gray-200",children:C.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white shadow translate-x-[2px]"})})]},D.label))}),C.jsx("div",{className:"border-t border-gray-200 my-1"}),C.jsxs("div",{className:"py-1",children:[C.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[C.jsx(wf,{size:16,className:"text-gray-500"}),"Templates"]}),C.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[C.jsx(f_e,{size:16,className:"text-gray-500"}),"Duplicate view"]}),C.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>E(p.viewId),children:[C.jsx(vp,{size:16,className:"text-red-500"}),"Delete view"]})]}),C.jsx("div",{className:"border-t border-gray-200 my-1"}),C.jsxs("button",{className:"w-full flex items-center justify-center gap-3 px-4 py-3 text-sm font-medium text-white bg-clickup-purple hover:bg-indigo-700",disabled:!0,children:[C.jsx(cae,{size:16}),"Sharing & Permissions"]})]})]}),C.jsx("header",{className:"h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4 flex-shrink-0",children:C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[C.jsx("span",{children:"Space"}),C.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),C.jsx("span",{className:"font-medium text-gray-800",children:d})]}),C.jsx("div",{className:"h-6 w-px bg-gray-300"}),C.jsxs("div",{className:"flex items-center space-x-2",children:[s.map(D=>C.jsx("button",{className:`px-3 py-1.5 text-sm font-medium rounded transition-colors border-b-2 ${l===D.id?"text-gray-900 border-clickup-purple":"text-gray-500 border-transparent hover:text-gray-800"}`,onClick:()=>{u(D.id),m(null)},onContextMenu:I=>y(I,D.id),children:D.name},D.id)),C.jsxs("div",{className:"relative",children:[C.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1.5 text-sm font-medium text-clickup-purple hover:bg-purple-50 rounded transition-colors",onClick:()=>f(!c),children:[C.jsx(li,{size:14}),C.jsx("span",{children:"Add"})]}),c&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),C.jsxs("div",{className:"absolute top-full left-0 mt-2 w-[520px] bg-white rounded-lg shadow-2xl border border-gray-200 p-4 z-20 max-h-[600px] overflow-y-auto",children:[C.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Popular"}),C.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:i.filter(D=>D.category==="popular").map(D=>C.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>_(D),children:[C.jsx("span",{className:"text-2xl mr-3",children:D.icon}),C.jsxs("div",{children:[C.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name}),C.jsx("div",{className:"text-xs text-gray-500",children:D.description})]})]},D.id))}),C.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3 pt-2 border-t",children:"More views"}),C.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.filter(D=>D.category==="more").map(D=>C.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>_(D),children:[C.jsx("span",{className:"text-2xl mr-3",children:D.icon}),C.jsxs("div",{children:[C.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name}),C.jsx("div",{className:"text-xs text-gray-500",children:D.description})]})]},D.id))})]})]})]})]})]})}),C.jsxs("div",{className:"h-12 border-b border-gray-200 flex items-center px-4 gap-2 text-sm text-gray-600 bg-white",children:[C.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-gray-50",children:[C.jsx("span",{className:"text-gray-500",children:""})," Search"]}),C.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-gray-50",children:[C.jsx("span",{className:"text-gray-500",children:""})," Person"]}),C.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-gray-50",children:[C.jsx("span",{className:"text-gray-500",children:""})," Filter"]}),C.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-gray-50",children:[C.jsx("span",{className:"text-gray-500",children:""})," Sort"]}),C.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-gray-50",children:[C.jsx("span",{className:"text-gray-500",children:""})," Hide"]}),C.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-gray-50",children:[C.jsx("span",{className:"text-gray-500",children:""})," Group by"]}),C.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),C.jsx("button",{className:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-gray-50",children:" Automation"}),C.jsx("button",{className:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-gray-50",children:" Dashboard"}),C.jsx("button",{className:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-gray-50",children:" Export"}),C.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[C.jsx("button",{className:"px-3 py-1 rounded-md border border-gray-200 text-gray-600 hover:border-gray-300 bg-white",children:"Save view"}),C.jsx("button",{className:"px-3 py-1 rounded-md border border-gray-200 text-gray-600 hover:border-gray-300 bg-white",children:"Share"})]})]}),C.jsx("div",{className:"flex-1 overflow-hidden",children:A?A.type==="overview"?C.jsx(mxt,{storageKey:`overview-${e}`}):A.type==="list"?C.jsx(fxt,{storageKey:`taskboard-${e}`}):A.type==="calendar"?C.jsx("div",{className:"p-4 h-full",children:C.jsx(pxt,{refreshTrigger:l||"",onShowList:S,storageKey:`taskboard-${e}`})}):C.jsxs("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm",children:[A.name," view is coming soon."]}):C.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 gap-3",children:[C.jsx("div",{className:"text-lg font-semibold",children:"No views yet"}),C.jsx("p",{className:"text-sm text-gray-400",children:"Use Add to create a List or Calendar view."}),C.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-md bg-clickup-purple text-white hover:bg-indigo-700",onClick:()=>f(!0),children:[C.jsx(li,{size:14})," Add your first view"]})]})})]})},yxt=()=>{const e=de.useRef(null),t=de.useMemo(()=>new Vr,[]),r=de.useMemo(()=>{const i=[];for(let a=0;a<1e3;a++){const s=Math.random()*100,o=20+Math.random()*100,l=.01+Math.random()/200,u=-50+Math.random()*100,c=-50+Math.random()*100,f=-50+Math.random()*100;i.push({t:s,factor:o,speed:l,xFactor:u,yFactor:c,zFactor:f,mx:0,my:0})}return i},[1e3]);return MP(i=>{e.current&&(r.forEach((a,s)=>{let{t:o,factor:l,speed:u,xFactor:c,yFactor:f,zFactor:d}=a;o=a.t+=u/2;const h=Math.cos(o)+Math.sin(o*1)/10,p=Math.sin(o)+Math.cos(o*2)/10,m=Math.cos(o);a.mx+=(i.mouse.x*100-a.mx)*.01,a.my+=(i.mouse.y*100-a.my)*.01,t.position.set(a.mx/10*h+c+Math.cos(o/10*l)+Math.sin(o*1)*l/10,a.my/10*p+f+Math.sin(o/10*l)+Math.cos(o*2)*l/10,a.my/10*p+d+Math.cos(o/10*l)+Math.sin(o*3)*l/10),t.scale.set(m,m,m),t.rotation.set(m*5,m*5,m*5),t.updateMatrix(),e.current.setMatrixAt(s,t.matrix)}),e.current.instanceMatrix.needsUpdate=!0)}),C.jsxs("instancedMesh",{ref:e,args:[void 0,void 0,1e3],children:[C.jsx("sphereGeometry",{args:[.05,8,8]}),C.jsx("meshStandardMaterial",{color:"#88ccff",transparent:!0,opacity:.6,roughness:0,metalness:.1})]})},xxt=()=>C.jsxs("div",{className:"w-full h-full bg-[#001e36] relative overflow-hidden",children:[C.jsxs(yge,{camera:{position:[0,0,20],fov:50},children:[C.jsx("color",{attach:"background",args:["#001e36"]}),C.jsx("fog",{attach:"fog",args:["#001e36",5,40]}),C.jsx(xge,{enableDamping:!0,dampingFactor:.05,minDistance:5,maxDistance:30,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/3}),C.jsx("ambientLight",{intensity:.4,color:"#004466"}),C.jsx("directionalLight",{position:[0,50,0],intensity:1.5,color:"#ccffff"}),C.jsx("pointLight",{position:[0,10,0],intensity:1,color:"#00ffff",distance:20}),C.jsx(yxt,{}),C.jsx(_ge,{radius:50,depth:50,count:2e3,factor:2,saturation:0,fade:!0,speed:.5})]}),C.jsx("div",{className:"absolute top-8 right-8 text-right pointer-events-none select-none",children:C.jsx("h1",{className:"text-6xl font-thin tracking-[0.2em] text-cyan-100/20 uppercase drop-shadow-lg",children:"Deep Ocean"})})]}),_xt=[{name:"White",bg:"bg-white",border:"border-gray-200"},{name:"Blue",bg:"bg-blue-50",border:"border-blue-200"},{name:"Green",bg:"bg-green-50",border:"border-green-200"},{name:"Yellow",bg:"bg-yellow-50",border:"border-yellow-200"},{name:"Purple",bg:"bg-purple-50",border:"border-purple-200"},{name:"Red",bg:"bg-red-50",border:"border-red-200"}],Xie=[{name:"Yellow",bg:"bg-yellow-100",border:"border-yellow-200"},{name:"Blue",bg:"bg-blue-100",border:"border-blue-200"},{name:"Green",bg:"bg-green-100",border:"border-green-200"},{name:"Pink",bg:"bg-pink-100",border:"border-pink-200"}],Zie=[{id:"1",x:0,y:0,text:"Central Idea",color:"bg-white border-gray-200",width:180,height:60,type:"default"}],bxt=()=>{const[n,e]=de.useState(Zie),[t,r]=de.useState([]),[i,a]=de.useState(1),[s,o]=de.useState({x:0,y:0}),[l,u]=de.useState([{nodes:Zie,edges:[]}]),[c,f]=de.useState(0),d=de.useRef(n),h=de.useRef(t);de.useEffect(()=>{d.current=n},[n]),de.useEffect(()=>{h.current=t},[t]);const p=de.useRef({isDraggingCanvas:!1,dragStart:{x:0,y:0},draggingNodeId:null,nodeDragOffset:{x:0,y:0},connectingNodeId:null}),[m,g]=de.useState(null),[y,_]=de.useState(null),[S,A]=de.useState({x:0,y:0}),M=de.useRef(null),E=de.useRef(null),D=de.useRef(!1);de.useEffect(()=>{if(!D.current&&M.current){const ee=M.current.getBoundingClientRect();o({x:ee.width/2-90,y:ee.height/2-30}),D.current=!0}},[]);const I=de.useCallback(()=>{const ee=d.current,Q=h.current,ne={nodes:JSON.parse(JSON.stringify(ee)),edges:JSON.parse(JSON.stringify(Q))};u(ce=>{const ve=ce.slice(0,c+1);return ve.push(ne),ve}),f(ce=>ce+1)},[c]),N=de.useRef(I);de.useEffect(()=>{N.current=I},[I]);const L=()=>{if(c>0){const ee=l[c-1];e(ee.nodes),r(ee.edges),f(c-1)}},B=()=>{if(c<l.length-1){const ee=l[c+1];e(ee.nodes),r(ee.edges),f(c+1)}},O=de.useRef({offset:s,scale:i});de.useEffect(()=>{O.current={offset:s,scale:i}},[s,i]);const G=de.useCallback((ee,Q)=>{var xe;const ne=E.current||((xe=M.current)==null?void 0:xe.getBoundingClientRect());if(!ne)return{x:0,y:0};const{offset:ce,scale:ve}=O.current;return{x:(ee-ne.left-ce.x)/ve,y:(Q-ne.top-ce.y)/ve}},[]);de.useEffect(()=>{const ee=ne=>{const ce=p.current;if(!ce.isDraggingCanvas&&!ce.draggingNodeId&&!ce.connectingNodeId)return;ne.preventDefault();const ve=G(ne.clientX,ne.clientY);ce.connectingNodeId&&A(ve),ce.isDraggingCanvas?o({x:ne.clientX-ce.dragStart.x,y:ne.clientY-ce.dragStart.y}):ce.draggingNodeId&&e(xe=>xe.map(we=>we.id===ce.draggingNodeId?{...we,x:ve.x-ce.nodeDragOffset.x,y:ve.y-ce.nodeDragOffset.y}:we))},Q=()=>{const ne=p.current;ne.draggingNodeId&&setTimeout(()=>{N.current()},0),ne.isDraggingCanvas=!1,ne.draggingNodeId=null,ne.connectingNodeId=null,_(null),E.current=null};return window.addEventListener("mousemove",ee),window.addEventListener("mouseup",Q),()=>{window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",Q)}},[G]);const V=ee=>{if(M.current&&(E.current=M.current.getBoundingClientRect()),ee.button===1||ee.button===0&&ee.altKey||ee.button===0&&ee.shiftKey){p.current.isDraggingCanvas=!0,p.current.dragStart={x:ee.clientX-s.x,y:ee.clientY-s.y};return}g(null)},q=ee=>{if(ee.ctrlKey||ee.metaKey){ee.preventDefault();const Q=Math.exp(-ee.deltaY*.001),ne=Math.min(Math.max(.1,i*Q),5),ce=M.current.getBoundingClientRect(),ve=(ee.clientX-ce.left-s.x)/i,xe=(ee.clientY-ce.top-s.y)/i,we=ee.clientX-ce.left-ve*ne,Ae=ee.clientY-ce.top-xe*ne;a(ne),o({x:we,y:Ae})}else o(Q=>({x:Q.x-ee.deltaX,y:Q.y-ee.deltaY}))},W=(ee="default")=>{const Q=Date.now().toString();if(!M.current)return;const ne=M.current.getBoundingClientRect(),ce={x:(ne.left+ne.width/2-ne.left-s.x)/i,y:(ne.top+ne.height/2-ne.top-s.y)/i};let ve=180,xe=60,we="bg-white border-gray-200",Ae="New Node";if(ee==="circle"&&(ve=120,xe=120),ee==="diamond"&&(ve=140,xe=140),ee==="sticky"){ve=200,xe=200;const pe=Xie[Math.floor(Math.random()*Xie.length)];we=`${pe.bg} ${pe.border}`,Ae=""}ee==="text"&&(ve=200,xe=40,we="bg-transparent border-transparent",Ae="Type something...");const Ue={id:Q,x:ce.x-ve/2,y:ce.y-xe/2,text:Ae,color:we,width:ve,height:xe,type:ee};e(pe=>[...pe,Ue]),setTimeout(()=>N.current(),0)},Z=()=>{m&&(e(ee=>ee.filter(Q=>Q.id!==m)),r(ee=>ee.filter(Q=>Q.from!==m&&Q.to!==m)),g(null),setTimeout(()=>N.current(),0))},X=ee=>{m&&(e(Q=>Q.map(ne=>ne.id===m?{...ne,color:ee}:ne)),setTimeout(()=>N.current(),0))},K=(ee,Q)=>{ee.stopPropagation(),ee.preventDefault(),M.current&&(E.current=M.current.getBoundingClientRect()),g(Q.id),p.current.draggingNodeId=Q.id;const ne=G(ee.clientX,ee.clientY);p.current.nodeDragOffset={x:ne.x-Q.x,y:ne.y-Q.y}},se=(ee,Q)=>{ee.stopPropagation(),p.current.connectingNodeId=Q,_(Q)},J=(ee,Q)=>{ee.stopPropagation();const ne=p.current.connectingNodeId;ne&&ne!==Q&&(t.some(ve=>ve.from===ne&&ve.to===Q||ve.from===Q&&ve.to===ne)||(r(ve=>[...ve,{id:`${ne}-${Q}`,from:ne,to:Q}]),setTimeout(()=>N.current(),0))),p.current.connectingNodeId=null,_(null)},H=ee=>{const Q=`absolute flex items-center justify-center group cursor-grab active:cursor-grabbing ${ee.color} `,ne=m===ee.id?"ring-2 ring-brand-primary ring-offset-2 shadow-xl z-30":"shadow-sm hover:shadow-md z-10",ce=ee.type==="text"?"":"border";return ee.type==="circle"?`${Q} ${ce} rounded-full aspect-square ${ne}`:ee.type==="diamond"?`${Q} ${ce} rotate-45 rounded-xl aspect-square ${ne}`:ee.type==="sticky"?`${Q} ${ce} shadow-md rounded-sm ${ne} items-start p-4`:ee.type==="text"?`${Q} ${ne} justify-start px-2`:`${Q} ${ce} rounded-xl ${ne}`};return C.jsxs("div",{className:"flex-1 h-full bg-[#f8fafc] relative overflow-hidden flex flex-col font-sans",children:[C.jsxs("div",{ref:M,className:"flex-1 relative overflow-hidden bg-[#f8fafc]",onMouseDown:V,onWheel:q,style:{cursor:p.current.isDraggingCanvas?"grabbing":"default"},children:[C.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-40",style:{backgroundImage:"radial-gradient(#cbd5e1 1.5px, transparent 1.5px)",backgroundSize:`${24*i}px ${24*i}px`,backgroundPosition:`${s.x}px ${s.y}px`}}),C.jsxs("div",{style:{transform:`translate(${s.x}px, ${s.y}px) scale(${i})`,transformOrigin:"0 0",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:[C.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full overflow-visible pointer-events-none z-0",children:[Array.isArray(t)&&t.map(ee=>{const Q=n.find(xe=>xe.id===ee.from),ne=n.find(xe=>xe.id===ee.to);if(!Q||!ne)return null;const ce={x:Q.x+Q.width/2,y:Q.y+Q.height/2},ve={x:ne.x+ne.width/2,y:ne.y+ne.height/2};return C.jsx("path",{d:`M ${ce.x} ${ce.y} C ${ce.x} ${ce.y+50}, ${ve.x} ${ve.y-50}, ${ve.x} ${ve.y}`,stroke:"#94a3b8",strokeWidth:"2",fill:"none"},ee.id)}),y&&(()=>{const ee=n.find(Q=>Q.id===y);return ee?C.jsx("path",{d:`M ${ee.x+ee.width/2} ${ee.y+ee.height/2} L ${S.x} ${S.y}`,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"5,5",fill:"none"}):null})()]}),Array.isArray(n)&&n.map(ee=>C.jsxs("div",{className:H(ee),style:{left:ee.x,top:ee.y,width:ee.width,height:ee.height},onMouseDown:Q=>K(Q,ee),onMouseUp:Q=>J(Q,ee.id),children:[C.jsx("div",{className:ee.type==="diamond"?"-rotate-45 flex items-center justify-center w-full h-full":"w-full h-full",children:C.jsx("textarea",{value:ee.text,onChange:Q=>e(ne=>ne.map(ce=>ce.id===ee.id?{...ce,text:Q.target.value}:ce)),onBlur:()=>N.current(),className:`bg-transparent w-full h-full outline-none resize-none cursor-text text-gray-800 font-medium placeholder-gray-400 ${ee.type==="sticky"?"text-left text-lg p-2 leading-relaxed":ee.type==="text"?"text-left text-xl":"text-center flex items-center justify-center"}`,style:{border:"none",padding:ee.type==="default"?"0 10px":void 0},onClick:Q=>Q.stopPropagation(),placeholder:ee.type==="sticky"?"Type your note...":ee.type==="text"?"Type text...":"Label"})}),ee.type!=="text"&&C.jsx("div",{className:`absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white border border-gray-200 rounded-full shadow-md flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-crosshair hover:bg-brand-primary hover:text-white hover:border-brand-primary transition-all z-30 transform hover:scale-110 ${ee.type==="diamond"?"translate-x-4":""}`,onMouseDown:Q=>se(Q,ee.id),children:C.jsx(li,{size:12})})]},ee.id))]})]}),C.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex items-center space-x-4 z-50 pointer-events-none",children:[C.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl shadow-sm border border-gray-200 p-1 flex items-center space-x-1 pointer-events-auto",children:[C.jsx("button",{onClick:L,disabled:c<=0,className:"p-2 hover:bg-gray-50 rounded-lg text-gray-600 disabled:opacity-30 transition-colors",children:C.jsx(bSe,{size:18})}),C.jsx("button",{onClick:B,disabled:c>=l.length-1,className:"p-2 hover:bg-gray-50 rounded-lg text-gray-600 disabled:opacity-30 transition-colors",children:C.jsx(Lbe,{size:18})})]}),m&&C.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl shadow-sm border border-gray-200 p-1 flex items-center space-x-1 pointer-events-auto animate-in fade-in zoom-in duration-200",children:_xt.map(ee=>C.jsx("button",{onClick:()=>X(`${ee.bg} ${ee.border}`),className:`w-6 h-6 rounded-full border border-gray-200 ${ee.bg.replace("bg-","bg-")} hover:scale-110 transition-transform`,title:ee.name},ee.name))})]}),C.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 flex items-center space-x-2 z-50 animate-in slide-in-from-bottom-4 duration-300",children:[C.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[C.jsx("button",{onClick:()=>a(ee=>Math.max(.1,ee-.1)),className:"p-2 hover:bg-gray-50 rounded-lg text-gray-500 transition-colors",children:C.jsx(Sv,{size:18})}),C.jsxs("span",{className:"text-xs font-bold w-12 text-center text-gray-700",children:[Math.round(i*100),"%"]}),C.jsx("button",{onClick:()=>a(ee=>ee+.1),className:"p-2 hover:bg-gray-50 rounded-lg text-gray-500 transition-colors",children:C.jsx(li,{size:18})})]}),C.jsx("div",{className:"w-[1px] h-8 bg-gray-100"}),C.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[C.jsx("button",{onClick:()=>W("default"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Rectangle",children:C.jsx(hae,{size:20})}),C.jsx("button",{onClick:()=>W("circle"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Circle",children:C.jsx(t_e,{size:20})}),C.jsx("button",{onClick:()=>W("diamond"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Diamond",children:C.jsx(g_e,{size:20})}),C.jsx("button",{onClick:()=>W("sticky"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Sticky Note",children:C.jsx(uSe,{size:20})}),C.jsx("button",{onClick:()=>W("text"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Text",children:C.jsx(mae,{size:20})})]}),C.jsx("div",{className:"w-[1px] h-8 bg-gray-100"}),C.jsx("div",{className:"flex items-center space-x-1 px-2",children:C.jsx("button",{onClick:Z,disabled:!m,className:`p-2.5 rounded-xl transition-all group relative ${m?"hover:bg-red-50 text-gray-600 hover:text-red-500":"text-gray-300 cursor-not-allowed"}`,children:C.jsx(vp,{size:20})})})]}),C.jsx("div",{className:"absolute top-4 right-4 bg-white/80 backdrop-blur px-3 py-1.5 rounded-full text-[10px] font-medium text-gray-400 border border-gray-100 shadow-sm pointer-events-none select-none",children:"Hold Shift + Drag to pan"})]})},Sxt=[{id:"1",title:"Q4 Revenue Targets",progress:65,owner:"Max",color:"#7b68ee",dueDate:"2025-12-31"},{id:"2",title:"Launch Mobile App",progress:30,owner:"Team",color:"#e44356",dueDate:"2025-11-30"},{id:"3",title:"Hire 5 Engineers",progress:80,owner:"HR",color:"#22c55e",dueDate:"2025-10-15"}],Kie=()=>{const{showToast:n}=Du(),[e,t]=de.useState(Sxt),r=()=>{const i=prompt("Goal Name:");if(!i)return;const a={id:Date.now().toString(),title:i,progress:0,owner:"Me",color:"#3b82f6",dueDate:new Date().toISOString()};t([...e,a]),n("Goal created!","success")};return C.jsx("div",{className:"flex-1 flex flex-col bg-gray-50/50 p-8 overflow-y-auto h-full",children:C.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[C.jsxs("div",{className:"flex items-center justify-between mb-8",children:[C.jsxs("div",{children:[C.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[C.jsx(pae,{className:"mr-3 text-clickup-purple"})," Goals"]}),C.jsx("p",{className:"text-gray-500 mt-1",children:"Track your OKRs and high-level objectives."})]}),C.jsxs("button",{onClick:r,className:"px-4 py-2 bg-clickup-purple text-white rounded-lg font-medium hover:bg-indigo-600 transition-colors shadow-lg shadow-purple-200 flex items-center",children:[C.jsx(li,{size:18,className:"mr-2"})," New Goal"]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(i=>C.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow group cursor-pointer",children:[C.jsxs("div",{className:"flex items-start justify-between mb-4",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:text-clickup-purple group-hover:bg-purple-50 transition-colors",children:C.jsx(gSe,{size:20})}),C.jsx("button",{className:"text-gray-300 hover:text-gray-600",children:C.jsx(FA,{size:16})})]}),C.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 group-hover:text-clickup-purple transition-colors",children:i.title}),C.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-6",children:[C.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-600 font-medium mr-2",children:i.owner}),C.jsxs("span",{children:["Due ",new Date(i.dueDate).toLocaleDateString()]})]}),C.jsxs("div",{className:"relative pt-1",children:[C.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[C.jsx("div",{children:C.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-purple-600 bg-purple-200",children:"Progress"})}),C.jsx("div",{className:"text-right",children:C.jsxs("span",{className:"text-xs font-semibold inline-block text-purple-600",children:[i.progress,"%"]})})]}),C.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-purple-100",children:C.jsx("div",{style:{width:`${i.progress}%`,backgroundColor:i.color},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transition-all duration-1000 ease-out"})})]}),C.jsxs("div",{className:"flex items-center text-xs text-gray-400 mt-2",children:[C.jsx(Sc,{size:12,className:"mr-1 text-green-500"})," On Track"]})]},i.id)),C.jsxs("button",{onClick:r,className:"border-2 border-dashed border-gray-200 rounded-xl p-6 flex flex-col items-center justify-center text-gray-400 hover:border-clickup-purple hover:text-clickup-purple hover:bg-purple-50/50 transition-all min-h-[200px]",children:[C.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-50 flex items-center justify-center mb-3 group-hover:bg-white",children:C.jsx(li,{size:24})}),C.jsx("span",{className:"font-medium",children:"Create New Goal"})]})]})]})})},wxt=()=>C.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[C.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:C.jsx(wv,{size:64})}),C.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Overview Dashboard"}),C.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"Track high-level metrics and project health here. This module is currently being built."})]}),Txt=[{id:"1",name:"TechSolutions Inc.",category:"Electronics",rating:4.8,reviews:1240,description:"Premium supplier of office electronics, monitors, and peripherals.",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$500"},{id:"2",name:"GreenLeaf Office Supplies",category:"Office Supplies",rating:4.5,reviews:856,description:"Eco-friendly paper, pens, and general office consumables.",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$100"},{id:"3",name:"BuildRight Construction",category:"Construction",rating:4.9,reviews:2100,description:"Heavy machinery rentals and construction material supply.",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"3-5 days",minOrder:"$5000"},{id:"4",name:"CleanMaster Services",category:"Services",rating:4.2,reviews:430,description:"Professional cleaning services for corporate offices.",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Scheduled",minOrder:"Contract"},{id:"5",name:"Global Logistics Co.",category:"Logistics",rating:4.6,reviews:920,description:"International shipping and freight forwarding solutions.",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Varies",minOrder:"$1000"},{id:"6",name:"SecureGuard Systems",category:"Security",rating:4.7,reviews:650,description:"Security cameras, access control systems, and monitoring.",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$2000"},{id:"7",name:"FreshFoods Catering",category:"Food & Beverage",rating:4.4,reviews:320,description:"Corporate catering and pantry stocking services.",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Daily",minOrder:"$200"},{id:"8",name:"PrintPro Solutions",category:"Printing",rating:4.3,reviews:510,description:"High-volume printing, marketing materials, and signage.",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$50"},{id:"9",name:"RapidCourier",category:"Logistics",rating:4.1,reviews:215,description:"Local courier services for documents and small packages.",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-4 hours",minOrder:"$20"},{id:"10",name:"OfficeComfort Furniture",category:"Office Supplies",rating:4.7,reviews:1100,description:"Ergonomic chairs, desks, and office furniture solutions.",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$500"},{id:"11",name:"SparkleClean Janitorial",category:"Services",rating:4,reviews:150,description:"Daily janitorial services for small to medium businesses.",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Daily",minOrder:"$100"},{id:"12",name:"EventMasters",category:"Services",rating:4.9,reviews:890,description:"Full-service corporate event planning and management.",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Scheduled",minOrder:"$5000"},{id:"13",name:"SafeHands Security",category:"Security",rating:4.5,reviews:420,description:"Manned guarding and security patrol services.",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"Contract"},{id:"14",name:"GourmetDelights",category:"Food & Beverage",rating:4.8,reviews:560,description:"Premium snacks, coffee, and beverages for office pantries.",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Weekly",minOrder:"$150"},{id:"15",name:"ConstructCo Materials",category:"Construction",rating:4.3,reviews:780,description:"Bulk supply of cement, steel, and other raw materials.",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"2-3 days",minOrder:"$2000"}],iT=[{id:1,title:"Summer Construction Sale",subtitle:"Up to 30% off on raw materials",image:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&w=1200&q=80",color:"from-orange-500 to-red-500"},{id:2,title:"Premium Office Furniture",subtitle:"Transform your workspace today",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=1200&q=80",color:"from-blue-500 to-indigo-500"},{id:3,title:"Eco-Friendly Supplies",subtitle:"Sustainable solutions for your business",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?auto=format&fit=crop&w=1200&q=80",color:"from-green-500 to-emerald-500"}],Cxt=[{id:1,name:"Portland Cement",price:"$12/bag",supplier:"ConstructCo",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80"},{id:2,name:"Steel Rebar",price:"$450/ton",supplier:"MetalWorks",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80"},{id:3,name:"Office Paper A4",price:"$45/box",supplier:"GreenLeaf",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80"},{id:4,name:"Ergonomic Chair",price:"$250/unit",supplier:"OfficeComfort",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80"},{id:5,name:"Safety Helmets",price:"$25/unit",supplier:"SafeGear",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80"},{id:6,name:"Copper Wire",price:"$8/m",supplier:"TechSolutions",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80"}],Axt=["All","Electronics","Office Supplies","Construction","Services","Logistics","Security","Food & Beverage","Printing"],Mxt=()=>{const{showToast:n}=Du(),[e,t]=de.useState("All"),[r,i]=de.useState(""),[a,s]=de.useState(Txt),[o,l]=de.useState(0),[u,c]=de.useState(1),f=12,d=()=>l(m=>(m+1)%iT.length),h=()=>l(m=>(m-1+iT.length)%iT.length),p=a.filter(m=>{const g=e==="All"||m.category===e,y=m.name.toLowerCase().includes(r.toLowerCase())||m.description.toLowerCase().includes(r.toLowerCase());return g&&y});return C.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 overflow-hidden font-sans text-gray-800",children:[C.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shrink-0 z-20 shadow-sm",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Local Marketplace"}),C.jsx("div",{className:"h-6 w-[1px] bg-gray-200 hidden md:block"}),C.jsxs("div",{className:"hidden md:flex items-center text-gray-500 text-sm hover:text-gray-900 cursor-pointer transition-colors bg-gray-50 px-3 py-1.5 rounded-lg border border-gray-100 hover:border-gray-300",children:[C.jsx(RU,{size:16,className:"mr-2 text-clickup-purple"}),C.jsx("span",{className:"font-medium",children:"Riyadh, SA"}),C.jsx(wo,{size:14,className:"ml-2 opacity-50"})]})]}),C.jsx("div",{className:"flex items-center space-x-4 flex-1 max-w-xl mx-4 md:mx-8",children:C.jsxs("div",{className:"relative flex-1 group",children:[C.jsx(xC,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-clickup-purple transition-colors"}),C.jsx("input",{type:"text",placeholder:"Search for suppliers, services, or products...",className:"w-full bg-gray-100 border border-transparent focus:bg-white focus:border-clickup-purple/50 focus:ring-4 focus:ring-clickup-purple/10 rounded-xl pl-10 pr-4 py-2.5 text-sm transition-all outline-none placeholder:text-gray-400",value:r,onChange:m=>i(m.target.value)})]})}),C.jsx("div",{className:"flex items-center space-x-3",children:C.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 rounded-lg text-sm font-medium text-gray-700 transition-all active:scale-95",children:[C.jsx(CU,{size:16}),C.jsx("span",{className:"hidden md:inline",children:"Filters"})]})})]}),C.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[C.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-6 overflow-y-auto hidden lg:block shrink-0",children:[C.jsxs("div",{className:"mb-8",children:[C.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Categories"}),C.jsx("ul",{className:"space-y-1",children:Axt.map(m=>C.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-lg cursor-pointer text-sm transition-all ${e===m?"bg-purple-50 text-clickup-purple font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>t(m),children:[C.jsx("span",{children:m}),e===m&&C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-clickup-purple"})]},m))})]}),C.jsxs("div",{className:"mb-8",children:[C.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Rating"}),C.jsx("div",{className:"space-y-2",children:[4,3,2,1].map(m=>C.jsxs("div",{className:"flex items-center group cursor-pointer px-2 py-1 rounded hover:bg-gray-50",children:[C.jsx("div",{className:"flex text-yellow-400 mr-2",children:[...Array(5)].map((g,y)=>C.jsx(X_,{size:14,fill:y<m?"currentColor":"none",className:y<m?"":"text-gray-200"},y))}),C.jsx("span",{className:"text-sm text-gray-500 group-hover:text-gray-700",children:"& Up"})]},m))})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Price Range"}),C.jsx("div",{className:"flex gap-2",children:["$","$$","$$$"].map(m=>C.jsx("button",{className:"flex-1 px-3 py-1.5 border border-gray-200 rounded-md text-sm text-gray-600 hover:border-clickup-purple hover:text-clickup-purple transition-colors",children:m},m))})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-gray-50/50",children:[C.jsxs("div",{className:"mb-8 space-y-6",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[C.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Total Spend"}),C.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"$124.5k"}),C.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded-full w-fit",children:[C.jsx(Sc,{size:12,className:"mr-1"}),"+12.5%"]})]}),C.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:C.jsx(Iy,{size:24})})]}),C.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Active Suppliers"}),C.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"48"}),C.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded-full w-fit",children:[C.jsx(Sc,{size:12,className:"mr-1"}),"+4 new"]})]}),C.jsx("div",{className:"p-3 bg-purple-50 rounded-xl text-purple-600",children:C.jsx(mp,{size:24})})]}),C.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Open Orders"}),C.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"15"}),C.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-yellow-600 bg-yellow-50 px-2 py-0.5 rounded-full w-fit",children:[C.jsx($y,{size:12,className:"mr-1"}),"3 pending"]})]}),C.jsx("div",{className:"p-3 bg-orange-50 rounded-xl text-orange-600",children:C.jsx(IU,{size:24})})]}),C.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Avg Rating"}),C.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"4.8"}),C.jsx("div",{className:"flex items-center mt-2 text-xs font-medium text-gray-500",children:"Based on 1.2k reviews"})]}),C.jsx("div",{className:"p-3 bg-yellow-50 rounded-xl text-yellow-600",children:C.jsx(X_,{size:24,fill:"currentColor"})})]})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[C.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm lg:col-span-1",children:[C.jsxs("div",{className:"flex items-center justify-between mb-6",children:[C.jsx("h3",{className:"font-bold text-gray-800",children:"Spend by Category"}),C.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:C.jsx(dae,{size:16})})]}),C.jsxs("div",{className:"flex items-center justify-center relative h-48",children:[C.jsx("div",{className:"w-40 h-40 rounded-full",style:{background:"conic-gradient(#7B68EE 0% 35%, #3B82F6 35% 60%, #10B981 60% 80%, #F59E0B 80% 100%)"}}),C.jsxs("div",{className:"absolute w-28 h-28 bg-white rounded-full flex items-center justify-center flex-col",children:[C.jsx("span",{className:"text-xs text-gray-400",children:"Total"}),C.jsx("span",{className:"font-bold text-gray-800",children:"$124k"})]})]}),C.jsxs("div",{className:"mt-6 space-y-3",children:[C.jsxs("div",{className:"flex items-center justify-between text-sm",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"w-3 h-3 rounded-full bg-clickup-purple mr-2"}),"Electronics"]}),C.jsx("span",{className:"font-medium text-gray-700",children:"35%"})]}),C.jsxs("div",{className:"flex items-center justify-between text-sm",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),"Services"]}),C.jsx("span",{className:"font-medium text-gray-700",children:"25%"})]}),C.jsxs("div",{className:"flex items-center justify-between text-sm",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),"Supplies"]}),C.jsx("span",{className:"font-medium text-gray-700",children:"20%"})]}),C.jsxs("div",{className:"flex items-center justify-between text-sm",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),"Other"]}),C.jsx("span",{className:"font-medium text-gray-700",children:"20%"})]})]})]}),C.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm lg:col-span-2",children:[C.jsxs("div",{className:"flex items-center justify-between mb-6",children:[C.jsx("h3",{className:"font-bold text-gray-800",children:"Monthly Procurement Activity"}),C.jsx("div",{className:"flex items-center space-x-2",children:C.jsx("span",{className:"text-xs text-gray-400",children:"Last 6 Months"})})]}),C.jsx("div",{className:"h-64 flex items-end justify-between space-x-4 px-2",children:["May","Jun","Jul","Aug","Sep","Oct"].map((m,g)=>{const y=[40,65,45,80,55,90][g];return C.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[C.jsx("div",{className:"w-full relative flex items-end h-52 bg-gray-50 rounded-t-lg overflow-hidden",children:C.jsx("div",{className:"w-full bg-clickup-purple/80 group-hover:bg-clickup-purple transition-all duration-500 rounded-t-lg relative",style:{height:`${y}%`},children:C.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:["$",y*1.5,"k"]})})}),C.jsx("span",{className:"text-xs text-gray-400 mt-3 font-medium",children:m})]},m)})})]})]})]}),C.jsxs("div",{className:"mb-8 relative rounded-2xl overflow-hidden h-40 shadow-sm",children:[C.jsx("img",{src:"https://images.unsplash.com/photo-1586864387967-d02ef85d93e8?auto=format&fit=crop&w=1200&q=80",alt:"Marketplace Banner",className:"w-full h-full object-cover"}),C.jsxs("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-transparent flex flex-col justify-center px-8 text-white",children:[C.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Find Trusted Local Suppliers"}),C.jsx("p",{className:"text-sm opacity-90 max-w-md",children:"Connect with top-rated vendors in your area for all your business needs."})]})]}),C.jsxs("div",{className:"flex items-center justify-between mb-6",children:[C.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:[e==="All"?"All Suppliers":e,C.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-400",children:["(",p.length," results)"]})]}),C.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[C.jsx("span",{children:"Sort by:"}),C.jsxs("button",{className:"font-medium text-gray-800 flex items-center hover:text-clickup-purple",children:["Recommended ",C.jsx(wo,{size:14,className:"ml-1"})]})]})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6 mb-8",children:p.slice((u-1)*f,u*f).map(m=>C.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg hover:border-purple-100 transition-all duration-300 group flex flex-col",children:[C.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[C.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),C.jsx("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-2.5 py-1 text-[10px] font-bold rounded-full text-gray-700 shadow-sm border border-white/50",children:m.deliveryTime}),C.jsx("div",{className:"absolute top-3 left-3 bg-black/50 backdrop-blur-md px-2.5 py-1 text-[10px] font-bold rounded-full text-white shadow-sm",children:m.category})]}),C.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[C.jsxs("div",{className:"flex justify-between items-start mb-2",children:[C.jsx("h3",{className:"text-base font-bold text-gray-900 group-hover:text-clickup-purple transition-colors line-clamp-1",children:m.name}),C.jsxs("div",{className:"flex items-center bg-yellow-50 px-1.5 py-0.5 rounded text-yellow-700 border border-yellow-100",children:[C.jsx(X_,{size:10,fill:"currentColor",className:"mr-1"}),C.jsx("span",{className:"text-xs font-bold",children:m.rating})]})]}),C.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2 flex-1 leading-relaxed",children:m.description}),C.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4 pt-4 border-t border-gray-50",children:[C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Min Order"}),C.jsx("span",{className:"font-medium text-gray-700",children:m.minOrder})]}),C.jsxs("div",{className:"flex flex-col items-end",children:[C.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Reviews"}),C.jsx("span",{className:"font-medium text-gray-700",children:m.reviews})]})]}),C.jsxs("button",{className:"w-full bg-gray-900 hover:bg-clickup-purple text-white py-2.5 rounded-xl text-sm font-medium shadow-sm hover:shadow-md active:scale-[0.98] transition-all flex items-center justify-center group-hover:bg-clickup-purple",onClick:()=>n(`Request sent to ${m.name}`,"success"),children:[C.jsx("span",{children:"Connect Supplier"}),C.jsx(x1e,{size:14,className:"ml-2 opacity-70"})]})]})]},m.id))}),p.length>f&&C.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-12",children:[C.jsx("button",{className:`p-2 rounded-lg border ${u===1?"bg-gray-50 text-gray-300 border-gray-100 cursor-not-allowed":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>c(m=>Math.max(m-1,1)),disabled:u===1,children:C.jsx(yC,{size:18})}),[...Array(Math.ceil(p.length/f))].map((m,g)=>C.jsx("button",{className:`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${u===g+1?"bg-clickup-purple text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>c(g+1),children:g+1},g)),C.jsx("button",{className:`p-2 rounded-lg border ${u===Math.ceil(p.length/f)?"bg-gray-50 text-gray-300 border-gray-100 cursor-not-allowed":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>c(m=>Math.min(m+1,Math.ceil(p.length/f))),disabled:u===Math.ceil(p.length/f),children:C.jsx(dc,{size:18})})]}),C.jsxs("div",{className:"mb-8 relative group rounded-2xl overflow-hidden h-48 md:h-64 shadow-md",children:[C.jsx("div",{className:"absolute inset-0 flex transition-transform duration-500 ease-out",style:{transform:`translateX(-${o*100}%)`},children:iT.map(m=>C.jsxs("div",{className:"w-full h-full flex-shrink-0 relative",children:[C.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover"}),C.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${m.color} opacity-80 mix-blend-multiply`}),C.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-8 md:px-16 text-white",children:[C.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2",children:m.title}),C.jsx("p",{className:"text-lg md:text-xl opacity-90",children:m.subtitle}),C.jsx("button",{className:"mt-6 bg-white text-gray-900 px-6 py-2 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors w-fit",children:"Explore Now"})]})]},m.id))}),C.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 backdrop-blur-sm p-2 rounded-full text-white transition-all opacity-0 group-hover:opacity-100",children:C.jsx(yC,{size:24})}),C.jsx("button",{onClick:d,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 backdrop-blur-sm p-2 rounded-full text-white transition-all opacity-0 group-hover:opacity-100",children:C.jsx(dc,{size:24})}),C.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:iT.map((m,g)=>C.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${o===g?"bg-white w-6":"bg-white/50"}`},g))})]}),C.jsxs("div",{className:"mb-8",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center",children:[C.jsx(NU,{size:20,className:"mr-2 text-clickup-purple"}),"Featured Materials"]}),C.jsx("button",{className:"text-sm text-clickup-purple hover:underline font-medium",children:"View All"})]}),C.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Cxt.map(m=>C.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all group cursor-pointer",children:[C.jsx("div",{className:"h-24 bg-gray-100 relative overflow-hidden",children:C.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),C.jsxs("div",{className:"p-3",children:[C.jsx("h3",{className:"text-sm font-bold text-gray-800 truncate",title:m.name,children:m.name}),C.jsx("p",{className:"text-xs text-gray-500 truncate",children:m.supplier}),C.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[C.jsx("span",{className:"text-xs font-bold text-clickup-purple bg-purple-50 px-1.5 py-0.5 rounded",children:m.price}),C.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 hover:bg-clickup-purple hover:text-white transition-colors",children:C.jsx(Z1e,{size:12})})]})]})]},m.id))})]})]})]})]})},Ext=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>{var S,A,M,E,D;const[a,s]=de.useState(null),[o,l]=de.useState("select-table"),[u,c]=de.useState(null),[f,d]=de.useState({}),h=()=>{if(n.includes("/analytics")){const I=n.replace("/analytics","/data");return(e[I]||[]).filter(L=>L.type==="custom-table")}return[]},p=I=>{s(I),l("select-table"),c(null),d({})},m=I=>{c(I),l("configure");const N=h().find(L=>L.id===I);if(N){const L=N.columns.find(O=>O.type==="text"),B=N.columns.find(O=>O.type==="number");d({xAxisColumn:(L==null?void 0:L.id)||"",yAxisColumn:(B==null?void 0:B.id)||"",aggregation:"count"})}},g=()=>{if(a&&u){const I=h().find(N=>N.id===u);i&&i(a,{sourceTableId:u,title:(I==null?void 0:I.title)||"Connected Widget",config:f,subtext:f.aggregation==="sum"?"Total Value":"Count of records",trend:{value:"+12.5%",direction:"up"}})}s(null)},y=()=>h().find(I=>I.id===u),_=()=>t.find(I=>I.id===a);return C.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50/50 overflow-y-auto relative",children:[a&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-200 animate-in zoom-in-95 duration-200 flex flex-col max-h-[80vh]",children:[C.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[C.jsx("h3",{className:"font-semibold text-gray-800",children:o==="select-table"?"Select Data Source":"Configure Data"}),C.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:C.jsx(Sv,{size:18,className:"rotate-45"})})]}),C.jsx("div",{className:"p-0 overflow-y-auto flex-1",children:o==="select-table"?C.jsx("div",{className:"p-2",children:h().length===0?C.jsxs("div",{className:"p-8 text-center flex flex-col items-center text-gray-500",children:[C.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:C.jsx(yy,{size:24,className:"text-gray-400"})}),C.jsx("p",{className:"font-medium",children:"No tables found"}),C.jsx("p",{className:"text-sm mt-1",children:"Create a table in the Data section first."})]}):C.jsx("div",{className:"space-y-1",children:h().map(I=>{var N;return C.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-blue-50 rounded-lg group transition-colors flex items-center justify-between border border-transparent hover:border-blue-100",onClick:()=>m(I.id),children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center mr-3 group-hover:bg-blue-200 transition-colors",children:C.jsx(kU,{size:16})}),C.jsxs("div",{children:[C.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:I.title||"Untitled Table"}),C.jsxs("div",{className:"text-xs text-gray-500",children:[((N=I.rows)==null?void 0:N.length)||0," records"]})]})]}),C.jsx("div",{className:"opacity-0 group-hover:opacity-100 text-blue-600 transition-opacity",children:C.jsx(Zd,{size:16})})]},I.id)})})}):C.jsxs("div",{className:"p-6 space-y-6",children:[((S=_())==null?void 0:S.type)==="chart"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X Axis (Category)"}),C.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.xAxisColumn,onChange:I=>d({...f,xAxisColumn:I.target.value}),children:[C.jsx("option",{value:"",children:"Select Column..."}),(A=y())==null?void 0:A.columns.map(I=>C.jsx("option",{value:I.id,children:I.name},I.id))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y Axis (Value)"}),C.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.yAxisColumn,onChange:I=>d({...f,yAxisColumn:I.target.value}),children:[C.jsx("option",{value:"",children:"Select Column..."}),(M=y())==null?void 0:M.columns.map(I=>C.jsx("option",{value:I.id,children:I.name},I.id))]})]})]}),((E=_())==null?void 0:E.type)==="kpi-card"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metric"}),C.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.aggregation,onChange:I=>d({...f,aggregation:I.target.value}),children:[C.jsx("option",{value:"count",children:"Count of Records"}),C.jsx("option",{value:"sum",children:"Sum of Column"}),C.jsx("option",{value:"avg",children:"Average of Column"})]})]}),f.aggregation!=="count"&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Column"}),C.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.yAxisColumn,onChange:I=>d({...f,yAxisColumn:I.target.value}),children:[C.jsx("option",{value:"",children:"Select Column..."}),(D=y())==null?void 0:D.columns.filter(I=>I.type==="number").map(I=>C.jsx("option",{value:I.id,children:I.name},I.id))]})]})]})]})}),C.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 text-xs text-gray-500 flex justify-between items-center",children:o==="select-table"?C.jsxs(C.Fragment,{children:[C.jsx("span",{children:"Select a table to link."}),C.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>s(null),children:"Cancel"})]}):C.jsxs(C.Fragment,{children:[C.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>l("select-table"),children:"Back"}),C.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",onClick:g,children:"Finish"})]})})]})}),C.jsxs("div",{className:"p-8 w-full overflow-x-auto",children:[C.jsx("div",{className:"grid grid-cols-12 gap-4 min-w-[1000px] grid-auto-rows-[minmax(175px,auto)]",children:t.map(I=>{if(I.type==="custom-table")return C.jsx("div",{className:"col-span-12",children:C.jsx(_ae,{...I,onDelete:()=>r&&r(I.id),onRenameTable:N=>i&&i(I.id,{title:N}),onRenameColumn:(N,L)=>{const B=I.columns.map(O=>O.id===N?{...O,name:L}:O);i&&i(I.id,{columns:B})},onAddColumn:()=>{const N={id:Math.random().toString(36).substr(2,9),name:"New Column",type:"text",width:150};i&&i(I.id,{columns:[...I.columns,N]})},onUpdateColumnType:(N,L)=>{const B=I.columns.map(O=>O.id===N?{...O,type:L}:O);i&&i(I.id,{columns:B})},onDeleteColumn:N=>{const L=I.columns.filter(B=>B.id!==N);i&&i(I.id,{columns:L})},onUpdateColumnColor:(N,L)=>{const B=I.columns.map(O=>O.id===N?{...O,color:L}:O);i&&i(I.id,{columns:B})},onUpdateRow:(N,L)=>{const B=I.rows||[],O=B.some(V=>V.id===N);let G;O?G=B.map(V=>V.id===N?{...V,data:L}:V):G=[...B,{id:N,data:L}],i&&i(I.id,{rows:G})}})},I.id);if(I.type==="kpi-card"){const L={DollarSign:Iy,Users:mp,ShoppingBag:IU,Activity:yy}[I.icon]||yy;let B=I.value;if(I.sourceTableId){const V=n.replace("/analytics","/data"),W=(e[V]||[]).find(Z=>Z.id===I.sourceTableId);if(W){const Z=I.config||{aggregation:"count"};if(Z.aggregation==="count")B=(W.rows||[]).length.toString();else if(Z.aggregation==="sum"&&Z.yAxisColumn)B=(W.rows||[]).reduce((K,se)=>{const J=parseFloat(se.data[Z.yAxisColumn])||0;return K+J},0).toLocaleString();else if(Z.aggregation==="avg"&&Z.yAxisColumn){const X=W.rows||[];X.length>0?B=(X.reduce((se,J)=>{const H=parseFloat(J.data[Z.yAxisColumn])||0;return se+H},0)/X.length).toFixed(1):B="0"}else B=(W.rows||[]).length.toString()}}const O=I.layoutGroup&&I.layoutPosition<=4;let G={};return O&&(G={1:{gridColumn:"1 / 4",gridRow:"1"},2:{gridColumn:"4 / 7",gridRow:"1"},3:{gridColumn:"1 / 4",gridRow:"2"},4:{gridColumn:"4 / 7",gridRow:"2"}}[I.layoutPosition]),C.jsxs("div",{className:`relative group w-full h-full ${O?"":"col-span-3"}`,style:O?G:{},children:[C.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:C.jsx("button",{onClick:()=>r&&r(I.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:C.jsx(Sv,{size:12})})}),C.jsx(bae,{title:I.title,value:B,icon:L,trend:I.trend,subtext:I.subtext,isEmpty:!I.value&&!I.sourceTableId,onConnect:()=>p(I.id),onTitleChange:V=>i&&i(I.id,{title:V})})]},I.id)}if(I.type==="chart"){let N=null;if(I.sourceTableId){const W=n.replace("/analytics","/data"),X=(e[W]||[]).find(K=>K.id===I.sourceTableId);if(X&&X.rows&&X.rows.length>0){const K=I.config||{},se=K.xAxisColumn,J=K.yAxisColumn,H=X.columns||[],ee=se?H.find(ne=>ne.id===se):H.find(ne=>ne.type==="text"),Q=J?H.find(ne=>ne.id===J):H.find(ne=>ne.type==="number");if(ee){const ne=X.rows.map(ve=>ve.data[ee.id]||"Unknown");let ce;Q?ce=X.rows.map(ve=>parseFloat(ve.data[Q.id])||0):ce=X.rows.map(()=>1),N={categories:ne,values:ce}}}}const L=t.filter(W=>W.type==="chart").map(W=>W.id),B=L.length,O=B>=3?4:6,G=I.id===L[0],V=I.layoutGroup&&I.layoutPosition===5;let q={};return V?q={gridColumn:"7 / 13",gridRow:"1 / 3"}:G&&B>=3?q={gridColumn:`1 / span ${O}`}:q={gridColumn:`span ${O} / span ${O}`},C.jsxs("div",{className:`row-span-2 min-h-[350px] relative group transition-all duration-300 ${G&&B>=3&&!V?"col-start-1":""}`,style:q,children:[C.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:C.jsx("button",{onClick:()=>r&&r(I.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:C.jsx(Sv,{size:12})})}),C.jsx(Hde,{title:I.title,type:I.chartType||"bar",data:N,isEmpty:!I.sourceTableId,onConnect:()=>p(I.id),onTitleChange:W=>i&&i(I.id,{title:W})})]},I.id)}return null})}),t.length===0&&C.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[C.jsx("div",{className:"bg-indigo-50 p-6 rounded-full mb-6",children:C.jsx(PSe,{className:"text-indigo-600",size:48})}),C.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Maintenance Operations"}),C.jsx("p",{className:"text-gray-500 max-w-md mb-8",children:'Manage equipment maintenance schedules, work orders, and repair logs here. Use the "Insert" menu to add custom tables and charts.'}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:[{label:"Active Work Orders",value:"12",icon:$y,color:"text-amber-600"},{label:"Completed Today",value:"8",icon:Zd,color:"text-green-600"},{label:"Avg Response Time",value:"45m",icon:OA,color:"text-blue-600"}].map((I,N)=>C.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("span",{className:"text-gray-500 text-sm font-medium",children:I.label}),C.jsx(I.icon,{className:I.color,size:20})]}),C.jsx("div",{className:"text-3xl font-bold text-gray-900",children:I.value})]},N))})]})]})]})},Dxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(_C,{}),placeholderTitle:"Production Operations",placeholderDescription:"Manage production schedules, output tracking, and efficiency metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Daily Output",value:"1,250",icon:_C,color:"text-blue-600"},{label:"Quality Rate",value:"98.5%",icon:Zd,color:"text-green-600"},{label:"Downtime",value:"2.3h",icon:OA,color:"text-amber-600"}]}),Rxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(Zd,{}),placeholderTitle:"Quality Assurance",placeholderDescription:"Track quality metrics, defect rates, and compliance standards here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Pass Rate",value:"99.2%",icon:Zd,color:"text-green-600"},{label:"Defects Found",value:"23",icon:$y,color:"text-red-600"},{label:"Improvement",value:"+5.2%",icon:Sc,color:"text-blue-600"}]}),Nxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(HB,{}),placeholderTitle:"Sales Operations",placeholderDescription:"Track sales performance, pipeline, and revenue metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Monthly Revenue",value:"$125K",icon:Iy,color:"text-green-600"},{label:"Active Deals",value:"47",icon:HB,color:"text-blue-600"},{label:"Growth",value:"+18%",icon:Sc,color:"text-emerald-600"}]}),Ixt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(Iy,{}),placeholderTitle:"Finance Operations",placeholderDescription:"Manage budgets, expenses, and financial reporting here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Budget",value:"$2.5M",icon:Iy,color:"text-green-600"},{label:"Expenses",value:"$1.8M",icon:wU,color:"text-red-600"},{label:"Variance",value:"+12%",icon:Sc,color:"text-blue-600"}]}),kxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(zj,{}),placeholderTitle:"IT Operations",placeholderDescription:"Track system uptime, tickets, and infrastructure metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"System Uptime",value:"99.9%",icon:Zd,color:"text-green-600"},{label:"Open Tickets",value:"12",icon:$y,color:"text-amber-600"},{label:"Servers",value:"45",icon:zj,color:"text-blue-600"}]}),Lxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(mp,{}),placeholderTitle:"Human Resources",placeholderDescription:"Manage employee data, recruitment, and HR metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Employees",value:"245",icon:mp,color:"text-blue-600"},{label:"New Hires",value:"12",icon:wSe,color:"text-green-600"},{label:"Retention",value:"94%",icon:Sc,color:"text-emerald-600"}]}),Pxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(Fj,{}),placeholderTitle:"Marketing Operations",placeholderDescription:"Track campaigns, leads, and marketing ROI here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Campaigns",value:"8",icon:Fj,color:"text-purple-600"},{label:"Leads Generated",value:"1,245",icon:mp,color:"text-blue-600"},{label:"Conversion Rate",value:"+22%",icon:Sc,color:"text-green-600"}]}),Oxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(WB,{}),placeholderTitle:"Procurement Operations",placeholderDescription:"Manage purchase orders, vendor relationships, and procurement metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active POs",value:"34",icon:WB,color:"text-blue-600"},{label:"Total Spend",value:"$450K",icon:Iy,color:"text-green-600"},{label:"Cost Savings",value:"-8%",icon:vae,color:"text-emerald-600"}]}),Fxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(qB,{}),placeholderTitle:"Warehouse Operations",placeholderDescription:"Track inventory levels, storage, and warehouse efficiency here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Items",value:"12,450",icon:NU,color:"text-blue-600"},{label:"Capacity Used",value:"78%",icon:qB,color:"text-amber-600"},{label:"Turnover Rate",value:"+15%",icon:Sc,color:"text-green-600"}]}),Bxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(jB,{}),placeholderTitle:"Shipping Operations",placeholderDescription:"Track shipments, delivery times, and logistics metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Shipments",value:"156",icon:jB,color:"text-blue-600"},{label:"Pending Orders",value:"89",icon:NU,color:"text-amber-600"},{label:"Avg Delivery Time",value:"2.3d",icon:OA,color:"text-green-600"}]}),zxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(Mp,{}),placeholderTitle:"Planning Operations",placeholderDescription:"Manage demand forecasting, capacity planning, and scheduling here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Plans",value:"23",icon:Mp,color:"text-blue-600"},{label:"Forecast Accuracy",value:"92%",icon:Sc,color:"text-green-600"},{label:"Alerts",value:"5",icon:$y,color:"text-amber-600"}]}),Uxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(YB,{}),placeholderTitle:"Fleet Management",placeholderDescription:"Track vehicles, maintenance schedules, and fleet efficiency here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Vehicles",value:"67",icon:YB,color:"text-blue-600"},{label:"Fuel Efficiency",value:"8.5L/100km",icon:P_e,color:"text-green-600"},{label:"Maintenance Rate",value:"95%",icon:Zd,color:"text-emerald-600"}]}),Vxt=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>C.jsx(Xl,{activePage:n,allPageWidgets:e,widgets:t,onDeleteWidget:r,onUpdateWidget:i,placeholderIcon:C.jsx(lN,{}),placeholderTitle:"Vendor Management",placeholderDescription:"Manage vendor relationships, performance metrics, and contracts here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Vendors",value:"42",icon:lN,color:"text-blue-600"},{label:"Avg Rating",value:"4.7/5",icon:X_,color:"text-yellow-600"},{label:"Performance",value:"+12%",icon:Sc,color:"text-green-600"}]}),Gxt=({icon:n,title:e,description:t})=>C.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[C.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:Dr.isValidElement(n)?Dr.cloneElement(n,{size:64}):n}),C.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e}),C.jsx("p",{className:"text-gray-500 max-w-md text-center",children:t})]}),Hxt=()=>{const[n,e]=de.useState(null),[t,r]=de.useState("landing"),[i,a]=de.useState(()=>{if(typeof window>"u")return{};try{const ge=localStorage.getItem("page-tabs");return ge?JSON.parse(ge):{}}catch{return{}}}),[s,o]=de.useState(()=>{if(typeof window>"u")return{};try{const ge=localStorage.getItem("active-tab-by-page");return ge?JSON.parse(ge):{}}catch{return{}}}),{activePage:l,setActivePage:u,currentView:c,setCurrentView:f,getPageTitle:d,isImmersive:h}=Hk(),{isAddCardsOpen:p,setAddCardsOpen:m,isBrainOpen:g,setBrainOpen:y,isTableBuilderOpen:_,setTableBuilderOpen:S}=LU(),{tasks:A,isLoading:M,handleStatusChange:E,handleUpdateTask:D,handleReorder:I,handleQuickCreate:N}=oat(t,l),{homeCards:L,handleAddHomeCard:B,handleUpdateHomeCard:O,handleRemoveHomeCard:G,handleRemoveHomeCardByType:V}=lat(),{pageWidgets:q,setPageWidgets:W,onUpdateWidget:Z}=uat(t),{showToast:X}=Du();de.useEffect(()=>{const ge=kz.getCurrentUser();ge&&(e(ge),r("app"))},[]),de.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("page-tabs",JSON.stringify(i))}catch(ge){console.warn("Failed to persist tabs",ge)}},[i]),de.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("active-tab-by-page",JSON.stringify(s))}catch(ge){console.warn("Failed to persist active tab",ge)}},[s]),de.useEffect(()=>{i[l]&&o(ge=>{var fe,be;if(ge[l]&&((fe=i[l])!=null&&fe.some(Oe=>Oe.id===ge[l])))return ge;const le=(be=i[l][0])==null?void 0:be.id;return le?{...ge,[l]:le}:ge})},[l,i]);const K=ge=>(i[ge]||[]).filter(le=>le.id!=="main"),J=(ge=>{var be;const le=K(ge),fe=s[ge];return fe&&le.some(Oe=>Oe.id===fe)?fe:(be=le[0])==null?void 0:be.id})(l),H=J?`${l}::${J}`:l,ee=J?q[H]||[]:q[l]||[],Q=ge=>{Z(J?H:l,ge)},ne=()=>J?q[H]||[]:q[l]||[],ce=ge=>{const le=ne();Q(le.filter(fe=>fe.id!==ge))},ve=(ge,le)=>{const fe=ne();Q(fe.map(be=>be.id===ge?{...be,...le}:be))},xe=ge=>o(le=>({...le,[l]:ge})),we=ge=>{a(le=>{const fe=K(l).filter(Oe=>Oe.id!==ge);return{...le,[l]:fe}}),o(le=>{var fe;if(le[l]===ge){const be=(fe=K(l).filter(Ve=>Ve.id!==ge)[0])==null?void 0:fe.id,Oe={...le};return be?Oe[l]=be:delete Oe[l],Oe}return le}),Z(`${l}::${ge}`,[]),W(le=>{const fe={...le};return delete fe[`${l}::${ge}`],fe})},Ae=()=>{const le=`Dashboard ${K(l).length}`,fe=window.prompt("Name this dashboard tab",le);if(fe===null)return;const be=fe.trim()?fe.trim():le,Oe={id:`tab-${Date.now()}`,name:be};a(Ve=>{const Pe=K(l);return{...Ve,[l]:[...Pe,Oe]}}),o(Ve=>({...Ve,[l]:Oe.id})),Z(`${l}::${Oe.id}`,[]),X(`Created dashboard "${be}"`,"success")},Ue=de.useMemo(()=>{switch(l){case"inbox":case"home":return[];case"backend":return A.filter(ge=>ge.tags.includes("Backend")||ge.tags.includes("API")||ge.tags.includes("Auth"));case"sprints":return A.filter(ge=>ge.tags.includes("Feature")||ge.tags.includes("Bug"));case"frontend":default:return A}},[A,l]);if(t==="landing")return C.jsx(iat,{onLoginClick:()=>r("login")});const pe={activePage:l,allPageWidgets:q,widgets:ee,onDeleteWidget:ce,onUpdateWidget:ve},pt=ge=>{e(ge),r("app"),X(`Welcome back, ${ge.name}!`,"success")},te=()=>{kz.logout(),e(null),r("landing"),X("Logged out successfully","info")},oe=()=>{X("Account activated successfully!","success")};return t==="login"?C.jsx(sat,{onLoginSuccess:pt,onBack:()=>r("landing")}):C.jsxs("div",{className:"flex flex-col h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900",children:[C.jsx(IXe,{user:n,onLogout:te,onActivate:oe}),C.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[C.jsx(t2e,{onLogout:te}),C.jsxs("div",{className:"flex flex-col flex-1 min-w-0 bg-white relative",children:[(()=>{const ge=l.startsWith("SPACE-");return h||l==="inbox"||l.includes("mind-map")||l==="marketplace/local"||ge?null:C.jsx(C.Fragment,{children:l.startsWith("operations/")||l.startsWith("business/")||l.startsWith("support/")||l.startsWith("supply-chain/")||l.startsWith("smart-tools/")?C.jsx(i2e,{onInsert:le=>{if(le==="custom-table"&&S(!0),le==="layout-clear"){Q([]),X("Cleared layout for this page","success");return}if(le==="dashboard"){if(l.includes("/data"))return;Ae();return}if(le.startsWith("kpi-card")){const fe=parseInt(le.split("-")[2]||"1",10),be=Array.from({length:fe}).map(()=>({type:"kpi-card",id:Date.now().toString()+Math.random().toString(36).substr(2,9),title:"New KPI",value:null,icon:"Activity",trend:null,subtext:"Connect to data source"})),Oe=ne();Q([...Oe,...be])}if(le.startsWith("chart")){const fe=le.replace("chart-","")||"bar",be={type:"chart",id:Date.now().toString(),title:`New ${fe.charAt(0).toUpperCase()+fe.slice(1)} Chart`,chartType:fe,data:null,sourceTableId:null},Oe=ne();Q([...Oe,be])}if(le==="layout-4kpi-1chart"){const fe=Date.now(),be=`layout-${fe}`,Oe=[{type:"kpi-card",id:`${fe}-1`,title:"KPI 1",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:be,layoutPosition:1},{type:"kpi-card",id:`${fe}-2`,title:"KPI 2",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:be,layoutPosition:2},{type:"kpi-card",id:`${fe}-3`,title:"KPI 3",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:be,layoutPosition:3},{type:"kpi-card",id:`${fe}-4`,title:"KPI 4",value:null,icon:"Activity",subtext:"Connect data",layoutGroup:be,layoutPosition:4},{type:"chart",id:`${fe}-5`,title:"Main Chart",chartType:"bar",data:null,sourceTableId:null,layoutGroup:be,layoutPosition:5}],Ve=ne();Q([...Ve,...Oe])}}}):C.jsx(r2e,{})})})(),C.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[(l.startsWith("operations/")||l.startsWith("business/")||l.startsWith("support/")||l.startsWith("supply-chain/")||l.startsWith("smart-tools/"))&&!l.includes("/data")&&C.jsx("div",{className:"h-12 bg-white border-b border-gray-200 flex items-center px-4 gap-4 flex-shrink-0 overflow-x-auto",children:K(l).length===0?C.jsx("span",{className:"text-sm text-gray-500",children:"Insert your Dashboard from Insert Menu"}):K(l).map(ge=>{const le=ge.id===J;return C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{onClick:()=>xe(ge.id),className:`text-sm font-medium transition-colors ${le?"text-clickup-purple underline decoration-2 underline-offset-4":"text-gray-700 hover:text-clickup-purple"}`,children:ge.name}),C.jsx("button",{onClick:()=>we(ge.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete dashboard tab",children:C.jsx(Ep,{size:14})})]},ge.id)})}),l==="inbox"&&C.jsx(_at,{}),l==="marketplace/local"&&C.jsx(Mxt,{}),l==="home"&&C.jsx(gat,{cards:L,onUpdateCard:O,onRemoveCard:G,onOpenCustomize:()=>m(!0)}),l==="overview"&&C.jsx(wxt,{}),l==="goals"&&C.jsx(Kie,{}),l==="goals"&&C.jsx(Kie,{}),(l==="mind-map"||l==="smart-tools/mind-map")&&C.jsx(bxt,{}),l==="smart-tools/dashboard"&&C.jsx(Xl,{...pe,placeholderTitle:"Smart Dashboard",placeholderDescription:"Your central hub for intelligence.",placeholderIcon:C.jsx(Gk,{})}),l==="space"&&C.jsx(p0t,{}),l==="ocean"&&C.jsx(xxt,{}),l.startsWith("SPACE-")&&C.jsx(gxt,{spaceName:l.replace("SPACE-","Space "),spaceId:l}),l.startsWith("operations/maintenance")&&C.jsx(Ext,{...pe}),l.startsWith("operations/production")&&C.jsx(Dxt,{...pe}),l.startsWith("operations/quality")&&C.jsx(Rxt,{...pe}),l.startsWith("business/sales")&&C.jsx(Nxt,{...pe}),l.startsWith("business/finance")&&C.jsx(Ixt,{...pe}),l.startsWith("support/it")&&C.jsx(kxt,{...pe}),l.startsWith("support/hr")&&C.jsx(Lxt,{...pe}),l.startsWith("support/marketing")&&C.jsx(Pxt,{...pe}),l.startsWith("supply-chain/procurement")&&C.jsx(Oxt,{...pe}),l.startsWith("supply-chain/warehouse")&&C.jsx(Fxt,{...pe}),l.startsWith("supply-chain/shipping")&&C.jsx(Bxt,{...pe}),l.startsWith("supply-chain/planning")&&C.jsx(zxt,{...pe}),l.startsWith("supply-chain/fleet")&&C.jsx(Uxt,{...pe}),l.startsWith("supply-chain/vendors")&&C.jsx(Vxt,{...pe}),(l.startsWith("operations/")||l.startsWith("business/")||l.startsWith("support/")||l.startsWith("supply-chain/"))&&!["operations/maintenance","operations/production","operations/quality","business/sales","business/finance","support/it","support/hr","support/marketing","supply-chain/procurement","supply-chain/warehouse","supply-chain/shipping","supply-chain/planning","supply-chain/fleet","supply-chain/vendors"].some(ge=>l.startsWith(ge))&&C.jsx(Gxt,{icon:C.jsx(wv,{}),title:d(),description:"This module is currently being built."}),(()=>{const ge=l.startsWith("SPACE-");return!["overview","goals","inbox","home","mind-map","space","ocean"].includes(l)&&!l.startsWith("operations/")&&!l.startsWith("business/")&&!l.startsWith("support/")&&!l.startsWith("supply-chain/")&&!l.startsWith("marketplace/")&&!l.startsWith("smart-tools/")&&!ge?C.jsxs(C.Fragment,{children:[c==="list"&&C.jsx(d$e,{tasks:Ue,isLoading:M,onStatusChange:E,onAddTask:N,onReorder:I,onUpdateTask:D}),c==="board"&&C.jsx(v$e,{tasks:Ue,isLoading:M,onAddTask:N,onStatusChange:E}),c==="calendar"&&C.jsx(SJe,{tasks:Ue,isLoading:M,onAddTask:N})]}):null})(),p&&C.jsx(rat,{isOpen:p,onClose:()=>m(!1),onAddCard:B,onRemoveCard:V,addedCardTypes:L.map(ge=>ge.typeId)})]})]})]}),C.jsx(tat,{isOpen:g,onClose:()=>y(!1),tasks:A}),C.jsx(NXe,{isOpen:_,onClose:()=>S(!1),onAdd:ge=>{const le={type:"custom-table",id:Date.now().toString(),...ge},fe=ne();Q([...fe,le])}})]})},jxt=()=>C.jsx(zSe,{children:C.jsx(e2e,{children:C.jsx(n2e,{children:C.jsx(Hxt,{})})})}),ixe=document.getElementById("root");if(!ixe)throw new Error("Could not find root element to mount to");const Wxt=i1e.createRoot(ixe);Wxt.render(C.jsx(Dr.StrictMode,{children:C.jsx(jxt,{})}));
