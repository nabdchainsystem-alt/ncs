import{af as z,r as x,aD as C,j as e,e as M,aw as $,aA as T,aE as S,S as f,Q as P,aF as B,f as R,Z as D,V as U,E as L,aG as G,aH as O,C as Q,M as A,Y as E,F as H,A as F,O as W,B as V,y as I}from"./index-D-msRKty.js";import{D as K}from"./DashboardShell-C_RFc0JR.js";const Y=({projectId:l})=>{const{projects:i,tasks:n,users:r}=z(),t=i.find(p=>p.id===l),o=x.useMemo(()=>{if(!t)return null;const p=n.filter(b=>b.projectId===l),h=C.calculateProjectBurn(t,p,r),s=C.calculateRemainingBudget(t,h),a=C.getBudgetHealth(t,h),d=Math.min(Math.round(h/t.budget*100),100);return{spent:h,remaining:s,health:a,percentUsed:d}},[t,n,r,l]);if(!t||!o)return e.jsx("div",{className:"p-4 text-gray-400",children:"Project not found"});const{spent:m,remaining:j,health:c,percentUsed:g}=o,u={Good:"text-green-500","At Risk":"text-amber-500",Critical:"text-red-500"}[c],y={Good:"bg-green-500","At Risk":"bg-amber-500",Critical:"bg-red-500"}[c];return e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-500 text-sm font-medium mb-1",children:"Project Budget"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.name})]}),e.jsx("div",{className:`p-2 rounded-xl bg-gray-50 ${u}`,children:c==="Good"?e.jsx(M,{size:20}):e.jsx($,{size:20})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-baseline space-x-1",children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",m.toLocaleString()]}),e.jsxs("span",{className:"text-sm text-gray-400",children:["spent of $",t.budget.toLocaleString()]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[e.jsxs("span",{className:u,children:[g,"% Used"]}),e.jsxs("span",{className:"text-gray-400",children:["$",j.toLocaleString()," Remaining"]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${y} transition-all duration-1000 ease-out`,style:{width:`${g}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Burn Rate"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 flex items-center",children:[e.jsx(T,{size:14,className:"mr-1 text-red-500"}),"$1,250/wk"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Forecast"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:c==="Critical"?"Over Budget":"On Track"})]})]})]})]})},Z=()=>{const{users:l,tasks:i}=z(),n=l.map(r=>{const t=S.calculateUserLoad(r,i),o=[t,Math.max(0,t+(Math.random()*40-20)),Math.max(0,t+(Math.random()*40-20)),Math.max(0,t+(Math.random()*40-20))];return{user:r,futureLoads:o}});return e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Resource Heatmap"}),e.jsxs("div",{className:"flex space-x-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded mr-1"})," <50%"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded mr-1"})," 50-80%"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded mr-1"})," 80-100%"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded mr-1"})," >100%"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 px-4 text-gray-500 font-medium text-sm",children:"Team Member"}),e.jsx("th",{className:"text-center py-2 px-4 text-gray-500 font-medium text-sm",children:"Current"}),e.jsx("th",{className:"text-center py-2 px-4 text-gray-500 font-medium text-sm",children:"Week +1"}),e.jsx("th",{className:"text-center py-2 px-4 text-gray-500 font-medium text-sm",children:"Week +2"}),e.jsx("th",{className:"text-center py-2 px-4 text-gray-500 font-medium text-sm",children:"Week +3"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(({user:r,futureLoads:t})=>e.jsxs("tr",{className:"group hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full ${r.color} flex items-center justify-center text-white text-xs font-bold`,children:r.avatar}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:r.name}),e.jsx("div",{className:"text-xs text-gray-500",children:r.role})]})]})}),t.map((o,m)=>e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsxs("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold text-sm shadow-sm transition-transform group-hover:scale-105",style:{backgroundColor:S.getLoadColor(o)},children:[Math.round(o),"%"]})})},m))]},r.id))})]})})]})},X=()=>{const{users:l,tasks:i,projects:n,getUserLoad:r}=z(),[t,o]=x.useState(""),m=new Date().getHours();let j="Good morning";m>=12&&m<17?j="Good afternoon":m>=17&&(j="Good evening");const c=x.useMemo(()=>[...i].reverse().slice(0,5).map(a=>{const d=l.find(b=>b.id===a.assigneeId);return{title:a.title,time:"Recently",desc:`Status: ${a.status} • Assigned to ${(d==null?void 0:d.name)||"Unassigned"}`,icon:a.status===f.Complete?e.jsx(M,{size:16}):e.jsx(P,{size:16}),color:a.status===f.Complete?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}}),[i,l]),g=x.useMemo(()=>n.map(s=>{const a=i.filter(w=>w.projectId===s.id),d=a.filter(w=>w.status===f.Complete).length,b=a.length,v=b===0?0:Math.round(d/b*100);return{name:s.name,progress:v,color:v===100?"bg-green-500":v>50?"bg-blue-500":"bg-purple-500",health:s.health}}),[n,i]),u=x.useMemo(()=>l.map(s=>{const a=r(s.id);let d="online";return a>100&&(d="busy"),a===0&&(d="offline"),{name:s.name,role:s.role,status:d,load:a,avatar:s.avatar}}),[l,r]),y=x.useMemo(()=>{if(!t)return c;const s=t.toLowerCase();return c.filter(a=>a.title.toLowerCase().includes(s)||a.desc.toLowerCase().includes(s))},[t,c]),p=x.useMemo(()=>{if(!t)return g;const s=t.toLowerCase();return g.filter(a=>a.name.toLowerCase().includes(s))},[t,g]),h=x.useMemo(()=>{if(!t)return u;const s=t.toLowerCase();return u.filter(a=>a.name.toLowerCase().includes(s)||a.role.toLowerCase().includes(s))},[t,u]);return e.jsx(K,{title:"Overview",subtitle:"",headerActions:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative hidden md:block",children:[e.jsx(W,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search anything...",value:t,onChange:s=>o(s.target.value),className:"pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all w-64 shadow-sm"}),e.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded border border-gray-200",children:"⌘"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded border border-gray-200",children:"K"})]})]}),e.jsxs("button",{className:"p-2 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 text-gray-600 transition-colors shadow-sm relative",children:[e.jsx(V,{size:20}),e.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-rose-500 rounded-full border-2 border-white"})]}),e.jsxs("button",{className:"px-4 py-2 bg-gray-900 text-white rounded-xl text-sm font-medium hover:bg-black transition-all shadow-lg shadow-gray-900/20 flex items-center",children:[e.jsx(I,{size:16,className:"mr-2 text-yellow-400"}),"Generate Report"]})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-blue-500 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-96 h-96 bg-purple-500 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("span",{className:"px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-xs font-medium text-blue-200 flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-400 mr-2 animate-pulse"}),"System Operational"]}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-xs font-medium text-purple-200",children:"v3.0.0 (Professional)"})]}),e.jsxs("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:[j,", ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:"Max"})]}),e.jsxs("p",{className:"text-gray-400 max-w-xl text-lg",children:["You have ",e.jsxs("span",{className:"text-white font-semibold",children:[i.filter(s=>s.status!==f.Complete).length," pending tasks"]}),". System capacity is at ",e.jsx("span",{className:"text-green-400 font-semibold",children:"Optimal Levels"}),"."]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{className:"text-center px-6 py-3 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 hover:bg-white/10 transition-colors cursor-pointer",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider font-semibold",children:"Active Projects"}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:n.length})]}),e.jsxs("div",{className:"text-center px-6 py-3 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 hover:bg-white/10 transition-colors cursor-pointer",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider font-semibold",children:"Team Size"}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:l.length})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 lg:col-span-3 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.length>0?e.jsx(Y,{projectId:n[0].id}):e.jsx(k,{title:"Total Budget",value:"$0",trend:"No Projects",icon:e.jsx(B,{className:"text-blue-500"}),color:"blue"}),e.jsx(k,{title:"Pending Tasks",value:i.filter(s=>s.status!==f.Complete).length.toString(),trend:"Active",icon:e.jsx(R,{className:"text-purple-500"}),color:"purple"}),e.jsx(k,{title:"Team Load",value:"Optimal",trend:"94%",icon:e.jsx(D,{className:"text-amber-500"}),color:"amber"})]}),e.jsx("div",{className:"mb-6",children:e.jsx(Z,{})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center",children:[e.jsx(U,{size:20,className:"mr-2 text-gray-400"}),"Live Activity"]}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(L,{size:20,className:"text-gray-400"})})]}),e.jsx("div",{className:"space-y-6",children:y.length>0?y.map((s,a)=>e.jsxs("div",{className:"flex items-start space-x-4 group",children:[e.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 ${s.color} group-hover:scale-110 transition-transform`,children:s.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:s.title}),e.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:s.time})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:s.desc})]})]},a)):e.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"No matching activity found."})}),e.jsx("button",{className:"w-full mt-6 py-3 text-sm font-medium text-gray-500 hover:text-gray-900 hover:bg-gray-50 rounded-xl transition-colors border border-dashed border-gray-200",children:"View All Activity"})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center",children:[e.jsx(G,{size:20,className:"mr-2 text-gray-400"}),"Project Status"]}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(L,{size:20,className:"text-gray-400"})})]}),e.jsx("div",{className:"space-y-5",children:p.length>0?p.map((s,a)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.name}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[s.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${s.color} transition-all duration-1000 ease-out`,style:{width:`${s.progress}%`}})})]},a)):e.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"No matching projects found."})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-6 text-white shadow-lg",children:[e.jsxs("h3",{className:"font-bold mb-4 flex items-center",children:[e.jsx(O,{size:18,className:"mr-2 text-gray-400"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(N,{icon:e.jsx(Q,{size:20}),label:"Schedule"}),e.jsx(N,{icon:e.jsx(M,{size:20}),label:"New Task"}),e.jsx(N,{icon:e.jsx(A,{size:20}),label:"Message"}),e.jsx(N,{icon:e.jsx(E,{size:20}),label:"Vault"})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(H,{size:18,className:"mr-2 text-gray-400"}),"Team Pulse (Capacity)"]}),e.jsx("div",{className:"space-y-4",children:h.length>0?h.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between group cursor-pointer hover:bg-gray-50 p-2 -mx-2 rounded-xl transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-600",children:s.avatar||s.name.charAt(0)}),e.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 border-2 border-white rounded-full ${s.status==="online"?"bg-green-500":s.status==="busy"?"bg-red-500":"bg-gray-400"}`})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.role," • ",s.load,"% Load"]})]})]}),e.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-2 text-gray-400 hover:text-blue-600 transition-all",children:e.jsx(A,{size:16})})]},a)):e.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"No matching team members."})})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(F,{size:18,className:"mr-2 text-gray-400"}),"Upcoming"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-3 pb-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center w-12 h-12 bg-blue-50 rounded-xl text-blue-600",children:[e.jsx("span",{className:"text-xs font-bold",children:"DEC"}),e.jsx("span",{className:"text-lg font-bold",children:"02"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Product Review"}),e.jsx("p",{className:"text-xs text-gray-500",children:"10:00 AM • Room A"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center w-12 h-12 bg-purple-50 rounded-xl text-purple-600",children:[e.jsx("span",{className:"text-xs font-bold",children:"DEC"}),e.jsx("span",{className:"text-lg font-bold",children:"02"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Team Lunch"}),e.jsx("p",{className:"text-xs text-gray-500",children:"12:30 PM • Kitchen"})]})]})]})]})]})]})]})})},k=({title:l,value:i,trend:n,icon:r,color:t})=>{const o={blue:"bg-blue-50 text-blue-600 group-hover:bg-blue-600 group-hover:text-white",purple:"bg-purple-50 text-purple-600 group-hover:bg-purple-600 group-hover:text-white",amber:"bg-amber-50 text-amber-600 group-hover:bg-amber-600 group-hover:text-white"};return e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 group cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-colors ${o[t]}`,children:r}),e.jsxs("div",{className:"flex items-center text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx(T,{size:12,className:"mr-1"}),n]})]}),e.jsx("h3",{className:"text-gray-500 text-sm font-medium mb-1",children:l}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:i})]})},N=({icon:l,label:i})=>e.jsxs("button",{className:"flex flex-col items-center justify-center p-4 rounded-2xl bg-white/10 hover:bg-white/20 transition-colors border border-white/5 backdrop-blur-sm group",children:[e.jsx("div",{className:"mb-2 text-gray-300 group-hover:text-white transition-colors group-hover:scale-110 transform duration-200",children:l}),e.jsx("span",{className:"text-xs font-medium text-gray-300 group-hover:text-white",children:i})]});export{X as default};
