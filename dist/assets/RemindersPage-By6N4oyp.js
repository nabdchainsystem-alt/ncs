import{c as he,r as l,Y as X,j as e,X as $,R as I,a4 as ge,C as P,ag as fe,P as R,E as pe,Q as be,az as ye,T as je,k as ve}from"./index-sqQsKImc.js";import{r as u}from"./remindersService-Dlo5WC4R.js";import{D as Ne}from"./DatePicker-pXxBGZdI.js";import{u as we,a as G,D as ke,g as De,K as Se,P as Ce,C as Te}from"./core.esm-TRimKU_7.js";import{S as Le,v as Ie,a as ze,s as Pe,u as Re}from"./sortable.esm-BXA-dmXh.js";import{F as M}from"./flag-DM0neTDo.js";import{T as Me}from"./tag-Dqtpp501.js";import{L as Y}from"./list-Dm11EKlK.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Ee=he("calendar-days",$e),Ae=({isOpen:r,onClose:o,onConfirm:n,title:N,placeholder:w="Enter value...",confirmText:k="Create",cancelText:c="Cancel",defaultValue:v="",darkMode:p})=>{const[b,h]=l.useState(v),y=l.useRef(null),{ref:m,setIsActive:d}=X({onConfirm:()=>{b.trim()&&(n(b.trim()),o())},onCancel:o,initialActive:r});if(l.useEffect(()=>{d(r),r&&(h(v),setTimeout(()=>{var g,D;(g=y.current)==null||g.focus(),(D=y.current)==null||D.select()},50))},[r,v,d]),!r)return null;const x=g=>{g.preventDefault(),b.trim()&&(n(b.trim()),o())};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsx("div",{ref:m,className:`rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 border ${p?"bg-[#1a1d24] border-gray-700":"bg-white border-gray-100"}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-bold tracking-tight ${p?"text-gray-100":"text-gray-900"}`,children:N}),e.jsx("button",{onClick:o,className:`p-1 rounded-md transition-colors ${p?"text-gray-500 hover:text-gray-300 hover:bg-white/5":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:e.jsx($,{size:20})})]}),e.jsxs("form",{onSubmit:x,children:[e.jsx("div",{className:"mb-6",children:e.jsx("input",{ref:y,type:"text",value:b,onChange:g=>h(g.target.value),placeholder:w,className:`w-full px-4 py-3 rounded-xl border-2 transition-all outline-none text-base ${p?"bg-gray-900 border-gray-700 focus:border-indigo-500 text-white placeholder-gray-600":"bg-gray-50 border-gray-200 focus:border-black text-gray-900 placeholder-gray-400"}`})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:o,className:`px-4 py-2.5 text-sm font-medium rounded-xl transition-all active:scale-95 ${p?"text-gray-400 hover:text-gray-200 hover:bg-white/5":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:c}),e.jsx("button",{type:"submit",disabled:!b.trim(),className:"px-6 py-2.5 text-sm font-semibold text-white bg-black hover:bg-gray-800 active:scale-95 rounded-xl shadow-lg shadow-black/20 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center gap-2",children:e.jsx("span",{children:k})})]})]})]})})})},_e=Array.from({length:12},(r,o)=>o+1),He=Array.from({length:60},(r,o)=>o.toString().padStart(2,"0")),Ke=["AM","PM"],Oe=({time:r,onSelect:o,onClose:n})=>{const{ref:N}=X({onCancel:n,initialActive:!0}),[w,k]=l.useState(12),[c,v]=l.useState("00"),[p,b]=l.useState("AM");l.useEffect(()=>{if(r){const[m,d]=r.split(":");let x=parseInt(m);const g=x>=12?"PM":"AM";x===0?x=12:x>12&&(x-=12),k(x),v(d),b(g)}else{const m=new Date;let d=m.getHours();const x=m.getMinutes(),g=d>=12?"PM":"AM";d===0?d=12:d>12&&(d-=12),k(d),v(x.toString().padStart(2,"0")),b(g)}},[]);const h=()=>{let m=w;p==="PM"&&m!==12&&(m+=12),p==="AM"&&m===12&&(m=0);const d=`${m.toString().padStart(2,"0")}:${c}`;o(d),n()},y=({items:m,selected:d,onSelect:x,label:g})=>e.jsxs("div",{className:"h-48 w-16 overflow-y-auto snap-y snap-mandatory flex flex-col items-center pt-[88px] pb-[88px] relative no-scrollbar",children:[e.jsx("style",{children:`
                    .no-scrollbar::-webkit-scrollbar {
                        display: none;
                    }
                    .no-scrollbar {
                        -ms-overflow-style: none;
                        scrollbar-width: none;
                    }
                `}),m.map(D=>e.jsx("button",{onClick:()=>x(D),className:`h-8 flex-shrink-0 snap-center w-full flex items-center justify-center text-lg font-medium transition-all duration-200 ${D==d?"text-black font-bold scale-110":"text-gray-300 scale-90"}`,children:D},D))]});return e.jsxs("div",{ref:N,className:"bg-white rounded-xl shadow-2xl border border-gray-200 w-[260px] flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-100 bg-gray-50/50",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Set Time"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx($,{size:14})})]}),e.jsxs("div",{className:"relative flex justify-center py-4 bg-white",children:[e.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-8 -mt-4 pointer-events-none mx-4 border-t border-b border-gray-200"}),e.jsxs("div",{className:"flex gap-2 relative z-10 bg-transparent items-center",children:[e.jsx(y,{items:_e,selected:w,onSelect:k}),e.jsx("div",{className:"flex items-center pb-1 text-gray-300 font-bold text-xl",children:":"}),e.jsx(y,{items:He,selected:c,onSelect:v}),e.jsx("div",{className:"w-2"}),e.jsx(y,{items:Ke,selected:p,onSelect:b})]})]}),e.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50/50",children:e.jsx("button",{onClick:h,className:"w-full py-2 bg-black text-white rounded-lg text-sm font-medium hover:bg-gray-900 transition-colors active:scale-[0.98]",children:"Set Time"})})]})},Qe=({list:r,isActive:o,onClick:n,onDelete:N,isLast:w})=>{const{attributes:k,listeners:c,setNodeRef:v,transform:p,transition:b,isDragging:h}=Re({id:r.id}),y={transform:Te.Transform.toString(p),transition:b,zIndex:h?100:"auto",opacity:h?.3:1};return e.jsx("div",{ref:v,style:y,...k,...c,children:e.jsxs("button",{onClick:n,className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-medium transition-colors group relative ${o?"bg-gray-200 text-gray-900":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-7 h-7 rounded-full bg-gray-100 flex items-center justify-center mr-3 ${r.color}`,children:e.jsx(Y,{size:14})}),e.jsx("span",{className:o?"text-gray-900":"text-gray-700",children:r.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-400 text-xs group-hover:hidden",children:r.count}),e.jsx("div",{onClick:N,className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded hidden group-hover:flex transition-colors",title:"Delete List",children:e.jsx(je,{size:14})}),e.jsx(ve,{size:14,className:"text-gray-300 group-hover:hidden"})]})]})})},Ve=()=>{var U;const[r,o]=l.useState("all"),[n,N]=l.useState(null),[w,k]=l.useState(""),[c,v]=l.useState([]),[p,b]=l.useState(new Set),[h,y]=l.useState([]),[m,d]=l.useState(!1),[x,g]=l.useState(null),[D,E]=l.useState(!1),[J,A]=l.useState(!1),[T,_]=l.useState(""),[H,V]=l.useState({top:0,left:0}),[K,W]=l.useState({top:0,left:0}),[O,Z]=l.useState(null);I.useEffect(()=>{const t=async()=>{const i=await u.getLists(),j=await u.getReminders();y(i),v(j)};t();const s=u.subscribe(()=>{t()});return"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission(),s},[]);const Q=t=>{if(!t)return!1;if(t==="Today")return!0;const s=new Date().toISOString().split("T")[0];return t===s};I.useEffect(()=>{const s=setInterval(()=>{const i=new Date,j=i.toISOString().split("T")[0],f=i.getHours(),C=i.getMinutes();c.forEach(S=>{if(S.completed||!S.dueDate||!S.time)return;if(S.dueDate==="Today"||S.dueDate===j){const[me,ue]=S.time.split(":").map(Number);me===f&&ue===C&&Notification.permission==="granted"&&new Notification(S.title,{body:S.notes||"Reminder due now",icon:"/favicon.ico"})}})},6e4);return()=>clearInterval(s)},[c]);const ee=we(G(Ce,{activationConstraint:{distance:8}}),G(Se,{coordinateGetter:Pe})),te=()=>{d(!0)},se=t=>{g(t)},ae=()=>{x&&(u.deleteList(x),y(t=>t.filter(s=>s.id!==x)),r===x&&o("all"),g(null))},re=t=>{const{active:s,over:i}=t;i&&s.id!==i.id&&y(j=>{const f=j.findIndex(L=>L.id===s.id),C=j.findIndex(L=>L.id===i.id);return ze(j,f,C)})},ie=async t=>{const s=await u.addList({name:t,type:"project",color:"text-black"});o(s.id),d(!1)},ne=t=>{var j;if(!t.trim())return;let s=r;["today","scheduled","all","flagged"].includes(r)&&(s=h.some(C=>C.id==="inbox")?"inbox":((j=h[0])==null?void 0:j.id)||"work"),u.addReminder({title:t.trim(),listId:s,dueDate:r==="today"?"Today":void 0,time:void 0,priority:r==="flagged"?"high":"none",tags:[],completed:!1,subtasks:[]})},q=(t,s)=>{const i=t.currentTarget.getBoundingClientRect();V({top:i.top,left:i.left-520}),Z(s),E(!0)},le=t=>{const s=t.currentTarget.getBoundingClientRect();W({top:s.top,left:s.left-260}),A(!0)},oe=t=>{n&&(O==="secondary"?u.updateReminder(n,{secondaryDueDate:t}):u.updateReminder(n,{dueDate:t}))},ce=t=>{if(t.key==="Enter"&&T.trim()&&n){const s=c.find(i=>i.id===n);s&&!s.tags.includes(T.trim())&&u.updateReminder(n,{tags:[...s.tags,T.trim()]}),_("")}},de=t=>{if(n){const s=c.find(i=>i.id===n);s&&u.updateReminder(n,{tags:s.tags.filter(i=>i!==t)})}},z=l.useMemo(()=>{const t=c.filter(f=>Q(f.dueDate)&&!f.completed).length,s=c.filter(f=>f.dueDate&&!f.completed).length,i=c.filter(f=>!f.completed).length,j=c.filter(f=>f.priority==="high"&&!f.completed).length;return[{id:"all",name:"All",icon:e.jsx(ge,{size:24}),count:i,color:"bg-black",textColor:"text-black"},{id:"today",name:"Today",icon:e.jsx(Ee,{size:24}),count:t,color:"bg-black",textColor:"text-black"},{id:"scheduled",name:"Scheduled",icon:e.jsx(P,{size:24}),count:s,color:"bg-black",textColor:"text-black"},{id:"flagged",name:"Flagged",icon:e.jsx(M,{size:24}),count:j,color:"bg-black",textColor:"text-black"}]},[c]),xe=[...h,...z].find(t=>t.id===r)||z[2],B=c.filter(t=>w?t.title.toLowerCase().includes(w.toLowerCase()):r==="all"?!t.completed:r==="today"?Q(t.dueDate)&&!t.completed:r==="scheduled"?t.dueDate&&!t.completed:r==="flagged"?t.priority==="high"&&!t.completed:t.listId===r&&!t.completed),a=c.find(t=>t.id===n),F=t=>{const s=c.find(i=>i.id===t);s&&u.updateReminder(t,{completed:!s.completed}),n===t&&N(null)};return e.jsxs("div",{className:"flex h-full w-full bg-transparent overflow-hidden font-sans",children:[e.jsxs("div",{className:"w-64 bg-stone-50/50 border-r border-stone-200 flex flex-col flex-shrink-0",children:[e.jsx("div",{className:"h-14 flex items-center justify-between px-4 border-b border-gray-100 flex-shrink-0 bg-stone-50/50",children:e.jsx("h2",{className:"font-bold text-gray-800",children:"Reminders"})}),e.jsx("div",{className:"p-4 pb-2",children:e.jsxs("div",{className:"relative group",children:[e.jsx(fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-black transition-colors",size:16}),e.jsx("input",{type:"text",placeholder:"Search",value:w,onChange:t=>k(t.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-200 focus:border-black focus:ring-0 rounded-xl text-sm transition-all placeholder-gray-500"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 mt-2 space-y-6 custom-scrollbar",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Smart Lists"}),e.jsx("div",{className:"space-y-1",children:z.map(t=>e.jsxs("button",{onClick:()=>o(t.id),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-medium transition-colors group relative ${r===t.id?"bg-gray-200 text-gray-900":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center mr-3 ${r===t.id?"bg-white text-black":"bg-gray-100 text-gray-500"}`,children:t.icon&&I.isValidElement(t.icon)?I.cloneElement(t.icon,{size:14}):null}),e.jsx("span",{className:r===t.id?"text-gray-900":"text-gray-700",children:t.name})]}),e.jsx("span",{className:`text-xs ${r===t.id?"text-gray-900 font-bold":"text-gray-400 group-hover:text-gray-600"}`,children:t.count})]},t.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 flex items-center justify-between",children:"My Lists"}),e.jsx("div",{className:"space-y-1",children:e.jsx(ke,{sensors:ee,collisionDetection:De,onDragEnd:re,children:e.jsx(Le,{items:h,strategy:Ie,children:h.map((t,s)=>e.jsx(Qe,{list:t,isActive:r===t.id,onClick:()=>o(t.id),onDelete:i=>{i.stopPropagation(),se(t.id)},isLast:s===h.length-1},t.id))})})})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between text-gray-500",children:e.jsxs("button",{onClick:te,className:"flex items-center space-x-2 hover:text-black transition-colors",children:[e.jsx(R,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"New List"})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-transparent relative z-10 ml-[-1px] border-l border-gray-200",children:[e.jsxs("div",{className:"h-14 flex items-center justify-between px-4 flex-shrink-0 bg-white sticky top-0 z-20 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800",children:xe.name}),e.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),e.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:[B.length," reminders"]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{className:"p-2 text-black hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(pe,{size:20})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-20",children:e.jsxs("div",{className:"mx-auto space-y-1",children:[B.map(t=>(t.subtasks&&t.subtasks.length>0,p.has(t.id),e.jsx("div",{className:"group relative",children:e.jsxs("div",{onClick:()=>N(t.id),className:`flex items-start p-3 -mx-3 cursor-pointer rounded-xl transition-all duration-200 border ${n===t.id?"bg-blue-50/40 border-blue-200 shadow-sm":"hover:bg-gray-50 border-transparent"}`,children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),F(t.id)},className:`mt-0.5 w-5 h-5 rounded-full border-[1.5px] flex items-center justify-center transition-all duration-200 ${t.priority==="high"?"border-black hover:bg-black/10":"border-gray-300 hover:border-black hover:bg-black/5"}`}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0 border-b border-gray-100 pb-3 group-last:border-none",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-[15px] font-medium truncate ${t.completed?"text-gray-400 line-through":"text-gray-900"}`,children:t.title}),t.priority==="high"&&e.jsx(M,{size:12,className:"text-black fill-black ml-2 flex-shrink-0"})]}),(t.notes||t.dueDate||t.secondaryDueDate||t.tags.length>0)&&e.jsxs("div",{className:"flex items-center mt-1 space-x-3 text-xs text-gray-500",children:[t.dueDate&&e.jsxs("span",{className:`flex items-center ${t.dueDate==="Today"?"text-black font-bold":"text-gray-500"}`,children:[t.dueDate,t.time&&e.jsxs("span",{className:"ml-1 font-normal text-gray-400",children:["at ",new Date(`2000-01-01T${t.time}`).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})]})]}),t.secondaryDueDate&&e.jsxs("span",{className:"text-red-500 font-medium",children:["Due ",t.secondaryDueDate]}),t.notes&&e.jsx("span",{className:"truncate max-w-[300px]",children:t.notes}),t.tags.map(s=>e.jsxs("span",{className:"text-gray-600",children:["#",s]},s))]})]})]})},t.id))),e.jsxs("div",{className:"flex items-center p-3 -mx-3 text-gray-400 hover:text-gray-600 cursor-text group",onClick:()=>{const t=document.getElementById("quick-add-input");t==null||t.focus()},children:[e.jsx(R,{size:20,className:"mr-4"}),e.jsx("input",{id:"quick-add-input",type:"text",placeholder:"New Reminder",className:"bg-transparent border-none focus:ring-0 p-0 text-[15px] placeholder-gray-400 w-full",onKeyDown:t=>{t.key==="Enter"&&(ne(t.currentTarget.value),t.currentTarget.value="")}})]})]})})]}),a&&e.jsxs("div",{className:"w-[320px] bg-white border-l border-gray-200 flex flex-col animate-in slide-in-from-right-10 duration-300 z-20 shadow-[-10px_0_30px_-10px_rgba(0,0,0,0.05)]",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 bg-white sticky top-0",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Details"}),e.jsx("button",{onClick:()=>N(null),className:"text-black font-medium text-sm hover:text-gray-700",children:"Done"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("button",{onClick:()=>F(a.id),className:`mt-1 w-5 h-5 rounded-full border-[1.5px] flex-shrink-0 ${a.priority==="high"?"border-black":"border-gray-300"}`}),e.jsx("textarea",{value:a.title,onChange:t=>u.updateReminder(a.id,{title:t.target.value}),className:"w-full text-base font-semibold text-gray-900 border-none focus:ring-0 p-0 bg-transparent resize-none h-auto min-h-[24px]",rows:2})]}),e.jsx("div",{className:"pl-8",children:e.jsx("textarea",{value:a.notes||"",onChange:t=>u.updateReminder(a.id,{notes:t.target.value}),placeholder:"Add notes",className:"w-full text-sm text-gray-500 border-none focus:ring-0 p-0 bg-transparent resize-none min-h-[60px]"})})]}),e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 divide-y divide-gray-100",children:[e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer relative",onClick:t=>q(t,"primary"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(P,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Date"})]}),e.jsx("span",{className:`text-sm ${a.dueDate?"text-black":"text-gray-400"}`,children:a.dueDate||"Add Date"})]}),e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer relative",onClick:t=>q(t,"secondary"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(P,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Due Date"})]}),e.jsx("span",{className:`text-sm ${a.secondaryDueDate?"text-black":"text-gray-400"}`,children:a.secondaryDueDate||"Add Due Date"})]}),e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer",onClick:le,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(be,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Time"})]}),e.jsx("span",{className:`text-sm ${a.time?"text-black":"text-gray-400"}`,children:a.time?new Date(`2000-01-01T${a.time}`).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):"Add Time"})]}),e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(M,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Priority"})]}),e.jsxs("select",{value:a.priority,onChange:t=>u.updateReminder(a.id,{priority:t.target.value}),className:"text-sm text-gray-500 border-none focus:ring-0 bg-transparent text-right pr-8 cursor-pointer",children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 divide-y divide-gray-100",children:[e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(Me,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Tags"})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-1 justify-end max-w-[200px]",children:[a.tags.map(t=>e.jsxs("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-0.5 rounded flex items-center",children:[t,e.jsx("button",{onClick:()=>de(t),className:"ml-1 hover:text-red-500",children:e.jsx($,{size:10})})]},t)),e.jsx("input",{type:"text",value:T,onChange:t=>_(t.target.value),onKeyDown:ce,placeholder:"Add Tags",className:"text-sm text-gray-500 border-none focus:ring-0 bg-transparent text-right min-w-[60px] p-0 placeholder-gray-400"})]})]}),e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(Y,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"List"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:((U=h.find(t=>t.id===a.listId))==null?void 0:U.name)||"Inbox"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Subtasks"}),e.jsx("button",{className:"text-black hover:bg-gray-100 p-1 rounded",children:e.jsx(R,{size:14})})]}),e.jsxs("div",{className:"space-y-2",children:[a.subtasks.map(t=>e.jsxs("div",{className:"flex items-center group",children:[e.jsx("div",{className:`w-4 h-4 border rounded-full mr-3 ${t.completed?"bg-black border-black":"border-gray-300"}`}),e.jsx("span",{className:`text-sm ${t.completed?"text-gray-400 line-through":"text-gray-700"}`,children:t.title})]},t.id)),a.subtasks.length===0&&e.jsx("p",{className:"text-xs text-gray-400 italic",children:"No subtasks"})]})]}),e.jsx("button",{onClick:()=>{u.deleteReminder(a.id),N(null)},className:"w-full py-3 text-red-600 bg-white rounded-xl font-medium shadow-sm border border-gray-200 hover:bg-red-50 transition-colors",children:"Delete Reminder"})]})]}),D&&e.jsx("div",{style:{position:"fixed",top:H.top,left:H.left,zIndex:50},children:e.jsx(Ne,{date:O==="secondary"?a!=null&&a.secondaryDueDate&&a.secondaryDueDate!=="Today"?a.secondaryDueDate:void 0:a!=null&&a.dueDate&&a.dueDate!=="Today"?a.dueDate:void 0,onSelect:oe,onClose:()=>E(!1)})}),J&&e.jsx("div",{style:{position:"fixed",top:K.top,left:K.left,zIndex:50},children:e.jsx(Oe,{time:a==null?void 0:a.time,onSelect:t=>{n&&u.updateReminder(n,{time:t})},onClose:()=>A(!1)})}),e.jsx(Ae,{isOpen:m,onClose:()=>d(!1),onConfirm:ie,title:"Create New List",placeholder:"List Name",confirmText:"Create List"}),e.jsx(ye,{isOpen:!!x,onClose:()=>g(null),onConfirm:ae,title:"Delete List",message:"Are you sure you want to delete this list? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})};export{Ve as default};
