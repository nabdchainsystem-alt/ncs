import{c as y,a9 as z,r as d,j as e,P as ye,T as I,ae as K,af as Ne,V as Z,W as L,a4 as G,ag as we,a3 as $e,X as ke,h as Me,ah as Ce,n as Ee,U as ze,ai as Se,E as Fe}from"./index-sqQsKImc.js";import{A as T,P as re}from"./pin-DjGnB7tA.js";import{T as Re}from"./tag-Dqtpp501.js";import{F as J}from"./flag-DM0neTDo.js";import{S as Ae}from"./send-horizontal-CgsdJqNV.js";import{S as _e}from"./save-CIDncS3a.js";import{S as He}from"./send-DIsEsVbI.js";import{S as Ie}from"./smile-CQ81lmMB.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4",key:"1nkjon"}],["path",{d:"M9 14 4 9l5-5",key:"102s5s"}]],Te=y("corner-up-left",Le);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M4 20v-7a4 4 0 0 1 4-4h12",key:"1lu4f8"}]],We=y("corner-up-right",Pe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],Ue=y("folder-input",De);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],le=y("folder-plus",Ve);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]],qe=y("forward",Xe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],ie=y("mail-open",Oe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Ke=y("octagon-alert",Be);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ge=y("printer",Ze);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"m12 17-5-5 5-5",key:"1s3y5u"}],["path",{d:"M22 18v-2a4 4 0 0 0-4-4H7",key:"1fcyog"}],["path",{d:"m7 17-5-5 5-5",key:"1ed8i2"}]],Qe=y("reply-all",Je);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],et=y("reply",Ye),P={async fetchEmails(l="inbox"){const{data:o,error:n}=await z.from("emails").select("*").eq("folder",l).order("created_at",{ascending:!1});return n?(console.error("Error fetching emails:",n),[]):o},async fetchAllEmails(){const{data:l,error:o}=await z.from("emails").select("*").order("created_at",{ascending:!1});return o?(console.error("Error fetching all emails:",o),[]):l},async sendEmail(l){const n=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),x={...l,folder:"sent",time:n,read:!0},N={...l,folder:"inbox",time:n,read:!1},[p,u]=await Promise.all([z.from("emails").insert([x]).select().single(),z.from("emails").insert([N]).select().single()]);return p.error?(console.error("Error saving sent email:",p.error),null):(u.error&&console.error("Error delivering to inbox:",u.error),p.data)},async updateEmail(l,o){const{data:n,error:x}=await z.from("emails").update(o).eq("id",l).select().single();return x?(console.error("Error updating email:",x),null):n},async deleteEmail(l){const{error:o}=await z.from("emails").delete().eq("id",l);return o?(console.error("Error deleting email:",o),!1):!0}},ct=({theme:l,direction:o})=>{const[n,x]=d.useState([]),[N,p]=d.useState(["archive"]),[u,k]=d.useState(1),[Q,oe]=d.useState(320),[W,Y]=d.useState(!1),S=d.useRef(null),[c,M]=d.useState("inbox"),[ne,D]=d.useState(!1),[U,ee]=d.useState(""),[H,V]=d.useState(!1),[X,te]=d.useState(""),q=d.useRef(null),[ce,F]=d.useState("read"),[h,C]=d.useState({to:"",subject:"",body:""}),[O,se]=d.useState(!1),r=n.find(s=>s.id===u),v=n.filter(s=>s.folder===c).sort((s,i)=>Number(i.pinned)-Number(s.pinned)),a=o==="rtl",m=l==="dark"||l==="nexus"||l==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches,w=async(s,i)=>{x(A=>A.map(f=>f.id===s?{...f,...i}:f)),await P.updateEmail(s,i)},de=()=>{if(!u)return;w(u,{folder:"trash"});const s=v.findIndex(i=>i.id===u);s<v.length-1?k(v[s+1].id):s>0?k(v[s-1].id):k(null)},xe=()=>{u&&w(u,{folder:"archive"})},me=()=>{r&&w(r.id,{read:!r.read})},pe=()=>{r&&w(r.id,{priority:r.priority==="high"?"medium":"high"})},ue=()=>{r&&w(r.id,{pinned:!r.pinned})},R=s=>{u&&(w(u,{folder:s}),V(!1))},he=()=>{if(X.trim()){const s=X.trim().toLowerCase();N.includes(s)||p(i=>[...i,s]),R(s),te("")}},ae=()=>{U.trim()&&(p(s=>[...s,U.trim().toLowerCase()]),ee(""),D(!1))};d.useEffect(()=>{v.length>0&&!v.find(s=>s.id===u)?k(v[0].id):v.length===0&&k(null)},[c,n]),d.useEffect(()=>{(async()=>{const i=await P.fetchEmails(c);x(i)})()},[c]),d.useEffect(()=>{const s=i=>{q.current&&!q.current.contains(i.target)&&V(!1)};return H&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[H]);const t={bg:m?"bg-[#121212]/80":"bg-white/80",sidebar:m?"bg-[#0f0f0f]/90":"bg-[#f7f7f5]/90",ribbon:m?"bg-[#1a1a1a]/95":"bg-white/95",itemBg:m?"bg-[#1a1a1a]":"bg-white",itemHover:m?"hover:bg-[#252525]":"hover:bg-[#efefef]",itemActive:m?"bg-[#2a2a2a]":"bg-[#e5e5e5]",text:m?"text-[#e6e6e6]":"text-[#37352f]",textMuted:m?"text-[#8a8a8a]":"text-[#9b9a97]",border:m?"border-[#2f2f2f]":"border-[#e0e0e0]",backdrop:"backdrop-blur-xl"},b=m?"text-white/70":"text-slate-600",g=m?"group-hover:text-white":"group-hover:text-black",fe=a?"font-cairo":"font-sans",be=s=>{s.preventDefault(),Y(!0),S.current={startX:s.clientX,startWidth:Q}};d.useEffect(()=>{const s=A=>{if(!W||!S.current)return;const f=A.clientX-S.current.startX,B=a?S.current.startWidth-f:S.current.startWidth+f;B>200&&B<600&&oe(B)},i=()=>Y(!1);return W&&(window.addEventListener("mousemove",s),window.addEventListener("mouseup",i),document.body.style.cursor="col-resize"),()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",i),document.body.style.cursor="default"}},[W,a]);const ge=()=>{C({to:"",subject:"",body:""}),F("compose")},E=s=>{if(!r)return;const i=s==="forward"?"Fwd: ":"Re: ";C({to:s==="forward"?"":r.senderEmail,subject:r.subject.startsWith(i)?r.subject:`${i}${r.subject}`,body:`


--------------------------------
On ${r.time}, ${r.sender} wrote:
${r.body}`}),F("compose")},je=async()=>{if(!h.to||!h.subject){alert("Please fill in the recipient and subject.");return}se(!0);try{const s={sender:"Max (Me)",senderEmail:"max@nabdchain.com",recipient:h.to,avatar:"bg-blue-500",subject:h.subject,preview:h.body.substring(0,50)+"...",body:h.body,read:!0,pinned:!1,tag:"Sent",status:"todo",priority:"medium",folder:"sent"};await P.sendEmail(s),C({to:"",subject:"",body:""}),F("read"),M("sent");const i=await P.fetchEmails("sent");x(i)}catch(s){console.error("Failed to send",s),alert("Failed to send email. Please try again.")}finally{se(!1)}},ve=s=>{switch(s){case"todo":return"bg-orange-400";case"in-progress":return"bg-blue-400";case"done":return"bg-green-400";default:return"bg-gray-400"}};return e.jsxs("div",{className:`w-full h-full absolute inset-0 ${fe} ${t.text}`,children:[e.jsxs("div",{className:`absolute top-0 left-0 right-0 h-18 md:h-20 ${t.ribbon} border-b ${t.border} z-50 flex items-center px-4 md:px-6 shadow-sm`,children:[e.jsx("div",{className:"flex items-center h-full pr-2 flex-shrink-0 z-10",children:e.jsxs("button",{onClick:ge,className:"flex flex-col md:flex-row items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-5 py-2 md:py-2.5 rounded-lg shadow-lg shadow-blue-500/20 transition-all active:scale-95",children:[e.jsx(ye,{size:20,strokeWidth:2.5}),e.jsx("span",{className:`text-xs md:text-sm font-medium whitespace-nowrap ${a?"font-bold":""}`,children:a?"Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©":"New Mail"})]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center gap-1 md:gap-2 h-full overflow-x-auto no-scrollbar absolute left-0 right-0 pointer-events-none",children:e.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 md:gap-2 h-full bg-opacity-0",children:[e.jsx("div",{className:`h-8 w-px ${t.border} mx-1 flex-shrink-0`}),e.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[e.jsx(j,{icon:I,label:a?"Ø­Ø°Ù":"Delete",colors:t,iconColor:b,iconHoverColor:g,onClick:de}),e.jsx(j,{icon:T,label:a?"Ø£Ø±Ø´ÙØ©":"Archive",colors:t,iconColor:b,iconHoverColor:g,onClick:xe}),e.jsx(j,{icon:Ke,label:a?"Ø¥Ø¨Ù„Ø§Øº":"Report",colors:t,iconColor:b,iconHoverColor:g})]}),e.jsx("div",{className:`h-8 w-px ${t.border} mx-1 flex-shrink-0`}),e.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[e.jsx(j,{icon:({className:s})=>e.jsxs("div",{className:"relative",children:[e.jsx(K,{size:18,strokeWidth:1.5,className:s}),e.jsx(Te,{size:10,className:`absolute -top-0.5 -left-1 ${s}`,strokeWidth:2.5})]}),label:a?"Ø±Ø¯":"Reply",colors:t,iconColor:b,iconHoverColor:g,onClick:()=>E("reply")}),e.jsx(j,{icon:({className:s})=>e.jsxs("div",{className:"relative",children:[e.jsx(K,{size:18,strokeWidth:1.5,className:s}),e.jsx(Ne,{size:10,className:`absolute -top-0.5 -left-1 ${s}`,strokeWidth:2.5})]}),label:a?"Ø§Ù„ÙƒÙ„":"Reply All",colors:t,iconColor:b,iconHoverColor:g,onClick:()=>E("replyAll")}),e.jsx(j,{icon:({className:s})=>e.jsxs("div",{className:"relative",children:[e.jsx(K,{size:18,strokeWidth:1.5,className:s}),e.jsx(We,{size:10,className:`absolute -top-0.5 -right-1 ${s}`,strokeWidth:2.5})]}),label:a?"ØªÙˆØ¬ÙŠÙ‡":"Forward",colors:t,iconColor:b,iconHoverColor:g,onClick:()=>E("forward")})]}),e.jsx("div",{className:`h-8 w-px ${t.border} mx-1 flex-shrink-0`}),e.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0 relative",ref:q,children:[e.jsx(j,{icon:Ue,label:a?"Ù†Ù‚Ù„":"Move",colors:t,iconColor:b,iconHoverColor:g,onClick:()=>V(!H)}),e.jsx(Z,{children:H&&e.jsxs(L.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:5,scale:.95},className:`absolute top-full left-0 mt-2 w-56 rounded-xl border ${t.border} ${m?"bg-[#1a1a1a]":"bg-white"} shadow-2xl z-50 overflow-hidden`,children:[e.jsx("div",{className:`p-2 border-b ${t.border} ${m?"bg-white/5":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center gap-2 bg-transparent border border-white/10 rounded px-2 py-1",children:[e.jsx(le,{size:14,className:t.textMuted}),e.jsx("input",{type:"text",placeholder:"New Folder...",value:X,onChange:s=>te(s.target.value),onKeyDown:s=>s.key==="Enter"&&he(),className:`w-full bg-transparent border-none outline-none text-xs ${t.text}`,autoFocus:!0})]})}),e.jsx("div",{className:`px-3 py-2 text-[10px] font-bold ${t.textMuted} tracking-wider`,children:"EXISTING FOLDERS"}),e.jsxs("div",{className:"max-h-60 overflow-y-auto p-1 custom-scrollbar",children:[e.jsxs("button",{onClick:()=>R("inbox"),className:`w-full text-left px-3 py-2 text-sm rounded-lg ${t.itemHover} ${t.text} flex items-center gap-2`,children:[e.jsx(G,{size:14,className:"text-blue-500"})," Inbox"]}),e.jsxs("button",{onClick:()=>R("archive"),className:`w-full text-left px-3 py-2 text-sm rounded-lg ${t.itemHover} ${t.text} flex items-center gap-2`,children:[e.jsx(T,{size:14,className:"text-orange-500"})," Archive"]}),e.jsxs("button",{onClick:()=>R("trash"),className:`w-full text-left px-3 py-2 text-sm rounded-lg ${t.itemHover} ${t.text} flex items-center gap-2`,children:[e.jsx(I,{size:14,className:"text-red-500"})," Trash"]}),N.map(s=>e.jsxs("button",{onClick:()=>R(s),className:`w-full text-left px-3 py-2 text-sm rounded-lg ${t.itemHover} ${t.text} flex items-center gap-2 capitalize`,children:[e.jsx(T,{size:14,className:t.textMuted})," ",s]},s))]})]})}),e.jsx(j,{icon:Re,label:a?"ØªØµÙ†ÙŠÙ":"Tags",colors:t,iconColor:b,iconHoverColor:g})]}),e.jsx("div",{className:`h-8 w-px ${t.border} mx-1 flex-shrink-0`}),e.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[e.jsx(j,{icon:ie,label:r!=null&&r.read?a?"ØºÙŠØ± Ù…Ù‚Ø±ÙˆØ¡":"Unread":a?"Ù…Ù‚Ø±ÙˆØ¡":"Read",colors:t,iconColor:b,iconHoverColor:g,onClick:me}),e.jsx(j,{icon:J,label:a?"Ø£ÙˆÙ„ÙˆÙŠØ©":"Flag",colors:t,iconColor:b,iconHoverColor:g,onClick:pe}),e.jsx(j,{icon:re,label:a?"ØªØ«Ø¨ÙŠØª":"Pin",colors:t,iconColor:b,iconHoverColor:g,onClick:ue})]})]})}),e.jsxs("div",{className:"relative group w-32 md:w-48 flex-shrink ml-auto self-center z-10",children:[e.jsx(we,{className:`absolute top-1/2 -translate-y-1/2 ${t.textMuted} w-3.5 h-3.5 ${a?"right-3":"left-3"}`}),e.jsx("input",{type:"text",placeholder:a?"Ø¨Ø­Ø«...":"Search",className:`w-full ${m?"bg-black/20 focus:bg-black/40":"bg-gray-100 focus:bg-white"} border ${t.border} rounded-lg py-1.5 ${a?"pr-8 pl-2":"pl-8 pr-2"} text-xs md:text-sm ${t.text} focus:border-blue-500/50 transition-all outline-none shadow-inner`})]})]}),e.jsxs("div",{className:`w-full h-full pt-20 flex flex-row overflow-hidden ${t.bg} ${t.backdrop}`,children:[e.jsxs("div",{style:{width:Q},className:`flex-shrink-0 flex flex-col ${t.sidebar} border-${a?"l":"r"} ${t.border} relative z-20`,children:[e.jsxs("div",{className:`p-3 flex items-center justify-between border-b ${t.border}`,children:[e.jsx("span",{className:`text-xs font-bold ${t.textMuted} uppercase tracking-wider`,children:a?"Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª":"Folders"}),e.jsx("button",{onClick:()=>D(!0),className:`p-1 rounded hover:bg-white/10 ${t.textMuted} hover:${t.text} transition-colors`,title:a?"Ù…Ø¬Ù„Ø¯ Ø¬Ø¯ÙŠØ¯":"New Folder",children:e.jsx(le,{size:14})})]}),e.jsxs("div",{className:"p-2 space-y-0.5 border-b border-white/5 flex-shrink-0",children:[e.jsx(_,{active:c==="inbox",onClick:()=>M("inbox"),label:a?"Ø§Ù„ÙˆØ§Ø±Ø¯":"Inbox",icon:G,count:n.filter(s=>s.folder==="inbox"&&!s.read).length,colors:t}),e.jsx(_,{active:c==="sent",onClick:()=>M("sent"),label:a?"Ø§Ù„Ù…Ø±Ø³Ù„":"Sent",icon:Ae,colors:t}),e.jsx(_,{active:c==="drafts",onClick:()=>M("drafts"),label:a?"Ø§Ù„Ù…Ø³ÙˆØ¯Ø§Øª":"Drafts",icon:$e,colors:t}),e.jsx(_,{active:c==="trash",onClick:()=>M("trash"),label:a?"Ø§Ù„Ù…Ø­Ø°ÙˆÙØ§Øª":"Trash",icon:I,colors:t}),N.map(s=>e.jsx(_,{active:c===s,onClick:()=>M(s),label:s.charAt(0).toUpperCase()+s.slice(1),icon:T,colors:t},s))]}),e.jsx(Z,{children:ne&&e.jsx(L.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:`px-3 py-2 border-b ${t.border} bg-blue-500/5`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{autoFocus:!0,type:"text",value:U,onChange:s=>ee(s.target.value),onKeyDown:s=>s.key==="Enter"&&ae(),placeholder:"Folder Name",className:`w-full bg-transparent border-b ${t.border} text-sm focus:border-blue-500 outline-none pb-1 ${t.text}`}),e.jsx("button",{onClick:ae,className:"text-blue-500 hover:text-blue-400",children:e.jsx(_e,{size:14})}),e.jsx("button",{onClick:()=>D(!1),className:"text-red-500 hover:text-red-400",children:e.jsx(ke,{size:14})})]})})}),e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs font-bold ${t.textMuted} uppercase tracking-wider`,children:c.toUpperCase()}),e.jsx(Me,{size:12,className:t.textMuted})]}),e.jsx(Ce,{size:14,className:`cursor-pointer ${t.textMuted} hover:${t.text}`})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-2 space-y-2 pb-4",children:v.length===0?e.jsxs("div",{className:`flex flex-col items-center justify-center h-40 ${t.textMuted} text-sm`,children:[e.jsx(G,{size:24,className:"mb-2 opacity-20"}),"No items in ",c]}):v.map(s=>{const i=c==="sent"?s.recipient||"Recipient":s.sender,A=c==="sent"?a?"Ø¥Ù„Ù‰:":"To:":"";return e.jsxs("div",{onClick:()=>k(s.id),className:`relative p-3 rounded-lg cursor-pointer transition-all duration-200 border border-transparent group ${u===s.id?`${t.itemActive} shadow-sm ring-1 ring-black/5`:t.itemHover}`,children:[e.jsx("div",{className:`absolute top-3 bottom-3 w-1 rounded-full ${ve(s.status)} ${a?"right-2":"left-2"}`}),e.jsxs("div",{className:`${a?"pr-4":"pl-4"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[e.jsxs("span",{className:`text-sm font-bold ${t.text} truncate pr-2`,children:[e.jsx("span",{className:`font-normal ${t.textMuted} mr-1`,children:A}),i]}),e.jsx("span",{className:`text-[10px] ${t.textMuted} whitespace-nowrap`,children:s.time})]}),e.jsx("h3",{className:`text-xs mb-1.5 truncate ${t.text} ${s.read?"font-medium":"font-bold"}`,children:s.subject}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded border ${t.border} ${t.textMuted} bg-opacity-10`,children:s.tag}),s.priority==="high"&&e.jsx(J,{size:10,className:"text-red-500",fill:"currentColor"}),s.pinned&&e.jsx(re,{size:10,className:"text-orange-500",fill:"currentColor"}),!s.read&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})]}),e.jsxs("div",{className:`absolute bottom-2 ${a?"left-2":"right-2"} flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-${m?"black/80":"white/80"} rounded px-1 backdrop-blur-sm shadow-sm`,children:[e.jsx("button",{onClick:f=>{f.stopPropagation(),w(s.id,{priority:s.priority==="high"?"medium":"high"})},className:`p-1 ${t.textMuted} hover:text-red-500`,children:e.jsx(J,{size:12})}),e.jsx("button",{onClick:f=>{f.stopPropagation(),w(s.id,{folder:"trash"})},className:`p-1 ${t.textMuted} hover:text-red-500`,children:e.jsx(I,{size:12})}),e.jsx("button",{onClick:f=>{f.stopPropagation(),w(s.id,{read:!s.read})},className:`p-1 ${t.textMuted} hover:text-blue-500`,children:e.jsx(ie,{size:12})})]})]})]},s.id)})})]}),e.jsx("div",{onMouseDown:be,className:"w-px hover:w-1 group cursor-col-resize z-30 flex items-center justify-center -ml-[1px]",children:e.jsx("div",{className:`w-px h-full ${t.border} group-hover:bg-blue-500 transition-colors`})}),e.jsx("div",{className:"flex-1 flex flex-col relative overflow-hidden min-w-0 bg-transparent",children:e.jsx(Z,{mode:"wait",children:ce==="compose"?e.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex-1 flex flex-col max-w-5xl w-full p-6 md:p-8 overflow-y-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:`text-sm ${t.textMuted} mb-4 flex items-center gap-2`,children:[e.jsx("button",{onClick:()=>F("read"),className:"hover:underline",children:c==="sent"?"Sent":"Inbox"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Compose"})]}),e.jsx("input",{type:"text",value:h.subject,onChange:s=>C({...h,subject:s.target.value}),placeholder:a?"Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©":"Subject",className:`w-full bg-transparent text-3xl font-bold ${t.text} placeholder:${t.textMuted} border-none outline-none p-0`,autoFocus:!0})]}),e.jsxs("div",{className:`flex flex-col gap-2 mb-6 ${t.text} text-sm`,children:[e.jsxs("div",{className:"flex items-center gap-4 py-1",children:[e.jsxs("div",{className:`w-20 ${t.textMuted} flex items-center gap-2`,children:[e.jsx(Ee,{size:14})," ",a?"Ø¥Ù„Ù‰":"To"]}),e.jsx("input",{value:h.to,onChange:s=>C({...h,to:s.target.value}),className:`bg-transparent outline-none flex-1 border-b ${t.border} border-dashed focus:border-solid py-1`,placeholder:"recipient@example.com"})]}),e.jsxs("div",{className:"flex items-center gap-4 py-1",children:[e.jsxs("div",{className:`w-20 ${t.textMuted} flex items-center gap-2`,children:[e.jsx(ze,{size:14})," ",a?"Ù†Ø³Ø®Ø©":"Cc"]}),e.jsx("input",{className:`bg-transparent outline-none flex-1 border-b ${t.border} border-dashed focus:border-solid py-1`,placeholder:""})]})]}),e.jsx("div",{className:`h-px w-full ${t.border} mb-6`}),e.jsx("textarea",{value:h.body,onChange:s=>C({...h,body:s.target.value}),className:`flex-1 w-full bg-transparent resize-none outline-none ${t.text} text-lg leading-relaxed`,placeholder:a?"Ø§Ø¨Ø¯Ø£ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù‡Ù†Ø§...":"Start typing..."}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[e.jsx("button",{onClick:()=>F("read"),className:`px-4 py-2 rounded text-sm ${t.textMuted} hover:${t.text}`,children:"Discard"}),e.jsxs("button",{onClick:je,disabled:O,className:`bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded text-sm font-medium flex items-center gap-2 shadow-lg ${O?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(He,{size:14,className:a?"rotate-180":""}),O?a?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...":"Sending...":a?"Ø¥Ø±Ø³Ø§Ù„":"Send"]})]})]},"compose"):r?e.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 flex flex-col h-full",children:[e.jsxs("div",{className:`h-14 border-b ${t.border} flex items-center justify-between px-6`,children:[e.jsxs("div",{className:`flex items-center gap-2 text-sm ${t.textMuted}`,children:[e.jsx("span",{className:"hover:underline cursor-pointer",children:c==="sent"?"Sent":"Inbox"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:t.text,children:r.tag})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($,{icon:Ie,colors:t,tooltip:"Like/React"}),e.jsx($,{icon:et,colors:t,onClick:()=>E("reply"),tooltip:"Reply"}),e.jsx($,{icon:Qe,colors:t,onClick:()=>E("replyAll"),tooltip:"Reply All"}),e.jsx($,{icon:qe,colors:t,onClick:()=>E("forward"),tooltip:"Forward"}),e.jsx("div",{className:`h-4 w-px ${t.border} mx-2`}),e.jsx($,{icon:Se,colors:t,tooltip:"Translate"}),e.jsx($,{icon:Ge,colors:t,tooltip:"Print"}),e.jsx("div",{className:`h-4 w-px ${t.border} mx-2`}),e.jsx($,{icon:Fe,colors:t,tooltip:"More Actions"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:e.jsxs("div",{className:"max-w-none w-full p-4 md:p-8",children:[e.jsxs("div",{className:"group mb-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:`text-2xl md:text-3xl font-bold tracking-tight mb-2 ${t.text}`,children:r.subject}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium border ${t.border} ${t.textMuted}`,children:r.tag}),r.priority==="high"&&e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-red-500/10 text-red-500",children:"High Priority"})]})]}),e.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-pink-500 to-orange-400 shadow-lg flex items-center justify-center text-xl",children:r.avatar.includes("blue")?"ðŸ“Š":r.avatar.includes("emerald")?"ðŸŽ¨":"ðŸš€"})]}),e.jsxs("div",{className:`grid grid-cols-[60px_1fr] gap-y-2 text-sm border-l-2 ${t.border} pl-3 ml-1`,children:[e.jsx("div",{className:`${t.textMuted} flex items-center gap-2`,children:a?"Ù…Ù†":"From"}),e.jsxs("div",{className:t.text,children:[e.jsx("span",{className:"font-bold",children:r.sender}),e.jsxs("span",{className:`text-xs ${t.textMuted} ml-2`,children:["<",r.senderEmail,">"]})]}),e.jsx("div",{className:`${t.textMuted} flex items-center gap-2`,children:a?"Ø¥Ù„Ù‰":"To"}),e.jsx("div",{className:t.text,children:"Max(Me)"}),e.jsx("div",{className:`${t.textMuted} flex items-center gap-2`,children:a?"Ù†Ø³Ø®Ø©":"Cc"}),e.jsx("div",{className:t.text,children:"Team"}),e.jsx("div",{className:`${t.textMuted} flex items-center gap-2`,children:a?"ÙˆÙ‚Øª":"Time"}),e.jsx("div",{className:t.text,children:r.time})]})]}),e.jsx("div",{className:`h-px w-full ${t.border} my-8`}),e.jsx("div",{className:`prose ${m?"prose-invert":""} max-w-none`,children:e.jsx("p",{className:`${t.text} text-opacity-90 text-base md:text-lg leading-relaxed whitespace-pre-wrap font-serif`,children:r.body})})]})})]},"read"):e.jsx("div",{className:"flex-1 flex items-center justify-center text-white/20",children:e.jsx("p",{children:"Select an email to view"})})})})]})]})},j=({icon:l,label:o,colors:n,iconColor:x="text-gray-500",iconHoverColor:N="text-gray-800",onClick:p})=>e.jsxs("button",{onClick:p,className:`flex flex-col items-center justify-center gap-1.5 px-3 py-1.5 min-w-[60px] rounded-lg ${n.itemHover} group transition-all active:scale-95 self-center`,children:[e.jsx(l,{size:18,className:`${x} ${N} transition-colors`,strokeWidth:1.5}),e.jsx("span",{className:`text-[9px] font-medium ${n.textMuted} group-hover:text-opacity-80 whitespace-nowrap`,children:o})]}),_=({active:l,label:o,icon:n,count:x,onClick:N,colors:p})=>e.jsxs("div",{onClick:N,className:`flex items-center justify-between px-3 py-2 rounded-md cursor-pointer transition-colors ${l?p.itemActive:p.itemHover} group`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{size:16,className:l?"text-blue-500":p.textMuted}),e.jsx("span",{className:`text-sm font-medium ${l?p.text:p.textMuted} group-hover:${p.text}`,children:o})]}),(x>0||x!==void 0)&&e.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${l?"bg-blue-500 text-white":"bg-gray-500/20 text-gray-500"}`,children:x})]}),$=({icon:l,colors:o,onClick:n,tooltip:x})=>e.jsx("button",{onClick:n,title:x,className:`p-2 rounded ${o.itemHover} ${o.textMuted} hover:${o.text} transition-colors`,children:e.jsx(l,{size:18})});export{ct as default};
