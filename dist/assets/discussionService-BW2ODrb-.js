import{Z as o}from"./index-sqQsKImc.js";const t="http://localhost:3001",a={async getChannels(){try{const r=await fetch(`${t}/discussion_channels`);if(!r.ok)throw new Error("Failed to fetch channels");return await r.json()}catch(r){return console.error("Error fetching channels:",r),[]}},async createChannel(r){try{const e={...r,id:o()},s=await fetch(`${t}/discussion_channels`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to create channel");return await s.json()}catch(e){return console.error("Error creating channel:",e),null}},async deleteChannel(r){try{return(await fetch(`${t}/discussion_channels/${r}`,{method:"DELETE"})).ok}catch(e){return console.error("Error deleting channel:",e),!1}},async getMessages(r){try{const e=await fetch(`${t}/discussion_messages`);if(!e.ok)throw new Error("Failed to fetch messages");return await e.json()}catch(e){return console.error("Error fetching messages:",e),[]}},async sendMessage(r){try{const e={...r,id:Date.now()},s=await fetch(`${t}/discussion_messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to send message");return await s.json()}catch(e){return console.error("Error sending message:",e),null}},async getTasks(r){try{const e=r?`${t}/discussion_tasks?channelId=${r}`:`${t}/discussion_tasks`,s=await fetch(e);if(!s.ok)throw new Error("Failed to fetch tasks");return await s.json()}catch(e){return console.error("Error fetching tasks:",e),[]}},async createTask(r){try{const e={...r,id:o()},s=await fetch(`${t}/discussion_tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to create task");return await s.json()}catch(e){return console.error("Error creating task:",e),null}},async updateTask(r,e){try{const s=await fetch(`${t}/discussion_tasks/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to update task");return await s.json()}catch(s){return console.error("Error updating task:",s),null}},async deleteTask(r){try{return(await fetch(`${t}/discussion_tasks/${r}`,{method:"DELETE"})).ok}catch(e){return console.error("Error deleting task:",e),!1}},async getNotes(r){try{const e=r?`${t}/discussion_notes?channelId=${r}`:`${t}/discussion_notes`,s=await fetch(e);if(!s.ok)throw new Error("Failed to fetch notes");return await s.json()}catch(e){return console.error("Error fetching notes:",e),[]}},async createNote(r){try{const e={...r,id:o()},s=await fetch(`${t}/discussion_notes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to create note");return await s.json()}catch(e){return console.error("Error creating note:",e),null}},async deleteNote(r){try{return(await fetch(`${t}/discussion_notes/${r}`,{method:"DELETE"})).ok}catch(e){return console.error("Error deleting note:",e),!1}},async getTags(){try{const r=await fetch(`${t}/discussion_tags`);if(!r.ok)throw new Error("Failed to fetch tags");return await r.json()}catch(r){return console.error("Error fetching tags:",r),[]}}};export{a as d};
