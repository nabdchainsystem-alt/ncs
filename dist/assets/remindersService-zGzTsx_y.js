import{r as p,K as J,j as t,C as Y,w as _,g as P,N as j}from"./index-B2SFjcJL.js";const K=({date:e,onSelect:r,onClose:a,darkMode:s,className:c="",compact:g=!1})=>{const[d,x]=p.useState(new Date),[m,$]=p.useState(e?new Date(e):null),{ref:I}=J({onCancel:a,initialActive:!0});p.useEffect(()=>{if(e){const n=new Date(e);$(n),x(n)}},[e]);const T=(n,i)=>new Date(n,i+1,0).getDate(),L=(n,i)=>new Date(n,i,1).getDay(),R=()=>{const n=d.getFullYear(),i=d.getMonth(),u=T(n,i),h=L(n,i),y=[];for(let o=0;o<h;o++)y.push(t.jsx("div",{className:g?"w-7 h-7":"w-8 h-8"},`empty-${o}`));for(let o=1;o<=u;o++){const w=new Date(n,i,o),v=m&&w.toDateString()===m.toDateString(),F=new Date().toDateString()===w.toDateString();y.push(t.jsx("button",{onClick:()=>{const D=new Date(n,i,o),A=D.getTimezoneOffset(),z=new Date(D.getTime()-A*60*1e3);r(z.toISOString().split("T")[0]),a()},className:`${g?"w-7 h-7 text-[10px]":"w-8 h-8 text-xs"} rounded-full flex items-center justify-center transition-all
                        ${v?"bg-red-500 text-white font-bold shadow-md":s?"text-gray-300 hover:bg-white/10":"text-gray-700 hover:bg-gray-100"}
                        ${F&&!v?"text-red-500 font-bold":""}
                    `,children:o},o))}return y},E=()=>{x(new Date(d.getFullYear(),d.getMonth()+1,1))},k=()=>{x(new Date(d.getFullYear(),d.getMonth()-1,1))},C=n=>{const i=new Date;i.setDate(i.getDate()+n);const u=i.getTimezoneOffset(),h=new Date(i.getTime()-u*60*1e3);r(h.toISOString().split("T")[0]),a()},O=[{label:"Today",days:0,sub:"Sun"},{label:"Later",days:7,sub:"8:53 pm"},{label:"Tomorrow",days:1,sub:"Mon"},{label:"Next week",days:7,sub:"Mon"},{label:"Next weekend",days:6,sub:"Sat"},{label:"2 weeks",days:14,sub:"14 Dec"},{label:"4 weeks",days:28,sub:"28 Dec"},{label:"8 weeks",days:56,sub:"25 Jan"}];return t.jsxs("div",{ref:I,className:`rounded-xl shadow-2xl border flex overflow-hidden animate-in fade-in zoom-in-95 duration-200 ${g?"w-[260px]":"w-[500px]"} ${s?"bg-[#1a1d24] border-gray-700":"bg-white border-gray-200"} ${c}`,children:[!g&&t.jsxs("div",{className:`w-48 border-r p-2 flex flex-col gap-1 ${s?"bg-[#1a1d24] border-gray-700":"bg-gray-50/50 border-gray-100"}`,children:[t.jsxs("div",{className:`px-3 py-2 mb-2 border-b ${s?"border-gray-700":"border-gray-100"}`,children:[t.jsxs("div",{className:`flex items-center text-xs font-medium mb-1 ${s?"text-gray-500":"text-gray-400"}`,children:[t.jsx(Y,{size:12,className:"mr-2"}),t.jsx("span",{children:"Date"})]}),t.jsx("div",{className:`text-sm font-bold ${s?"text-gray-200":"text-gray-800"}`,children:m?m.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):"Set Date"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:O.map((n,i)=>t.jsxs("button",{onClick:()=>C(n.days),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors group text-left ${s?"hover:bg-white/5":"hover:bg-gray-100"}`,children:[t.jsx("span",{className:`text-sm font-medium group-hover:text-gray-900 ${s?"text-gray-300 group-hover:text-white":"text-gray-700"}`,children:n.label}),t.jsx("span",{className:`text-xs group-hover:text-gray-500 ${s?"text-gray-500 group-hover:text-gray-400":"text-gray-400"}`,children:n.sub})]},i))})]}),t.jsxs("div",{className:`flex-1 ${g?"p-2":"p-4"} ${s?"bg-[#1a1d24]":"bg-white"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-sm font-bold ${s?"text-gray-200":"text-gray-900"}`,children:d.toLocaleDateString(void 0,{month:"long",year:"numeric"})}),t.jsx("span",{className:`text-xs font-medium cursor-pointer ${s?"text-gray-500 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,children:"Today"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:k,className:`p-1 rounded-full transition-colors ${s?"hover:bg-white/10 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-400 hover:text-gray-600"}`,children:t.jsx(_,{size:16})}),t.jsx("button",{onClick:E,className:`p-1 rounded-full transition-colors ${s?"hover:bg-white/10 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-400 hover:text-gray-600"}`,children:t.jsx(P,{size:16})})]})]}),t.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(n=>t.jsx("div",{className:`text-center text-xs font-medium py-1 ${s?"text-gray-500":"text-gray-400"}`,children:n},n))}),t.jsx("div",{className:"grid grid-cols-7 gap-1",children:R()}),t.jsxs("div",{className:`mt-4 pt-4 border-t flex justify-between items-center ${s?"border-gray-700":"border-gray-100"}`,children:[t.jsx("button",{onClick:()=>{r(""),a()},className:`text-xs font-medium transition-colors ${s?"text-gray-500 hover:text-red-400":"text-gray-400 hover:text-red-500"}`,children:"Clear"}),t.jsx("button",{onClick:a,className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${s?"bg-white text-black hover:bg-gray-200":"bg-black text-white hover:bg-gray-800"}`,children:"Done"})]})]})]})},N="reminders-lists-data",S="reminders-data",b=[{id:"1",title:"Review Q3 Financials",notes:"Check the EBITDA margins specifically.",dueDate:"Today",priority:"high",listId:"inbox",tags:["finance","urgent"],completed:!1,subtasks:[{id:"s1",title:"Download report from Netsuite",completed:!0},{id:"s2",title:"Email summary to Board",completed:!1}]},{id:"2",title:"Call with potential investor",notes:"Prepare pitch deck v3.",dueDate:"Today",priority:"medium",listId:"work",tags:["fundraising"],completed:!1,subtasks:[]},{id:"3",title:"Buy anniversary gift",notes:"",dueDate:"Tomorrow",priority:"high",listId:"personal",tags:[],completed:!1,subtasks:[]},{id:"4",title:"Update team on roadmap",notes:"Focus on Q4 deliverables.",dueDate:"Next Week",priority:"medium",listId:"work",tags:["strategy"],completed:!1,subtasks:[]},{id:"5",title:"Schedule dentist appointment",notes:"",dueDate:void 0,priority:"low",listId:"inbox",tags:["health"],completed:!1,subtasks:[]}],f=[{id:"work",name:"Work Projects",type:"project",count:0,color:"text-black"},{id:"personal",name:"Personal",type:"project",count:0,color:"text-black"},{id:"shopping",name:"Shopping",type:"project",count:0,color:"text-black"}],l={getReminders:e=>{if(typeof window>"u")return b;try{const r=localStorage.getItem(S);let a=r?JSON.parse(r):b;return e&&(a=a.filter(s=>s.listId===e)),a}catch(r){return console.warn("Failed to load reminders",r),b}},saveReminders:e=>{try{localStorage.setItem(S,JSON.stringify(e)),window.dispatchEvent(new Event("reminders-updated"))}catch(r){console.warn("Failed to save reminders",r)}},addReminder:e=>{const r=l.getReminders(),a={...e,id:j()};return l.saveReminders([a,...r]),a},updateReminder:(e,r)=>{const s=l.getReminders().map(c=>c.id===e?{...c,...r}:c);l.saveReminders(s)},deleteReminder:e=>{const a=l.getReminders().filter(s=>s.id!==e);l.saveReminders(a)},getLists:()=>{if(typeof window>"u")return f;try{const e=localStorage.getItem(N);return e?JSON.parse(e):f}catch(e){return console.warn("Failed to load lists",e),f}},saveLists:e=>{try{localStorage.setItem(N,JSON.stringify(e)),window.dispatchEvent(new Event("reminders-lists-updated"))}catch(r){console.warn("Failed to save lists",r)}},addList:e=>{const r=l.getLists(),a={...e,id:j(),count:0};return l.saveLists([...r,a]),a},deleteList:e=>{const a=l.getLists().filter(s=>s.id!==e);l.saveLists(a)},subscribe:e=>{const r=()=>e();return window.addEventListener("reminders-updated",r),window.addEventListener("reminders-lists-updated",r),()=>{window.removeEventListener("reminders-updated",r),window.removeEventListener("reminders-lists-updated",r)}}};export{K as D,l as r};
